// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
(function(a,b){var k,m=function(){return"undefined"!==typeof t&&"function"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),l=function(){},g=function(a){for(var b in a)return 0;return 1},h={}.toString,e=function(a){return"[object Function]"==h.call(a)},f=function(a){return"[object String]"==h.call(a)},c=function(a){return"[object Array]"==h.call(a)},d=function(a,b){if(a)for(var c=0;c<a.length;)b(a[c++])},q=function(a,b){for(var c in b)a[c]=b[c];return a},u=function(a,
b){return q(Error(a),{src:"dojoLoader",info:b})},y=1,A=function(){return"_"+y++},r=function(a,b,c){return pa(a,b,c,0,r)},t=m,D=t.document,G=D&&D.createElement("DiV"),v=r.has=function(a){return e(w[a])?w[a]=w[a](t,D,G):w[a]},w=v.cache=b.hasCache;e(a)&&(a=a(m));v.add=function(a,b,c,d){(void 0===w[a]||d)&&(w[a]=b);return c&&v(a)};v.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);v("host-webworker")&&(q(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(a,b){try{importScripts(a),b()}catch(Da){console.info("failed to load resource ("+a+")"),console.error(Da)}}});for(var B in a.has)v.add(B,a.has[B],0,1);r.async=1;var z=v("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");r.eval=function(a,b){return z(a+"\r\n//# sourceURL\x3d"+b)};var C={},L=r.signal=function(a,b){a=C[a];d(a&&a.slice(0),function(a){a.apply(null,
c(b)?b:[b])})};B=r.on=function(a,b){var c=C[a]||(C[a]=[]);c.push(b);return{remove:function(){for(var a=0;a<c.length;a++)if(c[a]===b){c.splice(a,1);break}}}};var E=[],F={},N=[],O={},J=r.map={},R=[],I={},H="",K={},M={},m={},T=0;if(!v("foreign-loader"))var U=function(a,b){b=!1!==b;var c,d,e,f;for(c in M)d=M[c],(e=c.match(/^url\:(.+)/))?K["url:"+Ea(e[1],a)]=d:"*now"==c?f=d:"*noref"!=c&&(e=ea(c,a,!0),K[e.mid]=K["url:"+e.url]=d);f&&f(ma(a));b&&(M={})};var S=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},X=function(a,b){b.splice(0,b.length);for(var c in a)b.push([c,a[c],new RegExp("^"+S(c)+"(/|$)"),c.length]);b.sort(function(a,b){return b[3]-a[3]});return b},Y=function(a,b){d(a,function(a){b.push([f(a[0])?new RegExp("^"+S(a[0])+"$"):a[0],a[1]])})},V=function(a){var b=a.name;b||(b=a,a={name:b});a=q({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(J[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));O[b]=a},ca=[],da=function(a,b,c){for(var e in a){"waitSeconds"==
e&&(r.waitms=1E3*(a[e]||0));"cacheBust"==e&&(H=a[e]?f(a[e])?a[e]:(new Date).getTime()+"":"");if("baseUrl"==e||"combo"==e)r[e]=a[e];a[e]!==w&&(r.rawConfig[e]=a[e],"has"!=e&&v.add("config-"+e,a[e],0,b))}r.baseUrl||(r.baseUrl="./");/\/$/.test(r.baseUrl)||(r.baseUrl+="/");for(e in a.has)v.add(e,a.has[e],0,b);d(a.packages,V);for(var h in a.packagePaths)d(a.packagePaths[h],function(a){var b=h+"/"+a;f(a)&&(a={name:a});a.location=b;V(a)});X(q(J,a.map),R);d(R,function(a){a[1]=X(a[1],[]);"*"==a[0]&&(R.star=
a)});X(q(F,a.paths),N);Y(a.aliases,E);if(!v("foreign-loader")){if(b)ca.push({config:a.config});else for(e in a.config)b=na(e,c),b.config=q(b.config||{},a.config[e]);a.cache&&(U(),M=a.cache,U(0,!!a.cache["*noref"]))}L("config",[a,r.rawConfig])};if(v("dojo-cdn")){var ga=D.getElementsByTagName("script");k=0;for(var W,fa,Z,ba;k<ga.length;)if(W=ga[k++],(Z=W.getAttribute("src"))&&(ba=Z.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(fa=ba[3]||"",b.baseUrl=b.baseUrl||fa,T=W),Z=W.getAttribute("data-dojo-config")||
W.getAttribute("djConfig"))m=r.eval("({ "+Z+" })","data-dojo-config"),T=W}r.rawConfig={};da(b,1);v("dojo-cdn")&&((O.dojo.location=fa)&&(fa+="/"),O.dijit.location=fa+"../dijit/",O.dojox.location=fa+"../dojox/");da(a,1);da(m,1);if(!v("foreign-loader"))var oa=function(a){va(function(){d(a.deps,Fa)})},pa=function(a,b,d,e,h){var g;if(f(a)){if((g=na(a,e,!0))&&g.executed)return g.result;throw u("undefinedModule",a);}c(a)||(da(a,0,e),a=b,b=d);if(c(a))if(a.length){d="require*"+A();for(var v,m=[],k=0;k<a.length;)v=
a[k++],m.push(na(v,e));g=q(qa("",d,0,""),{injected:2,deps:m,def:b||l,require:e?e.require:r,gc:1});I[g.mid]=g;oa(g);var t=ra&&!0;va(function(){wa(g,t)});g.executed||ja.push(g);xa()}else b&&b();return h},ma=function(a){if(!a)return r;var b=a.require;b||(b=function(c,d,e){return pa(c,d,e,a,b)},a.require=q(b,r),b.module=a,b.toUrl=function(b){return Ea(b,a)},b.toAbsMid=function(b){return sa(b,a)});return b},ja=[],ka=[],ia={},ha=function(a){a.injected=1;ia[a.mid]=1;a.url&&(ia[a.url]=a.pack||1);Ka()},P=
function(a){a.injected=2;delete ia[a.mid];a.url&&delete ia[a.url];g(ia)&&La()},aa=r.idle=function(){return!ka.length&&g(ia)&&!ja.length&&!ra};var n=function(a,b){if(b)for(var c=0;c<b.length;c++)if(b[c][2].test(a))return b[c];return 0},la=function(a){var b=[],c,d;for(a=a.replace(/\\/g,"/").split("/");a.length;)c=a.shift(),".."==c&&b.length&&".."!=d?(b.pop(),d=b[b.length-1]):"."!=c&&b.push(d=c);return b.join("/")},qa=function(a,b,c,d){return{pid:a,mid:b,pack:c,url:d,executed:0,def:0}},p=function(a,
b,c,f,h,q,g,r,v,l){var A,m,k,t;t=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||t&&!b)return qa(0,a,0,a);a=la(t?b.mid+"/../"+a:a);if(/^\./.test(a))throw u("irrationalPath",a);l||t||!q.star||(k=n(a,q.star[1]));!k&&b&&(k=(k=n(b.mid,q))&&n(a,k[1]));k&&(a=k[1]+a.substring(k[3]));b=(ba=a.match(/^([^\/]+)(\/(.+))?$/))?ba[1]:"";(A=c[b])?a=b+"/"+(m=ba[3]||A.main):b="";var y=0;d(r,function(b){var c=a.match(b[0]);c&&0<c.length&&(y=e(b[1])?a.replace(b[0],b[1]):b[1])});if(y)return p(y,0,c,f,h,q,g,r,v);if(c=f[a])return v?
qa(c.pid,c.mid,c.pack,c.url):f[a];f=(k=n(a,g))?k[1]+a.substring(k[3]):b?("/"===A.location.slice(-1)?A.location.slice(0,-1):A.location)+"/"+m:a;/(^\/)|(\:)/.test(f)||(f=h+f);return qa(b,a,A,la(f+".js"))},ea=function(a,b,c){return p(a,b,O,I,r.baseUrl,R,N,E,void 0,c)};if(!v("foreign-loader"))var Q=function(a,b,c){return a.normalize?a.normalize(b,function(a){return sa(a,c)}):sa(b,c)},x=0,na=function(a,b,c){var d,e;(d=a.match(/^(.+?)\!(.*)$/))?(e=na(d[1],b,c),5!==e.executed||e.load||ya(e),e.load?(d=Q(e,
d[2],b),a=e.mid+"!"+(e.dynamic?++x+"!":"")+d):(d=d[2],a=e.mid+"!"+ ++x+"!waitingForPlugin"),a={plugin:e,mid:a,req:ma(b),prid:d}):a=ea(a,b);return I[a.mid]||!c&&(I[a.mid]=a)};var sa=r.toAbsMid=function(a,b){return ea(a,b).mid},Ea=r.toUrl=function(a,b){b=ea(a+"/x",b);var c=b.url;return Ga(0===b.pid?a:c.substring(0,c.length-5))};if(!v("foreign-loader")){var za={injected:2,executed:5,def:3,result:3};fa=function(a){return I[a]=q({mid:a},za)};var Ma=fa("require"),Na=fa("exports"),Oa=fa("module"),ta={},
Aa=0,ya=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Pa=function(a){var b={};d(a.loadQ,function(c){var d=Q(a,c.prid,c.req.module),e=a.dynamic?c.mid.replace(/waitingForPlugin$/,d):a.mid+"!"+d,d=q(q({},c),{mid:e,prid:d,injected:0});I[e]&&I[e].injected||Ha(I[e]=d);b[c.mid]=I[e];P(c);delete I[c.mid]});a.loadQ=0;var c=function(a){for(var c=a.deps||[],d=0;d<c.length;d++)(a=b[c[d].mid])&&(c[d]=a)},e;for(e in I)c(I[e]);d(ja,c)},Ba=function(a){r.trace("loader-finish-exec",
[a.mid]);a.executed=5;a.defOrder=Aa++;a.loadQ&&(ya(a),Pa(a));for(k=0;k<ja.length;)ja[k]===a?ja.splice(k,1):k++;/^require\*/.test(a.mid)&&delete I[a.mid]},Qa=[],wa=function(a,b){if(4===a.executed)return r.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||b?ta:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ta;var c=a.mid,d=a.deps||[],f,h=[],q=0;for(a.executed=4;f=d[q++];){f=f===Ma?ma(a):f===Na?a.cjs.exports:f===Oa?a.cjs:wa(f,b);if(f===ta)return a.executed=0,r.trace("loader-exec-module",
["abort",c]),ta;h.push(f)}r.trace("loader-run-factory",[a.mid]);b=a.def;h=e(b)?b.apply(null,h):b;a.result=void 0===h&&a.cjs?a.cjs.exports:h;Ba(a)}return a.result},ra=0,va=function(a){try{ra++,a()}catch(Ja){throw Ja;}finally{ra--}aa()&&L("idle",[])},xa=function(){ra||va(function(){for(var a,b,c=0;c<ja.length;)a=Aa,b=ja[c],wa(b),a!=Aa?c=0:c++})}}var Ga="function"==typeof a.fixupUrl?a.fixupUrl:function(a){a+="";return a+(H?(/\?/.test(a)?"\x26":"?")+H:"")};void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",
1);var Ha=function(a){var b=a.plugin;5!==b.executed||b.load||ya(b);var c=function(b){a.result=b;P(a);Ba(a);xa()};b.load?b.load(a.prid,a.req,c):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],ja.unshift(b),Fa(b))},ua=0,Ra=function(a,b){v("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===ua?ua.call(null):r.eval(a,v("dojo-loader-eval-hint-url")?b.url:b.mid)},Fa=function(a){var b=a.mid,c=a.url;if(!(a.executed||a.injected||ia[b]||a.url&&(a.pack&&ia[a.url]===a.pack||1==ia[a.url])))if(ha(a),a.plugin)Ha(a);
else{var d=function(){Sa(a);if(2!==a.injected){if(v("dojo-enforceDefine")){L("error",u("noDefine",a));return}P(a);q(a,za);r.trace("loader-define-nonmodule",[a.url])}xa()};(ua=K[b]||K["url:"+a.url])?(r.trace("loader-inject",["cache",a.mid,c]),Ra(ua,a),d()):(r.trace("loader-inject",["script",a.mid,c]),r.injectUrl(Ga(c),d,a))}},Ia=function(a,b,c){r.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return L("error",u("multipleDefine",a)),a;q(a,{deps:b,def:c,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var d=0;b[d];d++)b[d]=na(b[d],a);P(a);e(c)||b.length||(a.result=c,Ba(a));return a},Sa=function(a,b){for(var c=[],e,f;ka.length;)f=ka.shift(),b&&(f[0]=b.shift()),e=f[0]&&na(f[0])||a,c.push([e,f[1],f[2]]);U(a);d(c,function(a){oa(Ia.apply(null,a))})},La=l,Ka=l;v("dom");if(v("dom")){var Ca=function(a,b,c,d){a.addEventListener(b,d,!1);return function(){a.removeEventListener(b,d,!1)}},Ta=Ca(window,"load","onload",function(){r.pageLoaded=
1;try{"complete"!=D.readyState&&(D.readyState="complete")}catch(Ua){}Ta()}),ga=D.getElementsByTagName("script");for(k=0;!T;)/^dojo/.test((W=ga[k++])&&W.type)||(T=W);r.injectUrl=function(a,b,c){c=c.node=D.createElement("script");var d=Ca(c,"load","onreadystatechange",function(a){a=a||window.event;var c=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(c.readyState))d(),e(),b&&b()}),e=Ca(c,"error","onerror",function(b){d();e();L("error",u("scriptError: "+a,[a,b]))});c.type="text/javascript";
c.charset="utf-8";c.src=a;T.parentNode.insertBefore(c,T);return c}}r.log=l;r.trace=l;v("foreign-loader")?W=l:(W=function(a,b,c){var d=arguments.length,h=["require","exports","module"],q=[0,a,b];1==d?q=[0,e(a)?h:[],a]:2==d&&f(a)?q=[a,e(b)?h:[],b]:3==d&&(q=[a,b,c]);r.trace("loader-define",q.slice(0,2));(d=q[0]&&na(q[0]))&&!ia[d.mid]?oa(Ia(d,q[1],q[2])):ka.push(q)},W.amd={vendor:"dojotoolkit.org"});q(q(r,b.loaderPatch),a.loaderPatch);B("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+
":",a[b]);console.log(".")}}catch(Da){}});q(r,{uid:A,cache:K,packs:O});t.define||(t.define=W,t.require=r,v("foreign-loader")||(d(ca,function(a){da(a)}),W=m.deps||a.deps||b.deps,a=m.callback||a.callback||b.callback,r.boot=W||a?[W||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"https://[HOSTNAME_AND_PATH_TO_JSAPI]dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",
main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette",main:"dist/maquette.umd",name:"maquette"},{location:"../maquette-css-transitions",
main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(a){return a})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(a,b,k,m,l){var g=0,h=[],e=0;b=function(){g=1;a._postLoad=a.config.afterOnLoad=!0;f()};var f=function(){if(!e){for(e=1;g&&(!m||0==m._Q.length)&&
(k.idle?k.idle():1)&&h.length;){var a=h.shift();try{a()}catch(u){if(u.info=u.message,k.signal)k.signal("error",u);else throw u;}}e=0}};k.on&&k.on("idle",f);m&&(m._onQEmpty=f);var c=a.ready=a.addOnLoad=function(b,c,d){var e=l._toArray(arguments);"number"!=typeof b?(d=c,c=b,b=1E3):e.shift();d=d?l.hitch.apply(a,e):function(){c()};d.priority=b;for(e=0;e<h.length&&b>=h[e].priority;e++);h.splice(e,0,d);f()},d=a.config.addOnLoad;if(d)c[l.isArray(d)?"apply":"call"](a,d);m?m(b):b();return c})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(a,b,k,m,l){var g,h={},e={},f={config:k,global:a,dijit:h,dojox:e},h={dojo:["dojo",f],dijit:["dijit",h],dojox:["dojox",e]};l=m.map&&m.map[l.id.match(/[^\/]+/)[0]];for(g in l)h[g]?h[g][0]=l[g]:h[g]=[l[g],{}];for(g in h)l=h[g],l[1]._scopeName=l[0],k.noGlobals||(a[l[0]]=l[1]);f.scopeMap=h;f.baseUrl=f.config.baseUrl=m.baseUrl;f.isAsync=m.async;f.locale=k.locale;a="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);f.version={major:1,minor:14,patch:2,flag:"",revision:a?
a[0]:NaN,toString:function(){var a=f.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};b("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};b("host-webworker");"undefined"!=typeof console||(console={});a="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var c;for(b=0;c=a[b++];)console[c]?console[c]=Function.prototype.bind.call(console[c],
console):function(){var a=c+"";console[a]="log"in console?function(){var b=Array.prototype.slice.call(arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();f.deprecated=f.experimental=function(){};f._hasResource={};return f})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
function(a,b,k){var m=b.has||function(){};if(!m("dojo-has-api")){var l=(b="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,g=l&&l.createElement("DiV"),h=k.config&&k.config()||{},m=function(b){return"function"==typeof h[b]?h[b]=h[b](a,l,g):h[b]};m.cache=h;m.add=function(a,b,c,d){("undefined"==typeof h[a]||d)&&(h[a]=b);return c&&m(a)};m.add("host-browser",b);m.add("dom",b)}m("host-browser")&&(m.add("touch",
"ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),m.add("touch-events","ontouchstart"in document),m.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),m.add("device-width",screen.availWidth||innerWidth),k=document.createElement("form"),m.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length));m.clearElement=function(a){a.innerHTML="";return a};
m.normalize=function(a,b){var c=a.match(/[\?:]|[^:\?]*/g),d=0,e=function(a){var b=c[d++];if(":"==b)return 0;if("?"==c[d++]){if(!a&&m(b))return e();e(!0);return e(a)}return b||0};return(a=e())&&b(a)};m.load=function(a,b,c){a?b([a],c):c()};return m})},"dojo/_base/config":function(){define(["../global","../has","require"],function(a,b,k){a={};k=k.rawConfig;for(var m in k)a[m]=k[m];!a.locale&&"undefined"!=typeof navigator&&(m=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
navigator.userLanguage)&&(a.locale=m.toLowerCase());return a})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(a,b){var k=function(b,f,c){c||(c=b[0]&&a.scopeMap[b[0]]?a.scopeMap[b.shift()][1]:a.global);try{for(var d=0;d<b.length;d++){var e=b[d];if(!(e in c))if(f)c[e]={};else return;c=c[e]}return c}catch(u){}},m=Object.prototype.toString,l=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},g=/\{([^\}]+)\}/g,h={_extraNames:[],_mixin:function(a,b,
c){var d,e,f={};for(d in b)e=b[d],d in a&&(a[d]===e||d in f&&f[d]===e)||(a[d]=c?c(e):e);return a},mixin:function(a,b){a||(a={});for(var c=1,d=arguments.length;c<d;c++)h._mixin(a,arguments[c]);return a},setObject:function(a,b,c){var d=a.split(".");a=d.pop();return(c=k(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return a?k(a.split("."),b,c):c},exists:function(a,b){return void 0!==h.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||
function(a){return"[object Array]"==m.call(a)},isFunction:function(a){return"[object Function]"===m.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||h.isArray(a)||h.isFunction(a))},isArrayLike:function(a){return!!a&&!h.isString(a)&&!h.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(h.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!h.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var c=1,d=arguments.length;c<
d;c++)h._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(b,f){var c=h._toArray(arguments,2),d=h.isString(f);return function(){var e=h._toArray(arguments),g=d?(b||a.global)[f]:f;return g&&g.apply(b||this,c.concat(e))}},hitch:function(b,f){if(2<arguments.length)return h._hitchArgs.apply(a,arguments);f||(f=b,b=null);if(h.isString(f)){b=b||a.global;if(!b[f])throw['lang.hitch: scope["',f,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[f].apply(b,arguments||[])}}return b?
function(){return f.apply(b,arguments||[])}:f},delegate:function(){function a(){}return function(b,c){a.prototype=b;b=new a;a.prototype=null;c&&h._mixin(b,c);return b}}(),_toArray:b("ie")?function(){function a(a,b,d){d=d||[];for(b=b||0;b<a.length;b++)d.push(a[b]);return d}return function(b){return(b.item?a:l).apply(this,arguments)}}():l,partial:function(b){return h.hitch.apply(a,[null].concat(h._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||h.isFunction(a))return a;if(a.nodeType&&
"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var b,c,d;if(h.isArray(a))for(b=[],c=0,d=a.length;c<d;++c)c in a&&(b[c]=h.clone(a[c]));else b=a.constructor?new a.constructor:{};return h._mixin(b,a,h.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||g,h.isFunction(b)?b:function(a,c){return h.getObject(c,
!1,b)})}};h.mixin(a,h);return h})},"dojo/sniff":function(){define(["./has"],function(a){if(a("host-browser")){var b=navigator,k=b.userAgent,b=b.appVersion,m=parseFloat(b);a.add("edge",parseFloat(k.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&!0&&parseFloat(k.split("Chrome/")[1])||void 0);a.add("safari",0<=b.indexOf("Safari")&&!a("chrome")&&!a("edge")?parseFloat(b.split("Version/")[1]):void 0);a.add("mac",0<=b.indexOf("Macintosh"));
if(k.match(/(iPhone|iPod|iPad)/)){var l=RegExp.$1.replace(/P/,"p"),g=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));a.add(l,g);a.add("ios",g)}a.add("trident",parseFloat(b.split("Trident/")[1])||void 0);a("webkit")||(0<=k.indexOf("Opera")&&a.add("opera",9.8<=m?parseFloat(k.split("Version/")[1])||m:m),0<=k.indexOf("Gecko")&&!a("trident")&&!a("edge")&&a.add("mozilla",m),a("mozilla")&&a.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),
document.all&&!a("opera")&&(k=parseFloat(b.split("MSIE ")[1])||void 0,(b=document.documentMode)&&5!=b&&Math.floor(k)!=b&&(k=b),a.add("ie",k)))}return a})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(a,b,k,m,l,g,h,e){function f(c,d,f,h,q){h=e.hitch(f,h);if(!c||!c.addEventListener&&!c.attachEvent)return m.after(c||a.global,d,h,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));c||(c=a.global);
if(!q)switch(d){case "keypress":d=y;break;case "mouseenter":d=g.enter;break;case "mouseleave":d=g.leave}return b(c,d,h,q)}function c(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(t){}return 0==a.charCode&&!h("opera")});var d={106:42,111:47,186:59,187:43,188:44,
189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},q=h("mac")?"metaKey":"ctrlKey",u=function(a,b){b=e.mixin({},a,b);c(b);b.preventDefault=function(){a.preventDefault()};b.stopPropagation=function(){a.stopPropagation()};return b},y;y=h("events-keypress-typed")?function(a,c){var e=b(a,"keydown",function(a){var b=a.keyCode,e=13!=b&&32!=b&&(27!=b||!h("ie"))&&(48>b||90<b)&&(96>b||111<b)&&(186>b||192<b)&&(219>b||222<b)&&229!=b;if(e||a.ctrlKey){e=e?0:b;if(a.ctrlKey){if(3==b||13==b)return c.call(a.currentTarget,
a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:d[e]||e}b=u(a,{type:"keypress",faux:!0,charCode:e});c.call(a.currentTarget,b);if(h("ie"))try{a.keyCode=b.keyCode}catch(z){}}}),f=b(a,"keypress",function(a){var b=a.charCode;a=u(a,{charCode:32<=b?b:0,faux:!0});return c.call(this,a)});return{remove:function(){e.remove();f.remove()}}}:h("opera")?function(a,c){return b(a,"keypress",function(a){var b=a.which;3==b&&(b=99);b=32>b&&!a.shiftKey?0:b;a.ctrlKey&&!a.shiftKey&&65<=b&&90>=b&&(b+=32);return c.call(this,
u(a,{charCode:b}))})}:function(a,d){return b(a,"keypress",function(a){c(a);return d.call(this,a)})};var A={_keypress:y,connect:function(a,b,c,d,e){var h=arguments,q=[],g=0;q.push("string"==typeof h[0]?null:h[g++],h[g++]);var r=h[g+1];q.push("string"==typeof r||"function"==typeof r?h[g++]:null,h[g++]);for(r=h.length;g<r;g++)q.push(h[g]);return f.apply(this,q)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,c){return k.subscribe(a,e.hitch(b,c))},publish:function(a,b){return k.publish.apply(k,
[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){A.publish(a,arguments)};return c?A.connect(b,c,d):A.connect(b,d)},isCopyKey:function(a){return a[q]}};A.unsubscribe=A.disconnect;e.mixin(a,A);return A})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(a,b,k){function m(a,b,c,f,q){if(f=b.match(/(.*):(.*)/))return b=f[2],f=f[1],h.selector(f,b).call(q,a,c);k("touch")&&e.test(b)&&(c=u(c));if(a.addEventListener){var g=b in d,r=g?d[b]:b;a.addEventListener(r,c,
g);return{remove:function(){a.removeEventListener(r,c,g)}}}throw Error("Target must be an event emitter");}function l(){this.cancelable=!1;this.defaultPrevented=!0}function g(){this.bubbles=!1}k("dom")&&k("touch");var h=function(a,b,c,d){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?h.parse(a,b,c,m,d,this):a.on(b,c)};h.pausable=function(a,b,c,d){var e;a=h(a,b,function(){if(!e)return c.apply(this,arguments)},d);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};h.once=function(a,
b,c,d){var e=h(a,b,function(){e.remove();return c.apply(this,arguments)});return e};h.parse=function(a,b,c,d,e,f){var q;if(b.call)return b.call(f,a,c);b instanceof Array?q=b:-1<b.indexOf(",")&&(q=b.split(/\s*,\s*/));if(q){var g=[];b=0;for(var r;r=q[b++];)g.push(h.parse(a,r,c,d,e,f));g.remove=function(){for(var a=0;a<g.length;a++)g[a].remove()};return g}return d(a,b,c,e,f)};var e=/^touch/;h.matches=function(a,c,d,e,f){f=f&&"function"==typeof f.matches?f:b.query;e=!1!==e;1!=a.nodeType&&(a=a.parentNode);
for(;!f.matches(a,c,d);)if(a==d||!1===e||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};h.selector=function(a,b,c){return function(d,e){function f(b){return h.matches(b,a,d,c,q)}var q="function"==typeof a?{matches:a}:this,g=b.bubble;return g?h(d,g(f),e):h(d,b,function(a){var b=f(a.target);if(b)return a.selectorTarget=b,e.call(b,a)})}};var f=[].slice,c=h.emit=function(a,b,c){var d=f.call(arguments,2),e="on"+b;if("parentNode"in a){var h=d[0]={},q;for(q in c)h[q]=c[q];h.preventDefault=l;h.stopPropagation=
g;h.target=a;h.type=b;c=h}do a[e]&&a[e].apply(a,d);while(c&&c.bubbles&&(a=a.parentNode));return c&&c.cancelable&&c},d={};h.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var e=(a.ownerDocument||document).createEvent("HTMLEvents");e.initEvent(b,!!d.bubbles,!!d.cancelable);for(var f in d)f in e||(e[f]=d[f]);return a.dispatchEvent(e)&&e}return c.apply(h,arguments)};if(k("touch"))var q=window.orientation,u=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;try{delete b.type}catch(v){}if(b.type){var c=
{},e;for(e in b)c[e]=b[e];c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(q==window.orientation)return null;q=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);if(window.TouchEvent&&b instanceof TouchEvent){var d=c.changedTouches[0],f;for(f in d)delete c[f],c[f]=d[f]}}return a.call(this,c)}};return h})},"dojo/topic":function(){define(["./Evented"],
function(a){var b=new a;return{publish:function(a,m){return b.emit.apply(b,arguments)},subscribe:function(a,m){return b.on.apply(b,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(a,b){function k(){}var m=a.after;k.prototype={on:function(a,g){return b.parse(this,a,g,function(a,b){return m(a,"on"+b,g,!0)})},emit:function(a,g){var h=[this];h.push.apply(h,arguments);return b.emit.apply(b,h)}};return k})},"dojo/aspect":function(){define([],function(){function a(a,b,f,c){var d=
a[b],e="around"==b,h;if(e){var g=f(function(){return d.advice(this,arguments)});h={remove:function(){g&&(g=a=f=null)},advice:function(a,b){return g?g.apply(a,b):d.advice(a,b)}}}else h={remove:function(){if(h.advice){var c=h.previous,d=h.next;d||c?(c?c.next=d:a[b]=d,d&&(d.previous=c)):delete a[b];a=f=h.advice=null}},id:a.nextId++,advice:f,receiveArguments:c};if(d&&!e)if("after"==b){for(;d.next&&(d=d.next););d.next=h;h.previous=d}else"before"==b&&(a[b]=h,h.next=d,d.previous=h);else a[b]=h;return h}
function b(b){return function(e,f,c,d){var h=e[f],g;h&&h.target==e||(e[f]=g=function(){for(var a=g.nextId,b=arguments,c=g.before;c;)c.advice&&(b=c.advice.apply(this,b)||b),c=c.next;if(g.around)var d=g.around.advice(this,b);for(c=g.after;c&&c.id<a;){if(c.advice)if(c.receiveArguments)var e=c.advice.apply(this,b),d=e===k?d:e;else d=c.advice.call(this,d,b);c=c.next}return d},h&&(g.around={advice:function(a,b){return h.apply(a,b)}}),g.target=e,g.nextId=g.nextId||0);e=a(g||h,b,c,d);c=null;return e}}var k,
m=b("after"),l=b("before"),g=b("around");return{before:l,around:g,after:m}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(a,b,k,m){if(b._fixEvent){var l=b._fixEvent;b._fixEvent=function(a,b){(a=l(a,b))&&m.normalizeEvent(a);return a}}k={fix:function(a,h){return b._fixEvent?b._fixEvent(a,h):a},stop:function(a){a.preventDefault();a.stopPropagation()}};a.fixEvent=k.fix;a.stopEvent=k.stop;return k})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(a,b,k,m){function l(a,b,e,f,h,g){g=g||"px";a=a.style;isNaN(b)||(a.left=b+g);isNaN(e)||(a.top=e+g);0<=f&&(a.width=f+g);0<=h&&(a.height=h+g)}function g(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==e.boxModel||"table"==a.tagName.toLowerCase()||g(a)}var e={boxModel:"content-box"};a("ie")&&(e.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
e.getPadExtents=function(a,b){a=k.byId(a);var c=b||m.getComputedStyle(a),d=m.toPixelValue;b=d(a,c.paddingLeft);var e=d(a,c.paddingTop),f=d(a,c.paddingRight);a=d(a,c.paddingBottom);return{l:b,t:e,r:f,b:a,w:b+f,h:e+a}};e.getBorderExtents=function(a,b){a=k.byId(a);var c=m.toPixelValue,d=b||m.getComputedStyle(a);b="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0;var e="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,f="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0;a="none"!=d.borderBottomStyle?
c(a,d.borderBottomWidth):0;return{l:b,t:e,r:f,b:a,w:b+f,h:e+a}};e.getPadBorderExtents=function(a,b){a=k.byId(a);var c=b||m.getComputedStyle(a);b=e.getPadExtents(a,c);a=e.getBorderExtents(a,c);return{l:b.l+a.l,t:b.t+a.t,r:b.r+a.r,b:b.b+a.b,w:b.w+a.w,h:b.h+a.h}};e.getMarginExtents=function(a,b){a=k.byId(a);var c=b||m.getComputedStyle(a),d=m.toPixelValue;b=d(a,c.marginLeft);var e=d(a,c.marginTop),f=d(a,c.marginRight);a=d(a,c.marginBottom);return{l:b,t:e,r:f,b:a,w:b+f,h:e+a}};e.getMarginBox=function(b,
d){b=k.byId(b);d=d||m.getComputedStyle(b);d=e.getMarginExtents(b,d);var c=b.offsetLeft-d.l,f=b.offsetTop-d.t,h=b.parentNode,g=m.toPixelValue;8==a("ie")&&h&&(h=m.getComputedStyle(h),c-="none"!=h.borderLeftStyle?g(b,h.borderLeftWidth):0,f-="none"!=h.borderTopStyle?g(b,h.borderTopWidth):0);return{l:c,t:f,w:b.offsetWidth+d.w,h:b.offsetHeight+d.h}};e.getContentBox=function(b,d){b=k.byId(b);var c=d||m.getComputedStyle(b);d=b.clientWidth;var f,h=e.getPadExtents(b,c);f=e.getBorderExtents(b,c);var c=b.offsetLeft+
h.l+f.l,g=b.offsetTop+h.t+f.t;d?f=b.clientHeight:(d=b.offsetWidth-f.w,f=b.offsetHeight-f.h);if(8==a("ie")){var l=b.parentNode,t=m.toPixelValue;l&&(l=m.getComputedStyle(l),c-="none"!=l.borderLeftStyle?t(b,l.borderLeftWidth):0,g-="none"!=l.borderTopStyle?t(b,l.borderTopWidth):0)}return{l:c,t:g,w:d-h.w,h:f-h.h}};e.setContentSize=function(a,b,f){a=k.byId(a);var c=b.w;b=b.h;h(a)&&(f=e.getPadBorderExtents(a,f),0<=c&&(c+=f.w),0<=b&&(b+=f.h));l(a,NaN,NaN,c,b)};var f={l:0,t:0,w:0,h:0};e.setMarginBox=function(b,
d,q){b=k.byId(b);var c=q||m.getComputedStyle(b);q=d.w;var y=d.h,A=h(b)?f:e.getPadBorderExtents(b,c),c=e.getMarginExtents(b,c);if(a("webkit")&&g(b)){var r=b.style;0<=q&&!r.width&&(r.width="4px");0<=y&&!r.height&&(r.height="4px")}0<=q&&(q=Math.max(q-A.w-c.w,0));0<=y&&(y=Math.max(y-A.h-c.h,0));l(b,d.l,d.t,q,y)};e.isBodyLtr=function(a){a=a||b.doc;return"ltr"==(b.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};e.docScroll=function(a){a=a||b.doc;var c=b.doc.parentWindow||b.doc.defaultView;return"pageXOffset"in
c?{x:c.pageXOffset,y:c.pageYOffset}:(c=a.documentElement)&&{x:e.fixIeBiDiScrollLeft(c.scrollLeft||0,a),y:c.scrollTop||0}};e.getIeDocumentElementOffset=function(a){return{x:0,y:0}};e.fixIeBiDiScrollLeft=function(c,d){d=d||b.doc;var f=a("ie");if(f&&!e.isBodyLtr(d)){d=d.documentElement;var h=b.global;6==f&&h.frameElement&&d.scrollHeight>d.clientHeight&&(c+=d.clientLeft);return 8>f?c+d.clientWidth-d.scrollWidth:-c}return c};e.position=function(c,d){c=k.byId(c);b.body(c.ownerDocument);var f=c.getBoundingClientRect(),
f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top};9>a("ie")&&(f.x-=0,f.y-=0);d&&(c=e.docScroll(c.ownerDocument),f.x+=c.x,f.y+=c.y);return f};e.getMarginSize=function(a,b){a=k.byId(a);b=e.getMarginExtents(a,b||m.getComputedStyle(a));a=a.getBoundingClientRect();return{w:a.right-a.left+b.w,h:a.bottom-a.top+b.h}};e.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var b=a.target,b=b&&b.ownerDocument||document,c=b.documentElement;a.pageX=a.clientX+
e.fixIeBiDiScrollLeft(c.scrollLeft||0,b);a.pageY=a.clientY+(c.scrollTop||0)}};return e})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(a,b,k){var m={global:a.global,doc:a.global.document||null,body:function(b){b=b||a.doc;return b.body||b.getElementsByTagName("body")[0]},setContext:function(b,g){a.global=m.global=b;a.doc=m.doc=g},withGlobal:function(b,g,h,e){var f=a.global;try{return a.global=m.global=b,m.withDoc.call(null,b.document,g,h,e)}finally{a.global=m.global=
f}},withDoc:function(b,g,h,e){var f=m.doc,c=k("ie"),d,q,l;try{return a.doc=m.doc=b,a.isQuirks=0,k("ie")&&(l=b.parentWindow)&&l.navigator&&(d=parseFloat(l.navigator.appVersion.split("MSIE ")[1])||void 0,(q=b.documentMode)&&5!=q&&Math.floor(d)!=q&&(d=q),a.isIE=k.add("ie",d,!0,!0)),h&&"string"==typeof g&&(g=h[g]),g.apply(h,e||[])}finally{a.doc=m.doc=f,a.isQuirks=0,a.isIE=k.add("ie",c,!0,!0)}}};b.mixin(a,m);return m})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(a,
b,k){if(7>=a("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(g){}var m={};a("ie")?m.byId=function(a,h){if("string"!=typeof a)return a;var e=h||b.doc;h=a&&e.getElementById(a);if(!h||h.attributes.id.value!=a&&h.id!=a){e=e.all[a];if(!e||e.nodeName)e=[e];for(var f=0;h=e[f++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==a||h.id==a)return h}else return h}:m.byId=function(a,h){return("string"==typeof a?(h||b.doc).getElementById(a):a)||null};k=k.global.document||null;a.add("dom-contains",
!(!k||!k.contains));m.isDescendant=a("dom-contains")?function(a,b){return!(!(b=m.byId(b))||!b.contains(m.byId(a)))}:function(a,b){try{for(a=m.byId(a),b=m.byId(b);a;){if(a==b)return!0;a=a.parentNode}}catch(e){}return!1};a.add("css-user-select",function(a,b,e){if(!e)return!1;a=e.style;b=["Khtml","O","Moz","Webkit"];e=b.length;var f="userSelect";do if("undefined"!==typeof a[f])return f;while(e--&&(f=b[e]+"UserSelect"));return!1});var l=a("css-user-select");m.setSelectable=l?function(a,b){m.byId(a).style[l]=
b?"":"none"}:function(a,b){a=m.byId(a);var e=a.getElementsByTagName("*"),f=e.length;if(b)for(a.removeAttribute("unselectable");f--;)e[f].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");f--;)e[f].setAttribute("unselectable","on")};return m})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(a,b,k){function m(a,b,c){b=b.toLowerCase();if("auto"==c){if("height"==b)return a.offsetHeight;if("width"==b)return a.offsetWidth}if("fontweight"==b)switch(c){case 700:return"bold";
default:return"normal"}b in d||(d[b]=q.test(b));return d[b]?h(a,c):c}var l,g={};l=a("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=c.getComputedStyle(a,null))}return b||{}}:a("ie")&&9>a("ie")?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){if(1===a.nodeType){var b=a.ownerDocument.defaultView;return(b.opener?b:k.global.window).getComputedStyle(a,null)}return{}};g.getComputedStyle=
l;var h;h=a("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,f=c.left,e=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(v){b=0}c.left=f;d.left=e;return b}:function(a,b){return parseFloat(b)||0};g.toPixelValue=h;var e=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(r){return b?{}:null}},f=9>a("ie")||(a("ie"),0)?function(a){try{return e(a).Opacity/100}catch(A){return 1}}:
function(a){return l(a).opacity},c=9>a("ie")||(a("ie"),0)?function(a,b){""===b&&(b=1);var d=100*b;1===b?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&c(a,b);return b}:function(a,b){return a.style.opacity=
b},d={left:!0,top:!0},q=/margin|padding|width|height|max|min|offset/,u={cssFloat:1,styleFloat:1,"float":1};g.get=function(a,c){var d=b.byId(a),e=arguments.length;if(2==e&&"opacity"==c)return f(d);c=u[c]?"cssFloat"in d.style?"cssFloat":"styleFloat":c;var h=g.getComputedStyle(d);return 1==e?h:m(d,c,h[c]||d.style[c])};g.set=function(a,d,f){var e=b.byId(a),h=arguments.length,q="opacity"==d;d=u[d]?"cssFloat"in e.style?"cssFloat":"styleFloat":d;if(3==h)return q?c(e,f):e.style[d]=f;for(var v in d)g.set(a,
v,d[v]);return g.getComputedStyle(e)};return g})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(a,b,k,m,l){function g(a,e){var f=function(c,d){return b(c,a,function(a){if(e)return e(a,d);if(!m.isDescendant(a.relatedTarget,c))return d.call(this,a)})};f.bubble=function(b){return g(a,function(a,c){var d=b(a.target),f=a.relatedTarget;if(d&&d!=(f&&1==f.nodeType&&b(f)))return c.call(d,a)})};return f}k={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,b){return a.button==
b},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};a.mouseButtons=k;return{_eventHandler:g,enter:g("mouseover"),leave:g("mouseout"),wheel:"mousewheel",isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(a,b,k){if(!k("host-browser"))return k;a._name="browser";b.mixin(a,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:0,isWebKit:k("webkit"),isMozilla:k("mozilla"),
isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(a,b){return a.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:b("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:b("mac")?b("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(a,b,k){var m=window,l={addOnWindowUnload:function(g,h){a.windowUnloaded||k(m,"unload",a.windowUnloaded=function(){});k(m,"unload",b.hitch(g,h))},addOnUnload:function(a,h){k(m,"beforeunload",b.hitch(a,h))}};a.addOnWindowUnload=l.addOnWindowUnload;a.addOnUnload=l.addOnUnload;return l})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(a,b,k,m,l,g,h,e){a.byId=b.byId;
a.isDescendant=b.isDescendant;a.setSelectable=b.setSelectable;a.getAttr=m.get;a.setAttr=m.set;a.hasAttr=m.has;a.removeAttr=m.remove;a.getNodeProp=m.getNodeProp;a.attr=function(a,b,d){return 2==arguments.length?m["string"==typeof b?"get":"set"](a,b):m.set(a,b,d)};a.hasClass=g.contains;a.addClass=g.add;a.removeClass=g.remove;a.toggleClass=g.toggle;a.replaceClass=g.replace;a._toDom=a.toDom=h.toDom;a.place=h.place;a.create=h.create;a.empty=function(a){h.empty(a)};a._destroyElement=a.destroy=function(a){h.destroy(a)};
a._getPadExtents=a.getPadExtents=e.getPadExtents;a._getBorderExtents=a.getBorderExtents=e.getBorderExtents;a._getPadBorderExtents=a.getPadBorderExtents=e.getPadBorderExtents;a._getMarginExtents=a.getMarginExtents=e.getMarginExtents;a._getMarginSize=a.getMarginSize=e.getMarginSize;a._getMarginBox=a.getMarginBox=e.getMarginBox;a.setMarginBox=e.setMarginBox;a._getContentBox=a.getContentBox=e.getContentBox;a.setContentSize=e.setContentSize;a._isBodyLtr=a.isBodyLtr=e.isBodyLtr;a._docScroll=a.docScroll=
e.docScroll;a._getIeDocumentElementOffset=a.getIeDocumentElementOffset=e.getIeDocumentElementOffset;a._fixIeBiDiScrollLeft=a.fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft;a.position=e.position;a.marginBox=function(a,b){return b?e.setMarginBox(a,b):e.getMarginBox(a)};a.contentBox=function(a,b){return b?e.setContentSize(a,b):e.getContentBox(a)};a.coords=function(f,c){a.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");f=b.byId(f);var d=k.getComputedStyle(f),d=e.getMarginBox(f,d);f=
e.position(f,c);d.x=f.x;d.y=f.y;return d};a.getProp=l.get;a.setProp=l.set;a.prop=function(a,b,d){return 2==arguments.length?l["string"==typeof b?"get":"set"](a,b):l.set(a,b,d)};a.getStyle=k.get;a.setStyle=k.set;a.getComputedStyle=k.getComputedStyle;a.__toPixelValue=a.toPixelValue=k.toPixelValue;a.style=function(a,b,d){switch(arguments.length){case 1:return k.get(a);case 2:return k["string"==typeof b?"get":"set"](a,b)}return k.set(a,b,d)};return a})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(a,b,k,m,l,g){function h(a,b){a=a.getAttributeNode&&a.getAttributeNode(b);return!!a&&a.specified}var e={innerHTML:1,textContent:1,className:1,htmlFor:b("ie"),value:1},f={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};a.has=function(a,b){var c=b.toLowerCase();return e[g.names[c]||b]||h(m.byId(a),f[c]||b)};a.get=function(a,b){a=m.byId(a);var c=b.toLowerCase(),d=g.names[c]||b,l=a[d];if(e[d]&&"undefined"!=typeof l)return l;if("textContent"==d)return g.get(a,d);if("href"!=
d&&("boolean"==typeof l||k.isFunction(l)))return l;b=f[c]||b;return h(a,b)?a.getAttribute(b):null};a.set=function(b,d,h){b=m.byId(b);if(2==arguments.length){for(var c in d)a.set(b,c,d[c]);return b}c=d.toLowerCase();var q=g.names[c]||d,A=e[q];if("style"==q&&"string"!=typeof h)return l.set(b,h),b;if(A||"boolean"==typeof h||k.isFunction(h))return g.set(b,d,h);b.setAttribute(f[c]||d,h);return b};a.remove=function(a,b){m.byId(a).removeAttribute(f[b.toLowerCase()]||b)};a.getNodeProp=function(a,b){a=m.byId(a);
var c=b.toLowerCase(),d=g.names[c]||b;if(d in a&&"href"!=d)return a[d];b=f[c]||b;return h(a,b)?a.getAttribute(b):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(a,b,k,m,l,g,h,e){var f={},c=1,d=b._scopeName+"attrid";a.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
a.get=function(b,c){b=l.byId(b);var d=c.toLowerCase();return b[a.names[d]||c]};a.set=function(b,u,y){b=l.byId(b);if(2==arguments.length&&"string"!=typeof u){for(var q in u)a.set(b,q,u[q]);return b}q=u.toLowerCase();q=a.names[q]||u;if("style"==q&&"string"!=typeof y)return g.set(b,y),b;if("innerHTML"==q)return k("ie")&&b.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(b),b.appendChild(h.toDom(y,b.ownerDocument))):b[q]=y,b;if(m.isFunction(y)){var r=b[d];
r||(r=c++,b[d]=r);f[r]||(f[r]={});var t=f[r][q];if(t)e.disconnect(t);else try{delete b[q]}catch(D){}y?f[r][q]=e.connect(b,q,y):b[q]=null;return b}b[q]=y;return b}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(a,b,k,m,l,g){function h(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}function e(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(v){}for(var b;b=a.lastChild;)a.removeChild(b)}var f={option:["select"],tbody:["table"],
thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},c=/<\s*([\w\:]+)/,d={},q=0,u="__"+b._scopeName+"ToDomId",y;for(y in f)f.hasOwnProperty(y)&&(b=f[y],b.pre="option"==y?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+b.join("\x3e\x3c")+"\x3e",b.post="\x3c/"+b.reverse().join("\x3e\x3c/")+"\x3e");var A;8>=k("ie")&&(A=function(a){a.__dojo_html5_tested="yes";
var b=r("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});t(b)});a.toDom=function(a,b){b=b||m.doc;var e=b[u];e||(b[u]=e=++q+"",d[e]=b.createElement("div"));8>=k("ie")&&!b.__dojo_html5_tested&&b.body&&A(b);a+="";var h=a.match(c),g=h?h[1].toLowerCase():"",
e=d[e];if(h&&f[g])for(h=f[g],e.innerHTML=h.pre+a+h.post,a=h.length;a;--a)e=e.firstChild;else e.innerHTML=a;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(a=b.createDocumentFragment();b=e.firstChild;)a.appendChild(b);return a};a.place=function(b,c,d){c=l.byId(c);"string"==typeof b&&(b=/^\s*</.test(b)?a.toDom(b,c.ownerDocument):l.byId(b));if("number"==typeof d){var e=c.childNodes;!e.length||e.length<=d?c.appendChild(b):h(b,e[0>d?0:d])}else switch(d){case "before":h(b,c);break;case "after":d=
b;(e=c.parentNode)&&(e.lastChild==c?e.appendChild(d):e.insertBefore(d,c.nextSibling));break;case "replace":c.parentNode.replaceChild(b,c);break;case "only":a.empty(c);c.appendChild(b);break;case "first":if(c.firstChild){h(b,c.firstChild);break}default:c.appendChild(b)}return b};var r=a.create=function(b,c,d,e){var f=m.doc;d&&(d=l.byId(d),f=d.ownerDocument);"string"==typeof b&&(b=f.createElement(b));c&&g.set(b,c);d&&a.place(b,d,e);return b};a.empty=function(a){e(l.byId(a))};var t=a.destroy=function(a){if(a=
l.byId(a)){var b=a;a=a.parentNode;b.firstChild&&e(b);a&&(k("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(a,b,k){function m(a){if("string"==typeof a||a instanceof String){if(a&&!g.test(a))return h[0]=a,h;a=a.split(g);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}return a?b.filter(a,function(a){return a}):[]}var l,g=/\s+/,h=[""],e={};return l={contains:function(a,
b){return 0<=(" "+k.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=k.byId(a);b=m(b);var c=a.className,e,c=c?" "+c+" ":" ";e=c.length;for(var f=0,h=b.length,g;f<h;++f)(g=b[f])&&0>c.indexOf(" "+g+" ")&&(c+=g+" ");e<c.length&&(a.className=c.substr(1,c.length-2))},remove:function(b,c){b=k.byId(b);var d;if(void 0!==c){c=m(c);d=" "+b.className+" ";for(var e=0,f=c.length;e<f;++e)d=d.replace(" "+c[e]+" "," ");d=a.trim(d)}else d="";b.className!=d&&(b.className=d)},replace:function(a,b,d){a=
k.byId(a);e.className=a.className;l.remove(e,d);l.add(e,b);a.className!==e.className&&(a.className=e.className)},toggle:function(a,b,d){a=k.byId(a);if(void 0===d){b=m(b);for(var c=0,e=b.length,f;c<e;++c)f=b[c],l[l.contains(a,f)?"remove":"add"](a,f)}else l[d?"add":"remove"](a,b);return d}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(a,b,k){function m(a){return h[a]=new Function("item","index","array",a)}function l(a){var b=!a;return function(c,d,e){var f=0,g=c&&
c.length||0,q;g&&"string"==typeof c&&(c=c.split(""));"string"==typeof d&&(d=h[d]||m(d));if(e)for(;f<g;++f){if(q=!d.call(e,c[f],f,c),a^q)return!q}else for(;f<g;++f)if(q=!d(c[f],f,c),a^q)return!q;return b}}function g(a){var b=1,c=0,h=0;a||(b=c=h=-1);return function(d,g,q,l){if(l&&0<b)return f.lastIndexOf(d,g,q);l=d&&d.length||0;var k=a?l+h:c;q===e?q=a?c:l+h:0>q?(q=l+q,0>q&&(q=c)):q=q>=l?l+h:q;for(l&&"string"==typeof d&&(d=d.split(""));q!=k;q+=b)if(d[q]==g)return q;return-1}}var h={},e,f={every:l(!1),
some:l(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(a,b,e){var c=0,d=a&&a.length||0;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||m(b));if(e)for(;c<d;++c)b.call(e,a[c],c,a);else for(;c<d;++c)b(a[c],c,a)},map:function(a,b,e,f){var c=0,d=a&&a.length||0;f=new (f||Array)(d);d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||m(b));if(e)for(;c<d;++c)f[c]=b.call(e,a[c],c,a);else for(;c<d;++c)f[c]=b(a[c],c,a);return f},filter:function(a,b,e){var c=0,d=a&&a.length||
0,f=[],g;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||m(b));if(e)for(;c<d;++c)g=a[c],b.call(e,g,c,a)&&f.push(g);else for(;c<d;++c)g=a[c],b(g,c,a)&&f.push(g);return f},clearCache:function(){h={}}};k.mixin(a,f);return f})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(a,b,k){b=b.NodeList;var m=b.prototype;m.connect=b._adaptAsForEach(function(){return a.connect.apply(this,arguments)});m.coords=b._adaptAsMap(a.coords);
b.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(b.events,function(a){var b="on"+a;m[b]=function(a,e){return this.connect(b,a,e)}});return a.NodeList=b})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(a,b,k,m,l,g,h,e){function f(a,b){var c=function(c,d){if("string"==typeof d&&
(d=k.byId(d),!d))return new b([]);c="string"==typeof c?a(c,d):c?c.end&&c.on?c:[c]:[];return c.end&&c.on?c:new b(c)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<l.indexOf(a,b)})};if("function"!=typeof a){var d=a.search;a=function(a,b){return d(b||document,a)}}return c}var c=Array.prototype,d=c.slice,q=c.concat,u=l.forEach,y=function(b,c,e){c=[0].concat(d.call(c,0));e=e||a.global;return function(a){c[0]=
a;return b.apply(e,c)}},A=function(a){var b=this instanceof r&&1;"number"==typeof a&&(a=Array(a));var c=a&&"length"in a?a:arguments;if(b||!c.sort){for(var d=b?this:[],e=d.length=c.length,f=0;f<e;f++)d[f]=c[f];if(b)return d;c=d}g._mixin(c,t);c._NodeListCtor=function(a){return r(a)};return c},r=A,t=r.prototype=[];r._wrap=t._wrap=function(a,b,c){a=new (c||this._NodeListCtor||r)(a);return b?a._stash(b):a};r._adaptAsMap=function(a,b){return function(){return this.map(y(a,arguments,b))}};r._adaptAsForEach=
function(a,b){return function(){this.forEach(y(a,arguments,b));return this}};r._adaptAsFilter=function(a,b){return function(){return this.filter(y(a,arguments,b))}};r._adaptWithCondition=function(b,c,d){return function(){var e=arguments,f=y(b,e,d);if(c.call(d||a.global,e))return this.map(f);this.forEach(f);return this}};u(["slice","splice"],function(a){var b=c[a];t[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});u(["indexOf","lastIndexOf","every","some"],function(b){var c=
l[b];t[b]=function(){return c.apply(a,[this].concat(d.call(arguments,0)))}});g.extend(A,{constructor:r,_NodeListCtor:r,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return m(c,a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=d.call(this,0),c=l.map(arguments,function(a){return d.call(a,
0)});return this._wrap(q.apply(b,c),this)},map:function(a,b){return this._wrap(l.map(this,a,b),this)},forEach:function(a,b){u(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=D._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(l.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var c=g.isFunction(a)?a:g.getObject(a);b=b||{};return this.forEach(function(a){new c(b,a)})},at:function(){var a=new this._NodeListCtor(0);
u(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var D=f(e,A);a.query=f(e,function(a){return A(a)});D.load=function(a,b,c){h.load(a,b,function(a){c(f(a,A))})};a._filterQueryResult=D._filterResult=function(a,b,c){return new A(D.filter(a,b,c))};a.NodeList=D.NodeList=A;return D})},"dojo/selector/_loader":function(){define(["../has","require"],function(a,b){"undefined"!==typeof document&&document.createElement("div");var k;return{load:function(m,
l,g,h){if(h&&h.isBuild)g();else{h=b;m="default"==m?a("config-selectorEngine")||"css3":m;m="css2"==m||"lite"==m?"./lite":"css2.1"==m?"./lite":"css3"==m?"./lite":"acme"==m?"./acme":(h=l)&&m;if("?"==m.charAt(m.length-1)){m=m.substring(0,m.length-1);var e=!0}if(e&&(a("dom-compliant-qsa")||k))return g(k);h([m],function(a){"./lite"!=m&&(k=a);g(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(a,b){var k=document.createElement("div"),m=k.matches||k.webkitMatchesSelector||
k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,l=k.querySelectorAll,g=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,h=function(f,c){var d=c?c.ownerDocument||c:b.doc||document,g=(l?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(f);c=c||d;if(g){var k=(a("ie"),null!==c.parentNode&&9!==c.nodeType&&c.parentNode===d);if(g[2]&&k){var m=b.byId?b.byId(g[2],d):d.getElementById(g[2]);if(!m||g[1]&&g[1]!=m.tagName.toLowerCase())return[];
if(c!=d)for(f=m;f!=c;)if(f=f.parentNode,!f)return[];return g[3]?h(g[3],m):[m]}if(g[3]&&c.getElementsByClassName)return c.getElementsByClassName(g[4]);if(g[5])if(m=c.getElementsByTagName(g[5]),g[4]||g[6])f=(g[4]||"")+g[6];else return m}if(l)return 1===c.nodeType&&"object"!==c.nodeName.toLowerCase()?e(c,f,c.querySelectorAll):c.querySelectorAll(f);m||(m=c.getElementsByTagName("*"));g=[];d=0;for(k=m.length;d<k;d++){var A=m[d];1==A.nodeType&&(void 0)(A,f,c)&&g.push(A)}return g},e=function(a,b,d){var c=
a,e=a.getAttribute("id"),f=e||"__dojo__",h=a.parentNode,l=/^\s*[+~]/.test(b);if(l&&!h)return[];e?f=f.replace(/'/g,"\\$\x26"):a.setAttribute("id",f);l&&h&&(a=a.parentNode);b=b.match(g);for(h=0;h<b.length;h++)b[h]="[id\x3d'"+f+"'] "+b[h];b=b.join(",");try{return d.call(a,b)}finally{e||c.removeAttribute("id")}};h.match=m?function(a,b,d){return d&&9!=d.nodeType?e(d,b,function(b){return m.call(a,b)}):m.call(a,b)}:void 0;return h})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(a,b,k,m,l,g,h,e,f){function c(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var d=function(a){return 1==a.length&&"string"==typeof a[0]},q=function(a){var b=a.parentNode;b&&b.removeChild(a)},u=b.NodeList,y=u._adaptWithCondition,A=u._adaptAsForEach,r=u._adaptAsMap;m.extend(u,{_normalize:function(b,c){var d=!0===b.parse;if("string"==typeof b.template){var e=b.templateFunc||a.string&&a.string.substitute;b=e?e(b.template,b):b}e=typeof b;
"string"==e||"number"==e?(b=g.toDom(b,c&&c.ownerDocument),b=11==b.nodeType?m._toArray(b.childNodes):[b]):m.isArrayLike(b)?m.isArray(b)||(b=m._toArray(b)):b=[b];d&&(b._runParse=!0);return b},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(b,c,d,e){if(1==c.nodeType||"only"!=d)for(var f,h=b.length,q=h-1;0<=q;q--){var l=e?this._cloneNode(b[q]):b[q];if(b._runParse&&a.parser&&a.parser.parse)for(f||(f=c.ownerDocument.createElement("div")),f.appendChild(l),a.parser.parse(f),l=f.firstChild;f.firstChild;)f.removeChild(f.firstChild);
q==h-1?g.place(l,c,d):c.parentNode.insertBefore(l,c);c=l}},position:r(h.position),attr:y(c(e),d),style:y(c(f),d),addClass:A(l.add),removeClass:A(l.remove),toggleClass:A(l.toggle),replaceClass:A(l.replace),empty:A(g.empty),removeAttr:A(e.remove),marginBox:r(h.getMarginBox),place:function(a,c){var d=b(a)[0];return this.forEach(function(a){g.place(a,d,c)})},orphan:function(a){return(a?b._filterResult(this,a):this).forEach(q)},adopt:function(a,c){return b(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;
var c=new u;this.map(function(d){b(a,d).forEach(function(a){void 0!==a&&c.push(a)})});return c._stash(this)},filter:function(a){var c=arguments,d=this,e=0;if("string"==typeof a){d=b._filterResult(this,c[0]);if(1==c.length)return d._stash(this);e=1}return this._wrap(k.filter(d,c[e],c[e+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var c=0,d;d=this[c];c++)a.length?this._place(a,d,b,0<c):g.empty(d);return this}});return u})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(a,b,k,m,l,g,h,e,f,c,d,q,u,y,A,r){a._xhrObj=A._create;var t=a.config;a.objectToQuery=m.objectToQuery;a.queryToObject=m.queryToObject;a.fieldToObject=g.fieldToObject;a.formToObject=g.toObject;a.formToQuery=g.toQuery;a.formToJson=g.toJson;a._blockAsync=!1;var D=a._contentHandlers=a.contentHandlers={text:function(a){return a.responseText},json:function(a){return f.fromJson(a.responseText||null)},"json-comment-filtered":function(a){e.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var b=a.indexOf("/*"),c=a.lastIndexOf("*/");if(-1==b||-1==c)throw Error("JSON was not comment filtered");return f.fromJson(a.substring(b+2,c))},javascript:function(b){return a.eval(b.responseText)},xml:function(a){var c=a.responseXML;c&&!c.querySelectorAll&&(c=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(b("ie")&&(!c||!c.documentElement)){var e=function(a){return"MSXML"+a+".DOMDocument"},e=["Microsoft.XMLDOM",e(6),e(4),e(3),e(2)];d.some(e,function(b){try{var d=
new ActiveXObject(b);d.async=!1;d.loadXML(a.responseText);c=d}catch(N){return!1}return!0})}return c},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?D["json-comment-filtered"](a):D.json(a)}};D.arraybuffer=D.blob=D.document=function(a,b){return a.response};a._ioSetArgs=function(b,d,e,f){var q={args:b,url:b.url},k=null;if(b.form){var k=l.byId(b.form),r=k.getAttributeNode("action");q.url=q.url||(r?r.value:a.doc?a.doc.URL:null);k=g.toObject(k)}r={};k&&c.mixin(r,
k);b.content&&c.mixin(r,b.content);b.preventCache&&(r["dojo.preventCache"]=(new Date).valueOf());q.query=m.objectToQuery(r);q.handleAs=b.handleAs||"text";var v=new h(function(a){a.canceled=!0;d&&d(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});v.addCallback(e);var u=b.load;u&&c.isFunction(u)&&v.addCallback(function(a){return u.call(b,a,q)});var A=b.error;A&&c.isFunction(A)&&v.addErrback(function(a){return A.call(b,a,q)});var B=b.handle;B&&
c.isFunction(B)&&v.addBoth(function(a){return B.call(b,a,q)});v.addErrback(function(a){return f(a,v)});t.ioPublish&&a.publish&&!1!==q.args.ioPublish&&(v.addCallbacks(function(b){a.publish("/dojo/io/load",[v,b]);return b},function(b){a.publish("/dojo/io/error",[v,b]);return b}),v.addBoth(function(b){a.publish("/dojo/io/done",[v,b]);return b}));v.ioArgs=q;return v};var G=function(a){a=D[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},v=function(a,b){b.ioArgs.args.failOk||console.error(a);
return a},w=function(b){0>=B&&(B=0,t.ioPublish&&a.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish)&&a.publish("/dojo/io/stop"))},B=0;u.after(y,"_onAction",function(){--B});u.after(y,"_onInFlight",w);a._ioCancelAll=y.cancelAll;a._ioNotifyStart=function(b){t.ioPublish&&a.publish&&!1!==b.ioArgs.args.ioPublish&&(B||a.publish("/dojo/io/start"),B+=1,a.publish("/dojo/io/send",[b]))};a._ioWatch=function(a,b,d,e){a.ioArgs.options=a.ioArgs.args;c.mixin(a,{response:a.ioArgs,isValid:function(c){return b(a)},isReady:function(b){return d(a)},
handleResponse:function(b){return e(a)}});y(a);w(a)};a._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};a.xhr=function(b,c,d){var e,f=a._ioSetArgs(c,function(a){e&&e.cancel()},G,v),h=f.ioArgs;"postData"in c?h.query=c.postData:"putData"in c?h.query=c.putData:"rawBody"in c?h.query=c.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(b.toUpperCase()))&&a._ioAddQueryToUrl(h);var g={method:b,handleAs:{arraybuffer:1,blob:1,document:1}[c.handleAs]?
c.handleAs:"text",responseType:c.responseType,timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:h};"undefined"!==typeof c.headers&&(g.headers=c.headers);"undefined"!==typeof c.contentType&&(g.headers||(g.headers={}),g.headers["Content-Type"]=c.contentType);"undefined"!==typeof h.query&&(g.data=h.query);"undefined"!==typeof c.sync&&(g.sync=c.sync);a._ioNotifyStart(f);try{e=A(h.url,g,!0)}catch(J){return f.cancel(),f}f.ioArgs.xhr=e.response.xhr;e.then(function(){f.resolve(f)}).otherwise(function(a){h.error=
a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);f.reject(a)});return f};a.xhrGet=function(b){return a.xhr("GET",b)};a.rawXhrPost=a.xhrPost=function(b){return a.xhr("POST",b,!0)};a.rawXhrPut=a.xhrPut=function(b){return a.xhr("PUT",b,!0)};a.xhrDelete=function(b){return a.xhr("DELETE",b)};a._isDocumentOk=function(a){return r.checkStatus(a.status)};a._getText=function(b){var c;a.xhrGet({url:b,sync:!0,load:function(a){c=a}});return c};c.mixin(a.xhr,{_xhrObj:a._xhrObj,
fieldToObject:g.fieldToObject,formToObject:g.toObject,objectToQuery:m.objectToQuery,formToQuery:g.toQuery,formToJson:g.toJson,queryToObject:m.queryToObject,contentHandlers:D,_ioSetArgs:a._ioSetArgs,_ioCancelAll:a._ioCancelAll,_ioNotifyStart:a._ioNotifyStart,_ioWatch:a._ioWatch,_ioAddQueryToUrl:a._ioAddQueryToUrl,_isDocumentOk:a._isDocumentOk,_getText:a._getText,get:a.xhrGet,post:a.xhrPost,put:a.xhrPut,del:a.xhrDelete});return a.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(a){var b=
{};return{objectToQuery:function(k){var m=encodeURIComponent,l=[],g;for(g in k){var h=k[g];if(h!=b[g]){var e=m(g)+"\x3d";if(a.isArray(h))for(var f=0,c=h.length;f<c;++f)l.push(e+m(h[f]));else l.push(e+m(h))}}return l.join("\x26")},queryToObject:function(b){var m=decodeURIComponent;b=b.split("\x26");for(var l={},g,h,e=0,f=b.length;e<f;++e)if(h=b[e],h.length){var c=h.indexOf("\x3d");0>c?(g=m(h),h=""):(g=m(h.slice(0,c)),h=m(h.slice(c+1)));"string"==typeof l[g]&&(l[g]=[l[g]]);a.isArray(l[g])?l[g].push(h):
l[g]=h}return l}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(a,b,k,m){var l={fieldToObject:function(a){var h=null;if(a=b.byId(a)){var e=a.name,f=(a.type||"").toLowerCase();if(e&&f&&!a.disabled)if("radio"==f||"checkbox"==f)a.checked&&(h=a.value);else if(a.multiple)for(h=[],a=[a.firstChild];a.length;)for(e=a.pop();e;e=e.nextSibling)if(1==e.nodeType&&"option"==e.tagName.toLowerCase())e.selected&&h.push(e.value);else{e.nextSibling&&a.push(e.nextSibling);
e.firstChild&&a.push(e.firstChild);break}else h=a.value}return h},toObject:function(g){var h={};g=b.byId(g).elements;for(var e=0,f=g.length;e<f;++e){var c=g[e],d=c.name,q=(c.type||"").toLowerCase();if(d&&q&&0>"file|submit|image|reset|button".indexOf(q)&&!c.disabled){var m=h,k=d,c=l.fieldToObject(c);if(null!==c){var A=m[k];"string"==typeof A?m[k]=[A,c]:a.isArray(A)?A.push(c):m[k]=c}"image"==q&&(h[d+".x"]=h[d+".y"]=h[d].x=h[d].y=0)}}return h},toQuery:function(a){return k.objectToQuery(l.toObject(a))},
toJson:function(a,b){return m.stringify(l.toObject(a),null,b?4:0)}};return l})},"dojo/json":function(){define(["./has"],function(a){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(a,b,k,m,l,g,h){var e=function(){},f=Object.freeze||function(){},c=a.Deferred=function(a){function d(a){if(A)throw Error("This deferred has already been resolved");y=a;A=!0;h()}function h(){for(var a;!a&&v;){var c=
v;v=v.next;if(a=c.progress==e)A=!1;var d=D?c.error:c.resolved;l("config-useDeferredInstrumentation")&&D&&b.instrumentRejected&&b.instrumentRejected(y,!!d);if(d)try{var f=d(y);f&&"function"===typeof f.then?f.then(g.hitch(c.deferred,"resolve"),g.hitch(c.deferred,"reject"),g.hitch(c.deferred,"progress")):(d=a&&void 0===f,a&&!d&&(D=f instanceof Error),c.deferred[d&&D?"reject":"resolve"](d?y:f))}catch(F){c.deferred.reject(F)}else D?c.deferred.reject(y):c.deferred.resolve(y)}}var y,A,r,t,D,G,v,w=this.promise=
new k;this.isResolved=w.isResolved=function(){return 0==t};this.isRejected=w.isRejected=function(){return 1==t};this.isFulfilled=w.isFulfilled=function(){return 0<=t};this.isCanceled=w.isCanceled=function(){return r};this.resolve=this.callback=function(a){this.fired=t=0;this.results=[a,null];d(a)};this.reject=this.errback=function(a){D=!0;this.fired=t=1;l("config-useDeferredInstrumentation")&&b.instrumentRejected&&b.instrumentRejected(a,!!v);d(a);this.results=[null,a]};this.progress=function(a){for(var b=
v;b;){var c=b.progress;c&&c(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,e);return this};w.then=this.then=function(a,b,d){var f=d==e?this:new c(w.cancel);a={resolved:a,error:b,progress:d,deferred:f};v?G=G.next=a:v=G=a;A&&h();return f.promise};var B=this;w.cancel=this.cancel=function(){if(!A){var b=a&&a(B);A||(b instanceof Error||(b=new m(b)),b.log=!1,B.reject(b))}r=!0};f(w)};g.extend(c,{addCallback:function(b){return this.addCallbacks(g.hitch.apply(a,arguments))},addErrback:function(b){return this.addCallbacks(null,
g.hitch.apply(a,arguments))},addBoth:function(b){var c=g.hitch.apply(a,arguments);return this.addCallbacks(c,c)},fired:-1});c.when=a.when=h;return c})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(a,b,k,m,l){var g=Object.freeze||function(){},h=function(b,c,f,h,g){a("config-deferredInstrumentation")&&2===c&&d.instrumentRejected&&0===b.length&&d.instrumentRejected(f,!1,
h,g);for(g=0;g<b.length;g++)e(b[g],c,f,h)},e=function(b,e,h,g){var q=b[e],l=b.deferred;if(q)try{var m=q(h);if(0===e)"undefined"!==typeof m&&c(l,e,m);else{if(m&&"function"===typeof m.then){b.cancel=m.cancel;m.then(f(l,1),f(l,2),f(l,0));return}c(l,1,m)}}catch(G){c(l,2,G)}else c(l,e,h);a("config-deferredInstrumentation")&&2===e&&d.instrumentRejected&&d.instrumentRejected(h,!!q,g,l.promise)},f=function(a,b){return function(d){c(a,b,d)}},c=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);
break;case 1:a.resolve(c);break;case 2:a.reject(c)}},d=function(b){var c=this.promise=new m,f=this,q,l,t,D=!1,G=[];a("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(f,d),Error.captureStackTrace(c,d));this.isResolved=c.isResolved=function(){return 1===q};this.isRejected=c.isRejected=function(){return 2===q};this.isFulfilled=c.isFulfilled=function(){return!!q};this.isCanceled=c.isCanceled=function(){return D};this.progress=function(a,b){if(q){if(!0===b)throw Error("This deferred has already been fulfilled.");
return c}h(G,0,a,null,f);return c};this.resolve=function(a,b){if(q){if(!0===b)throw Error("This deferred has already been fulfilled.");return c}h(G,q=1,l=a,null,f);G=null;return c};var v=this.reject=function(b,d){if(q){if(!0===d)throw Error("This deferred has already been fulfilled.");return c}a("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(t={},v);h(G,q=2,l=b,t,f);G=null;return c};this.then=c.then=function(a,b,f){var h=[f,a,b];h.cancel=c.cancel;h.deferred=new d(function(a){return h.cancel&&
h.cancel(a)});q&&!G?e(h,q,l,t):G.push(h);return h.deferred.promise};this.cancel=c.cancel=function(a,c){if(!q){b&&(c=b(a),a="undefined"===typeof c?a:c);D=!0;if(!q)return"undefined"===typeof a&&(a=new k),v(a),a;if(2===q&&l===a)return a}else if(!0===c)throw Error("This deferred has already been fulfilled.");};g(c)};d.prototype.toString=function(){return"[object Deferred]"};l&&l(d);return d})},"dojo/errors/CancelError":function(){define(["./create"],function(a){return a("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(a){return function(b,k,m,l){m=m||Error;var g=function(a){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,g);var b=Error.call(this,a),f;for(f in b)b.hasOwnProperty(f)&&(this[f]=b[f]);this.message=a;this.stack=b.stack}else m.apply(this,arguments);k&&k.apply(this,arguments)};g.prototype=a.delegate(m.prototype,l);g.prototype.name=b;return g.prototype.constructor=g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(a){function b(){throw new TypeError("abstract");}return a.extend(function(){},{then:function(a,m,l){b()},cancel:function(a,m){b()},isResolved:function(){b()},isRejected:function(){b()},isFulfilled:function(){b()},isCanceled:function(){b()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(a,b){return function(k,m,l,g){var h=k&&"function"===typeof k.then,e=h&&k instanceof b;if(!h)return 1<arguments.length?m?m(k):k:(new a).resolve(k);e||(h=new a(k.cancel),k.then(h.resolve,h.reject,h.progress),k=h.promise);return m||l||g?k.then(m,l,g):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(a,b){a.fromJson=function(a){return eval("("+a+")")};a._escapeString=b.stringify;a.toJsonIndentStr="\t";a.toJson=
function(k,m){return b.stringify(k,function(a,b){return b&&(a=b.__json__||b.json,"function"==typeof a)?a.call(b):b},m&&a.toJsonIndentStr)};return a})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(a,b,k,m,l,g){function h(){for(var a=+new Date,h=0,g;h<c.length&&(g=c[h]);h++){var l=g.response,m=l.options;g.isCanceled&&g.isCanceled()||
g.isValid&&!g.isValid(l)?(c.splice(h--,1),e._onAction&&e._onAction()):g.isReady&&g.isReady(l)?(c.splice(h--,1),g.handleResponse(l),e._onAction&&e._onAction()):g.startTime&&g.startTime+(m.timeout||0)<a&&(c.splice(h--,1),g.cancel(new b("Timeout exceeded",l)),e._onAction&&e._onAction())}e._onInFlight&&e._onInFlight(g);c.length||(clearInterval(f),f=null)}function e(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(c.push(a),f||(f=setInterval(h,50)),a.response.options.sync&&h())}
var f=null,c=[];e.cancelAll=function(){try{m.forEach(c,function(a){try{a.cancel(new k("All requests canceled."))}catch(q){}})}catch(d){}};l&&g&&l.doc.attachEvent&&g(l.global,"unload",function(){e.cancelAll()});return e})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(a,b,k,m,l,g,h,e,f){function c(a){return q(a)}function d(a){return void 0!==a.data?a.data:
a.text}a.deepCopy=function(b,c){for(var d in c){var e=b[d],f=c[d];e!==f&&(e&&"object"===typeof e&&f&&"object"===typeof f?f instanceof Date?b[d]=new Date(f):a.deepCopy(e,f):b[d]=f)}return b};a.deepCreate=function(b,c){c=c||{};var d=h.delegate(b),e,f;for(e in b)(f=b[e])&&"object"===typeof f&&(d[e]=a.deepCreate(f,c[e]));return a.deepCopy(d,c)};var q=Object.freeze||function(a){return a};a.deferred=function(f,g,l,r,t,D){var u=new m(function(a){g&&g(u,f);return a&&(a instanceof b||a instanceof k)?a:new k("Request canceled",
f)});u.response=f;u.isValid=l;u.isReady=r;u.handleResponse=t;l=u.then(c).otherwise(function(a){a.response=f;throw a;});a.notify&&l.then(h.hitch(a.notify,"emit","load"),h.hitch(a.notify,"emit","error"));r=l.then(d);t=new e;for(var v in r)r.hasOwnProperty(v)&&(t[v]=r[v]);t.response=l;q(t);D&&u.then(function(a){D.call(u,a)},function(a){D.call(u,f,a)});u.promise=t;u.then=t.then;return u};a.addCommonMethods=function(a,b){g.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=
function(c,d){d=h.delegate(d||{});d.method=b;return a(c,d)}})};a.parseArgs=function(a,b,c){var d=b.data,e=b.query;!d||c||"object"!==typeof d||d instanceof ArrayBuffer||d instanceof Blob||(b.data=l.objectToQuery(d));e?("object"===typeof e&&(e=l.objectToQuery(e)),b.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(e="request.preventCache\x3d"+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"\x26":"?")+e);return{url:a,options:b,getHeader:function(a){return null}}};a.checkStatus=
function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(a){return a("RequestError",function(a,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(a,b){return a("RequestTimeoutError",null,b,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(a,b,k,m,l){function g(b,c){var d=
b.xhr;b.status=b.xhr.status;try{b.text=d.responseText}catch(v){}"xml"===b.options.handleAs&&(b.data=d.responseXML);var e;if(c)this.reject(c);else{try{k(b)}catch(v){e=v}m.checkStatus(d.status)?e?this.reject(e):this.resolve(b):(c=e?new a("Unable to load "+b.url+" status: "+d.status+" and an error in handleAs: transformation of response",b):new a("Unable to load "+b.url+" status: "+d.status,b),this.reject(c))}}function h(a){return this.xhr.getResponseHeader(a)}function e(k,t,D){var r=t&&t.data&&t.data instanceof
FormData,v=m.parseArgs(k,m.deepCreate(A,t),r);k=v.url;t=v.options;var w=!t.data&&"POST"!==t.method&&"PUT"!==t.method;10>=l("ie")&&(k=k.split("#")[0]);var B,z=m.deferred(v,u,c,d,g,function(){B&&B()}),C=v.xhr=e._create();if(!C)return z.cancel(new a("XHR was not created")),D?z:z.promise;v.getHeader=h;q&&(B=q(C,z,v,t.uploadProgress));var L="undefined"===typeof t.data?null:t.data,E=!t.sync,F=t.method;try{C.open(F,k,E,t.user||y,t.password||y);t.withCredentials&&(C.withCredentials=t.withCredentials);t.handleAs in
f&&(C.responseType=f[t.handleAs]);var N=t.headers;k=r||w?!1:"application/x-www-form-urlencoded";if(N)for(var O in N)"content-type"===O.toLowerCase()?k=N[O]:N[O]&&C.setRequestHeader(O,N[O]);k&&!1!==k&&C.setRequestHeader("Content-Type",k);N&&"X-Requested-With"in N||C.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",v,z.promise.cancel);C.send(L)}catch(J){z.reject(J)}b(z);C=null;return D?z:z.promise}l.add("dojo-force-activex-xhr",function(){return 0});var f={blob:"blob",
document:"document",arraybuffer:"arraybuffer"},c,d,q,u;c=function(a){return!this.isFulfilled()};u=function(a,b){b.xhr.abort()};q=function(b,c,d,e){function f(a){c.handleResponse(d)}function h(b){b=new a("Unable to load "+d.url+" status: "+b.target.status,d);c.handleResponse(d,b)}function g(a,b){d.transferType=a;b.lengthComputable?(d.loaded=b.loaded,d.total=b.total,c.progress(d)):3===d.xhr.readyState&&(d.loaded="loaded"in b?b.loaded:b.position,c.progress(d))}function q(a){return g("download",a)}function l(a){return g("upload",
a)}b.addEventListener("load",f,!1);b.addEventListener("error",h,!1);b.addEventListener("progress",q,!1);e&&b.upload&&b.upload.addEventListener("progress",l,!1);return function(){b.removeEventListener("load",f,!1);b.removeEventListener("error",h,!1);b.removeEventListener("progress",q,!1);b.upload.removeEventListener("progress",l,!1);b=null}};var y,A={data:null,query:null,sync:!1,method:"GET"};e._create=function(){throw Error("XMLHTTP not available");};l("dojo-force-activex-xhr")||(e._create=function(){return new XMLHttpRequest});
m.addCommonMethods(e);return e})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(a,b,k,m){function l(a){var b=g[a.options.handleAs];a.data=b?b(a):a.data||a.text;return a}k=function(a){return a.xhr.response};var g={javascript:function(a){return b.eval(a.text||"")},json:function(b){return a.parse(b.text||null)},xml:void 0,blob:k,arraybuffer:k,document:k};l.register=function(a,b){g[a]=b};return l})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(a,b,k,m,l,g,h,e,f){var c=k.mixin,d={},q=d._Line=function(a,b){this.start=a;this.end=b};q.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var u=d.Animation=function(a){c(this,a);k.isArray(this.curve)&&(this.curve=new q(this.curve[0],this.curve[1]))};u.prototype=new m;k.extend(u,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,c){c=c||[];if(this[a])if(b.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(w){console.error("exception in animation handler for:",a),console.error(w)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);a=a||this.delay;b=k.hitch(this,"_play",b);if(0<a)return this._delayTimer=setTimeout(b,a),this;b();return this},_play:function(a){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=
(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var y=0,A=null,r={run:function(){}};k.extend(u,{_startTimer:function(){this._timer||(this._timer=g.after(r,"run",k.hitch(this,"_cycle"),!0),y++);A||(A=setInterval(k.hitch(r,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,y--);0>=y&&(clearInterval(A),A=null,y=0)}});var t=h("ie")?function(a){var b=a.style;b.width.length||"auto"!=f.get(a,"width")||(b.width="auto")}:function(){};
d._fade=function(a){a.node=e.byId(a.node);var b=c({properties:{}},a);a=b.properties.opacity={};a.start="start"in b?b.start:function(){return+f.get(b.node,"opacity")||0};a.end=b.end;a=d.animateProperty(b);g.after(a,"beforeBegin",k.partial(t,b.node),!0);return a};d.fadeIn=function(a){return d._fade(c({end:1},a))};d.fadeOut=function(a){return d._fade(c({end:0},a))};d._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var D=function(a){this._properties=a;for(var b in a){var c=a[b];c.start instanceof
l&&(c.tempColor=new l)}};D.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=this._properties[c],e=d.start;e instanceof l?b[c]=l.blendColors(e,d.end,a,d.tempColor).toCss():k.isArray(e)||(b[c]=(d.end-e)*a+e+("opacity"!=c?d.units||"px":0))}return b};d.animateProperty=function(b){var d=b.node=e.byId(b.node);b.easing||(b.easing=a._defaultEasing);b=new u(b);g.after(b,"beforeBegin",k.hitch(b,function(){var a={},b;for(b in this.properties){var e=function(a,b){var c={height:a.offsetHeight,
width:a.offsetWidth}[b];if(void 0!==c)return c;c=f.get(a,b);return"opacity"==b?+c:g?c:parseFloat(c)};if("width"==b||"height"==b)this.node.display="block";var h=this.properties[b];k.isFunction(h)&&(h=h(d));h=a[b]=c({},k.isObject(h)?h:{end:h});k.isFunction(h.start)&&(h.start=h.start(d));k.isFunction(h.end)&&(h.end=h.end(d));var g=0<=b.toLowerCase().indexOf("color");"end"in h?"start"in h||(h.start=e(d,b)):h.end=e(d,b);g?(h.start=new l(h.start),h.end=new l(h.end)):h.start="opacity"==b?+h.start:parseFloat(h.start)}this.curve=
new D(a)}),!0);g.after(b,"onAnimate",k.hitch(f,"set",b.node),!0);return b};d.anim=function(a,b,c,e,f,h){return d.animateProperty({node:a,duration:c||u.prototype.duration,properties:b,easing:e,onEnd:f}).play(h||0)};c(a,d);a._Animation=u;return d})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(a,b,k,m){var l=a.Color=function(a){a&&this.setColor(a)};l.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,
0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};b.extend(l,{r:255,g:255,b:255,a:1,_set:function(a,b,e,f){this.r=a;this.g=b;this.b=e;this.a=f},setColor:function(a){b.isString(a)?l.fromString(a,this):b.isArray(a)?l.fromArray(a,this):(this._set(a.r,a.g,a.b,a.a),a instanceof l||this.sanitize());return this},sanitize:function(){return this},
toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var b=this.r+", "+this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});l.blendColors=a.blendColors=function(a,b,e,f){f=f||new l;f.r=Math.round(a.r+(b.r-a.r)*e);f.g=Math.round(a.g+(b.g-a.g)*e);f.b=Math.round(a.b+
(b.b-a.b)*e);f.a=a.a+(b.a-a.a)*e;return f.sanitize()};l.fromRgb=a.colorFromRgb=function(a,b){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&l.fromArray(a[1].split(/\s*,\s*/),b)};l.fromHex=a.colorFromHex=function(a,b){var e=b||new l,f=4==a.length?4:8,c=(1<<f)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;k.forEach(["b","g","r"],function(b){var d=a&c;a>>=f;e[b]=4==f?17*d:d});e.a=1;return e};l.fromArray=a.colorFromArray=function(a,b){b=b||new l;b._set(Number(a[0]),Number(a[1]),Number(a[2]),
Number(a[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};l.fromString=a.colorFromString=function(a,b){var e=l.named[a];return e&&l.fromArray(e,b)||l.fromRgb(a,b)||l.fromHex(a,b)};return l})},"esri/config":function(){define(["require","exports","./core/global"],function(a,b,k){a={applicationUrl:k.location&&k.location.href,screenDPI:96,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",
kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};a.request.corsEnabledServers=[];a.request.corsEnabledServers.push=
function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return a})},"esri/core/global":function(){define(["require","exports"],function(a,b){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/kernel":function(){define(["require","./core/promiseUtils","./core/has","dojo/main"],
function(a,b,k,m){(function(){var a=m.config,b=a.has&&void 0!==a.has["config-deferredInstrumentation"],h=a.has&&void 0!==a.has["config-useDeferredInstrumentation"];void 0!==a.useDeferredInstrumentation||b||h||(k.add("config-deferredInstrumentation",!1,!0,!0),k.add("config-useDeferredInstrumentation",!1,!0,!0))})();return{version:"4.11",workerMessages:{request:function(l){return b.create(function(b){a(["./request"],b)}).then(function(a){var b=l.options||{};b.responseType="array-buffer";return a(l.url,
b)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}}}})},"esri/core/promiseUtils":function(){define(["require","exports","dojo/Deferred","dojo/promise/all","./Error"],function(a,b,k,m,l){function g(a,b){var c=new k(b);try{a(function(a){return f(a).then(c.resolve)},c.reject)}catch(u){c.reject(u)}return c.promise}function h(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),c=b.map(function(b){return a[b]});return h(c).then(function(a){var c={};b.forEach(function(b,
d){return c[b]=a[d]});return c})}var f=null,m=e;return g(function(b,c){var d=[],e=a.length;0===e&&b(d);a.forEach(function(a){var h={promise:a||m(a)};d.push(h);h.promise.then(function(a){h.value=a}).catch(function(a){h.error=a}).then(function(){--e;0===e&&(f?c(new l("AbortError",f)):b(d))})})},function(b){f=b||"Invocation cancellation";a.forEach(function(a){return a.cancel(b)})})}}function e(a){void 0===a&&(a=void 0);var b=new k;b.resolve(a);return b.promise}function f(a){return a&&"object"===typeof a&&
"then"in a&&"function"===typeof a.then?a:e(a)}Object.defineProperty(b,"__esModule",{value:!0});b.all=function(a){return m(a)};b.filter=function(a,b){var c=a.slice();return m(a.map(function(a,c){return b(a,c)})).then(function(a){return c.filter(function(b,c){return a[c]})})};b.create=g;b.createDeferred=function(a){var b=null;a=g(function(a,c){b={resolve:a,reject:c}},a);b.promise=a;b.cancel=function(){var a=new l("AbortError","AbortError");a.dojoType="cancel";b.reject(a)};return b};b.eachAlways=h;b.eachAlwaysValues=
function(a){return h(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};b.first=function(a){return a&&a.length?g(function(b,c){for(var d=0;d<a.length;d++)a[d].then(b,c)}):e()};b.reject=function(a){var b=new k;b.reject(a);return b.promise};b.resolve=e;b.after=function(a,b){void 0===b&&(b=void 0);var c=0;return g(function(d){c=setTimeout(function(){d(b)},a)},function(){c&&(clearTimeout(c),c=0)})};b.timeout=function(a,b,e){var c=0,d=new k(a.cancel);
a.then(function(a){d.isFulfilled()||(d.resolve(a),c&&(clearTimeout(c),c=0))});a.catch(function(a){d.isFulfilled()||(d.reject(a),c&&(clearTimeout(c),c=0))});c=setTimeout(function(){var a=e||new l("promiseUtils:timeout","The wrapped promise did not resolve within "+b+" ms");d.reject(a)},b);return d.promise};b.wrapCallback=function(a){var b=!1;return g(function(){a(function(a){b||e(a)})},function(){return b=!0})};b.isThenable=function(a){return a&&"function"===typeof a.then};b.when=f;b.createResolver=
function(a){var b,c;a=g(function(a,d){b=a;c=d},a);var e=function(a){b(a)};e.resolve=function(a){return b(a)};e.reject=function(a){return c(a)};e.promise=a;return e}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(a,b,k,m){var l=a.some;return function(a){var h,e;b.isArray(a)?e=a:a&&"object"===typeof a&&(h=a);var f,c=[];if(h){e=[];for(var d in h)Object.hasOwnProperty.call(h,d)&&(c.push(d),e.push(h[d]));f={}}else e&&(f=[]);if(!e||!e.length)return(new k).resolve(f);
var g=new k;g.promise.always(function(){f=c=null});var u=e.length;l(e,function(a,b){h||c.push(b);m(a,function(a){g.isFulfilled()||(f[c[b]]=a,0===--u&&g.resolve(f))},g.reject);return g.isFulfilled()});return g.promise}})},"esri/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(a,b,k,m,l){a=function(a){function b(e,f,c){var d=a.call(this,e,f,c)||this;return d instanceof b?d:new b(e,f,c)}k(b,a);b.prototype.toJSON=function(){return{name:this.name,
message:this.message,details:m.clone(this.details),dojoType:this.dojoType}};b.fromJSON=function(a){var e=new b(a.name,a.message,a.details);null!=a.dojoType&&(e.dojoType=a.dojoType);return e};return b}(l);a.prototype.type="error";return a})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,k){a.__proto__=k}||function(a,k){for(var b in k)k.hasOwnProperty(b)&&(a[b]=k[b])};return function(b,k){function m(){this.constructor=
b}a(b,k);b.prototype=null===k?Object.create(k):(m.prototype=k.prototype,new m)}}()})},"esri/core/lang":function(){define("require exports dojo/date dojo/i18n!../nls/common dojo/number dojo/date/locale ./global ./typedArrayUtil @dojo/framework/shim/string".split(" "),function(a,b,k,m,l,g,h,e,f){function c(a,b){var d;if(b)for(d in a)a.hasOwnProperty(d)&&(void 0===a[d]?delete a[d]:a[d]instanceof Object&&c(a[d],!0));else for(d in a)a.hasOwnProperty(d)&&void 0===a[d]&&delete a[d];return a}function d(a){return a&&
"object"===typeof a&&"function"!==typeof a?e.isInt8Array(a)||e.isUint8Array(a)||e.isUint8ClampedArray(a)||e.isInt16Array(a)||e.isUint16Array(a)||e.isInt32Array(a)||e.isUint32Array(a)||e.isFloat32Array(a)||e.isFloat64Array(a)?e.slice(a):a instanceof Date?new Date(a.getTime()):a instanceof ArrayBuffer?a.slice(0,a.byteLength):"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(d):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():
y({},a,d):a}function q(a){void 0===a&&(a={});for(var b=1;b<arguments.length;b++);for(var b=1,c=arguments.length;b<c;b++)y(a,arguments[b]);return a}function u(a){var b=a.key,c=a.data,d=a.dateFormat,e=a.nbrFormat;a=b.split(":");if(1<a.length)return b=a[0],a.shift(),A(b,c,a.join(":"));if(d&&-1!==(d.properties||[]).indexOf(b))return A(b,c,d.formatter||"DateString");if(e&&-1!==(e.properties||[]).indexOf(b))return A(b,c,e.formatter||"NumberFormat");c=c[b];return null!=c?c:""}function y(a,b,c){var d,e,f=
{};for(d in b){e=b[d];var h=!(d in f)||f[d]!==e;if(!(d in a)||a[d]!==e&&h)a[d]=c?c(e):e}return a}function A(a,b,c){var d=c.match(G),e=d[1].trim();c=b[a];var d=JSON.parse((d[2]?d[2].trim():"{}").replace(v,"{").replace(w,"}").replace(B,'$1"$2":').replace(z,'":"').replace(C,'"$1')),f=d.utcOffset;if(-1===r.indexOf(e)){var m;a:{e=e.split(".");f=void 0;f=h;try{for(var u=0;u<e.length;u++){var t=e[u];if(!(t in f)){m=void 0;break a}f=f[t]}m=f;break a}catch(M){}m=void 0}"function"===typeof m&&(c=m(c,a,b,d))}else if("number"===
typeof c||"string"===typeof c&&c&&!isNaN(Number(c)))switch(c=Number(c),e){case "NumberFormat":a=q({},d);b="string"===typeof a.places?parseFloat(a.places):a.places;if(isNaN(b)||0>b)a.places=Infinity;return l.format(c,a);case "DateString":c=new Date(c);if(d.local||d.systemLocale)return d.systemLocale?c.toLocaleDateString()+(d.hideTime?"":" "+c.toLocaleTimeString()):c.toDateString()+(d.hideTime?"":" "+c.toTimeString());c=c.toUTCString();d.hideTime&&(c=c.replace(L,""));return c;case "DateFormat":return c=
new Date(c),null!=f&&(c=k.add(c,"minute",c.getTimezoneOffset()-f)),g.format(c,d)}return null!=c?c:""}Object.defineProperty(b,"__esModule",{value:!0});var r=["NumberFormat","DateString","DateFormat"],t=/<\/?[^>]+>/g,D=/\{([^\}]+)\}/g,G=/([^\(]+)(\([^\)]+\))?/i,v=/^\(/,w=/\)$/,B=/([{,])\s*([0-9a-zA-Z\_]+)\s*:/gi,z=/\"\s*:\s*\'/gi,C=/\'\s*(,|\})/gi,L=/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i;b.startsWith=f.startsWith;b.endsWith=f.endsWith;b.fixJson=c;b.clone=d;b.equals=function(a,b){return a===b||"number"===
typeof a&&isNaN(a)&&"number"===typeof b&&isNaN(b)||"function"===typeof(a||{}).getTime&&"function"===typeof(b||{}).getTime&&a.getTime()===b.getTime()||!1};b.mixin=q;b.valueOf=function(a,b){for(var c in a)if(a[c]===b)return c;return null};b.stripTags=function(a){if(a){var b=typeof a;if("string"===b)a=a.replace(t,"");else if("object"===b)for(b in b=void 0,a){var c=a[b];c&&"string"===typeof c&&(c=c.replace(t,""));a[b]=c}}return a};b.substitute=function(a,b,c){var d,e,f;null!=c&&("object"===typeof c?(d=
c.first,e=c.dateFormat,f=c.numberFormat):d=c);if(!b||"{*}"===b){b=['\x3ctable class\x3d"esri-widget__table" summary\x3d"'+m.fieldsSummary+'"\x3e\x3ctbody\x3e'];var h=c=void 0;for(h in a)if(c=a[h],e&&-1!==(e.properties||[]).indexOf(h)?c=A(h,a,e.formatter||"DateString"):f&&-1!==(f.properties||[]).indexOf(h)&&(c=A(h,a,f.formatter||"NumberFormat")),b.push("\x3ctr\x3e\x3cth\x3e"+h+"\x3c/th\x3e\x3ctd\x3e"+(null!=c?c:"")+"\x3c/td\x3e\x3c/tr\x3e"),d)break;b.push("\x3c/tbody\x3e\x3c/table\x3e");return b.join("")}return b.replace(D,
function(b,c){return u({key:c,data:a,dateFormat:e,nbrFormat:f})})};b.filter=function(a,b,c){b=["string"===typeof a?a.split(""):a,c||h,"string"===typeof b?new Function("item","index","array",b):b];c={};var d;a=b[0];for(d in a)b[2].call(b[d],a[d],d,a)&&(c[d]=a[d]);return c}})},"dojo/date":function(){define(["./has","./_base/lang"],function(a,b){var k={getDaysInMonth:function(a){var b=a.getMonth();return 1==b&&k.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){a=a.getFullYear();
return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var b=a.toString(),g="",h=b.indexOf("(");if(-1<h)g=b.substring(++h,b.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,b=b.match(h))g=b[1];else if(b=a.toLocaleString(),h=/ ([A-Z\/]+)$/,b=b.match(h))g=b[1];return"AM"==g||"PM"==g?"":g},compare:function(a,b,g){a=new Date(+a);b=new Date(+(b||new Date));"date"==g?(a.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==g&&(a.setFullYear(0,0,0),b.setFullYear(0,0,0));return a>b?1:a<b?-1:0},add:function(a,
b,g){var h=new Date(+a),e=!1,f="Date";switch(b){case "day":break;case "weekday":var c;(b=g%5)?c=parseInt(g/5):(b=0<g?5:-5,c=0<g?(g-5)/5:(g+5)/5);var d=a.getDay(),q=0;6==d&&0<g?q=1:0==d&&0>g&&(q=-1);d+=b;if(0==d||6==d)q=0<g?2:-2;g=7*c+b+q;break;case "year":f="FullYear";e=!0;break;case "week":g*=7;break;case "quarter":g*=3;case "month":e=!0;f="Month";break;default:f="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(f)h["set"+f](h["get"+f]()+g);e&&h.getDate()<a.getDate()&&h.setDate(0);return h},
difference:function(a,b,g){b=b||new Date;g=g||"day";var h=b.getFullYear()-a.getFullYear(),e=1;switch(g){case "quarter":a=a.getMonth();b=b.getMonth();e=Math.floor(b/3)+1+4*h-(Math.floor(a/3)+1);break;case "weekday":h=Math.round(k.difference(a,b,"day"));g=parseInt(k.difference(a,b,"week"));if(0==h%7)h=5*g;else{var e=0,f=a.getDay(),c=b.getDay();g=parseInt(h/7);b=h%7;a=new Date(a);a.setDate(a.getDate()+7*g);a=a.getDay();if(0<h)switch(!0){case 6==f:e=-1;break;case 0==f:e=0;break;case 6==c:e=-1;break;case 0==
c:e=-2;break;case 5<a+b:e=-2}else if(0>h)switch(!0){case 6==f:e=0;break;case 0==f:e=1;break;case 6==c:e=2;break;case 0==c:e=1;break;case 0>a+b:e=2}h=h+e-2*g}e=h;break;case "year":e=h;break;case "month":e=b.getMonth()-a.getMonth()+12*h;break;case "week":e=parseInt(k.difference(a,b,"day")/7);break;case "day":e/=24;case "hour":e/=60;case "minute":e/=60;case "second":e/=1E3;case "millisecond":e*=b.getTime()-a.getTime()}return Math.round(e)}};b.mixin(b.getObject("dojo.date",!0),k);return k})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./has!host-browser?./_base/xhr ./json module".split(" "),
function(a,b,k,m,l,g,h,e,f){k.add("dojo-preload-i18n-Api",1);h=a.i18n={};var c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",h=0;h<b.length;h++)if(f+=(f?"-":"")+b[h],!a||a[f])e.push(c+f+"/"+d),e.specificity=f;return e},q={},u=function(b,c,d){d=d?d.toLowerCase():a.locale;b=b.replace(/\./g,"/");c=c.replace(/\./g,"/");return/root/i.test(d)?b+"/nls/"+c:b+"/nls/"+d+"/"+c},y=a.getL10nName=function(a,b,c){return a=f.id+"!"+u(a,b,c)},A=function(a,b,
c,e,f,h){a([b],function(l){var k=g.clone(l.root||l.ROOT),m=d(!l._v1x&&l,f,c,e);a(m,function(){for(var a=1;a<m.length;a++)k=g.mixin(g.clone(k),arguments[a]);q[b+"/"+f]=k;k.$locale=m.specificity;h()})})},r=function(a){var b=l.extraLocale||[],b=g.isArray(b)?b:[b];b.push(a);return b},t=function(b,d,f){var h=c.exec(b),l=h[1]+"/",u=h[5]||h[4],t=l+u,D=(h=h[5]&&h[4])||a.locale||"",y=t+"/"+D,h=h?[D]:r(D),z=h.length,E=function(){--z||f(g.delegate(q[y]))},D=b.split("*"),C="preload"==D[1];if(k("dojo-preload-i18n-Api")){if(C&&
(q[b]||(q[b]=1,w(D[2],e.parse(D[3]),1,d)),f(1)),(D=C)||(G&&v.push([b,d,f]),D=G&&!q[y]),D)return}else if(C){f(1);return}m.forEach(h,function(a){var b=t+"/"+a;k("dojo-preload-i18n-Api")&&B(b);q[b]?E():A(d,t,l,u,a,E)})};k("dojo-preload-i18n-Api");var D=h.normalizeLocale=function(b){b=b?b.toLowerCase():a.locale;return"root"==b?"ROOT":b},G=0,v=[],w=h._preloadLocalizations=function(c,d,e,f){function h(a,b){f([a],b)}function l(a,b){for(a=a.split("-");a.length;){if(b(a.join("-")))return;a.pop()}b("ROOT")}
function k(){for(--G;!G&&v.length;)t.apply(null,v.shift())}function r(a){a=D(a);l(a,function(e){if(0<=m.indexOf(d,e)){var v=c.replace(/\./g,"/")+"_"+e;G++;h(v,function(c){for(var d in c){var h=c[d],m=d.match(/(.+)\/([^\/]+)$/),v;if(m&&(v=m[2],m=m[1]+"/",h._localized)){var r;if("ROOT"===e){var u=r=h._localized;delete h._localized;u.root=h;q[b.toAbsMid(d)]=u}else r=h._localized,q[b.toAbsMid(m+v+"/"+e)]=h;e!==a&&function(c,d,e,h){var m=[],v=[];l(a,function(a){h[a]&&(m.push(b.toAbsMid(c+a+"/"+d)),v.push(b.toAbsMid(c+
d+"/"+a)))});m.length?(G++,f(m,function(){for(var f=m.length-1;0<=f;f--)e=g.mixin(g.clone(e),arguments[f]),q[v[f]]=e;q[b.toAbsMid(c+d+"/"+a)]=g.clone(e);k()})):q[b.toAbsMid(c+d+"/"+a)]=e}(m,v,h,r)}}k()});return!0}return!1})}f=f||b;r();m.forEach(a.config.extraLocale,r)},B=function(){},z={},B=function(b){for(var c,d=b.split("/"),e=a.global[d[0]],f=1;e&&f<d.length-1;e=e[d[f++]]);e&&((c=e[d[f]])||(c=e[d[f].replace(/-/g,"_")]),c&&(q[b]=c));return c};h.getLocalization=function(a,c,d){var e,f=u(a,c,d);if(z[f])return z[f];
t(f,b,function(a){e=z[f]=a});return e};return g.mixin(h,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:q,getL10nName:y})})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(a,b,k,m,l){var g={};a.setObject("dojo.number",g);g.format=function(e,f){f=a.mixin({},f||{});var c=b.normalizeLocale(f.locale),c=b.getLocalization("dojo.cldr","number",c);f.customs=c;c=f.pattern||c[(f.type||"decimal")+"Format"];return isNaN(e)||
Infinity==Math.abs(e)?null:g._applyPattern(e,c,f)};g._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;g._applyPattern=function(a,b,c){c=c||{};var d=c.customs.group,e=c.customs.decimal;b=b.split(";");var f=b[0];b=b[0>a?1:0]||"-"+f;if(-1!=b.indexOf("%"))a*=100;else if(-1!=b.indexOf("\u2030"))a*=1E3;else if(-1!=b.indexOf("\u00a4"))d=c.customs.currencyGroup||d,e=c.customs.currencyDecimal||e,b=b.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,b,d,e){return(a=c[["symbol","currency","displayName"][d.length-
1]]||c.currency||"")?b+a+e:""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var h=g._numberPatternRE,f=f.match(h);if(!f)throw Error("unable to find a number expression in pattern: "+b);!1===c.fractional&&(c.places=0);return b.replace(h,g._formatAbsolute(a,f[0],{decimal:e,group:d,places:c.places,round:c.round}))};g.round=function(a,b,c){c=10/(c||10);return(c*+a).toFixed(b)/c};if(0==(.9).toFixed()){var h=g.round;g.round=function(a,b,c){var d=Math.pow(10,-b||0),e=Math.abs(a);
if(!a||e>=d)d=0;else if(e/=d,.5>e||.95<=e)d=0;return h(a,b,c)+(0<a?d:-d)}}g._formatAbsolute=function(a,b,c){c=c||{};!0===c.places&&(c.places=0);Infinity===c.places&&(c.places=6);b=b.split(".");var d="string"==typeof c.places&&c.places.indexOf(","),e=c.places;d?e=c.places.substring(d+1):0<=e||(e=(b[1]||[]).length);0>c.round||(a=g.round(a,e,c.round));a=String(Math.abs(a)).split(".");var f=a[1]||"";b[1]||c.places?(d&&(c.places=c.places.substring(0,d)),d=void 0!==c.places?c.places:b[1]&&b[1].lastIndexOf("0")+
1,d>f.length&&(a[1]=m.pad(f,d,"0",!0)),e<f.length&&(a[1]=f.substr(0,e))):a[1]&&a.pop();e=b[0].replace(",","");d=e.indexOf("0");-1!=d&&(d=e.length-d,d>a[0].length&&(a[0]=m.pad(a[0],d)),-1==e.indexOf("#")&&(a[0]=a[0].substr(a[0].length-d)));var e=b[0].lastIndexOf(","),h,l;-1!=e&&(h=b[0].length-e-1,b=b[0].substr(0,e),e=b.lastIndexOf(","),-1!=e&&(l=b.length-e-1));b=[];for(e=a[0];e;)d=e.length-h,b.push(0<d?e.substr(d):e),e=0<d?e.slice(0,d):"",l&&(h=l,l=void 0);a[0]=b.reverse().join(c.group||",");return a.join(c.decimal||
".")};g.regexp=function(a){return g._parseInfo(a).regexp};g._parseInfo=function(a){a=a||{};var e=b.normalizeLocale(a.locale),e=b.getLocalization("dojo.cldr","number",e),c=a.pattern||e[(a.type||"decimal")+"Format"],d=e.group,h=e.decimal,k=1;if(-1!=c.indexOf("%"))k/=100;else if(-1!=c.indexOf("\u2030"))k/=1E3;else{var m=-1!=c.indexOf("\u00a4");m&&(d=e.currencyGroup||d,h=e.currencyDecimal||h)}e=c.split(";");1==e.length&&e.push("-"+e[0]);e=l.buildGroupRE(e,function(b){b="(?:"+l.escapeString(b,".")+")";
return b.replace(g._numberPatternRE,function(b){var c={signed:!1,separator:a.strict?d:[d,""],fractional:a.fractional,decimal:h,exponent:!1};b=b.split(".");var e=a.places;1==b.length&&1!=k&&(b[1]="###");1==b.length||0===e?c.fractional=!1:(void 0===e&&(e=a.pattern?b[1].lastIndexOf("0")+1:Infinity),e&&void 0==a.fractional&&(c.fractional=!0),!a.places&&e<b[1].length&&(e+=","+b[1].length),c.places=e);b=b[0].split(",");1<b.length&&(c.groupSize=b.pop().length,1<b.length&&(c.groupSize2=b.pop().length));return"("+
g._realNumberRegexp(c)+")"})},!0);m&&(e=e.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(b,c,d,e){b=l.escapeString(a[["symbol","currency","displayName"][d.length-1]]||a.currency||"");if(!b)return"";c=c?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return a.strict?c+b+e:(c&&(c+="*"),e&&(e+="*"),"(?:"+c+b+e+")?")}));return{regexp:e.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:d,decimal:h,factor:k}};g.parse=function(a,b){b=g._parseInfo(b);a=(new RegExp("^"+b.regexp+"$")).exec(a);if(!a)return NaN;var c=a[1];
if(!a[1]){if(!a[2])return NaN;c=a[2];b.factor*=-1}c=c.replace(new RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,".");return c*b.factor};g._realNumberRegexp=function(a){a=a||{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");"fractional"in a&&!/^0/.test(a.places)||(a.fractional=[!0,!1]);"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var b=g._integerRegexp(a),c=l.buildGroupRE(a.fractional,function(b){var c="";b&&0!==a.places&&(c="\\"+
a.decimal,c=Infinity==a.places?"(?:"+c+"\\d+)?":c+("\\d{"+a.places+"}"));return c},!0),d=l.buildGroupRE(a.exponent,function(b){return b?"([eE]"+g._integerRegexp({signed:a.eSigned})+")":""}),b=b+c;c&&(b="(?:(?:"+b+")|(?:"+c+"))");return b+d};g._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var b=l.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),c=l.buildGroupRE(a.separator,function(b){if(!b)return"(?:\\d+)";
b=l.escapeString(b);" "==b?b="\\s":"\u00a0"==b&&(b="\\s\\xa0");var c=a.groupSize,d=a.groupSize2;return d?(b="(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+b+"]\\d{"+d+"})*["+b+"]\\d{"+c+"})",0<c-d?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+b+"]\\d{"+c+"})*)"},!0);return b+c};return g})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(a,b){var k=/[&<>'"\/]/g,m={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},
l={};b.setObject("dojo.string",l);l.escape=function(a){return a?a.replace(k,function(a){return m[a]}):""};l.rep=function(a,b){if(0>=b||!a)return"";for(var e=[];;){b&1&&e.push(a);if(!(b>>=1))break;a+=a}return e.join("")};l.pad=function(a,b,e,f){e||(e="0");a=String(a);b=l.rep(e,Math.ceil((b-a.length)/e.length));return f?a+b:b+a};l.substitute=function(g,h,e,f){f=f||a.global;e=e?b.hitch(f,e):function(a){return a};return g.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,d,g){if(""==d)return"$";
a=b.getObject(d,!1,h);g&&(a=b.getObject(g,!1,f).call(f,a,d));g=e(a,d);if("undefined"===typeof g)throw Error('string.substitute could not find key "'+d+'" in template');return g.toString()})};l.trim=String.prototype.trim?b.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return l})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(a,b){var k={};b.setObject("dojo.regexp",k);k.escapeString=
function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};k.buildGroupRE=function(a,b,g){if(!(a instanceof Array))return b(a);for(var h=[],e=0;e<a.length;e++)h.push(b(a[e]));return k.group(h.join("|"),g)};k.group=function(a,b){return"("+(b?"?:":"")+a+")"};return k})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(a,
b,k,m,l,g,h,e,f){function c(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var f,g,l=e.charAt(0);e=e.length;var k=["abbr","wide","narrow"];switch(l){case "G":f=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":f=a.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){f=String(f);f=f.substr(f.length-2);break}default:g=!0}break;case "Q":case "q":f=Math.ceil((a.getMonth()+1)/3);g=!0;break;case "M":case "L":f=a.getMonth();3>e?(f+=1,g=!0):(l=["months","L"==l?"standAlone":"format",
k[e-3]].join("-"),f=b[l][f]);break;case "w":f=u._getWeekOfYear(a,0);g=!0;break;case "d":f=a.getDate();g=!0;break;case "D":f=u._getDayOfYear(a);g=!0;break;case "e":case "c":if(f=a.getDay(),2>e){f=(f-m.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":f=a.getDay();3>e?(f+=1,g=!0):(l=["days","c"==l?"standAlone":"format",k[e-3]].join("-"),f=b[l][f]);break;case "a":l=12>a.getHours()?"am":"pm";f=c[l]||b["dayPeriods-format-wide-"+l];break;case "h":case "H":case "K":case "k":g=a.getHours();switch(l){case "h":f=
g%12||12;break;case "H":f=g;break;case "K":f=g%12;break;case "k":f=g||24}g=!0;break;case "m":f=a.getMinutes();g=!0;break;case "s":f=a.getSeconds();g=!0;break;case "S":f=Math.round(a.getMilliseconds()*Math.pow(10,e-3));g=!0;break;case "v":case "z":if(f=u._getZone(a,!0,c))break;e=4;case "Z":l=u._getZone(a,!1,c);l=[0>=l?"+":"-",h.pad(Math.floor(Math.abs(l)/60),2),h.pad(Math.abs(l)%60,2)];4==e&&(l.splice(0,0,"GMT"),l.splice(3,0,":"));f=l.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}g&&(f=h.pad(f,e));return f})}function d(a,c,d,e){var f=function(a){return a};c=c||f;d=d||f;e=e||f;var h=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);b.forEach(h,function(a,b){a?(h[b]=(g?d:c)(a.replace(/''/g,"'")),g=!g):h[b]=""});return e(h.join(""))}function q(a,b,c,d){d=g.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var f=d.length,h="",g="";c.strict?(1<f&&(h="0{"+(f-1)+"}"),2<f&&(g="0{"+(f-2)+"}")):(h="0?",g="0{0,2}");switch(e){case "y":e=
"\\d{2,4}";break;case "M":case "L":2<f?(e=b["months-"+("L"==e?"standAlone":"format")+"-"+y[f-3]].slice(0).join("|"),c.strict||(e=e.replace(/\./g,""),e="(?:"+e+")\\.?")):e="1[0-2]|"+h+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+g+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+h+"[1-9]";break;case "E":case "e":case "c":e=".+?";break;case "h":e="1[0-2]|"+h+"[1-9]";break;case "k":e="1[01]|"+h+"\\d";break;case "H":e="1\\d|2[0-3]|"+
h+"\\d";break;case "K":e="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+f+"}";break;case "a":f=c.am||b["dayPeriods-format-wide-am"];h=c.pm||b["dayPeriods-format-wide-pm"];e=f+"|"+h;c.strict||(f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),h!=h.toLowerCase()&&(e+="|"+h.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var u={};a.setObject(f.id.replace(/\//g,
"."),u);u._getZone=function(a,b,c){return b?k.getTimezoneName(a):a.getTimezoneOffset()};u.format=function(b,e){e=e||{};var f=l.normalizeLocale(e.locale),h=e.formatLength||"short",f=u._getGregorianBundle(f),g=[];b=a.hitch(this,c,b,f,e);if("year"==e.selector)return d(f["dateFormatItem-yyyy"]||"yyyy",b);var k;"date"!=e.selector&&(k=e.timePattern||f["timeFormat-"+h])&&g.push(d(k,b));"time"!=e.selector&&(k=e.datePattern||f["dateFormat-"+h])&&g.push(d(k,b));return 1==g.length?g[0]:f["dateTimeFormat-"+h].replace(/\'/g,
"").replace(/\{(\d+)\}/g,function(a,b){return g[b]})};u.regexp=function(a){return u._parseInfo(a).regexp};u._parseInfo=function(b){b=b||{};var c=l.normalizeLocale(b.locale),c=u._getGregorianBundle(c),e=b.formatLength||"short",f=b.datePattern||c["dateFormat-"+e],h=b.timePattern||c["timeFormat-"+e],e="date"==b.selector?f:"time"==b.selector?h:c["dateTimeFormat-"+e].replace(/\{(\d+)\}/g,function(a,b){return[h,f][b]}),g=[];return{regexp:d(e,a.hitch(this,q,g,c,b)),tokens:g,bundle:c}};u.parse=function(a,
c){var d=/[\u200E\u200F\u202A\u202E]/g,e=u._parseInfo(c),f=e.tokens,h=e.bundle;a=(new RegExp("^"+e.regexp.replace(d,"")+"$",e.strict?"":"i")).exec(a&&a.replace(d,""));if(!a)return null;var g=["abbr","wide","narrow"],l=[1970,0,1,0,0,0,0],q="";a=b.every(a,function(a,d){if(!d)return!0;var e=f[d-1];d=e.length;e=e.charAt(0);switch(e){case "y":if(2!=d&&c.strict)l[0]=a;else if(100>a)a=Number(a),e=""+(new Date).getFullYear(),d=100*e.substring(0,2),e=Math.min(Number(e.substring(2,4))+20,99),l[0]=a<e?d+a:d-
100+a;else{if(c.strict)return!1;l[0]=a}break;case "M":case "L":if(2<d){if(d=h["months-"+("L"==e?"standAlone":"format")+"-"+g[d-3]].concat(),c.strict||(a=a.replace(".","").toLowerCase(),d=b.map(d,function(a){return a.replace(".","").toLowerCase()})),a=b.indexOf(d,a),-1==a)return!1}else a--;l[1]=a;break;case "E":case "e":case "c":d=h["days-"+("c"==e?"standAlone":"format")+"-"+g[d-3]].concat();c.strict||(a=a.toLowerCase(),d=b.map(d,function(a){return a.toLowerCase()}));a=b.indexOf(d,a);if(-1==a)return!1;
break;case "D":l[1]=0;case "d":l[2]=a;break;case "a":d=c.am||h["dayPeriods-format-wide-am"];e=c.pm||h["dayPeriods-format-wide-pm"];if(!c.strict){var k=/\./g;a=a.replace(k,"").toLowerCase();d=d.replace(k,"").toLowerCase();e=e.replace(k,"").toLowerCase()}if(c.strict&&a!=d&&a!=e)return!1;q=a==e?"p":a==d?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;l[3]=a;break;case "m":l[4]=a;break;case "s":l[5]=a;break;case "S":l[6]=a}return!0});d=+l[3];"p"===q&&12>d?l[3]=d+12:"a"===
q&&12==d&&(l[3]=0);d=new Date(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);c.strict&&d.setFullYear(l[0]);var m=f.join(""),e=-1!=m.indexOf("d"),m=-1!=m.indexOf("M");if(!a||m&&d.getMonth()>l[1]||e&&d.getDate()>l[2])return null;if(m&&d.getMonth()<l[1]||e&&d.getDate()<l[2])d=k.add(d,"hour",1);return d};var y=["abbr","wide","narrow"],A=[],r={};u.addCustomFormats=function(a,b){A.push({pkg:a,name:b});r={}};u._getGregorianBundle=function(c){if(r[c])return r[c];var d={};b.forEach(A,function(b){b=l.getLocalization(b.pkg,
b.name,c);d=a.mixin(d,b)},this);return r[c]=d};u.addCustomFormats(f.id.replace(/\/date\/locale$/,".cldr"),"gregorian");u.getNames=function(a,b,c,d){var e;d=u._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};u.isWeekend=function(a,b){b=m.getWeekend(b);a=(a||new Date).getDay();b.end<b.start&&(b.end+=7,a<b.start&&(a+=7));return a>=b.start&&a<=b.end};u._getDayOfYear=function(a){return k.difference(new Date(a.getFullYear(),
0,1,a.getHours()),a)+1};u._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=(c-b+7)%7,d=Math.floor((u._getDayOfYear(a)+d-1)/7);c==b&&d++;return d};return u})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(a,b){var k={};a.setObject("dojo.cldr.supplemental",k);k.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,
br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(a)];return void 0===a?1:a};k._region=function(a){a=b.normalizeLocale(a);a=a.split("-");var l=a[1];l?4==l.length&&(l=a[2]):l={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",
bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",
kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",
sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",
bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",
hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",
mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",
ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[a[0]];return l};k.getWeekend=
function(a){var b=k._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===a&&(a=6);void 0===b&&(b=0);return{start:a,end:b}};return k})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.forEach=function(a,b){if(a.forEach)a.forEach(b);else for(var l=
0;l<a.length;l++)b(a[l],l,a)};b.slice=function(a,b,l){if(a.slice)return a.slice(b,l);void 0===b?b=0:(0>b&&(b+=a.length),b=Math.min(a.length,Math.max(0,b)));void 0===l?l=a.length:(0>l&&(l+=a.length),l=Math.min(a.length,Math.max(0,l)));l=Math.max(0,l-b);for(var g=new a.constructor(l),h=0;h<l;h++)g[h]=a[b+h];return g};b.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};b.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&
"Int8Array"===a.constructor.name};b.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};b.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};b.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};b.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};
b.isInt32Array=function(a){return a instanceof Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};b.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};b.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};b.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};b.toArray=function(a){for(var b=Array(a.length),
l=0;l<a.length;l++)b[l]=a[l];return b}})},"@dojo/framework/shim/string":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var k=a("tslib"),m=a("./global"),l=a("../has/has");a=a("./support/util");b.HIGH_SURROGATE_MIN=55296;b.HIGH_SURROGATE_MAX=
56319;b.LOW_SURROGATE_MIN=56320;b.LOW_SURROGATE_MAX=57343;if(l.default("es6-string")&&l.default("es6-string-raw"))b.fromCodePoint=m.default.String.fromCodePoint,b.raw=m.default.String.raw,b.codePointAt=a.wrapNative(m.default.String.prototype.codePointAt),b.endsWith=a.wrapNative(m.default.String.prototype.endsWith),b.includes=a.wrapNative(m.default.String.prototype.includes),b.normalize=a.wrapNative(m.default.String.prototype.normalize),b.repeat=a.wrapNative(m.default.String.prototype.repeat),b.startsWith=
a.wrapNative(m.default.String.prototype.startsWith);else{var g=function(a,b,f,c,d){void 0===d&&(d=!1);if(null==b)throw new TypeError("string."+a+" requires a valid string to search against.");a=b.length;return[b,String(f),Math.min(Math.max(c!==c?d?a:0:c,0),a)]};b.fromCodePoint=function(){for(var a=0;a<arguments.length;a++);a=arguments.length;if(!a)return"";for(var e=String.fromCharCode,f=[],c=-1,d="";++c<a;){var g=Number(arguments[c]);if(!(isFinite(g)&&Math.floor(g)===g&&0<=g&&1114111>=g))throw RangeError("string.fromCodePoint: Invalid code point "+
g);65535>=g?f.push(g):(g-=65536,f.push((g>>10)+b.HIGH_SURROGATE_MIN,g%1024+b.LOW_SURROGATE_MIN));if(c+1===a||16384<f.length)d+=e.apply(null,f),f.length=0}return d};b.raw=function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];var f=a.raw,c="",d=b.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var h=0,g=f.length;h<g;h++)c+=f[h]+(h<d&&h<g-1?b[h]:"");return c};b.codePointAt=function(a,e){void 0===e&&(e=0);if(null==
a)throw new TypeError("string.codePointAt requries a valid string.");var f=a.length;e!==e&&(e=0);if(!(0>e||e>=f)){var c=a.charCodeAt(e);return c>=b.HIGH_SURROGATE_MIN&&c<=b.HIGH_SURROGATE_MAX&&f>e+1&&(a=a.charCodeAt(e+1),a>=b.LOW_SURROGATE_MIN&&a<=b.LOW_SURROGATE_MAX)?1024*(c-b.HIGH_SURROGATE_MIN)+a-b.LOW_SURROGATE_MIN+65536:c}};b.endsWith=function(a,b,f){if(""===b)return!0;if("undefined"===typeof f)f=a.length;else if(null===f||isNaN(f))return!1;f=k.__read(g("endsWith",a,b,f,!0),3);a=f[0];b=f[1];
f=f[2];var c=f-b.length;return 0>c?!1:a.slice(c,f)===b};b.includes=function(a,b,f){void 0===f&&(f=0);f=k.__read(g("includes",a,b,f),3);a=f[0];b=f[1];f=f[2];return-1!==a.indexOf(b,f)};b.repeat=function(a,b){void 0===b&&(b=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");b!==b&&(b=0);if(0>b||Infinity===b)throw new RangeError("string.repeat requires a non-negative finite count.");for(var e="";b;)b%2&&(e+=a),1<b&&(a+=a),b>>=1;return e};b.startsWith=function(a,b,f){void 0===
f&&(f=0);b=String(b);f=k.__read(g("startsWith",a,b,f),3);a=f[0];b=f[1];f=f[2];var c=f+b.length;return c>a.length?!1:a.slice(f,c)===b}}l.default("es2017-string")?(b.padEnd=a.wrapNative(m.default.String.prototype.padEnd),b.padStart=a.wrapNative(m.default.String.prototype.padStart)):(b.padEnd=function(a,e,f){void 0===f&&(f=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padEnd requires a non-negative finite count.");
if(null===e||void 0===e||0>e)e=0;a=String(a);e-=a.length;0<e&&(a+=b.repeat(f,Math.floor(e/f.length))+f.slice(0,e%f.length));return a},b.padStart=function(a,e,f){void 0===f&&(f=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;a=String(a);e-=a.length;0<e&&(a=b.repeat(f,Math.floor(e/f.length))+f.slice(0,e%f.length)+a);return a})})},"tslib/tslib":function(){var a,
b,k,m,l,g,h,e,f,c,d,q,u,y,A,r,t,D,G;(function(a){function b(a,b){a!==c&&("function"===typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(c,d){return a[c]=b?b(c,d):d}}var c="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(d){a(b(c,b(d)))}):"object"===typeof module&&"object"===typeof module.exports?a(b(c,b(module.exports))):a(b(c))})(function(v){var w=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};a=function(a,b){function c(){this.constructor=a}w(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};k=function(a,b){var c={},d;for(d in a)Object.prototype.hasOwnProperty.call(a,
d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&(c[d[e]]=a[d[e]])}return c};m=function(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(a,b,c,d);else for(var g=a.length-1;0<=g;g--)if(h=a[g])f=(3>e?h(f):3<e?h(b,c,f):h(b,c))||f;return 3<e&&f&&Object.defineProperty(b,
c,f),f};l=function(a,b){return function(c,d){b(c,d,a)}};g=function(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)};h=function(a,b,c,d){return new (c||(c=Promise))(function(e,f){function h(a){try{l(d.next(a))}catch(I){f(I)}}function g(a){try{l(d["throw"](a))}catch(I){f(I)}}function l(a){a.done?e(a.value):(new c(function(b){b(a.value)})).then(h,g)}l((d=d.apply(a,b||[])).next())})};e=function(a,b){function c(a){return function(b){return d([a,b])}}
function d(c){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,h&&(g=c[0]&2?h["return"]:c[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,c[1])).done)return g;if(h=0,g)c=[c[0]&2,g.value];switch(c[0]){case 0:case 1:g=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++;h=c[1];c=[0];continue;case 7:c=e.ops.pop();e.trys.pop();continue;default:if(!(g=e.trys,g=0<g.length&&g[g.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&
(!g||c[1]>g[0]&&c[1]<g[3]))e.label=c[1];else if(6===c[0]&&e.label<g[1])e.label=g[1],g=c;else if(g&&e.label<g[2])e.label=g[2],e.ops.push(c);else{g[2]&&e.ops.pop();e.trys.pop();continue}}c=b.call(a,e)}catch(I){c=[6,I],h=0}finally{f=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),
l};f=function(a,b){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])};c=function(a){var b="function"===typeof Symbol&&a[Symbol.iterator],c=0;return b?b.call(a):{next:function(){a&&c>=a.length&&(a=void 0);return{value:a&&a[c++],done:!a}}}};d=function(a,b){var c="function"===typeof Symbol&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{for(;(void 0===b||0<b--)&&!(d=a.next()).done;)e.push(d.value)}catch(N){f={error:N}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error;
}}return e};q=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(d(arguments[b]));return a};u=function(a){return this instanceof u?(this.v=a,this):new u(a)};y=function(a,b,c){function d(a){l[a]&&(q[a]=function(b){return new Promise(function(c,d){1<m.push([a,b,c,d])||e(a,b)})})}function e(a,b){try{var c=l[a](b);c.value instanceof u?Promise.resolve(c.value.v).then(f,h):g(m[0][2],c)}catch(T){g(m[0][3],T)}}function f(a){e("next",a)}function h(a){e("throw",a)}function g(a,b){(a(b),m.shift(),
m.length)&&e(m[0][0],m[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=c.apply(a,b||[]),q,m=[];return q={},d("next"),d("throw"),d("return"),q[Symbol.asyncIterator]=function(){return this},q};A=function(a){function b(b,e){c[b]=a[b]?function(c){return(d=!d)?{value:u(a[b](c)),done:"return"===b}:e?e(c):c}:e}var c,d;return c={},b("next"),b("throw",function(a){throw a;}),b("return"),c[Symbol.iterator]=function(){return this},c};r=function(a){function b(b){f[b]=
a[b]&&function(c){return new Promise(function(e,f){c=a[b](c);d(e,f,c.done,c.value)})}}function d(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],f;return e?e.call(a):(a="function"===typeof c?c(a):a[Symbol.iterator](),f={},b("next"),b("throw"),b("return"),f[Symbol.asyncIterator]=function(){return this},f)};t=function(a,b){Object.defineProperty?Object.defineProperty(a,
"raw",{value:b}):a.raw=b;return a};D=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b};G=function(a){return a&&a.__esModule?a:{"default":a}};v("__extends",a);v("__assign",b);v("__rest",k);v("__decorate",m);v("__param",l);v("__metadata",g);v("__awaiter",h);v("__generator",e);v("__exportStar",f);v("__values",c);v("__read",d);v("__spread",q);v("__await",u);v("__asyncGenerator",y);v("__asyncDelegator",A);v("__asyncValues",
r);v("__makeTemplateObject",t);v("__importStar",D);v("__importDefault",G)})},"@dojo/framework/shim/global":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();
b.default=a})},"@dojo/framework/has/has":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],a)})(function(a,b){function k(a){a=a.toLowerCase();return!!(a in e||a in b.testCache||b.testFunctions[a])}function m(a,d,f){void 0===f&&(f=!1);var c=a.toLowerCase();if(k(c)&&!f&&!(c in e))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');
"function"===typeof d?b.testFunctions[c]=d:(b.testCache[c]=d,delete b.testFunctions[c])}function l(a){var c=a.toLowerCase();if(c in e)a=e[c];else if(b.testFunctions[c])a=b.testCache[c]=b.testFunctions[c].call(null),delete b.testFunctions[c];else if(c in b.testCache)a=b.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+a+'"');return a}Object.defineProperty(b,"__esModule",{value:!0});var g=a("tslib"),h=a("../shim/global");b.testCache={};b.testFunctions={};a=(h.default.DojoHasEnvironment||
{}).staticFeatures;"DojoHasEnvironment"in h.default&&delete h.default.DojoHasEnvironment;var e=a?"function"===typeof a?a.apply(h.default):a:{};b.load=function(a,b,e,f){a?b([a],e):e()};b.normalize=function(a,b){function c(a){var b=d[e++];if(":"===b)return null;if("?"===d[e++]){if(!a&&l(b))return c();c(!0);return c(a)}return b}var d=a.match(/[\?:]|[^:\?]*/g)||[],e=0;return(a=c())&&b(a)};b.exists=k;b.add=m;b.default=l;m("public-path",void 0);m("dojo-debug",!1);m("host-browser","undefined"!==typeof document&&
"undefined"!==typeof location);m("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});m("fetch","fetch"in h.default&&"function"===typeof h.default.fetch,!0);m("es6-array",function(){return["from","of"].every(function(a){return a in h.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in h.default.Array.prototype})},!0);m("es6-array-fill",function(){return"fill"in h.default.Array.prototype?1===[1].fill(9,
Number.POSITIVE_INFINITY)[0]:!1},!0);m("es7-array",function(){return"includes"in h.default.Array.prototype},!0);m("es6-map",function(){if("function"===typeof h.default.Map)try{var a=new h.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&l("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(d){}return!1},!0);m("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===
typeof h.default.Math[a]})},!0);m("es6-math-imul",function(){return"imul"in h.default.Math?-5===Math.imul(4294967295,5):!1},!0);m("es6-object",function(){return l("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);m("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);m("es-observable",function(){return"undefined"!==
typeof h.default.Observable},!0);m("es6-promise",function(){return"undefined"!==typeof h.default.Promise&&l("es6-symbol")},!0);m("es2018-promise-finally",function(){return l("es6-promise")&&"undefined"!==typeof h.default.Promise.prototype.finally},!0);m("es6-set",function(){if("function"===typeof h.default.Set){var a=new h.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&l("es6-symbol")}return!1},!0);m("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===
typeof h.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);m("es6-string-raw",function(){function a(a){for(var b=1;b<arguments.length;b++);b=g.__spread(a);b.raw=a.raw;return b}if("raw"in h.default.String){var b=a(f||(f=g.__makeTemplateObject(["a\n",""],["a\\n",""])),1);b.raw=["a\\n"];return"a\\n"===h.default.String.raw(b,42)}return!1},!0);m("es2017-string",function(){return["padStart",
"padEnd"].every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);m("es6-symbol",function(){return"undefined"!==typeof h.default.Symbol&&"symbol"===typeof Symbol()},!0);m("es6-weakmap",function(){if("undefined"!==typeof h.default.WeakMap){var a={},b={},e=new h.default.WeakMap([[a,1]]);Object.freeze(a);return 1===e.get(a)&&e.set(b,2)===e&&l("es6-symbol")}return!1},!0);m("microtasks",function(){return l("es6-promise")||0||l("dom-mutationobserver")},!0);m("postmessage",function(){return"undefined"!==
typeof h.default.window&&"function"===typeof h.default.postMessage},!0);m("raf",function(){return"function"===typeof h.default.requestAnimationFrame},!0);m("setimmediate",function(){return"undefined"!==typeof h.default.setImmediate},!0);m("dom-mutationobserver",function(){if(l("host-browser")&&(h.default.MutationObserver||h.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (h.default.MutationObserver||h.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});
a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);m("dom-webanimation",function(){return l("host-browser")&&void 0!==h.default.Animation&&void 0!==h.default.KeyframeEffect},!0);m("abort-controller",function(){return"undefined"!==typeof h.default.AbortController});m("abort-signal",function(){return"undefined"!==typeof h.default.AbortSignal});m("dom-intersection-observer",function(){return l("host-browser")&&void 0!==h.default.IntersectionObserver},!0);m("dom-resize-observer",
function(){return l("host-browser")&&void 0!==h.default.ResizeObserver},!0);m("dom-pointer-events",function(){return l("host-browser")&&void 0!==h.default.onpointerdown},!0);m("build-elide",!1);var f})},"@dojo/framework/shim/support/util":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",
{value:!0});b.getValueDescriptor=function(a,b,l,g){void 0===b&&(b=!1);void 0===l&&(l=!0);void 0===g&&(g=!0);return{value:a,enumerable:b,writable:l,configurable:g}};b.wrapNative=function(a){return function(b){for(var l=[],g=1;g<arguments.length;g++)l[g-1]=arguments[g];return a.apply(b,l)}}})},"esri/core/Message":function(){define(["require","exports","dojo/string"],function(a,b,k){return function(){function a(b,g,h){this instanceof a&&(this.name=b,this.message=g&&k.substitute(g,h,function(a){return null==
a?"":a})||"",this.details=h)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/core/has":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(a,b,k,m,l){function g(){var a={available:!1,version:0,majorPerformanceCaveat:!1,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1},b=document.createElement("canvas");
if(!b)return a;var e=l.createContext(b,{failIfMajorPerformanceCaveat:!0},"webgl");!e&&(e=l.createContext(b,{},"webgl"))&&(a.majorPerformanceCaveat=!0);if(!e)return a;b=e.getParameter(e.VERSION);if(!b)return a;if(b=b.match(/^WebGL\s+([\d.]*)/))a.version=parseFloat(b[1]),a.available=.94<=a.version,b=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT),a.supportsHighPrecisionFragment=b&&0<b.precision,a.supportsVertexShaderSamplers=0<e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),a.supportsElementIndexUint=
null!==e.getExtension("OES_element_index_uint"),a.supportsStandardDerivatives=null!==e.getExtension("OES_standard_derivatives"),a.supportsInstancedArrays=null!==e.getExtension("ANGLE_instanced_arrays");return a}function h(){var a={available:!1,version:0},b=document.createElement("canvas");if(!b)return a;b=l.createContext(b,{},"webgl2");if(!b)return a;a.available=!0;b=b.getParameter(b.VERSION);if(!b)return a;if(b=b.match(/^WebGL\s+([\d.]*)/))a.version=parseFloat(b[1]);return a}var e=null,f=null;(function(){var a=
navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);b&&k.add("esri-mobile",b);a&&k.add("esri-iPhone",a);k.add("esri-geolocation",function(){return!!navigator.geolocation});k.add("esri-canvas-svg-support",function(){return!(k("trident")||k("ie"))});k.add("esri-secure-context",function(){if("isSecureContext"in m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});k.add("esri-wasm",
"WebAssembly"in m);k("host-webworker")||(k.add("esri-workers","Worker"in m),k.add("esri-url-encodes-apostrophe",function(){var a=m.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),e||(e=g()),k.add("esri-webgl",e.available),k.add("esri-webgl-high-precision-fragment",e.supportsHighPrecisionFragment),k.add("esri-webgl-vertex-shader-samplers",e.supportsVertexShaderSamplers),k.add("esri-webgl-element-index-uint",e.supportsElementIndexUint),k.add("esri-webgl-standard-derivatives",
e.supportsStandardDerivatives),k.add("esri-webgl-instanced-arrays",e.supportsInstancedArrays),k.add("esri-webgl-major-performance-caveat",e.majorPerformanceCaveat),k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),f||(f=h()),k.add("esri-webgl2",f.available))})();return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(a,b){function k(a,b,f){void 0===b&&(b={});var c;switch(f){case "webgl":c=["webgl","experimental-webgl","webkit-3d",
"moz-webgl"];break;case "webgl2":c=["webgl2"];break;default:c=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}f=null;for(var d=0;d<c.length;d++){var e=c[d];try{f=a.getContext(e,b)}catch(u){}if(f)break}return f}function m(a,b){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}
Object.defineProperty(b,"__esModule",{value:!0});b.createContextOrErrorHTML=function(a,b,f){void 0===b&&(b={});if(!window.WebGLRenderingContext)return m(a,l),null;b=k(a,b,f);return b?b:(m(a,g),null)};b.createContext=k;var l='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',g='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./has!host-browser?./_base/browser require".split(" "),function(a,b,k,m,l,g,h,e){h.isDebug&&k(["./_firebug/firebug"]);return a})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(a,b,k){function m(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function l(a,b){for(var c=
[],d=[{cls:0,refs:[]}],e={},f=1,h=a.length,g=0,l,q,k,v,r;g<h;++g){(l=a[g])?"[object Function]"!=B.call(l)&&m("mixin #"+g+" is not a callable constructor.",b):m("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",b);q=l._meta?l._meta.bases:[l];k=0;for(l=q.length-1;0<=l;--l)v=q[l].prototype,v.hasOwnProperty("declaredClass")||(v.declaredClass="uniqName_"+C++),v=v.declaredClass,e.hasOwnProperty(v)||(e[v]={count:0,refs:[],cls:q[l]},++f),v=e[v],k&&k!==v&&(v.refs.push(k),++k.count),k=v;++k.count;
d[0].refs.push(k)}for(;d.length;){k=d.pop();c.push(k.cls);for(--f;r=k.refs,1==r.length;){k=r[0];if(!k||--k.count){k=0;break}c.push(k.cls);--f}if(k)for(g=0,h=r.length;g<h;++g)k=r[g],--k.count||d.push(k)}f&&m("can't build consistent linearization",b);l=a[0];c[0]=l?l._meta&&l===c[c.length-l._meta.bases.length]?l._meta.bases.length:1:0;return c}function g(a,b,c,d){var e,f,h,g,l,k,q=this._inherited=this._inherited||{};"string"===typeof a&&(e=a,a=b,b=c,c=d);if("function"===typeof a)h=a,a=b,b=c;else try{h=
a.callee}catch(U){if(U instanceof TypeError)m("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw U;}(e=e||h.nom)||m("can't deduce a name to call inherited()",this.declaredClass);c=d=0;g=this.constructor._meta;d=g.bases;k=q.p;if("constructor"!=e){if(q.c!==h&&(k=0,l=d[0],g=l._meta,g.hidden[e]!==h)){(f=g.chains)&&"string"==typeof f[e]&&m("calling chained method with inherited: "+e,this.declaredClass);do if(g=l._meta,f=l.prototype,g&&(f[e]===
h&&f.hasOwnProperty(e)||g.hidden[e]===h))break;while(l=d[++k]);k=l?k:-1}if(l=d[++k])if(f=l.prototype,l._meta&&f.hasOwnProperty(e))c=f[e];else{h=w[e];do if(f=l.prototype,(c=f[e])&&(l._meta?f.hasOwnProperty(e):c!==h))break;while(l=d[++k])}c=l&&c||w[e]}else{if(q.c!==h&&(k=0,(g=d[0]._meta)&&g.ctor!==h)){for((f=g.chains)&&"manual"===f.constructor||m("calling chained constructor with inherited",this.declaredClass);(l=d[++k])&&(!(g=l._meta)||g.ctor!==h););k=l?k:-1}for(;(l=d[++k])&&!(c=(g=l._meta)?g.ctor:
l););c=l&&c}q.c=c;q.p=k;if(c)return!0===b?c:c.apply(this,b||a)}function h(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function e(a,b,c,d){var e=this.getInherited(a,b,c);if(e)return e.apply(this,d||c||b||a)}function f(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function c(a,b){for(var c in b)"constructor"!=
c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function d(a){G.safeMixin(this.prototype,a);return this}function q(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return G([this].concat(a),b)}function u(a,b){return function(){var c=arguments,d=c,e=c[0],f,h;h=a.length;var g;if(!(this instanceof c.callee))return D(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&
e.preamble)&&(c=e.apply(this,c)||c);if(++f==h)break;g[f]=c}for(f=h-1;0<=f;--f)e=a[f],(e=(h=e._meta)?h.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function y(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return D(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function A(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return D(b);
for(;d=a[c];++c)if(d=(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function r(a,b,c){return function(){var d,e,f=0,h=1;c&&(f=b.length-1,h=-1);for(;d=b[f];f+=h)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function t(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function D(a){var b=a.callee,c=t(b);b.apply(c,a);return c}function G(a,e,D){"string"!=typeof a&&(D=e,e=a,a="");D=D||{};var z,E,C,I,H,K,M,F=1,N=e;"[object Array]"==B.call(e)?
(K=l(e,a),C=K[0],F=K.length-C,e=K[F]):(K=[0],e?"[object Function]"==B.call(e)?(C=e._meta,K=K.concat(C?C.bases:e)):m("base class is not a callable constructor.",a):null!==e&&m("unknown base class. Did you use dojo.require to pull it in?",a));if(e)for(E=F-1;;--E){z=t(e);if(!E)break;C=K[E];(C._meta?c:v)(z,C.prototype);I=b("csp-restrictions")?function(){}:new Function;I.superclass=e;I.prototype=z;e=z.constructor=I}else z={};G.safeMixin(z,D);C=D.constructor;C!==w.constructor&&(C.nom="constructor",z.constructor=
C);for(E=F-1;E;--E)(C=K[E]._meta)&&C.chains&&(M=v(M||{},C.chains));z["-chains-"]&&(M=v(M||{},z["-chains-"]));e&&e.prototype&&e.prototype["-chains-"]&&(M=v(M||{},e.prototype["-chains-"]));C=!M||!M.hasOwnProperty("constructor");K[0]=I=M&&"manual"===M.constructor?A(K):1==K.length?y(D.constructor,C):u(K,C);I._meta={bases:K,hidden:D,chains:M,parents:N,ctor:D.constructor};I.superclass=e&&e.prototype;I.extend=d;I.createSubclass=q;I.prototype=z;z.constructor=I;z.getInherited=h;z.isInstanceOf=f;z.inherited=
L;z.__inherited=g;a&&(z.declaredClass=a,k.setObject(a,I));if(M)for(H in M)z[H]&&"string"==typeof M[H]&&"constructor"!=H&&(C=z[H]=r(H,K,"after"===M[H]),C.nom=H);return I}var v=k.mixin,w=Object.prototype,B=w.toString,z,C=0;z=b("csp-restrictions")?function(){}:new Function;var L=a.config.isDebug?e:g;a.safeMixin=G.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===w[c]&&c in w||"constructor"==c||("[object Function]"==B.call(d)&&(d.nom=c),a[c]=d);return a};return a.declare=G})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./kebabDictionary ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),
function(a,b,k,m,l,g){function h(a){if(a=G[a])return a;throw Error("unknown measure");}function e(a){return D[a].baseUnit}function f(a,b){void 0===b&&(b=null);b=b||h(a);return D[b].baseUnit===a}function c(a,b,c){if(b===c)return a;var d=h(b);if(d!==h(c))throw Error("incompatible units");a=f(b,d)?a:a*D[d].units[b].inBaseUnits;return f(c,d)?a:a/D[d].units[c].inBaseUnits}function d(a){return t.fromJSON(a.toLowerCase())||null}function q(a){return u(a)||b.decDegToMeters}function u(a){var b,c,d;null!=a&&
("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=r.values[r[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=A.exec(c))&&a[1]&&(d=parseFloat(a[1].split(",")[1]));return d}function y(a){var b,c,e;null!=a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?e=r.units[r[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=A.exec(c))&&a[1]&&(e=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return e?d(e):null}Object.defineProperty(b,"__esModule",
{value:!0});b.inchesPerMeter=39.37;b.decDegToMeters=l.wgs84Radius*Math.PI/180;var A=/UNIT\[([^\]]+)\]\]$/i,r=g,t=m.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};m={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};var D={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:m},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},G=function(){var a={},b;for(b in D)for(var c in D[b].units)a[c]=
b;return a}();b.measureForUnit=h;b.baseUnitForMeasure=e;b.baseUnitForUnit=function(a){return e(h(a))};b.isBaseUnit=f;b.convertUnit=c;b.preferredMetricLengthUnit=function(a,b){return 3E3>c(a,b,"meters")?"meters":"kilometers"};b.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>c(a,b,"meters")?"meters":"kilometers"};b.preferredImperialLengthUnit=function(a,b){return 1E3>c(a,b,"feet")?"feet":"miles"};b.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>c(a,b,"feet")?"feet":"miles"};
b.preferredMetricAreaUnit=function(a,b){return 3E6>c(a,b,"square-meters")?"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(a,b){return 1E6>c(a,b,"square-feet")?"square-feet":"square-miles"};b.lengthToDegrees=function(a,b,d){void 0===d&&(d=l.wgs84Radius);return c(a,b,"meters")/(d*Math.PI/180)};b.unitFromRESTJSON=d;b.unitToRESTJSON=function(a){return t.toJSON(a)||null};b.getMetersPerVerticalUnitForSR=function(a){a=q(a);return 1E5<a?1:a};b.getVerticalUnitStringForSR=function(a){return 1E5<
q(a)?"meters":y(a)};b.getMetersPerUnitForSR=q;b.getMetersPerUnit=u;b.getUnitString=y;b.getDefaultUnitSystem=function(a){if(!a)return null;a=y(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";
case null:case void 0:break;default:k.neverReached(a)}return null}})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.neverReached=function(a){};b.neverReachedSilent=function(a){};b.typeCast=function(a){return function(){return a}};b.tuple=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a}})},"esri/core/kebabDictionary":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});var k=function(){function a(a,b){void 0===b&&(b={ignoreUnknown:!1});var h=this;this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return h.fromJSON(a)};this.write=function(a,b,c){a=h.toJSON(a);void 0!==a&&(b[c]=a)}}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?this.apiToJSON[a]:
this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},h;for(h in a)b[a[h]]=h;return b};a.prototype.getKeysSorted=function(a){var b=[],h;for(h in a)b.push(h);b.sort();return b};return a}();b.KebabDictionary=k;b.strict=function(){return function(a){return new k(a,{ignoreUnknown:!0})}};b.default=k})},"esri/core/wgs84Constants":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,
.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,
2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,
3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,
3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,
3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,
5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,
6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,
6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,
6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,
6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,
7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,
7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8082:0,8083:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,
8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,
8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8682:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,
23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,
31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,
102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,
103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,
103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,
103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=
a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=
a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=
a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=
a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=
a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=
a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=
a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=
a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=
a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;
for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=
0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=
a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=
a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=
a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=
a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=
a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=
2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=
2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=
0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=
2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=
0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=
0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103600;103694>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/core/workers/RemoteClient":function(){define("require exports @dojo/framework/shim/AbortController ../Error ../promiseUtils ./utils".split(" "),
function(a,b,k,m,l,g){function h(a,b){a["delete"](b)}function e(a){a=new m("AbortError",a);a.dojoType="cancel";return a}var f=g.MessageType.CLOSE,c=g.MessageType.ABORT,d=g.MessageType.INVOKE,q=g.MessageType.RESPONSE,u=g.MessageType.OPEN_PORT,y=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===g.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):
(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b,c){var d=this;this._port=a;this._client=
b;this._outJobs=new Map;this._inJobs=new Map;this._queue=new y(function(a){return d._onInvoke(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._port.addEventListener("message",this._onMessage);this._port.start();this._channel=c.channel;c.scheduler&&(this._frameTask=c.scheduler.registerTask(1,function(a){return d._update(a)},function(){return 0<d._responseQueue.length}))}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===
typeof b.default?new b.default:b;b.remoteClient=new a(c.port1,b,{channel:c});return c.port2};a.prototype.close=function(){this._post({type:f});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,b,f){var k=this,q=f&&f.signal,r=f&&f.transferList;if(!this._port)return l.reject(new m("remote-client:port-closed","Can't invoke(), port is closed"));if(q&&q.aborted)return l.reject(e("Job already aborted"));var u=g.newJobId(),A=function(){q&&q.removeEventListener("abort",
A);var a=k._outJobs.get(u);a&&(h(k._outJobs,u),k._post({type:c,jobId:u}),a.reject(e("Job aborted")))};q&&q.addEventListener("abort",A);return l.create(function(c,e){k._outJobs.set(u,{resolve:c,reject:e});k._post({type:d,jobId:u,methodName:a,abortable:!0},b,r)},A)};a.prototype.openPort=function(){var a=this,b=g.newJobId(),d=function(){h(a._outJobs,b);a._post({type:c,jobId:b})};return l.create(function(c,e){a._outJobs.set(b,{resolve:c,reject:e,signal:d});a._post({type:u,jobId:b})},d)};a.prototype._close=
function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(e("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._queue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=g.receiveMessage(a))switch(a.type){case q:this._onResponse(a);break;case d:this._queue.push(a);
break;case c:this._onAbort(a);break;case f:this._onClose();break;case u:this._onOpenPort(a)}};a.prototype._onAbort=function(a){var b=this._inJobs,c=a.jobId,d=b.get(c);this._queue.push(a);d&&(d.controller&&d.controller.abort(),h(b,c))};a.prototype._onClose=function(){var a=this._client;this._close();a&&a.remoteClient===this&&"destroy"in a&&a.destroy();a.remoteClient=null};a.prototype._onInvoke=function(a){var b=this,c=a.methodName,d=a.jobId,e=a.data,f=a.abortable?new k.default:null,m=this._inJobs;
a=this._client;var r=a[c],u;try{if(!r&&c&&-1!==c.indexOf("."))for(var A=c.split("."),y=0;y<A.length-1;y++)a=a[A[y]],r=a[A[y+1]];if("function"!==typeof r)throw new TypeError(c+" is not a function");u=r.call(a,e,{client:this,signal:f?f.signal:null})}catch(N){this._post({type:q,jobId:d,error:g.toInvokeError(N)});return}if(l.isThenable(u)){m.set(d,{controller:f,promise:u});var F=function(){m.has(d)&&(f.signal.removeEventListener("abort",F),u.cancel(),h(m,d))};f.signal.addEventListener("abort",F);u.then(function(a){m.has(d)&&
(h(m,d),b._post({type:q,jobId:d},a))}).catch(function(a){m.has(d)&&(f.signal.removeEventListener("abort",F),h(m,d),a&&"AbortError"===a.name||b._post({type:q,jobId:d,error:g.toInvokeError(a||{message:"Error encountered at method "+c})}))})}else this._post({type:q,jobId:d},u)};a.prototype._onOpenPort=function(b){var c=new MessageChannel;new a(c.port1,this._client,{});this._post({type:q,jobId:b.jobId},c.port2,[c.port2])};a.prototype._onResponse=function(a){this._frameTask?this._responseQueue.push(a):
this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var d=this._outJobs;if(d.has(b)){var e=d.get(b);h(d,b);c?e.reject(m.fromJSON(JSON.parse(c))):e.resolve(a)}};a.prototype._post=function(a,b,c){return g.postMessage(this._port,a,b,c)};return a}()})},"@dojo/framework/shim/AbortController":function(){(function(a){"object"===
typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var k=a("./global"),m=a("../has/has"),l=a("./array");b.ShimAbortSignal=k.default.AbortSignal;m.default("abort-signal")||(k.default.AbortSignal=b.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,
"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,b){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(b)};a.prototype.removeEventListener=function(a,b){if(a in this.listeners){var e=l.findIndex(this.listeners[a],function(a){return a===b});0<=e&&this.listeners[a].splice(e,1)}};a.prototype.dispatchEvent=function(a){var b=this,f=a.type;"abort"===f&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,
a));if(!(f in this.listeners))return!1;this.listeners[f].forEach(function(c){setTimeout(function(){return c.call(b,a)},0)});return!a.preventDefault};return a}());b.ShimAbortController=k.default.AbortController;m.default("abort-controller")||(k.default.AbortController=b.ShimAbortController=function(){function a(){this.signal=new b.ShimAbortSignal}a.prototype.abort=function(){var a;try{a=new Event("abort")}catch(e){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,
!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return a}());b.default=b.ShimAbortController})},"@dojo/framework/shim/array":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var k=
a("tslib"),m=a("./global"),l=a("./iterator"),g=a("./number"),h=a("../has/has");a=a("./support/util");if(h.default("es6-array")&&h.default("es6-array-fill"))b.from=m.default.Array.from,b.of=m.default.Array.of,b.copyWithin=a.wrapNative(m.default.Array.prototype.copyWithin),b.fill=a.wrapNative(m.default.Array.prototype.fill),b.find=a.wrapNative(m.default.Array.prototype.find),b.findIndex=a.wrapNative(m.default.Array.prototype.findIndex);else{var e=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&
(a=Math.floor(a));return Math.min(Math.max(a,0),g.MAX_SAFE_INTEGER)},f=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},c=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};b.from=function(a,b,c){if(null==a)throw new TypeError("from: requires an array-like object");b&&c&&(b=b.bind(c));c=e(a.length);var d="function"===typeof this?Object(new this(c)):Array(c);if(!l.isArrayLike(a)&&!l.isIterable(a))return d;if(l.isArrayLike(a)){if(0===c)return[];
for(var f=0;f<a.length;f++)d[f]=b?b(a[f],f):a[f]}else{f=0;try{for(var h=k.__values(a),g=h.next();!g.done;g=h.next()){var q=g.value;d[f]=b?b(q,f):q;f++}}catch(w){m={error:w}}finally{try{g&&!g.done&&(v=h.return)&&v.call(h)}finally{if(m)throw m.error;}}}void 0!==a.length&&(d.length=c);return d;var m,v};b.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};b.copyWithin=function(a,b,h,g){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");
var d=e(a.length);b=c(f(b),d);h=c(f(h),d);g=c(void 0===g?d:f(g),d);g=Math.min(g-h,d-b);d=1;b>h&&b<h+g&&(d=-1,h+=g-1,b+=g-1);for(;0<g;)h in a?a[b]=a[h]:delete a[b],b+=d,h+=d,g--;return a};b.fill=function(a,b,h,g){var d=e(a.length);h=c(f(h),d);for(g=c(void 0===g?d:f(g),d);h<g;)a[h++]=b;return a};b.find=function(a,c,e){c=b.findIndex(a,c,e);return-1!==c?a[c]:void 0};b.findIndex=function(a,b,c){var d=e(a.length);if(!b)throw new TypeError("find: second argument must be a function");c&&(b=b.bind(c));for(c=
0;c<d;c++)if(b(a[c],c,a))return c;return-1}}h.default("es7-array")?b.includes=a.wrapNative(m.default.Array.prototype.includes):b.includes=function(a,b,c){void 0===c&&(c=0);var d;d=a.length;d=Number(d);isNaN(d)?d=0:(isFinite(d)&&(d=Math.floor(d)),d=Math.min(Math.max(d,0),g.MAX_SAFE_INTEGER));for(;c<d;++c){var e=a[c];if(b===e||b!==b&&e!==e)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==
a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],a)})(function(a,b){function k(a){return a&&"function"===typeof a[Symbol.iterator]}function m(a){return a&&"number"===typeof a.length}function l(a){if(k(a))return a[Symbol.iterator]();if(m(a))return new e(a)}Object.defineProperty(b,"__esModule",{value:!0});a("./Symbol");var g=a("./string"),h={done:!0,value:void 0},e=function(){function a(a){this._nextIndex=-1;k(a)?this._nativeIterator=
a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:h:h};a.prototype[Symbol.iterator]=function(){return this};return a}();b.ShimIterator=e;b.isIterable=k;b.isArrayLike=m;b.get=l;b.forOf=function(a,b,d){function c(){e=!0}var e=!1;if(m(a)&&"string"===typeof a)for(var f=a.length,h=0;h<f;++h){var k=a[h];if(h+1<f){var t=k.charCodeAt(0);t>=g.HIGH_SURROGATE_MIN&&
t<=g.HIGH_SURROGATE_MAX&&(k+=a[++h])}b.call(d,k,a,c);if(e)break}else if(f=l(a))for(h=f.next();!h.done;){b.call(d,h.value,a,c);if(e)break;h=f.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],a)})(function(a,b){function k(a){return a&&("symbol"===typeof a||"Symbol"===
a["@@toStringTag"])||!1}Object.defineProperty(b,"__esModule",{value:!0});var m=a("../has/has"),l=a("./global"),g=a("./support/util");b.Symbol=l.default.Symbol;if(!m.default("es6-symbol")){var h=function(a){if(!k(a))throw new TypeError(a+" is not a symbol");return a},e=Object.defineProperties,f=Object.defineProperty,c=Object.create,d=Object.prototype,q={},u=function(){var a=c(null);return function(b){for(var c=0,e;a[String(b)+(c||"")];)++c;b+=String(c||"");a[b]=!0;e="@@"+b;Object.getOwnPropertyDescriptor(d,
e)||f(d,e,{set:function(a){f(this,e,g.getValueDescriptor(a))}});return e}}(),y=function r(a){if(this instanceof y)throw new TypeError("TypeError: Symbol is not a constructor");return r(a)};b.Symbol=l.default.Symbol=function t(a){if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");var b=Object.create(y.prototype);a=void 0===a?"":String(a);return e(b,{__description__:g.getValueDescriptor(a),__name__:g.getValueDescriptor(u(a))})};f(b.Symbol,"for",g.getValueDescriptor(function(a){return q[a]?
q[a]:q[a]=b.Symbol(String(a))}));e(b.Symbol,{keyFor:g.getValueDescriptor(function(a){var b;h(a);for(b in q)if(q[b]===a)return b}),hasInstance:g.getValueDescriptor(b.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:g.getValueDescriptor(b.Symbol.for("isConcatSpreadable"),!1,!1),iterator:g.getValueDescriptor(b.Symbol.for("iterator"),!1,!1),match:g.getValueDescriptor(b.Symbol.for("match"),!1,!1),observable:g.getValueDescriptor(b.Symbol.for("observable"),!1,!1),replace:g.getValueDescriptor(b.Symbol.for("replace"),
!1,!1),search:g.getValueDescriptor(b.Symbol.for("search"),!1,!1),species:g.getValueDescriptor(b.Symbol.for("species"),!1,!1),split:g.getValueDescriptor(b.Symbol.for("split"),!1,!1),toPrimitive:g.getValueDescriptor(b.Symbol.for("toPrimitive"),!1,!1),toStringTag:g.getValueDescriptor(b.Symbol.for("toStringTag"),!1,!1),unscopables:g.getValueDescriptor(b.Symbol.for("unscopables"),!1,!1)});e(y.prototype,{constructor:g.getValueDescriptor(b.Symbol),toString:g.getValueDescriptor(function(){return this.__name__},
!1,!1)});e(b.Symbol.prototype,{toString:g.getValueDescriptor(function(){return"Symbol ("+h(this).__description__+")"}),valueOf:g.getValueDescriptor(function(){return h(this)})});f(b.Symbol.prototype,b.Symbol.toPrimitive,g.getValueDescriptor(function(){return h(this)}));f(b.Symbol.prototype,b.Symbol.toStringTag,g.getValueDescriptor("Symbol",!1,!1,!0));f(y.prototype,b.Symbol.toPrimitive,g.getValueDescriptor(b.Symbol.prototype[b.Symbol.toPrimitive],!1,!1,!0));f(y.prototype,b.Symbol.toStringTag,g.getValueDescriptor(b.Symbol.prototype[b.Symbol.toStringTag],
!1,!1,!0))}b.isSymbol=k;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){b.Symbol[a]||Object.defineProperty(b.Symbol,a,g.getValueDescriptor(b.Symbol.for(a),!1,!1))});b.default=b.Symbol})},"@dojo/framework/shim/number":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&
define(["require","exports","./global"],a)})(function(a,b){function k(a){return"number"===typeof a&&l.default.isFinite(a)}function m(a){return k(a)&&Math.floor(a)===a}Object.defineProperty(b,"__esModule",{value:!0});var l=a("./global");b.EPSILON=1;b.MAX_SAFE_INTEGER=Math.pow(2,53)-1;b.MIN_SAFE_INTEGER=-b.MAX_SAFE_INTEGER;b.isNaN=function(a){return"number"===typeof a&&l.default.isNaN(a)};b.isFinite=k;b.isInteger=m;b.isSafeInteger=function(a){return m(a)&&Math.abs(a)<=b.MAX_SAFE_INTEGER}})},"esri/core/workers/utils":function(){define(["require",
"exports","../has"],function(a,b,k){function m(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function l(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name}Object.defineProperty(b,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";
a[a.OPEN_PORT=9]="OPEN_PORT"})(b.MessageType||(b.MessageType={}));var g=0;b.newJobId=function(){return g++};b.isTranferableResult=m;b.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};b.postMessage=function(a,b,f,c){2===arguments.length||void 0===f&&void 0===c?a.postMessage(b):(k("esri-workers-arraybuffer-transfer")||(c?(c=c.filter(function(a){return!l(a)}),c.length||(c=null)):m(f)&&f.transferList&&(f.transferList=
f.transferList.filter(function(a){return!l(a)}),f.transferList.length||(f.transferList=null))),c?(b.data=f,a.postMessage(b,c)):m(f)?(b.data=f.result,f.transferList?a.postMessage(b,f.transferList):a.postMessage(b)):(b.data=f,a.postMessage(b)))};b.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/core/workers/request":function(){define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(a,b,k,m,l){Object.defineProperty(b,
"__esModule",{value:!0});var g;b.execute=function(a,b){void 0===b&&(b={});var e=b.responseType;e?"json"!==e&&"text"!==e&&"blob"!==e&&"array-buffer"!==e&&(e="text"):e="json";var c=b&&b.signal;delete b.signal;return l.invokeStaticMessage("request",{url:a,options:b},{signal:c}).then(function(c){var d=c.data,f,h,l;if(d&&("json"===e||"text"===e||"blob"===e)&&(f=new Blob([d]),"json"===e||"text"===e)&&(g||(g=new FileReaderSync),h=g.readAsText(f),"json"===e)){try{l=JSON.parse(h||null)}catch(r){throw c=k({},
r,{url:a,requestOptions:b}),new m("request:server",r.message,c);}if(l.error)throw c=k({},l.error,{url:a,requestOptions:b}),new m("request:server",l.error.message,c);}switch(e){case "json":break;case "text":l=h;break;case "blob":l=f;break;default:l=d}return{data:l,requestOptions:b,ssl:c.ssl,url:a}})}})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(a){for(var b,k=1,m=arguments.length;k<m;k++){b=arguments[k];for(var l in b)Object.prototype.hasOwnProperty.call(b,
l)&&(a[l]=b[l])}return a}})},"esri/views/vectorTiles/WorkerTileHandler":function(){define("require exports ../../core/promiseUtils ../2d/tiling/enums ./WorkerTile ./style/StyleRepository".split(" "),function(a,b,k,m,l,g){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return k.resolve()};a.prototype.getLayers=function(){return this._layers};
a.prototype.setLayers=function(a){this._layers=(new g(a)).layers;return k.resolve({data:""})};a.prototype.createTileAndParse=function(a,b){for(var c=this,d=a.key,e=a.cacheTile,f=l.pool.acquire(),h={},g=0,r=Object.keys(a.sourceName2DataAndRefKey);g<r.length;g++){var t=r[g];h[t]=a.sourceName2DataAndRefKey[t].refKey}f.initialize(d,h,this,a.rotation);return f.setDataAndParse(a.sourceName2DataAndRefKey,b).then(function(a){e&&f.status!==m.TileStatus.INVALID&&c._tiles.set(d,f);return a}).catch(function(a){f.setObsolete();
l.pool.release(f);if(c._tiles.has(f.tileKey))c._tiles["delete"](f.tileKey);return k.reject(a)}).catch(function(a){return a}).then(function(a){e||l.pool.release(f);return a})};a.prototype.updateSymbols=function(a){var b=this._tiles.get(a.key);return b?b.updateSymbols(a.rotation):k.reject()};a.prototype.updateStyle=function(a,b){this._layers=(new g(a)).layers;this._tiles.forEach(function(a,d){a.reparse(b).then(function(c){b.client.invoke("updateTileData",{tileId:a.tileKey,tileData:c.result})})});return k.resolve({data:""})};
a.prototype.destructTileData=function(a){this._tiles.has(a)&&(l.pool.release(this._tiles.get(a)),this._tiles["delete"](a));return k.resolve()};a.prototype.fetchSprites=function(a,b){var c=[],d=this._spriteInfo;a.forEach(function(a){void 0===d[a]&&c.push(a)});return 0===c.length?k.resolve():b.invoke("getSprites",c).then(function(a){for(var b in a)d[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,b,c,d){var e=[],f=this._glyphInfo[b];f?c.forEach(function(a){f[a]||
e.push(a)}):(f=this._glyphInfo[b]=[],c.forEach(function(a){return e.push(a)}));return 0===e.length?k.resolve():d.invoke("getGlyphs",{tileID:a,font:b,codePoints:e}).then(function(a){for(var b in a)f[b]=a[b]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=b.TileStatus||(b.TileStatus={});a[a.INITIALIZED=0]="INITIALIZED";a[a.NO_DATA=1]=
"NO_DATA";a[a.READY=2]="READY";a[a.MODIFIED=3]="MODIFIED";a[a.INVALID=4]="INVALID"})},"esri/views/vectorTiles/WorkerTile":function(){define("require exports ../../core/executeAsync ../../core/ObjectPool ../../core/promiseUtils ../2d/tiling/enums ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer".split(" "),function(a,b,k,m,l,g,h,e,f,c,d,q,u,y,A,r){return function(){function a(){this.rotation=
0;this.status=g.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new u.PlacementEngine;this.fillVertexBuffer=new r.FillVertexBuffer(!1);this.fillDDVertexBuffer=new r.FillVertexBuffer(!0);this.fillIndexBuffer=new d.TriangleIndexBuffer;this.outlineVertexBuffer=new r.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new r.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new d.TriangleIndexBuffer;this.lineVertexBuffer=new r.LineVertexBuffer(!1);this.lineDDVertexBuffer=new r.LineVertexBuffer(!0);
this.lineIndexBuffer=new d.TriangleIndexBuffer;this.iconVertexBuffer=new r.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new r.SymbolVertexBuffer(!0);this.iconIndexBuffer=new d.TriangleIndexBuffer;this.textVertexBuffer=new r.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new r.SymbolVertexBuffer(!0);this.textIndexBuffer=new d.TriangleIndexBuffer;this.circleVertexBuffer=new r.CircleVertexBuffer;this.circleIndexBuffer=new d.TriangleIndexBuffer}a.prototype.initialize=function(a,b,d,e){void 0===e&&(e=
0);this.tileKey=a;this.refKeys=b;this._workerTileHandler=d;this.rotation=e;this.placementEngine.setAngle(c.C_DEG_TO_RAD*e)};a.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=g.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};a.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();
this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};a.prototype.reparse=function(a){this.resetData();return this.setDataAndParse(this._data,a)};a.prototype.setDataAndParse=
function(a,b){var c=this,d=b&&b.signal;if(d){var l=function(){d.removeEventListener("abort",l);c.status=g.TileStatus.INVALID};d.addEventListener("abort",l)}this._data=a;return this._parse(a,b).then(function(a){c.status=g.TileStatus.READY;for(var b=new Uint32Array([1,c.fillVertexBuffer.sizeInBytes,2,c.fillDDVertexBuffer.sizeInBytes,3,c.fillIndexBuffer.sizeInBytes,4,c.outlineVertexBuffer.sizeInBytes,5,c.outlineDDVertexBuffer.sizeInBytes,6,c.outlineIndexBuffer.sizeInBytes,7,c.lineVertexBuffer.sizeInBytes,
8,c.lineDDVertexBuffer.sizeInBytes,9,c.lineIndexBuffer.sizeInBytes,10,c.iconVertexBuffer.sizeInBytes,11,c.iconDDVertexBuffer.sizeInBytes,12,c.iconIndexBuffer.sizeInBytes,13,c.textVertexBuffer.sizeInBytes,14,c.textDDVertexBuffer.sizeInBytes,15,c.textIndexBuffer.sizeInBytes,16,c.circleVertexBuffer.sizeInBytes,17,c.circleIndexBuffer.sizeInBytes]),d=[],l=a.length,k=0;k<l;k++){var m=a[k];if(m instanceof f)d.push(m.layerIndex),d.push(1),d.push(m.fillIndexStart),d.push(m.fillIndexCount),d.push(m.outlineIndexStart),
d.push(m.outlineIndexCount);else if(m instanceof q)d.push(m.layerIndex),d.push(2),d.push(m.lineIndexStart),d.push(m.lineIndexCount);else if(m instanceof y){d.push(m.layerIndex);d.push(3);d.push(m.sdfMarker?1:0);var r=m.markerPageMap;d.push(r.size);r.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])});m=m.glyphsPageMap;d.push(m.size);m.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])})}else m instanceof e?(d.push(m.layerIndex),d.push(4),d.push(m.circleIndexStart),d.push(m.circleIndexCount)):
m instanceof h&&(d.push(m.layerIndex),d.push(0))}a=new Uint32Array(d);var l=c.fillVertexBuffer.toBuffer(),k=c.fillDDVertexBuffer.toBuffer(),m=c.fillIndexBuffer.toBuffer(),r=c.outlineVertexBuffer.toBuffer(),v=c.outlineDDVertexBuffer.toBuffer(),u=c.outlineIndexBuffer.toBuffer(),A=c.lineVertexBuffer.toBuffer(),t=c.lineDDVertexBuffer.toBuffer(),w=c.lineIndexBuffer.toBuffer(),B=c.iconVertexBuffer.toBuffer(),D=c.iconDDVertexBuffer.toBuffer(),z=c.iconIndexBuffer.toBuffer(),G=c.textVertexBuffer.toBuffer(),
X=c.textDDVertexBuffer.toBuffer(),Y=c.textIndexBuffer.toBuffer(),V=c.circleVertexBuffer.toBuffer(),ca=c.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:b.buffer,bucketDataInfo:a.buffer,bufferData:[l,k,m,r,v,u,A,t,w,B,D,z,G,X,Y,V,ca]},transferList:[l,k,m,r,v,u,A,t,w,B,D,z,G,X,Y,V,ca,b.buffer,a.buffer]}})};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var b=this,d=this._symbolBuckets;if(!d||0===d.length)return l.resolve();this.rotation=
a;var e=this.placementEngine;e.reset();e.setAngle(a/256*360*c.C_DEG_TO_RAD);var f=this.iconVertexBuffer;f.reset();var h=this.iconDDVertexBuffer;h.reset();var m=this.iconIndexBuffer;m.reset();var q=this.textVertexBuffer;q.reset();var r=this.textDDVertexBuffer;r.reset();var u=this.textIndexBuffer;u.reset();var A=[],t=d.length,y=0;return k(function(){if(b.status===g.TileStatus.INVALID||b.status===g.TileStatus.INITIALIZED)return!0;if(y<t){var a=d[y++];if(a&&a.layer){var c=a.layer;if(a=a.copy(c.hasDataDrivenIcon?
h:f,m,c.hasDataDrivenText?r:q,u,e))A.push(a),a.updateSymbols()}}return y>=t}).then(function(){if(b.status===g.TileStatus.INVALID||b.status===g.TileStatus.INITIALIZED||0===f.sizeInBytes&&0===h.sizeInBytes&&0===m.sizeInBytes&&0===q.sizeInBytes&&0===r.sizeInBytes&&0===u.sizeInBytes)return{result:null,transferList:null};var a=new Uint32Array([10,f.sizeInBytes,11,h.sizeInBytes,12,m.sizeInBytes,13,q.sizeInBytes,14,r.sizeInBytes,15,u.sizeInBytes]),c=[];t=A.length;for(var d=0;d<t;d++){var e=A[d];c.push(e.layerIndex);
c.push(3);c.push(e.sdfMarker?1:0);var l=e.markerPageMap;c.push(l.size);l.forEach(function(a,b){c.push(b);c.push(a[0]);c.push(a[1])});e=e.glyphsPageMap;c.push(e.size);e.forEach(function(a,b){c.push(b);c.push(a[0]);c.push(a[1])})}var d=new Uint32Array(c),e=f.toBuffer(),l=h.toBuffer(),k=m.toBuffer(),v=q.toBuffer(),w=r.toBuffer(),y=u.toBuffer();return{result:{bufferDataInfo:a.buffer,bucketDataInfo:d.buffer,bufferData:[e,l,k,v,w,y]},transferList:[e,l,k,v,w,y,a.buffer,d.buffer]}}).catch(function(){return null})};
a.prototype.setObsolete=function(){this.status=g.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){if(0===Object.keys(a).length)return l.resolve([]);this.status=g.TileStatus.MODIFIED;return(new A(a,this,b.client)).parse()};a.pool=new m(a);return a}()})},"esri/core/executeAsync":function(){define("require exports ./has ./nextTick ./now ./promiseUtils".split(" "),
function(a,b,k,m,l,g){function h(){var a=0===f.length;if(!a){for(var b=l();!a&&l()-b<e;){var g=f[d];if(g){if(!0===g()){var k=c.get(g);f[d]=null;c.delete(g);k()}d=(d+1)%f.length}else f.splice(d,1),d=(a=0===f.length)?0:d%f.length}a||m(h)}}var e=k("host-browser")?6:200,f=[],c=new Map,d=0;return function(a){return a?g.create(function(b){f.push(a);c.set(a,b);1===f.length&&m(h)},function(){f[f.indexOf(a)]=null;c.delete(a)}):g.reject(new TypeError("callback is not a function"))}})},"esri/core/nextTick":function(){define(["require",
"exports","./global"],function(a,b,k){function m(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,b=!0;k.onmessage=function(){b=!1};k.postMessage("","*");k.onmessage=a;return b}return!1}function l(a){e.push(a);1===e.length&&h(function(){for(var a=0,b=f;a<b.length;a++)(0,b[a])();a=e.slice();for(b=e.length=0;b<a.length;b++)(0,a[b])()})}var g=k.MutationObserver||k.WebKitMutationObserver,h=function(){if(k.process&&k.process.nextTick)return function(a){k.process.nextTick(a)};if(k.Promise)return function(a){k.Promise.resolve().then(a)};
if(g){var a=[],b=document.createElement("div");(new g(function(){for(;0<a.length;)a.shift()()})).observe(b,{attributes:!0});return function(c){a.push(c);b.setAttribute("queueStatus","1")}}if(m()){var e=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();e.length;)e.shift()()},!0);return function(a){e.push(a);k.postMessage("esri-nexttick-message","*")}}return k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,
0)}}(),e=[],f=[];(function(a){a.before=function(a){f.push(a);return{remove:function(){f=f.filter(function(b){return b!==a})}}}})(l||(l={}));return l})},"esri/core/now":function(){define(["require","exports","./global"],function(a,b,k){return function(){var a=k.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};
var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/core/ObjectPool":function(){define(["require","exports"],function(a,b){var k=function(){return function(){}}();return function(){function a(a,b,h,e,f){void 0===e&&(e=1);void 0===f&&(f=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=h;this.growthSize=e;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&
(this.acquireFunction=b);this._pool=Array(f);this._initialSize=f;for(a=0;a<f;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(e,1)}a.prototype.destroy=function(){this.prune(0);this._pool=null};a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||k;if(0===this._pool.length)for(var h=this.growthSize,e=0;e<h;e++)this._pool[e]=new b;b=this._pool.pop();this.acquireFunction?this.acquireFunction.apply(this,[b].concat(a)):b&&
b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);return b};a.prototype.release=function(a){a&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var b=a;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=
function(a){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];var e;(e=this.classConstructor).call.apply(e,[a].concat(b))};return a}()})},"esri/views/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(a,b,k,m,l){return function(a){function b(b,f){return a.call(this,b,f)||this}k(b,a);return b}(l)})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(a,
b,k,m){var l=arguments.length,g=3>l?b:null===m?m=Object.getOwnPropertyDescriptor(b,k):m,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,k,m);else for(var e=a.length-1;0<=e;e--)if(h=a[e])g=(3>l?h(g):3<l?h(b,k,g):h(b,k))||g;return 3<l&&g&&Object.defineProperty(b,k,g),g}})},"esri/views/vectorTiles/Bucket":function(){define(["require","exports"],function(a,b){return function(){function a(a,b){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=b;
this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,b){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/views/vectorTiles/CircleBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(a,b,k,m,l){return function(a){function b(b,
f,c,d){b=a.call(this,b,f)||this;b._circleVertexBuffer=c;b._circleIndexBuffer=d;return b}k(b,a);Object.defineProperty(b.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;a._circleIndexCount=this._circleIndexCount};b.prototype.processFeatures=
function(a,b){b=this._circleVertexBuffer;var c=this._circleIndexBuffer;this._circleIndexStart=c.index;this._circleIndexCount=0;var d=this.layer,e=this.zoom;a&&a.setExtent(this.layerExtent);for(var f=1,h=[1,1,1,1],g=1,l=0,k=1,m=[1,1,1,1],G=1,v=0,w=this._features;v<w.length;v++){var B=w[v],z=B.getGeometry(a);if(z)for(d.hasDataDrivenRadius&&(f=d.getPaintValue("circle-radius",e,B)),d.hasDataDrivenColor&&(h=d.getPaintValue("circle-color",e,B)),d.hasDataDrivenOpacity&&(g=d.getPaintValue("circle-opacity",
e,B)),d.hasDataDrivenStrokeWidth&&(k=d.getPaintValue("circle-stroke-width",e,B)),d.hasDataDrivenStrokeColor&&(m=d.getPaintValue("circle-stroke-color",e,B)),d.hasDataDrivenStrokeOpacity&&(G=d.getPaintValue("circle-stroke-opacity",e,B)),d.hasDataDrivenBlur&&(l=d.getPaintValue("circle-blur",e,B)),B=0;B<z.length;B++){var C=z[B];if(C)for(var L=0;L<C.length;L++){var E=C[L],F=b.index;b.add(E.x,E.y,0,0,f,h,g,l,k,m,G);b.add(E.x,E.y,0,1,f,h,g,l,k,m,G);b.add(E.x,E.y,1,0,f,h,g,l,k,m,G);b.add(E.x,E.y,1,1,f,h,
g,l,k,m,G);c.add(F+0,F+1,F+2);c.add(F+1,F+2,F+3);this._circleIndexCount+=6}}}};return b}(l)})},"esri/views/vectorTiles/FillBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/ArrayPool ../../core/libs/earcut/earcut ../2d/engine/webgl/Geometry ./Bucket".split(" "),function(a,b,k,m,l,g,h,e){return function(a){function b(b,c,e,f,h,g){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==e.isDataDriven())throw Error("incompatible fill buffer");
if(b.hasDataDrivenOutline!==h.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=e;c._fillIndexBuffer=f;c._outlineVertexBuffer=h;c._outlineIndexBuffer=g;return c}k(b,a);Object.defineProperty(b.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"outlineIndexStart",
{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=
0)};b.prototype.processFeatures=function(a,b){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;b=this.layer;var c=this.zoom,d=b.hasDataDrivenFill,e=b.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var f=b.getPaintValue("fill-pattern",c),h=b.getPaintValue("fill-antialias",c)&&void 0===f,g=[1,1,1,1],l=[1,1,1,1],k=1;if(b.outlineUsesFillColor){if(h&&!b.hasDataDrivenOpacity){var m=b.getPaintValue("fill-opacity",
c),q=b.getPaintValue("fill-opacity",c+1);1>m&&1>q&&(h=!1)}h&&!b.hasDataDrivenColor&&(m=b.getPaintValue("fill-color",c),q=b.getPaintValue("fill-color",c+1),1>m[3]&&1>q[3]&&(h=!1))}m=0;for(q=this._features;m<q.length;m++){var z=q[m];!f&&b.hasDataDrivenColor&&(g=b.getPaintValue("fill-color",c,z));b.hasDataDrivenOpacity&&(k=b.getPaintValue("fill-opacity",c,z));!f&&b.hasDataDrivenOutlineColor&&(l=b.getPaintValue("fill-outline-color",c,z));var C=void 0;d&&(C={color:g,opacity:k});var L=void 0;e&&(L={color:b.outlineUsesFillColor?
g:l,opacity:k});z=z.getGeometry(a);this._processFeature(z,h,b.outlineUsesFillColor,C,L)}};b.prototype._processFeature=function(a,c,e,f,h){if(a){var d=a.length;if(c&&(!e||!h||1===h.color[3]*h.opacity))for(c=0;c<d;c++)this._processOutline(a[c],h);var g;for(c=0;c<d;c++)h=b._area(a[c]),128<h?(void 0!==g&&this._processFill(a,g,f),g=[c]):-128>h&&void 0!==g&&g.push(c);void 0!==g&&this._processFill(a,g,f)}};b.prototype._processOutline=function(a,b){var c=this._outlineVertexBuffer,d=this._outlineIndexBuffer,
e=d.index,f,g,l,k=new h.Point(0,0),m=new h.Point(0,0),q=new h.Point(0,0),B=-1,z=-1,C=-1,L=-1,E=-1,F=!1,N=a.length;if(!(2>N)){var O=a[0];for(f=a[N-1];N&&f.isEqual(O);)--N,f=a[N-1];if(!(2>N-0)){for(O=0;O<N;++O){0===O?(f=a[N-1],g=a[0],l=a[1],k.assignSub(g,f),k.normalize(),k.rightPerpendicular()):(f=g,g=l,l=O!==N-1?a[O+1]:a[0],k.assign(m));f=this._isClipEdge(f,g);-1===L&&(F=f);m.assignSub(l,g);m.normalize();m.rightPerpendicular();C=k.x*m.y-k.y*m.x;q.assignAdd(k,m);q.normalize();var J=-q.x*-k.x+-q.y*-k.y,
J=Math.abs(0!==J?1/J:1);8<J&&(J=8);0<=C?(C=c.add(g.x,g.y,k.x,k.y,0,1,b),-1===L&&(L=C),0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C),z=c.add(g.x,g.y,J*-q.x,J*-q.y,0,-1,b),-1===E&&(E=z),0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C),B=z,z=C,C=c.add(g.x,g.y,q.x,q.y,0,1,b),0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C),z=c.add(g.x,g.y,m.x,m.y,0,1,b)):(C=c.add(g.x,g.y,J*q.x,J*q.y,0,1,b),-1===L&&(L=C),0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C),z=c.add(g.x,g.y,-k.x,-k.y,0,-1,b),-1===E&&(E=z),0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C),B=z,z=C,C=c.add(g.x,
g.y,-q.x,-q.y,0,-1,b),0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C),B=c.add(g.x,g.y,-m.x,-m.y,0,-1,b));0<=B&&0<=z&&0<=C&&!f&&d.add(B,z,C)}0<=B&&0<=z&&0<=L&&!F&&d.add(B,z,L);0<=B&&0<=L&&0<=E&&!F&&d.add(B,E,L);this._outlineIndexCount+=3*(d.index-e)}}};b.prototype._processFill=function(a,b,c){var d;1<b.length&&(d=[]);for(var e=0,f=0;f<b.length;f++){var h=b[f];0!==e&&d.push(e);e+=a[h].length}for(var f=2*e,e=l.acquire(),k=0;k<b.length;k++)for(var h=b[k],h=a[h],m=h.length,q=0;q<m;++q)e.push(h[q].x),e.push(h[q].y);
a=g(e,d,2);b=a.length;if(0<b){d=this._fillVertexBuffer.index;for(k=0;k<f;)this._fillVertexBuffer.add(e[k++],e[k++],c);for(c=0;c<b;)this._fillIndexBuffer.add(d+a[c++],d+a[c++],d+a[c++]);this._fillIndexCount+=b}l.release(e)};b.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};b._area=function(a){for(var b=0,c=a.length-1,d=0;d<c;d++)b+=(a[d].x-a[d+1].x)*(a[d].y+a[d+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return b}(e)})},"esri/core/ArrayPool":function(){define(["require",
"exports","./ObjectPool"],function(a,b,k){function m(a){a.length=0}var l=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new k(Array,!1,m,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);l.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return g.acquire()};a.copy=function(a){return g.copy(a)};a.release=
function(a){return g.release(a)};return a}();var g=new a(100);return a})},"esri/core/libs/earcut/earcut":function(){define([],function(){function a(a,c,d){d=d||2;var e=c&&c.length,l=e?c[0]*d:a.length,q=b(a,0,l,d,!0),r=[];if(!q||q.next===q.prev)return r;var v,u,t,w;if(e){var y=d,e=[],B,H,K;w=0;for(B=c.length;w<B;w++)H=c[w]*y,K=w<B-1?c[w+1]*y:a.length,H=b(a,H,K,y,!1),H===H.next&&(H.steiner=!0),e.push(f(H));e.sort(g);for(w=0;w<e.length;w++){c=e[w];y=q;if(y=h(c,y))c=A(y,c),k(c,c.next);q=k(q,q.next)}}if(a.length>
80*d){v=t=a[0];u=e=a[1];for(y=d;y<l;y+=d)w=a[y],c=a[y+1],w<v&&(v=w),c<u&&(u=c),w>t&&(t=w),c>e&&(e=c);t=Math.max(t-v,e-u);t=0!==t?1/t:0}m(q,r,d,v,u,t);return r}function b(a,b,c,d,e){var f;if(e===0<G(a,b,c,d))for(e=b;e<c;e+=d)f=r(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=r(e,a[e],a[e+1],f);f&&q(f,f.next)&&(t(f),f=f.next);return f}function k(a,b){if(!a)return a;b||(b=a);var c;do if(c=!1,a.steiner||!q(a,a.next)&&0!==d(a.prev,a,a.next))a=a.next;else{t(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||
a!==b);return b}function m(a,b,f,h,g,r,D){if(a){if(!D&&r){var v=a,w=v;do null===w.z&&(w.z=e(w.x,w.y,h,g,r)),w.prevZ=w.prev,w=w.nextZ=w.next;while(w!==v);w.prevZ.nextZ=null;w.prevZ=null;var v=w,B,z,E,C,H,K,M=1;do{w=v;E=v=null;for(C=0;w;){C++;z=w;for(B=H=0;B<M&&(H++,z=z.nextZ,z);B++);for(K=M;0<H||0<K&&z;)0!==H&&(0===K||!z||w.z<=z.z)?(B=w,w=w.nextZ,H--):(B=z,z=z.nextZ,K--),E?E.nextZ=B:v=B,B.prevZ=E,E=B;w=z}E.nextZ=null;M*=2}while(1<C)}for(v=a;a.prev!==a.next;){w=a.prev;z=a.next;if(r)E=l(a,h,g,r);else a:if(E=
a,C=E.prev,H=E,M=E.next,0<=d(C,H,M))E=!1;else{for(B=E.next.next;B!==E.prev;){if(c(C.x,C.y,H.x,H.y,M.x,M.y,B.x,B.y)&&0<=d(B.prev,B,B.next)){E=!1;break a}B=B.next}E=!0}if(E)b.push(w.i/f),b.push(a.i/f),b.push(z.i/f),t(a),v=a=z.next;else if(a=z,a===v){if(!D)m(k(a),b,f,h,g,r,1);else if(1===D){D=b;v=f;w=a;do z=w.prev,E=w.next.next,!q(z,E)&&u(z,w,w.next,E)&&y(z,E)&&y(E,z)&&(D.push(z.i/v),D.push(w.i/v),D.push(E.i/v),t(w),t(w.next),w=a=E),w=w.next;while(w!==a);a=w;m(a,b,f,h,g,r,2)}else if(2===D)a:{D=a;do{for(v=
D.next.next;v!==D.prev;){if(w=D.i!==v.i){w=D;z=v;E=void 0;if(E=w.next.i!==z.i&&w.prev.i!==z.i){E=void 0;b:{E=w;do{if(E.i!==w.i&&E.next.i!==w.i&&E.i!==z.i&&E.next.i!==z.i&&u(E,E.next,w,z)){E=!0;break b}E=E.next}while(E!==w);E=!1}E=!E}C=void 0;if(C=E&&y(w,z)&&y(z,w)){E=w;C=!1;H=(w.x+z.x)/2;z=(w.y+z.y)/2;do E.y>z!==E.next.y>z&&E.next.y!==E.y&&H<(E.next.x-E.x)*(z-E.y)/(E.next.y-E.y)+E.x&&(C=!C),E=E.next;while(E!==w)}w=C}if(w){a=A(D,v);D=k(D,D.next);a=k(a,a.next);m(D,b,f,h,g,r);m(a,b,f,h,g,r);break a}v=
v.next}D=D.next}while(D!==a)}break}}}}function l(a,b,f,h){var g=a.prev,l=a.next;if(0<=d(g,a,l))return!1;var k=g.x>a.x?g.x>l.x?g.x:l.x:a.x>l.x?a.x:l.x,m=g.y>a.y?g.y>l.y?g.y:l.y:a.y>l.y?a.y:l.y,q=e(g.x<a.x?g.x<l.x?g.x:l.x:a.x<l.x?a.x:l.x,g.y<a.y?g.y<l.y?g.y:l.y:a.y<l.y?a.y:l.y,b,f,h);b=e(k,m,b,f,h);f=a.prevZ;for(h=a.nextZ;f&&f.z>=q&&h&&h.z<=b;){if(f!==a.prev&&f!==a.next&&c(g.x,g.y,a.x,a.y,l.x,l.y,f.x,f.y)&&0<=d(f.prev,f,f.next))return!1;f=f.prevZ;if(h!==a.prev&&h!==a.next&&c(g.x,g.y,a.x,a.y,l.x,l.y,
h.x,h.y)&&0<=d(h.prev,h,h.next))return!1;h=h.nextZ}for(;f&&f.z>=q;){if(f!==a.prev&&f!==a.next&&c(g.x,g.y,a.x,a.y,l.x,l.y,f.x,f.y)&&0<=d(f.prev,f,f.next))return!1;f=f.prevZ}for(;h&&h.z<=b;){if(h!==a.prev&&h!==a.next&&c(g.x,g.y,a.x,a.y,l.x,l.y,h.x,h.y)&&0<=d(h.prev,h,h.next))return!1;h=h.nextZ}return!0}function g(a,b){return a.x-b.x}function h(a,b){var d=b,e=a.x,f=a.y,h=-Infinity,g;do{if(f<=d.y&&f>=d.next.y&&d.next.y!==d.y){var l=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(l<=e&&l>h){h=l;if(l===e){if(f===
d.y)return d;if(f===d.next.y)return d.next}g=d.x<d.next.x?d:d.next}}d=d.next}while(d!==b);if(!g)return null;if(e===h)return g.prev;b=g;for(var l=g.x,k=g.y,m=Infinity,q,d=g.next;d!==b;)e>=d.x&&d.x>=l&&e!==d.x&&c(f<k?e:h,f,l,k,f<k?h:e,f,d.x,d.y)&&(q=Math.abs(f-d.y)/(e-d.x),(q<m||q===m&&d.x>g.x)&&y(d,a)&&(g=d,m=q)),d=d.next;return g}function e(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;
return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function f(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function c(a,b,c,d,e,f,h,g){return 0<=(e-h)*(b-g)-(a-h)*(f-g)&&0<=(a-h)*(d-g)-(c-h)*(b-g)&&0<=(c-h)*(f-g)-(e-h)*(d-g)}function d(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function q(a,b){return a.x===b.x&&a.y===b.y}function u(a,b,c,e){return q(a,b)&&q(c,e)||q(a,e)&&q(c,b)?!0:0<d(a,b,c)!==0<d(a,b,e)&&0<d(c,e,a)!==0<d(c,e,b)}function y(a,b){return 0>d(a.prev,a,a.next)?
0<=d(a,b,a.next)&&0<=d(a,a.prev,b):0>d(a,b,a.prev)||0>d(a,a.next,b)}function A(a,b){var c=new D(a.i,a.x,a.y),d=new D(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function r(a,b,c,d){a=new D(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function t(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function D(a,b,c){this.i=a;this.x=b;this.y=
c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function G(a,b,c,d){for(var e=0,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}a.deviation=function(a,b,c,d){var e=b&&b.length,f=Math.abs(G(a,0,e?b[0]*c:a.length,c));if(e)for(var e=0,h=b.length;e<h;e++)f-=Math.abs(G(a,b[e]*c,e<h-1?b[e+1]*c:a.length,c));for(e=b=0;e<d.length;e+=3){var h=d[e]*c,g=d[e+1]*c,l=d[e+2]*c;b+=Math.abs((a[h]-a[l])*(a[g+1]-a[h+1])-(a[h]-a[g])*(a[l+1]-a[h+1]))}return 0===f&&0===b?0:Math.abs((b-
f)/f)};a.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var h=0;h<b;h++)c.vertices.push(a[e][f][h]);0<e&&(d+=a[e-1].length,c.holes.push(d))}return c};return a})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b){this.x=a;this.y=b}a.prototype.clone=function(){return new a(this.x,this.y)};
a.prototype.equals=function(a,b){return a===this.x&&b===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,b){this.x=a;this.y=b};a.prototype.normalize=function(){var a=this.x,b=this.y,a=Math.sqrt(a*a+b*b);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,b){this.x+=a;this.y+=b};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y};a.prototype.assignSub=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y};a.prototype.rotate=function(a,b){var g=this.x,h=this.y;this.x=g*a-h*b;this.y=g*b+h*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)};a.distance=function(a,b){var g=b.x-a.x;a=b.y-a.y;return Math.sqrt(g*g+a*a)};a.add=function(b,l){return new a(b.x+l.x,b.y+l.y)};a.sub=function(b,l){return new a(b.x-l.x,b.y-l.y)};return a}();
b.Point=a})},"esri/views/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(a,b){function k(a,b){a%=b;return 0<=a?a:a+b}Object.defineProperty(b,"__esModule",{value:!0});b.C_INFINITY=Number.POSITIVE_INFINITY;b.C_PI=Math.PI;b.C_2PI=2*b.C_PI;b.C_PI_BY_2=b.C_PI/2;b.C_RAD_TO_256=128/b.C_PI;b.C_256_TO_RAD=b.C_PI/128;b.C_DEG_TO_256=256/360;b.C_DEG_TO_RAD=b.C_PI/180;b.C_SQRT2=1.414213562;b.C_SQRT2_INV=1/b.C_SQRT2;var m=1/Math.LN2;b.positiveMod=k;b.radToByte=function(a){return k(a*
b.C_RAD_TO_256,256)};b.degToByte=function(a){return k(a*b.C_DEG_TO_256,256)};b.log2=function(a){return Math.log(a)*m};b.sqr=function(a){return a*a};b.clamp=function(a,b,h){return Math.min(Math.max(a,b),h)};b.interpolate=function(a,b,h){return a*(1-h)+b*h};b.between=function(a,b,h){return a>=b&&a<=h||a>=h&&a<=b}})},"esri/views/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./MemoryBuffer"],function(a,
b,k,m,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return a.call(this,12)||this}k(b,a);b.prototype.add=function(a,b,c){var d=this.array;d.push(a);d.push(b);d.push(c)};return b}(l);b.TriangleIndexBuffer=a;l=function(a){function b(){return a.call(this,4)||this}k(b,a);b.prototype.add=function(a){this.array.push(a)};return b}(l);b.PointElementMemoryBuffer=l})},"esri/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(a,b){return function(){function a(a){this._array=
[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*
this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,b){return 65535&a|b<<16};a.i8888to32=function(a,b,g,h){return a&255|(b&255)<<8|(g&255)<<16|h<<24};a.i8816to32=function(a,b,g){return a&255|(b&255)<<8|g<<16};return a}()})},"esri/views/vectorTiles/LineBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../2d/engine/webgl/LineTess ./Bucket ./style/StyleLayer".split(" "),
function(a,b,k,m,l,g,h){var e=new l.Tessellator({distanceAlongCorrection:!0});return function(a){function b(b,c,e,f){c=a.call(this,b,c)||this;c.extrudeVectorsDoubleBuffer=[l.allocExtrudeVectors(),l.allocExtrudeVectors()];c.firstExtrudeVectors=l.allocExtrudeVectors();c.recycledTriangleBridge=l.allocTriangles(20);c.recycledTrianglePie=l.allocTriangles(20);if(b.hasDataDrivenLine!==e.isDataDriven())throw Error("incompatible line buffer");c._lineVertexBuffer=e;c._lineIndexBuffer=f;return c}k(b,a);Object.defineProperty(b.prototype,
"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};b.prototype.processFeatures=function(a,b){this._lineIndexStart=this._lineIndexBuffer.index;this._lineIndexCount=0;b=this.layer;var c=this.zoom,d=b.hasDataDrivenLine;
a&&a.setExtent(this.layerExtent);for(var e=b.getPaintValue("line-pattern",c),f=[1,1,1,1],g=1,l=1,k=0,m=this._features;k<m.length;k++){var q=m[k],B=new h.LineLayout(b,c,q);!e&&b.hasDataDrivenColor&&(f=b.getPaintValue("line-color",c,q));b.hasDataDrivenOpacity&&(g=b.getPaintValue("line-opacity",c,q));b.hasDataDrivenWidth&&(l=b.getPaintValue("line-width",c,q));var z=void 0;if(d&&(z={color:f,opacity:g,size:Math.max(Math.min(l,256),0)},0>=z.size||0>=z.opacity||0>=z.color[3]))continue;q=q.getGeometry(a);
this._processFeature(B,q,z)}};b.prototype._processFeature=function(a,b,c){if(b)for(var d=b.length,e=0;e<d;e++)this._processGeometry(b[e],a,c)};b.prototype._processGeometry=function(a,b,c){if(!(2>a.length)){for(var d=a[0],e=a[a.length-1],f=e.x-d.x,e=e.y-d.y,d=1E-6>f*f+e*e,h=a[0],g=1;g<a.length;)f=a[g].x-h.x,e=a[g].y-h.y,1E-6>f*f+e*e?a.splice(g,1):(h=a[g],++g);if(!(2>a.length)){this.vertices=a;this.verticesLen=a.length;this.isClosed=d;this.cap=b.cap;this.join=b.join;this.almostParallelRads=.05;this.veryShallowRads=
.1;this.miterSafeRads=l.MITER_SAFE_RADS;this.miterLimitMag=Math.min(b.miterLimit,l.SYSTEM_MAG_LIMIT);this.roundLimitRads=Math.min(b.roundLimit,.5);this.newRoundJoinsSafeRads=2.3;b=this._lineIndexBuffer.index;for(var f=0,k=void 0,e=this.verticesLen,h=0;h<e;++h){var g=a[h],m=a[(h+e-1)%e],q=d&&this._isClipEdge(m,g),m=k===this.extrudeVectorsDoubleBuffer[h%2]?this.extrudeVectorsDoubleBuffer[(h+1)%2]:this.extrudeVectorsDoubleBuffer[h%2];h<e-1||!d||this.hasPattern?(this._computeExtrudeVectors(m,h),this._writeGPUVertices(g.x,
g.y,f,m,c),!m.capCenter||d&&h===e-1||this._writeGPUPieElements(m,q),d&&0===h&&!this.hasPattern&&l.copyExtrudeVectors(this.firstExtrudeVectors,m)):l.copyExtrudeVectors(m,this.firstExtrudeVectors);k&&this._writeGPUBridgeElements(k,m,q);h<e-1&&(k=a[h+1],g=l.length([k.x-g.x,k.y-g.y]),f+=g);k=m}this._lineIndexCount+=3*(this._lineIndexBuffer.index-b)}}};b.prototype._computeExtrudeVectors=function(a,b){var c=this.vertices,d=this.verticesLen,e=this.isClosed,f=c[b],h=[void 0,void 0],g=[void 0,void 0];if(0<
b&&b<d-1){var k=c[(b+d-1)%d],m=c[(b+1)%d];l.normalize(h,[f.x-k.x,f.y-k.y]);l.normalize(g,[m.x-f.x,m.y-f.y])}else if(0===b)m=c[(b+1)%d],l.normalize(g,[m.x-f.x,m.y-f.y]),e?(c=c[d-2],l.normalize(h,[f.x-c.x,f.y-c.y])):h=g;else if(b===d-1)k=c[(b+d-1)%d],l.normalize(h,[f.x-k.x,f.y-k.y]),e?(c=c[1],l.normalize(g,[c.x-f.x,c.y-f.y])):g=h;else{console.error("Vertex index 'i' out of range.");return}e||0!==b?e||b!==d-1?this._computeJoinExtrudeVectors(a,h,g):this._computeCapExtrudeVectors(a,h,g,l.CapPosition.END):
this._computeCapExtrudeVectors(a,h,g,l.CapPosition.START)};b.prototype._computeCapExtrudeVectors=function(a,b,c,f){0===this.cap?e.buttCap(a,b,c):1===this.cap?e.roundCap(a,b,c,f,l.getNumberOfSlices(Math.PI),f===l.CapPosition.START?-1:1):2===this.cap?e.squareCap(a,b,c,f):e.buttCap(a,b,c)};b.prototype._computeJoinExtrudeVectors=function(a,b,c){var d=l.getRads(b,c);if(d>Math.PI-this.almostParallelRads)e.rectJoin(a,b,c);else if(0===this.join&&d>=this.veryShallowRads)e.bevelJoin(a,b,c,1);else if(1===this.join&&
d>=this.veryShallowRads){var f=l.getNumberOfSlices(d);d<this.newRoundJoinsSafeRads?2>f||d<this.roundLimitRads?e.bevelJoin(a,b,c,1):e.roundJoin(a,b,c,f):e.unitRoundJoin(a,b,c,f)}else d<this.almostParallelRads?e.fastMiterJoin(a,b,c):d<this.miterSafeRads?e.miterJoin(a,b,c):e.bevelJoin(a,b,c,this.miterLimitMag)};b.prototype._writeGPUVertices=function(a,b,c,e,f){for(var d=0;d<e.vectors.count;++d){var h=e.vectors.items[d].vector[0],g=e.vectors.items[d].vector[1],l=e.vectors.items[d].texCoords[0],k=e.vectors.items[d].texCoords[1];
e.vectors.items[d].base=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a,b,h,g,l,k,c,f)}};b.prototype._writeGPUBridgeElements=function(a,b,c){e.bridge(this.recycledTriangleBridge,a,b);if(!c)for(a=0;a<this.recycledTriangleBridge.count;++a)b=this.recycledTriangleBridge.items[a],this._lineIndexBuffer.add(b.v1.base,b.v2.base,b.v3.base)};b.prototype._writeGPUPieElements=function(a,b){e.pie(this.recycledTrianglePie,a);if(!b)for(a=0;a<this.recycledTrianglePie.count;++a)b=this.recycledTrianglePie.items[a],
this._lineIndexBuffer.add(b.v1.base,b.v2.base,b.v3.base)};b.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};return b}(g)})},"esri/views/2d/engine/webgl/LineTess":function(){define(["require","exports"],function(a,b){function k(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push(void 0);return b}function m(a,b){v.vector[0]=a.vector[0];v.vector[1]=a.vector[1];v.texCoords[0]=a.texCoords[0];v.texCoords[1]=a.texCoords[1];v.direction[0]=
a.direction[0];v.direction[1]=a.direction[1];v.base=a.base;a.vector[0]=b.vector[0];a.vector[1]=b.vector[1];a.texCoords[0]=b.texCoords[0];a.texCoords[1]=b.texCoords[1];a.direction[0]=b.direction[0];a.direction[1]=b.direction[1];a.base=b.base;b.vector[0]=v.vector[0];b.vector[1]=v.vector[1];b.texCoords[0]=v.texCoords[0];b.texCoords[1]=v.texCoords[1];b.direction[0]=v.direction[0];b.direction[1]=v.direction[1];b.base=v.base}function l(a,b){return a[0]*b[0]+a[1]*b[1]}function g(a){return Math.sqrt(l(a,
a))}function h(a,b){var c=g(b);a[0]=b[0]/c;a[1]=b[1]/c;return a}function e(a,b){a[0]=-b[1];a[1]=b[0];return a}function f(a,b){return a[0]*b[1]-a[1]*b[0]}function c(a,b){a[0]=-b[0];a[1]=-b[1];return a}function d(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function q(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function u(a,b){a=l(a,b);return.999<a?0:-.999>a?Math.PI:Math.acos(a)}function y(a,b,c,e,f){if(0===e)a.count=0;else{var h=g(b),l=d(w[0],b,1/h);c=d(w[1],c,1/h);l=u(l,c);l=(f?-1:1)*l/e;f=Math.cos(l);
l=Math.sin(l);c=b[0];var k=b[1];for(b=0;b<e-1;++b)h=c,c=f*h-l*k,k=l*h+f*k,a.items[b][0]=c,a.items[b][1]=k;a.count=e-1}}function A(a){var b=a.count,c=Math.floor(b/2),d;for(d=0;d<c;++d){var e=a.items[d];a.items[d]=a.items[b-d-1];a.items[b-d-1]=e}}Object.defineProperty(b,"__esModule",{value:!0});var r;(function(a){a[a.ENTRY=1]="ENTRY";a[a.EXIT=2]="EXIT";a[a.CAP=3]="CAP"})(r=b.VectorRole||(b.VectorRole={}));var t;(function(a){a[a.START=1]="START";a[a.END=2]="END"})(t=b.CapPosition||(b.CapPosition={}));
b.SYSTEM_MAG_LIMIT=3.8;b.MITER_SAFE_RADS=2*Math.acos(1/b.SYSTEM_MAG_LIMIT);var D=b.SYSTEM_MAG_LIMIT*b.SYSTEM_MAG_LIMIT,G=8/(2*Math.PI);b.allocTriangles=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return b};b.allocExtrudeVectors=function(){var a=
{items:[],count:0},b;for(b=0;30>b;++b)a.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});b={};b[r.ENTRY]=k(20);b[r.EXIT]=k(20);b[r.CAP]=k(20);return{vectors:a,lists:b}};b.copyExtrudeVectors=function(a,b){var c;for(c=0;c<b.vectors.count;++c)a.vectors.items[c].vector[0]=b.vectors.items[c].vector[0],a.vectors.items[c].vector[1]=b.vectors.items[c].vector[1],a.vectors.items[c].texCoords[0]=b.vectors.items[c].texCoords[0],a.vectors.items[c].texCoords[1]=b.vectors.items[c].texCoords[1],
a.vectors.items[c].direction[0]=b.vectors.items[c].direction[0],a.vectors.items[c].direction[1]=b.vectors.items[c].direction[1],a.vectors.items[c].base=b.vectors.items[c].base;a.vectors.count=b.vectors.count;var d=b.lists[r.ENTRY],e=a.lists[r.ENTRY],f=b.lists[r.EXIT],h=a.lists[r.EXIT],g=b.lists[r.CAP],l=a.lists[r.CAP];for(c=0;c<d.count;++c)e.items[c]=d.items[c];e.count=d.count;for(c=0;c<f.count;++c)h.items[c]=f.items[c];h.count=f.count;for(c=0;c<g.count;++c)l.items[c]=g.items[c];l.count=g.count;a.capCenter=
b.capCenter};var v={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};b.swapExtrudeVectors=m;var w=[];for(a=0;32>a;++a)w.push([void 0,void 0]);var B=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push([void 0,void 0]);return b}(8);b.length=g;b.normalize=h;b.getNumberOfSlices=function(a){return Math.max(Math.round(a*G),1)};b.getRads=u;b.reverse=A;var z=[void 0,void 0],C=[void 0,void 0],L=[0,0],E=[0,0],F=[0,0],N=[0,0],O=Math.cos(Math.PI/4),J=Math.sin(Math.PI/
4),R=Math.sqrt(2);a=function(){function a(a){this._distanceAlongCorrection=a.distanceAlongCorrection}a.prototype.bridge=function(a,b,c){var d=b.vectors;b=b.lists[r.EXIT];var e=c.vectors,f=c.lists[r.ENTRY],h,g;if(b.count===f.count+1)c=b.items,h=d.items,g=f.items,e=e.items;else if(f.count===b.count+1)c=f.items,h=e.items,g=b.items,e=d.items;else if(b.count===f.count)c=f.items,h=e.items,g=b.items,e=d.items;else{console.error("Cannot bridge "+b.count+" to "+f.count+".");a.count=0;return}d=b.count+f.count-
2;a.count=d;z[0]=c;z[1]=g;C[0]=h;C[1]=e;for(b=0;b<d;++b)c=a.items[b],h=(b+0)%2,h=C[h][z[h][Math.floor((b+0)/2)]],c.v1.vector[0]=h.vector[0],c.v1.vector[1]=h.vector[1],c.v1.texCoords[0]=h.texCoords[0],c.v1.texCoords[1]=h.texCoords[1],c.v1.direction[0]=h.direction[0],c.v1.direction[1]=h.direction[1],c.v1.base=h.base,h=(b+1)%2,h=C[h][z[h][Math.floor((b+1)/2)]],c.v2.vector[0]=h.vector[0],c.v2.vector[1]=h.vector[1],c.v2.texCoords[0]=h.texCoords[0],c.v2.texCoords[1]=h.texCoords[1],c.v2.direction[0]=h.direction[0],
c.v2.direction[1]=h.direction[1],c.v2.base=h.base,h=(b+2)%2,h=C[h][z[h][Math.floor((b+2)/2)]],c.v3.vector[0]=h.vector[0],c.v3.vector[1]=h.vector[1],c.v3.texCoords[0]=h.texCoords[0],c.v3.texCoords[1]=h.texCoords[1],c.v3.direction[0]=h.direction[0],c.v3.direction[1]=h.direction[1],c.v3.base=h.base,h=c.v1.base&&c.v1.base.point||L,g=c.v2.base&&c.v2.base.point||L,e=c.v3.base&&c.v3.base.point||L,E[0]=h[0]+c.v1.vector[0],E[1]=h[1]+c.v1.vector[1],F[0]=g[0]+c.v2.vector[0],F[1]=g[1]+c.v2.vector[1],N[0]=e[0]+
c.v3.vector[0],N[1]=e[1]+c.v3.vector[1],0>(F[0]-E[0])*(N[1]-E[1])-(N[0]-E[0])*(F[1]-E[1])||m(c.v2,c.v3)};a.prototype.pie=function(a,b){if(0===b.lists[r.CAP].count)a.count=0;else if(1===b.lists[r.CAP].count)console.error("A single vector is not enough to define a pie."),a.count=0;else{a.count=b.lists[r.CAP].count-1;var c;for(c=0;c<a.count;++c){var d=a.items[c],e=b.vectors.items[b.lists[r.CAP].items[c]];d.v1.vector[0]=e.vector[0];d.v1.vector[1]=e.vector[1];d.v1.texCoords[0]=e.texCoords[0];d.v1.texCoords[1]=
e.texCoords[1];d.v1.direction[0]=e.direction[0];d.v1.direction[1]=e.direction[1];d.v1.base=e.base;e=b.vectors.items[b.lists[r.CAP].items[c+1]];d.v2.vector[0]=e.vector[0];d.v2.vector[1]=e.vector[1];d.v2.texCoords[0]=e.texCoords[0];d.v2.texCoords[1]=e.texCoords[1];d.v2.direction[0]=e.direction[0];d.v2.direction[1]=e.direction[1];d.v2.base=e.base;e=b.vectors.items[b.capCenter];d.v3.vector[0]=e.vector[0];d.v3.vector[1]=e.vector[1];d.v3.texCoords[0]=e.texCoords[0];d.v3.texCoords[1]=e.texCoords[1];d.v3.direction[0]=
e.direction[0];d.v3.direction[1]=e.direction[1];d.v3.base=e.base;var e=d.v1.base&&d.v1.base.point||L,f=d.v2.base&&d.v2.base.point||L,h=d.v3.base&&d.v3.base.point||L;E[0]=e[0]+d.v1.vector[0];E[1]=e[1]+d.v1.vector[1];F[0]=f[0]+d.v2.vector[0];F[1]=f[1]+d.v2.vector[1];N[0]=h[0]+d.v3.vector[0];N[1]=h[1]+d.v3.vector[1];0>(F[0]-E[0])*(N[1]-E[1])-(N[0]-E[0])*(F[1]-E[1])||m(d.v2,d.v3)}}};a.prototype.buttCap=function(a,b,c){this.fastMiterJoin(a,b,c)};a.prototype.roundCap=function(a,b,c,d,e,f){void 0===f&&(f=
0);this.fastMiterJoin(a,b,c);c=d===t.START?0:1;d=d===t.START?1:0;a.capCenter=a.vectors.count;b=a.vectors.items[a.capCenter];b.vector[0]=0;b.vector[1]=0;b.texCoords[0]=0;b.texCoords[1]=0;b.direction[0]=0;b.direction[1]=0;++a.vectors.count;y(B,a.vectors.items[c].vector,a.vectors.items[d].vector,e,!1);e=a.vectors.count;b=a.lists[r.CAP];b.items[0]=c;c=a.vectors.items[c].texCoords[1];var h=a.vectors.items[d].texCoords[1],g;for(g=0;g<B.count;++g){var l=f*(1-Math.abs(B.count/2-g)/(B.count/2)),k=c+g/(B.count-
1)*(h-c),m=B.items[g],q=a.vectors.items[e+g];q.vector[0]=m[0];q.vector[1]=m[1];q.texCoords[0]=l;q.texCoords[1]=k;q.direction[0]=0;q.direction[1]=0;b.items[g+1]=e+g}b.items[B.count+1]=d;b.count=B.count+2;a.vectors.count=e+B.count};a.prototype.squareCap=function(a,b,c,e){this.fastMiterJoin(a,b,c);b=e===t.START?0:1;c=e===t.START?1:0;var f=w[0],h=w[1],g=w[2],l=w[3];e=w[4];var k=a.vectors.items[b].vector;f[0]=O*k[0]-J*k[1];f[1]=J*k[0]+O*k[1];d(l,f,R);h[0]=O*f[0]-J*f[1];h[1]=J*f[0]+O*f[1];g[0]=O*h[0]-J*
h[1];g[1]=J*h[0]+O*h[1];d(e,g,R);b=a.vectors.items[b];b.vector[0]=l[0];b.vector[1]=l[1];a=a.vectors.items[c];a.vector[0]=e[0];a.vector[1]=e[1]};a.prototype.squareCapForDashedLines=function(a,b,d,f){if(f===t.START){b=e(w[0],d);d=c(w[4],b);f=w[1];var h=w[2],g=w[3];f[0]=O*b[0]-J*b[1];f[1]=J*b[0]+O*b[1];h[0]=O*f[0]-J*f[1];h[1]=J*f[0]+O*f[1];g[0]=O*h[0]-J*h[1];g[1]=J*h[0]+O*h[1];h=w[5];h[0]=0;h[1]=0;a.capCenter=0;var l=a.vectors.items;l[0].vector[0]=h[0];l[0].vector[1]=h[1];l[0].direction[0]=0;l[0].direction[1]=
0;l[0].texCoords[0]=0;l[0].texCoords[1]=0;l[1].vector[0]=b[0];l[1].vector[1]=b[1];l[1].direction[0]=0;l[1].direction[1]=0;l[1].texCoords[0]=0;l[1].texCoords[1]=-1;l[2].vector[0]=f[0]*R;l[2].vector[1]=f[1]*R;l[2].direction[0]=0;l[2].direction[1]=0;l[2].texCoords[0]=-1;l[2].texCoords[1]=-1;l[3].vector[0]=g[0]*R;l[3].vector[1]=g[1]*R;l[3].direction[0]=0;l[3].direction[1]=0;l[3].texCoords[0]=-1;l[3].texCoords[1]=1;l[4].vector[0]=d[0];l[4].vector[1]=d[1];l[4].direction[0]=0;l[4].direction[1]=0;l[4].texCoords[0]=
0;l[4].texCoords[1]=1;a.vectors.count=5;a.lists[r.CAP].count=4;a.lists[r.CAP].items[0]=1;a.lists[r.CAP].items[1]=2;a.lists[r.CAP].items[2]=3;a.lists[r.CAP].items[3]=4;a.lists[r.ENTRY].count=0;a.lists[r.EXIT].count=3;a.lists[r.EXIT].items[0]=1;a.lists[r.EXIT].items[1]=0;a.lists[r.EXIT].items[2]=4}else b=e(w[0],d),d=c(w[4],b),f=w[1],h=w[2],g=w[3],f[0]=O*d[0]-J*d[1],f[1]=J*d[0]+O*d[1],h[0]=O*f[0]-J*f[1],h[1]=J*f[0]+O*f[1],g[0]=O*h[0]-J*h[1],g[1]=J*h[0]+O*h[1],h=w[5],h[0]=0,h[1]=0,a.capCenter=0,l=a.vectors.items,
l[0].vector[0]=h[0],l[0].vector[1]=h[1],l[0].direction[0]=0,l[0].direction[1]=0,l[0].texCoords[0]=0,l[0].texCoords[1]=0,l[1].vector[0]=d[0],l[1].vector[1]=d[1],l[1].direction[0]=0,l[1].direction[1]=0,l[1].texCoords[0]=0,l[1].texCoords[1]=1,l[2].vector[0]=f[0]*R,l[2].vector[1]=f[1]*R,l[2].direction[0]=0,l[2].direction[1]=0,l[2].texCoords[0]=1,l[2].texCoords[1]=1,l[3].vector[0]=g[0]*R,l[3].vector[1]=g[1]*R,l[3].direction[0]=0,l[3].direction[1]=0,l[3].texCoords[0]=1,l[3].texCoords[1]=-1,l[4].vector[0]=
b[0],l[4].vector[1]=b[1],l[4].direction[0]=0,l[4].direction[1]=0,l[4].texCoords[0]=0,l[4].texCoords[1]=-1,a.vectors.count=5,a.lists[r.CAP].count=4,a.lists[r.CAP].items[0]=1,a.lists[r.CAP].items[1]=2,a.lists[r.CAP].items[2]=3,a.lists[r.CAP].items[3]=4,a.lists[r.ENTRY].count=3,a.lists[r.ENTRY].items[0]=4,a.lists[r.ENTRY].items[1]=0,a.lists[r.ENTRY].items[2]=1,a.lists[r.EXIT].count=0};a.prototype.fastMiterJoin=function(a,b,d){d=e(w[0],d);b=c(w[1],d);var f=a.vectors.items[0];f.vector[0]=d[0];f.vector[1]=
d[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=0;d=a.vectors.items[1];d.vector[0]=b[0];d.vector[1]=b[1];d.texCoords[0]=0;d.texCoords[1]=1;d.direction[0]=0;d.direction[1]=0;a.vectors.count=2;b=a.lists[r.ENTRY];b.items[0]=0;b.items[1]=1;b.count=2;b=a.lists[r.EXIT];b.items[0]=0;b.items[1]=1;b.count=2;a.lists[r.CAP].count=0;a.capCenter=void 0};a.prototype.miterJoin=function(a,b,f){var g=e(w[0],b),k=e(w[1],f),m=w[2];m[0]=g[0]+k[0];m[1]=g[1]+k[1];k=h(w[3],m);g=l(k,g);k=d(w[4],k,
1/g);g=c(w[5],k);this._distanceAlongCorrection?(m=a.vectors.items[0],m.vector[0]=k[0],m.vector[1]=k[1],m.texCoords[0]=0,m.texCoords[1]=-1,m.direction[0]=b[0],m.direction[1]=b[1],m=a.vectors.items[1],m.vector[0]=g[0],m.vector[1]=g[1],m.texCoords[0]=0,m.texCoords[1]=1,m.direction[0]=b[0],m.direction[1]=b[1],b=a.vectors.items[2],b.vector[0]=k[0],b.vector[1]=k[1],b.texCoords[0]=0,b.texCoords[1]=-1,b.direction[0]=f[0],b.direction[1]=f[1],b=a.vectors.items[3],b.vector[0]=g[0],b.vector[1]=g[1],b.texCoords[0]=
0,b.texCoords[1]=1,b.direction[0]=f[0],b.direction[1]=f[1],a.vectors.count=4,f=a.lists[r.ENTRY],f.items[0]=0,f.items[1]=1,f.count=2,f=a.lists[r.EXIT],f.items[0]=2,f.items[1]=3):(m=a.vectors.items[0],m.vector[0]=k[0],m.vector[1]=k[1],m.texCoords[0]=0,m.texCoords[1]=-1,m.direction[0]=0,m.direction[1]=0,m=a.vectors.items[1],m.vector[0]=g[0],m.vector[1]=g[1],m.texCoords[0]=0,m.texCoords[1]=1,m.direction[0]=0,m.direction[1]=0,a.vectors.count=2,f=a.lists[r.ENTRY],f.items[0]=0,f.items[1]=1,f.count=2,f=a.lists[r.EXIT],
f.items[0]=0,f.items[1]=1);f.count=2;a.lists[r.CAP].count=0;a.capCenter=void 0};a.prototype.bevelJoin=function(a,b,g,k){var m=k*k;k=f(b,g);var u=0<k?[-1,1]:[1,-1],t=u[0],u=u[1],v=0<k?c(w[0],e(w[1],b)):e(w[2],b),y=0<k?c(w[3],e(w[4],g)):e(w[5],g),E=w[6];E[0]=v[0]+y[0];E[1]=v[1]+y[1];var z=h(w[7],E),B=c(w[8],z),G=l(z,v),E=f(z,v),C=Math.abs(E/G),E=1+C*C,F=E<D?[C,this._distanceAlongCorrection]:[Math.sqrt(D-1),!0],H=F[0],F=F[1],K=E<m?[C,this._distanceAlongCorrection]:[Math.sqrt(m-1),!0],C=K[0];(K=K[1])&&
F?(F=a.vectors.items[0],q(F.vector,c(w[9],v),d(w[10],c(w[11],b),H)),F.texCoords[0]=0,F.texCoords[1]=t,F.direction[0]=this._distanceAlongCorrection?b[0]:0,F.direction[1]=this._distanceAlongCorrection?b[1]:0,B=a.vectors.items[1],q(B.vector,c(w[12],y),d(w[13],g,H)),B.texCoords[0]=0,B.texCoords[1]=t,B.direction[0]=this._distanceAlongCorrection?g[0]:0,B.direction[1]=this._distanceAlongCorrection?g[1]:0,t=a.vectors.items[2],t.vector[0]=0,t.vector[1]=0,t.texCoords[0]=0,t.texCoords[1]=0,t.direction[0]=0,
t.direction[1]=0,t=a.vectors.items[3],q(t.vector,v,d(w[14],b,C)),t.texCoords[0]=0,t.texCoords[1]=u,t.direction[0]=this._distanceAlongCorrection?b[0]:0,t.direction[1]=this._distanceAlongCorrection?b[1]:0,b=a.vectors.items[4],q(b.vector,y,d(w[15],c(w[16],g),C)),b.texCoords[0]=0,b.texCoords[1]=u,b.direction[0]=this._distanceAlongCorrection?g[0]:0,b.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=5,g=a.lists[r.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[r.EXIT],
g.items[0]=1,g.items[1]=2,g.items[2]=4,g.count=3,E<m?(m=a.lists[r.CAP],m.count=0,a.capCenter=void 0):(m=a.lists[r.CAP],m.items[0]=3,m.items[1]=4,m.count=2,a.capCenter=2)):!K&&F?(F=a.vectors.items[0],q(F.vector,c(w[9],v),d(w[10],c(w[11],b),H)),F.texCoords[0]=0,F.texCoords[1]=t,F.direction[0]=this._distanceAlongCorrection?b[0]:0,F.direction[1]=this._distanceAlongCorrection?b[1]:0,B=a.vectors.items[1],q(B.vector,c(w[12],y),d(w[13],g,H)),B.texCoords[0]=0,B.texCoords[1]=t,B.direction[0]=this._distanceAlongCorrection?
g[0]:0,B.direction[1]=this._distanceAlongCorrection?g[1]:0,t=a.vectors.items[2],t.vector[0]=0,t.vector[1]=0,t.texCoords[0]=0,t.texCoords[1]=0,t.direction[0]=0,t.direction[1]=0,t=a.vectors.items[3],d(t.vector,z,1/G),t.texCoords[0]=0,t.texCoords[1]=u,t.direction[0]=0,t.direction[1]=0,a.vectors.count=4,g=a.lists[r.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[r.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=3,g.count=3,a.lists[r.CAP].count=0,a.capCenter=void 0):K&&!F?(F=a.vectors.items[0],
d(F.vector,B,1/G),F.texCoords[0]=0,F.texCoords[1]=t,F.direction[0]=0,F.direction[1]=0,B=a.vectors.items[1],B.vector[0]=0,B.vector[1]=0,B.texCoords[0]=0,B.texCoords[1]=0,B.direction[0]=0,B.direction[1]=0,t=a.vectors.items[2],q(t.vector,v,d(w[9],b,C)),t.texCoords[0]=0,t.texCoords[1]=u,t.direction[0]=this._distanceAlongCorrection?b[0]:0,t.direction[1]=this._distanceAlongCorrection?b[1]:0,t=a.vectors.items[3],q(t.vector,y,d(w[10],c(w[11],g),C)),t.texCoords[0]=0,t.texCoords[1]=u,t.direction[0]=this._distanceAlongCorrection?
g[0]:0,t.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=4,g=a.lists[r.ENTRY],g.items[0]=0,g.items[1]=1,g.items[2]=2,g.count=3,g=a.lists[r.EXIT],g.items[0]=0,g.items[1]=1,g.items[2]=3,g.count=3,E<m?(m=a.lists[r.CAP],m.count=0,a.capCenter=void 0):(m=a.lists[r.CAP],m.items[0]=2,m.items[1]=3,m.count=2,a.capCenter=1)):K||F||(F=a.vectors.items[0],d(F.vector,B,1/G),F.texCoords[0]=0,F.texCoords[1]=t,F.direction[0]=0,F.direction[1]=0,B=a.vectors.items[1],d(B.vector,z,1/G),B.texCoords[0]=
0,B.texCoords[1]=u,B.direction[0]=0,B.direction[1]=0,a.vectors.count=2,g=a.lists[r.ENTRY],g.items[0]=0,g.items[1]=1,g.count=2,g=a.lists[r.EXIT],g.items[0]=0,g.items[1]=1,g.count=2,a.lists[r.CAP].count=0,a.capCenter=void 0);0>k&&(A(a.lists[r.ENTRY]),A(a.lists[r.EXIT]))};a.prototype.roundJoin=function(a,b,g,k){var m=f(b,g),u=0<m?[-1,1]:[1,-1],t=u[0],u=u[1],v=0<m?c(w[0],e(w[1],b)):e(w[2],b),E=0<m?c(w[3],e(w[4],g)):e(w[5],g),z=w[6];z[0]=v[0]+E[0];z[1]=v[1]+E[1];var F=h(w[7],z),z=c(w[8],F),G=l(F,v),F=
f(F,v),F=Math.abs(F/G),C=1+F*F<D?[F,this._distanceAlongCorrection]:[Math.sqrt(D-1),!0],F=C[0];C[1]?(C=a.vectors.items[0],C.vector[0]=v[0],C.vector[1]=v[1],C.texCoords[0]=0,C.texCoords[1]=u,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[1],C.vector[0]=E[0],C.vector[1]=E[1],C.texCoords[0]=0,C.texCoords[1]=u,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[2],q(C.vector,c(w[9],v),d(w[10],c(w[11],b),F)),C.texCoords[0]=0,C.texCoords[1]=t,C.direction[0]=this._distanceAlongCorrection?b[0]:0,C.direction[1]=
this._distanceAlongCorrection?b[1]:0,b=a.vectors.items[3],q(b.vector,c(w[12],E),d(w[13],g,F)),b.texCoords[0]=0,b.texCoords[1]=t,b.direction[0]=this._distanceAlongCorrection?g[0]:0,b.direction[1]=this._distanceAlongCorrection?g[1]:0,g=a.vectors.items[4],g.vector[0]=0,g.vector[1]=0,g.texCoords[0]=0,g.texCoords[1]=0,g.direction[0]=0,g.direction[1]=0,a.vectors.count=5,g=a.lists[r.ENTRY],g.items[0]=2,g.items[1]=4,g.items[2]=0,g.count=3,g=a.lists[r.EXIT],g.items[0]=3,g.items[1]=4,g.items[2]=1,g.count=3,
a.capCenter=4):(C=a.vectors.items[0],C.vector[0]=v[0],C.vector[1]=v[1],C.texCoords[0]=0,C.texCoords[1]=u,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[1],C.vector[0]=E[0],C.vector[1]=E[1],C.texCoords[0]=0,C.texCoords[1]=u,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[2],d(C.vector,z,1/G),C.texCoords[0]=0,C.texCoords[1]=t,C.direction[0]=0,C.direction[1]=0,b=a.vectors.items[3],b.vector[0]=0,b.vector[1]=0,b.texCoords[0]=0,b.texCoords[1]=0,b.direction[0]=0,b.direction[1]=0,a.vectors.count=
4,g=a.lists[r.ENTRY],g.items[0]=2,g.items[1]=3,g.items[2]=0,g.count=3,g=a.lists[r.EXIT],g.items[0]=2,g.items[1]=3,g.items[2]=1,g.count=3,a.capCenter=3);y(B,v,E,k,0>m);k=a.vectors.count;v=a.lists[r.CAP];for(E=v.items[0]=0;E<B.count;++E)g=B.items[E],t=a.vectors.items[k+E],t.vector[0]=g[0],t.vector[1]=g[1],t.texCoords[0]=0,t.texCoords[1]=u,t.direction[0]=0,t.direction[1]=0,v.items[E+1]=k+E;v.items[B.count+1]=1;v.count=B.count+2;a.vectors.count=k+B.count;0>m&&(A(a.lists[r.ENTRY]),A(a.lists[r.EXIT]))};
a.prototype.unitRoundJoin=function(a,b,d,h){var g=f(b,d),l=0<g?[-1,1]:[1,-1],k=l[0],l=l[1];b=0<g?c(w[0],e(w[1],b)):e(w[2],b);d=0<g?c(w[3],e(w[4],d)):e(w[5],d);var m=a.vectors.items[0];m.vector[0]=b[0];m.vector[1]=b[1];m.texCoords[0]=0;m.texCoords[1]=l;m.direction[0]=0;m.direction[1]=0;m=a.vectors.items[1];m.vector[0]=d[0];m.vector[1]=d[1];m.texCoords[0]=0;m.texCoords[1]=l;m.direction[0]=0;m.direction[1]=0;m=a.vectors.items[2];c(m.vector,b);m.texCoords[0]=0;m.texCoords[1]=k;m.direction[0]=0;m.direction[1]=
0;m=a.vectors.items[3];c(m.vector,d);m.texCoords[0]=0;m.texCoords[1]=k;m.direction[0]=0;m.direction[1]=0;k=a.vectors.items[4];k.vector[0]=0;k.vector[1]=0;k.texCoords[0]=0;k.texCoords[1]=0;k.direction[0]=0;k.direction[1]=0;a.vectors.count=5;k=a.lists[r.ENTRY];k.items[0]=2;k.items[1]=0;k.count=2;k=a.lists[r.EXIT];k.items[0]=3;k.items[1]=1;k.count=2;a.capCenter=4;y(B,b,d,h,0>g);h=a.vectors.count;b=a.lists[r.CAP];for(k=b.items[0]=0;k<B.count;++k)d=B.items[k],m=a.vectors.items[h+k],m.vector[0]=d[0],m.vector[1]=
d[1],m.texCoords[0]=0,m.texCoords[1]=l,m.direction[0]=0,m.direction[1]=0,b.items[k+1]=h+k;b.items[B.count+1]=1;b.count=B.count+2;a.vectors.count=h+B.count;0>g&&(A(a.lists[r.ENTRY]),A(a.lists[r.EXIT]))};a.prototype.rectJoin=function(a,b,d){b=e(w[0],b);d=e(w[1],d);var f=a.vectors.items[0];f.vector[0]=b[0];f.vector[1]=b[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=0;f=a.vectors.items[1];f.vector[0]=d[0];f.vector[1]=d[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=
0;f=a.vectors.items[2];c(f.vector,b);f.texCoords[0]=0;f.texCoords[1]=1;f.direction[0]=0;f.direction[1]=0;b=a.vectors.items[3];c(b.vector,d);b.texCoords[0]=0;b.texCoords[1]=1;b.direction[0]=0;b.direction[1]=0;a.vectors.count=4;b=a.lists[r.ENTRY];b.items[0]=0;b.items[1]=2;b.count=2;b=a.lists[r.EXIT];b.items[0]=1;b.items[1]=3;b.count=2;a.capCenter=void 0};return a}();b.Tessellator=a})},"esri/views/vectorTiles/style/StyleLayer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./Filter ./StyleDefinition ./StyleProperty".split(" "),
function(a,b,k,m,l,g,h){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b,d){this.type=a;this.typeName=b.type;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=d;switch(a){case 0:this._layoutDefinition=g.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=g.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=
g.StyleDefinition.fillLayoutDefinition;this._paintDefinition=g.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=g.StyleDefinition.lineLayoutDefinition;this._paintDefinition=g.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=g.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=g.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=g.StyleDefinition.circleLayoutDefinition,this._paintDefinition=g.StyleDefinition.circlePaintDefinition}this._layoutProperties=
this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=l.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,d){var c,e=this._layoutProperties;e&&(e=e[a])&&(c=e.getValue(b,
d));a=this._layoutDefinition[a];void 0===c&&(c=a["default"]);"enum"===a.type&&(c=a.values.indexOf(c));return c};a.prototype.getPaintValue=function(a,b,d){var c,e=this._paintProperties;e&&(e=e[a])&&(c=e.getValue(b,d));a=this._paintDefinition[a];void 0===c&&(c=a["default"]);"enum"===a.type&&(c=a.values.indexOf(c));return c};a.prototype._parseLayout=function(a){var b={},d;for(d in a){var e=this._layoutDefinition[d];e&&(b[d]=new h(d,e,a[d]))}return b};a.prototype._parsePaint=function(a){var b={},d;for(d in a){var e=
this._paintDefinition[d];e&&(b[d]=new h(d,e,a[d]))}return b};return a}();b.StyleLayer=a;m=function(a){function b(b,d,e){return a.call(this,b,d,e)||this}k(b,a);return b}(a);b.BackgroundStyleLayer=m;m=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("fill-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("fill-opacity");b.hasDataDrivenOpacity=d?d.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;d=b.getPaintProperty("fill-outline-color");
b.outlineUsesFillColor=!d;b.hasDataDrivenOutlineColor=d?d.isDataDriven:!1;b.hasDataDrivenOutline=(d?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}k(b,a);return b}(a);b.FillStyleLayer=m;m=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("line-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("line-width");b.hasDataDrivenWidth=d?d.isDataDriven:
!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;return b}k(b,a);return b}(a);b.LineStyleLayer=m;m=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=d?d.isDataDriven:!1;d=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=d?d.isDataDriven:!1;d=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=d?d.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||
b.hasDataDrivenIconSize;d=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=d?d.isDataDriven:!1;d=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=d?d.isDataDriven:!1;d=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=d?d.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}k(b,a);return b}(a);b.SymbolStyleLayer=m;a=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("circle-radius");
b.hasDataDrivenRadius=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-blur");
b.hasDataDrivenBlur=d?d.isDataDriven:!1;return b}k(b,a);return b}(a);b.CircleStyleLayer=a;a=function(){return function(a,b,c){this.cap=a.getLayoutValue("line-cap",b,c);this.join=a.getLayoutValue("line-join",b,c);this.miterLimit=a.getLayoutValue("line-miter-limit",b,c);this.roundLimit=a.getLayoutValue("line-round-limit",b,c)}}();b.LineLayout=a;a=function(){return function(a,b,c,d){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,d);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",
b,d);this.optional=a.getLayoutValue("icon-optional",b,d);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,d);this.size=a.getLayoutValue("icon-size",b,d);this.rotate=a.getLayoutValue("icon-rotate",b,d);this.padding=a.getLayoutValue("icon-padding",b,d);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,d);this.offset=a.getLayoutValue("icon-offset",b,d);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();b.IconLayout=a;a=function(){return function(a,b,c,d){this.allowOverlap=
a.getLayoutValue("text-allow-overlap",b,d);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,d);this.optional=a.getLayoutValue("text-optional",b,d);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,d);this.fontArray=a.getLayoutValue("text-font",b,d);this.maxWidth=a.getLayoutValue("text-max-width",b,d);this.lineHeight=a.getLayoutValue("text-line-height",b,d);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,d);this.justify=a.getLayoutValue("text-justify",b,
d);this.anchor=a.getLayoutValue("text-anchor",b,d);this.maxAngle=a.getLayoutValue("text-max-angle",b,d);this.size=a.getLayoutValue("text-size",b,d);this.rotate=a.getLayoutValue("text-rotate",b,d);this.padding=a.getLayoutValue("text-padding",b,d);this.keepUpright=a.getLayoutValue("text-keep-upright",b,d);this.transform=a.getLayoutValue("text-transform",b,d);this.offset=a.getLayoutValue("text-offset",b,d);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();b.TextLayout=a})},"esri/views/vectorTiles/style/Filter":function(){define(["require",
"exports"],function(a,b){return function(){function a(b,l,g){this._op=b;"$type"===l?(this._val=g instanceof Array?g.map(function(b){return a._types.indexOf(b)}):a._types.indexOf(g),this._op+=11):(this._key=l,this._val=g)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=
this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var b=0,g=this._val;b<g.length;b++){var h=g[b];if(h.filter(a))return!0}return!1;case 10:b=0;for(g=this._val;b<g.length;b++)if(h=g[b],!h.filter(a))return!1;return!0;case 11:b=0;for(g=this._val;b<g.length;b++)if(h=g[b],h.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<
this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type);case 20:return void 0!==a.values[this._key];case 21:return void 0===a.values[this._key]}};a.createFilter=function(b){if(!b)return new a(0,void 0,!0);var l=b[0];if(1>=b.length)return new a(0,void 0,"any"!==l);switch(l){case "\x3d\x3d":return new a(1,b[1],b[2]);case "!\x3d":return new a(2,b[1],b[2]);case "\x3e":return new a(4,
b[1],b[2]);case "\x3c":return new a(3,b[1],b[2]);case "\x3e\x3d":return new a(6,b[1],b[2]);case "\x3c\x3d":return new a(5,b[1],b[2]);case "in":return new a(7,b[1],b.slice(2));case "!in":return new a(8,b[1],b.slice(2));case "any":return new a(9,void 0,b.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,b.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,b.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,b[1],void 0);case "!has":return new a(21,
b[1],void 0);default:throw Error("invalid operator: "+l);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/views/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition=
{visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",
minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",
default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",
values:["left","center","right"],default:"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",
length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",
minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",
value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",
default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",
minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",
minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",
values:["map","viewport"],default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return a}();b.StyleDefinition=a})},"esri/views/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../Color","../GeometryUtils"],function(a,b,k,m){return function(){function a(b,h,e){this.isDataDriven=!1;switch(h.type){case "number":b=!0;break;case "color":b=
!0;e=a._parseColor(e);break;case "array":b="number"===h.value;break;default:b=!1}null==e&&(e=h.default);b&&"interval"===e.type&&(b=!1);var f=e&&e.stops&&0<e.stops.length;if(f)for(var c=0,d=e.stops;c<d.length;c++){var g=d[c];g[1]=this._validate(g[1],h)}if(this.isDataDriven=e?!!e.property:!1)if(void 0!==e.default&&(e.default=this._validate(e.default,h)),f)switch(e.type){case "identity":this.getValue=this._buildIdentity(e,h);break;case "categorical":this.getValue=this._buildCategorical(e,h);break;default:this.getValue=
b?this._buildInterpolate(e,h):this._buildInterval(e,h)}else this.getValue=this._buildIdentity(e,h);else f?this.getValue=b?this._buildZoomInterpolate(e):this._buildZoomInterval(e):(e=this._validate(e,h),this.getValue=this._buildSimple(e))}a.prototype._validate=function(a,b){if("number"===b.type){if(a<b.minimum)return b.minimum;if(a>b.maximum)return b.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(b,h){var e=this;return function(f,
c){var d;c&&(d=c.values[b.property],"color"===h.type&&(d=a._parseColor(d)));void 0===d&&(d=b.default);return void 0!==d?e._validate(d,h):h.default}};a.prototype._buildCategorical=function(a,b){var e=this;return function(f,c){var d;c&&(d=c.values[a.property]);d=e._categorical(d,a.stops);return void 0!==d?d:void 0!==a.default?a.default:b.default}};a.prototype._buildInterval=function(a,b){var e=this;return function(f,c){var d;c&&(d=c.values[a.property]);return"number"===typeof d?e._interval(d,a.stops):
void 0!==a.default?a.default:b.default}};a.prototype._buildInterpolate=function(a,b){var e=this;return function(f,c){var d;c&&(d=c.values[a.property]);return"number"===typeof d?e._interpolate(d,a.stops,a.base||1):void 0!==a.default?a.default:b.default}};a.prototype._buildZoomInterpolate=function(a){var b=this;return function(e){return b._interpolate(e,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var b=this;return function(e){return b._interval(e,a.stops)}};a.prototype._categorical=
function(a,b){for(var e=b.length,f=0;f<e;f++)if(b[f][0]===a)return b[f][1]};a.prototype._interval=function(a,b){for(var e=b.length,f=0,c=0;c<e;c++)if(b[c][0]<=a)f=c;else break;return b[f][1]};a.prototype._interpolate=function(a,b,e){for(var f,c,d=b.length,h=0;h<d;h++){var g=b[h];if(g[0]<=a)f=g;else{c=g;break}}if(f&&c){h=c[0]-f[0];a-=f[0];e=1===e?a/h:(Math.pow(e,a)-1)/(Math.pow(e,h)-1);if(Array.isArray(f[1])){f=f[1];c=c[1];a=[];for(h=0;h<f.length;h++)a.push(m.interpolate(f[h],c[h],e));return a}return m.interpolate(f[1],
c[1],e)}if(f)return f[1];if(c)return c[1]};a._isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};a._parseColor=function(b){if(Array.isArray(b))return b;if("string"===typeof b){if(b=new k(b),!this._isEmpty(b))return k.toUnitRGBA(b)}else return b&&b.default&&(b.default=a._parseColor(b.default)),b&&b.stops&&(b.stops=b.stops.map(function(b){return[b[0],a._parseColor(b[1])]})),b};return a}()})},"esri/Color":function(){define(["require","exports","./core/accessorSupport/ensureType"],
function(a,b,k){function m(a){return Math.max(0,Math.min(k.ensureInteger(a),255))}function l(a,b,f){a=Number(a);return isNaN(a)?f:a<b?b:a>f?f:a}function g(a,b,f){0>f&&++f;1<f&&--f;var c=6*f;return 1>c?a+(b-a)*c:1>2*f?b:2>3*f?a+(b-a)*(2/3-f)*6:a}a=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(b,f,c,d){void 0===d&&(d=new a);d.r=Math.round(b.r+(f.r-b.r)*c);d.g=Math.round(b.g+(f.g-b.g)*c);d.b=Math.round(b.b+(f.b-b.b)*c);d.a=b.a+(f.a-b.a)*c;return d._sanitize()};
a.fromRgb=function(b,f){var c=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){b=c[2].split(/\s*,\s*/);c=c[1];if("rgb"===c&&3===b.length||"rgba"===c&&4===b.length)return c=b[0],"%"===c.charAt(c.length-1)?(c=b.map(function(a){return 2.56*parseFloat(a)}),4===b.length&&(c[3]=parseFloat(b[3])),a.fromArray(c,f)):a.fromArray(b.map(function(a){return parseFloat(a)}),f);if("hsl"===c&&3===b.length||"hsla"===c&&4===b.length){var c=(parseFloat(b[0])%360+360)%360/360,d=parseFloat(b[1])/100,e=
parseFloat(b[2])/100,d=.5>=e?e*(d+1):e+d-e*d,e=2*e-d,c=[256*g(e,d,c+1/3),256*g(e,d,c),256*g(e,d,c-1/3),1];4===b.length&&(c[3]=parseFloat(b[3]));return a.fromArray(c,f)}}return null};a.fromHex=function(b,f){void 0===f&&(f=new a);var c=4===b.length?4:8,d=(1<<c)-1,e=Number("0x"+b.substr(1));if(isNaN(e))return null;["b","g","r"].forEach(function(a){var b=e&d;e>>=c;f[a]=4===c?17*b:b});f.a=1;return f};a.fromArray=function(b,f){void 0===f&&(f=new a);f._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));
isNaN(f.a)&&(f.a=1);return f._sanitize()};a.fromString=function(b,f){var c=a.named[b];return c&&a.fromArray(c,f)||a.fromRgb(b,f)||a.fromHex(b,f)};a.toJSON=function(a){return a&&[m(a.r),m(a.g),m(a.b),1<a.a?a.a:m(255*a.a)]};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};a.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};a.prototype.setColor=function(b){"string"===typeof b?a.fromString(b,this):Array.isArray(b)?
a.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+
this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[m(this.r),m(this.g),m(this.b),1<this.a?this.a:m(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype._sanitize=function(){this.r=Math.round(l(this.r,0,255));this.g=Math.round(l(this.g,0,255));this.b=Math.round(l(this.b,0,255));this.a=l(this.a,0,1);return this};a.prototype._set=function(a,b,c,d){this.r=a;this.g=b;this.b=c;this.a=d};a.named={transparent:[0,
0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,
184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,
188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,
92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,
153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,
245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,
245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();a.prototype.declaredClass="esri.Color";return a})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports",
"../Logger"],function(a,b,k){function m(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function l(a){return null==a?a:new Date(a)}function g(a){return null==a?a:!!a}function h(a){return null==a?a:a.toString()}function e(a){return null==a?a:"number"===typeof a&&isNaN(a)?0:parseFloat(a)}function f(a){return null==a?a:Math.round(parseFloat(a))}function c(a){return a&&a.constructor&&void 0!==a.constructor._meta}function d(a,b){return null!=b&&a&&!m(a,b)}function q(a){return a&&("isCollection"in
a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function u(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function y(a,b){if(!b||!b.constructor||!q(b.constructor))return A(a,b)?b:new a(b);var c=u(a.prototype.itemType),d=u(b.constructor.prototype.itemType);if(!c)return b;if(!d)return new a(b);if(c===d)return b;if((d=d._meta&&d._meta.bases)&&-1!==d.indexOf(c))return new a(b);A(a,b);return b}function A(a,b){return c(b)?(C.error("Accessor#set",
"Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+(a&&a.prototype&&a.prototype.declaredClass||"unknown")+"'"),!0):!1}function r(a,b){return null==b?b:q(a)?y(a,b):d(a,b)?A(a,b)?b:new a(b):b}function t(a){switch(a){case Number:return e;case L:return f;case Boolean:return g;case String:return h;case Date:return l;default:return r.bind(null,a)}}function D(a,b){var c=t(a);return 1===arguments.length?c:c(b)}function G(a,b){return 1===arguments.length?G.bind(null,
a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function v(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return v(a,b-1,c)}):a(c)}function w(a,b,c){if(2===arguments.length)return w.bind(null,a,b);if(!c)return c;c=v(a,b,c);for(var d=b,e=c;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)c=[c];return c}function B(a,b){if(2===arguments.length)return B(a).call(null,b);for(var c=new Set,d=0;d<a.length;d++)c.add(a[d]);var e=null;return function(b,d){if(null==b)return b;c.has(b)||(e||(e=
a.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),C.error("Accessor#set","'"+b+"' is not a valid value for this property, only the following values are valid: "+e),d&&(d.valid=!1));return b}}function z(a,b){if(2===arguments.length)return z(a).call(null,b);var e={},f=[],g=[],h;for(h in a.typeMap){var l=a.typeMap[h];e[h]=D(l);f.push(l&&l.prototype&&l.prototype.declaredClass||"unknown");g.push(h)}var k="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&
!d(a.base,b))return b;var h=k(b)||a.defaultKeyValue,l=e[h];if(!l)return C.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+f.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+g.join("', '")+"'")+")"),null;if(!d(a.typeMap[h],b))return b;if("string"===typeof a.key&&!c(b)){var h={},m;for(m in b)m!==a.key&&(h[m]=b[m]);return l(h)}return l(b)}}Object.defineProperty(b,"__esModule",{value:!0});var C=k.getLogger("esri.core.Accessor");b.isInstanceOf=
m;b.ensureDate=l;b.ensureBoolean=g;b.ensureString=h;b.ensureNumber=e;b.ensureInteger=f;b.isClassedType=c;b.requiresType=d;b.ensureClass=r;b.ensureType=D;b.ensureArrayTyped=G;b.ensureArray=function(a,b){return 1===arguments.length?G(D.bind(null,a)):G(D.bind(null,a),b)};b.ensureNArrayTyped=w;b.ensureNArray=function(a,b,c){return 2===arguments.length?w(D.bind(null,a),b):w(D.bind(null,a),b,c)};b.isOneOf=function(a){if(!Array.isArray(a))return!1;a=typeof a[0];return"string"===a||"number"===a};b.ensureOneOf=
B;b.ensureOneOfType=z;var L=function(){return function(){}}();b.Integer=L;b.default=D})},"esri/core/Logger":function(){define(["require","exports","./has"],function(a,b,k){var m={info:0,warn:1,error:2};a=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,b)))}a.prototype.log=
function(a){for(var b=[],e=1;e<arguments.length;e++)b[e-1]=arguments[e];this._isEnabled()&&this._matchLevel(a)&&(e=this._inheritedWriter())&&e.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=function(b){var h=a._loggers[b];h||(h=new a({module:b}));return h};a.prototype._parentWithMember=function(a,b){for(var e=this;e&&null==e[a];)e=e.parent;return e?e[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var e=[],f=2;f<arguments.length;f++)e[f-2]=arguments[f];
console[a].apply(console,["["+b+"]"].concat(e))};a.prototype._matchLevel=function(a){return m[this._parentWithMember("level","error")]<=m[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a.getLogger("esri").level="warn";return a})},"esri/views/vectorTiles/Placement":function(){define(["require","exports","../2d/engine/webgl/Geometry","./Conflict","./GeometryUtils"],function(a,b,k,m,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,
b,e,h,g){void 0===e&&(e=0);void 0===h&&(h=-1);void 0===g&&(g=f);this.x=a;this.y=b;this.angle=e;this.segment=h;this.minzoom=g}}();b.Anchor=a;var g=function(){return function(a,b,e,h,g,k,m){void 0===g&&(g=!1);void 0===k&&(k=f);void 0===m&&(m=l.C_INFINITY);this.anchor=a;this.labelAngle=b;this.glyphAngle=e;this.page=h;this.upsideDown=g;this.minzoom=k;this.maxzoom=m}}(),h=function(){return function(a,b,e,f,h,g,l,k,m,G){this.tl=a;this.tr=b;this.bl=e;this.br=f;this.mosaicRect=h;this.labelAngle=g;this.anchor=
l;this.minzoom=k;this.maxzoom=m;this.page=G}}();b.PlacedSymbol=h;var e=function(){return function(a,b){this.footprint=a;this.shapes=b}}();b.Placement=e;var f=.5;a=function(){function a(){this.mapAngle=0;this._conflictEngine=new m.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};a.prototype.getIconPlacement=function(a,b,c,g,A,r,t){var d=c.width/c.pixelRatio,q=c.height/c.pixelRatio;A=r.offset[0]-
d/2;var u=r.offset[1]-q/2,d=A+d,q=u+q,w=c.rect,y=c.sdf?17:2,z=A-y,C=u-y,L=z+w.width/c.pixelRatio,E=C+w.height/c.pixelRatio;c=new k.Point(z,C);y=new k.Point(L,E);E=new k.Point(z,E);C=new k.Point(L,C);L=r.rotate*l.C_DEG_TO_RAD;z=1===r.rotationAlignment;0<=a.segment&&!z&&(L+=a.angle);if(0!==L){var F=Math.cos(L),N=Math.sin(L);c.rotate(F,N);y.rotate(F,N);E.rotate(F,N);C.rotate(F,N)}F=8*r.padding;N=new k.Point(a.x,a.y);a=new m.Footprint(this.mapAngle,F,z);a.addBox(N,new m.Box(A,u,d,q),g,L,b,f,l.C_INFINITY);
b=new h(c,C,E,y,w,0,N,f,l.C_INFINITY,0);b=new e(a,[b]);g=f;r.allowOverlap||(g=this._conflictEngine.getMinZoom(b.footprint,g,t,z));a.minzoom=g;return b};a.prototype.getTextPlacement=function(a,b,c,y,A,r,t,D){for(var d=new k.Point(a.x,a.y),q=t.rotate*l.C_DEG_TO_RAD,u=0===t.rotationAlignment,B=t.keepUpright,z=f,C=!u,L=C?0:a.angle,E=0<=a.segment&&u,F=new m.Footprint(this.mapAngle,8*t.padding,C),N=[],O=!E,J=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,I=J,H=R,K=E?B:u&&B,M,T=0;T<y.length;T++){var U=
y[T],S=U.glyphMosaicItem;if(S&&!S.rect.isEmpty){var X=S.rect,Y=S.metrics,V=S.page;O&&(M&&M!==U.y&&(F.addBox(d,new m.Box(J,I,R,H),A,q,b,f,l.C_INFINITY),J=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,I=J,H=R),M=U.y);var ca=[];if(E){if(S=(c.x+U.x+Y.left-4+.5*S.metrics.width)*A,z=this._placeGlyph(a,z,S,r,a.segment,1,V,ca),B&&(z=this._placeGlyph(a,z,S,r,a.segment,-1,V,ca)),2<=z)break}else ca.push(new g(d,L,L,V)),u&&B&&ca.push(new g(d,L+l.C_PI,L+l.C_PI,V,!0));for(var V=U.x+c.x+Y.left,U=U.y+c.y-Y.top,
S=V+Y.width,Y=U+Y.height,da=new k.Point(V-4,U-4),ga=new k.Point(da.x+X.width,da.y+X.height),W=new k.Point(da.x,ga.y),fa=new k.Point(ga.x,da.y),Z=0;Z<ca.length;Z++){var ba=ca[Z],oa=da.clone(),pa=W.clone(),ma=fa.clone(),ja=ga.clone(),ka=U,ia=Y,ha=ba.glyphAngle+q;if(0!==ha){var P=Math.cos(ha),aa=Math.sin(ha);oa.rotate(P,aa);ja.rotate(P,aa);pa.rotate(P,aa);ma.rotate(P,aa)}N.push(new h(oa,ma,pa,ja,X,ba.labelAngle,ba.anchor,ba.minzoom,ba.maxzoom,ba.page));if(!K||this._legible(ba.labelAngle))O?(V<J&&(J=
V),ka<I&&(I=ka),S>R&&(R=S),ia>H&&(H=ia)):2>ba.minzoom&&F.addBox(ba.anchor,new m.Box(V,ka,S,ia),A,ha,b,ba.minzoom,ba.maxzoom)}}}if(2<=z)return null;O&&F.addBox(d,new m.Box(J,I,R,H),A,q,b,f,l.C_INFINITY);a=new e(F,N);t.allowOverlap||(z=this._conflictEngine.getMinZoom(a.footprint,z,D,C));F.minzoom=z;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=l.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,c,e,f,h,m,D){var d=
0>h?l.positiveMod(a.angle+l.C_PI,l.C_2PI):a.angle,q=this._legible(d),r=0;0>c&&(h*=-1,c*=-1,r=l.C_PI);0<h&&++f;a=new k.Point(a.x,a.y);var t=e[f],u=l.C_INFINITY;if(e.length<=f)return u;for(;;){var A=t.x-a.x,y=t.y-a.y,E=Math.sqrt(A*A+y*y),F=Math.max(c/E,b),A=l.positiveMod(Math.atan2(y/E,A/E)+r,l.C_2PI);D.push(new g(a,d,A,m,q,F,u));if(F<=b)return F;a=t.clone();do{f+=h;if(e.length<=f||0>f)return F;t=e[f]}while(a.isEqual(t));u=t.x-a.x;A=t.y-a.y;y=Math.sqrt(u*u+A*A);u*=E/y;A*=E/y;a.x-=u;a.y-=A;u=F}};return a}();
b.PlacementEngine=a})},"esri/views/vectorTiles/Conflict":function(){define(["require","exports","../2d/engine/webgl/Geometry","./GeometryUtils"],function(a,b,k,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var c=
this.left,d=this.right,e=this.top,f=this.bottom,h=c*a-e*b,g=c*b+e*a,l=d*a-e*b,e=d*b+e*a,k=c*a-f*b,c=c*b+f*a,m=d*a-f*b;a=d*b+f*a;this.left=Math.min(h,l,k,m);this.top=Math.min(g,e,c,a);this.right=Math.max(h,l,k,m);this.bottom=Math.max(g,e,c,a)};a.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();b.Box=a;var l=function(){function a(a,b,c,d){this.anchor=a;this.corners=b;this.minzoom=c;this.maxzoom=d}a.prototype.left=function(){return this.corners[0].x};
a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();b.Obstacle=l;a=function(){function a(a,b,c){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=c;this.minzoom=g}a.prototype.addBox=function(a,b,c,d,g,h,m){var e=b.left*c-this.padding,f=b.top*c-this.padding,q=b.right*c+this.padding;b=b.bottom*c+this.padding;e=[new k.Point(e,f),new k.Point(q,f),new k.Point(q,
b),new k.Point(e,b)];0!==this.mapAngle&&(f=Math.cos(this.mapAngle),q=Math.sin(this.mapAngle),a=a.clone(),a.rotate(f,q));this.isScreenAligned||(d+=this.mapAngle);if(0!==d){f=Math.cos(d);q=Math.sin(d);e[0].rotate(f,q);e[1].rotate(f,q);e[2].rotate(f,q);e[3].rotate(f,q);d=0;for(f=1;4>f;f++)e[f].x<e[d].x?d=f:e[f].x===e[d].x&&e[f].y<e[d].y&&(d=f);if(d){q=[];for(f=0;4>f;f++)q.push(e[(f+d)%4]);e=q}}if(g)for(d=0,f=e;d<f.length;d++)f[d].move(g[0],g[1]);this.obstacles.push(new l(a,e,h,m))};return a}();b.Footprint=
a;var g=.5;a=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(b){var e=this._grid,c=0;for(b=b.obstacles;c<b.length;c++)for(var d=b[c],g=d.anchor,h=a._gridClamp(Math.min(d.left()+g.x,g.x)),l=a._gridClamp(Math.max(d.right()+g.x,g.x)),k=a._gridClamp(Math.min(d.top()+g.y,g.y)),g=a._gridClamp(Math.max(d.bottom()+g.y,g.y));k<=g;k++)for(var m=h;m<=l;m++){var t=e[16*k+m];t||(t=e[16*k+m]=[]);t.push(d)}};a.prototype.getMinZoom=
function(b,f,c,d){if(0===b.obstacles.length)return m.C_INFINITY;c=this._grid;d=0;for(b=b.obstacles;d<b.length;d++)for(var e=b[d],g=e.anchor,h=a._gridClamp(Math.min(e.left()+g.x,g.x)),l=a._gridClamp(Math.max(e.right()+g.x,g.x)),k=a._gridClamp(Math.min(e.top()+g.y,g.y)),g=a._gridClamp(Math.max(e.bottom()+g.y,g.y));k<=g;k++)for(var t=h;t<=l;t++){var D=c[16*k+t];if(D)for(var G=0;G<D.length;G++){var v=D[G];if(!(e.minzoom>=v.maxzoom||v.minzoom>=e.maxzoom)&&(f=a._calcPlacementZoom(e,v,f),2<=f))return m.C_INFINITY}}return 2>
f?f:m.C_INFINITY};a._gridClamp=function(a){return m.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(b,f,c){var d=f.anchor.x-b.anchor.x;if(0===d&&(b.right()<f.left()||f.right()<b.left()))return c;var e=f.anchor.y-b.anchor.y;if(0===e&&(b.bottom()<f.top()||f.bottom()<b.top()))return c;var g=m.C_INFINITY;if(0!==d){var h=(0<d?b.right()-f.left():b.left()-f.right())/d;h<g&&(g=h);d=0<d?a._calcExtZoomX(b,f,h):a._calcExtZoomX(f,b,h);d<g&&(g=d)}0!==e&&(d=(0<e?b.bottom()-f.top():b.top()-f.bottom())/e,d<g&&(g=
d),e=0<e?a._calcExtZoomY(b,f,d):a._calcExtZoomY(f,b,d),e<g&&(g=e));if(g<b.minzoom||g<f.minzoom)return c;g=Math.min(g,b.maxzoom,f.maxzoom);g<c&&(g=c);return g};a._calcExtZoomX=function(a,b,c){var d,e,f;if(a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[0].y/c){d=a.corners[2].x-a.corners[3].x;f=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-b.corners[0].x;e=b.corners[1].y-b.corners[0].y;0<=d*e-f*g?a.anchor.y+a.corners[3].y/c<b.anchor.y+b.corners[0].y/c?(c=a.corners[3],d=b.corners[0],e=b.corners[1],
f=1):(c=b.corners[0],d=a.corners[3],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c>b.anchor.y+b.corners[1].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[1],d=a.corners[3],e=a.corners[2],f=-1)}else d=a.corners[2].x-a.corners[1].x,f=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,e=b.corners[3].y-b.corners[0].y,0>d*e-f*g?a.anchor.y+a.corners[1].y/c>b.anchor.y+b.corners[0].y/c?(c=a.corners[1],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[0],d=a.corners[1],e=a.corners[2],
f=-1):a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[3].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[3],d=a.corners[1],e=a.corners[2],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};a._calcExtZoomY=function(a,b,c){var d,e,f;if(a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[1].x/c){d=a.corners[3].x-a.corners[2].x;f=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;e=b.corners[0].y-b.corners[1].y;
0>d*e-f*g?a.anchor.x+a.corners[2].x/c<b.anchor.x+b.corners[1].x/c?(c=a.corners[2],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[1],d=a.corners[2],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c>b.anchor.x+b.corners[0].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[0],d=a.corners[2],e=a.corners[3],f=-1)}else d=a.corners[3].x-a.corners[0].x,f=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,e=b.corners[2].y-b.corners[1].y,0<d*e-f*g?a.anchor.x+a.corners[0].x/c>b.anchor.x+
b.corners[1].x/c?(c=a.corners[0],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[1],d=a.corners[0],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[2].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[2],d=a.corners[0],e=a.corners[3],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};return a}();b.ConflictEngine=a})},"esri/views/vectorTiles/SymbolBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper dojox/string/BidiEngine ../2d/engine/webgl/Geometry ../2d/engine/webgl/TextShaping ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer".split(" "),
function(a,b,k,m,l,g,h,e,f,c,d){function q(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(a){function b(b,c,d,e,f,g,h,l){c=a.call(this,b,c)||this;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._sdfMarkers=!1;if(b.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");
if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");c._iconVertexBuffer=d;c._iconIndexBuffer=e;c._textVertexBuffer=f;c._textIndexBuffer=g;c._placementEngine=h;c._workerTileHandler=l;return c}k(b,a);Object.defineProperty(b.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});b.prototype.copy=function(a,c,d,e,f){a=new b(this.layer,this.zoom,a,c,d,e,f,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=c.index;a._textIndexStart=e.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;
a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};b.prototype.getResources=function(a,c,d){var e=this.layer,f=this.zoom,g=e.hasDataDrivenIcon,h=e.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var l=e.getLayoutProperty("icon-image"),k=e.getLayoutProperty("text-field"),m=e.getLayoutValue("text-font",f),q=e.getLayoutValue("text-transform",f),r=[],t=[1,1,1,1],A=1,u=1,y=[1,1,1,1],R=1,I=1,H=0,K=this._features;H<K.length;H++){var M=K[H],T=M.getGeometry(a);if(T&&0!==
T.length){var U=void 0;l&&(U=e.getLayoutValue("icon-image",f,M),l.isDataDriven||(U=this._replaceKeys(U,M.values)),U&&c.add(U));var S=void 0,X=!1;if(k&&(S=e.getLayoutValue("text-field",f,M),k.isDataDriven||(S=this._replaceKeys(S,M.values)),S=S.replace(/\\n/g,"\n"))){switch(q){case 2:S=S.toLowerCase();break;case 1:S=S.toUpperCase()}b._bidiEngine.hasBidiChar(S)&&(X=void 0,X="rtl"===b._bidiEngine.checkContextual(S)?"IDNNN":"ICNNN",S=b._bidiEngine.bidiTransform(S,X,"VLYSN"),X=!0);var Y=S.length;if(0<Y)for(var V=
0,ca=m;V<ca.length;V++){var da=ca[V],ga=d[da];ga||(ga=d[da]=new Set);for(da=0;da<Y;da++){var W=S.charCodeAt(da);ga.add(W)}}}if(U||S)Y=e.getLayoutValue("icon-size",f,M),V=e.getLayoutValue("text-size",f,M),e.hasDataDrivenIconColor&&(t=e.getPaintValue("icon-color",f,M)),e.hasDataDrivenIconOpacity&&(A=e.getPaintValue("icon-opacity",f,M)),e.hasDataDrivenIconSize&&(u=Y),e.hasDataDrivenTextColor&&(y=e.getPaintValue("text-color",f,M)),e.hasDataDrivenTextOpacity&&(R=e.getPaintValue("text-opacity",f,M)),e.hasDataDrivenTextSize&&
(I=V),M={sprite:U,label:S,rtl:X,type:M.type,geometry:T,iconSize:Y,iconRotate:e.getLayoutValue("icon-rotate",f,M),ddIconValues:g?{color:t,opacity:A,size:u}:null,textSize:V,textRotate:e.getLayoutValue("text-rotate",f,M),ddTextValues:h?{color:y,opacity:R,size:I}:null},r.push(M)}}this._symbolFeatures=r};b.prototype.processFeatures=function(a,e){a&&a.setExtent(this.layerExtent);var g=this.layer,l=this.zoom;e=this._isLinePlacement=1===g.getLayoutValue("symbol-placement",l);a=this._avoidEdges=g.getLayoutValue("symbol-avoid-edges",
l)&&!e;var k=8*g.getLayoutValue("symbol-spacing",l),m=g.getLayoutProperty("icon-image"),r=g.getLayoutProperty("text-field"),A=this._workerTileHandler,u,y;m&&(this._iconLayout=new d.IconLayout(g,l,e),u=A.getSpriteItems(),y=this._getTranslate(!0));var L,E,F;if(r){L=this._textLayout=new d.TextLayout(g,l,e);this._fontArray=L.fontArray;F=.5;switch(L.anchor){case 5:case 1:case 7:F=0;break;case 6:case 2:case 8:F=1}E=.5;switch(L.anchor){case 5:case 3:case 6:E=0;break;case 7:case 4:case 8:E=1}g=.5;switch(L.justify){case 0:g=
0;break;case 2:g=1}var l=24*L.letterSpacing,m=e?0:24*L.maxWidth,r=24*L.lineHeight,N=[24*L.offset[0],24*L.offset[1]];L=this._fontArray.map(function(a){return A.getGlyphItems(a)});E=new h(L,m,r,l,N,F,E,g);F=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=g=[];l=this._textLayout;m=1;l&&l.size&&(m=l.size/24);r=l?l.maxAngle*
f.C_DEG_TO_RAD:0;L=l?8*l.size:0;for(var N=0,O=this._symbolFeatures;N<O.length;N++){var J=O[N],R=void 0;J.sprite&&(R=u[J.sprite])&&R.sdf&&(this._sdfMarkers=!0);var I=void 0,H=J.label,K=0;if(H&&(I=E.getShaping(H,J.rtl))&&0<I.length){for(var K=1E30,H=-1E30,M=0,T=I;M<T.length;M++)var U=T[M],K=Math.min(K,U.x),H=Math.max(H,U.x);K=(H-K+48)*m*8}H=0;for(M=J.geometry;H<M.length;H++){var T=M[H],S=void 0;e?(I&&0<I.length&&l&&l.size&&b._smoothVertices(T,8*l.size*(2+Math.min(2,4*Math.abs(l.offset[1])))),S=b._findAnchors(T,
k,K)):S=3===J.type?b._findCentroid(T):[new c.Anchor(T[0].x,T[0].y)];for(U=0;U<S.length;U++){var X=S[U];0>X.x||4096<X.x||0>X.y||4096<X.y||e&&0<K&&0===l.rotationAlignment&&!b._honorsTextMaxAngle(T,X,K,r,L)||g.push({shaping:I,line:T,iconMosaicItem:R,anchor:X,iconSize:J.iconSize,iconRotate:J.iconRotate,ddIconValues:J.ddIconValues,textSize:J.textSize,textRotate:J.textRotate,ddTextValues:J.ddTextValues})}}}g.sort(q);for(u=0;u<g.length;u++)this._processFeature(g[u],y,F,a);this._addPlacedGlyphs()};b.prototype.updateSymbols=
function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,c;b.getLayoutProperty("icon-image")&&(c=this._getTranslate(!0));var d;b.getLayoutProperty("text-field")&&(d=this._getTranslate(!1));for(var b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],c,d,a);this._addPlacedGlyphs()};b.prototype._getTranslate=
function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};b.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};b.prototype._processFeature=function(a,b,c,d){var e=
a.line,h=a.iconMosaicItem,l=a.shaping,k=a.anchor,m=this._iconLayout,q=m&&!!h,r=!0,t=1;q&&(m.size=a.iconSize,m.rotate=a.iconRotate,t=8*m.size,r=m.optional||!h);var u=this._textLayout,A=u&&l&&0<l.length,y;y=1;var D=!0;A&&(u.size=a.textSize,u.rotate=a.textRotate,y=u.size/24,y*=8,D=u.optional||!l||0===l.length);var R=new g.Point(0,-17),I;q&&(I=this._placementEngine.getIconPlacement(k,b,h,t,e,m,d),k.minzoom>I.footprint.minzoom&&(I.footprint.minzoom=k.minzoom),I.footprint.minzoom===f.C_INFINITY&&(I=null));
if(I||r){var H;A&&(H=this._placementEngine.getTextPlacement(k,c,R,l,y,e,u,d))&&(k.minzoom>H.footprint.minzoom&&(H.footprint.minzoom=k.minzoom),H.footprint.minzoom===f.C_INFINITY&&(H=null));if(H||D)I&&H||(D||r?D||H?r||I||(H=null):I=null:H=I=null),I&&H&&!D&&!r&&(b=Math.max(I.footprint.minzoom,H.footprint.minzoom),I.footprint.minzoom=b,H.footprint.minzoom=b),H&&(u.ignorePlacement||this._placementEngine.add(H),this._storePlacedGlyphs(H.shapes,H.footprint.minzoom,this.zoom,a.ddTextValues)),I&&(m.ignorePlacement||
this._placementEngine.add(I),this._addPlacedIcons(I.shapes,I.footprint.minzoom,this.zoom,h.page,a.ddIconValues))}};b.prototype._addPlacedIcons=function(a,b,c,d,e){b=Math.max(c+f.log2(b),0);for(var g=this._iconVertexBuffer,h=this._iconIndexBuffer,l=0;l<a.length;l++){var k=a[l],m=Math.max(c+f.log2(k.minzoom),b),q=Math.min(c+f.log2(k.maxzoom),25);if(!(q<=m)){var r=k.tl,t=k.tr,u=k.bl,A=k.br,y=k.mosaicRect,D=k.labelAngle,k=k.anchor,G=g.index,H=y.x,K=y.y,M=H+y.width,y=K+y.height;g.add(k.x,k.y,r.x,r.y,H,
K,D,m,q,b,e);g.add(k.x,k.y,t.x,t.y,M,K,D,m,q,b,e);g.add(k.x,k.y,u.x,u.y,H,y,D,m,q,b,e);g.add(k.x,k.y,A.x,A.y,M,y,D,m,q,b,e);h.add(G+0,G+1,G+2);h.add(G+1,G+2,G+3);this._markerMap.has(d)?this._markerMap.get(d)[1]+=6:this._markerMap.set(d,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};b.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var f=0;f<d.length;f++){var g=d[f],h=
b.index;b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tl[0],g.tl[1],g.xmin,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tr[0],g.tr[1],g.xmax,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.bl[0],g.bl[1],g.xmin,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.br[0],g.br[1],g.xmax,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,
g.ddValues);c.add(h+0,h+1,h+2);c.add(h+1,h+2,h+3);a._glyphMap.has(e)?a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};b.prototype._storePlacedGlyphs=function(a,b,c,d){b=Math.max(c+f.log2(b),0);for(var e=0;e<a.length;e++){var g=a[e],h=Math.max(c+f.log2(g.minzoom),b),l=Math.min(c+f.log2(g.maxzoom),25);if(!(l<=h)){var k=g.tl,m=g.tr,q=g.bl,r=g.br,t=g.labelAngle,u=g.anchor,A=g.mosaicRect;this._glyphBufferDataStorage.has(g.page)||
this._glyphBufferDataStorage.set(g.page,[]);this._glyphBufferDataStorage.get(g.page).push({glyphAnchor:[u.x,u.y],tl:[k.x,k.y],tr:[m.x,m.y],bl:[q.x,q.y],br:[r.x,r.y],xmin:A.x,ymin:A.y,xmax:A.x+A.width,ymax:A.y+A.height,labelAngle:t,minLod:h,maxLod:l,placementLod:b,ddValues:d})}}};b._findAnchors=function(a,b,d){b+=d;for(var e=0,h=a.length-1,l=0;l<h;l++)e+=g.Point.distance(a[l],a[l+1]);l=.5*(d||b);if(e<=l)return[];d=l/e;b=e/Math.max(Math.round(e/b),1);for(var e=0,h=-b/2,k=[],m=a.length-1,l=0;l<m;l++){for(var q=
a[l],r=a[l+1],t=r.x-q.x,u=r.y-q.y,A=Math.sqrt(t*t+u*u),y=void 0;h+b<e+A;){var h=h+b,O=(h-e)/A,J=f.interpolate(q.x,r.x,O),O=f.interpolate(q.y,r.y,O);void 0===y&&(y=Math.atan2(u,t));k.push(new c.Anchor(J,O,y,l,d))}e+=A}return k};b._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};b._honorsTextMaxAngle=function(a,b,c,d,e){var f=0;c/=2;for(var h=new g.Point(b.x,b.y),l=b.segment+1;f>-c;){--l;if(0>l)return!1;f-=g.Point.distance(a[l],
h);h=a[l]}f+=g.Point.distance(a[l],a[l+1]);b=[];for(var h=0,k=a.length;f<c;){var m=a[l],q=void 0;do{++l;if(l===k)return!1;q=a[l]}while(q.isEqual(m));var r=l,t=void 0;do{++r;if(r===k)return!1;t=a[r]}while(t.isEqual(q));m=this._deviation(m,q,t);b.push({deviation:m,distToAnchor:f});for(h+=m;f-b[0].distToAnchor>e;)h-=b.shift().deviation;if(Math.abs(h)>d)return!1;f+=g.Point.distance(q,t)}return!0};b._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var d=[],e=0;d.push(0);for(var f=1;f<
c;f++)e+=g.Point.distance(a[f],a[f-1]),d.push(e);b=Math.min(b,.2*e);e=[];e.push(a[0].x);e.push(a[0].y);var h=a[c-1].x,l=a[c-1].y,f=g.Point.sub(a[0],a[1]);f.normalize();a[0].x+=b*f.x;a[0].y+=b*f.y;f.assignSub(a[c-1],a[c-2]);f.normalize();a[c-1].x+=b*f.x;a[c-1].y+=b*f.y;for(f=1;f<c;f++)d[f]+=b;d[c-1]+=b;for(var k=.5*b,f=1;f<c-1;f++){for(var m=0,q=0,r=0,u=f-1;0<=u&&!(d[u+1]<d[f]-k);u--){var A=k+d[u+1]-d[f],y=d[u+1]-d[u],J=d[f]-d[u]<k?1:A/y;if(1E-6>Math.abs(J))break;var R=J*J,I=J*A-.5*R*y,H=J*y/b,K=a[u+
1],M=a[u].x-K.x,T=a[u].y-K.y,m=m+H/I*(K.x*J*A+.5*R*(A*M-y*K.x)-R*J*y*M/3),q=q+H/I*(K.y*J*A+.5*R*(A*T-y*K.y)-R*J*y*T/3),r=r+H}for(u=f+1;u<c&&!(d[u-1]>d[f]+k);u++){A=k-d[u-1]+d[f];y=d[u]-d[u-1];J=d[u]-d[f]<k?1:A/y;if(1E-6>Math.abs(J))break;R=J*J;I=J*A-.5*R*y;H=J*y/b;K=a[u-1];M=a[u].x-K.x;T=a[u].y-K.y;m+=H/I*(K.x*J*A+.5*R*(A*M-y*K.x)-R*J*y*M/3);q+=H/I*(K.y*J*A+.5*R*(A*T-y*K.y)-R*J*y*T/3);r+=H}e.push(m/r);e.push(q/r)}e.push(h);e.push(l);for(u=f=0;f<c;f++)a[f].x=e[u++],a[f].y=e[u++]}}};b._findCentroid=
function(a){var b=a.length-1,d=0,e=0,f=0,g=a[0].x,h=a[0].y;4096<g&&(g=4096);0>g&&(g=0);4096<h&&(h=4096);0>h&&(h=0);for(var l=1;l<b;l++){var k=a[l].x,m=a[l].y,q=a[l+1].x,u=a[l+1].y;4096<k&&(k=4096);0>k&&(k=0);4096<m&&(m=4096);0>m&&(m=0);4096<q&&(q=4096);0>q&&(q=0);4096<u&&(u=4096);0>u&&(u=0);var A=(k-g)*(u-h)-(q-g)*(m-h),d=d+A*(g+k+q),e=e+A*(h+m+u),f=f+A}d/=3*f;e/=3*f;return isNaN(d)||isNaN(e)?[]:[new c.Anchor(d,e)]};b._bidiEngine=new l;return b}(e)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Stateful"],function(a,b,k){function m(a,b,c,d,f){var h=a;void 0===b&&(b=f.defInFormat);void 0===c&&(c=f.defOutFormat);void 0===d&&(d=f.defSwap);if(b!==c){var k,n=b.substring(0,1);k=b.substring(1,4);var p=c.substring(0,1),q=c.substring(1,4);"C"===k.charAt(0)&&(k=l(h),k="ltr"===k||"rtl"===k?k.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=n+k);"C"===q.charAt(0)&&(k=l(h),"rtl"===k?q="RTL":"ltr"===k?(h=h.split(""),h.reverse(),k=l(h.join("")),q=k.toUpperCase()):q="L"===c.charAt(2)?
"LTR":"RTL",c=p+q)}if(b===c)return a;p=b.substring(0,1);h=b.substring(1,4);n=c.substring(0,1);q=c.substring(1,4);f.inFormat=b;f.outFormat=c;f.swap=d;if("L"===p&&"VLTR"===c){if("LTR"===h)return f.dir=C,g(a,f);if("RTL"===h)return f.dir=L,g(a,f)}if("V"===p&&"V"===n)return f.dir="RTL"===h?L:C,e(a,f);if("L"===p&&"VRTL"===c)return f.dir="LTR"===h?C:L,a=g(a,f),e(a);if("VLTR"===b&&"LLTR"===c)return f.dir=C,g(a,f);if("V"===p&&"L"===n&&h!==q)return a=e(a),"RTL"===h?m(a,"LLTR","VLTR",d,f):m(a,"LRTL","VRTL",
d,f);if("VRTL"===b&&"LRTL"===c)return m(a,"LRTL","VRTL",d,f);if("L"===p&&"L"===n)return b=f.swap,f.swap=b.substr(0,1)+"N","RTL"===h?(f.dir=L,a=g(a,f),f.swap="N"+b.substr(1,2),f.dir=C,a=g(a,f)):(f.dir=C,a=g(a,f),f.swap="N"+b.substr(1,2),a=m(a,"VLTR","LRTL",f.swap,f)),a}function l(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function g(a,b){a=a.split("");var c=[];h(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,
2))for(var e=0;e<a.length;e++)if(1===c[e]){var f=e,g;b:{g=a[e];for(var l=void 0,k=0,m=N.length-1;k<=m;)if(l=Math.floor((k+m)/2),g<N[l][0])m=l-1;else if(g>N[l][0])k=l+1;else{g=N[l][1];break b}}a[f]=g}d(2,a,c,b);d(1,a,c,b);v=c;return a.join("")}function h(a,b,c){var d=a.length,e=c.dir?ca:V,f=null,g=null,h=null,f=0,g=g=null,l=-1,k=g=null,m=[],n=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(g=0;g<d;g++){var k=g,h=a[g].charCodeAt(0),p=na[h>>8];m[k]=p<ha?p:sa[p-ha][h&
255]}for(k=0;k<d;k++){n[k]=g=q(a,m,n,k,c);f=e[f][g];g=f&240;f&=15;b[k]=h=e[f][B];if(0<g){if(16===g)for(g=l;g<k;g++)b[g]=1;l=-1}if(g=e[f][z])-1===l&&(l=k);else if(-1<l){for(g=l;g<k;g++)b[g]=h;l=-1}m[k]===ba&&(b[k]=0);c.hiLevel|=h}if(c.hasUbatS)for(a=0;a<d;a++)if(m[a]===oa)for(b[a]=c.dir,e=a-1;0<=e;e--)if(m[e]===ma)b[e]=c.dir;else break}function e(a,b){a=a.split("");if(b){var c=[];h(a,c,b);v=c}a.reverse();D.reverse();return a.join("")}function f(a){for(var b=0;b<X.length;b++)if(a>=X[b]&&a<=Y[b])return!0;
return!1}function c(a,b,c,d){for(;b*c<d&&y(a[b]);)b+=c;return b*c<d&&f(a[b])?!0:!1}function d(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==L||d.hasUbatB){d=b.length;for(var e=0,f,g,h;e<d;){if(c[e]>=a){for(f=e+1;f<d&&c[f]>=a;)f++;for(g=f-1;e<g;e++,g--)h=b[e],b[e]=b[g],b[g]=h,h=D[e],D[e]=D[g],D[g]=h;e=f}e++}}else b.reverse(),D.reverse()}function q(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return da},UBAT_R:function(){e.lastArabic=!1;return ga},UBAT_ON:function(){return Z},UBAT_AN:function(){return fa},
UBAT_EN:function(){return e.lastArabic?fa:W},UBAT_AL:function(){e.lastArabic=!0;e.hasUbatAl=!0;return ga},UBAT_WS:function(){return Z},UBAT_CS:function(){var a,f;if(1>d||d+1>=b.length||(a=c[d-1])!==W&&a!==fa||(f=b[d+1])!==W&&f!==fa)return Z;e.lastArabic&&(f=fa);return f===a?f:Z},UBAT_ES:function(){return(0<d?c[d-1]:ba)===W&&d+1<b.length&&b[d+1]===W?W:Z},UBAT_ET:function(){if(0<d&&c[d-1]===W)return W;if(e.lastArabic)return Z;for(var a=d+1,f=b.length;a<f&&b[a]===ja;)a++;return a<f&&b[a]===W?W:Z},UBAT_NSM:function(){if("VLTR"===
e.inFormat){for(var f=b.length,g=d+1;g<f&&b[g]===ka;)g++;if(g<f&&(f=a[d],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===ga||g===pa)))return ga}return 1>d||b[d-1]===ba?Z:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return Z},UBAT_LRE:function(){e.lastArabic=!1;return Z},UBAT_RLE:function(){e.lastArabic=!1;return Z},UBAT_LRO:function(){e.lastArabic=!1;return Z},UBAT_RLO:function(){e.lastArabic=!1;return Z},UBAT_PDF:function(){e.lastArabic=!1;return Z},
UBAT_BN:function(){return Z}}[ia[b[d]]]()}function u(a,b){for(var c=0;c<I.length;c++)if(a===I[c])return b[c];return a}function y(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function A(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function r(a,b){for(var c=0;c<O.length;c++)if(a===O[c])return b[c];return a}function t(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>b||!c&&a[e]===b)a[e]+=d}a.getObject("string",!0,dojox);a=b("dojox.string.BidiEngine",k,{inputFormat:"ILYNN",
outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],levels:[],bidiTransform:function(a,b,d){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var e=this.sourceToTarget,g=this.targetToSource,h=a.length;D=[];v=[];for(var l=0;l<h;l++)e[l]=l,g[l]=l,D[l]=l;if(!this.checkParameters(b,d))return a;b=this.inputFormat;d=this.outputFormat;var e=a,e=w,l=A(b.charAt(1)),g=A(d.charAt(1)),k="I"===b.charAt(0)?"L":b.charAt(0),h="I"===d.charAt(0)?"L":d.charAt(0),l=k+l,g=h+g,h=b.charAt(2)+d.charAt(2);
e.defInFormat=l;e.defOutFormat=g;e.defSwap=h;a=m(a,l,g,h,e);e=!1;if("R"===d.charAt(1))e=!0;else if("C"===d.charAt(1)||"D"===d.charAt(1))e=this.checkContextual(a);g=this.sourceToTarget=D;h=Array(g.length);for(l=0;l<g.length;l++)h[g[l]]=l;G=this.targetToSource=h;if(b.charAt(3)===d.charAt(3))e=a;else if("S"===d.charAt(3))if(b=e,d=!0,0===a.length)e=void 0;else{void 0===b&&(b=!0);void 0===d&&(d=!0);a=String(a);a=a.split("");var n=0,g=1,e=a.length;b||(n=a.length-1,g=-1,e=1);for(var h=e,l=d,p=0,e=[],k=0;n*
g<h;n+=g)if(f(a[n])||y(a[n])){var q;if(q="\u0644"===a[n])b:{for(var x=a,z=n+g,B=g,C=h;z*B<C&&y(x[z]);)z+=B;q=" ";if(z*B<C)for(q=x[z],x=0;x<O.length;x++)if(O[x]===q){q=!0;break b}q=!1}if(q){a[n]=0===p?r(a[n+g],J):r(a[n+g],R);n+=g;p=a;q=n;x=g;for(z=h;q*x<z&&y(p[q]);)q+=x;q*x<z&&(p[q]=" ");l&&(e[k]=n,k++);p=0}else{q=a[n];if(1===p){x=n;if(c(a,n+g,g,h))b:for(z=a[n],B=0;B<I.length;B++){if(z===I[B]){z=M[B];break b}}else z=u(a[n],K);a[x]=z}else!0===c(a,n+g,g,h)?a[n]=u(a[n],T):a[n]=u(a[n],H);y(q)||(p=1);b:{for(x=
0;x<U.length;x++)if(U[x]===q){q=!0;break b}q=!1}!0===q&&(p=0)}}else p=0;g="";for(h=0;h<a.length;h++){if(l=d){b:{for(l=0;l<e.length;l++)if(e[l]===h)break b;l=-1}l=-1<l}l?(t(G,h,!b,-1),D.splice(h,1)):g+=a[h]}e=g}else if(b=a,d=e,a=!0,0===b.length)e=void 0;else for(void 0===a&&(a=!0),void 0===d&&(d=!0),b=String(b),e="",g=[],g=b.split(""),h=0;h<b.length;h++)l=!1,"\ufe70"<=g[h]&&"\ufeff">g[h]?(k=b.charCodeAt(h),"\ufef5"<=g[h]&&"\ufefc">=g[h]?(d?(0<h&&a&&" "===g[h-1]?e=e.substring(0,e.length-1)+"\u0644":
(e+="\u0644",l=!0),e+=O[(k-65269)/2]):(e+=O[(k-65269)/2],e+="\u0644",h+1<b.length&&a&&" "===g[h+1]?h++:l=!0),l&&(t(G,h,!0,1),D.splice(h,0,D[h]))):e+=S[k-65136]):e+=g[h];this.sourceToTarget=D;this.targetToSource=G;this.levels=v;return e},_inputFormatSetter:function(a){if(!E.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!E.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=
a},checkParameters:function(a,b){a?this.set("inputFormat",a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=l(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(za){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return F.test(a)}});var D=[],G=[],v=[],w={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,
hasSegSep:!1},B=5,z=6,C=0,L=1,E=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,F=/[\u0591-\u06ff\ufb1d-\ufefc]/,N=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c",
"\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],O=["\u0622","\u0623","\u0625","\u0627"],J=["\ufef5","\ufef7","\ufef9","\ufefb"],R=["\ufef6","\ufef8","\ufefa","\ufefc"],I="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),
H="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),K="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),
M="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),T="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),
U="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),S="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
X=["\u0621","\u0641"],Y=["\u063a","\u064a"],V=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ca=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],da=0,ga=1,W=2,fa=3,Z=4,ba=5,oa=6,pa=7,ma=8,ja=11,ka=12,ia="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ha=100;b=da;k=ga;var P=W,aa=fa,n=Z,la=ba,qa=oa,p=pa,ea=ma,Q=
ja,x=ka,na=[ha+0,b,b,b,b,ha+1,ha+2,ha+3,k,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,ha+4,n,n,n,b,n,b,n,b,n,n,n,b,b,n,n,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,n,n,b,b,n,n,b,b,n,n,n,n,n,n,n,n,n,n,n,n,
n,n,n,n,n,n,n,n,n,n,n,b,b,b,ha+5,p,p,ha+6,ha+7],sa=[[18,18,18,18,18,18,18,18,18,qa,la,qa,ea,la,18,18,18,18,18,18,18,18,18,18,18,18,18,18,la,la,la,qa,ea,n,n,Q,Q,Q,n,n,n,n,n,10,9,10,9,9,P,P,P,P,P,P,P,P,P,P,9,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,18,18,18,18,18,18,la,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,n,Q,Q,Q,Q,n,n,n,n,b,n,n,18,n,n,Q,Q,P,P,n,b,n,n,n,P,b,n,n,n,
n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,b,b,b,b,b,b,b,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,b,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,
x,x,x,x,x,x,k,x,k,x,x,k,x,x,k,x,n,n,n,n,n,n,n,n,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,n,n,n,n,n,k,k,k,k,k,n,n,n,n,n,n,n,n,n,n,n],[aa,aa,aa,aa,n,n,n,n,p,Q,Q,p,9,p,n,n,x,x,x,x,x,x,x,x,x,x,x,p,n,n,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,aa,aa,aa,aa,aa,aa,aa,aa,aa,aa,Q,aa,aa,p,p,p,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,
p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,x,x,aa,n,x,x,x,x,x,x,p,p,x,x,n,x,x,x,x,p,p,P,P,P,P,P,P,P,P,P,P,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,n,p,p,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,
p,p,p,x,x,x,x,x,x,x,x,x,x,x,p,n,n,n,n,n,n,n,n,n,n,n,n,n,n,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,x,x,x,x,x,x,x,x,x,k,k,n,n,n,n,k,n,n,n,n,n],[ea,ea,ea,ea,ea,ea,ea,ea,ea,ea,ea,18,18,18,b,k,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,ea,la,13,14,15,16,17,9,Q,Q,Q,Q,Q,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,9,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,ea,18,18,18,18,18,n,n,n,n,n,18,18,18,18,18,18,P,b,n,n,P,P,P,P,P,P,10,10,n,n,n,b,P,P,P,P,P,P,P,P,P,P,10,
10,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n],[b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,n,n,n,n,n,k,x,k,k,k,k,k,k,k,k,k,k,10,k,k,k,k,k,k,k,k,k,k,k,k,k,n,k,k,k,k,k,n,k,n,k,k,n,k,k,n,k,k,k,k,k,k,k,k,k,k,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,
p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,9,n,9,n,n,9,n,n,n,n,n,n,n,n,n,Q,n,n,10,10,n,n,n,n,n,Q,Q,n,n,n,n,n,p,p,p,p,p,n,p,p,p,p,p,p,p,
p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,n,n,18],[n,n,n,Q,Q,Q,n,n,n,n,n,10,9,10,9,9,P,P,P,P,P,P,P,P,P,P,9,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,
b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,b,b,b,b,b,b,n,n,b,b,b,b,b,b,n,n,b,b,b,b,b,b,n,n,b,b,b,n,n,n,Q,Q,n,n,n,Q,Q,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n]];return a})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(a,b,k,m){return a("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;
return b[a]?b[a]:b[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,b){return"function"===typeof this[b.g]?this[b.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,b){if("object"===typeof a){for(var g in a)a.hasOwnProperty(g)&&"_watchCallbacks"!=g&&this.set(g,a[g]);return this}g=this._getAttrNames(a);var e=this._get(a,g);g=this[g.s];var f;"function"===typeof g?f=g.apply(this,Array.prototype.slice.call(arguments,1)):
this[a]=b;if(this._watchCallbacks){var c=this;m(f,function(){c._watchCallbacks(a,e,b)})}return this},_changeAttrValue:function(a,b){var g=this.get(a);this[a]=b;this._watchCallbacks&&this._watchCallbacks(a,g,b);return this},watch:function(a,b){var g=this._watchCallbacks;if(!g)var e=this,g=this._watchCallbacks=function(a,b,f,h){var c=function(c){if(c){c=c.slice();for(var d=0,g=c.length;d<g;d++)c[d].call(e,a,b,f)}};c(g["_"+a]);h||c(g["*"])};b||"function"!==typeof a?a="_"+a:(b=a,a="*");var f=g[a];"object"!==
typeof f&&(f=g[a]=[]);f.push(b);a={};a.unwatch=a.remove=function(){var a=k.indexOf(f,b);-1<a&&f.splice(a,1)};return a}})})},"esri/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(a,b,k){return function(){function a(a,b,h,e,f,c,d,k){this._glyphItems=a;this._maxWidth=b;this._lineHeight=h;this._letterSpacing=e;this._offset=f;this._hAnchor=c;this._vAnchor=d;this._justify=k}a.prototype.getShaping=function(a,b){for(var g=this._letterSpacing,e=this._lineHeight,
f=this._justify,c=this._maxWidth,d=[],l=0,k=0,m=0,A=0,r=-1,t=0,D=-1,G=a.length,v=0;v<G;v++){var w=a.charCodeAt(v);if(10===w){if(v!==G-1){if(r>=A){var l=d[r],B=l.x+l.glyphMosaicItem.metrics.advance,t=Math.max(B,t);f&&this._applyJustification(d,A,r);A=d.length}k=b?k-e:k+e;l=0;++m}}else{for(var B=void 0,z=0,C=this._glyphItems;z<C.length&&!(B=C[z][w]);z++);if(B){d.push({codePoint:w,x:l,y:k,glyphMosaicItem:B});l+=B.metrics.advance+g;if(0<c&&l>c&&0<=D){z=D+1;B=d[z].x;t=Math.max(B,t);for(C=z;C<d.length;C++)d[C].y=
b?d[C].y-e:d[C].y+e,d[C].x-=B;f&&this._applyJustification(d,A,D);k=b?k-e:k+e;l-=B;++m;A=z;D=-1}++r;32===w&&(D=d.length-1)}}}r>=A&&(l=d[r],t=Math.max(t,l.x+l.glyphMosaicItem.metrics.advance),f&&this._applyJustification(d,A,r));if(0<d.length)for(a=(f-this._hAnchor)*t,g=(-this._vAnchor*(m+1)+.5)*e,b&&m&&(g+=m*e),a+=this._offset[0],g+=this._offset[1],b=0;b<d.length;b++)e=d[b],e.x+=a,e.y+=g;return d};a.getBox=function(a){if(!a.length)return null;for(var b=Infinity,h=Infinity,e=0,f=0,c=0;c<a.length;c++)var d=
a[c],l=d.glyphMosaicItem.metrics,k=l.height,m=d.x,d=d.y-(k-Math.abs(l.top)),l=m+l.width+l.left,k=d+k,b=Math.min(b,m),e=Math.max(e,l),h=Math.min(h,d),f=Math.max(f,k);return{x:b,y:h,width:e-b,height:f-h}};a.addDecoration=function(a,b){var g=a.length;if(0!==g){for(var e=a[0].x+a[0].glyphMosaicItem.metrics.left,f=a[0].y,c=1;c<g;c++){var d=a[c];if(d.y!==f){var l=a[c-1].x+a[c-1].glyphMosaicItem.metrics.left+a[c-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:e,y:f+b-3,glyphMosaicItem:{sdf:!0,rect:new k(4,
0,4,8),metrics:{width:l-e,height:8,left:0,top:0,advance:0},page:0}});f=d.y;e=d.x+d.glyphMosaicItem.metrics.left}}g=a[g-1].x+a[g-1].glyphMosaicItem.metrics.left+a[g-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:e,y:f+b-3,glyphMosaicItem:{sdf:!0,rect:new k(4,0,4,8),metrics:{width:g-e,height:8,left:0,top:0,advance:0},page:0}})}};a.prototype._applyJustification=function(a,b,h){for(var e=a[h],e=(e.x+e.glyphMosaicItem.metrics.advance)*this._justify;b<=h;b++)a[b].x-=e};return a}()})},"esri/views/2d/engine/webgl/Rect":function(){define(["require",
"exports"],function(a,b){return function(){function a(a,b,g,h){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);void 0===h&&(h=0);this.x=a;this.y=b;this.width=g;this.height=h}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});return a}()})},"esri/views/vectorTiles/TileParser":function(){define("require exports ../../core/executeAsync ../../core/pbf ../../core/promiseUtils ../2d/engine/webgl/TileClipper ../2d/tiling/enums ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket".split(" "),
function(a,b,k,m,l,g,h,e,f,c,d,q,u,y){return function(){function a(a,b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var d=b.tileKey.split("/").map(parseFloat);b=d[0];c=d[1];d=d[2];this._level=b;for(var e=0,f=Object.keys(a);e<f.length;e++){var h=f[e],l=a[h];this._pbfTiles[h]=new m(new Uint8Array(l.protobuff),new DataView(l.protobuff));if(l.refKey&&(l=l.refKey.split("/").map(parseFloat)[0],l=b-l,0<l)){var k=(1<<l)-1;this._tileClippers[h]=new g.TileClipper(l,
c&k,d&k)}this._tileClippers[h]||(this._tileClippers[h]=new g.SimpleBuilder)}}a.prototype.parse=function(){for(var a=this,b=this._parseTileData(this._pbfTiles),d=this._layers,e=this._level,f,g=[],m=this._tileClippers,q={},u={},A=d.length-1;0<=A;A--)if(f=d[A],!(f.minzoom&&e<f.minzoom||f.maxzoom&&e>=f.maxzoom||f.layout&&"none"===f.layout.visibility))if(0===f.type){var y=this._createBucket(f);y.layerIndex=A;g.push(y)}else if(b[f.source]&&m[f.source]){var F=m[f.source],N=f.sourceLayer,O=b[f.source][N];
O&&((y=u[f.source])||(y=u[f.source]=new Set),y.add(f.sourceLayer),y=this._createBucket(f))&&(y.layerIndex=A,y.layerExtent=O.extent,y.tileClipper=F,(F=q[f.source])||(F=q[f.source]={}),(f=F[N])||(f=F[N]=[]),f.push(y))}for(var J=10*this._level,R=10*(this._level+1),I=[],H=[],K=[],M=[],T=new Set,U={},S=[],X=[],d=function(a){u[a].forEach(function(b){S.push(b);X.push(a)})},e=0,m=Object.keys(u);e<m.length;e++)d(m[e]);var Y=0,V=0,ca=S.length;return k(function(){if(a._tile.status===h.TileStatus.INVALID)return!0;
switch(Y){case 0:if(V<ca){var d=X[V],e=S[V++];if(b[d]&&q[d]){var f=b[d][e];if((d=q[d][e])&&0!==d.length)for(var g=f.getData();g.next(2);){var l=new c(g.getMessage(),f);if(e=l.values){var k=e._minzoom;if(k&&k>=R)continue;if((e=e._maxzoom)&&e<=J)continue}for(var k=0,m=d;k<m.length;k++)e=m[k],e.pushFeature(l)}}}else{f=a._tile;g=0;for(l=Object.keys(q);g<l.length;g++)for(k in d=l[g],m=q[d],m)for(var d=m[k],r=0;r<d.length;r++)e=d[r],e.hasFeatures()&&(3===e.layer.type?(I.push(e),f.addBucket(e)):e.layer.refLayerId?
K.push(e):(H.push(e),M[e.layer.id]=e));Y=1;V=0;ca=I.length}break;case 1:V<ca?(d=I[V++],d.getResources(d.tileClipper,T,U)):Y=2}return 2===Y}).then(function(){if(a._tile.status===h.TileStatus.INVALID)return[];var b=[],c=a._tile.getWorkerTileHandler(),d;0<T.size&&(d=c.fetchSprites(T,a._client),b.push(d));for(var e in U)d=U[e],0<d.size&&(d=c.fetchGlyphs(a._tile.tileKey,e,d,a._client),b.push(d));return l.all(b).then(function(b){if(a._tile.status===h.TileStatus.INVALID)return[];var c=0,d=0,e=H.length;return k(function(){if(a._tile.status===
h.TileStatus.INVALID)return!0;switch(c){case 0:if(d<e){var b=H[d++];b.processFeatures(b.tileClipper,a._tile);g.push(b)}else c=1,d=0,e=K.length;break;case 1:for(var f=0;f<K.length;f++){var b=K[f],l=M[b.layer.refLayerId];l&&(l.assignBufferInfo(b),g.push(b))}c=2;d=0;e=I.length;break;case 2:d<e?(b=I[d++],b.processFeatures(b.tileClipper,a._tile),g.push(b)):c=3}return 3===c}).then(function(){g.sort(function(a,b){return a.layerIndex-b.layerIndex});return g})}).catch(function(a){return l.reject(Error(a))})}).catch(function(a){return l.reject(Error(a))})};
a.prototype._parseTileData=function(a){for(var b={},c=0,d=Object.keys(a);c<d.length;c++){for(var e=d[c],f=a[e],g={};f.next();)switch(f.tag()){case 3:var h=new u(f.getMessage());g[h.name]=h;break;default:f.skip()}b[e]=g}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=
function(a){return new e(a,this._level)};a.prototype._createFillBucket=function(a){var b=this._tile;return new d(a,this._level,a.hasDataDrivenFill?b.fillDDVertexBuffer:b.fillVertexBuffer,b.fillIndexBuffer,a.hasDataDrivenOutline?b.outlineDDVertexBuffer:b.outlineVertexBuffer,b.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new q(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=function(a){var b=
this._tile;return new f(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new y(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/core/pbf":function(){define(["require","exports"],function(a,b){return function(){function a(a,b,g,h){this._tag=
0;this._dataType=99;this._data=a;this._dataView=b;this._pos=g||0;this._end=h||a.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var b=this._decodeVarint();this._tag=b>>3;this._dataType=b&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};
a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&
15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*
a.getUint32(b+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getInt32(b+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=
function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),b=this._pos,b=this._toString(this._data,b,b+a);this._skip(a);return b};a.prototype.getBytes=function(){var a=this._getLength(),b=this._pos,b=this._toBytes(this._data,b,b+a);this._skip(a);return b};a.prototype.getMessage=function(){var b=this._getLength(),l=this._pos,l=new a(this._data,this._dataView,l,l+b);this._skip(b);return l};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();
break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,b=this._pos,g=0,h;if(10<=this._end-b){if(h=a[b++],g|=h&127,0!==(h&128)&&(h=a[b++],g|=(h&127)<<7,0!==(h&128)&&(h=a[b++],g|=(h&127)<<14,0!==(h&128)&&(h=a[b++],g|=(h&127)<<21,0!==
(h&128)&&(h=a[b++],g+=268435456*(h&127),0!==(h&128)&&(h=a[b++],g+=34359738368*(h&127),0!==(h&128)&&(h=a[b++],g+=4398046511104*(h&127),0!==(h&128)&&(h=a[b++],g+=562949953421312*(h&127),0!==(h&128)&&(h=a[b++],g+=72057594037927936*(h&127),0!==(h&128)&&(h=a[b++],g+=0x7fffffffffffffff*(h&127),0!==(h&128)))))))))))throw Error("Varint too long!");}else{for(var e=1;b!==this._end;){h=a[b];if(0===(h&128))break;++b;g+=(h&127)*e;e*=128}if(b===this._end)throw Error("Varint overrun!");++b;g+=h*e}this._pos=b;return g};
a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,b,g){var h="",e="";for(g=Math.min(this._end,g);b<g;++b){var f=a[b];f&128?e+="%"+f.toString(16):(h+=decodeURIComponent(e)+String.fromCharCode(f),e="")}e.length&&(h+=decodeURIComponent(e));return h};a.prototype._toBytes=function(a,b,g){g=Math.min(this._end,
g);return new Uint8Array(a.buffer,b,g-b)};return a}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(a,b,k,m,l){Object.defineProperty(b,"__esModule",{value:!0});var g=function(){return function(a,b,c){this.ratio=a;this.x=b;this.y=c}}();a=function(){function a(a,b,d,e,g){void 0===e&&(e=8);void 0===g&&(g=8);this.lines=[];this.starts=[];this.pixelRatio=e;this.pixelMargin=g;this.tileSize=k.TILE_SIZE*e;this.dz=
a;this.yPos=b;this.xPos=d}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);
this._prevPt=new m.Point(a,b);this._firstPt=new m.Point(a,b);this._dist=0};a.prototype.lineTo=function(a,b){var c=this._isIn(a,b),e=new m.Point(a,b),f=m.Point.distance(this._prevPt,e),h,l,k;if(c)this._prevIsIn?this._lineTo(a,b,!0):(h=this._prevPt,l=e,a=this._intersect(l,h),this.start=this._dist+f*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(l.x,l.y,!0));else if(this._prevIsIn)l=this._prevPt,h=e,a=this._intersect(l,h),this._lineTo(a.x,a.y,!0),this._lineTo(h.x,h.y,!1);else{var t=this._prevPt;if(!(t.x<=
this.xmin&&e.x<=this.xmin||t.x>=this.xmax&&e.x>=this.xmax||t.y<=this.ymin&&e.y<=this.ymin||t.y>=this.ymax&&e.y>=this.ymax)){a=[];if(t.x<this.xmin&&e.x>this.xmin||t.x>this.xmin&&e.x<this.xmin)b=(this.xmin-t.x)/(e.x-t.x),k=t.y+b*(e.y-t.y),k<=this.ymin?l=!1:k>=this.ymax?l=!0:a.push(new g(b,this.xmin,k));if(t.x<this.xmax&&e.x>this.xmax||t.x>this.xmax&&e.x<this.xmax)b=(this.xmax-t.x)/(e.x-t.x),k=t.y+b*(e.y-t.y),k<=this.ymin?l=!1:k>=this.ymax?l=!0:a.push(new g(b,this.xmax,k));if(t.y<this.ymin&&e.y>this.ymin||
t.y>this.ymin&&e.y<this.ymin)b=(this.ymin-t.y)/(e.y-t.y),k=t.x+b*(e.x-t.x),k<=this.xmin?h=!1:k>=this.xmax?h=!0:a.push(new g(b,k,this.ymin));if(t.y<this.ymax&&e.y>this.ymax||t.y>this.ymax&&e.y<this.ymax)b=(this.ymax-t.y)/(e.y-t.y),k=t.x+b*(e.x-t.x),k<=this.xmin?h=!1:k>=this.xmax?h=!0:a.push(new g(b,k,this.ymax));if(0===a.length)h?l?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):l?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&
a[0].ratio>a[1].ratio)this.start=this._dist+f*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+f*a[0].ratio,h=0;h<a.length;h++)this._lineTo(a[h].x,a[h].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=f;this._prevIsIn=c;this._prevPt=e};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&
a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&h.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var d=[],e=0;e<b;e++)d.push({line:a[e],start:this.starts[e]||
0});return d};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,b){var c,e,f;if(b.x>=this.xmin&&b.x<=this.xmax)e=b.y<=this.ymin?this.ymin:this.ymax,f=(e-a.y)/(b.y-a.y),c=a.x+f*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,f=(c-a.x)/(b.x-a.x),e=a.y+f*(b.y-a.y);else{e=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var g=(c-a.x)/(b.x-a.x),h=(e-a.y)/(b.y-a.y);
g<h?(f=g,e=a.y+g*(b.y-a.y)):(f=h,c=a.x+h*(b.x-a.x))}this._r=f;return new m.Point(c,e)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,d){3!==this.type?d&&(a=Math.round((a-
(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b))):(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,d){if(3!==this.type)if(d){a=Math.round((a-(this.xmin+
this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(d=this.line[this.line.length-1],d.equals(a,b)))return;this.line.push(new m.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&
0<this.line.length){d=this.line[this.line.length-1];var c=d.x===a,e=d.y===b;c&&e||(this._is_h&&c?(d.x=a,d.y=b,d=this.line[this.line.length-2],d.x===a&&d.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===b)):(this._is_h=d.x===a,this._is_v=d.y===b)):this._is_v&&e?(d.x=a,d.y=b,d=this.line[this.line.length-2],d.x===a&&d.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(d=this.line[this.line.length-
2],this._is_h=d.x===a,this._is_v=d.y===b)):(this._is_h=d.x===a,this._is_v=d.y===b)):(this.line.push(new m.Point(a,b)),this._is_h=c,this._is_v=e))}else this.line.push(new m.Point(a,b))};return a}();b.TileClipper=a;a=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new m.Point(Math.round(a*
c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new m.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&h.simplify(4096,64,this.lines);return this.lines};return a}();b.SimpleBuilder=a;var h=function(){function a(){}a.simplify=function(b,c,d){if(d){var e=
-c,f=b+c,g=-c,h=b+c;b=[];c=[];for(var l=d.length,k=0;k<l;++k){var m=d[k];if(m&&!(2>m.length))for(var G=m[0],v=void 0,w=m.length,B=1;B<w;++B)v=m[B],G.x===v.x&&(G.x<=e&&(G.y>v.y?(b.push(k),b.push(B),b.push(0),b.push(-1)):(c.push(k),c.push(B),c.push(0),c.push(-1))),G.x>=f&&(G.y<v.y?(b.push(k),b.push(B),b.push(1),b.push(-1)):(c.push(k),c.push(B),c.push(1),c.push(-1)))),G.y===v.y&&(G.y<=g&&(G.x<v.x?(b.push(k),b.push(B),b.push(2),b.push(-1)):(c.push(k),c.push(B),c.push(2),c.push(-1))),G.y>=h&&(G.x>v.x?
(b.push(k),b.push(B),b.push(3),b.push(-1)):(c.push(k),c.push(B),c.push(3),c.push(-1)))),G=v}0!==b.length&&0!==c.length&&(a.fillParent(d,c,b),a.fillParent(d,b,c),e=[],a.calcDeltas(e,c,b),a.calcDeltas(e,b,c),a.addDeltas(e,d))}};a.fillParent=function(a,b,d){for(var c=d.length,e=b.length,f=0;f<e;f+=4){for(var g=b[f],h=b[f+1],k=b[f+2],m=a[g][h-1],g=a[g][h],h=8092,G=-1,v=0;v<c;v+=4)if(d[v+2]===k){var w=d[v],B=d[v+1],z=a[w][B-1],w=a[w][B];switch(k){case 0:case 1:l.between(m.y,z.y,w.y)&&l.between(g.y,z.y,
w.y)&&(z=Math.abs(w.y-z.y),z<h&&(h=z,G=v));break;case 2:case 3:l.between(m.x,z.x,w.x)&&l.between(g.x,z.x,w.x)&&(z=Math.abs(w.x-z.x),z<h&&(h=z,G=v))}}b[f+3]=G}};a.calcDeltas=function(b,c,d){for(var e=c.length,f=0;f<e;f+=4){var g=a.calcDelta(f,c,d,[]);b.push(c[f]);b.push(c[f+1]);b.push(c[f+2]);b.push(g)}};a.calcDelta=function(b,c,d,e){b=c[b+3];if(-1===b)return 0;var f=e.length;if(1<f&&e[f-2]===b)return 0;e.push(b);return a.calcDelta(b,d,c,e)+1};a.addDeltas=function(a,b){for(var c=a.length,e=0,f=0;f<
c;f+=4){var g=a[f+3];g>e&&(e=g)}for(f=0;f<c;f+=4){var h=b[a[f]],k=a[f+1],g=e-a[f+3];switch(a[f+2]){case 0:h[k-1].x-=g;h[k].x-=g;1===k&&(h[h.length-1].x-=g);k===h.length-1&&(h[0].x-=g);break;case 1:h[k-1].x+=g;h[k].x+=g;1===k&&(h[h.length-1].x+=g);k===h.length-1&&(h[0].x+=g);break;case 2:h[k-1].y-=g;h[k].y-=g;1===k&&(h[h.length-1].y-=g);k===h.length-1&&(h[0].y-=g);break;case 3:h[k-1].y+=g,h[k].y+=g,1===k&&(h[h.length-1].y+=g),k===h.length-1&&(h[0].y+=g)}}};return a}();a=function(){function a(){this.linesIn=
[];this.linesOut=[]}a.prototype.cut=function(a,b){this.xCut=b;var c;if(a.rings)this.closed=!0,c=a.rings,this.minPts=4;else if(a.paths)this.closed=!1,c=a.paths,this.minPts=2;else return null;for(var e=0;e<c.length;e++)if((b=c[e])&&!(b.length<this.minPts)){for(var f=!0,g=0;g<b.length;g++){var h=b[g];f?(this.moveTo(h),f=!1):this.lineTo(h)}this.closed&&this.close()}this._pushLineIn();this._pushLineOut();c=[];h=0;for(e=this.linesIn;h<e.length;h++)(b=e[h])&&b.length>=this.minPts&&c.push(b);e=-2*this.xCut;
f=0;for(g=this.linesOut;f<g.length;f++)if((b=g[f])&&b.length>=this.minPts){for(var k=0,l=b;k<l.length;k++)h=l[k],h[0]+=e;c.push(b)}this.closed?a.rings=c:a.paths=c;return a};a.prototype.moveTo=function(a){this._pushLineIn();this._pushLineOut();this._prevSide=this._side(a[0]);this._moveTo(a[0],a[1],this._prevSide);this._firstPt=this._prevPt=a};a.prototype.lineTo=function(a){var b=this._side(a[0]);if(-1===b*this._prevSide){var d=this._intersect(this._prevPt,a);this._lineTo(this.xCut,d,0);this._prevSide=
0}this._lineTo(a[0],a[1],b);this._prevSide=b;this._prevPt=a};a.prototype.close=function(){var a=this._firstPt,b=this._prevPt;a[0]===b[0]&&a[1]===b[1]||this.lineTo(a);this._checkClosingPt(this.lineIn);this._checkClosingPt(this.lineOut)};a.prototype._moveTo=function(a,b,d){this.closed?(this.lineIn.push([0>=d?a:this.xCut,b]),this.lineOut.push([0<=d?a:this.xCut,b])):(0>=d&&this.lineIn.push([a,b]),0<=d&&this.lineOut.push([a,b]))};a.prototype._lineTo=function(a,b,d){this.closed?(this._addPolyVertex(this.lineIn,
0>=d?a:this.xCut,b),this._addPolyVertex(this.lineOut,0<=d?a:this.xCut,b)):0>d?(0===this._prevSide&&this._pushLineOut(),this.lineIn.push([a,b])):0<d?(0===this._prevSide&&this._pushLineIn(),this.lineOut.push([a,b])):0>this._prevSide?(this.lineIn.push([a,b]),this.lineOut.push([a,b])):0<this._prevSide&&(this.lineOut.push([a,b]),this.lineIn.push([a,b]))};a.prototype._addPolyVertex=function(a,b,d){var c=a.length;1<c&&a[c-1][0]===b&&a[c-2][0]===b?a[c-1][1]=d:a.push([b,d])};a.prototype._checkClosingPt=function(a){var b=
a.length;3<b&&a[0][0]===this.xCut&&a[b-2][0]===this.xCut&&a[1][0]===this.xCut&&(a[0][1]=a[b-2][1],a.pop())};a.prototype._side=function(a){return a<this.xCut?-1:a>this.xCut?1:0};a.prototype._intersect=function(a,b){return a[1]+(this.xCut-a[0])/(b[0]-a[0])*(b[1]-a[1])};a.prototype._pushLineIn=function(){this.lineIn&&this.lineIn.length>=this.minPts&&this.linesIn.push(this.lineIn);this.lineIn=[]};a.prototype._pushLineOut=function(){this.lineOut&&this.lineOut.length>=this.minPts&&this.linesOut.push(this.lineOut);
this.lineOut=[]};return a}();b.CutVertical=a})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.EXTRUDE_SCALE=64;b.PICTURE_FILL_COLOR=4294967295;b.TILE_SIZE=512;b.ANGLE_FACTOR_256=256/360;b.DEBUG_LABELS=!1;b.COLLISION_BUCKET_SIZE=128;b.DOT_DENSITY_MAX_FIELDS=8;b.COLLISION_MAX_ZOOM_DELTA=3;b.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;b.COLLISION_BOX_PADDING=8;b.COLLISION_TILE_BOX_SIZE=b.TILE_SIZE/b.COLLISION_BUCKET_SIZE;
b.COLLISION_PLACEMENT_PADDING=8;b.HEURISTIC_GLYPHS_PER_LINE=50;b.HEURISTIC_GLYPHS_PER_FEATURE=10;b.GLYPH_SIZE=24;b.TEXT_LINE_HEIGHT=1.2*b.GLYPH_SIZE;b.TEXT_MAX_WIDTH=10*b.GLYPH_SIZE;b.TEXT_SPACING=0;b.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};b.TEXTURE_BINDING_SPRITE_ATLAS=0;b.TEXTURE_BINDING_GLYPH_ATLAS=1;b.TEXTURE_BINDING_HIGHLIGHT_0=2;b.TEXTURE_BINDING_HIGHLIGHT_1=3;b.TEXTURE_BINDING_RENDERER_0=4;b.TEXTURE_BINDING_RENDERER_1=5;b.MAX_FILTERS=2;b.FILTER_FLAG_0=
1;b.EFFECT_FLAG_0=2})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(a,b){function k(a,b){a%=b;return 0<=a?a:a+b}Object.defineProperty(b,"__esModule",{value:!0});b.C_INFINITY=Number.POSITIVE_INFINITY;b.C_PI=Math.PI;b.C_2PI=2*b.C_PI;b.C_PI_BY_2=b.C_PI/2;b.C_RAD_TO_256=128/b.C_PI;b.C_256_TO_RAD=b.C_PI/128;b.C_DEG_TO_256=256/360;b.C_DEG_TO_RAD=b.C_PI/180;b.C_SQRT2=1.414213562;b.C_SQRT2_INV=1/b.C_SQRT2;var m=1/Math.LN2;b.positiveMod=k;b.radToByte=function(a){return k(a*
b.C_RAD_TO_256,256)};b.degToByte=function(a){return k(a*b.C_DEG_TO_256,256)};b.log2=function(a){return Math.log(a)*m};b.sqr=function(a){return a*a};b.clamp=function(a,b,h){return Math.min(Math.max(a,b),h)};b.interpolate=function(a,b,h){return a*(1-h)+b*h};b.between=function(a,b,h){return a>=b&&a<=h||a>=h&&a<=b}})},"esri/views/vectorTiles/Feature":function(){define(["require","exports","../2d/engine/webgl/Geometry"],function(a,b,k){return function(){function a(a,b){this.values={};var g=b.keys;for(b=
b.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var e=a.getMessage(),f=this.values;!e.empty();){var c=e.getUInt32(),d=e.getUInt32();f[g[c]]=b[d]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var b=this._pbfGeometry,h,e;a?a.reset(this.type):h=[];for(var f=1,c=0,d=0,l=0;!b.empty();)switch(0===c&&(c=b.getUInt32(),f=c&7,c>>=
3),c--,f){case 1:d+=b.getSInt32();l+=b.getSInt32();a?a.moveTo(d,l):(e&&h.push(e),e=[],e.push(new k.Point(d,l)));break;case 2:d+=b.getSInt32();l+=b.getSInt32();a?a.lineTo(d,l):e.push(new k.Point(d,l));break;case 7:a?a.close():e&&!e[0].equals(d,l)&&e.push(e[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(e&&h.push(e),a=h);return this._geometry=a};return a}()})},"esri/views/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(a,b){return function(){function a(b){this.extent=
4096;this.keys=[];this.values=[];for(this._pbfLayer=b.clone();b.next();)switch(b.tag()){case 1:this.name=b.getString();break;case 3:this.keys.push(b.getString());break;case 4:this.values.push(a._parseValue(b.getMessage()));break;case 5:this.extent=b.getUInt32();break;default:b.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();
case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/views/vectorTiles/VertexMemoryBuffer":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./GeometryUtils ./MemoryBuffer".split(" "),function(a,b,k,m,l,g){Object.defineProperty(b,"__esModule",{value:!0});var h=new Float32Array(1),e=new Uint32Array(h.buffer);a=function(a){function b(b){var c=a.call(this,b?20:12)||
this;c._isDataDriven=b;return c}k(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,f,k,l,m,D){var d=this.array;a=g.i1616to32(a,b);d.push(a);a=g.i8888to32(Math.round(31*c),Math.round(31*f),Math.round(31*k),Math.round(31*l));d.push(a);a=g.i1616to32(m,0);d.push(a);if(this._isDataDriven){if(!D)throw Error("Expecting data driven values.");c=D.color;f=c[3]*D.opacity*255;d.push(g.i8888to32(c[0]*f,c[1]*f,c[2]*f,f));h[0]=D.size;d.push(e[0])}};return b}(g);
b.LineVertexBuffer=a;a=function(a){function b(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}k(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c){var d=this.array;d.push(g.i1616to32(a,b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");a=c.color;c=a[3]*c.opacity*255;d.push(g.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return b}(g);b.FillVertexBuffer=a;a=function(a){function b(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=
b;return c}k(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,e,f,h,k){var d=this.array,l=this.index;a=g.i1616to32(a,b);d.push(a);a=g.i8888to32(Math.round(15*c),Math.round(15*e),f,h);d.push(a);if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");c=k.color;k=c[3]*k.opacity*255;d.push(g.i8888to32(c[0]*k,c[1]*k,c[2]*k,k))}return l};return b}(g);b.OutlineVertexBuffer=a;a=function(a){function b(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=
b;return c}k(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,f,k,m,t,D,G,v,w){var d=this.array;a=g.i1616to32(a,b);d.push(a);a=g.i1616to32(Math.round(8*c),Math.round(8*f));d.push(a);a=g.i8888to32(k/4,m/4,0,0);d.push(a);a=g.i8888to32(Math.ceil(10*v),l.radToByte(t),10*D,Math.min(10*G,255));d.push(a);if(this._isDataDriven){if(!w)throw Error("Expecting data driven values.");c=w.color;f=c[3]*w.opacity*255;d.push(g.i8888to32(c[0]*f,c[1]*f,c[2]*f,f));h[0]=
w.size;d.push(e[0])}};return b}(g);b.SymbolVertexBuffer=a;a=function(a){function b(){return a.call(this,16)||this}k(b,a);b.prototype.add=function(a,b,c,e,f,h,k,l,m,v,w){var d=this.array;a=g.i1616to32(2*a+c,2*b+e);d.push(a);k=h[3]*k*255;a=g.i8888to32(h[0]*k,h[1]*k,h[2]*k,k);d.push(a);h=v[3]*w*255;a=g.i8888to32(v[0]*h,v[1]*h,v[2]*h,h);d.push(a);a=g.i8888to32(Math.min(32*l,255),Math.min(4*m,255),Math.min(f,255),0);d.push(a)};return b}(g);b.CircleVertexBuffer=a})},"esri/views/vectorTiles/style/StyleRepository":function(){define(["require",
"exports","../../../core/has","./StyleLayer"],function(a,b,k,m){return function(){function a(b,h){this._layerByName={};this.styleJSON=b;this.version=parseFloat(b.version);this.sprite=h?h.spriteUrl:b.sprite;this.glyphs=h?h.glyphsUrl:b.glyphs;if(this.layers=(b.layers||[]).map(a._create))for(b=void 0,h=0;h<this.layers.length;h++)b=this.layers[h],this._layerByName[b.id.toLowerCase()]=b;this._identifyRefLayers()}a.prototype.getStyleLayerId=function(a){return a>=this.layers.length?null:this.layers[a].id};
a.prototype.getLayoutProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.layout:null};a.prototype.getPaintProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.paint:null};a.prototype.setPaintProperties=function(b,h){b=this._layerByName[b.toLowerCase()];if(!b)return"";var e=this.layers.indexOf(b);this.styleJSON.layers[e].paint=h;h=a._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,
layout:b.layout,paint:h},b);this.layers[e]=h;this._layerByName[b.id.toLowerCase()]=h;return b.id};a.prototype.setLayoutProperties=function(b,h){b=this._layerByName[b.toLowerCase()];if(!b)return"";var e=this.layers.indexOf(b);this.styleJSON.layers[e].layout=h;h=a._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:h,paint:b.paint},b);this.layers[e]=h;this._layerByName[b.id.toLowerCase()]=h;return b.id};a.prototype._identifyRefLayers=
function(){for(var a=[],b=[],e=0,f=0,c=this.layers;f<c.length;f++){var d=c[f];if(1===d.type){var k=d,l=d.sourceLayer,l=l+("|"+JSON.stringify(d.layout&&d.layout.visibility)),l=l+("|"+JSON.stringify(d.minzoom)),l=l+("|"+JSON.stringify(d.maxzoom)),l=l+("|"+JSON.stringify(d.filter));if(k.hasDataDrivenFill||k.hasDataDrivenOutline)l+="|"+JSON.stringify(e);a.push({key:l,layer:d})}2===d.type&&(k=d,l=d.sourceLayer,l+="|"+JSON.stringify(d.layout&&d.layout.visibility),l+="|"+JSON.stringify(d.minzoom),l+="|"+
JSON.stringify(d.maxzoom),l+="|"+JSON.stringify(d.filter),l+="|"+JSON.stringify(d.layout&&d.layout["line-cap"]),l+="|"+JSON.stringify(d.layout&&d.layout["line-join"]),k.hasDataDrivenLine&&(l+="|"+JSON.stringify(e)),b.push({key:l,layer:d}));++e}this._assignRefLayers(a);this._assignRefLayers(b)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var b,e,f=a.length,c=0;c<f;c++){var d=a[c];if(d.key===b)d.layer.refLayerId=e;else if(b=d.key,e=d.layer.id,
1===d.layer.type&&!d.layer.getPaintProperty("fill-outline-color"))for(var g=c+1;g<f;g++){var k=a[g];if(k.key===b){if(k.layer.getPaintProperty("fill-outline-color")){a[c]=k;a[g]=d;e=k.layer.id;break}}else break}}};a._create=function(a,b,e){b=1-1/(e.length+1)*(1+b);switch(a.type){case "background":return new m.BackgroundStyleLayer(0,a,b);case "fill":return new m.FillStyleLayer(1,a,b);case "line":return new m.LineStyleLayer(2,a,b);case "symbol":return new m.SymbolStyleLayer(3,a,b);case "raster":throw Error("Unsupported vector tile raster layer");
case "circle":return new m.CircleStyleLayer(4,a,b)}throw Error("Unknown vector tile layer");};a._recreateLayer=function(a,b){switch(a.type){case "background":return new m.BackgroundStyleLayer(0,a,b.z);case "fill":return new m.FillStyleLayer(1,a,b.z);case "line":return new m.LineStyleLayer(2,a,b.z);case "symbol":return new m.SymbolStyleLayer(3,a,b.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new m.CircleStyleLayer(4,a,b.z)}};return a}()})},"*now":function(a){a(['dojo/i18n!*preload*dojo/nls/dojo*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});require.boot&&require.apply(null,require.boot);