// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/lang ../core/accessorSupport/decorators ./Renderer ./mixins/VisualVariablesRenderer ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../support/arcadeUtils ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),function(w,x,l,d,y,m,n,g,e,c,p,q,r,t,u,v,h){return function(k){function b(a){a=
k.call(this,a)||this;a.attributes=null;a.backgroundColor=new g([0,0,0,0]);a.blendDots=!0;a.dotShape="square";a.dotSize=1;a.legendOptions=null;a.outline=new h;a.referenceDotValue=null;a.referenceScale=null;a.seed=1;a.type="dot-density";return a}l(b,k);f=b;b.prototype.calculateDotValue=function(a){if(null==this.referenceScale)return this.referenceDotValue;a=a/this.referenceScale*this.referenceDotValue;return 1>a?1:a};b.prototype.getSymbol=function(a,b){return new v({outline:this.outline})};b.prototype.getSymbols=
function(){return[this.getSymbol(null)]};b.prototype.clone=function(){return new f({attributes:e.clone(this.attributes),backgroundColor:e.clone(this.backgroundColor),blendDots:e.clone(this.blendDots),dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),referenceDotValue:e.clone(this.referenceDotValue),visualVariables:e.clone(this.visualVariables)})};b.prototype.getControllerHash=
function(){var a=this.attributes.map(function(a){return a.field||a.valueExpression||""}),b=this.outline&&JSON.stringify(this.outline.toJSON())||"";return a+"-"+b};b.prototype.collectRequiredFields=function(a,b){return n(this,void 0,void 0,function(){var c,d,e;return m(this,function(f){switch(f.label){case 0:return[4,this.collectVVRequiredFields(a,b)];case 1:f.sent();c=0;for(d=this.attributes;c<d.length;c++)e=d[c],e.valueExpression&&u.extractFieldNames(e.valueExpression).forEach(function(b){a.add(b)}),
e.field&&a.add(e.field);return[2]}})})};var f;d([c.property({type:[r],json:{write:!0}})],b.prototype,"attributes",void 0);d([c.property({type:g,json:{write:!0}})],b.prototype,"backgroundColor",void 0);d([c.property({type:Boolean,json:{write:!0}})],b.prototype,"blendDots",void 0);d([c.property({type:String,json:{write:!0}})],b.prototype,"dotShape",void 0);d([c.property({type:Number,json:{write:!0}})],b.prototype,"dotSize",void 0);d([c.property({type:t,json:{write:!0}})],b.prototype,"legendOptions",
void 0);d([c.property({type:h,json:{default:null,write:!0}})],b.prototype,"outline",void 0);d([c.property({type:Number,json:{write:!0}})],b.prototype,"referenceDotValue",void 0);d([c.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);d([c.property({type:Number,json:{write:!0}})],b.prototype,"seed",void 0);d([c.enumeration.serializable()({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=f=d([c.subclass("esri.renderers.DotDensityRenderer")],b)}(c.declared(p,
q))});