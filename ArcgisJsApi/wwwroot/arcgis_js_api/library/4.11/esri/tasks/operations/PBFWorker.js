// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
require({cache:{"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(n,b,m,d,h,f,g,c,a,e,l,k,r,p){n=function(a){function b(e,c,k,l){e=a.call(this,e,c,k,l)||this;e.layer=null;e.popupTemplate=null;e.sourceLayer=null;
Object.defineProperty(e,"uid",{value:q.generateUID()});return e}d(b,a);q=b;b.prototype.normalizeCtorArgs=function(a,e,c,k){return a&&!a.declaredClass?a:{geometry:a,symbol:e,attributes:c,popupTemplate:k}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var e=this._get("attributes");e!==a&&(this._set("attributes",a),this._notifyLayer("attributes",e,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var e=this._get("geometry");e!==a&&(this._set("geometry",
a),this._notifyLayer("geometry",e,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var e=this._get("symbol");e!==a&&(this._set("symbol",a),this._notifyLayer("symbol",e,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var e=this._get("visible");e!==a&&(this._set("visible",a),this._notifyLayer("visible",e,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=function(a){void 0===a&&
(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&l.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,e){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=e,this._notifyLayer("attributes",c,e,a)):(this.attributes=(c={},c[a]=e,c),this._notifyLayer("attributes",
void 0,e,a))};b.prototype.toJSON=function(){return{geometry:this.geometry&&this.geometry.toJSON(),symbol:this.symbol&&this.symbol.toJSON(),attributes:m({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new q({attributes:e.clone(this.attributes),geometry:this.geometry&&this.geometry.clone()||null,layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:this.symbol&&this.symbol.clone()||
null,visible:this.visible})};b.prototype._notifyLayer=function(a,e,c,k){this.layer&&this.layer.graphicChanged&&(e={graphic:this,property:a,oldValue:e,newValue:c},"attributes"===a&&(e.attributeName=k),this.layer.graphicChanged(e))};var q;h([k.property({value:null})],b.prototype,"attributes",null);h([k.property({value:null,types:f.geometryTypes,json:{read:r.fromJSON}})],b.prototype,"geometry",null);h([k.property()],b.prototype,"layer",void 0);h([k.property({type:g})],b.prototype,"popupTemplate",void 0);
h([k.property()],b.prototype,"sourceLayer",void 0);h([k.property({value:null,types:c.symbolTypes,json:{read:p.read}})],b.prototype,"symbol",null);h([k.property({type:Boolean,value:!0,set:function(a){}})],b.prototype,"visible",null);return b=q=h([k.subclass("esri.Graphic")],b)}(k.declared(a));var q=0;(function(a){a.generateUID=function(){return q++}})(n||(n={}));return n})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(n,b){return function(b,d){b.__bases__=
d.__bases__}})},"esri/geometry":function(){define("require exports ./core/kebabDictionary ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),function(n,b,m,d,h,f,g,c,a,e,l,k){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=h;b.BaseGeometry=f;b.Multipoint=g;b.Point=c;b.Polygon=a;b.Polyline=e;b.SpatialReference=l;b.isGeometry=
function(a){return a instanceof b.BaseGeometry};b.fromJSON=k.fromJSON;b.typeKebabDictionary=m.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=m.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon"});b.geometryTypes={base:b.BaseGeometry,key:"type",typeMap:{extent:b.Extent,multipoint:b.Multipoint,point:b.Point,polyline:b.Polyline,polygon:b.Polygon}};b.ensureType=d.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r){function p(a,e,c){return null==e?c:null==c?e:a(e,c)}n=function(b){function q(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.type="extent";a.xmin=0;a.ymin=0;a.mmin=void 0;a.zmin=void 0;a.xmax=0;a.ymax=0;a.mmax=void 0;a.zmax=void 0;return a}m(q,b);g=q;q.prototype.normalizeCtorArgs=function(e,c,k,l,r){return!e||"esri.geometry.SpatialReference"!==e.declaredClass&&null==e.wkid?"object"===typeof e?(e.spatialReference=null==e.spatialReference?a.WGS84:e.spatialReference,
e):{xmin:e,ymin:c,xmax:k,ymax:l,spatialReference:null==r?a.WGS84:r}:{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(q.prototype,"center",{get:function(){var a=new c({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(q.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});q.prototype.centerAt=function(a){var e=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-e.x,a.y-e.y,a.z-e.z):this.offset(a.x-e.x,a.y-e.y)};q.prototype.clone=function(){var a=new g;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};q.prototype.contains=function(a){if(!a)return!1;var c=this.spatialReference,
k=a.spatialReference;c&&k&&!c.equals(k)&&r.canProject(c,k)&&(a=c.isWebMercator?r.geographicToWebMercator(a):r.webMercatorToGeographic(a,!0));return"point"===a.type?e.extentContainsPoint(this,a):"extent"===a.type?e.extentContainsExtent(this,a):!1};q.prototype.equals=function(a){if(!a)return!1;var e=this.spatialReference,c=a.spatialReference;e&&c&&!e.equals(c)&&r.canProject(e,c)&&(a=e.isWebMercator?r.geographicToWebMercator(a):r.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};q.prototype.expand=function(a){a=.5*(1-a);var e=this.width*a,c=this.height*a;this.xmin+=e;this.ymin+=c;this.xmax-=e;this.ymax-=c;this.hasZ&&(e=(this.zmax-this.zmin)*a,this.zmin+=e,this.zmax-=e);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};q.prototype.intersects=function(a){if(!a)return!1;var e=this.spatialReference,c=a.spatialReference;e&&c&&
!e.equals(c)&&r.canProject(e,c)&&(a=e.isWebMercator?r.geographicToWebMercator(a):r.webMercatorToGeographic(a,!0));e=l.getExtentIntersector(a.type);return"mesh"!==a.type?e(this,a):e(this,a.extent)};q.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};q.prototype.offset=function(a,e,c){this.xmin+=a;this.ymin+=e;this.xmax+=a;this.ymax+=e;null!=c&&(this.zmin+=c,this.zmax+=c);return this};q.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};q.prototype.union=
function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=p(Math.min,this.zmin,a.zmin),this.zmax=p(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=p(Math.min,this.mmin,a.mmin),this.mmax=p(Math.max,this.mmax,a.mmax);return this};q.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,
a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=p(Math.max,this.zmin,a.zmin),this.zmax=p(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=p(Math.max,this.mmin,a.mmin),this.mmax=p(Math.min,this.mmax,a.mmax);return this};q.prototype.toJSON=function(a){return this.write(null,a)};q.prototype._shiftCM=function(e){void 0===e&&(e=k.getInfo(this.spatialReference));if(!e||!this.spatialReference)return this;var c=this.spatialReference,
l=this._getCM(e);if(l){var p=c.isWebMercator?r.webMercatorToGeographic(l):l;this.xmin-=l.x;this.xmax-=l.x;c.isWebMercator||(p.x=this._normalizeX(p.x,e).x);this.spatialReference=new a(h.substitute({Central_Meridian:p.x},c.isWGS84?e.altTemplate:e.wkTemplate))}return this};q.prototype._getCM=function(a){var e=null,c=a.valid;a=c[0];var c=c[1],k=this.xmin,l=this.xmax;k>=a&&k<=c&&l>=a&&l<=c||(e=this.center);return e};q.prototype._normalize=function(a,e,c){var l=this.spatialReference;if(!l)return this;c=
c||k.getInfo(l);if(!c)return this;var r=this._getParts(c).map(function(a){return a.extent});if(2>r.length)return r[0]||this;if(2<r.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(e)return r;var p=!0,d=!0;r.forEach(function(a){a.hasZ||(p=!1);a.hasM||(d=!1)});return{rings:r.map(function(a){var e=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(p)for(var c=(a.zmax-a.zmin)/2,k=0;k<e.length;k++)e[k].push(c);
if(d)for(a=(a.mmax-a.mmin)/2,k=0;k<e.length;k++)e[k].push(a);return e}),hasZ:p,hasM:d,spatialReference:l}};q.prototype._getParts=function(a){var e=this.cache._parts;if(!e){var e=[],c=this.ymin,l=this.ymax,r=this.spatialReference,p=this.width,d=this.xmin,b=this.xmax,q=void 0;a=a||k.getInfo(r);var f=a.valid,h=f[0],t=f[1],q=this._normalizeX(this.xmin,a),u=q.x,f=q.frameId,q=this._normalizeX(this.xmax,a),v=q.x;a=q.frameId;q=u===v&&0<p;if(p>2*t){p=new g(d<b?u:v,c,t,l,r);d=new g(h,c,d<b?v:u,l,r);b=new g(0,
c,t,l,r);c=new g(h,c,0,l,r);l=[];r=[];p.contains(b)&&l.push(f);p.contains(c)&&r.push(f);d.contains(b)&&l.push(a);d.contains(c)&&r.push(a);for(h=f+1;h<a;h++)l.push(h),r.push(h);e.push({extent:p,frameIds:[f]},{extent:d,frameIds:[a]},{extent:b,frameIds:l},{extent:c,frameIds:r})}else u>v||q?e.push({extent:new g(u,c,t,l,r),frameIds:[f]},{extent:new g(h,c,v,l,r),frameIds:[a]}):e.push({extent:new g(u,c,v,l,r),frameIds:[f]});this.cache._parts=e}a=this.hasZ;c=this.hasM;if(a||c)for(f={},a&&(f.zmin=this.zmin,
f.zmax=this.zmax),c&&(f.mmin=this.mmin,f.mmax=this.mmax),a=0;a<e.length;a++)e[a].extent.set(f);return e};q.prototype._normalizeX=function(a,e){var c=e.valid;e=c[0];var k=c[1],c=2*k,l=0;a>k?(e=Math.ceil(Math.abs(a-k)/c),a-=e*c,l=e):a<e&&(e=Math.ceil(Math.abs(a-e)/c),a+=e*c,l=-e);return{x:a,frameId:l}};var g;d([f.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],q.prototype,"cache",void 0);d([f.property({readOnly:!0,dependsOn:["cache"]})],q.prototype,"center",
null);d([f.property({readOnly:!0,dependsOn:["cache"]})],q.prototype,"extent",null);d([f.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],q.prototype,"hasM",null);d([f.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],q.prototype,"hasZ",null);d([f.property({readOnly:!0,dependsOn:["ymin","ymax"]})],q.prototype,"height",null);d([f.property({readOnly:!0,dependsOn:["xmin","xmax"]})],q.prototype,"width",null);
d([f.property({type:Number,json:{write:!0}})],q.prototype,"xmin",void 0);d([f.property({type:Number,json:{write:!0}})],q.prototype,"ymin",void 0);d([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],q.prototype,"mmin",void 0);d([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],q.prototype,"zmin",void 0);d([f.property({type:Number,json:{write:!0}})],
q.prototype,"xmax",void 0);d([f.property({type:Number,json:{write:!0}})],q.prototype,"ymax",void 0);d([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],q.prototype,"mmax",void 0);d([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],q.prototype,"zmax",void 0);return q=g=d([f.subclass("esri.geometry.Extent")],q)}(f.declared(g));n.prototype.toJSON.isDefaultToJSON=
!0;return n})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(n,b,m,d,h,f,g,c,a,e,l,k){function r(a){for(var e in a)b.hasOwnProperty(e)||(b[e]=a[e])}Object.defineProperty(b,"__esModule",{value:!0});r(m);r(d);r(h);r(f);r(g);r(c);r(a);r(e);
r(l);r(k)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(d){return function(b,f){m.getPropertyMetadata(b,f).aliasOf=d}}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(n,b,m){function d(a){return null!=a.__accessorMetadata__}function h(a){return d(a)&&null!=f(a).properties}function f(a){a.__accessorMetadata__||
Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function g(a){a=f(a);var e=a.properties;e||(e=a.properties={});return e}function c(a,e){var c=f(a);a=c.parameters;a||(a=c.parameters={});c=a[e];c||(c=[],a[e]=c);return c}function a(a){return l.test(a)?"replace":"merge"}function e(e){return k.test(e)?a(e.slice(11)):"merge"}Object.defineProperty(b,"__esModule",{value:!0});b.hasMetadata=d;b.hasPropertiesMetadata=h;b.hasPropertyMetadata=
function(a,e){return h(a)&&null!=g(a)[e]};b.hasParametersMetadata=function(a,e){return d(a)&&null!=f(a).parameters&&null!=f(a).parameters[e]};b.getMetadata=f;b.getPropertiesMetadata=g;b.getPropertyMetadata=function(a,e){a=g(a);var c=a[e];c||(c=a[e]={});return c};b.setPropertyMetadata=function(a,e,c){g(a)[e]=c};b.getParametersMetadata=c;b.getParameterMetadata=function(a,e,k){var l=c(a,e)[k];l||(c(a,e)[k]=l={index:k});return l};b.merge=function(a,c){return m.merge(a,c,e)};b.mergeProperty=function(e,
c){return m.merge(e,c,a)};var l=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,k=/^properties\./})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(n,b,m){function d(c,a,e){return a?Object.keys(a).reduce(function(c,k){var l=null,p="merge";e&&(l=e.path?e.path+"."+k:k,p=e.policy(l));if("replace"===p)return c[k]=a[k],c;if(void 0===c[k])return c[k]=m.clone(a[k]),c;var b=c[k],p=a[k];if(b===p)return c;if(Array.isArray(p)||Array.isArray(c))b=
b?Array.isArray(b)?c[k]=b.concat():c[k]=[b]:c[k]=[],p&&(Array.isArray(p)||(p=[p]),p.forEach(function(a){-1===b.indexOf(a)&&b.push(a)}));else if(p&&"object"===typeof p)if(e){var g=e.path;e.path=l;c[k]=d(b,p,e);e.path=g}else c[k]=d(b,p,null);else if(!c.hasOwnProperty(k)||a.hasOwnProperty(k))c[k]=p;return c},c||{}):c}function h(c){return Array.isArray(c)?c:c.split(".")}function f(c){if(Array.isArray(c)||-1<c.indexOf(",")){c=Array.isArray(c)?c:c.split(",");for(var a=0;a<c.length;a++)c[a]=c[a].trim();
return 1===c.length?c[0]:c}return c.trim()}function g(c){var a=!1;return function(){a||(a=!0,c())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(c){return c?c.__accessor__?c.__accessor__:c.propertyInvalidated?c:null:null};b.isPropertyDeclared=function(c,a){return c&&c.metadatas&&null!=c.metadatas[a]};b.merge=function(c,a,e){return e?d(c,a,{policy:e,path:""}):d(c,a,null)};b.pathToStringOrArray=function(c){return!c||"string"===typeof c&&-1===c.indexOf(".")?c:h(c)};b.pathToArray=
h;b.splitPath=f;b.parseConditionalPath=function(c){if(-1===c.indexOf("?"))return null;c=h(c);for(var a=Array(c.length),e=0;e<c.length;e++){var l=c[e];a[e]="?"===l[l.length-1];a[e]&&(c[e]=l.slice(0,-1))}return{fullPath:c.join("."),conditional:a}};b.parse=function(c,a,e,l){a=f(a);if(Array.isArray(a)){var k=a.map(function(a){return l(c,a.trim(),e)});return{remove:g(function(){return k.forEach(function(a){return a.remove()})})}}return l(c,a.trim(),e)};b.once=g})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(d,b,f){m.getMetadata(d).autoDestroy=!0;return d[b]}}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(n,b,m,d){function h(a){var e="_meta"in a?m.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(e);return"number"===typeof a[2]?g.apply(this,a):f.apply(this,
a)}}function f(a,c,k,b){d.getPropertyMetadata(a,c).cast=b}function g(a,c,k,b){d.getParameterMetadata(a,c,k).cast=b}function c(a){return function(e,c,b){d.getPropertyMetadata(e,a).cast=e[c]}}Object.defineProperty(b,"__esModule",{value:!0});var a=Object.prototype.toString;b.autocastMethod=function(a,c,k){if(d.hasParametersMetadata(a,c)){var e=d.getParametersMetadata(a,c).filter(function(a){return null!=a.cast});if(e.length){var l=k.value;k.value=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=
arguments[c];for(c=0;c<e.length;c++){var k=e[c];a[k.index]=k.cast(a[k.index])}return l.apply(this,a)};return k}console.warn("Method "+a.declaredClass+"::"+c+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];if(3!==e.length||"string"!==typeof e[1]){if(1===e.length&&"[object Function]"===a.call(e[0]))return h(e[0]);if(1===e.length&&"string"===typeof e[0])return c(e[0])}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require",
"exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(b){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];h=function(){return this||{}};h.__bases__=[b].concat(d);return h}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../kebabDictionary","./property"],function(n,b,m,d){function h(b){return d.property({type:b})}Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=h;(function(b){b.serializable=
function(){return function(b){b=b instanceof m.KebabDictionary?b:new m.KebabDictionary(b,{ignoreUnknown:!0});return d.property({type:b.apiValues,json:{type:b.jsonValues,read:{reader:b.read},write:{writer:b.write}}})}}})(h=b.enumeration||(b.enumeration={}))})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),function(n,b,m,d,h,f){Object.defineProperty(b,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.decorators.property");
b.property=function(b){void 0===b&&(b={});return function(c,a){var e=c.constructor.prototype;e!==Function.prototype&&((c=Object.getOwnPropertyDescriptor(c,a))&&(c.get||c.set)?(b=d.clone(b),c.set&&(b.set=c.set),c.get&&(b.get=c.get)):c&&c.hasOwnProperty("value")&&(b=d.clone(b),b.value=c.value),a=f.getPropertyMetadata(e,a),f.mergeProperty(a,b))}};b.propertyJSONMeta=function(b,c,a){b=f.getPropertyMetadata(b.constructor.prototype,a);b.json||(b.json={});b=b.json;void 0!==c&&(b.origins||(b.origins={}),b.origins[c]||
(b.origins[c]={}),b=b.origins[c]);return b}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(n,b,m,d){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(b,f,g){var c,a;void 0===f||Array.isArray(f)?(a=b,g=f,c=[void 0]):(a=f,c=Array.isArray(b)?b:[b]);return function(e,l,k){var b=e.constructor.prototype;c.forEach(function(c){c=d.propertyJSONMeta(e,c,a);c.read&&"object"!==typeof c.read&&(c.read={});m.setDeepValue("read.reader",
b[l],c);g&&(c.read.source=(c.read.source||[]).concat(g))})}}})},"esri/core/object":function(){define(["require","exports"],function(n,b){function m(b,h,f){for(var d=0;d<b.length;d++){var c=b[d];if(null==f)return;if(!(c in f))if(h)f[c]={};else return;f=f[c]}return f}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(b,h){return m(b.split("."),!1,h)};b.setDeepValue=function(b,h,f){var d=b.split(".");b=d.pop();(f=m(d,!0,f))&&b&&(f[b]=h)}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require",
"exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(b){return function(d,h){d[h]=b}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports","../../declare","../metadata"],function(n,b,m,d){function h(a,e){a.read&&("function"===typeof a.read?e.push(a.read):"object"===typeof a.read&&a.read.reader&&e.push(a.read.reader))}function f(a,e){a.write&&("function"===typeof a.write?e.push(a.write):"object"===typeof a.write&&a.write.writer&&
e.push(a.write.writer))}function g(a){var e=[];a=d.getPropertiesMetadata(a.prototype);if(!a)return e;for(var c in a){var l=a[c];l.cast&&e.push(l.cast);l.copy&&e.push(l.copy);if(l=l.json)if(h(l,e),f(l,e),l=l.origins)for(var b in l){var g=l[b];h(g,e);f(g,e)}}return e}function c(a){var c={values:{},descriptors:{}},l=["__bases__"],b=d.getPropertiesMetadata(a.prototype),q=g(a);Object.getOwnPropertyNames(a.prototype).filter(function(c){return-1!==l.indexOf(c)||b&&b.hasOwnProperty(c)||!e(Object.getOwnPropertyDescriptor(a.prototype,
c))&&-1!==q.indexOf(a.prototype[c])?!1:!0}).forEach(function(k){var l=Object.getOwnPropertyDescriptor(a.prototype,k);e(l)?c.descriptors[k]=l:c.values[k]=a.prototype[k]});return c}function a(a){var c=Object.getOwnPropertyNames(a),l=Object.getPrototypeOf(a.prototype).constructor,b=Object.getOwnPropertyNames(Function);b.push("__bases__");var d=Object.getOwnPropertyNames(l),g={values:{},descriptors:{}};c.filter(function(e){return-1!==b.indexOf(e)?!1:-1===d.indexOf(e)||l[e]!==a[e]?!0:!1}).forEach(function(c){var k=
Object.getOwnPropertyDescriptor(a,c);e(k)?g.descriptors[c]=k:g.values[c]=a[c]});return g}function e(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",{value:!0});b.subclass=function(e){return function(k){var l=c(k),b=a(k);null!=e&&(l.values.declaredClass=e);k=m(k.__bases__,l.values);Object.defineProperties(k.prototype,l.descriptors);for(var d in b.values)k[d]=b.values[d];Object.defineProperties(k,b.descriptors);return k}}})},"esri/core/declare":function(){define(["require","exports",
"dojo/_base/declare"],function(n,b,m){function d(c,a){c&&!Array.isArray(c)&&"function"!==typeof c&&(a=c,c=null);c=c||[];a=a||{};return h([this].concat(c),a)}function h(c,a){c&&!Array.isArray(c)&&"function"!==typeof c&&(a=c,c=null);"function"===typeof c?c=[c]:c||(c=[]);a=a||{};var e,l;e=0;for(l=f.length;e<l;e++)f[e](c,a);c=m(c,a);c.createSubclass=d;e=0;for(l=g.length;e<l;e++)g[e](c);return c}var f=[],g=[];(function(c){c.hasMixin=function(a,e){a=Array.isArray(a)?a.reduce(function(a,e){return e._meta?
a.concat(e._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof e)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===e)return!0;return-1!==a.indexOf(e)};c.safeMixin=function(a,e){return m.safeMixin(a,e)};c.before=function(a){f.push(a)};c.after=function(a){g.push(a)}})(h||(h={}));return h})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(n,b,m,d){Object.defineProperty(b,"__esModule",
{value:!0});b.writer=function(b,f,g){var c,a;void 0===f?(a=b,c=[void 0]):"string"!==typeof f?(a=b,c=[void 0],g=f):(a=f,c=Array.isArray(b)?b:[b]);return function(e,b,k){var l=e.constructor.prototype;c.forEach(function(c){c=d.propertyJSONMeta(e,c,a);c.write&&"object"!==typeof c.write&&(c.write={});g&&m.setDeepValue("write.target",g,c);m.setDeepValue("write.writer",l[b],c)})}}})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),
function(n,b,m,d,h,f,g){return function(c){function a(){var a=c.call(this)||this;a.type=null;a.extent=null;a.hasM=!1;a.hasZ=!1;a.spatialReference=g.WGS84;return a}m(a,c);Object.defineProperty(a.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});a.prototype.readSpatialReference=function(a,c){if(a instanceof g)return a;if(null!=a){var e=new g;e.read(a,c);return e}return a};a.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};
a.prototype.clearCache=function(){this.notifyChange("cache")};a.prototype.getCacheValue=function(a){return this.cache[a]};a.prototype.setCacheValue=function(a,c){this.cache[a]=c};d([f.property()],a.prototype,"type",void 0);d([f.property({readOnly:!0,dependsOn:["spatialReference"]})],a.prototype,"cache",null);d([f.property({readOnly:!0,dependsOn:["spatialReference"]})],a.prototype,"extent",void 0);d([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],a.prototype,
"hasM",void 0);d([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],a.prototype,"hasZ",void 0);d([f.property({type:g,json:{write:!0}})],a.prototype,"spatialReference",void 0);d([f.reader("spatialReference")],a.prototype,"readSpatialReference",null);return a=d([f.subclass("esri.geometry.Geometry")],a)}(f.declared(h))})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(n,b,m,d,h,f,g,c,a){function e(a,c){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var e=new this;e.read(a,c);return e}var l=function(k){function b(){return null!==k&&k.apply(this,arguments)||this}m(b,k);b.prototype.read=function(a,e){c.default(this,a,e)};b.prototype.write=function(c,e){return a.default(this,c||{},e)};b.prototype.toJSON=function(a){return this.write(null,a)};b.fromJSON=function(a,c){return e.call(this,a,c)};return b=d([g.subclass("esri.core.JSONSupport")],
b)}(g.declared(h));l.prototype.toJSON.isDefaultToJSON=!0;f.after(function(a){f.hasMixin(a,l)&&(a.fromJSON=e.bind(a))});return l})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(n,b,m,d,h,f){b=b.default;n.before(function(c,a){n.hasMixin(c,g)&&d.processPrototype(a)});n.after(function(c){n.hasMixin(c,g)&&(d.processClass(c),Object.defineProperties(c.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var g=n(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===g)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var c=[],a=0;a<arguments.length;a++)c.push(arguments[a]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,c)}},__accessor__:null,postscript:function(c){var a=this.__accessor__;c=a.ctorArgs||c;a.initialize();c&&(this.set(c),a.ctorArgs=null);a.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(c){console.warn(c.stack)}else f.removeTarget(this),this.__accessor__.destroy()},get:function(c){return m.get(this,c)},hasOwnProperty:function(c){return this.__accessor__?this.__accessor__.has(c):Object.prototype.hasOwnProperty.call(this,c)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(c,a){h.set(this,c,a);return this},watch:function(c,a,e){return f.watch(this,c,a,e)},_clearOverride:function(c){return this.__accessor__.clearOverride(c)},_override:function(c,
a){return this.__accessor__.override(c,a)},_isOverridden:function(c){return this.__accessor__.isOverridden(c)},notifyChange:function(c){this.__accessor__.propertyInvalidated(c)},_get:function(c){return this.__accessor__.internalGet(c)},_set:function(c,a){return this.__accessor__.internalSet(c,a)}});return g})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(n,b,m,d,h,f,g,c,a){Object.defineProperty(b,
"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.Properties");n=function(){function b(e){this.host=e;this._origin=c.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new a.default;e=this.host.constructor.__accessorMetadata__;this.metadatas=e.properties;this.autoDestroy=e.autoDestroy}b.prototype.initialize=function(){this.lifecycle=1;g.instanceCreated(this.host,this.metadatas)};b.prototype.constructed=function(){this.lifecycle=
2};b.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var c=0,e=Object.getOwnPropertyNames(a);c<e.length;c++){var b=e[c],l=a[b];if(l){for(;0<l.length;)l.pop().propertyDestroyed(this,b);a[b]=null}}if(this.autoDestroy)for(b in this.metadatas)(a=this.internalGet(b))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[b].nonNullable||this.internalSet(b,null))};Object.defineProperty(b.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,
configurable:!0});b.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};b.prototype.get=function(a){var e=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var b=e.get;return b?(e=b.call(this.host),this.store.set(a,e,c.OriginId.COMPUTED),this.propertyCommitted(a),e):e.value};b.prototype.originOf=function(a){var e=this.store.originOf(a);return void 0===e&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":
c.idToName(e)};b.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};b.prototype.internalGet=function(a){if(this.metadatas[a]){var c=this.store;return c.has(a)?c.get(a):this.metadatas[a].value}};b.prototype.internalSet=function(a,e){if(this.metadatas[a]){var b=this.initialized?this._origin:c.OriginId.DEFAULTS,k=this.store.get(a,b);d.equals(e,k)&&this.store.has(a,b)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,e,b),this.propertyCommitted(a))}};b.prototype.isOverridden=
function(a){return null!=this.overridden&&!0===this.overridden[a]};b.prototype.keys=function(){return Object.keys(this.metadatas)};b.prototype.override=function(a,c){if(this.metadatas[a]){this.overridden||(this.overridden={});var b=this.metadatas[a];if(!b.nonNullable||null!=c){if(b=b.cast){c=this.cast(b,c);var b=c.valid,l=c.value;e.release(c);if(!b)return;c=l}this.overridden[a]=!0;this.internalSet(a,c)}}};b.prototype.set=function(a,c){if(this.metadatas[a]){var b=this.metadatas[a];if(!b.nonNullable||
null!=c){var l=b.set;if(b=b.cast){c=this.cast(b,c);var b=c.valid,k=c.value;e.release(c);if(!b)return;c=k}l?l.call(this.host,c):this.internalSet(a,c)}}};b.prototype.setDefaultOrigin=function(a){this._origin=c.nameToId(a)};b.prototype.propertyInvalidated=function(a){var c=this.dirties,e=this.isOverridden(a),b=this.cursors&&this.cursors[a],l=this.metadatas[a].computes;if(b)for(var k=0;k<b.length;k++)b[k].propertyInvalidated(this,a);e||(c[a]=!0);if(l)for(a=0;a<l.length;a++)this.propertyInvalidated(l[a])};
b.prototype.propertyCommitted=function(a){var c=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(c)for(var e=0;e<c.length;e++)c[e].propertyCommitted(this,a)};b.prototype.addCursor=function(a,c){this.cursors||(this.cursors={});var e=this.cursors[a];e||(this.cursors[a]=e=[]);e.push(c)};b.prototype.removeCursor=function(a,c){var e=this.cursors[a];this.cursors[a]&&(e.splice(e.indexOf(c),1),0===e.length&&(this.cursors[a]=null))};b.prototype.cast=function(a,c){var b=e.acquire();b.valid=!0;b.value=c;
a&&(b.value=a.call(this.host,c,b));return b};return b}();m=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var e=new f(m);b.default=n})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(n,b,m,d,h){Object.defineProperty(b,"__esModule",{value:!0});var f=
[m.default,d.default,h.default];b.processPrototypeMetadatas=function(b,c){for(var a=0;a<f.length;a++){var e=f[a];if(e.processPrototypePropertyMetadata)for(var l in b)e.processPrototypePropertyMetadata(l,b[l],b,c)}};b.processClassMetadatas=function(b,c){for(var a=0;a<f.length;a++){var e=f[a];if(e.processClassPropertyMetadata)for(var l in b)e.processClassPropertyMetadata(l,b[l],b,c)}};b.instanceCreated=function(b,c){for(var a=Object.getOwnPropertyNames(c),e=0;e<f.length;e++){var l=f[e];l.instanceCreated&&
l.instanceCreated(b,c,a)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(n,b,m,d,h,f,g){function c(a,c,b){var e=f.getProperties(a);return g.wire(a,b.aliasOf,function(){e.propertyInvalidated(c)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(a,c,b,k){var e=c.aliasOf;if(e&&(a=e.split(".")[0],null!=b[a]&&!c.set&&!c.get)){var l;
c.get=function(){var a=d.default(this,e);if("function"===typeof a){l||(l=e.split(".").slice(0,-1).join("."));var c=d.default(this,l);c&&(a=a.bind(c))}return a};c.readOnly||(c.set=function(a){return h.default(this,e,a)})}},instanceCreated:function(a,e,b){for(var l=0;l<b.length;l++){var d=b[l],p=e[d];p.aliasOf&&c(a,d,p)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(n,b,m){function d(c,a,e){c="?"===c[c.length-1]?
c.slice(0,-1):c;if(null!=e.getItemAt||Array.isArray(e)){var b=parseInt(c,10);if(!isNaN(b))return Array.isArray(e)?e[b]:e.getItemAt(b)}b=m.getProperties(e);return a?m.isPropertyDeclared(b,c)?b.get(c):e[c]:m.isPropertyDeclared(b,c)?b.internalGet(c):e[c]}function h(c,a,e,b){if(null==c)return c;if((c=d(a[b],e,c))||!(b<a.length-1))return b===a.length-1?c:h(c,a,e,b+1)}function f(c,a,e,b){void 0===e&&(e=!1);void 0===b&&(b=0);return"string"===typeof a&&-1===a.indexOf(".")?d(a,e,c):h(c,m.pathToArray(a),e,
b)}function g(c,a){return f(c,a,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=f;b.get=g;b.exists=function(c,a){return void 0!==f(a,c,!0)};b.default=g})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(n,b,m,d,h){function f(b,c,a){if(b&&c)if("object"===typeof c){a=0;for(var e=Object.getOwnPropertyNames(c);a<e.length;a++){var l=e[a];f(b,l,c[l])}}else"_"!==c[0]&&(-1!==c.indexOf(".")?(c=c.split("."),l=c.splice(c.length-1,1)[0],
f(h.default(b,c),l,a)):b[c]=a)}Object.defineProperty(b,"__esModule",{value:!0});d.getLogger("esri.core.accessorSupport.set");b.set=f;b.default=f})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(n,b,m){function d(e,b,k){b=m.splitPath(b);if(Array.isArray(b)){for(var l=[],d=0;d<b.length;d++)l.push((new h(b[d],k)).install(e));return new c(l)}e=(new h(b,k)).install(e);return new a(e)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,
c){this.path=a;this.callback=c;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=m.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=m.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=c;return this}a.prototype.install=function(a){a=this.chain?new g(this,a):new f(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),f=function(){function a(a,
c){this.binding=a;this.target=c;m.getProperties(c).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(m.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,c){m.getProperties(this.target).removeCursor(c,this)};a.prototype.propertyInvalidated=function(a,c){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,c){this.binding&&this.binding.notify(this.target)};
return a}(),g=function(){function a(a,c){this.binding=a;this.target=c;this.stack=[];this.properties=m.getProperties(c);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,c){this.moveBackward(a,c)};a.prototype.propertyInvalidated=
function(a,c){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,c){this.binding&&(this.moveBackward(a,c),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,c){for(var e=this.stack,b=e[e.length-1];b.properties!==a&&b.propertyName!==c;)b.properties.removeCursor(b.propertyName,this),e.pop(),b=e[e.length-1]};a.prototype.moveForward=function(){var a=this.stack,c=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-
1]||c.properties.metadatas[c.propertyName])if(c=c.properties.internalGet(c.propertyName),(c=m.getProperties(c))&&a.length<this.binding.chain.length){var e=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!c.metadatas[e]||(this.stack.push({properties:c,propertyName:e}),c.addCursor(e,this),this.moveForward())}};return a}(),c=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=
null};return a}(),a=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();b.create=function(e,b){e=m.splitPath(e);if(Array.isArray(e)){for(var d=[],l=0;l<e.length;l++)d.push(new h(e[l],b));return function(a){for(var e=[],b=0;b<d.length;b++)e[b]=d[b].install(a);return new c(e)}}var p=new h(e,b);return function(c){return new a(p.install(c))}};b.wire=d;b.default=d})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),
function(n,b,m,d,h,f){Object.defineProperty(b,"__esModule",{value:!0});d.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(b,c,a,e){c.dependsOn&&(a=void 0,a=c.dependsOn.slice())&&(c.wire=f.create(a,function(a){return h.getProperties(a).propertyInvalidated(b)}))},instanceCreated:function(b,c,a){for(var e=0;e<a.length;e++){var d=c[a[e]];d.wire&&d.wire(b)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(n,b,m,d,h,f,g){function c(a,c,b){var e=a&&a.json;a&&a.json&&a.json.origins&&b&&(a=a.json.origins[b.origin])&&c in a&&(e=a);return e}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,e){return c(a,"read",e)};b.originSpecificWritePropertyDefinition=function(a,e){return c(a,"write",e)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,c,b,k){if(f.process(c)){d.process(c);b=c.type;for(k=0;Array.isArray(b)&&!m.isOneOf(b);)b=
b[0],k++;if(c.json.origins)for(var e in c.json.origins){var l=c.json.origins[e];h.create(b,k,a,l);g.create(b,k,a,l)}h.create(b,k,a,c.json);g.create(b,k,a,c.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(b){if(b.json&&b.json.origins){var d=b.json.origins,h={"web-document":["web-scene","web-map"]};b=
function(b){if(d[b]){var c=d[b];h[b].forEach(function(a){d[a]=c});delete d[b]}};for(var f in h)b(f)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(n,b,m,d){function h(b,d,l,q){if(1<d)return c(b,d);if(1===d)return a(b);if(e(b)){var k=a(b.prototype.itemType.Type);return function(a,c,e){return(a=k(a,c,e))?new b(a):a}}return f(b)}function f(a){return a.prototype.read?function(c,e,b){if(null==c)return c;
e=new a;e.read(c,b);return e}:a.fromJSON}function g(a,c,e,b){return 0!==b&&Array.isArray(c)?c.map(function(c){return g(a,c,e,b-1)}):a(c,null,e)}function c(a,c){a=f(a);var e=g.bind(null,a);return function(a,b,d){if(null==a)return a;a=e(a,d,c);b=c;for(d=a;0<b&&Array.isArray(d);)b--,d=d[0];if(void 0!==d)for(d=0;d<b;d++)a=[a];return a}}function a(a){var c=f(a);return function(a,e,b){return null==a?a:Array.isArray(a)?a.map(function(a){return c(a,null,b)}):[c(a,null,b)]}}function e(a){return d.isCollection(a)?
(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?l(a.Type):!1:!1}function l(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||e(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,c,e,b){(!b.read||!b.read.reader&&!1!==b.read.enabled)&&l(a)&&m.setDeepValue("read.reader",h(a,c,e,b),b)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,
"__esModule",{value:!0});b.isCollection=function(b){return!!b&&b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(n,b){function m(b){"boolean"===typeof b.read?b.read={enabled:b.read}:"function"===typeof b.read?b.read={enabled:!0,reader:b.read}:b.read&&"object"===typeof b.read&&void 0===b.read.enabled&&(b.read.enabled=!0)}function d(b){"boolean"===
typeof b.write?b.write={enabled:b.write}:"function"===typeof b.write?b.write={enabled:!0,writer:b.write}:b.write&&"object"===typeof b.write&&void 0===b.write.enabled&&(b.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=function(b){b.json||(b.json={});m(b.json);d(b.json);if(b.json.origins)for(var f in b.json.origins)m(b.json.origins[f]),d(b.json.origins[f]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports",
"../../../object","./type"],function(n,b,m,d){function h(a,c,b,d){m.setDeepValue(b,f(a,d),c)}function f(a,c){return a&&"function"===typeof a.write?a.write({},c):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function g(a,c,b,d){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return f(a,d)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[f(a,d)];m.setDeepValue(b,a,c)}function c(a,b,
d){return 0!==d&&Array.isArray(a)?a.map(function(a){return c(a,b,d-1)}):f(a,b)}function a(a){return function(b,e,d,p){if(null===b)b=null;else{b=c(b,p,a);p=a;for(var l=b;0<p&&Array.isArray(l);)p--,l=l[0];if(void 0!==l)for(l=0;l<p;l++)b=[b]}m.setDeepValue(d,b,e)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(c,b,k,r){r.write&&!r.write.writer&&!1!==r.write.enabled&&(1===b||d.isCollection(c)?r.write.writer=g:r.write.writer=1<b?a(b):h)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(n,b){function m(b){switch(b){case "defaults":return h.DEFAULTS;case "service":return h.SERVICE;case "portal-item":return h.PORTAL_ITEM;case "web-scene":return h.WEB_SCENE;case "web-map":return h.WEB_MAP;case "user":return h.USER}}function d(b){switch(b){case h.DEFAULTS:return"defaults";case h.SERVICE:return"service";case h.PORTAL_ITEM:return"portal-item";case h.WEB_SCENE:return"web-scene";case h.WEB_MAP:return"web-map";case h.USER:return"user"}}Object.defineProperty(b,"__esModule",
{value:!0});var h;(function(b){b[b.DEFAULTS=0]="DEFAULTS";b[b.COMPUTED=1]="COMPUTED";b[b.SERVICE=2]="SERVICE";b[b.PORTAL_ITEM=3]="PORTAL_ITEM";b[b.WEB_SCENE=4]="WEB_SCENE";b[b.WEB_MAP=5]="WEB_MAP";b[b.USER=6]="USER";b[b.NUM=7]="NUM"})(h=b.OriginId||(b.OriginId={}));b.nameToId=m;b.idToName=d;b.readableNameToId=function(b){return m(b)};b.idToReadableName=function(b){return d(b)};b.writableNameToId=function(b){return m(b)};b.idToWritableName=function(b){return d(b)}})},"esri/core/accessorSupport/Store":function(){define(["require",
"exports","./PropertyOrigin"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});n=function(){function b(){this._values={}}b.prototype.get=function(b){return this._values[b]};b.prototype.originOf=function(b){return m.OriginId.USER};b.prototype.keys=function(){return Object.keys(this._values)};b.prototype.set=function(b,d){this._values[b]=d};b.prototype.clear=function(b){delete this._values[b]};b.prototype.has=function(b){return b in this._values};return b}();b.default=n})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(n,b,m,d,h,f,g){function c(a,c){return function(b){b=+a(b);null!=c.min&&(b=Math.max(c.min,b));null!=c.max&&(b=Math.min(c.max,b));return b}}Object.defineProperty(b,"__esModule",{value:!0});b.processPrototype=function(a){var b=a.declaredClass,l=a.properties||{},k;for(k in l){var g=l[k],p=typeof g;null==g?h.setPropertyMetadata(a,k,{value:g}):Array.isArray(g)?h.setPropertyMetadata(a,k,{type:[g[0]],value:null}):"object"===p?f.getProperties(g)||g instanceof Date?h.setPropertyMetadata(a,k,{type:g.constructor,
value:g}):h.setPropertyMetadata(a,k,g):"boolean"===p?h.setPropertyMetadata(a,k,{type:Boolean,value:g}):"string"===p?h.setPropertyMetadata(a,k,{type:String,value:g}):"number"===p?h.setPropertyMetadata(a,k,{type:Number,value:g}):"function"===p&&h.setPropertyMetadata(a,k,{type:g,value:null})}a=h.getPropertiesMetadata(a);for(k in a){l=a[k];p=l.type;g=l.types;if(!l.cast)if(p){for(var g=l,q=0,t=p;Array.isArray(t)&&1===t.length&&"string"!==typeof t[0]&&"number"!==typeof t[0];)t=t[0],q++;p=m.isOneOf(t)?0===
q?m.ensureOneOf(t):m.ensureNArrayTyped(m.ensureOneOf(t),q):1===q?m.ensureArray(t):1<q?m.ensureNArray(t,q):m.ensureType(p);g.cast=p}else g&&(Array.isArray(g)?l.cast=m.ensureArrayTyped(m.ensureOneOfType(g[0])):l.cast=m.ensureOneOfType(g));l.range&&(l.cast=c(l.cast,l.range))}d.processPrototypeMetadatas(a,b);return a};b.processClass=function(a){for(var c=a.prototype,b=c.declaredClass,k=a._meta.bases,r={},p=k.length-1;0<=p;p--)h.merge(r,h.getMetadata(k[p].prototype));var q=r.properties;d.processClassMetadatas(q,
b);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:q,autoDestroy:!!r.autoDestroy}});for(var f={},b=function(a){var c=q[a];f[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):c.value},set:function(b){var e=this.__accessor__;if(!e)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b});else if(!Object.isFrozen(this)){if(e.initialized&&c.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+
a+"' of "+this.declaredClass);if(2===e.lifecycle&&c.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);e.set(a,b)}}}},k=0,p=Object.getOwnPropertyNames(q);k<p.length;k++)b(p[k]);Object.defineProperties(a.prototype,f);if(r.parameters)for(a=0,b=Object.getOwnPropertyNames(r.parameters);a<b.length;a++)k=b[a],p=Object.getOwnPropertyDescriptor(c,k)||{value:c[k]},(p=g.autocastMethod(c,k,p))&&Object.defineProperty(c,k,p);return r}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),
function(n,b,m,d,h,f,g,c,a){function e(a){v.has(a)?w.splice(w.indexOf(a),1):v.add(a);w.push(a);C||(C=f.schedule(k))}function l(a){if(!a.removed){var c=a.callback,b=a.path,e=a.oldValue,l=a.target,k=g.valueOf(l,a.propertyPath,!0);d.equals(e,k)||(a.oldValue=k,c.call(l,k,e,b,l))}}function k(){if(C){C=null;var a=w;w=u.acquire();v.clear();for(var c=u.acquire(),b=0;b<a.length;b++){var e=a[b];l(e);e.removed&&c.push(e)}for(b=0;b<w.length;b++)e=w[b],e.removed&&(c.push(e),v.delete(e),w.splice(b,1),--b);for(b=
0;b<c.length;b++)t.pool.release(c[b]);u.release(a);u.release(c);x.forEach(function(a){return a()})}}function r(b,d,l){var k=c.parse(b,d,l,function(b,d,l){var p=g.valueOf(b,d,!0),q,r=a.wire(b,d,function(a,c){a.__accessor__.destroyed?k.remove():(q||(q=t.pool.acquire(a,c,p,l),p=null),e(q))});return{remove:c.once(function(){r.remove();q&&(q.removed=!0,e(q),q=null);k=r=p=null})}});return k}function p(b,e,l){var k=c.parse(b,e,l,function(c,b,e){var l=g.valueOf(c,b,!0),q=!1;return a.wire(c,b,function(a,c){if(a.__accessor__.destroyed)k.remove();
else if(!q){q=!0;var b=g.valueOf(a,c,!0);d.equals(l,b)||e.call(a,b,l,c,a);l=g.valueOf(a,c,!0);q=!1}})});return k}function q(a,c,b,e){void 0===e&&(e=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:e?p(a,c,b):r(a,c,b)}Object.defineProperty(b,"__esModule",{value:!0});var t=function(){function a(a,b,e,d){this.target=a;this.path=b;this.oldValue=e;this.callback=d;this.removed=!1;this.propertyPath=c.pathToStringOrArray(b)}a.prototype.release=function(){this.target=this.path=this.propertyPath=
this.callback=this.oldValue=null;this.removed=!0};a.pool=new h.ReentrantObjectPool(a,!0);return a}(),u=new m,v=new Set,w=u.acquire(),C;b.dispatchTarget=function(a){for(var c=u.copy(w),b=0;b<c.length;b++){var e=c[b];e.target===a&&(l(e),v.delete(e),w.splice(w.indexOf(e),1))}};b.removeTarget=function(a){for(var c=0;c<w.length;c++){var b=w[c];b.target===a&&(b.removed=!0)}};b.dispatch=k;var x=new Set;b.afterDispatch=function(a){x.add(a);return{remove:function(){x.delete(a)}}};b.watch=q;b.isValueInUse=
function(a){return w.some(function(c){return c.oldValue===a})};b.default=q})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(n,b,m,d){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d._set=new Set;return d}m(d,b);d.prototype.destroy=function(){b.prototype.destroy.call(this);this._set=null};d.prototype.acquire=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=
arguments[c];d=b.prototype.acquire.apply(this,d);this._set.delete(d);return d};d.prototype.release=function(d){d&&!this._set.has(d)&&(b.prototype.release.call(this,d),this._set.add(d))};d.prototype._dispose=function(d){this._set.delete(d);b.prototype._dispose.call(this,d)};return d}(d);b.ReentrantObjectPool=n})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(n,b,m,d,h){function f(a){void 0===a&&(a=b.now());b.debug.rafId=null;
0<w.length&&(b.debug.rafId=g());0<r&&(q=Math.min(a-r,q));b.debug.executeFrameTasks(a)}function g(){return b.debug.requestNextFrame?b.debug.requestNextFrame(e):e()}function c(){for(var a=0;a<w.length;){var c=w[a];a++;if(c.removed){w.splice(a-1,1);for(var b=0;b<u.length;b++){var e=u[b];if(c.phases[e]){var e=C[e],d=e.indexOf(c);-1!==d&&e.splice(d,1)}}}}}function a(){for(;v.length;){var a=v.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function e(){return h(f)}Object.defineProperty(b,
"__esModule",{value:!0});b.now=d;var l=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),k=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),r=-1,p=0,q=Number.POSITIVE_INFINITY,t={time:0,deltaTime:0,tickTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},u=["prepare","preRender","render","postRender","update"],v=[],w=[],C={prepare:[],preRender:[],
render:[],postRender:[],update:[]},x=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=b.now())};a.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return a}();b.FrameTaskHandle=x;b.debug={frameTasks:w,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===
a&&(a=!1);for(var b=0;b<w.length;b++)w[b].removed=!0;a&&c()},dispatch:a,executeFrameTasks:function(a){void 0===a&&(a=b.now());0>r&&(r=a);var e=a-r,d=0<p?p:q,l=Math.max(0,e-d);r=a;for(var k=0;k<w.length;k++){var g=w[k];-1!==g.epoch&&(g.dt=e)}for(k=0;k<u.length;k++)for(var e=u[k],f=C[e],h=0;h<f.length;h++)g=f[(h+y)%f.length],g.paused||g.removed||(0===k&&g.ticks++,-1===g.epoch&&(g.epoch=a),t.time=a,t.deltaTime=g.dt,t.tickTime=Math.min(q,33),t.elapsedFrameTime=b.now()-a,t.frameDuration=d-l,t.spendInTask=
a-g.epoch,g.phases[e].call(g,t));c();++y}};b.schedule=function(c){c=new k(c);v.push(c);b.debug.willDispatch||(b.debug.willDispatch=!0,m(a));return c};b.addFrameTask=function(a){var c=new l(a);w.push(c);for(var e=0,d=u;e<d.length;e++){var k=d[e];a[k]&&C[k].push(c)}b.debug.rafId||(r=-1,b.debug.rafId=g());return new x(c)};b.setFrameDuration=function(a){p=Math.max(0,a)};var y=0;b.requestNextFrame=g})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(n,
b,m,d){var h=d();n=m.requestAnimationFrame;if(!n){b=["ms","moz","webkit","o"];for(var f=0;f<b.length&&!n;++f)n=m[b[f]+"RequestAnimationFrame"];n||(n=function(b){var c=d(),a=Math.max(0,16-(c-h)),e=m.setTimeout(function(){b(d())},a);h=c+a;return e})}return n})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(n,b,m,d,h,f){function g(a,b,l){void 0===l&&(l=c);if(b&&"object"===typeof b){for(var e=
h.getProperties(a),g=e.metadatas,p={},q=0,t=Object.getOwnPropertyNames(b);q<t.length;q++){var u=p,v=g,m=t[q],n=b,x=l,y=f.originSpecificReadPropertyDefinition(v[m],x);y&&(!y.read||!1!==y.read.enabled&&!y.read.source)&&(u[m]=!0);for(var z=0,A=Object.getOwnPropertyNames(v);z<A.length;z++){var E=A[z],y=f.originSpecificReadPropertyDefinition(v[E],x),D;a:{D=m;var B=n;if(y&&y.read&&!1!==y.read.enabled&&y.read.source)if(y=y.read.source,"string"===typeof y){if(y===D||-1<y.indexOf(".")&&0===y.indexOf(D)&&d.exists(y,
B)){D=!0;break a}}else for(var J=0;J<y.length;J++){var F=y[J];if(F===D||-1<F.indexOf(".")&&0===F.indexOf(D)&&d.exists(F,B)){D=!0;break a}}D=!1}D&&(u[E]=!0)}}e.setDefaultOrigin(l.origin);t=0;for(u=Object.getOwnPropertyNames(p);t<u.length;t++)q=u[t],m=(v=f.originSpecificReadPropertyDefinition(g[q],l).read)&&v.source,n=void 0,n=m&&"string"===typeof m?d.valueOf(b,m):b[q],v&&v.reader&&(n=v.reader.call(a,n,b,l)),void 0!==n&&e.set(q,n);if(!l||!l.ignoreDefaults)for(b=0,g=Object.getOwnPropertyNames(g);b<g.length;b++)q=
g[b],p[q]||(t=a,u=e,v=l,m=(m=f.originSpecificReadPropertyDefinition(u.metadatas[q],v))&&m.default,void 0!==m&&(t="function"===typeof m?m.call(t,q,v):m,void 0!==t&&u.set(q,t)));e.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var c={origin:"service"};b.read=g;b.readLoadable=function(a,b,d,k){void 0===k&&(k=c);b=m({},k,{messages:[]});d(b);b.messages.forEach(function(c){"warning"!==c.type||a.loaded?k&&k.messages.push(c):a.loadWarnings.push(c)})};b.default=g})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(n,b,m,d,h,f,g,c){function a(a,c,b,e,g,h){if(!e||!e.write)return!1;var k=a.get(b);if(!g&&e.write.overridePolicy){var q=e.write.overridePolicy.call(a,k,b,h);void 0!==q&&(g=q)}g||(g=e.write);if(!g||!1===g.enabled)return!1;if((null===k&&!g.allowNull||void 0===k)&&g.isRequired)return(k=new d("web-document-write:property-required","Missing value for required property '"+b+"' on '"+a.declaredClass+"'",{propertyName:b,target:a}),h)&&h.messages?h.messages.push(k):k&&!h&&l.error(k.name,k.message),
!1;if(void 0===k||null===k&&!g.allowNull||!g.ignoreOrigin&&h&&h.origin&&c.store.originOf(b)<f.nameToId(h.origin))return!1;c=e.default;void 0===c?h=!1:"function"===typeof c?Array.isArray(k)?(h=c.call(a,b,h),h=m.equals(h,k)):h=!1:h=c===k;return h?!1:!0}function e(b,e,d){if(b&&"function"===typeof b.toJSON&&(!b.toJSON.isDefaultToJSON||!b.write))return g.merge(e,b.toJSON());var l=g.getProperties(b),k=l.metadatas,p;for(p in k){var r=c.originSpecificWritePropertyDefinition(k[p],d);if(a(b,l,p,r,null,d)){var h=
b.get(p),m={};r.write.writer.call(b,h,m,"string"===typeof r.write.target?r.write.target:p,d);r=m;0<Object.keys(r).length&&(e=g.merge(e,r),d&&d.writtenProperties&&d.writtenProperties.push({target:b,propName:p,oldOrigin:f.idToReadableName(l.store.originOf(p)),newOrigin:d.origin}))}}return e}Object.defineProperty(b,"__esModule",{value:!0});var l=h.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(b,e,d,l){var k=g.getProperties(b),q=c.originSpecificWritePropertyDefinition(k.metadatas[e],
l);return q?a(b,k,e,q,d,l):!1};b.write=e;b.default=e})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(n,b,m,d){function h(a,b){return-1===a.indexOf(b)}function f(a,b,c){return!a.some(b.bind(null,c))}function g(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.find=m.find;b.findIndex=m.findIndex;b.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};b.equals=function(a,b,c){if(!a&&!b)return!0;
if(!a||!b||a.length!==b.length)return!1;if(c)for(var e=0;e<a.length;e++){if(!c(a[e],b[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==b[e])return!1;return!0};b.difference=function(a,b,c){var e;c?(e=b.filter(f.bind(null,a,c)),a=a.filter(f.bind(null,b,c))):(e=b.filter(h.bind(null,a)),a=a.filter(h.bind(null,b)));return{added:e,removed:a}};b.intersect=function(a,b,c){return a&&b?c?a.filter(function(a){return-1<m.findIndex(b,function(b){return c(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):
[]};b.constant=function(a,b){for(var c=Array(a),e=0;e<a;e++)c[e]=b;return c};b.range=function(a,b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),e=a;e<b;e++)c[e-a]=e;return c};b.binaryIndexOf=function(a,b,c){for(var e=a.length,d=0,l=e-1;d<l;){var k=d+Math.floor((l-d)/2);b>a[k]?d=k+1:l=k}l=a[d];return c?b>=a[e-1]?-1:l===b?d:d-1:l===b?d:-1};b.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};n=function(){return function(){this.last=0}}();b.RemoveHint=n;var c=new n;b.removeUnordered=
function(a,b,e,d){d=d||c;for(var l=null==e?a.length:e,k=Math.max(0,d.last-10),g=-1,p=k;p<l;++p)if(a[p]===b){g=p;break}if(-1===g){for(p=0;p<k;++p)if(a[p]===b){g=p;break}if(-1===g)return}a[g]=a[l-1];null==e&&a.pop();d.last=g;return b};var a=new Set;b.removeUnorderedMany=function(b,e,d,g,q,f){void 0===d&&(d=b.length);void 0===g&&(g=e.length);if(0===g||0===d)return d;a.clear();for(var k=0;k<g;++k)a.add(e[k]);q=q||c;for(k=e=Math.max(0,q.last-10);k<d;++k)if(a.has(b[k])&&(f&&f.push(b[k]),a.delete(b[k]),
b[k]=b[d-1],--d,--k,0===a.size||0===d))return a.clear(),d;for(k=0;k<e;++k)if(a.has(b[k])&&(f&&f.push(b[k]),a.delete(b[k]),b[k]=b[d-1],--d,--k,0===a.size||0===d))return a.clear(),d;a.clear();return d};b.shuffle=function(a,b){b=(e.seed=b)?function(){return e.getFloat()}:Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),k=a[c];a[c]=a[d];a[d]=k}return a};var e=new d;b.keysOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b};b.keysOfSet=function(a,b){void 0===
b&&(b=g);var c=[];a.forEach(function(a){return c.push(b(a))});return c};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(n,b){return function(){function b(b){void 0===b&&(b=1);this._seed=b}Object.defineProperty(b.prototype,"seed",{set:function(d){this._seed=null==d?Math.random()*b._m:d},enumerable:!0,configurable:!0});b.prototype.getInt=
function(){return this._seed=(b._a*this._seed+b._c)%b._m};b.prototype.getFloat=function(){return this.getInt()/(b._m-1)};b.prototype.getIntRange=function(b,h){return Math.round(this.getFloatRange(b,h))};b.prototype.getFloatRange=function(d,h){h-=d;var f=this.getInt()/b._m;return d+Math.floor(f*h)};b._m=2147483647;b._a=48271;b._c=0;return b}()})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(n,b,m,d,h,f,g){n=function(b){function a(a){a=b.call(this)||this;a.latestWkid=null;a.wkid=null;a.wkt=null;return a}m(a,b);c=a;a.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===a.wkid)return c.WGS84}var b=new c;b.read(a);return b};a.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(a.prototype,"isWGS84",{get:function(){return g.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isWebMercator",{get:function(){return g.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isGeographic",{get:function(){return g.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isWrappable",{get:function(){return g.isWrappable(this)},enumerable:!0,configurable:!0});a.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};a.prototype.clone=function(){if(this===
c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};a.prototype.equals=function(a){return g.equals(this,a)};a.prototype.toJSON=function(a){return this.write(null,a)};var c;a.GCS_NAD_1927=null;a.WGS84=null;a.WebMercator=null;d([f.property({dependsOn:["wkid"],
readOnly:!0})],a.prototype,"isWGS84",null);d([f.property({dependsOn:["wkid"],readOnly:!0})],a.prototype,"isWebMercator",null);d([f.property({dependsOn:["wkid","wkt"],readOnly:!0})],a.prototype,"isGeographic",null);d([f.property({dependsOn:["wkid"],readOnly:!0})],a.prototype,"isWrappable",null);d([f.property({type:Number,json:{write:!0}})],a.prototype,"latestWkid",void 0);d([f.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?
!0:!1}}}}}}})],a.prototype,"wkid",void 0);d([f.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],a.prototype,"wkt",void 0);d([f.writer("wkt"),f.writer("web-scene","wkt")],a.prototype,"writeWkt",null);d([f.property({type:Number,json:{write:!0}})],a.prototype,"vcsWkid",void 0);d([f.property({type:Number,json:{write:!0}})],a.prototype,"latestVcsWkid",void 0);return a=c=d([f.subclass("esri.geometry.SpatialReference")],
a)}(f.declared(h));n.prototype.toJSON.isDefaultToJSON=!0;n.GCS_NAD_1927=new n({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});n.WGS84=new n(g.WGS84);n.WebMercator=new n(g.WebMercator);Object.freeze&&(Object.freeze(n.GCS_NAD_1927),Object.freeze(n.WGS84),Object.freeze(n.WebMercator));return n})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","../../core/lang","./WKIDUnitConversion"],function(n,b,m,d){function h(a){return g(a)&&a.wkid?l[a.wkid]:null}function f(a){return g(a)&&!0===c[a.wkid]}function g(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var c={102113:!0,102100:!0,3857:!0,3785:!0},a={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};n=[-2.0037508342788905E7,2.0037508342788905E7];var e=[-2.0037508342787E7,2.0037508342787E7],l={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:n,origin:e,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:n,origin:e,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:n,origin:e,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:n,origin:e,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||f(a)&&f(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};b.getInfo=h;b.isGeographic=function(a){return g(a)?a.wkid?null==d[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return g(a)&&4326===a.wkid};b.isWebMercator=f;b.isWrappable=function(b){return g(b)&&
!0===a[b.wkid]};b.isValid=g;b.WGS84={wkid:4326,wkt:m.substitute({Central_Meridian:"0.0"},h({wkid:4326}).wkTemplate)};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(n,
b,m,d,h,f,g,c,a,e,l,k){function r(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var p=[0,0],q=h.getLogger("esri.geometry.Point");n=function(b){function c(a,c,e,d,g){a=b.call(this)||this;a.x=0;a.y=0;a.z=void 0;a.m=void 0;a.type="point";return a}m(c,b);h=c;c.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};c.distance=
function(a,b){var c=a.x-b.x,e=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+e*e+a*a)};c.prototype.normalizeCtorArgs=function(b,c,e,d,g){var l;if(Array.isArray(b))l=b,g=c,b=l[0],c=l[1],e=l[2],d=l[3];else if(b&&"object"===typeof b){if(l=b,b=null!=l.x?l.x:l.longitude,c=null!=l.y?l.y:l.latitude,e=null!=l.z?l.z:l.altitude,d=l.m,(g=l.spatialReference)&&"esri.geometry.SpatialReference"!==g.declaredClass&&(g=new a(g)),null!=l.longitude||null!=l.latitude)null==l.longitude?q.warn(".longitude\x3d",
"Latitude was defined without longitude"):null==l.latitude?q.warn(".latitude\x3d","Longitude was defined without latitude"):!l.declaredClass&&g&&g.isWebMercator&&(c=k.lngLatToXY(l.longitude,l.latitude,p),b=c[0],c=c[1])}else r(e)?(g=e,e=null):r(d)&&(g=d,d=null);b={x:b,y:c};null==b.x&&null!=b.y?q.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==b.y&&null!=b.x&&q.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=g&&(b.spatialReference=g);null!=e&&(b.z=e);null!=
d&&(b.m=d);return b};Object.defineProperty(c.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return k.xyToLngLat(this.x,this.y,p)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",k.lngLatToXY(this.x,a,p)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return k.xyToLngLat(this._get("x"),this._get("y"),p)[0];if(a.isWGS84)return this._get("x")}return null},
set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",k.lngLatToXY(a,this._get("y"),p)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});c.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};c.prototype.readX=function(a){return"string"===typeof a?NaN:a};c.prototype.clone=function(){var a=new h;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};c.prototype.copy=function(a){h.copy(a,
this);return this};c.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,e=this.y,d=this.z,g=this.m,l=this.spatialReference,q=a.z,p=a.m,f=a.x;b=a.y;a=a.spatialReference;if(!l.equals(a))if(l.isWebMercator&&a.isWGS84)b=k.lngLatToXY(f,b),f=b[0],b=b[1],a=l;else if(l.isWGS84&&a.isWebMercator)b=k.xyToLngLat(f,b),f=b[0],b=b[1],a=l;else return!1;return c===f&&e===b&&d===q&&g===p&&l.wkid===a.wkid};c.prototype.offset=function(a,b,c){return e.offsetPoint(this,a,b,c)};c.prototype.normalize=function(){if(!this.spatialReference)return this;
var a=l.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],e=c[1],c=2*e;b>e?(a=Math.ceil(Math.abs(b-e)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};c.prototype.distance=function(a){return h.distance(this,a)};c.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};c.prototype.toJSON=function(a){return this.write(null,a)};
var h;d([f.property({dependsOn:["x","y","z","m","spatialReference"]})],c.prototype,"cache",void 0);d([f.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);d([f.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);d([f.property({type:Number,dependsOn:["y"]})],c.prototype,"latitude",null);d([f.property({type:Number,dependsOn:["x"]})],c.prototype,"longitude",null);
d([f.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),f.cast(function(a){return isNaN(a)?a:g.ensureNumber(a)})],c.prototype,"x",void 0);d([f.writer("x")],c.prototype,"writeX",null);d([f.reader("x")],c.prototype,"readX",null);d([f.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);d([f.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);d([f.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],
c.prototype,"m",void 0);return c=h=d([f.subclass("esri.geometry.Point")],c)}(f.declared(c));n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/geometry/support/offset":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(b,d,h,f){b.x+=d;b.y+=h;null!=f&&null!=b.z&&(b.z+=f);return b};b.offsetCoordsX=function(b,d){b[0]+=d;return b}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),
function(n,b,m,d,h,f){function g(a,b,c,e,d){var g;if("x"in a&&"x"in d)b=b(a.x,a.y,k,e),d.x=b[0],d.y=b[1];else if("xmin"in a&&"xmin"in d)g=b(a.xmin,a.ymin,k,e),d.xmin=g[0],d.ymin=g[1],b=b(a.xmax,a.ymax,k,e),d.xmax=b[0],d.ymax=b[1];else if("paths"in a&&"paths"in d||"rings"in a&&"rings"in d){g="paths"in a?a.paths:a.rings;var l=[],q=void 0;for(a=0;a<g.length;a++){var p=g[a],q=[];l.push(q);for(var f=0;f<p.length;f++)q.push(b(p[f][0],p[f][1],[0,0],e)),2<p[f].length&&q[f].push(p[f][2]),3<p[f].length&&q[f].push(p[f][3])}"paths"in
d?d.paths=l:d.rings=l}else if("points"in a&&"points"in d){g=a.points;l=[];for(a=0;a<g.length;a++)l[a]=b(g[a][0],g[a][1],[0,0],e),2<g[a].length&&l[a].push(g[a][2]),3<g[a].length&&l[a].push(g[a][3]);d.points=l}else if("type"in a&&"mesh"===a.type&&"type"in d&&"mesh"===d.type&&(g=a.vertexAttributes&&a.vertexAttributes.position,l=d.vertexAttributes&&d.vertexAttributes.position,g))for(q=[0,0],a=0;a<g.length;a+=3)b(g[a],g[a+1],q,e),l[a]=q[0],l[a+1]=q[1];d.spatialReference=c;return d}function c(a,b){a=a&&
(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?f.equals(b,a)?!0:f.isWebMercator(b)&&f.isWGS84(a)||f.isWebMercator(a)&&f.isWGS84(b):!1}function a(a,b,c){void 0===c&&(c=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;c[0]=.017453292519943*a*l;c[1]=.5*l*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function e(a,b,c,e){void 0===c&&(c=[0,0]);void 0===e&&(e=!1);a=a/l*57.29577951308232;c[0]=e?a:a-360*Math.floor((a+
180)/360);c[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/l)));return c}Object.defineProperty(b,"__esModule",{value:!0});var l=d.wgs84Radius,k=[0,0];b.canProject=c;b.project=function(b,d){var l=b&&b.spatialReference;d=d&&(null!=d.wkid||null!=d.wkt?d:d.spatialReference);return c(l,d)?f.equals(l,d)?m.clone(b):f.isWebMercator(d)?g(b,a,h.WebMercator,!1,m.clone(b)):f.isWGS84(d)?g(b,e,h.WGS84,!1,m.clone(b)):null:null};b.lngLatToXY=a;b.xyToLngLat=e;b.geographicToWebMercator=function(b,c,e){void 0===
c&&(c=!1);void 0===e&&(e=m.clone(b));return g(b,a,h.WebMercator,c,e)};b.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=m.clone(a));return g(a,e,h.WGS84,b,c)}})},"esri/geometry/support/contains":function(){define(["require","exports"],function(n,b){function m(b,a){return d(b,a[0],a[1])}function d(b,a,e,d){return a>=b.xmin&&a<=b.xmax&&e>=b.ymin&&e<=b.ymax?null!=d&&b.hasZ?d>=b.zmin&&d<=b.zmax:!0:!1}function h(b,a){if(b=b.rings)if(Array.isArray(b[0][0])){for(var c=!1,d=0,g=
b.length;d<g;d++)c=f(c,b[d],a);a=c}else a=f(!1,b,a);else a=!1;return a}function f(b,a,e){var c=e[0];e=e[1];for(var d=0,g=0,f=a.length;g<f;g++){d++;d===f&&(d=0);var q=a[g],h=q[0],q=q[1],u=a[d],m=u[0],u=u[1];(q<e&&u>=e||u<e&&q>=e)&&h+(e-q)/(u-q)*(m-h)<c&&(b=!b)}return b}Object.defineProperty(b,"__esModule",{value:!0});var g=[0,0];b.extentContainsPoint=function(b,a){return d(b,a.x,a.y,a.z)};b.extentContainsMultipoint=function(b,a){if(!a.points||a.points.length)return!1;var c=0;for(a=a.points;c<a.length;c++)if(!m(b,
a[c]))return!1;return!0};b.extentContainsExtent=function(b,a){var c=a.xmin,g=a.ymin,k=a.zmin,f=a.xmax,p=a.ymax,q=a.zmax;return b.hasZ&&a.hasZ?d(b,c,g,k)&&d(b,c,p,k)&&d(b,f,p,k)&&d(b,f,g,k)&&d(b,c,g,q)&&d(b,c,p,q)&&d(b,f,p,q)&&d(b,f,g,q):d(b,c,g)&&d(b,c,p)&&d(b,f,p)&&d(b,f,g)};b.extentContainsCoords2D=m;b.extentContainsCoords3D=function(b,a){return d(b,a[0],a[1],a[2])};b.polygonContainsPoint=function(b,a){g[1]=a.y;g[0]=a.x;return h(b,g)};b.polygonContainsCoords=h})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(n,b,m){function d(a,b){return m.extentContainsPoint(a,b)}function h(a,b){var c=a.hasZ&&b.hasZ,e;if(a.xmin<=b.xmin){if(e=b.xmin,a.xmax<e)return!1}else if(e=a.xmin,b.xmax<e)return!1;if(a.ymin<=b.ymin){if(e=b.ymin,a.ymax<e)return!1}else if(e=a.ymin,b.ymax<e)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function f(a,b){var c=b.hasZ?m.extentContainsCoords3D:m.extentContainsCoords2D,e=0;for(b=b.points;e<
b.length;e++)if(c(a,b[e]))return!0;return!1}function g(b,c){l[0]=b.xmin;l[1]=b.ymax;k[0]=b.xmax;k[1]=b.ymax;r[0]=b.xmin;r[1]=b.ymin;p[0]=b.xmax;p[1]=b.ymin;for(var e=0,d=q;e<d.length;e++)if(m.polygonContainsCoords(c,d[e]))return!0;e=0;for(c=c.rings;e<c.length;e++)if(d=c[e],d.length){var g=d[0];if(m.extentContainsCoords2D(b,g))return!0;for(var f=1;f<d.length;f++){var h=d[f];if(m.extentContainsCoords2D(b,h)||a(g,h,t))return!0;g=h}}return!1}function c(b,c){l[0]=b.xmin;l[1]=b.ymax;k[0]=b.xmax;k[1]=b.ymax;
r[0]=b.xmin;r[1]=b.ymin;p[0]=b.xmax;p[1]=b.ymin;c=c.paths;for(var e=0;e<c.length;e++){var d=c[e];if(c.length){var g=d[0];if(m.extentContainsCoords2D(b,g))return!0;for(var q=1;q<d.length;q++){var f=d[q];if(m.extentContainsCoords2D(b,f)||a(g,f,t))return!0;g=f}}}return!1}function a(a,b,c){for(var d=0;d<c.length;d++)if(e(a,b,c[d][0],c[d][1]))return!0;return!1}function e(a,b,c,e,d){var g=a[0];a=a[1];var l=b[0];b=b[1];var k=c[0],q=c[1];c=e[0]-k;var k=g-k,f=l-g;e=e[1]-q;var q=a-q,p=b-a,h=e*f-c*p;if(0===
h)return!1;c=(c*q-e*k)/h;k=(f*q-p*k)/h;return 0<=c&&1>=c&&0<=k&&1>=k?(d&&(d[0]=g+c*(l-g),d[1]=a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=d;b.extentIntersectsExtent=h;b.extentIntersectsMultipoint=f;var l=[0,0],k=[0,0],r=[0,0],p=[0,0],q=[l,k,r,p],t=[[r,l],[l,k],[k,p],[p,r]];b.extentIntersectsPolygon=g;b.extentIntersectsPolyline=c;var u=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.length-1;d++)for(var g=c[d],
l=c[d+1],k=b+1;k<a.length;k++)for(var q=0;q<a[k].length-1;q++){var f=a[k][q],p=a[k][q+1],h=e(g,l,f,p,u);if(h&&!(u[0]===g[0]&&u[1]===g[1]||u[0]===f[0]&&u[1]===f[1]||u[0]===l[0]&&u[1]===l[1]||u[0]===p[0]&&u[1]===p[1]))return!0}q=c.length;if(!(4>=q))for(d=0;d<q-3;d++){var r=q-1;0===d&&(r=q-2);g=c[d];l=c[d+1];for(k=d+2;k<r;k++)if(f=c[k],p=c[k+1],(h=e(g,l,f,p,u))&&!(u[0]===g[0]&&u[1]===g[1]||u[0]===f[0]&&u[1]===f[1]||u[0]===l[0]&&u[1]===l[1]||u[0]===p[0]&&u[1]===p[1]))return!0}}return!1};b.segmentIntersects=
e;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return h;case "esriGeometryMultipoint":case "multipoint":return f;case "esriGeometryPoint":case "point":return d;case "esriGeometryPolygon":case "polygon":return g;case "esriGeometryPolyline":case "polyline":return c;case "mesh":return h}}})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e){function l(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}n=function(b){function c(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.points=[];a.type="multipoint";return a}m(c,b);k=c;c.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(c.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new g,c=this.hasZ,e=this.hasM,d=c?3:2,k=a[0],f=l(Math.min),p=l(Math.max),h=k[0],r=k[1],m=k[0],k=k[1],n,B,J,F,K=0,G=a.length;K<G;K++){var H=
a[K],I=H[0],L=H[1],h=f(h,I),r=f(r,L),m=p(m,I),k=p(k,L);c&&2<H.length&&(I=H[2],n=f(n,I),J=p(J,I));e&&H.length>d&&(H=H[d],B=f(B,H),F=p(F,H))}b.xmin=h;b.ymin=r;b.xmax=m;b.ymax=k;b.spatialReference=this.spatialReference;c?(b.zmin=n,b.zmax=J):(b.zmin=null,b.zmax=null);e?(b.mmin=B,b.mmax=F):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});c.prototype.writePoints=function(a,b,c,e){b.points=h.clone(this.points)};c.prototype.addPoint=function(a){this.clearCache();e.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};c.prototype.clone=function(){var a={points:h.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new k(a)};c.prototype.getPoint=function(b){if(!this._validateInputs(b))return null;b=this.points[b];var c={x:b[0],y:b[1],spatialReference:this.spatialReference},e=2;this.hasZ&&(c.z=b[2],e=3);this.hasM&&(c.m=b[e]);return new a(c)};c.prototype.removePoint=function(b){if(!this._validateInputs(b))return null;
this.clearCache();return new a(this.points.splice(b,1)[0],this.spatialReference)};c.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();e.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};c.prototype.toJSON=function(a){return this.write(null,a)};c.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var k;d([f.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],c.prototype,"cache",void 0);d([f.property({dependsOn:["cache"]})],
c.prototype,"extent",null);d([f.property({type:[[Number]],json:{write:{isRequired:!0}}})],c.prototype,"points",void 0);d([f.writer("points")],c.prototype,"writePoints",null);return c=k=d([f.subclass("esri.geometry.Multipoint")],c)}(f.declared(c));n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=function(b,d,h){void 0===h&&(h=!1);var f=b.hasM,
g=b.hasZ;Array.isArray(d)?4!==d.length||f||g?3===d.length&&h&&!f?(g=!0,f=!1):3===d.length&&f&&g&&(g=f=!1):g=f=!0:(g=!g&&d.hasZ&&(!f||d.hasM),f=!f&&d.hasM&&(!g||d.hasZ));b.hasZ=g;b.hasM=f}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u,v){n=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}m(b,a);n=b;b.createEllipse=function(a){var b=a.center.x,c=a.center.y,e=a.center.z,d=a.center.m,g=a.center.hasZ,l=a.center.hasM,k=a.longAxis,q=a.shortAxis,p=a.numberOfPoints;a=a.view;for(var h=[],r=2*Math.PI/p,t=g?3:2,m=0;m<p;m++){var u=a.toMap(f.createScreenPoint(k*Math.cos(m*r)+b,q*Math.sin(m*r)+c)),u=[u.x,u.y];g&&(u[2]=e);l&&(u[t]=
d);h.push(u)}h.push(h[0]);return new n({rings:[h],spatialReference:a.spatialReference})};b.createCircle=function(a){return n.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,e=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(e=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var d=
a.zmin+.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(d);if(e&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);e&&(b.hasM=!0);return new n(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,e,d,g=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,d=a.hasM):c=a;c=c||[];b=b||l.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(g=c[0]&&
c[0][0])void 0===e&&void 0===d?(e=2<g.length,d=!1):void 0===e?e=!d&&3<g.length:void 0===d&&(d=!e&&3<g.length);return{rings:c,spatialReference:b,hasZ:e,hasM:d}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=k.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new e;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=
this.spatialReference,b=new c(q.getPolygonExtent(this));b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return t.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,e){b.rings=h.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=[],d=0,g=a.length;d<g;d++)e[d]=
a[d].toArray();b[c]=e}return this}};b.prototype.clone=function(){var a=new n;a.spatialReference=this.spatialReference;a.rings=h.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;u.canProject(a,this.spatialReference)&&(a=u.project(a,this.spatialReference));return r.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,
a.y]});return p.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new e(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new e(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new e(a[0],a[1],a[2],a[3],this.spatialReference):new e(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();v.updateSupportFromPoint(this,
c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new e(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new e(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,
b))return this;this.clearCache();v.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var n;d([g.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);d([g.property({readOnly:!0,dependsOn:["cache"]})],
b.prototype,"centroid",null);d([g.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);d([g.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);d([g.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);d([g.writer("rings")],b.prototype,"writePaths",null);return b=n=d([g.subclass("esri.geometry.Polygon")],b)}(g.declared(a));n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils","./libs/gl-matrix-2/vec2f64","./libs/gl-matrix-2/vec3f64"],function(n,b,m,d,h){function f(a){return a?72*a/b.DPI:0}function g(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function c(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return d.vec2f64.fromValues(a,b)}function a(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function e(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return d.vec2f64.fromValues(a,b)}function l(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&
(b[2]=0),b):d.vec2f64.fromValues(a.x,a.y)}function k(a){return g(a.x,a.y)}function r(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return g(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});var p=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.DPI=96;b.pt2px=function(a){return a?a/72*b.DPI:0};b.px2pt=f;b.toPt=function(a){if("string"===typeof a){if(p.test(a)){var b=a.match(p),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?f(c):
c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=g;b.createScreenPointArray=c;b.createRenderScreenPoint=a;b.createRenderScreenPointArray=e;b.createRenderScreenPointArray3=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return h.vec3f64.fromValues(a,b,c)};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=
function(b,c,e){var d,g;switch(b.type){case "2d":b=window.devicePixelRatio||1;d=c.x*b;g=c.y*b;break;case "3d":l(c,t),b.state.camera.screenToRender(t,q),d=q[0],g=q[1]}return e?(e.x=d,e.y=g,e):a(d,g)};b.renderToScreen=function(a,b,c){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=b.x/a;d=b.y/a;break;case "3d":l(b,q),a.state.camera.renderToScreen(q,t),e=t[0],d=t[1]}return c?(c.x=e,c.y=d,c):g(e,d)};b.screenArrayToRender=function(a,b,c){var d,g;switch(a.type){case "2d":a=window.devicePixelRatio||
1;d=b[0]*a;g=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,q),d=q[0],g=q[1]}return c?(c[0]=d,c[1]=g,2<c.length&&(c[2]=0),c):e(d,g)};b.renderArrayToScreen=function(a,b,e){var d,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]/a;g=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,t),d=t[0],g=t[1]}return e?(e[0]=d,e[1]=g,e):c(d,g)};b.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};b.screenPointObjectToArray=l;b.createScreenPointFromEvent=
k;b.createScreenPointFromNativeEvent=r;b.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?r(a,b):k(b)};b.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;
default:m.neverReachedSilent(a)}return!1};var q=e(),t=c()})},"esri/core/libs/gl-matrix-2/vec2f64":function(){define(["require","exports","./factories/vec2f64"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.vec2f64=m})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,0]};b.clone=function(b){return[b[0],b[1]]};b.fromValues=function(b,d){return[b,d]};
b.fromArray=function(b){for(var d=[0,0],h=Math.min(2,b.length),f=0;f<h;++f)d[f]=b[f];return d};b.createView=function(b,d){return new Float64Array(b,d,2)}})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f64=m})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(n,b){function m(){return[0,0,0]}Object.defineProperty(b,"__esModule",
{value:!0});b.create=m;b.clone=function(b){return[b[0],b[1],b[2]]};b.fromValues=function(b,h,f){return[b,h,f]};b.fromArray=function(b){for(var d=m(),f=Math.min(3,b.length),g=0;g<f;++g)d[g]=b[g];return d};b.createView=function(b,h){return new Float64Array(b,h,3)}})},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],function(n,b,m){function d(b,c){if(!b||!b.length)return null;for(var a=[],e=[],d=c?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,
-Infinity,Infinity,-Infinity],g=0,r=b.length;g<r;g++){var p=h(b[g],c,d);p&&e.push(p)}e.sort(function(a,b){var e=a[2]-b[2];0===e&&c&&(e=a[4]-b[4]);return e});e.length&&(g=6*e[0][2],a[0]=e[0][0]/g,a[1]=e[0][1]/g,c&&(g=6*e[0][4],a[2]=0!==g?e[0][3]/g:0),a[0]<d[0]||a[0]>d[1]||a[1]<d[2]||a[1]>d[3]||c&&(a[2]<d[4]||a[2]>d[5]))&&(a.length=0);if(!a.length)if(b=b[0]&&b[0].length?f(b[0],c):null)a[0]=b[0],a[1]=b[1],c&&2<b.length&&(a[2]=b[2]);else return null;return a}function h(b,c,a){for(var e=0,d=0,g=0,f=0,
p=0,q=0,h=b.length-1;q<h;q++){var m=b[q],n=m[0],w=m[1],C=m[2],x=b[q+1],y=x[0],z=x[1],A=x[2],E=n*z-y*w,f=f+E,e=e+(n+y)*E,d=d+(w+z)*E;c&&2<m.length&&2<x.length&&(E=n*A-y*C,g+=(C+A)*E,p+=E);n<a[0]&&(a[0]=n);n>a[1]&&(a[1]=n);w<a[2]&&(a[2]=w);w>a[3]&&(a[3]=w);c&&(C<a[4]&&(a[4]=C),C>a[5]&&(a[5]=C))}0<f&&(f*=-1);0<p&&(p*=-1);if(!f)return null;b=[e,d,.5*f];c&&(b[3]=g,b[4]=.5*p);return b}function f(b,c){for(var a=c?[0,0,0]:[0,0],e=c?[0,0,0]:[0,0],d=0,g=0,f=0,p=0,q=0,h=b.length;q<h-1;q++){var n=b[q],v=b[q+
1];if(n&&v){a[0]=n[0];a[1]=n[1];e[0]=v[0];e[1]=v[1];c&&2<n.length&&2<v.length&&(a[2]=n[2],e[2]=v[2]);var w=m.getLength(a,e);w&&(d+=w,n=m.getMidpoint(n,v),g+=w*n[0],f+=w*n[1],c&&2<n.length&&(p+=w*n[2]))}}return 0<d?c?[g/d,f/d,p/d]:[g/d,f/d]:b.length?b[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(b){return b?b.hasZ?[b.xmax-b.xmin/2,b.ymax-b.ymin/2,b.zmax-b.zmin/2]:[b.xmax-b.xmin/2,b.ymax-b.ymin/2]:null};b.polygonCentroid=function(b){return b?d(b.rings,b.hasZ):null};
b.ringsCentroid=d;b.lineCentroid=f})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(n,b,m){function d(b,c){var a=c[0]-b[0],e=c[1]-b[1];return 2<b.length&&2<c.length?(b=b[2]-c[2],Math.sqrt(a*a+e*e+b*b)):Math.sqrt(a*a+e*e)}function h(b,c,a){var e=b[0]+a*(c[0]-b[0]),d=b[1]+a*(c[1]-b[1]);return 2<b.length&&2<c.length?[e,d,b[2]+a*(c[2]-b[2])]:[e,d]}function f(b,c){if(c=m.getInfo(c)){var a=c.valid[0],e=c.valid[1],d=e-a;c=function(b){var c=
Infinity,g=-Infinity;b.forEach(function(b){for(var k=b[0];k<a;)k+=d;for(;k>e;)k-=d;c=Math.min(c,k);g=Math.max(g,k);b[0]=k});var k=g-c;d-k<k&&b.forEach(function(a){0>a[0]&&(a[0]+=d)})};for(var g=0;g<b.length;g++)c(b[g])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(b){if(!b)return null;if(Array.isArray(b))return b;var c=b.hasZ,a=b.hasM;if("point"===b.type)return a&&c?[b.x,b.y,b.z,b.m]:c?[b.x,b.y,b.z]:a?[b.x,b.y,b.m]:[b.x,b.y];if("polygon"===b.type)return b.rings.slice(0);
if("polyline"===b.type)return b.paths.slice(0);if("multipoint"===b.type)return b.points.slice(0);if("extent"===b.type){b=b.clone().normalize();if(!b)return null;var e=!1,d=!1;b.forEach(function(a){a.hasZ&&(e=!0);a.hasM&&(d=!0)});return b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e&&a.hasZ)for(var c=.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(c);if(d&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b})}return null};
b.getLength=d;b.getMidpoint=function(b,c){return h(b,c,.5)};b.getPathLength=function(b){for(var c=b.length,a=0,e=0;e<c-1;++e)a+=d(b[e],b[e+1]);return a};b.getPointOnPath=function(b,c){if(0>=c)return b[0];for(var a=b.length,e=0,g=0;g<a-1;++g){var k=d(b[g],b[g+1]);if(c-e<k)return h(b[g],b[g+1],(c-e)/k);e+=k}return b[a-1]};b.isClockwise=function(b,c,a){for(var e=b.length,d=0,g=0,f=0,h=0;h<e;h++){var q=b[h],t=b[(h+1)%e],m=2,d=d+(q[0]*t[1]-t[0]*q[1]);2<q.length&&2<t.length&&a&&(g+=q[0]*t[2]-t[0]*q[2],
m=3);q.length>m&&t.length>m&&c&&(f+=q[0]*t[m]-t[0]*q[m])}return 0>=d&&0>=g&&0>=f};b.getRingArea=function(b){for(var c=b.length,a=0,e=0;e<c;e++)var d=b[e],g=b[(e+1)%c],a=a+(d[0]*g[1]-g[0]*d[1]);return a};b.unnormalizeGeometryOnDatelineCrossing=function(b){if("polygon"!==b.type&&"polyline"!==b.type)return b;f("polygon"===b.type?b.rings:b.paths,b.spatialReference);return b};b.unnormalizeVerticesOnDatelineCrossing=f;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(b,c,a,e){var d=Infinity,
g=-Infinity;b.forEach(function(b){for(var k=b.pos[0];k<c;)k+=e;for(;k>a;)k-=e;d=Math.min(d,k);g=Math.max(g,k);b.unnormalizedPos[0]=k;b.unnormalizedPos[1]=b.pos[1]});var f=g-d;e-f<f&&b.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=e)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(n,b,m){function d(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!1);return b?c?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],
mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:c?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function h(b){var c=b.hasZ,e=b.hasM;return d(m.getPointsBounds(a,b.points,c,e),c,e)}function f(a){var b=a.x,c=a.y,e=a.z;a=a.m;var d=null!=a;return null!=e?d?{xmin:b,ymin:c,zmin:e,mmin:a,xmax:b,ymax:c,zmax:e,mmax:a}:{xmin:b,ymin:c,zmin:e,xmax:b,ymax:c,zmax:e}:d?{xmin:b,ymin:c,mmin:a,xmax:b,ymax:c,mmax:a}:{xmin:b,ymin:c,xmax:b,
ymax:c}}function g(b){var c=b.hasZ,e=b.hasM;return d(m.getRingsOrPathsBounds(a,b.rings,c,e),c,e)}function c(b){var c=b.hasZ,e=b.hasM;return d(m.getRingsOrPathsBounds(a,b.paths,c,e),c,e)}Object.defineProperty(b,"__esModule",{value:!0});var a=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?f(a):void 0!==a.rings?g(a):void 0!==a.paths?c(a):void 0!==a.points?h(a):null:null};b.getMultipointExtent=h;b.getPointExtent=
f;b.getPolygonExtent=g;b.getPolylineExtent=c})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(n,b){function m(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}function d(a,b,d,f){var e=d?3:2;if(!b.length||!b[0].length)return null;for(var k=b[0][0],l=k[0],k=k[1],h=b[0][0],m=h[0],h=h[1],n=void 0,w=void 0,C=void 0,x=void 0,y=0;y<b.length;y++)for(var z=b[y],A=0;A<z.length;A++){var E=z[A],D=E[0],B=E[1],l=g(l,D),k=g(k,B),m=c(m,D),h=c(h,B);d&&2<E.length&&
(D=E[2],n=g(n,D),w=c(w,D));f&&E.length>e&&(x=E[e],C=g(n,x),x=c(w,x))}if(d){if(f)return a[0]=l,a[1]=k,a[2]=n,a[3]=C,a[4]=m,a[5]=h,a[6]=w,a[7]=x,a.length=8,a;a[0]=l;a[1]=k;a[2]=n;a[3]=m;a[4]=h;a[5]=w;a.length=6;return a}if(f)return a[0]=l,a[1]=k,a[2]=C,a[3]=m,a[4]=h,a[5]=x,a.length=6,a;a[0]=l;a[1]=k;a[2]=m;a[3]=h;a.length=4;return a}function h(a,b,c,d,g,f){c=b.xmin;d=b.xmax;var e=b.ymin,k=b.ymax,l=b.zmin,h=b.zmax,p=b.mmin;b=b.mmax;if(g){l=l||0;h=h||0;if(f)return a[0]=c,a[1]=e,a[2]=l,a[3]=p||0,a[4]=
d,a[5]=k,a[6]=h,a[7]=b||0,a;a[0]=c;a[1]=e;a[2]=l;a[3]=d;a[4]=k;a[5]=h;return a}if(f)return a[0]=c,a[1]=e,a[2]=p||0,a[3]=d,a[4]=k,a[5]=b||0,a;a[0]=c;a[1]=e;a[2]=d;a[3]=k;return a}function f(a,b,d,f,h,p){var e=d?3:2;f=f&&p;d=d&&h;if(!b.length||!b[0].length)return null;for(var k=b[0],l=k[0],k=k[1],r=b[0],m=r[0],r=r[1],n=void 0,x=void 0,y=void 0,z=void 0,A=0;A<b.length;A++){var E=b[A],D=E[0],B=E[1],l=g(l,D),k=g(k,B),m=c(m,D),r=c(r,B);d&&2<E.length&&(D=E[2],n=g(n,D),x=c(x,D));f&&E.length>e&&(z=E[e],y=
g(n,z),z=c(x,z))}if(h){n=n||0;x=x||0;if(p)return a[0]=l,a[1]=k,a[2]=n,a[3]=y||0,a[4]=m,a[5]=r,a[6]=x,a[7]=z||0,a;a[0]=l;a[1]=k;a[2]=n;a[3]=m;a[4]=r;a[5]=x;return a}if(p)return a[0]=l,a[1]=k,a[2]=y||0,a[3]=m,a[4]=r,a[5]=z||0,a;a[0]=l;a[1]=k;a[2]=m;a[3]=r;return a}Object.defineProperty(b,"__esModule",{value:!0});var g=m(Math.min),c=m(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return d(a,b.paths,!1,!1);if(void 0!==b.rings)return d(a,b.rings,!1,!1);if(void 0!==b.points)return f(a,b.points,
!1,!1,!1,!1);if(void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax)return h(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getRingsOrPathsBounds=d;b.getExtentBounds=h;b.getPointsBounds=f;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],d=a[0][0],f=0;f<a.length;f++)var h=a[f][0],b=g(b,h),d=c(d,h);return d-b};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],d=a[0][0],
f=0;f<a.length;f++)var h=a[f][0],b=g(b,h),d=c(d,h);return b+.5*(d-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(n,b,m,d,h,f,g,c,a,e,l,k){n=function(b){function c(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.paths=[];a.type="polyline";return a}
m(c,b);q=c;c.prototype.normalizeCtorArgs=function(a,b){var c=null,d,g,f=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,g=a.hasM):c=a;c=c||[];b=b||e.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(f=c[0]&&c[0][0])void 0===d&&void 0===g?(d=2<f.length,g=!1):void 0===d?d=!g&&3<f.length:void 0===g&&(g=!d&&3<f.length);return{paths:c,spatialReference:b,hasZ:d,hasM:g}};Object.defineProperty(c.prototype,"extent",
{get:function(){var a=this.spatialReference,b=new g(l.getPolylineExtent(this));b.spatialReference=a;return b},enumerable:!0,configurable:!0});c.prototype.writePaths=function(a,b,c,e){b.paths=h.clone(this.paths)};c.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=[],d=0,g=a.length;d<g;d++)e[d]=a[d].toArray();b[c]=e}return this}};c.prototype.clone=function(){var a=new q;a.spatialReference=this.spatialReference;a.paths=
h.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};c.prototype.getPoint=function(b,c){if(!this._validateInputs(b,c))return null;b=this.paths[b][c];c=this.hasZ;var e=this.hasM;return c&&!e?new a(b[0],b[1],b[2],void 0,this.spatialReference):e&&!c?new a(b[0],b[1],void 0,b[2],this.spatialReference):c&&e?new a(b[0],b[1],b[2],b[3],this.spatialReference):new a(b[0],b[1],this.spatialReference)};c.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();
k.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};c.prototype.removePath=function(b){if(!this._validateInputs(b,null))return null;this.clearCache();b=this.paths.splice(b,1)[0];var c=this.spatialReference;return b.map(function(b){return new a(b,c)})};c.prototype.removePoint=function(b,c){if(!this._validateInputs(b,c))return null;this.clearCache();return new a(this.paths[b].splice(c,1)[0],this.spatialReference)};c.prototype.setPoint=function(a,
b,c){if(!this._validateInputs(a,b))return this;this.clearCache();k.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};c.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};c.prototype.toJSON=function(a){return this.write(null,a)};var q;d([f.property({dependsOn:["hasM","hasZ","paths"]})],c.prototype,"cache",void 0);d([f.property({dependsOn:["cache"],
readOnly:!0})],c.prototype,"extent",null);d([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],c.prototype,"paths",void 0);d([f.writer("paths")],c.prototype,"writePaths",null);return c=q=d([f.subclass("esri.geometry.Polyline")],c)}(f.declared(c));n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(n,b,m,d,h,f,g){function c(a){return void 0!==a.xmin&&
void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function a(a){return void 0!==a.points}function e(a){return void 0!==a.x&&void 0!==a.y}function l(a){return void 0!==a.paths}function k(a){return void 0!==a.rings}function r(b){return b?e(b)?h.fromJSON(b):l(b)?g.fromJSON(b):k(b)?f.fromJSON(b):a(b)?d.fromJSON(b):c(b)?m.fromJSON(b):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(t){console.warn(t.stack)}return r(a)};
b.isExtent=c;b.isMultipoint=a;b.isPoint=e;b.isPolyline=l;b.isPolygon=k;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=r;b.getJsonType=function(b){return b?e(b)?"esriGeometryPoint":l(b)?"esriGeometryPolyline":k(b)?"esriGeometryPolygon":c(b)?"esriGeometryEnvelope":a(b)?"esriGeometryMultipoint":null:null};var p={esriGeometryPoint:h,esriGeometryPolyline:g,esriGeometryPolygon:f,esriGeometryEnvelope:m,esriGeometryMultipoint:d};b.getGeometryType=function(a){return a&&p[a]||null}})},
"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u,v,w,C,x,y,z,A,E,D,B,J,F,K,G){var H=e.ofType({key:"type",defaultKeyValue:"button",base:F,typeMap:{button:K,toggle:G}}),I={base:A,key:"type",typeMap:{media:D,text:B,attachments:z,fields:E}},L=r.getLogger("esri.PopupTemplate");return function(b){function l(){var a=null!==b&&b.apply(this,arguments)||this;a.actions=null;a.content="";a.expressionInfos=null;a.fieldInfos=null;a.layerOptions=null;a.lastEditInfoEnabled=!0;a.outFields=null;a.overwriteActions=!1;a.title=
"";a.relatedRecordsInfo=null;return a}d(l,b);r=l;l.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return t.ensureOneOfType(I,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||p.isThenable(a))return a;L.error("content error","unsupported content value",{value:a});return null};l.prototype.readContent=function(a,b){var c=b.description,e=b.mediaInfos;a=b.popupElements;b=b.showAttachments;if(Array.isArray(a)&&0<a.length)return a.map(function(a){if("media"===
a.type)return!a.mediaInfos&&e&&(a.mediaInfos=e),D.fromJSON(a);if("text"===a.type)return!a.text&&c&&(a.text=c),B.fromJSON(a);if("attachments"===a.type)return z.fromJSON(a);if("fields"===a.type)return E.fromJSON(a)}).filter(Boolean);a=[];c?a.push(new B({text:c})):a.push(new E);Array.isArray(e)&&e.length&&a.push(D.fromJSON({mediaInfos:e}));b&&a.push(z.fromJSON({displayType:"list"}));return a.length?a:c};l.prototype.writeContent=function(a,b){b.showAttachments=!1;"string"===typeof a?b.description=a:Array.isArray(a)&&
(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"!==a.type||b.showAttachments?"media"!==a.type||b.mediaInfos?"text"!==a.type||b.description||(a.text&&(b.description=a.text),delete a.text):(a.mediaInfos&&(b.mediaInfos=k.clone(a.mediaInfos)),delete a.mediaInfos):b.showAttachments=!0}))};l.prototype.writeLayerOptions=function(a,b){b.layerOptions=a&&null!==a.showNoDataRecords?a.toJSON():null};l.prototype.writeTitle=function(a,b){b.title=a||""};
l.prototype.clone=function(){var a=this.actions,a=a?k.clone(a.toArray()):[];return new r({actions:a,content:Array.isArray(this.content)?k.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?k.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?k.clone(this.fieldInfos):null,layerOptions:this.layerOptions?k.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?k.clone(this.outFields):
null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?k.clone(this.relatedRecordsInfo):null})};l.prototype.collectRequiredFields=function(a,b){return g(this,void 0,void 0,function(){return f(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),u.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),
[2]}})})};l.prototype.getRequiredFields=function(b){return g(this,void 0,void 0,function(){var e;return f(this,function(d){switch(d.label){case 0:return e=new a.default,[4,this.collectRequiredFields(e,b)];case 1:return d.sent(),[2,c.from(e).sort()]}})})};l.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,
c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};l.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},e=c.fields,d=void 0===e?[]:e,e=c.normalizeField,g=c.tooltipField,f=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(f),this._extractFieldNames(c),d);e&&a.push(e);g&&a.push(g);return a};l.prototype._getContentFields=function(a){var b=this;return"string"===
typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};l.prototype._collectExpressionInfoFields=function(a,b,c){return g(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return c?[4,p.all(c.map(function(c){return u.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return e.sent(),[2]}})})};l.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?
!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};l.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};l.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};
l.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};l.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var r;h([q.property({type:H})],l.prototype,"actions",void 0);h([q.property()],
l.prototype,"content",void 0);h([q.cast("content")],l.prototype,"castContent",null);h([q.reader("content",["description","popupElements","mediaInfos","showAttachments"])],l.prototype,"readContent",null);h([q.writer("content",{popupElements:{type:e.ofType(v.types)},showAttachments:{type:Boolean},mediaInfos:{type:e.ofType(J.types)},description:{type:String}})],l.prototype,"writeContent",null);h([q.property({type:[w],json:{write:!0}})],l.prototype,"expressionInfos",void 0);h([q.property({type:[C],json:{write:!0}})],
l.prototype,"fieldInfos",void 0);h([q.property({type:x})],l.prototype,"layerOptions",void 0);h([q.writer("layerOptions")],l.prototype,"writeLayerOptions",null);h([q.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],l.prototype,"lastEditInfoEnabled",void 0);h([q.property()],l.prototype,"outFields",void 0);h([q.property()],l.prototype,"overwriteActions",void 0);h([q.property({json:{type:String}})],l.prototype,"title",void 0);h([q.writer("title")],
l.prototype,"writeTitle",null);h([q.property({type:y,json:{write:!0}})],l.prototype,"relatedRecordsInfo",void 0);return l=r=h([q.subclass("esri.PopupTemplate")],l)}(q.declared(l))})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(n,b){function m(a){return function(b){return d([a,b])}}function d(a){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,g&&(c=a[0]&2?g["return"]:a[0]?g["throw"]||((c=g["return"])&&c.call(g),0):g.next)&&!(c=
c.call(g,a[1])).done)return c;if(g=0,c)a=[a[0]&2,c.value];switch(a[0]){case 0:case 1:c=a;break;case 4:return h.label++,{value:a[1],done:!1};case 5:h.label++;g=a[1];a=[0];continue;case 7:a=h.ops.pop();h.trys.pop();continue;default:if(!(c=h.trys,c=0<c.length&&c[c.length-1])&&(6===a[0]||2===a[0])){h=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3]))h.label=a[1];else if(6===a[0]&&h.label<c[1])h.label=c[1],c=a;else if(c&&h.label<c[2])h.label=c[2],h.ops.push(a);else{c[2]&&h.ops.pop();h.trys.pop();continue}}a=
b.call(n,h)}catch(l){a=[6,l],g=0}finally{f=c=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var h={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},f,g,c,a;return a={next:m(0),"throw":m(1),"return":m(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(n){return function(b,m,d,h){var f=null;return n.create(function(d,c){function a(a){try{g(h.next(a))}catch(r){c(r)}}
function e(a){try{g(h["throw"](a))}catch(r){c(r)}}function g(b){b.done?(f=n.when(b.value),f.then(d,c)):(f=n.when(b.value),f.then(a,e))}g((h=h.apply(b,m||[])).next())},function(b){f&&f.cancel(b)})}})},"@dojo/framework/shim/Set":function(){(function(n){"object"===typeof module&&"object"===typeof module.exports?(n=n(require,exports),void 0!==n&&(module.exports=n)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),n)})(function(n,
b){Object.defineProperty(b,"__esModule",{value:!0});var m=n("tslib"),d=n("./global"),h=n("./iterator"),f=n("../has/has");n("./Symbol");b.Set=d.default.Set;f.default("es6-set")||(b.Set=(g=function(){function b(a){this._setData=[];this[Symbol.toStringTag]="Set";if(a)if(h.isArrayLike(a))for(var b=0;b<a.length;b++)this.add(a[b]);else try{for(var b=m.__values(a),c=b.next();!c.done;c=b.next())this.add(c.value)}catch(p){d={error:p}}finally{try{c&&!c.done&&(g=b.return)&&g.call(b)}finally{if(d)throw d.error;
}}var d,g}b.prototype.add=function(a){if(this.has(a))return this;this._setData.push(a);return this};b.prototype.clear=function(){this._setData.length=0};b.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;this._setData.splice(a,1);return!0};b.prototype.entries=function(){return new h.ShimIterator(this._setData.map(function(a){return[a,a]}))};b.prototype.forEach=function(a,b){for(var c=this.values(),d=c.next();!d.done;)a.call(b,d.value,d.value,this),d=c.next()};b.prototype.has=
function(a){return-1<this._setData.indexOf(a)};b.prototype.keys=function(){return new h.ShimIterator(this._setData)};Object.defineProperty(b.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});b.prototype.values=function(){return new h.ShimIterator(this._setData)};b.prototype[Symbol.iterator]=function(){return new h.ShimIterator(this._setData)};return b}(),g[Symbol.species]=g,g));b.default=b.Set;var g})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./ArrayPool ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k){function r(a){return a?a.isInstanceOf&&a.isInstanceOf(A):!1}function p(a){return a?r(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function q(a){if(a&&a.length)return a[0]}function t(a,b,c,d){b&&b.forEach(function(b,e,g){a.push(b);t(a,c.call(d,b,e,g),c,d)})}n=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=
!1;this.item=a};return a}();var u=function(){},v=new a(n,!0,function(a){a.item=null;a.target=null}),w=new Set,C=new Set,x=new Set,y=new Map,z=0,A=function(a){function b(b){b=a.call(this,b)||this;b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:z++});return b}m(b,a);g=b;b.ofType=function(a){if(!a)return g;if(y.has(a))return y.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;
else if(a.base)b=a.base.prototype.declaredClass;else for(var c in a.typeMap){var d=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+d):d}b=g.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=r;c={Type:a,ensureType:"function"===typeof a?k.ensureType(a):k.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:c});y.set(a,b);return b};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||r(a)?{items:a}:a:{}};Object.defineProperty(b.prototype,
"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(p(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=u;d.removed=!0;c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,
b)};b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(p(a)));this._emitAfterChanges();return this};
b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(c.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(p);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=
this._splice(0,this.length),d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c);this._emitAfterChanges()}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,d=c.length,e=0;e<d;e++){var g=c[e];if(a.call(b,g,e,c))return g}};b.prototype.findIndex=
function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,d=c.length,e=0;e<d;e++)if(a.call(b,c[e],e,c))return e;return-1};b.prototype.flatten=function(a,b){var c=[];t(c,this,a,b);return new g(c)};b.prototype.forEach=function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===
b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new g({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==
c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=q(this._splice(this.length-1,1));this._emitAfterChanges();return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();
return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=q(this._splice(a,1)),this._emitAfterChanges(),a};b.prototype.removeMany=function(a){if(!a||
!a.length||this._emitBeforeChanges())return[];a=r(a)?a.toArray():a;for(var b=this._items,c=[],d=a.length,e=0;e<d;e++){var g=b.indexOf(a[e]);if(-1<g){for(var f=e+1,l=g+1,k=Math.min(a.length-f,b.length-l),h=0;h<k&&a[f+h]===b[l+h];)h++;f=1+h;(g=this._splice(g,f))&&0<g.length&&c.push.apply(c,g);e+=f-1}}this._emitAfterChanges();return c};b.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();
return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=q(this._splice(0,1));this._emitAfterChanges();return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();
this._splice.apply(this,[0,0].concat(b));return this};b.prototype.splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};
b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var d=this._items,g=this.constructor.prototype.itemType,f,l;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=e.schedule(this._boundDispatch));if(b){l=d.splice(a,b);if(this.hasEventListener("before-remove")){var k=v.acquire();k.target=this;k.cancellable=!0;for(var h=0,p=l.length;h<p;h++)f=l[h],k.reset(f),this.emit("before-remove",k),k.defaultPrevented&&(l.splice(h,1),d.splice(a,0,f),a+=1,--h,--p);v.release(k)}this.length=this._items.length;if(this.hasEventListener("after-remove")){f=
v.acquire();f.target=this;f.cancellable=!1;p=l.length;for(h=0;h<p;h++)f.reset(l[h]),this.emit("after-remove",f);v.release(f)}}if(c&&c.length){if(g){h=[];for(p=0;p<c.length;p++)f=c[p],k=g.ensureType(f),null==k&&null!=f||h.push(k);c=h}g=this.hasEventListener("before-add");h=this.hasEventListener("after-add");p=a===this.length;if(g||h){f=v.acquire();f.target=this;f.cancellable=!0;k=v.acquire();k.target=this;k.cancellable=!1;for(var q=0,r=c;q<r.length;q++){var m=r[q];g?(f.reset(m),this.emit("before-add",
f),f.defaultPrevented||(p?d.push(m):d.splice(a++,0,m),this._set("length",d.length),h&&(k.reset(m),this.emit("after-add",k)))):(p?d.push(m):d.splice(a++,0,m),this._set("length",d.length),k.reset(m),this.emit("after-add",k))}v.release(k);v.release(f)}else p?d.push.apply(d,c):d.splice.apply(d,[a,0].concat(c)),this._set("length",d.length)}(c&&c.length||l&&l.length)&&this._notifyChangeEvent(c,l);return l};b.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=
v.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;v.release(b)}return a};b.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=v.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",a);v.release(a)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchColChange=function(){this._timer&&
(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;w.clear();C.clear();x.clear();for(var d=0;d<b.length;d++){var e=b[d],g=e.added,e=e.removed;if(g)if(0===x.size&&0===C.size)for(var l=0,k=g;l<k.length;l++)g=k[l],w.add(g);else for(l=0,k=g;l<k.length;l++)g=k[l],C.has(g)?(x.add(g),C.delete(g)):x.has(g)||w.add(g);if(e)if(0===x.size&&0===w.size)for(l=0;l<e.length;l++)g=e[l],C.add(g);else for(l=0;l<e.length;l++)g=
e[l],w.has(g)?w.delete(g):(x.delete(g),C.add(g))}var h=f.acquire();w.forEach(function(a){h.push(a)});var p=f.acquire();C.forEach(function(a){p.push(a)});var q=c._items,r=a.items,m=f.acquire();x.forEach(function(a){r.indexOf(a)!==q.indexOf(a)&&m.push(a)});if(a.listeners&&(h.length||p.length||m.length))for(b={target:c,added:h,removed:p,moved:m},d=a.listeners.length,g=0;g<d;g++)e=a.listeners[g],e.removed||e.callback.call(c,b);f.release(h);f.release(p);f.release(m)},c=this,d=0;d<a.length;d++)b(a[d]);
w.clear();C.clear();x.clear()}};var g;b.isCollection=r;d([l.property()],b.prototype,"length",void 0);d([l.property()],b.prototype,"items",null);return b=g=d([l.subclass("esri.core.Collection")],b)}(l.declared(h,g));return A})},"esri/core/Evented":function(){define(["require","exports","./tsSupport/extendsHelper","@dojo/framework/shim/Map"],function(n,b,m,d){var h=function(){function b(b){this.target=b}b.prototype.emit=function(b,c){var a=this;b=this._listenersMap&&this._listenersMap.get(b);if(!b)return!1;
c=c||{};c.target||(c.target=this.target);b.slice().forEach(function(b){b.call(a.target,c)});return 0<b.length};b.prototype.on=function(b,c){var a=this;if(Array.isArray(b)){var e=b.map(function(b){return a.on(b,c)});return{remove:function(){return e.forEach(function(a){return a.remove()})}}}if(-1<b.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new d.default);var g=this._listenersMap.get(b)||[];
g.push(c);this._listenersMap.set(b,g);return{remove:function(){var d=a._listenersMap.get(b)||[];d.splice(d.indexOf(c),1)}}};b.prototype.once=function(b,c){var a=this,d;return d=this.on(b,function(b){d.remove();c.call(a.target,b)})};b.prototype.hasEventListener=function(b){b=this._listenersMap&&this._listenersMap.get(b);return null!=b&&0<b.length};return b}();n=function(){function b(){this._emitter=new h(this)}b.prototype.emit=function(b,c){return this._emitter.emit(b,c)};b.prototype.on=function(b,
c){return this._emitter.on(b,c)};b.prototype.once=function(b,c){return this._emitter.once(b,c)};b.prototype.hasEventListener=function(b){return this._emitter.hasEventListener(b)};return b}();(function(b){b.EventedMixin=function(b){return function(b){function a(){return null!==b&&b.apply(this,arguments)||this}m(a,b);a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};
a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}(b)}})(n||(n={}));return n})},"@dojo/framework/shim/Map":function(){(function(n){"object"===typeof module&&"object"===typeof module.exports?(n=n(require,exports),void 0!==n&&(module.exports=n)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),n)})(function(n,b){Object.defineProperty(b,"__esModule",{value:!0});var m=n("tslib"),
d=n("./iterator"),h=n("./global"),f=n("./object"),g=n("../has/has");n("./Symbol");b.Map=h.default.Map;g.default("es6-map")||(b.Map=(c=function(){function a(a){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(a)if(d.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(var b=m.__values(a),e=b.next();!e.done;e=b.next())c=e.value,this.set(c[0],c[1])}catch(t){g={error:t}}finally{try{e&&!e.done&&(f=b.return)&&f.call(b)}finally{if(g)throw g.error;}}var g,
f}a.prototype._indexOfKey=function(a,b){for(var c=0,d=a.length;c<d;c++)if(f.is(a[c],b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,b=this._keys.map(function(b,c){return[b,
a._values[c]]});return new d.ShimIterator(b)};a.prototype.forEach=function(a,b){for(var c=this._keys,d=this._values,e=0,g=c.length;e<g;e++)a.call(b,d[e],c[e],this)};a.prototype.get=function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new d.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,a),c=0>c?this._keys.length:c;this._keys[c]=
a;this._values[c]=b;return this};a.prototype.values=function(){return new d.ShimIterator(this._values)};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),c[Symbol.species]=c,c));b.default=b.Map;var c})},"@dojo/framework/shim/object":function(){(function(n){"object"===typeof module&&"object"===typeof module.exports?(n=n(require,exports),void 0!==n&&(module.exports=n)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],n)})(function(n,
b){Object.defineProperty(b,"__esModule",{value:!0});var m=n("./global"),d=n("../has/has"),h=n("./Symbol");d.default("es6-object")?(n=m.default.Object,b.assign=n.assign,b.getOwnPropertyDescriptor=n.getOwnPropertyDescriptor,b.getOwnPropertyNames=n.getOwnPropertyNames,b.getOwnPropertySymbols=n.getOwnPropertySymbols,b.is=n.is,b.keys=n.keys):(b.keys=function(b){return Object.keys(b).filter(function(b){return!b.match(/^@@.+/)})},b.assign=function(d){for(var g=[],c=1;c<arguments.length;c++)g[c-1]=arguments[c];
if(null==d)throw new TypeError("Cannot convert undefined or null to object");var a=Object(d);g.forEach(function(c){c&&b.keys(c).forEach(function(b){a[b]=c[b]})});return a},b.getOwnPropertyDescriptor=function(b,d){h.isSymbol(d);return Object.getOwnPropertyDescriptor(b,d)},b.getOwnPropertyNames=function(b){return Object.getOwnPropertyNames(b).filter(function(b){return!b.match(/^@@.+/)})},b.getOwnPropertySymbols=function(b){return Object.getOwnPropertyNames(b).filter(function(b){return!!b.match(/^@@.+/)}).map(function(b){return Symbol.for(b.substring(2))})},
b.is=function(b,d){return b===d?0!==b||1/b===1/d:b!==b&&d!==d});d.default("es2017-object")?(n=m.default.Object,b.getOwnPropertyDescriptors=n.getOwnPropertyDescriptors,b.entries=n.entries,b.values=n.values):(b.getOwnPropertyDescriptors=function(d){return b.getOwnPropertyNames(d).reduce(function(g,c){g[c]=b.getOwnPropertyDescriptor(d,c);return g},{})},b.entries=function(d){return b.keys(d).map(function(b){return[b,d[b]]})},b.values=function(d){return b.keys(d).map(function(b){return d[b]})})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../../core/Error ../../core/object ../../core/promiseUtils ./domains".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){function k(b,c,d){if(b)for(var e=0;e<b.length;e++){var g=b[e],f=a.getDeepValue(g,c);(f=f&&"function"!==typeof f&&t(d,f))&&a.setDeepValue(g,f.name,c)}}function r(a,b){if(!a||!b)return[];H.clear();p(H,a,b);return f.from(H).sort()}function p(a,b,c){if(c)if(b&&b.length)if(f.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var d=0;d<c.length;d++)e=c[d],q(a,b,e);else if(f.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var e=c[b];a.add(e)}}
function q(a,b,c){b&&b.length?(b=t(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function t(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return d}}return null}function u(a,b,c){return h(this,void 0,void 0,function(){var g,f,h,l,k;return d(this,function(d){switch(d.label){case 0:return c?[4,e.create(function(a){n(["../../support/arcadeUtils"],function(b){a(b)})})]:[2];case 1:g=d.sent();f=g.extractFieldNames(c);
h=0;for(l=f;h<l.length;h++)k=l[h],q(a,b,k);return[2]}})})}function v(b,c){return h(this,void 0,void 0,function(){var e,g;return d(this,function(d){if(!c)return[2];e=c.fields;return(g=a.getDeepValue("elevationInfo.featureExpressionInfo",c))?[2,g.collectRequiredFields(b,e)]:[2]})})}function w(a,b){return h(this,void 0,void 0,function(){var c,g;return d(this,function(d){switch(d.label){case 0:return c=b.labelingInfo,g=b.fields,c&&c.length?[4,e.all(c.map(function(b){return C(a,g,b)}))]:[2];case 1:return d.sent(),
[2]}})})}function C(a,b,c){return h(this,void 0,void 0,function(){var e,g,f,h,l;return d(this,function(d){switch(d.label){case 0:if(!c)return[2];e=c.getLabelExpression();g=c.where;return"arcade"!==e.type?[3,2]:[4,u(a,b,e.expression)];case 1:return d.sent(),[3,3];case 2:(f=e.expression.match(/{[^}]*}/g))&&f.forEach(function(c){q(a,b,c.slice(1,-1))}),d.label=3;case 3:return h=/['"]+/g,g&&(l=g.split(" "),3===l.length&&q(a,b,l[0].replace(h,"")),7===l.length&&(q(a,b,l[0].replace(h,"")),q(a,b,l[4].replace(h,
"")))),[2]}})})}function x(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function y(a){return null===a||x(a)}function z(a){return null===a||I(a)}function A(a){return null!=a&&"string"===typeof a}function E(a){return null===a||A(a)}function D(a){return!0}function B(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?z:I;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?y:x;break;case "string":case "esriFieldTypeString":c=a.nullable?E:A;break;default:c=D}return 1===arguments.length?c:c(b)}function J(a){return null!=a&&L.has(a.type)}function F(a,b){return a.nullable&&null===b?null:J(a)&&!K(a.type,b)?M.OUT_OF_RANGE:B(a,b)?a.domain?l.validateDomainValue(a.domain,b):null:N.INVALID_TYPE}function K(a,b){return(a="string"===typeof a?G(a):a)?a.isInteger?I(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function G(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=
function(a,c){if(null!=a&&null!=c){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var e=a[d];k(b.rendererFields,e,c);if("visualVariables"in e&&e.visualVariables)for(var g=0,e=e.visualVariables;g<e.length;g++)k(b.visualVariableFields,e[g],c)}}};b.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=t(b,a.startField);b=t(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=t(b,a.startTimeField),b=t(b,a.endTimeField),a.startTimeField=c&&c.name||
null,a.endTimeField=b&&b.name||null};var H=new g.default;b.fixFields=r;b.collectFields=p;b.collectField=q;b.unpackFieldNames=function(a,b){return b&&a?f.includes(b,"*")?a.map(function(a){return a.name}):b:[]};b.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(f.includes(b,"*"))return["*"];b=r(a,b);return b.length/a.length>=c?["*"]:b};b.getField=t;b.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===
b)return!0}return!1};b.collectArcadeFieldNames=u;b.getElevationFields=function(a){return h(this,void 0,void 0,function(){var b;return d(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new g.default;return[4,v(b,a)];case 1:return c.sent(),[2,f.from(b).sort()]}})})};b.collectElevationFields=v;b.collectFilterFields=function(a,b,g){return h(this,void 0,void 0,function(){var f,h;return d(this,function(d){switch(d.label){case 0:if(!b||!g||!(g.where&&"1\x3d1"!==g.where||g.timeExtent))return[2];
b.timeInfo&&g.timeExtent&&p(a,b.fields,[b.timeInfo.startField,b.timeInfo.endField]);return g.where?[4,e.create(function(a){n(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:f=d.sent();h=f.create(g.where);if(!h.isStandardized())return[2,e.reject(new c("fieldUtils:collectFilterFields","Where clause is not standardized"))];p(a,b.fields,h.getFields());d.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return h(this,void 0,void 0,function(){var b;return d(this,function(c){return a?(b="timeInfo"in
a&&a.timeInfo)?[2,r(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?r(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?r(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};b.getLabelingFields=function(a){return h(this,
void 0,void 0,function(){var b;return d(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new g.default;return[4,w(b,a)];case 1:return c.sent(),[2,f.from(b).sort()]}})})};b.collectLabelingFields=w;b.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&B(a,b))return b;if(a.nullable)return null};var I=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=B;b.numericTypes=
["integer","small-integer","single","double"];var L=new g.default(b.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=J;b.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,b){return null===F(a,b)};var M;(M=b.NumericRangeValidationError||(b.NumericRangeValidationError=
{})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var N;(N=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};b.validateFieldValue=F;b.isNumberInRange=K;b.getFieldRange=function(a){var b=l.getDomainRange(a.domain);if(b)return b;if(J(a))return G(a.type)};b.getNumericTypeForValue=function(a){if(!x(a))return null;if(I(a)){if(a>=b.smallIntegerRange.min&&
a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.smallIntegerRange={min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(a,
b,c){switch(a){case l.DomainValidationError.INVALID_CODED_VALUE:return"Value "+c+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case l.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+c+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case N.INVALID_TYPE:return"Value "+c+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case M.OUT_OF_RANGE:return a=G(b.type),
"Value "+c+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,b){if(!b||!b.attributes||!a)return!1;b=b.attributes;for(var c=0;c<a.length;c++)if(!(a[c]in b))return!1;return!0}})},"esri/layers/support/domains":function(){define("require exports ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(n,b,m,d,h,f){function g(a,b){switch(a.type){case "range":var d="range"in a?a.range[1]:
a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>d)return c.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return c.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=m;b.DomainBase=d;b.InheritedDomain=h;b.RangeDomain=f;var c;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(c=
b.DomainValidationError||(b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===g(a,b)};b.validateDomainValue=g;b.types={key:"type",base:b.DomainBase,typeMap:{range:b.RangeDomain,"coded-value":b.CodedValueDomain}};b.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(a){return a&&a.type?"range"===a.type?b.RangeDomain.fromJSON(a):"codedValue"===a.type?b.CodedValueDomain.fromJSON(a):
null:null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./Domain".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this,a)||this;a.codedValues=null;a.type="coded-value";return a}m(a,b);c=a;a.prototype.writeCodedValues=function(a,b){var c=null;a&&(c=a.map(function(a){return h.fixJson(h.clone(a))}));b.codedValues=
c};a.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};a.prototype.clone=function(){return new c({codedValues:h.clone(this.codedValues),name:this.name})};var c;d([f.property({json:{write:!0}})],a.prototype,"codedValues",void 0);d([f.writer("codedValues")],a.prototype,"writeCodedValues",null);d([f.enumeration.serializable()({codedValue:"coded-value"})],a.prototype,"type",void 0);return a=
c=d([f.subclass("esri.layers.support.CodedValueDomain")],a)}(f.declared(g))})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f,g){var c=new f.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=
null;return b}m(b,a);d([g.property({json:{write:!0}})],b.prototype,"name",void 0);d([g.property({json:{read:c.read,write:c.write}})],b.prototype,"type",void 0);return b=d([g.subclass("esri.layers.support.Domain")],b)}(g.declared(h))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=
b.call(this,a)||this;a.type="inherited";return a}m(c,b);a=c;c.prototype.clone=function(){return new a};var a;d([h.enumeration.serializable()({inherited:"inherited"})],c.prototype,"type",void 0);return c=a=d([h.subclass("esri.layers.support.InheritedDomain")],c)}(h.declared(f))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(n,b,m,
d,h,f){return function(b){function c(a){a=b.call(this,a)||this;a.maxValue=null;a.minValue=null;a.type="range";return a}m(c,b);a=c;c.prototype.clone=function(){return new a({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var a;d([h.property({json:{read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{target:"range",writer:function(a,b,c){b[c]=[this.minValue,a]}}}})],c.prototype,"maxValue",void 0);d([h.property({json:{read:{source:"range",reader:function(a,b){return b.range&&
b.range[0]}},write:{target:"range",writer:function(a,b,c){b[c]=[a,this.maxValue]}}}})],c.prototype,"minValue",void 0);d([h.enumeration.serializable()({range:"range"})],c.prototype,"type",void 0);return c=a=d([h.subclass("esri.layers.support.RangeDomain")],c)}(h.declared(f))})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(n,b,m,d,h,f,g){Object.defineProperty(b,
"__esModule",{value:!0});b.AttachmentsContent=m;b.BaseContent=d;b.FieldsContent=h;b.MediaContent=f;b.TextContent=g;b.isContent=function(c){return c instanceof b.BaseContent};b.types={base:null,key:"type",typeMap:{attachment:b.AttachmentsContent,fields:b.FieldsContent,media:b.MediaContent,text:b.TextContent}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),
function(n,b,m,d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}m(b,a);c=b;b.prototype.clone=function(){return new c({displayType:this.displayType,attachmentInfos:this.attachmentInfos?h.clone(this.attachmentInfos):null})};var c;d([f.property({type:[g]})],b.prototype,"attachmentInfos",void 0);d([f.property({type:String,json:{write:!0}})],b.prototype,"displayType",void 0);d([f.property({type:String,readOnly:!0,json:{read:!1,
write:!0}})],b.prototype,"type",void 0);return b=c=d([f.subclass("esri.popup.content.AttachmentsContent")],b)}(f.declared(c))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.contentType=null;a.exifInfo=null;
a.id=null;a.keywords=null;a.name=null;a.parentObjectId=null;a.size=null;a.url=null;return a}m(a,b);c=a;a.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,keywords:this.keywords,name:this.name,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var c;d([f.property({type:String})],a.prototype,"contentType",void 0);d([f.property()],a.prototype,"exifInfo",void 0);d([f.property({type:g.Integer})],a.prototype,"id",void 0);d([f.property({type:String})],
a.prototype,"keywords",void 0);d([f.property({type:String})],a.prototype,"name",void 0);d([f.property({json:{read:!1}})],a.prototype,"parentObjectId",void 0);d([f.property({type:g.Integer})],a.prototype,"size",void 0);d([f.property({json:{read:!1}})],a.prototype,"url",void 0);return a=c=d([f.subclass("esri.layers.support.AttachmentInfo")],a)}(f.declared(h))})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.type=null;return a}m(c,b);d([f.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=d([f.subclass("esri.popup.content.Content")],c)}(f.declared(h))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(n,b,m,d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.fieldInfos=null;b.type="fields";return b}m(b,a);c=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new c({fieldInfos:Array.isArray(this.fieldInfos)?h.clone(this.fieldInfos):null})};var c;d([f.property({type:[g]})],b.prototype,"fieldInfos",void 0);d([f.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);d([f.property({type:String,
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=d([f.subclass("esri.popup.content.FieldsContent")],b)}(f.declared(c))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(n,b,m,d,h,f,g,c,a){var e=new f.default({richtext:"rich-text",textarea:"text-area",
textbox:"text-box"});return function(b){function f(a){a=b.call(this)||this;a.fieldName=null;a.format=null;a.isEditable=!1;a.label=null;a.stringFieldOption="text-box";a.statisticType=null;a.tooltip=null;a.visible=!0;return a}m(f,b);h=f;f.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=e.toJSON(a)};f.prototype.readStringFieldOption=function(a){if(a)return e.fromJSON(a)};f.prototype.clone=function(){return new h({fieldName:this.fieldName,format:this.format?g.clone(this.format):null,
isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var h;d([c.property({type:String,json:{write:!0}})],f.prototype,"fieldName",void 0);d([c.property({type:a,json:{write:!0}})],f.prototype,"format",void 0);d([c.property({type:Boolean,json:{write:!0,default:!1}})],f.prototype,"isEditable",void 0);d([c.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);d([c.property({type:e.apiValues,
json:{write:!0,default:"text-box",type:e.jsonValues}})],f.prototype,"stringFieldOption",void 0);d([c.writer("stringFieldOption")],f.prototype,"writeStringFieldOption",null);d([c.reader("stringFieldOption")],f.prototype,"readStringFieldOption",null);d([c.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],f.prototype,"statisticType",void 0);d([c.property({type:String,json:{write:!0}})],f.prototype,"tooltip",void 0);d([c.property({type:Boolean,json:{write:!0}})],f.prototype,
"visible",void 0);return f=h=d([c.subclass("esri.popup.FieldInfo")],f)}(c.declared(h))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(n,b,m,d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}
m(b,a);f=b;b.prototype.clone=function(){return new f({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};var f;d([g.enumeration.serializable()(h.dictionary)],b.prototype,"dateFormat",void 0);d([g.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);d([g.property({type:c.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=f=d([g.subclass("esri.popup.support.FieldInfoFormat")],b)}(g.declared(f))})},"esri/core/date":function(){define(["require",
"exports","./kebabDictionary"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",
"short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')",
"long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')",
"day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",
"long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",
year:"(datePattern: 'y', selector: 'date')"};b.dictionary=m.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(d){return b.formats[d]}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r){return function(a){function b(b){b=a.call(this)||this;b.mediaInfos=null;b.type="media";return b}m(b,a);p=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return e.fromJSON(a);if("barchart"===a.type)return g.fromJSON(a);if("columnchart"===a.type)return c.fromJSON(a);if("linechart"===a.type)return l.fromJSON(a);if("piechart"===a.type)return k.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new p({mediaInfos:this.mediaInfos?h.clone(this.mediaInfos):null})};var p;d([f.property({types:[r.types]})],b.prototype,"mediaInfos",void 0);d([f.reader("mediaInfos")],b.prototype,"readMediaInfos",null);d([f.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);d([f.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=p=d([f.subclass("esri.popup.content.MediaContent")],b)}(f.declared(a))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.type="bar-chart";return a}m(a,b);c=a;a.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;
d([h.property({type:["bar-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],a.prototype,"type",void 0);return a=c=d([h.subclass("esri.popup.content.BarChartMediaInfo")],a)}(h.declared(f))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=
b.call(this)||this;a.type=null;a.value=null;return a}m(a,b);d([h.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0);d([h.property({type:g,json:{write:!0}})],a.prototype,"value",void 0);return a=d([h.subclass("esri.popup.content.mixins.ChartMediaInfo")],a)}(h.declared(f))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.caption="";a.title="";a.type=null;return a}m(c,b);d([f.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);d([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);d([f.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=d([f.subclass("esri.popup.content.mixins.MediaInfo")],c)}(f.declared(h))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(n,b,m,d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}m(b,a);h=b;b.prototype.clone=function(){return new h({fields:f.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var h;d([g.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);d([g.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);d([g.property({type:[c],json:{read:!1}})],b.prototype,"series",void 0);d([g.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=h=d([g.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(g.declared(h))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.tooltip=null;a.x=null;a.y=null;return a}m(c,b);a=c;c.prototype.clone=function(){return new a({tooltip:this.tooltip,x:this.x,y:this.y})};var a;d([f.property()],c.prototype,"tooltip",void 0);d([f.property()],c.prototype,"x",void 0);d([f.property()],c.prototype,"y",void 0);return c=a=d([f.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],c)}(f.declared(h))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/kebabDictionary"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=m.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(n,
b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.type="column-chart";return a}m(a,b);c=a;a.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d([h.property({type:["column-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],a.prototype,"type",void 0);return a=c=d([h.subclass("esri.popup.content.ColumnChartMediaInfo")],a)}(h.declared(f))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.refreshInterval=null;a.type="image";a.value=null;return a}m(a,b);c=a;a.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;d([h.property({type:Number,json:{write:!0}})],a.prototype,"refreshInterval",void 0);d([h.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0);d([h.property({type:g,
json:{write:!0}})],a.prototype,"value",void 0);return a=c=d([h.subclass("esri.popup.content.ImageMediaInfo")],a)}(h.declared(f))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.linkURL=null;a.sourceURL=null;return a}m(c,b);
a=c;c.prototype.clone=function(){return new a({linkURL:this.linkURL,sourceURL:this.sourceURL})};var a;d([f.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);d([f.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=a=d([f.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)}(f.declared(h))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.type="line-chart";return a}m(a,b);c=a;a.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d([h.property({type:["line-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],a.prototype,"type",void 0);return a=c=d([h.subclass("esri.popup.content.LineChartMediaInfo")],a)}(h.declared(f))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.type="pie-chart";return a}m(a,b);c=a;a.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;d([h.property({type:["pie-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],a.prototype,"type",void 0);return a=c=d([h.subclass("esri.popup.content.PieChartMediaInfo")],a)}(h.declared(f))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(n,b,m,d,h,f,g,c){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:c,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":m,"column-chart":d,"line-chart":f,"pie-chart":g,image:h}};b.default=b.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||
this;a.text=null;a.type="text";return a}m(c,b);a=c;c.prototype.clone=function(){return new a({text:this.text})};var a;d([h.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);d([h.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=a=d([h.subclass("esri.popup.content.TextContent")],c)}(h.declared(f))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.name=null;a.title=null;a.expression=null;a.returnType=null;return a}m(c,b);a=c;c.prototype.clone=function(){return new a({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var a;d([f.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);d([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);d([f.property({type:String,json:{write:!0}})],c.prototype,"expression",
void 0);d([f.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=a=d([f.subclass("esri.popup.ExpressionInfo")],c)}(f.declared(h))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.showNoDataRecords=null;return a}m(c,b);a=c;c.prototype.clone=
function(){return new a({showNoDataRecords:this.showNoDataRecords})};var a;d([f.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",void 0);return c=a=d([f.subclass("esri.popup.LayerOptions")],c)}(f.declared(h))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),function(n,
b,m,d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}m(b,a);h=b;b.prototype.clone=function(){return new h({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?f.clone(this.orderByFields):null})};var h;d([g.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);d([g.property({type:[c],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=h=d([g.subclass("esri.popup.RelatedRecordsInfo")],
b)}(g.declared(h))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.field=null;a.order=null;return a}m(c,b);a=c;c.prototype.clone=function(){return new a({field:this.field,order:this.order})};var a;d([f.property({type:String,json:{write:!0}})],
c.prototype,"field",void 0);d([f.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=a=d([f.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)}(f.declared(h))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=
b.call(this)||this;a.active=!1;a.className=null;a.disabled=!1;a.id=null;a.indicator=!1;a.title=null;a.type=null;a.visible=!0;return a}m(a,b);c=a;a.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;d([g.property()],a.prototype,"active",void 0);d([g.property()],a.prototype,"className",void 0);d([g.property()],a.prototype,"disabled",void 0);d([g.property()],a.prototype,
"id",void 0);d([g.property()],a.prototype,"indicator",void 0);d([g.property()],a.prototype,"title",void 0);d([g.property()],a.prototype,"type",void 0);d([g.property()],a.prototype,"visible",void 0);return a=c=d([g.subclass("esri.support.actions.ActionBase")],a)}(g.declared(h,f.Identifiable))})},"esri/core/Identifiable":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});var m=0;n=function(){return function(){Object.defineProperty(this,"uid",{writable:!1,
configurable:!1,value:Date.now().toString(16)+"-object-"+m++})}}();b.Identifiable=n})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.image=null;a.type="button";return a}m(c,b);a=c;c.prototype.clone=function(){return new a({active:this.active,className:this.className,
disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var a;d([h.property()],c.prototype,"image",void 0);return c=a=d([h.subclass("esri.support.Action.ActionButton")],c)}(h.declared(f))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(n,b,m,d,h,f){return function(b){function c(a){a=
b.call(this)||this;a.image=null;a.type="toggle";a.value=!1;return a}m(c,b);a=c;c.prototype.clone=function(){return new a({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var a;d([h.property()],c.prototype,"image",void 0);d([h.property()],c.prototype,"value",void 0);return c=a=d([h.subclass("esri.support.Action.ActionToggle")],c)}(h.declared(f))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u,v,w,C,x,y,z,A,E,D,B,J,F,K,G,H,I){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=d;b.ExtrudeSymbol3DLayer=h;b.BaseFillSymbol=f;b.FillSymbol3DLayer=g;b.Font=c;b.IconSymbol3DLayer=a;b.LabelSymbol3D=e;b.LineSymbol3D=l;b.LineSymbol3DLayer=k;b.BaseMarkerSymbol=r;b.MeshSymbol3D=p;b.ObjectSymbol3DLayer=q;b.PathSymbol3DLayer=t;b.PictureFillSymbol=u;b.PictureMarkerSymbol=v;b.PointSymbol3D=w;b.PolygonSymbol3D=C;b.SimpleFillSymbol=x;b.SimpleLineSymbol=
y;b.SimpleMarkerSymbol=z;b.BaseSymbol=A;b.BaseSymbol3D=E;b.BaseSymbol3DLayer=D;b.TextSymbol=B;b.TextSymbol3DLayer=J;b.WebStyleSymbol=F;b.LineCallout3D=K;b.LineCallout3DBorder=G;b.Symbol3DVerticalOffset=H.Symbol3DVerticalOffset;b.fromJSON=I.fromJSON;b.isSymbol=function(a){return a instanceof b.BaseSymbol};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};
b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.SimpleFillSymbol,"picture-fill":b.PictureFillSymbol,"picture-marker":b.PictureMarkerSymbol,"simple-line":b.SimpleLineSymbol,"simple-marker":b.SimpleMarkerSymbol,text:b.TextSymbol,"label-3d":b.LabelSymbol3D,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,
"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol,cim:b.CIMSymbol}};b.symbolTypesRenderer={base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.SimpleFillSymbol,"picture-fill":b.PictureFillSymbol,"picture-marker":b.PictureMarkerSymbol,"simple-line":b.SimpleLineSymbol,"simple-marker":b.SimpleMarkerSymbol,text:b.TextSymbol,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol,cim:b.CIMSymbol}};b.symbolTypesLabel=
{base:b.BaseSymbol,key:"type",typeMap:{text:b.TextSymbol,"label-3d":b.LabelSymbol3D}};b.symbolTypes3D={base:b.BaseSymbol,key:"type",typeMap:{"label-3d":b.LabelSymbol3D,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol}};b.symbolTypesRenderer3D={base:b.BaseSymbol,key:"type",typeMap:{"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol}};
b.symbolTypesLabel3D={base:b.BaseSymbol,key:"type",typeMap:{"label-3d":b.LabelSymbol3D}};b.ensureType=m.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../portal/Portal ./Symbol".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this,a)||this;a.data=null;a.portal=null;a.styleName="";a.styleUrl="";a.type="cim";return a}m(a,
b);c=a;a.prototype.readData=function(a,b){return b.data?b.data:b};a.prototype.clone=function(){return new c({color:this.color,data:this.data,portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};var c;d([h.property({json:{write:!1}})],a.prototype,"color",void 0);d([h.property({json:{write:!0}})],a.prototype,"data",void 0);d([h.reader("data",["data","symbol"])],a.prototype,"readData",null);d([h.property({type:f,json:{write:!1}})],a.prototype,"portal",void 0);d([h.property({type:String,
json:{write:!0}})],a.prototype,"styleName",void 0);d([h.property({type:String,json:{write:!0}})],a.prototype,"styleUrl",void 0);d([h.property({type:String,readOnly:!0})],a.prototype,"type",void 0);return a=c=d([h.subclass("esri.symbols.CIMSymbol")],a)}(h.declared(g))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u,v,w,C){var x,y={Bookmark:function(){return q.create(function(a){return n(["./Bookmark"],a)})},Portal:function(){return q.create(function(a){return n(["./Portal"],a)})},PortalFolder:function(){return q.create(function(a){return n(["./PortalFolder"],a)})},PortalGroup:function(){return q.create(function(a){return n(["./PortalGroup"],a)})},PortalItem:function(){return q.create(function(a){return n(["./PortalItem"],a)})},PortalQueryParams:function(){return q.create(function(a){return n(["./PortalQueryParams"],
a)})},PortalQueryResult:function(){return q.create(function(a){return n(["./PortalQueryResult"],a)})},PortalRating:function(){return q.create(function(a){return n(["./PortalRating"],a)})},PortalUser:function(){return q.create(function(a){return n(["./PortalUser"],a)})}};return function(b){function k(a){a=b.call(this)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=!1;a.canListData=!1;a.canListPreProvisionedItems=
!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=!1;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=null;a.hasCategorySchema=!1;a.helperServices=
null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;a.templatesGroupQuery=null;a.units=null;a.url=c.portalUrl;a.urlKey=null;a.user=
null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}d(k,b);p=k;k.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};k.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};k.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var d=a[b];-1===c.request.trustedServers.indexOf(d)&&c.request.trustedServers.push(d)}return a};
k.prototype.readDefaultBasemap=function(a){return a?(a=x.fromJSON(a),a.portalItem={portal:this},a):null};k.prototype.readDefaultVectorBasemap=function(a){return a?(a=x.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(k.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"isOrganization",{get:function(){return!!this.access},
enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});k.prototype.readUrlKey=function(a){return a?a.toLowerCase():
a};k.prototype.readUser=function(a){var b=null;a&&(b=C.fromJSON(a),b.portal=this);return b};k.prototype.load=function(){var b=this,c=q.create(function(a){return n(["../Basemap"],a)}).then(function(a){x=a}).then(function(){return b._fetchSelf()}).then(function(c){if(a.id){var d=a.id;b.credential=d.findCredential(b.restUrl);b.credential||b.authMode!==p.AUTH_MODE_AUTO||(b._esriId_credentialCreateHandle=d.on("credential-create",function(){d.findCredential(b.restUrl)&&b._signIn()}))}b.read(c)});this.addResolvingPromise(c);
return this.when()};k.prototype.fetchBasemaps=function(a){var b=new v;b.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);b.disableExtraQuery=!0;return this.queryGroups(b).then(function(a){b.num=100;b.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],b.sortField=a.sortField||"name",b.sortOrder=a.sortOrder||"desc",a.queryItems(b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new x({portalItem:a})}):
[]})};k.prototype.fetchCategorySchema=function(){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema").then(function(a){return a.categorySchema}):q.resolve([])};k.prototype.fetchFeaturedGroups=function(){var a=this.featuredGroups,b=new v;b.num=100;b.sortField="title";if(a&&a.length){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push('(title:"'+e.title+'" AND owner:'+e.owner+")")}b.query=c.join(" OR ");return this.queryGroups(b).then(function(a){return a.results})}return q.resolve([])};
k.prototype.fetchRegions=function(){return this._request(this.restUrl+"/portals/regions",{query:{culture:this.user&&this.user.culture||this.culture||g.locale}})};k.getDefault=function(){p._default||(p._default=new p);return p._default};k.prototype.queryGroups=function(a){return this._queryPortal("/community/groups",a,"PortalGroup")};k.prototype.queryItems=function(a){return this._queryPortal("/search",a,"PortalItem")};k.prototype.queryUsers=function(a){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",
a,"PortalUser")};k.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};k.prototype._fetchSelf=function(a,b){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a={authMode:a,query:{culture:g.locale}};"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};k.prototype._queryPortal=function(a,b,c){var d=this,e=function(c){return d._request(d.restUrl+a,b.toRequestOptions(d)).then(function(a){var e=
b.clone();e.start=a.nextStart;return new w({nextQueryParams:e,queryParams:b,total:a.total,results:p._resultsToTypedArray(c,{portal:d},a)})}).then(function(a){return q.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(){return a})})};return c&&y[c]?y[c]().then(function(a){return e(a)}):e()};k.prototype._signIn=function(){var b=this;if(this.authMode===p.AUTH_MODE_ANONYMOUS)return q.reject(new l("portal:invalid-auth-mode",'Current "authMode"\' is "'+
this.authMode+'"'));if("failed"===this.loadStatus)return q.reject(this.loadError);var c=function(a){return q.resolve().then(function(){if("not-loaded"===b.loadStatus)return a||(b.authMode="immediate"),b.load().then(function(){return null});if("loading"===b.loadStatus)return b.load().then(function(){if(b.credential)return null;b.credential=a;return b._fetchSelf("immediate")});if(b.user&&b.credential===a)return null;b.credential=a;return b._fetchSelf("immediate")}).then(function(a){a&&b.read(a)})};
return a.id?a.id.getCredential(this.restUrl).then(function(a){return c(a)}):c(this.credential)};k.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};k.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};k.prototype._requestToTypedArray=function(a,b,c){var d=this,e=function(c){return d._request(a,b).then(function(a){var b=p._resultsToTypedArray(c,
{portal:d},a);return q.all(b.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return b},function(){return b})})};return c?q.create(function(a){return n(["./"+c],a)}).then(function(a){return e(a)}):e()};k.prototype._request=function(a,b){var c=this.authMode===p.AUTH_MODE_ANONYMOUS?"anonymous":"auto",d=null,g="auto",f={f:"json"},k="json";b&&(b.authMode&&(c=b.authMode),b.body&&(d=b.body),b.method&&(g=b.method),b.query&&(f=m({},f,b.query)),b.responseType&&(k=b.responseType));
b={authMode:c,body:d,method:g,query:f,responseType:k,timeout:0};return e(this._normalizeSSL(a),b).then(function(a){return a.data})};k._resultsToTypedArray=function(a,b,c){if(c){if(c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c,a||b)c=c.map(function(c){c=r.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load();return c})}else c=[];return c};var p;k.AUTH_MODE_ANONYMOUS="anonymous";k.AUTH_MODE_AUTO="auto";k.AUTH_MODE_IMMEDIATE=
"immediate";h([t.property()],k.prototype,"access",void 0);h([t.property()],k.prototype,"allSSL",void 0);h([t.property()],k.prototype,"authMode",void 0);h([t.property()],k.prototype,"authorizedCrossOriginDomains",void 0);h([t.reader("authorizedCrossOriginDomains")],k.prototype,"readAuthorizedCrossOriginDomains",null);h([t.property()],k.prototype,"basemapGalleryGroupQuery",void 0);h([t.property()],k.prototype,"bingKey",void 0);h([t.property()],k.prototype,"canListApps",void 0);h([t.property()],k.prototype,
"canListData",void 0);h([t.property()],k.prototype,"canListPreProvisionedItems",void 0);h([t.property()],k.prototype,"canProvisionDirectPurchase",void 0);h([t.property()],k.prototype,"canSearchPublic",void 0);h([t.property()],k.prototype,"canShareBingPublic",void 0);h([t.property()],k.prototype,"canSharePublic",void 0);h([t.property()],k.prototype,"canSignInArcGIS",void 0);h([t.property()],k.prototype,"canSignInIDP",void 0);h([t.property()],k.prototype,"colorSetsGroupQuery",void 0);h([t.property()],
k.prototype,"commentsEnabled",void 0);h([t.property({type:Date})],k.prototype,"created",void 0);h([t.property()],k.prototype,"credential",void 0);h([t.property()],k.prototype,"culture",void 0);h([t.property()],k.prototype,"currentVersion",void 0);h([t.property()],k.prototype,"customBaseUrl",void 0);h([t.property()],k.prototype,"defaultBasemap",void 0);h([t.reader("defaultBasemap")],k.prototype,"readDefaultBasemap",null);h([t.property({type:u})],k.prototype,"defaultExtent",void 0);h([t.property()],
k.prototype,"defaultVectorBasemap",void 0);h([t.reader("defaultVectorBasemap")],k.prototype,"readDefaultVectorBasemap",null);h([t.property()],k.prototype,"description",void 0);h([t.property()],k.prototype,"eueiEnabled",void 0);h([t.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],k.prototype,"extraQuery",null);h([t.property()],k.prototype,"featuredGroups",void 0);h([t.property()],k.prototype,"featuredItemsGroupQuery",void 0);h([t.property()],k.prototype,"galleryTemplatesGroupQuery",
void 0);h([t.property()],k.prototype,"livingAtlasGroupQuery",void 0);h([t.property()],k.prototype,"hasCategorySchema",void 0);h([t.property()],k.prototype,"helpBase",void 0);h([t.property()],k.prototype,"helperServices",void 0);h([t.property()],k.prototype,"helpMap",void 0);h([t.property()],k.prototype,"homePageFeaturedContent",void 0);h([t.property()],k.prototype,"homePageFeaturedContentCount",void 0);h([t.property()],k.prototype,"httpPort",void 0);h([t.property()],k.prototype,"httpsPort",void 0);
h([t.property()],k.prototype,"id",void 0);h([t.property()],k.prototype,"ipCntryCode",void 0);h([t.property({dependsOn:["access"],readOnly:!0})],k.prototype,"isOrganization",null);h([t.property()],k.prototype,"isPortal",void 0);h([t.property()],k.prototype,"layerTemplatesGroupQuery",void 0);h([t.property()],k.prototype,"maxTokenExpirationMinutes",void 0);h([t.property({type:Date})],k.prototype,"modified",void 0);h([t.property()],k.prototype,"name",void 0);h([t.property()],k.prototype,"portalHostname",
void 0);h([t.property()],k.prototype,"portalMode",void 0);h([t.property()],k.prototype,"portalProperties",void 0);h([t.property()],k.prototype,"region",void 0);h([t.property({dependsOn:["url"],readOnly:!0})],k.prototype,"restUrl",null);h([t.property()],k.prototype,"rotatorPanels",void 0);h([t.property()],k.prototype,"showHomePageDescription",void 0);h([t.property()],k.prototype,"staticImagesUrl",void 0);h([t.property()],k.prototype,"stylesGroupQuery",void 0);h([t.property()],k.prototype,"supportsHostedServices",
void 0);h([t.property()],k.prototype,"symbolSetsGroupQuery",void 0);h([t.property()],k.prototype,"templatesGroupQuery",void 0);h([t.property()],k.prototype,"thumbnail",void 0);h([t.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],k.prototype,"thumbnailUrl",null);h([t.property()],k.prototype,"units",void 0);h([t.property()],k.prototype,"url",void 0);h([t.property()],k.prototype,"urlKey",void 0);h([t.reader("urlKey")],k.prototype,"readUrlKey",null);h([t.property()],k.prototype,"user",void 0);
h([t.reader("user")],k.prototype,"readUser",null);h([t.property()],k.prototype,"useStandardizedQuery",void 0);h([t.property()],k.prototype,"useVectorBasemaps",void 0);h([t.property()],k.prototype,"vectorBasemapGalleryGroupQuery",void 0);h([f(1,t.cast(v))],k.prototype,"_queryPortal",null);return k=p=h([t.subclass("esri.portal.Portal")],k)}(t.declared(k,p))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(n,b){return function(m,d){b(m,d,n)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper dojo/Deferred dojo/has!host-webworker?./core/workers/request dojo/io-query ./core/urlUtils dojo/errors/CancelError dojo/request/xhr ./config ./core/deferredUtils ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u){function v(a,b){void 0===b&&(b=!1);u.isBlobProtocol(a.url)||u.isDataProtocol(a.url)||!a.content||(a.preventCache&&(a.content["request.preventCache"]=Date.now()),a.url=u.addQueryParameters(a.url,a.content));var c=new Image;c.crossOrigin=a.withCredentials?"use-credentials":"anonymous";var d=!1;return t.create(function(e,g){var f=function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);d||g(Error("Unable to load the resource"))};c.onload=
function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);d||e(this)};c.onerror=f;c.onabort=f;c.alt="";c.src=a.url},function(){d=!0;c.onload=c.onerror=c.onabort=null;c.src=""})}function w(a){a=new g.Url(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function C(){return H?H:H=t.create(function(a){n(["./identity/IdentityManager"],a)}).then(function(a){G=a})}function x(b,c){var d=!!b.useProxy,e=b.method||"auto";b=m({},b);b.content=b.content||{};b._ssl&&(b.url=b.url.replace(/^http:/i,
"https:"));var g=b.url,k=u.isBlobProtocol(g)||u.isDataProtocol(g);b._token&&(b.content.token=b._token);var h=0,l;k||(l=f.objectToQuery(b.content),h=l.length+g.length+1,p("esri-url-encodes-apostrophe")&&(h=l.replace(/'/g,"%27").length+g.length+1));b.timeout=null!=b.timeout?b.timeout:B.timeout;b.handleAs=b.handleAs||"json";try{var r=l=void 0,n=!k&&("post"===e||!!b.body||h>B.maxUrlLength),w=!k&&(d||!!u.getProxyRule(b.url)),C;if(C=!w&&"image"===b.handleAs&&B.proxyUrl&&!k){var x=u.getOrigin(b.url);C=!(!x||
q.endsWith(x,".arcgis.com")||u.hasSameOrigin(x,u.appUrl)||-1!==D._corsServers.indexOf(x)||u.isTrustedServer(x))}C&&(b.handleAs="blob");w&&(p("host-browser")||p("host-webworker"))&&(l=u.getProxyUrl(g),r=l.path,!n&&r.length+1+h>B.maxUrlLength&&(n=!0),l.query&&(b.content=m({},l.query,b.content)),n||(b.preventCache&&(b.content["request.preventCache"]=Date.now(),b.preventCache=!1),b.url=u.addQueryParameters(b.url,b.content),b.content=null),b.url=r+"?"+b.url);var y=b.headers;if(!k){!p("host-browser")&&
!p("host-webworker")||y&&y.hasOwnProperty("X-Requested-With")||(b.headers=y||{},b.headers["X-Requested-With"]=null);if(p("host-browser")&&c){var A=b.content&&b.content.token;A&&(c.set?c.set("token",A):c.append("token",A));b.contentType=!1}if(!b.hasOwnProperty("withCredentials"))if(d=w?r:g,u.isTrustedServer(d))b.withCredentials=!0;else if(G){var z=G.findServerInfo(d);z&&z.webTierAuth&&(b.withCredentials=!0)}}if(n)return"image"===b.handleAs&&(b.handleAs="blob"),b.body?(b.data=c||b.body,b.query=b.content):
b.data=b.content,delete b.body,delete b.content,!w&&p("safari")&&(b.url+=(-1===b.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+Date.now()+F++),a.post(b.url,b);var E;if(E="image"===b.handleAs){var I;a:{if(y)for(var L in y)if(y[L]){I=!0;break a}I=!1}E=!I}if(E)return v(b);"image"===b.handleAs&&(b.handleAs="blob");b.query=b.content;delete b.content;return a.get(b.url,b)}catch(da){return t.reject(da)}}function y(a,b,c,e){function g(a){a._pendingDfd=x(c,p);var b=!!a._pendingDfd.response;(a._pendingDfd.response||
a._pendingDfd).then(function(a){if(!b||!a.data)return a;B.proxyUrl&&!q.startsWith(a.url,B.proxyUrl)&&E(a.url);var c=a.getHeader("Content-Type");if(c&&(c=c.toLowerCase(),-1===c.indexOf("text/plain")&&-1===c.indexOf("application/json")))return a;c=a.data;if(c instanceof ArrayBuffer&&750>=c.byteLength)c=new Blob([c]);else if(!(c instanceof Blob&&750>=c.size))return a;var e=new d,g=new FileReader;g.readAsText(c);g.onloadend=function(){if(!g.error)try{var b=JSON.parse(g.result);b.error&&(Object.isExtensible(a)||
(a=m({},a)),a._jsonData=b)}catch(X){}e.resolve(a)};return e.promise}).then(function(a){return b&&!a._jsonData&&"image"===e.requestOptions.responseType&&a.data instanceof Blob?(b=!1,c.url=URL.createObjectURL(a.data),v(c,!0)):a}).then(function(c){var d=b?c.data:c,g=b?c.getHeader.bind(c):K;if(d&&(c=b&&c._jsonData||d,c.error||"error"===c.status))throw d=q.mixin(Error(),c.error||c),d.getHeader=g,d;a.resolve({data:d,url:e.url,requestOptions:e.requestOptions,getHeader:g});a._pendingDfd=null}).catch(function(b){var d,
g,k,l;b&&(d=Number(b.code),g=b.hasOwnProperty("subcode")?Number(b.subcode):null,k=(k=b.messageCode)&&k.toUpperCase(),l=b.response);if(l&&0===l.status&&B.proxyUrl&&!f&&"post"!==c.method&&l.url&&!q.startsWith(l.url,B.proxyUrl))u.addProxyRule({proxyUrl:B.proxyUrl,urlPrefix:u.removeFile(u.urlToObject(c.url).path)}),y(a,!0,c,e);else{if(403===d&&(4===g||b.message&&-1<b.message.toLowerCase().indexOf("ssl")&&-1===b.message.toLowerCase().indexOf("permission"))){if(!c._ssl){c._ssl=c._sslFromServer=!0;y(a,!0,
c,e);return}}else if(h&&"no-prompt"!==c.authMode&&G._errorCodes&&-1!==G._errorCodes.indexOf(d)&&!G._isPublic(c.url)&&(403!==d||J&&-1===J.indexOf(k)&&(null==g||2===g&&c._token))){z(a,c,e,A("request:server",b,e));return}l&&0<l.status&&l.url&&B.proxyUrl&&!q.startsWith(l.url,B.proxyUrl)&&E(l.url);a.reject(A("request:server",b,e));a._pendingDfd=null}})}var f=c.body,h=c.useIdentity,l,p=null,r=f instanceof FormData;if(r||f&&f.elements)p=r?f:new FormData(f);var t=!!(-1!==c.url.toLowerCase().indexOf("token\x3d")||
c.content&&c.content.token||p&&p.get&&p.get("token")||f&&f.elements&&f.elements.token);b||(!h||t||c._token||G._isPublic(c.url)||(b=function(a){a&&(c._token=a.token,c._ssl=a.ssl)},"immediate"===c.authMode?l=G.getCredential(c.url).then(b):"no-prompt"===c.authMode?l=G.checkSignInStatus(c.url).then(b).catch(function(){}):b(G.findCredential(c.url))),b=function(a){delete c._credential;if(a){var b=!!c._ssl;a instanceof k?a.details.ssl=b:a.ssl=b}},a.then(function(a){(/\/sharing\/rest\/accounts\/self/i.test(c.url)||
/\/sharing\/rest\/portals\/self/i.test(c.url))&&!t&&!c._token&&a.data&&a.data.user&&a.data.user.username&&(u.isTrustedServer(c.url)||B.trustedServers.push(w(c.url)));var b=c._credential;if(b){var d=G.findServerInfo(b.server),d=d&&d.owningSystemUrl,e=void 0;d&&(d=d.replace(/\/?$/,"/sharing"),(e=G.findCredential(d,b.userId))&&-1===G._getIdenticalSvcIdx(d,e)&&e.resources.splice(0,0,d))}return a}).then(b,b));l?l.then(function(){a.isCanceled()||g(a)}).catch(function(b){a.reject(b)}):g(a);return a.promise}
function z(a,b,c,d){a._pendingDfd=G.getCredential(b.url,{error:d,token:b._token});a._pendingDfd.then(function(d){b._token=d.token;b._credential=d;b._ssl=b._sslFromServer||d.ssl;y(a,!0,b,c)}).catch(function(b){a.reject(b);a._pendingDfd=null})}function A(a,b,c){var d="Error",e={url:c.url,requestOptions:c.requestOptions,getHeader:K};if(b instanceof k)return b.details?(b.details=q.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=e,b;if(b){var g=b.response;c=g&&
g.getHeader;var g=g&&g.status,f=b.message;c=b.getHeader||c;f&&(d=f);c&&(e.getHeader=c);e.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||g;e.subCode=b.subcode;e.messageCode=b.messageCode;e.messages="string"===typeof b.details?[b.details]:b.details}a=new k(a,d,e);b&&"cancel"===b.dojoType&&(a.name="AbortError",a.dojoType="cancel");return a}function E(a){u.isBlobProtocol(a)||u.isDataProtocol(a)||(a=u.getOrigin(a))&&-1===D._corsServers.indexOf(a)&&D._corsServers.push(a)}function D(a,b){if(h&&r.invokeStaticMessage)return h.execute(a,
b);u.isBlobProtocol(a)||u.isDataProtocol(a)||(a=u.normalize(a));var d={url:a,requestOptions:m({},b)},e=u.getInterceptor(a);if(e){if(null!=e.responseData)return t.resolve({data:e.responseData,requestOptions:d.requestOptions,getHeader:K,url:a});e.headers&&(d.requestOptions.headers=m({},d.requestOptions.headers,e.headers));e.query&&(d.requestOptions.query=m({},d.requestOptions.query,e.query));if(e.before&&(b=e.before(d),null!=b))return b instanceof Error||b instanceof k?t.reject(A("request:interceptor",
b,d)):t.resolve({data:b,requestOptions:d.requestOptions,getHeader:K,url:d.url})}var f=m({url:d.url},d.requestOptions);f.content=f.query;delete f.query;f.preventCache=!!f.cacheBust;delete f.cacheBust;f.handleAs=f.responseType;delete f.responseType;"array-buffer"===f.handleAs&&(f.handleAs="arraybuffer");if("image"===f.handleAs){if(p("host-webworker"))return t.reject(A("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),d))}else if(u.isDataProtocol(a))return t.reject(A("request:invalid-parameters",
Error("Data URLs are not supported for responseType \x3d "+f.handleAs),d));var q=B.useIdentity;"anonymous"===f.authMode&&(q=!1);f.useIdentity=q;f.urlObj=new g.Url(f.url);var n=l.makeDeferredCancellingPending(),v;d.requestOptions.signal&&(a=d.requestOptions.signal,v=function(){n.cancel(A("AbortError",new c("Request canceled"),d))},a.aborted?v():a.addEventListener("abort",v));t.resolve().then(function(){if(q&&!G)return C()}).catch(function(){}).then(function(){n.isCanceled()||y(n,!1,f,d)});return n.then(function(a){d.requestOptions.signal&&
d.requestOptions.signal.removeEventListener("abort",v);e&&e.after&&e.after(a);return a}).catch(function(a){d.requestOptions.signal&&d.requestOptions.signal.removeEventListener("abort",v);throw a;})}var B=e.request,J=["COM_0056","COM_0057"],F=0,K=function(){return null},G,H;(D||(D={}))._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return D})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper dojo/io-query dojo/_base/url ../config ../kernel ./Error ./global ./lang ./Logger".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){function k(a){var c={path:null,query:null},e=new b.Url(a),g=a.indexOf("?");null===e.query?c.path=a:(c.path=a.substring(0,g),c.query=d.queryToObject(e.query));e.fragment&&(c.hash=e.fragment,null===e.query&&(c.path=c.path.substring(0,c.path.length-(e.fragment.length+1))));return c}function r(a){var b=a.indexOf("?");-1!==b?(Q.path=a.slice(0,b),Q.query=a.slice(b+1)):(Q.path=a,Q.query=null);return Q}function p(a){a=r(a).path;a&&"/"===a[a.length-1]||(a+="/");a=L(a,!0);return a=
a.toLowerCase()}function q(a){var b=O.proxyRules;a=p(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function t(a){a=C(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function u(a,b,c){void 0===c&&(c=!1);a=P(a);b=P(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function v(a,c,d){void 0===c&&(c=b.appBaseUrl);if(F(a))return d&&d.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===
y(a).slice(2)?"http:"+a:"https:"+a;if(!K(a)){d=x;if("/"===a[0]){var e=c.indexOf("//"),e=c.indexOf("/",e+2);c=-1===e?c:c.slice(0,e)}return d(c,a)}return a}function w(a,c,d){void 0===c&&(c=b.appBaseUrl);if(!z(a))return a;var e=C(a),g=e.toLowerCase();c=C(c).toLowerCase().replace(/\/+$/,"");if((d=d?C(d).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(d))return a;for(var f=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},k=f(g,"/",g.indexOf("//")+2),h=-1;g.slice(0,k+1)===c.slice(0,k)+"/";){h=
k+1;if(k===g.length)break;k=f(g,"/",k+1)}if(-1===h||d&&h<d.length)return a;a=e.slice(h);e=c.slice(h-1).replace(/[^/]+/g,"").length;if(0<e)for(g=0;g<e;g++)a="../"+a;else a="./"+a;return a}function C(a){a=a.trim();a=v(a);if(/^https?:\/\//i.test(a)){var b=r(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=M(a)}function x(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(z(a[0])){var c=
a[0],d=c.indexOf("//");b.push(c.slice(0,d+1));Z.test(a[0])&&(b[0]+="/");a[0]=c.slice(d+2)}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)d=a[c],".."===d&&0<b.length&&".."!==b[b.length-1]?b.pop():!d||"."===d&&0!==b.length||b.push(d);return b.join("/")}}function y(a){if(A(a)||E(a))return null;var b=a.indexOf("://");if(-1===b&&F(a))b=2;else if(-1!==b)b+=3;else return null;b=a.indexOf("/",b);return-1===b?a:a.slice(0,b)}function z(a){return F(a)||
K(a)}function A(a){return"blob:"===a.slice(0,5)}function E(a){return"data:"===a.slice(0,5)}function D(a){a=B(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function B(a){return(a=a.match(ca))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function J(a){var b=D(a);if(!b)return null;a=B(a);return new Blob([b],{type:a.mediaType})}function F(a){return a&&"/"===a[0]&&"/"===a[1]}function K(a){return U.test(a)}
function G(a){return V.test(a)||"http"===b.appUrl.scheme&&F(a)}function H(a){return F(a)?"https:"+a:a.replace(V,"https:")}function I(){return"https"===b.appUrl.scheme}function L(a,b){void 0===b&&(b=!1);if(F(a))return a.slice(2);a=a.replace(U,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function M(a){var c=O.httpsDomains;if(!G(a))return a;var d=a.indexOf("/",7),g;g=-1===d?a:a.slice(0,d);g=g.toLowerCase().slice(7);if(aa.test(g))if(e.endsWith(g,":80"))g=g.slice(0,-3),a=a.replace(":80",
"");else return a;if("http"===b.appUrl.scheme&&g===b.appUrl.authority&&!ba.test(a))return a;if(I()&&g===b.appUrl.authority||c&&c.some(function(a){return g===a||e.endsWith(g,"."+a)})||I()&&!q(a))a=H(a);return a}function N(a,b,c){if(!(b&&c&&a&&z(a)))return a;var d=a.indexOf("//"),e=a.indexOf("/",d+2),g=a.indexOf(":",d+2),e=Math.min(0>e?a.length:e,0>g?a.length:g);if(a.slice(d+2,e).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,d+2);a=a.slice(e);return""+b+c+a}function P(a){if("string"===typeof a)return new b.Url(v(a));
a.scheme||(a.scheme=b.appUrl.scheme);return a}function R(a,c){var d=c&&c.url&&c.url.path;a&&d&&(a=v(a,d,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?(d=c.urlKey+"."+c.customBaseUrl,c=u(b.appUrl,b.appUrl.scheme+"://"+d)?N(a,c.portalHostname,d):N(a,d,c.portalHostname)):c=a;return c}function S(a,b){if(!a)return a;!z(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=v(a);if(b){var d=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||
b.url&&b.url.path;d&&(c=w(c,d,d),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?N(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;z(c)&&(c=C(c));return c}function T(a,b,c){a=k(a);var e=a.query||{};e[b]=c;return a.path+"?"+d.objectToQuery(e)}Object.defineProperty(b,"__esModule",{value:!0});b.Url=h;var Y=l.getLogger("esri.core.urlUtils"),O=f.request,U=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,V=/^\s*http:/i,W=
/^\s*https:/i,Z=/^\s*file:/i,aa=/:\d+$/,ba=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;b.appUrl=new b.Url(f.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var a=b.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=k;b.getProxyUrl=function(a){void 0===a&&(a=!1);var d,e=O.proxyUrl;if("string"===typeof a){if(d=a,d=W.test(d)||"https"===b.appUrl.scheme&&
F(d),a=q(a))e=a.proxyUrl}else d=!!a;if(!e)throw Y.warn("esri/config: esriConfig.request.proxyUrl is not set."),new c("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");d&&I()&&(e=H(e));return k(e)};b.addProxy=function(a){var b=q(a),c,e;b&&(e=r(b.proxyUrl),c=e.path,e=e.query?d.queryToObject(e.query):null);c&&(b=k(a),a=c+"?"+b.path,(c=d.objectToQuery(m({},e,b.query)))&&(a=a+"?"+c));return a};var Q={path:"",query:""};b.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:p(a.urlPrefix)};
for(var b=O.proxyRules,c=a.urlPrefix,d=b.length,e=0;e<b.length;e++){var g=b[e].urlPrefix;if(0===c.indexOf(g)){if(c.length===g.length)return-1;d=e;break}0===g.indexOf(c)&&(d=e+1)}b.splice(d,0,a);return d};b.getProxyRule=q;b.hasSamePortal=function(a,b){a=t(a);b=t(b);return L(a)===L(b)};b.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&e.startsWith(a,b)},c=O.interceptors;if(c)for(var d=0;d<c.length;d++){var g=c[d];if(Array.isArray(g.urls)){if(g.urls.some(b))return g}else if(b(g.urls))return g}return null};
b.hasSameOrigin=u;b.isTrustedServer=function(a){if("string"===typeof a)if(z(a))a=P(a);else return!0;for(var c=O.trustedServers||[],d=0;d<c.length;d++){var e;e=c[d];b.trustedServersUrlCache[e]||(K(e)||F(e)?b.trustedServersUrlCache[e]=[new b.Url(v(e))]:b.trustedServersUrlCache[e]=[new b.Url("http://"+e),new b.Url("https://"+e)]);e=b.trustedServersUrlCache[e];for(var g=0;g<e.length;g++)if(u(a,e[g]))return!0}return!1};b.makeAbsolute=v;b.makeRelative=w;b.normalize=C;b.join=x;b.getOrigin=y;b.isAbsolute=
z;b.isBlobProtocol=A;b.isDataProtocol=E;b.dataToArrayBuffer=D;var ca=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=B;b.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};b.dataToBlob=J;b.downloadDataAsFile=function(b,c){var d;a:if(d=document.createElement("a"),"download"in d){var e=null;if(a.URL&&a.URL.createObjectURL){e=J(b);if(!e){d=!1;break a}e=a.URL.createObjectURL(e)}d.download=c;d.href=e||b;d.style.display="none";document.body.appendChild(d);
d.click();document.body.removeChild(d);e&&a.URL.revokeObjectURL(e);d=void 0}else d=!1;d||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(J(b),c)};b.isProtocolRelative=F;b.hasProtocol=K;b.toHTTP=function(a){return F(a)?"http:"+a:a.replace(W,"http:")};b.toHTTPS=H;b.isAppHTTPS=I;b.removeFile=function(a){var b=0;if(z(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};b.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};b.changeDomain=
N;b.fromJSON=R;b.read=function(a,b,c){return R(a,c)};b.toJSON=S;b.write=function(a,b,c,d){(a=S(a,d))&&(b[c]=a)};b.isSVG=function(a){return X.test(a)};b.removeQueryParameters=function(a,b){a=k(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+".");return a.path};b.addQueryParameter=T;b.addQueryParameters=function(a,b){a=k(a);var c=a.query||{},e;for(e in b)c[e]=b[e];return(b=
d.objectToQuery(c))?a.path+"?"+b:a.path};b.removeQueryParameter=function(a,b){var c=k(a),e=c.path,c=c.query;if(!c)return a;delete c[b];return(a=d.objectToQuery(c))?e+"?"+a:e};b.addTokenParameter=function(a){var b=g.id&&g.id.findCredential(a);return b&&b.token?T(a,"token",b.token):a};var X=/(^data:image\/svg|\.svg$)/i})},"dojo/_base/url":function(){define(["./kernel"],function(n){var b=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,m=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
d=function(){for(var h=arguments,f=[h[0]],g=1;g<h.length;g++)if(h[g]){var c=new d(h[g]+""),f=new d(f[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(f.fragment=c.fragment),c=f;else if(!c.scheme&&(c.scheme=f.scheme,!c.authority&&(c.authority=f.authority,"/"!=c.path.charAt(0)))){for(var f=(f.path.substring(0,f.path.lastIndexOf("/")+1)+c.path).split("/"),a=0;a<f.length;a++)"."==f[a]?a==f.length-1?f[a]="":(f.splice(a,1),a--):0<a&&(1!=a||""!=f[0])&&".."==f[a]&&".."!=f[a-1]&&
(a==f.length-1?(f.splice(a,1),f[a-1]=""):(f.splice(a-1,2),a-=2));c.path=f.join("/")}f=[];c.scheme&&f.push(c.scheme,":");c.authority&&f.push("//",c.authority);f.push(c.path);c.query&&f.push("?",c.query);c.fragment&&f.push("#",c.fragment)}this.uri=f.join("");h=this.uri.match(b);this.scheme=h[2]||(h[1]?"":null);this.authority=h[4]||(h[3]?"":null);this.path=h[5];this.query=h[7]||(h[6]?"":null);this.fragment=h[9]||(h[8]?"":null);null!=this.authority&&(h=this.authority.match(m),this.user=h[3]||null,this.password=
h[4]||null,this.host=h[6]||h[7],this.port=h[9]||null)};d.prototype.toString=function(){return this.uri};return n._Url=d})},"esri/core/deferredUtils":function(){define(["dojo/Deferred"],function(n){var b={makeDeferredCancellingPending:function(){var m={},d=b._dfdCanceller.bind(null,m),d=new n(d);return m.deferred=d},_dfdCanceller:function(b){b=b.deferred?b.deferred:b;b.canceled=!0;var d=b._pendingDfd;b.isResolved()||!d||d.isResolved()||d.cancel();b._pendingDfd=null},_fixDfd:function(b){var d=b.then;
b.then=function(b,f,g){if(b){var c=b;b=function(a){return a&&a._argsArray?c.apply(null,a):c(a)}}return d.call(this,b,f,g)};return b},_resDfd:function(b,d,h){var f=d.length;1===f?h?b.reject(d[0]):b.resolve(d[0]):1<f?(d._argsArray=!0,b.resolve(d)):b.resolve()}};return b})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(n,
b,m,d,h,f,g,c,a,e,l){n=function(b){function c(){var c=b.call(this)||this;c.loadError=null;c.loadStatus="not-loaded";c.loadWarnings=null;c._set("loadWarnings",[]);c.addResolvingPromise(a.create(function(a){var b=!1,d=c.load.bind(c);c.load=function(){"not-loaded"===c.loadStatus&&(c._set("loadStatus","loading"),d());b||(a(),b=!0);return c.when()}}));c.when(function(a){c._set("loadStatus","loaded")},function(a){c._set("loadStatus","failed");c._set("loadError",a)});return c}m(c,b);Object.defineProperty(c.prototype,
"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});c.prototype.load=function(){return null};c.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new f("load:cancelled","Cancelled"));this._promiseProps.resolver.reject(this.loadError);return this};d([l.property({readOnly:!0,dependsOn:["loadStatus"]})],c.prototype,"loaded",null);d([l.property({readOnly:!0})],c.prototype,"loadError",void 0);d([l.property()],c.prototype,"loadStatus",
void 0);d([l.property({type:[e],readOnly:!0})],c.prototype,"loadWarnings",void 0);return c=d([l.subclass("esri.core.Loadable")],c)}(l.declared(h,c));n.prototype["-chains-"]=g.mixin({},h._meta.chains,{load:"after"});return n})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),function(n,b,m,d,h,f,g,c,a){function e(a){var b=a._promiseProps;if(!b.isFulfilled()){var d=
b.resolvingPromises,e,f;b.allPromise&&b.allPromise.cancel();var k,h=g.create(function(a,b){k={resolve:a,reject:b}});for(e=d.length-1;0<=e;e--)f=d[e],f.isCanceled&&f.isCanceled()&&d.splice(e,1);f=null;(b.allPromise=g.all(d.concat([h]))).then(function(){b.resolver.resolve(a);a=b=k=b.allPromise=b.resolvingPromises=null},function(c){b.allPromise=null;if(!c||"cancel"!==c.dojoType){var d=Array.prototype.slice.call(arguments,0);b.resolver.reject(d[0]);a=b=k=b.allPromise=b.resolvingPromises=null}});k&&c.schedule(function(){k&&
k.resolve()})}}var l=function(a){a=new f("AbortError");a.target=this.instance;a.dojoType="cancel";return a},k=function(){function a(a){var b=this;this.canceler=l.bind(this);this.status=void 0;this.initialized=!1;this.resolvingPromises=[];this.instance=a;this.promise=g.create(function(a,c){b.resolver={resolve:a,reject:c}});this.promise.then(function(){b.status=1},function(){b.status=2})}a.prototype.cancel=function(){if(!this.isFulfilled()){this.allPromise.cancel();for(var a=this.resolvingPromises.concat(),
b=a.length-1;0<=b;b--)a[b].cancel();this.resolver.cancel()}};a.prototype.isResolved=function(){return 1===this.status};a.prototype.isRejected=function(){return 2===this.status};a.prototype.isFulfilled=function(){return!!this.status};return a}();return function(b){function c(){var a=b.call(this)||this;a._promiseProps=new k(a);var c=a.postscript;c?a.postscript=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];c.apply(a,b);a.postscript=c;e(a)}:e(a);return a}m(c,b);c.prototype.isResolved=
function(){return this._promiseProps.isResolved()};c.prototype.isRejected=function(){return this._promiseProps.isRejected()};c.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};c.prototype.when=function(a,b){var c=this;return g.create(function(a,b){c._promiseProps.promise.then(a,b)},this._promiseProps.canceler).then(a,b)};c.prototype.catch=function(a){return this.when(null,a)};c.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&("_promiseProps"in
a?this._promiseProps.resolvingPromises.push(a.when()):this._promiseProps.resolvingPromises.push(a),e(this))};return c=d([a.subclass()],c)}(a.declared(h))})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(n,b,m,d,h){n=function(b){function d(c,a,e){var g=b.call(this,c,a,e)||this;return g instanceof d?g:new d(c,a,e)}m(d,b);return d}(h);n.prototype.type="warning";return n})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k){var r=new g.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(b){function g(a){a=b.call(this)||this;a.categories=null;a.disableExtraQuery=!1;a.extent=null;a.num=10;a.query=null;a.sortField=null;a.start=1;return a}d(g,b);f=g;Object.defineProperty(g.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});g.prototype.clone=function(){return new f({categories:this.categories?c.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};g.prototype.toRequestOptions=function(a,b){var c;this.categories&&(c=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var d;if(this.extent){var e=k.project(this.extent,
l.WGS84);e&&(d=e.xmin+","+e.ymin+","+e.xmax+","+e.ymax)}e=this.query;!this.disableExtraQuery&&a.extraQuery&&(e="("+e+")"+a.extraQuery);a={categories:c,bbox:d,q:e,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=r.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:m({},b,a)}};var f;h([a.property()],g.prototype,"categories",void 0);h([a.property()],g.prototype,"disableExtraQuery",void 0);h([a.property({type:e})],g.prototype,"extent",void 0);h([a.property()],
g.prototype,"num",void 0);h([a.property()],g.prototype,"query",void 0);h([a.property()],g.prototype,"sortField",void 0);h([a.property()],g.prototype,"sortOrder",null);h([a.property()],g.prototype,"start",void 0);return g=f=h([a.subclass("esri.portal.PortalQueryParams")],g)}(a.declared(f))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(n,
b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.nextQueryParams=null;a.queryParams=null;a.results=null;a.total=null;return a}m(c,b);d([f.property()],c.prototype,"nextQueryParams",void 0);d([f.property()],c.prototype,"queryParams",void 0);d([f.property()],c.prototype,"results",void 0);d([f.property()],c.prototype,"total",void 0);return c=d([f.subclass("esri.portal.PortalQueryResult")],c)}(f.declared(h))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(n,b,m,d,h,f,g,c,a,e){return function(b){function f(){var a=b.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.units=null;a.username=null;a.userType=null;return a}m(f,b);Object.defineProperty(f.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+
b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});f.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var e={method:"post"};
c&&(e.query=c._getPostQuery(),null!=d&&("string"===typeof d?e.query.text=d:"object"===typeof d&&(e.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+a.id);return this.portal._request(d+"/addItem",e).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};f.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=
null})};f.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):g.resolve(void 0)};f.prototype.fetchFolders=function(){var b=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(c){return c&&c.folders?c.folders.map(function(c){c=a.fromJSON(c);c.portal=b.portal;
return c}):[]})};f.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=e.fromJSON(b);b.portal=a.portal;return b}):[]})};f.prototype.fetchItems=function(a){var b=this;a||(a={});var c=this.userContentUrl;a.folder&&(c+="/"+a.folder.id);var d;return g.create(function(a){return n(["./PortalItem"],a)}).then(function(e){d=e;return b.portal._request(c,{query:{folders:!1,num:a.num||10,start:a.start||1}})}).then(function(a){var c;
return a&&a.items?(c=a.items.map(function(a){a=d.fromJSON(a);a.portal=b.portal;return a}),g.all(c.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:c,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};f.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};f.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new e({id:this.favGroupId,portal:this.portal})),
this._favGroup.queryItems(a)):g.reject(new h("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};f.prototype.toJSON=function(){throw new h("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};d([c.property()],f.prototype,"access",void 0);d([c.property({type:Date})],f.prototype,"created",void 0);d([c.property()],f.prototype,"culture",void 0);d([c.property()],f.prototype,"description",void 0);d([c.property()],f.prototype,"email",void 0);d([c.property()],
f.prototype,"favGroupId",void 0);d([c.property()],f.prototype,"fullName",void 0);d([c.property({type:Date})],f.prototype,"modified",void 0);d([c.property()],f.prototype,"orgId",void 0);d([c.property()],f.prototype,"portal",void 0);d([c.property()],f.prototype,"preferredView",void 0);d([c.property()],f.prototype,"privileges",void 0);d([c.property()],f.prototype,"region",void 0);d([c.property()],f.prototype,"role",void 0);d([c.property()],f.prototype,"roleId",void 0);d([c.property()],f.prototype,"thumbnail",
void 0);d([c.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],f.prototype,"thumbnailUrl",null);d([c.property()],f.prototype,"units",void 0);d([c.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"userContentUrl",null);d([c.property({dependsOn:["portal.restUrl"],readOnly:!0})],f.prototype,"url",null);d([c.property()],f.prototype,"username",void 0);d([c.property()],f.prototype,"userType",void 0);return f=d([c.subclass("esri.portal.PortalUser")],f)}(c.declared(f))})},
"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.created=null;a.id=null;a.portal=null;a.title=null;a.username=null;return a}m(a,b);Object.defineProperty(a.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+
"/"+this.id:null},enumerable:!0,configurable:!0});a.prototype.toJSON=function(){throw new h("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};d([g.property({type:Date})],a.prototype,"created",void 0);d([g.property()],a.prototype,"id",void 0);d([g.property()],a.prototype,"portal",void 0);d([g.property()],a.prototype,"title",void 0);d([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],a.prototype,"url",null);d([g.property()],a.prototype,"username",void 0);return a=
d([g.subclass("esri.portal.PortalFolder")],a)}(g.declared(f))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),function(n,b,m,d,h,f,g,c,a){return function(b){function e(a){a=b.call(this)||this;a.access=null;a.created=null;a.description=null;a.id=null;a.isInvitationOnly=!1;a.modified=
null;a.owner=null;a.portal=null;a.snippet=null;a.sortField=null;a.sortOrder=null;a.tags=null;a.title=null;return a}m(e,b);Object.defineProperty(e.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});e.prototype.fetchCategorySchema=
function(){var a=this;return this.portal._request(this.url+"/categorySchema").then(function(b){b=b.categorySchema||[];return b.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?a._fetchCategorySchemaSet("LivingAtlas"):b})};e.prototype.fetchMembers=function(){return this.portal._request(this.url+"/users")};e.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};e.prototype.toJSON=function(){throw new f("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};e.prototype.queryItems=function(b){if(5<parseFloat(this.portal.currentVersion))return b=b||new a,this.portal._queryPortal("/content/groups/"+this.id+"/search",b,"PortalItem");b=b?b.clone():new a;b.query="group:"+this.id+(b.query?" "+b.query:"");return this.portal.queryItems(b)};e.prototype._fetchCategorySchemaSet=function(b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0).then(function(b){if(b=b.contentCategorySetsGroupQuery){var d=
new a;d.disableExtraQuery=!0;d.num=1;d.query=b;return c.portal.queryGroups(d)}throw new f("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var d=new a;d.num=1;d.query='typekeywords:"'+b+'"';return c.queryItems(d)}throw new f("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData().then(function(a){return(a=a&&a.categorySchema)&&a.length?
a:[]}):[]})};d([c.property()],e.prototype,"access",void 0);d([c.property({type:Date})],e.prototype,"created",void 0);d([c.property()],e.prototype,"description",void 0);d([c.property()],e.prototype,"id",void 0);d([c.property()],e.prototype,"isInvitationOnly",void 0);d([c.property({type:Date})],e.prototype,"modified",void 0);d([c.property()],e.prototype,"owner",void 0);d([c.property()],e.prototype,"portal",void 0);d([c.property()],e.prototype,"snippet",void 0);d([c.property()],e.prototype,"sortField",
void 0);d([c.property()],e.prototype,"sortOrder",void 0);d([c.property()],e.prototype,"tags",void 0);d([c.property()],e.prototype,"thumbnail",void 0);d([c.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],e.prototype,"thumbnailUrl",null);d([c.property()],e.prototype,"title",void 0);d([c.property({dependsOn:["portal.restUrl"],readOnly:!0})],e.prototype,"url",null);d([h(0,c.cast(a))],e.prototype,"queryItems",null);return e=d([c.subclass("esri.portal.PortalGroup")],e)}(c.declared(g))})},
"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f,g,c){var a=new g.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",
MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),e=0;return function(b){function g(a){a=b.call(this,a)||this;a.id="sym"+e++;a.type=null;return a}m(g,b);Object.defineProperty(g.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});g.prototype.readColor=function(a,b,c){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};g.prototype.clone=function(){};d([c.property({type:a.apiValues,json:{read:a.read,write:{ignoreOrigin:!0,writer:a.write}}})],
g.prototype,"type",void 0);d([c.property({type:h,value:new h([0,0,0,1]),json:{write:{allowNull:!0}}})],g.prototype,"color",null);d([c.reader("color")],g.prototype,"readColor",null);return g=d([c.subclass("esri.symbols.Symbol")],g)}(c.declared(f))})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=
b.call(this)||this;a.type="extrude";a.size=void 0;a.material=null;a.castShadows=!0;a.edges=null;return a}m(a,b);c=a;a.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,size:this.size})};var c;d([h.enumeration.serializable()({Extrude:"extrude"})],a.prototype,"type",void 0);d([h.property({type:Number,json:{write:!0}})],
a.prototype,"size",void 0);d([h.property()],a.prototype,"material",void 0);d([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],a.prototype,"castShadows",void 0);d([h.property(g.symbol3dEdgesProperty)],a.prototype,"edges",void 0);return a=c=d([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],a)}(h.declared(f))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators ./support/ElevationInfo ./support/Symbol3DMaterial".split(" "),
function(n,b,m,d,h,f,g,c,a){var e=f.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text"});n=function(b){function f(a){a=b.call(this)||this;a.enabled=!0;a.material=null;a.type=null;return a}m(f,b);f.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};d([g.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],f.prototype,"enabled",void 0);d([g.writer("enabled")],f.prototype,"writeEnabled",null);d([g.property({type:c,json:{read:!1,
write:!1}})],f.prototype,"elevationInfo",void 0);d([g.property({type:a.default,json:{write:!0}})],f.prototype,"material",void 0);d([g.property({type:e.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:e.write}}})],f.prototype,"type",void 0);return f=d([g.subclass("esri.symbols.Symbol3DLayer")],f)}(g.declared(h));(n||(n={})).typeJSONDictionary=e;return n})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ./unitConversionUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){var k=c.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),r=new c.KebabDictionary({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),p=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}m(c,b);g=c;c.prototype.collectRequiredFields=function(a,b){return f(this,void 0,void 0,function(){return h(this,function(c){return[2,
e.collectArcadeFieldNames(a,b,this.expression)]})})};c.prototype.clone=function(){return new g({expression:this.expression,title:this.title})};var g;d([a.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);d([a.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=g=d([a.subclass("esri.layers.support.FeatureExpressionInfo")],c)}(a.declared(g));return function(b){function c(){return null!==b&&b.apply(this,arguments)||this}m(c,b);e=c;c.prototype.readFeatureExpressionInfo=
function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};c.prototype.writeFeatureExpressionInfo=function(a,b,c,d){b[c]=a.write(null,d);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(c.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});c.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};c.prototype.clone=function(){return new e({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var e;d([a.property({type:p,json:{write:!0}})],c.prototype,"featureExpressionInfo",
void 0);d([a.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);d([a.writer("featureExpressionInfo",{featureExpressionInfo:{type:p},"featureExpression.value":{type:[0]}})],c.prototype,"writeFeatureExpressionInfo",null);d([a.property({type:k.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:k.jsonValues,read:k.read,write:{writer:k.write,isRequired:!0}}})],c.prototype,"mode",null);d([a.property({type:Number,
json:{write:!0}})],c.prototype,"offset",void 0);d([a.property({type:l.supportedUnits,json:{type:String,read:r.read,write:r.write}})],c.prototype,"unit",null);return c=e=d([a.subclass("esri.layers.support.ElevationInfo")],c)}(a.declared(g))})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.supportsUnit=function(b){return null!=m.meterIn[b]};b.getMetersPerUnit=function(b){return 1/
(m.meterIn[b]||1)};b.supportedUnits=function(){var b=Object.keys(m.meterIn);b.sort();return b}()})},"esri/renderers/support/utils":function(){define("dojo/date/locale ../../Color ../../core/lang ../../core/numberUtils ../../core/unitUtils dojo/i18n!dojo/cldr/nls/gregorian".split(" "),function(n,b,m,d,h,f){function g(b,c,d){var e="";0===c?e=a.lt+" ":c===d&&(e=a.gt+" ");return e+b}var c={},a={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},e={millisecond:0,second:1,minute:2,hour:3,
day:4,month:5,year:6},l={millisecond:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},second:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},minute:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},hour:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},day:{selector:"date",dateOptions:{formatLength:"long"}},month:{selector:"date",dateOptions:{formatLength:"long"}},year:{selector:"date",dateOptions:{selector:"year"}}},
k={formatLength:"short",fullYear:!0},r={formatLength:"short"};m.mixin(c,{meterIn:{inches:h.convertUnit(1,"meters","inches"),feet:h.convertUnit(1,"meters","feet"),"us-feet":h.convertUnit(1,"meters","us-feet"),yards:h.convertUnit(1,"meters","yards"),miles:h.convertUnit(1,"meters","miles"),"nautical-miles":h.convertUnit(1,"meters","nautical-miles"),millimeters:h.convertUnit(1,"meters","millimeters"),centimeters:h.convertUnit(1,"meters","centimeters"),decimeters:h.convertUnit(1,"meters","decimeters"),
meters:h.convertUnit(1,"meters","meters"),kilometers:h.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/h.lengthToDegrees(1,"meters")},timelineDateFormatOptions:{selector:"date",dateOptions:{formatLength:"short",fullYear:!0}},formatDate:function(a,b){var c=[];null==a||a instanceof Date||(a=new Date(a));b=b||{};b=m.mixin({},b);var d=b.selector?b.selector.toLowerCase():null,e=!d||-1<d.indexOf("time"),d=!d||-1<d.indexOf("date");e&&(b.timeOptions=b.timeOptions||r,b.timeOptions&&(b.timeOptions=
m.mixin({},b.timeOptions),b.timeOptions.selector=b.timeOptions.selector||"time",c.push(b.timeOptions)));d&&(b.dateOptions=b.dateOptions||k,b.dateOptions&&(b.dateOptions=m.mixin({},b.dateOptions),b.dateOptions.selector=b.dateOptions.selector||"date",c.push(b.dateOptions)));c&&c.length?(c=c.map(function(b){return n.format(a,b)}),b=1==c.length?c[0]:f["dateTimeFormat-medium"].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return c[b]})):b=n.format(a);return b},createColorStops:function(a){var b=
a.values,e=a.colors,f=a.labelIndexes,h=a.isDate,k=a.dateFormatOptions;a=[];return a=b.map(function(a,l){var p=null;if(!f||-1<f.indexOf(l)){var q;(q=h?c.formatDate(a,k):d.format(a))&&(p=g(q,l,b.length-1))}return{value:a,color:e[l],label:p}})},updateColorStops:function(a){var b=a.stops,e=a.changes,f=a.isDate,h=a.dateFormatOptions,k=[],l,p=b.map(function(a){return a.value});e.forEach(function(a){k.push(a.index);p[a.index]=a.value});l=d.round(p,{indexes:k});b.forEach(function(a,e){a.value=p[e];if(null!=
a.label){var k,q=null;(k=f?c.formatDate(l[e],h):d.format(l[e]))&&(q=g(k,e,b.length-1));a.label=q}})},createClassBreakLabel:function(b){var c=b.minValue,e=b.maxValue,g=b.isFirstBreak?"":a.gt+" ";b="percent-of-total"===b.normalizationType?a.pct:"";c=null==c?"":d.format(c);e=null==e?"":d.format(e);return g+c+b+" "+a.ld+" "+e+b},setLabelsForClassBreaks:function(a){var b=a.classBreakInfos,e=a.classificationMethod,g=a.normalizationType,f=[];b&&b.length&&("standard-deviation"===e?console.log("setLabelsForClassBreaks: cannot set labels for class breaks generated using 'standard-deviation' method."):
a.round?(f.push(b[0].minValue),b.forEach(function(a){f.push(a.maxValue)}),f=d.round(f),b.forEach(function(a,b){a.label=c.createClassBreakLabel({minValue:0===b?f[0]:f[b],maxValue:f[b+1],isFirstBreak:0===b,normalizationType:g})})):b.forEach(function(a,b){a.label=c.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:g})}))},updateClassBreak:function(a){var b=a.classBreaks,d=a.normalizationType,e=a.change,g=e.index,e=e.value,f=-1,h=-1,k=b.length;"standard-deviation"===
a.classificationMethod?console.log("updateClassBreak: cannot update labels for class breaks generated using 'standard-deviation' method."):(0===g?f=g:g===k?h=g-1:(h=g-1,f=g),-1<f&&f<k&&(a=b[f],a.minValue=e,a.label=c.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===f,normalizationType:d})),-1<h&&h<k&&(a=b[h],a.maxValue=e,a.label=c.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===h,normalizationType:d})))},calculateDateFormatInterval:function(a){var b,
c,d=a.length,g,f,h,k,l,p,m=Infinity,r;a=a.map(function(a){return new Date(a)});for(b=0;b<d-1;b++){g=a[b];h=[];l=Infinity;p="";for(c=b+1;c<d;c++)f=a[c],f=g.getFullYear()!==f.getFullYear()&&"year"||g.getMonth()!==f.getMonth()&&"month"||g.getDate()!==f.getDate()&&"day"||g.getHours()!==f.getHours()&&"hour"||g.getMinutes()!==f.getMinutes()&&"minute"||g.getSeconds()!==f.getSeconds()&&"second"||"millisecond",k=e[f],k<l&&(l=k,p=f),h.push(f);l<m&&(m=l,r=p)}return r},createUniqueValueLabel:function(a){var b=
a.value,e=a.fieldInfo,g=a.domain;a=a.dateFormatInterval;var f=String(b);(g=g&&g.codedValues?g.getName(b):null)?f=g:"number"===typeof b&&(f=e&&"date"===e.type?c.formatDate(b,a&&l[a]):d.format(b));return f}});return c})},"esri/core/numberUtils":function(){define(["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(n,b){function m(b,a){return b-a}var d=/^-?(\d+)(\.(\d+))?$/i,h=new RegExp("\\"+b.decimal+"0+$","g"),f=/(\d)0*$/g,g={numDigits:function(b){var a=String(b),c=a.match(d);b={integer:0,fractional:0};
c&&c[1]?(b.integer=c[1].split("").length,b.fractional=c[3]?c[3].split("").length:0):-1<a.toLowerCase().indexOf("e")&&(c=a.split("e"),a=c[0],c=c[1],a&&c&&(a=Number(a),c=Number(c),(b=0<c)||(c=Math.abs(c)),a=g.numDigits(a),b?(a.integer+=c,a.fractional=c>a.fractional?0:a.fractional-c):(a.fractional+=c,a.integer=c>a.integer?1:a.integer-c),b=a));return b},percentChange:function(b,a,d,g){var c={previous:null,next:null},e;null!=d&&(e=b-d,c.previous=Math.floor(Math.abs(100*(a-d-e)/e)));null!=g&&(e=g-b,c.next=
Math.floor(Math.abs(100*(g-a-e)/e)));return c},round:function(b,a){b=b.slice(0);var c,d,f,h,p,q,n,u,v=a&&null!=a.tolerance?a.tolerance:2,w=a&&a.indexes,C=a&&null!=a.strictBounds?a.strictBounds:!1;if(w)w.sort(m);else for(w=[],p=0;p<b.length;p++)w.push(p);for(p=0;p<w.length;p++)if(u=w[p],a=b[u],c=0===u?null:b[u-1],d=u===b.length-1?null:b[u+1],f=g.numDigits(a),f=f.fractional){q=0;for(n=!1;q<=f&&!n;){h=a;n=q;var x=void 0,y=void 0,x=Number(h.toFixed(n));x<h?y=x+1/Math.pow(10,n):(y=x,x-=1/Math.pow(10,n));
x=Number(x.toFixed(n));y=Number(y.toFixed(n));h=[x,y];h=C&&0===p?h[1]:h[0];n=v;var x=g.percentChange(a,h,c,d),z=y=void 0,y=void 0,y=null==x.previous||x.previous<=n,z=null==x.next||x.next<=n;n=y=y&&z||x.previous+x.next<=2*n;q++}n&&(b[u]=h)}return b},format:function(b,a){a=a||{places:20,round:-1};(b=n.format(b,a))&&(b=b.replace(f,"$1").replace(h,""));return b}};return g})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(n,b,m,d,h,f,g){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}m(a,b);c=a;a.prototype.clone=function(){return new c({color:this.color?this.color.clone():null})};var c;d([f.property(g.colorAndTransparencyProperty)],a.prototype,"color",void 0);return a=c=d([f.subclass("esri.symbols.support.Symbol3DMaterial")],a)}(f.declared(h));b.Symbol3DMaterial=n;b.default=n})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(n,b,m,d,h,f){function g(a,b){a=null!=b.transparency?f.transparencyToOpacity(b.transparency):1;if((b=b.color)&&Array.isArray(b))return new m([b[0]||0,b[1]||0,b[2]||0,a])}function c(a,b){b.color=a.toJSON().slice(0,3);a=f.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}Object.defineProperty(b,"__esModule",{value:!0});b.readColorAndTransparency=g;b.writeColorAndTransparency=c;b.colorAndTransparencyProperty={type:m,json:{type:[h.Integer],read:{source:["color","transparency"],reader:g},write:{target:{color:{type:[h.Integer]},
transparency:{type:h.Integer}},writer:c}}};b.screenSizeProperty={type:Number,cast:d.toPt,json:{write:!0}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(b){b=m.ensureInteger(100*(1-b));return Math.max(0,Math.min(b,100))};b.transparencyToOpacity=function(b){return Math.max(0,Math.min(1-b/100,1))}})},"esri/symbols/edges/utils":function(){define(["require",
"exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(n,b,m,d,h){function f(b,c,a){if(!b)return b;switch(b.type){case "solid":return c=new h,c.read(b,a),c;case "sketch":return c=new d,c.read(b,a),c}}Object.defineProperty(b,"__esModule",{value:!0});b.read=f;b.symbol3dEdgesProperty={types:{key:"type",base:m,typeMap:{solid:h,sketch:d}},json:{read:f,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){return function(b){function g(c){c=b.call(this)||this;c.color=new f([0,0,0,1]);c.extensionLength=0;c.size=a.px2pt(1);return c}m(g,b);g.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=h({},a),delete a.type);return a};g.prototype.clone=function(){};g.prototype.cloneProperties=function(){return{color:c.clone(this.color),size:this.size,extensionLength:this.extensionLength}};d([e.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],
g.prototype,"type",void 0);d([e.property(l.colorAndTransparencyProperty)],g.prototype,"color",void 0);d([e.property(h({},l.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],g.prototype,"extensionLength",void 0);d([e.property(l.screenSizeProperty)],g.prototype,"size",void 0);return g=d([e.subclass("esri.symbols.edges.Edges3D")],g)}(e.declared(g))})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.type="sketch";return a}m(c,b);a=c;c.prototype.clone=function(){return new a(this.cloneProperties())};var a;d([h.property({type:["sketch"]})],c.prototype,"type",void 0);return c=a=d([h.subclass("esri.symbols.edges.SketchEdges3D")],c)}(h.declared(f))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.type="solid";return a}m(c,b);a=c;c.prototype.clone=function(){return new a(this.cloneProperties())};var a;d([h.property({type:["solid"]})],c.prototype,"type",void 0);return c=a=d([h.subclass("esri.symbols.support.SolidEdges3D")],c)}(h.declared(f))})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(n,b,m,d,h,f,g,c){var a=new h.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(b){function c(a){a=b.call(this,a)||this;a.outline=null;a.type=null;return a}m(c,b);d([f.property({type:g,json:{default:null,write:!0}})],c.prototype,"outline",void 0);d([f.property({type:a.apiValues,readOnly:!0,json:{type:a.jsonValues}})],c.prototype,"type",void 0);return c=d([f.subclass("esri.symbols.FillSymbol")],c)}(f.declared(c))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(n,b,m,d,h,f,g,c,a){var e=new h.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,e,g,f){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=7.5;return b}m(b,a);h=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,e,f){if(a&&"string"!==typeof a)return a;var h={};null!=a&&(h.style=a);null!=b&&(h.color=b);null!=c&&(h.width=g.toPt(c));null!=d&&(h.cap=d);null!=e&&(h.join=e);null!=f&&(h.miterLimit=g.toPt(f));return h};b.prototype.clone=function(){return new h({color:f.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var h;d([c.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);d([c.property({type:e.apiValues,json:{read:e.read,write:e.write}})],b.prototype,"style",void 0);d([c.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);d([c.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);d([c.property({type:Number,
cast:g.toPt,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);return b=h=d([c.subclass("esri.symbols.SimpleLineSymbol")],b)}(c.declared(a))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this,a)||this;a.type="simple-line";a.width=.75;return a}m(a,b);d([f.enumeration.serializable()({esriSLS:"simple-line"})],
a.prototype,"type",void 0);d([f.property({type:Number,cast:h.toPt,json:{write:!0}})],a.prototype,"width",void 0);return a=d([f.subclass("esri.symbols.LineSymbol")],a)}(f.declared(g))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(n,b,m,d,h,f,g,c,a){return function(b){function e(a){a=
b.call(this)||this;a.type="fill";a.material=null;a.castShadows=!0;a.outline=null;a.edges=null;return a}m(e,b);f=e;e.prototype.clone=function(){return new f({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,outline:this.outline&&this.outline.clone()})};var f;d([h.enumeration.serializable()({Fill:"fill"})],e.prototype,"type",void 0);d([h.property({type:c.default})],
e.prototype,"material",void 0);d([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],e.prototype,"castShadows",void 0);d([h.property({type:a.default,json:{write:!0}})],e.prototype,"outline",void 0);d([h.property(g.symbol3dEdgesProperty)],e.prototype,"edges",void 0);return e=f=d([h.subclass("esri.symbols.FillSymbol3DLayer")],e)}(h.declared(f))})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(n,b,m,d,h,f){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}m(c,b);a=c;c.prototype.clone=function(){return new a({color:this.color?this.color.clone():null,colorMixMode:this.colorMixMode})};var a;d([h.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],c.prototype,"colorMixMode",void 0);return c=a=d([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],c)}(h.declared(f.default));b.Symbol3DFillMaterial=
n;b.default=n})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(n,b,m,d,h,f,g,c,a){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new h([0,0,0,1]);a.size=g.px2pt(1);return a}m(e,b);
f=e;e.prototype.clone=function(){return new f({color:this.color?this.color.clone():null,size:this.size})};var f;d([c.property(a.colorAndTransparencyProperty)],e.prototype,"color",void 0);d([c.property(a.screenSizeProperty)],e.prototype,"size",void 0);return e=f=d([c.subclass("esri.symbols.support.Symbol3DOutline")],e)}(c.declared(f));b.Symbol3DOutline=n;b.default=n})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.decoration="none";a.family="sans-serif";a.size=9;a.style="normal";a.weight="normal";return a}m(a,b);c=a;a.prototype.castSize=function(a){return f.toPt(a)};a.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var c;d([g.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],a.prototype,"decoration",void 0);
d([g.property({type:String,json:{write:!0}})],a.prototype,"family",void 0);d([g.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],a.prototype,"size",void 0);d([g.cast("size")],a.prototype,"castSize",null);d([g.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],a.prototype,"style",void 0);d([g.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],a.prototype,"weight",void 0);return a=
c=d([g.subclass("esri.symbols.Font")],a)}(g.declared(h))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DOutline".split(" "),function(n,b,m,d,h,f,g,c,a,e){return function(b){function f(a){a=b.call(this)||this;a.material=null;a.resource=null;a.type=
"icon";a.size=12;a.anchor="center";a.anchorPosition=void 0;a.outline=void 0;return a}m(f,b);l=f;f.prototype.clone=function(){return new l({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone(),resource:this.resource&&this.resource.clone(),size:this.size})};var l;d([h.property()],f.prototype,"material",
void 0);d([h.property({type:g.default,json:{write:!0}})],f.prototype,"resource",void 0);d([h.enumeration.serializable()({Icon:"icon"})],f.prototype,"type",void 0);d([h.property(c.screenSizeProperty)],f.prototype,"size",void 0);d([h.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h.property({json:{default:"center"}})],f.prototype,"anchor",
void 0);d([h.property({type:a.Symbol3DAnchorPosition2D,json:{read:{reader:function(b){return new a.Symbol3DAnchorPosition2D({x:b[0],y:b[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],f.prototype,"anchorPosition",void 0);d([h.property({type:e.default,json:{write:!0}})],f.prototype,"outline",void 0);return f=l=d([h.subclass("esri.symbols.IconSymbol3DLayer")],f)}(h.declared(f))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f,g,c){Object.defineProperty(b,"__esModule",{value:!0});var a=f.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});n=function(b){function e(a){return b.call(this,a)||this}m(e,b);f=e;e.prototype.readHref=function(a,b,c){return a?g.fromJSON(a,c):b.dataURI};e.prototype.writeHref=function(a,b,c,d){a&&(g.isDataProtocol(a)?b.dataURI=a:(b.href=g.toJSON(a,d),g.isAbsolute(b.href)&&(b.href=g.normalize(b.href))))};e.prototype.clone=function(){return new f({href:this.href,
primitive:this.primitive})};var f;d([c.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],e.prototype,"href",void 0);d([c.reader("href")],e.prototype,"readHref",null);d([c.writer("href",{href:{type:String},dataURI:{type:String}})],e.prototype,"writeHref",null);d([c.enumeration.serializable()(a)],e.prototype,"primitive",void 0);return e=f=d([c.subclass("esri.symbols.support.IconSymbol3DLayerResource")],e)}(c.declared(h));b.IconSymbol3DLayerResource=n;b.defaultPrimitive="circle";
b.default=n})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.x=0;a.y=0;return a}m(c,b);a=c;c.prototype.clone=function(){return new a({x:this.x,y:this.y})};var a;d([f.property({type:Number})],
c.prototype,"x",void 0);d([f.property({type:Number})],c.prototype,"y",void 0);return c=a=d([f.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],c)}(f.declared(h));b.Symbol3DAnchorPosition2D=n;b.default=n})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){var k=h.ofType({base:null,key:"type",typeMap:{text:a}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new k;b.type="label-3d";return b}m(b,a);c=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return e.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return e.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({styleOrigin:f.clone(this.styleOrigin),
symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail),callout:f.clone(this.callout),verticalOffset:f.clone(this.verticalOffset)})};var c;d([g.property({type:l.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d([g.property(e.calloutProperty)],b.prototype,"callout",void 0);d([g.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);d([g.property({type:k})],b.prototype,"symbolLayers",void 0);d([g.enumeration.serializable()({LabelSymbol3D:"label-3d"})],
b.prototype,"type",void 0);return b=c=d([g.subclass("esri.symbols.LabelSymbol3D")],b)}(g.declared(c))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/kebabDictionary ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u,v,w,C,x,y,z){var A={icon:q,object:u,line:t,path:v,fill:p,extrude:r,text:x},E=h.ofType({base:C,key:"type",typeMap:A}),D=g.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),B=c.getLogger("esri.symbols.Symbol3D");return function(b){function c(a){a=b.call(this)||this;a.styleOrigin=null;a.thumbnail=null;a.type=null;var c=a.__accessor__&&a.__accessor__.metadatas&&a.__accessor__.metadatas.symbolLayers;
a._set("symbolLayers",new (c&&c.type||h));return a}m(c,b);Object.defineProperty(c.prototype,"color",{get:function(){return null},set:function(a){B.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"symbolLayers",{set:function(a){f.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});c.prototype.readSymbolLayers=function(a,b,c){b=[];
for(var d=0;d<a.length;d++){var g=a[d],f=C.typeJSONDictionary.read(g.type),h=f&&A[f];h?(g=new h,g.read(a[d],c),b.push(g)):(B.warn("Unknown symbol layer type: "+f),c&&c.messages&&c.messages.push(new e("symbol-layer:unsupported","Symbol layers of type '"+(f||g.type||"unknown")+"' are not supported",{definition:g,context:c})))}return b};c.prototype.readStyleOrigin=function(b,c,d){if(b.styleUrl&&b.name)return c=a.fromJSON(b.styleUrl,d),new y({styleUrl:c,name:b.name});if(b.styleName&&b.name)return new y({portal:d&&
d.portal||k.getDefault(),styleName:b.styleName,name:b.name});d&&d.messages&&d.messages.push(new e("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:d,definition:b}))};c.prototype.writeStyleOrigin=function(b,c,d,g){b.styleUrl&&b.name?(d=a.toJSON(b.styleUrl,g),a.isAbsolute(d)&&(d=a.normalize(d)),c.styleOrigin={styleUrl:d,name:b.name}):b.styleName&&b.name&&(b.portal&&g&&g.portal&&!a.hasSamePortal(b.portal.restUrl,g.portal.restUrl)?
g&&g.messages&&g.messages.push(new e("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):c.styleOrigin={styleName:b.styleName,name:b.name})};c.prototype.normalizeCtorArgs=function(a){return a instanceof C||a&&A[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};d([l.property({json:{read:!1,write:!1}})],c.prototype,"color",null);d([l.property({type:E,nonNullable:!0,json:{write:!0}}),
l.cast(f.castForReferenceSetter)],c.prototype,"symbolLayers",null);d([l.reader("symbolLayers")],c.prototype,"readSymbolLayers",null);d([l.property({type:y})],c.prototype,"styleOrigin",void 0);d([l.reader("styleOrigin")],c.prototype,"readStyleOrigin",null);d([l.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],c.prototype,"writeStyleOrigin",null);d([l.property({type:z.default,json:{read:!1}})],c.prototype,"thumbnail",
void 0);d([l.property({type:D.apiValues,readOnly:!0,json:{type:D.jsonValues,read:!1}})],c.prototype,"type",void 0);return c=d([l.subclass("esri.symbols.Symbol3D")],c)}(l.declared(w))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(b,h,f){void 0===f&&(f=m);h||(h=new f);if(h===b)return h;h.removeAll();b&&(Array.isArray(b)||b.isInstanceOf&&b.isInstanceOf(m))?h.addMany(b):
b&&h.add(b);return h};b.castForReferenceSetter=function(b){return b}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/materialUtils".split(" "),function(n,b,m,d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="line";b.size=h.px2pt(1);return b}m(b,a);g=b;b.prototype.clone=function(){return new g({enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};var g;d([f.property()],b.prototype,"material",void 0);d([f.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);d([f.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=g=d([f.subclass("esri.symbols.LineSymbol3DLayer")],b)}(f.declared(g))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(n,b,m,d,h,f,g,c,a){return function(b){function e(a){a=b.call(this)||this;a.material=null;a.castShadows=!0;a.resource=null;a.type="object";a.width=void 0;a.height=void 0;a.depth=void 0;a.anchor=void 0;a.anchorPosition=void 0;a.heading=void 0;a.tilt=void 0;a.roll=void 0;return a}m(e,b);f=e;e.prototype.clone=function(){return new f({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:this.material&&this.material.clone(),castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(e.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var f;d([h.property({type:a.default})],e.prototype,"material",void 0);d([h.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],e.prototype,"castShadows",void 0);d([h.property({type:g.default,json:{write:!0}})],e.prototype,"resource",void 0);d([h.enumeration.serializable()({Object:"object"})],e.prototype,"type",void 0);d([h.property({type:Number,json:{write:!0}})],e.prototype,"width",void 0);d([h.property({type:Number,json:{write:!0}})],e.prototype,"height",void 0);d([h.property({type:Number,json:{write:!0}})],e.prototype,"depth",void 0);d([h.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",
origin:"origin",relative:"relative"}),h.property({json:{default:"origin"}})],e.prototype,"anchor",void 0);d([h.property({type:c.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new c.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],e.prototype,"anchorPosition",void 0);d([h.property({type:Number,json:{write:!0}})],e.prototype,"heading",void 0);
d([h.property({type:Number,json:{write:!0}})],e.prototype,"tilt",void 0);d([h.property({type:Number,json:{write:!0}})],e.prototype,"roll",void 0);d([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],e.prototype,"isPrimitive",null);return e=f=d([h.subclass("esri.symbols.ObjectSymbol3DLayer")],e)}(h.declared(f))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f,g,c){Object.defineProperty(b,"__esModule",{value:!0});var a=f.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});n=function(b){function e(){return null!==b&&b.apply(this,arguments)||this}m(e,b);f=e;e.prototype.clone=function(){return new f({href:this.href,primitive:this.primitive})};var f;d([c.property({type:String,json:{read:g.read,write:g.write}})],e.prototype,"href",void 0);d([c.enumeration.serializable()(a)],
e.prototype,"primitive",void 0);return e=f=d([c.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],e)}(c.declared(h));b.ObjectSymbol3DLayerResource=n;b.defaultPrimitive="sphere";b.default=n})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f){Object.defineProperty(b,"__esModule",{value:!0});
n=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.x=0;a.y=0;a.z=0;return a}m(c,b);a=c;c.prototype.clone=function(){return new a({x:this.x,y:this.y,z:this.z})};var a;d([f.property({type:Number})],c.prototype,"x",void 0);d([f.property({type:Number})],c.prototype,"y",void 0);d([f.property({type:Number})],c.prototype,"z",void 0);return c=a=d([f.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],c)}(f.declared(h));b.Symbol3DAnchorPosition3D=n;b.default=n})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer".split(" "),
function(n,b,m,d,h,f){return function(b){function c(a){a=b.call(this)||this;a.material=null;a.castShadows=!0;a.type="path";a.size=void 0;a.profile="tube";a.joint="simple";return a}m(c,b);a=c;c.prototype.readSize=function(a,b){return a||b.width||0};c.prototype.clone=function(){return new a({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,size:this.size,profile:this.profile,joint:this.joint})};
var a;d([h.property()],c.prototype,"material",void 0);d([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);d([h.enumeration.serializable()({Path:"path"})],c.prototype,"type",void 0);d([h.property({type:Number,json:{write:{enabled:!0,target:{size:{type:Number},width:{type:Number}}}}})],c.prototype,"size",void 0);d([h.reader("size",["size","width"])],c.prototype,"readSize",null);d([h.property()],c.prototype,"profile",void 0);d([h.property()],c.prototype,
"joint",void 0);return c=a=d([h.subclass("esri.symbols.PathSymbol3DLayer")],c)}(h.declared(f))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo".split(" "),function(n,b,m,d,h,f,g,c,a,e,l){return function(a){function b(b){b=a.call(this)||this;b._userSize=void 0;
b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}m(b,a);k=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=h({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=
this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new k({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&f.clone(this.font),halo:this.halo&&f.clone(this.halo),material:this.material&&this.material.clone(),size:this.size,text:this.text})};var k;d([g.property({type:c,json:{write:!0}})],b.prototype,
"font",null);d([g.writer("font")],b.prototype,"writeFont",null);d([g.property({type:l.default,json:{write:!0}})],b.prototype,"halo",void 0);d([g.property()],b.prototype,"material",void 0);d([g.property(e.screenSizeProperty),g.property({dependsOn:["font.size"]})],b.prototype,"size",null);d([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d([g.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=k=d([g.subclass("esri.symbols.TextSymbol3DLayer")],b)}(g.declared(a))})},
"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(n,b,m,d,h,f,g,c,a){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new h([0,0,0,1]);a.size=0;return a}m(e,b);f=e;e.prototype.clone=function(){return new f({color:g.clone(this.color),
size:this.size})};var f;d([c.property(a.colorAndTransparencyProperty)],e.prototype,"color",void 0);d([c.property(a.screenSizeProperty)],e.prototype,"size",void 0);return e=f=d([c.subclass("esri.symbols.support.Symbol3DHalo")],e)}(c.declared(f));b.Symbol3DHalo=n;b.default=n})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(n,b,m,d,h,f,g){return function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.portal=null;return a}m(a,b);c=a;a.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;d([f.property({type:String})],a.prototype,"name",void 0);d([f.property({type:String})],a.prototype,"styleUrl",void 0);d([f.property({type:String})],a.prototype,"styleName",void 0);d([f.property({type:g})],a.prototype,"portal",void 0);
return a=c=d([f.subclass("esri.symbols.support.StyleOrigin")],a)}(f.declared(h))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(n,b,m,d,h,f){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}m(c,b);a=c;c.prototype.clone=function(){return new a({url:this.url})};
var a;d([f.property({type:String})],c.prototype,"url",void 0);return c=a=d([f.subclass("esri.symbols.support.Thumbnail")],c)}(f.declared(h));b.Thumbnail=n;b.default=n})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(n,b,m,d){function h(b){if(!b)return!1;b=b.verticalOffset;return!b||0>=b.screenLength||0>=b.maxWorldLength?!1:!0}function f(b,c,a){if(!b)return b;switch(b.type){case "line":return c=new d,c.read(b,a),c}}Object.defineProperty(b,
"__esModule",{value:!0});b.hasVisibleVerticalOffset=h;b.hasVisibleCallout=function(b){if(!b||!b.supportsCallout||!b.supportsCallout())return!1;var c=b.callout;return c&&c.visible?h(b)?!0:!1:!1};b.isCalloutSupport=function(b){return"point-3d"===b.type||"label-3d"===b.type};b.read=f;b.calloutProperty={types:{key:"type",base:m,typeMap:{line:d}},json:{read:f,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(n,b,m,d,h,f,g){return function(b){function a(a){a=b.call(this)||this;a.visible=!0;return a}d(a,b);a.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=m({},a),delete a.type);return a};a.prototype.clone=function(){};h([g.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0);h([g.property({readOnly:!0})],a.prototype,"visible",void 0);return a=h([g.subclass("esri.symbols.callouts.Callout3D")],a)}(g.declared(f))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){return function(a){function b(b){b=a.call(this)||this;b.type="line";b.color=new h([0,0,0,1]);b.size=g.px2pt(1);b.border=null;return b}m(b,a);k=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new k({color:f.clone(this.color),size:this.size,border:f.clone(this.border)})};var k;d([c.property({type:["line"]})],b.prototype,"type",void 0);d([c.property(l.colorAndTransparencyProperty)],
b.prototype,"color",void 0);d([c.property(l.screenSizeProperty)],b.prototype,"size",void 0);d([c.property({type:e.default,json:{write:!0}})],b.prototype,"border",void 0);d([c.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=k=d([c.subclass("esri.symbols.callouts.LineCallout3D")],b)}(c.declared(a))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(n,b,m,d,h,f,g,c,a){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new h("white");return a}m(e,b);f=e;e.prototype.clone=function(){return new f({color:g.clone(this.color)})};var f;d([c.property(a.colorAndTransparencyProperty)],e.prototype,"color",void 0);return e=f=d([c.subclass("esri.symbols.callouts.LineCallout3DBorder")],e)}(c.declared(f));b.LineCallout3DBorder=n;b.default=n})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(n,b,m,d,h,f,g){Object.defineProperty(b,"__esModule",{value:!0});n=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.screenLength=0;a.minWorldLength=0;return a}m(a,b);c=a;a.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;d([f.property(g.screenSizeProperty)],a.prototype,"screenLength",void 0);d([f.property({type:Number,json:{write:!0,default:0}})],a.prototype,"minWorldLength",
void 0);d([f.property({type:Number,json:{write:!0}})],a.prototype,"maxWorldLength",void 0);return a=c=d([f.subclass("esri.symbols.support.Symbol3DVerticalOffset")],a)}(f.declared(h));b.Symbol3DVerticalOffset=n;b.default=n})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(n,
b,m,d,h,f,g,c,a,e){var l=h.ofType({base:null,key:"type",typeMap:{line:c,path:a}}),k=h.ofType({base:null,key:"type",typeMap:{line:c,path:a}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new l;b.type="line-3d";return b}m(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};var c;d([g.property({type:l,json:{type:k}})],b.prototype,"symbolLayers",void 0);d([g.enumeration.serializable()({LineSymbol3D:"line-3d"})],
b.prototype,"type",void 0);return b=c=d([g.subclass("esri.symbols.LineSymbol3D")],b)}(g.declared(e))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(n,b,m,d,h,f,g,c){var a=new h.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(b){function c(a){a=b.call(this,a)||this;a.angle=
0;a.type=null;a.xoffset=0;a.yoffset=0;a.size=9;return a}m(c,b);d([g.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],c.prototype,"angle",void 0);d([g.property({type:a.apiValues,readOnly:!0,json:{type:a.jsonValues}})],c.prototype,"type",void 0);d([g.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"xoffset",void 0);d([g.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"yoffset",void 0);d([g.property({type:Number,
cast:function(a){return"auto"===a?a:f.toPt(a)},json:{write:!0}})],c.prototype,"size",void 0);return c=d([g.subclass("esri.symbols.MarkerSymbol")],c)}(g.declared(c))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),function(n,b,m,d,h,f,g,c,a){var e=h.ofType({base:null,key:"type",typeMap:{fill:c}});return function(a){function b(b){b=
a.call(this)||this;b.symbolLayers=new e;b.type="mesh-3d";return b}m(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};var c;d([g.property({type:e})],b.prototype,"symbolLayers",void 0);d([g.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);return b=c=d([g.subclass("esri.symbols.MeshSymbol3D")],b)}(g.declared(a))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),
function(n,b,m,d,h,f,g,c,a,e){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}m(b,a);h=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=g.toPt(c));null!=d&&(e.height=g.toPt(d));return e};b.prototype.clone=function(){var a=new h({color:f.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});a._set("source",f.clone(this.source));return a};var h;d([c.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);d([c.property(e.urlPropertyDefinition)],b.prototype,"url",void 0);d([c.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);d([c.property({type:Number,json:{write:!0}})],
b.prototype,"yscale",void 0);d([c.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"width",void 0);d([c.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"height",void 0);d([c.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);d([c.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);d([c.property(e.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=h=d([c.subclass("esri.symbols.PictureFillSymbol")],
b)}(c.declared(a))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(n,b,m){function d(b,c,a){return c.imageData?m.makeData({mediaType:c.contentType||"image/png",isBase64:!0,data:c.imageData}):h(c.url,a)}function h(b,c){return!c||"service"!==c.origin&&"portal-item"!==c.origin||!c.layer||"feature"!==c.layer.type&&"stream"!==c.layer.type||m.isAbsolute(b)||!c.layer.parsedUrl?m.fromJSON(b,c):m.join(c.layer.parsedUrl.path,"images",b)}function f(b,
c,a,d){m.isDataProtocol(b)?(b=m.dataComponents(b),c.contentType=b.mediaType,c.imageData=b.data,a&&a.imageData===c.imageData&&a.url&&m.write(a.url,c,"url",d)):m.write(b,c,"url",d)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=d;b.read=h;b.writeImageDataAndUrl=f;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:d},write:{writer:function(b,c,a,d){f(b,c,this.source,d)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(b,
c,a){b={};c.imageData&&(b.imageData=c.imageData);c.contentType&&(b.contentType=c.contentType);c.url&&(b.url=h(c.url,a));return b}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(n,b,m,d,h,f,g,c,a){return function(b){function c(a,c,d){a=b.call(this,a)||this;a.color=null;a.type="picture-marker";
a.url=null;a.source=null;a.height=12;a.width=12;a.size=null;return a}m(c,b);e=c;c.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=f.toPt(b));null!=c&&(d.height=f.toPt(c));return d};c.prototype.readHeight=function(a,b){return b.size||a};c.prototype.readWidth=function(a,b){return b.size||a};c.prototype.clone=function(){var a=new e({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
yoffset:this.yoffset});a._set("source",h.clone(this.source));return a};var e;d([g.property({json:{write:!1}})],c.prototype,"color",void 0);d([g.enumeration.serializable()({esriPMS:"picture-marker"})],c.prototype,"type",void 0);d([g.property(a.urlPropertyDefinition)],c.prototype,"url",void 0);d([g.property(a.sourcePropertyDefinition)],c.prototype,"source",void 0);d([g.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"height",void 0);d([g.reader("height",["height","size"])],c.prototype,
"readHeight",null);d([g.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"width",void 0);d([g.property({json:{write:!1}})],c.prototype,"size",void 0);return c=e=d([g.subclass("esri.symbols.PictureMarkerSymbol")],c)}(g.declared(c))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p){var q=h.ofType({base:null,key:"type",typeMap:{icon:a,object:e,text:k}}),t=h.ofType({base:null,key:"type",typeMap:{icon:a,object:e}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new q;b.type="point-3d";return b}m(b,a);e=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new f("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return r.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return r.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new e({verticalOffset:g.clone(this.verticalOffset),callout:g.clone(this.callout),styleOrigin:g.clone(this.styleOrigin),symbolLayers:g.clone(this.symbolLayers),thumbnail:g.clone(this.thumbnail)})};var e;d([c.property({type:p.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d([c.property(r.calloutProperty)],b.prototype,"callout",void 0);d([c.property({type:q,json:{type:t}})],b.prototype,"symbolLayers",
void 0);d([c.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d([c.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=e=d([c.subclass("esri.symbols.PointSymbol3D")],b)}(c.declared(l))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q){var t=h.ofType({base:null,key:"type",typeMap:{extrude:a,fill:e,icon:l,line:k,object:r,text:q}}),u=h.ofType({base:null,key:"type",typeMap:{extrude:a,fill:e,icon:l,line:k,object:r}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}m(b,a);e=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new f("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new e({styleOrigin:g.clone(this.styleOrigin),symbolLayers:g.clone(this.symbolLayers),thumbnail:g.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new e;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),d=
b.symbolLayers.getItemAt(1);!d.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:d.size,color:d.material.color});b.symbolLayers.removeAt(1)}return b};var e;d([c.property({type:t,json:{type:u}})],b.prototype,"symbolLayers",void 0);d([c.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d([c.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=e=d([c.subclass("esri.symbols.PolygonSymbol3D")],
b)}(c.declared(p))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(n,b,m,d,h,f,g,c,a,e,l){var k=new g.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",
esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(b){function e(a,c,d){a=b.call(this,a)||this;a.color=new f([0,0,0,.25]);a.outline=new l;a.type="simple-fill";a.style="solid";return a}m(e,b);g=e;e.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};e.prototype.clone=function(){return new g({color:c.clone(this.color),outline:this.outline&&
this.outline.clone(),style:this.style})};var g;d([a.property()],e.prototype,"color",void 0);d([a.property()],e.prototype,"outline",void 0);d([a.enumeration.serializable()({esriSFS:"simple-fill"})],e.prototype,"type",void 0);d([a.property({type:k.apiValues,json:{read:k.read,write:k.write}})],e.prototype,"style",void 0);return e=g=d([a.subclass("esri.symbols.SimpleFillSymbol")],e)}(a.declared(e))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/kebabDictionary ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l){var k=new f.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(b){function e(a,c,d,e){a=b.call(this,a)||this;a.color=new h([255,255,255,.25]);a.type="simple-marker";a.size=12;a.style="circle";a.outline=new l;return a}m(e,b);f=e;e.prototype.normalizeCtorArgs=function(a,b,d,e){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);null!=b&&
(f.size=c.toPt(b));d&&(f.outline=d);e&&(f.color=e);return f};e.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())};Object.defineProperty(e.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new f({angle:this.angle,color:g.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};
var f;d([a.property()],e.prototype,"color",void 0);d([a.writer("color")],e.prototype,"writeColor",null);d([a.enumeration.serializable()({esriSMS:"simple-marker"})],e.prototype,"type",void 0);d([a.property()],e.prototype,"size",void 0);d([a.property({type:k.apiValues,json:{read:k.read,write:k.write}})],e.prototype,"style",void 0);d([a.property({type:String,json:{write:!0}})],e.prototype,"path",null);d([a.property({type:l,json:{default:null,write:!0}})],e.prototype,"outline",void 0);return e=f=d([a.subclass("esri.symbols.SimpleMarkerSymbol")],
e)}(a.declared(e))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(n,b,m,d,h,f,g,c,a,e){return function(b){function e(c,d,e){c=b.call(this,c)||this;c.backgroundColor=null;c.borderLineColor=null;c.borderLineSize=null;c.font=new a;c.horizontalAlignment="center";c.kerning=!0;c.haloColor=null;c.haloSize=
null;c.rightToLeft=null;c.rotated=!1;c.text="";c.type="text";c.verticalAlignment=null;c.xoffset=0;c.yoffset=0;c.angle=0;c.width=null;return c}m(e,b);l=e;e.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};e.prototype.clone=function(){return new l({angle:this.angle,backgroundColor:f.clone(this.backgroundColor),borderLineColor:f.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:f.clone(this.color),
font:this.font&&this.font.clone(),haloColor:f.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var l;d([c.property({type:h,json:{write:!0}})],e.prototype,"backgroundColor",void 0);d([c.property({type:h,json:{write:!0}})],e.prototype,"borderLineColor",void 0);d([c.property({type:Number,
json:{write:!0}})],e.prototype,"borderLineSize",void 0);d([c.property({type:a,json:{write:!0}})],e.prototype,"font",void 0);d([c.property({type:["left","right","center","justify"],json:{write:!0}})],e.prototype,"horizontalAlignment",void 0);d([c.property({type:Boolean,json:{write:!0}})],e.prototype,"kerning",void 0);d([c.property({type:h,json:{write:!0}})],e.prototype,"haloColor",void 0);d([c.property({type:Number,cast:g.toPt,json:{write:!0}})],e.prototype,"haloSize",void 0);d([c.property({type:Boolean,
json:{write:!0}})],e.prototype,"rightToLeft",void 0);d([c.property({type:Boolean,json:{write:!0}})],e.prototype,"rotated",void 0);d([c.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);d([c.property({type:String,readOnly:!0})],e.prototype,"type",void 0);d([c.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],e.prototype,"verticalAlignment",void 0);d([c.property({type:Number,cast:g.toPt,json:{write:!0}})],e.prototype,"xoffset",void 0);d([c.property({type:Number,
cast:g.toPt,json:{write:!0}})],e.prototype,"yoffset",void 0);d([c.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],e.prototype,"angle",void 0);d([c.property({type:Number,json:{write:!0}})],e.prototype,"width",void 0);return e=l=d([c.subclass("esri.symbols.TextSymbol")],e)}(c.declared(e))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k){var r=f.getLogger("esri.symbols.WebStyleSymbol"),p=h.strict()({styleSymbolReference:"web-style"});return function(b){function f(a){a=b.call(this,a)||this;a.styleName=null;a.portal=null;a.styleUrl=null;a.thumbnail=null;a.name=null;a.type="web-style";return a}m(f,b);h=f;f.prototype.read=function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b])};f.prototype.clone=function(){return new h({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,
portal:this.portal})};f.prototype.fetchSymbol=function(){var a=this;return g.create(function(a){return n(["./support/styleUtils"],a)}).then(function(b){b=b.resolveWebStyleSymbol(a,{portal:a.portal});b.catch(function(a){r.error("#fetchSymbol()","Failed to create symbol from style",a)});return b})};var h;d([a.property({json:{write:!1}})],f.prototype,"color",void 0);d([a.property({type:String,json:{write:!0}})],f.prototype,"styleName",void 0);d([a.property({type:e,json:{write:!1}})],f.prototype,"portal",
void 0);d([a.property({type:String,json:{read:c.read,write:c.write}})],f.prototype,"styleUrl",void 0);d([a.property({type:k.default,json:{read:!1}})],f.prototype,"thumbnail",void 0);d([a.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);d([a.property({type:p.apiValues,readOnly:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],f.prototype,"type",void 0);return f=h=d([a.subclass("esri.symbols.WebStyleSymbol")],f)}(a.declared(l))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(n,b,m,d,h,f,g,c,a,e,l,k,r,p,q,t,u,v,w,C){function x(a,b,c){b=a?z[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new d("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function y(a,b,c){if(!a)return null;if(c&&"web-scene"===c.origin&&!a.isInstanceOf(t)&&!a.isInstanceOf(v)){var d=C.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new m("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var z={esriSMS:q,esriPMS:e,esriTS:u,esriSLS:p,esriSFS:r,esriPFS:a,PointSymbol3D:l,LineSymbol3D:g,PolygonSymbol3D:k,MeshSymbol3D:c,LabelSymbol3D:f,styleSymbolReference:v,CIMSymbolReference:h};b.read=x;b.writeTarget=function(a,b,c,d){(a=y(a,{},d))&&(b[c]=
a)};b.write=y;b.fromJSON=function(a,b){return x(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new w}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define("require exports ../../Color ../../symbols ../../core/Error ../../core/lang ../../core/Logger ../../core/mathUtils ../Font ./IconSymbol3DLayerResource".split(" "),function(n,b,m,d,h,f,g,c,a,e){function l(a){var b=a.color?a.color.clone():new m([255,255,255]),
c,f,g,h;if(a instanceof d.PictureMarkerSymbol)a.color&&0===a.color.r&&0===a.color.g&&0===a.color.b&&(b=new m([255,255,255])),c=new e.default({href:a.url}),f=a.width<=a.height?a.height:a.width,(k(a.xoffset)||k(a.yoffset))&&0<a.width&&0<a.height&&(h={x:-(a.xoffset||0)/a.width,y:(a.yoffset||0)/a.height});else{c=e.default;f=a.style;var l=r[f];l?f=l:(p.warn(f+' cannot be mapped to Icon symbol. Fallback to "circle"'),f="circle");c=new c({primitive:f});f=a.size;(k(a.xoffset)||k(a.yoffset))&&0<a.size&&(h=
{x:-(a.xoffset||0)/f,y:(a.yoffset||0)/f});a.outline&&0<a.outline.width&&(g={size:a.outline.width,color:a.outline.color?a.outline.color.clone():[255,255,255]})}return new d.PointSymbol3D(new d.IconSymbol3DLayer({size:f,resource:c,material:{color:b},outline:g,anchor:h?"relative":void 0,anchorPosition:h}))}function k(a){return c.isFinite(a)&&0!==a}Object.defineProperty(b,"__esModule",{value:!0});var r={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null},
p=g.getLogger("esri.symbols.support.symbolConversion");b.to3D=function(b,c,e,g){void 0===c&&(c=!1);void 0===e&&(e=!1);void 0===g&&(g=!0);if(!b)return{symbol:null};if(d.isSymbol3D(b)||b instanceof d.WebStyleSymbol)g=b.clone();else if(b instanceof d.SimpleLineSymbol)g=new d.LineSymbol3D(new d.LineSymbol3DLayer({size:b.width||1,material:{color:b.color?b.color.clone():[255,255,255]}}));else if(b instanceof d.SimpleMarkerSymbol)g=l(b);else if(b instanceof d.PictureMarkerSymbol)g=l(b);else if(b instanceof
d.SimpleFillSymbol)g=new d.FillSymbol3DLayer({material:{color:b.color?b.color.clone():[255,255,255,0]}}),b.outline&&(g.outline={size:b.outline.width||0,color:b.outline.color?b.outline.color.clone():[255,255,255]}),g=new d.PolygonSymbol3D(g);else if(b instanceof d.TextSymbol){var k;k=b.haloColor;var m=b.haloSize;k=k&&0<m?{color:f.clone(k),size:m}:null;m=b.font?b.font.clone():new a;g=new (g?d.LabelSymbol3D:d.PointSymbol3D)(new d.TextSymbol3DLayer({size:m.size,font:m,halo:k,material:{color:b.color.clone()},
text:b.text}))}else return{error:new h("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(b.type||b.declaredClass)+"' is unsupported in 3D",{symbol:b})};c&&(g.id=b.id);if(e&&d.isSymbol3D(g))for(b=0;b<g.symbolLayers.length;++b)g.symbolLayers.getItemAt(b)._ignoreDrivers=!0;return{symbol:g}}})},"esri/core/mathUtils":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});b.isFinite=Number.isFinite||function(b){return"number"===typeof b&&window.isFinite(b)};
b.isNaN=Number.isNaN||function(b){return b!==b};b.nextHighestPowerOfTwo=function(b){--b;for(var d=1;32>d;d<<=1)b|=b>>d;return b+1}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.isSome=function(b){return null!=b};b.isNone=function(b){return null==b};b.map=function(b,h){return null!=b?h(b):null};b.unwrap=function(b){return b};b.expect=function(b){return b}})},"esri/core/requireUtils":function(){define(["require",
"exports","./promiseUtils"],function(n,b,m){function d(b,f){return Array.isArray(f)?m.create(function(d){b(f,function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];d(b)})}):d(b,[f]).then(function(b){return b[0]})}Object.defineProperty(b,"__esModule",{value:!0});b.when=d;b.getAbsMid=function(b,d,g){return d.toAbsMid?d.toAbsMid(b):g.id.replace(/\/[^\/]*$/gi,"/")+b}})},"esri/core/workers":function(){define(["require","exports","./workers/workers"],function(n,b,m){Object.defineProperty(b,
"__esModule",{value:!0});for(var d in m)b.hasOwnProperty(d)||(b[d]=m[d])})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(n,b,m,d,h,f,g,c){function a(){if(p)return p;for(var a=e+l,b=[],d=function(a){var d=c.create(a).then(function(b){return r[a]=b});b.push(d)},f=0;f<a;f++)d(f);return p=h.all(b).then(function(){})}Object.defineProperty(b,"__esModule",{value:!0});b.Connection=f;b.RemoteClient=
g;(f=d("host-browser")?navigator.hardwareConcurrency:0)||(f=d("safari")&&d("mac")||d("trident")?8:2);var e=d("esri-workers-debug")?1:Math.max(1,Math.ceil(f/2)),l=d("esri-workers-debug")?1:Math.max(1,Math.floor(f/2)),k=0,r=[];b.initialize=function(){a()};b.openWithPorts=function(a,c){return new b.Connection(a.map(function(a){return new b.RemoteClient(a,c,{})}))};b.open=function(c,d){void 0===d&&(d={});if("string"!==typeof c)return h.reject(new m("workers:undefined-module","modulePath is missing"));
var f=d.strategy||"distributed";if("local"===f){var g=d.client;return h.create(function(a){return n([c],function(c){g=g||c;a(b.RemoteClient.connect(c))})}).then(function(a){return new b.Connection([new b.RemoteClient(a,g,d)])})}return a().then(function(){if("dedicated"===f){var a=e+k++;k%=l;return r[a].open(c).then(function(a){return new b.Connection([new b.RemoteClient(a,d.client,d)])})}return h.all(r.map(function(a){return a.open(c)})).then(function(a){return new b.Connection(a.map(function(a){return new b.RemoteClient(a,
d.client,d)}))})})};b.terminate=function(){p&&(p.cancel(),p=null);for(var a=0;a<r.length;a++)r[a]&&r[a].terminate();r.length=0};var p=null})},"esri/core/workers/Connection":function(){define(["require","exports","../Logger","../promiseUtils"],function(n,b,m,d){var h=m.getLogger("esri.core.workers.Connection");return function(){function b(b){this._clientIdx=0;this._clients=b}b.prototype.broadcast=function(b,c,a){for(var d=[],f=0,g=this._clients;f<g.length;f++)d.push(g[f].invoke(b,c,a));return d};b.prototype.close=
function(){for(var b=0,c=this._clients;b<c.length;b++)c[b].close();this._clients=[]};b.prototype.getAvailableClient=function(){var b;this._clients.some(function(c){return c.isBusy()?!1:(b=c,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,b=this._clients[this._clientIdx]);return b};b.prototype.invoke=function(b,c,a){var e=null;Array.isArray(a)?(h.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),e={transferList:a}):e=a;return this._clients&&
this._clients.length?this.getAvailableClient().invoke(b,c,e):d.reject(Error("Connection closed"))};b.prototype.openPorts=function(){return d.all(this._clients.map(function(b){return b.openPort()}))};return b}()})},"esri/core/workers/WorkerOwner":function(){define("require exports ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),function(n,b,m,d,h,f,g,c){var a=h.getLogger("esri.core.workers"),e=g.MessageType.ABORT,l=g.MessageType.INVOKE,k=g.MessageType.OPEN,r=g.MessageType.OPENED,
p=g.MessageType.RESPONSE;return function(){function b(b,c){this._outJobs=new Map;this._inJobs=new Map;this.worker=b;this.id=c;b.addEventListener("message",this._onMessage.bind(this));b.addEventListener("error",function(b){b.preventDefault();a.error(b)})}b.create=function(a){return c.createWorker().then(function(c){return new b(c,a)})};b.prototype.terminate=function(){this.worker.terminate()};b.prototype.open=function(a){var b=this,c=g.newJobId(),d=function(){b._outJobs["delete"](c);b._post({type:e,
jobId:c})};return f.create(function(e,f){b._outJobs.set(c,{resolve:e,reject:f,cancel:d});b._post({type:k,jobId:c,modulePath:a})},d)};b.prototype._onMessage=function(a){if(a=g.receiveMessage(a))switch(a.type){case r:case p:this._onResponse(a);break;case e:this._onCancel(a);break;case l:this._onInvoke(a)}};b.prototype._onCancel=function(a){(a=this._inJobs.get(a.jobId))&&a.cancel()};b.prototype._onInvoke=function(a){var b=this,c=a.methodName,d=a.jobId;a=a.data;var e=this._inJobs,h=m.workerMessages[c],
k;try{if("function"!==typeof h)throw new TypeError(c+" is not a function");k=h.call(null,a)}catch(z){this._post({type:p,jobId:d,error:g.toInvokeError(z)});return}f.isThenable(k)?(e.set(d,k),k.then(function(a){e["delete"](d);b._post({type:p,jobId:d},a)}).catch(function(a){e["delete"](d);a||(a={message:"Error encountered at method"+c});a.dojoType&&"cancel"===a.dojoType||b._post({type:p,jobId:d,error:g.toInvokeError(a)})})):this._post({type:p,jobId:d},k)};b.prototype._onResponse=function(a){var b=a.jobId,
c=a.error;a=a.data;var e=this._outJobs.get(b);e&&(this._outJobs["delete"](b),c?e.reject(d.fromJSON(JSON.parse(c))):e.resolve(a))};b.prototype._post=function(a,b,c){return g.postMessage(this.worker,a,b,c)};return b}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),function(n,b,m,d,h,f,g,c,a,e,l){function k(b){return c.create(function(c){function g(l){if(l=
e.receiveMessage(l))switch(l.type){case t:l=b;var n=h.workers.loaderUrl||a.DEFAULT_LOADER_URL,r;null!=h["default"]?(r=m({},h),delete r["default"],r=JSON.parse(JSON.stringify(r))):r=JSON.parse(JSON.stringify(h));var u=h.workers.loaderConfig,u=a.default({baseUrl:u.baseUrl,locale:d.locale,has:m({"config-deferredInstrumentation":0,"dojo-test-sniff":0,"esri-secure-context":f("esri-secure-context"),"esri-workers-arraybuffer-transfer":f("esri-workers-arraybuffer-transfer"),"events-keypress-typed":0,"host-webworker":1},
u.has),map:m({},u.map),paths:m({},u.paths),packages:u.packages||[]});l.postMessage({type:q,configure:{esriConfig:r,loaderUrl:n,loaderConfig:u}});break;case p:b.removeEventListener("message",g),b.removeEventListener("error",k),c(b)}}function k(a){a.preventDefault();b.removeEventListener("message",g);b.removeEventListener("error",k);r.warn("Failed to create Worker. Fallback to execute module in main thread",a);b=new l;b.addEventListener("message",g);b.addEventListener("error",k)}b.addEventListener("message",
g);b.addEventListener("error",k)})}Object.defineProperty(b,"__esModule",{value:!0});var r=g.getLogger("esri.core.workers");f.add("esri-workers-arraybuffer-transfer",!f("safari")||12<=f("safari"));var p=e.MessageType.CONFIGURED,q=e.MessageType.CONFIGURE,t=e.MessageType.HANDSHAKE,u;try{u=URL.createObjectURL(new Blob(['var globalId\x3d0;var outgoing\x3dnew Map;var configured\x3dfalse;var HANDSHAKE\x3d0;var CONFIGURE\x3d1;var CONFIGURED\x3d2;var OPEN\x3d3;var OPENED\x3d4;var RESPONSE\x3d5;var INVOKE\x3d6;var CANCEL\x3d7;function mapDelete(map,key){map["delete"](key)}function receiveMessage(event){if(!event||!event.data){return null}if(typeof event.data\x3d\x3d\x3d"string"){return JSON.parse(event.data)}return event.data}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal;var Deferred\x3drequire("dojo/Deferred");var jobId\x3dglobalId++;var abortHandler\x3dfunction(){if(!outgoing.has(jobId)){return}self.postMessage({type:CANCEL,methodName:methodName,jobId:jobId});mapDelete(outgoing,jobId);if(!deferred.isCanceled()){deferred.cancel()}if(signal){signal.removeEventListener("abort",abortHandler)}};if(signal){signal.addEventListener("abort",abortHandler)}var deferred\x3dnew Deferred(abortHandler);outgoing.set(jobId,deferred);self.postMessage({type:INVOKE,methodName:methodName,jobId:jobId,data:data});return deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(!message){return}var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured){return}self.dojoConfig\x3dconfiguration.loaderConfig;self.importScripts(configuration.loaderUrl);if(typeof require.config\x3d\x3d\x3d"function"){require.config(configuration.loaderConfig)}require(["esri/config"],function(esriConfig){for(var name in configuration.esriConfig){if(Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)){esriConfig[name]\x3dconfiguration.esriConfig[name]}}self.postMessage({type:CONFIGURED})});break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient",modulePath],function(RemoteClient,Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])});break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);mapDelete(outgoing,jobId);if(message.error){deferred.reject(JSON.parse(message.error))}else{deferred.resolve(message.data)}}break}}self.addEventListener("message",messageHandler);self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(v){}b.createWorker=function(){if(!f("esri-workers"))return k(new l);var a;if(u)try{a=new Worker(u)}catch(w){r.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new l}else r.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new l;return k(a)}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper","../has","../urlUtils"],function(n,b,m,d,h){Object.defineProperty(b,
"__esModule",{value:!0});d=d("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";b.DEFAULT_LOADER_URL=h.makeAbsolute(h.removeQueryParameters(n.toUrl(d)));b.DEFAULT_CONFIG={baseUrl:function(){var b=h.removeQueryParameters(n.toUrl("dojo/x.js"));return h.makeAbsolute(b.slice(0,b.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},{name:"globalize",main:"dist/globalize"},{name:"maquette",main:"dist/maquette.umd"},
{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};b.default=function(d){var f={async:d.async,isDebug:d.isDebug,locale:d.locale,baseUrl:d.baseUrl,has:m({},d.has),map:m({},d.map),packages:d.packages&&d.packages.concat()||
[],paths:m({},d.paths)};d.hasOwnProperty("async")||(f.async=!0);d.hasOwnProperty("isDebug")||(f.isDebug=!1);d.baseUrl||(f.baseUrl=b.DEFAULT_CONFIG.baseUrl);b.DEFAULT_CONFIG.packages.forEach(function(a){a:{for(var b=f.packages,c=0;c<b.length;c++)if(b[c].name===a.name)break a;a=m({},a);c=h.removeQueryParameters(n.toUrl(a.name+"/x.js"));c=c.slice(0,c.length-5);a.location=h.makeAbsolute(c);b.push(a)}});d=f.map=f.map||{};for(var c=0,a=Object.keys(b.DEFAULT_CONFIG.map);c<a.length;c++){var e=a[c];d[e]||
(d[e]=b.DEFAULT_CONFIG.map[e])}return f}})},"esri/core/workers/WorkerFallback":function(){define(["require","exports","../global","../has","./utils"],function(n,b,m,d,h){var f=function(){return function(){var a=this,b=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(c){a[c]=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b[c].apply(b,a)}})}}(),g=m.MutationObserver||m.WebKitMutationObserver,c=function(){var a;
if(m.process&&m.process.nextTick)a=function(a){m.process.nextTick(a)};else if(m.Promise)a=function(a){m.Promise.resolve().then(a)};else if(g){var b=[],c=document.createElement("div");(new g(function(){for(;0<b.length;)b.shift()()})).observe(c,{attributes:!0});a=function(a){b.push(a);c.setAttribute("queueStatus","1")}}return a}(),a=function(){var a=m.MessageEvent;try{new a("message",{data:null})}catch(l){return function(a,b){void 0===b&&(b={});var c=b.data,d=b.bubbles,d=void 0===d?!1:d;b=b.cancelable;
b=void 0===b?!1:b;var e=document.createEvent("Event");e.initEvent(a,d,b);e.data=c;return e}}return function(b,c){return new a(b,c)}}();return function(){function b(){this._dispatcher=new f;this._isInitialized=!1;this._workerPostMessage({type:h.MessageType.HANDSHAKE})}b.prototype.terminate=function(){};Object.defineProperty(b.prototype,"onmessage",{get:function(){return this._onmessageHandler},set:function(a){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=
a)&&this.addEventListener("message",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(a){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=a)&&this.addEventListener("error",a)},enumerable:!0,configurable:!0});b.prototype.postMessage=function(b,d){var e=this;c(function(){e._workerMessageHandler(a("message",{data:b}))})};b.prototype.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};
b.prototype.addEventListener=function(a,b,c){this._dispatcher.addEventListener(a,b,c)};b.prototype.removeEventListener=function(a,b,c){this._dispatcher.removeEventListener(a,b,c)};b.prototype._workerPostMessage=function(b,d){var e=this;c(function(){e.dispatchEvent(a("message",{data:b}))})};b.prototype._workerMessageHandler=function(a){var b=this;if(a=h.receiveMessage(a)){var c=a.jobId;switch(a.type){case h.MessageType.CONFIGURE:this._isInitialized||this._workerPostMessage({type:h.MessageType.CONFIGURED});
break;case h.MessageType.OPEN:n(["esri/core/workers/RemoteClient",a.modulePath],function(a,d){a=a.connect(d);b._workerPostMessage({type:h.MessageType.OPENED,jobId:c,data:a})})}}};return b}()})},"esri/tasks/operations/pbfQueryUtils":function(){define(["require","exports","./pbfFeatureServiceParser"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.parsePBFFeatureQuery=function(b,h){if((b=m.parseFeatureQuery(b,h).queryResult.featureResult)&&b.features&&b.features.length&&b.objectIdFieldName){h=
b.objectIdFieldName;for(var d=0,g=b.features;d<g.length;d++){var c=g[d];c.attributes&&(c.objectId=c.attributes[h])}}return b}})},"esri/tasks/operations/pbfFeatureServiceParser":function(){define("require exports ../../core/Error ../../core/Logger ../../core/pbf ./pbfDehydratedFeatureSet ./pbfOptimizedFeatureSet".split(" "),function(n,b,m,d,h,f,g){function c(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getSInt32();
case 5:return a.getUInt32();case 6:return a.getInt64();case 7:return a.getUInt64();case 8:return a.getSInt64();case 9:return a.getBool();default:return a.skip(),null}return null}function a(a){for(var b={type:0>=k.length?null:k[0]};a.next();)switch(a.tag()){case 1:b.name=a.getString();break;case 2:var c=a.getEnum();b.type=c>=k.length?null:k[c];break;case 3:b.alias=a.getString();break;case 4:c=a.getEnum();c=c>=r.length?null:r[c];b.sqlType=c;break;default:a.skip()}return b}function e(a,b,d,e){for(var f=
a.createFeature(b),g=0;d.next();)switch(d.tag()){case 1:var h=e[g++].name;f.attributes[h]=c(d.getMessage());break;case 2:for(var h=a,k=b,l=d.getMessage(),m=h.createGeometry(k),k=2+(k.hasZ?1:0)+(k.hasM?1:0);l.next();)switch(l.tag()){case 2:for(var n=l.getUInt32(),n=l.pos()+n,p=0;l.pos()<n;)h.addLength(m,l.getUInt32(),p++);break;case 3:for(var n=l.getUInt32(),n=l.pos()+n,q=p=0;l.pos()<n;)h.addCoordinate(m,l.getSInt64(),q,p),p++,p===k&&(q++,p=0);break;default:l.skip()}f.geometry=m;break;case 4:h=a;l=
d.getMessage();for(m=h.createPointGeometry(b);l.next();)switch(l.tag()){case 3:k=l.getUInt32();k=l.pos()+k;for(n=0;l.pos()<k;)h.addCoordinatePoint(m,l.getSInt64(),0,n++);break;default:l.skip()}f.centroid=m;break;default:d.skip()}return f}Object.defineProperty(b,"__esModule",{value:!0});var l=d.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),k="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
r="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),p=["upperLeft","lowerLeft"];b.parseFeatureQuery=function(b,c){c=c&&"dehydrated"===c.type?new f.Context(c):
new g.Context(c);try{var d=new h(new Uint8Array(b),new DataView(b));for(b={};d.next();)switch(d.tag()){case 2:for(var k=b,n=c,q=d.getMessage(),r={};q.next();)switch(q.tag()){case 1:var t=n,z=q.getMessage(),A=t.createFeatureResult();A.geometryType=0>=t.geometryTypes.length?null:t.geometryTypes[0];for(var E=!1;z.next();)switch(z.tag()){case 1:A.objectIdFieldName=z.getString();break;case 3:A.globalIdFieldName=z.getString();break;case 4:A.geohashFieldName=z.getString();break;case 5:for(var D=z.getMessage(),
B={};D.next();)switch(D.tag()){case 1:B.shapeAreaFieldName=D.getString();break;case 2:B.shapeLengthFieldName=D.getString();break;case 3:B.units=D.getString();break;default:D.skip()}A.geometryProperties=B;break;case 7:var J=z.getEnum();A.geometryType=J>=t.geometryTypes.length?null:t.geometryTypes[J];break;case 8:for(var F=z.getMessage(),K=t.createSpatialReference();F.next();)switch(F.tag()){case 1:K.wkid=F.getUInt32();break;case 5:K.wkt=F.getString();break;default:F.skip()}A.spatialReference=K;break;
case 10:A.hasZ=z.getBool();break;case 11:A.hasM=z.getBool();break;case 12:for(var G=z.getMessage(),H={originPosition:0>=p.length?null:p[0]};G.next();)switch(G.tag()){case 1:var I=G.getEnum();H.originPosition=I>=p.length?null:p[I];break;case 2:for(var L=G.getMessage(),B=[0,0,0,0];L.next();)switch(L.tag()){case 1:B[0]=L.getDouble();break;case 2:B[1]=L.getDouble();break;case 4:B[2]=L.getDouble();break;case 3:B[3]=L.getDouble();break;default:L.skip()}H.scale=B;break;case 3:for(var M=G.getMessage(),B=
[0,0,0,0];M.next();)switch(M.tag()){case 1:B[0]=M.getDouble();break;case 2:B[1]=M.getDouble();break;case 4:B[2]=M.getDouble();break;case 3:B[3]=M.getDouble();break;default:M.skip()}H.translate=B;break;default:G.skip()}A.transform=H;break;case 9:var N=z.getBool();A.exceededTransferLimit=N;break;case 13:t.addField(A,a(z.getMessage()));break;case 15:E||(t.prepareFeatures(A),E=!0);t.addFeature(A,e(t,A,z.getMessage(),A.fields));break;default:z.skip()}t.finishFeatureResult(A);r.featureResult=A;break;default:q.skip()}k.queryResult=
r;break;default:d.skip()}return b}catch(P){return d=new m("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:P}),l.error(d),{queryResult:{featureResult:c.createFeatureResult()}}}}})},"esri/tasks/operations/pbfDehydratedFeatureSet":function(){define("require exports ../../Graphic ../../core/compilerUtils ../../geometry/SpatialReference ../../layers/support/Field".split(" "),function(n,b,m,d,h,f){function g(a,b,c,d){return b}function c(a,b,c,d){switch(c){case 0:return k(a,b+d,0);
case 1:return a.translate[1]-(b+d)*a.scale[1]}}function a(a,b,c,d){switch(c){case 0:return k(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return k(a,b,2)}}function e(a,b,c,d){switch(c){case 0:return k(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return k(a,b,3)}}function l(a,b,c,d){switch(c){case 0:return k(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return k(a,b,3);case 3:return k(a,b,3)}}function k(a,b,c){return a.translate[c]+b*a.scale[c]}Object.defineProperty(b,
"__esModule",{value:!0});n=function(){function b(a){this.options=a;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=g;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0}b.prototype.createFeatureResult=function(){return{exceededTransferLimit:!1,features:[],fields:[],hasM:!1,hasZ:!1,geometryType:null,objectIdFieldName:null,globalIdFieldName:null,
geometryProperties:null,geohashFieldName:null,spatialReference:null,transform:null}};b.prototype.finishFeatureResult=function(a){this.options.applyTransform&&(a.transform=null)};b.prototype.createSpatialReference=function(){return new h};b.prototype.addField=function(a,b){a.fields.push(f.fromJSON(b))};b.prototype.addFeature=function(a,b){var c=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<c)for(var d in b.attributes){var e=b.attributes[d];"string"===typeof e&&
e.length>c&&delete b.attributes[d]}a.features.push(b)};b.prototype.prepareFeatures=function(a){this.options.applyTransform&&a.transform&&(this.transform=a.transform,this.applyTransform=this.deriveApplyTransform(a));this.vertexDimension=2;a.hasZ&&this.vertexDimension++;a.hasM&&this.vertexDimension++;switch(a.geometryType){case "point":this.addCoordinate=this.addCoordinatePoint.bind(this);this.createGeometry=this.createPointGeometry.bind(this);break;case "polygon":this.addCoordinate=this.addCoordinatePolygon.bind(this);
this.createGeometry=this.createPolygonGeometry.bind(this);break;case "polyline":this.addCoordinate=this.addCoordinatePolyline.bind(this);this.createGeometry=this.createPolylineGeometry.bind(this);break;case "multipoint":this.addCoordinate=this.addCoordinateMultipoint.bind(this);this.createGeometry=this.createMultipointGeometry.bind(this);break;default:d.neverReached(a.geometryType)}};b.prototype.createFeature=function(a){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=
0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{uid:m.generateUID(),objectId:null,attributes:{},geometry:null,visible:!0}};b.prototype.addLength=function(a,b,c){0===this.lengths.length&&(this.toAddInCurrentPath=b);this.lengths.push(b)};b.prototype.createPointGeometry=function(a){a={type:"point",x:0,y:0,spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM};a.hasZ&&(a.z=0);a.hasM&&(a.m=0);return a};b.prototype.addCoordinatePoint=function(a,b,c,d){b=this.applyTransform(this.transform,
b,d,0);switch(d){case 0:a.x=b;break;case 1:a.y=b;break;case 2:a.hasZ?a.z=b:a.m=b;break;case 3:a.m=b}};b.prototype.transformPathLikeValue=function(a,b){var c=0;1>=b&&(c=this.previousCoordinate[b],this.previousCoordinate[b]+=a);return this.applyTransform(this.transform,a,b,c)};b.prototype.addCoordinatePolyline=function(a,b,c,d){this.dehydratedAddPointsCoordinate(a.paths,b,c,d)};b.prototype.addCoordinatePolygon=function(a,b,c,d){this.dehydratedAddPointsCoordinate(a.rings,b,c,d)};b.prototype.addCoordinateMultipoint=
function(a,b,c){0===c&&a.points.push([]);b=this.transformPathLikeValue(b,c);a.points[a.points.length-1].push(b)};b.prototype.createPolygonGeometry=function(a){return{type:"polygon",rings:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};b.prototype.createPolylineGeometry=function(a){return{type:"polyline",paths:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};b.prototype.createMultipointGeometry=function(a){return{type:"multipoint",points:[],spatialReference:a.spatialReference,
hasZ:!!a.hasZ,hasM:!!a.hasM}};b.prototype.dehydratedAddPointsCoordinate=function(a,b,c,d){null===this.coordinateBuffer&&(c=this.lengths.reduce(function(a,b){return a+b},0),this.coordinateBuffer=new Float64Array(c*this.vertexDimension));0===d&&0===this.toAddInCurrentPath--&&(a.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);b=this.transformPathLikeValue(b,d);a=a[a.length-1];0===d&&a.push(new Float64Array(this.coordinateBuffer.buffer,
this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=b};b.prototype.deriveApplyTransform=function(b){var d=b.hasZ;b=b.hasM;return d&&b?l:d?a:b?e:c};return b}();b.Context=n})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./domains ./fieldType".split(" "),function(n,b,m,
d,h,f,g,c){return function(a){function b(b){b=a.call(this)||this;b.alias=null;b.defaultValue=void 0;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;return b}m(b,a);h=b;b.prototype.clone=function(){return new h({alias:this.alias,defaultValue:this.defaultValue,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type})};var h;d([f.property({type:String,json:{write:!0}})],b.prototype,"alias",
void 0);d([f.property({json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);d([f.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],b.prototype,"domain",void 0);d([f.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);d([f.property({type:Number,json:{write:!0}})],b.prototype,"length",void 0);d([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);d([f.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);d([f.property({type:String,
json:{read:c.kebabDict.read,write:c.kebabDict.write}})],b.prototype,"type",void 0);return b=h=d([f.subclass("esri.layers.support.Field")],b)}(f.declared(h))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/kebabDictionary"],function(n,b,m){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new m.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/tasks/operations/pbfOptimizedFeatureSet":function(){define(["require","exports","../../layers/graphics/OptimizedFeature","../../layers/graphics/OptimizedFeatureSet","../../layers/graphics/OptimizedGeometry"],function(n,b,m,d,h){Object.defineProperty(b,
"__esModule",{value:!0});n=function(){function b(b){this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]}b.prototype.createFeatureResult=function(){return new d.default};b.prototype.prepareFeatures=function(){};b.prototype.finishFeatureResult=function(){};b.prototype.addFeature=function(b,c){b.features.push(c)};b.prototype.createFeature=function(){return new m.default};b.prototype.createSpatialReference=function(){return{wkid:0}};b.prototype.createGeometry=
function(){return new h.default};b.prototype.addField=function(b,c){b.fields.push(c)};b.prototype.addCoordinate=function(b,c){b.coords.push(c)};b.prototype.addCoordinatePoint=function(b,c){b.coords.push(c)};b.prototype.addLength=function(b,c){b.lengths.push(c)};b.prototype.createPointGeometry=function(){return new h.default};return b}();b.Context=n})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});n=function(){return function(b,
d,h,f){void 0===b&&(b=null);void 0===d&&(d={});this.geometry=b;d&&(this.attributes=d);h&&(this.centroid=h);null!=f&&(this.objectId=f)}}();b.default=n})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});n=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=
[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();b.default=n})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require","exports"],function(n,b){Object.defineProperty(b,"__esModule",{value:!0});n=function(){return function(b,d){void 0===b&&(b=[]);void 0===d&&(d=[]);this.lengths=b;this.coords=d}}();b.default=n})},"*noref":1}});
define("require exports ../../core/tsSupport/extendsHelper ../../Graphic ../../core/promiseUtils ../../core/requireUtils ../../core/workers ../../geometry/SpatialReference ./pbfQueryUtils module".split(" "),function(n,b,m,d,h,f,g,c,a,e){Object.defineProperty(b,"__esModule",{value:!0});var l=function(){function b(){}b.prototype._parseFeatureQuery=function(b){var c=a.parsePBFFeatureQuery(b.buffer,b.options),d;b.options&&"dehydrated"===b.options.type&&(d=c.spatialReference.toJSON(),c.spatialReference=
null);return h.resolve({featureSet:c,sr:d})};return b}(),k=function(b){function k(){var a=b.call(this)||this;a._thread=void 0;g.open(f.getAbsMid("./PBFWorker",n,e),{strategy:"dedicated"}).then(function(b){void 0===a._thread?a._thread=b:b.close()});return a}m(k,b);k.prototype.destroy=function(){this._thread&&this._thread.close();this._thread=null};k.prototype.parseFeatureQuery=function(b,e){return b&&0!==b.byteLength?this._thread?this._thread.invoke("_parseFeatureQuery",{buffer:b,options:e},{transferList:[b]}).then(function(a){var b=
a.featureSet;if(a.sr){var e=c.fromJSON(a.sr);b.spatialReference=e}for(var e=b.spatialReference,f=0,b=b.features;f<b.length;f++){var g=b[f];g.uid=d.generateUID();g.geometry&&(g.geometry.spatialReference=e)}return a.featureSet}):h.resolve(a.parsePBFFeatureQuery(b,e)):h.resolve(null)};return k}(l);b.PBFWorker=k;b.default=function(){return new l}});