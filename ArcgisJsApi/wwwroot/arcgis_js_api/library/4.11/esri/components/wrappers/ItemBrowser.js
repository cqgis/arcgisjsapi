// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define(["../Component","../ItemBrowser/index"],function(h,l){return function(e){function a(c){if(b[c])return b[c].exports;var d=b[c]={i:c,l:!1,exports:{}};return e[c].call(d.exports,d,d.exports,a),d.l=!0,d.exports}var b={};return a.m=e,a.c=b,a.d=function(c,d,b){a.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:b})},a.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})},a.t=
function(c,d){if((1&d&&(c=a(c)),8&d)||4&d&&"object"==typeof c&&c&&c.__esModule)return c;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:c}),2&d&&"string"!=typeof c)for(var f in c)a.d(b,f,function(d){return c[d]}.bind(null,f));return b},a.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(d,"a",d),d},a.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},a.p="",a(a.s=455)}({0:function(e,a,b){function c(c,
a){function b(){this.constructor=c}d(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}b.d(a,"b",function(){return c});b.d(a,"a",function(){return g});var d=function(c,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d])})(c,a)},g=function(){return(g=Object.assign||function(c){for(var a,d=1,b=arguments.length;d<b;d++)for(var k in a=arguments[d])Object.prototype.hasOwnProperty.call(a,
k)&&(c[k]=a[k]);return c}).apply(this,arguments)}},1:function(e,a){e.exports=h},455:function(e,a,b){b.r(a);b.d(a,"ItemBrowserWrapper",function(){return h});var c=b(0),d=b(50),g=b.n(d),f=b(1);b.d(a,"changeSearchSection",function(){return d.changeSearchSection});b.d(a,"initialState",function(){return d.initialState});b.d(a,"search",function(){return d.search});b.d(a,"updateExtent",function(){return d.updateExtent});b.d(a,"viewItemDetails",function(){return d.viewItemDetails});var h=function(){function a(a,
b){this.options=b;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="item-browser-wrapper";a.appendChild(this.renderContainer);a=b.initialState?b.initialState:d.initialState;this.initialState=c.a({},a,{settings:{config:a.settings.config,utils:{request:4===b.apiVersion?b.request:this.shimmedRequest.bind(this),portal:4===b.apiVersion?b.portal:c.a({},b.portal,
{restUrl:b.portal.portalUrl.slice(0,-1),credential:b.portal.user&&b.portal.user.credential?b.portal.user.credential:void 0}),iconDir:4===b.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}}});b=b.middlewares?b.middlewares:[];this.store=f.applyMiddleware.apply(void 0,[f.thunk,Object(f.addListener)(this.listener)].concat(b))(f.createStore)(d.reducers,this.initialState);this.projector=Object(f.createProjector)(this.store,function(a){return a(g.a,
{key:"ib"})},this.renderContainer);this.store.dispatch(Object(d.search)(!0))}return a.prototype.shimmedRequest=function(a,b){var d=c.a({},b.query);return this.options.portal.user&&this.options.portal.user.credential&&-1<a.indexOf(this.options.portal.restUrl)&&(d.token=this.options.portal.user.credential.token),this.options.request({url:a,content:b.query},{usePost:"post"===b.method}).then(function(a){return{data:a}})},a.prototype.dispatch=function(a){this.store&&this.store.dispatch(a)},a.prototype.getState=
function(){return this.store?this.store.getState():this.initialState},a.prototype.listener=function(a,b){this.options.listener&&this.options.listener(a,b)},a}()},50:function(e,a){e.exports=l}})});