// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/date/locale ../../Dropdowns/Ago2018Dropdown ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber".split(" "),function(m,n,p,q,u,v,w,x,y,z,A,B){return function(a){function d(g){if(b[g])return b[g].exports;var f=b[g]={i:g,l:!1,exports:{}};return a[g].call(f.exports,f,f.exports,d),f.l=!0,f.exports}
var b={};return d.m=a,d.c=b,d.d=function(b,a,h){d.o(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:h})},d.r=function(b){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})},d.t=function(b,a){if((1&a&&(b=d(b)),8&a)||4&a&&"object"==typeof b&&b&&b.__esModule)return b;var f=Object.create(null);if(d.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:b}),2&a&&"string"!=typeof b)for(var e in b)d.d(f,
e,function(e){return b[e]}.bind(null,e));return f},d.n=function(b){var a=b&&b.__esModule?function(){return b.default}:function(){return b};return d.d(a,"a",a),a},d.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)},d.p="",d(d.s=390)}({0:function(a,d,b){function g(b,a){function c(){this.constructor=b}f(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}b.d(d,"b",function(){return g});b.d(d,"a",function(){return h});var f=function(b,a){return(f=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var a in b)b.hasOwnProperty(a)&&(c[a]=b[a])})(b,a)},h=function(){return(h=Object.assign||function(b){for(var a,c=1,e=arguments.length;c<e;c++)for(var d in a=arguments[c])Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);return b}).apply(this,arguments)}},15:function(a,d,b){function g(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return function(a){return b.reduceRight(function(b,c){return c(b)},a)}}
b.d(d,"a",function(){return g})},16:function(a,d){a.exports=n},21:function(a,d,b){function g(c){return 0===Object.keys(c).length&&c.constructor===Object}function f(b,a){return c.apply(null,arguments)}function h(c,b){return l.apply(null,arguments)}b.d(d,"a",function(){return g});b.d(d,"d",function(){return k});b.d(d,"b",function(){return f});b.d(d,"c",function(){return h});var e=b(0);a=b(5);var k=Object(a.a)(function(c,b){b=e.a({},b);return delete b[c],b}),c=Object(a.a)(function(c,b){return Object.keys(b).reduce(function(a,
e){return a[e]=c(b[e],e,b),a},{})}),l=Object(a.a)(function(c,b){return Object.keys(b).reduce(function(a,e){return c(b[e],e,b)&&(a[e]=b[e]),a},{})})},23:function(a,d,b){b.d(d,"a",function(){return l});b.d(d,"b",function(){return r});var g=b(15);a=b(21);var f=b(34),h=b(33),e=b(32),k=b(31),c=b(30),l=function(b,a,d){return Object(g.a)(Object(c.a)(b),Object(k.a)(b),Object(e.a)(a),h.a,f.a)(d)},r=Object(g.a)(Object(a.d)("patchedDescription"),Object(a.d)("thumbURI"),Object(a.d)("iconURI"),Object(a.d)("displayName"),
Object(a.d)("badges"))},24:function(a,d){a.exports=p},30:function(a,d,b){b.d(d,"a",function(){return f});var g=b(0);a=b(5);var f=Object(a.a)(function(b,a){return g.a({},a,{thumbURI:function(b,c){var a=b.baseUrl+"/home/js/arcgisonline/css/images/default_thumb.png";return c.thumbnail&&(a=b.restUrl+"/content/items/"+c.id+"/info/"+c.thumbnail+(b.credential?"?token\x3d"+b.credential.token:"")),a}(b,a)})})},31:function(a,d,b){b.d(d,"a",function(){return f});var g=b(0);a=b(5);var f=Object(a.a)(function(b,
a){return g.a({},a,{patchedDescription:function(b,c){return c.description?c.description.replace(/src=('|")js\/jsapi\/esri\//g,function(c){return"src\x3d"+('"'===c[4]?'"':"'")+b.baseUrl+"/home/js/jsapi/esri/"}):void 0}(b,a)})})},32:function(a,d,b){b.d(d,"a",function(){return f});var g=b(0);a=b(5);var f=Object(a.a)(function(b,a){return g.a({},a,{iconURI:function(b,c,a){var d;c=c&&c.toLowerCase();var e=!1,f=!1,k=!1,g=!1;if(0<c.indexOf("service")||"feature collection"===c||"kml"===c||"wms"===c||"wmts"===
c||"wfs"===c){var h=-1<a.indexOf("Hosted Service");"feature service"===c||"feature collection"===c||"kml"===c||"wfs"===c?(g=-1<a.indexOf("Table"),e=-1<a.indexOf("Route Layer"),f=-1<a.indexOf("Markup"),d=(k=-1!==a.indexOf("Spatiotemporal"))&&g?"spatiotemporaltable":g?"table":e?"routelayer":f?"markup":k?"spatiotemporal":h?"featureshosted":"features"):d="map service"===c||"wms"===c||"wmts"===c?h||-1<a.indexOf("Tiled")||"wmts"===c?"maptiles":"mapimages":"scene service"===c?-1<a.indexOf("Line")?"sceneweblayerline":
-1<a.indexOf("3DObject")?"sceneweblayermultipatch":-1<a.indexOf("Point")?"sceneweblayerpoint":-1<a.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<a.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<a.indexOf("Polygon")?"sceneweblayerpolygon":"sceneweblayer":"image service"===c?-1<a.indexOf("Elevation 3D Layer")?"elevationlayer":"imagery":"stream service"===c?"streamlayer":"vector tile service"===c?"vectortile":"datastore catalog service"===c?"datastorecollection":"geocoding service"===c?"geocodeservice":
"geoprocessing service"===c&&-1<a.indexOf("Web Tool")?"tool":"layers"}else d="web map"===c||"cityengine web scene"===c?"maps":"web scene"===c?-1<a.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===c||"mobile application"===c||"application"===c||"operation view"===c||"desktop application"===c?"apps":"map document"===c||"map package"===c||"published map"===c||"scene document"===c||"globe document"===c||"basemap package"===c||"mobile basemap package"===c||"mobile map package"===
c||"project package"===c||"project template"===c||"pro map"===c||"layout"===c||"layer"===c&&-1<a.indexOf("ArcGIS Pro")||"explorer map"===c&&-1<a.indexOf("Explorer Document")?"mapsgray":"service definition"===c||"csv"===c||"shapefile"===c||"cad drawing"===c||"geojson"===c||"360 vr experience"===c||"netcdf"===c?"datafiles":"explorer add in"===c||"desktop add in"===c||"windows viewer add in"===c||"windows viewer configuration"===c?"appsgray":"arcgis pro add in"===c||"arcgis pro configuration"===c?"addindesktop":
"rule package"===c||"file geodatabase"===c||"csv collection"===c||"kml collection"===c||"windows mobile package"===c||"map template"===c||"desktop application template"===c||"arcpad package"===c||"code sample"===c||"form"===c||"document link"===c||"vector tile package"===c||"operations dashboard add in"===c||"rules package"===c||"image"===c||"workflow manager package"===c||"explorer map"===c&&-1<a.indexOf("Explorer Mapping Application")||-1<a.indexOf("Document")?"datafilesgray":"network analysis service"===
c||"geoprocessing service"===c||"geodata service"===c||"geometry service"===c||"geoprocessing package"===c||"locator package"===c||"geoprocessing sample"===c||"workflow manager service"===c||"raster function template"===c?"toolsgray":"layer"===c||"layer package"===c||"explorer layer"===c?"layersgray":"scene package"===c?"scenepackage":"tile package"===c?"tilepackage":"task file"===c?"taskfile":"report template"===c?"report-template":"statistical data collection"===c?"statisticaldatacollection":"insights workbook"===
c?"workbook":"insights model"===c?"insightsmodel":"insights page"===c?"insightspage":"hub initiative"===c?"hubinitiative":"hub page"===c?"hubpage":"hub site application"===c?"hubsite":"relational database connection"===c?"relationaldatabaseconnection":"big data file share"===c?"datastorecollection":"image collection"===c?"imagecollection":"desktop style"===c?"desktopstyle":"style"===c?"style":"dashboard"===c?"dashboard":"maps";return b+"/"+d+"16.png"}(b,a.type,a.typeKeywords?a.typeKeywords:[])})})},
33:function(a,d,b){b.d(d,"a",function(){return f});var g=b(0),f=function(b){return g.a({},b,{displayName:function(b){var a=b.type;b=b.typeKeywords||[];var c=a;return"Feature Service"===a||"Feature Collection"===a?c=-1<b.indexOf("Table")?"Table":-1<b.indexOf("Route Layer")?"Route Layer":-1<b.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===a?c=-1<b.indexOf("Elevation 3D Layer")?"Elevation Layer":"Imagery Layer":"Scene Service"===a?c="Scene Layer":"Scene Package"===a?c="Scene Layer Package":
"Stream Service"===a?c="Feature Layer":"Geocoding Service"===a?c="Locator":"Microsoft Powerpoint"===a?c="Microsoft PowerPoint":"GeoJson"===a?c="GeoJSON":"Globe Service"===a?c="Globe Layer":"Vector Tile Service"===a?c="Tile Layer":"netCDF"===a?c="NetCDF":"Map Service"===a?c=-1===b.indexOf("Spatiotemporal")&&(-1<b.indexOf("Hosted Service")||-1<b.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":a&&-1<a.toLowerCase().indexOf("add in")?c=a.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===a&&
(c="Big Data File Share"),c}(b)})}},34:function(a,d,b){b.d(d,"a",function(){return f});var g=b(0),f=function(b){return g.a({},b,{badges:function(b){var a=[],c=b.typeKeywords?b.typeKeywords:[];return b.contentStatus&&("org_authoritative"===b.contentStatus||"public_authoritative"===b.contentStatus?a.push("authoritative"):"deprecated"===b.contentStatus&&a.push("deprecated")),b.origin&&a.push("collaboration"),b.groupDesignations&&-1<b.groupDesignations.indexOf("livingatlas")&&a.push("livingAtlas"),-1<
c.indexOf("Requires Credits")?a.push("premium"):-1<c.indexOf("Requires Subscription")&&a.push("subscriber"),a}(b)})}},390:function(a,d,b){b.r(d);var g=b(0),f=b(16);a=b(4);var h=b(24),e=b(55),k=b.n(e),e=b(56),c=b.n(e),e=b(57),l=b.n(e),e=b(58),r=b.n(e),e=b(59),C=b.n(e),e=b(60),m=b.n(e),e=b(61),n=b.n(e),e=b(62),p=b.n(e),e=b(54),q=b.n(e),t=b(23);b=function(b){function a(a){a=b.call(this,a)||this;return a.state={customActionsOpen:!1},a.handleActionDropdownToggle=a.handleActionDropdownToggle.bind(a),a.handleCustomActionClick=
a.handleCustomActionClick.bind(a),a.handleMainActionClick=a.handleMainActionClick.bind(a),a}return g.b(a,b),a.prototype.render=function(a){var b,c=this,d=this.props,e=d.item,d=d.sortField,g=this.props.customActions?this.props.customActions.filter(function(a){return a.allowed(c.props.item)}):[];return b="numviews"===d?f.viewCount+": "+e.numViews:"avgrating"===d?f.rating+": "+e.avgRating.toFixed(2):"created"===d?f.created+": "+h.format(new Date(e.created),{selector:"date",formatLength:"short"}):f.updated+
": "+h.format(new Date(e.modified),{selector:"date",formatLength:"short"}),a("div",{class:"card-ac__container",key:this.props.key},a("div",{class:"card-ac__details-container"},a("div",{class:"card-ac__thumb-container"},a("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"",class:"card-ac__thumbnail",style:"\n                                background-image: url("+e.thumbURI+");\n                            "})),a("div",{class:"card-ac__details"},a("h3",
{class:"card-ac__title"},e.title),a("div",{class:"card-ac__info-row"},a("div",{class:"card-ac__icon-title-container"},a("img",{src:e.iconURI,class:"content-search-item-icon",title:e.displayName}),a("span",{class:"card-ac__author-text"},e.displayName+" "+f.by,a("a",{class:"content-search-selectable card-mc__author-link",title:this.props.organization?f.viewOrg:f.viewProfile,href:this.props.organization?this.props.organization.orgUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+e.owner,target:"_blank"},
" "+(this.props.organization?this.props.organization.name:e.owner)))),a("span",{class:"card-ac__info-bullet"},"\u2022"),a("span",{class:"card-ac__info-string"},b)),a("p",{class:"card-ac__snippet"},a("span",{class:"card-ac__snippet-text"},e.snippet," "),a("a",{class:"card-ac__side-action card-ac__no-wrap",href:this.props.portal.baseUrl+"/home/item.html?id\x3d"+e.id,target:"_blank"},f.viewItem,a("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},a("path",
{d:"M10 1v1h3.293l-6.646 6.646 0.707 0.707 6.646-6.646v3.293h1v-5z"}),a("path",{d:"M14 8v6h-12v-12h6v-1h-7v14h14v-7z"})))))),a("div",{class:"card-ac__sub-container"},a("div",{class:"card-ac__badge-container card-ac__badge-container--regular card-ac__sub-group"},this.renderBadges(a)),a("div",{class:"card-ac__badge-container card-ac__badge-container--small card-ac__sub-group"},this.renderBadges(a,!0)),a("div",{class:"card-ac__action-container card-ac__sub-group"},a("div",{class:"card-ac__no-wrap"},
a("button",{class:"card-ac__primary-btn card-ac__btn",onclick:this.handleMainActionClick},this.props.mainActionTitle),0<g.length?a(q.a,{key:e.id+"-action-dropdown",active:this.state.customActionsOpen,onToggle:this.handleActionDropdownToggle},a("span",{class:"card-ac__custom-actions card-ac__btn",title:f.actions},a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},a("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),a("div",null,g.map(function(b,d){return a("button",
{key:b.name,class:"card-ac__custom-action-btn card-ac__btn",value:d,onclick:c.handleCustomActionClick},b.name)}))):null))))},a.prototype.renderBadges=function(a,b){var d=this,e=b?"small":"regular";return this.props.item.badges.map(function(b){switch(b){case "authoritative":return a(k.a,{size:e,altOrg:d.props.organization?d.props.organization.name:void 0});case "deprecated":return a(l.a,{size:e});case "collaboration":return a(c.a,{size:e});case "livingAtlas":return a(r.a,{size:e});case "marketplace":return a(C.a,
{size:e});case "openData":return a(m.a,{size:e});case "premium":return a(n.a,{size:e,user:d.props.portal.user});case "subscriber":return a(p.a,{size:e,user:d.props.portal.user})}return null})},a.prototype.handleActionDropdownToggle=function(){this.setState({customActionsOpen:!this.state.customActionsOpen})},a.prototype.handleMainActionClick=function(a){this.props.mainAction([Object(t.b)(this.props.item)])},a.prototype.handleCustomActionClick=function(a){this.setState({customActionsOpen:!this.state.customActionsOpen});
this.props.customActions&&this.props.customActions[a.target.value]&&this.props.customActions[a.target.value].onAction(Object(t.b)(this.props.item))},a}(a.Component);d.default=b},4:function(a,d){a.exports=m},5:function(a,d,b){function g(a){return function e(){for(var b=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.length>=a.length?a.call.apply(a,[this].concat(c)):function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return e.call.apply(e,[b].concat(c,a))}}}b.d(d,"a",
function(){return g})},54:function(a,d){a.exports=q},55:function(a,d){a.exports=u},56:function(a,d){a.exports=v},57:function(a,d){a.exports=w},58:function(a,d){a.exports=x},59:function(a,d){a.exports=y},60:function(a,d){a.exports=z},61:function(a,d){a.exports=A},62:function(a,d){a.exports=B}})});