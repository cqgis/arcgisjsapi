// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/centroid ../../../../geometry/support/jsonUtils ../../../../geometry/support/quantizationUtils ./graphicsUtils".split(" "),function(n,p,r,t,q,k,l){Object.defineProperty(p,"__esModule",{value:!0});n=function(){function b(){this.bounds=r.create();this.graphic=null;this.size=[0,0,0,0]}b.acquire=function(a,m,e,d,c,f,g){void 0===a&&(a=null);var h;0===b._pool.length?h=new b:(h=b._pool.pop(),this._set.delete(h));
h.acquire(a,m,e,d,c,f,g);return h};b.release=function(a){a&&!this._set.has(a)&&(a.release(),this._pool.push(a),this._set.add(a))};b.getCentroidQuantized=function(a,m,b,d){if(q.isPolygon(a.geometry)){var c=a.graphic.symbol;!c&&b&&(c=b.getSymbol(a.graphic,{scale:d}));if(!c)return null;if(l.isMarkerSymbol(c.type))return a=t.polygonCentroid(a.geometry),k.quantizePoint(m,{},{x:a[0],y:a[1]},!1,!1)}return null};b.prototype.acquire=function(a,b,e,d,c,f,g){void 0===a&&(a=null);a&&this.set(a,b,e,d,c,f,g)};
b.prototype.release=function(){this.geometry=this.graphic=null};b.prototype.set=function(a,b,e,d,c,f,g){this.graphic=a;this.geometry=b;l.getBounds(this.bounds,this.size,a,b,e,d,c,f,g)};b.prototype.updateBounds=function(a,b,e,d){l.getBounds(this.bounds,this.size,this.graphic,this.geometry,null,a,b,e,d)};b.prototype.getGeometryQuantized=function(a){if(q.isPolygon(this.geometry)){var b=this.geometry.rings;if(1===b.length&&2===b[0].length)return k.quantizeGeometry(a,{paths:[[b[0][0],b[0][1]]]})}return k.quantizeGeometry(a,
this.geometry)};b._pool=[];b._set=new Set;return b}();p.default=n});