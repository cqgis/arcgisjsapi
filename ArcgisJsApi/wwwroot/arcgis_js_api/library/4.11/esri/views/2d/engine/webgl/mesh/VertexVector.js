// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define(["require","exports","../Utils","./VertexBuffer","../util/Writer"],function(h,e,l,m,f){Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function a(b,d){this.data=b;this.stride=d}Object.defineProperty(a.prototype,"vertexCount",{get:function(){return this.data.length/(this.stride/4)},enumerable:!0,configurable:!0});a.prototype.transfer=function(b,d){var a=this.data.buffer();b.vertexCount=this.vertexCount;b.data=a;b.stride=this.stride;d.push(a)};return a}();e.default=k;h=function(){function a(b,
a,g,c){void 0===c&&(c=!1);this.geometryType=b;this.indexVector=new f.default(Uint32Array,g);this.namedVectors={};b=l.getStrides(b,a,c);for(var d in b){a=b[d];c=void 0;switch(a%4){case 0:case 2:c=new f.default(Uint32Array,a/4*g);break;case 1:case 3:c=new f.default(Uint8Array,a*g)}this.namedVectors[d]=new k(c,a)}}a.prototype.get=function(b){return this.namedVectors[b].data};a.prototype.getVector=function(b){return this.namedVectors[b]};a.prototype.transfer=function(b,a){var d=this.indexVector.buffer(),
c={};a.push(d);for(var e in this.namedVectors){var f=this.namedVectors[e];c[e]={};f.transfer(c[e],a)}b.geometryType=this.geometryType;b.indexBuffer=d;b.namedBuffers=c;this.destroy()};a.prototype.intoBuffers=function(){var a=m.VertexBuffers.fromVertexVectors(this);this.destroy();return a};a.prototype.destroy=function(){this.namedVectors=this.indexVector=null};return a}();e.VertexVectors=h});