// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/decorateHelper ../../../core/tsSupport/declareExtendsHelper ../../../core/Accessor ../../../core/accessorSupport/decorators ../../../core/libs/gl-matrix-2/mat4".split(" "),function(l,m,d,h,k,c,e){return function(f){function b(){var a=null!==f&&f.apply(this,arguments)||this;a.from=null;a.to=null;a.duration=4E3;a.repeat=!0;a.done=!1;return a}h(b,f);g=b;b.prototype.getColorMatrix=function(){this.done=!1;if(null==this._lastTime)this._currentStep=0,this._lastTime=
Date.now();else{var a=this._lastTime,b=Date.now();this._currentStep+=b-a;2147483647<=this._currentStep&&(this._currentStep=0);this._lastTime=b}var a=this._currentStep%this.duration/(this.duration/2),a=1>=a?a:2-a,b=this.from.getColorMatrix(),c=this.to.getColorMatrix();e.mat4.multiplyScalar(b,b,1-a);e.mat4.multiplyScalar(c,c,a);!this.repeat&&this._currentStep>=this.duration&&(this.done=!0);return e.mat4.add(b,b,c)};b.prototype.clone=function(){var a=new g({from:this.from.clone(),to:this.to.clone(),
duration:this.duration});a._lastTime=this._lastTime;a._currentStep=this._currentStep;return a};var g;d([c.property()],b.prototype,"from",void 0);d([c.property()],b.prototype,"to",void 0);d([c.property({type:Number})],b.prototype,"duration",void 0);d([c.property({type:Boolean})],b.prototype,"repeat",void 0);return b=g=d([c.subclass("esri.views.layers.support.Transition")],b)}(c.declared(k))});