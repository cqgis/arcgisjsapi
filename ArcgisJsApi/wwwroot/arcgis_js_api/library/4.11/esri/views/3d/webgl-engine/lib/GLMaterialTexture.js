// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ./DefaultTextureUnits ./GLMaterial ../materials/internal/MaterialUtil".split(" "),function(m,n,h,c,k,d){return function(f){function b(a,l,b,c,g,e){void 0===e&&(e=!1);a=f.call(this,a,l)||this;a.textureRep=b;a.textureId=c;a.initTransparent=e;a.glTextureRef=d.aquireIfNotUndefined(a.textureId,b,a.initTransparent);g&&(a.glTextureRefNormal=d.aquireIfNotUndefined(g,b,a.initTransparent));return a}h(b,f);b.prototype.dispose=function(){d.releaseIfNotUndefined(this.textureId,
this.textureRep)};b.prototype.updateTexture=function(a){a!==this.textureId&&(d.releaseIfNotUndefined(this.textureId,this.textureRep),this.textureId=a,this.glTextureRef=d.aquireIfNotUndefined(this.textureId,this.textureRep,this.initTransparent))};b.prototype.bindTexture=function(a,b){null!=this.glTextureRef&&(b.setUniform1i("tex",c.DefaultTextureUnits.DIFFUSE),a.bindTexture(this.glTextureRef.getGLTexture(),c.DefaultTextureUnits.DIFFUSE),this.glTextureRefNormal&&(b.setUniform1i("texNormal",c.DefaultTextureUnits.NORMAL),
a.bindTexture(this.glTextureRefNormal.getGLTexture(),c.DefaultTextureUnits.NORMAL)))};b.prototype.bindTextureSize=function(a,b){null!=this.glTextureRef&&(a=this.glTextureRef.getGLTexture(),b.setUniform2f("texSize",a.descriptor.width,a.descriptor.height))};b.prototype.bindTextureScale=function(a,b){(a=this.glTextureRef&&this.glTextureRef.getGLTexture())&&a.descriptor.textureCoordinateScaleFactor?b.setUniform2fv("textureCoordinateScaleFactor",a.descriptor.textureCoordinateScaleFactor):b.setUniform2f("textureCoordinateScaleFactor",
1,1)};return b}(k)});