// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/requireUtils":function(){define(["require","exports","./promiseUtils"],function(q,b,p){function f(b,l){return Array.isArray(l)?p.create(function(f){b(l,function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];f(b)})}):f(b,[l]).then(function(b){return b[0]})}Object.defineProperty(b,"__esModule",{value:!0});b.when=f;b.getAbsMid=function(b,f,m){return f.toAbsMid?f.toAbsMid(b):m.id.replace(/\/[^\/]*$/gi,"/")+b}})},"esri/core/workers":function(){define(["require",
"exports","./workers/workers"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});for(var f in p)b.hasOwnProperty(f)||(b[f]=p[f])})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(q,b,p,f,k,l,m,g){function d(){if(n)return n;for(var e=c+a,b=[],d=function(a){var c=g.create(a).then(function(c){return h[a]=c});b.push(c)},w=0;w<e;w++)d(w);return n=k.all(b).then(function(){})}Object.defineProperty(b,
"__esModule",{value:!0});b.Connection=l;b.RemoteClient=m;(l=f("host-browser")?navigator.hardwareConcurrency:0)||(l=f("safari")&&f("mac")||f("trident")?8:2);var c=f("esri-workers-debug")?1:Math.max(1,Math.ceil(l/2)),a=f("esri-workers-debug")?1:Math.max(1,Math.floor(l/2)),e=0,h=[];b.initialize=function(){d()};b.openWithPorts=function(a,c){return new b.Connection(a.map(function(a){return new b.RemoteClient(a,c,{})}))};b.open=function(n,g){void 0===g&&(g={});if("string"!==typeof n)return k.reject(new p("workers:undefined-module",
"modulePath is missing"));var r=g.strategy||"distributed";if("local"===r){var w=g.client;return k.create(function(a){return q([n],function(c){w=w||c;a(b.RemoteClient.connect(c))})}).then(function(a){return new b.Connection([new b.RemoteClient(a,w,g)])})}return d().then(function(){if("dedicated"===r){var d=c+e++;e%=a;return h[d].open(n).then(function(a){return new b.Connection([new b.RemoteClient(a,g.client,g)])})}return k.all(h.map(function(a){return a.open(n)})).then(function(a){return new b.Connection(a.map(function(a){return new b.RemoteClient(a,
g.client,g)}))})})};b.terminate=function(){n&&(n.cancel(),n=null);for(var a=0;a<h.length;a++)h[a]&&h[a].terminate();h.length=0};var n=null})},"esri/core/workers/Connection":function(){define(["require","exports","../Logger","../promiseUtils"],function(q,b,p,f){var k=p.getLogger("esri.core.workers.Connection");return function(){function b(b){this._clientIdx=0;this._clients=b}b.prototype.broadcast=function(b,g,d){for(var c=[],a=0,e=this._clients;a<e.length;a++)c.push(e[a].invoke(b,g,d));return c};b.prototype.close=
function(){for(var b=0,g=this._clients;b<g.length;b++)g[b].close();this._clients=[]};b.prototype.getAvailableClient=function(){var b;this._clients.some(function(g){return g.isBusy()?!1:(b=g,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,b=this._clients[this._clientIdx]);return b};b.prototype.invoke=function(b,g,d){var c=null;Array.isArray(d)?(k.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),c={transferList:d}):c=d;return this._clients&&
this._clients.length?this.getAvailableClient().invoke(b,g,c):f.reject(Error("Connection closed"))};b.prototype.openPorts=function(){return f.all(this._clients.map(function(b){return b.openPort()}))};return b}()})},"esri/core/workers/WorkerOwner":function(){define("require exports ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),function(q,b,p,f,k,l,m,g){var d=k.getLogger("esri.core.workers"),c=m.MessageType.ABORT,a=m.MessageType.INVOKE,e=m.MessageType.OPEN,h=m.MessageType.OPENED,
n=m.MessageType.RESPONSE;return function(){function b(a,c){this._outJobs=new Map;this._inJobs=new Map;this.worker=a;this.id=c;a.addEventListener("message",this._onMessage.bind(this));a.addEventListener("error",function(a){a.preventDefault();d.error(a)})}b.create=function(a){return g.createWorker().then(function(c){return new b(c,a)})};b.prototype.terminate=function(){this.worker.terminate()};b.prototype.open=function(a){var h=this,n=m.newJobId(),b=function(){h._outJobs["delete"](n);h._post({type:c,
jobId:n})};return l.create(function(c,r){h._outJobs.set(n,{resolve:c,reject:r,cancel:b});h._post({type:e,jobId:n,modulePath:a})},b)};b.prototype._onMessage=function(e){if(e=m.receiveMessage(e))switch(e.type){case h:case n:this._onResponse(e);break;case c:this._onCancel(e);break;case a:this._onInvoke(e)}};b.prototype._onCancel=function(a){(a=this._inJobs.get(a.jobId))&&a.cancel()};b.prototype._onInvoke=function(a){var c=this,e=a.methodName,h=a.jobId;a=a.data;var b=this._inJobs,r=p.workerMessages[e],
d;try{if("function"!==typeof r)throw new TypeError(e+" is not a function");d=r.call(null,a)}catch(y){this._post({type:n,jobId:h,error:m.toInvokeError(y)});return}l.isThenable(d)?(b.set(h,d),d.then(function(a){b["delete"](h);c._post({type:n,jobId:h},a)}).catch(function(a){b["delete"](h);a||(a={message:"Error encountered at method"+e});a.dojoType&&"cancel"===a.dojoType||c._post({type:n,jobId:h,error:m.toInvokeError(a)})})):this._post({type:n,jobId:h},d)};b.prototype._onResponse=function(a){var c=a.jobId,
e=a.error;a=a.data;var h=this._outJobs.get(c);h&&(this._outJobs["delete"](c),e?h.reject(f.fromJSON(JSON.parse(e))):h.resolve(a))};b.prototype._post=function(a,c,e){return m.postMessage(this.worker,a,c,e)};return b}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),function(q,b,p,f,k,l,m,g,d,c,a){function e(e){return g.create(function(b){function g(a){if(a=
c.receiveMessage(a))switch(a.type){case t:a=e;var h=k.workers.loaderUrl||d.DEFAULT_LOADER_URL,w;null!=k["default"]?(w=p({},k),delete w["default"],w=JSON.parse(JSON.stringify(w))):w=JSON.parse(JSON.stringify(k));var F=k.workers.loaderConfig,F=d.default({baseUrl:F.baseUrl,locale:f.locale,has:p({"config-deferredInstrumentation":0,"dojo-test-sniff":0,"esri-secure-context":l("esri-secure-context"),"esri-workers-arraybuffer-transfer":l("esri-workers-arraybuffer-transfer"),"events-keypress-typed":0,"host-webworker":1},
F.has),map:p({},F.map),paths:p({},F.paths),packages:F.packages||[]});a.postMessage({type:r,configure:{esriConfig:w,loaderUrl:h,loaderConfig:F}});break;case n:e.removeEventListener("message",g),e.removeEventListener("error",u),b(e)}}function u(c){c.preventDefault();e.removeEventListener("message",g);e.removeEventListener("error",u);h.warn("Failed to create Worker. Fallback to execute module in main thread",c);e=new a;e.addEventListener("message",g);e.addEventListener("error",u)}e.addEventListener("message",
g);e.addEventListener("error",u)})}Object.defineProperty(b,"__esModule",{value:!0});var h=m.getLogger("esri.core.workers");l.add("esri-workers-arraybuffer-transfer",!l("safari")||12<=l("safari"));var n=c.MessageType.CONFIGURED,r=c.MessageType.CONFIGURE,t=c.MessageType.HANDSHAKE,u;try{u=URL.createObjectURL(new Blob(['var globalId\x3d0;var outgoing\x3dnew Map;var configured\x3dfalse;var HANDSHAKE\x3d0;var CONFIGURE\x3d1;var CONFIGURED\x3d2;var OPEN\x3d3;var OPENED\x3d4;var RESPONSE\x3d5;var INVOKE\x3d6;var CANCEL\x3d7;function mapDelete(map,key){map["delete"](key)}function receiveMessage(event){if(!event||!event.data){return null}if(typeof event.data\x3d\x3d\x3d"string"){return JSON.parse(event.data)}return event.data}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal;var Deferred\x3drequire("dojo/Deferred");var jobId\x3dglobalId++;var abortHandler\x3dfunction(){if(!outgoing.has(jobId)){return}self.postMessage({type:CANCEL,methodName:methodName,jobId:jobId});mapDelete(outgoing,jobId);if(!deferred.isCanceled()){deferred.cancel()}if(signal){signal.removeEventListener("abort",abortHandler)}};if(signal){signal.addEventListener("abort",abortHandler)}var deferred\x3dnew Deferred(abortHandler);outgoing.set(jobId,deferred);self.postMessage({type:INVOKE,methodName:methodName,jobId:jobId,data:data});return deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(!message){return}var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured){return}self.dojoConfig\x3dconfiguration.loaderConfig;self.importScripts(configuration.loaderUrl);if(typeof require.config\x3d\x3d\x3d"function"){require.config(configuration.loaderConfig)}require(["esri/config"],function(esriConfig){for(var name in configuration.esriConfig){if(Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)){esriConfig[name]\x3dconfiguration.esriConfig[name]}}self.postMessage({type:CONFIGURED})});break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient",modulePath],function(RemoteClient,Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])});break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);mapDelete(outgoing,jobId);if(message.error){deferred.reject(JSON.parse(message.error))}else{deferred.resolve(message.data)}}break}}self.addEventListener("message",messageHandler);self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(w){}b.createWorker=function(){if(!l("esri-workers"))return e(new a);var c;if(u)try{c=new Worker(u)}catch(F){h.warn("Failed to create Worker. Fallback to execute module in main thread",event),c=new a}else h.warn("Failed to create Worker. Fallback to execute module in main thread",event),c=new a;return e(c)}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper","../has","../urlUtils"],function(q,b,p,f,k){Object.defineProperty(b,
"__esModule",{value:!0});f=f("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";b.DEFAULT_LOADER_URL=k.makeAbsolute(k.removeQueryParameters(q.toUrl(f)));b.DEFAULT_CONFIG={baseUrl:function(){var b=k.removeQueryParameters(q.toUrl("dojo/x.js"));return k.makeAbsolute(b.slice(0,b.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},{name:"globalize",main:"dist/globalize"},{name:"maquette",main:"dist/maquette.umd"},
{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};b.default=function(f){var m={async:f.async,isDebug:f.isDebug,locale:f.locale,baseUrl:f.baseUrl,has:p({},f.has),map:p({},f.map),packages:f.packages&&f.packages.concat()||
[],paths:p({},f.paths)};f.hasOwnProperty("async")||(m.async=!0);f.hasOwnProperty("isDebug")||(m.isDebug=!1);f.baseUrl||(m.baseUrl=b.DEFAULT_CONFIG.baseUrl);b.DEFAULT_CONFIG.packages.forEach(function(a){a:{for(var c=m.packages,h=0;h<c.length;h++)if(c[h].name===a.name)break a;a=p({},a);h=k.removeQueryParameters(q.toUrl(a.name+"/x.js"));h=h.slice(0,h.length-5);a.location=k.makeAbsolute(h);c.push(a)}});f=m.map=m.map||{};for(var g=0,d=Object.keys(b.DEFAULT_CONFIG.map);g<d.length;g++){var c=d[g];f[c]||
(f[c]=b.DEFAULT_CONFIG.map[c])}return m}})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper dojo/io-query dojo/_base/url ../config ../kernel ./Error ./global ./lang ./Logger".split(" "),function(q,b,p,f,k,l,m,g,d,c,a){function e(a){var c={path:null,query:null},e=new b.Url(a),h=a.indexOf("?");null===e.query?c.path=a:(c.path=a.substring(0,h),c.query=f.queryToObject(e.query));e.fragment&&(c.hash=e.fragment,null===e.query&&(c.path=c.path.substring(0,c.path.length-(e.fragment.length+
1))));return c}function h(a){var c=a.indexOf("?");-1!==c?(S.path=a.slice(0,c),S.query=a.slice(c+1)):(S.path=a,S.query=null);return S}function n(a){a=h(a).path;a&&"/"===a[a.length-1]||(a+="/");a=L(a,!0);return a=a.toLowerCase()}function r(a){var c=R.proxyRules;a=n(a);for(var e=0;e<c.length;e++)if(0===a.indexOf(c[e].urlPrefix))return c[e]}function t(a){a=D(a);var c=a.indexOf("/sharing");return 0<c?a.substring(0,c):a.replace(/\/+$/,"")}function u(a,c,e){void 0===e&&(e=!1);a=P(a);c=P(c);return e||a.scheme===
c.scheme?a.host.toLowerCase()===c.host.toLowerCase()&&a.port===c.port:!1}function w(a,c,e){void 0===c&&(c=b.appBaseUrl);if(A(a))return e&&e.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===x(a).slice(2)?"http:"+a:"https:"+a;if(!G(a)){e=B;if("/"===a[0]){var h=c.indexOf("//"),h=c.indexOf("/",h+2);c=-1===h?c:c.slice(0,h)}return e(c,a)}return a}function F(a,c,e){void 0===c&&(c=b.appBaseUrl);if(!y(a))return a;var h=D(a),n=h.toLowerCase();c=D(c).toLowerCase().replace(/\/+$/,"");
if((e=e?D(e).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(e))return a;for(var r=function(a,c,e){e=a.indexOf(c,e);return-1===e?a.length:e},d=r(n,"/",n.indexOf("//")+2),g=-1;n.slice(0,d+1)===c.slice(0,d)+"/";){g=d+1;if(d===n.length)break;d=r(n,"/",d+1)}if(-1===g||e&&g<e.length)return a;a=h.slice(g);h=c.slice(g-1).replace(/[^/]+/g,"").length;if(0<h)for(n=0;n<h;n++)a="../"+a;else a="./"+a;return a}function D(a){a=a.trim();a=w(a);if(/^https?:\/\//i.test(a)){var c=h(a);a=c.path.replace(/\/{2,}/g,
"/");a=a.replace("/","//");c.query&&(a+="?"+c.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=O(a)}function B(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(a&&a.length){c=[];if(y(a[0])){var e=a[0],h=e.indexOf("//");c.push(e.slice(0,h+1));aa.test(a[0])&&(c[0]+="/");a[0]=e.slice(h+2)}else"/"===a[0][0]&&c.push("");a=a.reduce(function(a,c){return c?a.concat(c.split("/")):a},[]);for(e=0;e<a.length;e++)h=a[e],".."===h&&0<c.length&&".."!==c[c.length-1]?c.pop():!h||
"."===h&&0!==c.length||c.push(h);return c.join("/")}}function x(a){if(C(a)||v(a))return null;var c=a.indexOf("://");if(-1===c&&A(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);return-1===c?a:a.slice(0,c)}function y(a){return A(a)||G(a)}function C(a){return"blob:"===a.slice(0,5)}function v(a){return"data:"===a.slice(0,5)}function z(a){a=E(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var c=new Uint8Array(a.length),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);return c.buffer}function E(a){return(a=
a.match(ba))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function H(a){var c=z(a);if(!c)return null;a=E(a);return new Blob([c],{type:a.mediaType})}function A(a){return a&&"/"===a[0]&&"/"===a[1]}function G(a){return V.test(a)}function I(a){return W.test(a)||"http"===b.appUrl.scheme&&A(a)}function J(a){return A(a)?"https:"+a:a.replace(W,"https:")}function K(){return"https"===b.appUrl.scheme}function L(a,c){void 0===c&&(c=!1);if(A(a))return a.slice(2);a=a.replace(V,"");c&&1<a.length&&"/"===a[0]&&
"/"===a[1]&&(a=a.slice(2));return a}function O(a){var e=R.httpsDomains;if(!I(a))return a;var h=a.indexOf("/",7),n;n=-1===h?a:a.slice(0,h);n=n.toLowerCase().slice(7);if(ca.test(n))if(c.endsWith(n,":80"))n=n.slice(0,-3),a=a.replace(":80","");else return a;if("http"===b.appUrl.scheme&&n===b.appUrl.authority&&!da.test(a))return a;if(K()&&n===b.appUrl.authority||e&&e.some(function(a){return n===a||c.endsWith(n,"."+a)})||K()&&!r(a))a=J(a);return a}function N(a,c,e){if(!(c&&e&&a&&y(a)))return a;var h=a.indexOf("//"),
n=a.indexOf("/",h+2),b=a.indexOf(":",h+2),n=Math.min(0>n?a.length:n,0>b?a.length:b);if(a.slice(h+2,n).toLowerCase()!==c.toLowerCase())return a;c=a.slice(0,h+2);a=a.slice(n);return""+c+e+a}function P(a){if("string"===typeof a)return new b.Url(w(a));a.scheme||(a.scheme=b.appUrl.scheme);return a}function Q(a,c){var e=c&&c.url&&c.url.path;a&&e&&(a=w(a,e,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?(e=c.urlKey+"."+c.customBaseUrl,c=u(b.appUrl,b.appUrl.scheme+
"://"+e)?N(a,c.portalHostname,e):N(a,e,c.portalHostname)):c=a;return c}function M(a,c){if(!a)return a;!y(a)&&c&&c.blockedRelativeUrls&&c.blockedRelativeUrls.push(a);var e=w(a);if(c){var h=c.verifyItemRelativeUrls&&c.verifyItemRelativeUrls.rootPath||c.url&&c.url.path;h&&(e=F(e,h,h),e!==a&&c.verifyItemRelativeUrls&&c.verifyItemRelativeUrls.writtenUrls.push(e))}a=e;e=(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?N(a,c.urlKey+"."+c.customBaseUrl,c.portalHostname):a;y(e)&&(e=D(e));return e}function T(a,
c,h){a=e(a);var n=a.query||{};n[c]=h;return a.path+"?"+f.objectToQuery(n)}Object.defineProperty(b,"__esModule",{value:!0});b.Url=k;var U=a.getLogger("esri.core.urlUtils"),R=l.request,V=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,W=/^\s*http:/i,X=/^\s*https:/i,aa=/^\s*file:/i,ca=/:\d+$/,da=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;b.appUrl=new b.Url(l.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var a=b.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-
1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=e;b.getProxyUrl=function(a){void 0===a&&(a=!1);var c,h=R.proxyUrl;if("string"===typeof a){if(c=a,c=X.test(c)||"https"===b.appUrl.scheme&&A(c),a=r(a))h=a.proxyUrl}else c=!!a;if(!h)throw U.warn("esri/config: esriConfig.request.proxyUrl is not set."),new g("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");c&&K()&&(h=J(h));return e(h)};b.addProxy=function(a){var c=
r(a),n,b;c&&(b=h(c.proxyUrl),n=b.path,b=b.query?f.queryToObject(b.query):null);n&&(c=e(a),a=n+"?"+c.path,(n=f.objectToQuery(p({},b,c.query)))&&(a=a+"?"+n));return a};var S={path:"",query:""};b.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:n(a.urlPrefix)};for(var c=R.proxyRules,e=a.urlPrefix,h=c.length,b=0;b<c.length;b++){var r=c[b].urlPrefix;if(0===e.indexOf(r)){if(e.length===r.length)return-1;h=b;break}0===r.indexOf(e)&&(h=b+1)}c.splice(h,0,a);return h};b.getProxyRule=r;b.hasSamePortal=
function(a,c){a=t(a);c=t(c);return L(a)===L(c)};b.getInterceptor=function(a){var e=function(e){return null==e||e instanceof RegExp&&e.test(a)||"string"===typeof e&&c.startsWith(a,e)},h=R.interceptors;if(h)for(var n=0;n<h.length;n++){var b=h[n];if(Array.isArray(b.urls)){if(b.urls.some(e))return b}else if(e(b.urls))return b}return null};b.hasSameOrigin=u;b.isTrustedServer=function(a){if("string"===typeof a)if(y(a))a=P(a);else return!0;for(var c=R.trustedServers||[],e=0;e<c.length;e++){var h;h=c[e];
b.trustedServersUrlCache[h]||(G(h)||A(h)?b.trustedServersUrlCache[h]=[new b.Url(w(h))]:b.trustedServersUrlCache[h]=[new b.Url("http://"+h),new b.Url("https://"+h)]);h=b.trustedServersUrlCache[h];for(var n=0;n<h.length;n++)if(u(a,h[n]))return!0}return!1};b.makeAbsolute=w;b.makeRelative=F;b.normalize=D;b.join=B;b.getOrigin=x;b.isAbsolute=y;b.isBlobProtocol=C;b.isDataProtocol=v;b.dataToArrayBuffer=z;var ba=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=E;b.makeData=function(a){return a.isBase64?"data:"+
a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};b.dataToBlob=H;b.downloadDataAsFile=function(a,c){var e;a:if(e=document.createElement("a"),"download"in e){var h=null;if(d.URL&&d.URL.createObjectURL){h=H(a);if(!h){e=!1;break a}h=d.URL.createObjectURL(h)}e.download=c;e.href=h||a;e.style.display="none";document.body.appendChild(e);e.click();document.body.removeChild(e);h&&d.URL.revokeObjectURL(h);e=void 0}else e=!1;e||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(H(a),
c)};b.isProtocolRelative=A;b.hasProtocol=G;b.toHTTP=function(a){return A(a)?"http:"+a:a.replace(X,"http:")};b.toHTTPS=J;b.isAppHTTPS=K;b.removeFile=function(a){var c=0;if(y(a)){var e=a.indexOf("//");-1!==e&&(c=e+2)}e=a.lastIndexOf("/");return e<c?a:a.slice(0,e+1)};b.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};b.changeDomain=N;b.fromJSON=Q;b.read=function(a,c,e){return Q(a,e)};b.toJSON=M;b.write=function(a,c,e,h){(a=M(a,h))&&(c[e]=a)};b.isSVG=function(a){return Y.test(a)};b.removeQueryParameters=
function(a,c){a=e(a);var h=Object.keys(a.query||{});0<h.length&&c&&c.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+h.join(", ")+".");return a.path};b.addQueryParameter=T;b.addQueryParameters=function(a,c){a=e(a);var h=a.query||{},n;for(n in c)h[n]=c[n];return(c=f.objectToQuery(h))?a.path+"?"+c:a.path};b.removeQueryParameter=function(a,c){var h=e(a),n=h.path,h=h.query;if(!h)return a;delete h[c];return(a=f.objectToQuery(h))?n+"?"+
a:n};b.addTokenParameter=function(a){var c=m.id&&m.id.findCredential(a);return c&&c.token?T(a,"token",c.token):a};var Y=/(^data:image\/svg|\.svg$)/i})},"dojo/_base/url":function(){define(["./kernel"],function(q){var b=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,p=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var k=arguments,l=[k[0]],m=1;m<k.length;m++)if(k[m]){var g=new f(k[m]+""),l=new f(l[0]+"");if(""==g.path&&!g.scheme&&!g.authority&&!g.query)null!=
g.fragment&&(l.fragment=g.fragment),g=l;else if(!g.scheme&&(g.scheme=l.scheme,!g.authority&&(g.authority=l.authority,"/"!=g.path.charAt(0)))){for(var l=(l.path.substring(0,l.path.lastIndexOf("/")+1)+g.path).split("/"),d=0;d<l.length;d++)"."==l[d]?d==l.length-1?l[d]="":(l.splice(d,1),d--):0<d&&(1!=d||""!=l[0])&&".."==l[d]&&".."!=l[d-1]&&(d==l.length-1?(l.splice(d,1),l[d-1]=""):(l.splice(d-1,2),d-=2));g.path=l.join("/")}l=[];g.scheme&&l.push(g.scheme,":");g.authority&&l.push("//",g.authority);l.push(g.path);
g.query&&l.push("?",g.query);g.fragment&&l.push("#",g.fragment)}this.uri=l.join("");k=this.uri.match(b);this.scheme=k[2]||(k[1]?"":null);this.authority=k[4]||(k[3]?"":null);this.path=k[5];this.query=k[7]||(k[6]?"":null);this.fragment=k[9]||(k[8]?"":null);null!=this.authority&&(k=this.authority.match(p),this.user=k[3]||null,this.password=k[4]||null,this.host=k[6]||k[7],this.port=k[9]||null)};f.prototype.toString=function(){return this.uri};return q._Url=f})},"esri/core/workers/WorkerFallback":function(){define(["require",
"exports","../global","../has","./utils"],function(q,b,p,f,k){var l=function(){return function(){var c=this,a=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(e){c[e]=function(){for(var c=[],n=0;n<arguments.length;n++)c[n]=arguments[n];return a[e].apply(a,c)}})}}(),m=p.MutationObserver||p.WebKitMutationObserver,g=function(){var c;if(p.process&&p.process.nextTick)c=function(a){p.process.nextTick(a)};else if(p.Promise)c=function(a){p.Promise.resolve().then(a)};
else if(m){var a=[],e=document.createElement("div");(new m(function(){for(;0<a.length;)a.shift()()})).observe(e,{attributes:!0});c=function(c){a.push(c);e.setAttribute("queueStatus","1")}}return c}(),d=function(){var c=p.MessageEvent;try{new c("message",{data:null})}catch(a){return function(a,c){void 0===c&&(c={});var e=c.data,h=c.bubbles,h=void 0===h?!1:h;c=c.cancelable;c=void 0===c?!1:c;var b=document.createEvent("Event");b.initEvent(a,h,c);b.data=e;return b}}return function(a,e){return new c(a,
e)}}();return function(){function c(){this._dispatcher=new l;this._isInitialized=!1;this._workerPostMessage({type:k.MessageType.HANDSHAKE})}c.prototype.terminate=function(){};Object.defineProperty(c.prototype,"onmessage",{get:function(){return this._onmessageHandler},set:function(a){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=a)&&this.addEventListener("message",a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"onerror",
{get:function(){return this._onerrorHandler},set:function(a){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=a)&&this.addEventListener("error",a)},enumerable:!0,configurable:!0});c.prototype.postMessage=function(a,c){var e=this;g(function(){e._workerMessageHandler(d("message",{data:a}))})};c.prototype.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};c.prototype.addEventListener=function(a,c,h){this._dispatcher.addEventListener(a,
c,h)};c.prototype.removeEventListener=function(a,c,h){this._dispatcher.removeEventListener(a,c,h)};c.prototype._workerPostMessage=function(a,c){var e=this;g(function(){e.dispatchEvent(d("message",{data:a}))})};c.prototype._workerMessageHandler=function(a){var c=this;if(a=k.receiveMessage(a)){var h=a.jobId;switch(a.type){case k.MessageType.CONFIGURE:this._isInitialized||this._workerPostMessage({type:k.MessageType.CONFIGURED});break;case k.MessageType.OPEN:q(["esri/core/workers/RemoteClient",a.modulePath],
function(a,e){a=a.connect(e);c._workerPostMessage({type:k.MessageType.OPENED,jobId:h,data:a})})}}};return c}()})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.quat=p})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(q,b,p,f,k,l,m,g){function d(a,c,e){e*=.5;
var h=Math.sin(e);a[0]=h*c[0];a[1]=h*c[1];a[2]=h*c[2];a[3]=Math.cos(e);return a}function c(a,c,e){var h=c[0],n=c[1],b=c[2];c=c[3];var r=e[0],d=e[1],g=e[2];e=e[3];a[0]=h*e+c*r+n*g-b*d;a[1]=n*e+c*d+b*r-h*g;a[2]=b*e+c*g+h*d-n*r;a[3]=c*e-h*r-n*d-b*g;return a}function a(a,c,e,h){var n=c[0],b=c[1],r=c[2];c=c[3];var d=e[0],g=e[1],u=e[2];e=e[3];var f,w,t;w=n*d+b*g+r*u+c*e;0>w&&(w=-w,d=-d,g=-g,u=-u,e=-e);1-w>l.EPSILON?(f=Math.acos(w),t=Math.sin(f),w=Math.sin((1-h)*f)/t,h=Math.sin(h*f)/t):w=1-h;a[0]=w*n+h*
d;a[1]=w*b+h*g;a[2]=w*r+h*u;a[3]=w*c+h*e;return a}function e(a,c){var e=c[0]+c[4]+c[8];if(0<e)e=Math.sqrt(e+1),a[3]=.5*e,e=.5/e,a[0]=(c[5]-c[7])*e,a[1]=(c[6]-c[2])*e,a[2]=(c[1]-c[3])*e;else{var h=0;c[4]>c[0]&&(h=1);c[8]>c[3*h+h]&&(h=2);var n=(h+1)%3,b=(h+2)%3,e=Math.sqrt(c[3*h+h]-c[3*n+n]-c[3*b+b]+1);a[h]=.5*e;e=.5/e;a[3]=(c[3*n+b]-c[3*b+n])*e;a[n]=(c[3*n+h]+c[3*h+n])*e;a[b]=(c[3*b+h]+c[3*h+b])*e}return a}Object.defineProperty(b,"__esModule",{value:!0});b.identity=function(a){a[0]=0;a[1]=0;a[2]=0;
a[3]=1;return a};b.setAxisAngle=d;b.getAxisAngle=function(a,c){var e=2*Math.acos(c[3]),h=Math.sin(e/2);h>l.EPSILON?(a[0]=c[0]/h,a[1]=c[1]/h,a[2]=c[2]/h):(a[0]=1,a[1]=0,a[2]=0);return e};b.multiply=c;b.rotateX=function(a,c,e){e*=.5;var h=c[0],n=c[1],b=c[2];c=c[3];var r=Math.sin(e);e=Math.cos(e);a[0]=h*e+c*r;a[1]=n*e+b*r;a[2]=b*e-n*r;a[3]=c*e-h*r;return a};b.rotateY=function(a,c,e){e*=.5;var h=c[0],n=c[1],b=c[2];c=c[3];var r=Math.sin(e);e=Math.cos(e);a[0]=h*e-b*r;a[1]=n*e+c*r;a[2]=b*e+h*r;a[3]=c*e-
n*r;return a};b.rotateZ=function(a,c,e){e*=.5;var h=c[0],n=c[1],b=c[2];c=c[3];var r=Math.sin(e);e=Math.cos(e);a[0]=h*e+n*r;a[1]=n*e-h*r;a[2]=b*e+c*r;a[3]=c*e-b*r;return a};b.calculateW=function(a,c){var e=c[0],h=c[1];c=c[2];a[0]=e;a[1]=h;a[2]=c;a[3]=Math.sqrt(Math.abs(1-e*e-h*h-c*c));return a};b.slerp=a;b.random=function(a){var c=l.RANDOM(),e=l.RANDOM(),h=l.RANDOM(),n=Math.sqrt(1-c),c=Math.sqrt(c);a[0]=n*Math.sin(2*Math.PI*e);a[1]=n*Math.cos(2*Math.PI*e);a[2]=c*Math.sin(2*Math.PI*h);a[3]=c*Math.cos(2*
Math.PI*h);return a};b.invert=function(a,c){var e=c[0],h=c[1],n=c[2];c=c[3];var b=e*e+h*h+n*n+c*c,b=b?1/b:0;a[0]=-e*b;a[1]=-h*b;a[2]=-n*b;a[3]=c*b;return a};b.conjugate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};b.fromMat3=e;b.fromEuler=function(a,c,e,h){var n=.5*Math.PI/180;c*=n;e*=n;h*=n;n=Math.sin(c);c=Math.cos(c);var b=Math.sin(e);e=Math.cos(e);var r=Math.sin(h);h=Math.cos(h);a[0]=n*e*h-c*b*r;a[1]=c*b*h+n*e*r;a[2]=c*e*r-n*b*h;a[3]=c*e*h+n*b*r;return a};b.str=function(a){return"quat("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.copy=g.copy;b.set=g.set;b.add=g.add;b.mul=c;b.scale=g.scale;b.dot=g.dot;b.lerp=g.lerp;b.length=g.length;b.len=b.length;b.squaredLength=g.squaredLength;b.sqrLen=b.squaredLength;b.normalize=g.normalize;b.exactEquals=g.exactEquals;b.equals=g.equals;b.rotationTo=function(a,c,e){var g=m.dot(c,e);if(-.999999>g)return m.cross(h,n,c),1E-6>m.len(h)&&m.cross(h,r,c),m.normalize(h,h),d(a,h,Math.PI),a;if(.999999<g)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;m.cross(h,c,e);a[0]=
h[0];a[1]=h[1];a[2]=h[2];a[3]=1+g;return b.normalize(a,a)};var h=k.create(),n=k.fromValues(1,0,0),r=k.fromValues(0,1,0);b.sqlerp=function(c,e,h,n,b,r){a(t,e,b,r);a(u,h,n,r);a(c,t,u,2*r*(1-r));return c};var t=f.create(),u=f.create();b.setAxes=function(a,c,h,n){var r=w;r[0]=h[0];r[3]=h[1];r[6]=h[2];r[1]=n[0];r[4]=n[1];r[7]=n[2];r[2]=-c[0];r[5]=-c[1];r[8]=-c[2];return b.normalize(a,e(a,r))};var w=p.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(q,
b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,0,1,0,0,0,1]};b.clone=function(b){return[b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]]};b.fromValues=function(b,f,k,l,m,g,d,c,a){return[b,f,k,l,m,g,d,c,a]};b.createView=function(b,f){return new Float64Array(b,f,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,0,0,1]};b.clone=function(b){return[b[0],
b[1],b[2],b[3]]};b.fromValues=function(b,f,k,l){return[b,f,k,l]};b.createView=function(b,f){return new Float64Array(b,f,4)}})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(q,b){function p(){return[0,0,0]}Object.defineProperty(b,"__esModule",{value:!0});b.create=p;b.clone=function(b){return[b[0],b[1],b[2]]};b.fromValues=function(b,k,l){return[b,k,l]};b.fromArray=function(b){for(var f=p(),l=Math.min(3,b.length),m=0;m<l;++m)f[m]=b[m];return f};b.createView=
function(b,k){return new Float64Array(b,k,3)}})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPSILON=1E-6;b.RANDOM=Math.random;var p=Math.PI/180,f=180/Math.PI;b.toRadian=function(b){return b*p};b.toDegree=function(b){return b*f};b.equals=function(f,l){return Math.abs(f-l)<=b.EPSILON*Math.max(1,Math.abs(f),Math.abs(l))}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports",
"../factories/vec3f64","./common"],function(q,b,p,f){function k(a){var c=a[0],e=a[1];a=a[2];return Math.sqrt(c*c+e*e+a*a)}function l(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a}function m(a,c,e){a[0]=c[0]-e[0];a[1]=c[1]-e[1];a[2]=c[2]-e[2];return a}function g(a,c,e){a[0]=c[0]*e[0];a[1]=c[1]*e[1];a[2]=c[2]*e[2];return a}function d(a,c,e){a[0]=c[0]/e[0];a[1]=c[1]/e[1];a[2]=c[2]/e[2];return a}function c(a,c){var e=c[0]-a[0],h=c[1]-a[1];a=c[2]-a[2];return Math.sqrt(e*e+h*h+a*a)}function a(a,c){var e=
c[0]-a[0],h=c[1]-a[1];a=c[2]-a[2];return e*e+h*h+a*a}function e(a){var c=a[0],e=a[1];a=a[2];return c*c+e*e+a*a}function h(a,c){var e=c[0],h=c[1],n=c[2],e=e*e+h*h+n*n;0<e&&(e=1/Math.sqrt(e),a[0]=c[0]*e,a[1]=c[1]*e,a[2]=c[2]*e);return a}function n(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}Object.defineProperty(b,"__esModule",{value:!0});b.length=k;b.copy=l;b.set=function(a,c,e,h){a[0]=c;a[1]=e;a[2]=h;return a};b.add=function(a,c,e){a[0]=c[0]+e[0];a[1]=c[1]+e[1];a[2]=c[2]+e[2];return a};b.subtract=m;
b.multiply=g;b.divide=d;b.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);a[2]=Math.ceil(c[2]);return a};b.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);return a};b.min=function(a,c,e){a[0]=Math.min(c[0],e[0]);a[1]=Math.min(c[1],e[1]);a[2]=Math.min(c[2],e[2]);return a};b.max=function(a,c,e){a[0]=Math.max(c[0],e[0]);a[1]=Math.max(c[1],e[1]);a[2]=Math.max(c[2],e[2]);return a};b.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);a[2]=
Math.round(c[2]);return a};b.scale=function(a,c,e){a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;return a};b.scaleAndAdd=function(a,c,e,h){a[0]=c[0]+e[0]*h;a[1]=c[1]+e[1]*h;a[2]=c[2]+e[2]*h;return a};b.distance=c;b.squaredDistance=a;b.squaredLength=e;b.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];return a};b.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};b.normalize=h;b.dot=n;b.cross=function(a,c,e){var h=c[0],n=c[1];c=c[2];var b=e[0],r=e[1];e=e[2];a[0]=n*e-c*r;a[1]=c*b-h*e;a[2]=
h*r-n*b;return a};b.lerp=function(a,c,e,h){var n=c[0],b=c[1];c=c[2];a[0]=n+h*(e[0]-n);a[1]=b+h*(e[1]-b);a[2]=c+h*(e[2]-c);return a};b.hermite=function(a,c,e,h,n,b){var r=b*b,d=r*(2*b-3)+1,g=r*(b-2)+b,f=r*(b-1);b=r*(3-2*b);a[0]=c[0]*d+e[0]*g+h[0]*f+n[0]*b;a[1]=c[1]*d+e[1]*g+h[1]*f+n[1]*b;a[2]=c[2]*d+e[2]*g+h[2]*f+n[2]*b;return a};b.bezier=function(a,c,e,h,n,b){var r=1-b,d=r*r,g=b*b,f=d*r,d=3*b*d,r=3*g*r;b*=g;a[0]=c[0]*f+e[0]*d+h[0]*r+n[0]*b;a[1]=c[1]*f+e[1]*d+h[1]*r+n[1]*b;a[2]=c[2]*f+e[2]*d+h[2]*
r+n[2]*b;return a};b.random=function(a,c){c=c||1;var e=2*f.RANDOM()*Math.PI,h=2*f.RANDOM()-1,n=Math.sqrt(1-h*h)*c;a[0]=Math.cos(e)*n;a[1]=Math.sin(e)*n;a[2]=h*c;return a};b.transformMat4=function(a,c,e){var h=c[0],n=c[1];c=c[2];a[0]=e[0]*h+e[4]*n+e[8]*c+e[12];a[1]=e[1]*h+e[5]*n+e[9]*c+e[13];a[2]=e[2]*h+e[6]*n+e[10]*c+e[14];return a};b.transformMat3=function(a,c,e){var h=c[0],n=c[1];c=c[2];a[0]=h*e[0]+n*e[3]+c*e[6];a[1]=h*e[1]+n*e[4]+c*e[7];a[2]=h*e[2]+n*e[5]+c*e[8];return a};b.transformQuat=function(a,
c,e){var h=e[0],n=e[1],b=e[2],r=c[0],d=c[1];c=c[2];var g=n*c-b*d,f=b*r-h*c,u=h*d-n*r;e=2*e[3];a[0]=r+g*e+2*(n*u-b*f);a[1]=d+f*e+2*(b*g-h*u);a[2]=c+u*e+2*(h*f-n*g);return a};b.rotateX=function(a,c,e,h){var n=[],b=[];n[0]=c[0]-e[0];n[1]=c[1]-e[1];n[2]=c[2]-e[2];b[0]=n[0];b[1]=n[1]*Math.cos(h)-n[2]*Math.sin(h);b[2]=n[1]*Math.sin(h)+n[2]*Math.cos(h);a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];return a};b.rotateY=function(a,c,e,h){var n=[],b=[];n[0]=c[0]-e[0];n[1]=c[1]-e[1];n[2]=c[2]-e[2];b[0]=n[2]*Math.sin(h)+
n[0]*Math.cos(h);b[1]=n[1];b[2]=n[2]*Math.cos(h)-n[0]*Math.sin(h);a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];return a};b.rotateZ=function(a,c,e,h){var n=[],b=[];n[0]=c[0]-e[0];n[1]=c[1]-e[1];n[2]=c[2]-e[2];b[0]=n[0]*Math.cos(h)-n[1]*Math.sin(h);b[1]=n[0]*Math.sin(h)+n[1]*Math.cos(h);b[2]=n[2];a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];return a};b.angle=function(a,c){l(r,a);l(t,c);h(r,r);h(t,t);a=n(r,t);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var r=p.create(),t=p.create();b.str=function(a){return"vec3("+
a[0]+", "+a[1]+", "+a[2]+")"};b.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]};b.equals=function(a,c){var e=a[0],h=a[1];a=a[2];var n=c[0],b=c[1];c=c[2];return Math.abs(e-n)<=f.EPSILON*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(h-b)<=f.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(a-c)<=f.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};b.sub=m;b.mul=g;b.div=d;b.dist=c;b.sqrDist=a;b.len=k;b.sqrLen=e})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require",
"exports","./common"],function(q,b,p){function f(a,c,h){a[0]=c[0]-h[0];a[1]=c[1]-h[1];a[2]=c[2]-h[2];a[3]=c[3]-h[3];return a}function k(a,c,h){a[0]=c[0]*h[0];a[1]=c[1]*h[1];a[2]=c[2]*h[2];a[3]=c[3]*h[3];return a}function l(a,c,h){a[0]=c[0]/h[0];a[1]=c[1]/h[1];a[2]=c[2]/h[2];a[3]=c[3]/h[3];return a}function m(a,c){var e=c[0]-a[0],n=c[1]-a[1],b=c[2]-a[2];a=c[3]-a[3];return Math.sqrt(e*e+n*n+b*b+a*a)}function g(a,c){var e=c[0]-a[0],n=c[1]-a[1],b=c[2]-a[2];a=c[3]-a[3];return e*e+n*n+b*b+a*a}function d(a){var c=
a[0],h=a[1],n=a[2];a=a[3];return Math.sqrt(c*c+h*h+n*n+a*a)}function c(a){var c=a[0],h=a[1],n=a[2];a=a[3];return c*c+h*h+n*n+a*a}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a};b.set=function(a,c,h,n,b){a[0]=c;a[1]=h;a[2]=n;a[3]=b;return a};b.add=function(a,c,h){a[0]=c[0]+h[0];a[1]=c[1]+h[1];a[2]=c[2]+h[2];a[3]=c[3]+h[3];return a};b.subtract=f;b.multiply=k;b.divide=l;b.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);
a[2]=Math.ceil(c[2]);a[3]=Math.ceil(c[3]);return a};b.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);a[3]=Math.floor(c[3]);return a};b.min=function(a,c,h){a[0]=Math.min(c[0],h[0]);a[1]=Math.min(c[1],h[1]);a[2]=Math.min(c[2],h[2]);a[3]=Math.min(c[3],h[3]);return a};b.max=function(a,c,h){a[0]=Math.max(c[0],h[0]);a[1]=Math.max(c[1],h[1]);a[2]=Math.max(c[2],h[2]);a[3]=Math.max(c[3],h[3]);return a};b.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);
a[2]=Math.round(c[2]);a[3]=Math.round(c[3]);return a};b.scale=function(a,c,h){a[0]=c[0]*h;a[1]=c[1]*h;a[2]=c[2]*h;a[3]=c[3]*h;return a};b.scaleAndAdd=function(a,c,h,n){a[0]=c[0]+h[0]*n;a[1]=c[1]+h[1]*n;a[2]=c[2]+h[2]*n;a[3]=c[3]+h[3]*n;return a};b.distance=m;b.squaredDistance=g;b.length=d;b.squaredLength=c;b.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=-c[3];return a};b.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];a[3]=1/c[3];return a};b.normalize=function(a,c){var e=c[0],
n=c[1],b=c[2];c=c[3];var d=e*e+n*n+b*b+c*c;0<d&&(d=1/Math.sqrt(d),a[0]=e*d,a[1]=n*d,a[2]=b*d,a[3]=c*d);return a};b.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]};b.lerp=function(a,c,h,n){var e=c[0],b=c[1],d=c[2];c=c[3];a[0]=e+n*(h[0]-e);a[1]=b+n*(h[1]-b);a[2]=d+n*(h[2]-d);a[3]=c+n*(h[3]-c);return a};b.random=function(a,c){c=c||1;var e,n,b,d,g,f;do e=2*p.RANDOM()-1,n=2*p.RANDOM()-1,g=e*e+n*n;while(1<=g);do b=2*p.RANDOM()-1,d=2*p.RANDOM()-1,f=b*b+d*d;while(1<=f);g=Math.sqrt((1-g)/
f);a[0]=c*e;a[1]=c*n;a[2]=c*b*g;a[3]=c*d*g;return a};b.transformMat4=function(a,c,h){var e=c[0],b=c[1],d=c[2];c=c[3];a[0]=h[0]*e+h[4]*b+h[8]*d+h[12]*c;a[1]=h[1]*e+h[5]*b+h[9]*d+h[13]*c;a[2]=h[2]*e+h[6]*b+h[10]*d+h[14]*c;a[3]=h[3]*e+h[7]*b+h[11]*d+h[15]*c;return a};b.transformQuat=function(a,c,h){var e=c[0],b=c[1],d=c[2],g=h[0],f=h[1],m=h[2];h=h[3];var k=h*e+f*d-m*b,l=h*b+m*e-g*d,p=h*d+g*b-f*e,e=-g*e-f*b-m*d;a[0]=k*h+e*-g+l*-m-p*-f;a[1]=l*h+e*-f+p*-g-k*-m;a[2]=p*h+e*-m+k*-f-l*-g;a[3]=c[3];return a};
b.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]};b.equals=function(a,c){var e=a[0],n=a[1],b=a[2];a=a[3];var d=c[0],g=c[1],f=c[2];c=c[3];return Math.abs(e-d)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(d))&&Math.abs(n-g)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(b-f)<=p.EPSILON*Math.max(1,Math.abs(b),Math.abs(f))&&Math.abs(a-c)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};
b.sub=f;b.mul=k;b.div=l;b.dist=m;b.sqrDist=g;b.len=d;b.sqrLen=c})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.quatf32=p})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var b=new Float32Array(4);b[3]=1;return b};b.clone=function(b){var f=new Float32Array(4);
f[0]=b[0];f[1]=b[1];f[2]=b[2];f[3]=b[3];return f};b.fromValues=function(b,f,k,l){var m=new Float32Array(4);m[0]=b;m[1]=f;m[2]=k;m[3]=l;return m};b.createView=function(b,f){return new Float32Array(b,f,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.vec3=p})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(q,b,p){Object.defineProperty(b,
"__esModule",{value:!0});b.vec3f32=p})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return new Float32Array(3)};b.clone=function(b){var f=new Float32Array(3);f[0]=b[0];f[1]=b[1];f[2]=b[2];return f};b.fromValues=function(b,f,k){var l=new Float32Array(3);l[0]=b;l[1]=f;l[2]=k;return l};b.createView=function(b,f){return new Float32Array(b,f,3)}})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(q,b,p,f,k,l,m){q=function(b){function d(a){a=b.call(this)||this;a.latestWkid=null;a.wkid=null;a.wkt=null;return a}p(d,b);c=d;d.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===a.wkid)return c.WGS84}var e=new c;e.read(a);return e};d.prototype.normalizeCtorArgs=function(a){var c;return a&&"object"===typeof a?a:(c={},c["string"===typeof a?"wkt":"wkid"]=a,c)};Object.defineProperty(d.prototype,"isWGS84",{get:function(){return m.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isWebMercator",{get:function(){return m.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isGeographic",{get:function(){return m.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isWrappable",{get:function(){return m.isWrappable(this)},enumerable:!0,configurable:!0});d.prototype.writeWkt=function(a,c){this.wkid||(c.wkt=a)};d.prototype.clone=function(){if(this===
c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};d.prototype.equals=function(a){return m.equals(this,a)};d.prototype.toJSON=function(a){return this.write(null,a)};var c;d.GCS_NAD_1927=null;d.WGS84=null;d.WebMercator=null;f([l.property({dependsOn:["wkid"],
readOnly:!0})],d.prototype,"isWGS84",null);f([l.property({dependsOn:["wkid"],readOnly:!0})],d.prototype,"isWebMercator",null);f([l.property({dependsOn:["wkid","wkt"],readOnly:!0})],d.prototype,"isGeographic",null);f([l.property({dependsOn:["wkid"],readOnly:!0})],d.prototype,"isWrappable",null);f([l.property({type:Number,json:{write:!0}})],d.prototype,"latestWkid",void 0);f([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?
!0:!1}}}}}}})],d.prototype,"wkid",void 0);f([l.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],d.prototype,"wkt",void 0);f([l.writer("wkt"),l.writer("web-scene","wkt")],d.prototype,"writeWkt",null);f([l.property({type:Number,json:{write:!0}})],d.prototype,"vcsWkid",void 0);f([l.property({type:Number,json:{write:!0}})],d.prototype,"latestVcsWkid",void 0);return d=c=f([l.subclass("esri.geometry.SpatialReference")],
d)}(l.declared(k));q.prototype.toJSON.isDefaultToJSON=!0;q.GCS_NAD_1927=new q({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});q.WGS84=new q(m.WGS84);q.WebMercator=new q(m.WebMercator);Object.freeze&&(Object.freeze(q.GCS_NAD_1927),Object.freeze(q.WGS84),Object.freeze(q.WebMercator));return q})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require",
"exports"],function(q,b){return function(b,f){b.__bases__=f.__bases__}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),function(q,b,p,f,k,l,m,g,d){function c(a,c){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var e=new this;e.read(a,c);return e}var a=function(a){function e(){return null!==
a&&a.apply(this,arguments)||this}p(e,a);e.prototype.read=function(a,c){g.default(this,a,c)};e.prototype.write=function(a,c){return d.default(this,a||{},c)};e.prototype.toJSON=function(a){return this.write(null,a)};e.fromJSON=function(a,e){return c.call(this,a,e)};return e=f([m.subclass("esri.core.JSONSupport")],e)}(m.declared(k));a.prototype.toJSON.isDefaultToJSON=!0;l.after(function(e){l.hasMixin(e,a)&&(e.fromJSON=c.bind(e))});return a})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),
function(q,b,p,f,k,l){b=b.default;q.before(function(b,d){q.hasMixin(b,m)&&f.processPrototype(d)});q.after(function(b){q.hasMixin(b,m)&&(f.processClass(b),Object.defineProperties(b.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var m=q(null,{declaredClass:"esri.core.Accessor",
"-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===m)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var g=[],d=0;d<arguments.length;d++)g.push(arguments[d]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,g)}},__accessor__:null,postscript:function(b){var d=this.__accessor__;
b=d.ctorArgs||b;d.initialize();b&&(this.set(b),d.ctorArgs=null);d.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");}catch(g){console.warn(g.stack)}else l.removeTarget(this),this.__accessor__.destroy()},get:function(b){return p.get(this,b)},hasOwnProperty:function(b){return this.__accessor__?this.__accessor__.has(b):Object.prototype.hasOwnProperty.call(this,b)},keys:function(){return this.__accessor__?this.__accessor__.keys():
[]},set:function(b,d){k.set(this,b,d);return this},watch:function(b,d,c){return l.watch(this,b,d,c)},_clearOverride:function(b){return this.__accessor__.clearOverride(b)},_override:function(b,d){return this.__accessor__.override(b,d)},_isOverridden:function(b){return this.__accessor__.isOverridden(b)},notifyChange:function(b){this.__accessor__.propertyInvalidated(b)},_get:function(b){return this.__accessor__.internalGet(b)},_set:function(b,d){return this.__accessor__.internalSet(b,d)}});return m})},
"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(q,b,p){function f(b,d){b&&!Array.isArray(b)&&"function"!==typeof b&&(d=b,b=null);b=b||[];d=d||{};return k([this].concat(b),d)}function k(b,d){b&&!Array.isArray(b)&&"function"!==typeof b&&(d=b,b=null);"function"===typeof b?b=[b]:b||(b=[]);d=d||{};var c,a;c=0;for(a=l.length;c<a;c++)l[c](b,d);b=p(b,d);b.createSubclass=f;c=0;for(a=m.length;c<a;c++)m[c](b);return b}var l=[],m=[];(function(b){b.hasMixin=function(b,
c){b=Array.isArray(b)?b.reduce(function(a,c){return c._meta?a.concat(c._meta.bases):a},[]):b._meta?b._meta.bases:b;if(!b)return!1;if("string"===typeof c)for(var a=b.length-1;0<=a;a--)if(b[a].prototype.declaredClass===c)return!0;return-1!==b.indexOf(c)};b.safeMixin=function(b,c){return p.safeMixin(b,c)};b.before=function(b){l.push(b)};b.after=function(b){m.push(b)}})(k||(k={}));return k})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),
function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});k.getLogger("esri.core.accessorSupport.Properties");q=function(){function a(a){this.host=a;this._origin=g.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new d.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;m.instanceCreated(this.host,
this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var c=0,n=Object.getOwnPropertyNames(a);c<n.length;c++){var b=n[c],d=a[b];if(d){for(;0<d.length;)d.pop().propertyDestroyed(this,b);a[b]=null}}if(this.autoDestroy)for(b in this.metadatas)(a=this.internalGet(b))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[b].nonNullable||this.internalSet(b,null))};Object.defineProperty(a.prototype,"initialized",
{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var c=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var e=c.get;return e?(c=e.call(this.host),this.store.set(a,c,g.OriginId.COMPUTED),this.propertyCommitted(a),c):c.value};a.prototype.originOf=function(a){var c=this.store.originOf(a);return void 0===
c&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":g.idToName(c)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var c=this.store;return c.has(a)?c.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,c){if(this.metadatas[a]){var e=this.initialized?this._origin:g.OriginId.DEFAULTS,h=this.store.get(a,e);f.equals(c,h)&&this.store.has(a,e)&&!this.isOverridden(a)||(this.propertyInvalidated(a),
this.store.set(a,c,e),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=function(a,h){if(this.metadatas[a]){this.overridden||(this.overridden={});var e=this.metadatas[a];if(!e.nonNullable||null!=h){if(e=e.cast){h=this.cast(e,h);var e=h.valid,b=h.value;c.release(h);if(!e)return;h=b}this.overridden[a]=!0;this.internalSet(a,h)}}};a.prototype.set=
function(a,h){if(this.metadatas[a]){var e=this.metadatas[a];if(!e.nonNullable||null!=h){var b=e.set;if(e=e.cast){h=this.cast(e,h);var e=h.valid,d=h.value;c.release(h);if(!e)return;h=d}b?b.call(this.host,h):this.internalSet(a,h)}}};a.prototype.setDefaultOrigin=function(a){this._origin=g.nameToId(a)};a.prototype.propertyInvalidated=function(a){var c=this.dirties,e=this.isOverridden(a),b=this.cursors&&this.cursors[a],d=this.metadatas[a].computes;if(b)for(var g=0;g<b.length;g++)b[g].propertyInvalidated(this,
a);e||(c[a]=!0);if(d)for(a=0;a<d.length;a++)this.propertyInvalidated(d[a])};a.prototype.propertyCommitted=function(a){var c=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(c)for(var e=0;e<c.length;e++)c[e].propertyCommitted(this,a)};a.prototype.addCursor=function(a,c){this.cursors||(this.cursors={});var e=this.cursors[a];e||(this.cursors[a]=e=[]);e.push(c)};a.prototype.removeCursor=function(a,c){var e=this.cursors[a];this.cursors[a]&&(e.splice(e.indexOf(c),1),0===e.length&&(this.cursors[a]=null))};
a.prototype.cast=function(a,h){var e=c.acquire();e.valid=!0;e.value=h;a&&(e.value=a.call(this.host,h,e));return e};return a}();p=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var c=new l(p);b.default=q})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(q,
b,p,f,k){Object.defineProperty(b,"__esModule",{value:!0});var l=[p.default,f.default,k.default];b.processPrototypeMetadatas=function(b,g){for(var d=0;d<l.length;d++){var c=l[d];if(c.processPrototypePropertyMetadata)for(var a in b)c.processPrototypePropertyMetadata(a,b[a],b,g)}};b.processClassMetadatas=function(b,g){for(var d=0;d<l.length;d++){var c=l[d];if(c.processClassPropertyMetadata)for(var a in b)c.processClassPropertyMetadata(a,b[a],b,g)}};b.instanceCreated=function(b,g){for(var d=Object.getOwnPropertyNames(g),
c=0;c<l.length;c++){var a=l[c];a.instanceCreated&&a.instanceCreated(b,g,d)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(q,b,p,f,k,l,m){function g(b,c,a){var e=l.getProperties(b);return m.wire(b,a.aliasOf,function(){e.propertyInvalidated(c)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(b,c,a,e){var h=c.aliasOf;if(h&&(b=
h.split(".")[0],null!=a[b]&&!c.set&&!c.get)){var n;c.get=function(){var a=f.default(this,h);if("function"===typeof a){n||(n=h.split(".").slice(0,-1).join("."));var c=f.default(this,n);c&&(a=a.bind(c))}return a};c.readOnly||(c.set=function(a){return k.default(this,h,a)})}},instanceCreated:function(b,c,a){for(var e=0;e<a.length;e++){var h=a[e],n=c[h];n.aliasOf&&g(b,h,n)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(q,
b,p){function f(b,d,c){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=c.getItemAt||Array.isArray(c)){var a=parseInt(b,10);if(!isNaN(a))return Array.isArray(c)?c[a]:c.getItemAt(a)}a=p.getProperties(c);return d?p.isPropertyDeclared(a,b)?a.get(b):c[b]:p.isPropertyDeclared(a,b)?a.internalGet(b):c[b]}function k(b,d,c,a){if(null==b)return b;if((b=f(d[a],c,b))||!(a<d.length-1))return a===d.length-1?b:k(b,d,c,a+1)}function l(b,d,c,a){void 0===c&&(c=!1);void 0===a&&(a=0);return"string"===typeof d&&-1===d.indexOf(".")?
f(d,c,b):k(b,p.pathToArray(d),c,a)}function m(b,d){return l(b,d,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=l;b.get=m;b.exists=function(b,d){return void 0!==l(d,b,!0)};b.default=m})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(q,b,p){function f(b,d,c){return d?Object.keys(d).reduce(function(a,e){var h=null,b="merge";c&&(h=c.path?c.path+"."+e:e,b=c.policy(h));if("replace"===b)return a[e]=d[e],a;if(void 0===a[e])return a[e]=p.clone(d[e]),
a;var r=a[e],b=d[e];if(r===b)return a;if(Array.isArray(b)||Array.isArray(a))r=r?Array.isArray(r)?a[e]=r.concat():a[e]=[r]:a[e]=[],b&&(Array.isArray(b)||(b=[b]),b.forEach(function(a){-1===r.indexOf(a)&&r.push(a)}));else if(b&&"object"===typeof b)if(c){var g=c.path;c.path=h;a[e]=f(r,b,c);c.path=g}else a[e]=f(r,b,null);else if(!a.hasOwnProperty(e)||d.hasOwnProperty(e))a[e]=b;return a},b||{}):b}function k(b){return Array.isArray(b)?b:b.split(".")}function l(b){if(Array.isArray(b)||-1<b.indexOf(",")){b=
Array.isArray(b)?b:b.split(",");for(var d=0;d<b.length;d++)b[d]=b[d].trim();return 1===b.length?b[0]:b}return b.trim()}function m(b){var d=!1;return function(){d||(d=!0,b())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(b){return b?b.__accessor__?b.__accessor__:b.propertyInvalidated?b:null:null};b.isPropertyDeclared=function(b,d){return b&&b.metadatas&&null!=b.metadatas[d]};b.merge=function(b,d,c){return c?f(b,d,{policy:c,path:""}):f(b,d,null)};b.pathToStringOrArray=function(b){return!b||
"string"===typeof b&&-1===b.indexOf(".")?b:k(b)};b.pathToArray=k;b.splitPath=l;b.parseConditionalPath=function(b){if(-1===b.indexOf("?"))return null;b=k(b);for(var d=Array(b.length),c=0;c<b.length;c++){var a=b[c];d[c]="?"===a[a.length-1];d[c]&&(b[c]=a.slice(0,-1))}return{fullPath:b.join("."),conditional:d}};b.parse=function(b,d,c,a){d=l(d);if(Array.isArray(d)){var e=d.map(function(e){return a(b,e.trim(),c)});return{remove:m(function(){return e.forEach(function(a){return a.remove()})})}}return a(b,
d.trim(),c)};b.once=m})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(q,b,p,f,k){function l(b,g,d){if(b&&g)if("object"===typeof g){d=0;for(var c=Object.getOwnPropertyNames(g);d<c.length;d++){var a=c[d];l(b,a,g[a])}}else"_"!==g[0]&&(-1!==g.indexOf(".")?(g=g.split("."),a=g.splice(g.length-1,1)[0],l(k.default(b,g),a,d)):b[g]=d)}Object.defineProperty(b,"__esModule",{value:!0});f.getLogger("esri.core.accessorSupport.set");b.set=l;b.default=
l})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(q,b,p){function f(c,a,e){a=p.splitPath(a);if(Array.isArray(a)){for(var b=[],n=0;n<a.length;n++)b.push((new k(a[n],e)).install(c));return new g(b)}c=(new k(a,e)).install(c);return new d(c)}Object.defineProperty(b,"__esModule",{value:!0});var k=function(){function c(a,c){this.path=a;this.callback=c;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=p.parseConditionalPath(a))this.path=a.fullPath,
this.conditional=a.conditional;this.chain=p.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=c;return this}c.prototype.install=function(a){a=this.chain?new m(this,a):new l(this,a);return a};c.prototype.notify=function(a){this.callback(a,this.path)};return c}(),l=function(){function c(a,c){this.binding=a;this.target=c;p.getProperties(c).addCursor(this.binding.path,this)}c.prototype.destroy=function(){this.target&&
(p.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};c.prototype.propertyDestroyed=function(a,c){p.getProperties(this.target).removeCursor(c,this)};c.prototype.propertyInvalidated=function(a,c){this.binding&&this.binding.notify(this.target)};c.prototype.propertyCommitted=function(a,c){this.binding&&this.binding.notify(this.target)};return c}(),m=function(){function c(a,c){this.binding=a;this.target=c;this.stack=[];this.properties=p.getProperties(c);this.stack.push({properties:this.properties,
propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}c.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};c.prototype.propertyDestroyed=function(a,c){this.moveBackward(a,c)};c.prototype.propertyInvalidated=function(a,c){this.binding&&this.binding.notify(this.target)};c.prototype.propertyCommitted=function(a,c){this.binding&&(this.moveBackward(a,c),
this.moveForward(),this.binding.notify(this.target))};c.prototype.moveBackward=function(a,c){for(var e=this.stack,b=e[e.length-1];b.properties!==a&&b.propertyName!==c;)b.properties.removeCursor(b.propertyName,this),e.pop(),b=e[e.length-1]};c.prototype.moveForward=function(){var a=this.stack,c=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||c.properties.metadatas[c.propertyName])if(c=c.properties.internalGet(c.propertyName),(c=p.getProperties(c))&&a.length<
this.binding.chain.length){var b=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!c.metadatas[b]||(this.stack.push({properties:c,propertyName:b}),c.addCursor(b,this),this.moveForward())}};return c}(),g=function(){function c(a){this.cursors=a}c.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return c}(),d=function(){function c(a){this.cursor=a}c.prototype.remove=function(){this.cursor.destroy();this.cursor=
null};return c}();b.create=function(c,a){c=p.splitPath(c);if(Array.isArray(c)){for(var e=[],b=0;b<c.length;b++)e.push(new k(c[b],a));return function(a){for(var c=[],b=0;b<e.length;b++)c[b]=e[b].install(a);return new g(c)}}var n=new k(c,a);return function(a){return new d(n.install(a))}};b.wire=f;b.default=f})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",
{value:!0});f.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(b,g,d,c){g.dependsOn&&(d=void 0,d=g.dependsOn.slice())&&(g.wire=l.create(d,function(a){return k.getProperties(a).propertyInvalidated(b)}))},instanceCreated:function(b,g,d){for(var c=0;c<d.length;c++){var a=g[d[c]];a.wire&&a.wire(b)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(q,b,p,f,k,l,m){function g(b,c,a){var e=b&&b.json;b&&b.json&&b.json.origins&&a&&(b=b.json.origins[a.origin])&&c in b&&(e=b);return e}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(b,c){return g(b,"read",c)};b.originSpecificWritePropertyDefinition=function(b,c){return g(b,"write",c)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(b,c,a,e){if(l.process(c)){f.process(c);a=c.type;for(e=0;Array.isArray(a)&&!p.isOneOf(a);)a=
a[0],e++;if(c.json.origins)for(var h in c.json.origins){var n=c.json.origins[h];k.create(a,e,b,n);m.create(a,e,b,n)}k.create(a,e,b,c.json);m.create(a,e,b,c.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(b){if(b.json&&b.json.origins){var f=b.json.origins,k={"web-document":["web-scene","web-map"]};b=
function(b){if(f[b]){var g=f[b];k[b].forEach(function(b){f[b]=g});delete f[b]}};for(var l in k)b(l)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(q,b,p,f){function k(a,b,n,r){if(1<b)return g(a,b);if(1===b)return d(a);if(c(a)){var e=d(a.prototype.itemType.Type);return function(c,b,h){return(c=e(c,b,h))?new a(c):c}}return l(a)}function l(a){return a.prototype.read?function(c,e,b){if(null==c)return c;
e=new a;e.read(c,b);return e}:a.fromJSON}function m(a,c,b,d){return 0!==d&&Array.isArray(c)?c.map(function(c){return m(a,c,b,d-1)}):a(c,null,b)}function g(a,c){a=l(a);var b=m.bind(null,a);return function(a,e,h){if(null==a)return a;a=b(a,h,c);e=c;for(h=a;0<e&&Array.isArray(h);)e--,h=h[0];if(void 0!==h)for(h=0;h<e;h++)a=[a];return a}}function d(a){var c=l(a);return function(a,b,e){return null==a?a:Array.isArray(a)?a.map(function(a){return c(a,null,e)}):[c(a,null,e)]}}function c(c){return f.isCollection(c)?
(c=c.prototype.itemType)&&c.Type&&"function"===typeof c.Type?a(c.Type):!1:!1}function a(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||c(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(c,b,n,d){(!d.read||!d.read.reader&&!1!==d.read.enabled)&&a(c)&&p.setDeepValue("read.reader",k(c,b,n,d),d)}})},"esri/core/object":function(){define(["require","exports"],function(q,b){function p(b,k,l){for(var f=0;f<b.length;f++){var g=b[f];if(null==l)return;
if(!(g in l))if(k)l[g]={};else return;l=l[g]}return l}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(b,k){return p(b.split("."),!1,k)};b.setDeepValue=function(b,k,l){var f=b.split(".");b=f.pop();(l=p(f,!0,l))&&b&&(l[b]=k)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(b){return!!b&&b.prototype&&b.prototype.declaredClass&&0===
b.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(q,b){function p(b){"boolean"===typeof b.read?b.read={enabled:b.read}:"function"===typeof b.read?b.read={enabled:!0,reader:b.read}:b.read&&"object"===typeof b.read&&void 0===b.read.enabled&&(b.read.enabled=!0)}function f(b){"boolean"===typeof b.write?b.write={enabled:b.write}:"function"===typeof b.write?b.write={enabled:!0,
writer:b.write}:b.write&&"object"===typeof b.write&&void 0===b.write.enabled&&(b.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=function(b){b.json||(b.json={});p(b.json);f(b.json);if(b.json.origins)for(var k in b.json.origins)p(b.json.origins[k]),f(b.json.origins[k]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(q,b,p,f){function k(c,a,b,h){p.setDeepValue(b,l(c,
h),a)}function l(c,a){return c&&"function"===typeof c.write?c.write({},a):c&&"function"===typeof c.toJSON?c.toJSON():"number"===typeof c?-Infinity===c?-Number.MAX_VALUE:Infinity===c?Number.MAX_VALUE:isNaN(c)?null:c:c}function m(c,a,b,h){null===c?c=null:c&&"function"===typeof c.map?(c=c.map(function(a){return l(a,h)}),"function"===typeof c.toArray&&(c=c.toArray())):c=[l(c,h)];p.setDeepValue(b,c,a)}function g(c,a,b){return 0!==b&&Array.isArray(c)?c.map(function(c){return g(c,a,b-1)}):l(c,a)}function d(c){return function(a,
b,h,n){if(null===a)a=null;else{a=g(a,n,c);n=c;for(var e=a;0<n&&Array.isArray(e);)n--,e=e[0];if(void 0!==e)for(e=0;e<n;e++)a=[a]}p.setDeepValue(h,a,b)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(c,a,b,h){h.write&&!h.write.writer&&!1!==h.write.enabled&&(1===a||f.isCollection(c)?h.write.writer=m:h.write.writer=1<a?d(a):k)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(q,b){function p(b){switch(b){case "defaults":return k.DEFAULTS;
case "service":return k.SERVICE;case "portal-item":return k.PORTAL_ITEM;case "web-scene":return k.WEB_SCENE;case "web-map":return k.WEB_MAP;case "user":return k.USER}}function f(b){switch(b){case k.DEFAULTS:return"defaults";case k.SERVICE:return"service";case k.PORTAL_ITEM:return"portal-item";case k.WEB_SCENE:return"web-scene";case k.WEB_MAP:return"web-map";case k.USER:return"user"}}Object.defineProperty(b,"__esModule",{value:!0});var k;(function(b){b[b.DEFAULTS=0]="DEFAULTS";b[b.COMPUTED=1]="COMPUTED";
b[b.SERVICE=2]="SERVICE";b[b.PORTAL_ITEM=3]="PORTAL_ITEM";b[b.WEB_SCENE=4]="WEB_SCENE";b[b.WEB_MAP=5]="WEB_MAP";b[b.USER=6]="USER";b[b.NUM=7]="NUM"})(k=b.OriginId||(b.OriginId={}));b.nameToId=p;b.idToName=f;b.readableNameToId=function(b){return p(b)};b.idToReadableName=function(b){return f(b)};b.writableNameToId=function(b){return p(b)};b.idToWritableName=function(b){return f(b)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(q,b,p){Object.defineProperty(b,
"__esModule",{value:!0});q=function(){function b(){this._values={}}b.prototype.get=function(b){return this._values[b]};b.prototype.originOf=function(b){return p.OriginId.USER};b.prototype.keys=function(){return Object.keys(this._values)};b.prototype.set=function(b,f){this._values[b]=f};b.prototype.clear=function(b){delete this._values[b]};b.prototype.has=function(b){return b in this._values};return b}();b.default=q})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(q,b,p,f,k,l,m){function g(b,c){return function(a){a=+b(a);null!=c.min&&(a=Math.max(c.min,a));null!=c.max&&(a=Math.min(c.max,a));return a}}Object.defineProperty(b,"__esModule",{value:!0});b.processPrototype=function(b){var c=b.declaredClass,a=b.properties||{},e;for(e in a){var h=a[e],n=typeof h;null==h?k.setPropertyMetadata(b,e,{value:h}):Array.isArray(h)?k.setPropertyMetadata(b,e,{type:[h[0]],value:null}):"object"===n?l.getProperties(h)||h instanceof Date?k.setPropertyMetadata(b,e,{type:h.constructor,
value:h}):k.setPropertyMetadata(b,e,h):"boolean"===n?k.setPropertyMetadata(b,e,{type:Boolean,value:h}):"string"===n?k.setPropertyMetadata(b,e,{type:String,value:h}):"number"===n?k.setPropertyMetadata(b,e,{type:Number,value:h}):"function"===n&&k.setPropertyMetadata(b,e,{type:h,value:null})}b=k.getPropertiesMetadata(b);for(e in b){a=b[e];n=a.type;h=a.types;if(!a.cast)if(n){for(var h=a,d=0,t=n;Array.isArray(t)&&1===t.length&&"string"!==typeof t[0]&&"number"!==typeof t[0];)t=t[0],d++;n=p.isOneOf(t)?0===
d?p.ensureOneOf(t):p.ensureNArrayTyped(p.ensureOneOf(t),d):1===d?p.ensureArray(t):1<d?p.ensureNArray(t,d):p.ensureType(n);h.cast=n}else h&&(Array.isArray(h)?a.cast=p.ensureArrayTyped(p.ensureOneOfType(h[0])):a.cast=p.ensureOneOfType(h));a.range&&(a.cast=g(a.cast,a.range))}f.processPrototypeMetadatas(b,c);return b};b.processClass=function(b){for(var c=b.prototype,a=c.declaredClass,e=b._meta.bases,h={},n=e.length-1;0<=n;n--)k.merge(h,k.getMetadata(e[n].prototype));var d=h.properties;f.processClassMetadatas(d,
a);Object.defineProperty(b,"__accessorMetadata__",{value:{properties:d,autoDestroy:!!h.autoDestroy}});for(var g={},a=function(a){var c=d[a];g[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):c.value},set:function(b){var e=this.__accessor__;if(!e)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b});else if(!Object.isFrozen(this)){if(e.initialized&&c.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+
a+"' of "+this.declaredClass);if(2===e.lifecycle&&c.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);e.set(a,b)}}}},e=0,n=Object.getOwnPropertyNames(d);e<n.length;e++)a(n[e]);Object.defineProperties(b.prototype,g);if(h.parameters)for(b=0,a=Object.getOwnPropertyNames(h.parameters);b<a.length;b++)e=a[b],n=Object.getOwnPropertyDescriptor(c,e)||{value:c[e]},(n=m.autocastMethod(c,e,n))&&Object.defineProperty(c,e,n);return h}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports","./utils"],function(q,b,p){function f(a){return null!=a.__accessorMetadata__}function k(a){return f(a)&&null!=l(a).properties}function l(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function m(a){a=l(a);var c=a.properties;c||(c=a.properties={});return c}function g(a,c){var b=l(a);a=b.parameters;a||(a=b.parameters={});b=a[c];b||(b=[],a[c]=b);return b}function d(c){return a.test(c)?
"replace":"merge"}function c(a){return e.test(a)?d(a.slice(11)):"merge"}Object.defineProperty(b,"__esModule",{value:!0});b.hasMetadata=f;b.hasPropertiesMetadata=k;b.hasPropertyMetadata=function(a,c){return k(a)&&null!=m(a)[c]};b.hasParametersMetadata=function(a,c){return f(a)&&null!=l(a).parameters&&null!=l(a).parameters[c]};b.getMetadata=l;b.getPropertiesMetadata=m;b.getPropertyMetadata=function(a,c){a=m(a);var b=a[c];b||(b=a[c]={});return b};b.setPropertyMetadata=function(a,c,b){m(a)[c]=b};b.getParametersMetadata=
g;b.getParameterMetadata=function(a,c,b){var e=g(a,c)[b];e||(g(a,c)[b]=e={index:b});return e};b.merge=function(a,b){return p.merge(a,b,c)};b.mergeProperty=function(a,c){return p.merge(a,c,d)};var a=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,e=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(q,b,p,f){function k(c){var a="_meta"in c?p.ensureType(c):c;return function(){for(var c=[],b=
0;b<arguments.length;b++)c[b]=arguments[b];c.push(a);return"number"===typeof c[2]?m.apply(this,c):l.apply(this,c)}}function l(c,a,b,h){f.getPropertyMetadata(c,a).cast=h}function m(c,a,b,h){f.getParameterMetadata(c,a,b).cast=h}function g(c){return function(a,b,h){f.getPropertyMetadata(a,c).cast=a[b]}}Object.defineProperty(b,"__esModule",{value:!0});var d=Object.prototype.toString;b.autocastMethod=function(c,a,b){if(f.hasParametersMetadata(c,a)){var e=f.getParametersMetadata(c,a).filter(function(a){return null!=
a.cast});if(e.length){var n=b.value;b.value=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];for(c=0;c<e.length;c++){var b=e[c];a[b.index]=b.cast(a[b.index])}return n.apply(this,a)};return b}console.warn("Method "+c.declaredClass+"::"+a+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];if(3!==c.length||"string"!==typeof c[1]){if(1===c.length&&"[object Function]"===d.call(c[0]))return k(c[0]);
if(1===c.length&&"string"===typeof c[0])return g(c[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(q,b,p,f,k,l,m,g,d){function c(a){w.has(a)?F.splice(F.indexOf(a),1):w.add(a);F.push(a);D||(D=l.schedule(e))}function a(a){if(!a.removed){var c=a.callback,b=a.path,e=a.oldValue,h=a.target,n=m.valueOf(h,a.propertyPath,!0);f.equals(e,n)||(a.oldValue=n,c.call(h,n,e,b,h))}}function e(){if(D){D=
null;var c=F;F=u.acquire();w.clear();for(var b=u.acquire(),e=0;e<c.length;e++){var h=c[e];a(h);h.removed&&b.push(h)}for(e=0;e<F.length;e++)h=F[e],h.removed&&(b.push(h),w.delete(h),F.splice(e,1),--e);for(e=0;e<b.length;e++)t.pool.release(b[e]);u.release(c);u.release(b);B.forEach(function(a){return a()})}}function h(a,b,e){var h=g.parse(a,b,e,function(a,b,e){var n=m.valueOf(a,b,!0),r,f=d.wire(a,b,function(a,b){a.__accessor__.destroyed?h.remove():(r||(r=t.pool.acquire(a,b,n,e),n=null),c(r))});return{remove:g.once(function(){f.remove();
r&&(r.removed=!0,c(r),r=null);h=f=n=null})}});return h}function n(a,c,b){var e=g.parse(a,c,b,function(a,c,b){var h=m.valueOf(a,c,!0),n=!1;return d.wire(a,c,function(a,c){if(a.__accessor__.destroyed)e.remove();else if(!n){n=!0;var d=m.valueOf(a,c,!0);f.equals(h,d)||b.call(a,d,h,c,a);h=m.valueOf(a,c,!0);n=!1}})});return e}function r(a,c,b,e){void 0===e&&(e=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:e?n(a,c,b):h(a,c,b)}Object.defineProperty(b,"__esModule",{value:!0});var t=
function(){function a(a,c,b,e){this.target=a;this.path=c;this.oldValue=b;this.callback=e;this.removed=!1;this.propertyPath=g.pathToStringOrArray(c)}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.removed=!0};a.pool=new k.ReentrantObjectPool(a,!0);return a}(),u=new p,w=new Set,F=u.acquire(),D;b.dispatchTarget=function(c){for(var b=u.copy(F),e=0;e<b.length;e++){var h=b[e];h.target===c&&(a(h),w.delete(h),F.splice(F.indexOf(h),1))}};b.removeTarget=
function(a){for(var c=0;c<F.length;c++){var b=F[c];b.target===a&&(b.removed=!0)}};b.dispatch=e;var B=new Set;b.afterDispatch=function(a){B.add(a);return{remove:function(){B.delete(a)}}};b.watch=r;b.isValueInUse=function(a){return F.some(function(c){return c.oldValue===a})};b.default=r})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(q,b,p,f){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function f(){var f=
null!==b&&b.apply(this,arguments)||this;f._set=new Set;return f}p(f,b);f.prototype.destroy=function(){b.prototype.destroy.call(this);this._set=null};f.prototype.acquire=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];f=b.prototype.acquire.apply(this,f);this._set.delete(f);return f};f.prototype.release=function(f){f&&!this._set.has(f)&&(b.prototype.release.call(this,f),this._set.add(f))};f.prototype._dispose=function(f){this._set.delete(f);b.prototype._dispose.call(this,f)};return f}(f);
b.ReentrantObjectPool=q})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(q,b,p,f,k){function l(a){void 0===a&&(a=b.now());b.debug.rafId=null;0<F.length&&(b.debug.rafId=m());0<h&&(r=Math.min(a-h,r));b.debug.executeFrameTasks(a)}function m(){return b.debug.requestNextFrame?b.debug.requestNextFrame(c):c()}function g(){for(var a=0;a<F.length;){var c=F[a];a++;if(c.removed){F.splice(a-1,1);for(var b=0;b<u.length;b++){var e=u[b];if(c.phases[e]){var e=
D[e],h=e.indexOf(c);-1!==h&&e.splice(h,1)}}}}}function d(){for(;w.length;){var a=w.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function c(){return k(l)}Object.defineProperty(b,"__esModule",{value:!0});b.now=f;var a=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),e=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),h=-1,
n=0,r=Number.POSITIVE_INFINITY,t={time:0,deltaTime:0,tickTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},u=["prepare","preRender","render","postRender","update"],w=[],F=[],D={prepare:[],preRender:[],render:[],postRender:[],update:[]},B=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=b.now())};a.prototype.resume=function(){this._task.paused&&(this._task.paused=
!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return a}();b.FrameTaskHandle=B;b.debug={frameTasks:F,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);for(var c=0;c<F.length;c++)F[c].removed=!0;a&&g()},dispatch:d,executeFrameTasks:function(a){void 0===a&&(a=b.now());0>h&&(h=a);var c=a-h,e=0<n?n:r,d=Math.max(0,c-e);h=a;for(var f=0;f<F.length;f++){var w=F[f];-1!==w.epoch&&(w.dt=c)}for(f=0;f<u.length;f++)for(var c=u[f],m=D[c],
k=0;k<m.length;k++)w=m[(k+x)%m.length],w.paused||w.removed||(0===f&&w.ticks++,-1===w.epoch&&(w.epoch=a),t.time=a,t.deltaTime=w.dt,t.tickTime=Math.min(r,33),t.elapsedFrameTime=b.now()-a,t.frameDuration=e-d,t.spendInTask=a-w.epoch,w.phases[c].call(w,t));g();++x}};b.schedule=function(a){a=new e(a);w.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,p(d));return a};b.addFrameTask=function(c){var e=new a(c);F.push(e);for(var n=0,d=u;n<d.length;n++){var r=d[n];c[r]&&D[r].push(e)}b.debug.rafId||(h=
-1,b.debug.rafId=m());return new B(e)};b.setFrameDuration=function(a){n=Math.max(0,a)};var x=0;b.requestNextFrame=m})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(q,b,p,f){var k=f();q=p.requestAnimationFrame;if(!q){b=["ms","moz","webkit","o"];for(var l=0;l<b.length&&!q;++l)q=p[b[l]+"RequestAnimationFrame"];q||(q=function(b){var g=f(),d=Math.max(0,16-(g-k)),c=p.setTimeout(function(){b(f())},d);k=g+d;return c})}return q})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){function h(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0});h(p);h(f);h(k);h(l);h(m);h(g);h(d);h(c);h(a);h(e)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(b){return function(f,l){p.getPropertyMetadata(f,l).aliasOf=b}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(b,k,l){p.getMetadata(b).autoDestroy=!0;return b[k]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(b){for(var f=[],k=1;k<arguments.length;k++)f[k-1]=arguments[k];k=function(){return this||{}};k.__bases__=[b].concat(f);return k}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../kebabDictionary","./property"],function(q,b,p,f){function k(b){return f.property({type:b})}Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=k;(function(b){b.serializable=function(){return function(b){b=b instanceof p.KebabDictionary?b:new p.KebabDictionary(b,{ignoreUnknown:!0});return f.property({type:b.apiValues,json:{type:b.jsonValues,read:{reader:b.read},write:{writer:b.write}}})}}})(k=b.enumeration||(b.enumeration={}))})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});k.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(b){void 0===b&&(b={});return function(g,d){var c=g.constructor.prototype;c!==Function.prototype&&((g=Object.getOwnPropertyDescriptor(g,d))&&(g.get||g.set)?(b=f.clone(b),g.set&&(b.set=g.set),g.get&&(b.get=g.get)):g&&g.hasOwnProperty("value")&&(b=f.clone(b),b.value=g.value),d=l.getPropertyMetadata(c,d),l.mergeProperty(d,b))}};b.propertyJSONMeta=function(b,
g,d){b=l.getPropertyMetadata(b.constructor.prototype,d);b.json||(b.json={});b=b.json;void 0!==g&&(b.origins||(b.origins={}),b.origins[g]||(b.origins[g]={}),b=b.origins[g]);return b}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(q,b,p,f){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(b,l,m){var g,d;void 0===l||Array.isArray(l)?(d=b,m=l,g=[void 0]):(d=l,g=Array.isArray(b)?b:[b]);return function(c,a,b){var e=
c.constructor.prototype;g.forEach(function(b){b=f.propertyJSONMeta(c,b,d);b.read&&"object"!==typeof b.read&&(b.read={});p.setDeepValue("read.reader",e[a],b);m&&(b.read.source=(b.read.source||[]).concat(m))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(b){return function(f,k){f[k]=b}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(q,b,p,f){function k(a,c){a.read&&("function"===typeof a.read?c.push(a.read):"object"===typeof a.read&&a.read.reader&&c.push(a.read.reader))}function l(a,c){a.write&&("function"===typeof a.write?c.push(a.write):"object"===typeof a.write&&a.write.writer&&c.push(a.write.writer))}function m(a){var c=[];a=f.getPropertiesMetadata(a.prototype);if(!a)return c;for(var b in a){var n=a[b];n.cast&&c.push(n.cast);n.copy&&c.push(n.copy);if(n=n.json)if(k(n,c),l(n,c),n=n.origins)for(var d in n){var g=
n[d];k(g,c);l(g,c)}}return c}function g(a){var b={values:{},descriptors:{}},h=["__bases__"],n=f.getPropertiesMetadata(a.prototype),d=m(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==h.indexOf(b)||n&&n.hasOwnProperty(b)||!c(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==d.indexOf(a.prototype[b])?!1:!0}).forEach(function(e){var h=Object.getOwnPropertyDescriptor(a.prototype,e);c(h)?b.descriptors[e]=h:b.values[e]=a.prototype[e]});return b}function d(a){var b=Object.getOwnPropertyNames(a),
h=Object.getPrototypeOf(a.prototype).constructor,n=Object.getOwnPropertyNames(Function);n.push("__bases__");var d=Object.getOwnPropertyNames(h),g={values:{},descriptors:{}};b.filter(function(c){return-1!==n.indexOf(c)?!1:-1===d.indexOf(c)||h[c]!==a[c]?!0:!1}).forEach(function(b){var e=Object.getOwnPropertyDescriptor(a,b);c(e)?g.descriptors[b]=e:g.values[b]=a[b]});return g}function c(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",{value:!0});b.subclass=function(a){return function(c){var b=
g(c),e=d(c);null!=a&&(b.values.declaredClass=a);c=p(c.__bases__,b.values);Object.defineProperties(c.prototype,b.descriptors);for(var r in e.values)c[r]=e.values[r];Object.defineProperties(c,e.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(q,b,p,f){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(b,l,m){var g,d;void 0===l?(d=b,g=[void 0]):"string"!==typeof l?(d=b,g=[void 0],m=l):
(d=l,g=Array.isArray(b)?b:[b]);return function(c,a,b){var e=c.constructor.prototype;g.forEach(function(b){b=f.propertyJSONMeta(c,b,d);b.write&&"object"!==typeof b.write&&(b.write={});m&&p.setDeepValue("write.target",m,b);p.setDeepValue("write.writer",e[a],b)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(q,b,p,f,k,l){function m(b,c,a){void 0===a&&(a=g);if(c&&"object"===typeof c){for(var e=
k.getProperties(b),h=e.metadatas,n={},d=0,t=Object.getOwnPropertyNames(c);d<t.length;d++){var u=n,w=h,m=t[d],D=c,p=a,x=l.originSpecificReadPropertyDefinition(w[m],p);x&&(!x.read||!1!==x.read.enabled&&!x.read.source)&&(u[m]=!0);for(var q=0,C=Object.getOwnPropertyNames(w);q<C.length;q++){var v=C[q],x=l.originSpecificReadPropertyDefinition(w[v],p),z;a:{z=m;var E=D;if(x&&x.read&&!1!==x.read.enabled&&x.read.source)if(x=x.read.source,"string"===typeof x){if(x===z||-1<x.indexOf(".")&&0===x.indexOf(z)&&f.exists(x,
E)){z=!0;break a}}else for(var H=0;H<x.length;H++){var A=x[H];if(A===z||-1<A.indexOf(".")&&0===A.indexOf(z)&&f.exists(A,E)){z=!0;break a}}z=!1}z&&(u[v]=!0)}}e.setDefaultOrigin(a.origin);t=0;for(u=Object.getOwnPropertyNames(n);t<u.length;t++)d=u[t],m=(w=l.originSpecificReadPropertyDefinition(h[d],a).read)&&w.source,D=void 0,D=m&&"string"===typeof m?f.valueOf(c,m):c[d],w&&w.reader&&(D=w.reader.call(b,D,c,a)),void 0!==D&&e.set(d,D);if(!a||!a.ignoreDefaults)for(c=0,h=Object.getOwnPropertyNames(h);c<h.length;c++)d=
h[c],n[d]||(t=b,u=e,w=a,m=(m=l.originSpecificReadPropertyDefinition(u.metadatas[d],w))&&m.default,void 0!==m&&(t="function"===typeof m?m.call(t,d,w):m,void 0!==t&&u.set(d,t)));e.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var g={origin:"service"};b.read=m;b.readLoadable=function(b,c,a,e){void 0===e&&(e=g);c=p({},e,{messages:[]});a(c);c.messages.forEach(function(a){"warning"!==a.type||b.loaded?e&&e.messages.push(a):b.loadWarnings.push(a)})};b.default=m})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(q,b,p,f,k,l,m,g){function d(c,b,n,d,g,u){if(!d||!d.write)return!1;var e=c.get(n);if(!g&&d.write.overridePolicy){var h=d.write.overridePolicy.call(c,e,n,u);void 0!==h&&(g=h)}g||(g=d.write);if(!g||!1===g.enabled)return!1;if((null===e&&!g.allowNull||void 0===e)&&g.isRequired)return(e=new f("web-document-write:property-required","Missing value for required property '"+n+"' on '"+c.declaredClass+"'",{propertyName:n,target:c}),u)&&u.messages?u.messages.push(e):e&&!u&&a.error(e.name,e.message),
!1;if(void 0===e||null===e&&!g.allowNull||!g.ignoreOrigin&&u&&u.origin&&b.store.originOf(n)<l.nameToId(u.origin))return!1;b=d.default;void 0===b?u=!1:"function"===typeof b?Array.isArray(e)?(u=b.call(c,n,u),u=p.equals(u,e)):u=!1:u=b===e;return u?!1:!0}function c(a,c,b){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return m.merge(c,a.toJSON());var e=m.getProperties(a),h=e.metadatas,n;for(n in h){var f=g.originSpecificWritePropertyDefinition(h[n],b);if(d(a,e,n,f,null,b)){var k=
a.get(n),D={};f.write.writer.call(a,k,D,"string"===typeof f.write.target?f.write.target:n,b);f=D;0<Object.keys(f).length&&(c=m.merge(c,f),b&&b.writtenProperties&&b.writtenProperties.push({target:a,propName:n,oldOrigin:l.idToReadableName(e.store.originOf(n)),newOrigin:b.origin}))}}return c}Object.defineProperty(b,"__esModule",{value:!0});var a=k.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,c,b,r){var e=m.getProperties(a),h=g.originSpecificWritePropertyDefinition(e.metadatas[c],
r);return h?d(a,e,c,h,b,r):!1};b.write=c;b.default=c})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(q,b,p,f){function k(a,c){return-1===a.indexOf(c)}function l(a,c,b){return!a.some(c.bind(null,b))}function m(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.find=p.find;b.findIndex=p.findIndex;b.unique=function(a){return a.filter(function(a,c,b){return b.indexOf(a)===c})};b.equals=function(a,c,b){if(!a&&!c)return!0;
if(!a||!c||a.length!==c.length)return!1;if(b)for(var e=0;e<a.length;e++){if(!b(a[e],c[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==c[e])return!1;return!0};b.difference=function(a,c,b){var e;b?(e=c.filter(l.bind(null,a,b)),a=a.filter(l.bind(null,c,b))):(e=c.filter(k.bind(null,a)),a=a.filter(k.bind(null,c)));return{added:e,removed:a}};b.intersect=function(a,c,b){return a&&c?b?a.filter(function(a){return-1<p.findIndex(c,function(c){return b(a,c)})}):a.filter(function(a){return-1<c.indexOf(a)}):
[]};b.constant=function(a,c){for(var b=Array(a),e=0;e<a;e++)b[e]=c;return b};b.range=function(a,c){void 0===c&&(c=a,a=0);for(var b=Array(c-a),e=a;e<c;e++)b[e-a]=e;return b};b.binaryIndexOf=function(a,c,b){for(var e=a.length,h=0,d=e-1;h<d;){var g=h+Math.floor((d-h)/2);c>a[g]?h=g+1:d=g}d=a[h];return b?c>=a[e-1]?-1:d===c?h:h-1:d===c?h:-1};b.flatten=function(a){return a.reduce(function(a,c){return a.concat(c||[])},[])};q=function(){return function(){this.last=0}}();b.RemoveHint=q;var g=new q;b.removeUnordered=
function(a,c,b,n){n=n||g;for(var e=null==b?a.length:b,h=Math.max(0,n.last-10),d=-1,f=h;f<e;++f)if(a[f]===c){d=f;break}if(-1===d){for(f=0;f<h;++f)if(a[f]===c){d=f;break}if(-1===d)return}a[d]=a[e-1];null==b&&a.pop();n.last=d;return c};var d=new Set;b.removeUnorderedMany=function(a,c,b,n,r,f){void 0===b&&(b=a.length);void 0===n&&(n=c.length);if(0===n||0===b)return b;d.clear();for(var e=0;e<n;++e)d.add(c[e]);r=r||g;for(e=c=Math.max(0,r.last-10);e<b;++e)if(d.has(a[e])&&(f&&f.push(a[e]),d.delete(a[e]),
a[e]=a[b-1],--b,--e,0===d.size||0===b))return d.clear(),b;for(e=0;e<c;++e)if(d.has(a[e])&&(f&&f.push(a[e]),d.delete(a[e]),a[e]=a[b-1],--b,--e,0===d.size||0===b))return d.clear(),b;d.clear();return b};b.shuffle=function(a,b){b=(c.seed=b)?function(){return c.getFloat()}:Math.random;for(var e=a.length-1;0<e;e--){var n=Math.floor(b()*(e+1)),d=a[e];a[e]=a[n];a[n]=d}return a};var c=new f;b.keysOfMap=function(a){var c=[];a.forEach(function(a,b){return c.push(b)});return c};b.keysOfSet=function(a,c){void 0===
c&&(c=m);var b=[];a.forEach(function(a){return b.push(c(a))});return b};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var c=Array(a.size),b=0;a.forEach(function(a){c[b++]=a});return c}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(q,b){return function(){function b(b){void 0===b&&(b=1);this._seed=b}Object.defineProperty(b.prototype,"seed",{set:function(f){this._seed=null==f?Math.random()*b._m:f},enumerable:!0,configurable:!0});b.prototype.getInt=
function(){return this._seed=(b._a*this._seed+b._c)%b._m};b.prototype.getFloat=function(){return this.getInt()/(b._m-1)};b.prototype.getIntRange=function(b,k){return Math.round(this.getFloatRange(b,k))};b.prototype.getFloatRange=function(f,k){k-=f;var l=this.getInt()/b._m;return f+Math.floor(l*k)};b._m=2147483647;b._a=48271;b._c=0;return b}()})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/lang","./WKIDUnitConversion"],function(q,b,p,f){function k(c){return m(c)&&
c.wkid?a[c.wkid]:null}function l(a){return m(a)&&!0===g[a.wkid]}function m(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var g={102113:!0,102100:!0,3857:!0,3785:!0},d={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};q=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],a={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:q,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:q,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:q,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:q,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,c){return a&&c?a===c?!0:null!=a.wkid||null!=c.wkid?a.wkid===c.wkid||l(a)&&l(c)||null!=c.latestWkid&&a.wkid===c.latestWkid||null!=a.latestWkid&&c.wkid===a.latestWkid:a.wkt&&c.wkt?a.wkt.toUpperCase()===c.wkt.toUpperCase():!1:!1};b.getInfo=k;b.isGeographic=function(a){return m(a)?a.wkid?null==f[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return m(a)&&4326===a.wkid};b.isWebMercator=l;b.isWrappable=function(a){return m(a)&&
!0===d[a.wkid]};b.isValid=m;b.WGS84={wkid:4326,wkt:p.substitute({Central_Meridian:"0.0"},k({wkid:4326}).wkTemplate)};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(q,b,p,f,k,l){function m(a,c,b){for(var e="",h=0;h<b;){var n=a[c+h];if(128>n)e+=String.fromCharCode(n),h++;else if(192<=n&&224>n){if(h+1>=b)throw new p("utf8-decode-error",
"UTF-8 Decode failed. Two byte character was truncated.");var d=a[c+h+1],n=(n&31)<<6|d&63,e=e+String.fromCharCode(n),h=h+2}else if(224<=n&&240>n){if(h+2>=b)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var d=a[c+h+1],r=a[c+h+2],n=(n&15)<<12|(d&63)<<6|r&63,e=e+String.fromCharCode(n),h=h+3}else if(240<=n&&248>n){if(h+3>=b)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");d=a[c+h+1];r=a[c+h+2];n=(n&7)<<18|(d&63)<<
12|(r&63)<<6|a[c+h+3]&63;e=65536<=n?e+String.fromCharCode((n-65536>>10)+55296,(n&1023)+56320):e+String.fromCharCode(n);h+=4}else throw new p("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return e}function g(a,c){for(var e={byteOffset:0,byteCount:0,fields:Object.create(null)},h=0,n=0;n<c.length;n++){var d=c[n],r=d.valueType||d.type;e.fields[d.property]=(0,b.valueType2ArrayBufferReader[r])(a,h);h+=b.valueType2TypedArrayClassMap[r].BYTES_PER_ELEMENT}e.byteCount=h;return e}
function d(a,c,b){var e=[],h,n=0,d;for(d=0;d<a;d+=1){h=c[d];if(0<h){if(e.push(m(b,n,h-1)),0!==b[n+h-1])throw new p("string-array-error","Invalid string array: missing null termination.");}else e.push(null);n+=h}return e}function c(a,c){return new b.valueType2TypedArrayClassMap[c.valueType](a,c.byteOffset,c.count*c.valuesPerElement)}function a(a,c){return new Uint8Array(a,c.byteOffset,c.byteCount)}function e(a,c,b){a=null!=c.header?g(a,c.header):{byteOffset:0,byteCount:0,fields:{count:b}};b={header:a,
byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var e=a.byteCount,h=0;h<c.ordering.length;h++){var d=c.ordering[h],t=f.clone(c[d]);t.count=a.fields.count;if("String"===t.valueType){if(t.byteOffset=e,t.byteCount=a.fields[d+"ByteCount"],"UTF-8"!==t.encoding)throw new p("unsupported-encoding","Unsupported String encoding.",{encoding:t.encoding});}else if(n(t.valueType)){var m=r(t.valueType),e=e+(0!==e%m?m-e%m:0);t.byteOffset=e;t.byteCount=m*t.valuesPerElement*t.count}else throw new p("unsupported-value-type",
"Unsupported binary valueType",{valueType:t.valueType});e+=t.byteCount;b.entries[d]=t}b.byteCount=e-b.byteOffset;return b}function h(a,c,b){c!==a&&t.error("Invalid "+b+" buffer size\n expected: "+a+", actual: "+c+")");if(c<a)throw new p("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:c});}function n(a){return b.valueType2TypedArrayClassMap.hasOwnProperty(a)}function r(a){return n(a)&&b.valueType2TypedArrayClassMap[a].BYTES_PER_ELEMENT}Object.defineProperty(b,"__esModule",
{value:!0});var t=k.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");b.readHeader=g;b.readStringArray=d;b.createTypedView=c;b.createRawView=a;b.createAttributeDataIndex=e;b.createGeometryDataIndex=function(a,c,b){var e=g(a,c&&c.header),n=e.byteCount,d={header:e,byteOffset:e.byteCount,byteCount:0,vertexAttributes:f.clone(c.vertexAttributes)},t=d.vertexAttributes;b||null==t.region||delete t.region;var e=e.fields,m=null!=e.vertexCount?e.vertexCount:e.count;for(b=0;b<c.ordering.length;b++){var u=
c.ordering[b];null!=t[u]&&(t[u].byteOffset=n,t[u].count=m,n+=r(t[u].valueType)*t[u].valuesPerElement*m)}t=e.faceCount;if(c.faces&&t)for(d.faces=f.clone(c.faces),m=d.faces,b=0;b<c.ordering.length;b++)u=c.ordering[b],null!=m[u]&&(m[u].byteOffset=n,m[u].count=t,n+=r(m[u].valueType)*m[u].valuesPerElement*t);e=e.featureCount;if(c.featureAttributes&&c.featureAttributeOrder&&e)for(d.featureAttributes=f.clone(c.featureAttributes),t=d.featureAttributes,b=0;b<c.featureAttributeOrder.length;b++)m=c.featureAttributeOrder[b],
t[m].byteOffset=n,t[m].count=e,u=r(t[m].valueType),"UInt64"===t[m].valueType&&(u=8),n+=u*t[m].valuesPerElement*e;h(n,a.byteLength,"geometry");d.byteCount=n-d.byteOffset;return d};b.readBinaryAttribute=function(b,n,r){if("lepcc-rgb"===b.encoding)return l.decodeRGB(n);if("lepcc-intensity"===b.encoding)return l.decodeIntensity(n);if(null!=b.encoding&&""!==b.encoding)throw new p("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");b["attributeByteCounts "]&&!b.attributeByteCounts&&
(t.warn("Warning: Trailing space in 'attributeByteCounts '."),b.attributeByteCounts=b["attributeByteCounts "]);"ObjectIds"===b.ordering[0]&&b.hasOwnProperty("objectIds")&&(t.warn("Warning: Case error in objectIds"),b.ordering[0]="objectIds");r=e(n,b,r);h(r.byteOffset+r.byteCount,n.byteLength,"attribute");if(b=r.entries.attributeValues||r.entries.objectIds){if("String"===b.valueType){r=r.entries.attributeByteCounts;var g=c(n,r);n=a(n,b);return d(r.count,g,n)}return c(n,b)}throw new p("bad-attribute-storage-info",
"Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(a,c){return(new DataView(a,0)).getFloat32(c,!0)},Float64:function(a,c){return(new DataView(a,0)).getFloat64(c,!0)},UInt8:function(a,c){return(new DataView(a,0)).getUint8(c)},Int8:function(a,c){return(new DataView(a,0)).getInt8(c)},
UInt16:function(a,c){return(new DataView(a,0)).getUint16(c,!0)},Int16:function(a,c){return(new DataView(a,0)).getInt16(c,!0)},UInt32:function(a,c){return(new DataView(a,0)).getUint32(c,!0)},Int32:function(a,c){return(new DataView(a,0)).getInt32(c,!0)}};b.isValueType=n;b.getBytesPerValue=r})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(q,b,p){function f(b,d,c){return{identifier:String.fromCharCode.apply(null,new Uint8Array(b,c+m.identifierOffset,
m.identifierLength)),version:d.getUint16(c+m.versionOffset,!0),checksum:d.getUint32(c+m.checksumOffset,!0)}}function k(b,d,c){var a=[];d=l(b,d,a);for(var e=[],h=0;h<a.length;h++){e.length=0;d=l(b,d,e);for(var n=0;n<e.length;n++)c.push(e[n]+a[h])}return d}function l(b,d,c){var a=new DataView(b,d),e=a.getUint8(0),h=e&31,n=!!(e&32),r=(e&192)>>6,e=0;if(0===r)e=a.getUint32(1,!0),d+=5;else if(1===r)e=a.getUint16(1,!0),d+=3;else if(2===r)e=a.getUint8(1),d+=2;else throw new p("lepcc-decode-error","Bad count type");
if(n)throw new p("lepcc-decode-error","LUT not implemented");b=new Uint8Array(b,d,Math.ceil(e*h/8));for(var r=n=a=0,g=-1>>>32-h,f=0;f<e;f++){for(;n<h;)a|=b[r]<<n,n+=8,r+=1;c[f]=a&g;a>>>=h;n-=h;32<n+h&&(a|=b[r-1]>>8-n)}return d+r}Object.defineProperty(b,"__esModule",{value:!0});var m={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=function(b){var d,c,a,e,h,n,r,g,u,w,l,D,B=new DataView(b,0),x=0;e=f(b,B,x);a=e.identifier;e=e.version;x+=m.byteCount;
if("LEPCC     "!==a)throw new p("lepcc-decode-error","Bad identifier");if(1<e)throw new p("lepcc-decode-error","Unknown version");var q=x;d=B.getUint32(q+0,!0);c=B.getUint32(q+4,!0);a=B.getFloat64(q+8,!0);e=B.getFloat64(q+16,!0);h=B.getFloat64(q+24,!0);n=B.getFloat64(q+32,!0);r=B.getFloat64(q+40,!0);g=B.getFloat64(q+48,!0);u=B.getFloat64(q+56,!0);w=B.getFloat64(q+64,!0);l=B.getFloat64(q+72,!0);D=B.getUint32(q+80,!0);B.getUint32(q+84,!0);x+=88;if(c*Math.pow(2,32)+d!==b.byteLength)throw new p("lepcc-decode-error",
"Bad size");B=new Float64Array(3*D);d=[];c=[];D=[];q=[];x=k(b,x,d);x=k(b,x,c);x=k(b,x,D);x=k(b,x,q);if(x!==b.byteLength)throw new p("lepcc-decode-error","Bad length");for(var C=x=b=0;C<d.length;C++)for(var x=x+d[C],v=0,z=0;z<c[C];z++){var v=v+D[b],E=q[b];B[3*b]=Math.min(n,a+2*u*v);B[3*b+1]=Math.min(r,e+2*w*x);B[3*b+2]=Math.min(g,h+2*l*E);b++}return{errorX:u,errorY:w,errorZ:l,result:B}};b.decodeRGB=function(b){var d,c,a,e,h,n,r=new DataView(b,0),g=0;e=f(b,r,g);a=e.identifier;e=e.version;g+=m.byteCount;
if("ClusterRGB"!==a)throw new p("lepcc-decode-error","Bad identifier");if(1<e)throw new p("lepcc-decode-error","Unknown version");n=g;d=r.getUint32(n+0,!0);c=r.getUint32(n+4,!0);a=r.getUint32(n+8,!0);e=r.getUint16(n+12,!0);h=r.getUint8(n+14);n=r.getUint8(n+15);g+=16;if(c*Math.pow(2,32)+d!==b.byteLength)throw new p("lepcc-decode-error","Bad size");if((2===h||1===h)&&0===n){if(3*e+a+g!==b.byteLength||256<e)throw new p("lepcc-decode-error","Bad count");r=new Uint8Array(b,g,3*e);e=new Uint8Array(b,g+
3*e,a);g=new Uint8Array(3*a);for(b=0;b<a;b++)d=e[b],g[3*b]=r[3*d],g[3*b+1]=r[3*d+1],g[3*b+2]=r[3*d+2];return g}if(0===h&&0===n){if(3*a+g!==b.byteLength||0!==e)throw new p("lepcc-decode-error","Bad count");return(new Uint8Array(b,g)).slice()}if(2>=h&&1===n){if(g+3!==b.byteLength||1!==e)throw new p("lepcc-decode-error","Bad count");e=r.getUint8(g);d=r.getUint8(g+1);r=r.getUint8(g+2);g=new Uint8Array(3*a);for(b=0;b<a;b++)g[3*b]=e,g[3*b+1]=d,g[3*b+2]=r;return g}throw new p("lepcc-decode-error","Bad method "+
h+","+n);};b.decodeIntensity=function(b){var d,c,a,e,h,n=new DataView(b,0),r=0;e=f(b,n,r);a=e.identifier;e=e.version;r+=m.byteCount;if("Intensity "!==a)throw new p("lepcc-decode-error","Bad identifier");if(1<e)throw new p("lepcc-decode-error","Unknown version");var g=r;d=n.getUint32(g+0,!0);c=n.getUint32(g+4,!0);a=n.getUint32(g+8,!0);e=n.getUint16(g+12,!0);h=n.getUint8(g+14);n.getUint8(g+15);r+=16;if(c*Math.pow(2,32)+d!==b.byteLength)throw new p("lepcc-decode-error","Bad size");n=new Uint16Array(a);
if(8===h){if(a+r!==b.byteLength)throw new p("lepcc-decode-error","Bad size");h=new Uint8Array(b,r,a)}else if(16===h){if(2*a+r!==b.byteLength)throw new p("lepcc-decode-error","Bad size");h=new Uint16Array(b,r,a)}else if(h=[],l(b,r,h)!==b.byteLength)throw new p("lepcc-decode-error","Bad size");for(b=0;b<a;b++)n[b]=h[b]*e;return n}})},"esri/views/3d/layers/i3s/PointCloudRendererUtil":function(){define("require exports ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader".split(" "),
function(q,b,p,f,k,l){function m(a){var c=0,b=0;for(a=a?a:[];b<a.length;b++)c|=1<<a[b];return c}function g(a,c){for(var b=0;b<a.length;b++){var e=a[b];if(e.name===c&&null!=e.attributeValues&&"UInt8"===e.attributeValues.valueType&&3===e.attributeValues.valuesPerElement)return{storageInfo:e,useElevation:!1}}return null}function d(a,c){for(var b=0;b<a.length;b++){var e=a[b];if(e.name===c)return a="embedded-elevation"===e.encoding,{storageInfo:a?null:e,useElevation:a}}return"elevation"===c.toLowerCase()?
{storageInfo:null,useElevation:!0}:null}function c(a,c,b,d){if(a&&a.useElevation){a=new Float64Array(d);for(c=0;c<d;c++)a[c]=b[3*c+2];return a}return a&&c?l.readBinaryAttribute(a.storageInfo,c,d):null}function a(a){return null==a||"none"===a?null:"low-four-bit"===a?function(a){return a&15}:"high-four-bit"===a?function(a){return(a&240)>>4}:"absolute-value"===a?function(a){return Math.abs(a)}:"modulo-ten"===a?function(a){return a%10}:null}Object.defineProperty(b,"__esModule",{value:!0});b.getRendererInfo=
function(a){var c=a.renderer,b=c&&c.type,e=c&&a.renderer.toJSON()||null,f=null,m=!1;"point-cloud-unique-value"===b?f=d(a.attributeStorageInfo,c.field):"point-cloud-stretch"===b?f=d(a.attributeStorageInfo,c.field):"point-cloud-class-breaks"===b?f=d(a.attributeStorageInfo,c.field):(f="point-cloud-rgb"===b?g(a.attributeStorageInfo,c.field):g(a.attributeStorageInfo,"RGB"),m=null!=f);b=null;c&&c.colorModulation&&(b=d(a.attributeStorageInfo,c.colorModulation.field));return{rendererJSON:e,isRGBRenderer:m,
primaryAttribute:f,modulationAttribute:b}};b.getFilterInfo=function(a){var c=a.filters;return c?c.map(function(c){return{filterJSON:c.toJSON(),attributeInfo:d(a.attributeStorageInfo,c.field)}}):[]};b.evaluateRenderer=function(b,h,n,d,g){var e=b.rendererJSON,r=b.isRGBRenderer,m=b.modulationAttribute;b=c(b.primaryAttribute,h,d,g);n=c(m,n,d,g);m=d=null;if(b&&r)d=b;else if(b&&"pointCloudUniqueValueRenderer"===e.type){var m=k.fromJSON(e),t=m.colorUniqueValueInfos;d=new Uint8Array(3*g);r=a(m.fieldTransformType);
for(e=0;e<g;e++){h=r?r(b[e]):b[e];h+="";for(var l=0;l<t.length;l++)if(0<=t[l].values.indexOf(h)){d[3*e]=t[l].color.r;d[3*e+1]=t[l].color.g;d[3*e+2]=t[l].color.b;break}}}else if(b&&"pointCloudStretchRenderer"===e.type)for(m=f.fromJSON(e),t=m.stops,d=new Uint8Array(3*g),r=a(m.fieldTransformType),e=0;e<g;e++)if(h=r?r(b[e]):b[e],l=t.length-1,h<t[0].value)d[3*e]=t[0].color.r,d[3*e+1]=t[0].color.g,d[3*e+2]=t[0].color.b;else if(h>=t[l].value)d[3*e]=t[l].color.r,d[3*e+1]=t[l].color.g,d[3*e+2]=t[l].color.b;
else for(l=1;l<t.length;l++){if(h<t[l].value){h=(h-t[l-1].value)/(t[l].value-t[l-1].value);d[3*e]=t[l].color.r*h+t[l-1].color.r*(1-h);d[3*e+1]=t[l].color.g*h+t[l-1].color.g*(1-h);d[3*e+2]=t[l].color.b*h+t[l-1].color.b*(1-h);break}}else if(b&&"pointCloudClassBreaksRenderer"===e.type)for(m=p.fromJSON(e),t=m.colorClassBreakInfos,d=new Uint8Array(3*g),r=a(m.fieldTransformType),e=0;e<g;e++)for(h=r?r(b[e]):b[e],l=0;l<t.length;l++){if(h>=t[l].minValue&&h<=t[l].maxValue){d[3*e]=t[l].color.r;d[3*e+1]=t[l].color.g;
d[3*e+2]=t[l].color.b;break}}else for(d=new Uint8Array(3*g),e=0;e<d.length;e++)d[e]=255;if(n&&m&&m.colorModulation)for(b=m.colorModulation.minValue,m=m.colorModulation.maxValue,e=0;e<g;e++)h=n[e],r=h>=m?1:h<=b?.3:.3+.7*(h-b)/(m-b),d[3*e]*=r,d[3*e+1]*=r,d[3*e+2]*=r;return d};b.filterInPlace=function(a,b,n,d){var e=a.length/3;d=d.map(function(b,h){return c(n[h].attributeInfo,b,a,e)});for(var h=0,r=0;r<e;r++){for(var f=!0,g=0;g<n.length&&f;g++){var k=n[g].filterJSON,l=d[g][r];switch(k.type){case "pointCloudValueFilter":var p=
"exclude"===k.mode;-1!==k.values.indexOf(l)===p&&(f=!1);break;case "pointCloudBitfieldFilter":p=m(k.requiredSetBits);k=m(k.requiredClearBits);if((l&p)!==p||0!==(l&k))f=!1;break;case "pointCloudReturnFilter":for(var q=l&15,v=l>>>4&15,l=1<v,p=1===q,q=q===v,v=!1,z=0,k=k.includedReturns;z<k.length;z++){var E=k[z];if("last"===E&&q||"firstOfMany"===E&&p&&l||"lastOfMany"===E&&q&&l||"single"===E&&!l){v=!0;break}}v||(f=!1)}}f&&(a[3*h]=a[3*r],a[3*h+1]=a[3*r+1],a[3*h+2]=a[3*r+2],b[3*h]=b[3*r],b[3*h+1]=b[3*r+
1],b[3*h+2]=b[3*r+2],h++)}return h};b.getSplatSizeAlgorithm=function(a){return(a=a&&a.pointSizeAlgorithm)&&"splat"===a.type?a:null};b.getFixedSizeAlgorithm=function(a){return(a=a&&a.pointSizeAlgorithm)&&"fixed-size"===a.type?a:null};b.rendererUsesFixedSizes=function(a){return(a=a&&a.pointSizeAlgorithm)&&a.type?"fixed-size"===a.type:!1}})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(c){c=a.call(this)||this;c.type="point-cloud-class-breaks";c.field=null;c.legendOptions=null;c.fieldTransformType=null;c.colorClassBreakInfos=null;return c}f(b,a);h=b;b.prototype.clone=function(){return new h(p({},this.cloneProperties(),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:l.clone(this.colorClassBreakInfos),legendOptions:l.clone(this.legendOptions)}))};var h;k([m.enumeration.serializable()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],
b.prototype,"type",void 0);k([m.property({json:{write:!0},type:String})],b.prototype,"field",void 0);k([m.property({type:d.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);k([m.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);k([m.property({type:[c.default],json:{write:!0}})],b.prototype,"colorClassBreakInfos",
void 0);return b=h=k([m.subclass("esri.renderers.PointCloudClassBreaksRenderer")],b)}(m.declared(g))})},"esri/renderers/PointCloudRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmJSONUtils ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(q,b,p,
f,k,l,m,g,d,c,a){var e=l.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});q=function(b){function h(a){a=b.call(this)||this;a.type=void 0;a.pointSizeAlgorithm=null;a.colorModulation=null;a.pointsPerInch=10;return a}p(h,b);h.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};h.prototype.cloneProperties=
function(){return{pointSizeAlgorithm:m.clone(this.pointSizeAlgorithm),colorModulation:m.clone(this.colorModulation),pointsPerInch:m.clone(this.pointsPerInch)}};f([g.property({type:e.apiValues,readOnly:!0,nonNullable:!0,json:{type:e.jsonValues,read:!1,write:e.write}})],h.prototype,"type",void 0);f([g.property({types:a.pointSizeAlgorithmTypes,json:{read:c.read,write:!0}})],h.prototype,"pointSizeAlgorithm",void 0);f([g.property({type:d.default,json:{write:!0}})],h.prototype,"colorModulation",void 0);
f([g.property({json:{write:!0},nonNullable:!0,type:Number})],h.prototype,"pointsPerInch",void 0);return h=f([g.subclass("esri.renderers.PointCloudRenderer")],h)}(g.declared(k));(q||(q={})).fieldTransformTypeKebabDict=new l.KebabDictionary({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return q})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.field=null;c.minValue=0;c.maxValue=255;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};var d;f([l.property({type:String,json:{write:!0}})],g.prototype,"field",void 0);f([l.property({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"minValue",void 0);f([l.property({type:Number,
nonNullable:!0,json:{write:!0}})],g.prototype,"maxValue",void 0);return g=d=f([l.subclass("esri.renderers.support.pointCloud.ColorModulation")],g)}(l.declared(k));b.ColorModulation=q;b.default=q})},"esri/renderers/support/pointCloud/pointSizeAlgorithmJSONUtils":function(){define(["require","exports","../../../core/Warning","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(q,b,p,f,k){Object.defineProperty(b,"__esModule",{value:!0});var l={pointCloudFixedSizeAlgorithm:f.default,
pointCloudSplatAlgorithm:k.default};b.read=function(b,f,d){if(f=b?l[b.type]||null:null)return f=new f,f.read(b,d),f;d&&d.messages&&b&&d.messages.push(new p("pointsizealgorithm:unsupported","Point size algorithms of type '"+(b.type||"unknown")+"' are not supported",{definition:b,context:d}));return null};b.fromJSON=function(b){var f=b?l[b.type]||null:null;return f?f.fromJSON(b):null}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper",
"./Message"],function(q,b,p,f,k){q=function(b){function f(g,d,c){var a=b.call(this,g,d,c)||this;return a instanceof f?a:new f(g,d,c)}p(f,b);return f}(k);q.prototype.type="warning";return q})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./PointSizeAlgorithm".split(" "),function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",
{value:!0});q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.type="fixed-size";c.size=0;c.useRealWorldSymbolSizes=null;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};var d;f([k.enumeration.serializable()({pointCloudFixedSizeAlgorithm:"fixed-size"})],g.prototype,"type",void 0);f([k.property({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"size",void 0);f([k.property({type:Boolean,
json:{write:!0}})],g.prototype,"useRealWorldSymbolSizes",void 0);return g=d=f([k.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],g)}(k.declared(l.default));b.PointSizeFixedSizeAlgorithm=q;b.default=q})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/kebabDictionary ../../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l,m){Object.defineProperty(b,"__esModule",{value:!0});b.typeKebabDictionary=new l.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});q=function(g){function d(){return null!==g&&g.apply(this,arguments)||this}p(d,g);f([m.property({type:b.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:b.typeKebabDictionary.jsonValues,read:!1,write:b.typeKebabDictionary.write}})],d.prototype,"type",void 0);return d=f([m.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],
d)}(m.declared(k));b.PointSizeAlgorithm=q;b.default=q})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./PointSizeAlgorithm".split(" "),function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.type="splat";c.scaleFactor=1;return c}p(g,b);
d=g;g.prototype.clone=function(){return new d({scaleFactor:this.scaleFactor})};var d;f([k.enumeration.serializable()({pointCloudSplatAlgorithm:"splat"})],g.prototype,"type",void 0);f([k.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],g.prototype,"scaleFactor",void 0);return g=d=f([k.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],g)}(k.declared(l.default));b.PointSizeSplatAlgorithm=q;b.default=q})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["require",
"exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(q,b,p,f,k){Object.defineProperty(b,"__esModule",{value:!0});b.pointSizeAlgorithmTypes={key:"type",base:p.default,typeMap:{"fixed-size":f.default,splat:k.default}}})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(q,
b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.title=null;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({title:this.title})};var d;f([l.property({type:String,json:{write:!0}})],g.prototype,"title",void 0);return g=d=f([l.subclass("esri.renderers.support.LegendOptions")],g)}(l.declared(k));b.LegendOptions=q;b.default=q})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});q=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.description=null;a.label=null;a.minValue=0;a.maxValue=0;a.color=null;return a}p(a,c);b=a;a.prototype.clone=function(){return new b({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:m.clone(this.color)})};var b;f([g.property({type:String,json:{write:!0}})],a.prototype,"description",void 0);f([g.property({type:String,
json:{write:!0}})],a.prototype,"label",void 0);f([g.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],a.prototype,"minValue",void 0);f([g.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],a.prototype,"maxValue",void 0);f([g.property({type:k,json:{type:[d.Integer],write:!0}})],a.prototype,"color",void 0);return a=b=f([g.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],a)}(g.declared(l));b.ColorClassBreakInfo=
q;b.default=q})},"esri/renderers/PointCloudStretchRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/StopInfo".split(" "),function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(c){c=a.call(this)||this;c.type="point-cloud-stretch";c.field=null;c.legendOptions=null;c.fieldTransformType=
null;c.stops=null;return c}f(b,a);h=b;b.prototype.clone=function(){return new h(p({},this.cloneProperties(),{field:l.clone(this.field),fieldTransformType:l.clone(this.fieldTransformType),stops:l.clone(this.stops),legendOptions:l.clone(this.legendOptions)}))};var h;k([m.enumeration.serializable()({pointCloudStretchRenderer:"point-cloud-stretch"})],b.prototype,"type",void 0);k([m.property({json:{write:!0},type:String})],b.prototype,"field",void 0);k([m.property({type:d.default,json:{write:!0}})],b.prototype,
"legendOptions",void 0);k([m.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);k([m.property({type:[c.default],json:{write:!0}})],b.prototype,"stops",void 0);return b=h=k([m.subclass("esri.renderers.PointCloudStretchRenderer")],b)}(m.declared(g))})},"esri/renderers/support/pointCloud/StopInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});q=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.label=null;a.value=0;a.color=null;return a}p(a,c);b=a;a.prototype.clone=function(){return new b({label:this.label,value:this.value,color:m.clone(this.color)})};var b;f([g.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);f([g.property({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"value",void 0);f([g.property({type:k,
json:{type:[d.Integer],write:!0}})],a.prototype,"color",void 0);return a=b=f([g.subclass("esri.renderers.support.pointCloud.StopInfo")],a)}(g.declared(l));b.StopInfo=q;b.default=q})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(c){c=a.call(this)||this;c.type="point-cloud-unique-value";c.field=null;c.fieldTransformType=null;c.colorUniqueValueInfos=null;c.legendOptions=null;return c}f(b,a);h=b;b.prototype.clone=function(){return new h(p({},this.cloneProperties(),{field:l.clone(this.field),fieldTransformType:l.clone(this.fieldTransformType),colorUniqueValueInfos:l.clone(this.colorUniqueValueInfos),legendOptions:l.clone(this.legendOptions)}))};var h;k([m.enumeration.serializable()({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],
b.prototype,"type",void 0);k([m.property({json:{write:!0},type:String})],b.prototype,"field",void 0);k([m.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);k([m.property({type:[c.default],json:{write:!0}})],b.prototype,"colorUniqueValueInfos",void 0);k([m.property({type:d.default,json:{write:!0}})],b.prototype,"legendOptions",
void 0);return b=h=k([m.subclass("esri.renderers.PointCloudUniqueValueRenderer")],b)}(m.declared(g))})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});
q=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.description=null;a.label=null;a.values=null;a.color=null;return a}p(a,c);b=a;a.prototype.clone=function(){return new b({description:this.description,label:this.label,values:m.clone(this.values),color:m.clone(this.color)})};var b;f([g.property({type:String,json:{write:!0}})],a.prototype,"description",void 0);f([g.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);f([g.property({type:[String],json:{write:!0}})],
a.prototype,"values",void 0);f([g.property({type:k,json:{type:[d.Integer],write:!0}})],a.prototype,"color",void 0);return a=b=f([g.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],a)}(g.declared(l));b.ColorUniqueValueInfo=q;b.default=q})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){function h(a,c,b,e){2===a.length?(A[0]=a[0],A[1]=a[1],A[2]=0,a=A):a===b&&(f.vec3.copy(A,a),a=A);return n(a,c,0,b,e,0,1)}function n(a,c,b,e,h,n,d){void 0===d&&(d=1);F!==c&&(D=r(c),F=c);B!==h&&(x=r(h),B=h);d=b+3*d;if(D!==x||0===D&&!c.equals(h))if(0<D&&0<x)if(2!==x)if(c=y[x],2!==D)for(h=C[D];b<d;b+=3,n+=3)h(a,b,G,0),c(G,0,e,n);else for(;b<d;b+=3,n+=3)c(a,b,e,n);else for(h=C[D];b<d;b+=3,n+=3)h(a,b,e,n);else return!1;else if(e!==a||b!==n)for(;b<d;b++,n++)e[n]=a[b];return!0}
function r(a){return a.wkt===b.SphericalECEFSpatialReference.wkt?1:a.isWGS84?2:a.isWebMercator?3:a.wkt===b.WGS84ECEFSpatialReference.wkt?4:0}function t(a,c,b,e){b[e++]=a[c++];b[e++]=a[c++];b[e]=a[c]}function u(c,b,e,h){var n=.4999999*Math.PI,n=a.clamp(v*c[b+1],-n,n),n=Math.sin(n);e[h++]=v*c[b]*E;e[h++]=E/2*Math.log((1+n)/(1-n));e[h]=c[b+2]}function w(a,c,b,e){var h=E+a[c+2],n=v*a[c+1];a=v*a[c];c=Math.cos(n);b[e++]=Math.cos(a)*c*h;b[e++]=Math.sin(a)*c*h;b[e]=Math.sin(n)*h}Object.defineProperty(b,"__esModule",
{value:!0});b.SphericalECEFSpatialReference=new m({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new m({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var F,D,B,x;b.vectorToVector=h;b.pointToVector=function(a,c,b,e){void 0===e&&(e=0);A[0]=a.x;A[1]=a.y;var h=a.z;A[2]=void 0!==h?h:e;return n(A,a.spatialReference,0,c,b,0,1)};b.vectorToPoint=function(a,c,b,e){b instanceof l?e=e||b.spatialReference:d.isPoint(b)?(b.hasZ=!0,e=e||b.spatialReference):(e=b,b=new l({spatialReference:e}));return n(a,c,0,A,e,0,1)?(b.x=A[0],b.y=A[1],b.z=A[2],b.spatialReference=e,b):null};b.xyzToVector=function(a,c,b,e,h,d){A[0]=a;A[1]=c;A[2]=b;return n(A,e,0,h,d,0,1)};b.bufferToBuffer=
n;b.computeLinearTransformation=function(a,c,b,e){var h=r(a),n=r(e);if(h===n&&1!==n&&(0!==h||a.equals(e)))return p.mat4.identity(b),p.mat4.translate(b,b,c),!0;if(1===n){if(a=C[h])return a(c,0,G,0),w(G,0,I,0),e=v*G[0],a=v*G[1],c=Math.sin(e),e=Math.cos(e),h=Math.sin(a),a=Math.cos(a),b[0]=-c,b[4]=-h*e,b[8]=a*e,b[12]=I[0],b[1]=e,b[5]=-h*c,b[9]=a*c,b[13]=I[1],b[2]=0,b[6]=a,b[10]=h,b[14]=I[2],b[3]=0,b[7]=0,b[11]=0,b[15]=1,!0}else if(3===n&&(2===h||1===h))return C[h](c,0,G,0),c=v*G[1],u(G,0,I,0),p.mat4.identity(b),
p.mat4.translate(b,b,I),c=1/Math.cos(c),p.mat4.scale(b,b,[c,c,1]),!0;return!1};b.transformDirection=function(a,c,b,e,n){f.vec3.copy(J,a);f.vec3.add(K,a,c);h(J,b,J,n);h(K,b,K,n);f.vec3.subtract(e,K,J);f.vec3.normalize(e,e)};b.mbsToMbs=function(a,c,b,e){var h=r(c),n=r(e);if(h===n&&(0!==h||c.equals(e)))return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],!0;if(1===n){if(c=C[h])return c(a,0,G,0),w(G,0,b,0),b[3]=a[3],!0}else if(3===n&&(2===h||1===h))return C[h](a,0,G,0),c=Math.abs(v*G[1])+Math.asin(a[3]/(E+
a[2])),u(G,0,b,0),b[3]=c>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(c)*a[3],!0;return!1};b.extentToBoundingBox=function(a,c,b){if(null==a)return!1;var e;A[0]=null!=a.xmin?a.xmin:0;A[1]=null!=a.ymin?a.ymin:0;A[2]=null!=a.zmin?a.zmin:0;e=n(A,a.spatialReference,0,c,b,0,1);A[0]=null!=a.xmax?a.xmax:0;A[1]=null!=a.ymax?a.ymax:0;A[2]=null!=a.zmax?a.zmax:0;e=e&&n(A,a.spatialReference,0,c,b,3,1);null==a.xmin&&(c[0]=-Infinity);null==a.ymin&&(c[1]=-Infinity);null==a.zmin&&(c[2]=-Infinity);null==a.xmax&&(c[3]=
Infinity);null==a.ymax&&(c[4]=Infinity);null==a.zmax&&(c[5]=Infinity);return e};b.extentToBoundingRect=function(a,c,b){if(null==a)return!1;var e;A[0]=null!=a.xmin?a.xmin:0;A[1]=null!=a.ymin?a.ymin:0;A[2]=null!=a.zmin?a.zmin:0;e=n(A,a.spatialReference,0,A,b,0,1);c[0]=A[0];c[1]=A[1];A[0]=null!=a.xmax?a.xmax:0;A[1]=null!=a.ymax?a.ymax:0;A[2]=null!=a.zmax?a.zmax:0;e=e&&n(A,a.spatialReference,0,A,b,0,1);c[2]=A[0];c[3]=A[1];null==a.xmin&&(c[0]=-Infinity);null==a.ymin&&(c[1]=-Infinity);null==a.xmax&&(c[2]=
Infinity);null==a.ymax&&(c[3]=Infinity);return e};b.boundingRectToBoundingRect=function(a,c,b,e){if(null==a)return!1;if(c.equals(e))return g.set(b,a),!0;var h;A[0]=a[0];A[1]=a[1];A[2]=0;h=n(A,c,0,A,e,0,1);b[0]=A[0];b[1]=A[1];A[0]=a[2];A[1]=a[3];A[2]=0;h=h&&n(A,c,0,A,e,0,1);b[2]=A[0];b[3]=A[1];return h};(function(a){a.x2lon=function(a){return a/E};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/E))};a.lon2x=function(a){return a*E};a.lat2y=function(a){a=Math.sin(a);return E/2*Math.log((1+
a)/(1-a))}})(b.webMercator||(b.webMercator={}));var y=[void 0,w,t,u,function(a,c,b,e){var h=H,n=v*a[c],d=v*a[c+1];a=a[c+2];c=Math.sin(d);var d=Math.cos(d),r=h.a/Math.sqrt(1-h.e2*c*c);b[e++]=(r+a)*d*Math.cos(n);b[e++]=(r+a)*d*Math.sin(n);b[e++]=(r*(1-h.e2)+a)*c}],C=[void 0,function(c,b,h,n){var d=e.Vec3Compact.length(c,b),r=a.asin(c[b+2]/(0===d?1:d)),f=Math.cos(r)*d;c=(0<c[b+1]?1:-1)*a.acos(c[b]/(0===f?1:f));h[n++]=z*c;h[n++]=z*r;h[n]=d-E},t,function(a,c,b,e){b[e++]=z*(a[c++]/E);b[e++]=z*(Math.PI/
2-2*Math.atan(Math.exp(-1*a[c++]/E)));b[e]=a[c]},function(a,c,b,e){var h=H,n=a[c],d=a[c+1];a=a[c+2];var r,f,g,t,m,k;c=Math.abs(a);r=n*n+d*d;f=Math.sqrt(r);g=r+a*a;t=Math.sqrt(g);n=Math.atan2(d,n);m=a*a/g;g=r/g;d=h.a2/t;r=h.a3-h.a4/t;.3<g?(m=c/t*(1+g*(h.a1+d+m*r)/t),t=Math.asin(m),d=m*m,g=Math.sqrt(1-d)):(g=f/t*(1-m*(h.a5-d-g*r)/t),t=Math.acos(g),d=1-g*g,m=Math.sqrt(d));k=1-h.e2*d;d=h.a/Math.sqrt(k);h=h.a6*d;d=f-d*g;r=c-h*m;c=g*d+m*r;f=g*r-m*d;h=f/(h/k+c);t+=h;0>a&&(t=-t);b[e++]=z*n;b[e++]=z*t;b[e]=
c+f*h/2}],v=a.deg2rad(1),z=a.rad2deg(1),E=c.earthRadius,H={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},A=k.vec3f64.create(),G=k.vec3f64.create(),I=k.vec3f64.create(),J=k.vec3f64.create(),K=k.vec3f64.create()})},"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.mat4=p})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require",
"exports","../factories/vec3f64","./common"],function(q,b,p,f){function k(c){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c}function l(c,a,b){var e=a[0],n=a[1],d=a[2],f=a[3],g=a[4],m=a[5],k=a[6],l=a[7],p=a[8],q=a[9],y=a[10],C=a[11],v=a[12],z=a[13],E=a[14];a=a[15];var H=b[0],A=b[1],G=b[2],I=b[3];c[0]=H*e+A*g+G*p+I*v;c[1]=H*n+A*m+G*q+I*z;c[2]=H*d+A*k+G*y+I*E;c[3]=H*f+A*l+G*C+I*a;H=b[4];A=b[5];G=b[6];I=b[7];c[4]=H*e+A*g+
G*p+I*v;c[5]=H*n+A*m+G*q+I*z;c[6]=H*d+A*k+G*y+I*E;c[7]=H*f+A*l+G*C+I*a;H=b[8];A=b[9];G=b[10];I=b[11];c[8]=H*e+A*g+G*p+I*v;c[9]=H*n+A*m+G*q+I*z;c[10]=H*d+A*k+G*y+I*E;c[11]=H*f+A*l+G*C+I*a;H=b[12];A=b[13];G=b[14];I=b[15];c[12]=H*e+A*g+G*p+I*v;c[13]=H*n+A*m+G*q+I*z;c[14]=H*d+A*k+G*y+I*E;c[15]=H*f+A*l+G*C+I*a;return c}function m(c,a,b){var e=a[0],n=a[1],d=a[2],f=a[3],g=e+e,m=n+n,k=d+d;a=e*g;var l=e*m,e=e*k,p=n*m,n=n*k,d=d*k,g=f*g,m=f*m,f=f*k;c[0]=1-(p+d);c[1]=l+f;c[2]=e-m;c[3]=0;c[4]=l-f;c[5]=1-(a+d);
c[6]=n+g;c[7]=0;c[8]=e+m;c[9]=n-g;c[10]=1-(a+p);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c}function g(c,a,b){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];c[4]=a[4]-b[4];c[5]=a[5]-b[5];c[6]=a[6]-b[6];c[7]=a[7]-b[7];c[8]=a[8]-b[8];c[9]=a[9]-b[9];c[10]=a[10]-b[10];c[11]=a[11]-b[11];c[12]=a[12]-b[12];c[13]=a[13]-b[13];c[14]=a[14]-b[14];c[15]=a[15]-b[15];return c}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];
c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};b.set=function(c,a,b,h,n,d,f,g,m,k,l,p,q,y,C,v,z){c[0]=a;c[1]=b;c[2]=h;c[3]=n;c[4]=d;c[5]=f;c[6]=g;c[7]=m;c[8]=k;c[9]=l;c[10]=p;c[11]=q;c[12]=y;c[13]=C;c[14]=v;c[15]=z;return c};b.identity=k;b.transpose=function(c,a){if(c===a){var b=a[1],h=a[2],n=a[3],d=a[6],f=a[7],g=a[11];c[1]=a[4];c[2]=a[8];c[3]=a[12];c[4]=b;c[6]=a[9];c[7]=a[13];c[8]=h;c[9]=d;c[11]=a[14];
c[12]=n;c[13]=f;c[14]=g}else c[0]=a[0],c[1]=a[4],c[2]=a[8],c[3]=a[12],c[4]=a[1],c[5]=a[5],c[6]=a[9],c[7]=a[13],c[8]=a[2],c[9]=a[6],c[10]=a[10],c[11]=a[14],c[12]=a[3],c[13]=a[7],c[14]=a[11],c[15]=a[15];return c};b.invert=function(c,a){var b=a[0],h=a[1],n=a[2],d=a[3],f=a[4],g=a[5],m=a[6],k=a[7],l=a[8],p=a[9],q=a[10],y=a[11],C=a[12],v=a[13],z=a[14];a=a[15];var E=b*g-h*f,H=b*m-n*f,A=b*k-d*f,G=h*m-n*g,I=h*k-d*g,J=n*k-d*m,K=l*v-p*C,L=l*z-q*C,O=l*a-y*C,N=p*z-q*v,P=p*a-y*v,Q=q*a-y*z,M=E*Q-H*P+A*N+G*O-I*L+
J*K;if(!M)return null;M=1/M;c[0]=(g*Q-m*P+k*N)*M;c[1]=(n*P-h*Q-d*N)*M;c[2]=(v*J-z*I+a*G)*M;c[3]=(q*I-p*J-y*G)*M;c[4]=(m*O-f*Q-k*L)*M;c[5]=(b*Q-n*O+d*L)*M;c[6]=(z*A-C*J-a*H)*M;c[7]=(l*J-q*A+y*H)*M;c[8]=(f*P-g*O+k*K)*M;c[9]=(h*O-b*P-d*K)*M;c[10]=(C*I-v*A+a*E)*M;c[11]=(p*A-l*I-y*E)*M;c[12]=(g*L-f*N-m*K)*M;c[13]=(b*N-h*L+n*K)*M;c[14]=(v*H-C*G-z*E)*M;c[15]=(l*G-p*H+q*E)*M;return c};b.adjoint=function(c,a){var b=a[0],h=a[1],n=a[2],d=a[3],f=a[4],g=a[5],m=a[6],k=a[7],l=a[8],p=a[9],q=a[10],y=a[11],C=a[12],
v=a[13],z=a[14];a=a[15];c[0]=g*(q*a-y*z)-p*(m*a-k*z)+v*(m*y-k*q);c[1]=-(h*(q*a-y*z)-p*(n*a-d*z)+v*(n*y-d*q));c[2]=h*(m*a-k*z)-g*(n*a-d*z)+v*(n*k-d*m);c[3]=-(h*(m*y-k*q)-g*(n*y-d*q)+p*(n*k-d*m));c[4]=-(f*(q*a-y*z)-l*(m*a-k*z)+C*(m*y-k*q));c[5]=b*(q*a-y*z)-l*(n*a-d*z)+C*(n*y-d*q);c[6]=-(b*(m*a-k*z)-f*(n*a-d*z)+C*(n*k-d*m));c[7]=b*(m*y-k*q)-f*(n*y-d*q)+l*(n*k-d*m);c[8]=f*(p*a-y*v)-l*(g*a-k*v)+C*(g*y-k*p);c[9]=-(b*(p*a-y*v)-l*(h*a-d*v)+C*(h*y-d*p));c[10]=b*(g*a-k*v)-f*(h*a-d*v)+C*(h*k-d*g);c[11]=-(b*
(g*y-k*p)-f*(h*y-d*p)+l*(h*k-d*g));c[12]=-(f*(p*z-q*v)-l*(g*z-m*v)+C*(g*q-m*p));c[13]=b*(p*z-q*v)-l*(h*z-n*v)+C*(h*q-n*p);c[14]=-(b*(g*z-m*v)-f*(h*z-n*v)+C*(h*m-n*g));c[15]=b*(g*q-m*p)-f*(h*q-n*p)+l*(h*m-n*g);return c};b.determinant=function(c){var a=c[0],b=c[1],h=c[2],n=c[3],d=c[4],f=c[5],g=c[6],m=c[7],k=c[8],l=c[9],p=c[10],q=c[11],y=c[12],C=c[13],v=c[14];c=c[15];return(a*f-b*d)*(p*c-q*v)-(a*g-h*d)*(l*c-q*C)+(a*m-n*d)*(l*v-p*C)+(b*g-h*f)*(k*c-q*y)-(b*m-n*f)*(k*v-p*y)+(h*m-n*g)*(k*C-l*y)};b.multiply=
l;b.translate=function(c,a,b){var e=b[0],n=b[1];b=b[2];var d=void 0,f=void 0,g=void 0,m=void 0,k=void 0,l=void 0,p=void 0,q=void 0,y=void 0,C=void 0,v=void 0,z=void 0;a===c?(c[12]=a[0]*e+a[4]*n+a[8]*b+a[12],c[13]=a[1]*e+a[5]*n+a[9]*b+a[13],c[14]=a[2]*e+a[6]*n+a[10]*b+a[14],c[15]=a[3]*e+a[7]*n+a[11]*b+a[15]):(d=a[0],f=a[1],g=a[2],m=a[3],k=a[4],l=a[5],p=a[6],q=a[7],y=a[8],C=a[9],v=a[10],z=a[11],c[0]=d,c[1]=f,c[2]=g,c[3]=m,c[4]=k,c[5]=l,c[6]=p,c[7]=q,c[8]=y,c[9]=C,c[10]=v,c[11]=z,c[12]=d*e+k*n+y*b+a[12],
c[13]=f*e+l*n+C*b+a[13],c[14]=g*e+p*n+v*b+a[14],c[15]=m*e+q*n+z*b+a[15]);return c};b.scale=function(c,a,b){var e=b[0],n=b[1];b=b[2];c[0]=a[0]*e;c[1]=a[1]*e;c[2]=a[2]*e;c[3]=a[3]*e;c[4]=a[4]*n;c[5]=a[5]*n;c[6]=a[6]*n;c[7]=a[7]*n;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};b.rotate=function(c,a,b,h){var e=h[0],d=h[1];h=h[2];var g=Math.sqrt(e*e+d*d+h*h),m=void 0,k=void 0,l=void 0,p=void 0,q=void 0,x=void 0,y=void 0,C=void 0,v=void 0,z=
void 0,E=void 0,H=void 0,A=void 0,G=void 0,I=void 0,J=void 0,K=void 0,L=void 0,O=void 0,N=void 0,P=void 0,Q=void 0,k=m=void 0;if(g<f.EPSILON)return null;g=1/g;e*=g;d*=g;h*=g;m=Math.sin(b);k=Math.cos(b);l=1-k;p=a[0];q=a[1];x=a[2];y=a[3];C=a[4];v=a[5];z=a[6];E=a[7];H=a[8];A=a[9];G=a[10];I=a[11];J=e*e*l+k;K=d*e*l+h*m;L=h*e*l-d*m;O=e*d*l-h*m;N=d*d*l+k;P=h*d*l+e*m;Q=e*h*l+d*m;m=d*h*l-e*m;k=h*h*l+k;c[0]=p*J+C*K+H*L;c[1]=q*J+v*K+A*L;c[2]=x*J+z*K+G*L;c[3]=y*J+E*K+I*L;c[4]=p*O+C*N+H*P;c[5]=q*O+v*N+A*P;c[6]=
x*O+z*N+G*P;c[7]=y*O+E*N+I*P;c[8]=p*Q+C*m+H*k;c[9]=q*Q+v*m+A*k;c[10]=x*Q+z*m+G*k;c[11]=y*Q+E*m+I*k;a!==c&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c};b.rotateX=function(c,a,b){var e=Math.sin(b);b=Math.cos(b);var n=a[4],d=a[5],f=a[6],g=a[7],m=a[8],k=a[9],l=a[10],p=a[11];a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[4]=n*b+m*e;c[5]=d*b+k*e;c[6]=f*b+l*e;c[7]=g*b+p*e;c[8]=m*b-n*e;c[9]=k*b-d*e;c[10]=l*b-f*e;c[11]=p*b-g*e;return c};b.rotateY=
function(c,a,b){var e=Math.sin(b);b=Math.cos(b);var n=a[0],d=a[1],f=a[2],g=a[3],m=a[8],k=a[9],l=a[10],p=a[11];a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=n*b-m*e;c[1]=d*b-k*e;c[2]=f*b-l*e;c[3]=g*b-p*e;c[8]=n*e+m*b;c[9]=d*e+k*b;c[10]=f*e+l*b;c[11]=g*e+p*b;return c};b.rotateZ=function(c,a,b){var e=Math.sin(b);b=Math.cos(b);var n=a[0],d=a[1],f=a[2],g=a[3],m=a[4],k=a[5],l=a[6],p=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],
c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=n*b+m*e;c[1]=d*b+k*e;c[2]=f*b+l*e;c[3]=g*b+p*e;c[4]=m*b-n*e;c[5]=k*b-d*e;c[6]=l*b-f*e;c[7]=p*b-g*e;return c};b.fromTranslation=function(c,a){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=a[0];c[13]=a[1];c[14]=a[2];c[15]=1;return c};b.fromScaling=function(c,a){c[0]=a[0];c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=a[1];c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=a[2];c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromRotation=function(c,
a,b){var e=b[0],n=b[1];b=b[2];var d=Math.sqrt(e*e+n*n+b*b),g=void 0,m=void 0,k=void 0;if(d<f.EPSILON)return null;d=1/d;e*=d;n*=d;b*=d;g=Math.sin(a);m=Math.cos(a);k=1-m;c[0]=e*e*k+m;c[1]=n*e*k+b*g;c[2]=b*e*k-n*g;c[3]=0;c[4]=e*n*k-b*g;c[5]=n*n*k+m;c[6]=b*n*k+e*g;c[7]=0;c[8]=e*b*k+n*g;c[9]=n*b*k-e*g;c[10]=b*b*k+m;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromXRotation=function(c,a){var b=Math.sin(a);a=Math.cos(a);c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=a;c[6]=b;c[7]=0;c[8]=0;c[9]=-b;c[10]=
a;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromYRotation=function(c,a){var b=Math.sin(a);a=Math.cos(a);c[0]=a;c[1]=0;c[2]=-b;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=b;c[9]=0;c[10]=a;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromZRotation=function(c,a){var b=Math.sin(a);a=Math.cos(a);c[0]=a;c[1]=b;c[2]=0;c[3]=0;c[4]=-b;c[5]=a;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.fromRotationTranslation=m;b.fromQuat2=function(c,a){var b=d,h=-a[0],
n=-a[1],f=-a[2],g=a[3],k=a[4],l=a[5],p=a[6],D=a[7],q=h*h+n*n+f*f+g*g;0<q?(b[0]=2*(k*g+D*h+l*f-p*n)/q,b[1]=2*(l*g+D*n+p*h-k*f)/q,b[2]=2*(p*g+D*f+k*n-l*h)/q):(b[0]=2*(k*g+D*h+l*f-p*n),b[1]=2*(l*g+D*n+p*h-k*f),b[2]=2*(p*g+D*f+k*n-l*h));m(c,a,b);return c};var d=p.create();b.getTranslation=function(c,a){c[0]=a[12];c[1]=a[13];c[2]=a[14];return c};b.getScaling=function(c,a){var b=a[0],h=a[1],n=a[2],d=a[4],f=a[5],g=a[6],m=a[8],k=a[9];a=a[10];c[0]=Math.sqrt(b*b+h*h+n*n);c[1]=Math.sqrt(d*d+f*f+g*g);c[2]=Math.sqrt(m*
m+k*k+a*a);return c};b.getRotation=function(c,a){var b=a[0]+a[5]+a[10],h=0;0<b?(h=2*Math.sqrt(b+1),c[3]=.25*h,c[0]=(a[6]-a[9])/h,c[1]=(a[8]-a[2])/h,c[2]=(a[1]-a[4])/h):a[0]>a[5]&&a[0]>a[10]?(h=2*Math.sqrt(1+a[0]-a[5]-a[10]),c[3]=(a[6]-a[9])/h,c[0]=.25*h,c[1]=(a[1]+a[4])/h,c[2]=(a[8]+a[2])/h):a[5]>a[10]?(h=2*Math.sqrt(1+a[5]-a[0]-a[10]),c[3]=(a[8]-a[2])/h,c[0]=(a[1]+a[4])/h,c[1]=.25*h,c[2]=(a[6]+a[9])/h):(h=2*Math.sqrt(1+a[10]-a[0]-a[5]),c[3]=(a[1]-a[4])/h,c[0]=(a[8]+a[2])/h,c[1]=(a[6]+a[9])/h,c[2]=
.25*h);return c};b.fromRotationTranslationScale=function(c,a,b,h){var e=a[0],d=a[1],f=a[2],g=a[3],m=e+e,k=d+d,l=f+f;a=e*m;var p=e*k,e=e*l,q=d*k,d=d*l,f=f*l,m=g*m,k=g*k,g=g*l,l=h[0],y=h[1];h=h[2];c[0]=(1-(q+f))*l;c[1]=(p+g)*l;c[2]=(e-k)*l;c[3]=0;c[4]=(p-g)*y;c[5]=(1-(a+f))*y;c[6]=(d+m)*y;c[7]=0;c[8]=(e+k)*h;c[9]=(d-m)*h;c[10]=(1-(a+q))*h;c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c};b.fromRotationTranslationScaleOrigin=function(c,a,b,h,n){var e=a[0],d=a[1],f=a[2],g=a[3],m=e+e,k=d+d,l=
f+f;a=e*m;var p=e*k,q=e*l,e=d*k,d=d*l,C=f*l,f=g*m,k=g*k,v=g*l,z=h[0],E=h[1],l=h[2];h=n[0];g=n[1];n=n[2];var m=(1-(e+C))*z,H=(p+v)*z,z=(q-k)*z,p=(p-v)*E,C=(1-(a+C))*E,E=(d+f)*E,q=(q+k)*l,d=(d-f)*l;a=(1-(a+e))*l;c[0]=m;c[1]=H;c[2]=z;c[3]=0;c[4]=p;c[5]=C;c[6]=E;c[7]=0;c[8]=q;c[9]=d;c[10]=a;c[11]=0;c[12]=b[0]+h-(m*h+p*g+q*n);c[13]=b[1]+g-(H*h+C*g+d*n);c[14]=b[2]+n-(z*h+E*g+a*n);c[15]=1;return c};b.fromQuat=function(c,a){var b=a[0],h=a[1],d=a[2];a=a[3];var f=b+b,g=h+h,m=d+d,b=b*f,k=h*f,h=h*g,l=d*f,p=d*
g,d=d*m,f=a*f,g=a*g;a*=m;c[0]=1-h-d;c[1]=k+a;c[2]=l-g;c[3]=0;c[4]=k-a;c[5]=1-b-d;c[6]=p+f;c[7]=0;c[8]=l+g;c[9]=p-f;c[10]=1-b-h;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};b.frustum=function(c,a,b,h,d,f,g){var e=1/(b-a),n=1/(d-h),r=1/(f-g);c[0]=2*f*e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2*f*n;c[6]=0;c[7]=0;c[8]=(b+a)*e;c[9]=(d+h)*n;c[10]=(g+f)*r;c[11]=-1;c[12]=0;c[13]=0;c[14]=g*f*2*r;c[15]=0;return c};b.perspective=function(c,a,b,h,d){a=1/Math.tan(a/2);var e=void 0;c[0]=a/b;c[1]=0;c[2]=0;c[3]=0;
c[4]=0;c[5]=a;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[11]=-1;c[12]=0;c[13]=0;c[15]=0;null!=d&&Infinity!==d?(e=1/(h-d),c[10]=(d+h)*e,c[14]=2*d*h*e):(c[10]=-1,c[14]=-2*h);return c};b.perspectiveFromFieldOfView=function(c,a,b,h){var e=Math.tan(a.upDegrees*Math.PI/180),d=Math.tan(a.downDegrees*Math.PI/180),f=Math.tan(a.leftDegrees*Math.PI/180);a=Math.tan(a.rightDegrees*Math.PI/180);var g=2/(f+a),m=2/(e+d);c[0]=g;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=m;c[6]=0;c[7]=0;c[8]=-((f-a)*g*.5);c[9]=(e-d)*m*.5;c[10]=h/(b-h);c[11]=
-1;c[12]=0;c[13]=0;c[14]=h*b/(b-h);c[15]=0;return c};b.ortho=function(c,a,b,h,d,f,g){var e=1/(a-b),n=1/(h-d),r=1/(f-g);c[0]=-2*e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=-2*n;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=2*r;c[11]=0;c[12]=(a+b)*e;c[13]=(d+h)*n;c[14]=(g+f)*r;c[15]=1;return c};b.lookAt=function(c,a,b,h){var e=void 0,d=void 0,g=void 0,m=void 0,l=void 0,p=void 0,D=void 0,q=void 0,x=void 0,y=void 0,C=a[0],v=a[1];a=a[2];g=h[0];m=h[1];h=h[2];D=b[0];q=b[1];b=b[2];if(Math.abs(C-D)<f.EPSILON&&Math.abs(v-q)<f.EPSILON&&
Math.abs(a-b)<f.EPSILON)return k(c);D=C-D;q=v-q;x=a-b;y=1/Math.sqrt(D*D+q*q+x*x);D*=y;q*=y;x*=y;e=m*x-h*q;d=h*D-g*x;g=g*q-m*D;(y=Math.sqrt(e*e+d*d+g*g))?(y=1/y,e*=y,d*=y,g*=y):g=d=e=0;m=q*g-x*d;l=x*e-D*g;p=D*d-q*e;(y=Math.sqrt(m*m+l*l+p*p))?(y=1/y,m*=y,l*=y,p*=y):p=l=m=0;c[0]=e;c[1]=m;c[2]=D;c[3]=0;c[4]=d;c[5]=l;c[6]=q;c[7]=0;c[8]=g;c[9]=p;c[10]=x;c[11]=0;c[12]=-(e*C+d*v+g*a);c[13]=-(m*C+l*v+p*a);c[14]=-(D*C+q*v+x*a);c[15]=1;return c};b.targetTo=function(c,a,b,h){var e=a[0],d=a[1];a=a[2];var g=h[0],
f=h[1],m=h[2];h=e-b[0];var k=d-b[1];b=a-b[2];var l=h*h+k*k+b*b;0<l&&(l=1/Math.sqrt(l),h*=l,k*=l,b*=l);var p=f*b-m*k,m=m*h-g*b,g=g*k-f*h,l=p*p+m*m+g*g;0<l&&(l=1/Math.sqrt(l),p*=l,m*=l,g*=l);c[0]=p;c[1]=m;c[2]=g;c[3]=0;c[4]=k*g-b*m;c[5]=b*p-h*g;c[6]=h*m-k*p;c[7]=0;c[8]=h;c[9]=k;c[10]=b;c[11]=0;c[12]=e;c[13]=d;c[14]=a;c[15]=1;return c};b.str=function(c){return"mat4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+", "+c[9]+", "+c[10]+", "+c[11]+", "+c[12]+", "+c[13]+
", "+c[14]+", "+c[15]+")"};b.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)+Math.pow(c[2],2)+Math.pow(c[3],2)+Math.pow(c[4],2)+Math.pow(c[5],2)+Math.pow(c[6],2)+Math.pow(c[7],2)+Math.pow(c[8],2)+Math.pow(c[9],2)+Math.pow(c[10],2)+Math.pow(c[11],2)+Math.pow(c[12],2)+Math.pow(c[13],2)+Math.pow(c[14],2)+Math.pow(c[15],2))};b.add=function(c,a,b){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];c[4]=a[4]+b[4];c[5]=a[5]+b[5];c[6]=a[6]+b[6];c[7]=a[7]+b[7];c[8]=a[8]+b[8];c[9]=
a[9]+b[9];c[10]=a[10]+b[10];c[11]=a[11]+b[11];c[12]=a[12]+b[12];c[13]=a[13]+b[13];c[14]=a[14]+b[14];c[15]=a[15]+b[15];return c};b.subtract=g;b.multiplyScalar=function(c,a,b){c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;c[4]=a[4]*b;c[5]=a[5]*b;c[6]=a[6]*b;c[7]=a[7]*b;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12]*b;c[13]=a[13]*b;c[14]=a[14]*b;c[15]=a[15]*b;return c};b.multiplyScalarAndAdd=function(c,a,b,h){c[0]=a[0]+b[0]*h;c[1]=a[1]+b[1]*h;c[2]=a[2]+b[2]*h;c[3]=a[3]+b[3]*h;c[4]=
a[4]+b[4]*h;c[5]=a[5]+b[5]*h;c[6]=a[6]+b[6]*h;c[7]=a[7]+b[7]*h;c[8]=a[8]+b[8]*h;c[9]=a[9]+b[9]*h;c[10]=a[10]+b[10]*h;c[11]=a[11]+b[11]*h;c[12]=a[12]+b[12]*h;c[13]=a[13]+b[13]*h;c[14]=a[14]+b[14]*h;c[15]=a[15]+b[15]*h;return c};b.exactEquals=function(c,a){return c[0]===a[0]&&c[1]===a[1]&&c[2]===a[2]&&c[3]===a[3]&&c[4]===a[4]&&c[5]===a[5]&&c[6]===a[6]&&c[7]===a[7]&&c[8]===a[8]&&c[9]===a[9]&&c[10]===a[10]&&c[11]===a[11]&&c[12]===a[12]&&c[13]===a[13]&&c[14]===a[14]&&c[15]===a[15]};b.equals=function(c,
a){var b=c[0],h=c[1],d=c[2],g=c[3],m=c[4],k=c[5],l=c[6],p=c[7],q=c[8],B=c[9],x=c[10],y=c[11],C=c[12],v=c[13],z=c[14];c=c[15];var E=a[0],H=a[1],A=a[2],G=a[3],I=a[4],J=a[5],K=a[6],L=a[7],O=a[8],N=a[9],P=a[10],Q=a[11],M=a[12],T=a[13],U=a[14];a=a[15];return Math.abs(b-E)<=f.EPSILON*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(h-H)<=f.EPSILON*Math.max(1,Math.abs(h),Math.abs(H))&&Math.abs(d-A)<=f.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(g-G)<=f.EPSILON*Math.max(1,Math.abs(g),Math.abs(G))&&
Math.abs(m-I)<=f.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(k-J)<=f.EPSILON*Math.max(1,Math.abs(k),Math.abs(J))&&Math.abs(l-K)<=f.EPSILON*Math.max(1,Math.abs(l),Math.abs(K))&&Math.abs(p-L)<=f.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(q-O)<=f.EPSILON*Math.max(1,Math.abs(q),Math.abs(O))&&Math.abs(B-N)<=f.EPSILON*Math.max(1,Math.abs(B),Math.abs(N))&&Math.abs(x-P)<=f.EPSILON*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(y-Q)<=f.EPSILON*Math.max(1,Math.abs(y),Math.abs(Q))&&Math.abs(C-
M)<=f.EPSILON*Math.max(1,Math.abs(C),Math.abs(M))&&Math.abs(v-T)<=f.EPSILON*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(z-U)<=f.EPSILON*Math.max(1,Math.abs(z),Math.abs(U))&&Math.abs(c-a)<=f.EPSILON*Math.max(1,Math.abs(c),Math.abs(a))};b.mul=l;b.sub=g})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f64=p})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){function h(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var n=[0,0],r=k.getLogger("esri.geometry.Point");q=function(b){function g(a,c,e,h,d){a=b.call(this)||this;a.x=0;a.y=0;a.z=void 0;a.m=void 0;a.type="point";return a}p(g,b);k=g;g.copy=function(a,c){c._set("x",a._get("x"));c._set("y",a._get("y"));c._set("z",a._get("z"));c._set("m",a._get("m"));a=a._get("spatialReference");c._set("spatialReference",Object.isFrozen(a)?a:a.clone())};
g.distance=function(a,c){var b=a.x-c.x,e=a.y-c.y;a=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+e*e+a*a)};g.prototype.normalizeCtorArgs=function(a,c,b,g,f){var m;if(Array.isArray(a))m=a,f=c,a=m[0],c=m[1],b=m[2],g=m[3];else if(a&&"object"===typeof a){if(m=a,a=null!=m.x?m.x:m.longitude,c=null!=m.y?m.y:m.latitude,b=null!=m.z?m.z:m.altitude,g=m.m,(f=m.spatialReference)&&"esri.geometry.SpatialReference"!==f.declaredClass&&(f=new d(f)),null!=m.longitude||null!=m.latitude)null==m.longitude?r.warn(".longitude\x3d",
"Latitude was defined without longitude"):null==m.latitude?r.warn(".latitude\x3d","Longitude was defined without latitude"):!m.declaredClass&&f&&f.isWebMercator&&(c=e.lngLatToXY(m.longitude,m.latitude,n),a=c[0],c=c[1])}else h(b)?(f=b,b=null):h(g)&&(f=g,g=null);a={x:a,y:c};null==a.x&&null!=a.y?r.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&r.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=f&&(a.spatialReference=f);null!=b&&(a.z=b);null!=
g&&(a.m=g);return a};Object.defineProperty(g.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return e.xyToLngLat(this.x,this.y,n)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("y",e.lngLatToXY(this.x,a,n)[1]):c.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this._get("x"),this._get("y"),n)[0];if(a.isWGS84)return this._get("x")}return null},
set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",e.lngLatToXY(a,this._get("y"),n)[0]):c.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});g.prototype.writeX=function(a,c,b){c[b]=isNaN(a)?"NaN":a};g.prototype.readX=function(a){return"string"===typeof a?NaN:a};g.prototype.clone=function(){var a=new k;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};g.prototype.copy=function(a){k.copy(a,
this);return this};g.prototype.equals=function(a){var c;if(!a)return!1;var b=this.x,h=this.y,d=this.z,n=this.m,g=this.spatialReference,f=a.z,r=a.m,m=a.x;c=a.y;a=a.spatialReference;if(!g.equals(a))if(g.isWebMercator&&a.isWGS84)c=e.lngLatToXY(m,c),m=c[0],c=c[1],a=g;else if(g.isWGS84&&a.isWebMercator)c=e.xyToLngLat(m,c),m=c[0],c=c[1],a=g;else return!1;return b===m&&h===c&&d===f&&n===r&&g.wkid===a.wkid};g.prototype.offset=function(a,b,e){return c.offsetPoint(this,a,b,e)};g.prototype.normalize=function(){if(!this.spatialReference)return this;
var c=a.getInfo(this.spatialReference);if(!c)return this;var b=this.x,e=c.valid,c=e[0],h=e[1],e=2*h;b>h?(c=Math.ceil(Math.abs(b-h)/e),b-=c*e):b<c&&(c=Math.ceil(Math.abs(b-c)/e),b+=c*e);this._set("x",b);return this};g.prototype.distance=function(a){return k.distance(this,a)};g.prototype.toArray=function(){var a=this.hasZ,c=this.hasM;return a&&c?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:[this.x,this.y]};g.prototype.toJSON=function(a){return this.write(null,a)};
var k;f([l.property({dependsOn:["x","y","z","m","spatialReference"]})],g.prototype,"cache",void 0);f([l.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasM",null);f([l.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasZ",null);f([l.property({type:Number,dependsOn:["y"]})],g.prototype,"latitude",null);f([l.property({type:Number,dependsOn:["x"]})],g.prototype,"longitude",null);
f([l.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),l.cast(function(a){return isNaN(a)?a:m.ensureNumber(a)})],g.prototype,"x",void 0);f([l.writer("x")],g.prototype,"writeX",null);f([l.reader("x")],g.prototype,"readX",null);f([l.property({type:Number,json:{write:!0}})],g.prototype,"y",void 0);f([l.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],g.prototype,"z",void 0);f([l.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],
g.prototype,"m",void 0);return g=k=f([l.subclass("esri.geometry.Point")],g)}(l.declared(g));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(){var c=b.call(this)||this;c.type=null;c.extent=null;c.hasM=!1;c.hasZ=!1;c.spatialReference=
m.WGS84;return c}p(d,b);Object.defineProperty(d.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});d.prototype.readSpatialReference=function(c,a){if(c instanceof m)return c;if(null!=c){var b=new m;b.read(c,a);return b}return c};d.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};d.prototype.clearCache=function(){this.notifyChange("cache")};d.prototype.getCacheValue=function(c){return this.cache[c]};d.prototype.setCacheValue=
function(c,a){this.cache[c]=a};f([l.property()],d.prototype,"type",void 0);f([l.property({readOnly:!0,dependsOn:["spatialReference"]})],d.prototype,"cache",null);f([l.property({readOnly:!0,dependsOn:["spatialReference"]})],d.prototype,"extent",void 0);f([l.property({type:Boolean,json:{write:{overridePolicy:function(c){return{enabled:c}}}}})],d.prototype,"hasM",void 0);f([l.property({type:Boolean,json:{write:{overridePolicy:function(c){return{enabled:c}}}}})],d.prototype,"hasZ",void 0);f([l.property({type:m,
json:{write:!0}})],d.prototype,"spatialReference",void 0);f([l.reader("spatialReference")],d.prototype,"readSpatialReference",null);return d=f([l.subclass("esri.geometry.Geometry")],d)}(l.declared(k))})},"esri/geometry/support/offset":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(b,f,k,l){b.x+=f;b.y+=k;null!=l&&null!=b.z&&(b.z+=l);return b};b.offsetCoordsX=function(b,f){b[0]+=f;return b}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),
function(q,b,p,f,k,l){function m(a,c,b,d,g){var h;if("x"in a&&"x"in g)c=c(a.x,a.y,e,d),g.x=c[0],g.y=c[1];else if("xmin"in a&&"xmin"in g)h=c(a.xmin,a.ymin,e,d),g.xmin=h[0],g.ymin=h[1],c=c(a.xmax,a.ymax,e,d),g.xmax=c[0],g.ymax=c[1];else if("paths"in a&&"paths"in g||"rings"in a&&"rings"in g){h="paths"in a?a.paths:a.rings;var n=[],f=void 0;for(a=0;a<h.length;a++){var r=h[a],f=[];n.push(f);for(var m=0;m<r.length;m++)f.push(c(r[m][0],r[m][1],[0,0],d)),2<r[m].length&&f[m].push(r[m][2]),3<r[m].length&&f[m].push(r[m][3])}"paths"in
g?g.paths=n:g.rings=n}else if("points"in a&&"points"in g){h=a.points;n=[];for(a=0;a<h.length;a++)n[a]=c(h[a][0],h[a][1],[0,0],d),2<h[a].length&&n[a].push(h[a][2]),3<h[a].length&&n[a].push(h[a][3]);g.points=n}else if("type"in a&&"mesh"===a.type&&"type"in g&&"mesh"===g.type&&(h=a.vertexAttributes&&a.vertexAttributes.position,n=g.vertexAttributes&&g.vertexAttributes.position,h))for(f=[0,0],a=0;a<h.length;a+=3)c(h[a],h[a+1],f,d),n[a]=f[0],n[a+1]=f[1];g.spatialReference=b;return g}function g(a,c){a=a&&
(null!=a.wkid||null!=a.wkt?a:a.spatialReference);c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return a&&c?l.equals(c,a)?!0:l.isWebMercator(c)&&l.isWGS84(a)||l.isWebMercator(a)&&l.isWGS84(c):!1}function d(c,b,e){void 0===e&&(e=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;e[0]=.017453292519943*c*a;e[1]=.5*a*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return e}function c(c,b,e,d){void 0===e&&(e=[0,0]);void 0===d&&(d=!1);c=c/a*57.29577951308232;e[0]=d?c:c-360*Math.floor((c+
180)/360);e[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/a)));return e}Object.defineProperty(b,"__esModule",{value:!0});var a=f.wgs84Radius,e=[0,0];b.canProject=g;b.project=function(a,b){var e=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return g(e,b)?l.equals(e,b)?p.clone(a):l.isWebMercator(b)?m(a,d,k.WebMercator,!1,p.clone(a)):l.isWGS84(b)?m(a,c,k.WGS84,!1,p.clone(a)):null:null};b.lngLatToXY=d;b.xyToLngLat=c;b.geographicToWebMercator=function(a,c,b){void 0===
c&&(c=!1);void 0===b&&(b=p.clone(a));return m(a,d,k.WebMercator,c,b)};b.webMercatorToGeographic=function(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=p.clone(a));return m(a,c,k.WGS84,b,e)}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(q,b,p,f){function k(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function l(a){return a[0]>=a[2]?0:a[2]-a[0]}function m(a){return a[1]>=a[3]?0:a[3]-a[1]}function g(a,c){a[0]=c[0];
a[1]=c[1];a[2]=c[2];a[3]=c[3];return a}function d(a){return 4===a.length}function c(a,c,b){return a<c?c:a>b?b:a}Object.defineProperty(b,"__esModule",{value:!0});b.create=k;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,c,b,d,g){void 0===g&&(g=k());g[0]=a;g[1]=c;g[2]=b;g[3]=d;return g};b.fromExtent=function(a,c){void 0===c&&(c=k());c[0]=a.xmin;c[1]=a.ymin;c[2]=a.xmax;c[3]=a.ymax;return c};b.toExtent=function(a,c){return new f({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};
b.expandPointInPlace=function(a,c){c[0]<a[0]&&(a[0]=c[0]);c[0]>a[2]&&(a[2]=c[0]);c[1]<a[1]&&(a[1]=c[1]);c[1]>a[3]&&(a[3]=c[1])};b.expand=function(a,c,b){void 0===b&&(b=a);if("length"in c)if(d(c))b[0]=Math.min(a[0],c[0]),b[1]=Math.min(a[1],c[1]),b[2]=Math.max(a[2],c[2]),b[3]=Math.max(a[3],c[3]);else{if(2===c.length||3===c.length)b[0]=Math.min(a[0],c[0]),b[1]=Math.min(a[1],c[1]),b[2]=Math.max(a[2],c[0]),b[3]=Math.max(a[3],c[1])}else switch(c.type){case "extent":b[0]=Math.min(a[0],c.xmin);b[1]=Math.min(a[1],
c.ymin);b[2]=Math.max(a[2],c.xmax);b[3]=Math.max(a[3],c.ymax);break;case "point":b[0]=Math.min(a[0],c.x);b[1]=Math.min(a[1],c.y);b[2]=Math.max(a[2],c.x);b[3]=Math.max(a[3],c.y);break;default:p.neverReached(c)}return b};b.expandWithNestedArray=function(a,c,b){void 0===b&&(b=a);var e=c.length,d=a[0],h=a[1],g=a[2];a=a[3];for(var f=0;f<e;f++){var m=c[f],d=Math.min(d,m[0]),h=Math.min(h,m[1]),g=Math.max(g,m[0]);a=Math.max(a,m[1])}b[0]=d;b[1]=h;b[2]=g;b[3]=a;return b};b.allFinite=function(a){for(var c=0;4>
c;c++)if(!isFinite(a[c]))return!1;return!0};b.width=l;b.height=m;b.diameter=function(a){var c=l(a);a=m(a);return Math.sqrt(c*c+a*a)};b.area=function(a){return l(a)*m(a)};b.center=function(a,c){void 0===c&&(c=[0,0]);c[0]=a[0]+l(a)/2;c[1]=a[1]+m(a)/2;return c};b.containsPoint=function(a,c){return c[0]>=a[0]&&c[1]>=a[1]&&c[0]<=a[2]&&c[1]<=a[3]};b.containsPointWithMargin=function(a,c,b){return c[0]>=a[0]-b&&c[1]>=a[1]-b&&c[0]<=a[2]+b&&c[1]<=a[3]+b};b.intersects=function(a,c){return Math.max(c[0],a[0])<=
Math.min(c[2],a[2])&&Math.max(c[1],a[1])<=Math.min(c[3],a[3])};b.contains=function(a,c){return c[0]>=a[0]&&c[2]<=a[2]&&c[1]>=a[1]&&c[3]<=a[3]};b.intersection=function(a,b,d){void 0===d&&(d=a);var e=b[0],h=b[1],g=b[2];b=b[3];d[0]=c(a[0],e,g);d[1]=c(a[1],h,b);d[2]=c(a[2],e,g);d[3]=c(a[3],h,b);return d};b.distance=function(a,c){var b=(a[1]+a[3])/2,e=Math.max(Math.abs(c[0]-(a[0]+a[2])/2)-l(a)/2,0);a=Math.max(Math.abs(c[1]-b)-m(a)/2,0);return Math.sqrt(e*e+a*a)};b.offset=function(a,c,b,d){void 0===d&&
(d=a);d[0]=a[0]+c;d[1]=a[1]+b;d[2]=a[2]+c;d[3]=a[3]+b;return d};b.pad=function(a,c,b){void 0===b&&(b=a);b[0]=a[0]-c;b[1]=a[1]-c;b[2]=a[2]+c;b[3]=a[3]+c;return b};b.setMin=function(a,c,b){void 0===b&&(b=a);b[0]=c[0];b[1]=c[1];b!==a&&(b[2]=a[2],b[3]=a[3]);return b};b.setMax=function(a,c,b){void 0===b&&(b=a);b[2]=c[0];b[3]=c[1];b!==a&&(b[0]=a[0],b[1]=a[1]);return a};b.set=g;b.empty=function(a){return a?g(a,b.NEGATIVE_INFINITY):k(b.NEGATIVE_INFINITY)};b.is=d;b.isPoint=function(a){return(0===l(a)||!isFinite(a[0]))&&
(0===m(a)||!isFinite(a[1]))};b.equals=function(a,c,b){if(null==a||null==c)return a===c;if(!d(a)||!d(c))return!1;if(b)for(var e=0;e<a.length;e++){if(!b(a[e],c[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==c[e])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0]})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h){function n(a,c,b){return null==c?b:null==b?c:a(c,b)}q=function(b){function m(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.type="extent";a.xmin=0;a.ymin=0;a.mmin=void 0;a.zmin=void 0;a.xmax=0;a.ymax=0;a.mmax=void 0;a.zmax=void 0;return a}p(m,b);r=m;m.prototype.normalizeCtorArgs=function(a,c,b,e,h){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?d.WGS84:a.spatialReference,
a):{xmin:a,ymin:c,xmax:b,ymax:e,spatialReference:null==h?d.WGS84:h}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(m.prototype,"center",{get:function(){var a=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(m.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});m.prototype.centerAt=function(a){var c=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-c.x,a.y-c.y,a.z-c.z):this.offset(a.x-c.x,a.y-c.y)};m.prototype.clone=function(){var a=new r;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};m.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,
e=a.spatialReference;b&&e&&!b.equals(e)&&h.canProject(b,e)&&(a=b.isWebMercator?h.geographicToWebMercator(a):h.webMercatorToGeographic(a,!0));return"point"===a.type?c.extentContainsPoint(this,a):"extent"===a.type?c.extentContainsExtent(this,a):!1};m.prototype.equals=function(a){if(!a)return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&h.canProject(c,b)&&(a=c.isWebMercator?h.geographicToWebMercator(a):h.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};m.prototype.expand=function(a){a=.5*(1-a);var c=this.width*a,b=this.height*a;this.xmin+=c;this.ymin+=b;this.xmax-=c;this.ymax-=b;this.hasZ&&(c=(this.zmax-this.zmin)*a,this.zmin+=c,this.zmax-=c);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};m.prototype.intersects=function(c){if(!c)return!1;var b=this.spatialReference,e=c.spatialReference;b&&e&&
!b.equals(e)&&h.canProject(b,e)&&(c=b.isWebMercator?h.geographicToWebMercator(c):h.webMercatorToGeographic(c,!0));b=a.getExtentIntersector(c.type);return"mesh"!==c.type?b(this,c):b(this,c.extent)};m.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};m.prototype.offset=function(a,c,b){this.xmin+=a;this.ymin+=c;this.xmax+=a;this.ymax+=c;null!=b&&(this.zmin+=b,this.zmax+=b);return this};m.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};m.prototype.union=
function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=n(Math.min,this.zmin,a.zmin),this.zmax=n(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=n(Math.min,this.mmin,a.mmin),this.mmax=n(Math.max,this.mmax,a.mmax);return this};m.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,
a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=n(Math.max,this.zmin,a.zmin),this.zmax=n(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=n(Math.max,this.mmin,a.mmin),this.mmax=n(Math.min,this.mmax,a.mmax);return this};m.prototype.toJSON=function(a){return this.write(null,a)};m.prototype._shiftCM=function(a){void 0===a&&(a=e.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var c=this.spatialReference,
b=this._getCM(a);if(b){var n=c.isWebMercator?h.webMercatorToGeographic(b):b;this.xmin-=b.x;this.xmax-=b.x;c.isWebMercator||(n.x=this._normalizeX(n.x,a).x);this.spatialReference=new d(k.substitute({Central_Meridian:n.x},c.isWGS84?a.altTemplate:a.wkTemplate))}return this};m.prototype._getCM=function(a){var c=null,b=a.valid;a=b[0];var b=b[1],e=this.xmin,d=this.xmax;e>=a&&e<=b&&d>=a&&d<=b||(c=this.center);return c};m.prototype._normalize=function(a,c,b){var d=this.spatialReference;if(!d)return this;b=
b||e.getInfo(d);if(!b)return this;var h=this._getParts(b).map(function(a){return a.extent});if(2>h.length)return h[0]||this;if(2<h.length)return a?this._shiftCM(b):this.set({xmin:b.valid[0],xmax:b.valid[1]});if(a)return this._shiftCM(b);if(c)return h;var n=!0,g=!0;h.forEach(function(a){a.hasZ||(n=!1);a.hasM||(g=!1)});return{rings:h.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(n)for(var b=(a.zmax-a.zmin)/2,e=0;e<c.length;e++)c[e].push(b);
if(g)for(a=(a.mmax-a.mmin)/2,e=0;e<c.length;e++)c[e].push(a);return c}),hasZ:n,hasM:g,spatialReference:d}};m.prototype._getParts=function(a){var c=this.cache._parts;if(!c){var c=[],b=this.ymin,d=this.ymax,h=this.spatialReference,n=this.width,g=this.xmin,f=this.xmax,m=void 0;a=a||e.getInfo(h);var k=a.valid,l=k[0],t=k[1],m=this._normalizeX(this.xmin,a),p=m.x,k=m.frameId,m=this._normalizeX(this.xmax,a),u=m.x;a=m.frameId;m=p===u&&0<n;if(n>2*t){n=new r(g<f?p:u,b,t,d,h);g=new r(l,b,g<f?u:p,d,h);f=new r(0,
b,t,d,h);b=new r(l,b,0,d,h);d=[];h=[];n.contains(f)&&d.push(k);n.contains(b)&&h.push(k);g.contains(f)&&d.push(a);g.contains(b)&&h.push(a);for(l=k+1;l<a;l++)d.push(l),h.push(l);c.push({extent:n,frameIds:[k]},{extent:g,frameIds:[a]},{extent:f,frameIds:d},{extent:b,frameIds:h})}else p>u||m?c.push({extent:new r(p,b,t,d,h),frameIds:[k]},{extent:new r(l,b,u,d,h),frameIds:[a]}):c.push({extent:new r(p,b,u,d,h),frameIds:[k]});this.cache._parts=c}a=this.hasZ;b=this.hasM;if(a||b)for(k={},a&&(k.zmin=this.zmin,
k.zmax=this.zmax),b&&(k.mmin=this.mmin,k.mmax=this.mmax),a=0;a<c.length;a++)c[a].extent.set(k);return c};m.prototype._normalizeX=function(a,c){var b=c.valid;c=b[0];var e=b[1],b=2*e,d=0;a>e?(c=Math.ceil(Math.abs(a-e)/b),a-=c*b,d=c):a<c&&(c=Math.ceil(Math.abs(a-c)/b),a+=c*b,d=-c);return{x:a,frameId:d}};var r;f([l.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],m.prototype,"cache",void 0);f([l.property({readOnly:!0,dependsOn:["cache"]})],m.prototype,"center",
null);f([l.property({readOnly:!0,dependsOn:["cache"]})],m.prototype,"extent",null);f([l.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],m.prototype,"hasM",null);f([l.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],m.prototype,"hasZ",null);f([l.property({readOnly:!0,dependsOn:["ymin","ymax"]})],m.prototype,"height",null);f([l.property({readOnly:!0,dependsOn:["xmin","xmax"]})],m.prototype,"width",null);
f([l.property({type:Number,json:{write:!0}})],m.prototype,"xmin",void 0);f([l.property({type:Number,json:{write:!0}})],m.prototype,"ymin",void 0);f([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],m.prototype,"mmin",void 0);f([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],m.prototype,"zmin",void 0);f([l.property({type:Number,json:{write:!0}})],
m.prototype,"xmax",void 0);f([l.property({type:Number,json:{write:!0}})],m.prototype,"ymax",void 0);f([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],m.prototype,"mmax",void 0);f([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],m.prototype,"zmax",void 0);return m=r=f([l.subclass("esri.geometry.Extent")],m)}(l.declared(m));q.prototype.toJSON.isDefaultToJSON=
!0;return q})},"esri/geometry/support/contains":function(){define(["require","exports"],function(q,b){function p(b,d){return f(b,d[0],d[1])}function f(b,d,c,a){return d>=b.xmin&&d<=b.xmax&&c>=b.ymin&&c<=b.ymax?null!=a&&b.hasZ?a>=b.zmin&&a<=b.zmax:!0:!1}function k(b,d){if(b=b.rings)if(Array.isArray(b[0][0])){for(var c=!1,a=0,e=b.length;a<e;a++)c=l(c,b[a],d);d=c}else d=l(!1,b,d);else d=!1;return d}function l(b,d,c){var a=c[0];c=c[1];for(var e=0,h=0,n=d.length;h<n;h++){e++;e===n&&(e=0);var g=d[h],f=
g[0],g=g[1],m=d[e],k=m[0],m=m[1];(g<c&&m>=c||m<c&&g>=c)&&f+(c-g)/(m-g)*(k-f)<a&&(b=!b)}return b}Object.defineProperty(b,"__esModule",{value:!0});var m=[0,0];b.extentContainsPoint=function(b,d){return f(b,d.x,d.y,d.z)};b.extentContainsMultipoint=function(b,d){if(!d.points||d.points.length)return!1;var c=0;for(d=d.points;c<d.length;c++)if(!p(b,d[c]))return!1;return!0};b.extentContainsExtent=function(b,d){var c=d.xmin,a=d.ymin,e=d.zmin,h=d.xmax,n=d.ymax,g=d.zmax;return b.hasZ&&d.hasZ?f(b,c,a,e)&&f(b,
c,n,e)&&f(b,h,n,e)&&f(b,h,a,e)&&f(b,c,a,g)&&f(b,c,n,g)&&f(b,h,n,g)&&f(b,h,a,g):f(b,c,a)&&f(b,c,n)&&f(b,h,n)&&f(b,h,a)};b.extentContainsCoords2D=p;b.extentContainsCoords3D=function(b,d){return f(b,d[0],d[1],d[2])};b.polygonContainsPoint=function(b,d){m[1]=d.y;m[0]=d.x;return k(b,m)};b.polygonContainsCoords=k})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(q,b,p){function f(a,c){return p.extentContainsPoint(a,c)}function k(a,c){var b=a.hasZ&&c.hasZ,
e;if(a.xmin<=c.xmin){if(e=c.xmin,a.xmax<e)return!1}else if(e=a.xmin,c.xmax<e)return!1;if(a.ymin<=c.ymin){if(e=c.ymin,a.ymax<e)return!1}else if(e=a.ymin,c.ymax<e)return!1;if(b&&c.hasZ)if(a.zmin<=c.zmin){if(b=c.zmin,a.zmax<b)return!1}else if(b=a.zmin,c.zmax<b)return!1;return!0}function l(a,c){var b=c.hasZ?p.extentContainsCoords3D:p.extentContainsCoords2D,e=0;for(c=c.points;e<c.length;e++)if(b(a,c[e]))return!0;return!1}function m(c,b){a[0]=c.xmin;a[1]=c.ymax;e[0]=c.xmax;e[1]=c.ymax;h[0]=c.xmin;h[1]=
c.ymin;n[0]=c.xmax;n[1]=c.ymin;for(var g=0,f=r;g<f.length;g++)if(p.polygonContainsCoords(b,f[g]))return!0;g=0;for(b=b.rings;g<b.length;g++)if(f=b[g],f.length){var m=f[0];if(p.extentContainsCoords2D(c,m))return!0;for(var k=1;k<f.length;k++){var l=f[k];if(p.extentContainsCoords2D(c,l)||d(m,l,t))return!0;m=l}}return!1}function g(c,b){a[0]=c.xmin;a[1]=c.ymax;e[0]=c.xmax;e[1]=c.ymax;h[0]=c.xmin;h[1]=c.ymin;n[0]=c.xmax;n[1]=c.ymin;b=b.paths;for(var g=0;g<b.length;g++){var f=b[g];if(b.length){var m=f[0];
if(p.extentContainsCoords2D(c,m))return!0;for(var r=1;r<f.length;r++){var k=f[r];if(p.extentContainsCoords2D(c,k)||d(m,k,t))return!0;m=k}}}return!1}function d(a,b,e){for(var d=0;d<e.length;d++)if(c(a,b,e[d][0],e[d][1]))return!0;return!1}function c(a,c,b,e,d){var h=a[0];a=a[1];var n=c[0];c=c[1];var g=b[0],f=b[1];b=e[0]-g;var g=h-g,m=n-h;e=e[1]-f;var f=a-f,r=c-a,k=e*m-b*r;if(0===k)return!1;b=(b*f-e*g)/k;g=(m*f-r*g)/k;return 0<=b&&1>=b&&0<=g&&1>=g?(d&&(d[0]=h+b*(n-h),d[1]=a+b*(c-a)),!0):!1}Object.defineProperty(b,
"__esModule",{value:!0});b.extentIntersectsPoint=f;b.extentIntersectsExtent=k;b.extentIntersectsMultipoint=l;var a=[0,0],e=[0,0],h=[0,0],n=[0,0],r=[a,e,h,n],t=[[h,a],[a,e],[e,n],[n,h]];b.extentIntersectsPolygon=m;b.extentIntersectsPolyline=g;var u=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var e=a[b],d=0;d<e.length-1;d++)for(var h=e[d],n=e[d+1],g=b+1;g<a.length;g++)for(var f=0;f<a[g].length-1;f++){var m=a[g][f],r=a[g][f+1],k=c(h,n,m,r,u);if(k&&!(u[0]===h[0]&&u[1]===h[1]||
u[0]===m[0]&&u[1]===m[1]||u[0]===n[0]&&u[1]===n[1]||u[0]===r[0]&&u[1]===r[1]))return!0}f=e.length;if(!(4>=f))for(d=0;d<f-3;d++){var l=f-1;0===d&&(l=f-2);h=e[d];n=e[d+1];for(g=d+2;g<l;g++)if(m=e[g],r=e[g+1],(k=c(h,n,m,r,u))&&!(u[0]===h[0]&&u[1]===h[1]||u[0]===m[0]&&u[1]===m[1]||u[0]===n[0]&&u[1]===n[1]||u[0]===r[0]&&u[1]===r[1]))return!0}}return!1};b.segmentIntersects=c;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return k;case "esriGeometryMultipoint":case "multipoint":return l;
case "esriGeometryPoint":case "point":return f;case "esriGeometryPolygon":case "polygon":return m;case "esriGeometryPolyline":case "polyline":return g;case "mesh":return k}}})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/lang ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h){function n(a,c,b){if(!a)return null;switch(c){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:b};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:b};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:b};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:b}}}
function r(a,c,b,e){return{x:a,y:c,z:b,hasZ:null!=b,hasM:!1,spatialReference:e,type:"point"}}function t(a){return"declaredClass"in a}function u(a){return"declaredClass"in a}function w(a){if(!a)return 0;switch(a.type){case "point":return 1;case "polyline":var c=0,b=0;for(a=a.paths;b<a.length;b++)c+=a[b].length;return c;case "polygon":b=c=0;for(a=a.rings;b<a.length;b++)c+=a[b].length;return c;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(c=a.vertexAttributes&&a.vertexAttributes.position)?
c.length/3:0;default:k.neverReached(a)}}function F(a){var c=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:c};case "polygon":var b=a.hasZ,e=a.hasM;return{rings:D(a.rings),hasZ:b,hasM:e,spatialReference:c};case "polyline":var d=a.paths,b=a.hasZ,e=a.hasM;return{paths:D(d),hasZ:b,hasM:e,spatialReference:c};case "extent":var d=a.xmin,h=a.xmax,n=a.ymin,g=a.ymax,f=a.zmin,m=a.zmax,r=a.mmin,l=a.mmax,b=a.hasZ,e=a.hasM;return{xmin:d,xmax:h,ymin:n,ymax:g,
zmin:f,zmax:m,mmin:r,mmax:l,hasZ:b,hasM:e,spatialReference:c};case "multipoint":return d=a.points,b=a.hasZ,e=a.hasM,{points:y(d)?B(d):d,hasZ:b,hasM:e,spatialReference:c};default:k.neverReached(a)}}function D(a){return x(a)?a.map(function(a){return B(a)}):a}function B(a){return a.map(function(a){return m.toArray(a)})}function x(a){for(var c=0;c<a.length;c++){var b=a[c];if(0!==b.length)return y(b)}return!1}function y(a){return a.length&&(m.isFloat32Array(a[0])||m.isFloat64Array(a[0]))}function C(a,
c){d.empty(c);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":c[0]=c[3]=a.x;c[1]=c[4]=a.y;a.hasZ&&(c[2]=c[5]=a.z);break;case "polyline":for(var b=0;b<a.paths.length;b++)d.expandWithNestedArray(c,a.paths[b],a.hasZ);break;case "polygon":for(b=0;b<a.rings.length;b++)d.expandWithNestedArray(c,a.rings[b],a.hasZ);break;case "multipoint":d.expandWithNestedArray(c,a.points,a.hasZ);break;case "extent":c[0]=a.xmin;c[1]=a.ymin;c[3]=a.xmax;c[4]=a.ymax;null!=a.zmin&&(c[2]=a.zmin);null!=a.zmax&&(c[5]=
a.zmax);break;default:k.neverReached(a)}}function v(a,b){c.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var e=0;e<a.paths.length;e++)c.expandWithNestedArray(b,a.paths[e]);break;case "polygon":for(e=0;e<a.rings.length;e++)c.expandWithNestedArray(b,a.rings[e]);break;case "multipoint":c.expandWithNestedArray(b,a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;default:k.neverReached(a)}}Object.defineProperty(b,
"__esModule",{value:!0});b.equals=h.equals;b.isFeatureGeometry=function(a){return p.isFeatureGeometryType(a.type)};b.isPoint=function(a){return"point"===a.type};b.fromFeatureSetJSON=function(c){var b=p.featureGeometryTypeKebabDictionary.fromJSON(c.geometryType),d=g.fromJSON(c.spatialReference),h=c.transform,m=c.features.map(function(e){var g=c.objectIdFieldName;e={uid:f.generateUID(),objectId:g&&e.attributes?e.attributes[g]:null,attributes:e.attributes,geometry:n(e.geometry,b,d),visible:!0};if((g=
e.geometry)&&h)switch(g.type){case "point":e.geometry=a.hydratePoint(h,g,g,g.hasZ,g.hasM);break;case "multipoint":e.geometry=a.hydrateMultipoint(h,g,g,g.hasZ,g.hasM);break;case "polygon":e.geometry=a.hydratePolygon(h,g,g,g.hasZ,g.hasM);break;case "polyline":e.geometry=a.hydratePolyline(h,g,g,g.hasZ,g.hasM);break;default:k.neverReached(g)}return e});return{geometryType:b,features:m,spatialReference:d,fields:c.fields?c.fields.map(function(a){return e.fromJSON(a)}):null,objectIdFieldName:c.objectIdFieldName,
globalIdFieldName:c.globalIdFieldName,geohashFieldName:c.geohashFieldName,geometryProperties:c.geometryProperties,hasZ:c.hasZ,hasM:c.hasM,exceededTransferLimit:c.exceededTransferLimit,transform:null}};b.fromJSONGeometry=n;b.makeDehydratedPoint=r;b.isHydratedGeometry=function(a){return"declaredClass"in a};b.isHydratedPoint=t;b.isHydratedGraphic=u;b.hydrateGraphic=function(a,c){if(!a||u(a))return a;c=new f({layer:c,sourceLayer:c});c.visible=a.visible;c.symbol=l.clone(a.symbol);c.attributes=l.clone(a.attributes);
a.geometry&&("mesh"===a.geometry.type?c.geometry=a.geometry:c.read({geometry:F(a.geometry)}));return c};b.clonePoint=function(a,c){if(!a)return null;if(t(a)){if(null==c)return a.clone();if(t(c))return c.copy(a)}null!=c?(c.x=a.x,c.y=a.y,c.spatialReference=a.spatialReference,a.hasZ?(c.z=a.z,c.hasZ=a.hasZ):(c.z=null,c.hasZ=!1),a.hasM?(c.m=a.m,c.hasM=!0):(c.m=null,c.hasM=!1)):(c=r(a.x,a.y,a.z,a.spatialReference),a.hasM&&(c.m=a.m,c.hasM=!0));return c};b.estimateSize=function(a){for(var c=32,b=0,e=Object.keys(a.attributes);b<
e.length;b++){var d=e[b],c=c+d.length,d=a.attributes[d];switch(typeof d){case "string":c+=d.length;break;default:case "number":c+=8}}a=a.geometry?"mesh"===a.geometry.type?0:w(a.geometry):0;return c+12*a};b.numVertices=w;b.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var c=0;for(a=a.paths;c<a.length;c++)if(0<a[c].length)return!0;return!1;case "polygon":c=0;for(a=a.rings;c<a.length;c++)if(0<a[c].length)return!0;return!1;case "multipoint":return 0<
a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:k.neverReached(a)}};b.computeAABB=C;b.expandAABB=function(a,c){C(a,z);d.expand(c,z)};b.computeAABR=v;b.expandAABR=function(a,b){v(a,E);c.expand(b,E)};var z=d.create(),E=c.create()})},"esri/geometry":function(){define("require exports ./core/kebabDictionary ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=k;b.BaseGeometry=l;b.Multipoint=m;b.Point=g;b.Polygon=d;b.Polyline=c;b.SpatialReference=a;b.isGeometry=function(a){return a instanceof b.BaseGeometry};b.fromJSON=e.fromJSON;b.typeKebabDictionary=p.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=p.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b.geometryTypes={base:b.BaseGeometry,key:"type",typeMap:{extent:b.Extent,multipoint:b.Multipoint,point:b.Point,polyline:b.Polyline,polygon:b.Polygon}};b.ensureType=f.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c){function a(a){return function(c,b){return null==c?b:null==b?c:a(c,b)}}q=function(b){function e(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.points=[];a.type="multipoint";return a}p(e,b);n=e;e.prototype.normalizeCtorArgs=function(a,c){if(!a&&!c)return null;var b={};Array.isArray(a)?(b.points=a,b.spatialReference=c):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(b.points=a.points),a.spatialReference&&(b.spatialReference=
a.spatialReference),a.hasZ&&(b.hasZ=a.hasZ),a.hasM&&(b.hasM=a.hasM)):b.spatialReference=a;if(a=b.points&&b.points[0])void 0===b.hasZ&&void 0===b.hasM?(b.hasZ=2<a.length,b.hasM=!1):void 0===b.hasZ?b.hasZ=3<a.length:void 0===b.hasM&&(b.hasM=3<a.length);return b};Object.defineProperty(e.prototype,"extent",{get:function(){var c=this.points;if(!c.length)return null;for(var b=new m,e=this.hasZ,d=this.hasM,h=e?3:2,n=c[0],g=a(Math.min),f=a(Math.max),k=n[0],l=n[1],p=n[0],n=n[1],q,E,H,A,G=0,I=c.length;G<I;G++){var J=
c[G],K=J[0],L=J[1],k=g(k,K),l=g(l,L),p=f(p,K),n=f(n,L);e&&2<J.length&&(K=J[2],q=g(q,K),H=f(H,K));d&&J.length>h&&(J=J[h],E=g(E,J),A=f(A,J))}b.xmin=k;b.ymin=l;b.xmax=p;b.ymax=n;b.spatialReference=this.spatialReference;e?(b.zmin=q,b.zmax=H):(b.zmin=null,b.zmax=null);d?(b.mmin=E,b.mmax=A):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});e.prototype.writePoints=function(a,c,b,e){c.points=k.clone(this.points)};e.prototype.addPoint=function(a){this.clearCache();c.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};e.prototype.clone=function(){var a={points:k.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new n(a)};e.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var c={x:a[0],y:a[1],spatialReference:this.spatialReference},b=2;this.hasZ&&(c.z=a[2],b=3);this.hasM&&(c.m=a[b]);return new d(c)};e.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new d(this.points.splice(a,1)[0],this.spatialReference)};e.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();c.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};e.prototype.toJSON=function(a){return this.write(null,a)};e.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var n;f([l.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],e.prototype,"cache",void 0);f([l.property({dependsOn:["cache"]})],
e.prototype,"extent",null);f([l.property({type:[[Number]],json:{write:{isRequired:!0}}})],e.prototype,"points",void 0);f([l.writer("points")],e.prototype,"writePoints",null);return e=n=f([l.subclass("esri.geometry.Multipoint")],e)}(l.declared(g));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=function(b,f,k){void 0===k&&(k=!1);var l=b.hasM,
m=b.hasZ;Array.isArray(f)?4!==f.length||l||m?3===f.length&&k&&!l?(m=!0,l=!1):3===f.length&&l&&m&&(m=l=!1):m=l=!0:(m=!m&&f.hasZ&&(!l||f.hasM),l=!l&&f.hasM&&(!m||f.hasZ));b.hasZ=m;b.hasM=l}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u,w){q=function(b){function d(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.rings=[];a.type="polygon";return a}p(d,b);q=d;d.createEllipse=function(a){var c=a.center.x,b=a.center.y,e=a.center.z,d=a.center.m,h=a.center.hasZ,n=a.center.hasM,g=a.longAxis,f=a.shortAxis,m=a.numberOfPoints;a=a.view;for(var r=[],k=2*Math.PI/m,t=h?3:2,p=0;p<m;p++){var u=a.toMap(l.createScreenPoint(g*Math.cos(p*k)+c,f*Math.sin(p*k)+b)),u=[u.x,u.y];h&&(u[2]=e);n&&(u[t]=
d);r.push(u)}r.push(r[0]);return new q({rings:[r],spatialReference:a.spatialReference})};d.createCircle=function(a){return q.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};d.fromExtent=function(a){var c=a.clone().normalize();a=a.spatialReference;var b=!1,e=!1;c.map(function(a){a.hasZ&&(b=!0);a.hasM&&(e=!0)});c={rings:c.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(b&&a.hasZ)for(var d=
a.zmin+.5*(a.zmax-a.zmin),h=0;h<c.length;h++)c[h].push(d);if(e&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),h=0;h<c.length;h++)c[h].push(a);return c}),spatialReference:a};b&&(c.hasZ=!0);e&&(c.hasM=!0);return new q(c)};d.prototype.normalizeCtorArgs=function(c,b){var e=null,d,h,n=null;c&&!Array.isArray(c)?(e=c.rings?c.rings:null,b||(c.spatialReference?b=c.spatialReference:c.rings||(b=c)),d=c.hasZ,h=c.hasM):e=c;e=e||[];b=b||a.WGS84;e.length&&e[0]&&null!=e[0][0]&&"number"===typeof e[0][0]&&(e=[e]);if(n=e[0]&&
e[0][0])void 0===d&&void 0===h?(d=2<n.length,h=!1):void 0===d?d=!h&&3<n.length:void 0===h&&(h=!d&&3<n.length);return{rings:e,spatialReference:b,hasZ:d,hasM:h}};Object.defineProperty(d.prototype,"centroid",{get:function(){var a=e.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new c;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"extent",{get:function(){var a=
this.spatialReference,c=new g(r.getPolygonExtent(this));c.spatialReference=a;return c},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isSelfIntersecting",{get:function(){return t.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});d.prototype.writePaths=function(a,c,b,e){c.rings=k.clone(this.rings)};d.prototype.addRing=function(a){if(a){this.clearCache();var c=this.rings,b=c.length;if(Array.isArray(a[0]))c[b]=a.concat();else{for(var e=[],d=0,h=a.length;d<h;d++)e[d]=
a[d].toArray();c[b]=e}return this}};d.prototype.clone=function(){var a=new q;a.spatialReference=this.spatialReference;a.rings=k.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};d.prototype.contains=function(a){if(!a)return!1;u.canProject(a,this.spatialReference)&&(a=u.project(a,this.spatialReference));return h.polygonContainsPoint(this,a)};d.prototype.isClockwise=function(a){var c=this;a=Array.isArray(a[0])?a:a.map(function(a){return c.hasZ?c.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,
a.y]});return n.isClockwise(a,this.hasM,this.hasZ)};d.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var e=this.hasM;return b&&!e?new c(a[0],a[1],a[2],void 0,this.spatialReference):e&&!b?new c(a[0],a[1],void 0,a[2],this.spatialReference):b&&e?new c(a[0],a[1],a[2],a[3],this.spatialReference):new c(a[0],a[1],this.spatialReference)};d.prototype.insertPoint=function(a,c,b){if(!this._validateInputs(a,c,!0))return this;this.clearCache();w.updateSupportFromPoint(this,
b);Array.isArray(b)||(b=b.toArray());this.rings[a].splice(c,0,b);return this};d.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new c(this.rings[a].splice(b,1)[0],this.spatialReference)};d.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new c(a,b)})};d.prototype.setPoint=function(a,c,b){if(!this._validateInputs(a,
c))return this;this.clearCache();w.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.rings[a][c]=b;return this};d.prototype._validateInputs=function(a,c,b){void 0===b&&(b=!1);return null==a||0>a||a>=this.rings.length||null!=c&&(a=this.rings[a],b&&(0>c||c>a.length)||!b&&(0>c||c>=a.length))?!1:!0};d.prototype.toJSON=function(a){return this.write(null,a)};var q;f([m.property({dependsOn:["hasM","hasZ","rings"]})],d.prototype,"cache",void 0);f([m.property({readOnly:!0,dependsOn:["cache"]})],
d.prototype,"centroid",null);f([m.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"extent",null);f([m.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"isSelfIntersecting",null);f([m.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"rings",void 0);f([m.writer("rings")],d.prototype,"writePaths",null);return d=q=f([m.subclass("esri.geometry.Polygon")],d)}(m.declared(d));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils","./libs/gl-matrix-2/vec2f64","./libs/gl-matrix-2/vec3f64"],function(q,b,p,f,k){function l(a){return a?72*a/b.DPI:0}function m(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return{x:a,y:c}}function g(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return f.vec2f64.fromValues(a,c)}function d(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return{x:a,y:c}}function c(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return f.vec2f64.fromValues(a,c)}function a(a,c){return c?(c[0]=a.x,c[1]=a.y,2<c.length&&
(c[2]=0),c):f.vec2f64.fromValues(a.x,a.y)}function e(a){return m(a.x,a.y)}function h(a,c){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return m(c.clientX-a.left,c.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});var n=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.DPI=96;b.pt2px=function(a){return a?a/72*b.DPI:0};b.px2pt=l;b.toPt=function(a){if("string"===typeof a){if(n.test(a)){var c=a.match(n),b=Number(c[1]),c=c[3]&&c[3].toLowerCase();a="-"===a.charAt(0);b="px"===c?l(b):
b;return a?-b:b}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=m;b.createScreenPointArray=g;b.createRenderScreenPoint=d;b.createRenderScreenPointArray=c;b.createRenderScreenPointArray3=function(a,c,b){void 0===a&&(a=0);void 0===c&&(c=0);void 0===b&&(b=0);return k.vec3f64.fromValues(a,c,b)};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=
function(c,b,e){var h,n;switch(c.type){case "2d":c=window.devicePixelRatio||1;h=b.x*c;n=b.y*c;break;case "3d":a(b,t),c.state.camera.screenToRender(t,r),h=r[0],n=r[1]}return e?(e.x=h,e.y=n,e):d(h,n)};b.renderToScreen=function(c,b,e){var d,h;switch(c.type){case "2d":c=window.devicePixelRatio||1;d=b.x/c;h=b.y/c;break;case "3d":a(b,r),c.state.camera.renderToScreen(r,t),d=t[0],h=t[1]}return e?(e.x=d,e.y=h,e):m(d,h)};b.screenArrayToRender=function(a,b,e){var d,h;switch(a.type){case "2d":a=window.devicePixelRatio||
1;d=b[0]*a;h=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,r),d=r[0],h=r[1]}return e?(e[0]=d,e[1]=h,2<e.length&&(e[2]=0),e):c(d,h)};b.renderArrayToScreen=function(a,c,b){var e,d;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=c[0]/a;d=c[0]/a;break;case "3d":a.state.camera.renderToScreen(c,t),e=t[0],d=t[1]}return b?(b[0]=e,b[1]=d,b):g(e,d)};b.screenPointArrayToObject=function(a,c){return c?(c.x=a[0],c.y=a[1],c):{x:a[0],y:a[1]}};b.screenPointObjectToArray=a;b.createScreenPointFromEvent=
e;b.createScreenPointFromNativeEvent=h;b.createScreenPointFromSupportedEvent=function(a,c){return c instanceof Event?h(a,c):e(c)};b.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;
default:p.neverReachedSilent(a)}return!1};var r=c(),t=g()})},"esri/core/libs/gl-matrix-2/vec2f64":function(){define(["require","exports","./factories/vec2f64"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.vec2f64=p})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,0]};b.clone=function(b){return[b[0],b[1]]};b.fromValues=function(b,f){return[b,f]};
b.fromArray=function(b){for(var f=[0,0],k=Math.min(2,b.length),l=0;l<k;++l)f[l]=b[l];return f};b.createView=function(b,f){return new Float64Array(b,f,2)}})},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],function(q,b,p){function f(b,g){if(!b||!b.length)return null;for(var d=[],c=[],a=g?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],e=0,h=b.length;e<h;e++){var n=k(b[e],g,a);n&&c.push(n)}c.sort(function(a,
c){var b=a[2]-c[2];0===b&&g&&(b=a[4]-c[4]);return b});c.length&&(e=6*c[0][2],d[0]=c[0][0]/e,d[1]=c[0][1]/e,g&&(e=6*c[0][4],d[2]=0!==e?c[0][3]/e:0),d[0]<a[0]||d[0]>a[1]||d[1]<a[2]||d[1]>a[3]||g&&(d[2]<a[4]||d[2]>a[5]))&&(d.length=0);if(!d.length)if(b=b[0]&&b[0].length?l(b[0],g):null)d[0]=b[0],d[1]=b[1],g&&2<b.length&&(d[2]=b[2]);else return null;return d}function k(b,g,d){for(var c=0,a=0,e=0,h=0,n=0,f=0,m=b.length-1;f<m;f++){var k=b[f],l=k[0],p=k[1],q=k[2],B=b[f+1],x=B[0],y=B[1],C=B[2],v=l*y-x*p,h=
h+v,c=c+(l+x)*v,a=a+(p+y)*v;g&&2<k.length&&2<B.length&&(v=l*C-x*q,e+=(q+C)*v,n+=v);l<d[0]&&(d[0]=l);l>d[1]&&(d[1]=l);p<d[2]&&(d[2]=p);p>d[3]&&(d[3]=p);g&&(q<d[4]&&(d[4]=q),q>d[5]&&(d[5]=q))}0<h&&(h*=-1);0<n&&(n*=-1);if(!h)return null;b=[c,a,.5*h];g&&(b[3]=e,b[4]=.5*n);return b}function l(b,g){for(var d=g?[0,0,0]:[0,0],c=g?[0,0,0]:[0,0],a=0,e=0,h=0,n=0,f=0,m=b.length;f<m-1;f++){var k=b[f],l=b[f+1];if(k&&l){d[0]=k[0];d[1]=k[1];c[0]=l[0];c[1]=l[1];g&&2<k.length&&2<l.length&&(d[2]=k[2],c[2]=l[2]);var q=
p.getLength(d,c);q&&(a+=q,k=p.getMidpoint(k,l),e+=q*k[0],h+=q*k[1],g&&2<k.length&&(n+=q*k[2]))}}return 0<a?g?[e/a,h/a,n/a]:[e/a,h/a]:b.length?b[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(b){return b?b.hasZ?[b.xmax-b.xmin/2,b.ymax-b.ymin/2,b.zmax-b.zmin/2]:[b.xmax-b.xmin/2,b.ymax-b.ymin/2]:null};b.polygonCentroid=function(b){return b?f(b.rings,b.hasZ):null};b.ringsCentroid=f;b.lineCentroid=l})},"esri/geometry/support/coordsUtils":function(){define(["require",
"exports","./spatialReferenceUtils"],function(q,b,p){function f(b,g){var d=g[0]-b[0],c=g[1]-b[1];return 2<b.length&&2<g.length?(b=b[2]-g[2],Math.sqrt(d*d+c*c+b*b)):Math.sqrt(d*d+c*c)}function k(b,g,d){var c=b[0]+d*(g[0]-b[0]),a=b[1]+d*(g[1]-b[1]);return 2<b.length&&2<g.length?[c,a,b[2]+d*(g[2]-b[2])]:[c,a]}function l(b,g){if(g=p.getInfo(g)){var d=g.valid[0],c=g.valid[1],a=c-d;g=function(b){var e=Infinity,h=-Infinity;b.forEach(function(b){for(var n=b[0];n<d;)n+=a;for(;n>c;)n-=a;e=Math.min(e,n);h=Math.max(h,
n);b[0]=n});var g=h-e;a-g<g&&b.forEach(function(c){0>c[0]&&(c[0]+=a)})};for(var e=0;e<b.length;e++)g(b[e])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(b){if(!b)return null;if(Array.isArray(b))return b;var g=b.hasZ,d=b.hasM;if("point"===b.type)return d&&g?[b.x,b.y,b.z,b.m]:g?[b.x,b.y,b.z]:d?[b.x,b.y,b.m]:[b.x,b.y];if("polygon"===b.type)return b.rings.slice(0);if("polyline"===b.type)return b.paths.slice(0);if("multipoint"===b.type)return b.points.slice(0);if("extent"===
b.type){b=b.clone().normalize();if(!b)return null;var c=!1,a=!1;b.forEach(function(b){b.hasZ&&(c=!0);b.hasM&&(a=!0)});return b.map(function(b){var e=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(c&&b.hasZ)for(var d=.5*(b.zmax-b.zmin),g=0;g<e.length;g++)e[g].push(d);if(a&&b.hasM)for(b=.5*(b.mmax-b.mmin),g=0;g<e.length;g++)e[g].push(b);return e})}return null};b.getLength=f;b.getMidpoint=function(b,g){return k(b,g,.5)};b.getPathLength=function(b){for(var g=b.length,
d=0,c=0;c<g-1;++c)d+=f(b[c],b[c+1]);return d};b.getPointOnPath=function(b,g){if(0>=g)return b[0];for(var d=b.length,c=0,a=0;a<d-1;++a){var e=f(b[a],b[a+1]);if(g-c<e)return k(b[a],b[a+1],(g-c)/e);c+=e}return b[d-1]};b.isClockwise=function(b,g,d){for(var c=b.length,a=0,e=0,h=0,n=0;n<c;n++){var f=b[n],m=b[(n+1)%c],k=2,a=a+(f[0]*m[1]-m[0]*f[1]);2<f.length&&2<m.length&&d&&(e+=f[0]*m[2]-m[0]*f[2],k=3);f.length>k&&m.length>k&&g&&(h+=f[0]*m[k]-m[0]*f[k])}return 0>=a&&0>=e&&0>=h};b.getRingArea=function(b){for(var g=
b.length,d=0,c=0;c<g;c++)var a=b[c],e=b[(c+1)%g],d=d+(a[0]*e[1]-e[0]*a[1]);return d};b.unnormalizeGeometryOnDatelineCrossing=function(b){if("polygon"!==b.type&&"polyline"!==b.type)return b;l("polygon"===b.type?b.rings:b.paths,b.spatialReference);return b};b.unnormalizeVerticesOnDatelineCrossing=l;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(b,g,d,c){var a=Infinity,e=-Infinity;b.forEach(function(b){for(var h=b.pos[0];h<g;)h+=c;for(;h>d;)h-=c;a=Math.min(a,h);e=Math.max(e,h);b.unnormalizedPos[0]=
h;b.unnormalizedPos[1]=b.pos[1]});var h=e-a;c-h<h&&b.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=c)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(q,b,p){function f(c,a,b){void 0===a&&(a=!1);void 0===b&&(b=!1);return a?b?{xmin:c[0],ymin:c[1],zmin:c[2],mmin:c[3],xmax:c[4],ymax:c[5],zmax:c[6],mmax:c[7]}:{xmin:c[0],ymin:c[1],zmin:c[2],xmax:c[3],ymax:c[4],zmax:c[5]}:b?{xmin:c[0],ymin:c[1],mmin:c[2],xmax:c[3],ymax:c[4],
mmax:c[5]}:{xmin:c[0],ymin:c[1],xmax:c[2],ymax:c[3]}}function k(c){var a=c.hasZ,b=c.hasM;return f(p.getPointsBounds(d,c.points,a,b),a,b)}function l(c){var a=c.x,b=c.y,d=c.z;c=c.m;var n=null!=c;return null!=d?n?{xmin:a,ymin:b,zmin:d,mmin:c,xmax:a,ymax:b,zmax:d,mmax:c}:{xmin:a,ymin:b,zmin:d,xmax:a,ymax:b,zmax:d}:n?{xmin:a,ymin:b,mmin:c,xmax:a,ymax:b,mmax:c}:{xmin:a,ymin:b,xmax:a,ymax:b}}function m(c){var a=c.hasZ,b=c.hasM;return f(p.getRingsOrPathsBounds(d,c.rings,a,b),a,b)}function g(c){var a=c.hasZ,
b=c.hasM;return f(p.getRingsOrPathsBounds(d,c.paths,a,b),a,b)}Object.defineProperty(b,"__esModule",{value:!0});var d=[];b.getGeometryExtent=function(c){return c?void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax?c:void 0!==c.x&&void 0!==c.y?l(c):void 0!==c.rings?m(c):void 0!==c.paths?g(c):void 0!==c.points?k(c):null:null};b.getMultipointExtent=k;b.getPointExtent=l;b.getPolygonExtent=m;b.getPolylineExtent=g})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],
function(q,b){function p(b){return function(c,a){return null==c?a:null==a?c:b(c,a)}}function f(b,c,a,e){var d=a?3:2;if(!c.length||!c[0].length)return null;for(var n=c[0][0],f=n[0],n=n[1],k=c[0][0],l=k[0],k=k[1],p=void 0,q=void 0,D=void 0,B=void 0,x=0;x<c.length;x++)for(var y=c[x],C=0;C<y.length;C++){var v=y[C],z=v[0],E=v[1],f=m(f,z),n=m(n,E),l=g(l,z),k=g(k,E);a&&2<v.length&&(z=v[2],p=m(p,z),q=g(q,z));e&&v.length>d&&(B=v[d],D=m(p,B),B=g(q,B))}if(a){if(e)return b[0]=f,b[1]=n,b[2]=p,b[3]=D,b[4]=l,b[5]=
k,b[6]=q,b[7]=B,b.length=8,b;b[0]=f;b[1]=n;b[2]=p;b[3]=l;b[4]=k;b[5]=q;b.length=6;return b}if(e)return b[0]=f,b[1]=n,b[2]=D,b[3]=l,b[4]=k,b[5]=B,b.length=6,b;b[0]=f;b[1]=n;b[2]=l;b[3]=k;b.length=4;return b}function k(b,c,a,e,h,n){a=c.xmin;e=c.xmax;var d=c.ymin,g=c.ymax,f=c.zmin,m=c.zmax,k=c.mmin;c=c.mmax;if(h){f=f||0;m=m||0;if(n)return b[0]=a,b[1]=d,b[2]=f,b[3]=k||0,b[4]=e,b[5]=g,b[6]=m,b[7]=c||0,b;b[0]=a;b[1]=d;b[2]=f;b[3]=e;b[4]=g;b[5]=m;return b}if(n)return b[0]=a,b[1]=d,b[2]=k||0,b[3]=e,b[4]=
g,b[5]=c||0,b;b[0]=a;b[1]=d;b[2]=e;b[3]=g;return b}function l(b,c,a,e,h,n){var d=a?3:2;e=e&&n;a=a&&h;if(!c.length||!c[0].length)return null;for(var f=c[0],k=f[0],f=f[1],l=c[0],p=l[0],l=l[1],q=void 0,B=void 0,x=void 0,y=void 0,C=0;C<c.length;C++){var v=c[C],z=v[0],E=v[1],k=m(k,z),f=m(f,E),p=g(p,z),l=g(l,E);a&&2<v.length&&(z=v[2],q=m(q,z),B=g(B,z));e&&v.length>d&&(y=v[d],x=m(q,y),y=g(B,y))}if(h){q=q||0;B=B||0;if(n)return b[0]=k,b[1]=f,b[2]=q,b[3]=x||0,b[4]=p,b[5]=l,b[6]=B,b[7]=y||0,b;b[0]=k;b[1]=f;
b[2]=q;b[3]=p;b[4]=l;b[5]=B;return b}if(n)return b[0]=k,b[1]=f,b[2]=x||0,b[3]=p,b[4]=l,b[5]=y||0,b;b[0]=k;b[1]=f;b[2]=p;b[3]=l;return b}Object.defineProperty(b,"__esModule",{value:!0});var m=p(Math.min),g=p(Math.max);b.getBoundsXY=function(b,c){if(void 0!==c.paths)return f(b,c.paths,!1,!1);if(void 0!==c.rings)return f(b,c.rings,!1,!1);if(void 0!==c.points)return l(b,c.points,!1,!1,!1,!1);if(void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax)return k(b,c);void 0!==c.x&&void 0!==c.y&&
(b[0]=c.x,b[1]=c.y,b[2]=c.x,b[3]=c.y);return b};b.getRingsOrPathsBounds=f;b.getExtentBounds=k;b.getPointsBounds=l;b.getPointsBoundsWidth=function(b){if(!b.length||!b[0].length)return null;for(var c=b[0][0],a=b[0][0],e=0;e<b.length;e++)var d=b[e][0],c=m(c,d),a=g(a,d);return a-c};b.getPointsBoundsCenterX=function(b){if(!b.length||!b[0].length)return null;for(var c=b[0][0],a=b[0][0],e=0;e<b.length;e++)var d=b[e][0],c=m(c,d),a=g(a,d);return c+.5*(a-c)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){q=function(b){function h(){for(var a=0;a<arguments.length;a++);a=b.call(this)||this;a.paths=[];a.type="polyline";return a}p(h,b);g=h;h.prototype.normalizeCtorArgs=function(a,b){var e=null,d,h,n=null;a&&!Array.isArray(a)?(e=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,h=a.hasM):e=a;e=e||[];b=b||c.WGS84;e.length&&e[0]&&null!=e[0][0]&&"number"===typeof e[0][0]&&(e=[e]);if(n=e[0]&&e[0][0])void 0===d&&void 0===h?(d=2<n.length,
h=!1):void 0===d?d=!h&&3<n.length:void 0===h&&(h=!d&&3<n.length);return{paths:e,spatialReference:b,hasZ:d,hasM:h}};Object.defineProperty(h.prototype,"extent",{get:function(){var b=this.spatialReference,c=new m(a.getPolylineExtent(this));c.spatialReference=b;return c},enumerable:!0,configurable:!0});h.prototype.writePaths=function(a,b,c,e){b.paths=k.clone(this.paths)};h.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=
[],d=0,h=a.length;d<h;d++)e[d]=a[d].toArray();b[c]=e}return this}};h.prototype.clone=function(){var a=new g;a.spatialReference=this.spatialReference;a.paths=k.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};h.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new d(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new d(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new d(a[0],a[1],a[2],a[3],this.spatialReference):
new d(a[0],a[1],this.spatialReference)};h.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();e.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};h.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new d(a,b)})};h.prototype.removePoint=function(a,b){if(!this._validateInputs(a,
b))return null;this.clearCache();return new d(this.paths[a].splice(b,1)[0],this.spatialReference)};h.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();e.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};h.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};h.prototype.toJSON=function(a){return this.write(null,
a)};var g;f([l.property({dependsOn:["hasM","hasZ","paths"]})],h.prototype,"cache",void 0);f([l.property({dependsOn:["cache"],readOnly:!0})],h.prototype,"extent",null);f([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],h.prototype,"paths",void 0);f([l.writer("paths")],h.prototype,"writePaths",null);return h=g=f([l.subclass("esri.geometry.Polyline")],h)}(l.declared(g));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(q,b,p,f,k,l,m){function g(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function d(a){return void 0!==a.points}function c(a){return void 0!==a.x&&void 0!==a.y}function a(a){return void 0!==a.paths}function e(a){return void 0!==a.rings}function h(b){return b?c(b)?k.fromJSON(b):a(b)?m.fromJSON(b):e(b)?l.fromJSON(b):d(b)?f.fromJSON(b):g(b)?p.fromJSON(b):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(t){console.warn(t.stack)}return h(a)};b.isExtent=g;b.isMultipoint=d;b.isPoint=c;b.isPolyline=a;b.isPolygon=e;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=h;b.getJsonType=function(b){return b?c(b)?"esriGeometryPoint":a(b)?"esriGeometryPolyline":e(b)?"esriGeometryPolygon":g(b)?"esriGeometryEnvelope":d(b)?"esriGeometryMultipoint":null:null};var n={esriGeometryPoint:k,esriGeometryPolyline:m,esriGeometryPolygon:l,esriGeometryEnvelope:p,esriGeometryMultipoint:f};b.getGeometryType=
function(a){return a&&n[a]||null}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(q,b,p,f,k,l,m,g,d,c,a,e,h,n){q=function(b){function d(a,c,e,d){a=b.call(this,a,c,e,d)||this;a.layer=null;a.popupTemplate=
null;a.sourceLayer=null;Object.defineProperty(a,"uid",{value:r.generateUID()});return a}f(d,b);r=d;d.prototype.normalizeCtorArgs=function(a,b,c,e){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:e}};Object.defineProperty(d.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"geometry",{set:function(a){var b=this._get("geometry");
b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});d.prototype.getEffectivePopupTemplate=
function(b){void 0===b&&(b=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:b&&a.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};d.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};d.prototype.setAttribute=function(a,b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c=
{},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};d.prototype.toJSON=function(){return{geometry:this.geometry&&this.geometry.toJSON(),symbol:this.symbol&&this.symbol.toJSON(),attributes:p({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};d.prototype.clone=function(){return new r({attributes:c.clone(this.attributes),geometry:this.geometry&&this.geometry.clone()||null,layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,
symbol:this.symbol&&this.symbol.clone()||null,visible:this.visible})};d.prototype._notifyLayer=function(a,b,c,e){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=e),this.layer.graphicChanged(b))};var r;k([e.property({value:null})],d.prototype,"attributes",null);k([e.property({value:null,types:l.geometryTypes,json:{read:h.fromJSON}})],d.prototype,"geometry",null);k([e.property()],d.prototype,"layer",void 0);k([e.property({type:m})],
d.prototype,"popupTemplate",void 0);k([e.property()],d.prototype,"sourceLayer",void 0);k([e.property({value:null,types:g.symbolTypes,json:{read:n.read}})],d.prototype,"symbol",null);k([e.property({type:Boolean,value:!0,set:function(a){}})],d.prototype,"visible",null);return d=r=k([e.subclass("esri.Graphic")],d)}(e.declared(d));var r=0;(function(a){a.generateUID=function(){return r++}})(q||(q={}));return q})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u,w,F,D,B,x,y,C,v,z,E,H,A,G,I){var J=c.ofType({key:"type",defaultKeyValue:"button",base:A,typeMap:{button:G,toggle:I}}),K={base:C,key:"type",typeMap:{media:z,text:E,attachments:y,fields:v}},L=h.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}f(b,a);h=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return t.ensureOneOfType(K,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||n.isThenable(a))return a;L.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){var c=b.description,e=b.mediaInfos;a=b.popupElements;b=b.showAttachments;if(Array.isArray(a)&&0<a.length)return a.map(function(a){if("media"===
a.type)return!a.mediaInfos&&e&&(a.mediaInfos=e),z.fromJSON(a);if("text"===a.type)return!a.text&&c&&(a.text=c),E.fromJSON(a);if("attachments"===a.type)return y.fromJSON(a);if("fields"===a.type)return v.fromJSON(a)}).filter(Boolean);a=[];c?a.push(new E({text:c})):a.push(new v);Array.isArray(e)&&e.length&&a.push(z.fromJSON({mediaInfos:e}));b&&a.push(y.fromJSON({displayType:"list"}));return a.length?a:c};b.prototype.writeContent=function(a,b){b.showAttachments=!1;"string"===typeof a?b.description=a:Array.isArray(a)&&
(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"!==a.type||b.showAttachments?"media"!==a.type||b.mediaInfos?"text"!==a.type||b.description||(a.text&&(b.description=a.text),delete a.text):(a.mediaInfos&&(b.mediaInfos=e.clone(a.mediaInfos)),delete a.mediaInfos):b.showAttachments=!0}))};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=a&&null!==a.showNoDataRecords?a.toJSON():null};b.prototype.writeTitle=function(a,b){b.title=a||""};
b.prototype.clone=function(){var a=this.actions,a=a?e.clone(a.toArray()):[];return new h({actions:a,content:Array.isArray(this.content)?e.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?e.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?e.clone(this.fieldInfos):null,layerOptions:this.layerOptions?e.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?e.clone(this.outFields):
null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?e.clone(this.relatedRecordsInfo):null})};b.prototype.collectRequiredFields=function(a,b){return m(this,void 0,void 0,function(){return l(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),u.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),
[2]}})})};b.prototype.getRequiredFields=function(a){return m(this,void 0,void 0,function(){var b;return l(this,function(c){switch(c.label){case 0:return b=new d.default,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,g.from(b).sort()]}})})};b.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,
c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},e=c.fields,d=void 0===e?[]:e,e=c.normalizeField,h=c.tooltipField,n=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(n),this._extractFieldNames(c),d);e&&a.push(e);h&&a.push(h);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===
typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return m(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return c?[4,n.all(c.map(function(c){return u.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return e.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?
!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};
b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var h;k([r.property({type:J})],b.prototype,"actions",void 0);k([r.property()],
b.prototype,"content",void 0);k([r.cast("content")],b.prototype,"castContent",null);k([r.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);k([r.writer("content",{popupElements:{type:c.ofType(w.types)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(H.types)},description:{type:String}})],b.prototype,"writeContent",null);k([r.property({type:[F],json:{write:!0}})],b.prototype,"expressionInfos",void 0);k([r.property({type:[D],json:{write:!0}})],
b.prototype,"fieldInfos",void 0);k([r.property({type:B})],b.prototype,"layerOptions",void 0);k([r.writer("layerOptions")],b.prototype,"writeLayerOptions",null);k([r.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);k([r.property()],b.prototype,"outFields",void 0);k([r.property()],b.prototype,"overwriteActions",void 0);k([r.property({json:{type:String}})],b.prototype,"title",void 0);k([r.writer("title")],
b.prototype,"writeTitle",null);k([r.property({type:x,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=h=k([r.subclass("esri.PopupTemplate")],b)}(r.declared(a))})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(q,b){function p(b){return function(a){return f([b,a])}}function f(c){if(l)throw new TypeError("Generator is already executing.");for(;k;)try{if(l=1,m&&(g=c[0]&2?m["return"]:c[0]?m["throw"]||((g=m["return"])&&g.call(m),0):m.next)&&!(g=
g.call(m,c[1])).done)return g;if(m=0,g)c=[c[0]&2,g.value];switch(c[0]){case 0:case 1:g=c;break;case 4:return k.label++,{value:c[1],done:!1};case 5:k.label++;m=c[1];c=[0];continue;case 7:c=k.ops.pop();k.trys.pop();continue;default:if(!(g=k.trys,g=0<g.length&&g[g.length-1])&&(6===c[0]||2===c[0])){k=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3]))k.label=c[1];else if(6===c[0]&&k.label<g[1])k.label=g[1],g=c;else if(g&&k.label<g[2])k.label=g[2],k.ops.push(c);else{g[2]&&k.ops.pop();k.trys.pop();continue}}c=
b.call(q,k)}catch(a){c=[6,a],m=0}finally{l=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var k={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},l,m,g,d;return d={next:p(0),"throw":p(1),"return":p(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(q){return function(b,p,f,k){var l=null;return q.create(function(f,g){function d(b){try{a(k.next(b))}catch(h){g(h)}}
function c(b){try{a(k["throw"](b))}catch(h){g(h)}}function a(a){a.done?(l=q.when(a.value),l.then(f,g)):(l=q.when(a.value),l.then(d,c))}a((k=k.apply(b,p||[])).next())},function(b){l&&l.cancel(b)})}})},"@dojo/framework/shim/Set":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),q)})(function(q,
b){Object.defineProperty(b,"__esModule",{value:!0});var p=q("tslib"),f=q("./global"),k=q("./iterator"),l=q("../has/has");q("./Symbol");b.Set=f.default.Set;l.default("es6-set")||(b.Set=(m=function(){function b(b){this._setData=[];this[Symbol.toStringTag]="Set";if(b)if(k.isArrayLike(b))for(var c=0;c<b.length;c++)this.add(b[c]);else try{for(var c=p.__values(b),a=c.next();!a.done;a=c.next())this.add(a.value)}catch(n){e={error:n}}finally{try{a&&!a.done&&(d=c.return)&&d.call(c)}finally{if(e)throw e.error;
}}var e,d}b.prototype.add=function(b){if(this.has(b))return this;this._setData.push(b);return this};b.prototype.clear=function(){this._setData.length=0};b.prototype.delete=function(b){b=this._setData.indexOf(b);if(-1===b)return!1;this._setData.splice(b,1);return!0};b.prototype.entries=function(){return new k.ShimIterator(this._setData.map(function(b){return[b,b]}))};b.prototype.forEach=function(b,c){for(var a=this.values(),e=a.next();!e.done;)b.call(c,e.value,e.value,this),e=a.next()};b.prototype.has=
function(b){return-1<this._setData.indexOf(b)};b.prototype.keys=function(){return new k.ShimIterator(this._setData)};Object.defineProperty(b.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});b.prototype.values=function(){return new k.ShimIterator(this._setData)};b.prototype[Symbol.iterator]=function(){return new k.ShimIterator(this._setData)};return b}(),m[Symbol.species]=m,m));b.default=b.Set;var m})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./ArrayPool ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){function h(a){return a?a.isInstanceOf&&a.isInstanceOf(C):!1}function n(a){return a?h(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function r(a){if(a&&a.length)return a[0]}function t(a,b,c,e){b&&b.forEach(function(b,d,h){a.push(b);t(a,c.call(e,b,d,h),c,e)})}q=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=
!1;this.item=a};return a}();var u=function(){},w=new d(q,!0,function(a){a.item=null;a.target=null}),F=new Set,D=new Set,B=new Set,x=new Map,y=0,C=function(b){function d(a){a=b.call(this,a)||this;a._boundDispatch=a._dispatchColChange.bind(a);a._chgListeners=[];a._notifications=null;a._timer=null;a.length=0;a._items=[];Object.defineProperty(a,"uid",{value:y++});return a}p(d,b);m=d;d.ofType=function(a){if(!a)return m;if(x.has(a))return x.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;
else if(a.base)b=a.base.prototype.declaredClass;else for(var c in a.typeMap){var d=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+d):d}b=m.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=h;c={Type:a,ensureType:"function"===typeof a?e.ensureType(a):e.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:c});x.set(a,b);return b};d.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||h(a)?{items:a}:a:{}};Object.defineProperty(d.prototype,
"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(n(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});d.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,e={removed:!1,callback:b};c.push(e);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=u;e.removed=!0;c.splice(c.indexOf(e),1)}}}return this._emitter.on(a,
b)};d.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};d.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};d.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(n(a)));this._emitAfterChanges();return this};
d.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};d.prototype.clone=function(){return this._createNewInstance({items:this._items.map(g.clone)})};d.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(n);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};d.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=
this._splice(0,this.length),e=c.length,d=0;d<e;d++)a.call(b,c[d],d,c);this._emitAfterChanges()}};d.prototype.every=function(a,b){return this._items.every(a,b)};d.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};d.prototype.find=function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,e=c.length,d=0;d<e;d++){var h=c[d];if(a.call(b,h,d,c))return h}};d.prototype.findIndex=
function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,e=c.length,d=0;d<e;d++)if(a.call(b,c[d],d,c))return d;return-1};d.prototype.flatten=function(a,b){var c=[];t(c,this,a,b);return new m(c)};d.prototype.forEach=function(a,b){return this._items.forEach(a,b)};d.prototype.getItemAt=function(a){return this._items[a]};d.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};d.prototype.includes=function(a,b){void 0===
b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};d.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};d.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};d.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};d.prototype.map=function(a,b){a=this._items.map(a,b);return new m({items:a})};d.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==
c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};d.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=r(this._splice(this.length-1,1));this._emitAfterChanges();return a}};d.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();
return this.length};d.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};d.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};d.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};d.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=r(this._splice(a,1)),this._emitAfterChanges(),a};d.prototype.removeMany=function(a){if(!a||
!a.length||this._emitBeforeChanges())return[];a=h(a)?a.toArray():a;for(var b=this._items,c=[],e=a.length,d=0;d<e;d++){var n=b.indexOf(a[d]);if(-1<n){for(var g=d+1,f=n+1,m=Math.min(a.length-g,b.length-f),k=0;k<m&&a[g+k]===b[f+k];)k++;g=1+k;(n=this._splice(n,g))&&0<n.length&&c.push.apply(c,n);d+=g-1}}this._emitAfterChanges();return c};d.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();
return this};d.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=r(this._splice(0,1));this._emitAfterChanges();return a}};d.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};d.prototype.some=function(a,b){return this._items.some(a,b)};d.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();
this._splice.apply(this,[0,0].concat(b));return this};d.prototype.splice=function(a,b){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};d.prototype.toArray=function(){return this._items.slice()};d.prototype.toJSON=function(){return this.toArray()};d.prototype.toLocaleString=function(){return this._items.toLocaleString()};d.prototype.toString=function(){return this._items.toString()};
d.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};d.prototype._createNewInstance=function(a){return new this.constructor(a)};d.prototype._splice=function(a,b){for(var e=[],d=2;d<arguments.length;d++)e[d-2]=arguments[d];var d=this._items,h=this.constructor.prototype.itemType,n,g;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=c.schedule(this._boundDispatch));if(b){g=d.splice(a,b);if(this.hasEventListener("before-remove")){var f=w.acquire();f.target=this;f.cancellable=!0;for(var m=0,k=g.length;m<k;m++)n=g[m],f.reset(n),this.emit("before-remove",f),f.defaultPrevented&&(g.splice(m,1),d.splice(a,0,n),a+=1,--m,--k);w.release(f)}this.length=this._items.length;if(this.hasEventListener("after-remove")){n=
w.acquire();n.target=this;n.cancellable=!1;k=g.length;for(m=0;m<k;m++)n.reset(g[m]),this.emit("after-remove",n);w.release(n)}}if(e&&e.length){if(h){m=[];for(k=0;k<e.length;k++)n=e[k],f=h.ensureType(n),null==f&&null!=n||m.push(f);e=m}h=this.hasEventListener("before-add");m=this.hasEventListener("after-add");k=a===this.length;if(h||m){n=w.acquire();n.target=this;n.cancellable=!0;f=w.acquire();f.target=this;f.cancellable=!1;for(var l=0,r=e;l<r.length;l++){var p=r[l];h?(n.reset(p),this.emit("before-add",
n),n.defaultPrevented||(k?d.push(p):d.splice(a++,0,p),this._set("length",d.length),m&&(f.reset(p),this.emit("after-add",f)))):(k?d.push(p):d.splice(a++,0,p),this._set("length",d.length),f.reset(p),this.emit("after-add",f))}w.release(f);w.release(n)}else k?d.push.apply(d,e):d.splice.apply(d,[a,0].concat(e)),this._set("length",d.length)}(e&&e.length||g&&g.length)&&this._notifyChangeEvent(e,g);return g};d.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=
w.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;w.release(b)}return a};d.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=w.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",a);w.release(a)}};d.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};d.prototype._dispatchColChange=function(){this._timer&&
(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;F.clear();D.clear();B.clear();for(var e=0;e<b.length;e++){var d=b[e],h=d.added,d=d.removed;if(h)if(0===B.size&&0===D.size)for(var n=0,g=h;n<g.length;n++)h=g[n],F.add(h);else for(n=0,g=h;n<g.length;n++)h=g[n],D.has(h)?(B.add(h),D.delete(h)):B.has(h)||F.add(h);if(d)if(0===B.size&&0===F.size)for(n=0;n<d.length;n++)h=d[n],D.add(h);else for(n=0;n<d.length;n++)h=
d[n],F.has(h)?F.delete(h):(B.delete(h),D.add(h))}var f=l.acquire();F.forEach(function(a){f.push(a)});var m=l.acquire();D.forEach(function(a){m.push(a)});var k=c._items,r=a.items,p=l.acquire();B.forEach(function(a){r.indexOf(a)!==k.indexOf(a)&&p.push(a)});if(a.listeners&&(f.length||m.length||p.length))for(b={target:c,added:f,removed:m,moved:p},e=a.listeners.length,h=0;h<e;h++)d=a.listeners[h],d.removed||d.callback.call(c,b);l.release(f);l.release(m);l.release(p)},c=this,e=0;e<a.length;e++)b(a[e]);
F.clear();D.clear();B.clear()}};var m;d.isCollection=h;f([a.property()],d.prototype,"length",void 0);f([a.property()],d.prototype,"items",null);return d=m=f([a.subclass("esri.core.Collection")],d)}(a.declared(k,m));return C})},"esri/core/Evented":function(){define(["require","exports","./tsSupport/extendsHelper","@dojo/framework/shim/Map"],function(q,b,p,f){var k=function(){function b(b){this.target=b}b.prototype.emit=function(b,g){var d=this;b=this._listenersMap&&this._listenersMap.get(b);if(!b)return!1;
g=g||{};g.target||(g.target=this.target);b.slice().forEach(function(b){b.call(d.target,g)});return 0<b.length};b.prototype.on=function(b,g){var d=this;if(Array.isArray(b)){var c=b.map(function(a){return d.on(a,g)});return{remove:function(){return c.forEach(function(a){return a.remove()})}}}if(-1<b.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new f.default);var a=this._listenersMap.get(b)||[];
a.push(g);this._listenersMap.set(b,a);return{remove:function(){var a=d._listenersMap.get(b)||[];a.splice(a.indexOf(g),1)}}};b.prototype.once=function(b,g){var d=this,c;return c=this.on(b,function(a){c.remove();g.call(d.target,a)})};b.prototype.hasEventListener=function(b){b=this._listenersMap&&this._listenersMap.get(b);return null!=b&&0<b.length};return b}();q=function(){function b(){this._emitter=new k(this)}b.prototype.emit=function(b,g){return this._emitter.emit(b,g)};b.prototype.on=function(b,
g){return this._emitter.on(b,g)};b.prototype.once=function(b,g){return this._emitter.once(b,g)};b.prototype.hasEventListener=function(b){return this._emitter.hasEventListener(b)};return b}();(function(b){b.EventedMixin=function(b){return function(b){function d(){return null!==b&&b.apply(this,arguments)||this}p(d,b);d.prototype.emit=function(b,a){return this._emitter.emit(b,a)};d.prototype.on=function(b,a){return this._emitter.on(b,a)};d.prototype.once=function(b,a){return this._emitter.once(b,a)};
d.prototype.hasEventListener=function(b){return this._emitter.hasEventListener(b)};return d}(b)}})(q||(q={}));return q})},"@dojo/framework/shim/Map":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),q)})(function(q,b){Object.defineProperty(b,"__esModule",{value:!0});var p=q("tslib"),
f=q("./iterator"),k=q("./global"),l=q("./object"),m=q("../has/has");q("./Symbol");b.Map=k.default.Map;m.default("es6-map")||(b.Map=(g=function(){function b(b){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(b)if(f.isArrayLike(b))for(var a=0;a<b.length;a++){var c=b[a];this.set(c[0],c[1])}else try{for(var a=p.__values(b),d=a.next();!d.done;d=a.next())c=d.value,this.set(c[0],c[1])}catch(t){n={error:t}}finally{try{d&&!d.done&&(g=a.return)&&g.call(a)}finally{if(n)throw n.error;}}var n,
g}b.prototype._indexOfKey=function(b,a){for(var c=0,d=b.length;c<d;c++)if(l.is(b[c],a))return c;return-1};Object.defineProperty(b.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});b.prototype.clear=function(){this._keys.length=this._values.length=0};b.prototype.delete=function(b){b=this._indexOfKey(this._keys,b);if(0>b)return!1;this._keys.splice(b,1);this._values.splice(b,1);return!0};b.prototype.entries=function(){var b=this,a=this._keys.map(function(a,c){return[a,
b._values[c]]});return new f.ShimIterator(a)};b.prototype.forEach=function(b,a){for(var c=this._keys,d=this._values,n=0,g=c.length;n<g;n++)b.call(a,d[n],c[n],this)};b.prototype.get=function(b){b=this._indexOfKey(this._keys,b);return 0>b?void 0:this._values[b]};b.prototype.has=function(b){return-1<this._indexOfKey(this._keys,b)};b.prototype.keys=function(){return new f.ShimIterator(this._keys)};b.prototype.set=function(b,a){var c=this._indexOfKey(this._keys,b),c=0>c?this._keys.length:c;this._keys[c]=
b;this._values[c]=a;return this};b.prototype.values=function(){return new f.ShimIterator(this._values)};b.prototype[Symbol.iterator]=function(){return this.entries()};return b}(),g[Symbol.species]=g,g));b.default=b.Map;var g})},"@dojo/framework/shim/object":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],q)})(function(q,
b){Object.defineProperty(b,"__esModule",{value:!0});var p=q("./global"),f=q("../has/has"),k=q("./Symbol");f.default("es6-object")?(q=p.default.Object,b.assign=q.assign,b.getOwnPropertyDescriptor=q.getOwnPropertyDescriptor,b.getOwnPropertyNames=q.getOwnPropertyNames,b.getOwnPropertySymbols=q.getOwnPropertySymbols,b.is=q.is,b.keys=q.keys):(b.keys=function(b){return Object.keys(b).filter(function(b){return!b.match(/^@@.+/)})},b.assign=function(f){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];
if(null==f)throw new TypeError("Cannot convert undefined or null to object");var d=Object(f);m.forEach(function(c){c&&b.keys(c).forEach(function(a){d[a]=c[a]})});return d},b.getOwnPropertyDescriptor=function(b,f){k.isSymbol(f);return Object.getOwnPropertyDescriptor(b,f)},b.getOwnPropertyNames=function(b){return Object.getOwnPropertyNames(b).filter(function(b){return!b.match(/^@@.+/)})},b.getOwnPropertySymbols=function(b){return Object.getOwnPropertyNames(b).filter(function(b){return!!b.match(/^@@.+/)}).map(function(b){return Symbol.for(b.substring(2))})},
b.is=function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f});f.default("es2017-object")?(q=p.default.Object,b.getOwnPropertyDescriptors=q.getOwnPropertyDescriptors,b.entries=q.entries,b.values=q.values):(b.getOwnPropertyDescriptors=function(f){return b.getOwnPropertyNames(f).reduce(function(k,g){k[g]=b.getOwnPropertyDescriptor(f,g);return k},{})},b.entries=function(f){return b.keys(f).map(function(b){return[b,f[b]]})},b.values=function(f){return b.keys(f).map(function(b){return f[b]})})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../../core/Error ../../core/object ../../core/promiseUtils ./domains".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a){function e(a,b,c){if(a)for(var e=0;e<a.length;e++){var h=a[e],n=d.getDeepValue(h,b);(n=n&&"function"!==typeof n&&t(c,n))&&d.setDeepValue(h,n.name,b)}}function h(a,b){if(!a||!b)return[];J.clear();n(J,a,b);return l.from(J).sort()}function n(a,b,c){if(c)if(b&&b.length)if(l.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var e=0;e<c.length;e++)d=c[e],r(a,b,d);else if(l.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var d=c[b];a.add(d)}}
function r(a,b,c){b&&b.length?(b=t(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function t(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.name.toLowerCase()===b)return e}}return null}function u(a,b,e){return k(this,void 0,void 0,function(){var d,h,n,g,k;return f(this,function(f){switch(f.label){case 0:return e?[4,c.create(function(a){q(["../../support/arcadeUtils"],function(b){a(b)})})]:[2];case 1:d=f.sent();h=d.extractFieldNames(e);
n=0;for(g=h;n<g.length;n++)k=g[n],r(a,b,k);return[2]}})})}function w(a,b){return k(this,void 0,void 0,function(){var c,e;return f(this,function(h){if(!b)return[2];c=b.fields;return(e=d.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,e.collectRequiredFields(a,c)]:[2]})})}function F(a,b){return k(this,void 0,void 0,function(){var e,d;return f(this,function(h){switch(h.label){case 0:return e=b.labelingInfo,d=b.fields,e&&e.length?[4,c.all(e.map(function(b){return D(a,d,b)}))]:[2];case 1:return h.sent(),
[2]}})})}function D(a,b,c){return k(this,void 0,void 0,function(){var e,d,h,n,g;return f(this,function(f){switch(f.label){case 0:if(!c)return[2];e=c.getLabelExpression();d=c.where;return"arcade"!==e.type?[3,2]:[4,u(a,b,e.expression)];case 1:return f.sent(),[3,3];case 2:(h=e.expression.match(/{[^}]*}/g))&&h.forEach(function(c){r(a,b,c.slice(1,-1))}),f.label=3;case 3:return n=/['"]+/g,d&&(g=d.split(" "),3===g.length&&r(a,b,g[0].replace(n,"")),7===g.length&&(r(a,b,g[0].replace(n,"")),r(a,b,g[4].replace(n,
"")))),[2]}})})}function B(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function x(a){return null===a||B(a)}function y(a){return null===a||K(a)}function C(a){return null!=a&&"string"===typeof a}function v(a){return null===a||C(a)}function z(a){return!0}function E(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?y:K;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?x:B;break;case "string":case "esriFieldTypeString":c=a.nullable?v:C;break;default:c=z}return 1===arguments.length?c:c(b)}function H(a){return null!=a&&L.has(a.type)}function A(b,c){return b.nullable&&null===c?null:H(b)&&!G(b.type,c)?O.OUT_OF_RANGE:E(b,c)?b.domain?a.validateDomainValue(b.domain,c):null:N.INVALID_TYPE}function G(a,b){return(a="string"===typeof a?I(a):a)?a.isInteger?K(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function I(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=
function(a,c){if(null!=a&&null!=c){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var h=a[d];e(b.rendererFields,h,c);if("visualVariables"in h&&h.visualVariables)for(var n=0,h=h.visualVariables;n<h.length;n++)e(b.visualVariableFields,h[n],c)}}};b.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=t(b,a.startField);b=t(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=t(b,a.startTimeField),b=t(b,a.endTimeField),a.startTimeField=c&&c.name||
null,a.endTimeField=b&&b.name||null};var J=new m.default;b.fixFields=h;b.collectFields=n;b.collectField=r;b.unpackFieldNames=function(a,b){return b&&a?l.includes(b,"*")?a.map(function(a){return a.name}):b:[]};b.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(l.includes(b,"*"))return["*"];b=h(a,b);return b.length/a.length>=c?["*"]:b};b.getField=t;b.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.name.toLowerCase()===
b)return!0}return!1};b.collectArcadeFieldNames=u;b.getElevationFields=function(a){return k(this,void 0,void 0,function(){var b;return f(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new m.default;return[4,w(b,a)];case 1:return c.sent(),[2,l.from(b).sort()]}})})};b.collectElevationFields=w;b.collectFilterFields=function(a,b,e){return k(this,void 0,void 0,function(){var d,h;return f(this,function(f){switch(f.label){case 0:if(!b||!e||!(e.where&&"1\x3d1"!==e.where||e.timeExtent))return[2];
b.timeInfo&&e.timeExtent&&n(a,b.fields,[b.timeInfo.startField,b.timeInfo.endField]);return e.where?[4,c.create(function(a){q(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:d=f.sent();h=d.create(e.where);if(!h.isStandardized())return[2,c.reject(new g("fieldUtils:collectFilterFields","Where clause is not standardized"))];n(a,b.fields,h.getFields());f.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return k(this,void 0,void 0,function(){var b;return f(this,function(c){return a?(b="timeInfo"in
a&&a.timeInfo)?[2,h(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?h(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?h(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};b.getLabelingFields=function(a){return k(this,
void 0,void 0,function(){var b;return f(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new m.default;return[4,F(b,a)];case 1:return c.sent(),[2,l.from(b).sort()]}})})};b.collectLabelingFields=F;b.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&E(a,b))return b;if(a.nullable)return null};var K=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=E;b.numericTypes=
["integer","small-integer","single","double"];var L=new m.default(b.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=H;b.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=function(a,b){return null===A(a,b)};var O;(O=b.NumericRangeValidationError||(b.NumericRangeValidationError=
{})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var N;(N=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};b.validateFieldValue=A;b.isNumberInRange=G;b.getFieldRange=function(b){var c=a.getDomainRange(b.domain);if(c)return c;if(H(b))return I(b.type)};b.getNumericTypeForValue=function(a){if(!B(a))return null;if(K(a)){if(a>=b.smallIntegerRange.min&&
a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.smallIntegerRange={min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(b,
c,e){switch(b){case a.DomainValidationError.INVALID_CODED_VALUE:return"Value "+e+" is not in the coded domain - field: "+c.name+", domain: "+JSON.stringify(c.domain);case a.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+e+" is out of the range of valid values - field: "+c.name+", domain: "+JSON.stringify(c.domain);case N.INVALID_TYPE:return"Value "+e+" is not a valid value for the field type - field: "+c.name+", type: "+c.type+", nullable: "+c.nullable;case O.OUT_OF_RANGE:return b=I(c.type),
"Value "+e+" is out of range for the number type - field: "+c.name+", type: "+c.type+", value range is "+b.min+" to "+b.max}};b.featureHasFields=function(a,b){if(!b||!b.attributes||!a)return!1;b=b.attributes;for(var c=0;c<a.length;c++)if(!(a[c]in b))return!1;return!0}})},"esri/layers/support/domains":function(){define("require exports ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(q,b,p,f,k,l){function m(b,c){switch(b.type){case "range":var a="range"in b?b.range[1]:
b.maxValue;if(+c<("range"in b?b.range[0]:b.minValue)||+c>a)return g.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==b.codedValues||b.codedValues.every(function(a){return null==a||a.code!==c}))return g.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=p;b.DomainBase=f;b.InheritedDomain=k;b.RangeDomain=l;var g;(function(b){b.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";b.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(g=
b.DomainValidationError||(b.DomainValidationError={}));b.isValidDomainValue=function(b,c){return null===m(b,c)};b.validateDomainValue=m;b.types={key:"type",base:b.DomainBase,typeMap:{range:b.RangeDomain,"coded-value":b.CodedValueDomain}};b.getDomainRange=function(b){if(b&&"range"===b.type)return{min:"range"in b?b.range[0]:b.minValue,max:"range"in b?b.range[1]:b.maxValue}};b.fromJSON=function(d){return d&&d.type?"range"===d.type?b.RangeDomain.fromJSON(d):"codedValue"===d.type?b.CodedValueDomain.fromJSON(d):
null:null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./Domain".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this,a)||this;a.codedValues=null;a.type="coded-value";return a}p(d,b);c=d;d.prototype.writeCodedValues=function(a,b){var c=null;a&&(c=a.map(function(a){return k.fixJson(k.clone(a))}));b.codedValues=
c};d.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};d.prototype.clone=function(){return new c({codedValues:k.clone(this.codedValues),name:this.name})};var c;f([l.property({json:{write:!0}})],d.prototype,"codedValues",void 0);f([l.writer("codedValues")],d.prototype,"writeCodedValues",null);f([l.enumeration.serializable()({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=
c=f([l.subclass("esri.layers.support.CodedValueDomain")],d)}(l.declared(m))})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l,m){var g=new l.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(b){function c(a){a=b.call(this,a)||this;a.name=null;a.type=
null;return a}p(c,b);f([m.property({json:{write:!0}})],c.prototype,"name",void 0);f([m.property({json:{read:g.read,write:g.write}})],c.prototype,"type",void 0);return c=f([m.subclass("esri.layers.support.Domain")],c)}(m.declared(k))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=
b.call(this,c)||this;c.type="inherited";return c}p(g,b);d=g;g.prototype.clone=function(){return new d};var d;f([k.enumeration.serializable()({inherited:"inherited"})],g.prototype,"type",void 0);return g=d=f([k.subclass("esri.layers.support.InheritedDomain")],g)}(k.declared(l))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(q,b,p,
f,k,l){return function(b){function g(c){c=b.call(this,c)||this;c.maxValue=null;c.minValue=null;c.type="range";return c}p(g,b);d=g;g.prototype.clone=function(){return new d({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var d;f([k.property({json:{read:{source:"range",reader:function(b,a){return a.range&&a.range[1]}},write:{target:"range",writer:function(b,a,e){a[e]=[this.minValue,b]}}}})],g.prototype,"maxValue",void 0);f([k.property({json:{read:{source:"range",reader:function(b,a){return a.range&&
a.range[0]}},write:{target:"range",writer:function(b,a,e){a[e]=[b,this.maxValue]}}}})],g.prototype,"minValue",void 0);f([k.enumeration.serializable()({range:"range"})],g.prototype,"type",void 0);return g=d=f([k.subclass("esri.layers.support.RangeDomain")],g)}(k.declared(l))})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(q,b,p,f,k,l,m){Object.defineProperty(b,
"__esModule",{value:!0});b.AttachmentsContent=p;b.BaseContent=f;b.FieldsContent=k;b.MediaContent=l;b.TextContent=m;b.isContent=function(g){return g instanceof b.BaseContent};b.types={base:null,key:"type",typeMap:{attachment:b.AttachmentsContent,fields:b.FieldsContent,media:b.MediaContent,text:b.TextContent}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),
function(q,b,p,f,k,l,m,g){return function(b){function c(a){a=b.call(this)||this;a.attachmentInfos=null;a.displayType=null;a.type="attachments";return a}p(c,b);a=c;c.prototype.clone=function(){return new a({displayType:this.displayType,attachmentInfos:this.attachmentInfos?k.clone(this.attachmentInfos):null})};var a;f([l.property({type:[m]})],c.prototype,"attachmentInfos",void 0);f([l.property({type:String,json:{write:!0}})],c.prototype,"displayType",void 0);f([l.property({type:String,readOnly:!0,json:{read:!1,
write:!0}})],c.prototype,"type",void 0);return c=a=f([l.subclass("esri.popup.content.AttachmentsContent")],c)}(l.declared(g))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.contentType=null;a.exifInfo=null;
a.id=null;a.keywords=null;a.name=null;a.parentObjectId=null;a.size=null;a.url=null;return a}p(d,b);c=d;d.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,keywords:this.keywords,name:this.name,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var c;f([l.property({type:String})],d.prototype,"contentType",void 0);f([l.property()],d.prototype,"exifInfo",void 0);f([l.property({type:m.Integer})],d.prototype,"id",void 0);f([l.property({type:String})],
d.prototype,"keywords",void 0);f([l.property({type:String})],d.prototype,"name",void 0);f([l.property({json:{read:!1}})],d.prototype,"parentObjectId",void 0);f([l.property({type:m.Integer})],d.prototype,"size",void 0);f([l.property({json:{read:!1}})],d.prototype,"url",void 0);return d=c=f([l.subclass("esri.layers.support.AttachmentInfo")],d)}(l.declared(k))})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l){return function(b){function g(d){d=b.call(this)||this;d.type=null;return d}p(g,b);f([l.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0);return g=f([l.subclass("esri.popup.content.Content")],g)}(l.declared(k))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(q,b,p,f,k,l,m,g){return function(b){function c(a){a=b.call(this)||this;a.fieldInfos=null;a.type="fields";return a}p(c,b);a=c;c.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new a({fieldInfos:Array.isArray(this.fieldInfos)?k.clone(this.fieldInfos):null})};var a;f([l.property({type:[m]})],c.prototype,"fieldInfos",void 0);f([l.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);f([l.property({type:String,
readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=a=f([l.subclass("esri.popup.content.FieldsContent")],c)}(l.declared(g))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(q,b,p,f,k,l,m,g,d){var c=new l.default({richtext:"rich-text",textarea:"text-area",
textbox:"text-box"});return function(a){function b(b){b=a.call(this)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}p(b,a);h=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=c.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return c.fromJSON(a)};b.prototype.clone=function(){return new h({fieldName:this.fieldName,format:this.format?m.clone(this.format):null,
isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var h;f([g.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);f([g.property({type:d,json:{write:!0}})],b.prototype,"format",void 0);f([g.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);f([g.property({type:c.apiValues,
json:{write:!0,default:"text-box",type:c.jsonValues}})],b.prototype,"stringFieldOption",void 0);f([g.writer("stringFieldOption")],b.prototype,"writeStringFieldOption",null);f([g.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);f([g.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,
"visible",void 0);return b=h=f([g.subclass("esri.popup.FieldInfo")],b)}(g.declared(k))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(q,b,p,f,k,l,m,g){return function(b){function c(a){a=b.call(this)||this;a.dateFormat=null;a.digitSeparator=!1;a.places=null;return a}
p(c,b);a=c;c.prototype.clone=function(){return new a({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};var a;f([m.enumeration.serializable()(k.dictionary)],c.prototype,"dateFormat",void 0);f([m.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",void 0);f([m.property({type:g.Integer,json:{write:!0}})],c.prototype,"places",void 0);return c=a=f([m.subclass("esri.popup.support.FieldInfoFormat")],c)}(m.declared(l))})},"esri/core/date":function(){define(["require",
"exports","./kebabDictionary"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",
"short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')",
"long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')",
"day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",
"long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",
year:"(datePattern: 'y', selector: 'date')"};b.dictionary=p.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(f){return b.formats[f]}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h){return function(b){function d(a){a=b.call(this)||this;a.mediaInfos=null;a.type="media";return a}p(d,b);n=d;d.prototype.readMediaInfos=function(b){return b&&b.map(function(b){if("image"===b.type)return c.fromJSON(b);if("barchart"===b.type)return m.fromJSON(b);if("columnchart"===b.type)return g.fromJSON(b);if("linechart"===b.type)return a.fromJSON(b);if("piechart"===b.type)return e.fromJSON(b)}).filter(Boolean)};d.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};d.prototype.clone=function(){return new n({mediaInfos:this.mediaInfos?k.clone(this.mediaInfos):null})};var n;f([l.property({types:[h.types]})],d.prototype,"mediaInfos",void 0);f([l.reader("mediaInfos")],d.prototype,"readMediaInfos",null);f([l.writer("mediaInfos")],d.prototype,"writeMediaInfos",null);f([l.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=n=f([l.subclass("esri.popup.content.MediaContent")],d)}(l.declared(d))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.type="bar-chart";return a}p(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;
f([k.property({type:["bar-chart"],readOnly:!0,json:{read:!1,write:m.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=f([k.subclass("esri.popup.content.BarChartMediaInfo")],d)}(k.declared(l))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(c){c=
b.call(this)||this;c.type=null;c.value=null;return c}p(d,b);f([k.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);f([k.property({type:m,json:{write:!0}})],d.prototype,"value",void 0);return d=f([k.subclass("esri.popup.content.mixins.ChartMediaInfo")],d)}(k.declared(l))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l){return function(b){function g(d){d=b.call(this)||this;d.caption="";d.title="";d.type=null;return d}p(g,b);f([l.property({type:String,json:{write:!0}})],g.prototype,"caption",void 0);f([l.property({type:String,json:{write:!0}})],g.prototype,"title",void 0);f([l.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0);return g=f([l.subclass("esri.popup.content.mixins.MediaInfo")],g)}(l.declared(k))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(q,b,p,f,k,l,m,g){return function(b){function c(a){a=b.call(this)||this;a.fields=[];a.normalizeField=null;a.series=[];a.tooltipField=null;return a}p(c,b);a=c;c.prototype.clone=function(){return new a({fields:l.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var a;f([m.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);f([m.property({type:String,json:{write:!0}})],c.prototype,"normalizeField",void 0);f([m.property({type:[g],json:{read:!1}})],c.prototype,"series",void 0);f([m.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=a=f([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)}(m.declared(k))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.tooltip=null;c.x=null;c.y=null;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({tooltip:this.tooltip,x:this.x,y:this.y})};var d;f([l.property()],g.prototype,"tooltip",void 0);f([l.property()],g.prototype,"x",void 0);f([l.property()],g.prototype,"y",void 0);return g=d=f([l.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],g)}(l.declared(k))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/kebabDictionary"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=p.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,
b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.type="column-chart";return a}p(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;f([k.property({type:["column-chart"],readOnly:!0,json:{read:!1,write:m.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=f([k.subclass("esri.popup.content.ColumnChartMediaInfo")],d)}(k.declared(l))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.refreshInterval=null;a.type="image";a.value=null;return a}p(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;f([k.property({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0);f([k.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);f([k.property({type:m,
json:{write:!0}})],d.prototype,"value",void 0);return d=c=f([k.subclass("esri.popup.content.ImageMediaInfo")],d)}(k.declared(l))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.linkURL=null;c.sourceURL=null;return c}p(g,b);
d=g;g.prototype.clone=function(){return new d({linkURL:this.linkURL,sourceURL:this.sourceURL})};var d;f([l.property({type:String,json:{write:!0}})],g.prototype,"linkURL",void 0);f([l.property({type:String,json:{write:!0}})],g.prototype,"sourceURL",void 0);return g=d=f([l.subclass("esri.popup.content.support.ImageMediaInfoValue")],g)}(l.declared(k))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.type="line-chart";return a}p(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;f([k.property({type:["line-chart"],readOnly:!0,json:{read:!1,write:m.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=f([k.subclass("esri.popup.content.LineChartMediaInfo")],d)}(k.declared(l))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.type="pie-chart";return a}p(d,b);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;f([k.property({type:["pie-chart"],readOnly:!0,json:{read:!1,write:m.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=f([k.subclass("esri.popup.content.PieChartMediaInfo")],d)}(k.declared(l))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(q,b,p,f,k,l,m,g){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:g,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":p,"column-chart":f,"line-chart":l,"pie-chart":m,image:k}};b.default=b.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||
this;c.text=null;c.type="text";return c}p(g,b);d=g;g.prototype.clone=function(){return new d({text:this.text})};var d;f([k.property({type:String,json:{write:!0}})],g.prototype,"text",void 0);f([k.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0);return g=d=f([k.subclass("esri.popup.content.TextContent")],g)}(k.declared(l))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.name=null;c.title=null;c.expression=null;c.returnType=null;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var d;f([l.property({type:String,json:{write:!0}})],g.prototype,"name",void 0);f([l.property({type:String,json:{write:!0}})],g.prototype,"title",void 0);f([l.property({type:String,json:{write:!0}})],g.prototype,"expression",
void 0);f([l.property({type:["string","number"],json:{write:!0}})],g.prototype,"returnType",void 0);return g=d=f([l.subclass("esri.popup.ExpressionInfo")],g)}(l.declared(k))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.showNoDataRecords=null;return c}p(g,b);d=g;g.prototype.clone=
function(){return new d({showNoDataRecords:this.showNoDataRecords})};var d;f([l.property({type:Boolean,json:{write:!0}})],g.prototype,"showNoDataRecords",void 0);return g=d=f([l.subclass("esri.popup.LayerOptions")],g)}(l.declared(k))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),function(q,
b,p,f,k,l,m,g){return function(b){function c(a){a=b.call(this)||this;a.showRelatedRecords=null;a.orderByFields=null;return a}p(c,b);a=c;c.prototype.clone=function(){return new a({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?l.clone(this.orderByFields):null})};var a;f([m.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);f([m.property({type:[g],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=a=f([m.subclass("esri.popup.RelatedRecordsInfo")],
c)}(m.declared(k))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.field=null;c.order=null;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({field:this.field,order:this.order})};var d;f([l.property({type:String,json:{write:!0}})],
g.prototype,"field",void 0);f([l.property({type:["asc","desc"],json:{write:!0}})],g.prototype,"order",void 0);return g=d=f([l.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],g)}(l.declared(k))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(a){a=
b.call(this)||this;a.active=!1;a.className=null;a.disabled=!1;a.id=null;a.indicator=!1;a.title=null;a.type=null;a.visible=!0;return a}p(d,b);c=d;d.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;f([m.property()],d.prototype,"active",void 0);f([m.property()],d.prototype,"className",void 0);f([m.property()],d.prototype,"disabled",void 0);f([m.property()],d.prototype,
"id",void 0);f([m.property()],d.prototype,"indicator",void 0);f([m.property()],d.prototype,"title",void 0);f([m.property()],d.prototype,"type",void 0);f([m.property()],d.prototype,"visible",void 0);return d=c=f([m.subclass("esri.support.actions.ActionBase")],d)}(m.declared(k,l.Identifiable))})},"esri/core/Identifiable":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});var p=0;q=function(){return function(){Object.defineProperty(this,"uid",{writable:!1,
configurable:!1,value:Date.now().toString(16)+"-object-"+p++})}}();b.Identifiable=q})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.image=null;c.type="button";return c}p(g,b);d=g;g.prototype.clone=function(){return new d({active:this.active,className:this.className,
disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var d;f([k.property()],g.prototype,"image",void 0);return g=d=f([k.subclass("esri.support.Action.ActionButton")],g)}(k.declared(l))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(q,b,p,f,k,l){return function(b){function g(c){c=
b.call(this)||this;c.image=null;c.type="toggle";c.value=!1;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var d;f([k.property()],g.prototype,"image",void 0);f([k.property()],g.prototype,"value",void 0);return g=d=f([k.subclass("esri.support.Action.ActionToggle")],g)}(k.declared(l))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u,w,F,D,B,x,y,C,v,z,E,H,A,G,I,J,K){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=f;b.ExtrudeSymbol3DLayer=k;b.BaseFillSymbol=l;b.FillSymbol3DLayer=m;b.Font=g;b.IconSymbol3DLayer=d;b.LabelSymbol3D=c;b.LineSymbol3D=a;b.LineSymbol3DLayer=e;b.BaseMarkerSymbol=h;b.MeshSymbol3D=n;b.ObjectSymbol3DLayer=r;b.PathSymbol3DLayer=t;b.PictureFillSymbol=u;b.PictureMarkerSymbol=w;b.PointSymbol3D=F;b.PolygonSymbol3D=D;b.SimpleFillSymbol=B;b.SimpleLineSymbol=
x;b.SimpleMarkerSymbol=y;b.BaseSymbol=C;b.BaseSymbol3D=v;b.BaseSymbol3DLayer=z;b.TextSymbol=E;b.TextSymbol3DLayer=H;b.WebStyleSymbol=A;b.LineCallout3D=G;b.LineCallout3DBorder=I;b.Symbol3DVerticalOffset=J.Symbol3DVerticalOffset;b.fromJSON=K.fromJSON;b.isSymbol=function(a){return a instanceof b.BaseSymbol};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};
b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.SimpleFillSymbol,"picture-fill":b.PictureFillSymbol,"picture-marker":b.PictureMarkerSymbol,"simple-line":b.SimpleLineSymbol,"simple-marker":b.SimpleMarkerSymbol,text:b.TextSymbol,"label-3d":b.LabelSymbol3D,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,
"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol,cim:b.CIMSymbol}};b.symbolTypesRenderer={base:b.BaseSymbol,key:"type",typeMap:{"simple-fill":b.SimpleFillSymbol,"picture-fill":b.PictureFillSymbol,"picture-marker":b.PictureMarkerSymbol,"simple-line":b.SimpleLineSymbol,"simple-marker":b.SimpleMarkerSymbol,text:b.TextSymbol,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol,cim:b.CIMSymbol}};b.symbolTypesLabel=
{base:b.BaseSymbol,key:"type",typeMap:{text:b.TextSymbol,"label-3d":b.LabelSymbol3D}};b.symbolTypes3D={base:b.BaseSymbol,key:"type",typeMap:{"label-3d":b.LabelSymbol3D,"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol}};b.symbolTypesRenderer3D={base:b.BaseSymbol,key:"type",typeMap:{"line-3d":b.LineSymbol3D,"mesh-3d":b.MeshSymbol3D,"point-3d":b.PointSymbol3D,"polygon-3d":b.PolygonSymbol3D,"web-style":b.WebStyleSymbol}};
b.symbolTypesLabel3D={base:b.BaseSymbol,key:"type",typeMap:{"label-3d":b.LabelSymbol3D}};b.ensureType=p.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../portal/Portal ./Symbol".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this,a)||this;a.data=null;a.portal=null;a.styleName="";a.styleUrl="";a.type="cim";return a}p(d,
b);c=d;d.prototype.readData=function(a,b){return b.data?b.data:b};d.prototype.clone=function(){return new c({color:this.color,data:this.data,portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};var c;f([k.property({json:{write:!1}})],d.prototype,"color",void 0);f([k.property({json:{write:!0}})],d.prototype,"data",void 0);f([k.reader("data",["data","symbol"])],d.prototype,"readData",null);f([k.property({type:l,json:{write:!1}})],d.prototype,"portal",void 0);f([k.property({type:String,
json:{write:!0}})],d.prototype,"styleName",void 0);f([k.property({type:String,json:{write:!0}})],d.prototype,"styleUrl",void 0);f([k.property({type:String,readOnly:!0})],d.prototype,"type",void 0);return d=c=f([k.subclass("esri.symbols.CIMSymbol")],d)}(k.declared(m))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u,w,F,D){var B,x={Bookmark:function(){return r.create(function(a){return q(["./Bookmark"],a)})},Portal:function(){return r.create(function(a){return q(["./Portal"],a)})},PortalFolder:function(){return r.create(function(a){return q(["./PortalFolder"],a)})},PortalGroup:function(){return r.create(function(a){return q(["./PortalGroup"],a)})},PortalItem:function(){return r.create(function(a){return q(["./PortalItem"],a)})},PortalQueryParams:function(){return r.create(function(a){return q(["./PortalQueryParams"],
a)})},PortalQueryResult:function(){return r.create(function(a){return q(["./PortalQueryResult"],a)})},PortalRating:function(){return r.create(function(a){return q(["./PortalRating"],a)})},PortalUser:function(){return r.create(function(a){return q(["./PortalUser"],a)})}};return function(b){function e(a){a=b.call(this)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=!1;a.canListData=!1;a.canListPreProvisionedItems=
!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=!1;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=null;a.hasCategorySchema=!1;a.helperServices=
null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;a.templatesGroupQuery=null;a.units=null;a.url=g.portalUrl;a.urlKey=null;a.user=
null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}f(e,b);n=e;e.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};e.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};e.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];-1===g.request.trustedServers.indexOf(c)&&g.request.trustedServers.push(c)}return a};
e.prototype.readDefaultBasemap=function(a){return a?(a=B.fromJSON(a),a.portalItem={portal:this},a):null};e.prototype.readDefaultVectorBasemap=function(a){return a?(a=B.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(e.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"isOrganization",{get:function(){return!!this.access},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});e.prototype.readUrlKey=function(a){return a?a.toLowerCase():
a};e.prototype.readUser=function(a){var b=null;a&&(b=D.fromJSON(a),b.portal=this);return b};e.prototype.load=function(){var a=this,b=r.create(function(a){return q(["../Basemap"],a)}).then(function(a){B=a}).then(function(){return a._fetchSelf()}).then(function(b){if(d.id){var c=d.id;a.credential=c.findCredential(a.restUrl);a.credential||a.authMode!==n.AUTH_MODE_AUTO||(a._esriId_credentialCreateHandle=c.on("credential-create",function(){c.findCredential(a.restUrl)&&a._signIn()}))}a.read(b)});this.addResolvingPromise(b);
return this.when()};e.prototype.fetchBasemaps=function(a){var b=new w;b.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);b.disableExtraQuery=!0;return this.queryGroups(b).then(function(a){b.num=100;b.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],b.sortField=a.sortField||"name",b.sortOrder=a.sortOrder||"desc",a.queryItems(b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new B({portalItem:a})}):
[]})};e.prototype.fetchCategorySchema=function(){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema").then(function(a){return a.categorySchema}):r.resolve([])};e.prototype.fetchFeaturedGroups=function(){var a=this.featuredGroups,b=new w;b.num=100;b.sortField="title";if(a&&a.length){for(var c=[],e=0;e<a.length;e++){var d=a[e];c.push('(title:"'+d.title+'" AND owner:'+d.owner+")")}b.query=c.join(" OR ");return this.queryGroups(b).then(function(a){return a.results})}return r.resolve([])};
e.prototype.fetchRegions=function(){return this._request(this.restUrl+"/portals/regions",{query:{culture:this.user&&this.user.culture||this.culture||m.locale}})};e.getDefault=function(){n._default||(n._default=new n);return n._default};e.prototype.queryGroups=function(a){return this._queryPortal("/community/groups",a,"PortalGroup")};e.prototype.queryItems=function(a){return this._queryPortal("/search",a,"PortalItem")};e.prototype.queryUsers=function(a){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",
a,"PortalUser")};e.prototype.toJSON=function(){throw new a("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};e.prototype._fetchSelf=function(a,b){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a={authMode:a,query:{culture:m.locale}};"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};e.prototype._queryPortal=function(a,b,c){var e=this,d=function(c){return e._request(e.restUrl+a,b.toRequestOptions(e)).then(function(a){var d=
b.clone();d.start=a.nextStart;return new F({nextQueryParams:d,queryParams:b,total:a.total,results:n._resultsToTypedArray(c,{portal:e},a)})}).then(function(a){return r.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(){return a})})};return c&&x[c]?x[c]().then(function(a){return d(a)}):d()};e.prototype._signIn=function(){var b=this;if(this.authMode===n.AUTH_MODE_ANONYMOUS)return r.reject(new a("portal:invalid-auth-mode",'Current "authMode"\' is "'+
this.authMode+'"'));if("failed"===this.loadStatus)return r.reject(this.loadError);var c=function(a){return r.resolve().then(function(){if("not-loaded"===b.loadStatus)return a||(b.authMode="immediate"),b.load().then(function(){return null});if("loading"===b.loadStatus)return b.load().then(function(){if(b.credential)return null;b.credential=a;return b._fetchSelf("immediate")});if(b.user&&b.credential===a)return null;b.credential=a;return b._fetchSelf("immediate")}).then(function(a){a&&b.read(a)})};
return d.id?d.id.getCredential(this.restUrl).then(function(a){return c(a)}):c(this.credential)};e.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};e.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};e.prototype._requestToTypedArray=function(a,b,c){var e=this,d=function(c){return e._request(a,b).then(function(a){var b=n._resultsToTypedArray(c,
{portal:e},a);return r.all(b.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return b},function(){return b})})};return c?r.create(function(a){return q(["./"+c],a)}).then(function(a){return d(a)}):d()};e.prototype._request=function(a,b){var e=this.authMode===n.AUTH_MODE_ANONYMOUS?"anonymous":"auto",d=null,h="auto",f={f:"json"},g="json";b&&(b.authMode&&(e=b.authMode),b.body&&(d=b.body),b.method&&(h=b.method),b.query&&(f=p({},f,b.query)),b.responseType&&(g=b.responseType));
b={authMode:e,body:d,method:h,query:f,responseType:g,timeout:0};return c(this._normalizeSSL(a),b).then(function(a){return a.data})};e._resultsToTypedArray=function(a,b,c){if(c){if(c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c,a||b)c=c.map(function(c){c=h.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load();return c})}else c=[];return c};var n;e.AUTH_MODE_ANONYMOUS="anonymous";e.AUTH_MODE_AUTO="auto";e.AUTH_MODE_IMMEDIATE=
"immediate";k([t.property()],e.prototype,"access",void 0);k([t.property()],e.prototype,"allSSL",void 0);k([t.property()],e.prototype,"authMode",void 0);k([t.property()],e.prototype,"authorizedCrossOriginDomains",void 0);k([t.reader("authorizedCrossOriginDomains")],e.prototype,"readAuthorizedCrossOriginDomains",null);k([t.property()],e.prototype,"basemapGalleryGroupQuery",void 0);k([t.property()],e.prototype,"bingKey",void 0);k([t.property()],e.prototype,"canListApps",void 0);k([t.property()],e.prototype,
"canListData",void 0);k([t.property()],e.prototype,"canListPreProvisionedItems",void 0);k([t.property()],e.prototype,"canProvisionDirectPurchase",void 0);k([t.property()],e.prototype,"canSearchPublic",void 0);k([t.property()],e.prototype,"canShareBingPublic",void 0);k([t.property()],e.prototype,"canSharePublic",void 0);k([t.property()],e.prototype,"canSignInArcGIS",void 0);k([t.property()],e.prototype,"canSignInIDP",void 0);k([t.property()],e.prototype,"colorSetsGroupQuery",void 0);k([t.property()],
e.prototype,"commentsEnabled",void 0);k([t.property({type:Date})],e.prototype,"created",void 0);k([t.property()],e.prototype,"credential",void 0);k([t.property()],e.prototype,"culture",void 0);k([t.property()],e.prototype,"currentVersion",void 0);k([t.property()],e.prototype,"customBaseUrl",void 0);k([t.property()],e.prototype,"defaultBasemap",void 0);k([t.reader("defaultBasemap")],e.prototype,"readDefaultBasemap",null);k([t.property({type:u})],e.prototype,"defaultExtent",void 0);k([t.property()],
e.prototype,"defaultVectorBasemap",void 0);k([t.reader("defaultVectorBasemap")],e.prototype,"readDefaultVectorBasemap",null);k([t.property()],e.prototype,"description",void 0);k([t.property()],e.prototype,"eueiEnabled",void 0);k([t.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],e.prototype,"extraQuery",null);k([t.property()],e.prototype,"featuredGroups",void 0);k([t.property()],e.prototype,"featuredItemsGroupQuery",void 0);k([t.property()],e.prototype,"galleryTemplatesGroupQuery",
void 0);k([t.property()],e.prototype,"livingAtlasGroupQuery",void 0);k([t.property()],e.prototype,"hasCategorySchema",void 0);k([t.property()],e.prototype,"helpBase",void 0);k([t.property()],e.prototype,"helperServices",void 0);k([t.property()],e.prototype,"helpMap",void 0);k([t.property()],e.prototype,"homePageFeaturedContent",void 0);k([t.property()],e.prototype,"homePageFeaturedContentCount",void 0);k([t.property()],e.prototype,"httpPort",void 0);k([t.property()],e.prototype,"httpsPort",void 0);
k([t.property()],e.prototype,"id",void 0);k([t.property()],e.prototype,"ipCntryCode",void 0);k([t.property({dependsOn:["access"],readOnly:!0})],e.prototype,"isOrganization",null);k([t.property()],e.prototype,"isPortal",void 0);k([t.property()],e.prototype,"layerTemplatesGroupQuery",void 0);k([t.property()],e.prototype,"maxTokenExpirationMinutes",void 0);k([t.property({type:Date})],e.prototype,"modified",void 0);k([t.property()],e.prototype,"name",void 0);k([t.property()],e.prototype,"portalHostname",
void 0);k([t.property()],e.prototype,"portalMode",void 0);k([t.property()],e.prototype,"portalProperties",void 0);k([t.property()],e.prototype,"region",void 0);k([t.property({dependsOn:["url"],readOnly:!0})],e.prototype,"restUrl",null);k([t.property()],e.prototype,"rotatorPanels",void 0);k([t.property()],e.prototype,"showHomePageDescription",void 0);k([t.property()],e.prototype,"staticImagesUrl",void 0);k([t.property()],e.prototype,"stylesGroupQuery",void 0);k([t.property()],e.prototype,"supportsHostedServices",
void 0);k([t.property()],e.prototype,"symbolSetsGroupQuery",void 0);k([t.property()],e.prototype,"templatesGroupQuery",void 0);k([t.property()],e.prototype,"thumbnail",void 0);k([t.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],e.prototype,"thumbnailUrl",null);k([t.property()],e.prototype,"units",void 0);k([t.property()],e.prototype,"url",void 0);k([t.property()],e.prototype,"urlKey",void 0);k([t.reader("urlKey")],e.prototype,"readUrlKey",null);k([t.property()],e.prototype,"user",void 0);
k([t.reader("user")],e.prototype,"readUser",null);k([t.property()],e.prototype,"useStandardizedQuery",void 0);k([t.property()],e.prototype,"useVectorBasemaps",void 0);k([t.property()],e.prototype,"vectorBasemapGalleryGroupQuery",void 0);k([l(1,t.cast(w))],e.prototype,"_queryPortal",null);return e=n=k([t.subclass("esri.portal.Portal")],e)}(t.declared(e,n))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(q,b){return function(p,f){b(p,f,q)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper dojo/Deferred dojo/has!host-webworker?./core/workers/request dojo/io-query ./core/urlUtils dojo/errors/CancelError dojo/request/xhr ./config ./core/deferredUtils ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u){function w(a,b){void 0===b&&(b=!1);u.isBlobProtocol(a.url)||u.isDataProtocol(a.url)||!a.content||(a.preventCache&&(a.content["request.preventCache"]=Date.now()),a.url=u.addQueryParameters(a.url,a.content));var c=new Image;c.crossOrigin=a.withCredentials?"use-credentials":"anonymous";var e=!1;return t.create(function(d,h){var n=function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);e||h(Error("Unable to load the resource"))};c.onload=
function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);e||d(this)};c.onerror=n;c.onabort=n;c.alt="";c.src=a.url},function(){e=!0;c.onload=c.onerror=c.onabort=null;c.src=""})}function F(a){a=new m.Url(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function D(){return J?J:J=t.create(function(a){q(["./identity/IdentityManager"],a)}).then(function(a){I=a})}function B(a,b){var c=!!a.useProxy,e=a.method||"auto";a=p({},a);a.content=a.content||{};a._ssl&&(a.url=a.url.replace(/^http:/i,
"https:"));var h=a.url,f=u.isBlobProtocol(h)||u.isDataProtocol(h);a._token&&(a.content.token=a._token);var g=0,k;f||(k=l.objectToQuery(a.content),g=k.length+h.length+1,n("esri-url-encodes-apostrophe")&&(g=k.replace(/'/g,"%27").length+h.length+1));a.timeout=null!=a.timeout?a.timeout:E.timeout;a.handleAs=a.handleAs||"json";try{var m=k=void 0,q=!f&&("post"===e||!!a.body||g>E.maxUrlLength),D=!f&&(c||!!u.getProxyRule(a.url)),F;if(F=!D&&"image"===a.handleAs&&E.proxyUrl&&!f){var H=u.getOrigin(a.url);F=!(!H||
r.endsWith(H,".arcgis.com")||u.hasSameOrigin(H,u.appUrl)||-1!==z._corsServers.indexOf(H)||u.isTrustedServer(H))}F&&(a.handleAs="blob");D&&(n("host-browser")||n("host-webworker"))&&(k=u.getProxyUrl(h),m=k.path,!q&&m.length+1+g>E.maxUrlLength&&(q=!0),k.query&&(a.content=p({},k.query,a.content)),q||(a.preventCache&&(a.content["request.preventCache"]=Date.now(),a.preventCache=!1),a.url=u.addQueryParameters(a.url,a.content),a.content=null),a.url=m+"?"+a.url);var B=a.headers;if(!f){!n("host-browser")&&
!n("host-webworker")||B&&B.hasOwnProperty("X-Requested-With")||(a.headers=B||{},a.headers["X-Requested-With"]=null);if(n("host-browser")&&b){var x=a.content&&a.content.token;x&&(b.set?b.set("token",x):b.append("token",x));a.contentType=!1}if(!a.hasOwnProperty("withCredentials"))if(c=D?m:h,u.isTrustedServer(c))a.withCredentials=!0;else if(I){var G=I.findServerInfo(c);G&&G.webTierAuth&&(a.withCredentials=!0)}}if(q)return"image"===a.handleAs&&(a.handleAs="blob"),a.body?(a.data=b||a.body,a.query=a.content):
a.data=a.content,delete a.body,delete a.content,!D&&n("safari")&&(a.url+=(-1===a.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+Date.now()+A++),d.post(a.url,a);var y;if(y="image"===a.handleAs){var v;a:{if(B)for(var C in B)if(B[C]){v=!0;break a}v=!1}y=!v}if(y)return w(a);"image"===a.handleAs&&(a.handleAs="blob");a.query=a.content;delete a.content;return d.get(a.url,a)}catch(Z){return t.reject(Z)}}function x(a,b,c,d){function h(a){a._pendingDfd=B(c,m);var b=!!a._pendingDfd.response;(a._pendingDfd.response||
a._pendingDfd).then(function(a){if(!b||!a.data)return a;E.proxyUrl&&!r.startsWith(a.url,E.proxyUrl)&&v(a.url);var c=a.getHeader("Content-Type");if(c&&(c=c.toLowerCase(),-1===c.indexOf("text/plain")&&-1===c.indexOf("application/json")))return a;c=a.data;if(c instanceof ArrayBuffer&&750>=c.byteLength)c=new Blob([c]);else if(!(c instanceof Blob&&750>=c.size))return a;var e=new f,d=new FileReader;d.readAsText(c);d.onloadend=function(){if(!d.error)try{var b=JSON.parse(d.result);b.error&&(Object.isExtensible(a)||
(a=p({},a)),a._jsonData=b)}catch(Y){}e.resolve(a)};return e.promise}).then(function(a){return b&&!a._jsonData&&"image"===d.requestOptions.responseType&&a.data instanceof Blob?(b=!1,c.url=URL.createObjectURL(a.data),w(c,!0)):a}).then(function(c){var e=b?c.data:c,h=b?c.getHeader.bind(c):G;if(e&&(c=b&&c._jsonData||e,c.error||"error"===c.status))throw e=r.mixin(Error(),c.error||c),e.getHeader=h,e;a.resolve({data:e,url:d.url,requestOptions:d.requestOptions,getHeader:h});a._pendingDfd=null}).catch(function(b){var e,
h,f,k;b&&(e=Number(b.code),h=b.hasOwnProperty("subcode")?Number(b.subcode):null,f=(f=b.messageCode)&&f.toUpperCase(),k=b.response);if(k&&0===k.status&&E.proxyUrl&&!n&&"post"!==c.method&&k.url&&!r.startsWith(k.url,E.proxyUrl))u.addProxyRule({proxyUrl:E.proxyUrl,urlPrefix:u.removeFile(u.urlToObject(c.url).path)}),x(a,!0,c,d);else{if(403===e&&(4===h||b.message&&-1<b.message.toLowerCase().indexOf("ssl")&&-1===b.message.toLowerCase().indexOf("permission"))){if(!c._ssl){c._ssl=c._sslFromServer=!0;x(a,!0,
c,d);return}}else if(g&&"no-prompt"!==c.authMode&&I._errorCodes&&-1!==I._errorCodes.indexOf(e)&&!I._isPublic(c.url)&&(403!==e||H&&-1===H.indexOf(f)&&(null==h||2===h&&c._token))){y(a,c,d,C("request:server",b,d));return}k&&0<k.status&&k.url&&E.proxyUrl&&!r.startsWith(k.url,E.proxyUrl)&&v(k.url);a.reject(C("request:server",b,d));a._pendingDfd=null}})}var n=c.body,g=c.useIdentity,k,m=null,l=n instanceof FormData;if(l||n&&n.elements)m=l?n:new FormData(n);var t=!!(-1!==c.url.toLowerCase().indexOf("token\x3d")||
c.content&&c.content.token||m&&m.get&&m.get("token")||n&&n.elements&&n.elements.token);b||(!g||t||c._token||I._isPublic(c.url)||(b=function(a){a&&(c._token=a.token,c._ssl=a.ssl)},"immediate"===c.authMode?k=I.getCredential(c.url).then(b):"no-prompt"===c.authMode?k=I.checkSignInStatus(c.url).then(b).catch(function(){}):b(I.findCredential(c.url))),b=function(a){delete c._credential;if(a){var b=!!c._ssl;a instanceof e?a.details.ssl=b:a.ssl=b}},a.then(function(a){(/\/sharing\/rest\/accounts\/self/i.test(c.url)||
/\/sharing\/rest\/portals\/self/i.test(c.url))&&!t&&!c._token&&a.data&&a.data.user&&a.data.user.username&&(u.isTrustedServer(c.url)||E.trustedServers.push(F(c.url)));var b=c._credential;if(b){var e=I.findServerInfo(b.server),e=e&&e.owningSystemUrl,d=void 0;e&&(e=e.replace(/\/?$/,"/sharing"),(d=I.findCredential(e,b.userId))&&-1===I._getIdenticalSvcIdx(e,d)&&d.resources.splice(0,0,e))}return a}).then(b,b));k?k.then(function(){a.isCanceled()||h(a)}).catch(function(b){a.reject(b)}):h(a);return a.promise}
function y(a,b,c,e){a._pendingDfd=I.getCredential(b.url,{error:e,token:b._token});a._pendingDfd.then(function(e){b._token=e.token;b._credential=e;b._ssl=b._sslFromServer||e.ssl;x(a,!0,b,c)}).catch(function(b){a.reject(b);a._pendingDfd=null})}function C(a,b,c){var d="Error",h={url:c.url,requestOptions:c.requestOptions,getHeader:G};if(b instanceof e)return b.details?(b.details=r.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=h,b;if(b){var n=b.response;c=n&&
n.getHeader;var n=n&&n.status,f=b.message;c=b.getHeader||c;f&&(d=f);c&&(h.getHeader=c);h.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||n;h.subCode=b.subcode;h.messageCode=b.messageCode;h.messages="string"===typeof b.details?[b.details]:b.details}a=new e(a,d,h);b&&"cancel"===b.dojoType&&(a.name="AbortError",a.dojoType="cancel");return a}function v(a){u.isBlobProtocol(a)||u.isDataProtocol(a)||(a=u.getOrigin(a))&&-1===z._corsServers.indexOf(a)&&z._corsServers.push(a)}function z(b,c){if(k&&h.invokeStaticMessage)return k.execute(b,
c);u.isBlobProtocol(b)||u.isDataProtocol(b)||(b=u.normalize(b));var d={url:b,requestOptions:p({},c)},f=u.getInterceptor(b);if(f){if(null!=f.responseData)return t.resolve({data:f.responseData,requestOptions:d.requestOptions,getHeader:G,url:b});f.headers&&(d.requestOptions.headers=p({},d.requestOptions.headers,f.headers));f.query&&(d.requestOptions.query=p({},d.requestOptions.query,f.query));if(f.before&&(c=f.before(d),null!=c))return c instanceof Error||c instanceof e?t.reject(C("request:interceptor",
c,d)):t.resolve({data:c,requestOptions:d.requestOptions,getHeader:G,url:d.url})}var l=p({url:d.url},d.requestOptions);l.content=l.query;delete l.query;l.preventCache=!!l.cacheBust;delete l.cacheBust;l.handleAs=l.responseType;delete l.responseType;"array-buffer"===l.handleAs&&(l.handleAs="arraybuffer");if("image"===l.handleAs){if(n("host-webworker"))return t.reject(C("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),d))}else if(u.isDataProtocol(b))return t.reject(C("request:invalid-parameters",
Error("Data URLs are not supported for responseType \x3d "+l.handleAs),d));var r=E.useIdentity;"anonymous"===l.authMode&&(r=!1);l.useIdentity=r;l.urlObj=new m.Url(l.url);var q=a.makeDeferredCancellingPending(),w;d.requestOptions.signal&&(b=d.requestOptions.signal,w=function(){q.cancel(C("AbortError",new g("Request canceled"),d))},b.aborted?w():b.addEventListener("abort",w));t.resolve().then(function(){if(r&&!I)return D()}).catch(function(){}).then(function(){q.isCanceled()||x(q,!1,l,d)});return q.then(function(a){d.requestOptions.signal&&
d.requestOptions.signal.removeEventListener("abort",w);f&&f.after&&f.after(a);return a}).catch(function(a){d.requestOptions.signal&&d.requestOptions.signal.removeEventListener("abort",w);throw a;})}var E=c.request,H=["COM_0056","COM_0057"],A=0,G=function(){return null},I,J;(z||(z={}))._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return z})},"esri/core/deferredUtils":function(){define(["dojo/Deferred"],function(q){var b={makeDeferredCancellingPending:function(){var p=
{},f=b._dfdCanceller.bind(null,p),f=new q(f);return p.deferred=f},_dfdCanceller:function(b){b=b.deferred?b.deferred:b;b.canceled=!0;var f=b._pendingDfd;b.isResolved()||!f||f.isResolved()||f.cancel();b._pendingDfd=null},_fixDfd:function(b){var f=b.then;b.then=function(b,l,m){if(b){var g=b;b=function(b){return b&&b._argsArray?g.apply(null,b):g(b)}}return f.call(this,b,l,m)};return b},_resDfd:function(b,f,k){var l=f.length;1===l?k?b.reject(f[0]):b.resolve(f[0]):1<l?(f._argsArray=!0,b.resolve(f)):b.resolve()}};
return b})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(q,b,p,f,k,l,m,g,d,c,a){q=function(b){function e(){var a=b.call(this)||this;a.loadError=null;a.loadStatus="not-loaded";a.loadWarnings=null;a._set("loadWarnings",[]);a.addResolvingPromise(d.create(function(b){var c=!1,e=a.load.bind(a);a.load=function(){"not-loaded"===
a.loadStatus&&(a._set("loadStatus","loading"),e());c||(b(),c=!0);return a.when()}}));a.when(function(b){a._set("loadStatus","loaded")},function(b){a._set("loadStatus","failed");a._set("loadError",b)});return a}p(e,b);Object.defineProperty(e.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});e.prototype.load=function(){return null};e.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new l("load:cancelled","Cancelled"));
this._promiseProps.resolver.reject(this.loadError);return this};f([a.property({readOnly:!0,dependsOn:["loadStatus"]})],e.prototype,"loaded",null);f([a.property({readOnly:!0})],e.prototype,"loadError",void 0);f([a.property()],e.prototype,"loadStatus",void 0);f([a.property({type:[c],readOnly:!0})],e.prototype,"loadWarnings",void 0);return e=f([a.subclass("esri.core.Loadable")],e)}(a.declared(k,g));q.prototype["-chains-"]=m.mixin({},k._meta.chains,{load:"after"});return q})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l,m,g,d){function c(a){var b=a._promiseProps;if(!b.isFulfilled()){var c=b.resolvingPromises,e,d;b.allPromise&&b.allPromise.cancel();var h,f=m.create(function(a,b){h={resolve:a,reject:b}});for(e=c.length-1;0<=e;e--)d=c[e],d.isCanceled&&d.isCanceled()&&c.splice(e,1);d=null;(b.allPromise=m.all(c.concat([f]))).then(function(){b.resolver.resolve(a);a=b=h=b.allPromise=b.resolvingPromises=null},function(c){b.allPromise=null;if(!c||"cancel"!==c.dojoType){var e=Array.prototype.slice.call(arguments,
0);b.resolver.reject(e[0]);a=b=h=b.allPromise=b.resolvingPromises=null}});h&&g.schedule(function(){h&&h.resolve()})}}var a=function(a){a=new l("AbortError");a.target=this.instance;a.dojoType="cancel";return a},e=function(){function b(b){var c=this;this.canceler=a.bind(this);this.status=void 0;this.initialized=!1;this.resolvingPromises=[];this.instance=b;this.promise=m.create(function(a,b){c.resolver={resolve:a,reject:b}});this.promise.then(function(){c.status=1},function(){c.status=2})}b.prototype.cancel=
function(){if(!this.isFulfilled()){this.allPromise.cancel();for(var a=this.resolvingPromises.concat(),b=a.length-1;0<=b;b--)a[b].cancel();this.resolver.cancel()}};b.prototype.isResolved=function(){return 1===this.status};b.prototype.isRejected=function(){return 2===this.status};b.prototype.isFulfilled=function(){return!!this.status};return b}();return function(a){function b(){var b=a.call(this)||this;b._promiseProps=new e(b);var d=b.postscript;d?b.postscript=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=
arguments[e];d.apply(b,a);b.postscript=d;c(b)}:c(b);return b}p(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return m.create(function(a,b){c._promiseProps.promise.then(a,b)},this._promiseProps.canceler).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=
function(a){a&&!this._promiseProps.isFulfilled()&&("_promiseProps"in a?this._promiseProps.resolvingPromises.push(a.when()):this._promiseProps.resolvingPromises.push(a),c(this))};return b=f([d.subclass()],b)}(d.declared(k))})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){var h=new m.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(b){function n(a){a=b.call(this)||this;a.categories=null;a.disableExtraQuery=!1;a.extent=null;a.num=10;a.query=null;a.sortField=null;a.start=1;return a}f(n,b);m=n;Object.defineProperty(n.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});n.prototype.clone=function(){return new m({categories:this.categories?g.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};n.prototype.toRequestOptions=function(b,c){var d;this.categories&&(d=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var n;if(this.extent){var f=e.project(this.extent,
a.WGS84);f&&(n=f.xmin+","+f.ymin+","+f.xmax+","+f.ymax)}f=this.query;!this.disableExtraQuery&&b.extraQuery&&(f="("+f+")"+b.extraQuery);b={categories:d,bbox:n,q:f,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(b.sortField=h.toJSON(this.sortField),b.sortOrder=this.sortOrder);return{query:p({},c,b)}};var m;k([d.property()],n.prototype,"categories",void 0);k([d.property()],n.prototype,"disableExtraQuery",void 0);k([d.property({type:c})],n.prototype,"extent",void 0);k([d.property()],
n.prototype,"num",void 0);k([d.property()],n.prototype,"query",void 0);k([d.property()],n.prototype,"sortField",void 0);k([d.property()],n.prototype,"sortOrder",null);k([d.property()],n.prototype,"start",void 0);return n=m=k([d.subclass("esri.portal.PortalQueryParams")],n)}(d.declared(l))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(q,
b,p,f,k,l){return function(b){function g(d){d=b.call(this)||this;d.nextQueryParams=null;d.queryParams=null;d.results=null;d.total=null;return d}p(g,b);f([l.property()],g.prototype,"nextQueryParams",void 0);f([l.property()],g.prototype,"queryParams",void 0);f([l.property()],g.prototype,"results",void 0);f([l.property()],g.prototype,"total",void 0);return g=f([l.subclass("esri.portal.PortalQueryResult")],g)}(l.declared(k))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(){var b=a.call(this)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.units=null;b.username=null;b.userType=null;return b}p(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+
b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});b.prototype.addItem=function(a){var b=this,c=a&&a.item,e=a&&a.data;a=a&&a.folder;var d={method:"post"};
c&&(d.query=c._getPostQuery(),null!=e&&("string"===typeof e?d.query.text=e:"object"===typeof e&&(d.query.text=JSON.stringify(e))));e=this.userContentUrl;a&&(e+="/"+a.id);return this.portal._request(e+"/addItem",d).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};b.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=
null})};b.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):m.resolve(void 0)};b.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=d.fromJSON(b);b.portal=a.portal;
return b}):[]})};b.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=c.fromJSON(b);b.portal=a.portal;return b}):[]})};b.prototype.fetchItems=function(a){var b=this;a||(a={});var c=this.userContentUrl;a.folder&&(c+="/"+a.folder.id);var e;return m.create(function(a){return q(["./PortalItem"],a)}).then(function(d){e=d;return b.portal._request(c,{query:{folders:!1,num:a.num||10,start:a.start||1}})}).then(function(a){var c;
return a&&a.items?(c=a.items.map(function(a){a=e.fromJSON(a);a.portal=b.portal;return a}),m.all(c.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:c,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new c({id:this.favGroupId,portal:this.portal})),
this._favGroup.queryItems(a)):m.reject(new k("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};b.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};f([g.property()],b.prototype,"access",void 0);f([g.property({type:Date})],b.prototype,"created",void 0);f([g.property()],b.prototype,"culture",void 0);f([g.property()],b.prototype,"description",void 0);f([g.property()],b.prototype,"email",void 0);f([g.property()],
b.prototype,"favGroupId",void 0);f([g.property()],b.prototype,"fullName",void 0);f([g.property({type:Date})],b.prototype,"modified",void 0);f([g.property()],b.prototype,"orgId",void 0);f([g.property()],b.prototype,"portal",void 0);f([g.property()],b.prototype,"preferredView",void 0);f([g.property()],b.prototype,"privileges",void 0);f([g.property()],b.prototype,"region",void 0);f([g.property()],b.prototype,"role",void 0);f([g.property()],b.prototype,"roleId",void 0);f([g.property()],b.prototype,"thumbnail",
void 0);f([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);f([g.property()],b.prototype,"units",void 0);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"userContentUrl",null);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);f([g.property()],b.prototype,"username",void 0);f([g.property()],b.prototype,"userType",void 0);return b=f([g.subclass("esri.portal.PortalUser")],b)}(g.declared(l))})},
"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(c){c=b.call(this)||this;c.created=null;c.id=null;c.portal=null;c.title=null;c.username=null;return c}p(d,b);Object.defineProperty(d.prototype,"url",{get:function(){var b=this.get("portal.restUrl");return b?b+"/content/users/"+this.username+
"/"+this.id:null},enumerable:!0,configurable:!0});d.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};f([m.property({type:Date})],d.prototype,"created",void 0);f([m.property()],d.prototype,"id",void 0);f([m.property()],d.prototype,"portal",void 0);f([m.property()],d.prototype,"title",void 0);f([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);f([m.property()],d.prototype,"username",void 0);return d=
f([m.subclass("esri.portal.PortalFolder")],d)}(m.declared(l))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),function(q,b,p,f,k,l,m,g,d){return function(b){function a(a){a=b.call(this)||this;a.access=null;a.created=null;a.description=null;a.id=null;a.isInvitationOnly=!1;a.modified=
null;a.owner=null;a.portal=null;a.snippet=null;a.sortField=null;a.sortOrder=null;a.tags=null;a.title=null;return a}p(a,b);Object.defineProperty(a.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});a.prototype.fetchCategorySchema=
function(){var a=this;return this.portal._request(this.url+"/categorySchema").then(function(b){b=b.categorySchema||[];return b.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?a._fetchCategorySchemaSet("LivingAtlas"):b})};a.prototype.fetchMembers=function(){return this.portal._request(this.url+"/users")};a.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};a.prototype.toJSON=function(){throw new l("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};a.prototype.queryItems=function(a){if(5<parseFloat(this.portal.currentVersion))return a=a||new d,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem");a=a?a.clone():new d;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a)};a.prototype._fetchCategorySchemaSet=function(a){var b=this;return this.portal._fetchSelf(this.portal.authMode,!0).then(function(a){if(a=a.contentCategorySetsGroupQuery){var c=
new d;c.disableExtraQuery=!0;c.num=1;c.query=a;return b.portal.queryGroups(c)}throw new l("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(b){if(b.total){b=b.results[0];var c=new d;c.num=1;c.query='typekeywords:"'+a+'"';return b.queryItems(c)}throw new l("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData().then(function(a){return(a=a&&a.categorySchema)&&a.length?
a:[]}):[]})};f([g.property()],a.prototype,"access",void 0);f([g.property({type:Date})],a.prototype,"created",void 0);f([g.property()],a.prototype,"description",void 0);f([g.property()],a.prototype,"id",void 0);f([g.property()],a.prototype,"isInvitationOnly",void 0);f([g.property({type:Date})],a.prototype,"modified",void 0);f([g.property()],a.prototype,"owner",void 0);f([g.property()],a.prototype,"portal",void 0);f([g.property()],a.prototype,"snippet",void 0);f([g.property()],a.prototype,"sortField",
void 0);f([g.property()],a.prototype,"sortOrder",void 0);f([g.property()],a.prototype,"tags",void 0);f([g.property()],a.prototype,"thumbnail",void 0);f([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],a.prototype,"thumbnailUrl",null);f([g.property()],a.prototype,"title",void 0);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],a.prototype,"url",null);f([k(0,g.cast(d))],a.prototype,"queryItems",null);return a=f([g.subclass("esri.portal.PortalGroup")],a)}(g.declared(m))})},
"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l,m,g){var d=new m.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",
MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),c=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+c++;b.type=null;return b}p(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a,b,c){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.clone=function(){};f([g.property({type:d.apiValues,json:{read:d.read,write:{ignoreOrigin:!0,writer:d.write}}})],
b.prototype,"type",void 0);f([g.property({type:k,value:new k([0,0,0,1]),json:{write:{allowNull:!0}}})],b.prototype,"color",null);f([g.reader("color")],b.prototype,"readColor",null);return b=f([g.subclass("esri.symbols.Symbol")],b)}(g.declared(l))})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(a){a=
b.call(this)||this;a.type="extrude";a.size=void 0;a.material=null;a.castShadows=!0;a.edges=null;return a}p(d,b);c=d;d.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,size:this.size})};var c;f([k.enumeration.serializable()({Extrude:"extrude"})],d.prototype,"type",void 0);f([k.property({type:Number,json:{write:!0}})],
d.prototype,"size",void 0);f([k.property()],d.prototype,"material",void 0);f([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);f([k.property(m.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=c=f([k.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)}(k.declared(l))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators ./support/ElevationInfo ./support/Symbol3DMaterial".split(" "),
function(q,b,p,f,k,l,m,g,d){var c=l.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text"});q=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;b.material=null;b.type=null;return b}p(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};f([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);f([m.writer("enabled")],b.prototype,"writeEnabled",null);f([m.property({type:g,json:{read:!1,
write:!1}})],b.prototype,"elevationInfo",void 0);f([m.property({type:d.default,json:{write:!0}})],b.prototype,"material",void 0);f([m.property({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],b.prototype,"type",void 0);return b=f([m.subclass("esri.symbols.Symbol3DLayer")],b)}(m.declared(k));(q||(q={})).typeJSONDictionary=c;return q})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ./unitConversionUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a){var e=g.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),h=new g.KebabDictionary({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),n=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);e=b;b.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){return k(this,function(e){return[2,
c.collectArcadeFieldNames(a,b,this.expression)]})})};b.prototype.clone=function(){return new e({expression:this.expression,title:this.title})};var e;f([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);f([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=e=f([d.subclass("esri.layers.support.FeatureExpressionInfo")],b)}(d.declared(m));return function(b){function c(){return null!==b&&b.apply(this,arguments)||this}p(c,b);g=c;c.prototype.readFeatureExpressionInfo=
function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};c.prototype.writeFeatureExpressionInfo=function(a,b,c,e){b[c]=a.write(null,e);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(c.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});c.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};c.prototype.clone=function(){return new g({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var g;f([d.property({type:n,json:{write:!0}})],c.prototype,"featureExpressionInfo",
void 0);f([d.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);f([d.writer("featureExpressionInfo",{featureExpressionInfo:{type:n},"featureExpression.value":{type:[0]}})],c.prototype,"writeFeatureExpressionInfo",null);f([d.property({type:e.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:e.jsonValues,read:e.read,write:{writer:e.write,isRequired:!0}}})],c.prototype,"mode",null);f([d.property({type:Number,
json:{write:!0}})],c.prototype,"offset",void 0);f([d.property({type:a.supportedUnits,json:{type:String,read:h.read,write:h.write}})],c.prototype,"unit",null);return c=g=f([d.subclass("esri.layers.support.ElevationInfo")],c)}(d.declared(m))})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.supportsUnit=function(b){return null!=p.meterIn[b]};b.getMetersPerUnit=function(b){return 1/
(p.meterIn[b]||1)};b.supportedUnits=function(){var b=Object.keys(p.meterIn);b.sort();return b}()})},"esri/renderers/support/utils":function(){define("dojo/date/locale ../../Color ../../core/lang ../../core/numberUtils ../../core/unitUtils dojo/i18n!dojo/cldr/nls/gregorian".split(" "),function(q,b,p,f,k,l){function m(a,b,c){var e="";0===b?e=d.lt+" ":b===c&&(e=d.gt+" ");return e+a}var g={},d={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},c={millisecond:0,second:1,minute:2,hour:3,
day:4,month:5,year:6},a={millisecond:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},second:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},minute:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},hour:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},day:{selector:"date",dateOptions:{formatLength:"long"}},month:{selector:"date",dateOptions:{formatLength:"long"}},year:{selector:"date",dateOptions:{selector:"year"}}},
e={formatLength:"short",fullYear:!0},h={formatLength:"short"};p.mixin(g,{meterIn:{inches:k.convertUnit(1,"meters","inches"),feet:k.convertUnit(1,"meters","feet"),"us-feet":k.convertUnit(1,"meters","us-feet"),yards:k.convertUnit(1,"meters","yards"),miles:k.convertUnit(1,"meters","miles"),"nautical-miles":k.convertUnit(1,"meters","nautical-miles"),millimeters:k.convertUnit(1,"meters","millimeters"),centimeters:k.convertUnit(1,"meters","centimeters"),decimeters:k.convertUnit(1,"meters","decimeters"),
meters:k.convertUnit(1,"meters","meters"),kilometers:k.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/k.lengthToDegrees(1,"meters")},timelineDateFormatOptions:{selector:"date",dateOptions:{formatLength:"short",fullYear:!0}},formatDate:function(a,b){var c=[];null==a||a instanceof Date||(a=new Date(a));b=b||{};b=p.mixin({},b);var d=b.selector?b.selector.toLowerCase():null,f=!d||-1<d.indexOf("time"),d=!d||-1<d.indexOf("date");f&&(b.timeOptions=b.timeOptions||h,b.timeOptions&&(b.timeOptions=
p.mixin({},b.timeOptions),b.timeOptions.selector=b.timeOptions.selector||"time",c.push(b.timeOptions)));d&&(b.dateOptions=b.dateOptions||e,b.dateOptions&&(b.dateOptions=p.mixin({},b.dateOptions),b.dateOptions.selector=b.dateOptions.selector||"date",c.push(b.dateOptions)));c&&c.length?(c=c.map(function(b){return q.format(a,b)}),b=1==c.length?c[0]:l["dateTimeFormat-medium"].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return c[b]})):b=q.format(a);return b},createColorStops:function(a){var b=
a.values,c=a.colors,e=a.labelIndexes,d=a.isDate,h=a.dateFormatOptions;a=[];return a=b.map(function(a,n){var k=null;if(!e||-1<e.indexOf(n)){var l;(l=d?g.formatDate(a,h):f.format(a))&&(k=m(l,n,b.length-1))}return{value:a,color:c[n],label:k}})},updateColorStops:function(a){var b=a.stops,c=a.changes,e=a.isDate,d=a.dateFormatOptions,h=[],n,k=b.map(function(a){return a.value});c.forEach(function(a){h.push(a.index);k[a.index]=a.value});n=f.round(k,{indexes:h});b.forEach(function(a,c){a.value=k[c];if(null!=
a.label){var h,l=null;(h=e?g.formatDate(n[c],d):f.format(n[c]))&&(l=m(h,c,b.length-1));a.label=l}})},createClassBreakLabel:function(a){var b=a.minValue,c=a.maxValue,e=a.isFirstBreak?"":d.gt+" ";a="percent-of-total"===a.normalizationType?d.pct:"";b=null==b?"":f.format(b);c=null==c?"":f.format(c);return e+b+a+" "+d.ld+" "+c+a},setLabelsForClassBreaks:function(a){var b=a.classBreakInfos,c=a.classificationMethod,e=a.normalizationType,d=[];b&&b.length&&("standard-deviation"===c?console.log("setLabelsForClassBreaks: cannot set labels for class breaks generated using 'standard-deviation' method."):
a.round?(d.push(b[0].minValue),b.forEach(function(a){d.push(a.maxValue)}),d=f.round(d),b.forEach(function(a,b){a.label=g.createClassBreakLabel({minValue:0===b?d[0]:d[b],maxValue:d[b+1],isFirstBreak:0===b,normalizationType:e})})):b.forEach(function(a,b){a.label=g.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:e})}))},updateClassBreak:function(a){var b=a.classBreaks,c=a.normalizationType,e=a.change,d=e.index,e=e.value,h=-1,f=-1,n=b.length;"standard-deviation"===
a.classificationMethod?console.log("updateClassBreak: cannot update labels for class breaks generated using 'standard-deviation' method."):(0===d?h=d:d===n?f=d-1:(f=d-1,h=d),-1<h&&h<n&&(a=b[h],a.minValue=e,a.label=g.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===h,normalizationType:c})),-1<f&&f<n&&(a=b[f],a.maxValue=e,a.label=g.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===f,normalizationType:c})))},calculateDateFormatInterval:function(a){var b,
e,d=a.length,h,f,n,g,k,m,l=Infinity,p;a=a.map(function(a){return new Date(a)});for(b=0;b<d-1;b++){h=a[b];n=[];k=Infinity;m="";for(e=b+1;e<d;e++)f=a[e],f=h.getFullYear()!==f.getFullYear()&&"year"||h.getMonth()!==f.getMonth()&&"month"||h.getDate()!==f.getDate()&&"day"||h.getHours()!==f.getHours()&&"hour"||h.getMinutes()!==f.getMinutes()&&"minute"||h.getSeconds()!==f.getSeconds()&&"second"||"millisecond",g=c[f],g<k&&(k=g,m=f),n.push(f);k<l&&(l=k,p=m)}return p},createUniqueValueLabel:function(b){var c=
b.value,e=b.fieldInfo,d=b.domain;b=b.dateFormatInterval;var h=String(c);(d=d&&d.codedValues?d.getName(c):null)?h=d:"number"===typeof c&&(h=e&&"date"===e.type?g.formatDate(c,b&&a[b]):f.format(c));return h}});return g})},"esri/core/numberUtils":function(){define(["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(q,b){function p(b,d){return b-d}var f=/^-?(\d+)(\.(\d+))?$/i,k=new RegExp("\\"+b.decimal+"0+$","g"),l=/(\d)0*$/g,m={numDigits:function(b){var d=String(b),c=d.match(f);b={integer:0,fractional:0};
c&&c[1]?(b.integer=c[1].split("").length,b.fractional=c[3]?c[3].split("").length:0):-1<d.toLowerCase().indexOf("e")&&(c=d.split("e"),d=c[0],c=c[1],d&&c&&(d=Number(d),c=Number(c),(b=0<c)||(c=Math.abs(c)),d=m.numDigits(d),b?(d.integer+=c,d.fractional=c>d.fractional?0:d.fractional-c):(d.fractional+=c,d.integer=c>d.integer?1:d.integer-c),b=d));return b},percentChange:function(b,d,c,a){var e={previous:null,next:null},h;null!=c&&(h=b-c,e.previous=Math.floor(Math.abs(100*(d-c-h)/h)));null!=a&&(h=a-b,e.next=
Math.floor(Math.abs(100*(a-d-h)/h)));return e},round:function(b,d){b=b.slice(0);var c,a,e,h,f,g,k,l,q=d&&null!=d.tolerance?d.tolerance:2,F=d&&d.indexes,D=d&&null!=d.strictBounds?d.strictBounds:!1;if(F)F.sort(p);else for(F=[],f=0;f<b.length;f++)F.push(f);for(f=0;f<F.length;f++)if(l=F[f],d=b[l],c=0===l?null:b[l-1],a=l===b.length-1?null:b[l+1],e=m.numDigits(d),e=e.fractional){g=0;for(k=!1;g<=e&&!k;){h=d;k=g;var B=void 0,x=void 0,B=Number(h.toFixed(k));B<h?x=B+1/Math.pow(10,k):(x=B,B-=1/Math.pow(10,k));
B=Number(B.toFixed(k));x=Number(x.toFixed(k));h=[B,x];h=D&&0===f?h[1]:h[0];k=q;var B=m.percentChange(d,h,c,a),y=x=void 0,x=void 0,x=null==B.previous||B.previous<=k,y=null==B.next||B.next<=k;k=x=x&&y||B.previous+B.next<=2*k;g++}k&&(b[l]=h)}return b},format:function(b,d){d=d||{places:20,round:-1};(b=q.format(b,d))&&(b=b.replace(l,"$1").replace(k,""));return b}};return m})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(q,b,p,f,k,l,m){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}p(d,b);c=d;d.prototype.clone=function(){return new c({color:this.color?this.color.clone():null})};var c;f([l.property(m.colorAndTransparencyProperty)],d.prototype,"color",void 0);return d=c=f([l.subclass("esri.symbols.support.Symbol3DMaterial")],d)}(l.declared(k));b.Symbol3DMaterial=q;b.default=q})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(q,b,p,f,k,l){function m(b,c){b=null!=c.transparency?l.transparencyToOpacity(c.transparency):1;if((c=c.color)&&Array.isArray(c))return new p([c[0]||0,c[1]||0,c[2]||0,b])}function g(b,c){c.color=b.toJSON().slice(0,3);b=l.opacityToTransparency(b.a);0!==b&&(c.transparency=b)}Object.defineProperty(b,"__esModule",{value:!0});b.readColorAndTransparency=m;b.writeColorAndTransparency=g;b.colorAndTransparencyProperty={type:p,json:{type:[k.Integer],read:{source:["color","transparency"],reader:m},write:{target:{color:{type:[k.Integer]},
transparency:{type:k.Integer}},writer:g}}};b.screenSizeProperty={type:Number,cast:f.toPt,json:{write:!0}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(b){b=p.ensureInteger(100*(1-b));return Math.max(0,Math.min(b,100))};b.transparencyToOpacity=function(b){return Math.max(0,Math.min(1-b/100,1))}})},"esri/symbols/edges/utils":function(){define(["require",
"exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(q,b,p,f,k){function l(b,g,d){if(!b)return b;switch(b.type){case "solid":return g=new k,g.read(b,d),g;case "sketch":return g=new f,g.read(b,d),g}}Object.defineProperty(b,"__esModule",{value:!0});b.read=l;b.symbol3dEdgesProperty={types:{key:"type",base:p,typeMap:{solid:k,sketch:f}},json:{read:l,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a){return function(b){function e(a){a=b.call(this)||this;a.color=new l([0,0,0,1]);a.extensionLength=0;a.size=d.px2pt(1);return a}p(e,b);e.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=k({},a),delete a.type);return a};e.prototype.clone=function(){};e.prototype.cloneProperties=function(){return{color:g.clone(this.color),size:this.size,extensionLength:this.extensionLength}};f([c.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],
e.prototype,"type",void 0);f([c.property(a.colorAndTransparencyProperty)],e.prototype,"color",void 0);f([c.property(k({},a.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],e.prototype,"extensionLength",void 0);f([c.property(a.screenSizeProperty)],e.prototype,"size",void 0);return e=f([c.subclass("esri.symbols.edges.Edges3D")],e)}(c.declared(m))})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.type="sketch";return c}p(g,b);d=g;g.prototype.clone=function(){return new d(this.cloneProperties())};var d;f([k.property({type:["sketch"]})],g.prototype,"type",void 0);return g=d=f([k.subclass("esri.symbols.edges.SketchEdges3D")],g)}(k.declared(l))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.type="solid";return c}p(g,b);d=g;g.prototype.clone=function(){return new d(this.cloneProperties())};var d;f([k.property({type:["solid"]})],g.prototype,"type",void 0);return g=d=f([k.subclass("esri.symbols.support.SolidEdges3D")],g)}(k.declared(l))})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(q,b,p,f,k,l,m,g){var d=new k.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(b){function a(a){a=b.call(this,a)||this;a.outline=null;a.type=null;return a}p(a,b);f([l.property({type:m,json:{default:null,write:!0}})],a.prototype,"outline",void 0);f([l.property({type:d.apiValues,readOnly:!0,json:{type:d.jsonValues}})],a.prototype,"type",void 0);return a=f([l.subclass("esri.symbols.FillSymbol")],a)}(l.declared(g))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(q,b,p,f,k,l,m,g,d){var c=new k.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,e,d,h,f){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=7.5;return b}p(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c,e,d,h){if(a&&"string"!==typeof a)return a;var f={};null!=a&&(f.style=a);null!=b&&(f.color=b);null!=c&&(f.width=m.toPt(c));null!=e&&(f.cap=e);null!=d&&(f.join=d);null!=h&&(f.miterLimit=m.toPt(h));return f};b.prototype.clone=function(){return new d({color:l.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var d;f([g.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);f([g.property({type:c.apiValues,json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);f([g.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);f([g.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);f([g.property({type:Number,
cast:m.toPt,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);return b=d=f([g.subclass("esri.symbols.SimpleLineSymbol")],b)}(g.declared(d))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(q,b,p,f,k,l,m){return function(b){function d(c){c=b.call(this,c)||this;c.type="simple-line";c.width=.75;return c}p(d,b);f([l.enumeration.serializable()({esriSLS:"simple-line"})],
d.prototype,"type",void 0);f([l.property({type:Number,cast:k.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=f([l.subclass("esri.symbols.LineSymbol")],d)}(l.declared(m))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(q,b,p,f,k,l,m,g,d){return function(b){function a(a){a=
b.call(this)||this;a.type="fill";a.material=null;a.castShadows=!0;a.outline=null;a.edges=null;return a}p(a,b);c=a;a.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,outline:this.outline&&this.outline.clone()})};var c;f([k.enumeration.serializable()({Fill:"fill"})],a.prototype,"type",void 0);f([k.property({type:g.default})],
a.prototype,"material",void 0);f([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],a.prototype,"castShadows",void 0);f([k.property({type:d.default,json:{write:!0}})],a.prototype,"outline",void 0);f([k.property(m.symbol3dEdgesProperty)],a.prototype,"edges",void 0);return a=c=f([k.subclass("esri.symbols.FillSymbol3DLayer")],a)}(k.declared(l))})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function g(){return null!==b&&b.apply(this,arguments)||this}p(g,b);d=g;g.prototype.clone=function(){return new d({color:this.color?this.color.clone():null,colorMixMode:this.colorMixMode})};var d;f([k.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],g.prototype,"colorMixMode",void 0);return g=d=f([k.subclass("esri.symbols.support.Symbol3DFillMaterial")],g)}(k.declared(l.default));b.Symbol3DFillMaterial=
q;b.default=q})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new k([0,0,0,1]);a.size=m.px2pt(1);return a}p(a,b);
c=a;a.prototype.clone=function(){return new c({color:this.color?this.color.clone():null,size:this.size})};var c;f([g.property(d.colorAndTransparencyProperty)],a.prototype,"color",void 0);f([g.property(d.screenSizeProperty)],a.prototype,"size",void 0);return a=c=f([g.subclass("esri.symbols.support.Symbol3DOutline")],a)}(g.declared(l));b.Symbol3DOutline=q;b.default=q})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l,m){return function(b){function d(a){a=b.call(this)||this;a.decoration="none";a.family="sans-serif";a.size=9;a.style="normal";a.weight="normal";return a}p(d,b);c=d;d.prototype.castSize=function(a){return l.toPt(a)};d.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var c;f([m.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],d.prototype,"decoration",void 0);
f([m.property({type:String,json:{write:!0}})],d.prototype,"family",void 0);f([m.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],d.prototype,"size",void 0);f([m.cast("size")],d.prototype,"castSize",null);f([m.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],d.prototype,"style",void 0);f([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],d.prototype,"weight",void 0);return d=
c=f([m.subclass("esri.symbols.Font")],d)}(m.declared(k))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DOutline".split(" "),function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type=
"icon";b.size=12;b.anchor="center";b.anchorPosition=void 0;b.outline=void 0;return b}p(b,a);h=b;b.prototype.clone=function(){return new h({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone(),resource:this.resource&&this.resource.clone(),size:this.size})};var h;f([k.property()],b.prototype,"material",
void 0);f([k.property({type:m.default,json:{write:!0}})],b.prototype,"resource",void 0);f([k.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);f([k.property(g.screenSizeProperty)],b.prototype,"size",void 0);f([k.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),k.property({json:{default:"center"}})],b.prototype,"anchor",
void 0);f([k.property({type:d.Symbol3DAnchorPosition2D,json:{read:{reader:function(a){return new d.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);f([k.property({type:c.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=h=f([k.subclass("esri.symbols.IconSymbol3DLayer")],b)}(k.declared(l))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l,m,g){Object.defineProperty(b,"__esModule",{value:!0});var d=l.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});q=function(b){function a(a){return b.call(this,a)||this}p(a,b);c=a;a.prototype.readHref=function(a,b,c){return a?m.fromJSON(a,c):b.dataURI};a.prototype.writeHref=function(a,b,c,e){a&&(m.isDataProtocol(a)?b.dataURI=a:(b.href=m.toJSON(a,e),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href))))};a.prototype.clone=function(){return new c({href:this.href,
primitive:this.primitive})};var c;f([g.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.prototype,"href",void 0);f([g.reader("href")],a.prototype,"readHref",null);f([g.writer("href",{href:{type:String},dataURI:{type:String}})],a.prototype,"writeHref",null);f([g.enumeration.serializable()(d)],a.prototype,"primitive",void 0);return a=c=f([g.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a)}(g.declared(k));b.IconSymbol3DLayerResource=q;b.defaultPrimitive="circle";
b.default=q})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.x=0;c.y=0;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({x:this.x,y:this.y})};var d;f([l.property({type:Number})],
g.prototype,"x",void 0);f([l.property({type:Number})],g.prototype,"y",void 0);return g=d=f([l.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],g)}(l.declared(k));b.Symbol3DAnchorPosition2D=q;b.default=q})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a){var e=k.ofType({base:null,key:"type",typeMap:{text:d}});return function(b){function d(a){a=b.call(this)||this;a.verticalOffset=null;a.callout=null;a.styleOrigin=null;a.symbolLayers=new e;a.type="label-3d";return a}p(d,b);h=d;d.prototype.supportsCallout=function(){return!0};d.prototype.hasVisibleCallout=function(){return c.hasVisibleCallout(this)};d.prototype.hasVisibleVerticalOffset=function(){return c.hasVisibleVerticalOffset(this)};d.prototype.clone=function(){return new h({styleOrigin:l.clone(this.styleOrigin),
symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail),callout:l.clone(this.callout),verticalOffset:l.clone(this.verticalOffset)})};var h;f([m.property({type:a.default,json:{write:!0}})],d.prototype,"verticalOffset",void 0);f([m.property(c.calloutProperty)],d.prototype,"callout",void 0);f([m.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);f([m.property({type:e})],d.prototype,"symbolLayers",void 0);f([m.enumeration.serializable()({LabelSymbol3D:"label-3d"})],
d.prototype,"type",void 0);return d=h=f([m.subclass("esri.symbols.LabelSymbol3D")],d)}(m.declared(g))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/kebabDictionary ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u,w,F,D,B,x,y){var C={icon:r,object:u,line:t,path:w,fill:n,extrude:h,text:B},v=k.ofType({base:D,key:"type",typeMap:C}),z=m.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),E=g.getLogger("esri.symbols.Symbol3D");return function(b){function h(a){a=b.call(this)||this;a.styleOrigin=null;a.thumbnail=null;a.type=null;var c=a.__accessor__&&a.__accessor__.metadatas&&a.__accessor__.metadatas.symbolLayers;
a._set("symbolLayers",new (c&&c.type||k));return a}p(h,b);Object.defineProperty(h.prototype,"color",{get:function(){return null},set:function(a){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"symbolLayers",{set:function(a){l.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});h.prototype.readSymbolLayers=function(a,b,e){b=[];
for(var d=0;d<a.length;d++){var h=a[d],f=D.typeJSONDictionary.read(h.type),g=f&&C[f];g?(h=new g,h.read(a[d],e),b.push(h)):(E.warn("Unknown symbol layer type: "+f),e&&e.messages&&e.messages.push(new c("symbol-layer:unsupported","Symbol layers of type '"+(f||h.type||"unknown")+"' are not supported",{definition:h,context:e})))}return b};h.prototype.readStyleOrigin=function(a,b,h){if(a.styleUrl&&a.name)return b=d.fromJSON(a.styleUrl,h),new x({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new x({portal:h&&
h.portal||e.getDefault(),styleName:a.styleName,name:a.name});h&&h.messages&&h.messages.push(new c("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:h,definition:a}))};h.prototype.writeStyleOrigin=function(a,b,e,h){a.styleUrl&&a.name?(e=d.toJSON(a.styleUrl,h),d.isAbsolute(e)&&(e=d.normalize(e)),b.styleOrigin={styleUrl:e,name:a.name}):a.styleName&&a.name&&(a.portal&&h&&h.portal&&!d.hasSamePortal(a.portal.restUrl,h.portal.restUrl)?
h&&h.messages&&h.messages.push(new c("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};h.prototype.normalizeCtorArgs=function(a){return a instanceof D||a&&C[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};f([a.property({json:{read:!1,write:!1}})],h.prototype,"color",null);f([a.property({type:v,nonNullable:!0,json:{write:!0}}),
a.cast(l.castForReferenceSetter)],h.prototype,"symbolLayers",null);f([a.reader("symbolLayers")],h.prototype,"readSymbolLayers",null);f([a.property({type:x})],h.prototype,"styleOrigin",void 0);f([a.reader("styleOrigin")],h.prototype,"readStyleOrigin",null);f([a.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],h.prototype,"writeStyleOrigin",null);f([a.property({type:y.default,json:{read:!1}})],h.prototype,"thumbnail",
void 0);f([a.property({type:z.apiValues,readOnly:!0,json:{type:z.jsonValues,read:!1}})],h.prototype,"type",void 0);return h=f([a.subclass("esri.symbols.Symbol3D")],h)}(a.declared(F))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(b,k,l){void 0===l&&(l=p);k||(k=new l);if(k===b)return k;k.removeAll();b&&(Array.isArray(b)||b.isInstanceOf&&b.isInstanceOf(p))?k.addMany(b):
b&&k.add(b);return k};b.castForReferenceSetter=function(b){return b}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/materialUtils".split(" "),function(q,b,p,f,k,l,m,g){return function(b){function c(a){a=b.call(this)||this;a.material=null;a.type="line";a.size=k.px2pt(1);return a}p(c,b);a=c;c.prototype.clone=function(){return new a({enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};var a;f([l.property()],c.prototype,"material",void 0);f([l.enumeration.serializable()({Line:"line"})],c.prototype,"type",void 0);f([l.property(g.screenSizeProperty)],c.prototype,"size",void 0);return c=a=f([l.subclass("esri.symbols.LineSymbol3DLayer")],c)}(l.declared(m))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(q,b,p,f,k,l,m,g,d){return function(b){function a(a){a=b.call(this)||this;a.material=null;a.castShadows=!0;a.resource=null;a.type="object";a.width=void 0;a.height=void 0;a.depth=void 0;a.anchor=void 0;a.anchorPosition=void 0;a.heading=void 0;a.tilt=void 0;a.roll=void 0;return a}p(a,b);c=a;a.prototype.clone=function(){return new c({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:this.material&&this.material.clone(),castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(a.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var c;f([k.property({type:d.default})],a.prototype,"material",void 0);f([k.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],a.prototype,"castShadows",void 0);f([k.property({type:m.default,json:{write:!0}})],a.prototype,"resource",void 0);f([k.enumeration.serializable()({Object:"object"})],a.prototype,"type",void 0);f([k.property({type:Number,json:{write:!0}})],a.prototype,"width",void 0);f([k.property({type:Number,json:{write:!0}})],a.prototype,"height",void 0);f([k.property({type:Number,json:{write:!0}})],a.prototype,"depth",void 0);f([k.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",
origin:"origin",relative:"relative"}),k.property({json:{default:"origin"}})],a.prototype,"anchor",void 0);f([k.property({type:g.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new g.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],a.prototype,"anchorPosition",void 0);f([k.property({type:Number,json:{write:!0}})],a.prototype,"heading",void 0);
f([k.property({type:Number,json:{write:!0}})],a.prototype,"tilt",void 0);f([k.property({type:Number,json:{write:!0}})],a.prototype,"roll",void 0);f([k.property({readOnly:!0,dependsOn:["resource","resource.href"]})],a.prototype,"isPrimitive",null);return a=c=f([k.subclass("esri.symbols.ObjectSymbol3DLayer")],a)}(k.declared(l))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l,m,g){Object.defineProperty(b,"__esModule",{value:!0});var d=l.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});q=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}p(a,b);c=a;a.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;f([g.property({type:String,json:{read:m.read,write:m.write}})],a.prototype,"href",void 0);f([g.enumeration.serializable()(d)],
a.prototype,"primitive",void 0);return a=c=f([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a)}(g.declared(k));b.ObjectSymbol3DLayerResource=q;b.defaultPrimitive="sphere";b.default=q})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});
q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.x=0;c.y=0;c.z=0;return c}p(g,b);d=g;g.prototype.clone=function(){return new d({x:this.x,y:this.y,z:this.z})};var d;f([l.property({type:Number})],g.prototype,"x",void 0);f([l.property({type:Number})],g.prototype,"y",void 0);f([l.property({type:Number})],g.prototype,"z",void 0);return g=d=f([l.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],g)}(l.declared(k));b.Symbol3DAnchorPosition3D=q;b.default=q})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer".split(" "),
function(q,b,p,f,k,l){return function(b){function g(c){c=b.call(this)||this;c.material=null;c.castShadows=!0;c.type="path";c.size=void 0;c.profile="tube";c.joint="simple";return c}p(g,b);d=g;g.prototype.readSize=function(b,a){return b||a.width||0};g.prototype.clone=function(){return new d({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,size:this.size,profile:this.profile,joint:this.joint})};
var d;f([k.property()],g.prototype,"material",void 0);f([k.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],g.prototype,"castShadows",void 0);f([k.enumeration.serializable()({Path:"path"})],g.prototype,"type",void 0);f([k.property({type:Number,json:{write:{enabled:!0,target:{size:{type:Number},width:{type:Number}}}}})],g.prototype,"size",void 0);f([k.reader("size",["size","width"])],g.prototype,"readSize",null);f([k.property()],g.prototype,"profile",void 0);f([k.property()],g.prototype,
"joint",void 0);return g=d=f([k.subclass("esri.symbols.PathSymbol3DLayer")],g)}(k.declared(l))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo".split(" "),function(q,b,p,f,k,l,m,g,d,c,a){return function(b){function e(a){a=b.call(this)||this;a._userSize=void 0;
a.halo=null;a.material=null;a.text=void 0;a.type="text";return a}p(e,b);d=e;Object.defineProperty(e.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});e.prototype.writeFont=function(a,b,c,e){c=k({},e,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(e.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=
this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new d({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&l.clone(this.font),halo:this.halo&&l.clone(this.halo),material:this.material&&this.material.clone(),size:this.size,text:this.text})};var d;f([m.property({type:g,json:{write:!0}})],e.prototype,
"font",null);f([m.writer("font")],e.prototype,"writeFont",null);f([m.property({type:a.default,json:{write:!0}})],e.prototype,"halo",void 0);f([m.property()],e.prototype,"material",void 0);f([m.property(c.screenSizeProperty),m.property({dependsOn:["font.size"]})],e.prototype,"size",null);f([m.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);f([m.enumeration.serializable()({Text:"text"})],e.prototype,"type",void 0);return e=d=f([m.subclass("esri.symbols.TextSymbol3DLayer")],e)}(m.declared(d))})},
"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new k([0,0,0,1]);a.size=0;return a}p(a,b);c=a;a.prototype.clone=function(){return new c({color:m.clone(this.color),
size:this.size})};var c;f([g.property(d.colorAndTransparencyProperty)],a.prototype,"color",void 0);f([g.property(d.screenSizeProperty)],a.prototype,"size",void 0);return a=c=f([g.subclass("esri.symbols.support.Symbol3DHalo")],a)}(g.declared(l));b.Symbol3DHalo=q;b.default=q})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(q,b,p,f,k,l,m){return function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.portal=null;return a}p(d,b);c=d;d.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;f([l.property({type:String})],d.prototype,"name",void 0);f([l.property({type:String})],d.prototype,"styleUrl",void 0);f([l.property({type:String})],d.prototype,"styleName",void 0);f([l.property({type:m})],d.prototype,"portal",void 0);
return d=c=f([l.subclass("esri.symbols.support.StyleOrigin")],d)}(l.declared(k))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(q,b,p,f,k,l){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function g(){return null!==b&&b.apply(this,arguments)||this}p(g,b);d=g;g.prototype.clone=function(){return new d({url:this.url})};
var d;f([l.property({type:String})],g.prototype,"url",void 0);return g=d=f([l.subclass("esri.symbols.support.Thumbnail")],g)}(l.declared(k));b.Thumbnail=q;b.default=q})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(q,b,p,f){function k(b){if(!b)return!1;b=b.verticalOffset;return!b||0>=b.screenLength||0>=b.maxWorldLength?!1:!0}function l(b,g,d){if(!b)return b;switch(b.type){case "line":return g=new f,g.read(b,d),g}}Object.defineProperty(b,
"__esModule",{value:!0});b.hasVisibleVerticalOffset=k;b.hasVisibleCallout=function(b){if(!b||!b.supportsCallout||!b.supportsCallout())return!1;var f=b.callout;return f&&f.visible?k(b)?!0:!1:!1};b.isCalloutSupport=function(b){return"point-3d"===b.type||"label-3d"===b.type};b.read=l;b.calloutProperty={types:{key:"type",base:p,typeMap:{line:f}},json:{read:l,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(q,b,p,f,k,l,m){return function(b){function d(c){c=b.call(this)||this;c.visible=!0;return c}f(d,b);d.prototype.normalizeCtorArgs=function(b){b&&b.type&&(b=p({},b),delete b.type);return b};d.prototype.clone=function(){};k([m.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);k([m.property({readOnly:!0})],d.prototype,"visible",void 0);return d=k([m.subclass("esri.symbols.callouts.Callout3D")],d)}(m.declared(l))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a){return function(b){function e(a){a=b.call(this)||this;a.type="line";a.color=new k([0,0,0,1]);a.size=m.px2pt(1);a.border=null;return a}p(e,b);d=e;Object.defineProperty(e.prototype,"visible",{get:function(){return 0<this.size&&0<this.color.a},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new d({color:l.clone(this.color),size:this.size,border:l.clone(this.border)})};var d;f([g.property({type:["line"]})],e.prototype,"type",void 0);f([g.property(a.colorAndTransparencyProperty)],
e.prototype,"color",void 0);f([g.property(a.screenSizeProperty)],e.prototype,"size",void 0);f([g.property({type:c.default,json:{write:!0}})],e.prototype,"border",void 0);f([g.property({dependsOn:["size","color"],readOnly:!0})],e.prototype,"visible",null);return e=d=f([g.subclass("esri.symbols.callouts.LineCallout3D")],e)}(g.declared(d))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(q,b,p,f,k,l,m,g,d){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.color=new k("white");return a}p(a,b);c=a;a.prototype.clone=function(){return new c({color:m.clone(this.color)})};var c;f([g.property(d.colorAndTransparencyProperty)],a.prototype,"color",void 0);return a=c=f([g.subclass("esri.symbols.callouts.LineCallout3DBorder")],a)}(g.declared(l));b.LineCallout3DBorder=q;b.default=q})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(q,b,p,f,k,l,m){Object.defineProperty(b,"__esModule",{value:!0});q=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||this;a.screenLength=0;a.minWorldLength=0;return a}p(d,b);c=d;d.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;f([l.property(m.screenSizeProperty)],d.prototype,"screenLength",void 0);f([l.property({type:Number,json:{write:!0,default:0}})],d.prototype,"minWorldLength",
void 0);f([l.property({type:Number,json:{write:!0}})],d.prototype,"maxWorldLength",void 0);return d=c=f([l.subclass("esri.symbols.support.Symbol3DVerticalOffset")],d)}(l.declared(k));b.Symbol3DVerticalOffset=q;b.default=q})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(q,
b,p,f,k,l,m,g,d,c){var a=k.ofType({base:null,key:"type",typeMap:{line:g,path:d}}),e=k.ofType({base:null,key:"type",typeMap:{line:g,path:d}});return function(b){function c(c){c=b.call(this)||this;c.symbolLayers=new a;c.type="line-3d";return c}p(c,b);d=c;c.prototype.clone=function(){return new d({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};var d;f([m.property({type:a,json:{type:e}})],c.prototype,"symbolLayers",void 0);f([m.enumeration.serializable()({LineSymbol3D:"line-3d"})],
c.prototype,"type",void 0);return c=d=f([m.subclass("esri.symbols.LineSymbol3D")],c)}(m.declared(c))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(q,b,p,f,k,l,m,g){var d=new k.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(b){function a(a){a=b.call(this,a)||this;a.angle=
0;a.type=null;a.xoffset=0;a.yoffset=0;a.size=9;return a}p(a,b);f([m.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],a.prototype,"angle",void 0);f([m.property({type:d.apiValues,readOnly:!0,json:{type:d.jsonValues}})],a.prototype,"type",void 0);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],a.prototype,"xoffset",void 0);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],a.prototype,"yoffset",void 0);f([m.property({type:Number,
cast:function(a){return"auto"===a?a:l.toPt(a)},json:{write:!0}})],a.prototype,"size",void 0);return a=f([m.subclass("esri.symbols.MarkerSymbol")],a)}(m.declared(g))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),function(q,b,p,f,k,l,m,g,d){var c=k.ofType({base:null,key:"type",typeMap:{fill:g}});return function(a){function b(b){b=
a.call(this)||this;b.symbolLayers=new c;b.type="mesh-3d";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};var d;f([m.property({type:c})],b.prototype,"symbolLayers",void 0);f([m.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);return b=d=f([m.subclass("esri.symbols.MeshSymbol3D")],b)}(m.declared(d))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),
function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}p(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=m.toPt(c));null!=d&&(e.height=m.toPt(d));return e};b.prototype.clone=function(){var a=new d({color:l.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});a._set("source",l.clone(this.source));return a};var d;f([g.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);f([g.property(c.urlPropertyDefinition)],b.prototype,"url",void 0);f([g.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);f([g.property({type:Number,json:{write:!0}})],
b.prototype,"yscale",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"width",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"height",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);f([g.property(c.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=d=f([g.subclass("esri.symbols.PictureFillSymbol")],
b)}(g.declared(d))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(q,b,p){function f(b,f,d){return f.imageData?p.makeData({mediaType:f.contentType||"image/png",isBase64:!0,data:f.imageData}):k(f.url,d)}function k(b,f){return!f||"service"!==f.origin&&"portal-item"!==f.origin||!f.layer||"feature"!==f.layer.type&&"stream"!==f.layer.type||p.isAbsolute(b)||!f.layer.parsedUrl?p.fromJSON(b,f):p.join(f.layer.parsedUrl.path,"images",b)}function l(b,
f,d,c){p.isDataProtocol(b)?(b=p.dataComponents(b),f.contentType=b.mediaType,f.imageData=b.data,d&&d.imageData===f.imageData&&d.url&&p.write(d.url,f,"url",c)):p.write(b,f,"url",c)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=f;b.read=k;b.writeImageDataAndUrl=l;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:f},write:{writer:function(b,f,d,c){l(b,f,this.source,c)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(b,
f,d){b={};f.imageData&&(b.imageData=f.imageData);f.contentType&&(b.contentType=f.contentType);f.url&&(b.url=k(f.url,d));return b}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(q,b,p,f,k,l,m,g,d){return function(b){function a(a,c,d){a=b.call(this,a)||this;a.color=null;a.type="picture-marker";
a.url=null;a.source=null;a.height=12;a.width=12;a.size=null;return a}p(a,b);c=a;a.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=l.toPt(b));null!=c&&(d.height=l.toPt(c));return d};a.prototype.readHeight=function(a,b){return b.size||a};a.prototype.readWidth=function(a,b){return b.size||a};a.prototype.clone=function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
yoffset:this.yoffset});a._set("source",k.clone(this.source));return a};var c;f([m.property({json:{write:!1}})],a.prototype,"color",void 0);f([m.enumeration.serializable()({esriPMS:"picture-marker"})],a.prototype,"type",void 0);f([m.property(d.urlPropertyDefinition)],a.prototype,"url",void 0);f([m.property(d.sourcePropertyDefinition)],a.prototype,"source",void 0);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],a.prototype,"height",void 0);f([m.reader("height",["height","size"])],a.prototype,
"readHeight",null);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],a.prototype,"width",void 0);f([m.property({json:{write:!1}})],a.prototype,"size",void 0);return a=c=f([m.subclass("esri.symbols.PictureMarkerSymbol")],a)}(m.declared(g))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n){var r=k.ofType({base:null,key:"type",typeMap:{icon:d,object:c,text:e}}),t=k.ofType({base:null,key:"type",typeMap:{icon:d,object:c}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new r;b.type="point-3d";return b}p(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new l("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return h.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return h.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:m.clone(this.verticalOffset),callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};var c;f([g.property({type:n.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);f([g.property(h.calloutProperty)],b.prototype,"callout",void 0);f([g.property({type:r,json:{type:t}})],b.prototype,"symbolLayers",
void 0);f([g.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);f([g.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=f([g.subclass("esri.symbols.PointSymbol3D")],b)}(g.declared(a))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r){var t=k.ofType({base:null,key:"type",typeMap:{extrude:d,fill:c,icon:a,line:e,object:h,text:r}}),u=k.ofType({base:null,key:"type",typeMap:{extrude:d,fill:c,icon:a,line:e,object:h}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}p(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new l("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var d=b.symbolLayers.getItemAt(0),e=
b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(d.outline={size:e.size,color:e.material.color});b.symbolLayers.removeAt(1)}return b};var c;f([g.property({type:t,json:{type:u}})],b.prototype,"symbolLayers",void 0);f([g.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);f([g.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=c=f([g.subclass("esri.symbols.PolygonSymbol3D")],
b)}(g.declared(n))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(q,b,p,f,k,l,m,g,d,c,a){var e=new m.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",
esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(b){function c(c,d,e){c=b.call(this,c)||this;c.color=new l([0,0,0,.25]);c.outline=new a;c.type="simple-fill";c.style="solid";return c}p(c,b);h=c;c.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};c.prototype.clone=function(){return new h({color:g.clone(this.color),outline:this.outline&&
this.outline.clone(),style:this.style})};var h;f([d.property()],c.prototype,"color",void 0);f([d.property()],c.prototype,"outline",void 0);f([d.enumeration.serializable()({esriSFS:"simple-fill"})],c.prototype,"type",void 0);f([d.property({type:e.apiValues,json:{read:e.read,write:e.write}})],c.prototype,"style",void 0);return c=h=f([d.subclass("esri.symbols.SimpleFillSymbol")],c)}(d.declared(c))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/kebabDictionary ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a){var e=new l.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(b){function c(c,d,e,f){c=b.call(this,c)||this;c.color=new k([255,255,255,.25]);c.type="simple-marker";c.size=12;c.style="circle";c.outline=new a;return c}p(c,b);h=c;c.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&
(e.size=g.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};c.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())};Object.defineProperty(c.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new h({angle:this.angle,color:m.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};
var h;f([d.property()],c.prototype,"color",void 0);f([d.writer("color")],c.prototype,"writeColor",null);f([d.enumeration.serializable()({esriSMS:"simple-marker"})],c.prototype,"type",void 0);f([d.property()],c.prototype,"size",void 0);f([d.property({type:e.apiValues,json:{read:e.read,write:e.write}})],c.prototype,"style",void 0);f([d.property({type:String,json:{write:!0}})],c.prototype,"path",null);f([d.property({type:a,json:{default:null,write:!0}})],c.prototype,"outline",void 0);return c=h=f([d.subclass("esri.symbols.SimpleMarkerSymbol")],
c)}(d.declared(c))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(q,b,p,f,k,l,m,g,d,c){return function(a){function b(b,c,e){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new d;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=
null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}p(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:l.clone(this.backgroundColor),borderLineColor:l.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:l.clone(this.color),
font:this.font&&this.font.clone(),haloColor:l.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var c;f([g.property({type:k,json:{write:!0}})],b.prototype,"backgroundColor",void 0);f([g.property({type:k,json:{write:!0}})],b.prototype,"borderLineColor",void 0);f([g.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);f([g.property({type:d,json:{write:!0}})],b.prototype,"font",void 0);f([g.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);f([g.property({type:k,json:{write:!0}})],b.prototype,"haloColor",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);f([g.property({type:Boolean,
json:{write:!0}})],b.prototype,"rightToLeft",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);f([g.property({type:String,readOnly:!0})],b.prototype,"type",void 0);f([g.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);f([g.property({type:Number,
cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);f([g.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);f([g.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=f([g.subclass("esri.symbols.TextSymbol")],b)}(g.declared(c))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e){var h=l.getLogger("esri.symbols.WebStyleSymbol"),n=k.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}p(b,a);k=b;b.prototype.read=function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,
portal:this.portal})};b.prototype.fetchSymbol=function(){var a=this;return m.create(function(a){return q(["./support/styleUtils"],a)}).then(function(b){b=b.resolveWebStyleSymbol(a,{portal:a.portal});b.catch(function(a){h.error("#fetchSymbol()","Failed to create symbol from style",a)});return b})};var k;f([d.property({json:{write:!1}})],b.prototype,"color",void 0);f([d.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);f([d.property({type:c,json:{write:!1}})],b.prototype,"portal",
void 0);f([d.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"styleUrl",void 0);f([d.property({type:e.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);f([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);f([d.property({type:n.apiValues,readOnly:!0,json:{type:n.jsonValues,read:!1,write:n.write}})],b.prototype,"type",void 0);return b=k=f([d.subclass("esri.symbols.WebStyleSymbol")],b)}(d.declared(a))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t,u,w,F,D){function B(a,b,c){b=a?y[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new f("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function x(a,b,c){if(!a)return null;if(c&&"web-scene"===c.origin&&!a.isInstanceOf(t)&&!a.isInstanceOf(w)){var d=D.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new p("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var y={esriSMS:r,esriPMS:c,esriTS:u,esriSLS:n,esriSFS:h,esriPFS:d,PointSymbol3D:a,LineSymbol3D:m,PolygonSymbol3D:e,MeshSymbol3D:g,LabelSymbol3D:l,styleSymbolReference:w,CIMSymbolReference:k};b.read=B;b.writeTarget=function(a,b,c,d){(a=x(a,{},d))&&(b[c]=
a)};b.write=x;b.fromJSON=function(a,b){return B(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new F}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define("require exports ../../Color ../../symbols ../../core/Error ../../core/lang ../../core/Logger ../../core/mathUtils ../Font ./IconSymbol3DLayerResource".split(" "),function(q,b,p,f,k,l,m,g,d,c){function a(a){var b=a.color?a.color.clone():new p([255,255,255]),
d,g,k,l;if(a instanceof f.PictureMarkerSymbol)a.color&&0===a.color.r&&0===a.color.g&&0===a.color.b&&(b=new p([255,255,255])),d=new c.default({href:a.url}),g=a.width<=a.height?a.height:a.width,(e(a.xoffset)||e(a.yoffset))&&0<a.width&&0<a.height&&(l={x:-(a.xoffset||0)/a.width,y:(a.yoffset||0)/a.height});else{d=c.default;g=a.style;var m=h[g];m?g=m:(n.warn(g+' cannot be mapped to Icon symbol. Fallback to "circle"'),g="circle");d=new d({primitive:g});g=a.size;(e(a.xoffset)||e(a.yoffset))&&0<a.size&&(l=
{x:-(a.xoffset||0)/g,y:(a.yoffset||0)/g});a.outline&&0<a.outline.width&&(k={size:a.outline.width,color:a.outline.color?a.outline.color.clone():[255,255,255]})}return new f.PointSymbol3D(new f.IconSymbol3DLayer({size:g,resource:d,material:{color:b},outline:k,anchor:l?"relative":void 0,anchorPosition:l}))}function e(a){return g.isFinite(a)&&0!==a}Object.defineProperty(b,"__esModule",{value:!0});var h={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null},
n=m.getLogger("esri.symbols.support.symbolConversion");b.to3D=function(b,c,e,h){void 0===c&&(c=!1);void 0===e&&(e=!1);void 0===h&&(h=!0);if(!b)return{symbol:null};if(f.isSymbol3D(b)||b instanceof f.WebStyleSymbol)h=b.clone();else if(b instanceof f.SimpleLineSymbol)h=new f.LineSymbol3D(new f.LineSymbol3DLayer({size:b.width||1,material:{color:b.color?b.color.clone():[255,255,255]}}));else if(b instanceof f.SimpleMarkerSymbol)h=a(b);else if(b instanceof f.PictureMarkerSymbol)h=a(b);else if(b instanceof
f.SimpleFillSymbol)h=new f.FillSymbol3DLayer({material:{color:b.color?b.color.clone():[255,255,255,0]}}),b.outline&&(h.outline={size:b.outline.width||0,color:b.outline.color?b.outline.color.clone():[255,255,255]}),h=new f.PolygonSymbol3D(h);else if(b instanceof f.TextSymbol){var g;g=b.haloColor;var n=b.haloSize;g=g&&0<n?{color:l.clone(g),size:n}:null;n=b.font?b.font.clone():new d;h=new (h?f.LabelSymbol3D:f.PointSymbol3D)(new f.TextSymbol3DLayer({size:n.size,font:n,halo:g,material:{color:b.color.clone()},
text:b.text}))}else return{error:new k("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(b.type||b.declaredClass)+"' is unsupported in 3D",{symbol:b})};c&&(h.id=b.id);if(e&&f.isSymbol3D(h))for(b=0;b<h.symbolLayers.length;++b)h.symbolLayers.getItemAt(b)._ignoreDrivers=!0;return{symbol:h}}})},"esri/core/mathUtils":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.isFinite=Number.isFinite||function(b){return"number"===typeof b&&window.isFinite(b)};
b.isNaN=Number.isNaN||function(b){return b!==b};b.nextHighestPowerOfTwo=function(b){--b;for(var f=1;32>f;f<<=1)b|=b>>f;return b+1}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.isSome=function(b){return null!=b};b.isNone=function(b){return null==b};b.map=function(b,k){return null!=b?k(b):null};b.unwrap=function(b){return b};b.expect=function(b){return b}})},"esri/geometry/support/aaBoundingBox":function(){define(["require",
"exports","../Extent","./aaBoundingRect"],function(q,b,p,f){function k(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function l(a,b,c,d,e,f,g){void 0===g&&(g=k());g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return g}function m(a){return a[0]>=a[3]?0:a[3]-a[0]}function g(a){return a[1]>=a[4]?0:a[4]-a[1]}function d(a){return a[2]>=a[5]?0:a[5]-a[2]}function c(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function a(a){return 6===a.length}Object.defineProperty(b,
"__esModule",{value:!0});b.create=k;b.fromValues=l;b.fromExtent=function(a,b){void 0===b&&(b=k());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new p({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new p({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,c){void 0===c&&(c=k());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=
b[2];return c};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(b,c,d){void 0===d&&(d=b);a(c)?(d[0]=Math.min(b[0],c[0]),d[1]=Math.min(b[1],c[1]),d[2]=Math.min(b[2],c[2]),d[3]=Math.max(b[3],c[3]),d[4]=Math.max(b[4],c[4]),d[5]=Math.max(b[5],c[5])):f.is(c)?(d[0]=Math.min(b[0],c[0]),d[1]=Math.min(b[1],c[1]),d[3]=Math.max(b[3],c[2]),d[4]=Math.max(b[4],c[3])):2===
c.length?(d[0]=Math.min(b[0],c[0]),d[1]=Math.min(b[1],c[1]),d[3]=Math.max(b[3],c[0]),d[4]=Math.max(b[4],c[1])):3===c.length&&(d[0]=Math.min(b[0],c[0]),d[1]=Math.min(b[1],c[1]),d[2]=Math.min(b[2],c[2]),d[3]=Math.max(b[3],c[0]),d[4]=Math.max(b[4],c[1]),d[5]=Math.max(b[5],c[2]));return d};b.expandWithBuffer=function(a,b,c,d,e){void 0===e&&(e=a);var f=a[0],h=a[1],g=a[2],n=a[3],k=a[4];a=a[5];for(var l=0;l<d;l++)f=Math.min(f,b[c+3*l]),h=Math.min(h,b[c+3*l+1]),g=Math.min(g,b[c+3*l+2]),n=Math.max(n,b[c+3*
l]),k=Math.max(k,b[c+3*l+1]),a=Math.max(a,b[c+3*l+2]);e[0]=f;e[1]=h;e[2]=g;e[3]=n;e[4]=k;e[5]=a;return e};b.expandWithNestedArray=function(a,b,c,d){void 0===d&&(d=a);var e=b.length,f=a[0],h=a[1],g=a[2],n=a[3],k=a[4];a=a[5];if(c)for(c=0;c<e;c++){var l=b[c],f=Math.min(f,l[0]),h=Math.min(h,l[1]),g=Math.min(g,l[2]),n=Math.max(n,l[0]),k=Math.max(k,l[1]);a=Math.max(a,l[2])}else for(c=0;c<e;c++)l=b[c],f=Math.min(f,l[0]),h=Math.min(h,l[1]),n=Math.max(n,l[0]),k=Math.max(k,l[1]);d[0]=f;d[1]=h;d[2]=g;d[3]=n;
d[4]=k;d[5]=a;return d};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=m;b.depth=g;b.height=d;b.diameter=function(a){var b=m(a),c=d(a);a=g(a);return Math.sqrt(b*b+c*c+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+m(a)/2;b[1]=a[1]+g(a)/2;b[2]=a[2]+d(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=m(a);b[1]=g(a);b[2]=d(a);return b};b.maximumDimension=function(a){return Math.max(m(a),d(a),g(a))};b.containsPoint=function(a,b){return b[0]>=
a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};b.offset=function(a,b,c,d,e){void 0===
e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+c;e[2]=a[2]+d;e[3]=a[3]+b;e[4]=a[4]+c;e[5]=a[5]+d;return e};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};b.setMax=function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};b.set=c;b.empty=function(a){return a?c(a,b.NEGATIVE_INFINITY):k(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=f.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];
return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[3]=b[2];a[4]=b[3];return a};b.is=a;b.isPoint=function(a){return 0===m(a)&&0===g(a)&&0===d(a)};b.equals=function(b,c,d){if(null==b||null==c)return b===c;if(!a(b)||!a(c))return!1;if(d)for(var e=0;e<b.length;e++){if(!d(b[e],c[e]))return!1}else for(e=0;e<b.length;e++)if(b[e]!==c[e])return!1;return!0};b.wrap=function(a,b,c,d,f,g){return l(a,b,c,d,f,g,e)};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=
[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0];var e=k()})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(q,b,p){function f(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function k(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function l(a,b,c){for(var d=[],e,g,h,n,l=0;l<c.length;l++){var m=c[l];if(0<l){if(h=f(a,m[0]),n=k(a,m[1]),h!==e||n!==g)d.push(b(m,h-e,n-g)),e=h,g=n}else e=f(a,m[0]),g=
k(a,m[1]),d.push(b(m,e,g))}return 0<d.length?d:null}function m(a,b,c,d){return l(a,c?d?z:v:d?v:C,b)}function g(a,b,c,d){var e=[];c=c?d?z:v:d?v:C;for(d=0;d<b.length;d++){var f=l(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function d(a,b,c,d){var e=[];c=c?d?z:v:d?v:C;for(d=0;d<b.length;d++){var f=l(a,c,b[d]);f&&2<=f.length&&e.push(f)}return e.length?e:null}function c(a,b){return b*a.scale[0]+a.translate[0]}function a(a,b){return a.translate[1]-b*a.scale[1]}function e(b,d,e){var f=Array(e.length);
if(!e.length)return f;var g=b.scale,h=g[0],g=g[1],n=c(b,e[0][0]);b=a(b,e[0][1]);f[0]=d(e[0],n,b);for(var k=1;k<e.length;k++){var l=e[k],n=n+l[0]*h;b-=l[1]*g;f[k]=d(l,n,b)}return f}function h(a,b,c){for(var d=Array(c.length),f=0;f<c.length;f++)d[f]=e(a,b,c[f]);return d}function n(a,b,c,d){return e(a,c?d?z:v:d?v:C,b)}function r(a,b,c,d){return h(a,c?d?z:v:d?v:C,b)}function t(a,b,c,d){return h(a,c?d?z:v:d?v:C,b)}function u(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),g=Math.min(d,b[1]),h=Math.max(e,
b[2]);b=Math.max(d,b[3]);for(var n=1;n<c.length;n++){var k=c[n],l=k[0],k=k[1],e=e+l,d=d+k;0>l&&(f=Math.min(f,e));0<l&&(h=Math.max(h,e));0>k?g=Math.min(g,d):0<k&&(b=Math.max(b,d))}a[0]=f;a[1]=g;a[2]=h;a[3]=b;return a}function w(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)u(a,a,b[c]);return a}function F(a,b,c,d,e){b.xmin=f(a,c.xmin);b.ymin=k(a,c.ymin);b.xmax=f(a,c.xmax);b.ymax=k(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=
c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function D(a,b,c,d,e){b.points=m(a,c.points,d,e);return b}function B(a,b,c,d,e){b.x=f(a,c.x);b.y=k(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b}function x(a,b,c,d,e){a=g(a,c.rings,d,e);if(!a)return null;b.rings=a;return b}function y(a,b,c,e,f){a=d(a,c.paths,e,f);if(!a)return null;b.paths=a;return b}Object.defineProperty(b,"__esModule",{value:!0});var C=function(a,b,c){return[b,c]},v=function(a,b,c){return[b,c,a[2]]},z=function(a,b,c){return[b,
c,a[2],a[3]]};b.toQuantizationTransform=function(a){return a?{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=
b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};b.quantizeX=f;b.quantizeY=k;b.quantizeBounds=function(a,b,c){b[0]=f(a,c[0]);b[3]=k(a,c[1]);b[2]=f(a,c[2]);b[1]=k(a,c[3]);return b};b.quantizePoints=m;b.quantizeRings=g;b.quantizePaths=d;b.hydrateX=c;b.hydrateY=a;b.hydrateCoordsArray=e;b.hydrateCoordsArrayArray=h;b.hydrateBounds=function(b,d,e){return e?(d[0]=c(b,e[0]),d[1]=a(b,e[3]),d[2]=c(b,e[2]),d[3]=a(b,e[1]),d):[c(b,d[0]),a(b,d[3]),c(b,d[2]),a(b,d[1])]};b.hydratePoints=n;b.hydratePaths=
r;b.hydrateRings=t;b.getQuantizedBoundsCoordsArray=u;b.getQuantizedBoundsCoordsArrayArray=w;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return u(b,b,a)};b.getQuantizedBoundsPaths=function(a){return w([0,0,0,0],a)};b.getQuantizedBoundsRings=function(a){return w([0,0,0,0],a)};b.quantizeExtent=F;b.quantizeMultipoint=D;b.quantizePoint=B;b.quantizePolygon=x;b.quantizePolyline=y;b.quantizeGeometry=function(a,
b){return a&&b?p.isPoint(b)?B(a,{},b,!1,!1):p.isPolyline(b)?y(a,{},b,!1,!1):p.isPolygon(b)?x(a,{},b,!1,!1):p.isMultipoint(b)?D(a,{},b,!1,!1):p.isExtent(b)?F(a,{},b,!1,!1):null:null};b.hydrateExtent=function(b,d,e,f,g){d.xmin=c(b,e.xmin);d.ymin=a(b,e.ymin);d.xmax=c(b,e.xmax);d.ymax=a(b,e.ymax);d!==e&&(f&&(d.zmin=e.zmin,d.zmax=e.zmax),g&&(d.mmin=e.mmin,d.mmax=e.mmax));return d};b.hydrateMultipoint=function(a,b,c,d,e){b.points=n(a,c.points,d,e);return b};b.hydratePoint=function(b,d,e,f,g){d.x=c(b,e.x);
d.y=a(b,e.y);d!==e&&(f&&(d.z=e.z),g&&(d.m=e.m));return d};b.hydratePolygon=function(a,b,c,d,e){b.rings=t(a,c.rings,d,e);return b};b.hydratePolyline=function(a,b,c,d,e){b.paths=r(a,c.paths,d,e);return b}})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./domains ./fieldType".split(" "),function(q,b,p,f,k,l,m,g){return function(b){function c(a){a=
b.call(this)||this;a.alias=null;a.defaultValue=void 0;a.domain=null;a.editable=!0;a.length=-1;a.name=null;a.nullable=!0;a.type=null;return a}p(c,b);a=c;c.prototype.clone=function(){return new a({alias:this.alias,defaultValue:this.defaultValue,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type})};var a;f([l.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);f([l.property({json:{write:{allowNull:!0}}})],
c.prototype,"defaultValue",void 0);f([l.property({types:m.types,json:{read:{reader:m.fromJSON},write:!0}})],c.prototype,"domain",void 0);f([l.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);f([l.property({type:Number,json:{write:!0}})],c.prototype,"length",void 0);f([l.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);f([l.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);f([l.property({type:String,json:{read:g.kebabDict.read,write:g.kebabDict.write}})],
c.prototype,"type",void 0);return c=a=f([l.subclass("esri.layers.support.Field")],c)}(l.declared(k))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/kebabDictionary"],function(q,b,p){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new p.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",
esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils"],function(q,b,p){function f(b,c){if(b===c)return!0;if(null==b||null==c||b.length!==c.length)return!1;for(var a=0;a<b.length;a++){var d=b[a],f=c[a];if(d.length!==f.length)return!1;for(var g=
0;g<d.length;g++)if(d[g]!==f[g])return!1}return!0}function k(b,c){if(b===c)return!0;if(null==b||null==c||b.length!==c.length)return!1;for(var a=0;a<b.length;a++)if(!f(b[a],c[a]))return!1;return!0}function l(b,c){return b===c||b&&c&&b.equals(c)}function m(b,c){if(b===c)return!0;if(!b||!c||b.type!==c.type)return!1;switch(b.type){case "point":return b=l(b.spatialReference,c.spatialReference)?b.x===c.x&&b.y===c.y&&b.z===c.z&&b.m===c.m:!1,b;case "extent":return b=b.hasZ!==c.hasZ||b.hasM!==c.hasM?!1:l(b.spatialReference,
c.spatialReference)?b.xmin===c.xmin&&b.ymin===c.ymin&&b.zmin===c.zmin&&b.xmax===c.xmax&&b.ymax===c.ymax&&b.zmax===c.zmax:!1,b;case "polyline":return b=b.hasZ!==c.hasZ||b.hasM!==c.hasM?!1:l(b.spatialReference,c.spatialReference)?k(b.paths,c.paths):!1,b;case "polygon":return b=b.hasZ!==c.hasZ||b.hasM!==c.hasM?!1:l(b.spatialReference,c.spatialReference)?k(b.rings,c.rings):!1,b;case "multipoint":return b=b.hasZ!==c.hasZ||b.hasM!==c.hasM?!1:l(b.spatialReference,c.spatialReference)?f(b.points,c.points):
!1,b;case "mesh":return!1;default:p.neverReached(b)}}function g(b,c){if(b===c)return!0;if(!b||!c)return!1;var a=Object.keys(b),d=Object.keys(c);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(b[f]!==c[f])return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.equals=function(b,c){return b===c?!0:null!=b&&null!=c&&b.objectId===c.objectId&&m(b.geometry,c.geometry)&&g(b.attributes,c.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ./mathUtils".split(" "),
function(q,b,p,f,k,l,m,g){function d(a,c,d,e){var f,h;a instanceof k&&c instanceof k&&(d=c.longitude,e=c.latitude,h=a.latitude,f=a.longitude);a=g.deg2rad(h);e=g.deg2rad(e);f=g.deg2rad(f);c=g.deg2rad(d);d=Math.sin((a-e)/2);f=Math.sin((f-c)/2);d=2*g.asin(Math.sqrt(d*d+Math.cos(a)*Math.cos(e)*f*f))*b.earthRadius;return Math.round(1E4*d)/1E4}function c(a,c,d){a=d/b.earthRadius;c=g.deg2rad(c);a=Math.sin(a/2);c=Math.cos(c);c=2*g.asin(Math.sqrt(a*a/(c*c)));return g.rad2deg(c)}function a(a,c,d){return g.rad2deg(d/
b.earthRadius)}function e(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.earthRadius=p.wgs84Radius;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;var h=new k(0,0,l.WGS84);b.getGreatCircleDistance=d;b.getGreatCircleSpanAt=function(a,b,c){var e=b.spatialReference,f=new k(b.x,a.y,e),g=new k(c.x,a.y,e);b=new k(a.x,b.y,e);a=new k(a.x,c.y,e);return{lon:d(f,g),lat:d(b,
a)}};b.getLonDeltaForDistance=c;b.getLatDeltaForDistance=a;b.getLatLonDeltaForDistance=function(b,d,e){return{lat:a(b,d,e),lon:c(b,d,e)}};b.getMaxCameraAltitude=function(a){a=g.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=g.deg2rad(c/2);return 2*g.acos((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*
b.earthRadius))*b.earthRadius};b.computeCarthesianDistance=function(a,c){function d(a){var c=g.deg2rad(a.latitude),d=g.deg2rad(a.longitude),e=Math.cos(c);a=b.earthRadius+(a.z||0);return[Math.cos(d)*e*a,Math.sin(c)*a,-Math.sin(d)*e*a]}a=d(a);c=d(c);c=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];return Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2])};b.longitudeToTimezone=e;b.positionToTimezone=function(a,b){a.spatialReference.wkid!==l.WGS84.wkid?m.webMercatorToGeographic(a,!1,h):(h.x=a.x,h.y=a.y);h.z=a.z;b||(b={hours:0,
minutes:0,seconds:0});b.hours=e(h.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;a=f.vec3.dot(a,a);return Math.sqrt(Math.abs(a-c*c))}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(q,b,p,f){function k(a){return Math.asin(1<a?1:-1>a?-1:a)}function l(a){return Math.acos(1<
a?1:-1>a?-1:a)}function m(a,b,c){return a<b?b:a>c?c:a}function g(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=k;b.acos=l;b.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};b.isPowerOfTwo=function(a){return 0===
(a&a-1)};b.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};b.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};b.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};b.scaleFromMatrix=function(a,b){p.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*
b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};b.makeOrthonormal=function(a,b,c){c=c||a;var d=p.vec3.dot(a,b);p.vec3.set(c,a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2]);p.vec3.normalize(c,c)};b.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?p.vec3.set(b,0,1,0):p.vec3.set(b,1,0,0);p.vec3.cross(c,a,b);p.vec3.normalize(b,b);p.vec3.cross(b,c,a);p.vec3.normalize(c,c)};b.moduloPositive=function(a,b){return(a%b+b)%b};b.cartesianToSpherical=function(a,b){var c=p.vec3.length(a),
d=k(a[2]/c);p.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};b.sphericalToCartesian=function(a,b){var c=a[0],d=a[1];a=a[2];var e=Math.cos(d);p.vec3.set(b,c*e*Math.cos(a),c*e*Math.sin(a),c*Math.sin(d))};b.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};b.lerp=function(a,b,c){return a+(b-a)*c};b.bilerp=function(a,b,c,d,e,f){a+=(b-a)*e;return a+(c+(d-c)*e-a)*f};b.slerp=
function(a,b,c,d){void 0===d&&(d=f.vec3f64.create());var g=p.vec3.length(a),k=p.vec3.length(b),l=p.vec3.dot(a,b)/(g*k);if(.9999999999999999>l){var l=Math.acos(l),n=((1-c)*g+c*k)/Math.sin(l),k=n/k*Math.sin(c*l);p.vec3.scale(e,a,n/g*Math.sin((1-c)*l));p.vec3.scale(h,b,k);return p.vec3.add(d,e,h)}return p.vec3.lerp(d,a,b,c)};b.angle=function(b,c,d){b=p.vec3.normalize(e,b);c=p.vec3.normalize(h,c);var f=l(p.vec3.dot(b,c));return d&&(b=p.vec3.cross(a,b,c),0>p.vec3.dot(b,d))?-f:f};b.clamp=m;b.makePiecewiseLinearFunction=
function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;var e=a[d][0];c=(e-c)/(e-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.floatEqualRelative=function(a,b,c){void 0===c&&(c=1E-6);if(isNaN(a)||isNaN(b))return!1;if(a===b)return!0;var d=Math.abs(a-b),e=Math.abs(a),
f=Math.abs(b);if(0===a||0===b||1E-12>e&&1E-12>f){if(d>.01*c)return!1}else if(d/(e+f)>c)return!1;return!0};b.floatEqualAbsolute=function(a,b,c){void 0===c&&(c=1E-6);return isNaN(a)||isNaN(b)?!1:(a>b?a-b:b-a)<=c};q=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};
a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return m(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=
function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();b.Cyclical=q;b.planeFromPoints=function(a,b,e,f){p.vec3.subtract(d,b,a);p.vec3.subtract(c,e,a);p.vec3.cross(f,d,c);p.vec3.normalize(f,f);f[3]=-p.vec3.dot(a,f)};var d=f.vec3f64.create(),c=f.vec3f64.create();b.cyclical2PI=
g(new q(0,2*Math.PI));b.cyclicalPI=g(new q(-Math.PI,Math.PI));b.cyclicalDeg=g(new q(0,360));var a=f.vec3f64.create(),e=f.vec3f64.create(),h=f.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(q,b){Object.defineProperty(b,"__esModule",{value:!0});(function(b){b.length=function(b,k){var f=b[k],m=b[k+1];b=b[k+2];return Math.sqrt(f*f+m*m+b*b)};b.normalize=function(b,k){var f=b[k],m=b[k+1],g=b[k+2],f=1/Math.sqrt(f*f+m*m+g*g);b[k]*=f;
b[k+1]*=f;b[k+2]*=f};b.scale=function(b,k,l){b[k]*=l;b[k+1]*=l;b[k+2]*=l};b.add=function(b,k,l,m,g,d){void 0===d&&(d=k);g=g||b;g[d]=b[k]+l[m];g[d+1]=b[k+1]+l[m+1];g[d+2]=b[k+2]+l[m+2]};b.subtract=function(b,k,l,m,g,d){void 0===d&&(d=k);g=g||b;g[d]=b[k]-l[m];g[d+1]=b[k+1]-l[m+1];g[d+2]=b[k+2]-l[m+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"*noref":1}});
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/promiseUtils ../../../core/requireUtils ../../../core/workers ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../geometry/SpatialReference ./i3s/I3SBinaryReader ./i3s/LEPCC ./i3s/PointCloudRendererUtil ../support/projectionUtils module".split(" "),function(q,b,p,f,k,l,m,g,d,c,a,e,h,n,r,t){Object.defineProperty(b,"__esModule",
{value:!0});var u=function(){function b(){}b.prototype._process=function(a){a=this._transform(a);return f.resolve({result:a,transferList:[a.points.buffer,a.rgb.buffer]})};b.prototype._transform=function(b){var c=this.readGeometry(b.schema,b.geometryBuffer),d=c.length/3,e=n.evaluateRenderer(b.rendererInfo,b.primaryAttribute,b.modulationAttribute,c,d);b.filterInfo&&0<b.filterInfo.length&&(d=n.filterInPlace(c,e,b.filterInfo,b.filterAttributes));3*d<e.length&&(e=new Uint8Array(e.buffer.slice(0,3*d)));
this._applyElevationOffsetInPlace(c,d,b.elevationOffset);c=this._transformCoordinates(c,d,b.obb,a.fromJSON(b.inSR),a.fromJSON(b.outSR));return{obb:b.obb,points:c,rgb:e}};b.prototype.readGeometry=function(a,b){if(null==a.encoding||""===a.encoding){a=e.createGeometryDataIndex(b,a,!1);b=e.createTypedView(b,a.vertexAttributes.position);var c=a.header.fields;a=[c.offsetX,c.offsetY,c.offsetZ];for(var c=[c.scaleX,c.scaleY,c.scaleZ],d=b.length/3,f=new Float64Array(3*d),g=0;g<d;g++)f[3*g]=b[3*g]*c[0]+a[0],
f[3*g+1]=b[3*g+1]*c[1]+a[1],f[3*g+2]=b[3*g+2]*c[2]+a[2];return f}if("lepcc-xyz"===a.encoding)return h.decodeXYZ(b).result};b.prototype._transformCoordinates=function(a,b,e,f,g){if(!r.bufferToBuffer(a,f,0,a,g,0,b))throw Error("Can't reproject");f=c.vec3f32.fromValues(e.center[0],e.center[1],e.center[2]);g=c.vec3f32.create();var h=c.vec3f32.create();m.quat.conjugate(w,e.quaternion);for(var k=new Float32Array(3*b),l=0;l<b;l++)g[0]=a[3*l]-f[0],g[1]=a[3*l+1]-f[1],g[2]=a[3*l+2]-f[2],d.vec3.transformQuat(h,
g,w),e.halfSize[0]=Math.max(e.halfSize[0],Math.abs(h[0])),e.halfSize[1]=Math.max(e.halfSize[1],Math.abs(h[1])),e.halfSize[2]=Math.max(e.halfSize[2],Math.abs(h[2])),k[3*l]=g[0],k[3*l+1]=g[1],k[3*l+2]=g[2];return k};b.prototype._applyElevationOffsetInPlace=function(a,b,c){if(0!==c)for(var d=0;d<b;d++)a[3*d+2]+=c};return b}(),w=g.quatf32.create();g=function(a){function b(){var b=a.call(this)||this;b._thread=void 0;l.open(k.getAbsMid("./PointCloudWorker",q,t)).then(function(a){void 0===b._thread?b._thread=
a:a.close()});return b}p(b,a);b.prototype.destroy=function(){this._thread&&this._thread.close();this._thread=null};b.prototype.transform=function(a,b){return this._thread?this._thread.invoke("_process",a,{transferList:b}):f.resolve(this._transform(a))};return b}(u);b.PointCloudWorker=g;b.default=function(){return new u}});