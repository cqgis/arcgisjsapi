// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../geometry/geometryEngine ../../../../../geometry/Polygon ../../../../../geometry/SpatialReference ../../../../../geometry/support/geodesicUtils ../../../support/mathUtils ../../../support/mathUtils ../../../support/projectionUtils".split(" "),function(z,A,d,q,v,w,p,u,h,x,m){var r;(function(f){f.boundingSphere=function(a,b){var c=b.center;d.vec3.set(c,0,0,0);for(var n=0;n<a.length;++n)d.vec3.add(c,
c,a[n]);d.vec3.scale(c,c,1/a.length);for(var e=0,n=0;n<a.length;++n)e=Math.max(e,d.vec3.squaredDistance(c,a[n]));b.radius=Math.sqrt(e)};f.bestFitPlane=function(a,b){if(3>a.length)throw Error("need at least 3 points to fit a plane");x.planeFromPoints(a[0],a[1],a[2],b)};f.planePointDistance=function(a,b){return d.vec3.dot(a,b)+a[3]};f.segmentLengthEuclidean=function(a,b,c){m.pointToVector(a,k,c);m.pointToVector(b,l,c);return d.vec3.distance(k,l)};f.segmentLengthGeodesic=function(a,b){var c=p.WGS84;
m.pointToVector(a,k,c);m.pointToVector(b,l,c);return u.inverseGeodeticSolver(h.deg2rad(k[1]),h.deg2rad(k[0]),h.deg2rad(l[1]),h.deg2rad(l[0])).geodesicDistance};f.segmentLengthGeodesicVector=function(a,b){return u.inverseGeodeticSolver(h.deg2rad(a[1]),h.deg2rad(a[0]),h.deg2rad(b[1]),h.deg2rad(b[0])).geodesicDistance};f.triangleAreaEuclidean=function(a,b,c){return.5*Math.abs((b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0]))};f.triangleAreaGeodesic=function(a,b,c,d){var e=y;m.vectorToVector(a,d,k,p.WGS84);
m.vectorToVector(b,d,l,p.WGS84);m.vectorToVector(c,d,t,p.WGS84);e.setPoint(0,0,k);e.setPoint(0,1,l);e.setPoint(0,2,t);return Math.abs(v.geodesicArea(e,"square-meters"))};f.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?d.vec3.set(b,0,1,0):d.vec3.set(b,1,0,0);d.vec3.cross(c,a,b);d.vec3.normalize(b,b);d.vec3.cross(b,c,a);d.vec3.normalize(c,c)};f.fitHemisphere=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=!0);var f=function(a,b){if(0===b[0]&&0===b[1]&&0===b[2])return!1;for(var c=0;c<
a.length;++c)if(-1E-6>d.vec3.dot(b,a[c]))return!1;return!0};if(0===a.length)return!1;if(1===a.length)return b&&d.vec3.copy(b,a[0]),!0;d.vec3.set(g,0,0,0);for(var e=0;e<a.length;++e)d.vec3.add(g,g,a[e]);d.vec3.normalize(g,g);if(f(a,g))return b&&d.vec3.copy(b,g),!0;if(!c)return!1;for(e=0;e<a.length;++e)for(c=0;c<a.length;++c)if(e!==c&&(d.vec3.cross(g,a[e],a[c]),d.vec3.normalize(g,g),f(a,g)))return b&&d.vec3.copy(b,g),!0;return!1};f.compareSets=function(a,b){if(a===b)return!0;if(a.size!==b.size)return!1;
for(var c=0;c<a.size;++c)if(!b.has(a[c]))return!1;return!0}})(r||(r={}));var k=q.vec3f64.create(),l=q.vec3f64.create(),t=q.vec3f64.create(),y=new w({rings:[[k,l,t]],spatialReference:p.WGS84}),g=q.vec3f64.create();return r});