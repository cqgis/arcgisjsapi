// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.mat4=p})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(q,a,p,h){function l(c){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c}function k(c,b,e){var m=b[0],n=b[1],a=b[2],d=b[3],
v=b[4],f=b[5],g=b[6],k=b[7],h=b[8],l=b[9],p=b[10],C=b[11],A=b[12],D=b[13],F=b[14];b=b[15];var H=e[0],B=e[1],G=e[2],q=e[3];c[0]=H*m+B*v+G*h+q*A;c[1]=H*n+B*f+G*l+q*D;c[2]=H*a+B*g+G*p+q*F;c[3]=H*d+B*k+G*C+q*b;H=e[4];B=e[5];G=e[6];q=e[7];c[4]=H*m+B*v+G*h+q*A;c[5]=H*n+B*f+G*l+q*D;c[6]=H*a+B*g+G*p+q*F;c[7]=H*d+B*k+G*C+q*b;H=e[8];B=e[9];G=e[10];q=e[11];c[8]=H*m+B*v+G*h+q*A;c[9]=H*n+B*f+G*l+q*D;c[10]=H*a+B*g+G*p+q*F;c[11]=H*d+B*k+G*C+q*b;H=e[12];B=e[13];G=e[14];q=e[15];c[12]=H*m+B*v+G*h+q*A;c[13]=H*n+B*f+
G*l+q*D;c[14]=H*a+B*g+G*p+q*F;c[15]=H*d+B*k+G*C+q*b;return c}function g(c,b,e){var m=b[0],n=b[1],a=b[2],d=b[3],v=m+m,f=n+n,g=a+a;b=m*v;var k=m*f,m=m*g,h=n*f,n=n*g,a=a*g,v=d*v,f=d*f,d=d*g;c[0]=1-(h+a);c[1]=k+d;c[2]=m-f;c[3]=0;c[4]=k-d;c[5]=1-(b+a);c[6]=n+v;c[7]=0;c[8]=m+f;c[9]=n-v;c[10]=1-(b+h);c[11]=0;c[12]=e[0];c[13]=e[1];c[14]=e[2];c[15]=1;return c}function d(c,b,e){c[0]=b[0]-e[0];c[1]=b[1]-e[1];c[2]=b[2]-e[2];c[3]=b[3]-e[3];c[4]=b[4]-e[4];c[5]=b[5]-e[5];c[6]=b[6]-e[6];c[7]=b[7]-e[7];c[8]=b[8]-
e[8];c[9]=b[9]-e[9];c[10]=b[10]-e[10];c[11]=b[11]-e[11];c[12]=b[12]-e[12];c[13]=b[13]-e[13];c[14]=b[14]-e[14];c[15]=b[15]-e[15];return c}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(c,b){c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];c[13]=b[13];c[14]=b[14];c[15]=b[15];return c};a.set=function(c,b,e,m,n,a,d,f,r,g,k,h,l,p,C,A,D){c[0]=b;c[1]=e;c[2]=m;c[3]=n;c[4]=a;c[5]=d;c[6]=f;c[7]=r;c[8]=g;
c[9]=k;c[10]=h;c[11]=l;c[12]=p;c[13]=C;c[14]=A;c[15]=D;return c};a.identity=l;a.transpose=function(c,b){if(c===b){var e=b[1],m=b[2],n=b[3],a=b[6],d=b[7],f=b[11];c[1]=b[4];c[2]=b[8];c[3]=b[12];c[4]=e;c[6]=b[9];c[7]=b[13];c[8]=m;c[9]=a;c[11]=b[14];c[12]=n;c[13]=d;c[14]=f}else c[0]=b[0],c[1]=b[4],c[2]=b[8],c[3]=b[12],c[4]=b[1],c[5]=b[5],c[6]=b[9],c[7]=b[13],c[8]=b[2],c[9]=b[6],c[10]=b[10],c[11]=b[14],c[12]=b[3],c[13]=b[7],c[14]=b[11],c[15]=b[15];return c};a.invert=function(c,b){var e=b[0],m=b[1],n=b[2],
a=b[3],d=b[4],f=b[5],r=b[6],g=b[7],k=b[8],h=b[9],l=b[10],p=b[11],C=b[12],A=b[13],D=b[14];b=b[15];var F=e*f-m*d,H=e*r-n*d,B=e*g-a*d,G=m*r-n*f,q=m*g-a*f,I=n*g-a*r,J=k*A-h*C,Q=k*D-l*C,N=k*b-p*C,O=h*D-l*A,R=h*b-p*A,T=l*b-p*D,L=F*T-H*R+B*O+G*N-q*Q+I*J;if(!L)return null;L=1/L;c[0]=(f*T-r*R+g*O)*L;c[1]=(n*R-m*T-a*O)*L;c[2]=(A*I-D*q+b*G)*L;c[3]=(l*q-h*I-p*G)*L;c[4]=(r*N-d*T-g*Q)*L;c[5]=(e*T-n*N+a*Q)*L;c[6]=(D*B-C*I-b*H)*L;c[7]=(k*I-l*B+p*H)*L;c[8]=(d*R-f*N+g*J)*L;c[9]=(m*N-e*R-a*J)*L;c[10]=(C*q-A*B+b*F)*
L;c[11]=(h*B-k*q-p*F)*L;c[12]=(f*Q-d*O-r*J)*L;c[13]=(e*O-m*Q+n*J)*L;c[14]=(A*H-C*G-D*F)*L;c[15]=(k*G-h*H+l*F)*L;return c};a.adjoint=function(c,b){var e=b[0],m=b[1],n=b[2],a=b[3],d=b[4],f=b[5],r=b[6],g=b[7],k=b[8],h=b[9],l=b[10],p=b[11],C=b[12],A=b[13],D=b[14];b=b[15];c[0]=f*(l*b-p*D)-h*(r*b-g*D)+A*(r*p-g*l);c[1]=-(m*(l*b-p*D)-h*(n*b-a*D)+A*(n*p-a*l));c[2]=m*(r*b-g*D)-f*(n*b-a*D)+A*(n*g-a*r);c[3]=-(m*(r*p-g*l)-f*(n*p-a*l)+h*(n*g-a*r));c[4]=-(d*(l*b-p*D)-k*(r*b-g*D)+C*(r*p-g*l));c[5]=e*(l*b-p*D)-k*
(n*b-a*D)+C*(n*p-a*l);c[6]=-(e*(r*b-g*D)-d*(n*b-a*D)+C*(n*g-a*r));c[7]=e*(r*p-g*l)-d*(n*p-a*l)+k*(n*g-a*r);c[8]=d*(h*b-p*A)-k*(f*b-g*A)+C*(f*p-g*h);c[9]=-(e*(h*b-p*A)-k*(m*b-a*A)+C*(m*p-a*h));c[10]=e*(f*b-g*A)-d*(m*b-a*A)+C*(m*g-a*f);c[11]=-(e*(f*p-g*h)-d*(m*p-a*h)+k*(m*g-a*f));c[12]=-(d*(h*D-l*A)-k*(f*D-r*A)+C*(f*l-r*h));c[13]=e*(h*D-l*A)-k*(m*D-n*A)+C*(m*l-n*h);c[14]=-(e*(f*D-r*A)-d*(m*D-n*A)+C*(m*r-n*f));c[15]=e*(f*l-r*h)-d*(m*l-n*h)+k*(m*r-n*f);return c};a.determinant=function(c){var b=c[0],e=
c[1],m=c[2],n=c[3],a=c[4],f=c[5],d=c[6],r=c[7],g=c[8],k=c[9],h=c[10],l=c[11],p=c[12],C=c[13],A=c[14];c=c[15];return(b*f-e*a)*(h*c-l*A)-(b*d-m*a)*(k*c-l*C)+(b*r-n*a)*(k*A-h*C)+(e*d-m*f)*(g*c-l*p)-(e*r-n*f)*(g*A-h*p)+(m*r-n*d)*(g*C-k*p)};a.multiply=k;a.translate=function(c,b,e){var m=e[0],n=e[1];e=e[2];var a=void 0,f=void 0,d=void 0,r=void 0,g=void 0,k=void 0,h=void 0,l=void 0,p=void 0,C=void 0,A=void 0,D=void 0;b===c?(c[12]=b[0]*m+b[4]*n+b[8]*e+b[12],c[13]=b[1]*m+b[5]*n+b[9]*e+b[13],c[14]=b[2]*m+b[6]*
n+b[10]*e+b[14],c[15]=b[3]*m+b[7]*n+b[11]*e+b[15]):(a=b[0],f=b[1],d=b[2],r=b[3],g=b[4],k=b[5],h=b[6],l=b[7],p=b[8],C=b[9],A=b[10],D=b[11],c[0]=a,c[1]=f,c[2]=d,c[3]=r,c[4]=g,c[5]=k,c[6]=h,c[7]=l,c[8]=p,c[9]=C,c[10]=A,c[11]=D,c[12]=a*m+g*n+p*e+b[12],c[13]=f*m+k*n+C*e+b[13],c[14]=d*m+h*n+A*e+b[14],c[15]=r*m+l*n+D*e+b[15]);return c};a.scale=function(c,b,e){var m=e[0],n=e[1];e=e[2];c[0]=b[0]*m;c[1]=b[1]*m;c[2]=b[2]*m;c[3]=b[3]*m;c[4]=b[4]*n;c[5]=b[5]*n;c[6]=b[6]*n;c[7]=b[7]*n;c[8]=b[8]*e;c[9]=b[9]*e;c[10]=
b[10]*e;c[11]=b[11]*e;c[12]=b[12];c[13]=b[13];c[14]=b[14];c[15]=b[15];return c};a.rotate=function(c,b,e,m){var n=m[0],a=m[1];m=m[2];var f=Math.sqrt(n*n+a*a+m*m),d=void 0,r=void 0,g=void 0,k=void 0,l=void 0,p=void 0,E=void 0,C=void 0,A=void 0,D=void 0,F=void 0,H=void 0,B=void 0,G=void 0,q=void 0,I=void 0,J=void 0,Q=void 0,N=void 0,O=void 0,R=void 0,T=void 0,r=d=void 0;if(f<h.EPSILON)return null;f=1/f;n*=f;a*=f;m*=f;d=Math.sin(e);r=Math.cos(e);g=1-r;k=b[0];l=b[1];p=b[2];E=b[3];C=b[4];A=b[5];D=b[6];
F=b[7];H=b[8];B=b[9];G=b[10];q=b[11];I=n*n*g+r;J=a*n*g+m*d;Q=m*n*g-a*d;N=n*a*g-m*d;O=a*a*g+r;R=m*a*g+n*d;T=n*m*g+a*d;d=a*m*g-n*d;r=m*m*g+r;c[0]=k*I+C*J+H*Q;c[1]=l*I+A*J+B*Q;c[2]=p*I+D*J+G*Q;c[3]=E*I+F*J+q*Q;c[4]=k*N+C*O+H*R;c[5]=l*N+A*O+B*R;c[6]=p*N+D*O+G*R;c[7]=E*N+F*O+q*R;c[8]=k*T+C*d+H*r;c[9]=l*T+A*d+B*r;c[10]=p*T+D*d+G*r;c[11]=E*T+F*d+q*r;b!==c&&(c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]);return c};a.rotateX=function(c,b,e){var m=Math.sin(e);e=Math.cos(e);var n=b[4],a=b[5],d=b[6],f=b[7],
r=b[8],g=b[9],k=b[10],h=b[11];b!==c&&(c[0]=b[0],c[1]=b[1],c[2]=b[2],c[3]=b[3],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]);c[4]=n*e+r*m;c[5]=a*e+g*m;c[6]=d*e+k*m;c[7]=f*e+h*m;c[8]=r*e-n*m;c[9]=g*e-a*m;c[10]=k*e-d*m;c[11]=h*e-f*m;return c};a.rotateY=function(c,b,e){var m=Math.sin(e);e=Math.cos(e);var n=b[0],a=b[1],d=b[2],f=b[3],r=b[8],g=b[9],k=b[10],h=b[11];b!==c&&(c[4]=b[4],c[5]=b[5],c[6]=b[6],c[7]=b[7],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]);c[0]=n*e-r*m;c[1]=a*e-g*m;c[2]=d*e-k*m;c[3]=
f*e-h*m;c[8]=n*m+r*e;c[9]=a*m+g*e;c[10]=d*m+k*e;c[11]=f*m+h*e;return c};a.rotateZ=function(c,b,e){var m=Math.sin(e);e=Math.cos(e);var n=b[0],a=b[1],d=b[2],f=b[3],r=b[4],g=b[5],k=b[6],h=b[7];b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]);c[0]=n*e+r*m;c[1]=a*e+g*m;c[2]=d*e+k*m;c[3]=f*e+h*m;c[4]=r*e-n*m;c[5]=g*e-a*m;c[6]=k*e-d*m;c[7]=h*e-f*m;return c};a.fromTranslation=function(c,b){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=
0;c[10]=1;c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c};a.fromScaling=function(c,b){c[0]=b[0];c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=b[1];c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=b[2];c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};a.fromRotation=function(c,b,e){var m=e[0],a=e[1];e=e[2];var d=Math.sqrt(m*m+a*a+e*e),f=void 0,v=void 0,r=void 0;if(d<h.EPSILON)return null;d=1/d;m*=d;a*=d;e*=d;f=Math.sin(b);v=Math.cos(b);r=1-v;c[0]=m*m*r+v;c[1]=a*m*r+e*f;c[2]=e*m*r-a*f;c[3]=0;c[4]=m*a*r-e*f;c[5]=a*a*
r+v;c[6]=e*a*r+m*f;c[7]=0;c[8]=m*e*r+a*f;c[9]=a*e*r-m*f;c[10]=e*e*r+v;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};a.fromXRotation=function(c,b){var e=Math.sin(b);b=Math.cos(b);c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=b;c[6]=e;c[7]=0;c[8]=0;c[9]=-e;c[10]=b;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};a.fromYRotation=function(c,b){var e=Math.sin(b);b=Math.cos(b);c[0]=b;c[1]=0;c[2]=-e;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=e;c[9]=0;c[10]=b;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};
a.fromZRotation=function(c,b){var e=Math.sin(b);b=Math.cos(b);c[0]=b;c[1]=e;c[2]=0;c[3]=0;c[4]=-e;c[5]=b;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};a.fromRotationTranslation=g;a.fromQuat2=function(c,b){var e=f,m=-b[0],a=-b[1],d=-b[2],t=b[3],v=b[4],r=b[5],k=b[6],h=b[7],l=m*m+a*a+d*d+t*t;0<l?(e[0]=2*(v*t+h*m+r*d-k*a)/l,e[1]=2*(r*t+h*a+k*m-v*d)/l,e[2]=2*(k*t+h*d+v*a-r*m)/l):(e[0]=2*(v*t+h*m+r*d-k*a),e[1]=2*(r*t+h*a+k*m-v*d),e[2]=2*(k*t+h*d+v*a-r*m));g(c,b,e);
return c};var f=p.create();a.getTranslation=function(c,b){c[0]=b[12];c[1]=b[13];c[2]=b[14];return c};a.getScaling=function(c,b){var e=b[0],m=b[1],a=b[2],d=b[4],f=b[5],v=b[6],r=b[8],g=b[9];b=b[10];c[0]=Math.sqrt(e*e+m*m+a*a);c[1]=Math.sqrt(d*d+f*f+v*v);c[2]=Math.sqrt(r*r+g*g+b*b);return c};a.getRotation=function(c,b){var e=b[0]+b[5]+b[10],m=0;0<e?(m=2*Math.sqrt(e+1),c[3]=.25*m,c[0]=(b[6]-b[9])/m,c[1]=(b[8]-b[2])/m,c[2]=(b[1]-b[4])/m):b[0]>b[5]&&b[0]>b[10]?(m=2*Math.sqrt(1+b[0]-b[5]-b[10]),c[3]=(b[6]-
b[9])/m,c[0]=.25*m,c[1]=(b[1]+b[4])/m,c[2]=(b[8]+b[2])/m):b[5]>b[10]?(m=2*Math.sqrt(1+b[5]-b[0]-b[10]),c[3]=(b[8]-b[2])/m,c[0]=(b[1]+b[4])/m,c[1]=.25*m,c[2]=(b[6]+b[9])/m):(m=2*Math.sqrt(1+b[10]-b[0]-b[5]),c[3]=(b[1]-b[4])/m,c[0]=(b[8]+b[2])/m,c[1]=(b[6]+b[9])/m,c[2]=.25*m);return c};a.fromRotationTranslationScale=function(c,b,e,m){var a=b[0],d=b[1],f=b[2],v=b[3],r=a+a,g=d+d,k=f+f;b=a*r;var h=a*g,a=a*k,l=d*g,d=d*k,f=f*k,r=v*r,g=v*g,v=v*k,k=m[0],p=m[1];m=m[2];c[0]=(1-(l+f))*k;c[1]=(h+v)*k;c[2]=(a-
g)*k;c[3]=0;c[4]=(h-v)*p;c[5]=(1-(b+f))*p;c[6]=(d+r)*p;c[7]=0;c[8]=(a+g)*m;c[9]=(d-r)*m;c[10]=(1-(b+l))*m;c[11]=0;c[12]=e[0];c[13]=e[1];c[14]=e[2];c[15]=1;return c};a.fromRotationTranslationScaleOrigin=function(c,b,e,m,a){var n=b[0],d=b[1],f=b[2],r=b[3],g=n+n,k=d+d,h=f+f;b=n*g;var l=n*k,p=n*h,n=d*k,d=d*h,C=f*h,f=r*g,k=r*k,A=r*h,D=m[0],F=m[1],h=m[2];m=a[0];r=a[1];a=a[2];var g=(1-(n+C))*D,H=(l+A)*D,D=(p-k)*D,l=(l-A)*F,C=(1-(b+C))*F,F=(d+f)*F,p=(p+k)*h,d=(d-f)*h;b=(1-(b+n))*h;c[0]=g;c[1]=H;c[2]=D;c[3]=
0;c[4]=l;c[5]=C;c[6]=F;c[7]=0;c[8]=p;c[9]=d;c[10]=b;c[11]=0;c[12]=e[0]+m-(g*m+l*r+p*a);c[13]=e[1]+r-(H*m+C*r+d*a);c[14]=e[2]+a-(D*m+F*r+b*a);c[15]=1;return c};a.fromQuat=function(c,b){var e=b[0],m=b[1],a=b[2];b=b[3];var d=e+e,f=m+m,v=a+a,e=e*d,r=m*d,m=m*f,g=a*d,k=a*f,a=a*v,d=b*d,f=b*f;b*=v;c[0]=1-m-a;c[1]=r+b;c[2]=g-f;c[3]=0;c[4]=r-b;c[5]=1-e-a;c[6]=k+d;c[7]=0;c[8]=g+f;c[9]=k-d;c[10]=1-e-m;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};a.frustum=function(c,b,e,m,a,d,f){var n=1/(e-b),u=1/(a-m),
g=1/(d-f);c[0]=2*d*n;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2*d*u;c[6]=0;c[7]=0;c[8]=(e+b)*n;c[9]=(a+m)*u;c[10]=(f+d)*g;c[11]=-1;c[12]=0;c[13]=0;c[14]=f*d*2*g;c[15]=0;return c};a.perspective=function(c,b,e,m,a){b=1/Math.tan(b/2);var n=void 0;c[0]=b/e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=b;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[11]=-1;c[12]=0;c[13]=0;c[15]=0;null!=a&&Infinity!==a?(n=1/(m-a),c[10]=(a+m)*n,c[14]=2*a*m*n):(c[10]=-1,c[14]=-2*m);return c};a.perspectiveFromFieldOfView=function(c,b,e,m){var a=Math.tan(b.upDegrees*
Math.PI/180),d=Math.tan(b.downDegrees*Math.PI/180),f=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var v=2/(f+b),r=2/(a+d);c[0]=v;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=r;c[6]=0;c[7]=0;c[8]=-((f-b)*v*.5);c[9]=(a-d)*r*.5;c[10]=m/(e-m);c[11]=-1;c[12]=0;c[13]=0;c[14]=m*e/(e-m);c[15]=0;return c};a.ortho=function(c,b,e,m,a,d,f){var n=1/(b-e),u=1/(m-a),g=1/(d-f);c[0]=-2*n;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=-2*u;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=2*g;c[11]=0;c[12]=(b+e)*n;c[13]=(a+m)*
u;c[14]=(f+d)*g;c[15]=1;return c};a.lookAt=function(c,b,e,a){var m=void 0,d=void 0,f=void 0,v=void 0,r=void 0,g=void 0,k=void 0,p=void 0,z=void 0,E=void 0,C=b[0],A=b[1];b=b[2];f=a[0];v=a[1];a=a[2];k=e[0];p=e[1];e=e[2];if(Math.abs(C-k)<h.EPSILON&&Math.abs(A-p)<h.EPSILON&&Math.abs(b-e)<h.EPSILON)return l(c);k=C-k;p=A-p;z=b-e;E=1/Math.sqrt(k*k+p*p+z*z);k*=E;p*=E;z*=E;m=v*z-a*p;d=a*k-f*z;f=f*p-v*k;(E=Math.sqrt(m*m+d*d+f*f))?(E=1/E,m*=E,d*=E,f*=E):f=d=m=0;v=p*f-z*d;r=z*m-k*f;g=k*d-p*m;(E=Math.sqrt(v*v+
r*r+g*g))?(E=1/E,v*=E,r*=E,g*=E):g=r=v=0;c[0]=m;c[1]=v;c[2]=k;c[3]=0;c[4]=d;c[5]=r;c[6]=p;c[7]=0;c[8]=f;c[9]=g;c[10]=z;c[11]=0;c[12]=-(m*C+d*A+f*b);c[13]=-(v*C+r*A+g*b);c[14]=-(k*C+p*A+z*b);c[15]=1;return c};a.targetTo=function(c,b,e,a){var m=b[0],d=b[1];b=b[2];var f=a[0],g=a[1],r=a[2];a=m-e[0];var k=d-e[1];e=b-e[2];var h=a*a+k*k+e*e;0<h&&(h=1/Math.sqrt(h),a*=h,k*=h,e*=h);var l=g*e-r*k,r=r*a-f*e,f=f*k-g*a,h=l*l+r*r+f*f;0<h&&(h=1/Math.sqrt(h),l*=h,r*=h,f*=h);c[0]=l;c[1]=r;c[2]=f;c[3]=0;c[4]=k*f-e*
r;c[5]=e*l-a*f;c[6]=a*r-k*l;c[7]=0;c[8]=a;c[9]=k;c[10]=e;c[11]=0;c[12]=m;c[13]=d;c[14]=b;c[15]=1;return c};a.str=function(c){return"mat4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+", "+c[9]+", "+c[10]+", "+c[11]+", "+c[12]+", "+c[13]+", "+c[14]+", "+c[15]+")"};a.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)+Math.pow(c[2],2)+Math.pow(c[3],2)+Math.pow(c[4],2)+Math.pow(c[5],2)+Math.pow(c[6],2)+Math.pow(c[7],2)+Math.pow(c[8],2)+Math.pow(c[9],
2)+Math.pow(c[10],2)+Math.pow(c[11],2)+Math.pow(c[12],2)+Math.pow(c[13],2)+Math.pow(c[14],2)+Math.pow(c[15],2))};a.add=function(c,b,e){c[0]=b[0]+e[0];c[1]=b[1]+e[1];c[2]=b[2]+e[2];c[3]=b[3]+e[3];c[4]=b[4]+e[4];c[5]=b[5]+e[5];c[6]=b[6]+e[6];c[7]=b[7]+e[7];c[8]=b[8]+e[8];c[9]=b[9]+e[9];c[10]=b[10]+e[10];c[11]=b[11]+e[11];c[12]=b[12]+e[12];c[13]=b[13]+e[13];c[14]=b[14]+e[14];c[15]=b[15]+e[15];return c};a.subtract=d;a.multiplyScalar=function(c,b,e){c[0]=b[0]*e;c[1]=b[1]*e;c[2]=b[2]*e;c[3]=b[3]*e;c[4]=
b[4]*e;c[5]=b[5]*e;c[6]=b[6]*e;c[7]=b[7]*e;c[8]=b[8]*e;c[9]=b[9]*e;c[10]=b[10]*e;c[11]=b[11]*e;c[12]=b[12]*e;c[13]=b[13]*e;c[14]=b[14]*e;c[15]=b[15]*e;return c};a.multiplyScalarAndAdd=function(c,b,e,a){c[0]=b[0]+e[0]*a;c[1]=b[1]+e[1]*a;c[2]=b[2]+e[2]*a;c[3]=b[3]+e[3]*a;c[4]=b[4]+e[4]*a;c[5]=b[5]+e[5]*a;c[6]=b[6]+e[6]*a;c[7]=b[7]+e[7]*a;c[8]=b[8]+e[8]*a;c[9]=b[9]+e[9]*a;c[10]=b[10]+e[10]*a;c[11]=b[11]+e[11]*a;c[12]=b[12]+e[12]*a;c[13]=b[13]+e[13]*a;c[14]=b[14]+e[14]*a;c[15]=b[15]+e[15]*a;return c};
a.exactEquals=function(c,b){return c[0]===b[0]&&c[1]===b[1]&&c[2]===b[2]&&c[3]===b[3]&&c[4]===b[4]&&c[5]===b[5]&&c[6]===b[6]&&c[7]===b[7]&&c[8]===b[8]&&c[9]===b[9]&&c[10]===b[10]&&c[11]===b[11]&&c[12]===b[12]&&c[13]===b[13]&&c[14]===b[14]&&c[15]===b[15]};a.equals=function(c,b){var e=c[0],a=c[1],n=c[2],d=c[3],f=c[4],g=c[5],r=c[6],k=c[7],x=c[8],l=c[9],p=c[10],E=c[11],C=c[12],A=c[13],D=c[14];c=c[15];var F=b[0],H=b[1],B=b[2],G=b[3],q=b[4],I=b[5],J=b[6],Q=b[7],N=b[8],O=b[9],R=b[10],T=b[11],L=b[12],V=b[13],
S=b[14];b=b[15];return Math.abs(e-F)<=h.EPSILON*Math.max(1,Math.abs(e),Math.abs(F))&&Math.abs(a-H)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(H))&&Math.abs(n-B)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(B))&&Math.abs(d-G)<=h.EPSILON*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(f-q)<=h.EPSILON*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(g-I)<=h.EPSILON*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(r-J)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(J))&&Math.abs(k-Q)<=h.EPSILON*Math.max(1,Math.abs(k),
Math.abs(Q))&&Math.abs(x-N)<=h.EPSILON*Math.max(1,Math.abs(x),Math.abs(N))&&Math.abs(l-O)<=h.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(p-R)<=h.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(E-T)<=h.EPSILON*Math.max(1,Math.abs(E),Math.abs(T))&&Math.abs(C-L)<=h.EPSILON*Math.max(1,Math.abs(C),Math.abs(L))&&Math.abs(A-V)<=h.EPSILON*Math.max(1,Math.abs(A),Math.abs(V))&&Math.abs(D-S)<=h.EPSILON*Math.max(1,Math.abs(D),Math.abs(S))&&Math.abs(c-b)<=h.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))};
a.mul=k;a.sub=d})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(q,a){function p(){return[0,0,0]}Object.defineProperty(a,"__esModule",{value:!0});a.create=p;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,l,k){return[a,l,k]};a.fromArray=function(a){for(var h=p(),k=Math.min(3,a.length),g=0;g<k;++g)h[g]=a[g];return h};a.createView=function(a,l){return new Float64Array(a,l,3)}})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require",
"exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.EPSILON=1E-6;a.RANDOM=Math.random;var p=Math.PI/180,h=180/Math.PI;a.toRadian=function(a){return a*p};a.toDegree=function(a){return a*h};a.equals=function(h,k){return Math.abs(h-k)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))}})},"esri/core/libs/gl-matrix-2/mat4f64":function(){define(["require","exports","./factories/mat4f64"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.mat4f64=p})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["require",
"exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]};a.fromValues=function(a,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r){return[a,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r]};a.createView=function(a,h){return new Float64Array(a,h,16)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(q,
a,p){Object.defineProperty(a,"__esModule",{value:!0});a.quat=p})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(q,a,p,h,l,k,g,d){function f(b,c,e){e*=.5;var a=Math.sin(e);b[0]=a*c[0];b[1]=a*c[1];b[2]=a*c[2];b[3]=Math.cos(e);return b}function c(b,c,e){var a=c[0],m=c[1],n=c[2];c=c[3];var d=e[0],f=e[1],u=e[2];e=e[3];b[0]=a*e+c*d+m*u-n*f;b[1]=m*e+c*f+n*d-a*u;b[2]=n*e+
c*u+a*f-m*d;b[3]=c*e-a*d-m*f-n*u;return b}function b(b,c,e,a){var m=c[0],n=c[1],d=c[2];c=c[3];var f=e[0],u=e[1],r=e[2];e=e[3];var g,v,h;v=m*f+n*u+d*r+c*e;0>v&&(v=-v,f=-f,u=-u,r=-r,e=-e);1-v>k.EPSILON?(g=Math.acos(v),h=Math.sin(g),v=Math.sin((1-a)*g)/h,a=Math.sin(a*g)/h):v=1-a;b[0]=v*m+a*f;b[1]=v*n+a*u;b[2]=v*d+a*r;b[3]=v*c+a*e;return b}function e(b,c){var e=c[0]+c[4]+c[8];if(0<e)e=Math.sqrt(e+1),b[3]=.5*e,e=.5/e,b[0]=(c[5]-c[7])*e,b[1]=(c[6]-c[2])*e,b[2]=(c[1]-c[3])*e;else{var a=0;c[4]>c[0]&&(a=1);
c[8]>c[3*a+a]&&(a=2);var m=(a+1)%3,n=(a+2)%3,e=Math.sqrt(c[3*a+a]-c[3*m+m]-c[3*n+n]+1);b[a]=.5*e;e=.5/e;b[3]=(c[3*m+n]-c[3*n+m])*e;b[m]=(c[3*m+a]+c[3*a+m])*e;b[n]=(c[3*n+a]+c[3*a+n])*e}return b}Object.defineProperty(a,"__esModule",{value:!0});a.identity=function(b){b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b};a.setAxisAngle=f;a.getAxisAngle=function(b,c){var e=2*Math.acos(c[3]),a=Math.sin(e/2);a>k.EPSILON?(b[0]=c[0]/a,b[1]=c[1]/a,b[2]=c[2]/a):(b[0]=1,b[1]=0,b[2]=0);return e};a.multiply=c;a.rotateX=function(b,
c,e){e*=.5;var a=c[0],m=c[1],n=c[2];c=c[3];var d=Math.sin(e);e=Math.cos(e);b[0]=a*e+c*d;b[1]=m*e+n*d;b[2]=n*e-m*d;b[3]=c*e-a*d;return b};a.rotateY=function(b,c,e){e*=.5;var a=c[0],m=c[1],n=c[2];c=c[3];var d=Math.sin(e);e=Math.cos(e);b[0]=a*e-n*d;b[1]=m*e+c*d;b[2]=n*e+a*d;b[3]=c*e-m*d;return b};a.rotateZ=function(b,c,e){e*=.5;var a=c[0],m=c[1],n=c[2];c=c[3];var d=Math.sin(e);e=Math.cos(e);b[0]=a*e+m*d;b[1]=m*e-a*d;b[2]=n*e+c*d;b[3]=c*e-n*d;return b};a.calculateW=function(b,c){var e=c[0],a=c[1];c=c[2];
b[0]=e;b[1]=a;b[2]=c;b[3]=Math.sqrt(Math.abs(1-e*e-a*a-c*c));return b};a.slerp=b;a.random=function(b){var c=k.RANDOM(),e=k.RANDOM(),a=k.RANDOM(),m=Math.sqrt(1-c),c=Math.sqrt(c);b[0]=m*Math.sin(2*Math.PI*e);b[1]=m*Math.cos(2*Math.PI*e);b[2]=c*Math.sin(2*Math.PI*a);b[3]=c*Math.cos(2*Math.PI*a);return b};a.invert=function(b,c){var e=c[0],a=c[1],m=c[2];c=c[3];var n=e*e+a*a+m*m+c*c,n=n?1/n:0;b[0]=-e*n;b[1]=-a*n;b[2]=-m*n;b[3]=c*n;return b};a.conjugate=function(b,c){b[0]=-c[0];b[1]=-c[1];b[2]=-c[2];b[3]=
c[3];return b};a.fromMat3=e;a.fromEuler=function(b,c,e,a){var m=.5*Math.PI/180;c*=m;e*=m;a*=m;m=Math.sin(c);c=Math.cos(c);var n=Math.sin(e);e=Math.cos(e);var d=Math.sin(a);a=Math.cos(a);b[0]=m*e*a-c*n*d;b[1]=c*n*a+m*e*d;b[2]=c*e*d-m*n*a;b[3]=c*e*a+m*n*d;return b};a.str=function(b){return"quat("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};a.copy=d.copy;a.set=d.set;a.add=d.add;a.mul=c;a.scale=d.scale;a.dot=d.dot;a.lerp=d.lerp;a.length=d.length;a.len=a.length;a.squaredLength=d.squaredLength;a.sqrLen=a.squaredLength;
a.normalize=d.normalize;a.exactEquals=d.exactEquals;a.equals=d.equals;a.rotationTo=function(b,c,e){var d=g.dot(c,e);if(-.999999>d)return g.cross(m,n,c),1E-6>g.len(m)&&g.cross(m,u,c),g.normalize(m,m),f(b,m,Math.PI),b;if(.999999<d)return b[0]=0,b[1]=0,b[2]=0,b[3]=1,b;g.cross(m,c,e);b[0]=m[0];b[1]=m[1];b[2]=m[2];b[3]=1+d;return a.normalize(b,b)};var m=l.create(),n=l.fromValues(1,0,0),u=l.fromValues(0,1,0);a.sqlerp=function(c,e,a,m,n,d){b(t,e,n,d);b(v,a,m,d);b(c,t,v,2*d*(1-d));return c};var t=h.create(),
v=h.create();a.setAxes=function(b,c,m,n){var d=r;d[0]=m[0];d[3]=m[1];d[6]=m[2];d[1]=n[0];d[4]=n[1];d[7]=n[2];d[2]=-c[0];d[5]=-c[1];d[8]=-c[2];return a.normalize(b,e(b,d))};var r=p.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[1,0,0,0,1,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};a.fromValues=function(a,h,l,k,g,d,f,c,
b){return[a,h,l,k,g,d,f,c,b]};a.createView=function(a,h){return new Float64Array(a,h,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,h,l,k){return[a,h,l,k]};a.createView=function(a,h){return new Float64Array(a,h,4)}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require",
"exports","../factories/vec3f64","./common"],function(q,a,p,h){function l(b){var c=b[0],e=b[1];b=b[2];return Math.sqrt(c*c+e*e+b*b)}function k(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];return b}function g(b,c,e){b[0]=c[0]-e[0];b[1]=c[1]-e[1];b[2]=c[2]-e[2];return b}function d(b,c,e){b[0]=c[0]*e[0];b[1]=c[1]*e[1];b[2]=c[2]*e[2];return b}function f(b,c,e){b[0]=c[0]/e[0];b[1]=c[1]/e[1];b[2]=c[2]/e[2];return b}function c(b,c){var e=c[0]-b[0],a=c[1]-b[1];b=c[2]-b[2];return Math.sqrt(e*e+a*a+b*b)}function b(b,
c){var e=c[0]-b[0],a=c[1]-b[1];b=c[2]-b[2];return e*e+a*a+b*b}function e(b){var c=b[0],e=b[1];b=b[2];return c*c+e*e+b*b}function m(b,c){var e=c[0],a=c[1],m=c[2],e=e*e+a*a+m*m;0<e&&(e=1/Math.sqrt(e),b[0]=c[0]*e,b[1]=c[1]*e,b[2]=c[2]*e);return b}function n(b,c){return b[0]*c[0]+b[1]*c[1]+b[2]*c[2]}Object.defineProperty(a,"__esModule",{value:!0});a.length=l;a.copy=k;a.set=function(b,c,e,a){b[0]=c;b[1]=e;b[2]=a;return b};a.add=function(b,c,e){b[0]=c[0]+e[0];b[1]=c[1]+e[1];b[2]=c[2]+e[2];return b};a.subtract=
g;a.multiply=d;a.divide=f;a.ceil=function(b,c){b[0]=Math.ceil(c[0]);b[1]=Math.ceil(c[1]);b[2]=Math.ceil(c[2]);return b};a.floor=function(b,c){b[0]=Math.floor(c[0]);b[1]=Math.floor(c[1]);b[2]=Math.floor(c[2]);return b};a.min=function(b,c,e){b[0]=Math.min(c[0],e[0]);b[1]=Math.min(c[1],e[1]);b[2]=Math.min(c[2],e[2]);return b};a.max=function(b,c,e){b[0]=Math.max(c[0],e[0]);b[1]=Math.max(c[1],e[1]);b[2]=Math.max(c[2],e[2]);return b};a.round=function(b,c){b[0]=Math.round(c[0]);b[1]=Math.round(c[1]);b[2]=
Math.round(c[2]);return b};a.scale=function(b,c,e){b[0]=c[0]*e;b[1]=c[1]*e;b[2]=c[2]*e;return b};a.scaleAndAdd=function(b,c,e,a){b[0]=c[0]+e[0]*a;b[1]=c[1]+e[1]*a;b[2]=c[2]+e[2]*a;return b};a.distance=c;a.squaredDistance=b;a.squaredLength=e;a.negate=function(b,c){b[0]=-c[0];b[1]=-c[1];b[2]=-c[2];return b};a.inverse=function(b,c){b[0]=1/c[0];b[1]=1/c[1];b[2]=1/c[2];return b};a.normalize=m;a.dot=n;a.cross=function(b,c,e){var a=c[0],m=c[1];c=c[2];var n=e[0],d=e[1];e=e[2];b[0]=m*e-c*d;b[1]=c*n-a*e;b[2]=
a*d-m*n;return b};a.lerp=function(b,c,e,a){var m=c[0],n=c[1];c=c[2];b[0]=m+a*(e[0]-m);b[1]=n+a*(e[1]-n);b[2]=c+a*(e[2]-c);return b};a.hermite=function(b,c,e,a,m,n){var d=n*n,f=d*(2*n-3)+1,u=d*(n-2)+n,g=d*(n-1);n=d*(3-2*n);b[0]=c[0]*f+e[0]*u+a[0]*g+m[0]*n;b[1]=c[1]*f+e[1]*u+a[1]*g+m[1]*n;b[2]=c[2]*f+e[2]*u+a[2]*g+m[2]*n;return b};a.bezier=function(b,c,e,a,m,n){var d=1-n,f=d*d,u=n*n,g=f*d,f=3*n*f,d=3*u*d;n*=u;b[0]=c[0]*g+e[0]*f+a[0]*d+m[0]*n;b[1]=c[1]*g+e[1]*f+a[1]*d+m[1]*n;b[2]=c[2]*g+e[2]*f+a[2]*
d+m[2]*n;return b};a.random=function(b,c){c=c||1;var e=2*h.RANDOM()*Math.PI,a=2*h.RANDOM()-1,m=Math.sqrt(1-a*a)*c;b[0]=Math.cos(e)*m;b[1]=Math.sin(e)*m;b[2]=a*c;return b};a.transformMat4=function(b,c,e){var a=c[0],m=c[1];c=c[2];b[0]=e[0]*a+e[4]*m+e[8]*c+e[12];b[1]=e[1]*a+e[5]*m+e[9]*c+e[13];b[2]=e[2]*a+e[6]*m+e[10]*c+e[14];return b};a.transformMat3=function(b,c,e){var a=c[0],m=c[1];c=c[2];b[0]=a*e[0]+m*e[3]+c*e[6];b[1]=a*e[1]+m*e[4]+c*e[7];b[2]=a*e[2]+m*e[5]+c*e[8];return b};a.transformQuat=function(b,
c,e){var a=e[0],m=e[1],n=e[2],d=c[0],f=c[1];c=c[2];var u=m*c-n*f,g=n*d-a*c,k=a*f-m*d;e=2*e[3];b[0]=d+u*e+2*(m*k-n*g);b[1]=f+g*e+2*(n*u-a*k);b[2]=c+k*e+2*(a*g-m*u);return b};a.rotateX=function(b,c,e,a){var m=[],n=[];m[0]=c[0]-e[0];m[1]=c[1]-e[1];m[2]=c[2]-e[2];n[0]=m[0];n[1]=m[1]*Math.cos(a)-m[2]*Math.sin(a);n[2]=m[1]*Math.sin(a)+m[2]*Math.cos(a);b[0]=n[0]+e[0];b[1]=n[1]+e[1];b[2]=n[2]+e[2];return b};a.rotateY=function(b,c,e,a){var m=[],n=[];m[0]=c[0]-e[0];m[1]=c[1]-e[1];m[2]=c[2]-e[2];n[0]=m[2]*Math.sin(a)+
m[0]*Math.cos(a);n[1]=m[1];n[2]=m[2]*Math.cos(a)-m[0]*Math.sin(a);b[0]=n[0]+e[0];b[1]=n[1]+e[1];b[2]=n[2]+e[2];return b};a.rotateZ=function(b,c,e,a){var m=[],n=[];m[0]=c[0]-e[0];m[1]=c[1]-e[1];m[2]=c[2]-e[2];n[0]=m[0]*Math.cos(a)-m[1]*Math.sin(a);n[1]=m[0]*Math.sin(a)+m[1]*Math.cos(a);n[2]=m[2];b[0]=n[0]+e[0];b[1]=n[1]+e[1];b[2]=n[2]+e[2];return b};a.angle=function(b,c){k(u,b);k(t,c);m(u,u);m(t,t);b=n(u,t);return 1<b?0:-1>b?Math.PI:Math.acos(b)};var u=p.create(),t=p.create();a.str=function(b){return"vec3("+
b[0]+", "+b[1]+", "+b[2]+")"};a.exactEquals=function(b,c){return b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]};a.equals=function(b,c){var e=b[0],a=b[1];b=b[2];var m=c[0],n=c[1];c=c[2];return Math.abs(e-m)<=h.EPSILON*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(a-n)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(n))&&Math.abs(b-c)<=h.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))};a.sub=g;a.mul=d;a.div=f;a.dist=c;a.sqrDist=b;a.len=l;a.sqrLen=e})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require",
"exports","./common"],function(q,a,p){function h(b,c,a){b[0]=c[0]-a[0];b[1]=c[1]-a[1];b[2]=c[2]-a[2];b[3]=c[3]-a[3];return b}function l(b,c,a){b[0]=c[0]*a[0];b[1]=c[1]*a[1];b[2]=c[2]*a[2];b[3]=c[3]*a[3];return b}function k(b,c,a){b[0]=c[0]/a[0];b[1]=c[1]/a[1];b[2]=c[2]/a[2];b[3]=c[3]/a[3];return b}function g(b,c){var e=c[0]-b[0],a=c[1]-b[1],d=c[2]-b[2];b=c[3]-b[3];return Math.sqrt(e*e+a*a+d*d+b*b)}function d(b,c){var e=c[0]-b[0],a=c[1]-b[1],d=c[2]-b[2];b=c[3]-b[3];return e*e+a*a+d*d+b*b}function f(b){var c=
b[0],a=b[1],n=b[2];b=b[3];return Math.sqrt(c*c+a*a+n*n+b*b)}function c(b){var c=b[0],a=b[1],n=b[2];b=b[3];return c*c+a*a+n*n+b*b}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];b[3]=c[3];return b};a.set=function(b,c,a,n,d){b[0]=c;b[1]=a;b[2]=n;b[3]=d;return b};a.add=function(b,c,a){b[0]=c[0]+a[0];b[1]=c[1]+a[1];b[2]=c[2]+a[2];b[3]=c[3]+a[3];return b};a.subtract=h;a.multiply=l;a.divide=k;a.ceil=function(b,c){b[0]=Math.ceil(c[0]);b[1]=Math.ceil(c[1]);
b[2]=Math.ceil(c[2]);b[3]=Math.ceil(c[3]);return b};a.floor=function(b,c){b[0]=Math.floor(c[0]);b[1]=Math.floor(c[1]);b[2]=Math.floor(c[2]);b[3]=Math.floor(c[3]);return b};a.min=function(b,c,a){b[0]=Math.min(c[0],a[0]);b[1]=Math.min(c[1],a[1]);b[2]=Math.min(c[2],a[2]);b[3]=Math.min(c[3],a[3]);return b};a.max=function(b,c,a){b[0]=Math.max(c[0],a[0]);b[1]=Math.max(c[1],a[1]);b[2]=Math.max(c[2],a[2]);b[3]=Math.max(c[3],a[3]);return b};a.round=function(b,c){b[0]=Math.round(c[0]);b[1]=Math.round(c[1]);
b[2]=Math.round(c[2]);b[3]=Math.round(c[3]);return b};a.scale=function(b,c,a){b[0]=c[0]*a;b[1]=c[1]*a;b[2]=c[2]*a;b[3]=c[3]*a;return b};a.scaleAndAdd=function(b,c,a,n){b[0]=c[0]+a[0]*n;b[1]=c[1]+a[1]*n;b[2]=c[2]+a[2]*n;b[3]=c[3]+a[3]*n;return b};a.distance=g;a.squaredDistance=d;a.length=f;a.squaredLength=c;a.negate=function(b,c){b[0]=-c[0];b[1]=-c[1];b[2]=-c[2];b[3]=-c[3];return b};a.inverse=function(b,c){b[0]=1/c[0];b[1]=1/c[1];b[2]=1/c[2];b[3]=1/c[3];return b};a.normalize=function(b,c){var e=c[0],
a=c[1],d=c[2];c=c[3];var f=e*e+a*a+d*d+c*c;0<f&&(f=1/Math.sqrt(f),b[0]=e*f,b[1]=a*f,b[2]=d*f,b[3]=c*f);return b};a.dot=function(b,c){return b[0]*c[0]+b[1]*c[1]+b[2]*c[2]+b[3]*c[3]};a.lerp=function(b,c,a,n){var e=c[0],m=c[1],d=c[2];c=c[3];b[0]=e+n*(a[0]-e);b[1]=m+n*(a[1]-m);b[2]=d+n*(a[2]-d);b[3]=c+n*(a[3]-c);return b};a.random=function(b,c){c=c||1;var a,e,d,f,g,k;do a=2*p.RANDOM()-1,e=2*p.RANDOM()-1,g=a*a+e*e;while(1<=g);do d=2*p.RANDOM()-1,f=2*p.RANDOM()-1,k=d*d+f*f;while(1<=k);g=Math.sqrt((1-g)/
k);b[0]=c*a;b[1]=c*e;b[2]=c*d*g;b[3]=c*f*g;return b};a.transformMat4=function(b,c,a){var e=c[0],m=c[1],d=c[2];c=c[3];b[0]=a[0]*e+a[4]*m+a[8]*d+a[12]*c;b[1]=a[1]*e+a[5]*m+a[9]*d+a[13]*c;b[2]=a[2]*e+a[6]*m+a[10]*d+a[14]*c;b[3]=a[3]*e+a[7]*m+a[11]*d+a[15]*c;return b};a.transformQuat=function(b,c,a){var e=c[0],m=c[1],d=c[2],f=a[0],g=a[1],k=a[2];a=a[3];var h=a*e+g*d-k*m,l=a*m+k*e-f*d,p=a*d+f*m-g*e,e=-f*e-g*m-k*d;b[0]=h*a+e*-f+l*-k-p*-g;b[1]=l*a+e*-g+p*-f-h*-k;b[2]=p*a+e*-k+h*-g-l*-f;b[3]=c[3];return b};
a.str=function(b){return"vec4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};a.exactEquals=function(b,c){return b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]&&b[3]===c[3]};a.equals=function(b,c){var a=b[0],e=b[1],d=b[2];b=b[3];var f=c[0],g=c[1],k=c[2];c=c[3];return Math.abs(a-f)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(e-g)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(d-k)<=p.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(b-c)<=p.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))};
a.sub=h;a.mul=l;a.div=k;a.dist=g;a.sqrDist=d;a.len=f;a.sqrLen=c})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.quatf32=p})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){var a=new Float32Array(4);a[3]=1;return a};a.clone=function(a){var h=new Float32Array(4);
h[0]=a[0];h[1]=a[1];h[2]=a[2];h[3]=a[3];return h};a.fromValues=function(a,h,l,k){var g=new Float32Array(4);g[0]=a;g[1]=h;g[2]=l;g[3]=k;return g};a.createView=function(a,h){return new Float32Array(a,h,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec3=p})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(q,a,p){Object.defineProperty(a,
"__esModule",{value:!0});a.vec3f64=p})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(q,a,p,h,l,k,g){q=function(a){function d(b){b=a.call(this)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;return b}p(d,a);c=d;d.fromJSON=function(b){if(!b)return null;if(b.wkid){if(102100===b.wkid)return c.WebMercator;
if(4326===b.wkid)return c.WGS84}var a=new c;a.read(b);return a};d.prototype.normalizeCtorArgs=function(b){var c;return b&&"object"===typeof b?b:(c={},c["string"===typeof b?"wkt":"wkid"]=b,c)};Object.defineProperty(d.prototype,"isWGS84",{get:function(){return g.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isWebMercator",{get:function(){return g.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isGeographic",{get:function(){return g.isGeographic(this)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isWrappable",{get:function(){return g.isWrappable(this)},enumerable:!0,configurable:!0});d.prototype.writeWkt=function(b,c){this.wkid||(c.wkt=b)};d.prototype.clone=function(){if(this===c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var b=new c;null!=this.wkid?(b.wkid=this.wkid,null!=this.latestWkid&&(b.latestWkid=this.latestWkid),null!=this.vcsWkid&&(b.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(b.latestVcsWkid=
this.latestVcsWkid)):null!=this.wkt&&(b.wkt=this.wkt);return b};d.prototype.equals=function(b){return g.equals(this,b)};d.prototype.toJSON=function(b){return this.write(null,b)};var c;d.GCS_NAD_1927=null;d.WGS84=null;d.WebMercator=null;h([k.property({dependsOn:["wkid"],readOnly:!0})],d.prototype,"isWGS84",null);h([k.property({dependsOn:["wkid"],readOnly:!0})],d.prototype,"isWebMercator",null);h([k.property({dependsOn:["wkid","wkt"],readOnly:!0})],d.prototype,"isGeographic",null);h([k.property({dependsOn:["wkid"],
readOnly:!0})],d.prototype,"isWrappable",null);h([k.property({type:Number,json:{write:!0}})],d.prototype,"latestWkid",void 0);h([k.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],d.prototype,"wkid",void 0);h([k.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],d.prototype,"wkt",void 0);h([k.writer("wkt"),k.writer("web-scene",
"wkt")],d.prototype,"writeWkt",null);h([k.property({type:Number,json:{write:!0}})],d.prototype,"vcsWkid",void 0);h([k.property({type:Number,json:{write:!0}})],d.prototype,"latestVcsWkid",void 0);return d=c=h([k.subclass("esri.geometry.SpatialReference")],d)}(k.declared(l));q.prototype.toJSON.isDefaultToJSON=!0;q.GCS_NAD_1927=new q({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
q.WGS84=new q(g.WGS84);q.WebMercator=new q(g.WebMercator);Object.freeze&&(Object.freeze(q.GCS_NAD_1927),Object.freeze(q.WGS84),Object.freeze(q.WebMercator));return q})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(q,a){return function(a,h){a.__bases__=h.__bases__}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(q,a,p,h,l,k,g,d,f){function c(b,c){if(!b)return null;if(b.declaredClass)throw Error("JSON object is already hydrated");var a=new this;a.read(b,c);return a}var b=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}p(a,b);a.prototype.read=function(b,c){d.default(this,b,c)};a.prototype.write=function(b,c){return f.default(this,b||{},c)};a.prototype.toJSON=function(b){return this.write(null,b)};a.fromJSON=function(b,a){return c.call(this,b,a)};return a=h([g.subclass("esri.core.JSONSupport")],
a)}(g.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;k.after(function(a){k.hasMixin(a,b)&&(a.fromJSON=c.bind(a))});return b})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(q,a,p,h,l,k){a=a.default;q.before(function(a,f){q.hasMixin(a,g)&&h.processPrototype(f)});q.after(function(a){q.hasMixin(a,g)&&(h.processClass(a),Object.defineProperties(a.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var g=q(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===g)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new a(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,d)}},__accessor__:null,postscript:function(a){var d=this.__accessor__;a=d.ctorArgs||a;d.initialize();a&&(this.set(a),d.ctorArgs=null);d.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(d){console.warn(d.stack)}else k.removeTarget(this),this.__accessor__.destroy()},get:function(a){return p.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,f){l.set(this,a,f);return this},watch:function(a,f,c){return k.watch(this,a,f,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
f){return this.__accessor__.override(a,f)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,f){return this.__accessor__.internalSet(a,f)}});return g})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(q,a,p){function h(a,f){a&&!Array.isArray(a)&&"function"!==typeof a&&(f=a,a=null);a=a||[];f=f||{};return l([this].concat(a),
f)}function l(a,f){a&&!Array.isArray(a)&&"function"!==typeof a&&(f=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);f=f||{};var c,b;c=0;for(b=k.length;c<b;c++)k[c](a,f);a=p(a,f);a.createSubclass=h;c=0;for(b=g.length;c<b;c++)g[c](a);return a}var k=[],g=[];(function(a){a.hasMixin=function(a,c){a=Array.isArray(a)?a.reduce(function(b,c){return c._meta?b.concat(c._meta.bases):b},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof c)for(var b=a.length-1;0<=b;b--)if(a[b].prototype.declaredClass===
c)return!0;return-1!==a.indexOf(c)};a.safeMixin=function(a,c){return p.safeMixin(a,c)};a.before=function(a){k.push(a)};a.after=function(a){g.push(a)}})(l||(l={}));return l})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(q,a,p,h,l,k,g,d,f){Object.defineProperty(a,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.Properties");q=function(){function b(b){this.host=
b;this._origin=d.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new f.default;b=this.host.constructor.__accessorMetadata__;this.metadatas=b.properties;this.autoDestroy=b.autoDestroy}b.prototype.initialize=function(){this.lifecycle=1;g.instanceCreated(this.host,this.metadatas)};b.prototype.constructed=function(){this.lifecycle=2};b.prototype.destroy=function(){this.destroyed=!0;var b=this.cursors;if(b)for(var c=0,a=Object.getOwnPropertyNames(b);c<
a.length;c++){var d=a[c],f=b[d];if(f){for(;0<f.length;)f.pop().propertyDestroyed(this,d);b[d]=null}}if(this.autoDestroy)for(d in this.metadatas)(b=this.internalGet(d))&&b&&"function"===typeof b.destroy&&(b.destroy(),this.metadatas[d].nonNullable||this.internalSet(d,null))};Object.defineProperty(b.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});b.prototype.clearOverride=function(b){this.isOverridden(b)&&(this.overridden[b]=!1,this.propertyInvalidated(b))};
b.prototype.get=function(b){var c=this.metadatas[b];if(this.store.has(b)&&!this.dirties[b])return this.store.get(b);var a=c.get;return a?(c=a.call(this.host),this.store.set(b,c,d.OriginId.COMPUTED),this.propertyCommitted(b),c):c.value};b.prototype.originOf=function(b){var c=this.store.originOf(b);return void 0===c&&(b=this.metadatas[b])&&b.hasOwnProperty("value")?"defaults":d.idToName(c)};b.prototype.has=function(b){return this.metadatas[b]?this.store.has(b):!1};b.prototype.internalGet=function(b){if(this.metadatas[b]){var c=
this.store;return c.has(b)?c.get(b):this.metadatas[b].value}};b.prototype.internalSet=function(b,c){if(this.metadatas[b]){var a=this.initialized?this._origin:d.OriginId.DEFAULTS,e=this.store.get(b,a);h.equals(c,e)&&this.store.has(b,a)&&!this.isOverridden(b)||(this.propertyInvalidated(b),this.store.set(b,c,a),this.propertyCommitted(b))}};b.prototype.isOverridden=function(b){return null!=this.overridden&&!0===this.overridden[b]};b.prototype.keys=function(){return Object.keys(this.metadatas)};b.prototype.override=
function(b,a){if(this.metadatas[b]){this.overridden||(this.overridden={});var e=this.metadatas[b];if(!e.nonNullable||null!=a){if(e=e.cast){a=this.cast(e,a);var e=a.valid,m=a.value;c.release(a);if(!e)return;a=m}this.overridden[b]=!0;this.internalSet(b,a)}}};b.prototype.set=function(b,a){if(this.metadatas[b]){var e=this.metadatas[b];if(!e.nonNullable||null!=a){var m=e.set;if(e=e.cast){a=this.cast(e,a);var e=a.valid,d=a.value;c.release(a);if(!e)return;a=d}m?m.call(this.host,a):this.internalSet(b,a)}}};
b.prototype.setDefaultOrigin=function(b){this._origin=d.nameToId(b)};b.prototype.propertyInvalidated=function(b){var c=this.dirties,a=this.isOverridden(b),e=this.cursors&&this.cursors[b],d=this.metadatas[b].computes;if(e)for(var f=0;f<e.length;f++)e[f].propertyInvalidated(this,b);a||(c[b]=!0);if(d)for(b=0;b<d.length;b++)this.propertyInvalidated(d[b])};b.prototype.propertyCommitted=function(b){var c=this.cursors&&this.cursors[b];this.dirties[b]=!1;if(c)for(var a=0;a<c.length;a++)c[a].propertyCommitted(this,
b)};b.prototype.addCursor=function(b,c){this.cursors||(this.cursors={});var a=this.cursors[b];a||(this.cursors[b]=a=[]);a.push(c)};b.prototype.removeCursor=function(b,c){var a=this.cursors[b];this.cursors[b]&&(a.splice(a.indexOf(c),1),0===a.length&&(this.cursors[b]=null))};b.prototype.cast=function(b,a){var e=c.acquire();e.valid=!0;e.value=a;b&&(e.value=b.call(this.host,a,e));return e};return b}();p=function(){function b(){this.value=null;this.valid=!0}b.prototype.acquire=function(){this.valid=!0};
b.prototype.release=function(){this.value=null};return b}();var c=new k(p);a.default=q})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(q,a,p,h,l){Object.defineProperty(a,"__esModule",{value:!0});var k=[p.default,h.default,l.default];a.processPrototypeMetadatas=function(a,d){for(var f=0;f<k.length;f++){var c=k[f];if(c.processPrototypePropertyMetadata)for(var b in a)c.processPrototypePropertyMetadata(b,
a[b],a,d)}};a.processClassMetadatas=function(a,d){for(var f=0;f<k.length;f++){var c=k[f];if(c.processClassPropertyMetadata)for(var b in a)c.processClassPropertyMetadata(b,a[b],a,d)}};a.instanceCreated=function(a,d){for(var f=Object.getOwnPropertyNames(d),c=0;c<k.length;c++){var b=k[c];b.instanceCreated&&b.instanceCreated(a,d,f)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(q,a,p,h,l,k,g){function d(a,
c,b){var e=k.getProperties(a);return g.wire(a,b.aliasOf,function(){e.propertyInvalidated(c)})}Object.defineProperty(a,"__esModule",{value:!0});a.AliasedPropertyExtension={processClassPropertyMetadata:function(a,c,b,e){var m=c.aliasOf;if(m&&(a=m.split(".")[0],null!=b[a]&&!c.set&&!c.get)){var n;c.get=function(){var b=h.default(this,m);if("function"===typeof b){n||(n=m.split(".").slice(0,-1).join("."));var c=h.default(this,n);c&&(b=b.bind(c))}return b};c.readOnly||(c.set=function(b){return l.default(this,
m,b)})}},instanceCreated:function(a,c,b){for(var e=0;e<b.length;e++){var m=b[e],n=c[m];n.aliasOf&&d(a,m,n)}}};a.default=a.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(q,a,p){function h(a,f,c){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=c.getItemAt||Array.isArray(c)){var b=parseInt(a,10);if(!isNaN(b))return Array.isArray(c)?c[b]:c.getItemAt(b)}b=p.getProperties(c);return f?p.isPropertyDeclared(b,a)?b.get(a):c[a]:p.isPropertyDeclared(b,
a)?b.internalGet(a):c[a]}function l(a,f,c,b){if(null==a)return a;if((a=h(f[b],c,a))||!(b<f.length-1))return b===f.length-1?a:l(a,f,c,b+1)}function k(a,f,c,b){void 0===c&&(c=!1);void 0===b&&(b=0);return"string"===typeof f&&-1===f.indexOf(".")?h(f,c,a):l(a,p.pathToArray(f),c,b)}function g(a,f){return k(a,f,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.valueOf=k;a.get=g;a.exists=function(a,f){return void 0!==k(f,a,!0)};a.default=g})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../lang"],function(q,a,p){function h(a,f,c){return f?Object.keys(f).reduce(function(b,a){var e=null,n="merge";c&&(e=c.path?c.path+"."+a:a,n=c.policy(e));if("replace"===n)return b[a]=f[a],b;if(void 0===b[a])return b[a]=p.clone(f[a]),b;var d=b[a],n=f[a];if(d===n)return b;if(Array.isArray(n)||Array.isArray(b))d=d?Array.isArray(d)?b[a]=d.concat():b[a]=[d]:b[a]=[],n&&(Array.isArray(n)||(n=[n]),n.forEach(function(b){-1===d.indexOf(b)&&d.push(b)}));else if(n&&"object"===typeof n)if(c){var g=c.path;
c.path=e;b[a]=h(d,n,c);c.path=g}else b[a]=h(d,n,null);else if(!b.hasOwnProperty(a)||f.hasOwnProperty(a))b[a]=n;return b},a||{}):a}function l(a){return Array.isArray(a)?a:a.split(".")}function k(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var d=0;d<a.length;d++)a[d]=a[d].trim();return 1===a.length?a[0]:a}return a.trim()}function g(a){var d=!1;return function(){d||(d=!0,a())}}Object.defineProperty(a,"__esModule",{value:!0});a.getProperties=function(a){return a?a.__accessor__?
a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,f){return a&&a.metadatas&&null!=a.metadatas[f]};a.merge=function(a,f,c){return c?h(a,f,{policy:c,path:""}):h(a,f,null)};a.pathToStringOrArray=function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:l(a)};a.pathToArray=l;a.splitPath=k;a.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=l(a);for(var d=Array(a.length),c=0;c<a.length;c++){var b=a[c];d[c]="?"===b[b.length-1];d[c]&&(a[c]=b.slice(0,
-1))}return{fullPath:a.join("."),conditional:d}};a.parse=function(a,f,c,b){f=k(f);if(Array.isArray(f)){var e=f.map(function(e){return b(a,e.trim(),c)});return{remove:g(function(){return e.forEach(function(b){return b.remove()})})}}return b(a,f.trim(),c)};a.once=g})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(q,a,p,h,l){function k(a,d,f){if(a&&d)if("object"===typeof d){f=0;for(var c=Object.getOwnPropertyNames(d);f<c.length;f++){var b=
c[f];k(a,b,d[b])}}else"_"!==d[0]&&(-1!==d.indexOf(".")?(d=d.split("."),b=d.splice(d.length-1,1)[0],k(l.default(a,d),b,f)):a[d]=f)}Object.defineProperty(a,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.set");a.set=k;a.default=k})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(q,a,p){function h(c,b,a){b=p.splitPath(b);if(Array.isArray(b)){for(var e=[],n=0;n<b.length;n++)e.push((new l(b[n],a)).install(c));return new d(e)}c=(new l(b,a)).install(c);
return new f(c)}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function c(b,c){this.path=b;this.callback=c;this.conditional=this.chain=null;if(-1<b.indexOf(".")){if(b=p.parseConditionalPath(b))this.path=b.fullPath,this.conditional=b.conditional;this.chain=p.pathToArray(this.path)}else"?"===b[b.length-1]&&(this.path=b.slice(0,b.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=c;return this}c.prototype.install=function(b){b=this.chain?new g(this,b):new k(this,
b);return b};c.prototype.notify=function(b){this.callback(b,this.path)};return c}(),k=function(){function c(b,c){this.binding=b;this.target=c;p.getProperties(c).addCursor(this.binding.path,this)}c.prototype.destroy=function(){this.target&&(p.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};c.prototype.propertyDestroyed=function(b,c){p.getProperties(this.target).removeCursor(c,this)};c.prototype.propertyInvalidated=function(b,c){this.binding&&this.binding.notify(this.target)};
c.prototype.propertyCommitted=function(b,c){this.binding&&this.binding.notify(this.target)};return c}(),g=function(){function c(b,c){this.binding=b;this.target=c;this.stack=[];this.properties=p.getProperties(c);this.stack.push({properties:this.properties,propertyName:b.chain[0]});this.properties.addCursor(b.chain[0],this);this.moveForward();return this}c.prototype.destroy=function(){for(;;){var b=this.stack.pop();if(null==b)break;b.properties.removeCursor(b.propertyName,this)}this.target=this.binding=
null};c.prototype.propertyDestroyed=function(b,c){this.moveBackward(b,c)};c.prototype.propertyInvalidated=function(b,c){this.binding&&this.binding.notify(this.target)};c.prototype.propertyCommitted=function(b,c){this.binding&&(this.moveBackward(b,c),this.moveForward(),this.binding.notify(this.target))};c.prototype.moveBackward=function(b,c){for(var a=this.stack,e=a[a.length-1];e.properties!==b&&e.propertyName!==c;)e.properties.removeCursor(e.propertyName,this),a.pop(),e=a[a.length-1]};c.prototype.moveForward=
function(){var b=this.stack,c=b[b.length-1];if(1!==b.length||!this.binding.conditional||!this.binding.conditional[b.length-1]||c.properties.metadatas[c.propertyName])if(c=c.properties.internalGet(c.propertyName),(c=p.getProperties(c))&&b.length<this.binding.chain.length){var a=this.binding.chain[b.length];this.binding.conditional&&this.binding.conditional[b.length]&&!c.metadatas[a]||(this.stack.push({properties:c,propertyName:a}),c.addCursor(a,this),this.moveForward())}};return c}(),d=function(){function c(b){this.cursors=
b}c.prototype.remove=function(){for(var b=this.cursors;0<b.length;)b.pop().destroy();this.cursors=null};return c}(),f=function(){function c(b){this.cursor=b}c.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return c}();a.create=function(c,b){c=p.splitPath(c);if(Array.isArray(c)){for(var a=[],m=0;m<c.length;m++)a.push(new l(c[m],b));return function(b){for(var c=[],e=0;e<a.length;e++)c[e]=a[e].install(b);return new d(c)}}var n=new l(c,b);return function(b){return new f(n.install(b))}};
a.wire=h;a.default=h})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(q,a,p,h,l,k){Object.defineProperty(a,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,d,f,c){d.dependsOn&&(f=void 0,f=d.dependsOn.slice())&&(d.wire=k.create(f,function(b){return l.getProperties(b).propertyInvalidated(a)}))},
instanceCreated:function(a,d,f){for(var c=0;c<f.length;c++){var b=d[f[c]];b.wire&&b.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(q,a,p,h,l,k,g){function d(a,c,b){var e=a&&a.json;a&&a.json&&a.json.origins&&b&&(a=a.json.origins[b.origin])&&
c in a&&(e=a);return e}Object.defineProperty(a,"__esModule",{value:!0});a.originSpecificReadPropertyDefinition=function(a,c){return d(a,"read",c)};a.originSpecificWritePropertyDefinition=function(a,c){return d(a,"write",c)};a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,c,b,e){if(k.process(c)){h.process(c);b=c.type;for(e=0;Array.isArray(b)&&!p.isOneOf(b);)b=b[0],e++;if(c.json.origins)for(var m in c.json.origins){var n=c.json.origins[m];l.create(b,e,a,n);g.create(b,e,
a,n)}l.create(b,e,a,c.json);g.create(b,e,a,c.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){if(a.json&&a.json.origins){var h=a.json.origins,l={"web-document":["web-scene","web-map"]};a=function(a){if(h[a]){var d=h[a];l[a].forEach(function(a){h[a]=d});delete h[a]}};for(var k in l)a(k)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(q,a,p,h){function l(b,a,n,g){if(1<a)return d(b,a);if(1===a)return f(b);if(c(b)){var e=f(b.prototype.itemType.Type);return function(c,a,m){return(c=e(c,a,m))?new b(c):c}}return k(b)}function k(b){return b.prototype.read?function(c,a,e){if(null==c)return c;a=new b;a.read(c,e);return a}:b.fromJSON}function g(b,c,a,d){return 0!==d&&Array.isArray(c)?c.map(function(c){return g(b,c,a,d-1)}):b(c,null,a)}function d(b,c){b=k(b);var a=g.bind(null,b);return function(b,
e,m){if(null==b)return b;b=a(b,m,c);e=c;for(m=b;0<e&&Array.isArray(m);)e--,m=m[0];if(void 0!==m)for(m=0;m<e;m++)b=[b];return b}}function f(b){var c=k(b);return function(b,a,e){return null==b?b:Array.isArray(b)?b.map(function(b){return c(b,null,e)}):[c(b,null,e)]}}function c(c){return h.isCollection(c)?(c=c.prototype.itemType)&&c.Type&&"function"===typeof c.Type?b(c.Type):!1:!1}function b(b){return Array.isArray(b)?!1:!!b&&b.prototype&&("read"in b.prototype||"fromJSON"in b||c(b))}Object.defineProperty(a,
"__esModule",{value:!0});a.create=function(c,a,n,d){(!d.read||!d.read.reader&&!1!==d.read.enabled)&&b(c)&&p.setDeepValue("read.reader",l(c,a,n,d),d)}})},"esri/core/object":function(){define(["require","exports"],function(q,a){function p(a,l,k){for(var g=0;g<a.length;g++){var d=a[g];if(null==k)return;if(!(d in k))if(l)k[d]={};else return;k=k[d]}return k}Object.defineProperty(a,"__esModule",{value:!0});a.getDeepValue=function(a,l){return p(a.split("."),!1,l)};a.setDeepValue=function(a,l,k){var g=a.split(".");
a=g.pop();(k=p(g,!0,k))&&a&&(k[a]=l)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(q,a){function p(a){"boolean"===
typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function h(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){a.json||(a.json={});p(a.json);h(a.json);
if(a.json.origins)for(var k in a.json.origins)p(a.json.origins[k]),h(a.json.origins[k]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(q,a,p,h){function l(c,b,a,m){p.setDeepValue(a,k(c,m),b)}function k(c,b){return c&&"function"===typeof c.write?c.write({},b):c&&"function"===typeof c.toJSON?c.toJSON():"number"===typeof c?-Infinity===c?-Number.MAX_VALUE:Infinity===c?Number.MAX_VALUE:isNaN(c)?
null:c:c}function g(c,b,a,m){null===c?c=null:c&&"function"===typeof c.map?(c=c.map(function(b){return k(b,m)}),"function"===typeof c.toArray&&(c=c.toArray())):c=[k(c,m)];p.setDeepValue(a,c,b)}function d(c,b,a){return 0!==a&&Array.isArray(c)?c.map(function(c){return d(c,b,a-1)}):k(c,b)}function f(c){return function(b,a,m,n){if(null===b)b=null;else{b=d(b,n,c);n=c;for(var e=b;0<n&&Array.isArray(e);)n--,e=e[0];if(void 0!==e)for(e=0;e<n;e++)b=[b]}p.setDeepValue(m,b,a)}}Object.defineProperty(a,"__esModule",
{value:!0});a.create=function(c,b,a,m){m.write&&!m.write.writer&&!1!==m.write.enabled&&(1===b||h.isCollection(c)?m.write.writer=g:m.write.writer=1<b?f(b):l)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(q,a){function p(a){switch(a){case "defaults":return l.DEFAULTS;case "service":return l.SERVICE;case "portal-item":return l.PORTAL_ITEM;case "web-scene":return l.WEB_SCENE;case "web-map":return l.WEB_MAP;case "user":return l.USER}}function h(a){switch(a){case l.DEFAULTS:return"defaults";
case l.SERVICE:return"service";case l.PORTAL_ITEM:return"portal-item";case l.WEB_SCENE:return"web-scene";case l.WEB_MAP:return"web-map";case l.USER:return"user"}}Object.defineProperty(a,"__esModule",{value:!0});var l;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(l=a.OriginId||(a.OriginId={}));a.nameToId=p;a.idToName=h;a.readableNameToId=
function(a){return p(a)};a.idToReadableName=function(a){return h(a)};a.writableNameToId=function(a){return p(a)};a.idToWritableName=function(a){return h(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});q=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return p.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};
a.prototype.set=function(a,k){this._values[a]=k};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();a.default=q})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(q,a,p,h,l,k,g){function d(a,c){return function(b){b=+a(b);null!=c.min&&(b=Math.max(c.min,b));null!=c.max&&(b=Math.min(c.max,b));return b}}Object.defineProperty(a,
"__esModule",{value:!0});a.processPrototype=function(a){var c=a.declaredClass,b=a.properties||{},e;for(e in b){var m=b[e],n=typeof m;null==m?l.setPropertyMetadata(a,e,{value:m}):Array.isArray(m)?l.setPropertyMetadata(a,e,{type:[m[0]],value:null}):"object"===n?k.getProperties(m)||m instanceof Date?l.setPropertyMetadata(a,e,{type:m.constructor,value:m}):l.setPropertyMetadata(a,e,m):"boolean"===n?l.setPropertyMetadata(a,e,{type:Boolean,value:m}):"string"===n?l.setPropertyMetadata(a,e,{type:String,value:m}):
"number"===n?l.setPropertyMetadata(a,e,{type:Number,value:m}):"function"===n&&l.setPropertyMetadata(a,e,{type:m,value:null})}a=l.getPropertiesMetadata(a);for(e in a){b=a[e];n=b.type;m=b.types;if(!b.cast)if(n){for(var m=b,f=0,g=n;Array.isArray(g)&&1===g.length&&"string"!==typeof g[0]&&"number"!==typeof g[0];)g=g[0],f++;n=p.isOneOf(g)?0===f?p.ensureOneOf(g):p.ensureNArrayTyped(p.ensureOneOf(g),f):1===f?p.ensureArray(g):1<f?p.ensureNArray(g,f):p.ensureType(n);m.cast=n}else m&&(Array.isArray(m)?b.cast=
p.ensureArrayTyped(p.ensureOneOfType(m[0])):b.cast=p.ensureOneOfType(m));b.range&&(b.cast=d(b.cast,b.range))}h.processPrototypeMetadatas(a,c);return a};a.processClass=function(a){for(var c=a.prototype,b=c.declaredClass,e=a._meta.bases,m={},n=e.length-1;0<=n;n--)l.merge(m,l.getMetadata(e[n].prototype));var d=m.properties;h.processClassMetadatas(d,b);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:d,autoDestroy:!!m.autoDestroy}});for(var f={},b=function(b){var a=d[b];f[b]={enumerable:!0,
configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(b):a.value},set:function(c){var e=this.__accessor__;if(!e)Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:c});else if(!Object.isFrozen(this)){if(e.initialized&&a.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+b+"' of "+this.declaredClass);if(2===e.lifecycle&&a.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+b+"' of "+
this.declaredClass);e.set(b,c)}}}},e=0,n=Object.getOwnPropertyNames(d);e<n.length;e++)b(n[e]);Object.defineProperties(a.prototype,f);if(m.parameters)for(a=0,b=Object.getOwnPropertyNames(m.parameters);a<b.length;a++)e=b[a],n=Object.getOwnPropertyDescriptor(c,e)||{value:c[e]},(n=g.autocastMethod(c,e,n))&&Object.defineProperty(c,e,n);return m}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(q,a,p){function h(b){return null!=b.__accessorMetadata__}function l(b){return h(b)&&
null!=k(b).properties}function k(b){b.__accessorMetadata__||Object.defineProperty(b,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return b.__accessorMetadata__}function g(b){b=k(b);var a=b.properties;a||(a=b.properties={});return a}function d(b,a){var c=k(b);b=c.parameters;b||(b=c.parameters={});c=b[a];c||(c=[],b[a]=c);return c}function f(a){return b.test(a)?"replace":"merge"}function c(b){return e.test(b)?f(b.slice(11)):"merge"}Object.defineProperty(a,"__esModule",
{value:!0});a.hasMetadata=h;a.hasPropertiesMetadata=l;a.hasPropertyMetadata=function(b,a){return l(b)&&null!=g(b)[a]};a.hasParametersMetadata=function(b,a){return h(b)&&null!=k(b).parameters&&null!=k(b).parameters[a]};a.getMetadata=k;a.getPropertiesMetadata=g;a.getPropertyMetadata=function(b,a){b=g(b);var c=b[a];c||(c=b[a]={});return c};a.setPropertyMetadata=function(b,a,c){g(b)[a]=c};a.getParametersMetadata=d;a.getParameterMetadata=function(b,a,c){var e=d(b,a)[c];e||(d(b,a)[c]=e={index:c});return e};
a.merge=function(b,a){return p.merge(b,a,c)};a.mergeProperty=function(b,a){return p.merge(b,a,f)};var b=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,e=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(q,a,p,h){function l(a){var b="_meta"in a?p.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?g.apply(this,
a):k.apply(this,a)}}function k(a,b,e,m){h.getPropertyMetadata(a,b).cast=m}function g(a,b,e,m){h.getParameterMetadata(a,b,e).cast=m}function d(a){return function(b,c,m){h.getPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(a,"__esModule",{value:!0});var f=Object.prototype.toString;a.autocastMethod=function(a,b,e){if(h.hasParametersMetadata(a,b)){var c=h.getParametersMetadata(a,b).filter(function(b){return null!=b.cast});if(c.length){var n=e.value;e.value=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=
arguments[a];for(a=0;a<c.length;a++){var e=c[a];b[e.index]=e.cast(b[e.index])}return n.apply(this,b)};return e}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};a.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===f.call(a[0]))return l(a[0]);if(1===a.length&&"string"===typeof a[0])return d(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),
function(q,a,p,h,l,k,g,d,f){function c(b){r.has(b)?w.splice(w.indexOf(b),1):r.add(b);w.push(b);x||(x=k.schedule(e))}function b(b){if(!b.removed){var a=b.callback,c=b.path,e=b.oldValue,m=b.target,n=g.valueOf(m,b.propertyPath,!0);h.equals(e,n)||(b.oldValue=n,a.call(m,n,e,c,m))}}function e(){if(x){x=null;var a=w;w=v.acquire();r.clear();for(var c=v.acquire(),e=0;e<a.length;e++){var m=a[e];b(m);m.removed&&c.push(m)}for(e=0;e<w.length;e++)m=w[e],m.removed&&(c.push(m),r.delete(m),w.splice(e,1),--e);for(e=
0;e<c.length;e++)t.pool.release(c[e]);v.release(a);v.release(c);y.forEach(function(b){return b()})}}function m(b,a,e){var m=d.parse(b,a,e,function(b,a,e){var n=g.valueOf(b,a,!0),u,k=f.wire(b,a,function(b,a){b.__accessor__.destroyed?m.remove():(u||(u=t.pool.acquire(b,a,n,e),n=null),c(u))});return{remove:d.once(function(){k.remove();u&&(u.removed=!0,c(u),u=null);m=k=n=null})}});return m}function n(b,a,c){var e=d.parse(b,a,c,function(b,a,c){var m=g.valueOf(b,a,!0),n=!1;return f.wire(b,a,function(b,a){if(b.__accessor__.destroyed)e.remove();
else if(!n){n=!0;var d=g.valueOf(b,a,!0);h.equals(m,d)||c.call(b,d,m,a,b);m=g.valueOf(b,a,!0);n=!1}})});return e}function u(b,a,c,e){void 0===e&&(e=!1);return!b.__accessor__||b.__accessor__.destroyed?{remove:function(){}}:e?n(b,a,c):m(b,a,c)}Object.defineProperty(a,"__esModule",{value:!0});var t=function(){function b(b,a,c,e){this.target=b;this.path=a;this.oldValue=c;this.callback=e;this.removed=!1;this.propertyPath=d.pathToStringOrArray(a)}b.prototype.release=function(){this.target=this.path=this.propertyPath=
this.callback=this.oldValue=null;this.removed=!0};b.pool=new l.ReentrantObjectPool(b,!0);return b}(),v=new p,r=new Set,w=v.acquire(),x;a.dispatchTarget=function(a){for(var c=v.copy(w),e=0;e<c.length;e++){var m=c[e];m.target===a&&(b(m),r.delete(m),w.splice(w.indexOf(m),1))}};a.removeTarget=function(b){for(var a=0;a<w.length;a++){var c=w[a];c.target===b&&(c.removed=!0)}};a.dispatch=e;var y=new Set;a.afterDispatch=function(b){y.add(b);return{remove:function(){y.delete(b)}}};a.watch=u;a.isValueInUse=
function(b){return w.some(function(a){return a.oldValue===b})};a.default=u})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(q,a,p,h){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function k(){var g=null!==a&&a.apply(this,arguments)||this;g._set=new Set;return g}p(k,a);k.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=null};k.prototype.acquire=function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=
arguments[d];g=a.prototype.acquire.apply(this,g);this._set.delete(g);return g};k.prototype.release=function(g){g&&!this._set.has(g)&&(a.prototype.release.call(this,g),this._set.add(g))};k.prototype._dispose=function(g){this._set.delete(g);a.prototype._dispose.call(this,g)};return k}(h);a.ReentrantObjectPool=q})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(q,a,p,h,l){function k(b){void 0===b&&(b=a.now());a.debug.rafId=null;
0<w.length&&(a.debug.rafId=g());0<m&&(u=Math.min(b-m,u));a.debug.executeFrameTasks(b)}function g(){return a.debug.requestNextFrame?a.debug.requestNextFrame(c):c()}function d(){for(var b=0;b<w.length;){var a=w[b];b++;if(a.removed){w.splice(b-1,1);for(var c=0;c<v.length;c++){var e=v[c];if(a.phases[e]){var e=x[e],m=e.indexOf(a);-1!==m&&e.splice(m,1)}}}}}function f(){for(;r.length;){var b=r.shift();b.isActive&&(b.isActive=!1,b.callback())}a.debug.willDispatch=!1}function c(){return l(k)}Object.defineProperty(a,
"__esModule",{value:!0});a.now=h;var b=function(){return function(b){this.phases=b;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),e=function(){function b(b){this.callback=b;this.isActive=!0}b.prototype.remove=function(){this.isActive=!1};return b}(),m=-1,n=0,u=Number.POSITIVE_INFINITY,t={time:0,deltaTime:0,tickTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},v=["prepare","preRender","render","postRender","update"],r=[],w=[],x={prepare:[],preRender:[],
render:[],postRender:[],update:[]},y=function(){function b(b){this._task=b}b.prototype.remove=function(){this._task.removed=!0};b.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=a.now())};b.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=a.now()-this._task.pausedAt))};return b}();a.FrameTaskHandle=y;a.debug={frameTasks:w,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(b){void 0===
b&&(b=!1);for(var a=0;a<w.length;a++)w[a].removed=!0;b&&d()},dispatch:f,executeFrameTasks:function(b){void 0===b&&(b=a.now());0>m&&(m=b);var c=b-m,e=0<n?n:u,f=Math.max(0,c-e);m=b;for(var g=0;g<w.length;g++){var k=w[g];-1!==k.epoch&&(k.dt=c)}for(g=0;g<v.length;g++)for(var c=v[g],r=x[c],h=0;h<r.length;h++)k=r[(h+z)%r.length],k.paused||k.removed||(0===g&&k.ticks++,-1===k.epoch&&(k.epoch=b),t.time=b,t.deltaTime=k.dt,t.tickTime=Math.min(u,33),t.elapsedFrameTime=a.now()-b,t.frameDuration=e-f,t.spendInTask=
b-k.epoch,k.phases[c].call(k,t));d();++z}};a.schedule=function(b){b=new e(b);r.push(b);a.debug.willDispatch||(a.debug.willDispatch=!0,p(f));return b};a.addFrameTask=function(c){var e=new b(c);w.push(e);for(var n=0,d=v;n<d.length;n++){var f=d[n];c[f]&&x[f].push(e)}a.debug.rafId||(m=-1,a.debug.rafId=g());return new y(e)};a.setFrameDuration=function(b){n=Math.max(0,b)};var z=0;a.requestNextFrame=g})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(q,
a,p,h){var l=h();q=p.requestAnimationFrame;if(!q){a=["ms","moz","webkit","o"];for(var k=0;k<a.length&&!q;++k)q=p[a[k]+"RequestAnimationFrame"];q||(q=function(a){var d=h(),f=Math.max(0,16-(d-l)),c=p.setTimeout(function(){a(h())},f);l=d+f;return c})}return q})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){function m(b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])}Object.defineProperty(a,"__esModule",{value:!0});m(p);m(h);m(l);m(k);m(g);m(d);m(f);m(c);m(b);m(e)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=function(a){return function(h,k){p.getPropertyMetadata(h,k).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=function(){return function(a,l,k){p.getMetadata(a).autoDestroy=!0;return a[l]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.declared=function(a){for(var h=[],l=1;l<arguments.length;l++)h[l-1]=arguments[l];l=function(){return this||{}};l.__bases__=[a].concat(h);return l}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../kebabDictionary","./property"],function(q,a,p,h){function l(a){return h.property({type:a})}Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=l;(function(a){a.serializable=function(){return function(a){a=a instanceof p.KebabDictionary?a:new p.KebabDictionary(a,{ignoreUnknown:!0});return h.property({type:a.apiValues,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(l=a.enumeration||(a.enumeration={}))})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(q,a,p,h,l,k){Object.defineProperty(a,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(d,f){var c=d.constructor.prototype;c!==Function.prototype&&((d=Object.getOwnPropertyDescriptor(d,f))&&(d.get||d.set)?(a=h.clone(a),d.set&&(a.set=d.set),d.get&&(a.get=d.get)):d&&d.hasOwnProperty("value")&&(a=h.clone(a),a.value=d.value),f=k.getPropertyMetadata(c,f),k.mergeProperty(f,a))}};a.propertyJSONMeta=function(a,
d,f){a=k.getPropertyMetadata(a.constructor.prototype,f);a.json||(a.json={});a=a.json;void 0!==d&&(a.origins||(a.origins={}),a.origins[d]||(a.origins[d]={}),a=a.origins[d]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(q,a,p,h){Object.defineProperty(a,"__esModule",{value:!0});a.reader=function(a,k,g){var d,f;void 0===k||Array.isArray(k)?(f=a,g=k,d=[void 0]):(f=k,d=Array.isArray(a)?a:[a]);return function(a,b,e){var c=
a.constructor.prototype;d.forEach(function(e){e=h.propertyJSONMeta(a,e,f);e.read&&"object"!==typeof e.read&&(e.read={});p.setDeepValue("read.reader",c[b],e);g&&(e.read.source=(e.read.source||[]).concat(g))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=function(a){return function(h,l){h[l]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(q,a,p,h){function l(b,a){b.read&&("function"===typeof b.read?a.push(b.read):"object"===typeof b.read&&b.read.reader&&a.push(b.read.reader))}function k(b,a){b.write&&("function"===typeof b.write?a.push(b.write):"object"===typeof b.write&&b.write.writer&&a.push(b.write.writer))}function g(b){var a=[];b=h.getPropertiesMetadata(b.prototype);if(!b)return a;for(var c in b){var n=b[c];n.cast&&a.push(n.cast);n.copy&&a.push(n.copy);if(n=n.json)if(l(n,a),k(n,a),n=n.origins)for(var d in n){var f=
n[d];l(f,a);k(f,a)}}return a}function d(b){var a={values:{},descriptors:{}},m=["__bases__"],n=h.getPropertiesMetadata(b.prototype),d=g(b);Object.getOwnPropertyNames(b.prototype).filter(function(a){return-1!==m.indexOf(a)||n&&n.hasOwnProperty(a)||!c(Object.getOwnPropertyDescriptor(b.prototype,a))&&-1!==d.indexOf(b.prototype[a])?!1:!0}).forEach(function(e){var m=Object.getOwnPropertyDescriptor(b.prototype,e);c(m)?a.descriptors[e]=m:a.values[e]=b.prototype[e]});return a}function f(b){var a=Object.getOwnPropertyNames(b),
m=Object.getPrototypeOf(b.prototype).constructor,n=Object.getOwnPropertyNames(Function);n.push("__bases__");var d=Object.getOwnPropertyNames(m),f={values:{},descriptors:{}};a.filter(function(a){return-1!==n.indexOf(a)?!1:-1===d.indexOf(a)||m[a]!==b[a]?!0:!1}).forEach(function(a){var e=Object.getOwnPropertyDescriptor(b,a);c(e)?f.descriptors[a]=e:f.values[a]=b[a]});return f}function c(b){return b&&!(!b.get&&!b.set)}Object.defineProperty(a,"__esModule",{value:!0});a.subclass=function(b){return function(a){var c=
d(a),e=f(a);null!=b&&(c.values.declaredClass=b);a=p(a.__bases__,c.values);Object.defineProperties(a.prototype,c.descriptors);for(var g in e.values)a[g]=e.values[g];Object.defineProperties(a,e.descriptors);return a}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(q,a,p,h){Object.defineProperty(a,"__esModule",{value:!0});a.writer=function(a,k,g){var d,f;void 0===k?(f=a,d=[void 0]):"string"!==typeof k?(f=a,d=[void 0],g=k):
(f=k,d=Array.isArray(a)?a:[a]);return function(a,b,e){var c=a.constructor.prototype;d.forEach(function(e){e=h.propertyJSONMeta(a,e,f);e.write&&"object"!==typeof e.write&&(e.write={});g&&p.setDeepValue("write.target",g,e);p.setDeepValue("write.writer",c[b],e)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(q,a,p,h,l,k){function g(a,c,b){void 0===b&&(b=d);if(c&&"object"===typeof c){for(var e=
l.getProperties(a),m=e.metadatas,n={},f=0,g=Object.getOwnPropertyNames(c);f<g.length;f++){var v=n,r=m,w=g[f],x=c,p=b,z=k.originSpecificReadPropertyDefinition(r[w],p);z&&(!z.read||!1!==z.read.enabled&&!z.read.source)&&(v[w]=!0);for(var E=0,C=Object.getOwnPropertyNames(r);E<C.length;E++){var q=C[E],z=k.originSpecificReadPropertyDefinition(r[q],p),D;a:{D=w;var F=x;if(z&&z.read&&!1!==z.read.enabled&&z.read.source)if(z=z.read.source,"string"===typeof z){if(z===D||-1<z.indexOf(".")&&0===z.indexOf(D)&&h.exists(z,
F)){D=!0;break a}}else for(var H=0;H<z.length;H++){var B=z[H];if(B===D||-1<B.indexOf(".")&&0===B.indexOf(D)&&h.exists(B,F)){D=!0;break a}}D=!1}D&&(v[q]=!0)}}e.setDefaultOrigin(b.origin);g=0;for(v=Object.getOwnPropertyNames(n);g<v.length;g++)f=v[g],w=(r=k.originSpecificReadPropertyDefinition(m[f],b).read)&&r.source,x=void 0,x=w&&"string"===typeof w?h.valueOf(c,w):c[f],r&&r.reader&&(x=r.reader.call(a,x,c,b)),void 0!==x&&e.set(f,x);if(!b||!b.ignoreDefaults)for(c=0,m=Object.getOwnPropertyNames(m);c<m.length;c++)f=
m[c],n[f]||(g=a,v=e,r=b,w=(w=k.originSpecificReadPropertyDefinition(v.metadatas[f],r))&&w.default,void 0!==w&&(g="function"===typeof w?w.call(g,f,r):w,void 0!==g&&v.set(f,g)));e.setDefaultOrigin("user")}}Object.defineProperty(a,"__esModule",{value:!0});var d={origin:"service"};a.read=g;a.readLoadable=function(a,c,b,e){void 0===e&&(e=d);c=p({},e,{messages:[]});b(c);c.messages.forEach(function(b){"warning"!==b.type||a.loaded?e&&e.messages.push(b):a.loadWarnings.push(b)})};a.default=g})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(q,a,p,h,l,k,g,d){function f(a,c,n,d,f,g){if(!d||!d.write)return!1;var e=a.get(n);if(!f&&d.write.overridePolicy){var m=d.write.overridePolicy.call(a,e,n,g);void 0!==m&&(f=m)}f||(f=d.write);if(!f||!1===f.enabled)return!1;if((null===e&&!f.allowNull||void 0===e)&&f.isRequired)return(e=new h("web-document-write:property-required","Missing value for required property '"+n+"' on '"+a.declaredClass+"'",{propertyName:n,target:a}),g)&&g.messages?g.messages.push(e):e&&!g&&b.error(e.name,e.message),
!1;if(void 0===e||null===e&&!f.allowNull||!f.ignoreOrigin&&g&&g.origin&&c.store.originOf(n)<k.nameToId(g.origin))return!1;c=d.default;void 0===c?g=!1:"function"===typeof c?Array.isArray(e)?(g=c.call(a,n,g),g=p.equals(g,e)):g=!1:g=c===e;return g?!1:!0}function c(b,a,c){if(b&&"function"===typeof b.toJSON&&(!b.toJSON.isDefaultToJSON||!b.write))return g.merge(a,b.toJSON());var e=g.getProperties(b),m=e.metadatas,n;for(n in m){var h=d.originSpecificWritePropertyDefinition(m[n],c);if(f(b,e,n,h,null,c)){var l=
b.get(n),x={};h.write.writer.call(b,l,x,"string"===typeof h.write.target?h.write.target:n,c);h=x;0<Object.keys(h).length&&(a=g.merge(a,h),c&&c.writtenProperties&&c.writtenProperties.push({target:b,propName:n,oldOrigin:k.idToReadableName(e.store.originOf(n)),newOrigin:c.origin}))}}return a}Object.defineProperty(a,"__esModule",{value:!0});var b=l.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(b,a,c,k){var e=g.getProperties(b),m=d.originSpecificWritePropertyDefinition(e.metadatas[a],
k);return m?f(b,e,a,m,c,k):!1};a.write=c;a.default=c})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(q,a,p,h){function l(b,a){return-1===b.indexOf(a)}function k(b,a,c){return!b.some(a.bind(null,c))}function g(b){return b}Object.defineProperty(a,"__esModule",{value:!0});a.find=p.find;a.findIndex=p.findIndex;a.unique=function(b){return b.filter(function(b,a,c){return c.indexOf(b)===a})};a.equals=function(b,a,c){if(!b&&!a)return!0;
if(!b||!a||b.length!==a.length)return!1;if(c)for(var e=0;e<b.length;e++){if(!c(b[e],a[e]))return!1}else for(e=0;e<b.length;e++)if(b[e]!==a[e])return!1;return!0};a.difference=function(b,a,c){var e;c?(e=a.filter(k.bind(null,b,c)),b=b.filter(k.bind(null,a,c))):(e=a.filter(l.bind(null,b)),b=b.filter(l.bind(null,a)));return{added:e,removed:b}};a.intersect=function(b,a,c){return b&&a?c?b.filter(function(b){return-1<p.findIndex(a,function(a){return c(b,a)})}):b.filter(function(b){return-1<a.indexOf(b)}):
[]};a.constant=function(b,a){for(var c=Array(b),e=0;e<b;e++)c[e]=a;return c};a.range=function(b,a){void 0===a&&(a=b,b=0);for(var c=Array(a-b),e=b;e<a;e++)c[e-b]=e;return c};a.binaryIndexOf=function(b,a,c){for(var e=b.length,m=0,d=e-1;m<d;){var f=m+Math.floor((d-m)/2);a>b[f]?m=f+1:d=f}d=b[m];return c?a>=b[e-1]?-1:d===a?m:m-1:d===a?m:-1};a.flatten=function(b){return b.reduce(function(b,a){return b.concat(a||[])},[])};q=function(){return function(){this.last=0}}();a.RemoveHint=q;var d=new q;a.removeUnordered=
function(b,a,c,n){n=n||d;for(var e=null==c?b.length:c,m=Math.max(0,n.last-10),f=-1,g=m;g<e;++g)if(b[g]===a){f=g;break}if(-1===f){for(g=0;g<m;++g)if(b[g]===a){f=g;break}if(-1===f)return}b[f]=b[e-1];null==c&&b.pop();n.last=f;return a};var f=new Set;a.removeUnorderedMany=function(b,a,c,n,g,k){void 0===c&&(c=b.length);void 0===n&&(n=a.length);if(0===n||0===c)return c;f.clear();for(var e=0;e<n;++e)f.add(a[e]);g=g||d;for(e=a=Math.max(0,g.last-10);e<c;++e)if(f.has(b[e])&&(k&&k.push(b[e]),f.delete(b[e]),
b[e]=b[c-1],--c,--e,0===f.size||0===c))return f.clear(),c;for(e=0;e<a;++e)if(f.has(b[e])&&(k&&k.push(b[e]),f.delete(b[e]),b[e]=b[c-1],--c,--e,0===f.size||0===c))return f.clear(),c;f.clear();return c};a.shuffle=function(b,a){a=(c.seed=a)?function(){return c.getFloat()}:Math.random;for(var e=b.length-1;0<e;e--){var d=Math.floor(a()*(e+1)),f=b[e];b[e]=b[d];b[d]=f}return b};var c=new h;a.keysOfMap=function(b){var a=[];b.forEach(function(b,c){return a.push(c)});return a};a.keysOfSet=function(b,a){void 0===
a&&(a=g);var c=[];b.forEach(function(b){return c.push(a(b))});return c};a.fromMapValues=function(b){if(Array.from)return Array.from(b.values());var a=Array(b.size),c=0;b.forEach(function(b){a[c++]=b});return a}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(q,a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(h){this._seed=null==h?Math.random()*a._m:h},enumerable:!0,configurable:!0});a.prototype.getInt=
function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,l){return Math.round(this.getFloatRange(a,l))};a.prototype.getFloatRange=function(h,l){l-=h;var k=this.getInt()/a._m;return h+Math.floor(k*l)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/lang","./WKIDUnitConversion"],function(q,a,p,h){function l(a){return g(a)&&
a.wkid?b[a.wkid]:null}function k(a){return g(a)&&!0===d[a.wkid]}function g(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(a,"__esModule",{value:!0});var d={102113:!0,102100:!0,3857:!0,3785:!0},f={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};q=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],b={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:q,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:q,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:q,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:q,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};a.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||k(a)&&k(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};a.getInfo=l;a.isGeographic=function(a){return g(a)?a.wkid?null==h[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};a.isWGS84=function(a){return g(a)&&4326===a.wkid};a.isWebMercator=k;a.isWrappable=function(a){return g(a)&&
!0===f[a.wkid]};a.isValid=g;a.WGS84={wkid:4326,wkt:p.substitute({Central_Meridian:"0.0"},l({wkid:4326}).wkTemplate)};a.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["require","exports","../../../core/mathUtils"],function(q,a,p){function h(a,g,d,f){void 0===f&&(f=0);var c=a.byteLength/(4*g),b=new Uint32Array(a,0,c*g);a=new Uint32Array(c);var e=Math.floor(1.1*c)+1;if(null==l||l.length<2*e)l=new Uint32Array(p.nextHighestPowerOfTwo(2*e));
for(var m=0;m<2*e;m++)l[m]=0;for(var n=0,k=0!==f?Math.ceil(7.84*1.96/(f*f)*f*(1-f)):c,m=0;m<c;m++){if(m===k){var h=1-n/m;if(h+1.96*Math.sqrt(h*(1-h)/m)<f)return null;k*=2}for(var h=m*g,v,r=v=0;r<g;r++)v=b[h+r]+v|0,v=v+(v<<11)+(v>>>2)|0;v>>>=0;for(var r=v%e,w=n;0!==l[2*r+1];){if(l[2*r]===v){var x=l[2*r+1]-1,y=x*g;a:{for(var z=0;z<g;z++)if(b[h+z]!==b[y+z]){y=!1;break a}y=!0}if(y){w=a[x];break}}r++;r>=e&&(r-=e)}w===n&&(l[2*r]=v,l[2*r+1]=m+1,n++);a[m]=w}if(0!==f&&1-n/c<f)return null;f=new Uint32Array(g*
n);for(m=n=0;m<c;m++)if(a[m]===n){e=b;k=m*g;h=f;v=n*g;r=g;for(w=0;w<r;w++)h[v+w]=e[k+w];n++}if(d){g=new Uint32Array(d.length);for(m=0;m<g.length;m++)g[m]=a[d[m]];a=g}return{buffer:f.buffer,indices:a,uniqueCount:n}}Object.defineProperty(a,"__esModule",{value:!0});a.deduplicate=h;var l=null;a.default=h})},"esri/core/mathUtils":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};
a.isNaN=Number.isNaN||function(a){return a!==a};a.nextHighestPowerOfTwo=function(a){--a;for(var h=1;32>h;h<<=1)a|=a>>h;return a+1}})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ../../../../core/promiseUtils ../../../../core/libs/gl-matrix-2/vec2f32 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f32 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/meshUtils/deduplicate ./I3SBinaryReader ../../support/projectionUtils ../../webgl-engine/lib/Util".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){function e(a,b,c,e,d,m,n){switch(c){case 1:for(c=0;c<n;c++)e[d]=a[b],b+=1,d+=m;break;case 2:for(c=0;c<n;c++)e[d]=a[b],e[d+1]=a[b+1],b+=2,d+=m;break;case 3:for(c=0;c<n;c++)e[d]=a[b],e[d+1]=a[b+1],e[d+2]=a[b+2],b+=3,d+=m;break;case 4:for(c=0;c<n;c++)e[d]=a[b],e[d+1]=a[b+1],e[d+2]=a[b+2],e[d+3]=a[b+3],b+=4,d+=m;break;default:throw v("Unhandled stride size "+c);}}function m(a,b,c,e,d,m){switch(b){case 1:for(b=0;b<m;b++)c[e]=a,e+=d;break;case 2:for(b=0;b<m;b++)c[e]=a,c[e+
1]=a,e+=d;break;case 3:for(b=0;b<m;b++)c[e]=a,c[e+1]=a,c[e+2]=a,e+=d;break;case 4:for(b=0;b<m;b++)c[e]=a,c[e+1]=a,c[e+2]=a,c[e+3]=a,e+=d;break;default:throw v("Unhandled stride size "+b);}}function n(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function u(a){switch(a){case 5120:return"Int8";case 5126:return"Float32";
case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function t(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}function v(a){return Error("I3SGeometryUtil processing failed: "+a)}function r(a,b){switch(b){case 0:switch(a.type){case "intersects":case "contains":case "crosses":case "envelope-intersects":case "overlaps":case "touches":case "within":return 1;case "disjoint":return 0}break;
case 2:switch(a.type){case "intersects":case "contains":case "envelope-intersects":case "within":return 0;case "disjoint":case "crosses":case "overlaps":case "touches":return 1}break;case 1:switch(a.type){case "envelope-intersects":return 0}}return 2}function w(a,b){return y.contains(a.mask,b)?2:y.intersects(a.mask,b)?1:0}Object.defineProperty(a,"__esModule",{value:!0});var x=new Uint8Array(64);a.interleaveGeometryBuffer=function(a,b,c,d,f){void 0===d&&(d=[]);void 0===f&&(f=[]);var g=a.params.vertexAttributes,
k=g.position.count;if(!t(c[0].stride))throw v("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var h=new Uint32Array(c[0].stride/Uint32Array.BYTES_PER_ELEMENT*k);c=c.slice(0).sort(function(a,b){return a.offset-b.offset});a=function(a){if(-1!==f.indexOf(a.name))return"continue";var c=g[a.name],r=n(a.type),l=void 0,w=!1;if(null==c)if(w=d.filter(function(b){return b.name===a.name})[0]){c={valueType:u(a.type),byteOffset:0,count:k,valuesPerElement:a.count};for(l=0;l<x.length;l++)x[l]=
w.byteValue;l=x.buffer;w=!0}else throw v("Geometry definition is missing attribute");else l=b;if(u(a.type)!==c.valueType)throw v("Geometry definition type must match attribute type");if(0!==c.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==a.offset%Uint32Array.BYTES_PER_ELEMENT)throw v(a.name+" offset must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!t(c.valuesPerElement*r.BYTES_PER_ELEMENT)||!t(a.count*r.BYTES_PER_ELEMENT))throw v(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");
var l=new Uint32Array(l),H=c.byteOffset/Uint32Array.BYTES_PER_ELEMENT,c=c.valuesPerElement*r.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,r=a.offset/Uint32Array.BYTES_PER_ELEMENT,p=a.stride/Uint32Array.BYTES_PER_ELEMENT;w?m(l[0],c,h,r,p,k):e(l,H,c,h,r,p,k)};for(var r=0;r<c.length;r++)a(c[r]);return h.buffer};a.processAndInterleaveNormals=function(a,c,e,d,m){if("none"===a){var n=m.normals,g=m.positions;c=m.normalInd;a=m.positionInd;b.assert(m.normalInd.length===m.positionInd.length);m=k.vec3f32.create();
d=k.vec3f32.create();e=h.vec2f32.create();for(var u=g.data,r=g.offsetIdx,g=g.strideIdx,v=n.data,t=n.offsetIdx,n=n.strideIdx,w=0;w<a.length;w+=3){var x=a[w],x=r+g*x,H=u[x],p=u[x+1],y=u[x+2],x=a[w+1],x=r+g*x;m[0]=u[x]-H;m[1]=u[x+1]-p;m[2]=u[x+2]-y;x=a[w+2];x=r+g*x;d[0]=u[x]-H;d[1]=u[x+1]-p;d[2]=u[x+2]-y;l.vec3.cross(m,m,d);b.encodeNormal(m,e);for(H=0;3>H;H++)p=t+n*c[w+H],v[p]=b.encodeInt16(e[0]),v[p+1]=b.encodeInt16(e[1])}}else if(c=f.createTypedView(e,c.params.vertexAttributes.normal),e=m.normals,
p="earth-centered"===a?d:null,a=c.length/3,m=e.data,d=e.offsetIdx,e=e.strideIdx,null!=p)for(u=p[0],r=p[1],g=p[2],v=p[4],t=p[5],n=p[6],w=p[8],H=p[9],p=p[10],y=0;y<a;y++){var x=c[3*y],B=c[3*y+1],z=c[3*y+2];C[0]=u*x+r*B+g*z;C[1]=v*x+t*B+n*z;C[2]=w*x+H*B+p*z;b.encodeNormal(C,A);m[d+y*e]=b.encodeInt16(A[0]);m[d+y*e+1]=b.encodeInt16(A[1])}else for(y=0;y<a;y++)C[0]=c[3*y],C[1]=c[3*y+1],C[2]=c[3*y+2],b.encodeNormal(C,A),m[d+y*e]=b.encodeInt16(A[0]),m[d+y*e+1]=b.encodeInt16(A[1])};a.extractPositionData=function(a,
b,c){var e=b[0];if(null==e||"position"!==e.name||5126!==e.type)return null;a=new Float32Array(a);b=e.stride/4;for(var e=e.offset/4,m=3*a.length/b,n=new Float32Array(m),f=0;f<m/3;f++)n[3*f]=a[f*b+e],n[3*f+1]=a[f*b+e+1],n[3*f+2]=a[f*b+e+2];c=d.default(n.buffer,3,c);return 65536>c.uniqueCount?{data:new Float32Array(c.buffer),indices:new Uint16Array(c.indices)}:{data:new Float32Array(c.buffer),indices:c.indices}};var y;a.loadGeometryEngine=function(){return null!=y?p.resolve():p.create(function(a,b){return q(["../../../../geometry/geometryEngine"],
a)}).then(function(a){return y=a})};a.acquireMaskFilterContext=function(a,b,c,e){var d=c.spatialReference||b.spatialReference;b=b.renderSpatialReference;var m={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:"polygon",spatialReference:d};m.rings[0][4]=m.rings[0][0];var n=e.objectTransformation;e=e.getGeometryRecords()[0].geometry;var f={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:"polygon",spatialReference:d};f.rings[0][3]=f.rings[0][0];var g=y[a];g||(console.error("Spatial relationship",
a,"not supported"),g=function(){return!0});return{type:a,mask:c,maskSR:d,renderSR:b,aabb:m,transform:n,geometry:e,triangle:f,testFunction:g}};a.getIntersectRelation=r;a.intersectMaskWithMbs=function(a,b){b=y.buffer({x:b[0],y:b[1],hasZ:!1,hasM:!1,type:"point",spatialReference:a.maskSR},b[3],1,!0);return w(a,b)};var z=Math.pow(2,-32);a.filterMask=function(a,e){var d=e.type,m=e.mask,n=e.transform,f=e.renderSR,g=e.maskSR,k=e.geometry,u=e.triangle,h=e.testFunction,v=e.aabb;k.getComponentAABB(a,E);var t=
[v.rings[0][0],v.rings[0][1],v.rings[0][2],v.rings[0][3]];l.vec3.set(t[0],E[0],E[1],0);l.vec3.set(t[1],E[0],E[4],0);l.vec3.set(t[2],E[3],E[4],0);l.vec3.set(t[3],E[3],E[1],0);for(var x=0;4>x;++x)l.vec3.transformMat4(t[x],t[x],n),c.vectorToVector(t[x],f,t[x],g);delete v._geVersion;x=w(e,v);switch(r(e,x)){case 1:return!1;case 0:return!0}e=u.rings[0][0];var v=u.rings[0][1],t=u.rings[0][2],p=k.data.getIndices(b.VertexAttrConstants.POSITION),x=k.data.componentOffsets,y=k.data.getAttribute(b.VertexAttrConstants.POSITION),
k=y.data,C=y.offsetIdx,y=y.strideIdx,D=x.length?x[a]:0;a=x.length?x[a+1]:p.length;var q;switch(d){case "intersects":case "crosses":case "envelope-intersects":case "index-intersects":case "overlaps":case "touches":q=function(){return h(m,u)?0:2};break;default:q=function(){return h(m,u)?2:1}}for(x=D;x<a;x+=3){var D=C+y*p[x+0],F=C+y*p[x+1],A=C+y*p[x+2];l.vec3.set(e,k[D+0],k[D+1],k[D+2]);l.vec3.set(v,k[F+0],k[F+1],k[F+2]);l.vec3.set(t,k[A+0],k[A+1],k[A+2]);l.vec3.transformMat4(e,e,n);l.vec3.transformMat4(v,
v,n);l.vec3.transformMat4(t,t,n);c.vectorToVector(e,f,e,g);c.vectorToVector(v,f,v,g);c.vectorToVector(t,f,t,g);if(!(Math.abs((v[0]-e[0])*(t[1]-e[1])-(v[1]-e[1])*(t[0]-e[0]))<z))switch(delete u._geVersion,q()){case 1:return!1;case 0:return!0}}switch(d){case "intersects":case "crosses":case "envelope-intersects":case "index-intersects":case "overlaps":case "touches":return!1;default:return!0}};var E=g.create(),C=k.vec3f32.create(),A=h.vec2f32.create()})},"esri/core/libs/gl-matrix-2/vec2f32":function(){define(["require",
"exports","./factories/vec2f32"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec2f32=p})},"esri/core/libs/gl-matrix-2/factories/vec2f32":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return new Float32Array(2)};a.clone=function(a){var h=new Float32Array(2);h[0]=a[0];h[1]=a[1];return h};a.fromValues=function(a,h){var l=new Float32Array(2);l[0]=a;l[1]=h;return l};a.createView=function(a,h){return new Float32Array(a,
h,2)}})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f32=p})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return new Float32Array(3)};a.clone=function(a){var h=new Float32Array(3);h[0]=a[0];h[1]=a[1];h[2]=a[2];return h};a.fromValues=function(a,h,l){var k=
new Float32Array(3);k[0]=a;k[1]=h;k[2]=l;return k};a.createView=function(a,h){return new Float32Array(a,h,3)}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(q,a,p,h){function l(b){void 0===b&&(b=a.ZERO);return[b[0],b[1],b[2],b[3],b[4],b[5]]}function k(a,b,c,e,d,f,g){void 0===g&&(g=l());g[0]=a;g[1]=b;g[2]=c;g[3]=e;g[4]=d;g[5]=f;return g}function g(a){return a[0]>=a[3]?0:a[3]-a[0]}function d(a){return a[1]>=a[4]?0:a[4]-a[1]}function f(a){return a[2]>=
a[5]?0:a[5]-a[2]}function c(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function b(a){return 6===a.length}Object.defineProperty(a,"__esModule",{value:!0});a.create=l;a.fromValues=k;a.fromExtent=function(a,b){void 0===b&&(b=l());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};a.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new p({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new p({xmin:a[0],
xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};a.fromMinMax=function(a,b,c){void 0===c&&(c=l());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=b[2];return c};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};a.expand=function(a,c,e){void 0===e&&(e=a);b(c)?(e[0]=Math.min(a[0],c[0]),e[1]=Math.min(a[1],c[1]),e[2]=Math.min(a[2],c[2]),e[3]=Math.max(a[3],c[3]),e[4]=Math.max(a[4],
c[4]),e[5]=Math.max(a[5],c[5])):h.is(c)?(e[0]=Math.min(a[0],c[0]),e[1]=Math.min(a[1],c[1]),e[3]=Math.max(a[3],c[2]),e[4]=Math.max(a[4],c[3])):2===c.length?(e[0]=Math.min(a[0],c[0]),e[1]=Math.min(a[1],c[1]),e[3]=Math.max(a[3],c[0]),e[4]=Math.max(a[4],c[1])):3===c.length&&(e[0]=Math.min(a[0],c[0]),e[1]=Math.min(a[1],c[1]),e[2]=Math.min(a[2],c[2]),e[3]=Math.max(a[3],c[0]),e[4]=Math.max(a[4],c[1]),e[5]=Math.max(a[5],c[2]));return e};a.expandWithBuffer=function(a,b,c,e,d){void 0===d&&(d=a);var f=a[0],
n=a[1],m=a[2],g=a[3],k=a[4];a=a[5];for(var h=0;h<e;h++)f=Math.min(f,b[c+3*h]),n=Math.min(n,b[c+3*h+1]),m=Math.min(m,b[c+3*h+2]),g=Math.max(g,b[c+3*h]),k=Math.max(k,b[c+3*h+1]),a=Math.max(a,b[c+3*h+2]);d[0]=f;d[1]=n;d[2]=m;d[3]=g;d[4]=k;d[5]=a;return d};a.expandWithNestedArray=function(a,b,c,e){void 0===e&&(e=a);var d=b.length,f=a[0],n=a[1],m=a[2],g=a[3],k=a[4];a=a[5];if(c)for(c=0;c<d;c++){var h=b[c],f=Math.min(f,h[0]),n=Math.min(n,h[1]),m=Math.min(m,h[2]),g=Math.max(g,h[0]),k=Math.max(k,h[1]);a=Math.max(a,
h[2])}else for(c=0;c<d;c++)h=b[c],f=Math.min(f,h[0]),n=Math.min(n,h[1]),g=Math.max(g,h[0]),k=Math.max(k,h[1]);e[0]=f;e[1]=n;e[2]=m;e[3]=g;e[4]=k;e[5]=a;return e};a.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=g;a.depth=d;a.height=f;a.diameter=function(a){var b=g(a),c=f(a);a=d(a);return Math.sqrt(b*b+c*c+a*a)};a.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+g(a)/2;b[1]=a[1]+d(a)/2;b[2]=a[2]+f(a)/2;return b};a.size=function(a,b){void 0===b&&(b=[0,
0,0]);b[0]=g(a);b[1]=d(a);b[2]=f(a);return b};a.maximumDimension=function(a){return Math.max(g(a),f(a),d(a))};a.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};a.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};a.intersects=function(a,b){return Math.max(b[0],
a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};a.offset=function(a,b,c,e,d){void 0===d&&(d=a);d[0]=a[0]+b;d[1]=a[1]+c;d[2]=a[2]+e;d[3]=a[3]+b;d[4]=a[4]+c;d[5]=a[5]+e;return d};a.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};a.setMax=function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};a.set=c;a.empty=
function(b){return b?c(b,a.NEGATIVE_INFINITY):l(a.NEGATIVE_INFINITY)};a.toRect=function(a,b){b||(b=h.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};a.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[3]=b[2];a[4]=b[3];return a};a.is=b;a.isPoint=function(a){return 0===g(a)&&0===d(a)&&0===f(a)};a.equals=function(a,c,e){if(null==a||null==c)return a===c;if(!b(a)||!b(c))return!1;if(e)for(var d=0;d<a.length;d++){if(!e(a[d],c[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==c[d])return!1;return!0};
a.wrap=function(a,b,c,d,f,g){return k(a,b,c,d,f,g,e)};a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0,0,0];var e=l()})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m){function n(a,b,c){return null==b?c:null==c?b:a(b,c)}q=function(a){function g(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}p(g,a);u=g;g.prototype.normalizeCtorArgs=function(a,b,c,e,d){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?f.WGS84:a.spatialReference,
a):{xmin:a,ymin:b,xmax:c,ymax:e,spatialReference:null==d?f.WGS84:d}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(g.prototype,"center",{get:function(){var a=new d({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(g.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});g.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};g.prototype.clone=function(){var a=new u;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};g.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,
e=a.spatialReference;b&&e&&!b.equals(e)&&m.canProject(b,e)&&(a=b.isWebMercator?m.geographicToWebMercator(a):m.webMercatorToGeographic(a,!0));return"point"===a.type?c.extentContainsPoint(this,a):"extent"===a.type?c.extentContainsExtent(this,a):!1};g.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&m.canProject(b,c)&&(a=b.isWebMercator?m.geographicToWebMercator(a):m.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};g.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};g.prototype.intersects=function(a){if(!a)return!1;var c=this.spatialReference,e=a.spatialReference;c&&e&&
!c.equals(e)&&m.canProject(c,e)&&(a=c.isWebMercator?m.geographicToWebMercator(a):m.webMercatorToGeographic(a,!0));c=b.getExtentIntersector(a.type);return"mesh"!==a.type?c(this,a):c(this,a.extent)};g.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};g.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};g.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};g.prototype.union=
function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=n(Math.min,this.zmin,a.zmin),this.zmax=n(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=n(Math.min,this.mmin,a.mmin),this.mmax=n(Math.max,this.mmax,a.mmax);return this};g.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,
a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=n(Math.max,this.zmin,a.zmin),this.zmax=n(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=n(Math.max,this.mmin,a.mmin),this.mmax=n(Math.min,this.mmax,a.mmax);return this};g.prototype.toJSON=function(a){return this.write(null,a)};g.prototype._shiftCM=function(a){void 0===a&&(a=e.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
c=this._getCM(a);if(c){var d=b.isWebMercator?m.webMercatorToGeographic(c):c;this.xmin-=c.x;this.xmax-=c.x;b.isWebMercator||(d.x=this._normalizeX(d.x,a).x);this.spatialReference=new f(l.substitute({Central_Meridian:d.x},b.isWGS84?a.altTemplate:a.wkTemplate))}return this};g.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],e=this.xmin,d=this.xmax;e>=a&&e<=c&&d>=a&&d<=c||(b=this.center);return b};g.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=
c||e.getInfo(d);if(!c)return this;var f=this._getParts(c).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return f;var g=!0,n=!0;f.forEach(function(a){a.hasZ||(g=!1);a.hasM||(n=!1)});return{rings:f.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(g)for(var c=(a.zmax-a.zmin)/2,e=0;e<b.length;e++)b[e].push(c);
if(n)for(a=(a.mmax-a.mmin)/2,e=0;e<b.length;e++)b[e].push(a);return b}),hasZ:g,hasM:n,spatialReference:d}};g.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,f=this.spatialReference,g=this.width,n=this.xmin,m=this.xmax,k=void 0;a=a||e.getInfo(f);var h=a.valid,r=h[0],v=h[1],k=this._normalizeX(this.xmin,a),t=k.x,h=k.frameId,k=this._normalizeX(this.xmax,a),l=k.x;a=k.frameId;k=t===l&&0<g;if(g>2*v){g=new u(n<m?t:l,c,v,d,f);n=new u(r,c,n<m?l:t,d,f);m=new u(0,
c,v,d,f);c=new u(r,c,0,d,f);d=[];f=[];g.contains(m)&&d.push(h);g.contains(c)&&f.push(h);n.contains(m)&&d.push(a);n.contains(c)&&f.push(a);for(r=h+1;r<a;r++)d.push(r),f.push(r);b.push({extent:g,frameIds:[h]},{extent:n,frameIds:[a]},{extent:m,frameIds:d},{extent:c,frameIds:f})}else t>l||k?b.push({extent:new u(t,c,v,d,f),frameIds:[h]},{extent:new u(r,c,l,d,f),frameIds:[a]}):b.push({extent:new u(t,c,l,d,f),frameIds:[h]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(h={},a&&(h.zmin=this.zmin,
h.zmax=this.zmax),c&&(h.mmin=this.mmin,h.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(h);return b};g.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var e=c[1],c=2*e,d=0;a>e?(b=Math.ceil(Math.abs(a-e)/c),a-=b*c,d=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,d=-b);return{x:a,frameId:d}};var u;h([k.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],g.prototype,"cache",void 0);h([k.property({readOnly:!0,dependsOn:["cache"]})],g.prototype,"center",
null);h([k.property({readOnly:!0,dependsOn:["cache"]})],g.prototype,"extent",null);h([k.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasM",null);h([k.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasZ",null);h([k.property({readOnly:!0,dependsOn:["ymin","ymax"]})],g.prototype,"height",null);h([k.property({readOnly:!0,dependsOn:["xmin","xmax"]})],g.prototype,"width",null);
h([k.property({type:Number,json:{write:!0}})],g.prototype,"xmin",void 0);h([k.property({type:Number,json:{write:!0}})],g.prototype,"ymin",void 0);h([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],g.prototype,"mmin",void 0);h([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],g.prototype,"zmin",void 0);h([k.property({type:Number,json:{write:!0}})],
g.prototype,"xmax",void 0);h([k.property({type:Number,json:{write:!0}})],g.prototype,"ymax",void 0);h([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],g.prototype,"mmax",void 0);h([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],g.prototype,"zmax",void 0);return g=u=h([k.subclass("esri.geometry.Extent")],g)}(k.declared(g));q.prototype.toJSON.isDefaultToJSON=
!0;return q})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(){var c=a.call(this)||this;c.type=null;c.extent=null;c.hasM=!1;c.hasZ=!1;c.spatialReference=g.WGS84;return c}p(d,a);Object.defineProperty(d.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});
d.prototype.readSpatialReference=function(a,b){if(a instanceof g)return a;if(null!=a){var c=new g;c.read(a,b);return c}return a};d.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};d.prototype.clearCache=function(){this.notifyChange("cache")};d.prototype.getCacheValue=function(a){return this.cache[a]};d.prototype.setCacheValue=function(a,b){this.cache[a]=b};h([k.property()],d.prototype,"type",void 0);h([k.property({readOnly:!0,dependsOn:["spatialReference"]})],
d.prototype,"cache",null);h([k.property({readOnly:!0,dependsOn:["spatialReference"]})],d.prototype,"extent",void 0);h([k.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],d.prototype,"hasM",void 0);h([k.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],d.prototype,"hasZ",void 0);h([k.property({type:g,json:{write:!0}})],d.prototype,"spatialReference",void 0);h([k.reader("spatialReference")],d.prototype,"readSpatialReference",
null);return d=h([k.subclass("esri.geometry.Geometry")],d)}(k.declared(l))})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(q,a,p,h,l,k,g,d,f,c,b,e){function m(a){return a&&("esri.geometry.SpatialReference"===
a.declaredClass||null!=a.wkid)}var n=[0,0],u=l.getLogger("esri.geometry.Point");q=function(a){function d(b,c,e,d,f){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}p(d,a);r=d;d.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};d.distance=function(a,b){var c=a.x-b.x,e=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*
c+e*e+a*a)};d.prototype.normalizeCtorArgs=function(a,b,c,d,g){var k;if(Array.isArray(a))k=a,g=b,a=k[0],b=k[1],c=k[2],d=k[3];else if(a&&"object"===typeof a){if(k=a,a=null!=k.x?k.x:k.longitude,b=null!=k.y?k.y:k.latitude,c=null!=k.z?k.z:k.altitude,d=k.m,(g=k.spatialReference)&&"esri.geometry.SpatialReference"!==g.declaredClass&&(g=new f(g)),null!=k.longitude||null!=k.latitude)null==k.longitude?u.warn(".longitude\x3d","Latitude was defined without longitude"):null==k.latitude?u.warn(".latitude\x3d","Longitude was defined without latitude"):
!k.declaredClass&&g&&g.isWebMercator&&(b=e.lngLatToXY(k.longitude,k.latitude,n),a=b[0],b=b[1])}else m(c)?(g=c,c=null):m(d)&&(g=d,d=null);a={x:a,y:b};null==a.x&&null!=a.y?u.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&u.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=g&&(a.spatialReference=g);null!=c&&(a.z=c);null!=d&&(a.m=d);return a};Object.defineProperty(d.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==
this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this.x,this.y,n)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=
this._get("spatialReference");b&&(b.isWebMercator?this._set("y",e.lngLatToXY(this.x,a,n)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this._get("x"),this._get("y"),n)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",e.lngLatToXY(a,
this._get("y"),n)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});d.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};d.prototype.readX=function(a){return"string"===typeof a?NaN:a};d.prototype.clone=function(){var a=new r;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};d.prototype.copy=function(a){r.copy(a,this);return this};d.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,d=this.y,f=this.z,
g=this.m,n=this.spatialReference,m=a.z,k=a.m,h=a.x;b=a.y;a=a.spatialReference;if(!n.equals(a))if(n.isWebMercator&&a.isWGS84)b=e.lngLatToXY(h,b),h=b[0],b=b[1],a=n;else if(n.isWGS84&&a.isWebMercator)b=e.xyToLngLat(h,b),h=b[0],b=b[1],a=n;else return!1;return c===h&&d===b&&f===m&&g===k&&n.wkid===a.wkid};d.prototype.offset=function(a,b,e){return c.offsetPoint(this,a,b,e)};d.prototype.normalize=function(){if(!this.spatialReference)return this;var a=b.getInfo(this.spatialReference);if(!a)return this;var c=
this.x,e=a.valid,a=e[0],d=e[1],e=2*d;c>d?(a=Math.ceil(Math.abs(c-d)/e),c-=a*e):c<a&&(a=Math.ceil(Math.abs(c-a)/e),c+=a*e);this._set("x",c);return this};d.prototype.distance=function(a){return r.distance(this,a)};d.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};d.prototype.toJSON=function(a){return this.write(null,a)};var r;h([k.property({dependsOn:["x","y","z","m","spatialReference"]})],
d.prototype,"cache",void 0);h([k.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasM",null);h([k.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasZ",null);h([k.property({type:Number,dependsOn:["y"]})],d.prototype,"latitude",null);h([k.property({type:Number,dependsOn:["x"]})],d.prototype,"longitude",null);h([k.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,
allowNull:!0}}}),k.cast(function(a){return isNaN(a)?a:g.ensureNumber(a)})],d.prototype,"x",void 0);h([k.writer("x")],d.prototype,"writeX",null);h([k.reader("x")],d.prototype,"readX",null);h([k.property({type:Number,json:{write:!0}})],d.prototype,"y",void 0);h([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],d.prototype,"z",void 0);h([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],d.prototype,"m",void 0);
return d=r=h([k.subclass("esri.geometry.Point")],d)}(k.declared(d));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/offset":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.offsetPoint=function(a,h,l,k){a.x+=h;a.y+=l;null!=k&&null!=a.z&&(a.z+=k);return a};a.offsetCoordsX=function(a,h){a[0]+=h;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),
function(q,a,p,h,l,k){function g(a,b,c,d,f){var g;if("x"in a&&"x"in f)b=b(a.x,a.y,e,d),f.x=b[0],f.y=b[1];else if("xmin"in a&&"xmin"in f)g=b(a.xmin,a.ymin,e,d),f.xmin=g[0],f.ymin=g[1],b=b(a.xmax,a.ymax,e,d),f.xmax=b[0],f.ymax=b[1];else if("paths"in a&&"paths"in f||"rings"in a&&"rings"in f){g="paths"in a?a.paths:a.rings;var n=[],m=void 0;for(a=0;a<g.length;a++){var k=g[a],m=[];n.push(m);for(var h=0;h<k.length;h++)m.push(b(k[h][0],k[h][1],[0,0],d)),2<k[h].length&&m[h].push(k[h][2]),3<k[h].length&&m[h].push(k[h][3])}"paths"in
f?f.paths=n:f.rings=n}else if("points"in a&&"points"in f){g=a.points;n=[];for(a=0;a<g.length;a++)n[a]=b(g[a][0],g[a][1],[0,0],d),2<g[a].length&&n[a].push(g[a][2]),3<g[a].length&&n[a].push(g[a][3]);f.points=n}else if("type"in a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(g=a.vertexAttributes&&a.vertexAttributes.position,n=f.vertexAttributes&&f.vertexAttributes.position,g))for(m=[0,0],a=0;a<g.length;a+=3)b(g[a],g[a+1],m,d),n[a]=m[0],n[a+1]=m[1];f.spatialReference=c;return f}function d(a,b){a=a&&
(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?k.equals(b,a)?!0:k.isWebMercator(b)&&k.isWGS84(a)||k.isWebMercator(a)&&k.isWGS84(b):!1}function f(a,c,e){void 0===e&&(e=[0,0]);89.99999<c?c=89.99999:-89.99999>c&&(c=-89.99999);c*=.017453292519943;e[0]=.017453292519943*a*b;e[1]=.5*b*Math.log((1+Math.sin(c))/(1-Math.sin(c)));return e}function c(a,c,e,d){void 0===e&&(e=[0,0]);void 0===d&&(d=!1);a=a/b*57.29577951308232;e[0]=d?a:a-360*Math.floor((a+
180)/360);e[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*c/b)));return e}Object.defineProperty(a,"__esModule",{value:!0});var b=h.wgs84Radius,e=[0,0];a.canProject=d;a.project=function(a,b){var e=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return d(e,b)?k.equals(e,b)?p.clone(a):k.isWebMercator(b)?g(a,f,l.WebMercator,!1,p.clone(a)):k.isWGS84(b)?g(a,c,l.WGS84,!1,p.clone(a)):null:null};a.lngLatToXY=f;a.xyToLngLat=c;a.geographicToWebMercator=function(a,b,c){void 0===
b&&(b=!1);void 0===c&&(c=p.clone(a));return g(a,f,l.WebMercator,b,c)};a.webMercatorToGeographic=function(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=p.clone(a));return g(a,c,l.WGS84,b,e)}})},"esri/geometry/support/contains":function(){define(["require","exports"],function(q,a){function p(a,f){return h(a,f[0],f[1])}function h(a,f,c,b){return f>=a.xmin&&f<=a.xmax&&c>=a.ymin&&c<=a.ymax?null!=b&&a.hasZ?b>=a.zmin&&b<=a.zmax:!0:!1}function l(a,f){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=!1,b=0,e=
a.length;b<e;b++)c=k(c,a[b],f);f=c}else f=k(!1,a,f);else f=!1;return f}function k(a,f,c){var b=c[0];c=c[1];for(var e=0,d=0,g=f.length;d<g;d++){e++;e===g&&(e=0);var k=f[d],h=k[0],k=k[1],v=f[e],r=v[0],v=v[1];(k<c&&v>=c||v<c&&k>=c)&&h+(c-k)/(v-k)*(r-h)<b&&(a=!a)}return a}Object.defineProperty(a,"__esModule",{value:!0});var g=[0,0];a.extentContainsPoint=function(a,f){return h(a,f.x,f.y,f.z)};a.extentContainsMultipoint=function(a,f){if(!f.points||f.points.length)return!1;var c=0;for(f=f.points;c<f.length;c++)if(!p(a,
f[c]))return!1;return!0};a.extentContainsExtent=function(a,f){var c=f.xmin,b=f.ymin,e=f.zmin,d=f.xmax,g=f.ymax,k=f.zmax;return a.hasZ&&f.hasZ?h(a,c,b,e)&&h(a,c,g,e)&&h(a,d,g,e)&&h(a,d,b,e)&&h(a,c,b,k)&&h(a,c,g,k)&&h(a,d,g,k)&&h(a,d,b,k):h(a,c,b)&&h(a,c,g)&&h(a,d,g)&&h(a,d,b)};a.extentContainsCoords2D=p;a.extentContainsCoords3D=function(a,f){return h(a,f[0],f[1],f[2])};a.polygonContainsPoint=function(a,f){g[1]=f.y;g[0]=f.x;return l(a,g)};a.polygonContainsCoords=l})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(q,a,p){function h(a,b){return p.extentContainsPoint(a,b)}function l(a,b){var c=a.hasZ&&b.hasZ,e;if(a.xmin<=b.xmin){if(e=b.xmin,a.xmax<e)return!1}else if(e=a.xmin,b.xmax<e)return!1;if(a.ymin<=b.ymin){if(e=b.ymin,a.ymax<e)return!1}else if(e=a.ymin,b.ymax<e)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function k(a,b){var c=b.hasZ?p.extentContainsCoords3D:p.extentContainsCoords2D,e=0;for(b=b.points;e<
b.length;e++)if(c(a,b[e]))return!0;return!1}function g(a,c){b[0]=a.xmin;b[1]=a.ymax;e[0]=a.xmax;e[1]=a.ymax;m[0]=a.xmin;m[1]=a.ymin;n[0]=a.xmax;n[1]=a.ymin;for(var d=0,g=u;d<g.length;d++)if(p.polygonContainsCoords(c,g[d]))return!0;d=0;for(c=c.rings;d<c.length;d++)if(g=c[d],g.length){var k=g[0];if(p.extentContainsCoords2D(a,k))return!0;for(var h=1;h<g.length;h++){var r=g[h];if(p.extentContainsCoords2D(a,r)||f(k,r,t))return!0;k=r}}return!1}function d(a,c){b[0]=a.xmin;b[1]=a.ymax;e[0]=a.xmax;e[1]=a.ymax;
m[0]=a.xmin;m[1]=a.ymin;n[0]=a.xmax;n[1]=a.ymin;c=c.paths;for(var d=0;d<c.length;d++){var g=c[d];if(c.length){var k=g[0];if(p.extentContainsCoords2D(a,k))return!0;for(var h=1;h<g.length;h++){var u=g[h];if(p.extentContainsCoords2D(a,u)||f(k,u,t))return!0;k=u}}}return!1}function f(a,b,e){for(var d=0;d<e.length;d++)if(c(a,b,e[d][0],e[d][1]))return!0;return!1}function c(a,b,c,e,d){var f=a[0];a=a[1];var g=b[0];b=b[1];var n=c[0],k=c[1];c=e[0]-n;var n=f-n,m=g-f;e=e[1]-k;var k=a-k,h=b-a,u=e*m-c*h;if(0===
u)return!1;c=(c*k-e*n)/u;n=(m*k-h*n)/u;return 0<=c&&1>=c&&0<=n&&1>=n?(d&&(d[0]=f+c*(g-f),d[1]=a+c*(b-a)),!0):!1}Object.defineProperty(a,"__esModule",{value:!0});a.extentIntersectsPoint=h;a.extentIntersectsExtent=l;a.extentIntersectsMultipoint=k;var b=[0,0],e=[0,0],m=[0,0],n=[0,0],u=[b,e,m,n],t=[[m,b],[b,e],[e,n],[n,m]];a.extentIntersectsPolygon=g;a.extentIntersectsPolyline=d;var v=[0,0];a.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var e=a[b],d=0;d<e.length-1;d++)for(var f=e[d],
g=e[d+1],n=b+1;n<a.length;n++)for(var k=0;k<a[n].length-1;k++){var m=a[n][k],h=a[n][k+1],u=c(f,g,m,h,v);if(u&&!(v[0]===f[0]&&v[1]===f[1]||v[0]===m[0]&&v[1]===m[1]||v[0]===g[0]&&v[1]===g[1]||v[0]===h[0]&&v[1]===h[1]))return!0}k=e.length;if(!(4>=k))for(d=0;d<k-3;d++){var t=k-1;0===d&&(t=k-2);f=e[d];g=e[d+1];for(n=d+2;n<t;n++)if(m=e[n],h=e[n+1],(u=c(f,g,m,h,v))&&!(v[0]===f[0]&&v[1]===f[1]||v[0]===m[0]&&v[1]===m[1]||v[0]===g[0]&&v[1]===g[1]||v[0]===h[0]&&v[1]===h[1]))return!0}}return!1};a.segmentIntersects=
c;a.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return l;case "esriGeometryMultipoint":case "multipoint":return k;case "esriGeometryPoint":case "point":return h;case "esriGeometryPolygon":case "polygon":return g;case "esriGeometryPolyline":case "polyline":return d;case "mesh":return l}}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(q,a,p,h){function l(b){void 0===b&&(b=a.ZERO);
return[b[0],b[1],b[2],b[3]]}function k(a){return a[0]>=a[2]?0:a[2]-a[0]}function g(a){return a[1]>=a[3]?0:a[3]-a[1]}function d(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a}function f(a){return 4===a.length}function c(a,c,d){return a<c?c:a>d?d:a}Object.defineProperty(a,"__esModule",{value:!0});a.create=l;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,c,d,f,g){void 0===g&&(g=l());g[0]=a;g[1]=c;g[2]=d;g[3]=f;return g};a.fromExtent=function(a,c){void 0===c&&(c=l());
c[0]=a.xmin;c[1]=a.ymin;c[2]=a.xmax;c[3]=a.ymax;return c};a.toExtent=function(a,c){return new h({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};a.expandPointInPlace=function(a,c){c[0]<a[0]&&(a[0]=c[0]);c[0]>a[2]&&(a[2]=c[0]);c[1]<a[1]&&(a[1]=c[1]);c[1]>a[3]&&(a[3]=c[1])};a.expand=function(a,c,d){void 0===d&&(d=a);if("length"in c)if(f(c))d[0]=Math.min(a[0],c[0]),d[1]=Math.min(a[1],c[1]),d[2]=Math.max(a[2],c[2]),d[3]=Math.max(a[3],c[3]);else{if(2===c.length||3===c.length)d[0]=Math.min(a[0],
c[0]),d[1]=Math.min(a[1],c[1]),d[2]=Math.max(a[2],c[0]),d[3]=Math.max(a[3],c[1])}else switch(c.type){case "extent":d[0]=Math.min(a[0],c.xmin);d[1]=Math.min(a[1],c.ymin);d[2]=Math.max(a[2],c.xmax);d[3]=Math.max(a[3],c.ymax);break;case "point":d[0]=Math.min(a[0],c.x);d[1]=Math.min(a[1],c.y);d[2]=Math.max(a[2],c.x);d[3]=Math.max(a[3],c.y);break;default:p.neverReached(c)}return d};a.expandWithNestedArray=function(a,c,d){void 0===d&&(d=a);var b=c.length,e=a[0],f=a[1],g=a[2];a=a[3];for(var k=0;k<b;k++){var m=
c[k],e=Math.min(e,m[0]),f=Math.min(f,m[1]),g=Math.max(g,m[0]);a=Math.max(a,m[1])}d[0]=e;d[1]=f;d[2]=g;d[3]=a;return d};a.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=k;a.height=g;a.diameter=function(a){var b=k(a);a=g(a);return Math.sqrt(b*b+a*a)};a.area=function(a){return k(a)*g(a)};a.center=function(a,c){void 0===c&&(c=[0,0]);c[0]=a[0]+k(a)/2;c[1]=a[1]+g(a)/2;return c};a.containsPoint=function(a,c){return c[0]>=a[0]&&c[1]>=a[1]&&c[0]<=a[2]&&c[1]<=a[3]};
a.containsPointWithMargin=function(a,c,d){return c[0]>=a[0]-d&&c[1]>=a[1]-d&&c[0]<=a[2]+d&&c[1]<=a[3]+d};a.intersects=function(a,c){return Math.max(c[0],a[0])<=Math.min(c[2],a[2])&&Math.max(c[1],a[1])<=Math.min(c[3],a[3])};a.contains=function(a,c){return c[0]>=a[0]&&c[2]<=a[2]&&c[1]>=a[1]&&c[3]<=a[3]};a.intersection=function(a,e,d){void 0===d&&(d=a);var b=e[0],f=e[1],g=e[2];e=e[3];d[0]=c(a[0],b,g);d[1]=c(a[1],f,e);d[2]=c(a[2],b,g);d[3]=c(a[3],f,e);return d};a.distance=function(a,c){var b=(a[1]+a[3])/
2,e=Math.max(Math.abs(c[0]-(a[0]+a[2])/2)-k(a)/2,0);a=Math.max(Math.abs(c[1]-b)-g(a)/2,0);return Math.sqrt(e*e+a*a)};a.offset=function(a,c,d,f){void 0===f&&(f=a);f[0]=a[0]+c;f[1]=a[1]+d;f[2]=a[2]+c;f[3]=a[3]+d;return f};a.pad=function(a,c,d){void 0===d&&(d=a);d[0]=a[0]-c;d[1]=a[1]-c;d[2]=a[2]+c;d[3]=a[3]+c;return d};a.setMin=function(a,c,d){void 0===d&&(d=a);d[0]=c[0];d[1]=c[1];d!==a&&(d[2]=a[2],d[3]=a[3]);return d};a.setMax=function(a,c,d){void 0===d&&(d=a);d[2]=c[0];d[3]=c[1];d!==a&&(d[0]=a[0],
d[1]=a[1]);return a};a.set=d;a.empty=function(b){return b?d(b,a.NEGATIVE_INFINITY):l(a.NEGATIVE_INFINITY)};a.is=f;a.isPoint=function(a){return(0===k(a)||!isFinite(a[0]))&&(0===g(a)||!isFinite(a[1]))};a.equals=function(a,c,d){if(null==a||null==c)return a===c;if(!f(a)||!f(c))return!1;if(d)for(var b=0;b<a.length;b++){if(!d(a[b],c[b]))return!1}else for(b=0;b<a.length;b++)if(a[b]!==c[b])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,
-Infinity,-Infinity];a.ZERO=[0,0,0,0]})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(q,a,p,h,l,k){function g(a,b,c){for(var e="",d=0;d<c;){var f=a[b+d];if(128>f)e+=String.fromCharCode(f),d++;else if(192<=f&&224>f){if(d+1>=c)throw new p("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var g=a[b+d+1],f=(f&31)<<6|g&63,e=e+String.fromCharCode(f),
d=d+2}else if(224<=f&&240>f){if(d+2>=c)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var g=a[b+d+1],n=a[b+d+2],f=(f&15)<<12|(g&63)<<6|n&63,e=e+String.fromCharCode(f),d=d+3}else if(240<=f&&248>f){if(d+3>=c)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");g=a[b+d+1];n=a[b+d+2];f=(f&7)<<18|(g&63)<<12|(n&63)<<6|a[b+d+3]&63;e=65536<=f?e+String.fromCharCode((f-65536>>10)+55296,(f&1023)+56320):e+String.fromCharCode(f);
d+=4}else throw new p("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return e}function d(b,c){for(var e={byteOffset:0,byteCount:0,fields:Object.create(null)},d=0,f=0;f<c.length;f++){var g=c[f],n=g.valueType||g.type;e.fields[g.property]=(0,a.valueType2ArrayBufferReader[n])(b,d);d+=a.valueType2TypedArrayClassMap[n].BYTES_PER_ELEMENT}e.byteCount=d;return e}function f(a,b,c){var e=[],d,f=0,n;for(n=0;n<a;n+=1){d=b[n];if(0<d){if(e.push(g(c,f,d-1)),0!==c[f+d-1])throw new p("string-array-error",
"Invalid string array: missing null termination.");}else e.push(null);f+=d}return e}function c(b,c){return new a.valueType2TypedArrayClassMap[c.valueType](b,c.byteOffset,c.count*c.valuesPerElement)}function b(a,b){return new Uint8Array(a,b.byteOffset,b.byteCount)}function e(a,b,c){a=null!=b.header?d(a,b.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var e=a.byteCount,f=0;f<b.ordering.length;f++){var g=b.ordering[f],
k=h.clone(b[g]);k.count=a.fields.count;if("String"===k.valueType){if(k.byteOffset=e,k.byteCount=a.fields[g+"ByteCount"],"UTF-8"!==k.encoding)throw new p("unsupported-encoding","Unsupported String encoding.",{encoding:k.encoding});}else if(n(k.valueType)){var m=u(k.valueType),e=e+(0!==e%m?m-e%m:0);k.byteOffset=e;k.byteCount=m*k.valuesPerElement*k.count}else throw new p("unsupported-value-type","Unsupported binary valueType",{valueType:k.valueType});e+=k.byteCount;c.entries[g]=k}c.byteCount=e-c.byteOffset;
return c}function m(a,b,c){b!==a&&t.error("Invalid "+c+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new p("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});}function n(b){return a.valueType2TypedArrayClassMap.hasOwnProperty(b)}function u(b){return n(b)&&a.valueType2TypedArrayClassMap[b].BYTES_PER_ELEMENT}Object.defineProperty(a,"__esModule",{value:!0});var t=l.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");a.readHeader=d;a.readStringArray=f;a.createTypedView=
c;a.createRawView=b;a.createAttributeDataIndex=e;a.createGeometryDataIndex=function(a,b,c){var e=d(a,b&&b.header),f=e.byteCount,g={header:e,byteOffset:e.byteCount,byteCount:0,vertexAttributes:h.clone(b.vertexAttributes)},n=g.vertexAttributes;c||null==n.region||delete n.region;var e=e.fields,k=null!=e.vertexCount?e.vertexCount:e.count;for(c=0;c<b.ordering.length;c++){var t=b.ordering[c];null!=n[t]&&(n[t].byteOffset=f,n[t].count=k,f+=u(n[t].valueType)*n[t].valuesPerElement*k)}n=e.faceCount;if(b.faces&&
n)for(g.faces=h.clone(b.faces),k=g.faces,c=0;c<b.ordering.length;c++)t=b.ordering[c],null!=k[t]&&(k[t].byteOffset=f,k[t].count=n,f+=u(k[t].valueType)*k[t].valuesPerElement*n);e=e.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&e)for(g.featureAttributes=h.clone(b.featureAttributes),n=g.featureAttributes,c=0;c<b.featureAttributeOrder.length;c++)k=b.featureAttributeOrder[c],n[k].byteOffset=f,n[k].count=e,t=u(n[k].valueType),"UInt64"===n[k].valueType&&(t=8),f+=t*n[k].valuesPerElement*e;
m(f,a.byteLength,"geometry");g.byteCount=f-g.byteOffset;return g};a.readBinaryAttribute=function(a,d,g){if("lepcc-rgb"===a.encoding)return k.decodeRGB(d);if("lepcc-intensity"===a.encoding)return k.decodeIntensity(d);if(null!=a.encoding&&""!==a.encoding)throw new p("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(t.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);
"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(t.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");g=e(d,a,g);m(g.byteOffset+g.byteCount,d.byteLength,"attribute");if(a=g.entries.attributeValues||g.entries.objectIds){if("String"===a.valueType){g=g.entries.attributeByteCounts;var n=c(d,g);d=b(d,a);return f(g.count,n,d)}return c(d,a)}throw new p("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};a.valueType2TypedArrayClassMap={Float32:Float32Array,
Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};a.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,
0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};a.isValueType=n;a.getBytesPerValue=u})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(q,a,p){function h(a,f,c){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,c+g.identifierOffset,g.identifierLength)),version:f.getUint16(c+g.versionOffset,!0),checksum:f.getUint32(c+g.checksumOffset,
!0)}}function l(a,f,c){var b=[];f=k(a,f,b);for(var e=[],d=0;d<b.length;d++){e.length=0;f=k(a,f,e);for(var g=0;g<e.length;g++)c.push(e[g]+b[d])}return f}function k(a,f,c){var b=new DataView(a,f),e=b.getUint8(0),d=e&31,g=!!(e&32),k=(e&192)>>6,e=0;if(0===k)e=b.getUint32(1,!0),f+=5;else if(1===k)e=b.getUint16(1,!0),f+=3;else if(2===k)e=b.getUint8(1),f+=2;else throw new p("lepcc-decode-error","Bad count type");if(g)throw new p("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,f,Math.ceil(e*
d/8));for(var k=g=b=0,h=-1>>>32-d,l=0;l<e;l++){for(;g<d;)b|=a[k]<<g,g+=8,k+=1;c[l]=b&h;b>>>=d;g-=d;32<g+d&&(b|=a[k-1]>>8-g)}return f+k}Object.defineProperty(a,"__esModule",{value:!0});var g={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};a.decodeXYZ=function(a){var d,c,b,e,k,n,u,t,v,r,w,x,y=new DataView(a,0),z=0;e=h(a,y,z);b=e.identifier;e=e.version;z+=g.byteCount;if("LEPCC     "!==b)throw new p("lepcc-decode-error","Bad identifier");if(1<e)throw new p("lepcc-decode-error",
"Unknown version");var q=z;d=y.getUint32(q+0,!0);c=y.getUint32(q+4,!0);b=y.getFloat64(q+8,!0);e=y.getFloat64(q+16,!0);k=y.getFloat64(q+24,!0);n=y.getFloat64(q+32,!0);u=y.getFloat64(q+40,!0);t=y.getFloat64(q+48,!0);v=y.getFloat64(q+56,!0);r=y.getFloat64(q+64,!0);w=y.getFloat64(q+72,!0);x=y.getUint32(q+80,!0);y.getUint32(q+84,!0);z+=88;if(c*Math.pow(2,32)+d!==a.byteLength)throw new p("lepcc-decode-error","Bad size");y=new Float64Array(3*x);d=[];c=[];x=[];q=[];z=l(a,z,d);z=l(a,z,c);z=l(a,z,x);z=l(a,
z,q);if(z!==a.byteLength)throw new p("lepcc-decode-error","Bad length");for(var C=z=a=0;C<d.length;C++)for(var z=z+d[C],A=0,D=0;D<c[C];D++){var A=A+x[a],F=q[a];y[3*a]=Math.min(n,b+2*v*A);y[3*a+1]=Math.min(u,e+2*r*z);y[3*a+2]=Math.min(t,k+2*w*F);a++}return{errorX:v,errorY:r,errorZ:w,result:y}};a.decodeRGB=function(a){var d,c,b,e,k,n,u=new DataView(a,0),t=0;e=h(a,u,t);b=e.identifier;e=e.version;t+=g.byteCount;if("ClusterRGB"!==b)throw new p("lepcc-decode-error","Bad identifier");if(1<e)throw new p("lepcc-decode-error",
"Unknown version");n=t;d=u.getUint32(n+0,!0);c=u.getUint32(n+4,!0);b=u.getUint32(n+8,!0);e=u.getUint16(n+12,!0);k=u.getUint8(n+14);n=u.getUint8(n+15);t+=16;if(c*Math.pow(2,32)+d!==a.byteLength)throw new p("lepcc-decode-error","Bad size");if((2===k||1===k)&&0===n){if(3*e+b+t!==a.byteLength||256<e)throw new p("lepcc-decode-error","Bad count");u=new Uint8Array(a,t,3*e);e=new Uint8Array(a,t+3*e,b);t=new Uint8Array(3*b);for(a=0;a<b;a++)d=e[a],t[3*a]=u[3*d],t[3*a+1]=u[3*d+1],t[3*a+2]=u[3*d+2];return t}if(0===
k&&0===n){if(3*b+t!==a.byteLength||0!==e)throw new p("lepcc-decode-error","Bad count");return(new Uint8Array(a,t)).slice()}if(2>=k&&1===n){if(t+3!==a.byteLength||1!==e)throw new p("lepcc-decode-error","Bad count");e=u.getUint8(t);d=u.getUint8(t+1);u=u.getUint8(t+2);t=new Uint8Array(3*b);for(a=0;a<b;a++)t[3*a]=e,t[3*a+1]=d,t[3*a+2]=u;return t}throw new p("lepcc-decode-error","Bad method "+k+","+n);};a.decodeIntensity=function(a){var d,c,b,e,m,n=new DataView(a,0),u=0;e=h(a,n,u);b=e.identifier;e=e.version;
u+=g.byteCount;if("Intensity "!==b)throw new p("lepcc-decode-error","Bad identifier");if(1<e)throw new p("lepcc-decode-error","Unknown version");var t=u;d=n.getUint32(t+0,!0);c=n.getUint32(t+4,!0);b=n.getUint32(t+8,!0);e=n.getUint16(t+12,!0);m=n.getUint8(t+14);n.getUint8(t+15);u+=16;if(c*Math.pow(2,32)+d!==a.byteLength)throw new p("lepcc-decode-error","Bad size");n=new Uint16Array(b);if(8===m){if(b+u!==a.byteLength)throw new p("lepcc-decode-error","Bad size");m=new Uint8Array(a,u,b)}else if(16===
m){if(2*b+u!==a.byteLength)throw new p("lepcc-decode-error","Bad size");m=new Uint16Array(a,u,b)}else if(m=[],k(a,u,m)!==a.byteLength)throw new p("lepcc-decode-error","Bad size");for(a=0;a<b;a++)n[a]=m[a]*e;return n}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){function m(a,b,c,e){2===a.length?(B[0]=a[0],B[1]=a[1],B[2]=0,a=B):a===c&&(h.vec3.copy(B,a),a=B);return n(a,b,0,c,e,0,1)}function n(a,b,c,e,d,f,g){void 0===g&&(g=1);w!==b&&(x=u(b),w=b);y!==d&&(z=u(d),y=d);g=c+3*g;if(x!==z||0===x&&!b.equals(d))if(0<x&&0<z)if(2!==z)if(b=E[z],2!==x)for(d=C[x];c<g;c+=3,f+=3)d(a,c,G,0),b(G,0,e,f);else for(;c<g;c+=3,f+=3)b(a,c,e,f);else for(d=C[x];c<g;c+=3,f+=3)d(a,c,e,f);else return!1;else if(e!==a||c!==f)for(;c<g;c++,f++)e[f]=a[c];return!0}
function u(b){return b.wkt===a.SphericalECEFSpatialReference.wkt?1:b.isWGS84?2:b.isWebMercator?3:b.wkt===a.WGS84ECEFSpatialReference.wkt?4:0}function t(a,b,c,e){c[e++]=a[b++];c[e++]=a[b++];c[e]=a[b]}function v(a,c,e,d){var f=.4999999*Math.PI,f=b.clamp(A*a[c+1],-f,f),f=Math.sin(f);e[d++]=A*a[c]*F;e[d++]=F/2*Math.log((1+f)/(1-f));e[d]=a[c+2]}function r(a,b,c,e){var d=F+a[b+2],f=A*a[b+1];a=A*a[b];b=Math.cos(f);c[e++]=Math.cos(a)*b*d;c[e++]=Math.sin(a)*b*d;c[e]=Math.sin(f)*d}Object.defineProperty(a,"__esModule",
{value:!0});a.SphericalECEFSpatialReference=new g({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});a.WGS84ECEFSpatialReference=new g({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var w,x,y,z;a.vectorToVector=m;a.pointToVector=function(a,b,c,e){void 0===e&&(e=0);B[0]=a.x;B[1]=a.y;var d=a.z;B[2]=void 0!==d?d:e;return n(B,a.spatialReference,0,b,c,0,1)};a.vectorToPoint=function(a,b,c,e){c instanceof k?e=e||c.spatialReference:f.isPoint(c)?(c.hasZ=!0,e=e||c.spatialReference):(e=c,c=new k({spatialReference:e}));return n(a,b,0,B,e,0,1)?(c.x=B[0],c.y=B[1],c.z=B[2],c.spatialReference=e,c):null};a.xyzToVector=function(a,b,c,e,d,f){B[0]=a;B[1]=b;B[2]=c;return n(B,e,0,d,f,0,1)};a.bufferToBuffer=
n;a.computeLinearTransformation=function(a,b,c,e){var d=u(a),f=u(e);if(d===f&&1!==f&&(0!==d||a.equals(e)))return p.mat4.identity(c),p.mat4.translate(c,c,b),!0;if(1===f){if(a=C[d])return a(b,0,G,0),r(G,0,K,0),e=A*G[0],a=A*G[1],b=Math.sin(e),e=Math.cos(e),d=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-d*e,c[8]=a*e,c[12]=K[0],c[1]=e,c[5]=-d*b,c[9]=a*b,c[13]=K[1],c[2]=0,c[6]=a,c[10]=d,c[14]=K[2],c[3]=0,c[7]=0,c[11]=0,c[15]=1,!0}else if(3===f&&(2===d||1===d))return C[d](b,0,G,0),b=A*G[1],v(G,0,K,0),p.mat4.identity(c),
p.mat4.translate(c,c,K),b=1/Math.cos(b),p.mat4.scale(c,c,[b,b,1]),!0;return!1};a.transformDirection=function(a,b,c,e,d){h.vec3.copy(I,a);h.vec3.add(J,a,b);m(I,c,I,d);m(J,c,J,d);h.vec3.subtract(e,J,I);h.vec3.normalize(e,e)};a.mbsToMbs=function(a,b,c,e){var d=u(b),f=u(e);if(d===f&&(0!==d||b.equals(e)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(1===f){if(b=C[d])return b(a,0,G,0),r(G,0,c,0),c[3]=a[3],!0}else if(3===f&&(2===d||1===d))return C[d](a,0,G,0),b=Math.abs(A*G[1])+Math.asin(a[3]/(F+
a[2])),v(G,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};a.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var e;B[0]=null!=a.xmin?a.xmin:0;B[1]=null!=a.ymin?a.ymin:0;B[2]=null!=a.zmin?a.zmin:0;e=n(B,a.spatialReference,0,b,c,0,1);B[0]=null!=a.xmax?a.xmax:0;B[1]=null!=a.ymax?a.ymax:0;B[2]=null!=a.zmax?a.zmax:0;e=e&&n(B,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=
Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return e};a.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var e;B[0]=null!=a.xmin?a.xmin:0;B[1]=null!=a.ymin?a.ymin:0;B[2]=null!=a.zmin?a.zmin:0;e=n(B,a.spatialReference,0,B,c,0,1);b[0]=B[0];b[1]=B[1];B[0]=null!=a.xmax?a.xmax:0;B[1]=null!=a.ymax?a.ymax:0;B[2]=null!=a.zmax?a.zmax:0;e=e&&n(B,a.spatialReference,0,B,c,0,1);b[2]=B[0];b[3]=B[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=
Infinity);null==a.ymax&&(b[3]=Infinity);return e};a.boundingRectToBoundingRect=function(a,b,c,e){if(null==a)return!1;if(b.equals(e))return d.set(c,a),!0;var f;B[0]=a[0];B[1]=a[1];B[2]=0;f=n(B,b,0,B,e,0,1);c[0]=B[0];c[1]=B[1];B[0]=a[2];B[1]=a[3];B[2]=0;f=f&&n(B,b,0,B,e,0,1);c[2]=B[0];c[3]=B[1];return f};(function(a){a.x2lon=function(a){return a/F};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/F))};a.lon2x=function(a){return a*F};a.lat2y=function(a){a=Math.sin(a);return F/2*Math.log((1+
a)/(1-a))}})(a.webMercator||(a.webMercator={}));var E=[void 0,r,t,v,function(a,b,c,e){var d=H,f=A*a[b],g=A*a[b+1];a=a[b+2];b=Math.sin(g);var g=Math.cos(g),n=d.a/Math.sqrt(1-d.e2*b*b);c[e++]=(n+a)*g*Math.cos(f);c[e++]=(n+a)*g*Math.sin(f);c[e++]=(n*(1-d.e2)+a)*b}],C=[void 0,function(a,c,d,f){var g=e.Vec3Compact.length(a,c),n=b.asin(a[c+2]/(0===g?1:g)),k=Math.cos(n)*g;a=(0<a[c+1]?1:-1)*b.acos(a[c]/(0===k?1:k));d[f++]=D*a;d[f++]=D*n;d[f]=g-F},t,function(a,b,c,e){c[e++]=D*(a[b++]/F);c[e++]=D*(Math.PI/
2-2*Math.atan(Math.exp(-1*a[b++]/F)));c[e]=a[b]},function(a,b,c,e){var d=H,f=a[b],g=a[b+1];a=a[b+2];var n,k,h,m,u,t;b=Math.abs(a);n=f*f+g*g;k=Math.sqrt(n);h=n+a*a;m=Math.sqrt(h);f=Math.atan2(g,f);u=a*a/h;h=n/h;g=d.a2/m;n=d.a3-d.a4/m;.3<h?(u=b/m*(1+h*(d.a1+g+u*n)/m),m=Math.asin(u),g=u*u,h=Math.sqrt(1-g)):(h=k/m*(1-u*(d.a5-g-h*n)/m),m=Math.acos(h),g=1-h*h,u=Math.sqrt(g));t=1-d.e2*g;g=d.a/Math.sqrt(t);d=d.a6*g;g=k-g*h;n=b-d*u;b=h*g+u*n;k=h*n-u*g;d=k/(d/t+b);m+=d;0>a&&(m=-m);c[e++]=D*f;c[e++]=D*m;c[e]=
b+k*d/2}],A=b.deg2rad(1),D=b.rad2deg(1),F=c.earthRadius,H={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},B=l.vec3f64.create(),G=l.vec3f64.create(),K=l.vec3f64.create(),I=l.vec3f64.create(),J=l.vec3f64.create()})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/lang ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m){function n(a,b,c){if(!a)return null;switch(b){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:c};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:c};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:c};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:c}}}
function u(a,b,c,e){return{x:a,y:b,z:c,hasZ:null!=c,hasM:!1,spatialReference:e,type:"point"}}function t(a){return"declaredClass"in a}function v(a){return"declaredClass"in a}function r(a){if(!a)return 0;switch(a.type){case "point":return 1;case "polyline":var b=0,c=0;for(a=a.paths;c<a.length;c++)b+=a[c].length;return b;case "polygon":c=b=0;for(a=a.rings;c<a.length;c++)b+=a[c].length;return b;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(b=a.vertexAttributes&&a.vertexAttributes.position)?
b.length/3:0;default:l.neverReached(a)}}function w(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:b};case "polygon":var c=a.hasZ,e=a.hasM;return{rings:x(a.rings),hasZ:c,hasM:e,spatialReference:b};case "polyline":var d=a.paths,c=a.hasZ,e=a.hasM;return{paths:x(d),hasZ:c,hasM:e,spatialReference:b};case "extent":var d=a.xmin,f=a.xmax,g=a.ymin,n=a.ymax,k=a.zmin,h=a.zmax,m=a.mmin,u=a.mmax,c=a.hasZ,e=a.hasM;return{xmin:d,xmax:f,ymin:g,ymax:n,
zmin:k,zmax:h,mmin:m,mmax:u,hasZ:c,hasM:e,spatialReference:b};case "multipoint":return d=a.points,c=a.hasZ,e=a.hasM,{points:E(d)?y(d):d,hasZ:c,hasM:e,spatialReference:b};default:l.neverReached(a)}}function x(a){return z(a)?a.map(function(a){return y(a)}):a}function y(a){return a.map(function(a){return g.toArray(a)})}function z(a){for(var b=0;b<a.length;b++){var c=a[b];if(0!==c.length)return E(c)}return!1}function E(a){return a.length&&(g.isFloat32Array(a[0])||g.isFloat64Array(a[0]))}function C(a,
b){f.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;a.hasZ&&(b[2]=b[5]=a.z);break;case "polyline":for(var c=0;c<a.paths.length;c++)f.expandWithNestedArray(b,a.paths[c],a.hasZ);break;case "polygon":for(c=0;c<a.rings.length;c++)f.expandWithNestedArray(b,a.rings[c],a.hasZ);break;case "multipoint":f.expandWithNestedArray(b,a.points,a.hasZ);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[3]=a.xmax;b[4]=a.ymax;null!=a.zmin&&(b[2]=a.zmin);null!=a.zmax&&(b[5]=
a.zmax);break;default:l.neverReached(a)}}function A(a,b){c.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var e=0;e<a.paths.length;e++)c.expandWithNestedArray(b,a.paths[e]);break;case "polygon":for(e=0;e<a.rings.length;e++)c.expandWithNestedArray(b,a.rings[e]);break;case "multipoint":c.expandWithNestedArray(b,a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;default:l.neverReached(a)}}Object.defineProperty(a,
"__esModule",{value:!0});a.equals=m.equals;a.isFeatureGeometry=function(a){return p.isFeatureGeometryType(a.type)};a.isPoint=function(a){return"point"===a.type};a.fromFeatureSetJSON=function(a){var c=p.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),f=d.fromJSON(a.spatialReference),g=a.transform,k=a.features.map(function(e){var d=a.objectIdFieldName;e={uid:h.generateUID(),objectId:d&&e.attributes?e.attributes[d]:null,attributes:e.attributes,geometry:n(e.geometry,c,f),visible:!0};if((d=
e.geometry)&&g)switch(d.type){case "point":e.geometry=b.hydratePoint(g,d,d,d.hasZ,d.hasM);break;case "multipoint":e.geometry=b.hydrateMultipoint(g,d,d,d.hasZ,d.hasM);break;case "polygon":e.geometry=b.hydratePolygon(g,d,d,d.hasZ,d.hasM);break;case "polyline":e.geometry=b.hydratePolyline(g,d,d,d.hasZ,d.hasM);break;default:l.neverReached(d)}return e});return{geometryType:c,features:k,spatialReference:f,fields:a.fields?a.fields.map(function(a){return e.fromJSON(a)}):null,objectIdFieldName:a.objectIdFieldName,
globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};a.fromJSONGeometry=n;a.makeDehydratedPoint=u;a.isHydratedGeometry=function(a){return"declaredClass"in a};a.isHydratedPoint=t;a.isHydratedGraphic=v;a.hydrateGraphic=function(a,b){if(!a||v(a))return a;b=new h({layer:b,sourceLayer:b});b.visible=a.visible;b.symbol=k.clone(a.symbol);b.attributes=k.clone(a.attributes);
a.geometry&&("mesh"===a.geometry.type?b.geometry=a.geometry:b.read({geometry:w(a.geometry)}));return b};a.clonePoint=function(a,b){if(!a)return null;if(t(a)){if(null==b)return a.clone();if(t(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=u(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};a.estimateSize=function(a){for(var b=32,c=0,e=Object.keys(a.attributes);c<
e.length;c++){var d=e[c],b=b+d.length,d=a.attributes[d];switch(typeof d){case "string":b+=d.length;break;default:case "number":b+=8}}a=a.geometry?"mesh"===a.geometry.type?0:r(a.geometry):0;return b+12*a};a.numVertices=r;a.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var b=0;for(a=a.paths;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "polygon":b=0;for(a=a.rings;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "multipoint":return 0<
a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:l.neverReached(a)}};a.computeAABB=C;a.expandAABB=function(a,b){C(a,D);f.expand(b,D)};a.computeAABR=A;a.expandAABR=function(a,b){A(a,F);c.expand(b,F)};var D=f.create(),F=c.create()})},"esri/geometry":function(){define("require exports ./core/kebabDictionary ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){Object.defineProperty(a,"__esModule",{value:!0});a.Extent=l;a.BaseGeometry=k;a.Multipoint=g;a.Point=d;a.Polygon=f;a.Polyline=c;a.SpatialReference=b;a.isGeometry=function(b){return b instanceof a.BaseGeometry};a.fromJSON=e.fromJSON;a.typeKebabDictionary=p.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};a.featureGeometryTypeKebabDictionary=p.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});a.geometryTypes={base:a.BaseGeometry,key:"type",typeMap:{extent:a.Extent,multipoint:a.Multipoint,point:a.Point,polyline:a.Polyline,polygon:a.Polygon}};a.ensureType=h.ensureOneOfType(a.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c){function b(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}q=function(a){function e(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}p(e,a);d=e;e.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(e.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var c=new g,e=this.hasZ,d=this.hasM,f=e?3:2,n=a[0],k=b(Math.min),h=b(Math.max),m=n[0],l=n[1],p=n[0],n=n[1],D,q,H,B,G=0,K=a.length;G<K;G++){var I=
a[G],J=I[0],Q=I[1],m=k(m,J),l=k(l,Q),p=h(p,J),n=h(n,Q);e&&2<I.length&&(J=I[2],D=k(D,J),H=h(H,J));d&&I.length>f&&(I=I[f],q=k(q,I),B=h(B,I))}c.xmin=m;c.ymin=l;c.xmax=p;c.ymax=n;c.spatialReference=this.spatialReference;e?(c.zmin=D,c.zmax=H):(c.zmin=null,c.zmax=null);d?(c.mmin=q,c.mmax=B):(c.mmin=null,c.mmax=null);return c},enumerable:!0,configurable:!0});e.prototype.writePoints=function(a,b,c,e){b.points=l.clone(this.points)};e.prototype.addPoint=function(a){this.clearCache();c.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};e.prototype.clone=function(){var a={points:l.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new d(a)};e.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new f(b)};e.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new f(this.points.splice(a,1)[0],this.spatialReference)};e.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();c.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};e.prototype.toJSON=function(a){return this.write(null,a)};e.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var d;h([k.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],e.prototype,"cache",void 0);h([k.property({dependsOn:["cache"]})],
e.prototype,"extent",null);h([k.property({type:[[Number]],json:{write:{isRequired:!0}}})],e.prototype,"points",void 0);h([k.writer("points")],e.prototype,"writePoints",null);return e=d=h([k.subclass("esri.geometry.Multipoint")],e)}(k.declared(d));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.updateSupportFromPoint=function(a,h,l){void 0===l&&(l=!1);var k=a.hasM,
g=a.hasZ;Array.isArray(h)?4!==h.length||k||g?3===h.length&&l&&!k?(g=!0,k=!1):3===h.length&&k&&g&&(g=k=!1):g=k=!0:(g=!g&&h.hasZ&&(!k||h.hasM),k=!k&&h.hasM&&(!g||h.hasZ));a.hasZ=g;a.hasM=k}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r){q=function(a){function f(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}p(f,a);w=f;f.createEllipse=function(a){var b=a.center.x,c=a.center.y,e=a.center.z,d=a.center.m,f=a.center.hasZ,g=a.center.hasM,n=a.longAxis,h=a.shortAxis,m=a.numberOfPoints;a=a.view;for(var u=[],t=2*Math.PI/m,l=f?3:2,r=0;r<m;r++){var v=a.toMap(k.createScreenPoint(n*Math.cos(r*t)+b,h*Math.sin(r*t)+c)),v=[v.x,v.y];f&&(v[2]=e);g&&(v[l]=
d);u.push(v)}u.push(u[0]);return new w({rings:[u],spatialReference:a.spatialReference})};f.createCircle=function(a){return w.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};f.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,e=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(e=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var d=
a.zmin+.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(d);if(e&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);e&&(b.hasM=!0);return new w(b)};f.prototype.normalizeCtorArgs=function(a,c){var e=null,d,f,g=null;a&&!Array.isArray(a)?(e=a.rings?a.rings:null,c||(a.spatialReference?c=a.spatialReference:a.rings||(c=a)),d=a.hasZ,f=a.hasM):e=a;e=e||[];c=c||b.WGS84;e.length&&e[0]&&null!=e[0][0]&&"number"===typeof e[0][0]&&(e=[e]);if(g=e[0]&&
e[0][0])void 0===d&&void 0===f?(d=2<g.length,f=!1):void 0===d?d=!f&&3<g.length:void 0===f&&(f=!d&&3<g.length);return{rings:e,spatialReference:c,hasZ:d,hasM:f}};Object.defineProperty(f.prototype,"centroid",{get:function(){var a=e.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new c;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"extent",{get:function(){var a=
this.spatialReference,b=new d(u.getPolygonExtent(this));b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"isSelfIntersecting",{get:function(){return t.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});f.prototype.writePaths=function(a,b,c,e){b.rings=l.clone(this.rings)};f.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=[],d=0,f=a.length;d<f;d++)e[d]=
a[d].toArray();b[c]=e}return this}};f.prototype.clone=function(){var a=new w;a.spatialReference=this.spatialReference;a.rings=l.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};f.prototype.contains=function(a){if(!a)return!1;v.canProject(a,this.spatialReference)&&(a=v.project(a,this.spatialReference));return m.polygonContainsPoint(this,a)};f.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,
a.y]});return n.isClockwise(a,this.hasM,this.hasZ)};f.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var e=this.hasM;return b&&!e?new c(a[0],a[1],a[2],void 0,this.spatialReference):e&&!b?new c(a[0],a[1],void 0,a[2],this.spatialReference):b&&e?new c(a[0],a[1],a[2],a[3],this.spatialReference):new c(a[0],a[1],this.spatialReference)};f.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();r.updateSupportFromPoint(this,
c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};f.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new c(this.rings[a].splice(b,1)[0],this.spatialReference)};f.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new c(a,b)})};f.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,
b))return this;this.clearCache();r.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};f.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};f.prototype.toJSON=function(a){return this.write(null,a)};var w;h([g.property({dependsOn:["hasM","hasZ","rings"]})],f.prototype,"cache",void 0);h([g.property({readOnly:!0,dependsOn:["cache"]})],
f.prototype,"centroid",null);h([g.property({dependsOn:["cache"],readOnly:!0})],f.prototype,"extent",null);h([g.property({dependsOn:["cache"],readOnly:!0})],f.prototype,"isSelfIntersecting",null);h([g.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,"rings",void 0);h([g.writer("rings")],f.prototype,"writePaths",null);return f=w=h([g.subclass("esri.geometry.Polygon")],f)}(g.declared(f));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils","./libs/gl-matrix-2/vec2f64","./libs/gl-matrix-2/vec3f64"],function(q,a,p,h,l){function k(b){return b?72*b/a.DPI:0}function g(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return h.vec2f64.fromValues(a,b)}function f(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function c(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return h.vec2f64.fromValues(a,b)}function b(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&
(b[2]=0),b):h.vec2f64.fromValues(a.x,a.y)}function e(a){return g(a.x,a.y)}function m(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return g(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(a,"__esModule",{value:!0});var n=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.DPI=96;a.pt2px=function(b){return b?b/72*a.DPI:0};a.px2pt=k;a.toPt=function(a){if("string"===typeof a){if(n.test(a)){var b=a.match(n),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?k(c):
c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};a.createScreenPoint=g;a.createScreenPointArray=d;a.createRenderScreenPoint=f;a.createRenderScreenPointArray=c;a.createRenderScreenPointArray3=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return l.vec3f64.fromValues(a,b,c)};a.castRenderScreenPointArray=function(a){return a};a.castRenderScreenPointArray3=function(a){return a};a.castScreenPointArray=function(a){return a};a.screenToRender=
function(a,c,e){var d,g;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=c.x*a;g=c.y*a;break;case "3d":b(c,t),a.state.camera.screenToRender(t,u),d=u[0],g=u[1]}return e?(e.x=d,e.y=g,e):f(d,g)};a.renderToScreen=function(a,c,e){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=c.x/a;f=c.y/a;break;case "3d":b(c,u),a.state.camera.renderToScreen(u,t),d=t[0],f=t[1]}return e?(e.x=d,e.y=f,e):g(d,f)};a.screenArrayToRender=function(a,b,e){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||
1;d=b[0]*a;f=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,u),d=u[0],f=u[1]}return e?(e[0]=d,e[1]=f,2<e.length&&(e[2]=0),e):c(d,f)};a.renderArrayToScreen=function(a,b,c){var e,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;e=b[0]/a;f=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,t),e=t[0],f=t[1]}return c?(c[0]=e,c[1]=f,c):d(e,f)};a.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};a.screenPointObjectToArray=b;a.createScreenPointFromEvent=
e;a.createScreenPointFromNativeEvent=m;a.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?m(a,b):e(b)};a.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;
default:p.neverReachedSilent(a)}return!1};var u=c(),t=d()})},"esri/core/libs/gl-matrix-2/vec2f64":function(){define(["require","exports","./factories/vec2f64"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec2f64=p})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,0]};a.clone=function(a){return[a[0],a[1]]};a.fromValues=function(a,h){return[a,h]};
a.fromArray=function(a){for(var h=[0,0],l=Math.min(2,a.length),k=0;k<l;++k)h[k]=a[k];return h};a.createView=function(a,h){return new Float64Array(a,h,2)}})},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],function(q,a,p){function h(a,d){if(!a||!a.length)return null;for(var f=[],c=[],b=d?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],e=0,g=a.length;e<g;e++){var n=l(a[e],d,b);n&&c.push(n)}c.sort(function(a,
b){var c=a[2]-b[2];0===c&&d&&(c=a[4]-b[4]);return c});c.length&&(e=6*c[0][2],f[0]=c[0][0]/e,f[1]=c[0][1]/e,d&&(e=6*c[0][4],f[2]=0!==e?c[0][3]/e:0),f[0]<b[0]||f[0]>b[1]||f[1]<b[2]||f[1]>b[3]||d&&(f[2]<b[4]||f[2]>b[5]))&&(f.length=0);if(!f.length)if(a=a[0]&&a[0].length?k(a[0],d):null)f[0]=a[0],f[1]=a[1],d&&2<a.length&&(f[2]=a[2]);else return null;return f}function l(a,d,f){for(var c=0,b=0,e=0,g=0,n=0,k=0,h=a.length-1;k<h;k++){var l=a[k],r=l[0],p=l[1],x=l[2],q=a[k+1],z=q[0],E=q[1],C=q[2],A=r*E-z*p,g=
g+A,c=c+(r+z)*A,b=b+(p+E)*A;d&&2<l.length&&2<q.length&&(A=r*C-z*x,e+=(x+C)*A,n+=A);r<f[0]&&(f[0]=r);r>f[1]&&(f[1]=r);p<f[2]&&(f[2]=p);p>f[3]&&(f[3]=p);d&&(x<f[4]&&(f[4]=x),x>f[5]&&(f[5]=x))}0<g&&(g*=-1);0<n&&(n*=-1);if(!g)return null;a=[c,b,.5*g];d&&(a[3]=e,a[4]=.5*n);return a}function k(a,d){for(var f=d?[0,0,0]:[0,0],c=d?[0,0,0]:[0,0],b=0,e=0,g=0,n=0,k=0,h=a.length;k<h-1;k++){var l=a[k],r=a[k+1];if(l&&r){f[0]=l[0];f[1]=l[1];c[0]=r[0];c[1]=r[1];d&&2<l.length&&2<r.length&&(f[2]=l[2],c[2]=r[2]);var w=
p.getLength(f,c);w&&(b+=w,l=p.getMidpoint(l,r),e+=w*l[0],g+=w*l[1],d&&2<l.length&&(n+=w*l[2]))}}return 0<b?d?[e/b,g/b,n/b]:[e/b,g/b]:a.length?a[0]:null}Object.defineProperty(a,"__esModule",{value:!0});a.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};a.polygonCentroid=function(a){return a?h(a.rings,a.hasZ):null};a.ringsCentroid=h;a.lineCentroid=k})},"esri/geometry/support/coordsUtils":function(){define(["require",
"exports","./spatialReferenceUtils"],function(q,a,p){function h(a,d){var f=d[0]-a[0],c=d[1]-a[1];return 2<a.length&&2<d.length?(a=a[2]-d[2],Math.sqrt(f*f+c*c+a*a)):Math.sqrt(f*f+c*c)}function l(a,d,f){var c=a[0]+f*(d[0]-a[0]),b=a[1]+f*(d[1]-a[1]);return 2<a.length&&2<d.length?[c,b,a[2]+f*(d[2]-a[2])]:[c,b]}function k(a,d){if(d=p.getInfo(d)){var f=d.valid[0],c=d.valid[1],b=c-f;d=function(a){var e=Infinity,d=-Infinity;a.forEach(function(a){for(var g=a[0];g<f;)g+=b;for(;g>c;)g-=b;e=Math.min(e,g);d=Math.max(d,
g);a[0]=g});var g=d-e;b-g<g&&a.forEach(function(a){0>a[0]&&(a[0]+=b)})};for(var e=0;e<a.length;e++)d(a[e])}}Object.defineProperty(a,"__esModule",{value:!0});a.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var d=a.hasZ,f=a.hasM;if("point"===a.type)return f&&d?[a.x,a.y,a.z,a.m]:d?[a.x,a.y,a.z]:f?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===
a.type){a=a.clone().normalize();if(!a)return null;var c=!1,b=!1;a.forEach(function(a){a.hasZ&&(c=!0);a.hasM&&(b=!0)});return a.map(function(a){var e=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var d=.5*(a.zmax-a.zmin),f=0;f<e.length;f++)e[f].push(d);if(b&&a.hasM)for(a=.5*(a.mmax-a.mmin),f=0;f<e.length;f++)e[f].push(a);return e})}return null};a.getLength=h;a.getMidpoint=function(a,d){return l(a,d,.5)};a.getPathLength=function(a){for(var d=a.length,
f=0,c=0;c<d-1;++c)f+=h(a[c],a[c+1]);return f};a.getPointOnPath=function(a,d){if(0>=d)return a[0];for(var f=a.length,c=0,b=0;b<f-1;++b){var e=h(a[b],a[b+1]);if(d-c<e)return l(a[b],a[b+1],(d-c)/e);c+=e}return a[f-1]};a.isClockwise=function(a,d,f){for(var c=a.length,b=0,e=0,g=0,k=0;k<c;k++){var h=a[k],t=a[(k+1)%c],l=2,b=b+(h[0]*t[1]-t[0]*h[1]);2<h.length&&2<t.length&&f&&(e+=h[0]*t[2]-t[0]*h[2],l=3);h.length>l&&t.length>l&&d&&(g+=h[0]*t[l]-t[0]*h[l])}return 0>=b&&0>=e&&0>=g};a.getRingArea=function(a){for(var d=
a.length,f=0,c=0;c<d;c++)var b=a[c],e=a[(c+1)%d],f=f+(b[0]*e[1]-e[0]*b[1]);return f};a.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;k("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};a.unnormalizeVerticesOnDatelineCrossing=k;a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,d,f,c){var b=Infinity,e=-Infinity;a.forEach(function(a){for(var g=a.pos[0];g<d;)g+=c;for(;g>f;)g-=c;b=Math.min(b,g);e=Math.max(e,g);a.unnormalizedPos[0]=
g;a.unnormalizedPos[1]=a.pos[1]});var g=e-b;c-g<g&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=c)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],function(q,a,p){function h(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=!1);return b?e?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:e?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],
mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function l(a){var b=a.hasZ,c=a.hasM;return h(p.getPointsBounds(f,a.points,b,c),b,c)}function k(a){var b=a.x,c=a.y,d=a.z;a=a.m;var f=null!=a;return null!=d?f?{xmin:b,ymin:c,zmin:d,mmin:a,xmax:b,ymax:c,zmax:d,mmax:a}:{xmin:b,ymin:c,zmin:d,xmax:b,ymax:c,zmax:d}:f?{xmin:b,ymin:c,mmin:a,xmax:b,ymax:c,mmax:a}:{xmin:b,ymin:c,xmax:b,ymax:c}}function g(a){var b=a.hasZ,c=a.hasM;return h(p.getRingsOrPathsBounds(f,a.rings,b,c),b,c)}function d(a){var b=a.hasZ,
c=a.hasM;return h(p.getRingsOrPathsBounds(f,a.paths,b,c),b,c)}Object.defineProperty(a,"__esModule",{value:!0});var f=[];a.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?k(a):void 0!==a.rings?g(a):void 0!==a.paths?d(a):void 0!==a.points?l(a):null:null};a.getMultipointExtent=l;a.getPointExtent=k;a.getPolygonExtent=g;a.getPolylineExtent=d})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],
function(q,a){function p(a){return function(c,b){return null==c?b:null==b?c:a(c,b)}}function h(a,c,b,e){var f=b?3:2;if(!c.length||!c[0].length)return null;for(var k=c[0][0],h=k[0],k=k[1],l=c[0][0],v=l[0],l=l[1],r=void 0,p=void 0,x=void 0,q=void 0,z=0;z<c.length;z++)for(var E=c[z],C=0;C<E.length;C++){var A=E[C],D=A[0],F=A[1],h=g(h,D),k=g(k,F),v=d(v,D),l=d(l,F);b&&2<A.length&&(D=A[2],r=g(r,D),p=d(p,D));e&&A.length>f&&(q=A[f],x=g(r,q),q=d(p,q))}if(b){if(e)return a[0]=h,a[1]=k,a[2]=r,a[3]=x,a[4]=v,a[5]=
l,a[6]=p,a[7]=q,a.length=8,a;a[0]=h;a[1]=k;a[2]=r;a[3]=v;a[4]=l;a[5]=p;a.length=6;return a}if(e)return a[0]=h,a[1]=k,a[2]=x,a[3]=v,a[4]=l,a[5]=q,a.length=6,a;a[0]=h;a[1]=k;a[2]=v;a[3]=l;a.length=4;return a}function l(a,c,b,e,d,g){b=c.xmin;e=c.xmax;var f=c.ymin,k=c.ymax,n=c.zmin,h=c.zmax,m=c.mmin;c=c.mmax;if(d){n=n||0;h=h||0;if(g)return a[0]=b,a[1]=f,a[2]=n,a[3]=m||0,a[4]=e,a[5]=k,a[6]=h,a[7]=c||0,a;a[0]=b;a[1]=f;a[2]=n;a[3]=e;a[4]=k;a[5]=h;return a}if(g)return a[0]=b,a[1]=f,a[2]=m||0,a[3]=e,a[4]=
k,a[5]=c||0,a;a[0]=b;a[1]=f;a[2]=e;a[3]=k;return a}function k(a,c,b,e,k,n){var f=b?3:2;e=e&&n;b=b&&k;if(!c.length||!c[0].length)return null;for(var h=c[0],m=h[0],h=h[1],l=c[0],p=l[0],l=l[1],x=void 0,q=void 0,z=void 0,E=void 0,C=0;C<c.length;C++){var A=c[C],D=A[0],F=A[1],m=g(m,D),h=g(h,F),p=d(p,D),l=d(l,F);b&&2<A.length&&(D=A[2],x=g(x,D),q=d(q,D));e&&A.length>f&&(E=A[f],z=g(x,E),E=d(q,E))}if(k){x=x||0;q=q||0;if(n)return a[0]=m,a[1]=h,a[2]=x,a[3]=z||0,a[4]=p,a[5]=l,a[6]=q,a[7]=E||0,a;a[0]=m;a[1]=h;
a[2]=x;a[3]=p;a[4]=l;a[5]=q;return a}if(n)return a[0]=m,a[1]=h,a[2]=z||0,a[3]=p,a[4]=l,a[5]=E||0,a;a[0]=m;a[1]=h;a[2]=p;a[3]=l;return a}Object.defineProperty(a,"__esModule",{value:!0});var g=p(Math.min),d=p(Math.max);a.getBoundsXY=function(a,c){if(void 0!==c.paths)return h(a,c.paths,!1,!1);if(void 0!==c.rings)return h(a,c.rings,!1,!1);if(void 0!==c.points)return k(a,c.points,!1,!1,!1,!1);if(void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax)return l(a,c);void 0!==c.x&&void 0!==c.y&&
(a[0]=c.x,a[1]=c.y,a[2]=c.x,a[3]=c.y);return a};a.getRingsOrPathsBounds=h;a.getExtentBounds=l;a.getPointsBounds=k;a.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var c=a[0][0],b=a[0][0],e=0;e<a.length;e++)var f=a[e][0],c=g(c,f),b=d(b,f);return b-c};a.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var c=a[0][0],b=a[0][0],e=0;e<a.length;e++)var f=a[e][0],c=g(c,f),b=d(b,f);return c+.5*(b-c)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){q=function(a){function d(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.paths=[];b.type="polyline";return b}p(d,a);m=d;d.prototype.normalizeCtorArgs=function(a,b){var e=null,d,f,g=null;a&&!Array.isArray(a)?(e=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,f=a.hasM):e=a;e=e||[];b=b||c.WGS84;e.length&&e[0]&&null!=e[0][0]&&"number"===typeof e[0][0]&&(e=[e]);if(g=e[0]&&e[0][0])void 0===d&&void 0===f?(d=2<g.length,
f=!1):void 0===d?d=!f&&3<g.length:void 0===f&&(f=!d&&3<g.length);return{paths:e,spatialReference:b,hasZ:d,hasM:f}};Object.defineProperty(d.prototype,"extent",{get:function(){var a=this.spatialReference,c=new g(b.getPolylineExtent(this));c.spatialReference=a;return c},enumerable:!0,configurable:!0});d.prototype.writePaths=function(a,b,c,e){b.paths=l.clone(this.paths)};d.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=
[],d=0,f=a.length;d<f;d++)e[d]=a[d].toArray();b[c]=e}return this}};d.prototype.clone=function(){var a=new m;a.spatialReference=this.spatialReference;a.paths=l.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};d.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new f(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new f(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new f(a[0],a[1],a[2],a[3],this.spatialReference):
new f(a[0],a[1],this.spatialReference)};d.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();e.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};d.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new f(a,b)})};d.prototype.removePoint=function(a,b){if(!this._validateInputs(a,
b))return null;this.clearCache();return new f(this.paths[a].splice(b,1)[0],this.spatialReference)};d.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();e.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};d.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};d.prototype.toJSON=function(a){return this.write(null,
a)};var m;h([k.property({dependsOn:["hasM","hasZ","paths"]})],d.prototype,"cache",void 0);h([k.property({dependsOn:["cache"],readOnly:!0})],d.prototype,"extent",null);h([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);h([k.writer("paths")],d.prototype,"writePaths",null);return d=m=h([k.subclass("esri.geometry.Polyline")],d)}(k.declared(d));q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(q,a,p,h,l,k,g){function d(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function f(a){return void 0!==a.points}function c(a){return void 0!==a.x&&void 0!==a.y}function b(a){return void 0!==a.paths}function e(a){return void 0!==a.rings}function m(a){return a?c(a)?l.fromJSON(a):b(a)?g.fromJSON(a):e(a)?k.fromJSON(a):f(a)?h.fromJSON(a):d(a)?p.fromJSON(a):null:null}Object.defineProperty(a,"__esModule",{value:!0});a.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(t){console.warn(t.stack)}return m(a)};a.isExtent=d;a.isMultipoint=f;a.isPoint=c;a.isPolyline=b;a.isPolygon=e;a.isMesh=function(a){return void 0!==a.vertexAttributes};a.fromJSON=m;a.getJsonType=function(a){return a?c(a)?"esriGeometryPoint":b(a)?"esriGeometryPolyline":e(a)?"esriGeometryPolygon":d(a)?"esriGeometryEnvelope":f(a)?"esriGeometryMultipoint":null:null};var n={esriGeometryPoint:l,esriGeometryPolyline:g,esriGeometryPolygon:k,esriGeometryEnvelope:p,esriGeometryMultipoint:h};a.getGeometryType=
function(a){return a&&n[a]||null}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(q,a,p,h,l,k,g,d,f,c,b,e,m,n){q=function(a){function f(b,c,e,d){b=a.call(this,b,c,e,d)||this;b.layer=null;b.popupTemplate=
null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:u.generateUID()});return b}h(f,a);u=f;f.prototype.normalizeCtorArgs=function(a,b,c,e){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:e}};Object.defineProperty(f.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"geometry",{set:function(a){var b=this._get("geometry");
b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});f.prototype.getEffectivePopupTemplate=
function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&b.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};f.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};f.prototype.setAttribute=function(a,b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c=
{},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};f.prototype.toJSON=function(){return{geometry:this.geometry&&this.geometry.toJSON(),symbol:this.symbol&&this.symbol.toJSON(),attributes:p({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};f.prototype.clone=function(){return new u({attributes:c.clone(this.attributes),geometry:this.geometry&&this.geometry.clone()||null,layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,
symbol:this.symbol&&this.symbol.clone()||null,visible:this.visible})};f.prototype._notifyLayer=function(a,b,c,e){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=e),this.layer.graphicChanged(b))};var u;l([e.property({value:null})],f.prototype,"attributes",null);l([e.property({value:null,types:k.geometryTypes,json:{read:m.fromJSON}})],f.prototype,"geometry",null);l([e.property()],f.prototype,"layer",void 0);l([e.property({type:g})],
f.prototype,"popupTemplate",void 0);l([e.property()],f.prototype,"sourceLayer",void 0);l([e.property({value:null,types:d.symbolTypes,json:{read:n.read}})],f.prototype,"symbol",null);l([e.property({type:Boolean,value:!0,set:function(a){}})],f.prototype,"visible",null);return f=u=l([e.subclass("esri.Graphic")],f)}(e.declared(f));var u=0;(function(a){a.generateUID=function(){return u++}})(q||(q={}));return q})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r,w,x,y,z,E,C,A,D,F,H,B,G,K){var I=c.ofType({key:"type",defaultKeyValue:"button",base:B,typeMap:{button:G,toggle:K}}),J={base:C,key:"type",typeMap:{media:D,text:F,attachments:E,fields:A}},Q=m.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}h(b,a);m=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return t.ensureOneOfType(J,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||n.isThenable(a))return a;Q.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){var c=b.description,e=b.mediaInfos;a=b.popupElements;b=b.showAttachments;if(Array.isArray(a)&&0<a.length)return a.map(function(a){if("media"===
a.type)return!a.mediaInfos&&e&&(a.mediaInfos=e),D.fromJSON(a);if("text"===a.type)return!a.text&&c&&(a.text=c),F.fromJSON(a);if("attachments"===a.type)return E.fromJSON(a);if("fields"===a.type)return A.fromJSON(a)}).filter(Boolean);a=[];c?a.push(new F({text:c})):a.push(new A);Array.isArray(e)&&e.length&&a.push(D.fromJSON({mediaInfos:e}));b&&a.push(E.fromJSON({displayType:"list"}));return a.length?a:c};b.prototype.writeContent=function(a,b){b.showAttachments=!1;"string"===typeof a?b.description=a:Array.isArray(a)&&
(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"!==a.type||b.showAttachments?"media"!==a.type||b.mediaInfos?"text"!==a.type||b.description||(a.text&&(b.description=a.text),delete a.text):(a.mediaInfos&&(b.mediaInfos=e.clone(a.mediaInfos)),delete a.mediaInfos):b.showAttachments=!0}))};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=a&&null!==a.showNoDataRecords?a.toJSON():null};b.prototype.writeTitle=function(a,b){b.title=a||""};
b.prototype.clone=function(){var a=this.actions,a=a?e.clone(a.toArray()):[];return new m({actions:a,content:Array.isArray(this.content)?e.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?e.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?e.clone(this.fieldInfos):null,layerOptions:this.layerOptions?e.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?e.clone(this.outFields):
null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?e.clone(this.relatedRecordsInfo):null})};b.prototype.collectRequiredFields=function(a,b){return g(this,void 0,void 0,function(){return k(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),v.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),
[2]}})})};b.prototype.getRequiredFields=function(a){return g(this,void 0,void 0,function(){var b;return k(this,function(c){switch(c.label){case 0:return b=new f.default,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,d.from(b).sort()]}})})};b.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,
c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},e=c.fields,d=void 0===e?[]:e,e=c.normalizeField,f=c.tooltipField,g=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(g),this._extractFieldNames(c),d);e&&a.push(e);f&&a.push(f);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===
typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return g(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return c?[4,n.all(c.map(function(c){return v.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return e.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?
!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};
b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var m;l([u.property({type:I})],b.prototype,"actions",void 0);l([u.property()],
b.prototype,"content",void 0);l([u.cast("content")],b.prototype,"castContent",null);l([u.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);l([u.writer("content",{popupElements:{type:c.ofType(r.types)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(H.types)},description:{type:String}})],b.prototype,"writeContent",null);l([u.property({type:[w],json:{write:!0}})],b.prototype,"expressionInfos",void 0);l([u.property({type:[x],json:{write:!0}})],
b.prototype,"fieldInfos",void 0);l([u.property({type:y})],b.prototype,"layerOptions",void 0);l([u.writer("layerOptions")],b.prototype,"writeLayerOptions",null);l([u.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);l([u.property()],b.prototype,"outFields",void 0);l([u.property()],b.prototype,"overwriteActions",void 0);l([u.property({json:{type:String}})],b.prototype,"title",void 0);l([u.writer("title")],
b.prototype,"writeTitle",null);l([u.property({type:z,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=m=l([u.subclass("esri.PopupTemplate")],b)}(u.declared(b))})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(q,a){function p(a){return function(b){return h([a,b])}}function h(c){if(k)throw new TypeError("Generator is already executing.");for(;l;)try{if(k=1,g&&(d=c[0]&2?g["return"]:c[0]?g["throw"]||((d=g["return"])&&d.call(g),0):g.next)&&!(d=
d.call(g,c[1])).done)return d;if(g=0,d)c=[c[0]&2,d.value];switch(c[0]){case 0:case 1:d=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++;g=c[1];c=[0];continue;case 7:c=l.ops.pop();l.trys.pop();continue;default:if(!(d=l.trys,d=0<d.length&&d[d.length-1])&&(6===c[0]||2===c[0])){l=0;continue}if(3===c[0]&&(!d||c[1]>d[0]&&c[1]<d[3]))l.label=c[1];else if(6===c[0]&&l.label<d[1])l.label=d[1],d=c;else if(d&&l.label<d[2])l.label=d[2],l.ops.push(c);else{d[2]&&l.ops.pop();l.trys.pop();continue}}c=
a.call(q,l)}catch(b){c=[6,b],g=0}finally{k=d=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},k,g,d,f;return f={next:p(0),"throw":p(1),"return":p(2)},"function"===typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f}})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(q){return function(a,p,h,l){var k=null;return q.create(function(g,d){function f(a){try{b(l.next(a))}catch(m){d(m)}}
function c(a){try{b(l["throw"](a))}catch(m){d(m)}}function b(a){a.done?(k=q.when(a.value),k.then(g,d)):(k=q.when(a.value),k.then(f,c))}b((l=l.apply(a,p||[])).next())},function(a){k&&k.cancel(a)})}})},"@dojo/framework/shim/Set":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),q)})(function(q,
a){Object.defineProperty(a,"__esModule",{value:!0});var p=q("tslib"),h=q("./global"),l=q("./iterator"),k=q("../has/has");q("./Symbol");a.Set=h.default.Set;k.default("es6-set")||(a.Set=(g=function(){function a(a){this._setData=[];this[Symbol.toStringTag]="Set";if(a)if(l.isArrayLike(a))for(var c=0;c<a.length;c++)this.add(a[c]);else try{for(var c=p.__values(a),b=c.next();!b.done;b=c.next())this.add(b.value)}catch(n){e={error:n}}finally{try{b&&!b.done&&(d=c.return)&&d.call(c)}finally{if(e)throw e.error;
}}var e,d}a.prototype.add=function(a){if(this.has(a))return this;this._setData.push(a);return this};a.prototype.clear=function(){this._setData.length=0};a.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;this._setData.splice(a,1);return!0};a.prototype.entries=function(){return new l.ShimIterator(this._setData.map(function(a){return[a,a]}))};a.prototype.forEach=function(a,c){for(var b=this.values(),e=b.next();!e.done;)a.call(c,e.value,e.value,this),e=b.next()};a.prototype.has=
function(a){return-1<this._setData.indexOf(a)};a.prototype.keys=function(){return new l.ShimIterator(this._setData)};Object.defineProperty(a.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});a.prototype.values=function(){return new l.ShimIterator(this._setData)};a.prototype[Symbol.iterator]=function(){return new l.ShimIterator(this._setData)};return a}(),g[Symbol.species]=g,g));a.default=a.Set;var g})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./ArrayPool ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){function m(a){return a?a.isInstanceOf&&a.isInstanceOf(C):!1}function n(a){return a?m(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function u(a){if(a&&a.length)return a[0]}function t(a,b,c,e){b&&b.forEach(function(b,d,f){a.push(b);t(a,c.call(e,b,d,f),c,e)})}q=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=
!1;this.item=a};return a}();var v=function(){},r=new f(q,!0,function(a){a.item=null;a.target=null}),w=new Set,x=new Set,y=new Set,z=new Map,E=0,C=function(a){function f(b){b=a.call(this,b)||this;b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:E++});return b}p(f,a);g=f;f.ofType=function(a){if(!a)return g;if(z.has(a))return z.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;
else if(a.base)b=a.base.prototype.declaredClass;else for(var c in a.typeMap){var d=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+d):d}b=g.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=m;c={Type:a,ensureType:"function"===typeof a?e.ensureType(a):e.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:c});z.set(a,b);return b};f.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||m(a)?{items:a}:a:{}};Object.defineProperty(f.prototype,
"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(n(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});f.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,e={removed:!1,callback:b};c.push(e);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=v;e.removed=!0;c.splice(c.indexOf(e),1)}}}return this._emitter.on(a,
b)};f.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};f.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};f.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(n(a)));this._emitAfterChanges();return this};
f.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};f.prototype.clone=function(){return this._createNewInstance({items:this._items.map(d.clone)})};f.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(n);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};f.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=
this._splice(0,this.length),e=c.length,d=0;d<e;d++)a.call(b,c[d],d,c);this._emitAfterChanges()}};f.prototype.every=function(a,b){return this._items.every(a,b)};f.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};f.prototype.find=function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,e=c.length,d=0;d<e;d++){var f=c[d];if(a.call(b,f,d,c))return f}};f.prototype.findIndex=
function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,e=c.length,d=0;d<e;d++)if(a.call(b,c[d],d,c))return d;return-1};f.prototype.flatten=function(a,b){var c=[];t(c,this,a,b);return new g(c)};f.prototype.forEach=function(a,b){return this._items.forEach(a,b)};f.prototype.getItemAt=function(a){return this._items[a]};f.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};f.prototype.includes=function(a,b){void 0===
b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};f.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};f.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};f.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};f.prototype.map=function(a,b){a=this._items.map(a,b);return new g({items:a})};f.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==
c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};f.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=u(this._splice(this.length-1,1));this._emitAfterChanges();return a}};f.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();
return this.length};f.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};f.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};f.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};f.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=u(this._splice(a,1)),this._emitAfterChanges(),a};f.prototype.removeMany=function(a){if(!a||
!a.length||this._emitBeforeChanges())return[];a=m(a)?a.toArray():a;for(var b=this._items,c=[],e=a.length,d=0;d<e;d++){var f=b.indexOf(a[d]);if(-1<f){for(var g=d+1,k=f+1,n=Math.min(a.length-g,b.length-k),h=0;h<n&&a[g+h]===b[k+h];)h++;g=1+h;(f=this._splice(f,g))&&0<f.length&&c.push.apply(c,f);d+=g-1}}this._emitAfterChanges();return c};f.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();
return this};f.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=u(this._splice(0,1));this._emitAfterChanges();return a}};f.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};f.prototype.some=function(a,b){return this._items.some(a,b)};f.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();
this._splice.apply(this,[0,0].concat(b));return this};f.prototype.splice=function(a,b){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};f.prototype.toArray=function(){return this._items.slice()};f.prototype.toJSON=function(){return this.toArray()};f.prototype.toLocaleString=function(){return this._items.toLocaleString()};f.prototype.toString=function(){return this._items.toString()};
f.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};f.prototype._createNewInstance=function(a){return new this.constructor(a)};f.prototype._splice=function(a,b){for(var e=[],d=2;d<arguments.length;d++)e[d-2]=arguments[d];var d=this._items,f=this.constructor.prototype.itemType,g,k;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=c.schedule(this._boundDispatch));if(b){k=d.splice(a,b);if(this.hasEventListener("before-remove")){var n=r.acquire();n.target=this;n.cancellable=!0;for(var h=0,m=k.length;h<m;h++)g=k[h],n.reset(g),this.emit("before-remove",n),n.defaultPrevented&&(k.splice(h,1),d.splice(a,0,g),a+=1,--h,--m);r.release(n)}this.length=this._items.length;if(this.hasEventListener("after-remove")){g=
r.acquire();g.target=this;g.cancellable=!1;m=k.length;for(h=0;h<m;h++)g.reset(k[h]),this.emit("after-remove",g);r.release(g)}}if(e&&e.length){if(f){h=[];for(m=0;m<e.length;m++)g=e[m],n=f.ensureType(g),null==n&&null!=g||h.push(n);e=h}f=this.hasEventListener("before-add");h=this.hasEventListener("after-add");m=a===this.length;if(f||h){g=r.acquire();g.target=this;g.cancellable=!0;n=r.acquire();n.target=this;n.cancellable=!1;for(var l=0,u=e;l<u.length;l++){var t=u[l];f?(g.reset(t),this.emit("before-add",
g),g.defaultPrevented||(m?d.push(t):d.splice(a++,0,t),this._set("length",d.length),h&&(n.reset(t),this.emit("after-add",n)))):(m?d.push(t):d.splice(a++,0,t),this._set("length",d.length),n.reset(t),this.emit("after-add",n))}r.release(n);r.release(g)}else m?d.push.apply(d,e):d.splice.apply(d,[a,0].concat(e)),this._set("length",d.length)}(e&&e.length||k&&k.length)&&this._notifyChangeEvent(e,k);return k};f.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=
r.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;r.release(b)}return a};f.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=r.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",a);r.release(a)}};f.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};f.prototype._dispatchColChange=function(){this._timer&&
(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;w.clear();x.clear();y.clear();for(var e=0;e<b.length;e++){var d=b[e],f=d.added,d=d.removed;if(f)if(0===y.size&&0===x.size)for(var g=0,n=f;g<n.length;g++)f=n[g],w.add(f);else for(g=0,n=f;g<n.length;g++)f=n[g],x.has(f)?(y.add(f),x.delete(f)):y.has(f)||w.add(f);if(d)if(0===y.size&&0===w.size)for(g=0;g<d.length;g++)f=d[g],x.add(f);else for(g=0;g<d.length;g++)f=
d[g],w.has(f)?w.delete(f):(y.delete(f),x.add(f))}var h=k.acquire();w.forEach(function(a){h.push(a)});var m=k.acquire();x.forEach(function(a){m.push(a)});var l=c._items,u=a.items,t=k.acquire();y.forEach(function(a){u.indexOf(a)!==l.indexOf(a)&&t.push(a)});if(a.listeners&&(h.length||m.length||t.length))for(b={target:c,added:h,removed:m,moved:t},e=a.listeners.length,f=0;f<e;f++)d=a.listeners[f],d.removed||d.callback.call(c,b);k.release(h);k.release(m);k.release(t)},c=this,e=0;e<a.length;e++)b(a[e]);
w.clear();x.clear();y.clear()}};var g;f.isCollection=m;h([b.property()],f.prototype,"length",void 0);h([b.property()],f.prototype,"items",null);return f=g=h([b.subclass("esri.core.Collection")],f)}(b.declared(l,g));return C})},"esri/core/Evented":function(){define(["require","exports","./tsSupport/extendsHelper","@dojo/framework/shim/Map"],function(q,a,p,h){var l=function(){function a(a){this.target=a}a.prototype.emit=function(a,d){var f=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;
d=d||{};d.target||(d.target=this.target);a.slice().forEach(function(a){a.call(f.target,d)});return 0<a.length};a.prototype.on=function(a,d){var f=this;if(Array.isArray(a)){var c=a.map(function(a){return f.on(a,d)});return{remove:function(){return c.forEach(function(a){return a.remove()})}}}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new h.default);var b=this._listenersMap.get(a)||[];
b.push(d);this._listenersMap.set(a,b);return{remove:function(){var b=f._listenersMap.get(a)||[];b.splice(b.indexOf(d),1)}}};a.prototype.once=function(a,d){var f=this,c;return c=this.on(a,function(a){c.remove();d.call(f.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();q=function(){function a(){this._emitter=new l(this)}a.prototype.emit=function(a,d){return this._emitter.emit(a,d)};a.prototype.on=function(a,
d){return this._emitter.on(a,d)};a.prototype.once=function(a,d){return this._emitter.once(a,d)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){a.EventedMixin=function(a){return function(a){function d(){return null!==a&&a.apply(this,arguments)||this}p(d,a);d.prototype.emit=function(a,b){return this._emitter.emit(a,b)};d.prototype.on=function(a,b){return this._emitter.on(a,b)};d.prototype.once=function(a,b){return this._emitter.once(a,b)};
d.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return d}(a)}})(q||(q={}));return q})},"@dojo/framework/shim/Map":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),q)})(function(q,a){Object.defineProperty(a,"__esModule",{value:!0});var p=q("tslib"),
h=q("./iterator"),l=q("./global"),k=q("./object"),g=q("../has/has");q("./Symbol");a.Map=l.default.Map;g.default("es6-map")||(a.Map=(d=function(){function a(a){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(a)if(h.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(var b=p.__values(a),d=b.next();!d.done;d=b.next())c=d.value,this.set(c[0],c[1])}catch(t){f={error:t}}finally{try{d&&!d.done&&(g=b.return)&&g.call(b)}finally{if(f)throw f.error;}}var f,
g}a.prototype._indexOfKey=function(a,b){for(var c=0,d=a.length;c<d;c++)if(k.is(a[c],b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,b=this._keys.map(function(b,c){return[b,
a._values[c]]});return new h.ShimIterator(b)};a.prototype.forEach=function(a,b){for(var c=this._keys,d=this._values,f=0,g=c.length;f<g;f++)a.call(b,d[f],c[f],this)};a.prototype.get=function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new h.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,a),c=0>c?this._keys.length:c;this._keys[c]=
a;this._values[c]=b;return this};a.prototype.values=function(){return new h.ShimIterator(this._values)};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),d[Symbol.species]=d,d));a.default=a.Map;var d})},"@dojo/framework/shim/object":function(){(function(q){"object"===typeof module&&"object"===typeof module.exports?(q=q(require,exports),void 0!==q&&(module.exports=q)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],q)})(function(q,
a){Object.defineProperty(a,"__esModule",{value:!0});var p=q("./global"),h=q("../has/has"),l=q("./Symbol");h.default("es6-object")?(q=p.default.Object,a.assign=q.assign,a.getOwnPropertyDescriptor=q.getOwnPropertyDescriptor,a.getOwnPropertyNames=q.getOwnPropertyNames,a.getOwnPropertySymbols=q.getOwnPropertySymbols,a.is=q.is,a.keys=q.keys):(a.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},a.assign=function(k){for(var g=[],d=1;d<arguments.length;d++)g[d-1]=arguments[d];
if(null==k)throw new TypeError("Cannot convert undefined or null to object");var f=Object(k);g.forEach(function(c){c&&a.keys(c).forEach(function(a){f[a]=c[a]})});return f},a.getOwnPropertyDescriptor=function(a,g){l.isSymbol(g);return Object.getOwnPropertyDescriptor(a,g)},a.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},a.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},
a.is=function(a,g){return a===g?0!==a||1/a===1/g:a!==a&&g!==g});h.default("es2017-object")?(q=p.default.Object,a.getOwnPropertyDescriptors=q.getOwnPropertyDescriptors,a.entries=q.entries,a.values=q.values):(a.getOwnPropertyDescriptors=function(k){return a.getOwnPropertyNames(k).reduce(function(g,d){g[d]=a.getOwnPropertyDescriptor(k,d);return g},{})},a.entries=function(k){return a.keys(k).map(function(a){return[a,k[a]]})},a.values=function(k){return a.keys(k).map(function(a){return k[a]})})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../../core/Error ../../core/object ../../core/promiseUtils ./domains".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){function e(a,b,c){if(a)for(var e=0;e<a.length;e++){var d=a[e],g=f.getDeepValue(d,b);(g=g&&"function"!==typeof g&&t(c,g))&&f.setDeepValue(d,g.name,b)}}function m(a,b){if(!a||!b)return[];I.clear();n(I,a,b);return k.from(I).sort()}function n(a,b,c){if(c)if(b&&b.length)if(k.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var e=0;e<c.length;e++)d=c[e],u(a,b,d);else if(k.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var d=c[b];a.add(d)}}
function u(a,b,c){b&&b.length?(b=t(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function t(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.name.toLowerCase()===b)return e}}return null}function v(a,b,e){return l(this,void 0,void 0,function(){var d,f,g,k,n;return h(this,function(h){switch(h.label){case 0:return e?[4,c.create(function(a){q(["../../support/arcadeUtils"],function(b){a(b)})})]:[2];case 1:d=h.sent();f=d.extractFieldNames(e);
g=0;for(k=f;g<k.length;g++)n=k[g],u(a,b,n);return[2]}})})}function r(a,b){return l(this,void 0,void 0,function(){var c,e;return h(this,function(d){if(!b)return[2];c=b.fields;return(e=f.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,e.collectRequiredFields(a,c)]:[2]})})}function w(a,b){return l(this,void 0,void 0,function(){var e,d;return h(this,function(f){switch(f.label){case 0:return e=b.labelingInfo,d=b.fields,e&&e.length?[4,c.all(e.map(function(b){return x(a,d,b)}))]:[2];case 1:return f.sent(),
[2]}})})}function x(a,b,c){return l(this,void 0,void 0,function(){var e,d,f,g,k;return h(this,function(n){switch(n.label){case 0:if(!c)return[2];e=c.getLabelExpression();d=c.where;return"arcade"!==e.type?[3,2]:[4,v(a,b,e.expression)];case 1:return n.sent(),[3,3];case 2:(f=e.expression.match(/{[^}]*}/g))&&f.forEach(function(c){u(a,b,c.slice(1,-1))}),n.label=3;case 3:return g=/['"]+/g,d&&(k=d.split(" "),3===k.length&&u(a,b,k[0].replace(g,"")),7===k.length&&(u(a,b,k[0].replace(g,"")),u(a,b,k[4].replace(g,
"")))),[2]}})})}function y(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function z(a){return null===a||y(a)}function E(a){return null===a||J(a)}function C(a){return null!=a&&"string"===typeof a}function A(a){return null===a||C(a)}function D(a){return!0}function F(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?E:J;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?z:y;break;case "string":case "esriFieldTypeString":c=a.nullable?A:C;break;default:c=D}return 1===arguments.length?c:c(b)}function H(a){return null!=a&&Q.has(a.type)}function B(a,c){return a.nullable&&null===c?null:H(a)&&!G(a.type,c)?N.OUT_OF_RANGE:F(a,c)?a.domain?b.validateDomainValue(a.domain,c):null:O.INVALID_TYPE}function G(a,b){return(a="string"===typeof a?K(a):a)?a.isInteger?J(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function K(b){switch(b){case "esriFieldTypeSmallInteger":case "small-integer":return a.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return a.integerRange;case "esriFieldTypeSingle":case "single":return a.singleRange;case "esriFieldTypeDouble":case "double":return a.doubleRange}}Object.defineProperty(a,"__esModule",{value:!0});a.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");a.visualVariableFields=["field","normalizationField"];a.fixRendererFields=
function(b,c){if(null!=b&&null!=c){var d=0;for(b=Array.isArray(b)?b:[b];d<b.length;d++){var f=b[d];e(a.rendererFields,f,c);if("visualVariables"in f&&f.visualVariables)for(var g=0,f=f.visualVariables;g<f.length;g++)e(a.visualVariableFields,f[g],c)}}};a.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=t(b,a.startField);b=t(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=t(b,a.startTimeField),b=t(b,a.endTimeField),a.startTimeField=c&&c.name||
null,a.endTimeField=b&&b.name||null};var I=new g.default;a.fixFields=m;a.collectFields=n;a.collectField=u;a.unpackFieldNames=function(a,b){return b&&a?k.includes(b,"*")?a.map(function(a){return a.name}):b:[]};a.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(k.includes(b,"*"))return["*"];b=m(a,b);return b.length/a.length>=c?["*"]:b};a.getField=t;a.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var c=0;c<a.length;c++){var e=a[c];if(e&&e.name.toLowerCase()===
b)return!0}return!1};a.collectArcadeFieldNames=v;a.getElevationFields=function(a){return l(this,void 0,void 0,function(){var b;return h(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new g.default;return[4,r(b,a)];case 1:return c.sent(),[2,k.from(b).sort()]}})})};a.collectElevationFields=r;a.collectFilterFields=function(a,b,e){return l(this,void 0,void 0,function(){var f,g;return h(this,function(k){switch(k.label){case 0:if(!b||!e||!(e.where&&"1\x3d1"!==e.where||e.timeExtent))return[2];
b.timeInfo&&e.timeExtent&&n(a,b.fields,[b.timeInfo.startField,b.timeInfo.endField]);return e.where?[4,c.create(function(a){q(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:f=k.sent();g=f.create(e.where);if(!g.isStandardized())return[2,c.reject(new d("fieldUtils:collectFilterFields","Where clause is not standardized"))];n(a,b.fields,g.getFields());k.label=2;case 2:return[2]}})})};a.getTimeFields=function(a){return l(this,void 0,void 0,function(){var b;return h(this,function(c){return a?(b="timeInfo"in
a&&a.timeInfo)?[2,m(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};a.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?m(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};a.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?m(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};a.getLabelingFields=function(a){return l(this,
void 0,void 0,function(){var b;return h(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new g.default;return[4,w(b,a)];case 1:return c.sent(),[2,k.from(b).sort()]}})})};a.collectLabelingFields=w;a.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&F(a,b))return b;if(a.nullable)return null};var J=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();a.isValueMatchingFieldType=F;a.numericTypes=
["integer","small-integer","single","double"];var Q=new g.default(a.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));a.isNumericField=H;a.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};a.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};a.isValidFieldValue=function(a,b){return null===B(a,b)};var N;(N=a.NumericRangeValidationError||(a.NumericRangeValidationError=
{})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var O;(O=a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";a.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};a.validateFieldValue=B;a.isNumberInRange=G;a.getFieldRange=function(a){var c=b.getDomainRange(a.domain);if(c)return c;if(H(a))return K(a.type)};a.getNumericTypeForValue=function(b){if(!y(b))return null;if(J(b)){if(b>=a.smallIntegerRange.min&&
b<=a.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(b>=a.integerRange.min&&b<=a.integerRange.max)return"esriFieldTypeInteger"}return b>=a.singleRange.min&&b<=a.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.smallIntegerRange={min:-32768,max:32767,isInteger:!0};a.integerRange={min:-2147483648,max:2147483647,isInteger:!0};a.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};a.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};a.validationErrorToString=function(a,
c,e){switch(a){case b.DomainValidationError.INVALID_CODED_VALUE:return"Value "+e+" is not in the coded domain - field: "+c.name+", domain: "+JSON.stringify(c.domain);case b.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+e+" is out of the range of valid values - field: "+c.name+", domain: "+JSON.stringify(c.domain);case O.INVALID_TYPE:return"Value "+e+" is not a valid value for the field type - field: "+c.name+", type: "+c.type+", nullable: "+c.nullable;case N.OUT_OF_RANGE:return a=K(c.type),
"Value "+e+" is out of range for the number type - field: "+c.name+", type: "+c.type+", value range is "+a.min+" to "+a.max}};a.featureHasFields=function(a,b){if(!b||!b.attributes||!a)return!1;b=b.attributes;for(var c=0;c<a.length;c++)if(!(a[c]in b))return!1;return!0}})},"esri/layers/support/domains":function(){define("require exports ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(q,a,p,h,l,k){function g(a,c){switch(a.type){case "range":var b="range"in a?a.range[1]:
a.maxValue;if(+c<("range"in a?a.range[0]:a.minValue)||+c>b)return d.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==c}))return d.INVALID_CODED_VALUE}return null}Object.defineProperty(a,"__esModule",{value:!0});a.CodedValueDomain=p;a.DomainBase=h;a.InheritedDomain=l;a.RangeDomain=k;var d;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(d=
a.DomainValidationError||(a.DomainValidationError={}));a.isValidDomainValue=function(a,c){return null===g(a,c)};a.validateDomainValue=g;a.types={key:"type",base:a.DomainBase,typeMap:{range:a.RangeDomain,"coded-value":a.CodedValueDomain}};a.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};a.fromJSON=function(d){return d&&d.type?"range"===d.type?a.RangeDomain.fromJSON(d):"codedValue"===d.type?a.CodedValueDomain.fromJSON(d):
null:null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./Domain".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}p(d,a);c=d;d.prototype.writeCodedValues=function(a,c){var b=null;a&&(b=a.map(function(a){return l.fixJson(l.clone(a))}));c.codedValues=
b};d.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};d.prototype.clone=function(){return new c({codedValues:l.clone(this.codedValues),name:this.name})};var c;h([k.property({json:{write:!0}})],d.prototype,"codedValues",void 0);h([k.writer("codedValues")],d.prototype,"writeCodedValues",null);h([k.enumeration.serializable()({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=
c=h([k.subclass("esri.layers.support.CodedValueDomain")],d)}(k.declared(g))})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k,g){var d=new k.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function c(b){b=a.call(this,b)||this;b.name=null;b.type=
null;return b}p(c,a);h([g.property({json:{write:!0}})],c.prototype,"name",void 0);h([g.property({json:{read:d.read,write:d.write}})],c.prototype,"type",void 0);return c=h([g.subclass("esri.layers.support.Domain")],c)}(g.declared(l))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=
a.call(this,c)||this;c.type="inherited";return c}p(d,a);f=d;d.prototype.clone=function(){return new f};var f;h([l.enumeration.serializable()({inherited:"inherited"})],d.prototype,"type",void 0);return d=f=h([l.subclass("esri.layers.support.InheritedDomain")],d)}(l.declared(k))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(q,a,p,
h,l,k){return function(a){function d(c){c=a.call(this,c)||this;c.maxValue=null;c.minValue=null;c.type="range";return c}p(d,a);f=d;d.prototype.clone=function(){return new f({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var f;h([l.property({json:{read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{target:"range",writer:function(a,b,e){b[e]=[this.minValue,a]}}}})],d.prototype,"maxValue",void 0);h([l.property({json:{read:{source:"range",reader:function(a,b){return b.range&&
b.range[0]}},write:{target:"range",writer:function(a,b,e){b[e]=[a,this.maxValue]}}}})],d.prototype,"minValue",void 0);h([l.enumeration.serializable()({range:"range"})],d.prototype,"type",void 0);return d=f=h([l.subclass("esri.layers.support.RangeDomain")],d)}(l.declared(k))})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(q,a,p,h,l,k,g){Object.defineProperty(a,
"__esModule",{value:!0});a.AttachmentsContent=p;a.BaseContent=h;a.FieldsContent=l;a.MediaContent=k;a.TextContent=g;a.isContent=function(d){return d instanceof a.BaseContent};a.types={base:null,key:"type",typeMap:{attachment:a.AttachmentsContent,fields:a.FieldsContent,media:a.MediaContent,text:a.TextContent}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),
function(q,a,p,h,l,k,g,d){return function(a){function c(b){b=a.call(this)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}p(c,a);b=c;c.prototype.clone=function(){return new b({displayType:this.displayType,attachmentInfos:this.attachmentInfos?l.clone(this.attachmentInfos):null})};var b;h([k.property({type:[g]})],c.prototype,"attachmentInfos",void 0);h([k.property({type:String,json:{write:!0}})],c.prototype,"displayType",void 0);h([k.property({type:String,readOnly:!0,json:{read:!1,
write:!0}})],c.prototype,"type",void 0);return c=b=h([k.subclass("esri.popup.content.AttachmentsContent")],c)}(k.declared(d))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.contentType=null;b.exifInfo=null;
b.id=null;b.keywords=null;b.name=null;b.parentObjectId=null;b.size=null;b.url=null;return b}p(d,a);c=d;d.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,keywords:this.keywords,name:this.name,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var c;h([k.property({type:String})],d.prototype,"contentType",void 0);h([k.property()],d.prototype,"exifInfo",void 0);h([k.property({type:g.Integer})],d.prototype,"id",void 0);h([k.property({type:String})],
d.prototype,"keywords",void 0);h([k.property({type:String})],d.prototype,"name",void 0);h([k.property({json:{read:!1}})],d.prototype,"parentObjectId",void 0);h([k.property({type:g.Integer})],d.prototype,"size",void 0);h([k.property({json:{read:!1}})],d.prototype,"url",void 0);return d=c=h([k.subclass("esri.layers.support.AttachmentInfo")],d)}(k.declared(l))})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k){return function(a){function d(d){d=a.call(this)||this;d.type=null;return d}p(d,a);h([k.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=h([k.subclass("esri.popup.content.Content")],d)}(k.declared(l))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(q,a,p,h,l,k,g,d){return function(a){function c(b){b=a.call(this)||this;b.fieldInfos=null;b.type="fields";return b}p(c,a);b=c;c.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};c.prototype.clone=function(){return new b({fieldInfos:Array.isArray(this.fieldInfos)?l.clone(this.fieldInfos):null})};var b;h([k.property({type:[g]})],c.prototype,"fieldInfos",void 0);h([k.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);h([k.property({type:String,
readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b=h([k.subclass("esri.popup.content.FieldsContent")],c)}(k.declared(d))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(q,a,p,h,l,k,g,d,f){var c=new k.default({richtext:"rich-text",textarea:"text-area",
textbox:"text-box"});return function(a){function b(b){b=a.call(this)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}p(b,a);k=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=c.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return c.fromJSON(a)};b.prototype.clone=function(){return new k({fieldName:this.fieldName,format:this.format?g.clone(this.format):null,
isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var k;h([d.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);h([d.property({type:f,json:{write:!0}})],b.prototype,"format",void 0);h([d.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);h([d.property({type:c.apiValues,
json:{write:!0,default:"text-box",type:c.jsonValues}})],b.prototype,"stringFieldOption",void 0);h([d.writer("stringFieldOption")],b.prototype,"writeStringFieldOption",null);h([d.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);h([d.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);h([d.property({type:Boolean,json:{write:!0}})],b.prototype,
"visible",void 0);return b=k=h([d.subclass("esri.popup.FieldInfo")],b)}(d.declared(l))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(q,a,p,h,l,k,g,d){return function(a){function c(b){b=a.call(this)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}
p(c,a);b=c;c.prototype.clone=function(){return new b({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};var b;h([g.enumeration.serializable()(l.dictionary)],c.prototype,"dateFormat",void 0);h([g.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",void 0);h([g.property({type:d.Integer,json:{write:!0}})],c.prototype,"places",void 0);return c=b=h([g.subclass("esri.popup.support.FieldInfoFormat")],c)}(g.declared(k))})},"esri/core/date":function(){define(["require",
"exports","./kebabDictionary"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",
"short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')",
"long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')",
"day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",
"long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",
year:"(datePattern: 'y', selector: 'date')"};a.dictionary=p.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);a.getFormat=function(h){return a.formats[h]}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m){return function(a){function f(b){b=a.call(this)||this;b.mediaInfos=null;b.type="media";return b}p(f,a);n=f;f.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return c.fromJSON(a);if("barchart"===a.type)return g.fromJSON(a);if("columnchart"===a.type)return d.fromJSON(a);if("linechart"===a.type)return b.fromJSON(a);if("piechart"===a.type)return e.fromJSON(a)}).filter(Boolean)};f.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};f.prototype.clone=function(){return new n({mediaInfos:this.mediaInfos?l.clone(this.mediaInfos):null})};var n;h([k.property({types:[m.types]})],f.prototype,"mediaInfos",void 0);h([k.reader("mediaInfos")],f.prototype,"readMediaInfos",null);h([k.writer("mediaInfos")],f.prototype,"writeMediaInfos",null);h([k.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=n=h([k.subclass("esri.popup.content.MediaContent")],f)}(k.declared(f))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.type="bar-chart";return b}p(d,a);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;
h([l.property({type:["bar-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=h([l.subclass("esri.popup.content.BarChartMediaInfo")],d)}(l.declared(k))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(c){c=
a.call(this)||this;c.type=null;c.value=null;return c}p(d,a);h([l.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);h([l.property({type:g,json:{write:!0}})],d.prototype,"value",void 0);return d=h([l.subclass("esri.popup.content.mixins.ChartMediaInfo")],d)}(l.declared(k))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k){return function(a){function d(d){d=a.call(this)||this;d.caption="";d.title="";d.type=null;return d}p(d,a);h([k.property({type:String,json:{write:!0}})],d.prototype,"caption",void 0);h([k.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);h([k.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=h([k.subclass("esri.popup.content.mixins.MediaInfo")],d)}(k.declared(l))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(q,a,p,h,l,k,g,d){return function(a){function c(b){b=a.call(this)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}p(c,a);b=c;c.prototype.clone=function(){return new b({fields:k.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var b;h([g.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);h([g.property({type:String,json:{write:!0}})],c.prototype,"normalizeField",void 0);h([g.property({type:[d],json:{read:!1}})],c.prototype,"series",void 0);h([g.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=b=h([g.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)}(g.declared(l))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.tooltip=null;c.x=null;c.y=null;return c}p(d,a);f=d;d.prototype.clone=function(){return new f({tooltip:this.tooltip,x:this.x,y:this.y})};var f;h([k.property()],d.prototype,"tooltip",void 0);h([k.property()],d.prototype,"x",void 0);h([k.property()],d.prototype,"y",void 0);return d=f=h([k.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],d)}(k.declared(l))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/kebabDictionary"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.chartTypeKebabDict=p.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(q,
a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.type="column-chart";return b}p(d,a);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;h([l.property({type:["column-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=h([l.subclass("esri.popup.content.ColumnChartMediaInfo")],d)}(l.declared(k))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}p(d,a);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;h([l.property({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0);h([l.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);h([l.property({type:g,
json:{write:!0}})],d.prototype,"value",void 0);return d=c=h([l.subclass("esri.popup.content.ImageMediaInfo")],d)}(l.declared(k))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.linkURL=null;c.sourceURL=null;return c}p(d,a);
f=d;d.prototype.clone=function(){return new f({linkURL:this.linkURL,sourceURL:this.sourceURL})};var f;h([k.property({type:String,json:{write:!0}})],d.prototype,"linkURL",void 0);h([k.property({type:String,json:{write:!0}})],d.prototype,"sourceURL",void 0);return d=f=h([k.subclass("esri.popup.content.support.ImageMediaInfoValue")],d)}(k.declared(l))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.type="line-chart";return b}p(d,a);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;h([l.property({type:["line-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=h([l.subclass("esri.popup.content.LineChartMediaInfo")],d)}(l.declared(k))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.type="pie-chart";return b}p(d,a);c=d;d.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;h([l.property({type:["pie-chart"],readOnly:!0,json:{read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=c=h([l.subclass("esri.popup.content.PieChartMediaInfo")],d)}(l.declared(k))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(q,a,p,h,l,k,g,d){Object.defineProperty(a,"__esModule",{value:!0});a.types={base:d,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":p,"column-chart":h,"line-chart":k,"pie-chart":g,image:l}};a.default=a.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||
this;c.text=null;c.type="text";return c}p(d,a);f=d;d.prototype.clone=function(){return new f({text:this.text})};var f;h([l.property({type:String,json:{write:!0}})],d.prototype,"text",void 0);h([l.property({type:String,readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=f=h([l.subclass("esri.popup.content.TextContent")],d)}(l.declared(k))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.name=null;c.title=null;c.expression=null;c.returnType=null;return c}p(d,a);f=d;d.prototype.clone=function(){return new f({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var f;h([k.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);h([k.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);h([k.property({type:String,json:{write:!0}})],d.prototype,"expression",
void 0);h([k.property({type:["string","number"],json:{write:!0}})],d.prototype,"returnType",void 0);return d=f=h([k.subclass("esri.popup.ExpressionInfo")],d)}(k.declared(l))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.showNoDataRecords=null;return c}p(d,a);f=d;d.prototype.clone=
function(){return new f({showNoDataRecords:this.showNoDataRecords})};var f;h([k.property({type:Boolean,json:{write:!0}})],d.prototype,"showNoDataRecords",void 0);return d=f=h([k.subclass("esri.popup.LayerOptions")],d)}(k.declared(l))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),function(q,
a,p,h,l,k,g,d){return function(a){function c(b){b=a.call(this)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}p(c,a);b=c;c.prototype.clone=function(){return new b({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?k.clone(this.orderByFields):null})};var b;h([g.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);h([g.property({type:[d],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=b=h([g.subclass("esri.popup.RelatedRecordsInfo")],
c)}(g.declared(l))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.field=null;c.order=null;return c}p(d,a);f=d;d.prototype.clone=function(){return new f({field:this.field,order:this.order})};var f;h([k.property({type:String,json:{write:!0}})],
d.prototype,"field",void 0);h([k.property({type:["asc","desc"],json:{write:!0}})],d.prototype,"order",void 0);return d=f=h([k.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],d)}(k.declared(l))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(b){b=
a.call(this)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}p(d,a);c=d;d.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;h([g.property()],d.prototype,"active",void 0);h([g.property()],d.prototype,"className",void 0);h([g.property()],d.prototype,"disabled",void 0);h([g.property()],d.prototype,
"id",void 0);h([g.property()],d.prototype,"indicator",void 0);h([g.property()],d.prototype,"title",void 0);h([g.property()],d.prototype,"type",void 0);h([g.property()],d.prototype,"visible",void 0);return d=c=h([g.subclass("esri.support.actions.ActionBase")],d)}(g.declared(l,k.Identifiable))})},"esri/core/Identifiable":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});var p=0;q=function(){return function(){Object.defineProperty(this,"uid",{writable:!1,
configurable:!1,value:Date.now().toString(16)+"-object-"+p++})}}();a.Identifiable=q})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.image=null;c.type="button";return c}p(d,a);f=d;d.prototype.clone=function(){return new f({active:this.active,className:this.className,
disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var f;h([l.property()],d.prototype,"image",void 0);return d=f=h([l.subclass("esri.support.Action.ActionButton")],d)}(l.declared(k))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(q,a,p,h,l,k){return function(a){function d(c){c=
a.call(this)||this;c.image=null;c.type="toggle";c.value=!1;return c}p(d,a);f=d;d.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var f;h([l.property()],d.prototype,"image",void 0);h([l.property()],d.prototype,"value",void 0);return d=f=h([l.subclass("esri.support.Action.ActionToggle")],d)}(l.declared(k))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r,w,x,y,z,E,C,A,D,F,H,B,G,K,I,J){Object.defineProperty(a,"__esModule",{value:!0});a.CIMSymbol=h;a.ExtrudeSymbol3DLayer=l;a.BaseFillSymbol=k;a.FillSymbol3DLayer=g;a.Font=d;a.IconSymbol3DLayer=f;a.LabelSymbol3D=c;a.LineSymbol3D=b;a.LineSymbol3DLayer=e;a.BaseMarkerSymbol=m;a.MeshSymbol3D=n;a.ObjectSymbol3DLayer=u;a.PathSymbol3DLayer=t;a.PictureFillSymbol=v;a.PictureMarkerSymbol=r;a.PointSymbol3D=w;a.PolygonSymbol3D=x;a.SimpleFillSymbol=y;a.SimpleLineSymbol=
z;a.SimpleMarkerSymbol=E;a.BaseSymbol=C;a.BaseSymbol3D=A;a.BaseSymbol3DLayer=D;a.TextSymbol=F;a.TextSymbol3DLayer=H;a.WebStyleSymbol=B;a.LineCallout3D=G;a.LineCallout3DBorder=K;a.Symbol3DVerticalOffset=I.Symbol3DVerticalOffset;a.fromJSON=J.fromJSON;a.isSymbol=function(b){return b instanceof a.BaseSymbol};a.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};
a.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.symbolTypes={base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.SimpleFillSymbol,"picture-fill":a.PictureFillSymbol,"picture-marker":a.PictureMarkerSymbol,"simple-line":a.SimpleLineSymbol,"simple-marker":a.SimpleMarkerSymbol,text:a.TextSymbol,"label-3d":a.LabelSymbol3D,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,
"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol,cim:a.CIMSymbol}};a.symbolTypesRenderer={base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.SimpleFillSymbol,"picture-fill":a.PictureFillSymbol,"picture-marker":a.PictureMarkerSymbol,"simple-line":a.SimpleLineSymbol,"simple-marker":a.SimpleMarkerSymbol,text:a.TextSymbol,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol,cim:a.CIMSymbol}};a.symbolTypesLabel=
{base:a.BaseSymbol,key:"type",typeMap:{text:a.TextSymbol,"label-3d":a.LabelSymbol3D}};a.symbolTypes3D={base:a.BaseSymbol,key:"type",typeMap:{"label-3d":a.LabelSymbol3D,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol}};a.symbolTypesRenderer3D={base:a.BaseSymbol,key:"type",typeMap:{"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol}};
a.symbolTypesLabel3D={base:a.BaseSymbol,key:"type",typeMap:{"label-3d":a.LabelSymbol3D}};a.ensureType=p.ensureOneOfType(a.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../portal/Portal ./Symbol".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this,b)||this;b.data=null;b.portal=null;b.styleName="";b.styleUrl="";b.type="cim";return b}p(d,
a);c=d;d.prototype.readData=function(a,c){return c.data?c.data:c};d.prototype.clone=function(){return new c({color:this.color,data:this.data,portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};var c;h([l.property({json:{write:!1}})],d.prototype,"color",void 0);h([l.property({json:{write:!0}})],d.prototype,"data",void 0);h([l.reader("data",["data","symbol"])],d.prototype,"readData",null);h([l.property({type:k,json:{write:!1}})],d.prototype,"portal",void 0);h([l.property({type:String,
json:{write:!0}})],d.prototype,"styleName",void 0);h([l.property({type:String,json:{write:!0}})],d.prototype,"styleUrl",void 0);h([l.property({type:String,readOnly:!0})],d.prototype,"type",void 0);return d=c=h([l.subclass("esri.symbols.CIMSymbol")],d)}(l.declared(g))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r,w,x){var y,z={Bookmark:function(){return u.create(function(a){return q(["./Bookmark"],a)})},Portal:function(){return u.create(function(a){return q(["./Portal"],a)})},PortalFolder:function(){return u.create(function(a){return q(["./PortalFolder"],a)})},PortalGroup:function(){return u.create(function(a){return q(["./PortalGroup"],a)})},PortalItem:function(){return u.create(function(a){return q(["./PortalItem"],a)})},PortalQueryParams:function(){return u.create(function(a){return q(["./PortalQueryParams"],
a)})},PortalQueryResult:function(){return u.create(function(a){return q(["./PortalQueryResult"],a)})},PortalRating:function(){return u.create(function(a){return q(["./PortalRating"],a)})},PortalUser:function(){return u.create(function(a){return q(["./PortalUser"],a)})}};return function(a){function e(b){b=a.call(this)||this;b.access=null;b.allSSL=!1;b.authMode="auto";b.authorizedCrossOriginDomains=null;b.basemapGalleryGroupQuery=null;b.bingKey=null;b.canListApps=!1;b.canListData=!1;b.canListPreProvisionedItems=
!1;b.canProvisionDirectPurchase=!1;b.canSearchPublic=!0;b.canShareBingPublic=!1;b.canSharePublic=!1;b.canSignInArcGIS=!1;b.canSignInIDP=!1;b.colorSetsGroupQuery=null;b.commentsEnabled=!1;b.created=null;b.culture=null;b.customBaseUrl=null;b.defaultBasemap=null;b.defaultExtent=null;b.defaultVectorBasemap=null;b.description=null;b.eueiEnabled=!1;b.featuredGroups=null;b.featuredItemsGroupQuery=null;b.galleryTemplatesGroupQuery=null;b.livingAtlasGroupQuery=null;b.hasCategorySchema=!1;b.helperServices=
null;b.homePageFeaturedContent=null;b.homePageFeaturedContentCount=null;b.httpPort=null;b.httpsPort=null;b.id=null;b.ipCntryCode=null;b.isPortal=!1;b.layerTemplatesGroupQuery=null;b.maxTokenExpirationMinutes=null;b.modified=null;b.name=null;b.portalHostname=null;b.portalMode=null;b.portalProperties=null;b.region=null;b.rotatorPanels=null;b.showHomePageDescription=!1;b.supportsHostedServices=!1;b.symbolSetsGroupQuery=null;b.templatesGroupQuery=null;b.units=null;b.url=d.portalUrl;b.urlKey=null;b.user=
null;b.useStandardizedQuery=!1;b.useVectorBasemaps=!1;b.vectorBasemapGalleryGroupQuery=null;return b}h(e,a);n=e;e.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};e.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};e.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];-1===d.request.trustedServers.indexOf(c)&&d.request.trustedServers.push(c)}return a};
e.prototype.readDefaultBasemap=function(a){return a?(a=y.fromJSON(a),a.portalItem={portal:this},a):null};e.prototype.readDefaultVectorBasemap=function(a){return a?(a=y.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(e.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"isOrganization",{get:function(){return!!this.access},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});e.prototype.readUrlKey=function(a){return a?a.toLowerCase():
a};e.prototype.readUser=function(a){var b=null;a&&(b=x.fromJSON(a),b.portal=this);return b};e.prototype.load=function(){var a=this,b=u.create(function(a){return q(["../Basemap"],a)}).then(function(a){y=a}).then(function(){return a._fetchSelf()}).then(function(b){if(f.id){var c=f.id;a.credential=c.findCredential(a.restUrl);a.credential||a.authMode!==n.AUTH_MODE_AUTO||(a._esriId_credentialCreateHandle=c.on("credential-create",function(){c.findCredential(a.restUrl)&&a._signIn()}))}a.read(b)});this.addResolvingPromise(b);
return this.when()};e.prototype.fetchBasemaps=function(a){var b=new r;b.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);b.disableExtraQuery=!0;return this.queryGroups(b).then(function(a){b.num=100;b.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],b.sortField=a.sortField||"name",b.sortOrder=a.sortOrder||"desc",a.queryItems(b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new y({portalItem:a})}):
[]})};e.prototype.fetchCategorySchema=function(){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema").then(function(a){return a.categorySchema}):u.resolve([])};e.prototype.fetchFeaturedGroups=function(){var a=this.featuredGroups,b=new r;b.num=100;b.sortField="title";if(a&&a.length){for(var c=[],e=0;e<a.length;e++){var d=a[e];c.push('(title:"'+d.title+'" AND owner:'+d.owner+")")}b.query=c.join(" OR ");return this.queryGroups(b).then(function(a){return a.results})}return u.resolve([])};
e.prototype.fetchRegions=function(){return this._request(this.restUrl+"/portals/regions",{query:{culture:this.user&&this.user.culture||this.culture||g.locale}})};e.getDefault=function(){n._default||(n._default=new n);return n._default};e.prototype.queryGroups=function(a){return this._queryPortal("/community/groups",a,"PortalGroup")};e.prototype.queryItems=function(a){return this._queryPortal("/search",a,"PortalItem")};e.prototype.queryUsers=function(a){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",
a,"PortalUser")};e.prototype.toJSON=function(){throw new b("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};e.prototype._fetchSelf=function(a,b){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a={authMode:a,query:{culture:g.locale}};"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};e.prototype._queryPortal=function(a,b,c){var e=this,d=function(c){return e._request(e.restUrl+a,b.toRequestOptions(e)).then(function(a){var d=
b.clone();d.start=a.nextStart;return new w({nextQueryParams:d,queryParams:b,total:a.total,results:n._resultsToTypedArray(c,{portal:e},a)})}).then(function(a){return u.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(){return a})})};return c&&z[c]?z[c]().then(function(a){return d(a)}):d()};e.prototype._signIn=function(){var a=this;if(this.authMode===n.AUTH_MODE_ANONYMOUS)return u.reject(new b("portal:invalid-auth-mode",'Current "authMode"\' is "'+
this.authMode+'"'));if("failed"===this.loadStatus)return u.reject(this.loadError);var c=function(b){return u.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&a.read(b)})};
return f.id?f.id.getCredential(this.restUrl).then(function(a){return c(a)}):c(this.credential)};e.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};e.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};e.prototype._requestToTypedArray=function(a,b,c){var e=this,d=function(c){return e._request(a,b).then(function(a){var b=n._resultsToTypedArray(c,
{portal:e},a);return u.all(b.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return b},function(){return b})})};return c?u.create(function(a){return q(["./"+c],a)}).then(function(a){return d(a)}):d()};e.prototype._request=function(a,b){var e=this.authMode===n.AUTH_MODE_ANONYMOUS?"anonymous":"auto",d=null,f="auto",g={f:"json"},k="json";b&&(b.authMode&&(e=b.authMode),b.body&&(d=b.body),b.method&&(f=b.method),b.query&&(g=p({},g,b.query)),b.responseType&&(k=b.responseType));
b={authMode:e,body:d,method:f,query:g,responseType:k,timeout:0};return c(this._normalizeSSL(a),b).then(function(a){return a.data})};e._resultsToTypedArray=function(a,b,c){if(c){if(c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c,a||b)c=c.map(function(c){c=m.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load();return c})}else c=[];return c};var n;e.AUTH_MODE_ANONYMOUS="anonymous";e.AUTH_MODE_AUTO="auto";e.AUTH_MODE_IMMEDIATE=
"immediate";l([t.property()],e.prototype,"access",void 0);l([t.property()],e.prototype,"allSSL",void 0);l([t.property()],e.prototype,"authMode",void 0);l([t.property()],e.prototype,"authorizedCrossOriginDomains",void 0);l([t.reader("authorizedCrossOriginDomains")],e.prototype,"readAuthorizedCrossOriginDomains",null);l([t.property()],e.prototype,"basemapGalleryGroupQuery",void 0);l([t.property()],e.prototype,"bingKey",void 0);l([t.property()],e.prototype,"canListApps",void 0);l([t.property()],e.prototype,
"canListData",void 0);l([t.property()],e.prototype,"canListPreProvisionedItems",void 0);l([t.property()],e.prototype,"canProvisionDirectPurchase",void 0);l([t.property()],e.prototype,"canSearchPublic",void 0);l([t.property()],e.prototype,"canShareBingPublic",void 0);l([t.property()],e.prototype,"canSharePublic",void 0);l([t.property()],e.prototype,"canSignInArcGIS",void 0);l([t.property()],e.prototype,"canSignInIDP",void 0);l([t.property()],e.prototype,"colorSetsGroupQuery",void 0);l([t.property()],
e.prototype,"commentsEnabled",void 0);l([t.property({type:Date})],e.prototype,"created",void 0);l([t.property()],e.prototype,"credential",void 0);l([t.property()],e.prototype,"culture",void 0);l([t.property()],e.prototype,"currentVersion",void 0);l([t.property()],e.prototype,"customBaseUrl",void 0);l([t.property()],e.prototype,"defaultBasemap",void 0);l([t.reader("defaultBasemap")],e.prototype,"readDefaultBasemap",null);l([t.property({type:v})],e.prototype,"defaultExtent",void 0);l([t.property()],
e.prototype,"defaultVectorBasemap",void 0);l([t.reader("defaultVectorBasemap")],e.prototype,"readDefaultVectorBasemap",null);l([t.property()],e.prototype,"description",void 0);l([t.property()],e.prototype,"eueiEnabled",void 0);l([t.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],e.prototype,"extraQuery",null);l([t.property()],e.prototype,"featuredGroups",void 0);l([t.property()],e.prototype,"featuredItemsGroupQuery",void 0);l([t.property()],e.prototype,"galleryTemplatesGroupQuery",
void 0);l([t.property()],e.prototype,"livingAtlasGroupQuery",void 0);l([t.property()],e.prototype,"hasCategorySchema",void 0);l([t.property()],e.prototype,"helpBase",void 0);l([t.property()],e.prototype,"helperServices",void 0);l([t.property()],e.prototype,"helpMap",void 0);l([t.property()],e.prototype,"homePageFeaturedContent",void 0);l([t.property()],e.prototype,"homePageFeaturedContentCount",void 0);l([t.property()],e.prototype,"httpPort",void 0);l([t.property()],e.prototype,"httpsPort",void 0);
l([t.property()],e.prototype,"id",void 0);l([t.property()],e.prototype,"ipCntryCode",void 0);l([t.property({dependsOn:["access"],readOnly:!0})],e.prototype,"isOrganization",null);l([t.property()],e.prototype,"isPortal",void 0);l([t.property()],e.prototype,"layerTemplatesGroupQuery",void 0);l([t.property()],e.prototype,"maxTokenExpirationMinutes",void 0);l([t.property({type:Date})],e.prototype,"modified",void 0);l([t.property()],e.prototype,"name",void 0);l([t.property()],e.prototype,"portalHostname",
void 0);l([t.property()],e.prototype,"portalMode",void 0);l([t.property()],e.prototype,"portalProperties",void 0);l([t.property()],e.prototype,"region",void 0);l([t.property({dependsOn:["url"],readOnly:!0})],e.prototype,"restUrl",null);l([t.property()],e.prototype,"rotatorPanels",void 0);l([t.property()],e.prototype,"showHomePageDescription",void 0);l([t.property()],e.prototype,"staticImagesUrl",void 0);l([t.property()],e.prototype,"stylesGroupQuery",void 0);l([t.property()],e.prototype,"supportsHostedServices",
void 0);l([t.property()],e.prototype,"symbolSetsGroupQuery",void 0);l([t.property()],e.prototype,"templatesGroupQuery",void 0);l([t.property()],e.prototype,"thumbnail",void 0);l([t.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],e.prototype,"thumbnailUrl",null);l([t.property()],e.prototype,"units",void 0);l([t.property()],e.prototype,"url",void 0);l([t.property()],e.prototype,"urlKey",void 0);l([t.reader("urlKey")],e.prototype,"readUrlKey",null);l([t.property()],e.prototype,"user",void 0);
l([t.reader("user")],e.prototype,"readUser",null);l([t.property()],e.prototype,"useStandardizedQuery",void 0);l([t.property()],e.prototype,"useVectorBasemaps",void 0);l([t.property()],e.prototype,"vectorBasemapGalleryGroupQuery",void 0);l([k(1,t.cast(r))],e.prototype,"_queryPortal",null);return e=n=l([t.subclass("esri.portal.Portal")],e)}(t.declared(e,n))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(q,a){return function(p,h){a(p,h,q)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper dojo/Deferred dojo/has!host-webworker?./core/workers/request dojo/io-query ./core/urlUtils dojo/errors/CancelError dojo/request/xhr ./config ./core/deferredUtils ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v){function r(a,b){void 0===b&&(b=!1);v.isBlobProtocol(a.url)||v.isDataProtocol(a.url)||!a.content||(a.preventCache&&(a.content["request.preventCache"]=Date.now()),a.url=v.addQueryParameters(a.url,a.content));var c=new Image;c.crossOrigin=a.withCredentials?"use-credentials":"anonymous";var e=!1;return t.create(function(d,f){var g=function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);e||f(Error("Unable to load the resource"))};c.onload=
function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);e||d(this)};c.onerror=g;c.onabort=g;c.alt="";c.src=a.url},function(){e=!0;c.onload=c.onerror=c.onabort=null;c.src=""})}function w(a){a=new g.Url(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function x(){return I?I:I=t.create(function(a){q(["./identity/IdentityManager"],a)}).then(function(a){K=a})}function y(a,b){var c=!!a.useProxy,e=a.method||"auto";a=p({},a);a.content=a.content||{};a._ssl&&(a.url=a.url.replace(/^http:/i,
"https:"));var d=a.url,g=v.isBlobProtocol(d)||v.isDataProtocol(d);a._token&&(a.content.token=a._token);var h=0,m;g||(m=k.objectToQuery(a.content),h=m.length+d.length+1,n("esri-url-encodes-apostrophe")&&(h=m.replace(/'/g,"%27").length+d.length+1));a.timeout=null!=a.timeout?a.timeout:F.timeout;a.handleAs=a.handleAs||"json";try{var l=m=void 0,x=!g&&("post"===e||!!a.body||h>F.maxUrlLength),q=!g&&(c||!!v.getProxyRule(a.url)),w;if(w=!q&&"image"===a.handleAs&&F.proxyUrl&&!g){var y=v.getOrigin(a.url);w=!(!y||
u.endsWith(y,".arcgis.com")||v.hasSameOrigin(y,v.appUrl)||-1!==D._corsServers.indexOf(y)||v.isTrustedServer(y))}w&&(a.handleAs="blob");q&&(n("host-browser")||n("host-webworker"))&&(m=v.getProxyUrl(d),l=m.path,!x&&l.length+1+h>F.maxUrlLength&&(x=!0),m.query&&(a.content=p({},m.query,a.content)),x||(a.preventCache&&(a.content["request.preventCache"]=Date.now(),a.preventCache=!1),a.url=v.addQueryParameters(a.url,a.content),a.content=null),a.url=l+"?"+a.url);var z=a.headers;if(!g){!n("host-browser")&&
!n("host-webworker")||z&&z.hasOwnProperty("X-Requested-With")||(a.headers=z||{},a.headers["X-Requested-With"]=null);if(n("host-browser")&&b){var H=a.content&&a.content.token;H&&(b.set?b.set("token",H):b.append("token",H));a.contentType=!1}if(!a.hasOwnProperty("withCredentials"))if(c=q?l:d,v.isTrustedServer(c))a.withCredentials=!0;else if(K){var C=K.findServerInfo(c);C&&C.webTierAuth&&(a.withCredentials=!0)}}if(x)return"image"===a.handleAs&&(a.handleAs="blob"),a.body?(a.data=b||a.body,a.query=a.content):
a.data=a.content,delete a.body,delete a.content,!q&&n("safari")&&(a.url+=(-1===a.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+Date.now()+B++),f.post(a.url,a);var E;if(E="image"===a.handleAs){var A;a:{if(z)for(var G in z)if(z[G]){A=!0;break a}A=!1}E=!A}if(E)return r(a);"image"===a.handleAs&&(a.handleAs="blob");a.query=a.content;delete a.content;return f.get(a.url,a)}catch(ia){return t.reject(ia)}}function z(a,b,c,d){function f(a){a._pendingDfd=y(c,m);var b=!!a._pendingDfd.response;(a._pendingDfd.response||
a._pendingDfd).then(function(a){if(!b||!a.data)return a;F.proxyUrl&&!u.startsWith(a.url,F.proxyUrl)&&A(a.url);var c=a.getHeader("Content-Type");if(c&&(c=c.toLowerCase(),-1===c.indexOf("text/plain")&&-1===c.indexOf("application/json")))return a;c=a.data;if(c instanceof ArrayBuffer&&750>=c.byteLength)c=new Blob([c]);else if(!(c instanceof Blob&&750>=c.size))return a;var e=new h,d=new FileReader;d.readAsText(c);d.onloadend=function(){if(!d.error)try{var b=JSON.parse(d.result);b.error&&(Object.isExtensible(a)||
(a=p({},a)),a._jsonData=b)}catch(fa){}e.resolve(a)};return e.promise}).then(function(a){return b&&!a._jsonData&&"image"===d.requestOptions.responseType&&a.data instanceof Blob?(b=!1,c.url=URL.createObjectURL(a.data),r(c,!0)):a}).then(function(c){var e=b?c.data:c,f=b?c.getHeader.bind(c):G;if(e&&(c=b&&c._jsonData||e,c.error||"error"===c.status))throw e=u.mixin(Error(),c.error||c),e.getHeader=f,e;a.resolve({data:e,url:d.url,requestOptions:d.requestOptions,getHeader:f});a._pendingDfd=null}).catch(function(b){var e,
f,n,h;b&&(e=Number(b.code),f=b.hasOwnProperty("subcode")?Number(b.subcode):null,n=(n=b.messageCode)&&n.toUpperCase(),h=b.response);if(h&&0===h.status&&F.proxyUrl&&!g&&"post"!==c.method&&h.url&&!u.startsWith(h.url,F.proxyUrl))v.addProxyRule({proxyUrl:F.proxyUrl,urlPrefix:v.removeFile(v.urlToObject(c.url).path)}),z(a,!0,c,d);else{if(403===e&&(4===f||b.message&&-1<b.message.toLowerCase().indexOf("ssl")&&-1===b.message.toLowerCase().indexOf("permission"))){if(!c._ssl){c._ssl=c._sslFromServer=!0;z(a,!0,
c,d);return}}else if(k&&"no-prompt"!==c.authMode&&K._errorCodes&&-1!==K._errorCodes.indexOf(e)&&!K._isPublic(c.url)&&(403!==e||H&&-1===H.indexOf(n)&&(null==f||2===f&&c._token))){E(a,c,d,C("request:server",b,d));return}h&&0<h.status&&h.url&&F.proxyUrl&&!u.startsWith(h.url,F.proxyUrl)&&A(h.url);a.reject(C("request:server",b,d));a._pendingDfd=null}})}var g=c.body,k=c.useIdentity,n,m=null,l=g instanceof FormData;if(l||g&&g.elements)m=l?g:new FormData(g);var t=!!(-1!==c.url.toLowerCase().indexOf("token\x3d")||
c.content&&c.content.token||m&&m.get&&m.get("token")||g&&g.elements&&g.elements.token);b||(!k||t||c._token||K._isPublic(c.url)||(b=function(a){a&&(c._token=a.token,c._ssl=a.ssl)},"immediate"===c.authMode?n=K.getCredential(c.url).then(b):"no-prompt"===c.authMode?n=K.checkSignInStatus(c.url).then(b).catch(function(){}):b(K.findCredential(c.url))),b=function(a){delete c._credential;if(a){var b=!!c._ssl;a instanceof e?a.details.ssl=b:a.ssl=b}},a.then(function(a){(/\/sharing\/rest\/accounts\/self/i.test(c.url)||
/\/sharing\/rest\/portals\/self/i.test(c.url))&&!t&&!c._token&&a.data&&a.data.user&&a.data.user.username&&(v.isTrustedServer(c.url)||F.trustedServers.push(w(c.url)));var b=c._credential;if(b){var e=K.findServerInfo(b.server),e=e&&e.owningSystemUrl,d=void 0;e&&(e=e.replace(/\/?$/,"/sharing"),(d=K.findCredential(e,b.userId))&&-1===K._getIdenticalSvcIdx(e,d)&&d.resources.splice(0,0,e))}return a}).then(b,b));n?n.then(function(){a.isCanceled()||f(a)}).catch(function(b){a.reject(b)}):f(a);return a.promise}
function E(a,b,c,e){a._pendingDfd=K.getCredential(b.url,{error:e,token:b._token});a._pendingDfd.then(function(e){b._token=e.token;b._credential=e;b._ssl=b._sslFromServer||e.ssl;z(a,!0,b,c)}).catch(function(b){a.reject(b);a._pendingDfd=null})}function C(a,b,c){var d="Error",f={url:c.url,requestOptions:c.requestOptions,getHeader:G};if(b instanceof e)return b.details?(b.details=u.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=f,b;if(b){var g=b.response;c=g&&
g.getHeader;var g=g&&g.status,k=b.message;c=b.getHeader||c;k&&(d=k);c&&(f.getHeader=c);f.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||g;f.subCode=b.subcode;f.messageCode=b.messageCode;f.messages="string"===typeof b.details?[b.details]:b.details}a=new e(a,d,f);b&&"cancel"===b.dojoType&&(a.name="AbortError",a.dojoType="cancel");return a}function A(a){v.isBlobProtocol(a)||v.isDataProtocol(a)||(a=v.getOrigin(a))&&-1===D._corsServers.indexOf(a)&&D._corsServers.push(a)}function D(a,c){if(l&&m.invokeStaticMessage)return l.execute(a,
c);v.isBlobProtocol(a)||v.isDataProtocol(a)||(a=v.normalize(a));var f={url:a,requestOptions:p({},c)},k=v.getInterceptor(a);if(k){if(null!=k.responseData)return t.resolve({data:k.responseData,requestOptions:f.requestOptions,getHeader:G,url:a});k.headers&&(f.requestOptions.headers=p({},f.requestOptions.headers,k.headers));k.query&&(f.requestOptions.query=p({},f.requestOptions.query,k.query));if(k.before&&(c=k.before(f),null!=c))return c instanceof Error||c instanceof e?t.reject(C("request:interceptor",
c,f)):t.resolve({data:c,requestOptions:f.requestOptions,getHeader:G,url:f.url})}var h=p({url:f.url},f.requestOptions);h.content=h.query;delete h.query;h.preventCache=!!h.cacheBust;delete h.cacheBust;h.handleAs=h.responseType;delete h.responseType;"array-buffer"===h.handleAs&&(h.handleAs="arraybuffer");if("image"===h.handleAs){if(n("host-webworker"))return t.reject(C("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),f))}else if(v.isDataProtocol(a))return t.reject(C("request:invalid-parameters",
Error("Data URLs are not supported for responseType \x3d "+h.handleAs),f));var u=F.useIdentity;"anonymous"===h.authMode&&(u=!1);h.useIdentity=u;h.urlObj=new g.Url(h.url);var r=b.makeDeferredCancellingPending(),q;f.requestOptions.signal&&(a=f.requestOptions.signal,q=function(){r.cancel(C("AbortError",new d("Request canceled"),f))},a.aborted?q():a.addEventListener("abort",q));t.resolve().then(function(){if(u&&!K)return x()}).catch(function(){}).then(function(){r.isCanceled()||z(r,!1,h,f)});return r.then(function(a){f.requestOptions.signal&&
f.requestOptions.signal.removeEventListener("abort",q);k&&k.after&&k.after(a);return a}).catch(function(a){f.requestOptions.signal&&f.requestOptions.signal.removeEventListener("abort",q);throw a;})}var F=c.request,H=["COM_0056","COM_0057"],B=0,G=function(){return null},K,I;(D||(D={}))._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return D})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper dojo/io-query dojo/_base/url ../config ../kernel ./Error ./global ./lang ./Logger".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){function e(b){var c={path:null,query:null},e=new a.Url(b),d=b.indexOf("?");null===e.query?c.path=b:(c.path=b.substring(0,d),c.query=h.queryToObject(e.query));e.fragment&&(c.hash=e.fragment,null===e.query&&(c.path=c.path.substring(0,c.path.length-(e.fragment.length+1))));return c}function m(a){var b=a.indexOf("?");-1!==b?(ba.path=a.slice(0,b),ba.query=a.slice(b+1)):(ba.path=a,ba.query=null);return ba}function n(a){a=m(a).path;a&&"/"===a[a.length-1]||(a+="/");a=Q(a,!0);
return a=a.toLowerCase()}function u(a){var b=P.proxyRules;a=n(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function t(a){a=x(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function v(a,b,c){void 0===c&&(c=!1);a=R(a);b=R(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function r(b,c,e){void 0===c&&(c=a.appBaseUrl);if(B(b))return e&&e.preserveProtocolRelative?b:"http"===a.appUrl.scheme&&a.appUrl.authority===
z(b).slice(2)?"http:"+b:"https:"+b;if(!G(b)){e=y;if("/"===b[0]){var d=c.indexOf("//"),d=c.indexOf("/",d+2);c=-1===d?c:c.slice(0,d)}return e(c,b)}return b}function w(b,c,e){void 0===c&&(c=a.appBaseUrl);if(!E(b))return b;var d=x(b),f=d.toLowerCase();c=x(c).toLowerCase().replace(/\/+$/,"");if((e=e?x(e).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(e))return b;for(var g=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},k=g(f,"/",f.indexOf("//")+2),n=-1;f.slice(0,k+1)===c.slice(0,k)+"/";){n=
k+1;if(k===f.length)break;k=g(f,"/",k+1)}if(-1===n||e&&n<e.length)return b;b=d.slice(n);d=c.slice(n-1).replace(/[^/]+/g,"").length;if(0<d)for(f=0;f<d;f++)b="../"+b;else b="./"+b;return b}function x(a){a=a.trim();a=r(a);if(/^https?:\/\//i.test(a)){var b=m(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=N(a)}function y(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(E(a[0])){var c=
a[0],e=c.indexOf("//");b.push(c.slice(0,e+1));U.test(a[0])&&(b[0]+="/");a[0]=c.slice(e+2)}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)e=a[c],".."===e&&0<b.length&&".."!==b[b.length-1]?b.pop():!e||"."===e&&0!==b.length||b.push(e);return b.join("/")}}function z(a){if(C(a)||A(a))return null;var b=a.indexOf("://");if(-1===b&&B(a))b=2;else if(-1!==b)b+=3;else return null;b=a.indexOf("/",b);return-1===b?a:a.slice(0,b)}function E(a){return B(a)||
G(a)}function C(a){return"blob:"===a.slice(0,5)}function A(a){return"data:"===a.slice(0,5)}function D(a){a=F(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function F(a){return(a=a.match(ha))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function H(a){var b=D(a);if(!b)return null;a=F(a);return new Blob([b],{type:a.mediaType})}function B(a){return a&&"/"===a[0]&&"/"===a[1]}function G(a){return M.test(a)}
function K(b){return ca.test(b)||"http"===a.appUrl.scheme&&B(b)}function I(a){return B(a)?"https:"+a:a.replace(ca,"https:")}function J(){return"https"===a.appUrl.scheme}function Q(a,b){void 0===b&&(b=!1);if(B(a))return a.slice(2);a=a.replace(M,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function N(b){var e=P.httpsDomains;if(!K(b))return b;var d=b.indexOf("/",7),f;f=-1===d?b:b.slice(0,d);f=f.toLowerCase().slice(7);if(aa.test(f))if(c.endsWith(f,":80"))f=f.slice(0,-3),b=b.replace(":80",
"");else return b;if("http"===a.appUrl.scheme&&f===a.appUrl.authority&&!ga.test(b))return b;if(J()&&f===a.appUrl.authority||e&&e.some(function(a){return f===a||c.endsWith(f,"."+a)})||J()&&!u(b))b=I(b);return b}function O(a,b,c){if(!(b&&c&&a&&E(a)))return a;var e=a.indexOf("//"),d=a.indexOf("/",e+2),f=a.indexOf(":",e+2),d=Math.min(0>d?a.length:d,0>f?a.length:f);if(a.slice(e+2,d).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,e+2);a=a.slice(d);return""+b+c+a}function R(b){if("string"===typeof b)return new a.Url(r(b));
b.scheme||(b.scheme=a.appUrl.scheme);return b}function T(b,c){var e=c&&c.url&&c.url.path;b&&e&&(b=r(b,e,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?(e=c.urlKey+"."+c.customBaseUrl,c=v(a.appUrl,a.appUrl.scheme+"://"+e)?O(b,c.portalHostname,e):O(b,e,c.portalHostname)):c=b;return c}function L(a,b){if(!a)return a;!E(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=r(a);if(b){var e=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||
b.url&&b.url.path;e&&(c=w(c,e,e),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?O(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;E(c)&&(c=x(c));return c}function V(a,b,c){a=e(a);var d=a.query||{};d[b]=c;return a.path+"?"+h.objectToQuery(d)}Object.defineProperty(a,"__esModule",{value:!0});a.Url=l;var S=b.getLogger("esri.core.urlUtils"),P=k.request,M=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ca=/^\s*http:/i,da=
/^\s*https:/i,U=/^\s*file:/i,aa=/:\d+$/,ga=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;a.appUrl=new a.Url(k.applicationUrl);a.trustedServersUrlCache={};a.appBaseUrl=function(){var b=a.appUrl.path,b=b.substring(0,b.lastIndexOf(b.split("/")[b.split("/").length-1]));return""+(a.appUrl.scheme+"://"+a.appUrl.host+(null!=a.appUrl.port?":"+a.appUrl.port:""))+b}();a.urlToObject=e;a.getProxyUrl=function(b){void 0===b&&(b=!1);var c,f=P.proxyUrl;if("string"===typeof b){if(c=b,c=da.test(c)||"https"===a.appUrl.scheme&&
B(c),b=u(b))f=b.proxyUrl}else c=!!b;if(!f)throw S.warn("esri/config: esriConfig.request.proxyUrl is not set."),new d("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");c&&J()&&(f=I(f));return e(f)};a.addProxy=function(a){var b=u(a),c,d;b&&(d=m(b.proxyUrl),c=d.path,d=d.query?h.queryToObject(d.query):null);c&&(b=e(a),a=c+"?"+b.path,(c=h.objectToQuery(p({},d,b.query)))&&(a=a+"?"+c));return a};var ba={path:"",query:""};a.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:n(a.urlPrefix)};
for(var b=P.proxyRules,c=a.urlPrefix,e=b.length,d=0;d<b.length;d++){var f=b[d].urlPrefix;if(0===c.indexOf(f)){if(c.length===f.length)return-1;e=d;break}0===f.indexOf(c)&&(e=d+1)}b.splice(e,0,a);return e};a.getProxyRule=u;a.hasSamePortal=function(a,b){a=t(a);b=t(b);return Q(a)===Q(b)};a.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&c.startsWith(a,b)},e=P.interceptors;if(e)for(var d=0;d<e.length;d++){var f=e[d];if(Array.isArray(f.urls)){if(f.urls.some(b))return f}else if(b(f.urls))return f}return null};
a.hasSameOrigin=v;a.isTrustedServer=function(b){if("string"===typeof b)if(E(b))b=R(b);else return!0;for(var c=P.trustedServers||[],e=0;e<c.length;e++){var d;d=c[e];a.trustedServersUrlCache[d]||(G(d)||B(d)?a.trustedServersUrlCache[d]=[new a.Url(r(d))]:a.trustedServersUrlCache[d]=[new a.Url("http://"+d),new a.Url("https://"+d)]);d=a.trustedServersUrlCache[d];for(var f=0;f<d.length;f++)if(v(b,d[f]))return!0}return!1};a.makeAbsolute=r;a.makeRelative=w;a.normalize=x;a.join=y;a.getOrigin=z;a.isAbsolute=
E;a.isBlobProtocol=C;a.isDataProtocol=A;a.dataToArrayBuffer=D;var ha=/^data:(.*?)(;base64)?,(.*)$/;a.dataComponents=F;a.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};a.dataToBlob=H;a.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var e=null;if(f.URL&&f.URL.createObjectURL){e=H(a);if(!e){c=!1;break a}e=f.URL.createObjectURL(e)}c.download=b;c.href=e||a;c.style.display="none";document.body.appendChild(c);
c.click();document.body.removeChild(c);e&&f.URL.revokeObjectURL(e);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(H(a),b)};a.isProtocolRelative=B;a.hasProtocol=G;a.toHTTP=function(a){return B(a)?"http:"+a:a.replace(da,"http:")};a.toHTTPS=I;a.isAppHTTPS=J;a.removeFile=function(a){var b=0;if(E(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};a.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};a.changeDomain=
O;a.fromJSON=T;a.read=function(a,b,c){return T(a,c)};a.toJSON=L;a.write=function(a,b,c,e){(a=L(a,e))&&(b[c]=a)};a.isSVG=function(a){return fa.test(a)};a.removeQueryParameters=function(a,b){a=e(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+".");return a.path};a.addQueryParameter=V;a.addQueryParameters=function(a,b){a=e(a);var c=a.query||{},d;for(d in b)c[d]=b[d];return(b=
h.objectToQuery(c))?a.path+"?"+b:a.path};a.removeQueryParameter=function(a,b){var c=e(a),d=c.path,c=c.query;if(!c)return a;delete c[b];return(a=h.objectToQuery(c))?d+"?"+a:d};a.addTokenParameter=function(a){var b=g.id&&g.id.findCredential(a);return b&&b.token?V(a,"token",b.token):a};var fa=/(^data:image\/svg|\.svg$)/i})},"dojo/_base/url":function(){define(["./kernel"],function(q){var a=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,p=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
h=function(){for(var l=arguments,k=[l[0]],g=1;g<l.length;g++)if(l[g]){var d=new h(l[g]+""),k=new h(k[0]+"");if(""==d.path&&!d.scheme&&!d.authority&&!d.query)null!=d.fragment&&(k.fragment=d.fragment),d=k;else if(!d.scheme&&(d.scheme=k.scheme,!d.authority&&(d.authority=k.authority,"/"!=d.path.charAt(0)))){for(var k=(k.path.substring(0,k.path.lastIndexOf("/")+1)+d.path).split("/"),f=0;f<k.length;f++)"."==k[f]?f==k.length-1?k[f]="":(k.splice(f,1),f--):0<f&&(1!=f||""!=k[0])&&".."==k[f]&&".."!=k[f-1]&&
(f==k.length-1?(k.splice(f,1),k[f-1]=""):(k.splice(f-1,2),f-=2));d.path=k.join("/")}k=[];d.scheme&&k.push(d.scheme,":");d.authority&&k.push("//",d.authority);k.push(d.path);d.query&&k.push("?",d.query);d.fragment&&k.push("#",d.fragment)}this.uri=k.join("");l=this.uri.match(a);this.scheme=l[2]||(l[1]?"":null);this.authority=l[4]||(l[3]?"":null);this.path=l[5];this.query=l[7]||(l[6]?"":null);this.fragment=l[9]||(l[8]?"":null);null!=this.authority&&(l=this.authority.match(p),this.user=l[3]||null,this.password=
l[4]||null,this.host=l[6]||l[7],this.port=l[9]||null)};h.prototype.toString=function(){return this.uri};return q._Url=h})},"esri/core/deferredUtils":function(){define(["dojo/Deferred"],function(q){var a={makeDeferredCancellingPending:function(){var p={},h=a._dfdCanceller.bind(null,p),h=new q(h);return p.deferred=h},_dfdCanceller:function(a){a=a.deferred?a.deferred:a;a.canceled=!0;var h=a._pendingDfd;a.isResolved()||!h||h.isResolved()||h.cancel();a._pendingDfd=null},_fixDfd:function(a){var h=a.then;
a.then=function(a,k,g){if(a){var d=a;a=function(a){return a&&a._argsArray?d.apply(null,a):d(a)}}return h.call(this,a,k,g)};return a},_resDfd:function(a,h,l){var k=h.length;1===k?l?a.reject(h[0]):a.resolve(h[0]):1<k?(h._argsArray=!0,a.resolve(h)):a.resolve()}};return a})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(q,
a,p,h,l,k,g,d,f,c,b){q=function(a){function e(){var b=a.call(this)||this;b.loadError=null;b.loadStatus="not-loaded";b.loadWarnings=null;b._set("loadWarnings",[]);b.addResolvingPromise(f.create(function(a){var c=!1,e=b.load.bind(b);b.load=function(){"not-loaded"===b.loadStatus&&(b._set("loadStatus","loading"),e());c||(a(),c=!0);return b.when()}}));b.when(function(a){b._set("loadStatus","loaded")},function(a){b._set("loadStatus","failed");b._set("loadError",a)});return b}p(e,a);Object.defineProperty(e.prototype,
"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});e.prototype.load=function(){return null};e.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new k("load:cancelled","Cancelled"));this._promiseProps.resolver.reject(this.loadError);return this};h([b.property({readOnly:!0,dependsOn:["loadStatus"]})],e.prototype,"loaded",null);h([b.property({readOnly:!0})],e.prototype,"loadError",void 0);h([b.property()],e.prototype,"loadStatus",
void 0);h([b.property({type:[c],readOnly:!0})],e.prototype,"loadWarnings",void 0);return e=h([b.subclass("esri.core.Loadable")],e)}(b.declared(l,d));q.prototype["-chains-"]=g.mixin({},l._meta.chains,{load:"after"});return q})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),function(q,a,p,h,l,k,g,d,f){function c(a){var b=a._promiseProps;if(!b.isFulfilled()){var c=
b.resolvingPromises,e,f;b.allPromise&&b.allPromise.cancel();var k,h=g.create(function(a,b){k={resolve:a,reject:b}});for(e=c.length-1;0<=e;e--)f=c[e],f.isCanceled&&f.isCanceled()&&c.splice(e,1);f=null;(b.allPromise=g.all(c.concat([h]))).then(function(){b.resolver.resolve(a);a=b=k=b.allPromise=b.resolvingPromises=null},function(c){b.allPromise=null;if(!c||"cancel"!==c.dojoType){var e=Array.prototype.slice.call(arguments,0);b.resolver.reject(e[0]);a=b=k=b.allPromise=b.resolvingPromises=null}});k&&d.schedule(function(){k&&
k.resolve()})}}var b=function(a){a=new k("AbortError");a.target=this.instance;a.dojoType="cancel";return a},e=function(){function a(a){var c=this;this.canceler=b.bind(this);this.status=void 0;this.initialized=!1;this.resolvingPromises=[];this.instance=a;this.promise=g.create(function(a,b){c.resolver={resolve:a,reject:b}});this.promise.then(function(){c.status=1},function(){c.status=2})}a.prototype.cancel=function(){if(!this.isFulfilled()){this.allPromise.cancel();for(var a=this.resolvingPromises.concat(),
b=a.length-1;0<=b;b--)a[b].cancel();this.resolver.cancel()}};a.prototype.isResolved=function(){return 1===this.status};a.prototype.isRejected=function(){return 2===this.status};a.prototype.isFulfilled=function(){return!!this.status};return a}();return function(a){function b(){var b=a.call(this)||this;b._promiseProps=new e(b);var d=b.postscript;d?b.postscript=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];d.apply(b,a);b.postscript=d;c(b)}:c(b);return b}p(b,a);b.prototype.isResolved=
function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return g.create(function(a,b){c._promiseProps.promise.then(a,b)},this._promiseProps.canceler).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&("_promiseProps"in
a?this._promiseProps.resolvingPromises.push(a.when()):this._promiseProps.resolvingPromises.push(a),c(this))};return b=h([f.subclass()],b)}(f.declared(l))})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(q,a,p,h,l){q=function(a){function g(d,f,c){var b=a.call(this,d,f,c)||this;return b instanceof g?b:new g(d,f,c)}p(g,a);return g}(l);q.prototype.type="warning";return q})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){var m=new g.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function g(b){b=a.call(this)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}h(g,a);k=g;Object.defineProperty(g.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});g.prototype.clone=function(){return new k({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};g.prototype.toRequestOptions=function(a,c){var d;this.categories&&(d=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var f;if(this.extent){var g=e.project(this.extent,
b.WGS84);g&&(f=g.xmin+","+g.ymin+","+g.xmax+","+g.ymax)}g=this.query;!this.disableExtraQuery&&a.extraQuery&&(g="("+g+")"+a.extraQuery);a={categories:d,bbox:f,q:g,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=m.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:p({},c,a)}};var k;l([f.property()],g.prototype,"categories",void 0);l([f.property()],g.prototype,"disableExtraQuery",void 0);l([f.property({type:c})],g.prototype,"extent",void 0);l([f.property()],
g.prototype,"num",void 0);l([f.property()],g.prototype,"query",void 0);l([f.property()],g.prototype,"sortField",void 0);l([f.property()],g.prototype,"sortOrder",null);l([f.property()],g.prototype,"start",void 0);return g=k=l([f.subclass("esri.portal.PortalQueryParams")],g)}(f.declared(k))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(q,
a,p,h,l,k){return function(a){function d(d){d=a.call(this)||this;d.nextQueryParams=null;d.queryParams=null;d.results=null;d.total=null;return d}p(d,a);h([k.property()],d.prototype,"nextQueryParams",void 0);h([k.property()],d.prototype,"queryParams",void 0);h([k.property()],d.prototype,"results",void 0);h([k.property()],d.prototype,"total",void 0);return d=h([k.subclass("esri.portal.PortalQueryResult")],d)}(k.declared(l))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(q,a,p,h,l,k,g,d,f,c){return function(a){function b(){var b=a.call(this)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.units=null;b.username=null;b.userType=null;return b}p(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+
b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});b.prototype.addItem=function(a){var b=this,c=a&&a.item,e=a&&a.data;a=a&&a.folder;var d={method:"post"};
c&&(d.query=c._getPostQuery(),null!=e&&("string"===typeof e?d.query.text=e:"object"===typeof e&&(d.query.text=JSON.stringify(e))));e=this.userContentUrl;a&&(e+="/"+a.id);return this.portal._request(e+"/addItem",d).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};b.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=null;a.portal=
null})};b.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):g.resolve(void 0)};b.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=f.fromJSON(b);b.portal=a.portal;
return b}):[]})};b.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=c.fromJSON(b);b.portal=a.portal;return b}):[]})};b.prototype.fetchItems=function(a){var b=this;a||(a={});var c=this.userContentUrl;a.folder&&(c+="/"+a.folder.id);var e;return g.create(function(a){return q(["./PortalItem"],a)}).then(function(d){e=d;return b.portal._request(c,{query:{folders:!1,num:a.num||10,start:a.start||1}})}).then(function(a){var c;
return a&&a.items?(c=a.items.map(function(a){a=e.fromJSON(a);a.portal=b.portal;return a}),g.all(c.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:c,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new c({id:this.favGroupId,portal:this.portal})),
this._favGroup.queryItems(a)):g.reject(new l("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};b.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};h([d.property()],b.prototype,"access",void 0);h([d.property({type:Date})],b.prototype,"created",void 0);h([d.property()],b.prototype,"culture",void 0);h([d.property()],b.prototype,"description",void 0);h([d.property()],b.prototype,"email",void 0);h([d.property()],
b.prototype,"favGroupId",void 0);h([d.property()],b.prototype,"fullName",void 0);h([d.property({type:Date})],b.prototype,"modified",void 0);h([d.property()],b.prototype,"orgId",void 0);h([d.property()],b.prototype,"portal",void 0);h([d.property()],b.prototype,"preferredView",void 0);h([d.property()],b.prototype,"privileges",void 0);h([d.property()],b.prototype,"region",void 0);h([d.property()],b.prototype,"role",void 0);h([d.property()],b.prototype,"roleId",void 0);h([d.property()],b.prototype,"thumbnail",
void 0);h([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);h([d.property()],b.prototype,"units",void 0);h([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"userContentUrl",null);h([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);h([d.property()],b.prototype,"username",void 0);h([d.property()],b.prototype,"userType",void 0);return b=h([d.subclass("esri.portal.PortalUser")],b)}(d.declared(k))})},
"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(c){c=a.call(this)||this;c.created=null;c.id=null;c.portal=null;c.title=null;c.username=null;return c}p(d,a);Object.defineProperty(d.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+
"/"+this.id:null},enumerable:!0,configurable:!0});d.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};h([g.property({type:Date})],d.prototype,"created",void 0);h([g.property()],d.prototype,"id",void 0);h([g.property()],d.prototype,"portal",void 0);h([g.property()],d.prototype,"title",void 0);h([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);h([g.property()],d.prototype,"username",void 0);return d=
h([g.subclass("esri.portal.PortalFolder")],d)}(g.declared(k))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),function(q,a,p,h,l,k,g,d,f){return function(a){function b(b){b=a.call(this)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=
null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}p(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=
function(){var a=this;return this.portal._request(this.url+"/categorySchema").then(function(b){b=b.categorySchema||[];return b.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?a._fetchCategorySchemaSet("LivingAtlas"):b})};b.prototype.fetchMembers=function(){return this.portal._request(this.url+"/users")};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new k("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a){if(5<parseFloat(this.portal.currentVersion))return a=a||new f,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem");a=a?a.clone():new f;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a)};b.prototype._fetchCategorySchemaSet=function(a){var b=this;return this.portal._fetchSelf(this.portal.authMode,!0).then(function(a){if(a=a.contentCategorySetsGroupQuery){var c=
new f;c.disableExtraQuery=!0;c.num=1;c.query=a;return b.portal.queryGroups(c)}throw new k("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(b){if(b.total){b=b.results[0];var c=new f;c.num=1;c.query='typekeywords:"'+a+'"';return b.queryItems(c)}throw new k("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData().then(function(a){return(a=a&&a.categorySchema)&&a.length?
a:[]}):[]})};h([d.property()],b.prototype,"access",void 0);h([d.property({type:Date})],b.prototype,"created",void 0);h([d.property()],b.prototype,"description",void 0);h([d.property()],b.prototype,"id",void 0);h([d.property()],b.prototype,"isInvitationOnly",void 0);h([d.property({type:Date})],b.prototype,"modified",void 0);h([d.property()],b.prototype,"owner",void 0);h([d.property()],b.prototype,"portal",void 0);h([d.property()],b.prototype,"snippet",void 0);h([d.property()],b.prototype,"sortField",
void 0);h([d.property()],b.prototype,"sortOrder",void 0);h([d.property()],b.prototype,"tags",void 0);h([d.property()],b.prototype,"thumbnail",void 0);h([d.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);h([d.property()],b.prototype,"title",void 0);h([d.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);h([l(0,d.cast(f))],b.prototype,"queryItems",null);return b=h([d.subclass("esri.portal.PortalGroup")],b)}(d.declared(g))})},
"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k,g,d){var f=new g.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",
MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),c=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+c++;b.type=null;return b}p(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a,b,c){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.clone=function(){};h([d.property({type:f.apiValues,json:{read:f.read,write:{ignoreOrigin:!0,writer:f.write}}})],
b.prototype,"type",void 0);h([d.property({type:l,value:new l([0,0,0,1]),json:{write:{allowNull:!0}}})],b.prototype,"color",null);h([d.reader("color")],b.prototype,"readColor",null);return b=h([d.subclass("esri.symbols.Symbol")],b)}(d.declared(k))})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(b){b=
a.call(this)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}p(d,a);c=d;d.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,size:this.size})};var c;h([l.enumeration.serializable()({Extrude:"extrude"})],d.prototype,"type",void 0);h([l.property({type:Number,json:{write:!0}})],
d.prototype,"size",void 0);h([l.property()],d.prototype,"material",void 0);h([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);h([l.property(g.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=c=h([l.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)}(l.declared(k))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators ./support/ElevationInfo ./support/Symbol3DMaterial".split(" "),
function(q,a,p,h,l,k,g,d,f){var c=k.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text"});q=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;b.material=null;b.type=null;return b}p(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};h([g.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);h([g.writer("enabled")],b.prototype,"writeEnabled",null);h([g.property({type:d,json:{read:!1,
write:!1}})],b.prototype,"elevationInfo",void 0);h([g.property({type:f.default,json:{write:!0}})],b.prototype,"material",void 0);h([g.property({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],b.prototype,"type",void 0);return b=h([g.subclass("esri.symbols.Symbol3DLayer")],b)}(g.declared(l));(q||(q={})).typeJSONDictionary=c;return q})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators ../../layers/support/fieldUtils ./unitConversionUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){var e=d.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),m=new d.KebabDictionary({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),n=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);e=b;b.prototype.collectRequiredFields=function(a,b){return k(this,void 0,void 0,function(){return l(this,function(e){return[2,
c.collectArcadeFieldNames(a,b,this.expression)]})})};b.prototype.clone=function(){return new e({expression:this.expression,title:this.title})};var e;h([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);h([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=e=h([f.subclass("esri.layers.support.FeatureExpressionInfo")],b)}(f.declared(g));return function(a){function c(){return null!==a&&a.apply(this,arguments)||this}p(c,a);d=c;c.prototype.readFeatureExpressionInfo=
function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};c.prototype.writeFeatureExpressionInfo=function(a,b,c,e){b[c]=a.write(null,e);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(c.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});c.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};c.prototype.clone=function(){return new d({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var d;h([f.property({type:n,json:{write:!0}})],c.prototype,"featureExpressionInfo",
void 0);h([f.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);h([f.writer("featureExpressionInfo",{featureExpressionInfo:{type:n},"featureExpression.value":{type:[0]}})],c.prototype,"writeFeatureExpressionInfo",null);h([f.property({type:e.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:e.jsonValues,read:e.read,write:{writer:e.write,isRequired:!0}}})],c.prototype,"mode",null);h([f.property({type:Number,
json:{write:!0}})],c.prototype,"offset",void 0);h([f.property({type:b.supportedUnits,json:{type:String,read:m.read,write:m.write}})],c.prototype,"unit",null);return c=d=h([f.subclass("esri.layers.support.ElevationInfo")],c)}(f.declared(g))})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.supportsUnit=function(a){return null!=p.meterIn[a]};a.getMetersPerUnit=function(a){return 1/
(p.meterIn[a]||1)};a.supportedUnits=function(){var a=Object.keys(p.meterIn);a.sort();return a}()})},"esri/renderers/support/utils":function(){define("dojo/date/locale ../../Color ../../core/lang ../../core/numberUtils ../../core/unitUtils dojo/i18n!dojo/cldr/nls/gregorian".split(" "),function(q,a,p,h,l,k){function g(a,b,c){var e="";0===b?e=f.lt+" ":b===c&&(e=f.gt+" ");return e+a}var d={},f={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},c={millisecond:0,second:1,minute:2,hour:3,
day:4,month:5,year:6},b={millisecond:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},second:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},minute:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},hour:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},day:{selector:"date",dateOptions:{formatLength:"long"}},month:{selector:"date",dateOptions:{formatLength:"long"}},year:{selector:"date",dateOptions:{selector:"year"}}},
e={formatLength:"short",fullYear:!0},m={formatLength:"short"};p.mixin(d,{meterIn:{inches:l.convertUnit(1,"meters","inches"),feet:l.convertUnit(1,"meters","feet"),"us-feet":l.convertUnit(1,"meters","us-feet"),yards:l.convertUnit(1,"meters","yards"),miles:l.convertUnit(1,"meters","miles"),"nautical-miles":l.convertUnit(1,"meters","nautical-miles"),millimeters:l.convertUnit(1,"meters","millimeters"),centimeters:l.convertUnit(1,"meters","centimeters"),decimeters:l.convertUnit(1,"meters","decimeters"),
meters:l.convertUnit(1,"meters","meters"),kilometers:l.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/l.lengthToDegrees(1,"meters")},timelineDateFormatOptions:{selector:"date",dateOptions:{formatLength:"short",fullYear:!0}},formatDate:function(a,b){var c=[];null==a||a instanceof Date||(a=new Date(a));b=b||{};b=p.mixin({},b);var d=b.selector?b.selector.toLowerCase():null,f=!d||-1<d.indexOf("time"),d=!d||-1<d.indexOf("date");f&&(b.timeOptions=b.timeOptions||m,b.timeOptions&&(b.timeOptions=
p.mixin({},b.timeOptions),b.timeOptions.selector=b.timeOptions.selector||"time",c.push(b.timeOptions)));d&&(b.dateOptions=b.dateOptions||e,b.dateOptions&&(b.dateOptions=p.mixin({},b.dateOptions),b.dateOptions.selector=b.dateOptions.selector||"date",c.push(b.dateOptions)));c&&c.length?(c=c.map(function(b){return q.format(a,b)}),b=1==c.length?c[0]:k["dateTimeFormat-medium"].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return c[b]})):b=q.format(a);return b},createColorStops:function(a){var b=
a.values,c=a.colors,e=a.labelIndexes,f=a.isDate,k=a.dateFormatOptions;a=[];return a=b.map(function(a,n){var m=null;if(!e||-1<e.indexOf(n)){var l;(l=f?d.formatDate(a,k):h.format(a))&&(m=g(l,n,b.length-1))}return{value:a,color:c[n],label:m}})},updateColorStops:function(a){var b=a.stops,c=a.changes,e=a.isDate,f=a.dateFormatOptions,k=[],n,m=b.map(function(a){return a.value});c.forEach(function(a){k.push(a.index);m[a.index]=a.value});n=h.round(m,{indexes:k});b.forEach(function(a,c){a.value=m[c];if(null!=
a.label){var k,l=null;(k=e?d.formatDate(n[c],f):h.format(n[c]))&&(l=g(k,c,b.length-1));a.label=l}})},createClassBreakLabel:function(a){var b=a.minValue,c=a.maxValue,e=a.isFirstBreak?"":f.gt+" ";a="percent-of-total"===a.normalizationType?f.pct:"";b=null==b?"":h.format(b);c=null==c?"":h.format(c);return e+b+a+" "+f.ld+" "+c+a},setLabelsForClassBreaks:function(a){var b=a.classBreakInfos,c=a.classificationMethod,e=a.normalizationType,f=[];b&&b.length&&("standard-deviation"===c?console.log("setLabelsForClassBreaks: cannot set labels for class breaks generated using 'standard-deviation' method."):
a.round?(f.push(b[0].minValue),b.forEach(function(a){f.push(a.maxValue)}),f=h.round(f),b.forEach(function(a,b){a.label=d.createClassBreakLabel({minValue:0===b?f[0]:f[b],maxValue:f[b+1],isFirstBreak:0===b,normalizationType:e})})):b.forEach(function(a,b){a.label=d.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:e})}))},updateClassBreak:function(a){var b=a.classBreaks,c=a.normalizationType,e=a.change,f=e.index,e=e.value,g=-1,k=-1,h=b.length;"standard-deviation"===
a.classificationMethod?console.log("updateClassBreak: cannot update labels for class breaks generated using 'standard-deviation' method."):(0===f?g=f:f===h?k=f-1:(k=f-1,g=f),-1<g&&g<h&&(a=b[g],a.minValue=e,a.label=d.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===g,normalizationType:c})),-1<k&&k<h&&(a=b[k],a.maxValue=e,a.label=d.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===k,normalizationType:c})))},calculateDateFormatInterval:function(a){var b,
e,d=a.length,f,g,k,h,n,m,l=Infinity,p;a=a.map(function(a){return new Date(a)});for(b=0;b<d-1;b++){f=a[b];k=[];n=Infinity;m="";for(e=b+1;e<d;e++)g=a[e],g=f.getFullYear()!==g.getFullYear()&&"year"||f.getMonth()!==g.getMonth()&&"month"||f.getDate()!==g.getDate()&&"day"||f.getHours()!==g.getHours()&&"hour"||f.getMinutes()!==g.getMinutes()&&"minute"||f.getSeconds()!==g.getSeconds()&&"second"||"millisecond",h=c[g],h<n&&(n=h,m=g),k.push(g);n<l&&(l=n,p=m)}return p},createUniqueValueLabel:function(a){var c=
a.value,e=a.fieldInfo,f=a.domain;a=a.dateFormatInterval;var g=String(c);(f=f&&f.codedValues?f.getName(c):null)?g=f:"number"===typeof c&&(g=e&&"date"===e.type?d.formatDate(c,a&&b[a]):h.format(c));return g}});return d})},"esri/core/numberUtils":function(){define(["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(q,a){function p(a,f){return a-f}var h=/^-?(\d+)(\.(\d+))?$/i,l=new RegExp("\\"+a.decimal+"0+$","g"),k=/(\d)0*$/g,g={numDigits:function(a){var d=String(a),c=d.match(h);a={integer:0,fractional:0};
c&&c[1]?(a.integer=c[1].split("").length,a.fractional=c[3]?c[3].split("").length:0):-1<d.toLowerCase().indexOf("e")&&(c=d.split("e"),d=c[0],c=c[1],d&&c&&(d=Number(d),c=Number(c),(a=0<c)||(c=Math.abs(c)),d=g.numDigits(d),a?(d.integer+=c,d.fractional=c>d.fractional?0:d.fractional-c):(d.fractional+=c,d.integer=c>d.integer?1:d.integer-c),a=d));return a},percentChange:function(a,f,c,b){var e={previous:null,next:null},d;null!=c&&(d=a-c,e.previous=Math.floor(Math.abs(100*(f-c-d)/d)));null!=b&&(d=b-a,e.next=
Math.floor(Math.abs(100*(b-f-d)/d)));return e},round:function(a,f){a=a.slice(0);var c,b,e,d,k,h,l,v,r=f&&null!=f.tolerance?f.tolerance:2,q=f&&f.indexes,x=f&&null!=f.strictBounds?f.strictBounds:!1;if(q)q.sort(p);else for(q=[],k=0;k<a.length;k++)q.push(k);for(k=0;k<q.length;k++)if(v=q[k],f=a[v],c=0===v?null:a[v-1],b=v===a.length-1?null:a[v+1],e=g.numDigits(f),e=e.fractional){h=0;for(l=!1;h<=e&&!l;){d=f;l=h;var y=void 0,z=void 0,y=Number(d.toFixed(l));y<d?z=y+1/Math.pow(10,l):(z=y,y-=1/Math.pow(10,l));
y=Number(y.toFixed(l));z=Number(z.toFixed(l));d=[y,z];d=x&&0===k?d[1]:d[0];l=r;var y=g.percentChange(f,d,c,b),E=z=void 0,z=void 0,z=null==y.previous||y.previous<=l,E=null==y.next||y.next<=l;l=z=z&&E||y.previous+y.next<=2*l;h++}l&&(a[v]=d)}return a},format:function(a,f){f=f||{places:20,round:-1};(a=q.format(a,f))&&(a=a.replace(k,"$1").replace(l,""));return a}};return g})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(q,a,p,h,l,k,g){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}p(d,a);c=d;d.prototype.clone=function(){return new c({color:this.color?this.color.clone():null})};var c;h([k.property(g.colorAndTransparencyProperty)],d.prototype,"color",void 0);return d=c=h([k.subclass("esri.symbols.support.Symbol3DMaterial")],d)}(k.declared(l));a.Symbol3DMaterial=q;a.default=q})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(q,a,p,h,l,k){function g(a,c){a=null!=c.transparency?k.transparencyToOpacity(c.transparency):1;if((c=c.color)&&Array.isArray(c))return new p([c[0]||0,c[1]||0,c[2]||0,a])}function d(a,c){c.color=a.toJSON().slice(0,3);a=k.opacityToTransparency(a.a);0!==a&&(c.transparency=a)}Object.defineProperty(a,"__esModule",{value:!0});a.readColorAndTransparency=g;a.writeColorAndTransparency=d;a.colorAndTransparencyProperty={type:p,json:{type:[l.Integer],read:{source:["color","transparency"],reader:g},write:{target:{color:{type:[l.Integer]},
transparency:{type:l.Integer}},writer:d}}};a.screenSizeProperty={type:Number,cast:h.toPt,json:{write:!0}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.opacityToTransparency=function(a){a=p.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};a.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/utils":function(){define(["require",
"exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(q,a,p,h,l){function k(a,d,f){if(!a)return a;switch(a.type){case "solid":return d=new l,d.read(a,f),d;case "sketch":return d=new h,d.read(a,f),d}}Object.defineProperty(a,"__esModule",{value:!0});a.read=k;a.symbol3dEdgesProperty={types:{key:"type",base:p,typeMap:{solid:l,sketch:h}},json:{read:k,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){return function(a){function e(b){b=a.call(this)||this;b.color=new k([0,0,0,1]);b.extensionLength=0;b.size=f.px2pt(1);return b}p(e,a);e.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=l({},a),delete a.type);return a};e.prototype.clone=function(){};e.prototype.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};h([c.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],
e.prototype,"type",void 0);h([c.property(b.colorAndTransparencyProperty)],e.prototype,"color",void 0);h([c.property(l({},b.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],e.prototype,"extensionLength",void 0);h([c.property(b.screenSizeProperty)],e.prototype,"size",void 0);return e=h([c.subclass("esri.symbols.edges.Edges3D")],e)}(c.declared(g))})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.type="sketch";return c}p(d,a);f=d;d.prototype.clone=function(){return new f(this.cloneProperties())};var f;h([l.property({type:["sketch"]})],d.prototype,"type",void 0);return d=f=h([l.subclass("esri.symbols.edges.SketchEdges3D")],d)}(l.declared(k))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.type="solid";return c}p(d,a);f=d;d.prototype.clone=function(){return new f(this.cloneProperties())};var f;h([l.property({type:["solid"]})],d.prototype,"type",void 0);return d=f=h([l.subclass("esri.symbols.support.SolidEdges3D")],d)}(l.declared(k))})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(q,a,p,h,l,k,g,d){var f=new l.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}p(b,a);h([k.property({type:g,json:{default:null,write:!0}})],b.prototype,"outline",void 0);h([k.property({type:f.apiValues,readOnly:!0,json:{type:f.jsonValues}})],b.prototype,"type",void 0);return b=h([k.subclass("esri.symbols.FillSymbol")],b)}(k.declared(d))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(q,a,p,h,l,k,g,d,f){var c=new l.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,e,d,f,g){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=7.5;return b}p(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,e,d,f){if(a&&"string"!==typeof a)return a;var k={};null!=a&&(k.style=a);null!=b&&(k.color=b);null!=c&&(k.width=g.toPt(c));null!=e&&(k.cap=e);null!=d&&(k.join=d);null!=f&&(k.miterLimit=g.toPt(f));return k};b.prototype.clone=function(){return new f({color:k.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var f;h([d.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);h([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);h([d.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);h([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);h([d.property({type:Number,
cast:g.toPt,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);return b=f=h([d.subclass("esri.symbols.SimpleLineSymbol")],b)}(d.declared(f))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(q,a,p,h,l,k,g){return function(a){function d(c){c=a.call(this,c)||this;c.type="simple-line";c.width=.75;return c}p(d,a);h([k.enumeration.serializable()({esriSLS:"simple-line"})],
d.prototype,"type",void 0);h([k.property({type:Number,cast:l.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=h([k.subclass("esri.symbols.LineSymbol")],d)}(k.declared(g))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(q,a,p,h,l,k,g,d,f){return function(a){function b(b){b=
a.call(this)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,outline:this.outline&&this.outline.clone()})};var c;h([l.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);h([l.property({type:d.default})],
b.prototype,"material",void 0);h([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);h([l.property({type:f.default,json:{write:!0}})],b.prototype,"outline",void 0);h([l.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=h([l.subclass("esri.symbols.FillSymbol3DLayer")],b)}(l.declared(k))})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(q,a,p,h,l,k){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}p(d,a);f=d;d.prototype.clone=function(){return new f({color:this.color?this.color.clone():null,colorMixMode:this.colorMixMode})};var f;h([l.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],d.prototype,"colorMixMode",void 0);return d=f=h([l.subclass("esri.symbols.support.Symbol3DFillMaterial")],d)}(l.declared(k.default));a.Symbol3DFillMaterial=
q;a.default=q})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,a,p,h,l,k,g,d,f){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l([0,0,0,1]);b.size=g.px2pt(1);return b}p(b,a);
c=b;b.prototype.clone=function(){return new c({color:this.color?this.color.clone():null,size:this.size})};var c;h([d.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);h([d.property(f.screenSizeProperty)],b.prototype,"size",void 0);return b=c=h([d.subclass("esri.symbols.support.Symbol3DOutline")],b)}(d.declared(k));a.Symbol3DOutline=q;a.default=q})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k,g){return function(a){function d(b){b=a.call(this)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}p(d,a);c=d;d.prototype.castSize=function(a){return k.toPt(a)};d.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var c;h([g.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],d.prototype,"decoration",void 0);
h([g.property({type:String,json:{write:!0}})],d.prototype,"family",void 0);h([g.property({type:Number,json:{write:{overridePolicy:function(a,c,d){return{enabled:!d||!d.textSymbol3D}}}}})],d.prototype,"size",void 0);h([g.cast("size")],d.prototype,"castSize",null);h([g.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],d.prototype,"style",void 0);h([g.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],d.prototype,"weight",void 0);return d=
c=h([g.subclass("esri.symbols.Font")],d)}(g.declared(l))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DOutline".split(" "),function(q,a,p,h,l,k,g,d,f,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type=
"icon";b.size=12;b.anchor="center";b.anchorPosition=void 0;b.outline=void 0;return b}p(b,a);k=b;b.prototype.clone=function(){return new k({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone(),resource:this.resource&&this.resource.clone(),size:this.size})};var k;h([l.property()],b.prototype,"material",
void 0);h([l.property({type:g.default,json:{write:!0}})],b.prototype,"resource",void 0);h([l.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);h([l.property(d.screenSizeProperty)],b.prototype,"size",void 0);h([l.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),l.property({json:{default:"center"}})],b.prototype,"anchor",
void 0);h([l.property({type:f.Symbol3DAnchorPosition2D,json:{read:{reader:function(a){return new f.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);h([l.property({type:c.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=k=h([l.subclass("esri.symbols.IconSymbol3DLayer")],b)}(l.declared(k))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k,g,d){Object.defineProperty(a,"__esModule",{value:!0});var f=k.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});q=function(a){function b(b){return a.call(this,b)||this}p(b,a);c=b;b.prototype.readHref=function(a,b,c){return a?g.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,e){a&&(g.isDataProtocol(a)?b.dataURI=a:(b.href=g.toJSON(a,e),g.isAbsolute(b.href)&&(b.href=g.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,
primitive:this.primitive})};var c;h([d.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);h([d.reader("href")],b.prototype,"readHref",null);h([d.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);h([d.enumeration.serializable()(f)],b.prototype,"primitive",void 0);return b=c=h([d.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(d.declared(l));a.IconSymbol3DLayerResource=q;a.defaultPrimitive="circle";
a.default=q})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.x=0;c.y=0;return c}p(d,a);f=d;d.prototype.clone=function(){return new f({x:this.x,y:this.y})};var f;h([k.property({type:Number})],
d.prototype,"x",void 0);h([k.property({type:Number})],d.prototype,"y",void 0);return d=f=h([k.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],d)}(k.declared(l));a.Symbol3DAnchorPosition2D=q;a.default=q})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){var e=l.ofType({base:null,key:"type",typeMap:{text:f}});return function(a){function d(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new e;b.type="label-3d";return b}p(d,a);f=d;d.prototype.supportsCallout=function(){return!0};d.prototype.hasVisibleCallout=function(){return c.hasVisibleCallout(this)};d.prototype.hasVisibleVerticalOffset=function(){return c.hasVisibleVerticalOffset(this)};d.prototype.clone=function(){return new f({styleOrigin:k.clone(this.styleOrigin),
symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail),callout:k.clone(this.callout),verticalOffset:k.clone(this.verticalOffset)})};var f;h([g.property({type:b.default,json:{write:!0}})],d.prototype,"verticalOffset",void 0);h([g.property(c.calloutProperty)],d.prototype,"callout",void 0);h([g.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);h([g.property({type:e})],d.prototype,"symbolLayers",void 0);h([g.enumeration.serializable()({LabelSymbol3D:"label-3d"})],
d.prototype,"type",void 0);return d=f=h([g.subclass("esri.symbols.LabelSymbol3D")],d)}(g.declared(d))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/kebabDictionary ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r,w,x,y,z,E){var C={icon:u,object:v,line:t,path:r,fill:n,extrude:m,text:y},A=l.ofType({base:x,key:"type",typeMap:C}),D=g.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),F=d.getLogger("esri.symbols.Symbol3D");return function(a){function d(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;
b._set("symbolLayers",new (c&&c.type||l));return b}p(d,a);Object.defineProperty(d.prototype,"color",{get:function(){return null},set:function(a){F.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"symbolLayers",{set:function(a){k.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});d.prototype.readSymbolLayers=function(a,b,d){b=[];
for(var e=0;e<a.length;e++){var f=a[e],g=x.typeJSONDictionary.read(f.type),k=g&&C[g];k?(f=new k,f.read(a[e],d),b.push(f)):(F.warn("Unknown symbol layer type: "+g),d&&d.messages&&d.messages.push(new c("symbol-layer:unsupported","Symbol layers of type '"+(g||f.type||"unknown")+"' are not supported",{definition:f,context:d})))}return b};d.prototype.readStyleOrigin=function(a,b,d){if(a.styleUrl&&a.name)return b=f.fromJSON(a.styleUrl,d),new z({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new z({portal:d&&
d.portal||e.getDefault(),styleName:a.styleName,name:a.name});d&&d.messages&&d.messages.push(new c("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:d,definition:a}))};d.prototype.writeStyleOrigin=function(a,b,d,e){a.styleUrl&&a.name?(d=f.toJSON(a.styleUrl,e),f.isAbsolute(d)&&(d=f.normalize(d)),b.styleOrigin={styleUrl:d,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!f.hasSamePortal(a.portal.restUrl,e.portal.restUrl)?
e&&e.messages&&e.messages.push(new c("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};d.prototype.normalizeCtorArgs=function(a){return a instanceof x||a&&C[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};h([b.property({json:{read:!1,write:!1}})],d.prototype,"color",null);h([b.property({type:A,nonNullable:!0,json:{write:!0}}),
b.cast(k.castForReferenceSetter)],d.prototype,"symbolLayers",null);h([b.reader("symbolLayers")],d.prototype,"readSymbolLayers",null);h([b.property({type:z})],d.prototype,"styleOrigin",void 0);h([b.reader("styleOrigin")],d.prototype,"readStyleOrigin",null);h([b.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],d.prototype,"writeStyleOrigin",null);h([b.property({type:E.default,json:{read:!1}})],d.prototype,"thumbnail",
void 0);h([b.property({type:D.apiValues,readOnly:!0,json:{type:D.jsonValues,read:!1}})],d.prototype,"type",void 0);return d=h([b.subclass("esri.symbols.Symbol3D")],d)}(b.declared(w))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.referenceSetter=function(a,l,k){void 0===k&&(k=p);l||(l=new k);if(l===a)return l;l.removeAll();a&&(Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(p))?l.addMany(a):
a&&l.add(a);return l};a.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/materialUtils".split(" "),function(q,a,p,h,l,k,g,d){return function(a){function c(b){b=a.call(this)||this;b.material=null;b.type="line";b.size=l.px2pt(1);return b}p(c,a);b=c;c.prototype.clone=function(){return new b({enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};var b;h([k.property()],c.prototype,"material",void 0);h([k.enumeration.serializable()({Line:"line"})],c.prototype,"type",void 0);h([k.property(d.screenSizeProperty)],c.prototype,"size",void 0);return c=b=h([k.subclass("esri.symbols.LineSymbol3DLayer")],c)}(k.declared(g))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(q,a,p,h,l,k,g,d,f){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:this.material&&this.material.clone(),castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var c;h([l.property({type:f.default})],b.prototype,"material",void 0);h([l.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],b.prototype,"castShadows",void 0);h([l.property({type:g.default,json:{write:!0}})],b.prototype,"resource",void 0);h([l.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);h([l.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",
origin:"origin",relative:"relative"}),l.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);h([l.property({type:d.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new d.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);
h([l.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);h([l.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=c=h([l.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(l.declared(k))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k,g,d){Object.defineProperty(a,"__esModule",{value:!0});var f=k.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});q=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;h([d.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"href",void 0);h([d.enumeration.serializable()(f)],
b.prototype,"primitive",void 0);return b=c=h([d.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(d.declared(l));a.ObjectSymbol3DLayerResource=q;a.defaultPrimitive="sphere";a.default=q})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k){Object.defineProperty(a,"__esModule",{value:!0});
q=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.x=0;c.y=0;c.z=0;return c}p(d,a);f=d;d.prototype.clone=function(){return new f({x:this.x,y:this.y,z:this.z})};var f;h([k.property({type:Number})],d.prototype,"x",void 0);h([k.property({type:Number})],d.prototype,"y",void 0);h([k.property({type:Number})],d.prototype,"z",void 0);return d=f=h([k.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],d)}(k.declared(l));a.Symbol3DAnchorPosition3D=q;a.default=q})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer".split(" "),
function(q,a,p,h,l,k){return function(a){function d(c){c=a.call(this)||this;c.material=null;c.castShadows=!0;c.type="path";c.size=void 0;c.profile="tube";c.joint="simple";return c}p(d,a);f=d;d.prototype.readSize=function(a,b){return a||b.width||0};d.prototype.clone=function(){return new f({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),castShadows:this.castShadows,size:this.size,profile:this.profile,joint:this.joint})};
var f;h([l.property()],d.prototype,"material",void 0);h([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);h([l.enumeration.serializable()({Path:"path"})],d.prototype,"type",void 0);h([l.property({type:Number,json:{write:{enabled:!0,target:{size:{type:Number},width:{type:Number}}}}})],d.prototype,"size",void 0);h([l.reader("size",["size","width"])],d.prototype,"readSize",null);h([l.property()],d.prototype,"profile",void 0);h([l.property()],d.prototype,
"joint",void 0);return d=f=h([l.subclass("esri.symbols.PathSymbol3DLayer")],d)}(l.declared(k))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo".split(" "),function(q,a,p,h,l,k,g,d,f,c,b){return function(a){function e(b){b=a.call(this)||this;b._userSize=void 0;
b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}p(e,a);f=e;Object.defineProperty(e.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});e.prototype.writeFont=function(a,b,c,d){c=l({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(e.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=
this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new f({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&k.clone(this.font),halo:this.halo&&k.clone(this.halo),material:this.material&&this.material.clone(),size:this.size,text:this.text})};var f;h([g.property({type:d,json:{write:!0}})],e.prototype,
"font",null);h([g.writer("font")],e.prototype,"writeFont",null);h([g.property({type:b.default,json:{write:!0}})],e.prototype,"halo",void 0);h([g.property()],e.prototype,"material",void 0);h([g.property(c.screenSizeProperty),g.property({dependsOn:["font.size"]})],e.prototype,"size",null);h([g.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);h([g.enumeration.serializable()({Text:"text"})],e.prototype,"type",void 0);return e=f=h([g.subclass("esri.symbols.TextSymbol3DLayer")],e)}(g.declared(f))})},
"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(q,a,p,h,l,k,g,d,f){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l([0,0,0,1]);b.size=0;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({color:g.clone(this.color),
size:this.size})};var c;h([d.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);h([d.property(f.screenSizeProperty)],b.prototype,"size",void 0);return b=c=h([d.subclass("esri.symbols.support.Symbol3DHalo")],b)}(d.declared(k));a.Symbol3DHalo=q;a.default=q})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(q,a,p,h,l,k,g){return function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}p(d,a);c=d;d.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;h([k.property({type:String})],d.prototype,"name",void 0);h([k.property({type:String})],d.prototype,"styleUrl",void 0);h([k.property({type:String})],d.prototype,"styleName",void 0);h([k.property({type:g})],d.prototype,"portal",void 0);
return d=c=h([k.subclass("esri.symbols.support.StyleOrigin")],d)}(k.declared(l))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(q,a,p,h,l,k){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}p(d,a);f=d;d.prototype.clone=function(){return new f({url:this.url})};
var f;h([k.property({type:String})],d.prototype,"url",void 0);return d=f=h([k.subclass("esri.symbols.support.Thumbnail")],d)}(k.declared(l));a.Thumbnail=q;a.default=q})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(q,a,p,h){function l(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function k(a,d,f){if(!a)return a;switch(a.type){case "line":return d=new h,d.read(a,f),d}}Object.defineProperty(a,
"__esModule",{value:!0});a.hasVisibleVerticalOffset=l;a.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var d=a.callout;return d&&d.visible?l(a)?!0:!1:!1};a.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};a.read=k;a.calloutProperty={types:{key:"type",base:p,typeMap:{line:h}},json:{read:k,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(q,a,p,h,l,k,g){return function(a){function d(c){c=a.call(this)||this;c.visible=!0;return c}h(d,a);d.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=p({},a),delete a.type);return a};d.prototype.clone=function(){};l([g.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);l([g.property({readOnly:!0})],d.prototype,"visible",void 0);return d=l([g.subclass("esri.symbols.callouts.Callout3D")],d)}(g.declared(k))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){return function(a){function e(b){b=a.call(this)||this;b.type="line";b.color=new l([0,0,0,1]);b.size=g.px2pt(1);b.border=null;return b}p(e,a);f=e;Object.defineProperty(e.prototype,"visible",{get:function(){return 0<this.size&&0<this.color.a},enumerable:!0,configurable:!0});e.prototype.clone=function(){return new f({color:k.clone(this.color),size:this.size,border:k.clone(this.border)})};var f;h([d.property({type:["line"]})],e.prototype,"type",void 0);h([d.property(b.colorAndTransparencyProperty)],
e.prototype,"color",void 0);h([d.property(b.screenSizeProperty)],e.prototype,"size",void 0);h([d.property({type:c.default,json:{write:!0}})],e.prototype,"border",void 0);h([d.property({dependsOn:["size","color"],readOnly:!0})],e.prototype,"visible",null);return e=f=h([d.subclass("esri.symbols.callouts.LineCallout3D")],e)}(d.declared(f))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(q,a,p,h,l,k,g,d,f){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new l("white");return b}p(b,a);c=b;b.prototype.clone=function(){return new c({color:g.clone(this.color)})};var c;h([d.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=h([d.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(d.declared(k));a.LineCallout3DBorder=q;a.default=q})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(q,a,p,h,l,k,g){Object.defineProperty(a,"__esModule",{value:!0});q=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}p(d,a);c=d;d.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;h([k.property(g.screenSizeProperty)],d.prototype,"screenLength",void 0);h([k.property({type:Number,json:{write:!0,default:0}})],d.prototype,"minWorldLength",
void 0);h([k.property({type:Number,json:{write:!0}})],d.prototype,"maxWorldLength",void 0);return d=c=h([k.subclass("esri.symbols.support.Symbol3DVerticalOffset")],d)}(k.declared(l));a.Symbol3DVerticalOffset=q;a.default=q})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(q,
a,p,h,l,k,g,d,f,c){var b=l.ofType({base:null,key:"type",typeMap:{line:d,path:f}}),e=l.ofType({base:null,key:"type",typeMap:{line:d,path:f}});return function(a){function c(c){c=a.call(this)||this;c.symbolLayers=new b;c.type="line-3d";return c}p(c,a);d=c;c.prototype.clone=function(){return new d({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};var d;h([g.property({type:b,json:{type:e}})],c.prototype,"symbolLayers",void 0);h([g.enumeration.serializable()({LineSymbol3D:"line-3d"})],
c.prototype,"type",void 0);return c=d=h([g.subclass("esri.symbols.LineSymbol3D")],c)}(g.declared(c))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(q,a,p,h,l,k,g,d){var f=new l.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=
0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}p(b,a);h([g.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);h([g.property({type:f.apiValues,readOnly:!0,json:{type:f.jsonValues}})],b.prototype,"type",void 0);h([g.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);h([g.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);h([g.property({type:Number,
cast:function(a){return"auto"===a?a:k.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=h([g.subclass("esri.symbols.MarkerSymbol")],b)}(g.declared(d))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),function(q,a,p,h,l,k,g,d,f){var c=l.ofType({base:null,key:"type",typeMap:{fill:d}});return function(a){function b(b){b=
a.call(this)||this;b.symbolLayers=new c;b.type="mesh-3d";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})};var d;h([g.property({type:c})],b.prototype,"symbolLayers",void 0);h([g.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);return b=d=h([g.subclass("esri.symbols.MeshSymbol3D")],b)}(g.declared(f))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}p(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=g.toPt(c));null!=d&&(e.height=g.toPt(d));return e};b.prototype.clone=function(){var a=new f({color:k.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});a._set("source",k.clone(this.source));return a};var f;h([d.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);h([d.property(c.urlPropertyDefinition)],b.prototype,"url",void 0);h([d.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);h([d.property({type:Number,json:{write:!0}})],
b.prototype,"yscale",void 0);h([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"width",void 0);h([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"height",void 0);h([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);h([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);h([d.property(c.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=f=h([d.subclass("esri.symbols.PictureFillSymbol")],
b)}(d.declared(f))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(q,a,p){function h(a,d,f){return d.imageData?p.makeData({mediaType:d.contentType||"image/png",isBase64:!0,data:d.imageData}):l(d.url,f)}function l(a,d){return!d||"service"!==d.origin&&"portal-item"!==d.origin||!d.layer||"feature"!==d.layer.type&&"stream"!==d.layer.type||p.isAbsolute(a)||!d.layer.parsedUrl?p.fromJSON(a,d):p.join(d.layer.parsedUrl.path,"images",a)}function k(a,
d,f,c){p.isDataProtocol(a)?(a=p.dataComponents(a),d.contentType=a.mediaType,d.imageData=a.data,f&&f.imageData===d.imageData&&f.url&&p.write(f.url,d,"url",c)):p.write(a,d,"url",c)}Object.defineProperty(a,"__esModule",{value:!0});a.readImageDataOrUrl=h;a.read=l;a.writeImageDataAndUrl=k;a.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:h},write:{writer:function(a,d,f,c){k(a,d,this.source,c)}}}};a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,
d,f){a={};d.imageData&&(a.imageData=d.imageData);d.contentType&&(a.contentType=d.contentType);d.url&&(a.url=l(d.url,f));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(q,a,p,h,l,k,g,d,f){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";
b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}p(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=k.toPt(b));null!=c&&(d.height=k.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
yoffset:this.yoffset});a._set("source",l.clone(this.source));return a};var c;h([g.property({json:{write:!1}})],b.prototype,"color",void 0);h([g.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);h([g.property(f.urlPropertyDefinition)],b.prototype,"url",void 0);h([g.property(f.sourcePropertyDefinition)],b.prototype,"source",void 0);h([g.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"height",void 0);h([g.reader("height",["height","size"])],b.prototype,
"readHeight",null);h([g.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"width",void 0);h([g.property({json:{write:!1}})],b.prototype,"size",void 0);return b=c=h([g.subclass("esri.symbols.PictureMarkerSymbol")],b)}(g.declared(d))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n){var u=l.ofType({base:null,key:"type",typeMap:{icon:f,object:c,text:e}}),t=l.ofType({base:null,key:"type",typeMap:{icon:f,object:c}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new u;b.type="point-3d";return b}p(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new k("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return m.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return m.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:g.clone(this.verticalOffset),callout:g.clone(this.callout),styleOrigin:g.clone(this.styleOrigin),symbolLayers:g.clone(this.symbolLayers),thumbnail:g.clone(this.thumbnail)})};var c;h([d.property({type:n.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);h([d.property(m.calloutProperty)],b.prototype,"callout",void 0);h([d.property({type:u,json:{type:t}})],b.prototype,"symbolLayers",
void 0);h([d.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);h([d.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=h([d.subclass("esri.symbols.PointSymbol3D")],b)}(d.declared(b))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u){var t=l.ofType({base:null,key:"type",typeMap:{extrude:f,fill:c,icon:b,line:e,object:m,text:u}}),v=l.ofType({base:null,key:"type",typeMap:{extrude:f,fill:c,icon:b,line:e,object:m}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}p(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new k("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:g.clone(this.styleOrigin),symbolLayers:g.clone(this.symbolLayers),thumbnail:g.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var d=b.symbolLayers.getItemAt(0),e=
b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(d.outline={size:e.size,color:e.material.color});b.symbolLayers.removeAt(1)}return b};var c;h([d.property({type:t,json:{type:v}})],b.prototype,"symbolLayers",void 0);h([d.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);h([d.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=c=h([d.subclass("esri.symbols.PolygonSymbol3D")],
b)}(d.declared(n))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(q,a,p,h,l,k,g,d,f,c,b){var e=new g.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",
esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function c(c,d,e){c=a.call(this,c)||this;c.color=new k([0,0,0,.25]);c.outline=new b;c.type="simple-fill";c.style="solid";return c}p(c,a);g=c;c.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};c.prototype.clone=function(){return new g({color:d.clone(this.color),outline:this.outline&&
this.outline.clone(),style:this.style})};var g;h([f.property()],c.prototype,"color",void 0);h([f.property()],c.prototype,"outline",void 0);h([f.enumeration.serializable()({esriSFS:"simple-fill"})],c.prototype,"type",void 0);h([f.property({type:e.apiValues,json:{read:e.read,write:e.write}})],c.prototype,"style",void 0);return c=g=h([f.subclass("esri.symbols.SimpleFillSymbol")],c)}(f.declared(c))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/kebabDictionary ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){var e=new k.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function c(c,d,e,f){c=a.call(this,c)||this;c.color=new l([255,255,255,.25]);c.type="simple-marker";c.size=12;c.style="circle";c.outline=new b;return c}p(c,a);k=c;c.prototype.normalizeCtorArgs=function(a,b,c,e){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);null!=b&&
(f.size=d.toPt(b));c&&(f.outline=c);e&&(f.color=e);return f};c.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())};Object.defineProperty(c.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});c.prototype.clone=function(){return new k({angle:this.angle,color:g.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};
var k;h([f.property()],c.prototype,"color",void 0);h([f.writer("color")],c.prototype,"writeColor",null);h([f.enumeration.serializable()({esriSMS:"simple-marker"})],c.prototype,"type",void 0);h([f.property()],c.prototype,"size",void 0);h([f.property({type:e.apiValues,json:{read:e.read,write:e.write}})],c.prototype,"style",void 0);h([f.property({type:String,json:{write:!0}})],c.prototype,"path",null);h([f.property({type:b,json:{default:null,write:!0}})],c.prototype,"outline",void 0);return c=k=h([f.subclass("esri.symbols.SimpleMarkerSymbol")],
c)}(f.declared(c))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(q,a,p,h,l,k,g,d,f,c){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new f;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=
null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}p(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:k.clone(this.backgroundColor),borderLineColor:k.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:k.clone(this.color),
font:this.font&&this.font.clone(),haloColor:k.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var c;h([d.property({type:l,json:{write:!0}})],b.prototype,"backgroundColor",void 0);h([d.property({type:l,json:{write:!0}})],b.prototype,"borderLineColor",void 0);h([d.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);h([d.property({type:f,json:{write:!0}})],b.prototype,"font",void 0);h([d.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);h([d.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);h([d.property({type:l,json:{write:!0}})],b.prototype,"haloColor",void 0);h([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);h([d.property({type:Boolean,
json:{write:!0}})],b.prototype,"rightToLeft",void 0);h([d.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);h([d.property({type:String,readOnly:!0})],b.prototype,"type",void 0);h([d.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);h([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);h([d.property({type:Number,
cast:g.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);h([d.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);h([d.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=h([d.subclass("esri.symbols.TextSymbol")],b)}(d.declared(c))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){var m=k.getLogger("esri.symbols.WebStyleSymbol"),n=l.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}p(b,a);k=b;b.prototype.read=function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,
portal:this.portal})};b.prototype.fetchSymbol=function(){var a=this;return g.create(function(a){return q(["./support/styleUtils"],a)}).then(function(b){b=b.resolveWebStyleSymbol(a,{portal:a.portal});b.catch(function(a){m.error("#fetchSymbol()","Failed to create symbol from style",a)});return b})};var k;h([f.property({json:{write:!1}})],b.prototype,"color",void 0);h([f.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);h([f.property({type:c,json:{write:!1}})],b.prototype,"portal",
void 0);h([f.property({type:String,json:{read:d.read,write:d.write}})],b.prototype,"styleUrl",void 0);h([f.property({type:e.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);h([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);h([f.property({type:n.apiValues,readOnly:!0,json:{type:n.jsonValues,read:!1,write:n.write}})],b.prototype,"type",void 0);return b=k=h([f.subclass("esri.symbols.WebStyleSymbol")],b)}(f.declared(b))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v,r,w,x){function y(a,b,c){b=a?E[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new h("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function z(a,b,c){if(!a)return null;if(c&&"web-scene"===c.origin&&!a.isInstanceOf(t)&&!a.isInstanceOf(r)){var d=x.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new p("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(a,"__esModule",{value:!0});var E={esriSMS:u,esriPMS:c,esriTS:v,esriSLS:n,esriSFS:m,esriPFS:f,PointSymbol3D:b,LineSymbol3D:g,PolygonSymbol3D:e,MeshSymbol3D:d,LabelSymbol3D:k,styleSymbolReference:r,CIMSymbolReference:l};a.read=y;a.writeTarget=function(a,b,c,d){(a=z(a,{},d))&&(b[c]=
a)};a.write=z;a.fromJSON=function(a,b){return y(a,null,b)};a.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new w}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define("require exports ../../Color ../../symbols ../../core/Error ../../core/lang ../../core/Logger ../../core/mathUtils ../Font ./IconSymbol3DLayerResource".split(" "),function(q,a,p,h,l,k,g,d,f,c){function b(a){var b=a.color?a.color.clone():new p([255,255,255]),
d,f,g,k;if(a instanceof h.PictureMarkerSymbol)a.color&&0===a.color.r&&0===a.color.g&&0===a.color.b&&(b=new p([255,255,255])),d=new c.default({href:a.url}),f=a.width<=a.height?a.height:a.width,(e(a.xoffset)||e(a.yoffset))&&0<a.width&&0<a.height&&(k={x:-(a.xoffset||0)/a.width,y:(a.yoffset||0)/a.height});else{d=c.default;f=a.style;var l=m[f];l?f=l:(n.warn(f+' cannot be mapped to Icon symbol. Fallback to "circle"'),f="circle");d=new d({primitive:f});f=a.size;(e(a.xoffset)||e(a.yoffset))&&0<a.size&&(k=
{x:-(a.xoffset||0)/f,y:(a.yoffset||0)/f});a.outline&&0<a.outline.width&&(g={size:a.outline.width,color:a.outline.color?a.outline.color.clone():[255,255,255]})}return new h.PointSymbol3D(new h.IconSymbol3DLayer({size:f,resource:d,material:{color:b},outline:g,anchor:k?"relative":void 0,anchorPosition:k}))}function e(a){return d.isFinite(a)&&0!==a}Object.defineProperty(a,"__esModule",{value:!0});var m={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null},
n=g.getLogger("esri.symbols.support.symbolConversion");a.to3D=function(a,c,d,e){void 0===c&&(c=!1);void 0===d&&(d=!1);void 0===e&&(e=!0);if(!a)return{symbol:null};if(h.isSymbol3D(a)||a instanceof h.WebStyleSymbol)e=a.clone();else if(a instanceof h.SimpleLineSymbol)e=new h.LineSymbol3D(new h.LineSymbol3DLayer({size:a.width||1,material:{color:a.color?a.color.clone():[255,255,255]}}));else if(a instanceof h.SimpleMarkerSymbol)e=b(a);else if(a instanceof h.PictureMarkerSymbol)e=b(a);else if(a instanceof
h.SimpleFillSymbol)e=new h.FillSymbol3DLayer({material:{color:a.color?a.color.clone():[255,255,255,0]}}),a.outline&&(e.outline={size:a.outline.width||0,color:a.outline.color?a.outline.color.clone():[255,255,255]}),e=new h.PolygonSymbol3D(e);else if(a instanceof h.TextSymbol){var g;g=a.haloColor;var n=a.haloSize;g=g&&0<n?{color:k.clone(g),size:n}:null;n=a.font?a.font.clone():new f;e=new (e?h.LabelSymbol3D:h.PointSymbol3D)(new h.TextSymbol3DLayer({size:n.size,font:n,halo:g,material:{color:a.color.clone()},
text:a.text}))}else return{error:new l("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};c&&(e.id=a.id);if(d&&h.isSymbol3D(e))for(a=0;a<e.symbolLayers.length;++a)e.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:e}}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.isSome=function(a){return null!=a};a.isNone=function(a){return null==
a};a.map=function(a,l){return null!=a?l(a):null};a.unwrap=function(a){return a};a.expect=function(a){return a}})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(q,a,p){function h(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function l(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function k(a,b,c){for(var d=[],e,f,g,k,n=0;n<c.length;n++){var m=c[n];if(0<n){if(g=h(a,m[0]),k=l(a,m[1]),g!==e||k!==f)d.push(b(m,g-e,k-f)),e=g,f=
k}else e=h(a,m[0]),f=l(a,m[1]),d.push(b(m,e,f))}return 0<d.length?d:null}function g(a,b,c,d){return k(a,c?d?D:A:d?A:C,b)}function d(a,b,c,d){var e=[];c=c?d?D:A:d?A:C;for(d=0;d<b.length;d++){var f=k(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function f(a,b,c,d){var e=[];c=c?d?D:A:d?A:C;for(d=0;d<b.length;d++){var f=k(a,c,b[d]);f&&2<=f.length&&e.push(f)}return e.length?e:null}function c(a,b){return b*a.scale[0]+a.translate[0]}function b(a,b){return a.translate[1]-b*a.scale[1]}function e(a,
d,e){var f=Array(e.length);if(!e.length)return f;var g=a.scale,k=g[0],g=g[1],h=c(a,e[0][0]);a=b(a,e[0][1]);f[0]=d(e[0],h,a);for(var n=1;n<e.length;n++){var l=e[n],h=h+l[0]*k;a-=l[1]*g;f[n]=d(l,h,a)}return f}function m(a,b,c){for(var d=Array(c.length),f=0;f<c.length;f++)d[f]=e(a,b,c[f]);return d}function n(a,b,c,d){return e(a,c?d?D:A:d?A:C,b)}function u(a,b,c,d){return m(a,c?d?D:A:d?A:C,b)}function t(a,b,c,d){return m(a,c?d?D:A:d?A:C,b)}function v(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),
g=Math.min(d,b[1]),k=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var h=1;h<c.length;h++){var n=c[h],l=n[0],n=n[1],e=e+l,d=d+n;0>l&&(f=Math.min(f,e));0<l&&(k=Math.max(k,e));0>n?g=Math.min(g,d):0<n&&(b=Math.max(b,d))}a[0]=f;a[1]=g;a[2]=k;a[3]=b;return a}function r(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)v(a,a,b[c]);return a}function w(a,b,c,d,e){b.xmin=h(a,c.xmin);b.ymin=l(a,c.ymin);b.xmax=h(a,c.xmax);b.ymax=l(a,c.ymax);
b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function x(a,b,c,d,e){b.points=g(a,c.points,d,e);return b}function y(a,b,c,d,e){b.x=h(a,c.x);b.y=l(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b}function z(a,b,c,e,f){a=d(a,c.rings,e,f);if(!a)return null;b.rings=a;return b}function E(a,b,c,d,e){a=f(a,c.paths,d,e);if(!a)return null;b.paths=a;return b}Object.defineProperty(a,"__esModule",{value:!0});var C=function(a,b,c){return[b,c]},A=function(a,b,c){return[b,
c,a[2]]},D=function(a,b,c){return[b,c,a[2],a[3]]};a.toQuantizationTransform=function(a){return a?{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};a.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],f=b.translate[1],
b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};a.quantizeX=h;a.quantizeY=l;a.quantizeBounds=function(a,b,c){b[0]=h(a,c[0]);b[3]=l(a,c[1]);b[2]=h(a,c[2]);b[1]=l(a,c[3]);return b};a.quantizePoints=g;a.quantizeRings=d;a.quantizePaths=f;a.hydrateX=c;a.hydrateY=b;a.hydrateCoordsArray=e;a.hydrateCoordsArrayArray=m;a.hydrateBounds=function(a,d,e){return e?(d[0]=c(a,e[0]),d[1]=b(a,e[3]),d[2]=c(a,e[2]),d[3]=b(a,e[1]),d):[c(a,d[0]),b(a,d[3]),c(a,d[2]),b(a,d[1])]};
a.hydratePoints=n;a.hydratePaths=u;a.hydrateRings=t;a.getQuantizedBoundsCoordsArray=v;a.getQuantizedBoundsCoordsArrayArray=r;a.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return v(b,b,a)};a.getQuantizedBoundsPaths=function(a){return r([0,0,0,0],a)};a.getQuantizedBoundsRings=function(a){return r([0,0,0,0],a)};a.quantizeExtent=w;a.quantizeMultipoint=x;a.quantizePoint=y;a.quantizePolygon=z;a.quantizePolyline=
E;a.quantizeGeometry=function(a,b){return a&&b?p.isPoint(b)?y(a,{},b,!1,!1):p.isPolyline(b)?E(a,{},b,!1,!1):p.isPolygon(b)?z(a,{},b,!1,!1):p.isMultipoint(b)?x(a,{},b,!1,!1):p.isExtent(b)?w(a,{},b,!1,!1):null:null};a.hydrateExtent=function(a,d,e,f,g){d.xmin=c(a,e.xmin);d.ymin=b(a,e.ymin);d.xmax=c(a,e.xmax);d.ymax=b(a,e.ymax);d!==e&&(f&&(d.zmin=e.zmin,d.zmax=e.zmax),g&&(d.mmin=e.mmin,d.mmax=e.mmax));return d};a.hydrateMultipoint=function(a,b,c,d,e){b.points=n(a,c.points,d,e);return b};a.hydratePoint=
function(a,d,e,f,g){d.x=c(a,e.x);d.y=b(a,e.y);d!==e&&(f&&(d.z=e.z),g&&(d.m=e.m));return d};a.hydratePolygon=function(a,b,c,d,e){b.rings=t(a,c.rings,d,e);return b};a.hydratePolyline=function(a,b,c,d,e){b.paths=u(a,c.paths,d,e);return b}})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./domains ./fieldType".split(" "),function(q,a,p,h,l,k,g,d){return function(a){function c(b){b=
a.call(this)||this;b.alias=null;b.defaultValue=void 0;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;return b}p(c,a);b=c;c.prototype.clone=function(){return new b({alias:this.alias,defaultValue:this.defaultValue,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type})};var b;h([k.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);h([k.property({json:{write:{allowNull:!0}}})],
c.prototype,"defaultValue",void 0);h([k.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],c.prototype,"domain",void 0);h([k.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);h([k.property({type:Number,json:{write:!0}})],c.prototype,"length",void 0);h([k.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);h([k.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);h([k.property({type:String,json:{read:d.kebabDict.read,write:d.kebabDict.write}})],
c.prototype,"type",void 0);return c=b=h([k.subclass("esri.layers.support.Field")],c)}(k.declared(l))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/kebabDictionary"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.kebabDict=new p.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",
esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils"],function(q,a,p){function h(a,c){if(a===c)return!0;if(null==a||null==c||a.length!==c.length)return!1;for(var b=0;b<a.length;b++){var d=a[b],f=c[b];if(d.length!==f.length)return!1;for(var g=
0;g<d.length;g++)if(d[g]!==f[g])return!1}return!0}function l(a,c){if(a===c)return!0;if(null==a||null==c||a.length!==c.length)return!1;for(var b=0;b<a.length;b++)if(!h(a[b],c[b]))return!1;return!0}function k(a,c){return a===c||a&&c&&a.equals(c)}function g(a,c){if(a===c)return!0;if(!a||!c||a.type!==c.type)return!1;switch(a.type){case "point":return a=k(a.spatialReference,c.spatialReference)?a.x===c.x&&a.y===c.y&&a.z===c.z&&a.m===c.m:!1,a;case "extent":return a=a.hasZ!==c.hasZ||a.hasM!==c.hasM?!1:k(a.spatialReference,
c.spatialReference)?a.xmin===c.xmin&&a.ymin===c.ymin&&a.zmin===c.zmin&&a.xmax===c.xmax&&a.ymax===c.ymax&&a.zmax===c.zmax:!1,a;case "polyline":return a=a.hasZ!==c.hasZ||a.hasM!==c.hasM?!1:k(a.spatialReference,c.spatialReference)?l(a.paths,c.paths):!1,a;case "polygon":return a=a.hasZ!==c.hasZ||a.hasM!==c.hasM?!1:k(a.spatialReference,c.spatialReference)?l(a.rings,c.rings):!1,a;case "multipoint":return a=a.hasZ!==c.hasZ||a.hasM!==c.hasM?!1:k(a.spatialReference,c.spatialReference)?h(a.points,c.points):
!1,a;case "mesh":return!1;default:p.neverReached(a)}}function d(a,c){if(a===c)return!0;if(!a||!c)return!1;var b=Object.keys(a),d=Object.keys(c);if(b.length!==d.length)return!1;for(d=0;d<b.length;d++){var f=b[d];if(a[f]!==c[f])return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.equals=function(a,c){return a===c?!0:null!=a&&null!=c&&a.objectId===c.objectId&&g(a.geometry,c.geometry)&&d(a.attributes,c.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ./mathUtils".split(" "),
function(q,a,p,h,l,k,g,d){function f(b,c,e,f){var g,k;b instanceof l&&c instanceof l&&(e=c.longitude,f=c.latitude,k=b.latitude,g=b.longitude);b=d.deg2rad(k);f=d.deg2rad(f);g=d.deg2rad(g);c=d.deg2rad(e);e=Math.sin((b-f)/2);g=Math.sin((g-c)/2);e=2*d.asin(Math.sqrt(e*e+Math.cos(b)*Math.cos(f)*g*g))*a.earthRadius;return Math.round(1E4*e)/1E4}function c(b,c,e){b=e/a.earthRadius;c=d.deg2rad(c);b=Math.sin(b/2);c=Math.cos(c);c=2*d.asin(Math.sqrt(b*b/(c*c)));return d.rad2deg(c)}function b(b,c,e){return d.rad2deg(e/
a.earthRadius)}function e(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(a,"__esModule",{value:!0});a.earthRadius=p.wgs84Radius;a.halfEarthCircumference=Math.PI*a.earthRadius;a.earthCircumference=2*a.halfEarthCircumference;a.metersPerDegree=a.halfEarthCircumference/180;var m=new l(0,0,k.WGS84);a.getGreatCircleDistance=f;a.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,e=new l(b.x,a.y,d),g=new l(c.x,a.y,d);b=new l(a.x,b.y,d);a=new l(a.x,c.y,d);return{lon:f(e,g),lat:f(b,
a)}};a.getLonDeltaForDistance=c;a.getLatDeltaForDistance=b;a.getLatLonDeltaForDistance=function(a,d,e){return{lat:b(a,d,e),lon:c(a,d,e)}};a.getMaxCameraAltitude=function(b){b=d.deg2rad(b/2);return(1-Math.sin(b))*a.earthRadius/Math.sin(b)};a.getViewExtentDistance=function(b,c){c=d.deg2rad(c/2);return 2*d.acos((Math.pow(b+a.earthRadius,2)+Math.pow(a.earthRadius,2)-Math.pow((b+a.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(b+a.earthRadius),2)-b*b-2*b*a.earthRadius),2))/(2*(b+a.earthRadius)*
a.earthRadius))*a.earthRadius};a.computeCarthesianDistance=function(b,c){function e(b){var c=d.deg2rad(b.latitude),e=d.deg2rad(b.longitude),f=Math.cos(c);b=a.earthRadius+(b.z||0);return[Math.cos(e)*f*b,Math.sin(c)*b,-Math.sin(e)*f*b]}b=e(b);c=e(c);c=[c[0]-b[0],c[1]-b[1],c[2]-b[2]];return Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2])};a.longitudeToTimezone=e;a.positionToTimezone=function(a,b){a.spatialReference.wkid!==k.WGS84.wkid?g.webMercatorToGeographic(a,!1,m):(m.x=a.x,m.y=a.y);m.z=a.z;b||(b={hours:0,
minutes:0,seconds:0});b.hours=e(m.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};a.distanceToIdealHorizon=function(b,c){c=c||a.earthRadius;b=h.vec3.dot(b,b);return Math.sqrt(Math.abs(b-c*c))}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(q,a,p,h){function l(a){return Math.asin(1<a?1:-1>a?-1:a)}function k(a){return Math.acos(1<
a?1:-1>a?-1:a)}function g(a,b,c){return a<b?b:a>c?c:a}function d(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=function(a){return 180*a/Math.PI};a.asin=l;a.acos=k;a.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.isPowerOfTwo=function(a){return 0===
(a&a-1)};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,b){p.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*
b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};a.makeOrthonormal=function(a,b,c){c=c||a;var d=p.vec3.dot(a,b);p.vec3.set(c,a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2]);p.vec3.normalize(c,c)};a.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?p.vec3.set(b,0,1,0):p.vec3.set(b,1,0,0);p.vec3.cross(c,a,b);p.vec3.normalize(b,b);p.vec3.cross(b,c,a);p.vec3.normalize(c,c)};a.moduloPositive=function(a,b){return(a%b+b)%b};a.cartesianToSpherical=function(a,b){var c=p.vec3.length(a),
d=l(a[2]/c);p.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};a.sphericalToCartesian=function(a,b){var c=a[0],d=a[1];a=a[2];var e=Math.cos(d);p.vec3.set(b,c*e*Math.cos(a),c*e*Math.sin(a),c*Math.sin(d))};a.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};a.lerp=function(a,b,c){return a+(b-a)*c};a.bilerp=function(a,b,c,d,e,f){a+=(b-a)*e;return a+(c+(d-c)*e-a)*f};a.slerp=
function(a,b,c,d){void 0===d&&(d=h.vec3f64.create());var f=p.vec3.length(a),g=p.vec3.length(b),k=p.vec3.dot(a,b)/(f*g);if(.9999999999999999>k){var k=Math.acos(k),l=((1-c)*f+c*g)/Math.sin(k),g=l/g*Math.sin(c*k);p.vec3.scale(e,a,l/f*Math.sin((1-c)*k));p.vec3.scale(m,b,g);return p.vec3.add(d,e,m)}return p.vec3.lerp(d,a,b,c)};a.angle=function(a,c,d){a=p.vec3.normalize(e,a);c=p.vec3.normalize(m,c);var f=k(p.vec3.dot(a,c));return d&&(a=p.vec3.cross(b,a,c),0>p.vec3.dot(a,d))?-f:f};a.clamp=g;a.makePiecewiseLinearFunction=
function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;var e=a[d][0];c=(e-c)/(e-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};a.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.floatEqualRelative=function(a,b,c){void 0===c&&(c=1E-6);if(isNaN(a)||isNaN(b))return!1;if(a===b)return!0;var d=Math.abs(a-b),e=Math.abs(a),
f=Math.abs(b);if(0===a||0===b||1E-12>e&&1E-12>f){if(d>.01*c)return!1}else if(d/(e+f)>c)return!1;return!0};a.floatEqualAbsolute=function(a,b,c){void 0===c&&(c=1E-6);return isNaN(a)||isNaN(b)?!1:(a>b?a-b:b-a)<=c};q=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};
a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return g(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=
function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=q;a.planeFromPoints=function(a,b,d,e){p.vec3.subtract(f,b,a);p.vec3.subtract(c,d,a);p.vec3.cross(e,f,c);p.vec3.normalize(e,e);e[3]=-p.vec3.dot(a,e)};var f=h.vec3f64.create(),c=h.vec3f64.create();a.cyclical2PI=
d(new q(0,2*Math.PI));a.cyclicalPI=d(new q(-Math.PI,Math.PI));a.cyclicalDeg=d(new q(0,360));var b=h.vec3f64.create(),e=h.vec3f64.create(),m=h.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});(function(a){a.length=function(a,l){var k=a[l],g=a[l+1];a=a[l+2];return Math.sqrt(k*k+g*g+a*a)};a.normalize=function(a,l){var k=a[l],g=a[l+1],d=a[l+2],k=1/Math.sqrt(k*k+g*g+d*d);a[l]*=k;
a[l+1]*=k;a[l+2]*=k};a.scale=function(a,l,k){a[l]*=k;a[l+1]*=k;a[l+2]*=k};a.add=function(a,l,k,g,d,f){void 0===f&&(f=l);d=d||a;d[f]=a[l]+k[g];d[f+1]=a[l+1]+k[g+1];d[f+2]=a[l+2]+k[g+2]};a.subtract=function(a,l,k,g,d,f){void 0===f&&(f=l);d=d||a;d[f]=a[l]-k[g];d[f+1]=a[l+1]-k[g+1];d[f+2]=a[l+2]-k[g+2]}})(a.Vec3Compact||(a.Vec3Compact={}))})},"esri/views/3d/webgl-engine/lib/Util":function(){define("require exports ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec2f64 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../support/mathUtils".split(" "),
function(q,a,p,h,l,k,g,d,f){function c(a,b){if(!a)throw a=Error(b||"assert"),a.stack&&console.log(a.stack),new t(b);}function b(a){for(var b in a)return b}function e(a,b){a[12]=b[0];a[13]=b[1];a[14]=b[2]}function m(a,b){void 0===b&&(b=0);for(var c=0,d=0;4>d;d++)c+=a[b+d]*r[d];return c}function n(a){return a-Math.floor(a)}Object.defineProperty(a,"__esModule",{value:!0});var u=d.vec4f64.create(),t=function(){function a(a){this.message=a}a.prototype.toString=function(){return"AssertException: "+this.message};
return a}();a.AssertException=t;a.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex",TANGENT:"aTangent"};a.assert=c;a.verify=function(a,b){a||console.warn("Verify failed: "+(b||"")+"\n"+Error("verify").stack)};a.encodeInt16=function(a){return f.clamp(Math.round(32767*a),-32767,32767)};a.encodeNormal=function(a,b){var c=
Math.abs(a[0]),d=Math.abs(a[1]),e=1/(c+d+Math.abs(a[2])),f=Math.min(a[2]*e,0);b[0]=(0>a[0]?-1:1)*(c*e-f);b[1]=(0>a[1]?-1:1)*(d*e-f)};a.fallbackIfUndefined=function(a,b){return void 0===a?b:a};a.hex2rgb=function(a){a=Math.floor(a);return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};a.rgb2hex=function(a){var b=f.clamp(Math.round(255*a[0]),0,255),c=f.clamp(Math.round(255*a[1]),0,255);a=f.clamp(Math.round(255*a[2]),0,255);return"0x"+((b<<16)+(c<<8)+a).toString(16)};a.dec2hex=function(a){a=a.toString(16);
return"00000000".substr(0,8-a.length)+a};a.rayTriangle3D=function(a,b,c,d,e,f,g,h,l){void 0===l&&(l=k.vec3f64.create());var m=d[g]-c[f],n=d[g+1]-c[f+1],p=d[g+2]-c[f+2];d=e[h]-c[f];g=e[h+1]-c[f+1];e=e[h+2]-c[f+2];var r=b[1]*e-g*b[2],t=b[2]*d-e*b[0],q=b[0]*g-d*b[1];h=m*r+n*t+p*q;if(-1E-5<h&&1E-5>h)return!1;h=1/h;var v=a[0]-c[f],u=a[1]-c[f+1];a=a[2]-c[f+2];l[1]=h*(v*r+u*t+a*q);if(0>l[1]||1<l[1])return!1;c=u*p-n*a;a=a*m-p*v;m=v*n-m*u;l[2]=h*(b[0]*c+b[1]*a+b[2]*m);if(0>l[2]||1<l[1]+l[2])return!1;l[0]=
h*(d*c+g*a+e*m);return!0};a.rayBoxTest=function(a,b,c,d){var e,f=(c[0]-a[0])/b[0],g=(d[0]-a[0])/b[0];f>g&&(e=f,f=g,g=e);var k=(c[1]-a[1])/b[1],h=(d[1]-a[1])/b[1];k>h&&(e=k,k=h,h=e);if(f>h||k>g)return!1;k>f&&(f=k);h<g&&(g=h);c=(c[2]-a[2])/b[2];a=(d[2]-a[2])/b[2];c>a&&(e=c,c=a,a=e);if(f>a||c>g)return!1;a<g&&(g=a);return 0>g?!1:!0};a.rayRay2D=function(a,b,c,d,e,f){void 0===f&&(f=l.vec2f64.create());var g=(d[e]-c[e])*(b[0]-a[0])-(d[0]-c[0])*(b[e]-a[e]);if(0===g)return!1;c=((d[0]-c[0])*(a[e]-c[e])-(d[e]-
c[e])*(a[0]-c[0]))/g;f[0]=a[0]+c*(b[0]-a[0]);f[1]=a[e]+c*(b[e]-a[e]);return!0};a.project=function(a,b,d,e,f){f||(f=a);u[0]=a[0];u[1]=a[1];u[2]=a[2];u[3]=1;g.vec4.transformMat4(u,u,b);2<f.length&&(f[2]=-u[2]);g.vec4.transformMat4(u,u,d);c(0!==u[3]);f[0]=u[0]/u[3];f[1]=u[1]/u[3];f[2]=u[2]/u[3];f[0]=(.5*f[0]+.5)*e[2]+e[0];f[1]=(.5*f[1]+.5)*e[3]+e[1]};a.getFirstObjectKey=b;a.getFirstObjectValue=function(a){return a[b(a)]};a.objectEmpty=function(a){for(var b in a)return!1;return!0};a.logWithBase=function(a,
b){return Math.log(a)/Math.log(b)};a.setMatrixTranslation=e;a.setMatrixTranslation3=function(a,b,c,d){a[12]=b;a[13]=c;a[14]=d};a.getMatrixTranslation=function(a,b){void 0===b&&(b=k.vec3f64.create());b[0]=a[12];b[1]=a[13];b[2]=a[14];return b};a.createTranslationMatrix=function(a,b){a=p.mat4.identity(a);e(a,b);return a};a.isTranslationMatrix=function(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&0===a[11]&&1===a[15]};a.fovx2fovy=
function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.fovx2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/b)};a.fovy2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/c)};a.fovd2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};a.fovd2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};a.packFloatRGBA=function(a,b,c){void 0===
c&&(c=0);a=f.clamp(a,0,w);for(var d=0;4>d;d++)b[c+d]=Math.floor(256*n(a*v[d]))};a.unpackFloatRGBA=m;var v=[1,256,65536,16777216],r=[1/256,1/65536,1/16777216,1/4294967296],w=m(new Uint8ClampedArray([255,255,255,255]));a.inverseProjectionInfo=function(a,b,c,d,e){0===a[11]?(d[0]=2/(b*a[0]),d[1]=2/(c*a[5]),d[2]=(1+a[12])/a[0],d[3]=(1+a[13])/a[5],h.vec2.set(e,0,1)):(d[0]=-2/(b*a[0]),d[1]=-2/(c*a[5]),d[2]=(1-a[8])/a[0],d[3]=(1-a[9])/a[5],h.vec2.set(e,1,0))}})},"esri/core/libs/gl-matrix-2/vec2":function(){define(["require",
"exports","./math/vec2"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec2=p})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require","exports","./common"],function(q,a,p){function h(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];return a}function l(a,c,d){a[0]=c[0]*d[0];a[1]=c[1]*d[1];return a}function k(a,c,d){a[0]=c[0]/d[0];a[1]=c[1]/d[1];return a}function g(a,c){var b=c[0]-a[0];a=c[1]-a[1];return Math.sqrt(b*b+a*a)}function d(a,c){var b=c[0]-a[0];a=c[1]-a[1];return b*
b+a*a}function f(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function c(a){var b=a[0];a=a[1];return b*b+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,c){a[0]=c[0];a[1]=c[1];return a};a.set=function(a,c,d){a[0]=c;a[1]=d;return a};a.add=function(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];return a};a.subtract=h;a.multiply=l;a.divide=k;a.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);return a};a.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);return a};
a.min=function(a,c,d){a[0]=Math.min(c[0],d[0]);a[1]=Math.min(c[1],d[1]);return a};a.max=function(a,c,d){a[0]=Math.max(c[0],d[0]);a[1]=Math.max(c[1],d[1]);return a};a.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);return a};a.scale=function(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;return a};a.scaleAndAdd=function(a,c,d,f){a[0]=c[0]+d[0]*f;a[1]=c[1]+d[1]*f;return a};a.distance=g;a.squaredDistance=d;a.length=f;a.squaredLength=c;a.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];return a};a.inverse=
function(a,c){a[0]=1/c[0];a[1]=1/c[1];return a};a.normalize=function(a,c){var b=c[0],d=c[1],b=b*b+d*d;0<b&&(b=1/Math.sqrt(b),a[0]=c[0]*b,a[1]=c[1]*b);return a};a.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]};a.cross=function(a,c,d){c=c[0]*d[1]-c[1]*d[0];a[0]=a[1]=0;a[2]=c;return a};a.lerp=function(a,c,d,f){var b=c[0];c=c[1];a[0]=b+f*(d[0]-b);a[1]=c+f*(d[1]-c);return a};a.random=function(a,c){c=c||1;var b=2*p.RANDOM()*Math.PI;a[0]=Math.cos(b)*c;a[1]=Math.sin(b)*c;return a};a.transformMat2=function(a,
c,d){var b=c[0];c=c[1];a[0]=d[0]*b+d[2]*c;a[1]=d[1]*b+d[3]*c;return a};a.transformMat2d=function(a,c,d){var b=c[0];c=c[1];a[0]=d[0]*b+d[2]*c+d[4];a[1]=d[1]*b+d[3]*c+d[5];return a};a.transformMat3=function(a,c,d){var b=c[0];c=c[1];a[0]=d[0]*b+d[3]*c+d[6];a[1]=d[1]*b+d[4]*c+d[7];return a};a.transformMat4=function(a,c,d){var b=c[0];c=c[1];a[0]=d[0]*b+d[4]*c+d[12];a[1]=d[1]*b+d[5]*c+d[13];return a};a.rotate=function(a,c,d,f){var b=c[0]-d[0];c=c[1]-d[1];var e=Math.sin(f);f=Math.cos(f);a[0]=b*f-c*e+d[0];
a[1]=b*e+c*f+d[1];return a};a.angle=function(a,c){var b=a[0];a=a[1];var d=c[0];c=c[1];var e=b*b+a*a;0<e&&(e=1/Math.sqrt(e));var f=d*d+c*c;0<f&&(f=1/Math.sqrt(f));b=(b*d+a*c)*e*f;return 1<b?0:-1>b?Math.PI:Math.acos(b)};a.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]};a.equals=function(a,c){var b=a[0];a=a[1];var d=c[0];c=c[1];return Math.abs(b-d)<=p.EPSILON*Math.max(1,Math.abs(b),Math.abs(d))&&Math.abs(a-c)<=p.EPSILON*Math.max(1,Math.abs(a),
Math.abs(c))};a.len=f;a.sub=h;a.mul=l;a.div=k;a.dist=g;a.sqrDist=d;a.sqrLen=c})},"esri/core/libs/gl-matrix-2/vec4":function(){define(["require","exports","./math/vec4"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec4=p})},"esri/core/libs/gl-matrix-2/vec4f64":function(){define(["require","exports","./factories/vec4f64"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec4f64=p})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["require",
"exports"],function(q,a){function p(){return[0,0,0,0]}Object.defineProperty(a,"__esModule",{value:!0});a.create=p;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,l,k,g){return[a,l,k,g]};a.fromArray=function(a){for(var h=p(),k=Math.min(4,a.length),g=0;g<k;++g)h[g]=a[g];return h};a.createView=function(a,l){return new Float64Array(a,l,4)}})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define("require exports ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/earthUtils ../../support/projectionUtils ../../webgl-engine/lib/localOrigin".split(" "),
function(q,a,p,h,l,k,g,d){function f(a,b,c){var d=l.vec3f64.create(),f=Math.ceil(Math.log(a[3])*Math.LOG2E/m),g=Math.pow(2,f*m+e),h;if(c.isGeographic){h=g/k.earthRadius*180/Math.PI;c=Math.round(a[1]/h);var n=Math.max(-90,Math.min(90,c*h)),p=h/Math.cos((Math.abs(n)-h/2)/180*Math.PI);h=Math.round(a[0]/p);d[0]=h*p;d[1]=n}else h=Math.round(a[0]/g),c=Math.round(a[1]/g),d[0]=h*g,d[1]=c*g;a=Math.round((a[2]+b)/g);d[2]=a*g;return{center:d,id:f+"_"+h+"_"+c+"_"+a}}Object.defineProperty(a,"__esModule",{value:!0});
var c=new Float64Array(3E3),b=l.vec3f64.create();a.computeGlobalTransformation=function(a,b,c,d){a=f(a,b,c).center;b=p.mat4f64.create();g.computeLinearTransformation(c,a,b,d);return b};a.reprojectPoints=function(a,d,e,f,k,l,m){var n=a.data,p=a.offsetIdx;a=a.strideIdx;h.vec3.copy(b,d);b[2]+=f;d=[0,0,0];f=n.length/a;g.vectorToVector(b,k,d,l);for(k=0;k<f;k+=1E3){for(var r=Math.min(1E3,f-k),t=0;t<r;t++){var q=p+a*(k+t);c[3*t+0]=n[q+0]+d[0];c[3*t+1]=n[q+1]+d[1];c[3*t+2]=n[q+2]+d[2]}g.bufferToBuffer(c,
l,0,c,m,0,r);for(t=0;t<r;t++){var q=c[3*t+0],v=c[3*t+1],u=c[3*t+2],x=p+a*(k+t);n[x+0]=e[0]*q+e[4]*v+e[8]*u+e[12];n[x+1]=e[1]*q+e[5]*v+e[9]*u+e[13];n[x+2]=e[2]*q+e[6]*v+e[10]*u+e[14]}}};a.createOrigin=function(a,b,c,e){b=f(a,b,c);a=b.center;b=b.id;g.vectorToVector(a,c,a,e);return d.fromVector(a,b)};var e=1,m=5-e})},"esri/views/3d/webgl-engine/lib/localOrigin":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3f64"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});
a.fromVector=function(a,l){return{vec3:p.vec3f64.clone(a),id:l}};a.fromValues=function(a,l,k,g){return{vec3:p.vec3f64.fromValues(a,l,k),id:g}}})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f32 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/support/aaBoundingBox ./dito ./geometryUtils".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){function m(a,b,c){return{center:f.vec3f64.clone(a),halfSize:d.vec3f32.clone(b),quaternion:k.quatf32.clone(c)}}function n(a,b){var c=e.plane.signedDistance(b,a.center);a=u(a,b);return c>a?1:c<-a?-1:0}function u(a,b){l.quat.conjugate(t,a.quaternion);g.vec3.transformQuat(v,b,t);a=a.halfSize;return Math.abs(v[0]*a[0])+Math.abs(v[1]*a[1])+Math.abs(v[2]*a[2])}Object.defineProperty(a,"__esModule",{value:!0});var t=k.quatf32.create(),v=d.vec3f32.create(),r=d.vec3f32.create(),
w=h.mat3f32.create();q=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=0;b<a;b++)this.obbs[b]={center:f.vec3f64.createView(this.buffer,56*b+0),halfSize:d.vec3f32.createView(this.buffer,56*b+24),quaternion:k.quatf32.createView(this.buffer,56*b+36)}}}();a.ObbArray=q;a.create=m;a.clone=function(a){return m(a.center,a.halfSize,a.quaternion)};a.set=function(a,b){g.vec3.copy(b.center,a.center);g.vec3.copy(b.halfSize,a.halfSize);l.quat.copy(b.quaternion,a.quaternion)};
a.compute=function(a,c){c||(c=m([0,0,0],[-1,-1,-1],[0,0,0,1]));b.computeOBB(a,c);return c};a.intersectPlane=n;a.toAaBoundingBox=function(a,b){b||(b=c.create());var d=p.mat3.fromQuat(w,a.quaternion),e=a.halfSize[0]*Math.abs(d[0])+a.halfSize[1]*Math.abs(d[3])+a.halfSize[2]*Math.abs(d[6]),f=a.halfSize[0]*Math.abs(d[1])+a.halfSize[1]*Math.abs(d[4])+a.halfSize[2]*Math.abs(d[7]),d=a.halfSize[0]*Math.abs(d[2])+a.halfSize[1]*Math.abs(d[5])+a.halfSize[2]*Math.abs(d[8]);b[0]=a.center[0]-e;b[1]=a.center[1]-
f;b[2]=a.center[2]-d;b[3]=a.center[0]+e;b[4]=a.center[1]+f;b[5]=a.center[2]+d;return b};a.minimumDistancePlane=function(a,b){var c=e.plane.signedDistance(b,a.center);a=u(a,b);return c-a};a.maximumDistancePlane=function(a,b){var c=e.plane.signedDistance(b,a.center);a=u(a,b);return c+a};a.isVisible=function(a,b){return 0>=n(a,b.planes[0])&&0>=n(a,b.planes[1])&&0>=n(a,b.planes[2])&&0>=n(a,b.planes[3])&&0>=n(a,b.planes[4])&&0>=n(a,b.planes[5])};a.intersectLine=function(a,b,c,d){void 0===d&&(d=0);l.quat.conjugate(t,
a.quaternion);g.vec3.subtract(v,b,a.center);b=g.vec3.transformQuat(v,v,t);c=g.vec3.transformQuat(r,c,t);for(var e=-Infinity,f=Infinity,k=0;3>k;k++)if(1E-6<Math.abs(c[k]))var h=(d+a.halfSize[k]-b[k])/c[k],m=(-d-a.halfSize[k]-b[k])/c[k],e=Math.max(e,Math.min(h,m)),f=Math.min(f,Math.max(h,m));else if(b[k]>a.halfSize[k]+d||b[k]<-a.halfSize[k]-d)return!1;return e<=f}})},"esri/core/libs/gl-matrix-2/mat3":function(){define(["require","exports","./math/mat3"],function(q,a,p){Object.defineProperty(a,"__esModule",
{value:!0});a.mat3=p})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["require","exports","./common"],function(q,a,p){function h(a,g,d){var f=g[0],c=g[1],b=g[2],e=g[3],k=g[4],h=g[5],l=g[6],p=g[7];g=g[8];var q=d[0],r=d[1],w=d[2],x=d[3],y=d[4],z=d[5],E=d[6],C=d[7];d=d[8];a[0]=q*f+r*e+w*l;a[1]=q*c+r*k+w*p;a[2]=q*b+r*h+w*g;a[3]=x*f+y*e+z*l;a[4]=x*c+y*k+z*p;a[5]=x*b+y*h+z*g;a[6]=E*f+C*e+d*l;a[7]=E*c+C*k+d*p;a[8]=E*b+C*h+d*g;return a}function l(a,g,d){a[0]=g[0]-d[0];a[1]=g[1]-d[1];a[2]=g[2]-
d[2];a[3]=g[3]-d[3];a[4]=g[4]-d[4];a[5]=g[5]-d[5];a[6]=g[6]-d[6];a[7]=g[7]-d[7];a[8]=g[8]-d[8];return a}Object.defineProperty(a,"__esModule",{value:!0});a.fromMat4=function(a,g){a[0]=g[0];a[1]=g[1];a[2]=g[2];a[3]=g[4];a[4]=g[5];a[5]=g[6];a[6]=g[8];a[7]=g[9];a[8]=g[10];return a};a.copy=function(a,g){a[0]=g[0];a[1]=g[1];a[2]=g[2];a[3]=g[3];a[4]=g[4];a[5]=g[5];a[6]=g[6];a[7]=g[7];a[8]=g[8];return a};a.set=function(a,g,d,f,c,b,e,h,l,p){a[0]=g;a[1]=d;a[2]=f;a[3]=c;a[4]=b;a[5]=e;a[6]=h;a[7]=l;a[8]=p;return a};
a.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.transpose=function(a,g){if(a===g){var d=g[1],f=g[2],c=g[5];a[1]=g[3];a[2]=g[6];a[3]=d;a[5]=g[7];a[6]=f;a[7]=c}else a[0]=g[0],a[1]=g[3],a[2]=g[6],a[3]=g[1],a[4]=g[4],a[5]=g[7],a[6]=g[2],a[7]=g[5],a[8]=g[8];return a};a.invert=function(a,g){var d=g[0],f=g[1],c=g[2],b=g[3],e=g[4],k=g[5],h=g[6],l=g[7];g=g[8];var p=g*e-k*l,q=-g*b+k*h,r=l*b-e*h,w=d*p+f*q+c*r;if(!w)return null;w=1/w;a[0]=p*w;a[1]=(-g*f+c*l)*
w;a[2]=(k*f-c*e)*w;a[3]=q*w;a[4]=(g*d-c*h)*w;a[5]=(-k*d+c*b)*w;a[6]=r*w;a[7]=(-l*d+f*h)*w;a[8]=(e*d-f*b)*w;return a};a.adjoint=function(a,g){var d=g[0],f=g[1],c=g[2],b=g[3],e=g[4],k=g[5],h=g[6],l=g[7];g=g[8];a[0]=e*g-k*l;a[1]=c*l-f*g;a[2]=f*k-c*e;a[3]=k*h-b*g;a[4]=d*g-c*h;a[5]=c*b-d*k;a[6]=b*l-e*h;a[7]=f*h-d*l;a[8]=d*e-f*b;return a};a.determinant=function(a){var g=a[3],d=a[4],f=a[5],c=a[6],b=a[7],e=a[8];return a[0]*(e*d-f*b)+a[1]*(-e*g+f*c)+a[2]*(b*g-d*c)};a.multiply=h;a.translate=function(a,g,d){var f=
g[0],c=g[1],b=g[2],e=g[3],k=g[4],h=g[5],l=g[6],p=g[7];g=g[8];var q=d[0];d=d[1];a[0]=f;a[1]=c;a[2]=b;a[3]=e;a[4]=k;a[5]=h;a[6]=q*f+d*e+l;a[7]=q*c+d*k+p;a[8]=q*b+d*h+g;return a};a.rotate=function(a,g,d){var f=g[0],c=g[1],b=g[2],e=g[3],k=g[4],h=g[5],l=g[6],p=g[7];g=g[8];var q=Math.sin(d);d=Math.cos(d);a[0]=d*f+q*e;a[1]=d*c+q*k;a[2]=d*b+q*h;a[3]=d*e-q*f;a[4]=d*k-q*c;a[5]=d*h-q*b;a[6]=l;a[7]=p;a[8]=g;return a};a.scale=function(a,g,d){var f=d[0];d=d[1];a[0]=f*g[0];a[1]=f*g[1];a[2]=f*g[2];a[3]=d*g[3];a[4]=
d*g[4];a[5]=d*g[5];a[6]=g[6];a[7]=g[7];a[8]=g[8];return a};a.fromTranslation=function(a,g){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=g[0];a[7]=g[1];a[8]=1;return a};a.fromRotation=function(a,g){var d=Math.sin(g);g=Math.cos(g);a[0]=g;a[1]=d;a[2]=0;a[3]=-d;a[4]=g;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.fromScaling=function(a,g){a[0]=g[0];a[1]=0;a[2]=0;a[3]=0;a[4]=g[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.fromMat2d=function(a,g){a[0]=g[0];a[1]=g[1];a[2]=0;a[3]=g[2];a[4]=g[3];a[5]=0;a[6]=g[4];
a[7]=g[5];a[8]=1;return a};a.fromQuat=function(a,g){var d=g[0],f=g[1],c=g[2];g=g[3];var b=d+d,e=f+f,k=c+c,d=d*b,h=f*b,f=f*e,l=c*b,p=c*e,c=c*k,b=g*b,e=g*e;g*=k;a[0]=1-f-c;a[3]=h-g;a[6]=l+e;a[1]=h+g;a[4]=1-d-c;a[7]=p-b;a[2]=l-e;a[5]=p+b;a[8]=1-d-f;return a};a.normalFromMat4Legacy=function(a,g){var d=g[0],f=g[1],c=g[2],b=g[4],e=g[5],k=g[6],h=g[8],l=g[9];g=g[10];var p=g*e-k*l,q=-g*b+k*h,r=l*b-e*h,w=d*p+f*q+c*r;if(!w)return null;w=1/w;a[0]=p*w;a[1]=(-g*f+c*l)*w;a[2]=(k*f-c*e)*w;a[3]=q*w;a[4]=(g*d-c*h)*
w;a[5]=(-k*d+c*b)*w;a[6]=r*w;a[7]=(-l*d+f*h)*w;a[8]=(e*d-f*b)*w;return a};a.normalFromMat4=function(a,g){var d=g[0],f=g[1],c=g[2],b=g[3],e=g[4],k=g[5],h=g[6],l=g[7],p=g[8],q=g[9],r=g[10],w=g[11],x=g[12],y=g[13],z=g[14];g=g[15];var E=d*k-f*e,C=d*h-c*e,A=d*l-b*e,D=f*h-c*k,F=f*l-b*k,H=c*l-b*h,B=p*y-q*x,G=p*z-r*x,p=p*g-w*x,K=q*z-r*y,q=q*g-w*y,r=r*g-w*z,w=E*r-C*q+A*K+D*p-F*G+H*B;if(!w)return null;w=1/w;a[0]=(k*r-h*q+l*K)*w;a[1]=(h*p-e*r-l*G)*w;a[2]=(e*q-k*p+l*B)*w;a[3]=(c*q-f*r-b*K)*w;a[4]=(d*r-c*p+b*
G)*w;a[5]=(f*p-d*q-b*B)*w;a[6]=(y*H-z*F+g*D)*w;a[7]=(z*A-x*H-g*C)*w;a[8]=(x*F-y*A+g*E)*w;return a};a.projection=function(a,g,d){a[0]=2/g;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/d;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a};a.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+
Math.pow(a[8],2))};a.add=function(a,g,d){a[0]=g[0]+d[0];a[1]=g[1]+d[1];a[2]=g[2]+d[2];a[3]=g[3]+d[3];a[4]=g[4]+d[4];a[5]=g[5]+d[5];a[6]=g[6]+d[6];a[7]=g[7]+d[7];a[8]=g[8]+d[8];return a};a.subtract=l;a.multiplyScalar=function(a,g,d){a[0]=g[0]*d;a[1]=g[1]*d;a[2]=g[2]*d;a[3]=g[3]*d;a[4]=g[4]*d;a[5]=g[5]*d;a[6]=g[6]*d;a[7]=g[7]*d;a[8]=g[8]*d;return a};a.multiplyScalarAndAdd=function(a,g,d,f){a[0]=g[0]+d[0]*f;a[1]=g[1]+d[1]*f;a[2]=g[2]+d[2]*f;a[3]=g[3]+d[3]*f;a[4]=g[4]+d[4]*f;a[5]=g[5]+d[5]*f;a[6]=g[6]+
d[6]*f;a[7]=g[7]+d[7]*f;a[8]=g[8]+d[8]*f;return a};a.exactEquals=function(a,g){return a[0]===g[0]&&a[1]===g[1]&&a[2]===g[2]&&a[3]===g[3]&&a[4]===g[4]&&a[5]===g[5]&&a[6]===g[6]&&a[7]===g[7]&&a[8]===g[8]};a.equals=function(a,g){var d=a[0],f=a[1],c=a[2],b=a[3],e=a[4],h=a[5],k=a[6],l=a[7];a=a[8];var q=g[0],v=g[1],r=g[2],w=g[3],x=g[4],y=g[5],z=g[6],E=g[7];g=g[8];return Math.abs(d-q)<=p.EPSILON*Math.max(1,Math.abs(d),Math.abs(q))&&Math.abs(f-v)<=p.EPSILON*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(c-
r)<=p.EPSILON*Math.max(1,Math.abs(c),Math.abs(r))&&Math.abs(b-w)<=p.EPSILON*Math.max(1,Math.abs(b),Math.abs(w))&&Math.abs(e-x)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(h-y)<=p.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(k-z)<=p.EPSILON*Math.max(1,Math.abs(k),Math.abs(z))&&Math.abs(l-E)<=p.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(a-g)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))};a.mul=h;a.sub=l})},"esri/core/libs/gl-matrix-2/mat3f32":function(){define(["require",
"exports","./factories/mat3f32"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.mat3f32=p})},"esri/core/libs/gl-matrix-2/factories/mat3f32":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){var a=new Float32Array(9);a[0]=1;a[4]=1;a[8]=1;return a};a.clone=function(a){var h=new Float32Array(9);h[0]=a[0];h[1]=a[1];h[2]=a[2];h[3]=a[3];h[4]=a[4];h[5]=a[5];h[6]=a[6];h[7]=a[7];h[8]=a[8];return h};a.fromValues=function(a,
h,l,k,g,d,f,c,b){var e=new Float32Array(9);e[0]=a;e[1]=h;e[2]=l;e[3]=k;e[4]=g;e[5]=d;e[6]=f;e[7]=c;e[8]=b;return e};a.createView=function(a,h){return new Float32Array(a,h,9)}})},"esri/views/3d/support/dito":function(){define(["require","exports"],function(q,a){function p(a,b,c,f,g,k){if(!(1E-6>b[0]*b[0]+b[1]*b[1]+b[2]*b[2]))for(m(H,c,b),m(B,f,b),m(G,g,b),h(a,b,F),I[1]=F[0],K[1]=F[1],J[1]=K[1]-I[1],c=[c,f,g],f=[H,B,G],g=0;3>g;++g){h(a,c[g],F);I[0]=F[0];K[0]=F[1];h(a,f[g],F);I[2]=F[0];K[2]=F[1];J[0]=
K[0]-I[0];J[2]=K[2]-I[2];var l=d(J);l<k.quality&&(e(k.b0,c[g]),e(k.b1,b),e(k.b2,f[g]),k.quality=l)}}function h(a,b,c){var d=a.data,e=a.offsetIdx;a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;e<d.length;e+=a){var f=d[e]*b[0]+d[e+1]*b[1]+d[e+2]*b[2];c[0]=Math.min(c[0],f);c[1]=Math.max(c[1],f)}}function l(a,c,d){e(d.center,a);b(d.halfSize,c,.5);d.quaternion[0]=0;d.quaternion[1]=0;d.quaternion[2]=0;d.quaternion[3]=1}function k(a,b,c,d,e,f){h(a,b,F);e[0]=F[0];f[0]=F[1];
h(a,c,F);e[1]=F[0];f[1]=F[1];h(a,d,F);e[2]=F[0];f[2]=F[1]}function g(a,c,d,e,g,h,k){P[0]=a[0];P[1]=a[1];P[2]=a[2];P[3]=c[0];P[4]=c[1];P[5]=c[2];P[6]=d[0];P[7]=d[1];P[8]=d[2];var l=k.quaternion,m=P,n=m[0]+m[4]+m[8];if(0<n)n=Math.sqrt(n+1),l[3]=.5*n,n=.5/n,l[0]=(m[5]-m[7])*n,l[1]=(m[6]-m[2])*n,l[2]=(m[1]-m[3])*n;else{var p=0;m[4]>m[0]&&(p=1);m[8]>m[3*p+p]&&(p=2);var r=(p+1)%3,q=(p+2)%3,n=Math.sqrt(m[3*p+p]-m[3*r+r]-m[3*q+q]+1);l[p]=.5*n;n=.5/n;l[3]=(m[3*r+q]-m[3*q+r])*n;l[r]=(m[3*r+p]+m[3*p+r])*n;l[q]=
(m[3*q+p]+m[3*p+q])*n}f(M,e,g);b(M,M,.5);b(k.center,a,M[0]);b(S,c,M[1]);f(k.center,k.center,S);b(S,d,M[2]);f(k.center,k.center,S);b(k.halfSize,h,.5)}function d(a){return a[0]*a[1]+a[0]*a[2]+a[1]*a[2]}function f(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2]}function c(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2]}function b(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c}function e(a,b,c){void 0===c&&(c=0);a[0]=b[c+0];a[1]=b[c+1];a[2]=b[c+2]}function m(a,b,c){var d=b[0],e=b[1];b=b[2];var f=
c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f}function n(a,b){var c=b[0]*b[0]+b[1]*b[1]+b[2]*b[2];0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c)}function u(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a}Object.defineProperty(a,"__esModule",{value:!0});var t=[0,0,0],v=[0,0,0];a.computeOBB=function(a,h){var q=a.data.length/a.strideIdx;if(!(0>=q)){var B=new ca(a);f(t,B.minProj,B.maxProj);b(t,t,.5);c(v,B.maxProj,B.minProj);var H=d(v),G=new da;G.quality=H;14>q&&
(a={data:new Float64Array(B.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var S=[0,0,0],I=[0,0,0],K=[0,0,0],q=[0,0,0],J=[0,0,0],P=[0,0,0],U=[0,0,0],M;M=a;for(var aa=u(B.maxVert[0],B.minVert[0]),X=0,W=1;7>W;++W){var Z=u(B.maxVert[W],B.minVert[W]);Z>aa&&(aa=Z,X=W)}e(S,B.minVert[X]);e(I,B.maxVert[X]);if(1E-6>u(S,I))M=1;else{c(q,S,I);n(q,q);B=M.data;aa=M.strideIdx;X=Number.NEGATIVE_INFINITY;W=0;for(Z=M.offsetIdx;Z<B.length;Z+=aa){D[0]=B[Z]-S[0];D[1]=B[Z+1]-S[1];D[2]=B[Z+2]-S[2];var Y=q[0]*D[0]+q[1]*
D[1]+q[2]*D[2],Y=D[0]*D[0]+D[1]*D[1]+D[2]*D[2]-Y*Y/(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]);Y>X&&(X=Y,W=Z)}e(K,B,W);1E-6>X?M=2:(c(J,I,K),n(J,J),c(P,K,S),n(P,P),m(U,J,q),n(U,U),p(M,U,q,J,P,G),M=0)}switch(M){case 1:l(t,v,h);return;case 2:H=a;e(N,q);Math.abs(q[0])>Math.abs(q[1])&&Math.abs(q[0])>Math.abs(q[2])?N[0]=0:Math.abs(q[1])>Math.abs(q[2])?N[1]=0:N[2]=0;1E-6>N[0]*N[0]+N[1]*N[1]+N[2]*N[2]&&(N[0]=N[1]=N[2]=1);m(O,q,N);n(O,O);m(R,q,O);n(R,R);k(H,q,O,R,T,L);c(V,L,T);g(q,O,R,T,L,V,h);return}M=a;B=r;aa=w;X=F;
W=M.data;Y=M.offsetIdx;Z=M.strideIdx;e(aa,W,Y);e(B,aa);X[0]=Q[0]*U[0]+Q[1]*U[1]+Q[2]*U[2];X[1]=X[0];for(Y+=Z;Y<W.length;Y+=Z){var ea=W[Y]*U[0]+W[Y+1]*U[1]+W[Y+2]*U[2];ea<X[0]&&(X[0]=ea,e(aa,W,Y));ea>X[1]&&(X[1]=ea,e(B,W,Y))}U=S[0]*U[0]+S[1]*U[1]+S[2]*U[2];F[1]-1E-6<=U&&(B[0]=void 0);F[0]+1E-6>=U&&(aa[0]=void 0);void 0!==r[0]&&(c(x,r,S),n(x,x),c(y,r,I),n(y,y),c(z,r,K),n(z,z),m(E,y,q),n(E,E),m(C,z,J),n(C,C),m(A,x,P),n(A,A),p(M,E,q,y,x,G),p(M,C,J,z,y,G),p(M,A,P,x,z,G));void 0!==w[0]&&(c(x,w,S),n(x,x),
c(y,w,I),n(y,y),c(z,w,K),n(z,z),m(E,y,q),n(E,E),m(C,z,J),n(C,C),m(A,x,P),n(A,A),p(M,E,q,y,x,G),p(M,C,J,z,y,G),p(M,A,P,x,z,G));k(a,G.b0,G.b1,G.b2,T,L);a=[0,0,0];c(a,L,T);G.quality=d(a);G.quality<H?g(G.b0,G.b1,G.b2,T,L,a,h):l(t,v,h)}};var r=[0,0,0],w=[0,0,0],x=[0,0,0],y=[0,0,0],z=[0,0,0],E=[0,0,0],C=[0,0,0],A=[0,0,0],D=[0,0,0],F=[0,0],H=[0,0,0],B=[0,0,0],G=[0,0,0],K=[0,0,0],I=[0,0,0],J=[0,0,0],Q=[0,0,0],N=[0,0,0],O=[0,0,0],R=[0,0,0],T=[0,0,0],L=[0,0,0],V=[0,0,0],S=[0,0,0],P=[1,0,0,0,1,0,0,0,1],M=[0,
0,0],ca=function(){return function(a){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(var b=b+56,c=0;7>c;++c)this.minVert[c]=new Float64Array(this.buffer,b,3),b+=24;for(c=0;7>c;++c)this.maxVert[c]=new Float64Array(this.buffer,b,3),b+=24;for(c=0;7>c;++c)this.minProj[c]=Number.POSITIVE_INFINITY,this.maxProj[c]=Number.NEGATIVE_INFINITY;for(var b=Array(7),d=Array(7),
f=a.data,g=a.strideIdx,c=a.offsetIdx;c<f.length;c+=g)a=f[c],a<this.minProj[0]&&(this.minProj[0]=a,b[0]=c),a>this.maxProj[0]&&(this.maxProj[0]=a,d[0]=c),a=f[c+1],a<this.minProj[1]&&(this.minProj[1]=a,b[1]=c),a>this.maxProj[1]&&(this.maxProj[1]=a,d[1]=c),a=f[c+2],a<this.minProj[2]&&(this.minProj[2]=a,b[2]=c),a>this.maxProj[2]&&(this.maxProj[2]=a,d[2]=c),a=f[c]+f[c+1]+f[c+2],a<this.minProj[3]&&(this.minProj[3]=a,b[3]=c),a>this.maxProj[3]&&(this.maxProj[3]=a,d[3]=c),a=f[c]+f[c+1]-f[c+2],a<this.minProj[4]&&
(this.minProj[4]=a,b[4]=c),a>this.maxProj[4]&&(this.maxProj[4]=a,d[4]=c),a=f[c]-f[c+1]+f[c+2],a<this.minProj[5]&&(this.minProj[5]=a,b[5]=c),a>this.maxProj[5]&&(this.maxProj[5]=a,d[5]=c),a=f[c]-f[c+1]-f[c+2],a<this.minProj[6]&&(this.minProj[6]=a,b[6]=c),a>this.maxProj[6]&&(this.maxProj[6]=a,d[6]=c);for(c=0;7>c;++c)a=b[c],e(this.minVert[c],f,a),a=d[c],e(this.maxVert[c],f,a)}}(),da=function(){return function(){this.b0=[1,0,0];this.b1=[0,1,0];this.b2=[0,0,1];this.quality=0}}()})},"esri/views/3d/support/geometryUtils":function(){define("require exports ./geometryUtils/axisAngle ./geometryUtils/boundedPlane ./geometryUtils/frustum ./geometryUtils/lineSegment ./geometryUtils/plane ./geometryUtils/ray ./geometryUtils/sphere ./geometryUtils/triangle ./geometryUtils/vector".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){Object.defineProperty(a,"__esModule",{value:!0});a.plane=g;a.boundedPlane=h;a.triangle=c;a.lineSegment=k;a.ray=d;a.sphere=f;a.frustum=l;a.vector=b;a.axisAngle=p})},"esri/views/3d/support/geometryUtils/axisAngle":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3","../stack","./vector"],function(q,a,p,h,l){function k(d){void 0===d&&(d=a.UP);return[d[0],d[1],d[2],d[3]]}function g(a,f,c,b,e){void 0===e&&(e=k());e[0]=a;e[1]=f;e[2]=c;e[3]=b;return e}
Object.defineProperty(a,"__esModule",{value:!0});a.create=k;a.wrap=function(a,f,c,b){return g(a,f,c,b,h.sv4d.get())};a.wrapAxisAngle=function(a,f){return g(a[0],a[1],a[2],f,h.sv4d.get())};a.copy=function(a,f){void 0===f&&(f=k());return g(a[0],a[1],a[2],a[3],f)};a.fromValues=g;a.fromAxisAndAngle=function(a,f,c){void 0===c&&(c=k());p.vec3.copy(c,a);c[3]=f;return c};a.fromPoints=function(a,f,c){void 0===c&&(c=k());p.vec3.cross(c,a,f);p.vec3.normalize(c,c);c[3]=l.angle(a,f);return c};a.UP=[0,0,1,0]})},
"esri/views/3d/support/stack":function(){define(["require","exports","../../../core/VectorStack"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.sv2d=p.VectorStack.createVec2f64();a.sv3d=p.VectorStack.createVec3f64();a.sv4d=p.VectorStack.createVec4f64();a.sm3d=p.VectorStack.createMat3f64();a.sm4d=p.VectorStack.createMat4f64();a.sq4d=p.VectorStack.createQuatf64()})},"esri/core/VectorStack":function(){define("require exports ./nextTick ./libs/gl-matrix-2/mat3f64 ./libs/gl-matrix-2/mat4f64 ./libs/gl-matrix-2/quatf64 ./libs/gl-matrix-2/vec2f64 ./libs/gl-matrix-2/vec3f64 ./libs/gl-matrix-2/vec4f64".split(" "),
function(q,a,p,h,l,k,g,d,f){Object.defineProperty(a,"__esModule",{value:!0});q=function(){function a(a,b,c){var d=this;this.itemByteSize=a;this.itemCreate=b;this.buffers=[];this.items=[];this.itemsPtr=this.itemsPerBuffer=0;this.itemsPerBuffer=Math.ceil(c/this.itemByteSize);this.tickHandle=p.before(function(){return d.reset()})}a.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null);this.itemsPtr=0;this.buffers=this.items=null};a.prototype.get=function(){0===
this.itemsPtr&&p(function(){});for(var a=Math.floor(this.itemsPtr/this.itemsPerBuffer);this.buffers.length<=a;){for(var b=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize),c=0;c<this.itemsPerBuffer;++c)this.items.push(this.itemCreate(b,c*this.itemByteSize));this.buffers.push(b)}return this.items[this.itemsPtr++]};a.prototype.reset=function(){for(var a=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);this.buffers.length>a;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;
this.itemsPtr=0};a.createVec2f64=function(b){void 0===b&&(b=c);return new a(16,g.vec2f64.createView,b)};a.createVec3f64=function(b){void 0===b&&(b=c);return new a(24,d.vec3f64.createView,b)};a.createVec4f64=function(b){void 0===b&&(b=c);return new a(32,f.vec4f64.createView,b)};a.createMat3f64=function(b){void 0===b&&(b=c);return new a(72,h.mat3f64.createView,b)};a.createMat4f64=function(b){void 0===b&&(b=c);return new a(128,l.mat4f64.createView,b)};a.createQuatf64=function(b){void 0===b&&(b=c);return new a(32,
k.quatf64.createView,b)};Object.defineProperty(a.prototype,"test",{get:function(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}},enumerable:!0,configurable:!0});return a}();a.VectorStack=q;var c=4096})},"esri/core/libs/gl-matrix-2/mat3f64":function(){define(["require","exports","./factories/mat3f64"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.mat3f64=p})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],
function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.quatf64=p})},"esri/views/3d/support/geometryUtils/vector":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3","../mathUtils"],function(q,a,p,h){function l(a,g){return p.vec3.dot(a,g)/p.vec3.length(a)}Object.defineProperty(a,"__esModule",{value:!0});a.projectPoint=function(a,g,d){g=l(a,g);return p.vec3.scale(d,a,g)};a.projectPointSignedLength=l;a.angle=function(a,g){a=p.vec3.dot(a,g)/(p.vec3.length(a)*p.vec3.length(g));
return-h.acos(a)}})},"esri/views/3d/support/geometryUtils/boundedPlane":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../mathUtils ../stack ./lineSegment ./plane ./ray ./vector".split(" "),function(q,a,p,h,l,k,g,d,f,c,b,e,m,n,u){function t(b){void 0===b&&(b=a.UP);return{plane:m.create(b.plane),
origin:f.vec3f64.clone(b.origin),basis1:f.vec3f64.clone(b.basis1),basis2:f.vec3f64.clone(b.basis2)}}function v(a,b){void 0===b&&(b=t());return r(a.origin,a.basis1,a.basis2,b)}function r(a,b,c,e){void 0===e&&(e=t());d.vec3.copy(e.origin,a);d.vec3.copy(e.basis1,b);d.vec3.copy(e.basis2,c);m.fromVectorsAndPoint(c,b,a,e.plane);a=e;1E-6<Math.abs(d.vec3.dot(a.basis1,a.basis2)/(d.vec3.length(a.basis1)*d.vec3.length(a.basis2)))&&K.warn("fromValues()","Provided basis vectors are not perpendicular");1E-6<Math.abs(d.vec3.dot(a.basis1,
a.plane))&&K.warn("fromValues()","Basis vectors and plane normal are not perpendicular");1E-6<Math.abs(-d.vec3.dot(a.plane,a.origin)-a.plane[3])&&K.warn("fromValues()","Plane offset is not consistent with plane origin");return e}function w(a,c,e){a!==e&&v(a,e);a=d.vec3.scale(b.sv3d.get(),a.plane,c);d.vec3.add(e.origin,e.origin,a);e.plane[3]-=c;return e}function x(a,b){void 0===b&&(b=t());var c=(a[2]-a[0])/2,e=(a[3]-a[1])/2;d.vec3.set(b.origin,a[0]+c,a[1]+e,0);d.vec3.set(b.basis1,c,0,0);d.vec3.set(b.basis2,
0,e,0);m.fromValues(0,0,1,0,b.plane);return b}function y(a,b,c){return m.intersectRay(a.plane,b,c)?F(a,c):!1}function z(a,e,f){var g=I.get(),h=I.get();G(a,e,g,h);for(var h=Number.POSITIVE_INFINITY,k=0,l=O;k<l.length;k++){var n=B(a,l[k],J.get()),p=b.sv3d.get();m.intersectLineSegment(g,n,p)&&(n=c.directionFromTo(b.sv3d.get(),e.origin,p),n=Math.abs(c.acos(d.vec3.dot(e.direction,n))),n<h&&(h=n,d.vec3.copy(f,p)))}return h===Number.POSITIVE_INFINITY?E(a,e,f):f}function E(a,c,e){if(y(a,c,e))return e;var f=
I.get(),g=I.get();G(a,c,f,g);for(var h=Number.POSITIVE_INFINITY,k=0,l=O;k<l.length;k++){var p=B(a,l[k],J.get()),r=b.sv3d.get();m.intersectLineSegmentClamp(f,p,r)&&(p=n.distance2(c,r),m.isPointInside(g,r)&&p<h&&(h=p,d.vec3.copy(e,r)))}A(a,c.origin)<h&&d.vec3.copy(e,c.origin);return e}function C(a,c,e){var f=a.origin,g=a.basis1,h=a.basis2;c=d.vec3.subtract(b.sv3d.get(),c,f);g=u.projectPointSignedLength(g,c)/d.vec3.length(g);h=u.projectPointSignedLength(h,c)/d.vec3.length(h);a=u.projectPointSignedLength(a.plane,
c);return d.vec3.set(e,g,h,a)}function A(a,c){c=C(a,c,b.sv3d.get());var e=a.basis2;a=d.vec3.length(a.basis1);e=d.vec3.length(e);a=Math.max(Math.abs(c[0])-a,0);e=Math.max(Math.abs(c[1])-e,0);c=c[2];return a*a+e*e+c*c}function D(a,b){var c=-a.plane[3];return u.projectPointSignedLength(a.plane,b)-c}function F(a,c){var e=d.vec3.subtract(b.sv3d.get(),c,a.origin);c=d.vec3.squaredLength(a.basis1);var f=d.vec3.squaredLength(a.basis2),g=d.vec3.dot(a.basis1,e);a=d.vec3.dot(a.basis2,e);return 0>-g-c&&0>g-c&&
0>-a-f&&0>a-f}function H(a,b){var c=J.get();d.vec3.copy(c.origin,a.origin);d.vec3.copy(c.vector,b);return c}function B(a,c,e){var f=a.basis1,g=a.basis2;a=a.origin;var h=d.vec3.scale(b.sv3d.get(),f,c.origin[0]),k=d.vec3.scale(b.sv3d.get(),g,c.origin[1]);d.vec3.add(e.origin,h,k);d.vec3.add(e.origin,e.origin,a);f=d.vec3.scale(b.sv3d.get(),f,c.direction[0]);c=d.vec3.scale(b.sv3d.get(),g,c.direction[1]);d.vec3.scale(e.vector,d.vec3.add(f,f,c),2);return e}function G(a,b,c,d){a=a.plane;m.fromVectorsAndPoint(a,
b.direction,b.origin,c);m.fromVectorsAndPoint(c,a,b.origin,d)}Object.defineProperty(a,"__esModule",{value:!0});var K=h.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");q=function(){return function(){this.plane=m.create();this.origin=f.vec3f64.create();this.basis1=f.vec3f64.create();this.basis2=f.vec3f64.create()}}();a.BoundedPlaneClass=q;a.create=t;a.wrap=function(a,b,c){var d=N.get();d.origin=a;d.basis1=b;d.basis2=c;d.plane=m.fromVectorsAndPoint(c,b,a,m.wrap(0,0,0,0));return d};a.copy=
v;a.fromValues=r;a.elevate=w;a.setExtent=function(a,b,c){x(b,c);w(c,D(a,a.origin),c);return c};a.fromAABoundingRect=x;a.intersectRay=y;a.intersectRayClosestSilhouette=function(a,c,e){if(y(a,c,e))return e;a=z(a,c,b.sv3d.get());d.vec3.add(e,c.origin,d.vec3.scale(b.sv3d.get(),c.direction,d.vec3.distance(c.origin,a)/d.vec3.length(c.direction)));return e};a.closestPointOnSilhouette=z;a.closestPoint=E;a.projectPoint=function(a,c,f){var g=m.projectPoint(a.plane,c,b.sv3d.get());c=e.projectPointClamp(H(a,
a.basis1),g,-1,1,b.sv3d.get());g=e.projectPointClamp(H(a,a.basis2),g,-1,1,b.sv3d.get());d.vec3.subtract(f,d.vec3.add(b.sv3d.get(),c,g),a.origin);return f};a.projectPointLocal=C;a.distance2=A;a.distance=function(a,b){return Math.sqrt(A(a,b))};a.distanceToSilhouette=function(a,b){for(var c=Number.NEGATIVE_INFINITY,d=0,f=O;d<f.length;d++){var g=B(a,f[d],J.get()),g=e.distance2(g,b);g>c&&(c=g)}return Math.sqrt(c)};a.extrusionContainsPoint=function(a,b){return m.isPointInside(a.plane,b)&&F(a,b)};a.axisAt=
function(a,b,c,e){switch(c){case 0:d.vec3.copy(e,a.basis1);d.vec3.normalize(e,e);break;case 1:d.vec3.copy(e,a.basis2);d.vec3.normalize(e,e);break;case 2:d.vec3.copy(e,a.plane);break;default:p.neverReached(c)}return e};a.altitudeAt=D;a.setAltitudeAt=function(a,b,c,e){var f=D(a,b);a=d.vec3.scale(Q,a.plane,c-f);d.vec3.add(e,b,a);return e};a.transform=function(a,b,c){a!==c&&v(a,c);k.mat4.invert(R,b);k.mat4.transpose(R,R);d.vec3.transformMat4(c.basis1,a.basis1,R);d.vec3.transformMat4(c.basis2,a.basis2,
R);d.vec3.transformMat4(c.plane,a.plane,R);d.vec3.transformMat4(c.origin,a.origin,b);m.setOffsetFromPoint(c.plane,c.origin,c.plane);return c};a.UP={plane:m.create(),origin:f.vec3f64.fromValues(0,0,0),basis1:f.vec3f64.fromValues(1,0,0),basis2:f.vec3f64.fromValues(0,1,0)};var I=new l.ObjectStack(m.create),J=new l.ObjectStack(e.create),Q=f.vec3f64.create(),N=new l.ObjectStack(function(){return{origin:null,basis1:null,basis2:null,plane:null}}),O=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,
1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],R=g.mat4f64.create()})},"esri/core/ObjectStack":function(){define(["require","exports","./nextTick"],function(q,a,p){Object.defineProperty(a,"__esModule",{value:!0});q=function(){function a(a){var g=this;this.allocator=a;this.items=[];this.itemsPtr=0;this.tickHandle=p.before(function(){return g.reset()});this.grow()}a.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null);this.items=null};
a.prototype.get=function(){0===this.itemsPtr&&p(function(){});this.itemsPtr===this.items.length&&this.grow();return this.items[this.itemsPtr++]};a.prototype.reset=function(){this.items.length=Math.min(Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*h),this.items.length);this.itemsPtr=0};a.prototype.grow=function(){for(var a=0;a<Math.max(8,Math.min(this.items.length,h));a++)this.items.push(this.allocator())};return a}();a.ObjectStack=q;var h=1024;a.default=q})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../mathUtils ../stack".split(" "),
function(q,a,p,h,l,k,g){function d(a){return a?{origin:l.vec3f64.clone(a.origin),vector:l.vec3f64.clone(a.vector)}:{origin:l.vec3f64.create(),vector:l.vec3f64.create()}}function f(a,b){var c=u.get();c.origin=a;c.vector=b;return c}function c(a,b,c){void 0===c&&(c=d());h.vec3.copy(c.origin,a);h.vec3.copy(c.vector,b);return c}function b(a,b){b=h.vec3.subtract(g.sv3d.get(),b,a.origin);var c=h.vec3.dot(a.vector,b),d=h.vec3.dot(a.vector,a.vector),c=k.clamp(c/d,0,1);a=h.vec3.subtract(g.sv3d.get(),h.vec3.scale(g.sv3d.get(),
a.vector,c),b);return h.vec3.dot(a,a)}function e(a,b,c,d,e){var f=a.vector,l=a.origin;b=h.vec3.subtract(g.sv3d.get(),b,l);l=h.vec3.length(f);b=h.vec3.dot(f,b)/l;h.vec3.scale(e,f,k.clamp(b,c,d));return h.vec3.add(e,e,a.origin)}function m(a,b,c,d){var e=a.origin,f=h.vec3.add(g.sv3d.get(),e,a.vector);a=b.origin;var l=h.vec3.add(g.sv3d.get(),a,b.vector),m=g.sv3d.get();b=g.sv3d.get();m[0]=e[0]-a[0];m[1]=e[1]-a[1];m[2]=e[2]-a[2];b[0]=l[0]-a[0];b[1]=l[1]-a[1];b[2]=l[2]-a[2];if(1E-6>Math.abs(b[0])&&1E-6>
Math.abs(b[1])&&1E-6>Math.abs(b[2]))return!1;l=g.sv3d.get();l[0]=f[0]-e[0];l[1]=f[1]-e[1];l[2]=f[2]-e[2];if(1E-6>Math.abs(l[0])&&1E-6>Math.abs(l[1])&&1E-6>Math.abs(l[2]))return!1;var f=m[0]*b[0]+m[1]*b[1]+m[2]*b[2],n=b[0]*l[0]+b[1]*l[1]+b[2]*l[2],p=b[0]*b[0]+b[1]*b[1]+b[2]*b[2],r=(l[0]*l[0]+l[1]*l[1]+l[2]*l[2])*p-n*n;if(1E-6>Math.abs(r))return!1;m=(f*n-(m[0]*l[0]+m[1]*l[1]+m[2]*l[2])*p)/r;f=(f+n*m)/p;c&&(m=k.clamp(m,0,1),f=k.clamp(f,0,1));c=g.sv3d.get();n=g.sv3d.get();c[0]=e[0]+m*l[0];c[1]=e[1]+m*
l[1];c[2]=e[2]+m*l[2];n[0]=a[0]+f*b[0];n[1]=a[1]+f*b[1];n[2]=a[2]+f*b[2];d.tA=m;d.tB=f;d.pA=c;d.pB=n;d.distance2=h.vec3.squaredDistance(c,n);return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=d;a.wrap=f;a.copy=function(a,b){void 0===b&&(b=d());return c(a.origin,a.vector,b)};a.fromValues=c;a.fromPoints=function(a,b,c){void 0===c&&(c=d());h.vec3.copy(c.origin,a);h.vec3.subtract(c.vector,b,a);return c};a.distance2=b;a.distance=function(a,c){return Math.sqrt(b(a,c))};a.projectPoint=function(a,
b,c){return e(a,b,0,1,c)};a.projectPointClamp=e;a.closestRayDistance2=function(a,b){if(m(a,f(b.origin,b.direction),!1,n)){b=n.tA;var c=n.pB,d=n.distance2;if(0<=b&&1>=b)return d;if(0>b)return h.vec3.squaredDistance(a.origin,c);if(1<b)return h.vec3.squaredDistance(h.vec3.add(g.sv3d.get(),a.origin,a.vector),c)}return null};a.closestLineSegmentPoint=function(a,b,c){return m(a,b,!0,n)?(h.vec3.copy(c,n.pA),!0):!1};a.closestLineSegmentDistance2=function(a,b){return m(a,b,!0,n)?n.distance2:null};var n={tA:0,
tB:0,pA:l.vec3f64.create(),pB:l.vec3f64.create(),distance2:0},u=new p.ObjectStack(function(){return{origin:null,vector:null}})})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3","../mathUtils","../stack"],function(q,a,p,h,l){function k(b){void 0===b&&(b=a.UP);return[b[0],b[1],b[2],b[3]]}function g(a,b){void 0===b&&(b=k());return d(a[0],a[1],a[2],a[3],b)}function d(a,b,c,d,e){void 0===e&&(e=k());e[0]=a;e[1]=b;e[2]=c;e[3]=d;
return e}function f(a,b,d){void 0===d&&(d=k());p.vec3.copy(d,b);b=p.vec3.dot(b,b);1E-5<Math.abs(b-1)&&1E-12<b&&p.vec3.scale(d,d,1/Math.sqrt(b));c(d,a,d);return d}function c(a,b,c){a!==c&&g(a,c);c[3]=-p.vec3.dot(c,b);return c}function b(a,b,c,d){void 0===d&&(d=k());a=p.vec3.cross(l.sv3d.get(),b,a);return f(c,a,d)}function e(a,b,c){a=p.vec3.scale(l.sv3d.get(),a,p.vec3.dot(a,b));p.vec3.subtract(c,b,a);return c}function m(a,b){return p.vec3.dot(a,b)+a[3]}function n(a,b,c,d,e,f){var g=p.vec3.dot(a,c);
if(0===g)return!1;a=-(p.vec3.dot(a,b)+a[3])/g;e&&(a=d?Math.max(0,a):h.clamp(a,0,1));if(0>a||!d&&1<a)return!1;p.vec3.add(f,b,p.vec3.scale(f,c,a));return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=k;a.wrap=function(a,b,c,e){return d(a,b,c,e,l.sv4d.get())};a.copy=g;a.fromValues=d;a.fromNormalAndOffset=function(a,b,c){void 0===c&&(c=k());p.vec3.copy(c,a);c[3]=b;return c};a.fromPositionAndNormal=f;a.fromPoints=function(a,c,d,e){void 0===e&&(e=k());return b(p.vec3.subtract(l.sv3d.get(),
a,c),p.vec3.subtract(l.sv3d.get(),d,c),a,e)};a.setOffsetFromPoint=c;a.negate=function(a,b){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};a.fromVectorsAndPoint=b;a.intersectRay=function(a,b,c){return n(a,b.origin,b.direction,!0,!1,c)};a.intersectLineSegment=function(a,b,c){return n(a,b.origin,b.vector,!1,!1,c)};a.intersectLineSegmentClamp=function(a,b,c){return n(a,b.origin,b.vector,!1,!0,c)};a.isSphereFullyInside=function(a,b){var c=b.radius;return 0<=m(a,b.center)-c};a.isSphereFullyOutside=
function(a,b){var c=b.radius;return 0>m(a,b.center)+c};a.isPointInside=function(a,b){return 0<=m(a,b)};a.isPointOutside=function(a,b){return 0>m(a,b)};a.isAABBFullyInside=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4];b=b[5];return 0<=a[0]*(0<a[0]?c:f)+a[1]*(0<a[1]?d:g)+a[2]*(0<a[2]?e:b)+a[3]};a.clip=function(a,b){var c=p.vec3.dot(a,b.ray.direction);a=-m(a,b.ray.origin);if(0>a&&0<=c)return!1;if(-1E-6<c&&1E-6>c)return 0<a;if((0>a||0>c)&&!(0>a&&0>c))return!0;a/=c;0<c?a<b.c1&&(b.c1=a):a>b.c0&&
(b.c0=a);return b.c0<=b.c1};a.projectPoint=function(a,b,c){var d=p.vec3.scale(l.sv3d.get(),a,-a[3]);b=p.vec3.subtract(l.sv3d.get(),b,d);a=e(a,b,l.sv3d.get());p.vec3.add(c,a,d);return c};a.projectVector=e;a.distance=function(a,b){return Math.abs(m(a,b))};a.signedDistance=m;a.UP=[0,0,1,0]})},"esri/views/3d/support/geometryUtils/ray":function(){define("require exports ../../../../core/ObjectStack ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack".split(" "),
function(q,a,p,h,l,k,g,d){function f(a){return a?{origin:g.vec3f64.clone(a.origin),direction:g.vec3f64.clone(a.direction)}:{origin:g.vec3f64.create(),direction:g.vec3f64.create()}}function c(a,b,c){void 0===c&&(c=f());k.vec3.copy(c.origin,a);k.vec3.copy(c.direction,b);return c}function b(a,b,c){void 0===c&&(c=f());var e=h.castRenderScreenPointArray3(l.vec2.copy(d.sv3d.get(),b));e[2]=0;a.unprojectPoint(e,c.origin);b=h.castRenderScreenPointArray3(l.vec2.copy(d.sv3d.get(),b));b[2]=1;a=a.unprojectPoint(b,
d.sv3d.get());k.vec3.subtract(c.direction,a,c.origin);return c}function e(a,b,c){void 0===c&&(c=f());k.vec3.copy(c.origin,a.eye);b=k.vec3.set(d.sv3d.get(),b[0],b[1],1);a=a.unprojectPoint(b,d.sv3d.get());k.vec3.subtract(c.direction,a,c.origin);return c}function m(a,b){a=k.vec3.cross(d.sv3d.get(),k.vec3.normalize(d.sv3d.get(),a.direction),k.vec3.subtract(d.sv3d.get(),b,a.origin));return k.vec3.dot(a,a)}function n(){return{origin:null,direction:null}}Object.defineProperty(a,"__esModule",{value:!0});
a.create=f;a.wrap=function(a,b){var c=u.get();c.origin=a;c.direction=b;return c};a.copy=function(a,b){void 0===b&&(b=f());return c(a.origin,a.direction,b)};a.fromPoints=function(a,b,c){void 0===c&&(c=f());k.vec3.copy(c.origin,a);k.vec3.subtract(c.direction,b,a);return c};a.fromValues=c;a.fromScreen=function(a,c,e){void 0===e&&(e=f());return b(a,a.screenToRender(c,h.castRenderScreenPointArray3(d.sv3d.get())),e)};a.fromRender=b;a.fromScreenAtEye=function(a,b,c){void 0===c&&(c=f());return e(a,a.screenToRender(b,
h.castRenderScreenPointArray3(d.sv3d.get())),c)};a.fromRenderAtEye=e;a.distance2=m;a.distance=function(a,b){return Math.sqrt(m(a,b))};a.closestPoint=function(a,b,c){b=k.vec3.dot(a.direction,k.vec3.subtract(c,b,a.origin));k.vec3.add(c,a.origin,k.vec3.scale(c,a.direction,b));return c};a.createWrapper=n;var u=new p.ObjectStack(n)})},"esri/views/3d/support/geometryUtils/frustum":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../stack ./clipRay ./plane".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b){function e(a){if(a){var c=a.planes;a=a.points;return{planes:[b.create(c[0]),b.create(c[1]),b.create(c[2]),b.create(c[3]),b.create(c[4]),b.create(c[5])],points:[k.vec3f64.clone(a[0]),k.vec3f64.clone(a[1]),k.vec3f64.clone(a[2]),k.vec3f64.clone(a[3]),k.vec3f64.clone(a[4]),k.vec3f64.clone(a[5]),k.vec3f64.clone(a[6]),k.vec3f64.clone(a[7])]}}return{planes:[b.create(),b.create(),b.create(),b.create(),b.create(),b.create()],points:[k.vec3f64.create(),k.vec3f64.create(),k.vec3f64.create(),
k.vec3f64.create(),k.vec3f64.create(),k.vec3f64.create(),k.vec3f64.create(),k.vec3f64.create()]}}function m(a,c,d){void 0===d&&(d=e());for(var f=0;6>f;f++)b.copy(a[f],d.planes[f]);for(f=0;8>f;f++)l.vec3.copy(d.points[f],c[f]);return d}function n(a){var c=a.planes;a=a.points;b.fromPoints(a[4],a[0],a[3],c[0]);b.fromPoints(a[1],a[5],a[6],c[1]);b.fromPoints(a[4],a[5],a[1],c[2]);b.fromPoints(a[3],a[2],a[6],c[3]);b.fromPoints(a[0],a[1],a[2],c[4]);b.fromPoints(a[5],a[4],a[7],c[5])}function u(a,c){for(var d=
0;6>d;d++)if(!b.clip(a[d],c))return!1;return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=e;a.copy=function(a,b){void 0===b&&(b=e());return m(a.planes,a.points,b)};a.fromValues=m;a.fromMatrix=function(a,b,c){void 0===c&&(c=e());var d=c.points;a=h.mat4.multiply(f.sm4d.get(),b,a);h.mat4.invert(a,a);for(b=0;8>b;++b){var k=g.vec4.transformMat4(f.sv4d.get(),t[b],a);l.vec3.set(d[b],k[0]/k[3],k[1]/k[3],k[2]/k[3])}n(c);return c};a.recomputePlanes=n;a.intersectsSphere=function(a,c){for(var d=
0;6>d;d++)if(b.isSphereFullyInside(a[d],c))return!1;return!0};a.intersectsRay=function(a,b){return u(a,c.fromRay(b,v.get()))};a.intersectsLineSegment=function(a,b,d){return u(a,c.fromLineSegmentAndDirection(b,d,v.get()))};a.intersectsPoint=function(a,c){for(var d=0;6>d;d++)if(0<b.signedDistance(a[d],c))return!1;return!0};a.intersectsAABB=function(a,c){for(var d=0;6>d;d++)if(b.isAABBFullyInside(a[d],c))return!1;return!0};a.planePointIndices={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,
6,2],left:[4,0,3,7],top:[7,3,2,6]};var t=[d.vec4f64.fromValues(-1,-1,-1,1),d.vec4f64.fromValues(1,-1,-1,1),d.vec4f64.fromValues(1,1,-1,1),d.vec4f64.fromValues(-1,1,-1,1),d.vec4f64.fromValues(-1,-1,1,1),d.vec4f64.fromValues(1,-1,1,1),d.vec4f64.fromValues(1,1,1,1),d.vec4f64.fromValues(-1,1,1,1)],v=new p.ObjectStack(c.create)})},"esri/views/3d/support/geometryUtils/clipRay":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec3 ../stack ./ray".split(" "),
function(q,a,p,h,l,k){function g(a){return a?{ray:k.create(a.ray),c0:a.c0,c1:a.c1}:{ray:k.create(),c0:0,c1:Number.MAX_VALUE}}function d(a,c,d,f){void 0===f&&(f=g());k.copy(a,f.ray);f.c0=c;f.c1=d;return f}function f(a,c,d){void 0===d&&(d=g());var b=h.vec3.length(a.vector);k.fromValues(a.origin,c,d.ray);d.c0=0;d.c1=b;return d}Object.defineProperty(a,"__esModule",{value:!0});a.create=g;a.wrap=function(a,d,f){var b=c.get();b.ray=a;b.c0=d;b.c1=f;return b};a.copy=function(a,c){void 0===c&&(c=g());return d(a.ray,
a.c0,a.c1,c)};a.fromValues=d;a.fromRay=function(a,c){void 0===c&&(c=g());k.copy(a,c.ray);c.c0=0;c.c1=Number.MAX_VALUE;return c};a.fromLineSegment=function(a,c){void 0===c&&(c=g());var b=h.vec3.normalize(l.sv3d.get(),a.vector);return f(a,b,c)};a.fromLineSegmentAndDirection=f;var c=new p.ObjectStack(function(){return{c0:0,c1:0,ray:null}})})},"esri/views/3d/support/geometryUtils/sphere":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../geometryUtils ../mathUtils ../stack ./ray".split(" "),
function(q,a,p,h,l,k,g,d,f,c,b,e){function m(a){return a?{radius:a.radius,center:d.vec3f64.clone(a.center)}:{radius:1,center:d.vec3f64.create()}}function n(a,b){void 0===b&&(b=m());return u(a.radius,a.center,b)}function u(a,b,c){void 0===c&&(c=m());g.vec3.copy(c.center,b);c.radius=a;return c}function t(a,c,d){var e=g.vec3.subtract(b.sv3d.get(),c.origin,a.center),f=g.vec3.dot(c.direction,c.direction),h=2*g.vec3.dot(c.direction,e);a=g.vec3.dot(e,e)-a.radius*a.radius;a=h*h-4*f*a;if(0>a)return!1;e=Math.sqrt(a);
a=(-h-e)/(2*f);f=(-h+e)/(2*f);if(0>a||f<a&&0<f)a=f;if(0>a)return!1;d&&g.vec3.add(d,c.origin,g.vec3.scale(b.sv3d.get(),c.direction,a));return!0}function v(a,c,d){var e=b.sv3d.get(),h=b.sm4d.get();g.vec3.cross(e,c.origin,c.direction);g.vec3.cross(d,e,c.origin);g.vec3.scale(d,d,1/g.vec3.length(d)*a.radius);a=w(a,c.origin);c=f.vector.angle(c.origin,d);k.mat4.identity(h);k.mat4.rotate(h,h,c+a,e);g.vec3.transformMat4(d,d,h);return d}function r(a,c,d){c=g.vec3.subtract(b.sv3d.get(),c,a.center);c=g.vec3.scale(b.sv3d.get(),
c,a.radius/g.vec3.length(c));return g.vec3.add(d,c,a.center)}function w(a,d){d=g.vec3.subtract(b.sv3d.get(),d,a.center);d=g.vec3.length(d);return c.acos(a.radius/(a.radius+Math.abs(a.radius-d)))}function x(a,b,d,e){a=g.vec3.subtract(E,b,a.center);switch(d){case 0:return a=c.cartesianToSpherical(a,E),a=a[2],g.vec3.set(e,-Math.sin(a),Math.cos(a),0);case 1:return a=c.cartesianToSpherical(a,E),d=a[1],a=a[2],b=Math.sin(d),g.vec3.set(e,-b*Math.cos(a),-b*Math.sin(a),Math.cos(d));case 2:return g.vec3.normalize(e,
a);default:p.neverReached(d)}}function y(a,b){b=g.vec3.subtract(F,b,a.center);return g.vec3.length(b)-a.radius}Object.defineProperty(a,"__esModule",{value:!0});var z=h.getLogger("esri.views.3d.support.geometryUtils.sphere");a.create=m;a.wrap=function(a,b){var c=C.get();c.radius=a;c.center=b||D;return c};a.copy=n;a.fromValues=u;a.elevate=function(a,b,c){a!==c&&g.vec3.copy(c.center,a.center);c.radius=a.radius+b;return c};a.setExtent=function(a,b,c){z.error("sphere.setExtent is not yet supported");return a===
c?c:n(a,c)};a.intersectRay=t;a.intersectScreen=function(a,b,c,d){b=e.fromScreenAtEye(b,c,A);return t(a,b,d)};a.intersectsRay=function(a,b){return t(a,b,null)};a.intersectRayClosestSilhouette=function(a,c,d){if(t(a,c,d))return d;a=v(a,c,b.sv3d.get());g.vec3.add(d,c.origin,g.vec3.scale(b.sv3d.get(),c.direction,g.vec3.distance(c.origin,a)/g.vec3.length(c.direction)));return d};a.closestPointOnSilhouette=v;a.closestPoint=function(a,b,c){if(t(a,b,c))return c;e.closestPoint(b,a.center,c);return r(a,c,c)};
a.projectPoint=r;a.distanceToSilhouette=function(a,c){c=g.vec3.subtract(b.sv3d.get(),c,a.center);c=g.vec3.squaredLength(c);return Math.sqrt(Math.abs(c-a.radius*a.radius))};a.angleToSilhouette=w;var E=d.vec3f64.create();a.axisAt=x;a.altitudeAt=y;a.setAltitudeAt=function(a,b,c,d){var e=y(a,b);a=x(a,b,2,F);c=g.vec3.scale(F,a,c-e);g.vec3.add(d,b,c);return d};var C=new l.ObjectStack(function(){return{center:null,radius:0}}),A=e.create(),D=d.vec3f64.create(),F=d.vec3f64.create();Object.freeze(D)})},"esri/views/3d/support/geometryUtils/triangle":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack ./lineSegment".split(" "),
function(q,a,p,h,l,k,g,d){function f(a){return a?{p0:k.vec3f64.clone(a.p0),p1:k.vec3f64.clone(a.p1),p2:k.vec3f64.clone(a.p2)}:{p0:k.vec3f64.create(),p1:k.vec3f64.create(),p2:k.vec3f64.create()}}function c(a,b,c,d){void 0===d&&(d=f());l.vec3.copy(d.p0,a);l.vec3.copy(d.p1,b);l.vec3.copy(d.p2,c);return d}function b(a,b,c){var d=h.vec2.distance(a,b);b=h.vec2.distance(b,c);a=h.vec2.distance(c,a);c=(d+b+a)/2;d=c*(c-d)*(c-b)*(c-a);return 0>=d?0:Math.sqrt(d)}Object.defineProperty(a,"__esModule",{value:!0});
a.create=f;a.wrap=function(a,b,c){var d=m.get();d.p0=a;d.p1=b;d.p2=c;return d};a.copy=function(a,b){void 0===b&&(b=f());return c(a.p0,a.p1,a.p2,b)};a.fromValues=c;a.distance2=function(a,b){var c=a.p0,f=a.p1;a=a.p2;var h=l.vec3.subtract(g.sv3d.get(),f,c),k=l.vec3.subtract(g.sv3d.get(),a,f),m=l.vec3.subtract(g.sv3d.get(),c,a),n=l.vec3.subtract(g.sv3d.get(),b,c),p=l.vec3.subtract(g.sv3d.get(),b,f),q=l.vec3.subtract(g.sv3d.get(),b,a),u=l.vec3.cross(h,h,m),A=l.vec3.dot(l.vec3.cross(g.sv3d.get(),h,u),n),
p=l.vec3.dot(l.vec3.cross(g.sv3d.get(),k,u),p),q=l.vec3.dot(l.vec3.cross(g.sv3d.get(),m,u),q);if(0<A&&0<p&&0<q)return b=l.vec3.dot(u,n),b*b/l.vec3.dot(u,u);c=d.distance2(d.fromValues(c,h,e.get()),b);f=d.distance2(d.fromValues(f,k,e.get()),b);b=d.distance2(d.fromValues(a,m,e.get()),b);return Math.min(c,f,b)};a.areaPoints2d=b;a.area2d=function(a){return b(a.p0,a.p1,a.p2)};var e=new p.ObjectStack(d.create),m=new p.ObjectStack(function(){return{p0:null,p1:null,p2:null}})})},"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":function(){define(["require",
"exports","./ComponentUtils","./geometryDataUtils","../../../webgl/Util"],function(q,a,p,h,l){function k(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(d,f,c,b,e){void 0===c&&(c=null);void 0===b&&(b=a.DefaultOffsets);void 0===e&&(e=a.DefaultIndices);this.preinterleaved=
!0;this.primitiveType="triangle";this._positionData=null;var g=l.getStride(f)/4,g=d.length/g;(this._hasDefaultIndices=e===a.DefaultIndices)&&(e=h.generateDefaultIndexArray(g));for(var g={},n=0;n<f.length;n++){var q=f[n],t=new (k(q.type))(d.buffer),v=l.getBytesPerElement(q.type);g[q.name]={data:t,size:q.count,offsetIdx:q.offset/v,strideIdx:q.stride/v}}c&&(this._positionData=c,g.position={data:c.data,size:3,offsetIdx:0,strideIdx:3});this._id=h.getNewId();this._vertexData=d;this._vertexAttributes=g;
this._layout=f;this._indexData=e;this._componentOffsets=p.createOffsets(b);this._gpuMemoryUsage=d.byteLength+(this._hasDefaultIndices?0:e.byteLength);this._indexCount=e.length}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"indexCount",{get:function(){return this._indexCount},enumerable:!0,configurable:!0});a.prototype.toRenderData=function(){var a={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this._indexCount,vertexData:this._vertexData,layout:this._layout};this._indexData=this._vertexData=null;this._vertexAttributes={position:this._vertexAttributes.position};return a};a.prototype.getIndices=function(a){return"position"===
a&&this._positionData?this._positionData.indices:this._indexData};a.prototype.getAttribute=function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage};Object.defineProperty(a.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0});a.DefaultOffsets=new Uint32Array(0);a.DefaultIndices=new Uint32Array(0);return a}()})},"esri/views/3d/webgl-engine/lib/ComponentUtils":function(){define(["require",
"exports","../../../../core/arrayUtils","../../../../core/maybe"],function(q,a,p,h){function l(a,b){if(null!=a){var c=a.isVisibleBit,d=a.data,e=8*d.BYTES_PER_ELEMENT;return b<d.length*e?n(c,d,b,e):!a.isVisibleBit}return!0}function k(a){return h.isSome(a.component)?a.component:-1}function g(a,b,c,e,f){l(b,e)&&d(a,b,c,c[e],c[e+1]-1,f)}function d(a,b,c,d,e,f){c=(b=0<a.length?a[a.length-1]:null)?b.range[1]:-1;var g=b?b.options:null;c>=d||(c+1===d&&g===f?b.range[1]=e:a.push({range:[d,e],options:f}))}function f(a){void 0===
a&&(a=!0);return{isVisibleBit:!a,data:new Uint32Array(0)}}function c(a,b){return e(a,b,!0)}function b(a,b){return e(a,b,!1)}function e(a,b,c){var d=!1;a=a||t;d=a.isVisibleBit;a=a.data;b=u(b);var e=8*a.BYTES_PER_ELEMENT,f=a.length*e;c=c===d;if(0===a.length||0===b)d=!c;else if(f<b&&!c)d=!0;else{for(var g=v[e],f=v[0],h=0;h<a.length-1;h++)if(d=!c&&a[h]!==g||c&&a[h]!==f)return d;d=a.length-1;b=v[(b-1)%e+1];d=!c&&(a[d]&b)!==b||c&&(a[d]&b)!==f}return d}function m(a){return 0<a.length}function n(a,b,c,d){var e=
c/d|0;return 0!==(b[e]&1<<c-e*d)===a}function u(a){return Math.max(0,a.length-1)}Object.defineProperty(a,"__esModule",{value:!0});a.updateVisibility=function(a,b,c,d){if(c<u(b)){null==a&&(a=f());var e=a.isVisibleBit,g=a.data,h=8*g.BYTES_PER_ELEMENT,k=c/h|0,l=c-h*k;b=(u(b)-1)/h|0;var m=g;d=d===e;c<m.length*h||!d||(c=Math.max(k+1,Math.ceil(1.5*m.length)),c=Math.min(c,b+1),g=new Uint32Array(c),g.set(m));k<g.length&&(g[k]=g[k]&~(1<<l)|(d?1:0)<<l);a.data=g}return a};a.getVisibility=l;a.hideAllComponents=
function(a){if(null==a)a=f(!1);else{a.isVisibleBit=!0;for(var b=0;b<a.data.length;b++)a.data[b]=0}return a};a.unhideAllComponents=function(a){var b;if(null!=a)for(b=a,b.isVisibleBit=!1,a=0;a<b.data.length;a++)b.data[a]=0;return b};a.generateVisibleIndexRanges=function(a,b){var c;if(a)if(m(b))if(0===a.data.length)c=[],b=[[b[0],b[b.length-1]-1]],c=a.isVisibleBit?c:b;else{c=[];for(var d=a.isVisibleBit,e=a.data,f=8*e.BYTES_PER_ELEMENT,g=e.length*f,h=u(b),k=!1,l=0;l<g&&l<h;l++){var p=n(d,e,l,f);if(p!==
k){var q=b[l];p?c.push([q,0]):(k=c[c.length-1],k[1]=q-1);k=p}}a=!a.isVisibleBit;h>g&&a&&!k?c.push([b[g],b[h]-1]):k&&(k=c[c.length-1],k[1]=b[a?h:Math.min(h,g)]-1)}else c=[],c=a.isVisibleBit?c:null;else c=null;return c};a.addHighlight=function(a,b,c,d){a=a||[];b={component:b,options:c,id:d};a.push(b);c=k(b);for(d=a.length-1;0<d&&c<k(a[d-1]);)b=[a[d],a[d-1]],a[d-1]=b[0],a[d]=b[1],--d;return a};a.removeHighlight=function(a,b){if(!a)return a;a=a.filter(function(a){return a.id!==b});return 0===a.length?
null:a};a.generateHighlightedIndexRanges=function(a,c,e){if(!c)return null;if(!m(e))return a&&a.isVisibleBit?null:c.map(function(a){return{range:null,options:a.options}});for(var f=e[0],k=e[e.length-1]-1,l=[],n=!b(a,e),p=0;p<c.length;++p){var q=c[p].options,r=c[p].component;if(h.isSome(r))g(l,a,e,r,q);else if(n)d(l,a,e,f,k,q);else for(r=0;r<u(e);++r)g(l,a,e,r,q)}return 0<l.length?l:null};a.hasHighlights=function(a,c,d){if(!c)return!1;if(!m(d))return a&&a.isVisibleBit?!1:0<c.length;a=!b(a,d);for(var e=
0;e<c.length;e++)if(h.isSome(c[e].component)||a||0<u(d))return!0;return!1};a.defaultVisibilities=f;a.isAllVisible=function(a,c){return!b(a,c)};a.isAllHidden=function(a,b){return!c(a,b)};a.hasVisible=c;a.hasHidden=b;var t=f();a.createOffsets=function(a){return Array.isArray(a)?new Uint32Array(a):a};a.hasComponent=function(a,b){return b<u(a)};a.hasComponents=m;var v=[];for(q=0;65>q;q++)v.push(Math.pow(2,q)-1);a.componentCount=u;a.componentFind=function(a,b){a=p.binaryIndexOf(a,b,!0);return 0<=a?a:null}})},
"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require","exports"],function(q,a){Object.defineProperty(a,"__esModule",{value:!0});var p=1,h=null;a.generateDefaultIndexArray=function(a){if(a>p||null==h){for(;a>p;)p*=2;h=new Uint32Array(p);for(var g=0;g<p;g++)h[g]=g}return new Uint32Array(h.buffer,0,a)};var l=0;a.getNewId=function(){return l++}})},"esri/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../core/compilerUtils","../../core/Error"],
function(q,a,p,h,l){function k(a){return a[0].stride}function g(a){switch(a){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");}}function d(a){switch(a){case 6406:case 6409:return 1;case 6410:return 2;case 6407:return 3;case 6408:return 4;case 34041:return 4;case 33325:return 2;case 33326:return 4;case 35898:return 4;case 33327:return 4;case 33328:return 8;case 34842:return 8;
case 34836:return 16;case 33189:return 2;case 34041:return 4;case 32854:return 2;case 36168:return 1;default:h.neverReached(a)}return 0}function f(a){if(!a)return 0;if("colorAttachment"in a)return a.glName?f(a.colorAttachment)+f(a.depthStencilAttachment):0;if("descriptor"in a)return a.glName?f(a.descriptor):0;var b=a.internalFormat||"pixelFormat"in a&&a.pixelFormat;if(!b)return 0;var c="hasMipmap"in a&&a.hasMipmap?1.3:1;a=a.width*a.height;return d(b)*a*c}Object.defineProperty(a,"__esModule",{value:!0});
a.vertexCount=function(a,b){return a.vertexBuffers[b].size/k(a.layout[b])};a.getStride=k;a.getBytesPerElement=g;a.addDescriptor=function(a,b,d,f,h,k){var c=g(f);if(0<a.length){var e=a[0].stride,l=e+c*d;a.forEach(function(a){return a.stride=l});a.push({name:b,count:d,type:f,offset:e,stride:l,normalized:h,divisor:k})}else a.push({name:b,count:d,type:f,offset:0,stride:c*d,normalized:h,divisor:k})};a.assertCompatibleVertexAttributeLocations=function(a,b){(a=a.locations===b.locations)||console.error("VertexAttributeLocations are incompatible");
return a};a.hasAttribute=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return!0;return!1};a.findAttribute=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c];return null};a.copyFramebufferToTexture=function(a,b,d,f,g){void 0===g&&(g=0);var c=a.getBoundFramebufferObject(),e=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(d,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,g,d.descriptor.pixelFormat,f[0],f[1],f[2],f[3],0);a.gl.flush();a.bindFramebuffer(c);a.bindTexture(e,
0)};a.assert=function(a,b){if(!a)throw new l(b);};a.setBaseInstanceOffset=function(a,b){var c={},d;for(d in a)c[d]=a[d].map(function(a){return a.divisor?p({},a,{baseInstance:b}):a});return c};a.bindVertexBufferLayout=function(a,b,d,f,g){var c=a.gl,e=a.capabilities.instancing;a.bindBuffer(d);for(a=0;a<f.length;a++){d=f[a];var h=b[d.name],k=(g?g:0+d.baseInstance?d.baseInstance:0)*d.stride;void 0===h&&console.error("There is no location for vertex attribute '"+d.name+"' defined.");d.baseInstance&&!d.divisor&&
console.error("Vertex attribute '"+d.name+"' uses baseInstanceOffset without divisor.");if(4>=d.count)c.vertexAttribPointer(h,d.count,d.type,d.normalized,d.stride,d.offset+k),c.enableVertexAttribArray(h),d.divisor&&0<d.divisor&&e&&e.vertexAttribDivisor(h,d.divisor);else if(9===d.count)for(var l=0;3>l;l++)c.vertexAttribPointer(h+l,3,d.type,d.normalized,d.stride,d.offset+12*l+k),c.enableVertexAttribArray(h+l),d.divisor&&0<d.divisor&&e&&e.vertexAttribDivisor(h+l,d.divisor);else if(16===d.count)for(l=
0;4>l;l++)c.vertexAttribPointer(h+l,4,d.type,d.normalized,d.stride,d.offset+16*l+k),c.enableVertexAttribArray(h+l),d.divisor&&0<d.divisor&&e&&e.vertexAttribDivisor(h+l,d.divisor);else console.error("Unsupported vertex attribute element count: "+d.count)}};a.unbindVertexBufferLayout=function(a,b,d,f){var c=a.gl,e=a.capabilities.instancing;a.bindBuffer(d);for(d=0;d<f.length;d++){var g=f[d],h=b[g.name];if(4>=g.count)c.disableVertexAttribArray(h),g.divisor&&0<g.divisor&&e&&e.vertexAttribDivisor(h,0);
else if(9===g.count)for(var k=0;3>k;k++)c.disableVertexAttribArray(h+k),g.divisor&&0<g.divisor&&e&&e.vertexAttribDivisor(h+k,0);else if(16===g.count)for(k=0;4>k;k++)c.disableVertexAttribArray(h+k),g.divisor&&0<g.divisor&&e&&e.vertexAttribDivisor(h+k,0);else console.error("Unsupported vertex attribute element count: "+g.count)}a.unbindBuffer(34962)};a.getBytesPerElementFormat=d;a.getGpuMemoryUsage=f})},"*noref":1}});
define("require exports ../../../core/promiseUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/SpatialReference ../../../geometry/support/meshUtils/deduplicate ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/PreinterleavedGeometryData ../webgl-engine/lib/Util".split(" "),function(q,
a,p,h,l,k,g,d,f,c,b,e,m,n,u,t,v){q=function(){function a(){}a.prototype.process=function(a){var b=[a.geometryBuffer];a=this.transform(a,b);return p.resolve({result:a,transferList:b})};a.prototype.transform=function(a,f){var g=c.fromJSON(a.indexSR),k=c.fromJSON(a.vertexSR),l=c.fromJSON(a.renderSR),p=a.geometryBuffer,q=m.computeGlobalTransformation(a.mbs,a.elevationOffset,g,l);h.mat4.invert(r,q);var y=a.obb?null:n.create([0,0,0],[-1,-1,-1],[0,0,0,1]);d.vec3.copy(w,a.mbs);w[2]+=a.elevationOffset;d.vec3.copy(x,
w);for(var C=!1,z=0,E=[],Q=0,N=a.geometryData;Q<N.length;Q++)for(var O=N[Q],R=O.componentOffsets,T=0,O=O.geometries;T<O.length;T++){var L=O[T],V=a.layouts[z];++z;var S=e.interleaveGeometryBuffer(L,p,V,[{name:v.VertexAttrConstants.COLOR,byteValue:255}],[v.VertexAttrConstants.NORMAL,v.VertexAttrConstants.NORMALCOMPRESSED,v.VertexAttrConstants.SYMBOLCOLOR,v.VertexAttrConstants.COMPONENTINDEX]),P=new t(new Float32Array(S),V),M=P.getAttribute(v.VertexAttrConstants.POSITION);m.reprojectPoints(M,a.mbs,r,
a.elevationOffset,g,k,l);y&&this._updateObb(y,M,q);a.needNormals&&(M={normals:P.getAttribute(v.VertexAttrConstants.NORMALCOMPRESSED),positions:M,normalInd:P.getIndices(v.VertexAttrConstants.NORMALCOMPRESSED),positionInd:P.getIndices(v.VertexAttrConstants.POSITION)},e.processAndInterleaveNormals(a.normalReferenceFrame,L,p,q,M));(L=P.getAttribute(v.VertexAttrConstants.COMPONENTINDEX))&&this._createComponentNumbers(L,R);(P=P.getAttribute(v.VertexAttrConstants.COLOR))&&!C&&(C=this._hasColors(P));P={globalTrafo:q};
L=V[0].stride;L=b.default(S,L/4,null,1-.8*L/(L+4));null!=L?(S=65536>L.uniqueCount?new Uint16Array(L.indices):L.indices,M=e.extractPositionData(L.buffer,V,S),E.push({layout:V,interleavedVertexData:L.buffer,indices:S,corMatrices:P,hasColors:C,positionData:M}),f&&(f.push(L.buffer),f.push(S.buffer),f.push(M.data.buffer),f.push(M.indices.buffer))):(M=e.extractPositionData(S,V),E.push({layout:V,interleavedVertexData:S,corMatrices:P,hasColors:C,positionData:M}),f&&(f.push(S),f.push(M.data.buffer),f.push(M.indices.buffer)))}y&&
(d.vec3.transformMat4(y.center,y.center,q),u.vectorToVector(y.center,l,y.center,g),y.center[2]-=a.elevationOffset);return{geometryBuffer:p,transformedGeometries:E,obb:y}};a.prototype._hasColors=function(a){var b=a.data,c=a.size,d=a.strideIdx;for(a=a.offsetIdx;a<b.length;a+=d)for(var e=0;e<c;e++)if(255!==b[a+e])return!0;return!1};a.prototype._createComponentNumbers=function(a,b){var c=a.data,d=a.strideIdx,e=c.length/d,f=0;a=a.offsetIdx;for(var g=0;g<e;g++)g>=b[f+1]&&f++,c[a]=f,a+=d};a.prototype._updateObb=
function(a,b,c){if(0<a.halfSize[0]){d.vec3.subtract(w,a.center,a.halfSize);d.vec3.add(x,a.center,a.halfSize);for(c=b.offsetIdx;c<b.data.length;c+=b.strideIdx)w[0]=Math.min(w[0],b.data[c]),w[1]=Math.min(w[1],b.data[c+1]),w[2]=Math.min(w[2],b.data[c+2]),x[0]=Math.max(x[0],b.data[c]),x[1]=Math.max(x[1],b.data[c+1]),x[2]=Math.max(x[2],b.data[c+2]);d.vec3.subtract(a.halfSize,x,w);d.vec3.scale(a.halfSize,a.halfSize,.5);d.vec3.add(a.center,w,x);d.vec3.scale(a.center,a.center,.5)}else n.compute(b,a),b=2*
Math.sqrt(1+c[0]+c[5]+c[10]),y[0]=(c[9]-c[6])/b,y[1]=(c[2]-c[8])/b,y[2]=(c[4]-c[1])/b,y[3]=.25*b,k.quat.conjugate(y,y),k.quat.multiply(a.quaternion,y,a.quaternion)};return a}();var r=l.mat4f64.create(),w=f.vec3f64.create(),x=f.vec3f64.create(),y=g.quatf32.create();return q});