// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(v,n,t,u,r){function q(a,e,g){if("point"===a.type)return a.x+=e,a.y+=g,a;if("multipoint"===a.type){var c=a.points,b;for(b in c){var d=c[b],f=d[0],d=d[1];c[b]=[f+e,d+g]}return a}if("extent"===a.type)return a.xmin+=e,a.xmax+=e,a.ymin+=g,a.ymax+=g,a;var c=r.geometryToCoordinates(a),h="polyline"===a.type?a.paths:a.rings,k;for(k in c){var m=c[k];
for(b in m)d=m[b],f=d[0],d=d[1],h[k][b]=[f+e,d+g]}"paths"in a?a.paths=h:a.rings=h;return a}Object.defineProperty(n,"__esModule",{value:!0});n.move=q;n.cloneMove=function(a,e,g,c,b){a=a.clone();var d=c.resolution;if("point"===a.type){if(b)q(a,e*d,-g*d);else{b=c.state.transform;c=c.state.inverseTransform;var f=b[0]*a.x+b[2]*a.y+b[4],h=b[1]*a.x+b[3]*a.y+b[5];a.x=c[0]*(f+e)+c[2]*(h+g)+c[4];a.y=c[1]*(f+e)+c[3]*(h+g)+c[5]}return a}if("multipoint"===a.type){if(b)q(a,e*d,-g*d);else{d=a.points;b=c.state.transform;
c=c.state.inverseTransform;for(var k in d){var f=d[k],h=b[0]*f[0]+b[2]*f[1]+b[4],m=b[1]*f[0]+b[3]*f[1]+b[5],f=c[0]*(h+e)+c[2]*(m+g)+c[4],h=c[1]*(h+e)+c[3]*(m+g)+c[5];d[k]=[f,h]}}return a}if("extent"===a.type){if(b)q(a,e*d,-g*d);else{b=c.state.transform;c=c.state.inverseTransform;k=b[0]*a.xmin+b[2]*a.ymin+b[4];var l=b[1]*a.xmin+b[3]*a.ymin+b[5],d=b[0]*a.xmax+b[2]*a.ymax+b[4];b=b[1]*a.xmax+b[3]*a.ymax+b[5];a.xmin=c[0]*(k+e)+c[2]*(l+g)+c[4];a.ymin=c[1]*(k+e)+c[3]*(l+g)+c[5];a.xmax=c[0]*(d+e)+c[2]*(b+
g)+c[4];a.ymax=c[1]*(d+e)+c[3]*(b+g)+c[5]}return a}if(b)q(a,e*d,-g*d);else{var p=r.geometryToCoordinates(a),d="polyline"===a.type?a.paths:a.rings;b=c.state.transform;c=c.state.inverseTransform;for(l in p){var n=p[l];for(k in n)f=n[k],h=b[0]*f[0]+b[2]*f[1]+b[4],m=b[1]*f[0]+b[3]*f[1]+b[5],f=c[0]*(h+e)+c[2]*(m+g)+c[4],h=c[1]*(h+e)+c[3]*(m+g)+c[5],d[l][k]=[f,h]}"paths"in a?a.paths=d:a.rings=d}return a};n.scale=function(a,e,g,c,b){if("point"===a.type){c=a.x;var d=a.y,f=b?b[0]:c;b=b?b[1]:d;a=a.clone();
a.x=(c-f)*e+f;a.y=(d-b)*g+b;return a}if("multipoint"===a.type){var h=r.geometryToCoordinates(a);c=t.create();d=u.getRingsOrPathsBounds(c,[h]);h=d[0];c=d[1];var k=d[2],d=d[3],h=b?b[0]:(h+k)/2,k=b?b[1]:(d+c)/2,m=a.clone(),l=m.points;for(f in l)a=l[f],c=a[0],d=a[1],a=(c-h)*e+h,b=(d-k)*g+k,l[f]=[a,b];return m}if("extent"===a.type)return f=a.xmin,h=a.xmax,c=a.ymin,k=a.ymax,d=b?b[0]:(f+h)/2,b=b?b[1]:(k+c)/2,a=a.clone(),a.xmin=(f-d)*e+d,a.ymax=(k-b)*g+b,a.xmax=(h-d)*e+d,a.ymin=(c-b)*g+b,a.xmin>a.xmax&&(e=
a.xmin,a.xmin=a.xmax,a.xmax=e),a.ymin>a.ymax&&(e=a.ymin,a.ymin=a.ymax,a.ymax=e),a;k=r.geometryToCoordinates(a);c=t.create();l=u.getRingsOrPathsBounds(c,k);d=l[0];c=l[1];var m=l[2],l=l[3],m=b?b[0]:(d+m)/2,l=b?b[1]:(l+c)/2,p=a.clone(),n="polyline"===p.type?p.paths:p.rings;for(h in k){var q=k[h];for(f in q)a=q[f],c=a[0],d=a[1],a=(c-m)*e+m,b=(d-l)*g+l,n[h][f]=[a,b]}"paths"in p?p.paths=n:p.rings=n;return p};n.getScaleRatio=function(a,e,g,c,b,d){return Math.sqrt((b-a)*(b-a)+(d-e)*(d-e))/Math.sqrt((g-a)*
(g-a)+(c-e)*(c-e))};n.getRotationAngle=function(a,e,g,c,b,d){return 180*Math.atan2(e-d,a-b)/Math.PI-180*Math.atan2(e-c,a-g)/Math.PI}});