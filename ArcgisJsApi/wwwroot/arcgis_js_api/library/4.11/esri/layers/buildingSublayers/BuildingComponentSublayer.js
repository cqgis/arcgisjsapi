// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../PopupTemplate ../../renderers ../../request ../../core/Loadable ../../core/accessorSupport/decorators ../../geometry/Extent ../../geometry/SpatialReference ./BuildingSublayer ../support/commonProperties ../support/Field ../../renderers/support/jsonUtils ../../support/popupUtils ../../symbols/support/ElevationInfo".split(" "),function(v,w,x,f,c,g,h,k,l,b,m,n,
p,q,r,d,t,u){return function(e){function a(a){a=e.call(this)||this;a.type="building-component";a.fields=[];a.listMode="show";a.renderer=null;a.definitionExpression=null;a.popupEnabled=!0;a.popupTemplate=null;a.geometryType="mesh";a.profile="mesh-pyramids";return a}f(a,e);Object.defineProperty(a.prototype,"parsedUrl",{get:function(){return this.layer?{path:this.layer.parsedUrl.path+"/sublayers/"+this.id,query:this.layer.parsedUrl.query}:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"objectIdField",{get:function(){if(null!=this.fields)for(var a=0,b=this.fields;a<b.length;a++){var c=b[a];if("oid"===c.type)return c.name}return null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!0,configurable:!0});a.prototype.load=function(){this.addResolvingPromise(this._fetchService());return this.when()};a.prototype.createPopupTemplate=function(a){return t.createPopupTemplate(this,a)};a.prototype._fetchService=
function(){var a=this;return k(this.parsedUrl.path,{query:{f:"json"},responseType:"json"}).then(function(b){a.read(b.data,{origin:"service",url:a.parsedUrl})})};c([b.property({readOnly:!0,dependsOn:["layer","id"]})],a.prototype,"parsedUrl",null);c([b.property({readOnly:!0})],a.prototype,"store",void 0);c([b.property({readOnly:!0})],a.prototype,"attributeStorageInfo",void 0);c([b.property({readOnly:!0,type:[r]})],a.prototype,"fields",void 0);c([b.property({type:String,dependsOn:["fields"],readOnly:!0})],
a.prototype,"objectIdField",null);c([b.property({readOnly:!0,type:m,aliasOf:"layer.fullExtent"})],a.prototype,"fullExtent",void 0);c([b.property({readOnly:!0,type:n,aliasOf:"layer.spatialReference"})],a.prototype,"spatialReference",void 0);c([b.property({readOnly:!0,aliasOf:"layer.version"})],a.prototype,"version",void 0);c([b.property({readOnly:!0,type:u,aliasOf:"layer.elevationInfo"})],a.prototype,"elevationInfo",void 0);c([b.property({type:["hide","show"],json:{write:!0}})],a.prototype,"listMode",
void 0);c([b.property({types:h.rendererTypes,json:{origins:{service:{read:{source:"drawingInfo.renderer",reader:d.read}}},read:{source:"layerDefinition.drawingInfo.renderer",reader:d.read},write:{target:"layerDefinition.drawingInfo.renderer"}},value:null})],a.prototype,"renderer",void 0);c([b.property({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],a.prototype,"definitionExpression",
void 0);c([b.property(q.popupEnabled)],a.prototype,"popupEnabled",void 0);c([b.property({type:g,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],a.prototype,"popupTemplate",void 0);c([b.property({readOnly:!0,type:String,json:{origins:{service:{read:{source:"store.normalReferenceFrame"}}},read:!1}})],a.prototype,"normalReferenceFrame",void 0);c([b.property({readOnly:!0,json:{read:!1},dependsOn:["fields","title"]})],a.prototype,"defaultPopupTemplate",null);return a=c([b.subclass("esri.layers.buildingSublayers.BuildingComponentSublayer")],
a)}(b.declared(p,l))});