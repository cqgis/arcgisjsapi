// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/accessorSupport/decorators ./ArcGISService ../support/TileInfo ../support/TilemapCache".split(" "),function(n,p,q,e,c,f,b,l,g,m){return function(d){function a(){var a=null!==d&&d.apply(this,arguments)||this;a.copyright=null;a.minScale=0;a.maxScale=0;a.spatialReference=null;a.tileInfo=null;a.tilemapCache=null;return a}e(a,d);a.prototype.readMinScale=
function(a,b){return null!=b.minLOD&&null!=b.maxLOD?a:0};a.prototype.readMaxScale=function(a,b){return null!=b.minLOD&&null!=b.maxLOD?a:0};Object.defineProperty(a.prototype,"supportsBlankTile",{get:function(){return 10.2<=this.version},enumerable:!0,configurable:!0});a.prototype.readTileInfo=function(a,b){if(!a)return null;var c=b.minScale,d=b.maxScale,h=b.minLOD,k=b.maxLOD;if(null!=h&&null!=k)a.lods=a.lods.filter(function(a){a=a.level;return null!=a&&a>=h&&a<=k});else if(0!==c&&0!==d){var e=c?Math.round(1E4*
c)/1E4:Infinity,f=d?Math.round(1E4*d)/1E4:-Infinity;a.lods=a.lods.filter(function(a){a=Math.round(1E4*a.scale)/1E4;return a<=e&&a>=f})}return g.fromJSON(a)};a.prototype.readTilemapCache=function(a,b){return b.capabilities&&-1<b.capabilities.indexOf("Tilemap")?new m({layer:this}):null};c([b.property({json:{read:{source:"copyrightText"}}})],a.prototype,"copyright",void 0);c([b.property()],a.prototype,"minScale",void 0);c([b.reader("service","minScale")],a.prototype,"readMinScale",null);c([b.property()],
a.prototype,"maxScale",void 0);c([b.reader("service","maxScale")],a.prototype,"readMaxScale",null);c([b.property({type:f.SpatialReference})],a.prototype,"spatialReference",void 0);c([b.property({readOnly:!0,dependsOn:["version"]})],a.prototype,"supportsBlankTile",null);c([b.property({type:g})],a.prototype,"tileInfo",void 0);c([b.reader("service","tileInfo",["tileInfo","minScale","maxScale"])],a.prototype,"readTileInfo",null);c([b.property()],a.prototype,"tilemapCache",void 0);c([b.reader("service",
"tilemapCache",["capabilities"])],a.prototype,"readTilemapCache",null);c([b.property()],a.prototype,"version",void 0);return a=c([b.subclass("esri.layers.mixins.ArcGISCachedService")],a)}(b.declared(l))});