// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.11/esri/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/FeatureForm":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/date/locale ../moment ../core/accessorSupport/decorators ../layers/support/domains ../layers/support/fieldUtils ./Widget ./FeatureForm/FeatureFormViewModel ./support/widget".split(" "),function(H,F,D,n,w,r,v,E,I,B,t,x,k){var M={datePattern:"M/d/y",timePattern:"h:mm:ss a"};return function(t){function f(f){f=t.call(this)||
this;f._fieldFocusNeeded=!1;f._activeDateEdit=null;f._activeInputName=null;f.feature=null;f.fieldConfig=null;f.groupDisplay="all";f.layer=null;f.strict=null;f.viewModel=new x;f._handleFormKeyDown=f._handleFormKeyDown.bind(f);f._handleInputBlur=f._handleInputBlur.bind(f);f._handleInputFocus=f._handleInputFocus.bind(f);f._handleNumberInputMouseDown=f._handleNumberInputMouseDown.bind(f);f._handleInputKeyDown=f._handleInputKeyDown.bind(f);f._handleOptionChange=f._handleOptionChange.bind(f);f._handleGroupClick=
f._handleGroupClick.bind(f);f._handleSubmit=f._handleSubmit.bind(f);f._afterScrollerCreateOrUpdate=f._afterScrollerCreateOrUpdate.bind(f);return f}n(f,t);f.prototype.postInitialize=function(){var f=this;this.own(this.watch("feature",function(){var m=f.viewModel.inputFields[0],m=m&&m.inputFields?m.inputFields[0]:m;f._activeInputName=m&&m.name;f._fieldFocusNeeded=!0}),this.on("submit",function(m){0<m.invalid.length&&(f._activeInputName=m.invalid[0],f._fieldFocusNeeded=!0,f.scheduleRender())}))};f.prototype.getValues=
function(){return null};f.prototype.submit=function(){return null};f.prototype.render=function(){var f=this.viewModel.state;return k.tsx("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===f?this.renderForm():null)};f.prototype.renderForm=function(){return k.tsx("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,onkeydown:this._handleFormKeyDown},this.renderFields())};f.prototype.renderFields=function(){var f=this;return this.viewModel.inputFields.map(function(m,
k){return m&&m.inputFields?f.renderGroup(m,k):f.renderLabeledField(m)})};f.prototype.renderGroup=function(f,G){var m=this,t=f.description,C=f.label,x=f.inputFields,p=this.viewModel.findField(this._activeInputName),p=p&&p.group===f,z=this.id+"_group_"+G,n=this.id+"_group-label_"+G,r=this.id+"_group-description_"+G,w=t?k.tsx("p",{class:this.classes("esri-feature-form__group-description","esri-feature-form__description-text"),id:r},t):null,B="sequential"===this.groupDisplay,v=B?p?"true":"false":void 0;
return k.tsx("fieldset",{class:this.classes("esri-feature-form__group",B?"esri-feature-form__group--sequential":null,!B||p?null:"esri-feature-form__group--collapsed",p?"esri-feature-form__group--active":null),"aria-expanded":v,"aria-labelledby":n,"aria-describedby":t?r:"","data-group":f,id:z,key:G,onclick:this._handleGroupClick},k.tsx("div",{class:"esri-feature-form__group-label",id:n},C),w,x.map(function(f){return m.renderLabeledField(f)}))};f.prototype._getFocusableInput=function(f,G){var m=this.viewModel._allInputFields;
f="forward"===f?m:m.slice().reverse();for(G=f.indexOf(G)+1;G<f.length;G++)if(m=f[G],m.visible&&m.editable)return m;return null};f.prototype.renderLabeledField=function(f){return k.tsx("label",{key:f.layer.id+"-"+f.name,class:"esri-feature-form__label"},[f.label,"unsupported"!==f.type?this.renderInputField(f):this.renderUnsupportedField(f),this.renderAuxiliaryText(f)])};f.prototype.renderInputField=function(f){var m=f.domain,L=f.editable,t=f.type,C=this.viewModel.getValue(f.name),L=!L,x=this.getCommonInputProps(f);
return m&&"coded-value"===m.type&&!L?this.renderSelectInputField(C,m.codedValues.map(function(f){return{value:f.code,name:f.name}}),x):"text"===t&&"text-area"===f.editorType||"rich-text"===f.editorType?k.tsx("textarea",D({},x)):"date"===t?this.renderDateInputField(C,x):k.tsx("input",D({type:"text"===t?"text":"number"},x))};f.prototype.renderDateInputField=function(f,G){var m=this._formatDate(0),t=m.date,m=m.time,C=this.id+"-"+G.key,x=C+"-date",C=C+"-time",p=G["data-field"];return k.tsx("div",{key:G.key+
"-date",class:"esri-feature-form__date-input-container"},k.tsx("div",{class:"esri-feature-form__date-input-part"},k.tsx("input",D({"aria-label":p.label,"aria-describedby":x,type:"text"},G,{"data-date-part":"date",class:this.classes(G.class,"esri-feature-form__input--date"),value:this._formatDate(f).date})),k.tsx("div",{class:"esri-feature-form__date-format-hint",id:x},t)),k.tsx("div",{class:"esri-feature-form__date-input-part"},k.tsx("input",D({"aria-describedby":C,"aria-label":p.label,type:"text"},
G,{"data-date-part":"time",class:this.classes(G.class,"esri-feature-form__input--time"),value:this._formatDate(f).time})),k.tsx("div",{class:"esri-feature-form__date-format-hint",id:C},m)))};f.prototype.renderUnsupportedField=function(f){f=this.viewModel.getValue(f.name);return k.tsx("input",{class:this.classes("esri-input","esri-feature-form__input","esri-feature-form__input--disabled"),disabled:!0,type:"text",value:""+f})};f.prototype.renderSelectInputField=function(f,G,L){var m=!1;G=G.map(function(G){G.value===
f&&(m=!0);return k.tsx("option",{value:""+G.value,key:G.name},G.name)});null==f||""===f||m||G.unshift(k.tsx("option",{value:""+f,key:"outlier-option"},f));var t=L["data-field"];t.required||null!=t.value||G.unshift(k.tsx("option",{value:"",key:"empty-option"}));return k.tsx("select",D({},L,{class:this.classes(L.class,"esri-select"),onchange:this._handleOptionChange}),G)};f.prototype.renderAuxiliaryText=function(f){if(!f.valid)return k.tsx("div",{key:"error-message"},k.tsx("span",{class:this.classes("esri-feature-form__input-icon--invalid",
"esri-icon-notice-triangle")}),k.tsx("div",{class:"esri-feature-form__field-error-message"},f.errorMessage));if(f.valid&&f.description)return k.tsx("div",{key:"description",class:"esri-feature-form__description-text"},f.description)};f.prototype.getCommonInputProps=function(f){var m=f.editable,k=f.name,t=f.required,C=f.maxLength,x=f.hint,p=f.type,z=f.valid,n=this.viewModel.getValue(k),m=!m;return D({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,"aria-invalid":z?
"false":"true",class:this.classes("esri-input","esri-feature-form__input",m?"esri-feature-form__input--disabled":null,z?null:"esri-feature-form__input--invalid"),key:k,maxlength:-1<C?""+C:""},this._getNumberFieldConstraints(f),{disabled:m,value:null==n?"":""+n,"data-field":f,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,onkeydown:this._handleInputKeyDown,onmousedown:"number"===p?this._handleNumberInputMouseDown:null,required:t,title:x})};f.prototype._handleNumberInputMouseDown=function(f){f=
f.target;f.disabled||f.focus();this.scheduleRender()};f.prototype._getNumberFieldConstraints=function(f){return(f=I.getDomainRange(f.domain)||B.getFieldRange(f.field))&&f.max!==Number.MAX_VALUE&&f.min!==Number.MIN_VALUE?f:{min:null,max:null}};f.prototype._afterScrollerCreateOrUpdate=function(f){var m=f["data-field"],k=this.viewModel.findField(this._activeInputName);m.editable&&this._fieldFocusNeeded&&k===m&&(this._fieldFocusNeeded=!1,f.focus())};f.prototype._handleInputFocus=function(f){this._activeInputName=
f.target["data-field"].name};f.prototype._handleInputBlur=function(f){var m,k=f.target,t=k["data-field"],C=(f=f.relatedTarget)&&f["data-field"];if("date"===t.type){var x=k.getAttribute("data-date-part");this._activeDateEdit=D({},this._activeDateEdit,(m={},m[x]={value:k.value,input:k},m))}C&&"date"===t.type&&"date"===C.type&&t.field===C.field?""!==k.value&&""===f.value&&(x=f.getAttribute("data-date-part"),f.value=this._formatDate(Date.now())[x]):(this._commitValue(k),this.scheduleRender())};f.prototype._commitValue=
function(f){var m=f["data-field"];if(this._activeDateEdit){var k=this._activeDateEdit;f=k.date;var k=k.time,t=this._getDateEditValue(m,"date"),m=this._getDateEditValue(m,"time"),C=""===t||""===m;f&&(f=f.input,f.value=C?"":t,this._updateFieldValue(f));k&&(f=k.input,f.value=C?"":m,this._updateFieldValue(f));this._activeDateEdit=null}else this._updateFieldValue(f)};f.prototype._getDateEditValue=function(f,G){var m=this._activeDateEdit[G];if(m)return""===m.value?"":(m=this._parseDate(m.value,G))?this._formatDate(m.getTime())[G]:
this._formatDate(f.value)[G]};f.prototype._handleInputKeyDown=function(f){var m=f.key,k=f.altKey,t=f.ctrlKey,C=f.metaKey,x=f.shiftKey;if("Tab"===m){var p=f.target,z=p["data-field"],m=x?"backward":"forward",k=p.getAttribute("data-date-part");"backward"===m&&"time"===k||"forward"===m&&"date"===k||(this._commitValue(p),k=this.viewModel.findField(z.name),this._activeInputName=(m=this._getFocusableInput(m,k))&&m.name,m?(f.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())}else"Enter"!==m?(p=
f.target,z=p["data-field"],z=z.field.type,p="single"===z||"double"===z,"integer"!==z&&"small-integer"!==z&&!p||k||t||C||1!==m.length||(k=Number(m),t=["-","+"],C=["e","."],t=p?t.concat(C):t,isNaN(k)&&-1===t.indexOf(m)&&f.preventDefault())):(this._updateFieldValue(f.target),this.scheduleRender())};f.prototype._updateFieldValue=function(f){this.viewModel.setValue(f["data-field"].name,this._parseValue(f))};f.prototype._parseValue=function(f){var m=f["data-field"],k=f.value,t=m.type;if(!m.required&&""===
k)return null;if("number"===t)return parseFloat(k);if("date"===t){if(!k)return null;f=f.getAttribute("data-date-part");t=Number(k);if(!isNaN(t))return t;k=this._parseDate(k,f);if(!k)return null;var k=v(k),C=m.domain,x=v(),t=x;C&&"range"===C.type&&(C=v(C.maxValue),x.isAfter(C)||(t=C));m=this.viewModel.getValue(m.name);m=v(null!=m?m:t);"date"===f?(k.hour(m.hour()),k.minutes(m.minutes()),k.seconds(m.seconds())):(k.date(m.date()),k.month(m.month()),k.year(m.year()));return k.valueOf()}return k};f.prototype._handleOptionChange=
function(f){this._updateFieldValue(f.target);this.scheduleRender()};f.prototype._handleGroupClick=function(f){f=f.currentTarget;"false"===f.getAttribute("aria-expanded")&&(this._activeInputName=f["data-group"].inputFields[0].name,this._fieldFocusNeeded=!0,this.scheduleRender())};f.prototype._handleSubmit=function(f){f.preventDefault()};f.prototype._handleFormKeyDown=function(f){"Enter"===f.key&&this.viewModel.submit()};f.prototype._formatDate=function(f){if(null==f)return{date:"",time:""};f=new Date(f);
return{date:r.format(f,D({selector:"date"},M)),time:r.format(f,D({selector:"time"},M))}};f.prototype._parseDate=function(f,G){return null==f||""===f?null:r.parse(f,D({selector:G},M))};w([E.aliasOf("viewModel.feature")],f.prototype,"feature",void 0);w([E.aliasOf("viewModel.fieldConfig")],f.prototype,"fieldConfig",void 0);w([E.property(),k.renderable()],f.prototype,"groupDisplay",void 0);w([E.aliasOf("viewModel.layer")],f.prototype,"layer",void 0);w([E.aliasOf("viewModel.strict")],f.prototype,"strict",
void 0);w([E.property(),k.renderable(["viewModel.inputFields","viewModel.state"]),k.vmEvent(["value-change","submit"])],f.prototype,"viewModel",void 0);w([E.aliasOf("viewModel.getValues")],f.prototype,"getValues",null);w([E.aliasOf("viewModel.submit")],f.prototype,"submit",null);return f=w([E.subclass("esri.widgets.FeatureForm")],f)}(E.declared(t))})},"esri/widgets/FeatureForm/FeatureFormViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/arrayUtils ../../core/Evented ../../core/lang ../../core/ReentrantObjectPool ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig ./FieldGroupConfig ./InputField ./InputFieldGroup".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k,M,C){return function(f){function m(m){m=f.call(this)||this;m._fieldPool=new I.ReentrantObjectPool(M);m._fieldGroupPool=new I.ReentrantObjectPool(C);m._featureClone=null;m.fieldConfig=null;m.strict=!1;return m}D(m,f);Object.defineProperty(m.prototype,"_allInputFields",{get:function(){return this.inputFields.reduce(function(f,m){return m.inputFields?f.concat(m.inputFields):f.concat([m])},[])},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"feature",
{get:function(){return this._get("feature")},set:function(f){this._featureClone=f?f.clone():null;this._set("feature",f)},enumerable:!0,configurable:!0});m.prototype.castFieldConfig=function(f){return f?f.map(function(f){return f instanceof x||f instanceof k?f:f.fieldConfig?new k(f):new x(f)}):null};Object.defineProperty(m.prototype,"inputFields",{get:function(){var f=this,m=this._fieldPool,k=this._fieldGroupPool,t=this._featureClone,C=this.layer,p=t&&t.clone();(t=this._get("inputFields"))&&t.forEach(function(p){return f._disposeInputOrGroup(p)});
if("ready"!==this.state)return[];var z=this.get("layer.fields")||[],t=this.fieldConfig||[];return(0!==t.length?t.map(function(G){if(G.fieldConfig){var t=k.acquire(),x=G.fieldConfig.map(function(k){var G=r.find(z,function(f){return f.name===k.name}),x=m.acquire();x.set({field:G,config:k,feature:p,group:t,layer:C,value:f.getValue(G.name)});return x}).filter(function(p){var m=p.visible;m||f._disposeInputOrGroup(p);return m});t.set({config:G,feature:p,inputFields:x});return t}var x=r.find(z,function(f){return f.name===
G.name}),L=m.acquire();L.set({field:x,config:G,feature:p,group:null,layer:C,value:f.getValue(x.name)});return L}):z.map(function(k){var G=m.acquire();G.set({config:null,field:k,feature:p,group:null,layer:C,value:f.getValue(k.name)});return G})).filter(function(p){var m=p.visible;m||f._disposeInputOrGroup(p);return m})},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"layer",{get:function(){return this.get("feature.layer")},set:function(f){f?this._override("layer",f):this._clearOverride("layer")},
enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"state",{get:function(){return this.get("layer.loaded")&&this.feature?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"valid",{get:function(){var f=this._allInputFields;return 0<f.length&&f.every(function(f){return f.valid})},enumerable:!0,configurable:!0});m.prototype.findField=function(f){return r.find(this._allInputFields,function(m){return m.name===f})};m.prototype.getValue=function(f){var m=
this._featureClone;return m&&m.get("attributes."+f)};m.prototype.setValue=function(f,m){var k=this,G=this._featureClone,t=this.strict;if(G&&G.attributes){var p=this.findField(f);if(p&&G.attributes[f]!==m){p.value=m;if(this.get("layer.typeIdField")===p.name){var z=new Set;this.layer.types.forEach(function(f){return Object.keys(f.domains).forEach(function(f){return z.add(f)})});z.forEach(function(f){(f=k.findField(f))&&f.notifyChange("domain")})}if(!t||p.valid)G.attributes[f]=m,this.notifyChange("inputFields"),
this._emitChangeEvent(p)}}};m.prototype.getValues=function(){var f=this._featureClone;return f&&E.clone(f.attributes)||null};m.prototype.submit=function(){var f=this._allInputFields,m=f.filter(function(f){return f.valid}).map(function(f){return f.name}),f=f.filter(function(f){return!f.valid}).map(function(f){return f.name}),k=this.getValues();this.emit("submit",{valid:m,invalid:f,values:k})};m.prototype._disposeInputOrGroup=function(f){f.inputFields?this._disposeGroup(f):this._disposeInput(f)};m.prototype._disposeGroup=
function(f){var m=this;f.inputFields.forEach(function(f){return m._disposeInput(f)});this._fieldGroupPool.release(f)};m.prototype._disposeInput=function(f){this._fieldPool.release(f)};m.prototype._emitChangeEvent=function(f){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:f.name,value:f.value,valid:f.valid})};n([B.property({readOnly:!0,dependsOn:["inputFields"]})],m.prototype,"_allInputFields",null);n([B.property()],m.prototype,"feature",null);n([B.property()],m.prototype,
"fieldConfig",void 0);n([t.cast("fieldConfig")],m.prototype,"castFieldConfig",null);n([B.property({readOnly:!0,dependsOn:["feature","fieldConfig","layer.fields","layer.loaded"]})],m.prototype,"inputFields",null);n([B.property({dependsOn:["feature.layer"]})],m.prototype,"layer",null);n([B.property({dependsOn:["layer.loaded","feature"]})],m.prototype,"state",null);n([B.property()],m.prototype,"strict",void 0);n([B.property({dependsOn:["_allInputFields"]})],m.prototype,"valid",null);n([B.property()],
m.prototype,"getValues",null);n([B.property()],m.prototype,"submit",null);return m=n([B.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],m)}(B.declared(w,v))})},"esri/widgets/FeatureForm/FieldConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./Format".split(" "),function(H,F,D,n,w,r,v){return function(w){function E(n){n=w.call(this)||this;n.description=null;n.domain=
null;n.editable=!0;n.editorType=null;n.format=null;n.hint=null;n.label=null;n.maxLength=-1;n.name=null;n.required=!1;n.visibilityExpression=null;return n}D(E,w);n([r.property()],E.prototype,"description",void 0);n([r.property()],E.prototype,"domain",void 0);n([r.property()],E.prototype,"editable",void 0);n([r.property()],E.prototype,"editorType",void 0);n([r.property({type:v})],E.prototype,"format",void 0);n([r.property()],E.prototype,"hint",void 0);n([r.property()],E.prototype,"label",void 0);n([r.property()],
E.prototype,"maxLength",void 0);n([r.property()],E.prototype,"name",void 0);n([r.property()],E.prototype,"required",void 0);n([r.property()],E.prototype,"visibilityExpression",void 0);return E=n([r.subclass("esri.widgets.FeatureForm.FieldConfig")],E)}(r.declared(w))})},"esri/widgets/FeatureForm/Format":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(H,F,D,n,w,r,v){return function(r){function E(n){n=r.call(this)||this;n.digitSeparator=!1;n.format=null;n.places=null;return n}D(E,r);n([v.property()],E.prototype,"digitSeparator",void 0);n([v.property({json:{read:{source:"dateFormat",reader:w.fromJSON}}})],E.prototype,"format",void 0);n([v.property()],E.prototype,"places",void 0);return E=n([v.subclass("esri.widgets.FeatureForm.Format")],E)}(v.declared(r))})},"esri/widgets/FeatureForm/FieldGroupConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig".split(" "),
function(H,F,D,n,w,r,v,E){return function(w){function B(t){t=w.call(this)||this;t.description=null;t.fieldConfig=null;t.label=null;t.visibilityExpression=null;return t}D(B,w);B.prototype.castFieldConfig=function(t){return t?t.map(function(t){return t.declaredClass?t:new E(t)}):null};n([r.property()],B.prototype,"description",void 0);n([r.property()],B.prototype,"fieldConfig",void 0);n([v.cast("fieldConfig")],B.prototype,"castFieldConfig",null);n([r.property()],B.prototype,"label",void 0);n([r.property()],
B.prototype,"visibilityExpression",void 0);return B=n([r.subclass("esri.widgets.FeatureForm.FieldGroupConfig")],B)}(r.declared(w))})},"esri/widgets/FeatureForm/InputField":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/i18n!./nls/FeatureForm ../../moment ../../core/Accessor ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/CodedValueDomain ../../layers/support/domains ../../layers/support/fieldUtils ../../support/arcadeUtils".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k){return function(v){function C(f){f=v.call(this)||this;f.config=null;f.feature=null;f.field=null;f.layer=null;f.description=null;f.editorType=null;f.error=null;f.format=null;f.group=null;f.hint=null;f.name=null;return f}D(C,v);Object.defineProperty(C.prototype,"compiledFunc",{get:function(){return k.createFunction(this.get("config.visibilityExpression"))},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"evaluatedVisibility",{get:function(){var f=
this.compiledFunc;if(f)return k.executeFunction(f,k.createExecContext(this.feature))},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"domain",{get:function(){var f=this.layer.typeIdField,m=f===this.name,k=this.get("field.domain");if(m&&!k)return new B({name:"__internal-type-based-coded-value-domain__",codedValues:this.layer.types.map(function(f){return{code:f.id,name:f.name}})});m=this.feature;f=f&&this.layer.getFieldDomain(this.name,{feature:m})||k;k=this.get("config.domain");
return this._isDomainCompatible(k)?k:f},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"editable",{get:function(){return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==this.get("config.editable")},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"errorMessage",{get:function(){return this._toErrorMessage()},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"label",{get:function(){return this.get("config.label")||this.field.alias||
this.field.name},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"maxLength",{get:function(){if("date"===this.type)return-1;var f=this.get("field.length"),m=this.get("config.maxLength");return!isNaN(m)&&-1<=m&&(-1===f||m<=f)?m:f},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"required",{get:function(){var f=this.get("field.nullable"),m=this.get("config.required");return this.editable&&(!f||!0===m)},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,
"type",{get:function(){var f=this.field;return x.isNumericField(f)?"number":x.isStringField(f)?"text":x.isDateField(f)?"date":"unsupported"},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"valid",{get:function(){var f=this.editable?this._validate():null;this._set("error",f);return null===f},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"value",{get:function(){return this._get("value")},set:function(f){this.notifyChange("evaluatedVisibility");this._set("value",
f)},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"visible",{get:function(){return this._isEditorField()?!1:"boolean"===typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault()},enumerable:!0,configurable:!0});C.prototype._isDomainCompatible=function(f){var m=this.field;if(f&&"coded-value"===f.type){var k=typeof f.codedValues[0].code;if("string"===k&&x.isStringField(m)||"number"===k&&x.isNumericField(m))return!0}return f&&"range"===f.type&&
x.isNumericField(m)?!0:!1};C.prototype._validate=function(){var f=this.domain,m=this.field,k=this.value;return f?null!==k||this.required?t.validateDomainValue(f,k):null:x.validateFieldValue(m,k)};C.prototype._shownByDefault=function(){var f=this.get("field.type");return"oid"!==f&&"global-id"!==f&&!this._isGeometryField()};C.prototype._isEditorField=function(){return-1<x.getFeatureEditFields(this.layer).indexOf(this.name)};C.prototype._isGeometryField=function(){return-1<x.getFeatureGeometryFields(this.layer).indexOf(this.name)};
C.prototype._toErrorMessage=function(){var f=this.domain,m=this.field,k=this.value,C=this.type,n=this.error;return this.required&&null===k?w.validationErrors.cannotBeNull:n===t.DomainValidationError.VALUE_OUT_OF_RANGE||n===x.NumericRangeValidationError.OUT_OF_RANGE?(m=t.getDomainRange(f)||x.getFieldRange(m),f=m.min,m=m.max,E.substitute({max:"date"===C?r(m).format("L LTS"):m,min:"date"===C?r(f).format("L LTS"):f},w.validationErrors.outsideRange)):n===t.DomainValidationError.INVALID_CODED_VALUE?w.validationErrors.invalidCodedValue:
n===x.TypeValidationError.INVALID_TYPE?w.validationErrors.invalidType:null};n([I.property({dependsOn:["config.visibilityExpression"]})],C.prototype,"compiledFunc",null);n([I.property({dependsOn:["compiledFunc","feature"]})],C.prototype,"evaluatedVisibility",null);n([I.property()],C.prototype,"config",void 0);n([I.property()],C.prototype,"feature",void 0);n([I.property()],C.prototype,"field",void 0);n([I.property()],C.prototype,"layer",void 0);n([I.property({aliasOf:"config.description"})],C.prototype,
"description",void 0);n([I.property({dependsOn:["config","feature","field","layer"]})],C.prototype,"domain",null);n([I.property({dependsOn:["config","field","layer"]})],C.prototype,"editable",null);n([I.property({aliasOf:"config.editorType"})],C.prototype,"editorType",void 0);n([I.property({readOnly:!0})],C.prototype,"error",void 0);n([I.property({dependsOn:["error","value"]})],C.prototype,"errorMessage",null);n([I.property({aliasOf:"config.format"})],C.prototype,"format",void 0);n([I.property()],
C.prototype,"group",void 0);n([I.property({aliasOf:"config.hint"})],C.prototype,"hint",void 0);n([I.property({dependsOn:["field","config"]})],C.prototype,"label",null);n([I.property({dependsOn:["field.length","config"]})],C.prototype,"maxLength",null);n([I.property({aliasOf:"field.name"})],C.prototype,"name",void 0);n([I.property({dependsOn:["field","config"]})],C.prototype,"required",null);n([I.property({dependsOn:["field"]})],C.prototype,"type",null);n([I.property({dependsOn:["config","domain",
"field","layer","value"]})],C.prototype,"valid",null);n([I.property({value:null})],C.prototype,"value",null);n([I.property({dependsOn:["config","evaluatedVisibility","field","layer"]})],C.prototype,"visible",null);return C=n([I.subclass("esri.widgets.FeatureForm.InputField")],C)}(I.declared(v))})},"esri/widgets/FeatureForm/InputFieldGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators ../../support/arcadeUtils".split(" "),
function(H,F,D,n,w,r,v,E){return function(r){function w(t){t=r.call(this)||this;t.config=null;t.description=null;t.feature=null;t.label=null;t.visibilityExpression=null;return t}D(w,r);Object.defineProperty(w.prototype,"compiledFunc",{get:function(){return E.createFunction(this.visibilityExpression)},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"evaluatedVisibility",{get:function(){var t=this.compiledFunc;if(t)return E.executeFunction(t,E.createExecContext(this.feature))},enumerable:!0,
configurable:!0});Object.defineProperty(w.prototype,"inputFields",{get:function(){return this._get("inputFields")},set:function(t){var x=this;this.handles.removeAll();t&&this.handles.add(t.map(function(k){return k.watch("visible",x._dirtyEvaluatedVisibility)}));this._set("inputFields",t)},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"visible",{get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some(function(t){return t.visible})},enumerable:!0,
configurable:!0});w.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")};n([v.property({dependsOn:["visibilityExpression"]})],w.prototype,"compiledFunc",null);n([v.property()],w.prototype,"config",void 0);n([v.property({dependsOn:["compiledFunc","feature"]})],w.prototype,"evaluatedVisibility",null);n([v.property({aliasOf:"config.description"})],w.prototype,"description",void 0);n([v.property()],w.prototype,"feature",void 0);n([v.property()],
w.prototype,"inputFields",null);n([v.property({aliasOf:"config.label"})],w.prototype,"label",void 0);n([v.property({aliasOf:"config.visibilityExpression"})],w.prototype,"visibilityExpression",void 0);n([v.property({dependsOn:["evaluatedVisibility","inputFields"]})],w.prototype,"visible",null);return w=n([v.subclass("esri.widgets.FeatureForm.InputFieldGroup")],w)}(v.declared(w,r))})},"esri/widgets/FeatureTemplates":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper @dojo/framework/shim/IntersectionObserver dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./FeatureTemplates/FeatureTemplatesViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k,M){function C(f){return f.items?f.uid:f.layer.id}return function(f){function m(m){m=f.call(this)||this;m._iconIntersectionObserver=new r.default(function(f,m){f.forEach(function(f){if(f.isIntersecting){var k=f.target;if(!k["data-has-icon"]){k["data-has-icon"]=!0;var p=k["data-item"];p.fetchThumbnail().then(function(){p.thumbnail&&k.appendChild(p.thumbnail)})}m.unobserve(k)}})});m.filterEnabled=!0;m.filterFunction=null;m.filterText="";m.groupBy=null;m.layers=null;
m.viewModel=new x;m.renderItemIcon=m.renderItemIcon.bind(m);m._afterItemCreateOrUpdate=m._afterItemCreateOrUpdate.bind(m);m._afterItemRemoved=m._afterItemRemoved.bind(m);return m}n(m,f);m.prototype.postInitialize=function(){var f=this,m=function(m){m=m.label;return!f.filterText||-1<m.toLowerCase().indexOf(f.filterText.toLowerCase())};this.own(I.init(this,"viewModel",function(k,t){k&&!k.filterFunction&&(f.filterFunction=m);t&&t!==k&&t.filterFunction===m&&(t.filterFunction=null)}))};m.prototype.destroy=
function(){this._iconIntersectionObserver&&(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)};m.prototype.render=function(){var f=this,m=this.filterText,t=this.filterEnabled,x=this.viewModel,n=x.items,x=x.state;return M.tsx("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":v.widgetLabel},"loading"===x?this.renderLoader():"ready"===x?k.ItemList({id:this.id,identify:C,filterText:m,items:n,messages:{filterPlaceholder:v.filterPlaceholder,noItems:v.noItems,
noMatches:v.noMatches},filterEnabled:t,onItemSelect:function(p){f.viewModel.select(p)},onFilterChange:function(p){f.filterText=p;f.viewModel.refresh()},renderIcon:this.renderItemIcon}):null)};m.prototype.renderItemIcon=function(f){return M.tsx("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":f.item,"data-has-icon":!1})};m.prototype.renderLoader=function(){return M.tsx("div",
{class:"esri-feature-templates__loader",key:"loader"})};m.prototype._afterItemCreateOrUpdate=function(f){this._iconIntersectionObserver.observe(f)};m.prototype._afterItemRemoved=function(f){this._iconIntersectionObserver.unobserve(f)};w([B.property(),M.renderable()],m.prototype,"filterEnabled",void 0);w([B.aliasOf("viewModel.filterFunction")],m.prototype,"filterFunction",void 0);w([B.property(),M.renderable()],m.prototype,"filterText",void 0);w([B.aliasOf("viewModel.groupBy")],m.prototype,"groupBy",
void 0);w([B.aliasOf("viewModel.layers")],m.prototype,"layers",void 0);w([B.property(),M.renderable(["viewModel.items","viewModel.state"]),M.vmEvent("select")],m.prototype,"viewModel",void 0);return m=w([B.subclass("esri.widgets.FeatureTemplates")],m)}(B.declared(t,E))})},"@dojo/framework/shim/IntersectionObserver":function(){(function(H){"object"===typeof module&&"object"===typeof module.exports?(H=H(require,exports),void 0!==H&&(module.exports=H)):"function"===typeof define&&define.amd&&define(["require",
"exports","./global","intersection-observer"],H)})(function(H,F){Object.defineProperty(F,"__esModule",{value:!0});var D=H("./global");"!has('build-elide')";H("intersection-observer");F.default=D.default.IntersectionObserver})},"intersection-observer/intersection-observer":function(){define(["dojo","dijit","dojox"],function(H,F,D){(function(n,w){function r(f){this.time=f.time;this.target=f.target;this.rootBounds=f.rootBounds;this.boundingClientRect=f.boundingClientRect;this.intersectionRect=f.intersectionRect||
x();this.isIntersecting=!!f.intersectionRect;f=this.boundingClientRect;f=f.width*f.height;var m=this.intersectionRect,m=m.width*m.height;this.intersectionRatio=f?Number((m/f).toFixed(4)):this.isIntersecting?1:0}function v(f,m){m=m||{};if("function"!=typeof f)throw Error("callback must be a function");if(m.root&&1!=m.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=E(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=f;this._observationTargets=
[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(m.rootMargin);this.thresholds=this._initThresholds(m.threshold);this.root=m.root||null;this.rootMargin=this._rootMarginValues.map(function(f){return f.value+f.unit}).join(" ")}function E(f,m){var k=null;return function(){k||(k=setTimeout(function(){f();k=null},m))}}function D(f,m,k,t){"function"==typeof f.addEventListener?f.addEventListener(m,k,t||!1):"function"==typeof f.attachEvent&&f.attachEvent("on"+m,k)}function B(f,m,k,t){"function"==
typeof f.removeEventListener?f.removeEventListener(m,k,t||!1):"function"==typeof f.detatchEvent&&f.detatchEvent("on"+m,k)}function t(f){var m;try{m=f.getBoundingClientRect()}catch(G){}if(!m)return x();m.width&&m.height||(m={top:m.top,right:m.right,bottom:m.bottom,left:m.left,width:m.right-m.left,height:m.bottom-m.top});return m}function x(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function k(f,m){for(;m;){if(m==f)return!0;m=M(m)}return!1}function M(f){return(f=f.parentNode)&&11==f.nodeType&&
f.host?f.host:f}if("IntersectionObserver"in n&&"IntersectionObserverEntry"in n&&"intersectionRatio"in n.IntersectionObserverEntry.prototype)"isIntersecting"in n.IntersectionObserverEntry.prototype||Object.defineProperty(n.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var C=[];v.prototype.THROTTLE_TIMEOUT=100;v.prototype.POLL_INTERVAL=null;v.prototype.USE_MUTATION_OBSERVER=!0;v.prototype.observe=function(f){if(!this._observationTargets.some(function(m){return m.element==
f})){if(!f||1!=f.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:f,entry:null});this._monitorIntersections();this._checkForIntersections()}};v.prototype.unobserve=function(f){this._observationTargets=this._observationTargets.filter(function(m){return m.element!=f});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};v.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();
this._unregisterInstance()};v.prototype.takeRecords=function(){var f=this._queuedEntries.slice();this._queuedEntries=[];return f};v.prototype._initThresholds=function(f){f=f||[0];Array.isArray(f)||(f=[f]);return f.sort().filter(function(f,k,t){if("number"!=typeof f||isNaN(f)||0>f||1<f)throw Error("threshold must be a number between 0 and 1 inclusively");return f!==t[k-1]})};v.prototype._parseRootMargin=function(f){f=(f||"0px").split(/\s+/).map(function(f){f=/^(-?\d*\.?\d+)(px|%)$/.exec(f);if(!f)throw Error("rootMargin must be specified in pixels or percent");
return{value:parseFloat(f[1]),unit:f[2]}});f[1]=f[1]||f[0];f[2]=f[2]||f[0];f[3]=f[3]||f[1];return f};v.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(D(n,"resize",this._checkForIntersections,!0),D(w,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(this._domObserver=new MutationObserver(this._checkForIntersections),
this._domObserver.observe(w,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};v.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,B(n,"resize",this._checkForIntersections,!0),B(w,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};v.prototype._checkForIntersections=function(){var f=this._rootIsInDom(),
m=f?this._getRootRect():x();this._observationTargets.forEach(function(k){var G=k.element,C=t(G),x=this._rootContainsTarget(G),w=k.entry,p=f&&x&&this._computeTargetAndRootIntersection(G,m);k=k.entry=new r({time:n.performance&&performance.now&&performance.now(),target:G,boundingClientRect:C,rootBounds:m,intersectionRect:p});w?f&&x?this._hasCrossedThreshold(w,k)&&this._queuedEntries.push(k):w&&w.isIntersecting&&this._queuedEntries.push(k):this._queuedEntries.push(k)},this);this._queuedEntries.length&&
this._callback(this.takeRecords(),this)};v.prototype._computeTargetAndRootIntersection=function(f,m){if("none"!=n.getComputedStyle(f).display){var k=t(f);f=M(f);for(var C=!1;!C;){var x=null,r=1==f.nodeType?n.getComputedStyle(f):{};if("none"==r.display)return;f==this.root||f==w?(C=!0,x=m):f!=w.body&&f!=w.documentElement&&"visible"!=r.overflow&&(x=t(f));if(x){var r=Math.max(x.top,k.top),v=Math.min(x.bottom,k.bottom),p=Math.max(x.left,k.left),k=Math.min(x.right,k.right),x=k-p,z=v-r,k=0<=x&&0<=z&&{top:r,
bottom:v,left:p,right:k,width:x,height:z};if(!k)break}f=M(f)}return k}};v.prototype._getRootRect=function(){var f;if(this.root)f=t(this.root);else{f=w.documentElement;var m=w.body;f={top:0,left:0,right:f.clientWidth||m.clientWidth,width:f.clientWidth||m.clientWidth,bottom:f.clientHeight||m.clientHeight,height:f.clientHeight||m.clientHeight}}return this._expandRectByRootMargin(f)};v.prototype._expandRectByRootMargin=function(f){var m=this._rootMarginValues.map(function(m,k){return"px"==m.unit?m.value:
m.value*(k%2?f.width:f.height)/100}),m={top:f.top-m[0],right:f.right+m[1],bottom:f.bottom+m[2],left:f.left-m[3]};m.width=m.right-m.left;m.height=m.bottom-m.top;return m};v.prototype._hasCrossedThreshold=function(f,m){f=f&&f.isIntersecting?f.intersectionRatio||0:-1;m=m.isIntersecting?m.intersectionRatio||0:-1;if(f!==m)for(var k=0;k<this.thresholds.length;k++){var t=this.thresholds[k];if(t==f||t==m||t<f!==t<m)return!0}};v.prototype._rootIsInDom=function(){return!this.root||k(w,this.root)};v.prototype._rootContainsTarget=
function(f){return k(this.root||w,f)};v.prototype._registerInstance=function(){0>C.indexOf(this)&&C.push(this)};v.prototype._unregisterInstance=function(){var f=C.indexOf(this);-1!=f&&C.splice(f,1)};n.IntersectionObserver=v;n.IntersectionObserverEntry=r}})(window,document)})},"dijit/main":function(){define(["dojo/_base/kernel"],function(H){return H.dijit})},"dojox/main":function(){define(["dojo/_base/kernel"],function(H){return H.dojox})},"esri/widgets/FeatureTemplates/FeatureTemplatesViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/ObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ./TemplateItem ./TemplateItemGroup".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x){var k=function(k){k=k.layer;return{key:k,label:k.title}},M=function(k){return k.layer.geometryType};return function(C){function f(f){f=C.call(this)||this;f._templateToLayer=new Map;f._itemPool=new E(t);f._groupPool=new E(x);f.filterFunction=null;f.groupBy="layer";return f}D(f,C);f.prototype.destroy=function(){this._templateToLayer.clear();this._templateToLayer=null};Object.defineProperty(f.prototype,"layers",{get:function(){return this._get("layers")},set:function(f){var m=
this;this.handles.removeAll();if(f){var k=function(){return m.notifyChange("state")};this.handles.add(f.map(function(f){return I.when(f,"loadStatus",k)}))}this._set("layers",f)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"state",{get:function(){var f=this.layers;return f&&0!==f.length?f.some(function(f){return"loading"===f.loadStatus||"not-loaded"===f.loadStatus})?"loading":"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"items",{get:function(){var f=
this,t=this.layers;this._destroyItems(this._get("items"));if(!t||0===t.length)return[];this._templateToLayer.clear();var t=t.filter(function(f){var p=f.capabilities;return f.loaded&&p.operations.supportsEditing&&p.operations.supportsAdd}).map(function(m){var p=f._getTemplatesForLayer(m);if(0<p.length)return p.forEach(function(p){return f._templateToLayer.set(p,m)}),p}).filter(function(f){return null!=f}),C=this.groupBy;if("none"===C)return t.map(function(m){return m.filter(function(p){p=p.name;return!f.filterFunction||
f.filterFunction({label:p})})}).map(function(m){return m.map(function(p){return f._createItem(p)})}).reduce(function(f,p){return f.concat(p)},[]);t=t.reduce(function(m,p){p.forEach(function(p){var t=("layer"===C?k:"geometry"===C?M:C)({template:p,layer:f._templateToLayer.get(p)});if(t){var z="string"===typeof t?t:t.key,t="string"===typeof t?t:t.label;m.has(z)||m.set(z,{label:t,templates:[]});m.get(z).templates.push(p)}});return m},new Map);if(0===t.size)return[];var x=[],n=this.filterFunction;t.forEach(function(m){var p=
m.label,k=m.templates;!n||f.filterFunction(m)?x.push(f._createGroup(p,k.map(function(p){return f._createItem(p)}))):(m=k.filter(function(p){return f.filterFunction({label:p.name})}).map(function(p){return f._createItem(p)}),0<m.length&&x.push(f._createGroup(p,m)))});return x},enumerable:!0,configurable:!0});f.prototype.refresh=function(){this.notifyChange("items")};f.prototype.select=function(f){f=f.clone();this.emit("select",{item:f,template:f.template})};f.prototype._getTemplatesForLayer=function(f){var m=
f.templates||[];f=(f.types||[]).map(function(f){return f.templates}).reduce(function(f,m){return f.concat(m)},[]);return m.concat(f)};f.prototype._createItem=function(f){var m=this._itemPool.acquire();m.set({template:f,layer:this._templateToLayer.get(f)});return m};f.prototype._createGroup=function(f,k){var m=this._groupPool.acquire();m.set("label",f);m.items=k;return m};f.prototype._destroyItems=function(f){var m=this;f&&(f[0]instanceof t?f.forEach(function(f){return m._destroyItem(f)}):f.forEach(function(f){return m._destroyGroup(f)}))};
f.prototype._destroyGroup=function(f){var m=this;f.items.forEach(function(f){return m._itemPool.release(f)});f.items.length=0;this._groupPool.release(f)};f.prototype._destroyItem=function(f){this._itemPool.release(f)};n([B.property()],f.prototype,"filterFunction",void 0);n([B.property()],f.prototype,"groupBy",void 0);n([B.property()],f.prototype,"layers",null);n([B.property({dependsOn:["layers"]})],f.prototype,"state",null);n([B.property({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],
f.prototype,"items",null);return f=n([B.subclass("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],f)}(B.declared(w,v,r))})},"esri/widgets/FeatureTemplates/TemplateItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../symbols/support/symbolUtils".split(" "),function(H,F,D,n,w,r,
v,E,I,B,t){return function(x){function k(k){k=x.call(this)||this;k.description=null;k.label=null;k.layer=null;k.template=null;k.thumbnail=null;return k}D(k,x);r=k;k.prototype.initialize=function(){var k=this;this.handles.add(I.init(this,["layer.renderer","template"],function(){return k._set("thumbnail",null)}))};k.prototype.clone=function(){var k=this.thumbnail?this.thumbnail.cloneNode(!0):null,f=new r({layer:this.layer,template:this.template});f._set("thumbnail",k);return f};k.prototype.fetchThumbnail=
function(){var k=this;return this._get("thumbnail")?E.resolve():this._getPreviewSymbol().then(function(f){return t.renderPreviewHTML(f,{maxSize:36})}).then(function(f){k._set("thumbnail",f)})};k.prototype._getPreviewSymbol=function(){var k=this.layer,f=this.template,m=this.layer.renderer;return m&&(f=new w({attributes:f.prototype.attributes}),m=m.getSymbol(f))?E.resolve(m):this._getFallbackSymbolFromGeometry(k)};k.prototype._getFallbackSymbolFromGeometry=function(k){k=k.geometryType;if("point"===
k||"multipoint"===k)return E.create(function(f){return H(["../../symbols/SimpleMarkerSymbol"],f)}).then(function(f){return new f});if("polyline"===k)return E.create(function(f){return H(["../../symbols/SimpleLineSymbol"],f)}).then(function(f){return new f});if("polygon"===k||"mesh"===k||"multipatch"===k)return E.create(function(f){return H(["../../symbols/SimpleFillSymbol"],f)}).then(function(f){return new f})};var r;n([B.property({aliasOf:"template.description"})],k.prototype,"description",void 0);
n([B.property({aliasOf:"template.name"})],k.prototype,"label",void 0);n([B.property()],k.prototype,"layer",void 0);n([B.property()],k.prototype,"template",void 0);n([B.property({readOnly:!0})],k.prototype,"thumbnail",void 0);return k=r=n([B.subclass("esri.widgets.FeatureTemplates.TemplateItem")],k)}(B.declared(r,v))})},"esri/symbols/support/symbolUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/compilerUtils ./previewSymbol2D ./previewSymbol3D ./previewWebStyleSymbol ./utils".split(" "),
function(H,F,D,n,w,r,v,E,I){function B(t,x){switch(t.type){case "web-style":return E.previewWebStyleSymbol(t,B,x);case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return v.previewSymbol3D(t,x);case "simple-marker":case "simple-line":case "simple-fill":case "picture-marker":case "picture-fill":case "text":case "cim":return r.previewSymbol2D(t,x);default:w.neverReached(t)}}Object.defineProperty(F,"__esModule",{value:!0});F.renderPreviewHTML=B;F.getDisplayedSymbol=function(t,
x){return n(this,void 0,void 0,function(){var k,n,C;return D(this,function(f){if(!t)return[2];k=t.get("layer.opacity")||t.get("sourceLayer.opacity");return t.symbol?(n=t.symbol.clone(),I.applyColorToSymbol(n,null,k),[2,n]):(C=t.get("layer.renderer")||t.get("sourceLayer.renderer"))&&"getDisplayedSymbol"in C?[2,C.getDisplayedSymbol(t,x)]:[2]})})}})},"esri/symbols/support/previewSymbol2D":function(){define("require exports ../../core/Error ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./previewUtils ./renderUtils".split(" "),
function(H,F,D,n,w,r,v,E){function I(k,x){var f=t.getContext("2d"),m=[];x&&(x.weight&&m.push(x.weight),x.size&&m.push(x.size+"px"),x.family&&m.push(x.family));f.font=m.join(" ");return f.measureText(k).width}function B(t){if(0===t.length)return 0;if(2<t.length){var C=w.px2pt(1),f=parseFloat(t);switch(t.slice(-2)){case "px":return f;case "pt":return f*C;case "in":return 72*f*C;case "pc":return 12*f*C;case "mm":return f*x*C;case "cm":return f*k*C}}return parseFloat(t)}Object.defineProperty(F,"__esModule",
{value:!0});var t=document.createElement("canvas"),x=7.2/2.54,k=72/2.54;F.previewSymbol2D=function(k,t){var f=t&&t.size?w.pt2px(t.size):null,m=t&&t.maxSize?w.pt2px(t.maxSize):null,x=t&&null!=t.opacity?t.opacity:null,C=t&&null!=t.rotation?t.rotation:null,O=r.getStroke(k),M={shape:null,fill:null,stroke:O};O&&O.width&&(O.width=Math.min(O.width,80));var J=0,p=0,z=O&&O.width||0,R=!1,F=null;switch(k.type){case "simple-marker":x=k.style;p=J=f=Math.min(f||w.pt2px(k.size),m||120);switch(x){case "circle":M.shape=
{type:"circle",cx:0,cy:0,r:.5*f};break;case "cross":M.shape={type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[J,.5*p]},{command:"M",values:[.5*J,0]},{command:"L",values:[.5*J,p]},{command:"E",values:[]}]};break;case "diamond":M.shape={type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[.5*J,0]},{command:"L",values:[J,.5*p]},{command:"L",values:[.5*J,p]},{command:"Z",values:[]}]};break;case "square":M.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",
values:[J,0]},{command:"L",values:[J,p]},{command:"L",values:[0,p]},{command:"Z",values:[]}]};break;case "triangle":M.shape={type:"path",path:[{command:"M",values:[.5*J,0]},{command:"L",values:[J,p]},{command:"L",values:[0,p]},{command:"Z",values:[]}]};break;case "x":M.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[J,p]},{command:"M",values:[J,0]},{command:"L",values:[0,p]},{command:"E",values:[]}]};break;case "path":R=!0,M.shape={type:"path",path:k.path||""}}break;case "simple-line":z=
Math.min(f||z,m||80);J=22<z?2*z:40;p=z;O.width=z;z=0;M.shape={type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[J,.5*p]},{command:"E",values:[]}]};break;case "picture-fill":case "simple-fill":p=J=f=Math.min(f,m||120);R=!0;M.shape=v.shapes.fill[0];break;case "picture-marker":var U=m||120,O=w.pt2px(k.width),m=w.pt2px(k.height),f=Math.min(f||Math.max(O,m),U),m=O/m,O=1>=m?Math.ceil(f*m):f,m=1>=m?f:Math.ceil(f/m),J=O,p=m,F=x;M.shape={type:"image",x:-Math.round(O/2),y:-Math.round(m/2),
width:O,height:m,src:k.url||""};break;case "text":x=k.text||"Aa",O=k.font,f=Math.min(f||w.pt2px(O.size),m||120),U=I(x,{weight:O.weight,size:f,family:O.family}),J=(m=/[\uE600-\uE6FF]/.test(x))?f:U,p=f,U=.25*B((O?f:0).toString()),m&&(U+=5),M.shape={type:"text",text:x,x:0,y:U,align:"middle",decoration:O&&O.decoration,rotated:k.rotated,kerning:k.kerning},M.font=O&&{size:f,style:O.style,decoration:O.decoration,weight:O.weight,family:O.family}}if(!M.shape)return n.reject(new D("symbolPreview: renderPreviewHTML2D",
"symbol not supported."));var J=(J||22)+z+1,p=(p||22)+z+1,H=r.getFill(k),z=k.color,f=null;H&&"pattern"===H.type&&z&&"picture-fill"!==k.type?f=r.getPatternUrlWithColor(H.src,z.toCss(!0)).then(function(f){H.src=f;M.fill=H;return M}):(M.fill=H,f=n.resolve(M));return f.then(function(f){return E.renderSymbol([[f]],[J,p],{node:t&&t.node,scale:R,opacity:F,rotation:C})})}})},"esri/symbols/support/previewUtils":function(){define(["require","exports"],function(H,F){Object.defineProperty(F,"__esModule",{value:!0});
F.shapes={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",
path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",
path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},
{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};F.getExtrudeSymbolShapes=function(D){D*=.5;return[{type:"path",path:[{command:"M",values:[0,.7*11]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+D]},{command:"L",values:[0,22*.7+D-.7*11]},{command:"Z",values:[]}]},
{type:"path",path:[{command:"M",values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+D]},{command:"L",values:[22,D]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[0,.7*11]},{command:"Z",values:[]}]}]};F.getCubeShapes=function(D,n){var w=n?20:D,r=n?4:6,r=w=22>=w?w-.5*r:w-r;n=n?.35*w:.5*w;return[{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,
.5*n]},{command:"L",values:[.5*r,n]},{command:"L",values:[0,.5*n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*n]},{command:"L",values:[.5*r,n]},{command:"L",values:[.5*r,D]},{command:"L",values:[0,D-.5*n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,n]},{command:"L",values:[.5*r,D]},{command:"L",values:[r,D-.5*n]},{command:"L",values:[r,.5*n]},{command:"Z",values:[]}]}]};F.getCylinderShapes=function(D,n){var w=n?20:D;n=n?4:6;w=22>=w?w-.5*n:w-
n;n=.5*w;var r=.15*w;D-=r;return[{type:"ellipse",cx:.5*w,cy:D,rx:n,ry:r},{type:"path",path:[{command:"M",values:[0,r]},{command:"L",values:[0,D]},{command:"L",values:[w,D]},{command:"L",values:[w,r]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*w,cy:r,rx:n,ry:r}]};F.getConeShapes=function(D,n){var w=n?20:D;n=n?4:6;w=22>=w?w-.5*n:w-n;n=.15*w;var r=w;D-=n;return[{type:"ellipse",cx:.5*w,cy:D,rx:.5*w,ry:n},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,D]},{command:"L",values:[0,
D]},{command:"Z",values:[]}]}]};F.getInvertedConeShapes=function(D){var n=D,n=22>n?n-3:n-6,w=.15*n,r=n;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[r,0]},{command:"L",values:[.5*r,D-w]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*n,cy:0,rx:.5*n,ry:w}]};F.getDiamondShapes=function(D){var n=D,n=22>n?n-2:n-4,w=Math.floor(D/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[n,.5*D-w]},{command:"L",values:[.45*n-w,.5*D+w]},{command:"Z",
values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[.45*n-w,.5*D+w]},{command:"L",values:[0,.5*D-w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*D-w]},{command:"L",values:[.45*n-w,.5*D+w]},{command:"L",values:[.45*n,D]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,D]},{command:"L",values:[n,.5*D-w]},{command:"L",values:[.45*n-w,.5*D+w]},{command:"Z",values:[]}]}]};F.getTetrahedronShapes=function(D){var n=D,n=22>
n?n-1:n-2;return[{type:"path",path:[{command:"M",values:[.45*D,0]},{command:"L",values:[D,n]},{command:"L",values:[.45*D,.6*n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*D,0]},{command:"L",values:[.45*D,.6*n]},{command:"L",values:[0,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,n]},{command:"L",values:[.45*D,.6*n]},{command:"L",values:[D,n]},{command:"Z",values:[]}]}]}})},"esri/symbols/support/renderUtils":function(){define("require exports dojox/gfx dojox/gfx/matrix ../../kernel ../../request ../../core/colorUtils ../../core/Error ../../core/has ../../core/promiseUtils".split(" "),
function(H,F,D,n,w,r,v,E,I,B){function t(k){return k.map(function(k){return k.command+" "+k.values.join(",")}).join(" ").trim()}function x(k,x,f,m){var G=m&&m.node||document.createElement("div"),C=D.createSurface(G,x,f);null!=m.opacity&&(G.style.opacity=m.opacity.toString());try{k.forEach(function(k){var G=C.createGroup(),r=0;k.forEach(function(f){var p=f.shape,m=f.fill,k=f.stroke;r+=k&&k.width||0;var z=null;p&&("path"===p.type&&"string"!==typeof p.path&&(p.path=t(p.path)),z=G.createShape(p).setFill(m).setStroke(k?
k:{width:0}),"text"===p.type&&z.setFont(f.font))});k=x/2;var p=f/2,z=G.getBoundingBox(),w=z.width,L=z.height,v=!1;if(m.scale&&0!==z.width&&0!==z.height){var B=z.width/z.height,v=(x>f?x:f)-2*r,E=1,M=1;isNaN(v)||(1<B?(E=v/z.width,M=v/B/z.height):(M=v/z.height,E=v*B/z.width));G.applyTransform(n.scaleAt(E,M,k,p));v=!0}B=z.x+w/2;z=z.y+L/2;G.applyTransform(n.translate(k-B,p-z));!v&&(w>x||L>f)&&(v=w/x>L/f,w=((v?x:f)-5)/(v?w:L),G.applyTransform(n.scaleAt(w,w,k,p)));m.rotation&&G.applyTransform(n.rotategAt(m.rotation,
B,z))})}catch(O){return C.clear(),C.destroy(),null}return G}function k(k,t,f){return k?r(k,{responseType:"image"}).then(function(m){m=m.data;var k=m.width,x=m.height,n=k/x,C=t;f&&(C=Math.min(C,Math.max(k,x)));return{image:m,width:1>=n?Math.ceil(C*n):C,height:1>=n?C:Math.ceil(C/n)}}):B.reject(new E("renderUtils: imageDataSize","href not provided."))}Object.defineProperty(F,"__esModule",{value:!0});F.renderSymbol=function(k,t,f){var m=Math.ceil(t[0]);t=Math.ceil(t[1]);return k.some(function(f){return!!f.length})?
x(k,m,t,f):null};F.tintImageWithColor=function(t,x,f,m,n){return k(t,x,n).then(function(k){var n=k.width?k.width:x,G=k.height?k.height:x,C;if(C=k.image)C=f&&"ignore"!==m?"multiply"===m&&255===f.r&&255===f.g&&255===f.b&&1===f.a?!1:!0:!1;if(C){var p=k.image.width,z=k.image.height;(I("edge")||I("ie"))&&/\.svg$/i.test(t)&&(--p,--z);var r,L;r=Math.ceil(n);L=Math.ceil(G);C=document.createElement("canvas");C.width=r;C.height=L;C.style.width=r+"px";C.style.height=L+"px";C=C.getContext("2d");C.clearRect(0,
0,r,L);C.drawImage(k.image,0,0,p,z,0,0,n,G);k=C.getImageData(0,0,n,G);p=[f.r/255,f.g/255,f.b/255,f.a];z=v.toHSV(f);for(r=0;r<k.data.length;r+=4){L=k.data;var B=r,E=p,M=z;switch(m){case "multiply":L[B+0]*=E[0];L[B+1]*=E[1];L[B+2]*=E[2];L[B+3]*=E[3];break;default:var D=v.toHSV({r:L[B+0],g:L[B+1],b:L[B+2]});D.h=M.h;D.s=M.s;D.v=D.v/100*M.v;M=v.toRGB(D);L[B+0]=M.r;L[B+1]=M.g;L[B+2]=M.b;L[B+3]*=E[3]}}C.putImageData(k,0,0);t=C.canvas.toDataURL("image/png")}else(C=w.id&&w.id.findCredential(t))&&C.token&&
(k=-1===t.indexOf("?")?"?":"\x26",t=""+t+k+"token\x3d"+C.token);return{url:t,width:n,height:G}}).catch(function(){return{url:t,width:x,height:x}})}})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(H,F,D){F.switchTo(D);return F})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(H,F,D,n,w,r,v,E,I){var B=
F.getObject("dojox.gfx",!0),t=B._base={};B._hasClass=function(f,k){return(f=f.getAttribute("className"))&&0<=(" "+f+" ").indexOf(" "+k+" ")};B._addClass=function(f,k){var m=f.getAttribute("className")||"";(!m||0>(" "+m+" ").indexOf(" "+k+" "))&&f.setAttribute("className",m+(m?" ":"")+k)};B._removeClass=function(f,k){var m=f.getAttribute("className");m&&f.setAttribute("className",m.replace(new RegExp("(^|\\s+)"+k+"(\\s+|$)"),"$1$2"))};t._getFontMeasurements=function(){var f={"1em":0,"1ex":0,"100%":0,
"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},k,t;n("ie")&&(t=w.doc.documentElement.style.fontSize||"",t||(w.doc.documentElement.style.fontSize="100%"));var x=E.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},w.body());for(k in f)x.style.fontSize=k,f[k]=16*Math.round(12*x.offsetHeight/16)/12/1E3;n("ie")&&(w.doc.documentElement.style.fontSize=
t);w.body().removeChild(x);return f};var x=null;t._getCachedFontMeasurements=function(f){if(f||!x)x=t._getFontMeasurements();return x};var k=null,M={};t._getTextBox=function(f,t,x){var m,n,C=arguments.length,p;k||(k=E.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},w.body()));m=k;m.className="";n=m.style;n.borderWidth="0";n.margin="0";n.padding="0";n.outline="0";if(1<C&&t)for(p in t)p in M||(n[p]=t[p]);2<C&&x&&(m.className=x);m.innerHTML=f;m.getBoundingClientRect?
(n=m.getBoundingClientRect(),n={l:n.left,t:n.top,w:n.width||n.right-n.left,h:n.height||n.bottom-n.top}):n=I.getMarginBox(m);m.innerHTML="";return n};t._computeTextLocation=function(f,k,t,x){var m={};switch(f.align){case "end":m.x=f.x-k;break;case "middle":m.x=f.x-k/2;break;default:m.x=f.x}m.y=f.y-t*(x?.75:1);return m};t._computeTextBoundingBox=function(f){if(!B._base._isRendered(f))return{x:0,y:0,width:0,height:0};var m;m=f.getShape();var k=f.getFont()||B.defaultFont;f=f.getTextWidth();k=B.normalizedLength(k.size);
m=t._computeTextLocation(m,f,k,!0);return{x:m.x,y:m.y,width:f,height:k}};t._isRendered=function(f){for(f=f.parent;f&&f.getParent;)f=f.parent;return null!==f};var C=0;t._getUniqueId=function(){var f;do f=H._scopeName+"xUnique"+ ++C;while(v.byId(f));return f};var f=n("pointer-events")?"touchAction":null;t._fixMsTouchAction=f?function(m){m.rawNode.style[f]="none"}:function(){};F.mixin(B,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,
height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},
defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var f={};return function(m){var k=f[m];if(k)return new k;k=f[m]=new Function;k.prototype=
B["default"+m];return new k}}(),normalizeColor:function(f){return f instanceof D?f:new D(f)},normalizeParameters:function(f,k){var m;if(k){var t={};for(m in f)m in k&&!(m in t)&&(f[m]=k[m])}return f},makeParameters:function(f,k){var m=null;if(!k)return F.delegate(f);var t={};for(m in f)m in t||(t[m]=F.clone(m in k?k[m]:f[m]));return t},formatNumber:function(f,k){var m=f.toString();if(0<=m.indexOf("e"))m=f.toFixed(4);else{var t=m.indexOf(".");0<=t&&5<m.length-t&&(m=f.toFixed(4))}return 0>f?m:k?" "+
m:m},makeFontString:function(f){return f.style+" "+f.variant+" "+f.weight+" "+f.size+" "+f.family},splitFontString:function(f){var m=B.getDefault("Font");f=f.split(/\s+/);if(!(5>f.length)){m.style=f[0];m.variant=f[1];m.weight=f[2];var k=f[3].indexOf("/");m.size=0>k?f[3]:f[3].substring(0,k);var t=4;0>k&&("/"==f[4]?t=6:"/"==f[4].charAt(0)&&(t=5));t<f.length&&(m.family=f.slice(t).join(" "))}return m},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return B._base._getCachedFontMeasurements()["12pt"]/
12},pt2px:function(f){return f*B.px_in_pt()},px2pt:function(f){return f/B.px_in_pt()},normalizedLength:function(f){if(0===f.length)return 0;if(2<f.length){var m=B.px_in_pt(),k=parseFloat(f);switch(f.slice(-2)){case "px":return k;case "pt":return k*m;case "in":return 72*k*m;case "pc":return 12*k*m;case "mm":return k*B.mm_in_pt*m;case "cm":return k*B.cm_in_pt*m}}return parseFloat(f)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,
equalSources:function(f,k){return f&&k&&f===k},switchTo:function(f){var m="string"==typeof f?B[f]:f;m&&(r.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),function(f){B[f]=m[f]}),"string"==typeof f?B.renderer=f:r.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(f){return B.renderer=B[f]&&B[f].Surface===B.Surface?f:null}))}});return B})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff",
"dojo/_base/window","dojo/_base/config"],function(H,F,D,n,w){var r=null;D.add("vml",function(n,r,w){w.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';n="adj"in w.firstChild;w.innerHTML="";return n});return{load:function(v,E,I){function B(){E(["dojox/gfx/"+t],function(k){H.renderer=t;r=k;I(k)})}if(r&&"force"!=v)I(r);else{var t=w.forceGfxRenderer;v=!t&&(F.isString(w.gfxRenderer)?w.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var x,k;!t&&v.length;)switch(v.shift()){case "svg":"SVGAngle"in n.global&&
(t="svg");break;case "vml":D("vml")&&(t="vml");break;case "silverlight":try{D("ie")?(x=new ActiveXObject("AgControl.AgControl"),x.IsVersionSupported("1.0"))&&(k=!0):navigator.plugins["Silverlight Plug-In"]&&(k=!0)}catch(M){k=!1}finally{x=null}k&&(t="silverlight");break;case "canvas":n.global.CanvasRenderingContext2D&&(t="canvas")}"canvas"===t&&!1!==w.canvasEvents&&(t="canvasWithEvents");w.isDebug&&console.log("gfx renderer \x3d "+t);"svg"==t&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(B):
B()}}}})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(H,F){var D=H.matrix={},n={};D._degToRad=function(w){return n[w]||(n[w]=Math.PI*w/180)};D._radToDeg=function(n){return n/Math.PI*180};D.Matrix2D=function(n){if(n)if("number"==typeof n)this.xx=this.yy=n;else if(n instanceof Array){if(0<n.length){for(var r=D.normalize(n[0]),w=1;w<n.length;++w){var E=r,I=D.normalize(n[w]),r=new D.Matrix2D;r.xx=E.xx*I.xx+E.xy*I.yx;r.xy=E.xx*I.xy+E.xy*I.yy;r.yx=E.yx*I.xx+E.yy*I.yx;r.yy=
E.yx*I.xy+E.yy*I.yy;r.dx=E.xx*I.dx+E.xy*I.dy+E.dx;r.dy=E.yx*I.dx+E.yy*I.dy+E.dy}F.mixin(this,r)}}else F.mixin(this,n)};F.extend(D.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});F.mixin(D,{identity:new D.Matrix2D,flipX:new D.Matrix2D({xx:-1}),flipY:new D.Matrix2D({yy:-1}),flipXY:new D.Matrix2D({xx:-1,yy:-1}),translate:function(n,r){return 1<arguments.length?new D.Matrix2D({dx:n,dy:r}):new D.Matrix2D({dx:n.x,dy:n.y})},scale:function(n,r){return 1<arguments.length?new D.Matrix2D({xx:n,yy:r}):"number"==typeof n?
new D.Matrix2D({xx:n,yy:n}):new D.Matrix2D({xx:n.x,yy:n.y})},rotate:function(n){var r=Math.cos(n);n=Math.sin(n);return new D.Matrix2D({xx:r,xy:-n,yx:n,yy:r})},rotateg:function(n){return D.rotate(D._degToRad(n))},skewX:function(n){return new D.Matrix2D({xy:Math.tan(n)})},skewXg:function(n){return D.skewX(D._degToRad(n))},skewY:function(n){return new D.Matrix2D({yx:Math.tan(n)})},skewYg:function(n){return D.skewY(D._degToRad(n))},reflect:function(n,r){1==arguments.length&&(r=n.y,n=n.x);var w=n*n,E=
r*r,I=w+E,B=2*n*r/I;return new D.Matrix2D({xx:2*w/I-1,xy:B,yx:B,yy:2*E/I-1})},project:function(n,r){1==arguments.length&&(r=n.y,n=n.x);var w=n*n,E=r*r,I=w+E,B=n*r/I;return new D.Matrix2D({xx:w/I,xy:B,yx:B,yy:E/I})},normalize:function(n){return n instanceof D.Matrix2D?n:new D.Matrix2D(n)},isIdentity:function(n){return 1==n.xx&&0==n.xy&&0==n.yx&&1==n.yy&&0==n.dx&&0==n.dy},clone:function(n){var r=new D.Matrix2D,w;for(w in n)"number"==typeof n[w]&&"number"==typeof r[w]&&r[w]!=n[w]&&(r[w]=n[w]);return r},
invert:function(n){n=D.normalize(n);var r=n.xx*n.yy-n.xy*n.yx;return n=new D.Matrix2D({xx:n.yy/r,xy:-n.xy/r,yx:-n.yx/r,yy:n.xx/r,dx:(n.xy*n.dy-n.yy*n.dx)/r,dy:(n.yx*n.dx-n.xx*n.dy)/r})},_multiplyPoint:function(n,r,v){return{x:n.xx*r+n.xy*v+n.dx,y:n.yx*r+n.yy*v+n.dy}},multiplyPoint:function(n,r,v){n=D.normalize(n);return"number"==typeof r&&"number"==typeof v?D._multiplyPoint(n,r,v):D._multiplyPoint(n,r.x,r.y)},multiplyRectangle:function(n,r){var v=D.normalize(n);r=r||{x:0,y:0,width:0,height:0};if(D.isIdentity(v))return{x:r.x,
y:r.y,width:r.width,height:r.height};n=D.multiplyPoint(v,r.x,r.y);var w=D.multiplyPoint(v,r.x,r.y+r.height),I=D.multiplyPoint(v,r.x+r.width,r.y);r=D.multiplyPoint(v,r.x+r.width,r.y+r.height);var v=Math.min(n.x,w.x,I.x,r.x),B=Math.min(n.y,w.y,I.y,r.y);return{x:v,y:B,width:Math.max(n.x,w.x,I.x,r.x)-v,height:Math.max(n.y,w.y,I.y,r.y)-B}},multiply:function(n){for(var r=D.normalize(n),v=1;v<arguments.length;++v){var w=r,I=D.normalize(arguments[v]),r=new D.Matrix2D;r.xx=w.xx*I.xx+w.xy*I.yx;r.xy=w.xx*I.xy+
w.xy*I.yy;r.yx=w.yx*I.xx+w.yy*I.yx;r.yy=w.yx*I.xy+w.yy*I.yy;r.dx=w.xx*I.dx+w.xy*I.dy+w.dx;r.dy=w.yx*I.dx+w.yy*I.dy+w.dy}return r},_sandwich:function(n,r,v){return D.multiply(D.translate(r,v),n,D.translate(-r,-v))},scaleAt:function(n,r,v,E){switch(arguments.length){case 4:return D._sandwich(D.scale(n,r),v,E);case 3:return"number"==typeof v?D._sandwich(D.scale(n),r,v):D._sandwich(D.scale(n,r),v.x,v.y)}return D._sandwich(D.scale(n),r.x,r.y)},rotateAt:function(n,r,v){return 2<arguments.length?D._sandwich(D.rotate(n),
r,v):D._sandwich(D.rotate(n),r.x,r.y)},rotategAt:function(n,r,v){return 2<arguments.length?D._sandwich(D.rotateg(n),r,v):D._sandwich(D.rotateg(n),r.x,r.y)},skewXAt:function(n,r,v){return 2<arguments.length?D._sandwich(D.skewX(n),r,v):D._sandwich(D.skewX(n),r.x,r.y)},skewXgAt:function(n,r,v){return 2<arguments.length?D._sandwich(D.skewXg(n),r,v):D._sandwich(D.skewXg(n),r.x,r.y)},skewYAt:function(n,r,v){return 2<arguments.length?D._sandwich(D.skewY(n),r,v):D._sandwich(D.skewY(n),r.x,r.y)},skewYgAt:function(n,
r,v){return 2<arguments.length?D._sandwich(D.skewYg(n),r,v):D._sandwich(D.skewYg(n),r.x,r.y)}});H.Matrix2D=D.Matrix2D;return D})},"esri/core/colorUtils":function(){define(["require","exports"],function(H,F){function D(t,n){var k=[],x,C;if(t[0].length!==n.length)throw"dimensions do not match";var f=t.length,m=t[0].length,r=0;for(x=0;x<f;x++){for(C=r=0;C<m;C++)r+=t[x][C]*n[C];k.push(r)}return k}function n(t){t=[t.r/255,t.g/255,t.b/255].map(function(t){return.04045>=t?t/12.92:Math.pow((t+.055)/1.055,
2.4)});t=D(I,t);return{x:100*t[0],y:100*t[1],z:100*t[2]}}function w(t){t=D(B,[t.x/100,t.y/100,t.z/100]).map(function(t){return Math.min(1,Math.max(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function r(t){t=[t.x/95.047,t.y/100,t.z/108.883].map(function(t){return t>Math.pow(6/29,3)?Math.pow(t,1/3):1/3*Math.pow(29/6,2)*t+4/29});return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function v(t){var n=t.l;t=[(n+
16)/116+t.a/500,(n+16)/116,(n+16)/116-t.b/200].map(function(k){return k>6/29?Math.pow(k,3):3*Math.pow(6/29,2)*(k-4/29)});return{x:95.047*t[0],y:100*t[1],z:108.883*t[2]}}function E(t){if("r"in t&&"g"in t&&"b"in t)return t;if("l"in t&&"c"in t&&"h"in t){var n=t.c,k=t.h;return w(v({l:t.l,a:n*Math.cos(k),b:n*Math.sin(k)}))}if("l"in t&&"a"in t&&"b"in t)return w(v(t));if("x"in t&&"y"in t&&"z"in t)return w(t);if("h"in t&&"s"in t&&"v"in t){k=(t.h+360)%360/60;n=t.v/100*255;t=t.s/100*n;var r=t*(1-Math.abs(k%
2-1));switch(Math.floor(k)){case 0:k={r:t,g:r,b:0};break;case 1:k={r:r,g:t,b:0};break;case 2:k={r:0,g:t,b:r};break;case 3:k={r:0,g:r,b:t};break;case 4:k={r:r,g:0,b:t};break;case 5:case 6:k={r:t,g:0,b:r};break;default:k={r:0,g:0,b:0}}k.r=Math.round(k.r+n-t);k.g=Math.round(k.g+n-t);k.b=Math.round(k.b+n-t);return k}}Object.defineProperty(F,"__esModule",{value:!0});var I=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],B=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];
F.toRGB=E;F.toHSV=function(t){if("h"in t&&"s"in t&&"v"in t)return t;var n=E(t);t=n.r;var k=n.g,n=n.b,r=Math.max(t,k,n),C=r-Math.min(t,k,n),f;0===C?f=0:r===t?f=(k-n)/C%6:r===k?f=(n-t)/C+2:r===n&&(f=(t-k)/C+4);0>f&&(f+=6);return{h:60*f,s:100*(0===C?0:C/r),v:100/255*r}};F.toLAB=function(t){return"l"in t&&"a"in t&&"b"in t?t:r(n(E(t)))};F.toLCH=function(t){if(!("l"in t&&"c"in t&&"h"in t)){var x=r(n(E(t)));t=x.l;var k=x.a,B=x.b,x=Math.sqrt(k*k+B*B),k=Math.atan2(B,k),k=0<k?k:k+2*Math.PI;t={l:t,c:x,h:k}}return t};
F.toXYZ=function(t){return"x"in t&&"y"in t&&"z"in t?t:n(E(t))}})},"esri/symbols/support/previewSymbol3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/compilerUtils ../../core/Error ../../core/Logger ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./IconSymbol3DLayerResource ./ObjectSymbol3DLayerResource ./previewUtils ./renderUtils ./styleUtils ./utils".split(" "),function(H,F,D,n,w,r,v,E,I,B,t,x,k,M,C){function f(f){var p=f.outline,m=f.material&&f.material.color,
m=m&&m.toRgba().toString();if(!p)return"fill"===f.type&&"255,255,255,1"===m?{color:"#bdc3c7",width:.75}:null;f=E.pt2px(p.size)||0;return{color:"rgba("+(null!=p.color?p.color.toRgba():"255,255,255,1")+")",width:Math.min(f,80)}}function m(f,p){var m=p&&p.resource,m=m&&m.href;return f.thumbnail&&f.thumbnail.url?v.resolve(f.thumbnail.url):m&&"object"!==p.type?v.resolve(C.getIconHref(f,p)):f.styleOrigin&&(f.styleOrigin.styleName||f.styleOrigin.styleUrl)?M.resolveWebStyleSymbol(f.styleOrigin,{portal:f.styleOrigin.portal}).catch(function(f){return f}).then(function(f){return f&&
f.thumbnail&&f.thumbnail.url||U}):v.resolve(U)}function G(f,p){void 0===p&&(p=0);if(!f.material||!f.material.color)return f=Math.min(Math.max(I.defaultThematicColor.r+191.25*p,0),255),[f,f,f,100];for(var m=f.material.color.toRgb(),k=0;3>k;k++)m[k]=Math.min(Math.max(m[k]+191.25*p,0),255);m.push(f.material.color.a);return m}function L(p){return p.outline?f(p):{color:"rgba(0, 0, 0, 1)",width:1.5}}function O(f,p){if(!f.material)return null;for(var m=f.material.color.toRgb(),k="rgba(",t=0;3>t;t++)k+=Math.min(Math.max(m[t]+
191.25*p,0),255)+",";return k+f.material.color.a+");"}function Y(f,p){p=O(f,p);if(!p)return{};f=Math.min(f.size?E.pt2px(f.size):.75,80);return{color:p,width:f}}function J(f,p,m){m*=.75;return{type:"linear",x1:m?.25*m:0,y1:m?.5*m:0,x2:m||4,y2:m?.5*m:4,colors:[{color:f,offset:0},{color:p,offset:1}]}}function p(f){var p=f.depth,m=f.height;return(f=f.width)&&p&&m&&f===p&&f<m}function z(p,m,k){var z=[];if(!p)return z;switch(p.type){case "icon":var C=p.resource&&p.resource.primitive||B.defaultPrimitive;
switch(C){case "circle":z.push({shape:{type:"circle",cx:0,cy:0,r:.5*m},fill:G(p,0),stroke:f(p)});break;case "square":z.push({shape:{type:"path",path:[{command:"M",values:[0,m]},{command:"L",values:[0,0]},{command:"L",values:[m,0]},{command:"L",values:[m,m]},{command:"Z",values:[]}]},fill:G(p,0),stroke:f(p)});break;case "triangle":z.push({shape:{type:"path",path:[{command:"M",values:[0,m]},{command:"L",values:[.5*m,0]},{command:"L",values:[m,m]},{command:"Z",values:[]}]},fill:G(p,0),stroke:f(p)});
break;case "cross":z.push({shape:{type:"path",path:[{command:"M",values:[.5*m,0]},{command:"L",values:[.5*m,m]},{command:"M",values:[0,.5*m]},{command:"L",values:[m,.5*m]},{command:"E",values:[]}]},stroke:L(p)});break;case "x":z.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[m,m]},{command:"M",values:[m,0]},{command:"L",values:[0,m]},{command:"E",values:[]}]},stroke:L(p)});break;case "kite":z.push({shape:{type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",
values:[.5*m,0]},{command:"L",values:[m,.5*m]},{command:"L",values:[.5*m,m]},{command:"Z",values:[]}]},fill:G(p,0),stroke:f(p)});break;default:n.neverReached(C)}break;case "object":switch(C=p.resource&&p.resource.primitive||t.defaultPrimitive,C){case "cone":C=G(p,0);p=G(p,-.6);p=J(C,p,k?20:m);m=x.getConeShapes(m,k);z.push({shape:m[0],fill:p});z.push({shape:m[1],fill:p});break;case "inverted-cone":k=G(p,0);p=G(p,-.6);p=J(k,p,m);m=x.getInvertedConeShapes(m);z.push({shape:m[0],fill:p});z.push({shape:m[1],
fill:k});break;case "cube":m=x.getCubeShapes(m,k);z.push({shape:m[0],fill:G(p,0)});z.push({shape:m[1],fill:G(p,-.3)});z.push({shape:m[2],fill:G(p,-.5)});break;case "cylinder":var C=G(p,0),r=G(p,-.6),C=J(C,r,k?20:m);m=x.getCylinderShapes(m,k);z.push({shape:m[0],fill:C});z.push({shape:m[1],fill:C});z.push({shape:m[2],fill:G(p,0)});break;case "diamond":m=x.getDiamondShapes(m);z.push({shape:m[0],fill:G(p,-.3)});z.push({shape:m[1],fill:G(p,0)});z.push({shape:m[2],fill:G(p,-.3)});z.push({shape:m[3],fill:G(p,
-.7)});break;case "sphere":k=G(p,0);p=G(p,-.6);p=J(k,p);p.x1=0;p.y1=0;p.x2=.25*m;p.y2=.25*m;z.push({shape:{type:"circle",cx:0,cy:0,r:.5*m},fill:p});break;case "tetrahedron":m=x.getTetrahedronShapes(m);z.push({shape:m[0],fill:G(p,-.3)});z.push({shape:m[1],fill:G(p,0)});z.push({shape:m[2],fill:G(p,-.6)});break;default:n.neverReached(C)}}return z}function R(t,n){var x=n&&n.size?E.pt2px(n.size):null,C=n&&n.maxSize?E.pt2px(n.maxSize):null,r=n&&n.disableUpsampling,G=t.symbolLayers,B=[],d=0,A=0,l=G.getItemAt(G.length-
1),b;l&&"icon"===l.type&&(b=l.size&&E.pt2px(l.size));G.forEach(function(a,c){if("icon"===a.type||"object"===a.type){c="icon"===a.type?a.size&&E.pt2px(a.size):0;var e=x||c?Math.ceil(Math.min(x||c,C||120)):22,g="icon"===a.type?f(a):null,h=g?g.width:0;a&&a.resource&&a.resource.href?(c=m(t,a).then(function(c){var b=a.get("material.color"),g;g="icon"===a.type?"multiply":"tint";return k.tintImageWithColor(c,e,b,g,r)}).then(function(a){var c=a.width,e=a.height;d=Math.max(d,c+h+1);A=Math.max(A,e+h+1);return[{shape:{type:"image",
x:0,y:0,width:c,height:e,src:a.url},fill:null,stroke:null}]}),B.unshift(c)):(g=e,"icon"===a.type&&b&&x&&(g=c/b*e),c=n&&"tall"===n.symbolConfig||("object"===a.type?p(a):!1),d=Math.max(d,c?20:g+h+1),A=Math.max(A,g+h+1),B.unshift(v.resolve(z(a,g,c))))}});return v.eachAlways(B).then(function(a){var c=[];a.forEach(function(a){a.value?c.push(a.value):a.error&&aa.warn("error while building swatchInfo!",a.error)});return k.renderSymbol(c,[d,A],{node:n&&n.node,scale:!1})})}function V(f,p){var m=f.symbolLayers,
t=[];f=C.isVolumetricSymbol(f);var n=p&&p.size?E.pt2px(p.size):null,z=(p&&p.maxSize?E.pt2px(p.maxSize):null)||80,r=0,d=0,A;m.forEach(function(l,b){if(l&&("line"===l.type||"path"===l.type)){var a=[];switch(l.type){case "line":var c=(l=Y(l,0))&&l.width||0;0===b&&(A=c);var e=Math.min(n||c,z);b=0===b?e:n?c/A*e:e;d=Math.max(d,b);r=Math.max(r,22<b?b+1:40);l.width=b;a.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[r,.5*d]},{command:"E",values:[]}]},stroke:l});break;case "path":b=
Math.min(n||22,z),c=G(l,0),e=G(l,-.2),l=(l=O(l,-.4))?{color:l,width:1}:{},a.push({shape:x.shapes.pathSymbol3DLayer[0],fill:e,stroke:l}),a.push({shape:x.shapes.pathSymbol3DLayer[1],fill:c,stroke:l}),r=d=Math.max(d,b+(l.width||0)+1)}t.push(a)}});return v.resolve(k.renderSymbol(t,[r,d],{node:p&&p.node,scale:f}))}Object.defineProperty(F,"__esModule",{value:!0});var U=H.toUrl("../../images/Legend/legend3dsymboldefault.png"),aa=r.getLogger("esri.symbols.support.previewSymbol3D");F.getSymbolLayerFill=G;
F.previewSymbol3D=function(p,m){if(0===p.symbolLayers.length)return v.reject(new w("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var t=null;switch(p.type){case "point-3d":t=R(p,m);break;case "line-3d":t=V(p,m);break;case "polygon-3d":case "mesh-3d":t="mesh-3d"===p.type;p=p.symbolLayers;for(var n=m&&m.size?E.pt2px(m.size):null,z=m&&m.maxSize?E.pt2px(m.maxSize):null,n=n||22,C=[],r=0,d=0,A=!1,l=0;l<p.length;l++){var b=p.getItemAt(l),a=[];if(!t||"fill"===b.type){var c=x.shapes.fill[0];
switch(b.type){case "fill":var e=f(b),A=e&&e.width||0,r=Math.max(r,n+A),d=Math.max(d,n+A),A=!0;a.push({shape:c,fill:G(b,0),stroke:e});break;case "line":b=(e=Y(b,0))&&e.width||0;c={stroke:e,shape:c};r=Math.max(r,22+b);d=Math.max(d,22+b);a.push(c);break;case "extrude":var c=D({join:"round"},Y(b,-.4)),e=G(b,0),b=G(b,-.2),g=Math.min(n,z||120),h=x.getExtrudeSymbolShapes(g);c.width=1;a.push({shape:h[0],fill:b,stroke:c});a.push({shape:h[1],fill:b,stroke:c});a.push({shape:h[2],fill:e,stroke:c});b=22*.7+.5*
g;r=Math.max(r,22+c.width+1);d=Math.max(d,b+c.width+1)}C.push(a)}}t=v.resolve(k.renderSymbol(C,[r,d],{node:m&&m.node,scale:A}))}return t?t:v.reject(new w("symbolPreview: swatchInfo3D","symbol not supported."))}})},"esri/symbols/support/previewWebStyleSymbol":function(){define(["require","exports","../../request","../../core/screenUtils"],function(H,F,D,n){Object.defineProperty(F,"__esModule",{value:!0});F.previewWebStyleSymbol=function(w,r,v){var E=w.thumbnail&&w.thumbnail.url;return E?D(E,{responseType:"image"}).then(function(r){r=
r.data;var B=!/\\.svg$/i.test(r.src)&&v&&v.disableUpsampling,t=Math.max(r.width,r.height),x=v&&null!=v.maxSize?n.pt2px(v.maxSize):120;B&&(x=Math.min(t,x));B=Math.min(x,v&&null!=v.size?n.pt2px(v.size):t);B!==t&&(t=0!==r.width&&0!==r.height?r.width/r.height:1,1<=t?(r.width=B,r.height=B/t):(r.width=B*t,r.height=B));return v&&v.node?(v.node.appendChild(r),v.node):r}):w.fetchSymbol().then(function(n){return r(n,v)})}})},"esri/widgets/FeatureTemplates/TemplateItemGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),
function(H,F,D,n,w,r,v){return function(r){function w(n){n=r.call(this)||this;n.items=null;n.label=null;return n}D(w,r);n([v.property()],w.prototype,"items",void 0);n([v.property()],w.prototype,"label",void 0);return w=n([v.subclass("esri.widgets.FeatureTemplates.TemplateItemGroup")],w)}(v.declared(w,r.Identifiable))})},"esri/widgets/FeatureTemplates/ItemList":function(){define(["require","exports","../../core/tsSupport/assignHelper","../support/jsxFactory","../support/widgetUtils"],function(H,F,
D,n,w){function r(x){var k=x.identify,r=x.items,C=x.renderIcon,f=x.filterText,m=x.onItemMouseLeave,G=x.onItemMouseEnter,B=x.onItemSelect;return 0===r.length?n.tsx("div",{class:t.noMatchesMessage,key:"no-matches"},x.messages.noMatches):r[0].items?n.tsx("div",{class:t.scroller,key:"item-container"},r.map(function(n){return I({group:n,filterText:f,identify:k,renderIcon:C,onItemMouseLeave:m,onItemMouseEnter:G,onItemSelect:B})})):n.tsx("ul",{class:w.classes(t.list,t.scroller),key:"item-container"},r.map(function(n){return E({item:n,
identify:k,grouped:!0,onItemMouseLeave:m,onItemMouseEnter:G,onItemSelect:B,renderIcon:C,filterText:f})}))}function v(r){var k=r.id+"-placeholder";return n.tsx("div",{class:t.filterContainer,key:"filter"},n.tsx("input",{"aria-labelledby":k,class:w.classes(t.input,t.filterInput),oninput:function(k){k=k.currentTarget;r.onFilterChange&&r.onFilterChange(k.value)},value:r.filterText,type:"search"}),r.filterText?null:n.tsx("div",{class:t.filterPlaceholder,id:k,key:"placeholder"},n.tsx("span",{class:t.searchIcon,
"aria-hidden":"true"}),n.tsx("div",{class:t.filterPlaceholderText},r.messages.filterPlaceholder)))}function E(r){var k=r.identify,x=r.item,C=r.grouped,f=r.filterText,m=r.onItemSelect,G=r.onItemMouseEnter,v=r.onItemMouseLeave;r=r.renderIcon;k=(k&&k(x)||x.id)+"__"+x.label;return n.tsx("li",{"aria-level":C?"2":"",class:t.item,"data-item":x,key:k,onclick:function(f){f=f.currentTarget["data-item"];m&&m(f)},onmouseenter:function(f){f=f.currentTarget["data-item"];G&&G(f)},onkeydown:function(f){if("Enter"===
f.key||"Space"===f.key)f=f.currentTarget["data-item"],m&&m(f)},onmouseleave:function(f){f=f.currentTarget["data-item"];v&&v(f)},tabIndex:0},n.tsx("div",{class:t.itemContainer},r&&r({item:x}),B({text:x.label,match:f})))}function I(r){var k=r.group,x=r.identify,C=r.onItemMouseLeave,f=r.onItemMouseEnter,m=r.onItemSelect,G=r.filterText,v=r.renderIcon;r=(x&&x(k)||k.id)+"-heading";return n.tsx("section",{"aria-labelledby":r,class:t.group,key:k.label},n.tsx("h4",{"aria-level":"1",id:r,class:w.classes(t.groupHeader)},
B({text:k.label,match:G})),n.tsx("ul",{class:t.list},k.items.map(function(k){return E({item:k,identify:x,grouped:!0,onItemMouseLeave:C,onItemMouseEnter:f,onItemSelect:m,renderIcon:v,filterText:G})})))}function B(r){var k=r.match;r=r.text;var x=null;if(k){var x=r.toLowerCase(),C=k.toLowerCase(),f=x.indexOf(C);-1===f?x=r:(x=r.substring(0,f),C=r.substr(f,k.length),k=r.substring(f+k.length),x=n.tsx("span",null,x,n.tsx("strong",null,C),k))}else x=r;return n.tsx("span",{class:t.itemLabel},x)}Object.defineProperty(F,
"__esModule",{value:!0});var t={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",
filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};F.ItemList=function(x){var k=x.id,B=x.identify,C=x.filterEnabled,C=void 0===C?!0:C,f=x.items,m=x.messages,G=x.filterText,G=void 0===G?"":G,E=x.onFilterChange,D=x.renderIcon,Y=x.onItemMouseLeave,I=x.onItemMouseEnter;x=x.onItemSelect;return n.tsx("div",
{class:w.classes(t.base,t.widget)},C?v({filterText:G,messages:m,onFilterChange:E,id:k}):null,r({identify:B,items:f,messages:m,filterText:G,renderIcon:D,onItemMouseLeave:Y,onItemMouseEnter:I,onItemSelect:x}))};F.renderItem=E;F.renderGroup=I;F.renderLabel=B})},"esri/widgets/Editor/EditorViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/arrayUtils ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/GraphicsLayer ../../layers/graphics/editingSupport ../../layers/support/fieldUtils ../../renderers/support/clickToleranceUtils ../../symbols/support/symbolUtils ../../views/2d/layers/support/popupUtils2D ../../views/support/layerViewUtils ./CreateWorkflowData ./Edits ./UpdateWorkflowData ./Workflow ../FeatureForm/FeatureFormViewModel ../FeatureTemplates/FeatureTemplatesViewModel ../Sketch/SketchViewModel".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k,M,C,f,m,G,L,O,Y,J,p,z,R,V,U,aa,S,ea){function T(a,c,h){b.error(new t(a,c,h))}function ca(a){return a&&G.isEditableLayer(a.layer)}function Z(a,c){return a&&I.find(a,function(a){return a.layer===c})}function da(a,c){var e=a.layer,b=e.createQuery();b.objectIds=[a.getAttribute(e.objectIdField)];b.outFields=["*"];b.outSpatialReference=c.spatialReference;return e.queryFeatures(b).then(function(a){return a.features[0]})}function ba(a,c,b,d,u){a.create(c.layer.geometryType);
var e=a.on("create",function(e){var b=e.state;e=e.graphic;if("cancel"===b)u();else if("complete"===b){var g=e.clone();g.attributes=w({},c.template.prototype.attributes);g.layer=c.layer;a.layer.remove(e);var h=g.symbol;g.symbol=null;Y.getDisplayedSymbol(g).then(function(a){g.symbol=a||h;d(g)})}});b.map.add(a.layer);return{remove:function(){e.remove();b.map.remove(a.layer);a.cancel()}}}function d(a,c,b,d){var e=a.clone();c.layer.add(e);var g=function(){var c=a.layer;if("graphics"===c.type)return{remove:function(){}};
var e=a.attributes[c.objectIdField];b.whenLayerView(a.layer).then(function(a){return a.setVisibility(e,!1)});return{remove:function(){b.whenLayerView(a.layer).then(function(a){return a.setVisibility(e,!0)})}}}(),h={multipleSelectionEnabled:!1};c.update(e,h);var q=c.on("update",function(a){var e=a.graphics[0];"cancel"===a.state?c.update(e,h):d(e.clone())});b.map.add(c.layer);return{remove:function(){g.remove();q.remove();b.map.remove(c.layer);c.cancel();c.layer.removeAll()}}}function A(a){if(1===a.length)if(a=
a[0],"items"in a){if(1===a.items.length)return a.items[0]}else return a}var l=this,b=k.getLogger("esri.widgets.Editor.EditorViewModel"),a=["create","update"],c=function(a,c,b){return v(l,void 0,void 0,function(){var e,g;return r(this,function(h){switch(h.label){case 0:return 0===a.length?[2]:[4,c.hitTest(b)];case 1:e=h.sent();if(0===e.results.length)return[2];g=e.results.map(function(a){return a.graphic.layer});return[2,M.eachAlways(a.items.filter(function(a){var c=a.layer;return-1<a.supports.indexOf("update")&&
-1<g.indexOf(c)}).map(function(a){a=a.layer;var e=O.calculateTolerance(a.renderer),e=J.createQueryGeometry(b.mapPoint,e,c),g=a.displayField,h=[a.objectIdField];L.hasField(a.fields,g)&&h.push(g);return a.queryFeatures({geometry:e,outFields:h}).then(function(a){return a.features})}))]}})})};return function(e){function b(a){a=e.call(this,a)||this;a._sketchGraphicsLayer=new m({listMode:"hide"});a.activeWorkflow=null;a.activityQueue=[];a.failures=[];a.featureFormViewModel=new aa;a.featureTemplatesViewModel=
new S;a.layerInfos=null;a.sketchViewModel=new ea({layer:a._sketchGraphicsLayer});return a}D(b,e);b.prototype.initialize=function(){var a=this;this.handles.add([C.on(this,"view.allLayerViews","change",function(){return a.notifyChange("editableItems")}),C.watch(this,"editableItems",function(){var c=a.activeWorkflow;if(c){var e=c.stepId;"create"===c.type?(a.updateCreationTemplates(),"awaiting-feature-creation-info"!==e||a.canCreate||a._cancelWorkflow()):"update"===c.type&&("awaiting-feature-to-update"===
e&&!a.canUpdate||"awaiting-update-feature-candidate"===e&&!c.data.candidates.some(function(c){var e=a.editableItems.find(function(a){return a.layer===c.layer});return e&&-1<e.supports.indexOf("update")}))&&a._cancelWorkflow()}})])};b.prototype.destroy=function(){this.view=null;this._cancelWorkflow()};Object.defineProperty(b.prototype,"allowedWorkflows",{get:function(){return this._get("allowedWorkflows")},set:function(c){c&&0!==c.length||(c=a.slice());this._set("allowedWorkflows",c)},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"canCreate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("create")})},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"canUpdate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("update")})},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"editableItems",{get:function(){var a=this,c=this.get("view.allLayerViews");if(!c)return new B;
this.handles.remove("layer-view-property-watchers");var e=function(){return a.notifyChange("editableItems")};return c.filter(ca).map(function(c){a.handles.add(C.watch(c,"suspended",e),"layer-view-property-watchers");var b=c.layer;c=c.suspended;var g=[],h=a.allowedWorkflows,d=b.capabilities.operations,q=Z(a.layerInfos,b),h=h.filter(function(a){return q?!1!==q.enabled&&("create"===a&&!1!==q.addEnabled||"update"===a&&!1!==q.updateEnabled):!0});!c&&I.find(h,function(a){return"create"===a})&&d.supportsAdd&&
g.push("create");!c&&I.find(h,function(a){return"update"===a})&&d.supportsUpdate&&g.push("update");!c&&!1!==(q&&q.deleteEnabled)&&d.supportsDelete&&g.push("delete");return{layer:b,supports:g}}).reverse()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var a=this.activeWorkflow;return a?a.stepId:"ready"},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"syncing",{get:function(){return 0<
this.activityQueue.length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"view",{set:function(a){a&&"2d"!==a.type?T("editing:unsupported-view","SceneView is not supported"):(this.sketchViewModel.view=a,this._set("view",a))},enumerable:!0,configurable:!0});b.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return v(this,void 0,void 0,function(){var a;return r(this,function(c){switch(c.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow",
"Create workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createCreateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",a),[2]}})})};b.prototype.startCreateWorkflowAtFeatureCreation=function(a){return v(this,void 0,void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return e.sent(),c=this._createCreateWorkflow("awaiting-feature-to-create"),
c.data.creationInfo=a,[4,c.start()];case 2:return e.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startCreateWorkflowAtFeatureEdit=function(a){return v(this,void 0,void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return e.sent(),c=this._createCreateWorkflow("editing-new-feature"),c.data.edits.feature=a,[4,c.start()];case 2:return e.sent(),
this._set("activeWorkflow",c),[2]}})})};b.prototype.startUpdateWorkflowAtFeatureSelection=function(){return v(this,void 0,void 0,function(){var a;return r(this,function(c){switch(c.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createUpdateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",a),[2]}})})};b.prototype.startUpdateWorkflowAtMultipleFeatureSelection=
function(a){return v(this,void 0,void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return e.sent(),c=this._createUpdateWorkflow("awaiting-update-feature-candidate"),c.data.candidates=a,[4,c.start()];case 2:return e.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startUpdateWorkflowAtFeatureEdit=function(a){return v(this,void 0,
void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return e.sent(),c=this._createUpdateWorkflow("editing-existing-feature"),c.data.edits.feature=a,[4,c.start()];case 2:return e.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.deleteFeatureFromWorkflow=function(){return v(this,void 0,void 0,function(){var a;return r(this,function(c){switch(c.label){case 0:a=
this.activeWorkflow;if(!a||"create"===a.type)return T("editing:unsupported-workflow","Deleting requires an active update workflow."),[2];this._delete(a.data.edits.feature);return[4,a.reset()];case 1:return c.sent(),[2]}})})};b.prototype.cancelWorkflow=function(a){return v(this,void 0,void 0,function(){return r(this,function(c){switch(c.label){case 0:return[4,this._cancelWorkflow(w({warn:!0},a))];case 1:return c.sent(),[2]}})})};b.prototype.updateCreationTemplates=function(){this.featureTemplatesViewModel.layers=
this.editableItems.filter(function(a){return-1<a.supports.indexOf("create")}).map(function(a){return a.layer}).toArray()};b.prototype._highlight=function(a){var c=a&&I.find(this.view.allLayerViews.items,function(c){return c.layer===a.layer});p.hasHighlight(c)&&this.handles.add(c.highlight(a),"candidate-highlight")};b.prototype._unhighlight=function(){this.handles.remove("candidate-highlight")};b.prototype._cancelWorkflow=function(a){return v(this,void 0,void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:return c=
this.activeWorkflow,c?[4,c.cancel(a)]:(a&&a.warn&&T("editing:no-active-workflow","There is no active workflow to cancel."),[2]);case 1:return e.sent(),this._set("activeWorkflow",null),[2]}})})};b.prototype._createCreateWorkflow=function(a){var c=this,e=this.handles,b=new z({edits:new R,viewModel:this});return new U({type:"create",data:b,steps:this._createWorkflowStepCreator(b,a),commit:function(){e.remove(c.activeWorkflow.stepId);return c._create(b.edits.feature)}})};b.prototype._createWorkflowStepCreator=
function(a,c){void 0===c&&(c="awaiting-feature-creation-info");var e=a.viewModel.handles,b={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",setUp:function(){return v(this,void 0,void 0,function(){return r(this,function(c){a.creationInfo=null;e.add(a.viewModel.featureTemplatesViewModel.on("select",function(c){c=c.item;a.creationInfo={layer:c.layer,template:c.template};a.viewModel.activeWorkflow.next()}),this.id);return[2]})})},tearDown:function(){return v(this,
void 0,void 0,function(){return r(this,function(a){e.remove(this.id);return[2]})})}}},"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",setUp:function(){return v(this,void 0,void 0,function(){return r(this,function(c){e.add([ba(a.viewModel.sketchViewModel,a.creationInfo,a.viewModel.view,function(c){a.edits.feature=c;a.viewModel.activeWorkflow.next()},function(){return a.viewModel.activeWorkflow.previous()})],this.id);return[2]})})},tearDown:function(){return v(this,void 0,
void 0,function(){return r(this,function(a){e.remove(this.id);return[2]})})}}},"editing-new-feature":function(){return{id:"editing-new-feature",setUp:function(){return v(this,void 0,void 0,function(){var c,b,g;return r(this,function(h){c=a.edits.feature;g=(b=Z(a.viewModel.layerInfos,c.layer))&&b.fieldConfig;a.viewModel.featureFormViewModel.set({feature:c,fieldConfig:g});e.add([a.viewModel.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(a.viewModel.featureFormViewModel.getValues())}),
d(c,a.viewModel.sketchViewModel,a.viewModel.view,function(c){return a.edits.updateGeometry(c.geometry)})],this.id);return[2]})})},tearDown:function(){return v(this,void 0,void 0,function(){return r(this,function(c){a.edits.feature=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});e.remove(this.id);return[2]})})}}}},g=!1,h=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter(function(a){return g?!0:g=a===c}).map(function(a){return b[a]()});
a.viewModel.updateCreationTemplates();var q=A(a.viewModel.featureTemplatesViewModel.items);q&&(a.creationInfo={layer:q.layer,template:q.template},h.shift());return h};b.prototype._createUpdateWorkflow=function(a){var c=this,e=this.handles,b=new V({edits:new R,viewModel:this});return new U({type:"update",data:b,steps:this._updateWorkflowStepCreator(b,a),commit:function(){e.remove(c.activeWorkflow.stepId);return c._update(b.edits.feature)}})};b.prototype._updateWorkflowStepCreator=function(a,e){void 0===
e&&(e="awaiting-feature-to-update");var b=a.viewModel.handles,g={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){return v(this,void 0,void 0,function(){var e,g,h;return r(this,function(d){e=a.viewModel.view;g=null;b.add({remove:function(){g&&(g.cancel(),g=null)}},this.id);a.edits.feature=null;h=e.on("click",function(b){b.stopPropagation();g&&g.cancel();var h=a.viewModel.editableItems;g=M.create(function(a){return c(h,e,b).then(a)});g.then(function(c){a.candidates=
c.reduce(function(a,c){return c.error?a:a.concat(c.value)},[]);0!==a.candidates.length&&(1===a.candidates.length?(a.edits.feature=a.candidates[0],a.viewModel.activeWorkflow.go("editing-existing-feature")):a.viewModel.activeWorkflow.next())})});b.add(h,this.id);return[2]})})},tearDown:function(){return v(this,void 0,void 0,function(){return r(this,function(a){b.remove(this.id);return[2]})})}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){return v(this,
void 0,void 0,function(){var c,e;return r(this,function(g){c=a.edits;e=a.viewModel;c.feature=null;b.add(C.watch(c,"feature",function(a){e._unhighlight();e._highlight(a)}),this.id);return[2]})})},tearDown:function(){return v(this,void 0,void 0,function(){return r(this,function(c){a.viewModel._unhighlight();b.remove(this.id);return[2]})})}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){return v(this,void 0,void 0,function(){var c,e=this;return r(this,function(g){c=
a.edits.feature;a.editableItem=a.viewModel.editableItems.find(function(a){return a.layer===c.layer});return[2,da(c,a.viewModel.view).then(function(c){a.edits.updateGeometry(c.geometry);a.edits.updateAttributes(c.attributes);a.edits.trackChanges();var g=Z(a.viewModel.layerInfos,c.layer);a.viewModel.featureFormViewModel.set({feature:c,fieldConfig:g&&g.fieldConfig});b.add([d(c,a.viewModel.sketchViewModel,a.viewModel.view,function(c){return a.edits.updateGeometry(c.geometry)}),a.viewModel.featureFormViewModel.on("value-change",
function(){a.edits.updateAttributes(a.viewModel.featureFormViewModel.getValues())})],e.id)})]})})},tearDown:function(){return v(this,void 0,void 0,function(){return r(this,function(c){a.editableItem=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});b.remove(this.id);return[2]})})}}}},h=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature"].filter(function(a){return h?!0:h=a===e}).map(function(a){return g[a]()})};b.prototype._create=
function(a){return this._queueOperation(function(){return a.layer.applyEdits({addFeatures:[a]})})};b.prototype._delete=function(a){return this._queueOperation(function(){return a.layer.applyEdits({deleteFeatures:[a]})})};b.prototype._update=function(a){return this._queueOperation(function(){return a.layer.applyEdits({updateFeatures:[a]})}).then()};b.prototype._queueOperation=function(a){var c=this;this.activityQueue.push(a);this.notifyChange("syncing");var e=function(a,c){a=c.indexOf(a);-1<a&&c.splice(a,
1)};return a().then(function(a){var c=a.deleteFeatureResults,e=a.updateFeatureResults;if(a=I.find(a.addFeatureResults,function(a){return!!a.error})||I.find(e,function(a){return!!a.error})||I.find(c,function(a){return!!a.error}))throw a.error;}).catch(function(b){T("editing:operation-error","An error ocurred.",{error:b});var g={error:b,retry:function(){e(g,c.failures);c._queueOperation(a)},cancel:function(){return e(g,c.failures)}};c._set("failures",c.failures.concat([g]))}).then(function(){e(a,c.activityQueue);
c.notifyChange("syncing")})};n([f.property({readOnly:!0})],b.prototype,"activeWorkflow",void 0);n([f.property({readOnly:!0})],b.prototype,"activityQueue",void 0);n([f.property({value:a.slice()})],b.prototype,"allowedWorkflows",null);n([f.property({readOnly:!0,dependsOn:["editableItems"]})],b.prototype,"canCreate",null);n([f.property({readOnly:!0,dependsOn:["editableItems"]})],b.prototype,"canUpdate",null);n([f.property({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],
readOnly:!0})],b.prototype,"editableItems",null);n([f.property({readOnly:!0})],b.prototype,"failures",void 0);n([f.property()],b.prototype,"featureFormViewModel",void 0);n([f.property()],b.prototype,"featureTemplatesViewModel",void 0);n([f.property()],b.prototype,"layerInfos",void 0);n([f.property()],b.prototype,"sketchViewModel",void 0);n([f.property({dependsOn:["editableItems","activeWorkflow.stepId","view.ready"]})],b.prototype,"state",null);n([f.property({readOnly:!0})],b.prototype,"syncing",
null);n([f.property()],b.prototype,"view",null);n([f.property()],b.prototype,"startCreateWorkflowAtFeatureTypeSelection",null);n([f.property()],b.prototype,"startCreateWorkflowAtFeatureCreation",null);n([f.property()],b.prototype,"startCreateWorkflowAtFeatureEdit",null);n([f.property()],b.prototype,"startUpdateWorkflowAtFeatureSelection",null);n([f.property()],b.prototype,"startUpdateWorkflowAtMultipleFeatureSelection",null);n([f.property()],b.prototype,"startUpdateWorkflowAtFeatureEdit",null);n([f.property()],
b.prototype,"deleteFeatureFromWorkflow",null);n([f.property()],b.prototype,"cancelWorkflow",null);return b=n([f.subclass("esri.widgets.Editor.EditorViewModel")],b)}(f.declared(E,x))})},"esri/layers/GraphicsLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/promiseUtils ../core/accessorSupport/decorators ./Layer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t){return function(x){function k(k){k=x.call(this)||this;k.elevationInfo=null;k.graphics=new B.default;k.screenSizePerspectiveEnabled=!0;k.type="graphics";return k}D(k,x);k.prototype.destroy=function(){this.removeAll()};k.prototype.add=function(k){this.graphics.add(k);return this};k.prototype.addMany=function(k){this.graphics.addMany(k);return this};k.prototype.removeAll=function(){this.graphics.removeAll();return this};k.prototype.remove=function(k){this.graphics.remove(k)};
k.prototype.removeMany=function(k){this.graphics.removeMany(k)};k.prototype.importLayerViewModule=function(k){switch(k.type){case "2d":return r.create(function(k){return H(["../views/2d/layers/GraphicsLayerView2D"],k)});case "3d":return r.create(function(k){return H(["../views/3d/layers/GraphicsLayerView3D"],k)})}};k.prototype.graphicChanged=function(k){this.emit("graphic-update",k)};n([v.property({type:t})],k.prototype,"elevationInfo",void 0);n([v.property(B.graphicsCollectionProperty)],k.prototype,
"graphics",void 0);n([v.property({type:["show","hide"]})],k.prototype,"listMode",void 0);n([v.property()],k.prototype,"screenSizePerspectiveEnabled",void 0);n([v.property({readOnly:!0})],k.prototype,"type",void 0);return k=n([v.subclass("esri.layers.GraphicsLayer")],k)}(v.declared(E,I))})},"esri/widgets/Editor/CreateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(H,F,D,n,w,r){return function(v){function w(){var n=null!==v&&v.apply(this,arguments)||this;n.creationInfo=null;n.edits=null;n.viewModel=null;return n}D(w,v);n([r.property()],w.prototype,"creationInfo",void 0);n([r.property()],w.prototype,"edits",void 0);n([r.property()],w.prototype,"viewModel",void 0);return w=n([r.subclass("esri.widgets.Editor.CreateWorkflowData")],w)}(r.declared(w))})},"esri/widgets/Editor/Edits":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators".split(" "),
function(H,F,D,n,w,r,v){return function(r){function w(n){n=r.call(this,n)||this;n._baselineJSON=null;return n}D(w,r);Object.defineProperty(w.prototype,"modified",{get:function(){var n=this._baselineJSON,t=this.feature;return!(!n||!t)&&n!==JSON.stringify(t)},enumerable:!0,configurable:!0});w.prototype.trackChanges=function(){this.feature&&(this._baselineJSON=JSON.stringify(this.feature))};w.prototype.updateAttributes=function(n){this.feature.attributes=n;this.notifyChange("modified")};w.prototype.updateGeometry=
function(n){this.feature.geometry=n;this.notifyChange("modified")};n([v.property()],w.prototype,"feature",void 0);n([v.property()],w.prototype,"modified",null);return w=n([v.subclass("esri.widgets.Editor.Edits")],w)}(v.declared(w,r))})},"esri/widgets/Editor/UpdateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(H,F,D,n,w,r){return function(w){function v(){var n=
null!==w&&w.apply(this,arguments)||this;n.candidates=null;n.editableItem=null;n.edits=null;n.viewModel=null;return n}D(v,w);n([r.property()],v.prototype,"candidates",void 0);n([r.property()],v.prototype,"editableItem",void 0);n([r.property()],v.prototype,"edits",void 0);n([r.property()],v.prototype,"viewModel",void 0);return v=n([r.subclass("esri.widgets.Editor.UpdateWorkflowData")],v)}(r.declared(w))})},"esri/widgets/Editor/Workflow":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/arrayUtils ../../core/Error ../../core/Evented ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k){return function(t){function C(f){f=t.call(this,f)||this;f._indexHistory=[];f._lastStepIndex=-1;f._stepIndex=-1;f.data=null;f.started=!1;f.steps=null;f.type=null;return f}D(C,t);Object.defineProperty(C.prototype,"hasNextStep",{get:function(){return!!(this.steps&&this._stepIndex<this.steps.length-1)},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,"hasPreviousStep",{get:function(){return 0<this._stepIndex},enumerable:!0,configurable:!0});Object.defineProperty(C.prototype,
"stepId",{get:function(){var f=this.steps;return(f=f&&f[this._stepIndex])&&f.id},enumerable:!0,configurable:!0});C.prototype.cancel=function(f){void 0===f&&(f={force:!0});return v(this,void 0,void 0,function(){var m=this;return r(this,function(k){return!1!==f.force?[2,this._cancel()]:[2,x.create(function(f,k){m.emit("cancel-request",{controller:{allow:function(){return m._cancel().then(f)},deny:function(){return k(new B("workflow:cancel-denied","Request to cancel workflow was denied."))}}})})]})})};
C.prototype.commit=function(){return v(this,void 0,void 0,function(){return r(this,function(f){return[2]})})};C.prototype.go=function(f){return v(this,void 0,void 0,function(){var m,k;return r(this,function(n){switch(n.label){case 0:return m=this.steps,k=I.findIndex(m,function(m){return m.id===f}),this._indexHistory.push(this._stepIndex),[4,this._go(k)];case 1:return n.sent(),[2]}})})};C.prototype.next=function(){return v(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return this._indexHistory.push(this._stepIndex),
[4,this._go(this._stepIndex+1)];case 1:return f.sent(),[2]}})})};C.prototype.previous=function(){return v(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return[4,this._go(this._indexHistory.pop())];case 1:return f.sent(),[2]}})})};C.prototype.reset=function(){return v(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return[4,this._cancel()];case 1:return f.sent(),[4,this.start()];case 2:return f.sent(),[2]}})})};C.prototype.start=function(){return v(this,
void 0,void 0,function(){var f;return r(this,function(m){switch(m.label){case 0:return this._set("started",!0),f=-1===this._stepIndex?0:this._stepIndex,[4,this._go(f)];case 1:return m.sent(),[2]}})})};C.prototype._cancel=function(){return v(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return this.started?[4,this.steps[this._stepIndex].tearDown()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this._set("started",!1),this._resetIndexing(),[2]}})})};C.prototype._go=
function(f){void 0===f&&(f=-1);return v(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:if(-1>=f||f>=this.steps.length)return[2];this._stepIndex=f;this._notifyStepProps();return this.started?-1<this._lastStepIndex?[4,this.steps[this._lastStepIndex].tearDown()]:[3,2]:[2];case 1:m.sent(),m.label=2;case 2:return this._lastStepIndex=this._stepIndex,[4,this.steps[this._stepIndex].setUp()];case 3:return m.sent(),[2]}})})};C.prototype._resetIndexing=function(){this._lastStepIndex=
this._stepIndex=-1;this._indexHistory.length=0;this._notifyStepProps()};C.prototype._notifyStepProps=function(){this.notifyChange("stepId");this.notifyChange("hasPreviousStep");this.notifyChange("hasNextStep")};n([k.property()],C.prototype,"data",void 0);n([k.property()],C.prototype,"hasNextStep",null);n([k.property()],C.prototype,"hasPreviousStep",null);n([k.property()],C.prototype,"started",void 0);n([k.property({readOnly:!0,dependsOn:["steps"]})],C.prototype,"stepId",null);n([k.property()],C.prototype,
"steps",void 0);n([k.property()],C.prototype,"type",void 0);n([k.property()],C.prototype,"commit",null);return C=n([k.subclass("esri.widgets.Editor.Workflow")],C)}(k.declared(E,t))})},"esri/widgets/Sketch/SketchViewModel":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../geometry ../../Graphic ../../symbols ../../core/Accessor ../../core/Collection ../../core/compilerUtils ../../core/Error ../../core/Evented ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/coordsUtils ../../layers/GraphicsLayer ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../symbols/SimpleMarkerSymbol ../../views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic ../../views/draw/Draw ../../views/draw/support/createUtils ./support/OperationHandle".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k,M,C,f,m,G,L,O,Y,J,p,z,R,V,U,aa,S,ea,T,ca){function Z(b,a){var c=b.history.undo.pop().updates,e=[];a.forEach(function(a,b){b=c[b];var g={};null!=b&&(G.isSome(b.geometry)&&(g.geometry=a.geometry,a.geometry=b.geometry),G.isSome(b.symbol)&&(g.symbol=a.symbol,a.symbol=b.symbol),e.push(g))});b.history.redo.push({updates:e})}function da(b,a){var c=b.history.redo.pop().updates,e=[];a.forEach(function(a,b){b=c[b];var g={};null!=b&&(G.isSome(b.geometry)&&(g.geometry=a.geometry,
a.geometry=b.geometry),G.isSome(b.symbol)&&(g.symbol=a.symbol,a.symbol=b.symbol),e.push(g))});b.history.undo.push({updates:e})}function ba(b){return{updates:b.map(function(a){return{geometry:a.geometry}})}}function d(b){return{updates:b.map(function(a){return{symbol:a.symbol}})}}function A(b){b.canUndo()?b.complete():b.cancel()}var l=m.getLogger("esri.widgets.Sketch.SketchViewModel");return function(b){function a(a){a=b.call(this,a)||this;a._activeFillGraphic=null;a._activeLineGraphic=null;a._centerIndicatorGraphic=
null;a._centerSymbol=new U({style:"cross",size:6,color:[255,255,255]});a._defaultSegmentOffset=48;a._handles=new f;a._internalGraphicsLayer=new z({listMode:"hide"});a._lineGraphic=null;a._operationHandle=null;a._vertexGraphics=[];a._viewHandles=new f;a._highlightHandlesByGraphic=new f;a._doUnnormalization=!1;a.activeFillSymbol=new R({style:"solid",color:[150,150,150,.2],outline:{color:[0,0,0,0]}});a.activeLineSymbol=new V({color:[12,207,255,1],width:2,style:"dash"});a.activePointSymbol=new U({style:"circle",
size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.activeVertexSymbol=new U({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.createGraphic=null;a.defaultUpdateOptions={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform"};a.layer=null;a.pointSymbol=new U({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});a.polygonSymbol=
new R({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}});a.polylineSymbol=new V({color:[130,130,130,1],width:2});a.updateGraphics=new x;a.updateOnGraphicClick=!0;a.updatePointSymbol=new U({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}});a.updatePolygonSymbol=new R({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}});a.updatePolylineSymbol=new V({color:[12,207,255],width:2});a.vertexSymbol=new U({style:"circle",size:6,color:[255,255,255],outline:{color:[50,
50,50],width:1}});a.view=null;return a}n(a,b);a.prototype.initialize=function(){var a=this;this._handles.add([Y.when(this,"view.ready",function(c){a._viewHandles.removeAll();c&&a._setUpViewReadyHandle()},!0),Y.watch(this,"view",function(c,b){a._doUnnormalization=c&&"3d"===c.type&&"global"===c.viewingMode;b&&(c=b.map,b.container&&(a.view.cursor=null),c&&c.remove(a._internalGraphicsLayer),a._viewHandles.removeAll(),a.reset())},!0),Y.watch(this,"layer",function(){return a.reset()}),Y.on(this,"view.map.layers",
"change",function(c){0<=c.removed.indexOf(a.layer)&&a.reset()}),Y.on(this,"layer.graphics","change",function(c){if(G.isSome(a._operationHandle)){var e=0;for(c=c.removed;e<c.length;e++){var b=c[e];a.updateGraphics.includes(b)&&(1<a.updateGraphics.length?a._operationHandle.removeFromSelection(b):A(a._operationHandle))}}})].concat(this._sceneViewHighlightHandles()))};a.prototype.destroy=function(){this._reset();this._handles.removeAll();this._handles=null;this._viewHandles.removeAll();this._viewHandles=
null;this._highlightHandlesByGraphic.removeAll();this._highlightHandlesByGraphic=null;this._removeDefaultLayer();this._draw&&this._draw.destroy();this._set("view",null);this.emit("destroy")};Object.defineProperty(a.prototype,"_defaultUpdateTool",{get:function(){return"3d"===this.view.type?"move":"transform"},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"_draw",{get:function(){return"ready"===this.state||"active"===this.state?new ea({view:this.view}):null},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"activeTool",{get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"activeComponent",{get:function(){return this._operationHandle?this._operationHandle.activeComponent:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"state",{get:function(){var a=!(!this.get("view.ready")||!this.layer),e=this._operationHandle;return a&&e?"active":
a?"ready":"disabled"},enumerable:!0,configurable:!0});a.prototype.cancel=function(){this._operationHandle&&this._operationHandle.cancel()};a.prototype.complete=function(){this._operationHandle&&this._operationHandle.complete()};a.prototype.create=function(a,e){var c=this;if("disabled"===this.state)this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel.");
else if(this._reset(),a){var b=this._setupCreateOperation(a,e);b&&(this.view.map.add(this._internalGraphicsLayer),e=function(){if(b===c._operationHandle){var e=b.cancelled?"cancel":"complete",g=c.createGraphic;c._operationHandle.destroy();c._operationHandle=null;c._set("createGraphic",null);c.view&&c.view.map&&c.view.map.remove(c._internalGraphicsLayer);b.cancelled||c.layer.add(g);c._emitCreateEvent({graphic:g,state:e,tool:a,toolEventInfo:null})}},b.on("complete",e),b.on("cancel",e),this._operationHandle=
b)}else this._logError("sketch:missing-parameter","Missing parameter 'tool'.")};a.prototype.reset=function(){this._reset();this._emitResetEvent()};a.prototype.update=function(a,e){return v(this,void 0,void 0,function(){var c,b,d,u,y,l,N,f=this;return r(this,function(g){switch(g.label){case 0:c=this;b=c.layer;d=c.state;u=c.view;if("disabled"===d)return b||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),u||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),
[2];this._reset();y=Array.isArray(a)?a:[a];return y&&y.length?(l=y.some(function(a){if(a.layer!==b)return f._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0;if(!a.geometry)return f._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0;if("2d"===u.type&&!u.spatialReference.equals(a.geometry.spatialReference))return f._logError("sketch:invalid-parameter",
"Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0}))?[2]:[4,this._setupUpdateOperation(y,e)]:(this._logError("sketch:missing-parameter","Missing parameter 'graphics'."),[2]);case 1:N=g.sent();if(!N)return[2];this.view.map.add(this._internalGraphicsLayer);this._emitUpdateEvent({graphics:y,state:"start",tool:N.tool,toolEventInfo:null});this._setUpdateOperationHandle(N);return[2]}})})};a.prototype.undo=function(){this.canUndo()&&this._operationHandle.undo()};
a.prototype.redo=function(){this.canRedo()&&this._operationHandle.redo()};a.prototype.canUndo=function(){return!(!this._operationHandle||!this._operationHandle.canUndo())};a.prototype.canRedo=function(){return!(!this._operationHandle||!this._operationHandle.canRedo())};a.prototype.toggleUpdateTool=function(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()};a.prototype._reset=function(){this._removeCreateOperationGraphics();this.cancel();this._displayDefaultCursor();
this._draw&&this._draw.reset()};a.prototype._hitTest=function(a){return v(this,void 0,void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:return[4,this.view.hitTest(a)];case 1:return c=e.sent(),"2d"===this.view.type?[2,c]:0<c.results.length?[2,{screenPoint:a,results:[c.results[0]]}]:[2,{screenPoint:a,results:[]}]}})})};a.prototype._setUpViewReadyHandle=function(){var a=this;this._viewHandles.add([this.view.on("click",function(c){if(!a.view.toolViewManager.handlesClickEvent(c)){var e=
a._operationHandle,b=a.defaultUpdateOptions,d=a.layer,u=a.state,y=a.updateGraphics,l=a.updateOnGraphicClick,e="active"===u&&"create"===e.type;"disabled"!==u&&!e&&l&&a._hitTest(O.createScreenPointFromEvent(c)).then(function(c){c=c.results;c.length?c.some(function(c){if(c.graphic){c=c.graphic;if(-1<y.indexOf(c))return!0;if(c.layer===d)return a.update([c],D({},b)),!0}}):"active"===u&&a._reset()})}})])};a.prototype._setupCreateOperation=function(a,e){if(a){var c;switch(a){case "point":c=this._setupCreatePointOperation(a,
e);break;case "multipoint":c=this._setupCreateMultipointOperation(a,e);break;case "polygon":case "polyline":c=this._setupCreatePolyOperation(a,e);break;case "rectangle":c=this._setupCreateRectangleOperation(a,e);break;case "circle":c=this._setupCreateCircleOperation(a,e)}return c}};a.prototype._setupCreatePointOperation=function(a,e){var c=this;e=this._draw.create(a,e);var b=[e.on("cursor-update",function(a){G.isSome(a.coordinates)?c._displayCrosshairCursor():c._displayDefaultCursor()}),e.on("draw-complete",
function(a){a=a.coordinates;a=new E.Point(a[0],a[1],c.view.spatialReference);a=new I(a,c.pointSymbol);c._set("createGraphic",a);u&&u.complete()})],d=[this.view.on("key-down",function(a){"Escape"===a.key&&u&&u.cancel()})],u=this._operationHandleForCreateAction(e,b.concat(d),a);return u};a.prototype._setupCreateMultipointOperation=function(a,e){var c=this;e=this._draw.create(a,e);var b=null,d=[],u=this._operationHandleForCreateAction(e,d,a);d.push(e.on("vertex-add",function(e){var g=e.type,h=e.vertices,
d=h[e.vertexIndex];b=e;c._drawMultipointGraphic(h,!0);c._emitCreateEvent({graphic:c.createGraphic,state:1===h.length?"start":"active",tool:a,toolEventInfo:{added:d,type:g}})}),e.on("vertex-remove",function(e){var g=e.type,h=e.vertices,d=h[e.vertexIndex];b=e;c._drawMultipointGraphic(h,!0);c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{removed:d,type:g}})}),e.on("vertex-update",function(e){var g=e.type,h=e.vertices,d=h[e.vertexIndex];b=e;c._drawMultipointGraphic(h,
!0);c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{type:g,updated:d}})}),e.on("cursor-update",function(a){b=a}),e.on("draw-complete",function(a){a=a.vertices.slice(0);(a=T.createMultipoint(a,c.view.spatialReference))?(c.createGraphic&&(c.createGraphic.geometry=a),u&&u.complete()):u&&u.cancel()}),e.on("undo",function(a){a=a.vertices;var e=b&&"cursor-update"!==b.type;c._resetCreateOperationGraphics();a.length&&c._drawMultipointGraphic(a,e)}),e.on("redo",function(a){a=
a.vertices;var e=b&&"cursor-update"!==b.type;c._resetCreateOperationGraphics();a.length&&c._drawMultipointGraphic(a,e)}));d.push(this.view.on("pointer-move",function(a){return c._displayCrosshairCursor()}),this.view.on("key-down",function(a){return c._getCommonUpdateOperationKeyDownHandlers(u,a)}));return u};a.prototype._setupCreatePolyOperation=function(a,e){var c=this,b=null;"polyline"===a?b=this._draw.create(a,e):"polygon"===a&&(b=this._draw.create(a,e));var d=new E.Point,u=null,y=!1;e=[b.on("vertex-add",
function(e){var b=e.type,g=e.vertices,h=g[e.vertexIndex];c._snap(a,g,y);u=e;c._drawVertexGraphics(a,g,{userClicked:!0});c._emitCreateEvent({graphic:c.createGraphic,state:1===g.length?"start":"active",tool:a,toolEventInfo:{added:h,type:b}})}),b.on("vertex-remove",function(e){var b=e.type,g=e.vertices,h=g[e.vertexIndex];c._snap(a,g,y);u=e;c._drawVertexGraphics(a,g,{userClicked:!0});c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{removed:h,type:b}})}),b.on("vertex-update",
function(e){var b=e.type,g=e.vertices,h=g[e.vertexIndex];c._snap(a,g,y);u=e;c._drawVertexGraphics(a,g,{userClicked:!0});c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{type:b,updated:h}})}),b.on("cursor-update",function(e){var b=e.type,g=e.vertices;e.mapPoint&&(c._snap(a,g,y),u=e,d=e.mapPoint,c._drawVertexGraphics(a,g,{userClicked:!1}),1<g.length&&c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:g[g.length-1],type:b}}))}),
b.on("draw-complete",function(e){e=e.vertices.slice(0);var b=null;"polyline"===a?b=T.createPolyline([e],c.view.spatialReference,c._doUnnormalization):"polygon"===a&&(b=T.createPolygon([e],c.view.spatialReference,c._doUnnormalization,!0));b?(c.createGraphic.geometry=b,Q&&Q.complete()):Q&&Q.cancel()}),b.on("undo",function(e){e=e.vertices;var b=u&&"cursor-update"!==u.type;c._resetCreateOperationGraphics();c._snap(a,e,y);e.length&&c._drawVertexGraphics(a,e,{userClicked:b})}),b.on("redo",function(e){e=
e.vertices;var b=u&&"cursor-update"!==u.type;c._resetCreateOperationGraphics();c._snap(a,e,y);e.length&&c._drawVertexGraphics(a,e,{userClicked:b})})];var l=[this.view.on("pointer-move",function(a){c.view.toMap(O.createScreenPoint(a.x,a.y))?c._displayCrosshairCursor():c._displayDefaultCursor()}),this.view.on("key-down",function(e){var g=b.vertices.slice(0),h=u&&"cursor-update"!==u.type;"Control"!==e.key||y||"2d"!==c.view.type?"z"===e.key&&Q&&Q.canUndo()?(e.stopPropagation(),Q.undo()):"r"===e.key&&
Q&&Q.canRedo()?(e.stopPropagation(),Q.redo()):"Escape"===e.key&&Q&&Q.cancel():(y=!0,c._snap(a,g,!h),c._drawVertexGraphics(a,g,{userClicked:h}))}),this.view.on("key-up",function(e){var g=b.vertices.slice(0),h=u&&"cursor-update"!==u.type;"Control"===e.key&&y&&(h||(g.pop(),g.push([d.x,d.y]),c._drawVertexGraphics(a,g,{userClicked:h})),y=!1)})];if("polygon"===a){var N=function(a,e,b){if(!a||!a.layer||!a.visible)return!1;a=c.view.toScreen(a.geometry);return c._isWithinScreenDistance(a,e,b)},f=function(a){if(!(2>=
c._vertexGraphics.length))return N(c._vertexGraphics[0],a,c._getVertexIntersectDistance())};l.push(this.view.on("pointer-move",function(a){var e=f(a);c._highlightHandlesByGraphic.forEach(function(a){return e?a.pause():a.resume()})}),this.view.on("pointer-down",function(a){f(a)?(a.stopPropagation(),b.complete()):c._vertexGraphics.some(function(e){return N(e,a,c._getVertexIntersectDistance())})&&a.stopPropagation()}))}var Q=this._operationHandleForCreateAction(b,e.concat(l),a);return Q};a.prototype._setupCreateCircleOperation=
function(a,e){var c=this,b=this._draw.create(a,e),d=!1,u=!0;e=[b.on("vertex-add",function(e){var b=e.type,g=e.vertices;e=g[e.vertexIndex];c._drawSegmentGraphic(a,g,{centered:u,constrained:d});c._emitCreateEvent({graphic:c.createGraphic,state:1===g.length?"start":"active",tool:a,toolEventInfo:{added:e,type:b}})}),b.on("cursor-update",function(e){var b=e.type;e=e.vertices;c._drawSegmentGraphic(a,e,{centered:u,constrained:d});2===e.length&&c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,
toolEventInfo:{coordinates:e[e.length-1],type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var e=null,e=T.createViewAlignedCoordinateSystem(c.view,a[0]);1===a.length?(a.push([a[0][0]+c._defaultSegmentOffset*c.view.resolution,a[0][1]]),e=T.createCircle(a,e,!0)):e=d?T.createEllipse(a,e,u):T.createCircle(a,e,u);c.createGraphic?c.createGraphic.geometry=e:(c._removeCreateGraphic(),c._set("createGraphic",new I(e,c.polygonSymbol)));l&&l.complete()})];var y=[this.view.on("pointer-move",function(a){c.view.toMap(O.createScreenPoint(a.x,
a.y))?c._displayCrosshairCursor():c._displayDefaultCursor()}),this.view.on("key-down",function(e){"Control"!==e.key||d?"Alt"===e.key&&u?(u=!1,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d})):"Escape"===e.key&&l&&l.cancel():(d=!0,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d}))}),this.view.on("key-up",function(e){"Control"===e.key?(d=!1,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d})):"Alt"===e.key&&(u=!0,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d}))})],
l=this._operationHandleForCreateAction(b,e.concat(y),a);return l};a.prototype._setupCreateRectangleOperation=function(a,e){var c=this,b=this._draw.create(a,e),d=!1,u=!1;e=[b.on("vertex-add",function(e){var b=e.type,g=e.vertices;e=g[e.vertexIndex];c._drawSegmentGraphic(a,g,{centered:u,constrained:d});c._emitCreateEvent({graphic:c.createGraphic,state:1===g.length?"start":"active",tool:a,toolEventInfo:{added:e,type:b}})}),b.on("cursor-update",function(e){var b=e.type;e=e.vertices;c._drawSegmentGraphic(a,
e,{centered:u,constrained:d});2===e.length&&c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:e[e.length-1],type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var e=null,e=T.createViewAlignedCoordinateSystem(c.view,a[0]);1===a.length&&(u=d=!1);e=d?T.createSquare(a,e,u):T.createRectangle(a,e,u);c.createGraphic?c.createGraphic.geometry=e:(c._removeCreateGraphic(),c._set("createGraphic",new I(e,c.polygonSymbol)));l&&l.complete()})];var y=[this.view.on("pointer-move",
function(a){c.view.toMap(O.createScreenPoint(a.x,a.y))?c._displayCrosshairCursor():c._displayDefaultCursor()}),this.view.on("key-down",function(e){"Control"!==e.key||d?"Alt"!==e.key||u?"Escape"===e.key&&l&&l.cancel():(u=!0,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d})):(d=!0,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d}))}),this.view.on("key-up",function(e){"Control"===e.key?(d=!1,c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d})):"Alt"===e.key&&(u=!1,
c._drawSegmentGraphic(a,b.vertices,{centered:u,constrained:d}))})],l=this._operationHandleForCreateAction(b,e.concat(y),a);return l};a.prototype._setupUpdateOperation=function(a,e){return v(this,void 0,void 0,function(){var c,b,d,u,y,l,N,f,Q,p,m;return r(this,function(g){c=this;b=c._defaultUpdateTool;d=c.defaultUpdateOptions;u=c.layer;y=c.view;l=D({},d,e);N=l.tool||b;f=0;for(Q=a;f<Q.length;f++)p=Q[f],u.remove(p),u.add(p);if("3d"===y.type){a=a.filter(function(a){return!a.geometry.hasZ&&"mesh"!==a.geometry.type});
if("reshape"===N&&1<a.length)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null];if("move"===N||1<a.length)return[2,this._setupMoveOrTransform3DOperation(a,l,y)];if(1===a.length){p=a[0];m=p.geometry.type;if("point"===m)return[2,S.isSupportedGraphic(p)?this._setupPointTransform3DOperation(p,l,y):this._setupMoveOrTransform3DOperation(a,l,y)];if("reshape"===N&&aa.isSupportedGraphic(p))return[2,this._setupReshape3DOperation(p,l,y)];if("transform"===
N)return[2,this._setupMoveOrTransform3DOperation(a,l,y,"transform")]}return[2,null]}if("move"===N)return[2,this._setupMoveOperation(a,l,y)];if(1<a.length)return"reshape"===N?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null]):[2,this._setupTransformOrReshapeOperation(a,N,l,y)];if(1===a.length){p=a[0];m=p.geometry.type||null;if("point"===m||"multipoint"===m)return[2,this._setupMoveOperation(a,l,y)];if("transform"===N||"reshape"===N)return[2,
this._setupTransformOrReshapeOperation(a,N,l,y)]}return[2,null]})})};a.prototype._setupMoveOrTransform3DOperation=function(a,e,b,h,d){void 0===h&&(h="move");void 0===d&&(d=!1);return v(this,void 0,void 0,function(){var c,g,q,l,f=this;return r(this,function(u){switch(u.label){case 0:return[4,L.create(function(a){H(["../../views/3d/interactive/editingTools"],a)})];case 1:return c=u.sent().GraphicMove3DTool,g=new c({view:b}),this.view.tools.add(g),g.graphics.addMany(a),d||this.updateGraphics.addMany(a),
q=[],l=new ca.OperationHandle({activeComponent:g,tool:h,type:"update",onEnd:function(){q.forEach(function(a){return a.remove()});q.length=0;f.view.tools.remove(g);g.destroy()},undo:function(){Z(l,f.updateGraphics.toArray());f._emitUndoEvent({graphics:f.updateGraphics.toArray(),tool:h})},redo:function(){da(l,f.updateGraphics.toArray());f._emitRedoEvent({graphics:f.updateGraphics.toArray(),tool:h})},addToSelection:function(a){f.updateGraphics.push(a);g.graphics.push(a);f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),
state:"active",tool:f.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=f.updateGraphics.indexOf(a);l.history.undo.forEach(function(a){return a.updates.splice(c,1)});l.history.redo.forEach(function(a){return a.updates.splice(c,1)});f.updateGraphics.remove(a);0===f.updateGraphics.length?A(l):g.graphics.remove(a)},toggleTool:function(){return v(f,void 0,void 0,function(){var a,c;return r(this,function(g){switch(g.label){case 0:if(1!==this.updateGraphics.length||
!1===e.toggleToolOnClick||"transform"!==h)return[2];a=this.updateGraphics.getItemAt(0);return aa.isSupportedGraphic(a)?[4,this._setupReshape3DOperation(a,e,b,!0)]:[2];case 1:return c=g.sent(),l.onEnd(),l.destroy(),this._setUpdateOperationHandle(c),[2]}})})}}),q.push.apply(q,this._getHandlesForComponent(l).concat([this.view.on("click",function(a){return f._getCommonUpdateOperationClickHandlers(l,a)}),this.view.on("key-down",function(a){return f._getCommonUpdateOperationKeyDownHandlers(l,a)})])),[2,
l]}})})};a.prototype._setupPointTransform3DOperation=function(a,e,b){return v(this,void 0,void 0,function(){var c,g,d,y,l,N,f,Q=this;return r(this,function(h){switch(h.label){case 0:return c="transform",g=e.enableRotation,d=e.enableScaling,[4,L.create(function(a){H(["../../views/3d/interactive/editingTools"],a)})];case 1:return y=h.sent().GraphicTransform3DTool,l=new y({view:b,enableRotation:g,enableScaling:d}),this.view.tools.add(l),l.graphic=a,this.updateGraphics.add(a),N=[],f=new ca.OperationHandle({activeComponent:l,
tool:c,type:"update",onEnd:function(){N.forEach(function(a){return a.remove()});N.length=0;Q.view.tools.remove(l);l.destroy()},undo:function(){Z(f,Q.updateGraphics.toArray());Q._emitUndoEvent({graphics:Q.updateGraphics.toArray(),tool:c})},redo:function(){da(f,Q.updateGraphics.toArray());Q._emitRedoEvent({graphics:Q.updateGraphics.toArray(),tool:c})}}),N.push.apply(N,this._getHandlesForComponent(f).concat([this.view.on("click",function(a){return Q._getCommonUpdateOperationClickHandlers(f,a)}),this.view.on("key-down",
function(a){return Q._getCommonUpdateOperationKeyDownHandlers(f,a)})])),[2,f]}})})};a.prototype._setupMoveOperation=function(a,e,b){return v(this,void 0,void 0,function(){var c,g,d,y,l,N,f=this;return r(this,function(h){switch(h.label){case 0:return c=[],g="move",a.forEach(function(a){c.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=f._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),d=[b.on("click",function(a){return f._getCommonUpdateOperationClickHandlers(l,a,e)}),b.on("key-down",
function(a){return f._getCommonUpdateOperationKeyDownHandlers(l,a)}),b.on("key-down",function(a){"Control"!==a.key||a.repeat||(y.enableMoveAllGraphics=!y.enableMoveAllGraphics)}),b.on("key-up",function(a){"Control"===a.key&&(y.enableMoveAllGraphics=!y.enableMoveAllGraphics)})],[4,this._getGraphicMover(a,e,b)];case 1:return y=h.sent(),l=new ca.OperationHandle({activeComponent:y,tool:g,type:"update",onEnd:function(){N.forEach(function(a){return a.remove()});d.forEach(function(a){return a.remove()});
N=[];d=[];y.destroy();f._internalGraphicsLayer&&f._internalGraphicsLayer.removeMany(f.updateGraphics.toArray());f.updateGraphics.forEach(function(a,e){a.symbol=c[e].symbol})},undo:function(){Z(l,f.updateGraphics.toArray());f._emitUndoEvent({graphics:f.updateGraphics.toArray(),tool:g})},redo:function(){da(l,f.updateGraphics.toArray());f._emitRedoEvent({graphics:f.updateGraphics.toArray(),tool:g})},addToSelection:function(a){c.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=f._getUpdateSymbol(a.geometry);
f.updateGraphics.push(a);y.graphics=f.updateGraphics.toArray();f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var e=f.updateGraphics.indexOf(a);l.history.undo.forEach(function(a){return a.updates.splice(e,1)});l.history.redo.forEach(function(a){return a.updates.splice(e,1)});var b=c.splice(e,1)[0];a.symbol=b.symbol;f.updateGraphics.remove(a);0===f.updateGraphics.length?A(l):
y.graphics=f.updateGraphics.toArray()}}),N=this._getHandlesForComponent(l),[2,l]}})})};a.prototype._setupReshape3DOperation=function(a,e,b,h){void 0===h&&(h=!1);return v(this,void 0,void 0,function(){var c,g,d,l,N,f=this;return r(this,function(q){switch(q.label){case 0:return c="reshape",[4,L.create(function(a){H(["../../views/3d/interactive/editingTools"],a)})];case 1:return g=q.sent().GraphicReshape3DTool,d=new g({view:b,graphic:a}),b.tools.add(d),h||this.updateGraphics.add(a),l=[],N=new ca.OperationHandle({activeComponent:d,
tool:c,type:"update",onEnd:function(){l.forEach(function(a){return a.remove()});l.length=0;b.tools.remove(d);d.destroy()},undo:function(){Z(N,f.updateGraphics.toArray());f._emitUndoEvent({graphics:f.updateGraphics.toArray(),tool:c})},redo:function(){da(N,f.updateGraphics.toArray());f._emitRedoEvent({graphics:f.updateGraphics.toArray(),tool:c})},toggleTool:function(){return v(f,void 0,void 0,function(){var a;return r(this,function(c){switch(c.label){case 0:return!1===e.toggleToolOnClick?[2]:[4,this._setupMoveOrTransform3DOperation(this.updateGraphics.toArray(),
e,b,"transform",!0)];case 1:return a=c.sent(),N.onEnd(),N.destroy(),this._setUpdateOperationHandle(a),[2]}})})}}),l.push.apply(l,this._getHandlesForComponent(N).concat([b.on("click",function(a){return f._getCommonUpdateOperationClickHandlers(N,a)}),b.on("key-down",function(a){return f._getCommonUpdateOperationKeyDownHandlers(N,a)})])),[2,N]}})})};a.prototype._setupTransformOrReshapeOperation=function(a,e,b,h){return v(this,void 0,void 0,function(){var c,g,d,l,N,f,Q,p,m,k,n=this;return r(this,function(q){switch(q.label){case 0:return c=
b.multipleSelectionEnabled,g=void 0===c?!0:c,d=b.toggleToolOnClick,l=void 0===d?!0:d,N=[],a.forEach(function(a){N.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=n._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),f=[h.on("click",function(a){n._hitTest(O.createScreenPointFromEvent(a)).then(function(c){if(m)if(c=c.results,c.length){var e=m.activeComponent,b=a.native&&a.native.shiftKey;c.some(function(a){if(a.graphic){a=a.graphic;if(g&&b&&e&&"box"===e.type&&!e.isUIGraphic(a))return m.addToSelection(a),
!0;if(e&&"box"===e.type&&e.isUIGraphic(a))return!1!==l&&1===n.updateGraphics.length&&("extent"===n.updateGraphics.getItemAt(0).geometry.type?n._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."):m.toggleTool()),!0;if(e&&"reshape"===e.type){if(a===e.graphic)return!1!==l&&m.toggleTool(),!0;if(e.isUIGraphic(a)||a.layer===n._internalGraphicsLayer)return!0}else a.layer===n.layer&&A(m)}})?a.stopPropagation():A(m)}else A(m)})}),h.on("key-down",
function(a){return n._getCommonUpdateOperationKeyDownHandlers(m,a)}),h.on("key-down",function(a){"Control"===a.key&&!a.repeat&&m&&(a=m.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)}),h.on("key-up",function(a){"Control"===a.key&&m&&(a=m.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)})],"transform"!==e?[3,2]:[4,this._getBox(a,b,h)];case 1:return p=q.sent(),[3,4];case 2:return[4,this._getReshape(a,b,h)];case 3:p=q.sent(),q.label=4;
case 4:return Q=p,m=new ca.OperationHandle({activeComponent:Q,type:"update",onEnd:function(){k.forEach(function(a){return a.remove()});f.forEach(function(a){return a.remove()});k=[];f=[];m.activeComponent.destroy();n._internalGraphicsLayer.removeMany(n.updateGraphics.toArray());n.updateGraphics.forEach(function(a,c){N[c]&&N[c].symbol&&(a.symbol=N[c].symbol)})},undo:function(){Z(m,n.updateGraphics.toArray());m.refreshComponent();n._emitUndoEvent({graphics:n.updateGraphics.toArray(),tool:m.tool})},
redo:function(){da(m,n.updateGraphics.toArray());m.refreshComponent();n._emitRedoEvent({graphics:n.updateGraphics.toArray(),tool:m.tool})},addToSelection:function(a){var c=m.activeComponent;N.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=n._getUpdateSymbol(a.geometry);n.updateGraphics.add(a);c.graphics=n.updateGraphics.toArray();c.refresh();m.resetHistory();n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},
removeFromSelection:function(a){var c=m.activeComponent,e=n.updateGraphics.indexOf(a);m.history.undo.forEach(function(a){return a.updates.splice(e,1)});m.history.redo.forEach(function(a){return a.updates.splice(e,1)});var b=N.splice(e,1)[0];a.symbol=b.symbol;n.updateGraphics.remove(a);0===n.updateGraphics.length?A(m):c.graphics=n.updateGraphics.toArray()},toggleTool:function(){return v(n,void 0,void 0,function(){var c;return r(this,function(e){switch(e.label){case 0:if(1<this.updateGraphics.length)return[2];
c=null;return"transform"!==m.tool?[3,2]:[4,this._getReshape(a,b,h)];case 1:return c=e.sent(),[3,4];case 2:return"reshape"!==m.tool?[3,4]:[4,this._getBox(a,b,h)];case 3:c=e.sent(),e.label=4;case 4:return m.activeComponent.destroy(),m.activeComponent=c,m.activeComponent&&(k.forEach(function(a){return a.remove()}),k=this._getHandlesForComponent(m)),[2]}})})}}),k=this._getHandlesForComponent(m),[2,m]}})})};a.prototype._getGraphicMover=function(a,e,b){return v(this,void 0,void 0,function(){var c,g,d,y=
this;return r(this,function(h){switch(h.label){case 0:return c=e.enableMoveAllGraphics,g=void 0===c?!0:c,[4,L.create(function(a){return H(["../../views/draw/support/GraphicMover"],a)})];case 1:return d=h.sent(),[2,new d({enableMoveAllGraphics:g,graphics:a,view:b,callbacks:{onGraphicMoveStart:function(a){var c=a.dx,e=a.dy;a=a.graphic;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{dx:c,dy:e,mover:a,type:"move-start"}})},onGraphicMove:function(a){var c=
a.dx,e=a.dy;a=a.graphic;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{dx:c,dy:e,mover:a,type:"move"}})},onGraphicMoveStop:function(a){var c=a.dx,e=a.dy;a=a.graphic;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{dx:c,dy:e,mover:a,type:"move-stop"}})},onGraphicPointerOver:function(a){return y._displayDefaultCursor()},onGraphicPointerOut:function(a){return y._displayDefaultCursor()}}})]}})})};
a.prototype._getBox=function(a,e,b){return v(this,void 0,void 0,function(){var c,g,d,y,l,N,f,Q=this;return r(this,function(h){switch(h.label){case 0:return c=e.enableRotation,g=void 0===c?!0:c,d=e.enableScaling,y=void 0===d?!0:d,l=e.preserveAspectRatio,N=void 0===l?!1:l,[4,L.create(function(a){return H(["../../views/draw/support/Box"],a)})];case 1:return f=h.sent(),[2,new f({graphics:a,enableRotation:g,enableScaling:y,preserveAspectRatio:N,layer:this._internalGraphicsLayer,view:b,callbacks:{onMoveStart:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),
state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onMove:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onMoveStop:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onScaleStart:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onScale:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),
state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onScaleStop:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onRotateStart:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onRotate:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})},onRotateStop:function(a){return Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),
state:"active",tool:Q.activeTool,toolEventInfo:D({},a)})}}})]}})})};a.prototype._getReshape=function(a,e,b){return v(this,void 0,void 0,function(){var c,g,d,y=this;return r(this,function(h){switch(h.label){case 0:return c=e.enableMidpoints,g=void 0===c?!0:c,[4,L.create(function(a){return H(["../../views/draw/support/Reshape"],a)})];case 1:return d=h.sent(),[2,new d({enableMidpoints:g,graphic:a[0],layer:this._internalGraphicsLayer,view:b,callbacks:{onReshapeStart:function(a){return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),
state:"active",tool:y.activeTool,toolEventInfo:D({},a)})},onReshape:function(a){return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:D({},a)})},onReshapeStop:function(a){var c=a.mover;a=a.type;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{mover:c,type:a}})},onMoveStart:function(a){var c=a.dx,e=a.dy,b=a.mover;a=a.type;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),
state:"active",tool:y.activeTool,toolEventInfo:{dx:c,dy:e,mover:b,type:a}})},onMove:function(a){var c=a.dx,e=a.dy,b=a.mover;a=a.type;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{dx:c,dy:e,mover:b,type:a}})},onMoveStop:function(a){var c=a.dx,e=a.dy,b=a.mover;a=a.type;return y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{dx:c,dy:e,mover:b,type:a}})},onVertexAdd:function(a){var c=
a.type;a=a.added.map(function(a){return p.geometryToCoordinates(a.geometry)});y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{added:a,type:c}})},onVertexRemove:function(a){var c=a.type;a=a.removed.map(function(a){return p.geometryToCoordinates(a.geometry)});y._emitUpdateEvent({graphics:y.updateGraphics.toArray(),state:"active",tool:y.activeTool,toolEventInfo:{removed:a,type:c}})}}})]}})})};a.prototype._getHandlesForComponent=function(a){var c=
this,b=a.activeComponent;switch(b.type){case "graphic-mover":return[b.on("graphic-move-start",function(c){return a.addToHistory(ba(c.allGraphics))})];case "box":return[b.on("move-start",function(c){return a.addToHistory(ba(c.graphics))}),b.on("rotate-start",function(c){return a.addToHistory(ba(c.graphics))}),b.on("scale-start",function(c){return a.addToHistory(ba(c.graphics))})];case "reshape":return[b.on("move-start",function(c){return a.addToHistory(ba([c.mover]))}),b.on("reshape-start",function(c){return a.addToHistory(ba([c.graphic]))}),
b.on("vertex-add",function(c){return a.addToHistory(ba([c.oldGraphic]))}),b.on("vertex-remove",function(c){return a.addToHistory(ba([c.oldGraphic]))})];case "move-3d":return[b.on("graphic-move-start",function(e){a.addToHistory(ba(e.allGraphics));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<e.allGraphics.length?e.allGraphics[0]:null,type:"move-start"}})}),b.on("graphic-move",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:{dx:a.dx,dy:a.dy,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move"}})}),b.on("graphic-move-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-stop"}})}),b.on("click",function(){return a.toggleTool()})];case "transform-3d":return[b.on("graphic-translate-start",function(e){a.addToHistory(ba([e.graphic]));
c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:e.graphic,dx:0,dy:0,type:"move-start"}})}),b.on("graphic-translate-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:0,dy:0,type:"move-stop"}})}),b.on("graphic-rotate-start",function(e){a.addToHistory(d([e.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,
toolEventInfo:{mover:e.graphic,angle:0,type:"rotate-start"}})}),b.on("graphic-rotate-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,angle:0,type:"rotate-stop"}})}),b.on("graphic-scale-start",function(e){a.addToHistory(d([e.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:e.graphic,xScale:1,yScale:1,type:"scale-start"}})}),b.on("graphic-scale-stop",
function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,xScale:1,yScale:1,type:"scale-stop"}})}),b.on("graphic-translate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dx,dy:a.dy,type:"move"}})}),b.on("graphic-rotate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,
angle:a.angle,type:"rotate"}})}),b.on("graphic-scale",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale"}})})];case "reshape-3d":return[b.on("reshape-start",function(e){a.addToHistory(ba([e.graphic]));e.isDragging&&(e=e.fromTranslation?{mover:e.graphic,dx:0,dy:0,type:"move-start"}:{mover:e.graphic,type:"reshape-start"},c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:e}))}),b.on("vertex-move",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,type:"reshape"}})}),b.on("translate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move"}})}),b.on("reshape-stop",function(a){a.isDragging&&(a=a.fromTranslation?{mover:a.graphic,
dx:0,dy:0,type:"move-stop"}:{mover:a.graphic,type:"reshape-stop"},c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:a}))}),b.on("vertex-add",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{added:a.coords,type:"vertex-add"}})}),b.on("vertex-remove",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{removed:a.coords,
type:"vertex-remove"}})}),b.on("click",function(){return a.toggleTool()})];case "draw":return null;default:k.neverReached(b)}};a.prototype._setUpdateOperationHandle=function(a){var c=this;this._operationHandle=a;var b=this.view,h=b.map,d=b.popup,u=!0;d&&(u=d.autoOpenEnabled,d.autoOpenEnabled=!1);b=function(){if(a===c._operationHandle){var e=a.cancelled?"cancel":"complete",b=c.updateGraphics.toArray(),g=c._operationHandle.tool;c._operationHandle.destroy();c._operationHandle=null;c._internalGraphicsLayer.removeMany(c.updateGraphics.toArray());
c.updateGraphics.removeAll();h&&h.remove(c._internalGraphicsLayer);d&&(d.autoOpenEnabled=u);c._emitUpdateEvent({graphics:b,state:e,tool:g,toolEventInfo:null})}};a.on("complete",b);a.on("cancel",b)};a.prototype._getCommonUpdateOperationClickHandlers=function(a,e,b){var c=this,g=O.createScreenPointFromEvent(e),d=this.view.toolViewManager.handlesClickEvent(e);this._hitTest(g).then(function(g){g=g.results;if(g.length||d){var h=e.native&&e.native.shiftKey,q=b?!!b.multipleSelectionEnabled:!0;g.some(function(e){if(e.graphic&&
(e=e.graphic,q&&h&&e.layer===c.layer))return-1===c.updateGraphics.indexOf(e)?a.addToSelection(e):a.removeFromSelection(e),!0})?e.stopPropagation():d||(g.some(function(a){return a.graphic&&-1<c.updateGraphics.indexOf(a.graphic)})?e.stopPropagation():A(a))}else A(a)})};a.prototype._getCommonUpdateOperationKeyDownHandlers=function(a,e){if(a){var c=e.key;"z"===c&&a.canUndo()?(e.stopPropagation(),a.undo()):"r"===c&&a.canRedo()?(e.stopPropagation(),a.redo()):"Escape"===c&&A(a)}};a.prototype._getCreateSymbol=
function(a,e){void 0===e&&(e=!1);e="3d"!==this.view.type&&e;switch(a.type){case "point":case "multipoint":return e?this.activePointSymbol:this.pointSymbol;case "polyline":return e?this.activeLineSymbol:this.polylineSymbol;case "polygon":return e?this.activeFillSymbol:this.polygonSymbol}return null};a.prototype._getUpdateSymbol=function(a){switch(a.type){case "point":case "multipoint":return this.updatePointSymbol;case "polyline":return this.updatePolylineSymbol;case "polygon":case "extent":return this.updatePolygonSymbol}return null};
a.prototype._drawMultipointGraphic=function(a,e){var c=null;!e&&1<a.length?(c=a.slice(0),c.pop(),c=T.createMultipoint(c,this.view.spatialReference)):c=T.createMultipoint(a,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=c:this._set("createGraphic",new I(c,this.pointSymbol));e&&1===a.length&&this._internalGraphicsLayer.add(this.createGraphic)};a.prototype._drawVertexGraphics=function(a,e,b){b=!(!b||!b.userClicked);var c="polygon"===a,g=c?this.polygonSymbol:this.polylineSymbol;
if(1===e.length){this._removeLineGraphic();this._removeActiveLineGraphic();a=e[0];var d=a[0],y=a[1],l=new E.Point(d,y,this.view.spatialReference),c=c?T.createPolygon([e],this.view.spatialReference,this._doUnnormalization,!0):T.createPolyline([e],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length?this._vertexGraphics[0].geometry=l:this._vertexGraphics.push(new I(l,this.activeVertexSymbol));this.createGraphic?this.createGraphic.geometry=c:this._set("createGraphic",new I(c,
g));b&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===e.length)g=e[1],d=g[0],y=g[1],a=new E.Point(d,y,this.view.spatialReference),d=this.vertexSymbol,g=T.createPolyline([e],this.view.spatialReference,this._doUnnormalization),c=c?T.createPolygon([e],this.view.spatialReference,this._doUnnormalization,!0):T.createPolyline([e],this.view.spatialReference,this._doUnnormalization),this._vertexGraphics.length||(e=e[0],l=new E.Point(e[0],e[1],this.view.spatialReference),e=new I(l,d),
this._vertexGraphics.push(e)),1===this._vertexGraphics.length?(e=this._vertexGraphics[0],a=new I(a,d),this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(a),this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)):this._vertexGraphics[1].geometry=a,this._showActiveLineGraphic(g),e=this._vertexGraphics[0],b&&(this._activeLineGraphic.symbol=this.polylineSymbol,e.symbol=this.vertexSymbol,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?
this.createGraphic.geometry=c:this._set("createGraphic",new I(c,this.polygonSymbol)),this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e);else if(2<e.length){c=c?T.createPolygon([e],this.view.spatialReference,this._doUnnormalization,!0):T.createPolyline([e],this.view.spatialReference,this._doUnnormalization);"polygon"===a&&this._showFillGraphic(c);a=e.map(function(a){return[a[0],a[1]]});d=a.pop();l=[a[a.length-1],d];d=T.createPolyline([a],this.view.spatialReference,this._doUnnormalization);
l=T.createPolyline([l],this.view.spatialReference,this._doUnnormalization);this._showLineGraphic(d);this._showActiveLineGraphic(l);for(l=0;l<a.length;l++)(d=this._vertexGraphics[l])?d.symbol=b||l!==this._vertexGraphics.length-1?this.vertexSymbol:this.activeVertexSymbol:(y=e[l],d=y[0],y=y[1],this._showVertexGraphic(new E.Point(d,y,this.view.spatialReference)));b?(this._activeLineGraphic.symbol=this.polylineSymbol,b=e[e.length-1],d=b[0],y=b[1],this._showVertexGraphic(new E.Point(d,y,this.view.spatialReference))):
this._activeLineGraphic.symbol=this.activeLineSymbol;this.createGraphic?this.createGraphic.geometry=c:(this._removeCreateGraphic(),this._set("createGraphic",new I(c,g)));b=0;for(c=this._vertexGraphics;b<c.length;b++)e=c[b],this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)}};a.prototype._drawSegmentGraphic=function(a,e,b){if(e.length){var c=T.createViewAlignedCoordinateSystem(this.view,e[0]),g=!(!b||!b.centered);b=!(!b||!b.constrained);var d=null;1===e.length?this._removeCenterIndicatorGraphic():
("rectangle"===a?d=b?T.createSquare(e,c,g):T.createRectangle(e,c,g):"circle"===a&&(d=b?T.createEllipse(e,c,g):T.createCircle(e,c,g)),d.extent&&d.extent.center&&this._showCenterIndicatorGraphic(d.extent.center));d?this.createGraphic?this.createGraphic.geometry=d:(this._removeCreateGraphic(),this._set("createGraphic",new I(d,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}};a.prototype._showCenterIndicatorGraphic=function(a){this._centerIndicatorGraphic?
this._centerIndicatorGraphic.geometry=a:(this._centerIndicatorGraphic=new I(a,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))};a.prototype._removeCenterIndicatorGraphic=function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)};a.prototype._showActiveLineGraphic=function(a){this._activeLineGraphic?this._activeLineGraphic.geometry=a:(this._activeLineGraphic=
new I(a,this.activeLineSymbol),this._internalGraphicsLayer.graphics.add(this._activeLineGraphic,0))};a.prototype._showFillGraphic=function(a){this._activeFillGraphic?this._activeFillGraphic.geometry=a:(this._activeFillGraphic=new I(a,this._getCreateSymbol(a,!0)),this._internalGraphicsLayer.add(this._activeFillGraphic))};a.prototype._showLineGraphic=function(a){this._lineGraphic?this._lineGraphic.geometry=a:(this._lineGraphic=new I(a,this.polylineSymbol),this._internalGraphicsLayer.graphics.add(this._lineGraphic,
0))};a.prototype._showVertexGraphic=function(a,e){a=new I(a,e?this.activeVertexSymbol:this.vertexSymbol);this._vertexGraphics.push(a);this._internalGraphicsLayer.add(a)};a.prototype._resetCreateOperationGraphics=function(){this._removeActiveFillGraphic();this._removeLineGraphic();this._removeActiveLineGraphic();this._removeVertexGraphics()};a.prototype._removeCreateGraphic=function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))};a.prototype._removeCreateOperationGraphics=
function(){this._removeCenterIndicatorGraphic();this._removeActiveLineGraphic();this._removeActiveFillGraphic();this._removeLineGraphic();this._removeVertexGraphics()};a.prototype._removeActiveLineGraphic=function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)};a.prototype._removeActiveFillGraphic=function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),
this._activeFillGraphic.destroy(),this._activeFillGraphic=null)};a.prototype._removeLineGraphic=function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),this._lineGraphic=null)};a.prototype._removeVertexGraphics=function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach(function(a){return a.destroy()}),this._vertexGraphics=[])};a.prototype._removeDefaultLayer=function(){this._internalGraphicsLayer&&
(this.view&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)};a.prototype._operationHandleForCreateAction=function(a,e,b){var c=this;return new ca.OperationHandle({activeComponent:this._draw,tool:b,type:"create",onEnd:function(){e.forEach(function(a){return a.remove()});e.length=0;c._removeCreateOperationGraphics();c._internalGraphicsLayer&&c._internalGraphicsLayer.remove(c.createGraphic);c._displayDefaultCursor()},undo:function(){a.undo();
c._emitUndoEvent({graphics:[c.createGraphic],tool:b})},redo:function(){a.redo();c._emitRedoEvent({graphics:[c.createGraphic],tool:b})},canUndo:function(){return a&&a.canUndo()},canRedo:function(){return a&&a.canRedo()}})};a.prototype._snap=function(a,e,b){b&&this._snapLastVertexToAxis(e);"polygon"===a&&this._snapLastPolygonVertexToFirst(e)};a.prototype._snapLastPolygonVertexToFirst=function(a){if(!(2>=a.length)){var c=a[0];a=a[a.length-1];var b=this.view.toScreen(new E.Point(c[0],c[1],this.view.spatialReference)),
h=this.view.toScreen(new E.Point(a[0],a[1],this.view.spatialReference));this._isWithinScreenDistance(b,h,this._getVertexIntersectDistance())&&(a[0]=c[0],a[1]=c[1])}};a.prototype._getVertexIntersectDistance=function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?O.pt2px(this.vertexSymbol.size)/2+3:3};a.prototype._isWithinScreenDistance=function(a,e,b){var c=a.x-e.x;a=a.y-e.y;return Math.sqrt(c*c+a*a)<=b};a.prototype._snapLastVertexToAxis=function(a){if(!(2>a.length)){var c=a.pop(),
b=a[a.length-1],h=T.createViewAlignedCoordinateSystem(this.view,b),b=h.mapToLocal(b),c=h.mapToLocal(c),d=Math.abs(c.x-b.x),u=Math.abs(c.y-b.y),h=h.localToMap(T.makeSurfacePoint(d>u?c.x:b.x,d>u?b.y:c.y));a.push(h)}};a.prototype._displayCrosshairCursor=function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")};a.prototype._displayDefaultCursor=function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)};a.prototype._logError=
function(a,e,b){l.error(new M(a,e,b))};a.prototype._sceneViewHighlightHandles=function(){var a=this,e=function(c,e){var b=a.view;if(b&&"2d"!==b.type){var g=b.allLayerViews.find(function(a){return a.layer.uid===e.uid});g&&(c.added.forEach(function(c){a._highlightHandlesByGraphic.add(g.highlight(c),c.uid)}),c.removed.forEach(function(c){a._highlightHandlesByGraphic.remove(c.uid)}))}};return[this.updateGraphics.on("change",function(c){e(c,a.layer)}),this._internalGraphicsLayer.graphics.on("change",function(c){e(c,
a._internalGraphicsLayer)}),Y.on(this,"view.allLayerViews","change",function(c){if(c.added){var b=0;for(c=c.added;b<c.length;b++){var g=c[b];g.layer===a.layer?e({added:a.updateGraphics.toArray(),removed:[]},g.layer):g.layer===a._internalGraphicsLayer&&e({added:a._internalGraphicsLayer.graphics.toArray(),removed:[]},g.layer)}}})]};a.prototype._emitCreateEvent=function(a){this.emit("create",D({},a,{type:"create"}))};a.prototype._emitUpdateEvent=function(a){this.emit("update",D({},a,{type:"update"}))};
a.prototype._emitResetEvent=function(){this.emit("reset",{type:"reset"})};a.prototype._emitUndoEvent=function(a){this.emit("undo",D({},a,{type:"undo"}))};a.prototype._emitRedoEvent=function(a){this.emit("redo",D({},a,{type:"redo"}))};w([J.property({dependsOn:["state"],readOnly:!0})],a.prototype,"_draw",null);w([J.property()],a.prototype,"_operationHandle",void 0);w([J.property({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],a.prototype,"activeTool",null);w([J.property()],a.prototype,
"activeFillSymbol",void 0);w([J.property()],a.prototype,"activeLineSymbol",void 0);w([J.property()],a.prototype,"activePointSymbol",void 0);w([J.property()],a.prototype,"activeVertexSymbol",void 0);w([J.property({readOnly:!0})],a.prototype,"createGraphic",void 0);w([J.property()],a.prototype,"defaultUpdateOptions",void 0);w([J.property()],a.prototype,"layer",void 0);w([J.property({types:B.symbolTypes})],a.prototype,"pointSymbol",void 0);w([J.property({types:B.symbolTypes})],a.prototype,"polygonSymbol",
void 0);w([J.property({types:B.symbolTypes})],a.prototype,"polylineSymbol",void 0);w([J.property({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],a.prototype,"state",null);w([J.property({readOnly:!0})],a.prototype,"updateGraphics",void 0);w([J.property()],a.prototype,"updateOnGraphicClick",void 0);w([J.property({types:B.symbolTypes})],a.prototype,"updatePointSymbol",void 0);w([J.property({types:B.symbolTypes})],a.prototype,"updatePolygonSymbol",void 0);w([J.property({types:B.symbolTypes})],
a.prototype,"updatePolylineSymbol",void 0);w([J.property({types:B.symbolTypes})],a.prototype,"vertexSymbol",void 0);w([J.property()],a.prototype,"view",void 0);w([J.property()],a.prototype,"cancel",null);w([J.property()],a.prototype,"complete",null);w([J.property()],a.prototype,"create",null);w([J.property()],a.prototype,"reset",null);w([J.property()],a.prototype,"update",null);w([J.property()],a.prototype,"undo",null);w([J.property()],a.prototype,"redo",null);w([J.property()],a.prototype,"canUndo",
null);w([J.property()],a.prototype,"canRedo",null);w([J.property()],a.prototype,"toggleUpdateTool",null);return a=w([J.subclass("esri.widgets.Sketch.SketchViewModel")],a)}(J.declared(t,C))})},"esri/views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic":function(){define(["require","exports","../../../../../core/maybe"],function(H,F,D){function n(n){return D.isSome(n)&&("polygon"===n.type||"polyline"===n.type)}Object.defineProperty(F,"__esModule",{value:!0});F.isSupportedGeometry=n;
F.isSupportedGraphic=function(w){return n(w.geometry)}})},"esri/views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic":function(){define(["require","exports"],function(H,F){Object.defineProperty(F,"__esModule",{value:!0});F.isSupportedGraphic=function(D){var n=D.symbol&&"point-3d"===D.symbol.type&&D.symbol.symbolLayers;return n&&0<n.length&&n.some(function(n){return"object"===n.type})&&"point"===D.geometry.type&&"graphics"===D.layer.type}})},"esri/views/draw/Draw":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/accessorSupport/decorators ./MultipointDrawAction ./PointDrawAction ./PolygonDrawAction ./PolylineDrawAction ./SegmentDrawAction".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x){return function(k){function r(){var n=null!==k&&k.apply(this,arguments)||this;n.activeAction=null;n.type="draw";n.view=null;return n}D(r,k);r.prototype.destroy=function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)};r.prototype.create=function(k,f){this.reset();f=w({view:this.view},f);switch(k){case "point":this.activeAction=new I(f);break;case "polygon":this.activeAction=new B(f);break;case "polyline":this.activeAction=new t(f);break;
case "multipoint":this.activeAction=new E(f);break;case "rectangle":case "circle":case "ellipse":case "triangle":this.activeAction=new x(f)}return this.activeAction};r.prototype.complete=function(){this.activeAction&&this.activeAction.complete();this.activeAction=null};r.prototype.reset=function(){this.activeAction&&this.activeAction.destroy();this.activeAction=null};n([v.property()],r.prototype,"activeAction",void 0);n([v.property({readOnly:!0})],r.prototype,"type",void 0);n([v.property()],r.prototype,
"view",void 0);return r=n([v.subclass("esri.views.draw.Draw")],r)}(v.declared(r))})},"esri/views/draw/MultipointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),function(H,F,D,n,w,r,v,E,I,B,t,x,k){return function(t){function r(f){f=
t.call(this,f)||this;f._cursorMoved=!1;f._cursorScreenPoint=null;f._dragEnabled=!0;f._pointerDownEvent=null;f._viewHandles=new v;f.vertices=[];f.view=null;return f}D(r,t);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};r.prototype.addVertex=function(f,m){var k=this;isNaN(m)?(m=this.vertices.length,this.vertices.push(f)):this.vertices.splice(m,0,f);this.history.push({vertex:f,vertexIndex:m,
undo:function(){return k._undoVertexAdd(null,f,m)},redo:function(){return k._redoVertexAdd(null,f,m)}});this._set("redoHistory",[]);var n=new x.VertexAddEvent(this.view,null,m,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};r.prototype.removeVertex=function(f){var m=this,k=this.vertices.splice(f,1)[0];this.history.push({vertex:k,vertexIndex:f,undo:function(){return m._undoVertexRemove(null,k,f)},redo:function(){return m._redoVertexRemove(null,
k,f)}});this._set("redoHistory",[]);this.emit("vertex-remove",new x.VertexRemoveEvent(this.view,null,f,this.vertices))};r.prototype.updateVertex=function(f,m){var k=this,n=this.vertices[m];this.vertices[m]=f;this.history.push({vertex:f,vertexIndex:m,undo:function(){return k._undoVertexUpdate(null,n,m)},redo:function(){return k._redoVertexUpdate(null,f,m)}});this._set("redoHistory",[]);this.emit("vertex-update",new x.VertexUpdateEvent(this.view,null,m,this.vertices))};r.prototype.complete=function(){this._completeDrawing()};
r.prototype._addViewHandles=function(){var f=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(f){f.stopPropagation()}),this.view.on("pointer-down",function(m){f._cursorMoved&&f.vertices.pop();f._pointerDownEvent=m;f._cursorMoved=!1;f._cursorScreenPoint=I.createScreenPointFromEvent(m)}),this.view.on("pointer-move",function(m){f._cursorMoved&&f.vertices.pop();f._cursorMoved=!0;f._cursorScreenPoint=I.createScreenPointFromEvent(m);f._cursorUpdateHandler(m)}),this.view.on("pointer-up",
function(m){f._pointerDownEvent&&(f._cursorMoved?(f.vertices.pop(),f._cursorMoved=!1):(f._pointerDownEvent=null,f._vertexAddHandler(m)))}),this.view.on("drag",function(m){f._dragEnabled&&f._pointerDownEvent&&m.stopPropagation()}),this.view.on("drag",["Shift"],function(f){f.stopPropagation()}),this.view.on("double-click",function(m){m.stopPropagation();f._drawCompleteHandler(m)}),this.view.on("double-click",["Control"],function(m){m.stopPropagation();f._drawCompleteHandler(m)}),this.view.on("key-down",
function(m){m.key===k.KEYS.vertexAddKey&&!m.repeat&&f._cursorScreenPoint?(f._cursorMoved&&(f.vertices.pop(),f._cursorMoved=!1),f._vertexAddHandler(m)):m.key===k.KEYS.drawCompleteKey&&!m.repeat&&f._cursorScreenPoint?(f._cursorMoved&&(f.vertices.pop(),f._cursorMoved=!1),f._vertexAddHandler(m),f._drawCompleteHandler(m)):m.key!==k.KEYS.undoKey||m.repeat?m.key!==k.KEYS.redoKey||m.repeat||f.redo():f.undo()})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=
function(f,m){var k=this;this.vertices.push(f);var n=this.vertices.indexOf(f);this.history.push({vertex:f,vertexIndex:n,undo:function(){return k._undoVertexAdd(m,f,n)},redo:function(){return k._redoVertexAdd(m,f,n)}});this._set("redoHistory",[]);var t=new x.VertexAddEvent(this.view,m,n,this.vertices);this.emit("vertex-add",t);t.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};r.prototype._updateCursor=function(f,m){this.vertices.push(f);f=this.vertices.indexOf(f);m=new x.CursorUpdateEvent(this.view,
m,f,this.vertices);this.emit("cursor-update",m)};r.prototype._completeDrawing=function(f){this._cursorMoved=!1;this._pointerDownEvent=null;1>this.vertices.length||(f=new x.DrawCompleteEvent(f,this.vertices),this.emit("draw-complete",f),f.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles())};r.prototype._undoVertexAdd=function(f,m,k){this.vertices.splice(k,1);this.emit("undo",new x.VertexRemoveEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexAdd=function(f,m,k){this.vertices.splice(k,
0,m);this.emit("redo",new x.VertexAddEvent(this.view,f,k,this.vertices))};r.prototype._undoVertexRemove=function(f,m,k){this.vertices.splice(k,0,m);this.emit("undo",new x.VertexAddEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexRemove=function(f,m,k){this.vertices.splice(k,1);this.emit("redo",new x.VertexRemoveEvent(this.view,f,k,this.vertices))};r.prototype._undoVertexUpdate=function(f,m,k){this.vertices[k]=m;this.emit("undo",new x.VertexUpdateEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexUpdate=
function(f,m,k){this.vertices[k]=m;this.emit("redo",new x.VertexUpdateEvent(this.view,f,k,this.vertices))};r.prototype._vertexAddHandler=function(f){var m=this.getCoordsFromScreenPoint(this._cursorScreenPoint);E.isSome(m)&&this._addVertex(m,f.native)};r.prototype._cursorUpdateHandler=function(f){var m=this.getCoordsFromScreenPoint(this._cursorScreenPoint);E.isSome(m)&&this._updateCursor(m,f.native)};r.prototype._drawCompleteHandler=function(f){this._completeDrawing(f.native)};n([B.property({readOnly:!0})],
r.prototype,"vertices",void 0);n([B.property()],r.prototype,"view",void 0);return r=n([B.subclass("esri.views.draw.MultipointDrawAction")],r)}(B.declared(t,w,r))})},"esri/views/draw/DrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/accessorSupport/decorators".split(" "),function(H,F,D,n,w,r,v){return function(r){function w(){var n=null!==r&&r.apply(this,arguments)||this;n.history=
[];n.redoHistory=[];n.view=null;return n}D(w,r);w.prototype.canUndo=function(){return 0<this.history.length};w.prototype.canRedo=function(){return 0<this.redoHistory.length};w.prototype.undo=function(){if(this.canUndo()){var n=this.history.pop();n.undo();this.redoHistory.push(n)}};w.prototype.redo=function(){if(this.canRedo()){var n=this.redoHistory.pop();n.redo();this.history.push(n)}};w.prototype.getCoordsFromScreenPoint=function(n){return(n=this.view.toMap(n))?[n.x,n.y]:null};w.prototype.isDuplicateVertex=
function(n,t){if(n.length){n=n[n.length-1];var r=n[1];return n[0]===t[0]&&r===t[1]}return!1};n([v.property({readOnly:!0})],w.prototype,"history",void 0);n([v.property({readOnly:!0})],w.prototype,"redoHistory",void 0);n([v.property()],w.prototype,"view",void 0);return w=n([v.subclass("esri.views.draw.DrawAction")],w)}(v.declared(w,r))})},"esri/views/draw/input/DrawEvents":function(){define(["require","exports","../../../core/tsSupport/declareExtendsHelper"],function(H,F,D){Object.defineProperty(F,
"__esModule",{value:!0});H=function(){function n(n,r,v,D){this.view=n;this.native=r;this.vertexIndex=v;this.vertices=D;this.defaultPrevented=!1;this.type="vertex-add"}n.prototype.preventDefault=function(){this.defaultPrevented=!0};return n}();F.VertexAddEvent=H;H=function(){function n(n,r,v,D){this.view=n;this.native=r;this.vertexIndex=v;this.vertices=D;this.defaultPrevented=!1;this.type="vertex-update"}n.prototype.preventDefault=function(){this.defaultPrevented=!0};return n}();F.VertexUpdateEvent=
H;H=function(){function n(n,r,v,D){this.view=n;this.native=r;this.vertexIndex=v;this.vertices=D;this.defaultPrevented=!1;this.type="vertex-remove"}n.prototype.preventDefault=function(){this.defaultPrevented=!0};return n}();F.VertexRemoveEvent=H;H=function(){function n(n,r,v,D,F){void 0===F&&(F=null);this.view=n;this.native=r;this.vertexIndex=v;this.vertices=D;this.mapPoint=F;this.defaultPrevented=!1;this.type="cursor-update"}n.prototype.preventDefault=function(){this.defaultPrevented=!0};return n}();
F.CursorUpdateEvent=H;H=function(){function n(n,r){this.native=n;this.vertices=r;this.defaultPrevented=!1;this.type="draw-complete"}n.prototype.preventDefault=function(){this.defaultPrevented=!0};return n}();F.DrawCompleteEvent=H})},"esri/views/draw/input/Keys":function(){define(["require","exports"],function(H,F){Object.defineProperty(F,"__esModule",{value:!0});F.KEYS={drawCompleteKey:"c",redoKey:"r",undoKey:"z",vertexAddKey:"f",panKey:" "}})},"esri/views/draw/PointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/Keys ../input/recognizers/PointerClickHoldAndDrag".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k){var M=function(){function f(f,k,n){this.view=f;this.native=k;this.coordinates=n;this.defaultPrevented=!1;this.type="cursor-update"}f.prototype.preventDefault=function(){this.defaultPrevented=!0};return f}(),C=function(){function f(f,k){this.native=f;this.coordinates=k;this.defaultPrevented=!1;this.type="draw-complete"}f.prototype.preventDefault=function(){this.defaultPrevented=!0};return f}();return function(f){function m(m){m=f.call(this,m)||this;m._clickDelay=
k.DefaultParameters.maximumClickDelay;m._cursorMoved=!1;m._cursorScreenPoint=null;m._pointerDownEvent=null;m._viewHandles=new v;m.coordinates=[];m.view=null;return m}D(m,f);m.prototype.initialize=function(){this._addViewHandles()};m.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};m.prototype.complete=function(){if(this._cursorScreenPoint){var f=this.getCoordsFromScreenPoint(this._cursorScreenPoint);E.isSome(f)&&(this._set("coordinates",f),this._completeDrawing())}};
m.prototype._addViewHandles=function(){var f=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(m){m.stopPropagation();var k=f.getCoordsFromScreenPoint(m.screenPoint);E.isSome(k)&&(f._set("coordinates",k),f._drawCompleteHandler(m))}),this.view.on("pointer-down",function(m){f._pointerDownEvent=m;f._cursorMoved=!1}),this.view.on("pointer-move",function(m){f._cursorMoved=!0;f._cursorScreenPoint=I.createScreenPointFromEvent(m);f._cursorUpdateHandler(m)}),this.view.on("pointer-up",
function(m){if(f._pointerDownEvent&&!f._cursorMoved&&m.timestamp-f._pointerDownEvent.timestamp>f._clickDelay){f._cursorScreenPoint=I.createScreenPointFromEvent(m);var k=f.getCoordsFromScreenPoint(f._cursorScreenPoint);E.isSome(k)&&(f._set("coordinates",k),f._drawCompleteHandler(m))}}),this.view.on("key-down",function(m){if(m.key===x.KEYS.drawCompleteKey&&f._cursorScreenPoint){var k=f.getCoordsFromScreenPoint(f._cursorScreenPoint);E.isSome(k)&&(f._set("coordinates",k),f._drawCompleteHandler(m))}})])};
m.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};m.prototype._updateCursor=function(f,m){this.emit("cursor-update",new M(this.view,m,f))};m.prototype._completeDrawing=function(f){this._cursorMoved=!1;this._pointerDownEvent=null;f=new C(f,this.coordinates);this.emit("draw-complete",f);f.defaultPrevented||this._removeViewHandles()};m.prototype._cursorUpdateHandler=function(f){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),f.native)};m.prototype._drawCompleteHandler=
function(f){this._completeDrawing(f.native)};n([B.property({readOnly:!0})],m.prototype,"coordinates",void 0);n([B.property()],m.prototype,"view",void 0);return m=n([B.subclass("esri.views.draw.PointDrawAction")],m)}(B.declared(t,w,r))})},"esri/views/draw/PolygonDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k){return function(t){function r(f){f=t.call(this,f)||this;f._cursorScreenPoint=null;f._panEnabled=!1;f._cursorVertexAdded=!1;f._popVertexOnPointerMove=!1;f._addVertexOnPointerUp=!1;f._activePointerId=null;f._viewHandles=new v;f.mode="hybrid";f.vertices=[];f.view=null;return f}D(r,t);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(r.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});r.prototype.addVertex=function(f,m){var k=this;this.vertices.splice(m,0,f);this.history.push({vertex:f,vertexIndex:m,undo:function(){return k._undoVertexAdd(null,f,m)},redo:function(){return k._redoVertexAdd(null,f,m)}});this._set("redoHistory",
[]);var n=new x.VertexAddEvent(this.view,null,m,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};r.prototype.removeVertex=function(f){var m=this,k=this.vertices.splice(f,1)[0];this.history.push({vertex:k,vertexIndex:f,undo:function(){return m._undoVertexRemove(null,k,f)},redo:function(){return m._redoVertexRemove(null,k,f)}});this._set("redoHistory",[]);this.emit("vertex-remove",new x.VertexRemoveEvent(this.view,null,f,this.vertices))};
r.prototype.updateVertex=function(f,m){var k=this,n=this.vertices[m];this.vertices[m]=f;this.history.push({vertex:f,vertexIndex:m,undo:function(){return k._undoVertexUpdate(null,n,m)},redo:function(){return k._redoVertexUpdate(null,f,m)}});this._set("redoHistory",[]);this.emit("vertex-update",new x.VertexUpdateEvent(this.view,null,m,this.vertices))};r.prototype.complete=function(){this._completeDrawing()};r.prototype._addViewHandles=function(){var f=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(f){f.stopPropagation()}),this.view.on("pointer-down",function(m){f._shouldHandlePointerEvent(m)&&!f._panEnabled&&(f._activePointerId=m.pointerId,f._addVertexOnPointerUp=!0,f._cursorScreenPoint=I.createScreenPointFromEvent(m),"touch"===m.pointerType&&f._updateCursor(m.native))}),this.view.on("pointer-move",function(m){f._popVertexOnPointerMove&&(f.vertices.pop(),f._popVertexOnPointerMove=!1);f._cursorScreenPoint=I.createScreenPointFromEvent(m);E.isNone(f._activePointerId)&&"touch"!==m.pointerType&&
f._updateCursor(m.native)}),this.view.on("pointer-drag",function(m){f._shouldHandlePointerEvent(m)&&(f._cursorScreenPoint=I.createScreenPointFromEvent(m),f._dragEnabled?f._vertexAddHandler(m):f._addVertexOnPointerUp=!1)}),this.view.on("pointer-up",function(m){f._shouldHandlePointerEvent(m)&&(f._activePointerId=null,f._addVertexOnPointerUp?f._clickEnabled?f._vertexAddHandler(m):(1===f.vertices.length&&f.vertices.pop(),f._drawCompleteHandler(m)):f._updateCursor(m.native,"touch"===m.pointerType))}),
this.view.on("drag",function(m){f._dragEnabled&&E.isSome(f._activePointerId)&&!f._panEnabled&&m.stopPropagation()}),this.view.on("drag",["Shift"],function(f){f.stopPropagation()}),this.view.on("double-click",function(m){m.stopPropagation();f._drawCompleteHandler(m)}),this.view.on("double-click",["Control"],function(m){m.stopPropagation();f._drawCompleteHandler(m)}),this.view.on("key-down",function(m){var n=m.key,t=m.repeat;n===k.KEYS.vertexAddKey&&!t&&f._cursorScreenPoint?f._vertexAddHandler(m):n===
k.KEYS.drawCompleteKey&&!t&&f._cursorScreenPoint&&2<f.vertices.length?(f._vertexAddHandler(m),f._drawCompleteHandler(m)):n!==k.KEYS.undoKey||t?n!==k.KEYS.redoKey||t?n!==k.KEYS.panKey||t||(f._panEnabled=!0):f.redo():f.undo()}),this.view.on("key-up",function(m){m.key===k.KEYS.panKey&&(f._panEnabled=!1)})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=function(f,m){var k=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,f)){var n=
this.vertices.length;this.vertices.push(f);this.history.push({vertex:f,vertexIndex:n,undo:function(){return k._undoVertexAdd(m,f,n)},redo:function(){return k._redoVertexAdd(m,f,n)}});this._set("redoHistory",[]);var t=new x.VertexAddEvent(this.view,m,n,this.vertices);this.emit("vertex-add",t);t.defaultPrevented&&this.history.pop()}};r.prototype._updateCursor=function(f,m){void 0===m&&(m=!1);this._popCursorVertex();var k=this.view.toMap(this._cursorScreenPoint),n=null;k&&!m&&(n=this._pushCursorVertex([k.x,
k.y]));f=new x.CursorUpdateEvent(this.view,f,n,this.vertices,k);this.emit("cursor-update",f)};r.prototype._completeDrawing=function(f){this._activePointerId=null;this._popCursorVertex();3>this.vertices.length||(f=new x.DrawCompleteEvent(f,this.vertices),this.emit("draw-complete",f),f.defaultPrevented||this._removeViewHandles())};r.prototype._undoVertexAdd=function(f,m,k){this.vertices.splice(k,1);this.emit("undo",new x.VertexRemoveEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexAdd=function(f,
m,k){this.vertices.splice(k,0,m);this.emit("redo",new x.VertexAddEvent(this.view,f,k,this.vertices))};r.prototype._undoVertexRemove=function(f,m,k){this.vertices.splice(k,0,m);this.emit("undo",new x.VertexAddEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexRemove=function(f,m,k){this.vertices.splice(k,1);this.emit("redo",new x.VertexRemoveEvent(this.view,f,k,this.vertices))};r.prototype._undoVertexUpdate=function(f,m,k){this.vertices[k]=m;this.emit("undo",new x.VertexUpdateEvent(this.view,
f,k,this.vertices))};r.prototype._redoVertexUpdate=function(f,m,k){this.vertices[k]=m;this.emit("redo",new x.VertexUpdateEvent(this.view,f,k,this.vertices))};r.prototype._pushCursorVertex=function(f){this._popCursorVertex();this.vertices.push(f);this._cursorVertexAdded=!0;return this.vertices.length-1};r.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};r.prototype._shouldHandlePointerEvent=function(f){return("mouse"!==f.pointerType||
0===f.button)&&(E.isNone(this._activePointerId)||this._activePointerId===f.pointerId)};r.prototype._vertexAddHandler=function(f){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],f.native);else{var m=this.getCoordsFromScreenPoint(this._cursorScreenPoint);E.isSome(m)&&this._addVertex(m,f.native)}};r.prototype._drawCompleteHandler=function(f){this._completeDrawing(f.native)};n([B.property({dependsOn:["mode"]})],r.prototype,"_clickEnabled",null);n([B.property({dependsOn:["mode"]})],
r.prototype,"_dragEnabled",null);n([B.property({cast:function(f){return-1===["hybrid","freehand","click"].indexOf(f)?"hybrid":f}})],r.prototype,"mode",void 0);n([B.property({readOnly:!0})],r.prototype,"vertices",void 0);n([B.property()],r.prototype,"view",void 0);return r=n([B.subclass("esri.views.draw.PolygonDrawAction")],r)}(B.declared(t,w,r))})},"esri/views/draw/PolylineDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k){return function(t){function r(f){f=t.call(this,f)||this;f._cursorScreenPoint=null;f._panEnabled=!1;f._cursorVertexAdded=!1;f._popVertexOnPointerMove=!1;f._addVertexOnPointerUp=!1;f._activePointerId=null;f._viewHandles=new v;f.mode="hybrid";f.vertices=[];f.view=null;return f}D(r,t);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(r.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});r.prototype.addVertex=function(f,m){var k=this;this.vertices.splice(m,0,f);this.history.push({vertex:f,vertexIndex:m,undo:function(){return k._undoVertexAdd(null,f,m)},redo:function(){return k._redoVertexAdd(null,f,m)}});this._set("redoHistory",
[]);var n=new x.VertexAddEvent(this.view,null,m,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};r.prototype.removeVertex=function(f){var m=this,k=this.vertices.splice(f,1)[0];this.history.push({vertex:k,vertexIndex:f,undo:function(){return m._undoVertexRemove(null,k,f)},redo:function(){return m._redoVertexRemove(null,k,f)}});this._set("redoHistory",[]);this.emit("vertex-remove",new x.VertexRemoveEvent(this.view,null,f,this.vertices))};
r.prototype.updateVertex=function(f,m){var k=this,n=this.vertices[m];this.vertices[m]=f;this.history.push({vertex:f,vertexIndex:m,undo:function(){return k._undoVertexUpdate(null,n,m)},redo:function(){return k._redoVertexUpdate(null,f,m)}});this._set("redoHistory",[]);this.emit("vertex-update",new x.VertexUpdateEvent(this.view,null,m,this.vertices))};r.prototype.complete=function(){this._completeDrawing()};r.prototype._addViewHandles=function(){var f=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(f){f.stopPropagation()}),this.view.on("pointer-down",function(m){f._shouldHandlePointerEvent(m)&&!f._panEnabled&&(f._activePointerId=m.pointerId,f._addVertexOnPointerUp=!0,f._cursorScreenPoint=I.createScreenPointFromEvent(m),"touch"===m.pointerType&&f._updateCursor(m.native))}),this.view.on("pointer-move",function(m){f._popVertexOnPointerMove&&(f.vertices.pop(),f._popVertexOnPointerMove=!1);f._cursorScreenPoint=I.createScreenPointFromEvent(m);E.isNone(f._activePointerId)&&"touch"!==m.pointerType&&
f._updateCursor(m.native)}),this.view.on("pointer-drag",function(m){f._shouldHandlePointerEvent(m)&&(f._cursorScreenPoint=I.createScreenPointFromEvent(m),f._dragEnabled?f._vertexAddHandler(m):f._addVertexOnPointerUp=!1)}),this.view.on("pointer-up",function(m){f._shouldHandlePointerEvent(m)&&(f._activePointerId=null,f._addVertexOnPointerUp?f._clickEnabled?f._vertexAddHandler(m):(1===f.vertices.length&&f.vertices.pop(),f._drawCompleteHandler(m)):f._updateCursor(m.native,"touch"===m.pointerType))}),
this.view.on("drag",function(m){f._dragEnabled&&E.isSome(f._activePointerId)&&!f._panEnabled&&m.stopPropagation()}),this.view.on("drag",["Shift"],function(f){f.stopPropagation()}),this.view.on("double-click",function(m){m.stopPropagation();f._drawCompleteHandler(m)}),this.view.on("double-click",["Control"],function(m){m.stopPropagation();f._drawCompleteHandler(m)}),this.view.on("key-down",function(m){var n=m.key,t=m.repeat;n===k.KEYS.vertexAddKey&&!t&&f._cursorScreenPoint?f._vertexAddHandler(m):n===
k.KEYS.drawCompleteKey&&!t&&f._cursorScreenPoint&&1<f.vertices.length?(f._vertexAddHandler(m),f._drawCompleteHandler(m)):n!==k.KEYS.undoKey||t?n!==k.KEYS.redoKey||t?n!==k.KEYS.panKey||t||(f._panEnabled=!0):f.redo():f.undo()}),this.view.on("key-up",function(m){m.key===k.KEYS.panKey&&(f._panEnabled=!1)})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=function(f,m){var k=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,f)){this.vertices.push(f);
var n=this.vertices.length-1;this.history.push({vertex:f,vertexIndex:n,undo:function(){return k._undoVertexAdd(m,f,n)},redo:function(){return k._redoVertexAdd(m,f,n)}});this._set("redoHistory",[]);var t=new x.VertexAddEvent(this.view,m,n,this.vertices);this.emit("vertex-add",t);t.defaultPrevented&&this.history.pop()}};r.prototype._updateCursor=function(f,m){void 0===m&&(m=!1);this._popCursorVertex();var k=this.view.toMap(this._cursorScreenPoint),n=null;k&&!m&&(n=this._pushCursorVertex([k.x,k.y]));
f=new x.CursorUpdateEvent(this.view,f,n,this.vertices,k);this.emit("cursor-update",f)};r.prototype._completeDrawing=function(f){this._activePointerId=null;this._popCursorVertex();2>this.vertices.length||(f=new x.DrawCompleteEvent(f,this.vertices),this.emit("draw-complete",f),f.defaultPrevented||this._removeViewHandles())};r.prototype._undoVertexAdd=function(f,m,k){this.vertices.splice(k,1);this.emit("undo",new x.VertexRemoveEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexAdd=function(f,
m,k){this.vertices.splice(k,0,m);this.emit("redo",new x.VertexAddEvent(this.view,f,k,this.vertices))};r.prototype._undoVertexRemove=function(f,m,k){this.vertices.splice(k,0,m);this.emit("undo",new x.VertexAddEvent(this.view,f,k,this.vertices))};r.prototype._redoVertexRemove=function(f,m,k){this.vertices.splice(k,1);this.emit("redo",new x.VertexRemoveEvent(this.view,f,k,this.vertices))};r.prototype._undoVertexUpdate=function(f,m,k){this.vertices[k]=m;this.emit("undo",new x.VertexUpdateEvent(this.view,
f,k,this.vertices))};r.prototype._redoVertexUpdate=function(f,m,k){this.vertices[k]=m;this.emit("redo",new x.VertexUpdateEvent(this.view,f,k,this.vertices))};r.prototype._pushCursorVertex=function(f){this._popCursorVertex();this.vertices.push(f);this._cursorVertexAdded=!0;return this.vertices.length-1};r.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};r.prototype._shouldHandlePointerEvent=function(f){return("mouse"!==f.pointerType||
0===f.button)&&(E.isNone(this._activePointerId)||this._activePointerId===f.pointerId)};r.prototype._vertexAddHandler=function(f){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],f.native);else{var m=this.getCoordsFromScreenPoint(this._cursorScreenPoint);E.isSome(m)&&this._addVertex(m,f.native)}};r.prototype._drawCompleteHandler=function(f){this._completeDrawing(f.native)};n([B.property({dependsOn:["mode"]})],r.prototype,"_clickEnabled",null);n([B.property({dependsOn:["mode"]})],
r.prototype,"_dragEnabled",null);n([B.property({cast:function(f){return-1===["hybrid","freehand","click"].indexOf(f)?"hybrid":f}})],r.prototype,"mode",void 0);n([B.property({readOnly:!0})],r.prototype,"vertices",void 0);n([B.property()],r.prototype,"view",void 0);return r=n([B.subclass("esri.views.draw.PolylineDrawAction")],r)}(B.declared(t,w,r))})},"esri/views/draw/SegmentDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k){return function(t){function r(f){f=t.call(this,f)||this;f._cursorMoved=!1;f._isDragging=!1;f._cursorScreenPoint=null;f._pointerDownEvent=null;f._viewHandles=new v;f.mode="freehand";f.vertices=[];f.view=null;return f}D(r,t);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};r.prototype.complete=function(){this._completeDrawing()};r.prototype._addViewHandles=
function(){this._removeViewHandles();"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())};r.prototype._getDragModeViewHandles=function(){var f=this;return[this.view.on("click",function(m){m.stopPropagation();m.mapPoint&&(f._set("vertices",[[m.mapPoint.x,m.mapPoint.y]]),f._drawCompleteHandler(m))}),this.view.on("pointer-down",function(m){f._pointerDownEvent=m;f._cursorMoved=!1;f._cursorScreenPoint=I.createScreenPointFromEvent(m);
f._set("vertices",[]);f._vertexAddHandler(m)}),this.view.on("pointer-move",function(m){f._cursorMoved&&f.vertices.pop();f._cursorMoved=!0;f._cursorScreenPoint=I.createScreenPointFromEvent(m);f._cursorUpdateHandler(m)}),this.view.on("pointer-up",function(m){f._cursorMoved?(f._vertexAddHandler(m),f._drawCompleteHandler(m)):(f.vertices.pop(),f._pointerDownEvent=null)}),this.view.on("key-down",function(m){m.key===k.KEYS.drawCompleteKey&&f._cursorScreenPoint&&f._drawCompleteHandler(m)}),this.view.on("drag",
function(m){f._pointerDownEvent&&m.stopPropagation()}),this.view.on("drag",["Shift"],function(f){f.stopPropagation()})]};r.prototype._getClickModeViewHandles=function(){var f=this;return[this.view.on("click",function(f){f.stopPropagation()}),this.view.on("pointer-down",function(m){f._pointerDownEvent=m;f._isDragging=!1;f._cursorMoved=!1;f._cursorScreenPoint=I.createScreenPointFromEvent(m)}),this.view.on("pointer-move",function(m){f._isDragging||(f._cursorMoved&&f.vertices.pop(),f._cursorMoved=!0,
f._cursorScreenPoint=I.createScreenPointFromEvent(m),f._cursorUpdateHandler(m))}),this.view.on("pointer-up",function(m){f.vertices.pop();f._cursorMoved||f._isDragging||f._vertexAddHandler(m);2!==f.vertices.length||f._isDragging||f._drawCompleteHandler(m);f._isDragging=!1;f._cursorMoved=!1}),this.view.on("key-down",function(m){m.key===k.KEYS.vertexAddKey&&f._cursorScreenPoint&&(f._cursorMoved&&(f._isDragging=!1,f._cursorMoved=!1,f.vertices.pop()),f._vertexAddHandler(m),2===f.vertices.length&&f._drawCompleteHandler(m));
m.key===k.KEYS.drawCompleteKey&&f._cursorScreenPoint&&2===f.vertices.length&&f._drawCompleteHandler(m)}),this.view.on("drag",function(m){f._isDragging=!0;f._cursorMoved&&f.vertices.pop();f._cursorMoved=!1})]};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=function(f,m){this.isDuplicateVertex(this.vertices,f)?this._cursorMoved=!1:(this.vertices.push(f),f=this.vertices.indexOf(f),m=new x.VertexAddEvent(this.view,m,f,this.vertices),this.emit("vertex-add",
m),m.defaultPrevented&&(this._cursorMoved=!0))};r.prototype._updateCursor=function(f,m){var k=null;if(E.isSome(f)){if(this.isDuplicateVertex(this.vertices,f)){this._cursorMoved=!1;return}this.vertices.push(f);k=this.vertices.indexOf(f)}else this.vertices.push([0,0]);f=new x.CursorUpdateEvent(this.view,m,k,this.vertices);this.emit("cursor-update",f)};r.prototype._completeDrawing=function(f){this._isDragging=this._cursorMoved=!1;this._cursorScreenPoint=this._pointerDownEvent=null;f=new x.DrawCompleteEvent(f,
this.vertices);this.emit("draw-complete",f);f.defaultPrevented||this._removeViewHandles()};r.prototype._vertexAddHandler=function(f){var m=this.getCoordsFromScreenPoint(this._cursorScreenPoint);E.isSome(m)&&this._addVertex(m,f.native)};r.prototype._cursorUpdateHandler=function(f){var m=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(m,f.native)};r.prototype._drawCompleteHandler=function(f){this._completeDrawing(f.native)};n([B.property({cast:function(f){return-1===["freehand",
"click"].indexOf(f)?"freehand":f}})],r.prototype,"mode",void 0);n([B.property({readOnly:!0})],r.prototype,"vertices",void 0);n([B.property()],r.prototype,"view",void 0);return r=n([B.subclass("esri/views/2d/engine/markup/SegmentDrawAction")],r)}(B.declared(t,w,r))})},"esri/views/draw/support/createUtils":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../geometry ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x,k,M,C,f){function m(f,m){return{x:f,y:m}}function G(m,k,p,n){void 0===n&&(n=!0);m=m.map(function(f){return Array.apply([],f)});m.forEach(function(f,p){f[0][0]===f[f.length-1][0]&&f[0][1]===f[f.length-1][1]||f.push(f[0])});var t=new w.Polygon({rings:m,spatialReference:k});t.rings.forEach(function(f){t.isClockwise(f)||f.reverse()});p&&C.unnormalizeGeometryOnDatelineCrossing(t);n&&t.isSelfIntersecting&&f.isValid(k)&&(t=M.simplify(t));return t}Object.defineProperty(F,
"__esModule",{value:!0});F.makeMapPoint=function(f,m){return[f,m]};F.makeSurfacePoint=m;H=function(){function f(f){this.spatialReference=f}f.prototype.mapToLocalMultiple=function(f){var p=this;return f.map(function(f){return p.mapToLocal(f)})};Object.defineProperty(f.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!0,configurable:!0});return f}();var L=function(f){function k(p,m){m=f.call(this,m)||this;m.transform=E.mat2df64.create();m.transformInv=E.mat2df64.create();m.transform=
E.mat2df64.clone(p);v.mat2d.invert(m.transformInv,m.transform);return m}D(k,f);k.prototype.mapToLocal=function(f){return m(this.transform[0]*f[0]+this.transform[2]*f[1]+this.transform[4],this.transform[1]*f[0]+this.transform[3]*f[1]+this.transform[5])};k.prototype.localToMap=function(f){return[this.transformInv[0]*f.x+this.transformInv[2]*f.y+this.transformInv[4],this.transformInv[1]*f.x+this.transformInv[3]*f.y+this.transformInv[5]]};return k}(H);F.AffineCoordinateSystem=L;var O=function(f){function k(p,
m){var k=f.call(this,p.spatialReference)||this;k.view=p;k.pWS=x.vec3f64.create();k.tangentFrameUpWS=x.vec3f64.create();k.tangentFrameRightWS=x.vec3f64.create();k.tangentFrameForwardWS=x.vec3f64.create();k.localFrameRightWS=x.vec3f64.create();k.localFrameUpWS=x.vec3f64.create();k.worldToLocalTransform=B.quatf64.create();k.localToWorldTransform=B.quatf64.create();k.scale=1;k.scale=p.resolution;k.pMS=m;p=p.state.camera.viewRight;k.view.renderCoordsHelper.toRenderCoords(k.pMS,k.pWS);k.view.renderCoordsHelper.worldBasisAtPosition(k.pWS,
0,k.tangentFrameRightWS);k.view.renderCoordsHelper.worldBasisAtPosition(k.pWS,1,k.tangentFrameUpWS);k.view.renderCoordsHelper.worldBasisAtPosition(k.pWS,2,k.tangentFrameForwardWS);m=x.vec3f64.create();t.vec3.scale(m,k.tangentFrameForwardWS,t.vec3.dot(p,k.tangentFrameForwardWS));t.vec3.subtract(k.localFrameRightWS,p,m);t.vec3.normalize(k.localFrameRightWS,k.localFrameRightWS);t.vec3.cross(k.localFrameUpWS,k.tangentFrameForwardWS,k.localFrameRightWS);I.quat.rotationTo(k.worldToLocalTransform,k.localFrameRightWS,
k.tangentFrameRightWS);I.quat.invert(k.localToWorldTransform,k.worldToLocalTransform);return k}D(k,f);Object.defineProperty(k.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!0,configurable:!0});k.prototype.mapToLocal=function(f){var p=x.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new w.Point({x:f[0],y:f[1],spatialReference:this.spatialReference}),p);t.vec3.transformQuat(p,p,this.worldToLocalTransform);f=this.view.renderCoordsHelper.fromRenderCoords(p,
this.view.spatialReference);return m(f.x/this.scale,f.y/this.scale)};k.prototype.localToMap=function(f){var p=x.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new w.Point({x:f.x*this.scale,y:f.y*this.scale,spatialReference:this.spatialReference}),p);t.vec3.transformQuat(p,p,this.localToWorldTransform);f=this.view.renderCoordsHelper.fromRenderCoords(p,this.view.spatialReference);return[f.x,f.y]};return k}(H);F.SceneViewCoordinateSystem=O;F.createViewAlignedCoordinateSystem=function(f,
m){return"2d"===f.type?new L(f.state.transform,f.spatialReference):"3d"===f.type?new O(f,new w.Point({x:m[0],y:m[1],spatialReference:f.spatialReference})):null};F.createPoint=function(f,m){return new w.Point({x:f[0],y:f[1],spatialReference:m})};F.createMultipoint=function(f,m){return new w.Multipoint({points:f,spatialReference:m})};F.createPolyline=function(f,m,p){f=new w.Polyline({paths:f,spatialReference:m});p&&C.unnormalizeGeometryOnDatelineCrossing(f);return f};F.createPolygon=G;F.createTriangleMS=
function(f,k,p,n){var t=k.mapToLocalMultiple(f);f=t[0];var r=t[1],z=Math.round(r.x-f.x),x=Math.round(r.y-f.y),v=t=null,w=null;p&&n?(p=Math.sqrt(z*z+x*x),t=m(-.8660254037844386*p+f.x,.5*p+f.y),v=m(.8660254037844386*p+f.x,.5*p+f.y),w=m(f.x,f.y-p)):p?(t=m(0<x?r.x:f.x,f.y+x),v=m(f.x-z,0<x?r.y:f.y-x),w=m(0<x?f.x:r.x,f.y-x)):n?(p=Math.max(Math.abs(z),Math.abs(x)),n=p*Math.sqrt(3)/2,t=m(f.x,0<x?f.y+p:f.y),v=m(0<z?f.x+p:f.x-p,0<x?f.y+p:f.y),w=m(0<z?f.x+p/2:f.x-p/2,0<x?f.y+p-n:f.y-n)):(t=m(0<x?f.x+z/2:r.x,
f.y),v=m(0<x?f.x:f.x+z/2,r.y),w=m(0<x?r.x:f.x,0<x?r.y:f.y));return G([[t,w,v].map(function(f){return k.localToMap(f)})],k.spatialReference,k.doUnnormalization,!0)};F.createSquare=function(f,k,p){var n=k.mapToLocalMultiple(f);f=[];var t=n[0].x,r=n[0].y,x=Math.round(n[1].x-t),v=Math.round(n[1].y-r),n=Math.max(Math.abs(x),Math.abs(v));p?(p=t+n,x=r+n,t-=n,r-=n,f.push(m(p,r),m(t,r),m(t,x),m(p,x))):(p=0<x?t+n:t-n,n=0<v?r+n:r-n,f.push(m(t,r),m(p,r),m(p,n),m(t,n)));return G([f.map(function(f){return k.localToMap(f)})],
k.spatialReference,k.doUnnormalization,!0)};F.createRectangle=function(f,k,p){var n=k.mapToLocalMultiple(f);1===n.length&&(f=n[0],n=[m(f.x-48,f.y+48),m(f.x+48,f.y-48),m(f.x+48,f.y-48),m(f.x-48,f.y+48)]);f=[];var t=n[0].x,r=n[0].y,x=n[1].x,n=n[1].y;if(p){p=Math.round(x-t);var v=Math.round(n-r);f.push(m(t-p,r-v),m(x,r-v),m(x,n),m(t-p,n))}else f.push(m(t,r),m(x,r),m(x,n),m(t,n));return G([f.map(function(f){return k.localToMap(f)})],k.spatialReference,k.doUnnormalization,!0)};F.createCircle=function(f,
n,p){var t=n.mapToLocalMultiple(f),x=f=null;p?(f=t[0],x=t[1]):(f=t[0],t=t[1],p=Math.round(t.x-f.x),t=Math.round(t.y-f.y),x=Math.max(Math.abs(p),Math.abs(t)),f=m(0<p?f.x+x/2:f.x-x/2,0<t?f.y+x/2:f.y-x/2),x=m(Math.abs(p)>Math.abs(t)?f.x-x/2:f.x,Math.abs(p)>Math.abs(t)?f.y:f.y-x/2));f=n.localToMap(f);p=n.localToMap(x);n.doUnnormalization&&C.unnormalizeVerticesOnDatelineCrossing([[f,p]],n.spatialReference);f=new w.Point({x:f[0],y:f[1],spatialReference:n.spatialReference});p=new w.Point({x:p[0],y:p[1],
spatialReference:n.spatialReference});p=r.getMetersPerUnitForSR(n.spatialReference)*M.distance(f,p,null);return new k({center:f,radius:p,radiusUnit:"meters",spatialReference:n.spatialReference})};F.createEllipse=function(f,k,p){var n=k.mapToLocalMultiple(f);f=n[0];var t=n[1],n=Math.round(t.x-f.x),t=Math.round(t.y-f.y);f=m(p?f.x:f.x+n/2,p?f.y:f.y+t/2);n=p?n:n/2;p=p?t:t/2;for(var t=[],r=2*Math.PI/60,x=0;60>x;x++){var v=m(n*Math.cos(x*r)+f.x,p*Math.sin(x*r)+f.y);t.push(v)}t.push(t[0]);return G([t.map(function(f){return k.localToMap(f)})],
k.spatialReference,k.doUnnormalization,!1)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(H,F,D){Object.defineProperty(F,"__esModule",{value:!0});F.quat=D})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(H,F,D,n,w,r,v,E){function I(f,k,m){m*=.5;var n=Math.sin(m);f[0]=n*k[0];f[1]=n*k[1];f[2]=n*k[2];f[3]=Math.cos(m);
return f}function B(f,k,m){var n=k[0],p=k[1],t=k[2];k=k[3];var r=m[0],x=m[1],v=m[2];m=m[3];f[0]=n*m+k*r+p*v-t*x;f[1]=p*m+k*x+t*r-n*v;f[2]=t*m+k*v+n*x-p*r;f[3]=k*m-n*r-p*x-t*v;return f}function t(f,k,m,n){var p=k[0],t=k[1],x=k[2];k=k[3];var v=m[0],w=m[1],C=m[2];m=m[3];var B,D,E;D=p*v+t*w+x*C+k*m;0>D&&(D=-D,v=-v,w=-w,C=-C,m=-m);1-D>r.EPSILON?(B=Math.acos(D),E=Math.sin(B),D=Math.sin((1-n)*B)/E,n=Math.sin(n*B)/E):D=1-n;f[0]=D*p+n*v;f[1]=D*t+n*w;f[2]=D*x+n*C;f[3]=D*k+n*m;return f}function x(f,k){var m=
k[0]+k[4]+k[8];if(0<m)m=Math.sqrt(m+1),f[3]=.5*m,m=.5/m,f[0]=(k[5]-k[7])*m,f[1]=(k[6]-k[2])*m,f[2]=(k[1]-k[3])*m;else{var n=0;k[4]>k[0]&&(n=1);k[8]>k[3*n+n]&&(n=2);var p=(n+1)%3,t=(n+2)%3,m=Math.sqrt(k[3*n+n]-k[3*p+p]-k[3*t+t]+1);f[n]=.5*m;m=.5/m;f[3]=(k[3*p+t]-k[3*t+p])*m;f[p]=(k[3*p+n]+k[3*n+p])*m;f[t]=(k[3*t+n]+k[3*n+t])*m}return f}Object.defineProperty(F,"__esModule",{value:!0});F.identity=function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f};F.setAxisAngle=I;F.getAxisAngle=function(f,k){var m=2*
Math.acos(k[3]),n=Math.sin(m/2);n>r.EPSILON?(f[0]=k[0]/n,f[1]=k[1]/n,f[2]=k[2]/n):(f[0]=1,f[1]=0,f[2]=0);return m};F.multiply=B;F.rotateX=function(f,k,m){m*=.5;var n=k[0],p=k[1],t=k[2];k=k[3];var r=Math.sin(m);m=Math.cos(m);f[0]=n*m+k*r;f[1]=p*m+t*r;f[2]=t*m-p*r;f[3]=k*m-n*r;return f};F.rotateY=function(f,k,m){m*=.5;var n=k[0],p=k[1],t=k[2];k=k[3];var r=Math.sin(m);m=Math.cos(m);f[0]=n*m-t*r;f[1]=p*m+k*r;f[2]=t*m+n*r;f[3]=k*m-p*r;return f};F.rotateZ=function(f,k,m){m*=.5;var n=k[0],p=k[1],t=k[2];
k=k[3];var r=Math.sin(m);m=Math.cos(m);f[0]=n*m+p*r;f[1]=p*m-n*r;f[2]=t*m+k*r;f[3]=k*m-t*r;return f};F.calculateW=function(f,k){var m=k[0],n=k[1];k=k[2];f[0]=m;f[1]=n;f[2]=k;f[3]=Math.sqrt(Math.abs(1-m*m-n*n-k*k));return f};F.slerp=t;F.random=function(f){var k=r.RANDOM(),m=r.RANDOM(),n=r.RANDOM(),p=Math.sqrt(1-k),k=Math.sqrt(k);f[0]=p*Math.sin(2*Math.PI*m);f[1]=p*Math.cos(2*Math.PI*m);f[2]=k*Math.sin(2*Math.PI*n);f[3]=k*Math.cos(2*Math.PI*n);return f};F.invert=function(f,k){var m=k[0],n=k[1],p=k[2];
k=k[3];var t=m*m+n*n+p*p+k*k,t=t?1/t:0;f[0]=-m*t;f[1]=-n*t;f[2]=-p*t;f[3]=k*t;return f};F.conjugate=function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f};F.fromMat3=x;F.fromEuler=function(f,k,m,n){var p=.5*Math.PI/180;k*=p;m*=p;n*=p;p=Math.sin(k);k=Math.cos(k);var t=Math.sin(m);m=Math.cos(m);var r=Math.sin(n);n=Math.cos(n);f[0]=p*m*n-k*t*r;f[1]=k*t*n+p*m*r;f[2]=k*m*r-p*t*n;f[3]=k*m*n+p*t*r;return f};F.str=function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"};F.copy=E.copy;
F.set=E.set;F.add=E.add;F.mul=B;F.scale=E.scale;F.dot=E.dot;F.lerp=E.lerp;F.length=E.length;F.len=F.length;F.squaredLength=E.squaredLength;F.sqrLen=F.squaredLength;F.normalize=E.normalize;F.exactEquals=E.exactEquals;F.equals=E.equals;F.rotationTo=function(f,m,n){var t=v.dot(m,n);if(-.999999>t)return v.cross(k,M,m),1E-6>v.len(k)&&v.cross(k,C,m),v.normalize(k,k),I(f,k,Math.PI),f;if(.999999<t)return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f;v.cross(k,m,n);f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=1+t;return F.normalize(f,
f)};var k=w.create(),M=w.fromValues(1,0,0),C=w.fromValues(0,1,0);F.sqlerp=function(k,n,r,x,p,z){t(f,n,p,z);t(m,r,x,z);t(k,f,m,2*z*(1-z));return k};var f=n.create(),m=n.create();F.setAxes=function(f,k,m,n){var p=G;p[0]=m[0];p[3]=m[1];p[6]=m[2];p[1]=n[0];p[4]=n[1];p[7]=n[2];p[2]=-k[0];p[5]=-k[1];p[8]=-k[2];return F.normalize(f,x(f,p))};var G=D.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(H,F){Object.defineProperty(F,"__esModule",{value:!0});
F.create=function(){return[1,0,0,0,1,0,0,0,1]};F.clone=function(D){return[D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],D[8]]};F.fromValues=function(D,n,w,r,v,E,F,B,t){return[D,n,w,r,v,E,F,B,t]};F.createView=function(D,n){return new Float64Array(D,n,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(H,F){Object.defineProperty(F,"__esModule",{value:!0});F.create=function(){return[0,0,0,1]};F.clone=function(D){return[D[0],D[1],D[2],D[3]]};F.fromValues=function(D,
n,w,r){return[D,n,w,r]};F.createView=function(D,n){return new Float64Array(D,n,4)}})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(H,F,D){function n(n,r,k){n[0]=r[0]-k[0];n[1]=r[1]-k[1];n[2]=r[2]-k[2];n[3]=r[3]-k[3];return n}function w(n,r,k){n[0]=r[0]*k[0];n[1]=r[1]*k[1];n[2]=r[2]*k[2];n[3]=r[3]*k[3];return n}function r(n,r,k){n[0]=r[0]/k[0];n[1]=r[1]/k[1];n[2]=r[2]/k[2];n[3]=r[3]/k[3];return n}function v(n,r){var k=r[0]-n[0],t=r[1]-n[1],x=r[2]-
n[2];n=r[3]-n[3];return Math.sqrt(k*k+t*t+x*x+n*n)}function E(n,r){var k=r[0]-n[0],t=r[1]-n[1],x=r[2]-n[2];n=r[3]-n[3];return k*k+t*t+x*x+n*n}function I(n){var t=n[0],k=n[1],r=n[2];n=n[3];return Math.sqrt(t*t+k*k+r*r+n*n)}function B(n){var t=n[0],k=n[1],r=n[2];n=n[3];return t*t+k*k+r*r+n*n}Object.defineProperty(F,"__esModule",{value:!0});F.copy=function(n,r){n[0]=r[0];n[1]=r[1];n[2]=r[2];n[3]=r[3];return n};F.set=function(n,r,k,v,w){n[0]=r;n[1]=k;n[2]=v;n[3]=w;return n};F.add=function(n,r,k){n[0]=
r[0]+k[0];n[1]=r[1]+k[1];n[2]=r[2]+k[2];n[3]=r[3]+k[3];return n};F.subtract=n;F.multiply=w;F.divide=r;F.ceil=function(n,r){n[0]=Math.ceil(r[0]);n[1]=Math.ceil(r[1]);n[2]=Math.ceil(r[2]);n[3]=Math.ceil(r[3]);return n};F.floor=function(n,r){n[0]=Math.floor(r[0]);n[1]=Math.floor(r[1]);n[2]=Math.floor(r[2]);n[3]=Math.floor(r[3]);return n};F.min=function(n,r,k){n[0]=Math.min(r[0],k[0]);n[1]=Math.min(r[1],k[1]);n[2]=Math.min(r[2],k[2]);n[3]=Math.min(r[3],k[3]);return n};F.max=function(n,r,k){n[0]=Math.max(r[0],
k[0]);n[1]=Math.max(r[1],k[1]);n[2]=Math.max(r[2],k[2]);n[3]=Math.max(r[3],k[3]);return n};F.round=function(n,r){n[0]=Math.round(r[0]);n[1]=Math.round(r[1]);n[2]=Math.round(r[2]);n[3]=Math.round(r[3]);return n};F.scale=function(n,r,k){n[0]=r[0]*k;n[1]=r[1]*k;n[2]=r[2]*k;n[3]=r[3]*k;return n};F.scaleAndAdd=function(n,r,k,v){n[0]=r[0]+k[0]*v;n[1]=r[1]+k[1]*v;n[2]=r[2]+k[2]*v;n[3]=r[3]+k[3]*v;return n};F.distance=v;F.squaredDistance=E;F.length=I;F.squaredLength=B;F.negate=function(n,r){n[0]=-r[0];n[1]=
-r[1];n[2]=-r[2];n[3]=-r[3];return n};F.inverse=function(n,r){n[0]=1/r[0];n[1]=1/r[1];n[2]=1/r[2];n[3]=1/r[3];return n};F.normalize=function(n,r){var k=r[0],t=r[1],x=r[2];r=r[3];var f=k*k+t*t+x*x+r*r;0<f&&(f=1/Math.sqrt(f),n[0]=k*f,n[1]=t*f,n[2]=x*f,n[3]=r*f);return n};F.dot=function(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]+n[3]*r[3]};F.lerp=function(n,r,k,v){var t=r[0],f=r[1],m=r[2];r=r[3];n[0]=t+v*(k[0]-t);n[1]=f+v*(k[1]-f);n[2]=m+v*(k[2]-m);n[3]=r+v*(k[3]-r);return n};F.random=function(n,r){r=
r||1;var k,t,x,f,m,v;do k=2*D.RANDOM()-1,t=2*D.RANDOM()-1,m=k*k+t*t;while(1<=m);do x=2*D.RANDOM()-1,f=2*D.RANDOM()-1,v=x*x+f*f;while(1<=v);m=Math.sqrt((1-m)/v);n[0]=r*k;n[1]=r*t;n[2]=r*x*m;n[3]=r*f*m;return n};F.transformMat4=function(n,r,k){var t=r[0],x=r[1],f=r[2];r=r[3];n[0]=k[0]*t+k[4]*x+k[8]*f+k[12]*r;n[1]=k[1]*t+k[5]*x+k[9]*f+k[13]*r;n[2]=k[2]*t+k[6]*x+k[10]*f+k[14]*r;n[3]=k[3]*t+k[7]*x+k[11]*f+k[15]*r;return n};F.transformQuat=function(n,r,k){var t=r[0],x=r[1],f=r[2],m=k[0],v=k[1],w=k[2];k=
k[3];var B=k*t+v*f-w*x,D=k*x+w*t-m*f,E=k*f+m*x-v*t,t=-m*t-v*x-w*f;n[0]=B*k+t*-m+D*-w-E*-v;n[1]=D*k+t*-v+E*-m-B*-w;n[2]=E*k+t*-w+B*-v-D*-m;n[3]=r[3];return n};F.str=function(n){return"vec4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"};F.exactEquals=function(n,r){return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]};F.equals=function(n,r){var k=n[0],t=n[1],x=n[2];n=n[3];var f=r[0],m=r[1],v=r[2];r=r[3];return Math.abs(k-f)<=D.EPSILON*Math.max(1,Math.abs(k),Math.abs(f))&&Math.abs(t-m)<=D.EPSILON*Math.max(1,
Math.abs(t),Math.abs(m))&&Math.abs(x-v)<=D.EPSILON*Math.max(1,Math.abs(x),Math.abs(v))&&Math.abs(n-r)<=D.EPSILON*Math.max(1,Math.abs(n),Math.abs(r))};F.sub=n;F.mul=w;F.div=r;F.dist=v;F.sqrDist=E;F.len=I;F.sqrLen=B})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(H,F,D){Object.defineProperty(F,"__esModule",{value:!0});F.quatf64=D})},"esri/geometry/Circle":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(H,F,D,n,w,r,v,E,I,B,t,x){return function(k){function F(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];f=k.apply(this,f)||this;f.center=null;f.geodesic=!1;f.numberOfPoints=60;f.radius=1E3;f.radiusUnit="meters";return f}n(F,k);C=F;F.prototype.normalizeCtorArgs=function(f,k){var m;if(f&&f.center)m=f;else{if(f&&f.rings)return this.inherited(arguments);m={center:f}}return D({},this.inherited(arguments,[]),m,k)};F.prototype.initialize=function(){var f=this.center,k=this.numberOfPoints;
this.hasZ=f&&f.hasZ;if(0===this.rings.length&&f){var n=r.convertUnit(this.radius,this.radiusUnit,"meters"),v=f.spatialReference,w="geographic";if(v.isWebMercator)w="webMercator";else if(null!=x[v.wkid]||v.wkt&&0===v.wkt.indexOf("PROJCS"))w="projected";if(this.geodesic){v=void 0;switch(w){case "webMercator":v=t.webMercatorToGeographic(f);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":v=
f}f=this._createGeodesicCircle(v,n,k);"webMercator"===w&&(f=t.geographicToWebMercator(f))}else v=void 0,"webMercator"===w||"projected"===w?v=n/this._convert2Meters(1,f.spatialReference):"geographic"===w&&(v=r.lengthToDegrees(n,"meters")),f=this._createPlanarCircle(f,v,k);this.spatialReference=f.spatialReference;this.addRing(f.rings[0])}};F.prototype.clone=function(){return new C({rings:this.rings,hasZ:this.hasZ,hasM:this.hasM,spatialReference:this.spatialReference})};F.prototype._createGeodesicCircle=
function(f,k,n){for(var m=0,r=Math.PI/180,t=[];m<2*Math.PI;){var v=B.directGeodeticSolver(f.y*r,f.x*r,m,k).toArray();this.hasZ&&v.push(f.z);t.push(v);m+=Math.PI/(n/2)}t.push(t[0]);return new I(t)};F.prototype._createPlanarCircle=function(f,k,n){for(var m=0,r=[];m<2*Math.PI;){var t=[f.x+Math.cos(-m)*k,f.y+Math.sin(-m)*k];this.hasZ&&t.push(f.z);r.push(t);m+=Math.PI/(n/2)}r.push(r[0]);return new I({spatialReference:f.spatialReference,rings:[r]})};F.prototype._convert2Meters=function(f,k){if(null!=x[k.wkid])k=
x.values[x[k.wkid]];else{k=k.wkt;var m=k.lastIndexOf(",")+1,n=k.lastIndexOf("]]");k=parseFloat(k.substring(m,n))}return f*k};var C;w([v.property({type:E})],F.prototype,"center",void 0);w([v.property()],F.prototype,"geodesic",void 0);w([v.property()],F.prototype,"numberOfPoints",void 0);w([v.property()],F.prototype,"radius",void 0);w([v.property()],F.prototype,"radiusUnit",void 0);return F=C=w([v.subclass("esri.geometry.Circle")],F)}(v.declared(I))})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../../core/Error ../../core/Logger ../../core/unitUtils ../Point ../Polygon ../Polyline ../SpatialReference".split(" "),
function(H,F,D,n,w,r,v,E,I,B){function t(f){if(!f||!f.isGeographic)return null;if(f.wkid){var k=J[f.wkid];if(k)return k}if(f.wkt){f=Y.exec(f.wkt);if(!f||2!==f.length)return null;k=f[1].split(",");if(!k||3!==k.length)return null;f=parseFloat(k[1]);k=parseFloat(k[2]);return isNaN(f)||isNaN(k)?null:{a:f,f:0===k?0:1/k}}return null}function x(f){f=t(f||O);if("b"in f&&"eSq"in f&&"radius"in f)return f;var k=f.a*(1-f.f);return D.assign(f,{b:k,eSq:1-Math.pow(k/f.a,2),radius:(2*f.a+k)/3})}function k(f,k,m){var p=
x(m);m=p.a;var p=p.eSq,n=Math.sqrt(p),r=Math.sin(k[1]*L);k=m*k[0]*L;m=0<p?m*(1-p)*(r/(1-p*r*r)-1/(2*n)*Math.log((1-n*r)/(1+n*r)))*.5:m*r;f[0]=k;f[1]=m;return f}function M(f){return null!==t(f)}function C(k,r){if("polyline"!==k.type&&"polygon"!==k.type)throw G.error("invalid geometry: the input geometry is neither polyline nor polygon"),new n("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");if(!M(k.spatialReference))throw G.error("invalid spatialreference: the input geometry spatialreference is not supported"),
new n("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var p=k.spatialReference,t=x(p).radius/1E4;r<t&&(r=t);for(var t=[],v=0,z="polyline"===k.type?k.paths:k.rings;v<z.length;v++){var w=z[v],B=[];t.push(B);B.push([w[0][0],w[0][1]]);for(var D=w[0][0]*L,C=w[0][1]*L,F=void 0,H=void 0,J=0;J<w.length-1;J++)if(F=w[J+1][0]*L,H=w[J+1][1]*L,D!==F||C!==H){var H=m(C,D,H,F,p),F=H.azimuth,H=H.geodesicDistance,d=H/r;if(1<d){for(var A=1;A<=d-1;A++){var l=f(C,
D,F,A*r,p);B.push([l.x,l.y])}d=f(C,D,F,(H+Math.floor(d-1)*r)/2,p);B.push([d.x,d.y])}C=f(C,D,F,H,p);B.push([C.x,C.y]);D=C.x*L;C=C.y*L}}return"polyline"===k.type?new I({paths:t,spatialReference:p}):new E({rings:t,spatialReference:p})}function f(f,k,m,n,r){var p=x(r),t=p.a,z=p.b,p=p.f,w=Math.sin(m);m=Math.cos(m);var B=(1-p)*Math.tan(f);f=1/Math.sqrt(1+B*B);for(var C=B*f,D=Math.atan2(B,m),B=f*w,E=B*B,d=1-E,t=d*(t*t-z*z)/(z*z),A=1+t/16384*(4096+t*(-768+t*(320-175*t))),l=t/1024*(256+t*(-128+t*(74-47*t))),
t=n/(z*A),b=2*Math.PI,a,c,e,g;1E-12<Math.abs(t-b);)e=Math.cos(2*D+t),a=Math.sin(t),c=Math.cos(t),g=l*a*(e+l/4*(c*(-1+2*e*e)-l/6*e*(-3+4*a*a)*(-3+4*e*e))),b=t,t=n/(z*A)+g;n=C*a-f*c*m;z=p/16*d*(4+p*(4-3*d));return new v((k+(Math.atan2(a*w,f*c-C*a*m)-(1-z)*p*B*(t+z*a*(e+z*c*(-1+2*e*e)))))/L,Math.atan2(C*c+f*a*m,(1-p)*Math.sqrt(E+n*n))/L,r||O)}function m(f,k,m,n,r){var p=x(r),t=p.a;r=p.b;var v=p.f,z=p.radius,w=n-k,B=Math.atan((1-v)*Math.tan(f)),C=Math.atan((1-v)*Math.tan(m)),p=Math.sin(B),B=Math.cos(B),
D=Math.sin(C),C=Math.cos(C),d=1E3,A=w,l,b,a,c,e,g,h,q;do{c=Math.sin(A);e=Math.cos(A);a=Math.sqrt(C*c*C*c+(B*D-p*C*e)*(B*D-p*C*e));if(0===a)return{geodesicDistance:0};e=p*D+B*C*e;g=Math.atan2(a,e);h=B*C*c/a;b=1-h*h;c=e-2*p*D/b;isNaN(c)&&(c=0);q=v/16*b*(4+v*(4-3*b));l=A;A=w+(1-q)*v*h*(g+q*a*(c+q*e*(-1+2*c*c)))}while(1E-12<Math.abs(A-l)&&0<--d);if(0===d)return r=n-k,{azimuth:Math.atan2(Math.sin(r)*Math.cos(m),Math.cos(f)*Math.sin(m)-Math.sin(f)*Math.cos(m)*Math.cos(r)),geodesicDistance:Math.acos(Math.sin(f)*
Math.sin(m)+Math.cos(f)*Math.cos(m)*Math.cos(n-k))*z};f=b*(t*t-r*r)/(r*r);k=f/1024*(256+f*(-128+f*(74-47*f)));return{azimuth:Math.atan2(C*Math.sin(A),B*D-p*C*Math.cos(A)),geodesicDistance:r*(1+f/16384*(4096+f*(-768+f*(320-175*f))))*(g-k*a*(c+k/4*(e*(-1+2*c*c)-k/6*c*(-3+4*a*a)*(-3+4*c*c)))),reverseAzimuth:Math.atan2(B*Math.sin(A),B*D*Math.cos(A)-p*C)}}Object.defineProperty(F,"__esModule",{value:!0});var G=w.getLogger("esri.geometry.support.geodesicUtils"),L=Math.PI/180,O=B.WGS84,Y=/SPHEROID\[([^\]]+)]/i,
J={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},
104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,
f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,
f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0}};F.isSupported=M;F.geodesicAreas=function(f,m){if(f.some(function(d){return!M(d.spatialReference)}))throw G.error("invalid spatialreference: the input geometries spatialreference is not supported"),new n("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var p=[],t=0;t<f.length;t++){var v=f[t],z=v.spatialReference,
z=.0015696101447650193*x(z).radius;p.push(C(v,z))}f=[];for(var t=[0,0],v=[0,0],w=0;w<p.length;w++){for(var z=p[w],B=z.rings,z=z.spatialReference,D=0,E=0;E<B.length;E++){var F=B[E];k(t,F[0],z);k(v,F[F.length-1],z);for(var I=v[0]*t[1]-t[0]*v[1],H=0;H<F.length-1;H++)k(t,F[H+1],z),k(v,F[H],z),I+=v[0]*t[1]-t[0]*v[1];D+=I}D=r.convertUnit(D,"square-meters",m);f.push(D/-2)}return f};F.geodesicLengths=function(f,k){if(!f&&!f)throw G.error("invalid geometry type: the input geometries type is not supported"),
new n("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(f.some(function(d){return!M(d.spatialReference)}))throw G.error("invalid spatialreference: the input geometries spatialreference is not supported"),new n("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var p=[],t=0;t<f.length;t++){for(var v=f[t],z=v.spatialReference,v="polyline"===v.type?v.paths:v.rings,x=0,w=0;w<v.length;w++){for(var B=v[w],C=0,
D=1;D<B.length;D++){var E=B[D-1][0]*L,F=B[D][0]*L,d=B[D-1][1]*L,A=B[D][1]*L;if(d!==A||E!==F)E=m(d,E,A,F,z),C+=E.geodesicDistance}x+=C}x=r.convertUnit(x,"meters",k);p.push(x)}return p};F.geodesicDensify=C;F.directGeodeticSolver=f;F.inverseGeodeticSolver=m})},"esri/geometry/geometryEngine":function(){define("require exports esri/kernel esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint dojo/_base/lang".split(" "),function(H,
F,D,n,w,r,v,E,I,B){function t(d){if(void 0===v.fromJson){if(void 0!==d.x&&void 0!==d.y)return new v(d);if(void 0!==d.paths)return new r(d);if(void 0!==d.rings)return new w(d);if(void 0!==d.points)return new I(d);if(void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return new E(d)}else{if(void 0!==d.x&&void 0!==d.y)return v.fromJson(d);if(void 0!==d.paths)return r.fromJson(d);if(void 0!==d.rings)return w.fromJson(d);if(void 0!==d.points)return I.fromJson(d);if(void 0!==d.xmin&&void 0!==
d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return E.fromJson(d)}}function x(d){if(void 0===v.fromJson){if(void 0!==d.x&&void 0!==d.y)return new v(d);if(void 0!==d.paths)return new r(d);if(void 0!==d.rings)return new w(d);if(void 0!==d.points)return new I(d);if(void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return new E(d)}else{if(void 0!==d.x&&void 0!==d.y)return v.fromJSON(d);if(void 0!==d.paths)return r.fromJSON(d);if(void 0!==d.rings)return w.fromJSON(d);if(void 0!==d.points)return I.fromJSON(d);
if(void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax)return E.fromJSON(d)}}function k(d,f){var l;if(null==d||void 0===d||"number"===typeof d)return d;var b=d.toString();if(""===b)return null;if(2==f){if(l=ca[b],void 0!==l)return l}else if(0==f){l=T[b];if(void 0!==l)return l;l=Z[d];if(void 0!==l)return l}else if(3==f&&(l=T[b],void 0!==l))return l;if(1==f&&(l=Z[d],void 0!==l))return l;if(!0===/^\d+$/.test(b))return parseInt(b);throw Error("Unrecognised Unit Type");}function M(d){if(void 0!==
d&&null!==d)switch(d){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function C(d,k){if(null===d||void 0===d||d.u())return null;switch(d.G()){case p.Fj.Point:var l=new v(d.Be(),d.nf(),k);if(S){var b=d.hasAttribute(p.Wc.M);d.hasAttribute(p.Wc.Z)&&l.set("z",d.rH());b&&l.set("m",d.aH())}return l;case p.Fj.Polygon:var l=d.hasAttribute(p.Wc.Z),b=d.hasAttribute(p.Wc.M),a=f(d,l,b),l=new w({rings:a,hasZ:l,hasM:b});S?l.set("spatialReference",
k):l.setSpatialReference(k);l.setCacheValue("_geVersion",d);return l;case p.Fj.Polyline:return l=d.hasAttribute(p.Wc.Z),b=d.hasAttribute(p.Wc.M),a=f(d,l,b),l=new r({paths:a,hasZ:l,hasM:b}),S?l.set("spatialReference",k):l.setSpatialReference(k),l.setCacheValue("_geVersion",d),l;case p.Fj.MultiPoint:var l=d.hasAttribute(p.Wc.Z),b=d.hasAttribute(p.Wc.M),c=a=null;l&&(a=d.Pa(p.Wc.Z));b&&(c=d.Pa(p.Wc.M));var e=new p.b,g=d.D();k=new I(k);S&&(k.set("hasZ",l),k.set("hasM",b));for(var h=0;h<g;h++){d.w(h,e);
var q=[e.x,e.y];l&&q.push(a.get(h));b&&q.push(c.get(h));k.addPoint(q)}k.setCacheValue("_geVersion",d);return k;case p.Fj.Envelope:return a=d.hasAttribute(p.Wc.Z),l=d.hasAttribute(p.Wc.M),b=new E(d.R.o,d.R.A,d.R.v,d.R.B,k),S&&(a&&(a=d.xf(p.Wc.Z,0),b.set("zmin",a.ca),b.set("zmax",a.ha)),l&&(a=d.xf(p.Wc.M,0),b.set("mmin",a.ca),b.set("mmax",a.ha))),b.setCacheValue("_geVersion",d),b}return null}function f(d,f,l){var b=[],a=d.aa(),c=null,e=null;f&&(c=d.Pa(p.Wc.Z));l&&(e=d.Pa(p.Wc.M));for(var g=new p.b,
h=0;h<a;h++){for(var q=d.wa(h),u=d.La(h),y=0,P=0,N=NaN,K=NaN,k=NaN,m=NaN,n=d.Qb(h),r=[],A=q;A<q+u;A++){d.w(A,g);var m=k=NaN,t=[g.x,g.y];f&&(k=c.get(A),t.push(k));l&&(m=e.get(A),t.push(m));A==q&&n&&(y=g.x,P=g.y,N=k,K=m);r.push(t)}!n||y==g.x&&P==g.y&&(!f||isNaN(N)&&isNaN(k)||N==k)&&(!l||isNaN(K)&&isNaN(m)||K==m)||r.push(r[0].slice(0));b.push(r)}return b}function m(d){var f=d._geVersion;if(null==f||void 0==f){if(Object.freeze&&Object.isFrozen(d))return 102100===d.wkid?ba:4326===d.wkid?da:f=p.Sd.create(d.wkid);
-1!=d.wkid&&null!==d.wkid&&void 0!==d.wkid?(f=p.Sd.create(d.wkid),d._geVersion=f):""!==d.wkt&&void 0!==d.wkt&&null!==d.wkt&&(f=p.Sd.oR(d.wkt),d._geVersion=f)}return f}function G(d){if(null==d)return null;if(void 0===d.getCacheValue){var f=d._geVersion;if(null==f||void 0==f)f=p.cc.cG(d),d._geVersion=f}else if(f=d.getCacheValue("_geVersion"),null==f||void 0==f)f=p.cc.cG(d),d.setCacheValue("_geVersion",f);return f}function L(d){return null===d.spatialReference?null:m(d.spatialReference)}function O(d){return"[object Array]"===
Object.prototype.toString.call(d)}function Y(d){if(null===d||void 0===d||d.u())return null;switch(d.G()){case p.Fj.Point:var k={};k.x=d.Be();k.y=d.nf();if(S){var l=d.hasAttribute(p.Wc.M);d.hasAttribute(p.Wc.Z)&&(k.z=d.rH());l&&(k.m=d.aH())}return k;case p.Fj.Polygon:return k=d.hasAttribute(p.Wc.Z),l=d.hasAttribute(p.Wc.M),{rings:f(d,k,l),hasZ:k,hasM:l};case p.Fj.Polyline:return k=d.hasAttribute(p.Wc.Z),l=d.hasAttribute(p.Wc.M),{paths:f(d,k,l),hasZ:k,hasM:l};case p.Fj.MultiPoint:var k=d.hasAttribute(p.Wc.Z),
l=d.hasAttribute(p.Wc.M),b=null,a=null;k&&(b=d.Pa(p.Wc.Z));l&&(a=d.Pa(p.Wc.M));var c=new p.b,e=d.D(),g={points:[]};S&&(g.hasZ=k,g.hasM=l);for(var h=0;h<e;h++){d.w(h,c);var q=[c.x,c.y];k&&q.push(b.get(h));l&&q.push(a.get(h));g.points.push(q)}return g;case p.Fj.Envelope:return b=d.hasAttribute(p.Wc.Z),k=d.hasAttribute(p.Wc.M),l={},l.xmin=d.R.o,l.ymin=d.R.A,l.xmax=d.R.v,l.ymax=d.R.B,S&&(b&&(b=d.xf(p.Wc.Z,0),l.zmin=b.ca,l.zmax=b.ha),k&&(b=d.xf(p.Wc.M,0),l.mmin=b.ca,l.mmax=b.ha)),l}return null}var J=this&&
this.__extends||function(d,f){function l(){this.constructor=d}for(var b in f)f.hasOwnProperty(b)&&(d[b]=f[b]);d.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)},p;(function(d){var f=function(){function b(){}b.Bm=!1;b.jw=!1;b.yz="";return b}();d.Xh=f;if("undefined"!==typeof window)d.Xh.yz="browser","Float64Array"in window&&(d.Xh.jw=!0),"ArrayBuffer"in window&&(d.Xh.Bm=!0);else if("undefined"!==typeof process)f.yz="node",d.Xh.Bm=!0,d.Xh.jw=!0;else{f.yz="browser";try{var l=new ArrayBuffer(0);
new Uint8Array(l);d.Xh.Bm=!0;d.Xh.jw=!0}catch(b){d.Xh.Bm=!1}}})(p||(p={}));(function(d){(function(d){d[d.Unknown=0]="Unknown";d[d.Point=33]="Point";d[d.Line=322]="Line";d[d.Envelope=197]="Envelope";d[d.MultiPoint=550]="MultiPoint";d[d.Polyline=1607]="Polyline";d[d.Polygon=1736]="Polygon"})(d.Fj||(d.Fj={}));(function(d){d[d.enumMild=0]="enumMild";d[d.enumMedium=1]="enumMedium";d[d.enumHot=2]="enumHot"})(d.tM||(d.tM={}));var f=function(){function l(){this.description=null;this.BB=0}l.prototype.G=function(){return 0};
l.prototype.tb=function(){return-1};l.prototype.Fg=function(b){this.Bc();b!=this.description&&this.mo(b)};l.prototype.mo=function(){};l.prototype.om=function(b){this.Bc();b!=this.description&&(b=d.ye.vT(this.description,b),b!=this.description&&this.mo(b))};l.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};l.prototype.Ud=function(b){this.Bc();this.description.hasAttribute(b)||(b=d.ye.uT(this.description,b),this.mo(b))};l.prototype.xf=function(){return null};l.prototype.Qn=
function(){};l.prototype.s=function(){};l.prototype.Cp=function(){};l.prototype.ac=function(b){this.s(b)};l.prototype.u=function(){return!0};l.prototype.Oa=function(){};l.prototype.Xc=function(){};l.prototype.Ka=function(){return null};l.prototype.copyTo=function(){};l.prototype.hf=function(){return 0};l.prototype.Rb=function(){return 0};l.prototype.uH=function(){return this.hasAttribute(1)};l.lf=function(b){return((b&192)>>6)+1>>1};l.Jo=function(b){return 0!=(b&32)};l.l_=function(b){return 0!=(b&
64)};l.OU=function(b){return 0!=(b&128)};l.Oc=function(b){return 0!=(b&256)};l.gh=function(b){return 0!=(b&512)};l.Ic=function(b){return 0!=(b&1024)};l.prototype.Vf=function(){var b=this.Ka();this.copyTo(b);return b};l.prototype.Gg=function(){return null};l.oe=function(b){var a=b.Ka();b.copyTo(a);return a};l.prototype.Bc=function(){0<=this.BB&&(this.BB+=2147483649)};l.gy=function(b){var a=b.G();if(l.gh(a))return b.D();if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(l.Oc(a))return 2;throw d.g.X("missing type");
};return l}();d.T=f})(p||(p={}));(function(d){var f=function(){function l(){this.y=this.x=0}l.pa=function(b,a){var c=new l;c.x=b;c.y=a;return c};l.El=function(b){var a=new l;a.x=b.x;a.y=b.y;return a};l.prototype.ka=function(b,a){this.x=b;this.y=a};l.prototype.L=function(b){this.x=b.x;this.y=b.y};l.prototype.Uq=function(b,a){return this.x===b&&this.y===a};l.prototype.wA=function(b){return 2.220446049250313E-16>=Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};l.prototype.ub=function(b){return this.x===
b.x&&this.y===b.y};l.prototype.Eb=function(b){return b==this?!0:b instanceof l?this.x==b.x&&this.y==b.y:!1};l.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};l.prototype.zc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};l.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=b.x,this.y+=b.y)};l.prototype.Lr=function(){this.x=-this.x;this.y=-this.y};l.prototype.bu=function(b){this.x=-b.x;this.y=-b.y};l.prototype.IU=function(b,a,c){this.x=b.x*(1-c)+a.x*c;this.y=b.y*(1-c)+
a.y*c};l.prototype.ru=function(b,a){this.x=this.x*b+a.x;this.y=this.y*b+a.y};l.prototype.EX=function(b,a,c){this.x=a.x*b+c.x;this.y=a.y*b+c.y};l.prototype.scale=function(b){this.x*=b;this.y*=b};l.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};l.prototype.normalize=function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};l.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.qk=function(){return this.x*
this.x+this.y*this.y};l.Cb=function(b,a){return Math.sqrt(this.sc(b,a))};l.xz=function(b,a,c,e){b-=c;a-=e;return Math.sqrt(b*b+a*a)};l.prototype.oi=function(b){return this.x*b.x+this.y*b.y};l.prototype.yE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};l.prototype.Ui=function(b){return this.x*b.y-this.y*b.x};l.prototype.qu=function(b,a){var c=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;this.y=c};l.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};l.prototype.aI=function(b){this.x=
-b.y;this.y=b.x};l.prototype.Ur=function(){var b=this.x;this.x=this.y;this.y=-b};l.prototype.dv=function(){this.y=this.x=NaN};l.prototype.Hy=function(){return isNaN(this.x)};l.prototype.$u=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};l.vs=function(b,a){var c=b.$u(),e=a.$u();return e==c?(c=b.Ui(a),0>c?1:0<c?-1:0):c<e?-1:1};l.AZ=function(b,a){return l.vs(b,a)};l.sc=function(b,a){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b};l.prototype.toString=function(){return"("+this.x+" , "+this.y+
")"};l.prototype.$c=function(){this.y=this.x=NaN};l.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};l.prototype.RO=function(){return this.Hy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};l.prototype.offset=function(b,a){var c=l.Cb(b,a),e=l.pa(this.x,this.y);if(0==c)return l.Cb(e,b);var g=new l;g.L(a);g.sub(b);e.sub(b);return e.Ui(g)/c};l.zp=function(b,a,c){var e=new d.Xb;e.set(a.x);e.sub(b.x);var g=new d.Xb;g.set(c.y);g.sub(b.y);var h=new d.Xb;h.set(a.y);
h.sub(b.y);var q=new d.Xb;q.set(c.x);q.sub(b.x);e.Vg(g);h.Vg(q);e.sub(h);if(!e.lt())return c=e.value(),0>c?-1:0<c?1:0;e=new d.Tp(a.x);g=new d.Tp(b.x);h=new d.Tp(b.y);e=e.Zt(g);b=new d.Tp(c.y);b=b.Zt(h);a=new d.Tp(a.y);a=a.Zt(h);c=new d.Tp(c.x);c=c.Zt(g);e=e.ds(b);a=a.ds(c);e=e.ds(a);return e.oV()?-1:e.$T()?1:0};l.prototype.jc=function(){return d.J.Zi(d.J.Zi())};return l}();d.b=f})(p||(p={}));(function(d){var f=function(){function d(b){this.kz=this.Au=0;this.HY=b}d.prototype.reset=function(){this.kz=
this.Au=0};d.prototype.add=function(b){b-=this.kz;var a=this.Au+b;this.kz=a-this.Au-b;this.Au=a};d.prototype.sub=function(b){this.add(-b)};d.prototype.en=function(){return this.HY+this.Au};return d}();d.ry=f;f=function(){function d(){}d.Fl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};d.sign=function(b){return 0>b?-1:0<b?1:0};d.gM=function(b){return b-360*Math.floor(b/360)};d.round=function(b){return Math.floor(b+.5)};d.Yx=function(b){return b*b};d.Xq=function(b,a,c){var e;.5>=c?e=b+(a-b)*c:
e=a-(a-b)*(1-c);return e};d.cI=function(b,a,c,e){.5>=c?(e.x=b.x+(a.x-b.x)*c,e.y=b.y+(a.y-b.y)*c):(e.x=a.x-(a.x-b.x)*(1-c),e.y=a.y-(a.y-b.y)*(1-c))};d.mV=function(b,a,c,e,g,h){.5>=g?(h.x=b+(c-b)*g,h.y=a+(e-a)*g):(h.x=c-(c-b)*(1-g),h.y=e-(e-a)*(1-g))};return d}();d.Ub=f})(p||(p={}));(function(d){var f=function(l){function b(){l.call(this);this.oa=this.sa=this.ra=this.ua=0;this.la=null}J(b,l);b.prototype.ec=function(){return d.b.pa(this.ua,this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};
b.prototype.Mc=function(a){this.Qm(0,a)};b.prototype.wC=function(a,c){this.Qm(0,d.b.pa(a,c))};b.prototype.Dp=function(a){this.AE(0,a)};b.prototype.setStart=function(a){this.KE(0,a)};b.prototype.dt=function(a,c){return this.ae(0,a,c)};b.prototype.Tx=function(a,c,e){this.oo(0,a,c,e)};b.prototype.Cc=function(){return d.b.pa(this.sa,this.oa)};b.prototype.Ps=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Zc=function(a){this.Qm(1,a)};b.prototype.vm=function(a,c){this.Qm(1,d.b.pa(a,c))};b.prototype.Bp=
function(a){this.AE(1,a)};b.prototype.setEnd=function(a){this.KE(1,a)};b.prototype.Os=function(a,c){return this.ae(1,a,c)};b.prototype.Lx=function(a,c,e){this.oo(1,a,c,e)};b.prototype.tb=function(){return 1};b.prototype.u=function(){return this.Hc()};b.prototype.Oa=function(){};b.prototype.hf=function(){return 0};b.prototype.Ma=function(a,c,e,b,h){return this.PO(a,c,e,b,h)};b.prototype.Yb=function(a,c){return 0!=this.ys(a,c,!1)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.av=
function(){return null};b.prototype.Hc=function(){return!1};b.prototype.Jy=function(a){this.Bc();if(null==this.la&&0<a)this.la=d.J.gf(2*a);else if(null!=this.la&&this.la.length<2*a){for(var c=this.la.slice(0),e=this.la.length;e<2*a;e++)c[e]=0;this.la=c}};b.bX=function(a,c,e){if(0<e)var b=0;for(var h=0;h<e;h++)c[0+b]=a[0],b++};b.prototype.Qm=function(a,c){0!=a?(this.sa=c.x,this.oa=c.y):(this.ua=c.x,this.ra=c.y)};b.prototype.mo=function(a){if(null!=this.la){for(var c=d.ye.vx(a,this.description),e=[],
g=b.vl(this.description,0),h=b.vl(this.description,1),q=b.vl(a,0),u=b.vl(a,1),y=0,l=1,f=a.Ga;l<f;l++){var K=a.rd(l),k=d.ma.Xa(K);if(-1==c[l])for(var m=d.ma.de(K),K=0;K<k;K++)e[q+y]=m,e[u+y]=m,y++;else for(m=this.description.xk(c[l])-2,K=0;K<k;K++)e[q+y]=this.la[g+m],e[u+y]=this.la[h+m],y++,m++}this.la=e}this.description=a};b.prototype.AE=function(a,c){if(this.Hc())throw d.g.X("empty geometry");c.Fg(this.description);c.Hc()&&c.nq();for(var e=0;e<this.description.Ga;e++)for(var b=this.description.Td(e),
h=0,q=d.ma.Xa(b);h<q;h++){var u=this.ae(a,b,h);c.setAttribute(b,h,u)}};b.prototype.KE=function(a,c){this.Bc();if(c.Hc())throw d.g.X("empty geometry");for(var e=c.description,b=0,h=e.Ga;b<h;b++)for(var q=e.Td(b),u=d.ma.Xa(q),y=0;y<u;y++){var l=c.Yc(q,y);this.oo(a,q,y,l)}};b.prototype.ae=function(a,c,e){if(this.Hc())throw d.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=e?this.oa:this.sa:0!=e?this.ra:this.ua;if(e>=d.ma.Xa(c))throw d.g.wd();var g=this.description.mg(c);
return 0<=g?(null!=this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,a)+this.description.xk(g)-2+e]):d.ma.de(c)};b.prototype.oo=function(a,c,e,g){this.Bc();if(e>=d.ma.Xa(c))throw d.g.wd();var h=this.description.mg(c);0>h&&(this.Ud(c),h=this.description.mg(c));0==c?0!=a?0!=e?this.oa=g:this.sa=g:0!=e?this.ra=g:this.ua=g:(null==this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,a)+this.description.xk(h)-2+e]=g)};b.prototype.copyTo=function(a){if(a.G()!=
this.G())throw d.g.F();a.description=this.description;a.Jy(this.description.af.length-2);b.bX(this.la,a.la,2*(this.description.af.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.Bc();this.iq(a)};b.prototype.xf=function(a,c){var e=new d.Ac;if(this.Hc())return e.Oa(),e;e.ca=this.ae(0,a,c);e.ha=e.ca;e.ml(this.ae(1,a,c));return e};b.prototype.SJ=function(a){this.Hc()?a.Oa():(a.ca=this.ae(0,0,0),a.ha=a.ca,a.ml(this.ae(1,0,0)))};b.prototype.Fx=function(a,c){c.Fg(this.description);c.rb(this.gc(a));
for(var e=1,b=this.description.Ga;e<b;e++)for(var h=this.description.Td(e),q=d.ma.Xa(h),u=0;u<q;u++){var y=this.Yc(a,h,u);c.setAttribute(h,u,y)}};b.prototype.MO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var c=0;c<2*(this.description.af.length-2);c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.OH=function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=function(){var a=this.ua;this.ua=this.sa;this.sa=
a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,c=this.description.Ga;a<c;a++)for(var e=this.description.rd(a),b=0,h=d.ma.Xa(e);b<h;b++){var q=this.ae(0,e,b),u=this.ae(1,e,b);this.oo(0,e,b,u);this.oo(1,e,b,q)}};b.prototype.ys=function(a,c,e){var b=a.G();switch(this.G()){case 322:if(322==b)return d.Hb.QO(this,a,c,e);throw d.g.za();default:throw d.g.za();}};b.prototype.PO=function(a,c,e,b,h){var g=a.G();switch(this.G()){case 322:if(322==g)return d.Hb.Gy(this,a,c,e,b,h);throw d.g.za();default:throw d.g.za();
}};b.prototype.Cy=function(){return null};b.vl=function(a,c){return c*(a.af.length-2)};b.prototype.gc=function(a,c){if(void 0===c)return c=new d.b,this.gc(a,c),c;d.Ub.mV(this.ua,this.ra,this.sa,this.oa,a,c)};b.prototype.pe=function(){return null};b.prototype.qH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.fh=function(){return null};b.prototype.Go=function(){return null};b.prototype.Eg=function(){return null};b.prototype.Dy=function(a,c){return void 0!==c?this.cy(c)-this.cy(a):
this.cy(a)};b.prototype.iq=function(){};b.prototype.Hl=function(){return null};b.prototype.yh=function(){};b.prototype.Yc=function(){return null};b.prototype.pf=function(){return null};b.prototype.cy=function(){return null};b.prototype.bI=function(){return null};b.prototype.Cb=function(a,c){if(!c&&0!=this.ys(a,0,!1))return 0;c=1.7976931348623157E308;var e,b;e=this.ec();b=a.pe(e,!1);e.sub(a.gc(b));e=e.length();e<c&&(c=e);e=this.Cc();b=a.pe(e,!1);e.sub(a.gc(b));e=e.length();e<c&&(c=e);e=a.ec();b=this.pe(e,
!1);e.sub(this.gc(b));e=e.length();e<c&&(c=e);e=a.Cc();b=this.pe(e,!1);e.sub(this.gc(b));e=e.length();e<c&&(c=e);return c};b.prototype.Gg=function(){return d.Pi.Rm(this,null)};return b}(d.T);d.cE=f})(p||(p={}));new p.b;(function(d){(function(d){d[d.Unknown=-1]="Unknown";d[d.Not=0]="Not";d[d.Weak=1]="Weak";d[d.Strong=2]="Strong"})(d.vM||(d.vM={}));(function(d){d[d.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";d[d.IsWeakSimple=2]="IsWeakSimple";d[d.IsStrongSimple=4]="IsStrongSimple";d[d.DirtyOGCFlags=
8]="DirtyOGCFlags";d[d.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";d[d.DirtyExactIntervals=64]="DirtyExactIntervals";d[d.DirtyLooseIntervals=128]="DirtyLooseIntervals";d[d.DirtyIntervals=192]="DirtyIntervals";d[d.DirtyIsEnvelope=256]="DirtyIsEnvelope";d[d.DirtyLength2D=512]="DirtyLength2D";d[d.DirtyRingAreas2D=1024]="DirtyRingAreas2D";d[d.DirtyCoordinates=1993]="DirtyCoordinates";d[d.DirtyAllInternal=65535]="DirtyAllInternal";d[d.DirtyAll=16777215]="DirtyAll"})(d.$L||(d.$L={}));var f=function(l){function b(){l.call(this);
this.tn=65535;this.qa=0;this.lh=-1;this.ob=null}J(b,l);b.prototype.iq=function(){};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return 0==this.qa};b.prototype.yk=function(a){return 0!=(this.tn&a)};b.prototype.lg=function(a,c){this.tn=c?this.tn|a:this.tn&~a};b.prototype.wc=function(){this.yk(32)&&this.ZO()};b.prototype.Cu=function(){if(this.Hc())throw d.g.X("This operation was performed on an Empty Geometry.");
};b.prototype.Ae=function(a,c){if(0>a||a>=this.qa)throw d.g.X("index out of bounds");this.wc();c.Fg(this.description);c.u()&&c.nq();for(var e=0;e<this.description.Ga;e++)for(var b=this.description.Td(e),h=0,q=d.ma.Xa(b);h<q;h++){var u=this.ya[e].Of(q*a+h);c.setAttribute(b,h,u)}};b.prototype.vu=function(a,c){this.wc();for(var e=c.description,b=0;b<e.Ga;b++)for(var h=e.Td(b),q=d.ma.Xa(h),u=0;u<q;u++){var y=c.Yc(h,u);this.setAttribute(h,a,u,y)}};b.prototype.w=function(a,c){if(0>a||a>=this.D())throw d.g.wd();
this.wc();this.ya[0].fc(2*a,c)};b.prototype.Ba=function(a){var c=new d.b;this.w(a,c);return c};b.prototype.Nc=function(a,c){this.ya[0].fc(2*a,c)};b.prototype.rb=function(a,c,e){if(0>a||a>=this.qa)throw d.g.wd();this.wc();var b=this.ya[0];void 0!==e?(b.write(2*a,c),b.write(2*a+1,e)):b.fo(2*a,c);this.Dc(1993)};b.prototype.lA=function(a){if(0>a||a>=this.D())throw d.g.wd();this.wc();var c=this.ya[0],e=new d.qd;e.x=c.read(2*a);e.y=c.read(2*a+1);e.z=this.hasAttribute(1)?this.ya[1].Of(a):d.ma.de(1);return e};
b.prototype.BC=function(a,c){if(0>a||a>=this.D())throw d.g.wd();this.Ud(1);this.wc();this.Dc(1993);var e=this.ya[0];e.write(2*a,c.x);e.write(2*a+1,c.y);this.ya[1].Dm(a,c.z)};b.prototype.Yc=function(a,c,e){if(0>c||c>=this.qa)throw d.g.wd();var b=d.ma.Xa(a);if(e>=b)throw d.g.wd();this.wc();var h=this.description.mg(a);return 0<=h?this.ya[h].Of(c*b+e):d.ma.de(a)};b.prototype.KG=function(a,c,e){return this.Yc(a,c,e)};b.prototype.setAttribute=function(a,c,e,b){if(0>c||c>=this.qa)throw d.g.wd();var g=d.ma.Xa(a);
if(e>=g)throw d.g.wd();this.Ud(a);this.wc();a=this.description.mg(a);this.Dc(1993);this.ya[a].Dm(c*g+e,b)};b.prototype.Pa=function(a){this.Cu();this.Ud(a);this.wc();return this.ya[this.description.mg(a)]};b.prototype.Yn=function(a,c){if(null!=c&&d.ma.si(a)!=c.si())throw d.g.F();this.Ud(a);a=this.description.mg(a);null==this.ya&&(this.ya=d.Uc.IB(this.description.Ga));this.ya[a]=c;this.Dc(16777215)};b.prototype.mo=function(a){var c=null;if(null!=this.ya)for(var e=d.ye.vx(a,this.description),c=[],b=
0,h=a.Ga;b<h;b++)-1!=e[b]&&(c[b]=this.ya[e[b]]);this.description=a;this.ya=c;this.lh=-1;this.Dc(16777215)};b.prototype.PE=function(a){this.fv(!0);a instanceof d.h?this.R.s(a):this.R.Cp(a)};b.prototype.YO=function(a){this.fv(!1);a instanceof d.h?this.R.s(a):this.R.Cp(a)};b.prototype.Qn=function(a){this.fv(!0);this.R.copyTo(a)};b.prototype.s=function(a){this.PE(a)};b.prototype.Cp=function(a){this.PE(a)};b.prototype.ac=function(a){this.YO(a)};b.prototype.xf=function(a,c){var e=new d.Ac;if(this.Hc())return e.Oa(),
e;this.fv(!0);return this.R.xf(a,c)};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=this.D(),e=0,b=this.description.Ga;e<b;e++)a=this.ya[e].Ak(a,0,c*d.ma.Xa(this.description.Td(e)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||this.Hc()!=a.Hc())return!1;if(this.Hc())return!0;var c=this.D();if(c!=a.D())return!1;for(var e=0;e<this.description.Ga;e++){var g=this.description.rd(e),h=this.Pa(g),q=a.Pa(g);
if(!h.Eb(q,0,c*d.ma.Xa(g)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw d.g.F();this.xE(a)};b.prototype.xE=function(a){this.wc();a.description=this.description;a.ya=null;var c=this.description.Ga,e=null;if(null!=this.ya)for(var e=[],b=0;b<c;b++)null!=this.ya[b]&&(e[b]=this.ya[b].Tr(this.D()*d.ma.Xa(this.description.Td(b))));null!=this.R?(a.R=this.R.Ka(),this.R.copyTo(a.R)):a.R=null;a.qa=this.qa;a.tn=this.tn;a.ya=e;try{this.iq(a)}catch(h){throw a.Oa(),d.g.TN();}};b.prototype.ME=
function(){this.qa=0;this.lh=-1;this.ya=null;this.Dc(16777215)};b.prototype.Dc=function(a){16777215==a&&(this.lh=-1,this.Iy());this.tn|=a;this.DO();this.Bc()};b.prototype.fv=function(a){this.wc();if(this.yk(192))if(null==this.R?this.R=new d.ci(this.description):this.R.Fg(this.description),this.u())this.R.Oa();else{this.Oy(a);for(var c=1;c<this.description.Ga;c++)for(var e=this.description.Td(c),b=d.ma.Xa(e),h=this.ya[c],q=0;q<b;q++){var u=new d.Ac;u.Oa();for(var y=0;y<this.qa;y++){var l=h.Of(y*b+
q);u.Nb(l)}this.R.setInterval(e,q,u)}a&&this.lg(192,!1)}};b.prototype.Oy=function(){this.R.Oa();for(var a=this.ya[0],c=new d.b,e=0;e<this.qa;e++)a.fc(2*e,c),this.R.Nb(c)};b.prototype.uo=function(a){a.Oa();for(var c=this.ya[0],e=new d.b,b=0;b<this.qa;b++)c.fc(2*b,e),a.Nb(e)};b.prototype.ZO=function(){if(this.lh<this.qa){null==this.ya&&(this.ya=d.Uc.IB(this.description.Ga));this.lh=2147483647;for(var a=0;a<this.description.Ga;a++){var c=this.description.Td(a);if(null!=this.ya[a]){var e=d.ma.Xa(c),b=
d.J.truncate(this.ya[a].size/e);b<this.qa&&(b=d.J.truncate(this.lh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*e,d.ma.de(c)));b<this.lh&&(this.lh=b)}else this.ya[a]=d.Uc.qz(c,this.qa),this.lh=this.qa}}this.Py();this.lg(32,!1)};b.prototype.zl=function(a){if(0>a)throw d.g.F();a!=this.qa&&(this.qa=a,this.Dc(65535))};b.prototype.Lk=function(a){if(!this.yk(1)){if(!this.yk(2))return 0;if(this.OV>=a)return this.yk(8)?1:2}return-1};b.prototype.Zg=function(a,c){this.OV=c;if(-1==a)this.lg(1,!0),
this.lg(8,!0);else if(this.lg(1,!1),this.lg(8,!0),0==a)this.lg(2,!1),this.lg(4,!1);else if(1==a)this.lg(2,!0),this.lg(4,!1);else if(2==a)this.lg(2,!0),this.lg(4,!0);else throw d.g.X("internal error.");};b.prototype.DO=function(){null!=this.ob&&(this.ob=null)};b.prototype.DE=function(a,c,e,b){if(0>a||a>=this.qa)throw d.g.X("index out of bounds");if(0>c||c>=this.qa)throw d.g.X("index out of bounds");this.wc();b.Fg(this.description);b.u()&&b.nq();for(var g=0;g<this.description.Ga;g++)for(var q=this.description.Td(g),
u=0,y=d.ma.Xa(q);u<y;u++){var l=this.ya[g].Of(y*a+u),f=this.ya[g].Of(y*c+u);b.setAttribute(q,u,d.Ub.Xq(l,f,e))}};b.prototype.xs=function(a,c){var e=this.ya[0].f,b=e[2*a]-e[2*c],e=e[2*a+1]-e[2*c+1];return Math.sqrt(b*b+e*e)};b.prototype.Yh=function(a,c){if(0>a||a>=this.qa)throw d.g.wd();if(c.u())throw d.g.F();this.wc();for(var e=c.description,b=0;b<e.Ga;b++)for(var h=e.rd(b),q=d.ma.Xa(h),u=0;u<q;u++){var y=c.Yc(h,u);this.setAttribute(h,a,u,y)}};b.prototype.Xu=function(){return null};b.prototype.Hj=
function(){return null};return b}(d.T);d.Mu=f})(p||(p={}));(function(d){var f=function(){function l(){this.pb=this.Oo=null;this.Gn=124234251;this.Dw=!0;this.qf=-1;this.pb=new d.ad(7);this.Oo=null}l.prototype.Ep=function(b){this.Oo=b};l.prototype.OR=function(){this.Dw=!1};l.prototype.Qe=function(b){this.pb.Qe(b)};l.prototype.Ks=function(b){var a=this.pb.Pe();this.mY(a);this.pY(b,a);return a};l.prototype.IR=function(b){this.pb.kd(b)};l.prototype.addElement=function(b,a){var c;-1==a?(-1==this.qf&&(this.qf=
this.Ks(-1)),c=this.qf):c=a;return this.WE(b,0,c)};l.prototype.$E=function(b){-1==this.qf&&(this.qf=this.Ks(-1));return this.WE(b,1,this.qf)};l.prototype.ro=function(b){var a;-1==this.qf&&(this.qf=this.Ks(-1));a=this.qf;var c=this.pb.f;if(-1==a||-1==c[7*a])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),c=this.pb.f,c[7*a]=b,this.pq(-1,b,a,c),b;var e=-1==a?-1:c[7*a+2];b=this.pb.nl([-1,-1,e,b,this.Ll(),-1,-1]);c=this.pb.f;c[7*e+1]=b;this.Vy(b,c);-1===c[7*b+2]&&(c[7*a]=b);this.pq(-1,b,a,c);return b};
l.prototype.jv=function(b,a,c,e){var g=-1;-1==g&&(-1==this.qf&&(this.qf=this.Ks(-1)),g=this.qf);var h=this.pb.f;if(-1==g||-1==h[7*g])return c=this.pb.nl([-1,-1,-1,c,this.Ll(),-1,-1]),h=this.pb.f,h[7*g]=c,this.pq(-1,c,g,h),c;var q;e?(e=-1!=a?this.Oo.compare(this,c,a):-1,q=-1!=b?this.Oo.compare(this,c,b):1):(e=-1,q=1);if(0==e||0==q)return h[7*g+3]=0==e?a:b,-1;(-1!=a&&-1!=b?this.Gn>d.J.HB(this.Gn)>>1:-1!=a)?b=a:e=q;for(a=!0;;){if(0>e)if(q=h[7*b],-1!=q)b=q;else{e=b;c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,
-1]);h=this.pb.f;h[7*b]=c;break}else if(q=h[7*b+1],-1!=q)b=q;else{e=h[7*b+6];c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,-1]);h=this.pb.f;h[7*b+1]=c;break}a&&(e*=-1,a=!1)}this.Vy(c,h);-1===h[7*c+2]&&(h[7*g]=c);this.pq(e,c,g,h);return c};l.prototype.QG=function(){return this.$S(this.qf)};l.prototype.Kd=function(b,a){a=-1==a?this.qf:a;this.Dw?this.HR(b,a):this.fZ(b,a)};l.prototype.search=function(b,a){for(a=this.fw(a);-1!=a;){var c=this.Oo.compare(this,b,a);if(0==c)return a;a=0>c?this.Pl(a):this.Nq(a)}return-1};
l.prototype.HX=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var e=b.compare(this,a);if(0==e)return a;0>e?a=this.Pl(a):(c=a,a=this.Nq(a))}return c};l.prototype.lK=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var e=b.compare(this,a);if(0==e)return a;0>e?(c=a,a=this.Pl(a)):a=this.Nq(a)}return c};l.prototype.ja=function(b){return this.pb.S(b,3)};l.prototype.Pl=function(b){return this.pb.S(b,0)};l.prototype.Nq=function(b){return this.pb.S(b,1)};l.prototype.getParent=function(b){return this.pb.S(b,
2)};l.prototype.nb=function(b){return this.pb.S(b,6)};l.prototype.Ve=function(b){return this.pb.S(b,5)};l.prototype.xc=function(b){return-1==b?this.Ol(this.qf):this.Ol(b)};l.prototype.Fc=function(b){return-1==b?this.Zs(this.qf):this.Zs(b)};l.prototype.ST=function(b){return-1==b?this.nH(this.qf):this.nH(b)};l.prototype.kk=function(b,a){this.nC(b,a)};l.prototype.fw=function(b){return-1==b?this.iH(this.qf):this.iH(b)};l.prototype.clear=function(){this.pb.Vi(!1);this.qf=-1};l.prototype.size=function(b){return-1==
b?this.kH(this.qf):this.kH(b)};l.prototype.OP=function(b,a){for(var c=a[7*b],e=a[7*b+1],g=a[7*b+4];-1!=c||-1!=e;){var h=-1!=c?a[7*c+4]:2147483647,e=-1!=e?a[7*e+4]:2147483647;if(g<=Math.min(h,e))break;h<=e?this.iK(c,a):this.hK(b,a);c=a[7*b];e=a[7*b+1]}};l.prototype.Vy=function(b,a){if(this.Dw)for(var c=a[7*b+4],e=a[7*b+2];-1!=e&&a[7*e+4]>c;)a[7*e]==b?this.iK(b,a):this.hK(e,a),e=a[7*b+2]};l.prototype.hK=function(b,a){var c=a[7*b+1],e;a[7*c+2]=a[7*b+2];a[7*b+2]=c;e=a[7*c];a[7*b+1]=e;-1!=e&&(a[7*e+2]=
b);a[7*c]=b;e=a[7*c+2];-1!=e&&(a[7*e]==b?a[7*e]=c:a[7*e+1]=c)};l.prototype.iK=function(b,a){var c=a[7*b+2],e;a[7*b+2]=a[7*c+2];a[7*c+2]=b;e=a[7*b+1];a[7*c]=e;-1!=e&&(a[7*e+2]=c);a[7*b+1]=c;e=a[7*b+2];-1!=e&&(a[7*e]===c?a[7*e]=b:a[7*e+1]=b)};l.prototype.sl=function(b,a){this.pb.P(b,2,a)};l.prototype.rC=function(b,a){this.pb.P(b,0,a)};l.prototype.vC=function(b,a){this.pb.P(b,1,a)};l.prototype.uC=function(b,a){this.pb.P(b,5,a)};l.prototype.Qx=function(b,a){this.pb.P(b,6,a)};l.prototype.OK=function(b,
a){this.pb.P(a,0,b)};l.prototype.mY=function(b){this.pb.P(b,4,0)};l.prototype.pY=function(b,a){this.pb.P(a,5,b)};l.prototype.iH=function(b){return-1==b?-1:this.pb.S(b,0)};l.prototype.Ol=function(b){return-1==b?-1:this.pb.S(b,1)};l.prototype.Zs=function(b){return-1==b?-1:this.pb.S(b,2)};l.prototype.$S=function(b){return-1==b?-1:this.pb.S(b,3)};l.prototype.kH=function(b){return-1==b?0:this.pb.S(b,4)};l.prototype.nH=function(b){return this.pb.S(b,5)};l.prototype.Bx=function(b){return this.pb.nl([-1,
-1,-1,b,this.Ll(),-1,-1])};l.prototype.Kl=function(b){-1!=b&&this.pb.kd(b)};l.prototype.Ll=function(){this.Gn=d.J.HB(this.Gn);return this.Gn&1073741823};l.prototype.WE=function(b,a,c){var e=this.pb.f;if(-1==c||-1==e[7*c])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),e=this.pb.f,e[7*c]=b,this.pq(-1,b,c,e),b;for(var g=-1==c?-1:e[7*c];;){var h=-1==a?1:this.Oo.compare(this,b,g);if(0>h)if(h=this.Pl(g),-1!=h)g=h;else{a=g;b=this.pb.nl([-1,-1,g,b,this.Ll(),-1,-1]);e=this.pb.f;e[7*g]=b;break}else{if(1==
a&&0==h)return e[7*c+3]=g,-1;h=e[7*g+1];if(-1!=h)g=h;else{a=e[7*g+6];b=this.pb.nl([-1,-1,g,b,this.Ll(),-1,-1]);e=this.pb.f;e[7*g+1]=b;break}}}this.Vy(b,e);-1===e[7*b+2]&&(e[7*c]=b);this.pq(a,b,c,e);return b};l.prototype.pq=function(b,a,c,e){var g;-1!=b?(g=e[7*b+5],e[7*b+5]=a):g=-1==c?-1:e[7*c+2];e[7*a+5]=g;-1!=g&&(e[7*g+6]=a);e[7*a+6]=b;b==(-1==c?-1:e[7*c+1])&&(e[7*c+1]=a);-1==b&&(e[7*c+2]=a);e[7*c+4]=(-1==c?0:e[7*c+4])+1};l.prototype.$B=function(b,a){var c=this.pb.f,e=c[7*b+5];b=c[7*b+6];-1!=e?c[7*
e+6]=b:c[7*a+1]=b;-1!=b?c[7*b+5]=e:c[7*a+2]=e;c[7*a+4]=-1===a?-1:c[7*a+4]-1};l.prototype.fZ=function(b,a){this.$B(b,a);var c=this.Pl(b),e=this.Nq(b),g=this.getParent(b),h=b;if(-1!=c&&-1!=e){this.Gn=d.J.HB(this.Gn);var q;q=1073741823<this.Gn?this.nb(b):this.Ve(b);var u=this.getParent(q)==b;this.pb.ay(b,q,0);this.pb.ay(b,q,1);this.pb.ay(b,q,2);-1!=g?this.Pl(g)==b?this.rC(g,q):this.vC(g,q):this.OK(q,a);u?(c==q?(this.rC(q,b),this.sl(e,q)):e==q&&(this.vC(q,b),this.sl(c,q)),this.sl(b,q),g=q):(this.sl(c,
q),this.sl(e,q),g=this.getParent(b),h=q);c=this.Pl(b);e=this.Nq(b);-1!=c&&this.sl(c,b);-1!=e&&this.sl(e,b)}c=-1!=c?c:e;-1==g?this.OK(c,a):this.Pl(g)==h?this.rC(g,c):this.vC(g,c);-1!=c&&this.sl(c,g);this.Kl(b,a)};l.prototype.HR=function(b,a){var c=this.pb.f;c[7*b+4]=2147483647;var e=-1,g=-1,h=-1===a?-1:c[7*a],d=h==b;d&&(e=c[7*h],g=c[7*h+1],-1==e&&-1==g)?(this.$B(h,a),this.Kl(h,a),c[7*a]=-1):(this.OP(b,c),h=c[7*b+2],-1!=h&&(c[7*h]==b?c[7*h]=-1:c[7*h+1]=-1),this.$B(b,a),this.Kl(b,a),d&&(c[7*a]=-1==e||
-1!=c[7*e+2]?g:e))};l.prototype.nC=function(b,a){this.pb.P(b,3,a)};return l}();d.uk=f})(p||(p={}));(function(d){var f=function(){function l(b,a){void 0!==b&&this.I(b,a)}l.prototype.I=function(b,a){this.ca=b;this.ha=a;this.normalize()};l.prototype.Yb=function(b){return this.ca<=b.ca?this.ha>=b.ca:b.ha>=this.ca};l.prototype.move=function(b){this.u()||(this.ca+=b,this.ha+=b)};l.prototype.normalize=function(){if(!isNaN(this.ca)){if(this.ca>this.ha){var b=this.ca;this.ca=this.ha;this.ha=b}isNaN(this.ha)&&
this.Oa()}};l.prototype.Oa=function(){this.ha=this.ca=NaN};l.prototype.u=function(){return isNaN(this.ca)};l.prototype.Nb=function(b){"number"===typeof b?this.u()?this.ha=this.ca=b:this.ml(b):b.u()||(this.u()?(this.ca=b.ca,this.ha=b.ha):(this.ca>b.ca&&(this.ca=b.ca),this.ha<b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa()))};l.prototype.ml=function(b){b<this.ca?this.ca=b:b>this.ha&&(this.ha=b)};l.prototype.contains=function(b){return"number"===typeof b?b>=this.ca&&b<=this.ha:b.ca>=this.ca&&b.ha<=this.ha};
l.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ca<b.ca&&(this.ca=b.ca),this.ha>b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa())};l.prototype.O=function(b){this.u()||(this.ca-=b,this.ha+=b,this.ha<this.ca&&this.Oa())};l.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ca)+Math.abs(this.ha)+1)};l.prototype.kC=function(b,a){b>a?(this.ca=a,this.ha=b):(this.ca=b,this.ha=a)};l.prototype.wu=function(b){return d.J.pk(b,this.ca,this.ha)};l.prototype.N=
function(){return this.ha-this.ca};l.prototype.Wf=function(){return.5*(this.ca+this.ha)};l.prototype.Eb=function(b){return b==this?!0:b instanceof l?this.u()&&b.u()?!0:this.ca!=b.ca||this.ha!=b.ha?!1:!0:!1};l.prototype.jc=function(){return d.J.Zi(d.J.Zi())};return l}();d.Ac=f})(p||(p={}));(function(d){var f=new d.Ac,l=new d.Ac,b=function(){return function(){this.Le=null;this.qb=-1;this.wb=new d.Hb;this.YA=55555555;this.Fw=this.Iw=!1;this.rg=new d.Ac;this.rg.kC(0,0)}}();d.k_=b;var a=function(){function a(a,
c,h){this.a=a;this.il=NaN;this.aJ=this.Ar=0;this.bJ=NaN;this.ta=c;this.Dr=10*c;this.cJ=this.dJ=NaN;this.Ng=!1;this.rn=this.Yt=this.vp=this.St=this.Rt=-1;this.PA=h;this.zB=new b;this.kJ=new b;d.J.truncate(3*a.vd/2)}a.prototype.AH=function(a,c,b,d){a.Le=null===d?null:d[b[5*c]];a.Fw=null!=a.Le;a.Fw||(d=b[5*c+2],-1!==d&&this.a.gX(b[5*c],b[5*d],a.wb),a.Le=a.wb,a.rg.kC(a.wb.ua,a.wb.sa),a.rg.ha+=this.ta,a.wb.BJ(),a.Iw=a.wb.oa==a.wb.ra,a.Iw||(a.YA=(a.wb.sa-a.wb.ua)/(a.wb.oa-a.wb.ra)))};a.prototype.RQ=function(a,
c){var e=a.ys(c,this.ta,!0);if(0!=e)return 2==e?this.Az():this.Wi();a.Oq(R);a.Ps(V);c.Oq(U);c.Ps(aa);z.ka(this.Ar,this.il);R.ub(U)&&this.il==R.y?0>V.compare(aa)?z.L(V):z.L(aa):R.ub(aa)&&this.il==R.y?0>V.compare(U)?z.L(V):z.L(U):U.ub(V)&&this.il==U.y?0>R.compare(aa)?z.L(R):z.L(aa):V.ub(aa)&&this.il==V.y&&(0>R.compare(U)?z.L(R):z.L(U));return a.pf(z.y,z.x)<c.pf(z.y,z.x)?-1:1};a.prototype.PQ=function(a,c){if(a.wb.ra==c.wb.ra&&a.wb.ua==c.wb.ua)return a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa?this.PA?this.Az():
0:this.VF(a,c);if(a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa)return this.UF(a,c);var e=this.UF(a,c);a=this.VF(a,c);return 0>e&&0>a?-1:0<e&&0<a?1:this.Wi()};a.prototype.LQ=function(a,c){if(a.sa>c.sa){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.sa-a.ua)<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 1};a.prototype.MQ=function(a,c){if(a.ua<c.ua){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-
c.ra)/(c.sa-c.ua)*(a.ua-a.sa)<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi();return-1};a.prototype.NQ=function(a,c){var e=new d.b;e.zc(c.Cc(),c.ec());e.Ur();e.normalize();var b=new d.b;b.zc(a.ec(),c.ec());var g=new d.b;g.zc(a.Cc(),c.ec());var b=b.oi(e),e=g.oi(e),g=Math.abs(b),y=Math.abs(e);if(g<y){if(g<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi()}else if(y<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 0>b&&0>e?-1:0<b&&0<e?1:this.Wi()};a.prototype.TF=function(a,c){return a.ra==c.ra&&
a.ua==c.ua?this.LQ(a,c):a.oa==c.oa&&a.sa==c.sa?this.MQ(a,c):this.NQ(a,c)};a.prototype.OQ=function(a,c){return a.oa==c.oa&&a.sa==c.sa&&a.ra==c.ra&&a.ua==c.ua?this.PA?this.Az():0:this.Wi()};a.prototype.UF=function(a,c){var e=1;if(a.wb.ra<c.wb.ra){var e=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var g=b.ua-a.ua;c=c.YA*(b.ra-a.ra);var d=this.Dr;return g<c-d?-e:g>c+d?e:a.Si(b.ua,b.ra,this.ta)?this.Wi():g<c?-e:e};a.prototype.VF=function(a,c){var e=1;if(c.wb.oa<a.wb.oa){var e=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var g=b.sa-a.ua;
c=c.YA*(b.oa-a.ra);var d=this.Dr;return g<c-d?-e:g>c+d?e:a.Si(b.sa,b.oa,this.ta)?this.Wi():g<c?-e:e};a.prototype.Az=function(){this.Ng=!0;this.mj=new d.$d(5,this.vp,this.Yt);return-1};a.prototype.Wi=function(){this.Ng=!0;this.PA?this.mj=new d.$d(4,this.vp,this.Yt):this.Yt=this.vp=this.St=this.Rt=-1;return-1};a.prototype.QQ=function(a,c,b,d){if(this.Ng)return-1;var e=this.bJ==this.il&&this.aJ==this.Ar,g;e&&a==this.Rt?g=this.cJ:(g=NaN,this.Rt=-1);e&&c==this.St?e=this.dJ:(e=NaN,this.St=-1);b.Le.SJ(f);
d.Le.SJ(l);if(f.ha<l.ca)return-1;if(l.ha<f.ca)return 1;this.bJ=this.il;this.aJ=this.Ar;isNaN(g)&&(this.Rt=a,this.cJ=g=a=b.Le.pf(this.il,this.Ar));isNaN(e)&&(this.St=c,this.dJ=e=a=d.Le.pf(this.il,this.Ar));return Math.abs(g-e)<=this.ta?this.RQ(b.Le,d.Le):g<e?-1:g>e?1:0};a.prototype.Gs=function(){this.Ng=!1};a.prototype.en=function(){return this.mj};a.prototype.QK=function(a,c){this.il=a;this.Ar=c;this.Yt=this.vp=this.St=this.Rt=-1};a.prototype.compare=function(a,c,b){if(this.Ng)return-1;a=a.ja(b);
this.rn=b;return this.XF(c,c,a,a)};a.prototype.XF=function(a,c,b,d){var e;this.vp==c?e=this.zB:(this.vp=c,e=this.zB,this.zB.qb=a,this.AH(e,c,this.a.Dd.f,this.a.wf));var g;null==g&&(this.Yt=d,g=this.kJ,this.kJ.qb=b,this.AH(g,d,this.a.Dd.f,this.a.wf));if(e.Fw||g.Fw)return this.QQ(c,d,e,g);if(e.rg.ha<g.rg.ca)return-1;if(g.rg.ha<e.rg.ca)return 1;a=e.Iw?1:0;a|=g.Iw?2:0;return 0==a?this.PQ(e,g):1==a?this.TF(e.wb,g.wb):2==a?-1*this.TF(g.wb,e.wb):this.OQ(e.wb,g.wb)};return a}();d.fE=a})(p||(p={}));(function(d){var f=
function(){function l(b,a){this.a=b;this.ta=a;this.Ng=!1;this.vp=-1;this.rg=new d.Ac;this.wr=new d.b;this.wr.$c();this.Fe=new d.Hb;this.rn=-1;this.hB=1.7976931348623157E308}l.prototype.Gs=function(){this.Ng=!1;this.hB=1.7976931348623157E308};l.prototype.Yh=function(b){this.wr.L(b)};l.prototype.compare=function(b,a){return this.YF(a,b.ja(a))};l.prototype.YF=function(b,a){var c=null!=this.a.ic(a);c||(this.a.pd(a,this.Fe),this.rg.kC(this.Fe.ua,this.Fe.sa));if(c)throw d.g.X("not implemented");if(this.wr.x+
this.ta<this.rg.ca)return-1;if(this.wr.x-this.ta>this.rg.ha)return 1;if(this.Fe.ra==this.Fe.oa)return this.rn=b,this.Ng=!0,0;this.Fe.BJ();a=this.Fe.ec();c=new d.b;c.zc(this.Fe.Cc(),a);c.Ur();var e=new d.b;e.zc(this.wr,a);a=c.oi(e);a/=c.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Fe.mt(this.wr,this.ta)&&(c=Math.abs(a),c<this.hB&&(this.rn=b,this.hB=c),this.Ng=!0,c<.25*this.ta)?0:0>a?-1:1};return l}();d.aO=f})(p||(p={}));(function(d){function f(b,a,c,e){c=new Float64Array(b.subarray(c,e));b.set(c,
a)}var l=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=d.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,e){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>e||a>e)throw d.g.F();a!=c&&e!=c&&(this.Zd(a,c-a,1),this.Zd(c,e-c,1),this.Zd(a,e-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);e.f=a.f.slice(0,e.size);
return e};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.oX=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+
1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(d.J.truncate(5*a/4)<this.f.length){var e=this.f.slice(0,a);this.f=e}}else if(a>this.f.length){d.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var e=this.f.slice(0),b=this.f.length;b<a;b++)e[b]=c;this.f=e}this.size=a};b.prototype.yf=
function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,e){for(var b=this.size;c<b&&c<e;c++)a=d.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,h=a.size;if(e>g||e>h&&g!=h)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Sq=
function(a,c,e,b,h,q){if(this.xa)throw d.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;q-=a;for(var g=this.f.slice(a,a+q),y=0;y<q;y++)this.f[a+2*b+y]=g[y];if(h)for(h=0;h<b;h++)q=c[e++],this.f[a++]=q.x,this.f[a++]=q.y;else for(h=0,g=b-1;h<b;++h)q=c[e+g],this.f[a++]=q.x,this.f[a++]=q.y,g--};b.prototype.Rk=function(a,c,e,b,h,q,u){if(this.xa)throw d.g.Da();if(!h&&(1>q||0!=b%q))throw d.g.F();var g=this.size-u;g<b&&this.resize(this.size+b-g);for(g=0;g<u-
a;g++)this.f[a+b+g]=this.f[a+g];this.f==c.f&&a<e&&(e+=b);if(h)for(g=0;g<b;g++)this.f[g+a]=c.f[e+g];else for(h=b,u=0;u<b;u+=q)for(h-=q,g=0;g<q;g++)this.f[a+u+g]=c.f[e+h+g]};b.prototype.Vj=function(a,c,e,b){if(this.xa)throw d.g.Da();b-=a;for(var g=this.f.slice(a,a+b),q=0;q<b;q++)this.f[a+e+q]=g[q];for(b=0;b<e;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,e){if(this.xa)throw d.g.Da();for(var b=this.f.slice(a,a+(e-a)),h=0;h<e-a;h++)this.f[h+a+2]=b[h];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,
c,e,b,h){if(0>a||0>c||0>b)throw d.g.F();if(e.length<b+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),h)for(h=0;h<c;h++)this.f[a+h]=e[b+h];else for(h||(a+=c-1),c=b+c;b<c;b++)this.f[a]=e[b],a--};b.prototype.ho=function(a,c,e,b,h,q){if(0>a||0>c||0>b)throw d.g.F();if(!h&&(0>=q||0!=c%q))throw d.g.F();if(e.size<b+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),e==this)this.Ij(a,c,b,h,q);else if(h)for(h=0;h<c;h++)this.f[a]=e.f[b],a++,b++;else if(b=b+c-q,1==q)for(h=0;h<c;h++)this.f[a]=
e.f[b],a++,b--;else for(h=0,c=d.J.truncate(c/q);h<c;h++){for(var g=0;g<q;g++)this.f[a+g]=e.f[b+g];a+=q;b-=q}};b.prototype.Fk=function(a,c,e){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();if(0<e-(a+c)){e-=a+c;for(var b=this.f.slice(a+c,a+e+c),h=0;h<e;h++)this.f[a+h]=b[h]}this.size-=c};b.prototype.Zd=function(a,c,e){if(this.xa)throw d.g.Da();if(1>e||0!=c%e)throw d.g.Da();for(var b=c>>1,h=0;h<b;h+=e){c-=e;for(var q=0;q<e;q++){var u=this.f[a+h+q];this.f[a+h+q]=this.f[a+c+q];this.f[a+c+q]=
u}}};b.prototype.Zh=function(a,c,e){if(0>c||0>e||0>c||e+c>this.size)throw d.g.F();for(var b=c;b<c+e;b++)this.f[b]=a};b.prototype.Ij=function(a,c,e,b,h){if(!b||a!=e){for(var g=0;g<c;g++)this.f[a+g]=this.f[e+g];if(!b)for(e=a,a=a+c-h,b=0,c=d.J.truncate(c/2);b<c;b++){for(g=0;g<h;g++){var u=this.f[e+g];this.f[e+g]=this.f[a+g];this.f[a+g]=u}e+=h;a-=h}}};b.prototype.ks=function(a,c,e,b,h){if(0>a||0>c||0>b)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=b;b<
c;b++)this.f[a]=e[b].x,this.f[a+1]=e[b].y,a+=h};b.prototype.hy=function(a,c,e,b,h){if(0>a||0>c||0>b)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=b;b<c;b++)this.f[a]=e[b][0],this.f[a+1]=e[b][1],a+=h};b.prototype.pl=function(a,c,e,b,h){if(0>a||0>c||0>b||this.size<c+a)throw d.g.F();if(h)for(h=0;h<c;h++)e[b+h]=this.f[a+h];else for(b=b+c-1;a<c;a++)e[b]=this.f[a],b--};b.prototype.Hx=function(a,c,e,b,h){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw d.g.F();
if(0!=c)for(h||(a+=c-1),h=h?2:-2,c=b+c;b<c;b++)e[b][0]=this.f[a],e[b][1]=this.f[a+1],a+=h};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,e){var b=this.f.slice(0,a),h=this.f.slice(c);a=this.f.slice(a,c).sort(e);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(h))};b.prototype.si=function(){return 1};b.Bb=0;return b}();d.Rd=l;l=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);
this.f=new Float64Array(c);this.size=a}b.prototype.rotate=function(a,c,e){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>e||a>e)throw d.g.F();a!=c&&e!=c&&(this.Zd(a,c-a,1),this.Zd(c,e-c,1),this.Zd(a,e-a,1))};b.zd=function(a,c){var e=new b(a),g=e.f;2>a&&(a=2);if(0!==c)for(var h=0;h<a;h++)g[h]=c;return e};b.Bk=function(a){var c=new b(0);c.f=new Float64Array(a.f);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);c=e.size;2>c&&(c=2);e.f=new Float64Array(c);
e.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return e};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();
this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var e=new Float64Array(this.f,0,
a);this.f=e}}else{a>this.f.length&&(e=d.J.truncate(64>a?Math.max(2*a,4):5*a/4),e=new Float64Array(e),e.set(this.f),this.f=e);for(var e=this.f,b=this.size;b<a;b++)e[b]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,e){for(var b=this.size;c<b&&c<e;c++)a=d.J.Zi(this.read(c));return a};
b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,h=a.size;if(e>g||e>h&&g!=h)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,e,b,h,q,u){if(this.xa)throw d.g.Da();if(!h&&(1>q||0!=b%q))throw d.g.F();var g=this.size-u;g<b&&this.resize(this.size+b-g);f(this.f,a+b,a,a+(u-a));this.f==c.f&&a<e&&(e+=b);if(h)this.f.set(c.f.subarray(e,e+b),a);else for(h=b,u=0;u<b;u+=q)for(h-=q,g=0;g<q;g++)this.f[a+u+g]=c.f[e+h+g]};
b.prototype.Sq=function(a,c,e,b,h,q){if(this.xa)throw d.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;f(this.f,a+2*b,a,a+(q-a));if(h)for(h=0;h<b;h++)q=c[e++],this.f[a++]=q.x,this.f[a++]=q.y;else{h=0;for(var g=b-1;h<b;++h)q=c[e+g],this.f[a++]=q.x,this.f[a++]=q.y,g--}};b.prototype.Vj=function(a,c,e,b){if(this.xa)throw d.g.Da();b-=a;f(this.f,a+b,a,a+b);for(b=0;b<e;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,e){if(this.xa)throw d.g.Da();f(this.f,a+
2,a,a+(e-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,e,b,h){if(0>a||0>c||0>b)throw d.g.F();if(e.length<b+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),h)this.f.set(e.subarray(b,c),a);else for(h||(a+=c-1),c=b+c;b<c;b++)this.f[a]=e[b],a--};b.prototype.ho=function(a,c,e,b,h,q){if(0>a||0>c||0>b)throw d.g.F();if(!h&&(0>=q||0!=c%q))throw d.g.F();if(e.size<b+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),e==this)this.Ij(a,c,b,h,q);else if(h)for(h=0;h<c;h++)this.f[a]=
e.f[b],a++,b++;else if(b=b+c-q,1==q)for(h=0;h<c;h++)this.f[a]=e.f[b],a++,b--;else for(h=0,c=d.J.truncate(c/q);h<c;h++){for(var g=0;g<q;g++)this.f[a+g]=e.f[b+g];a+=q;b-=q}};b.prototype.Fk=function(a,c,e){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();0<e-(a+c)&&f(this.f,a,a+c,a+(e-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,e){if(this.xa)throw d.g.Da();if(1>e||0!=c%e)throw d.g.Da();for(var b=c>>1,h=0;h<b;h+=e){c-=e;for(var q=0;q<e;q++){var u=this.f[a+h+q];this.f[a+h+q]=this.f[a+
c+q];this.f[a+c+q]=u}}};b.prototype.Zh=function(a,c,e){if(0>c||0>e||0>c||e+c>this.size)throw d.g.F();for(var b=c;b<c+e;b++)this.f[b]=a};b.prototype.Ij=function(a,c,e,b,h){if(!b||a!=e)if(this.f.set(this.f.subarray(e,e+c),a),!b)for(e=a,a=a+c-h,b=0,c=d.J.truncate(c/2);b<c;b++){for(var g=0;g<h;g++){var u=this.f[e+g];this.f[e+g]=this.f[a+g];this.f[a+g]=u}e+=h;a-=h}};b.prototype.ks=function(a,c,e,b,h){if(0>a||0>c||0>b)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=
h?2:-2,c+=b;b<c;b++)this.f[a]=e[b].x,this.f[a+1]=e[b].y,a+=h};b.prototype.hy=function(a,c,e,b,h){if(0>a||0>c||0>b)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=b;b<c;b++)this.f[a]=e[b][0],this.f[a+1]=e[b][1],a+=h};b.prototype.pl=function(a,c,e,b,h){if(0>a||0>c||0>b||this.size<c+a)throw d.g.F();if(h)for(h=0;h<c;h++)e[b+h]=this.f[a+h];else for(b=b+c-1;a<c;a++)e[b]=this.f[a],b--};b.prototype.Hx=function(a,c,e,b,h){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw d.g.F();
if(0!=c)for(h||(a+=c-1),h=h?2:-2,c=b+c;b<c;b++)e[b][0]=this.f[a],e[b][1]=this.f[a+1],a+=h};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,e){Array.prototype.sort.call(this.f.subarray(a,c),e)};b.prototype.si=function(){return 1};return b}();d.KL=l})(p||(p={}));!0===p.Xh.Bm&&!0===p.Xh.jw&&(p.Rd=p.KL);(function(d){function f(b,a,c,e){c=new Int32Array(b.subarray(c,e));b.set(c,a)}d.BZ=function(){return function(){this.random=
1973}}();var l=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=this.f=d.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,e){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>e||a>e)throw d.g.F();a!=c&&e!=c&&(this.Zd(a,c-a,1),this.Zd(c,e-c,1),this.Zd(a,e-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);e.f=a.f.slice(0,
e.size);return e};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};
b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(d.J.truncate(5*a/4)<this.f.length){var e=this.f.slice(0,a);this.f=e}}else if(a>this.f.length){d.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var e=this.f.slice(0),b=this.f.length;b<a;b++)e[b]=c;this.f=e}this.size=a};b.prototype.yf=function(a){(null==
this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,e){for(var b=this.size;c<b&&c<e;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,h=a.size;if(e>g||e>h&&g!=h)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,
c,e,b,h,q,u){if(this.xa)throw d.g.Da();if(!h&&(1>q||0!=b%q))throw d.g.F();for(var g=0;g<u-a;g++)this.f[a+b+g]=this.f[a+g];this.f==c.f&&a<e&&(e+=b);if(h)for(g=0;g<b;g++)this.f[g+a]=c.f[e+g];else for(h=b,u=0;u<b;u+=q)for(h-=q,g=0;g<q;g++)this.f[a+u+g]=c.f[e+h+g]};b.prototype.Sq=function(a,c,e,b,h,q){if(this.xa)throw d.g.Da();0>q&&(q=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;q-=a;for(var g=this.f.slice(a,a+q),y=0;y<q;y++)this.f[a+2*b+y]=g[y];if(h)for(h=0;h<b;h++)q=
c[e++],this.f[a++]=q.x,this.f[a++]=q.y;else for(h=0,g=b-1;h<b;++h)q=c[e+g],this.f[a++]=q.x,this.f[a++]=q.y,g--};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;for(var e=this.f.slice(a,a+g),q=0;q<g;q++)this.f[a+b+q]=e[q];for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();for(var e=this.f.slice(a,a+(b-a)),h=0;h<b-a;h++)this.f[h+a+2]=e[h];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(b.length<
g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),h)for(h=0;h<c;h++)this.f[a+h]=b[g+h];else for(h||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,h,q){if(0>a||0>c||0>g)throw d.g.F();if(!h&&(0>=q||0!=c%q))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,h,q);else if(h)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g--;else for(h=0,c=d.J.truncate(c/q);h<
c;h++){for(var e=0;e<q;e++)this.f[a+e]=b.f[g+e];a+=q;g-=q}};b.prototype.Fk=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();if(0<b-(a+c)){b-=a+c;for(var e=this.f.slice(a+c,a+b+c),h=0;h<b;h++)this.f[a+h]=e[h]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,h=0;h<e;h+=b){c-=b;for(var q=0;q<b;q++){var u=this.f[a+h+q];this.f[a+h+q]=this.f[a+c+q];this.f[a+c+q]=u}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>
c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=a};b.prototype.Ij=function(a,c,b,g,h){if(!g||a!=b){for(var e=0;e<c;e++)this.f[a+e]=this.f[b+e];if(!g)for(b=a,a=a+c-h,g=0,c=d.J.truncate(c/2);g<c;g++){for(e=0;e<h;e++){var u=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=u}b+=h;a-=h}}};b.prototype.ks=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=h};b.prototype.pl=
function(a,c,b,g,h){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();if(h)for(h=0;h<c;h++)b[g+h]=this.f[a+h];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var e=this.f.slice(0,a),h=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,e.concat(a).concat(h))};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-
1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.nA=function(a){return 0<=this.Ov(a)};b.Bb=0;return b}();d.ia=l;l=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Int32Array(c);this.size=a}b.prototype.rotate=
function(a,c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){var e=new b(a),g=e.f;2>a&&(a=2);if(0!==c)for(var h=0;h<a;h++)g[h]=c;return e};b.Bk=function(a){var c=new b(0);c.f=new Int32Array(a.f);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);c=e.size;2>c&&(c=2);e.f=new Int32Array(c);e.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return e};b.prototype.yb=
function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();
this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=d.J.truncate(64>a?Math.max(2*a,
4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,g=this.size;g<a;g++)b[g]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;
var g=this.size,h=a.size;if(e>g||e>h&&g!=h)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,g,h,q,u){if(this.xa)throw d.g.Da();if(!h&&(1>q||0!=g%q))throw d.g.F();f(this.f,a+g,a,a+(u-a));this.f==c.f&&a<b&&(b+=g);if(h)this.f.set(c.f.subarray(b,b+g),a);else for(h=g,u=0;u<g;u+=q){h-=q;for(var e=0;e<q;e++)this.f[a+u+e]=c.f[b+h+e]}};b.prototype.Sq=function(a,c,b,g,h,q){if(this.xa)throw d.g.Da();0>q&&(q=this.size);this.size+2*g>this.f.length?this.resize(this.size+
2*g):this.size+=2*g;f(this.f,a+2*g,a,a+(q-a));if(h)for(h=0;h<g;h++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else{h=0;for(var e=g-1;h<g;++h)q=c[b+e],this.f[a++]=q.x,this.f[a++]=q.y,e--}};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;f(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();f(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),h)this.f.set(b.subarray(g,c),a);else for(h||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,h,q){if(0>a||0>c||0>g)throw d.g.F();if(!h&&(0>=q||0!=c%q))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,h,q);else if(h)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g--;else for(h=0,c=d.J.truncate(c/q);h<c;h++){for(var e=0;e<
q;e++)this.f[a+e]=b.f[g+e];a+=q;g-=q}};b.prototype.Fk=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();0<b-(a+c)&&f(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,h=0;h<e;h+=b){c-=b;for(var q=0;q<b;q++){var u=this.f[a+h+q];this.f[a+h+q]=this.f[a+c+q];this.f[a+c+q]=u}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=
a};b.prototype.Ij=function(a,c,b,g,h){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-h,g=0,c=d.J.truncate(c/2);g<c;g++){for(var e=0;e<h;e++){var u=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=u}b+=h;a-=h}};b.prototype.ks=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=h};b.prototype.pl=function(a,c,b,g,h){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();
if(h)for(h=0;h<c;h++)b[g+h]=this.f[a+h];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,e){10>c-a?b.ul(this.f,a,c,e):b.Oi(this.f,a,c-1,e)};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&
(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.nA=function(a){return 0<=this.Ov(a)};b.ul=function(a,c,b,g){for(var e=c;e<b;e++){for(var d=a[e],u=e-1;u>=c&&0<g(a[u],d);)a[u+1]=a[u],u--;a[u+1]=d}};b.Wg=function(a,c,b){var e=a[b];a[b]=a[c];a[c]=e};b.Oi=function(a,c,e,g){if(!(c>=e))for(;;){if(9>e-c){b.ul(a,c,e+1,g);break}var h=a[c];b.Wg(a,c,e);for(var d=c,u=c;u<e;u++)0>=g(a[u],h)&&(b.Wg(a,
d,u),d+=1);b.Wg(a,d,e);d-c<e-d?(b.Oi(a,c,d-1,g),c=d+1):(b.Oi(a,d+1,e,g),e=d-1)}};return b}();d.jy=l})(p||(p={}));!0===p.Xh.Bm&&(p.ia=p.jy);(function(d){function f(b,a,c,e){c=new Int8Array(b.subarray(c,e));b.set(c,a)}var l=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=d.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=
function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);e.f=a.f.slice(0,e.size);return e};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,
c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(d.J.truncate(5*a/4)<this.f.length){var b=
this.f.slice(0,a);this.f=b}}else if(a>this.f.length){d.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),g=this.f.length;g<a;g++)b[g]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=
function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,h=a.size;if(e>g||e>h&&g!=h)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,g,h,q,u){if(this.xa)throw d.g.Da();if(!h&&(1>q||0!=g%q))throw d.g.F();for(var e=0;e<u-a;e++)this.f[a+g+e]=this.f[a+e];this.f==c.f&&a<b&&(b+=g);if(h)for(e=0;e<g;e++)this.f[e+a]=c.f[b+e];else for(h=g,u=0;u<g;u+=q)for(h-=q,e=0;e<q;e++)this.f[a+u+e]=c.f[b+h+e]};b.prototype.Sq=function(a,c,b,g,h,q){if(this.xa)throw d.g.Da();
0>q&&(q=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;q-=a;for(var e=this.f.slice(a,a+q),y=0;y<q;y++)this.f[a+2*g+y]=e[y];if(h)for(h=0;h<g;h++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else for(h=0,e=g-1;h<g;++h)q=c[b+e],this.f[a++]=q.x,this.f[a++]=q.y,e--};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;for(var e=this.f.slice(a,a+g),q=0;q<g;q++)this.f[a+b+q]=e[q];for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();
for(var e=this.f.slice(a,a+(b-a)),h=0;h<b-a;h++)this.f[h+a+2]=e[h];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),h)for(h=0;h<c;h++)this.f[a+h]=b[g+h];else for(h||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,h,q){if(0>a||0>c||0>g)throw d.g.F();if(!h&&(0>=q||0!=c%q))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+
a),b==this)this.Ij(a,c,g,h,q);else if(h)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g--;else for(h=0,c=d.J.truncate(c/q);h<c;h++){for(var e=0;e<q;e++)this.f[a+e]=b.f[g+e];a+=q;g-=q}};b.prototype.Fk=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();if(0<b-(a+c)){b-=a+c;for(var e=this.f.slice(a+c,a+b+c),h=0;h<b;h++)this.f[a+h]=e[h]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();
for(var e=c>>1,h=0;h<e;h+=b){c-=b;for(var q=0;q<b;q++){var u=this.f[a+h+q];this.f[a+h+q]=this.f[a+c+q];this.f[a+c+q]=u}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=a};b.prototype.Ij=function(a,c,b,g,h){if(!g||a!=b){for(var e=0;e<c;e++)this.f[a+e]=this.f[b+e];if(!g)for(b=a,a=a+c-h,g=0,c=d.J.truncate(c/2);g<c;g++){for(e=0;e<h;e++){var u=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=u}b+=h;a-=h}}};b.prototype.ks=function(a,c,b,g,h){if(0>
a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=h};b.prototype.pl=function(a,c,b,g,h){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();if(h)for(h=0;h<c;h++)b[g+h]=this.f[a+h];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var e=this.f.slice(0,a),h=this.f.slice(c);
a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,e.concat(a).concat(h))};b.prototype.si=function(){return 1};b.prototype.iC=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.Bb=0;return b}();d.Fm=l;l=function(){function b(a){this.f=null;var c=a;2>c&&(c=2);this.f=new Int8Array(c);this.size=a}b.prototype.rotate=function(a,
c,b){if(this.xa)throw d.g.X("invalid_call");if(c<a||c>b||a>b)throw d.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){var e=new b(a),g=e.f;2>a&&(a=2);if(0!==c)for(var h=0;h<a;h++)g[h]=c;return e};b.Bk=function(a){var c=new b(0);c.f=new Int8Array(a.f);c.size=a.size;return c};b.$=function(a,c){var e=new b(0);e.size=a.size;e.size>c&&(e.size=c);c=e.size;2>c&&(c=2);e.f=new Int8Array(c);e.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return e};b.prototype.yb=function(a){0>=
a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw d.g.Da();this.f[a]=
c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=d.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=
new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,g=this.size;g<a;g++)b[g]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw d.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var e=this.size;c<e&&c<b;c++)a=d.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,e){if(null==a||!(a instanceof b))return!1;var g=this.size,
h=a.size;if(e>g||e>h&&g!=h)return!1;for(e>g&&(e=g);c<e;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,g,h,q,u){if(this.xa)throw d.g.Da();if(!h&&(1>q||0!=g%q))throw d.g.F();f(this.f,a+g,a,a+(u-a));this.f==c.f&&a<b&&(b+=g);if(h)this.f.set(c.f.subarray(b,b+g),a);else for(h=g,u=0;u<g;u+=q){h-=q;for(var e=0;e<q;e++)this.f[a+u+e]=c.f[b+h+e]}};b.prototype.Vj=function(a,c,b,g){if(this.xa)throw d.g.Da();g-=a;f(this.f,a+g,a,a+g);for(g=0;g<b;g++)this.f[a+g]=c};b.prototype.Sq=
function(a,c,b,g,h,q){if(this.xa)throw d.g.Da();0>q&&(q=this.size);this.size+2*g>this.f.length?this.resize(this.size+2*g):this.size+=2*g;f(this.f,a+2*g,a,a+(q-a));if(h)for(h=0;h<g;h++)q=c[b++],this.f[a++]=q.x,this.f[a++]=q.y;else{h=0;for(var e=g-1;h<g;++h)q=c[b+e],this.f[a++]=q.x,this.f[a++]=q.y,e--}};b.prototype.eh=function(a,c,b){if(this.xa)throw d.g.Da();f(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(b.length<g+c)throw d.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),h)this.f.set(b.subarray(g,c),a);else for(h||(a+=c-1),c=g+c;g<c;g++)this.f[a]=b[g],a--};b.prototype.ho=function(a,c,b,g,h,q){if(0>a||0>c||0>g)throw d.g.F();if(!h&&(0>=q||0!=c%q))throw d.g.F();if(b.size<g+c)throw d.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,g,h,q);else if(h)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g++;else if(g=g+c-q,1==q)for(h=0;h<c;h++)this.f[a]=b.f[g],a++,g--;else for(h=0,c=d.J.truncate(c/q);h<c;h++){for(var e=0;e<
q;e++)this.f[a+e]=b.f[g+e];a+=q;g-=q}};b.prototype.Fk=function(a,c,b){if(this.xa)throw d.g.Da();if(a+c>this.size)throw d.g.Da();0<b-(a+c)&&f(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw d.g.Da();if(1>b||0!=c%b)throw d.g.Da();for(var e=c>>1,h=0;h<e;h+=b){c-=b;for(var q=0;q<b;q++){var u=this.f[a+h+q];this.f[a+h+q]=this.f[a+c+q];this.f[a+c+q]=u}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw d.g.F();for(var e=c;e<c+b;e++)this.f[e]=
a};b.prototype.Ij=function(a,c,b,g,h){if(!g||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!g)for(b=a,a=a+c-h,g=0,c=d.J.truncate(c/2);g<c;g++){for(var e=0;e<h;e++){var u=this.f[b+e];this.f[b+e]=this.f[a+e];this.f[a+e]=u}b+=h;a-=h}};b.prototype.ks=function(a,c,b,g,h){if(0>a||0>c||0>g)throw d.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),h||(a+=c-1<<1),h=h?2:-2,c+=g;g<c;g++)this.f[a]=b[g].x,this.f[a+1]=b[g].y,a+=h};b.prototype.pl=function(a,c,b,g,h){if(0>a||0>c||0>g||this.size<c+a)throw d.g.F();
if(h)for(h=0;h<c;h++)b[g+h]=this.f[a+h];else for(g=g+c-1;a<c;a++)b[g]=this.f[a],g--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){c=this.f.subarray(a,c);Array.prototype.sort.call(c,b);this.f.set(c,a)};b.prototype.iC=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw d.g.X("invalid call. Attribute Stream is read only.");
this.f[a]&=~c};b.prototype.si=function(){return 1};return b}();d.ky=l})(p||(p={}));!0===p.Xh.Bm&&(p.Fm=p.ky);(function(d){var f=function(){function l(){}l.vq=function(b,a){return d.Fm.zd(b,a)};l.Um=function(b,a){return d.Rd.zd(b,a)};l.pz=function(b,a,c){switch(b){case 1:b=d.Rd.zd(a,c);break;case 2:b=d.ia.zd(a,c);break;case 4:b=d.Fm.zd(a,c);break;default:throw d.g.za();}return b};l.qz=function(b,a){return l.pz(d.ma.si(b),a*d.ma.Xa(b),d.ma.de(b))};l.wh=function(b,a){return d.ia.zd(b,a)};l.IB=function(b){var a,
c=[];for(a=0;a<b;a++)c.push(null);return c};return l}();d.Uc=f})(p||(p={}));(function(d){var f=function(){function l(){}l.vq=function(b,a){return d.ky.zd(b,a)};l.Um=function(b,a){return d.Rd.zd(b,a)};l.pz=function(b,a,c){switch(b){case 1:b=d.Rd.zd(a,c);break;case 2:b=d.jy.zd(a,c);break;case 4:b=d.ky.zd(a,c);break;default:throw d.g.za();}return b};l.qz=function(b,a){return d.Uc.pz(d.ma.si(b),a*d.ma.Xa(b),d.ma.de(b))};l.wh=function(b,a){return d.jy.zd(b,a)};l.IB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);
return c};return l}();d.LL=f})(p||(p={}));!0===p.Xh.Bm&&(p.Uc=p.LL);(function(d){d.ea=function(){return function(d){void 0===d&&(d=0);this.j=d}}()})(p||(p={}));(function(d){var f=function(){function l(){}l.bind=function(b){d.Vc=b.PeDefs;d.Tf=b.PeFactory;d.QD=b.PeVertcs;d.ND=b.PeCoordsys;d.fi=b.PeCSTransformations;d.PD=b.PeGTTransformations;d.yN=b.PeGeogtran;d.xN=b.PeFactoryCodechange;d.OD=b.PeGCSExtent;d.Bg=b.PePCSInfo;d.zN=b.PeHorizon;d.ND=b.PeCoordsys;d.fq=b.PeGTlistExtended;d.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;d.Tf.initialize(null);d.wy=b.PeGTlistExtendedEntry;l.QY=d.Tf.fromString(d.Vc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};l.w_=function(){};l.QY=null;return l}();d.AN=f;d.Tf=null;d.QD=null;d.ND=null;d.zN=null;d.Bg=null;d.fq=null;d.wy=null;d.OD=null;d.xN=null;d.yN=null;d.Vc=null;d.PD=null;d.fi=null})(p||(p={}));(function(d){var f=function(){function b(){}b.Ab=function(a,c){return 0<=c?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Qi=function(a){return 3.552713678800501E-15>a};b.MD=function(a,c,e){return b.K(a-
c)<=e*(1+(b.K(a)+b.K(c))/2)};b.W=function(a,c){return b.MD(a,c,3.552713678800501E-15)};b.jW=function(a){return 3.552713678800501E-15>=b.K(a)};b.xd=function(a){return b.jW(a)};return b}();d.l=f;var l=function(){function b(){}b.Sp=function(a,c){a=f.K(a);c=f.K(c);var b=0;0!=a+c&&(a>c?(b=c/a,b=a*Math.sqrt(1+b*b)):(b=a/c,b=c*Math.sqrt(1+b*b)));return b};b.Or=function(a,c,e,g,h){for(var d=[0,0,0],u=[0,0,0],y=0;2>=y;y++)c[y]-=a[y],e[y]-=c[y];e=d[1]*u[2]-d[2]*u[1];c=d[2]*u[0]-d[0]*u[2];d=d[0]*u[1]-d[1]*u[0];
a=-1*(e*a[0]+c*a[1]+d*a[2]);g[0]=e;g[1]=c;g[2]=d;g[3]=a;u=b.eo(g);g[0]/=u;g[1]/=u;g[2]/=u;g[3]/=u;0!=h&&(u=f.xd(d)?f.xd(a)?f.Ab(1,c):-f.Ab(1,a):f.Ab(1,d),u*=f.Ab(1,h),g[0]*=u,g[1]*=u,g[2]*=u,g[3]*=u)};b.fy=function(a,c,b){b[0]=a[1]*c[2]-c[1]*a[2];b[1]=a[2]*c[0]-c[2]*a[0];b[2]=a[0]*c[1]-c[0]*a[1]};b.Eu=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.eo=function(a){return b.Sp(b.Sp(a[0],a[1]),a[2])};b.Dk=function(a,c,e,g,h,d,u,y){a=b.n(a,c,e);var q=Math.cos(e);d.j=(a+h)*q*Math.cos(g);u.j=(a+h)*
q*Math.sin(g);y.j=(a*(1-c)+h)*Math.sin(e)};b.jQ=function(a,c,e,g,h,d,u){var q=b.Sp(c,e),l=1*Math.sqrt(1-a),N=l/1;if(f.W(q,0))d.j=0,h.j=f.Ab(1.570796326794897,g),u.j=f.K(g)-l;else{d.j=Math.atan2(e,c);e=Math.atan2(1*g,l*q);d=Math.cos(e);var K=Math.sin(e);c=l*a/(1-a);a*=1;e=Math.atan2(g+c*K*K*K,q-a*d*d*d);3.141592653589793<f.K(e)&&(e=f.Ab(3.141592653589793,e)-e);e=Math.atan(N*Math.tan(e));K=Math.sin(e);d=Math.cos(e);h.j=Math.atan2(g+c*K*K*K,q-a*d*d*d);1.570796326794897<f.K(h.j)&&(h.j=f.Ab(3.141592653589793,
h.j)-h.j);e=Math.atan(N*Math.tan(h.j));K=Math.sin(e);d=Math.cos(e);u.j=(g-l*K)*Math.sin(h.j)+(q-1*d)*Math.cos(h.j)}};b.n=function(a,c,b){b=Math.sin(b);return a/Math.sqrt(1-c*b*b)};b.du=function(a,c){return Math.atan2(Math.sin(c)*(1-a),Math.cos(c))};b.ik=function(a,c){return Math.atan2(Math.sin(c),Math.cos(c)*(1-a))};b.xp=function(a,c){if(f.Qi(a)||0==c||f.W(f.K(c),1.570796326794897))return c;var e,g,h,d,u,y,l,N,K;if(.006884661117170036>a){d=Math.sqrt(1-a);u=(1-d)/(1+d);y=u*u;l=u*y;N=u*l;e=u*N;K=u*
e;g=u*K;h=1.572916666666667*l-3.2578125*e+4.295068359375*g;d=2.142578125*N-6.071484375*K;a=3.129296875*e-11.249837239583334*g;var k=4.775276692708333*K,m=7.958636765252976*g,p=Math.cos(2*c);return c+Math.sin(2*c)*(1.5*u-.84375*l+.525390625*e-.2688395182291667*g-h+a-m+p*(2*(1.3125*y-1.71875*N+1.650146484375*K)-4*d+6*k+p*(4*h-12*a+24*m+p*(8*d-32*k+p*(16*a-80*m+p*(32*k+64*p*m))))))}d=1-a;u=a/2;y=f.K(c);l=y*b.Tu(a)/(1.570796326794897*d);N=9999;K=y;for(y=0;1E-16<N&&50>y;y++)g=b.Cm(a,K),e=(b.EG(K,a)-u*
Math.sin(2*K)/g)/d-l,g=1/(g*g*g),h=e/g,e=K-h,N=f.K(h),K=e;return 0<=c?K:-K};b.pX=function(a,c){return f.Qi(c)?a:a*b.Tu(c)/1.570796326794897};b.da=function(a){a=b.qG(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>f.K(a)||f.W(f.K(a),3.141592653589793)?a:a-6.283185307179586};b.qG=function(a,c){return a-Math.floor(a/c)*c};b.Yg=function(a,c){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var e=c*c,g=e*e;return a/(1+c)*(1+.25*e+.015625*g+.00390625*e*g)*1.570796326794897}return a*
b.Tu(c)};b.Nr=function(a,c){var e=f.Ab(1,Math.sin(c));c=f.K(b.qG(c,3.141592653589793));c=1.570796326794897>=c?c:3.141592653589793-c;var g;f.W(c,1.570796326794897)?g=c:g=Math.atan(Math.sqrt(1-a)*Math.tan(c));return g*e};b.q=function(a,c,e){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var g=c*c,h=c*g,d=c*h,u=c*d,y=c*u,l=c*y,f=-.7291666666666666*h+.2278645833333333*u+.03987630208333334*l,K=.615234375*d-.21533203125*y,k=-.54140625*u+.20302734375*l,m=.48876953125*y,p=-.4488699776785715*l,n=
Math.cos(2*e);return a/(1+c)*((1+.25*g+.015625*d+.00390625*y)*e+Math.sin(2*e)*(-1.5*c+.1875*h+.0234375*u+.00732421875*l-f+k-p+n*(2*(.9375*g-.234375*d-.03662109375*y)-4*K+6*m+n*(4*f-12*k+24*p+n*(8*K-32*m+n*(16*k-80*p+n*(32*m+64*n*p)))))))}return a*(b.EG(e,c)-.5*c*Math.sin(2*e)/b.Cm(c,e))};b.Cm=function(a,c){c=Math.sin(c);return Math.sqrt(1-a*c*c)};b.Tu=function(a){return f.MD(a,1,2.220446049250313E-16)?1:1>a?b.Lv(0,1-a)-a/3*b.Iv(0,1-a):NaN};b.EG=function(a,c){var e=f.Ab(1,a);a=f.K(a);var g=Math.floor(a/
1.570796326794897),h;if(1<c)h=0==a?0:NaN;else if(f.xd(g))h=b.sin(a),h=h*b.Lv(1-h*h,1-c*h*h)-c/3*h*h*h*b.Iv(1-h*h,1-c*h*h);else{h=d.J.truncate(g%2);var q=b.Tu(c);0<h?(h=Math.sin(1.570796326794897*(g+1)-a),h=h*b.Lv(1-h*h,1-c*h*h)-c/3*h*h*h*b.Iv(1-h*h,1-c*h*h),h=q*(g+1)-h):(h=Math.sin(a-1.570796326794897*g),h=h*b.Lv(1-h*h,1-c*h*h)-c/3*h*h*h*b.Iv(1-h*h,1-c*h*h),h=q*g+h)}return h*e};b.sin=function(a){a=b.da(a);var c=f.Ab(1,a);a=f.K(a);return f.W(a,3.141592653589793)?0:f.W(a,1.570796326794897)?1*c:Math.sin(a)*
c};b.Iv=function(a,c){for(var b=1,g=0,h=1,d,u,y,l;;){d=.2*(a+c+3*b);u=(d-a)/d;y=(d-c)/d;l=(d-b)/d;if(1E-4>f.K(u)&&1E-4>f.K(y)&&1E-4>f.K(l))break;l=Math.sqrt(c);d=Math.sqrt(b);l=Math.sqrt(a)*(l+d)+l*d;g+=h/(d*(b+l));h*=.25;a=.25*(a+l);c=.25*(c+l);b=.25*(b+l)}a=u*y;b=l*l;c=a-b;b=a-6*b;u=b+c+c;return 3*g+h*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*l*u)+l*(.1666666666666667*u+l*(-.4090909090909091*c+.1153846153846154*l*a)))/(d*Math.sqrt(d))};b.Lv=function(a,c){for(var b,g,h,d,u=
1;;u=.25*(u+b)){b=(a+c+u)/3;g=2-(b+a)/b;h=2-(b+c)/b;d=2-(b+u)/b;if(1E-4>f.K(g)&&1E-4>f.K(h)&&1E-4>f.K(d))break;b=Math.sqrt(c);g=Math.sqrt(u);b=Math.sqrt(a)*(b+g)+b*g;a=.25*(a+b);c=.25*(c+b)}a=g*h-d*d;c=g*h*d;return(1+(.04166666666666666*a-.1-.06818181818181818*c)*a+.07142857142857142*c)/Math.sqrt(b)};b.Cx=function(a,c){if(f.Qi(a)||0==c||f.W(f.K(c),1.570796326794897))return c;var b,g,h;if(.006884661117170036>a){b=a*a;g=a*b;h=a*g;var d=a*h,u=a*d,y=a*u,l=-(.02708333333333333*g+.03430059523809524*h+.03149181547619048*
d+.02634359154541446*u+.02156896735835538*y),N=.007669890873015873*h+.01299603174603175*d+.0148051353064374*u+.01454454953803912*y,K=-(.002275545634920635*d+.004830845032667949*u+.006558395368616723*y),k=6.957236677288761E-4*u+.001775193002406544*y,m=-(2.17324089394402E-4*y),p=Math.cos(2*c);return c+Math.sin(2*c)*(-(.5*a+.2083333333333333*b+.09375*g+.04878472222222222*h+.02916666666666667*d+.01938905423280423*u+.01388255931712963*y)-l+K-m+p*(2*(.1041666666666667*b+.0875*g+.06050347222222222*h+.04151785714285714*
d+.02958958540013228*u+.02203667534722222*y)-4*N+6*k+p*(4*l-12*K+24*m+p*(8*N-32*k+p*(16*K-80*m+p*(32*k+64*p*m))))))}0==c||f.W(f.K(c),1.570796326794897)?b=c:(g=Math.sqrt(a),h=g*Math.sin(c),b=Math.tan(.7853981633974483+c/2)*Math.pow((1-h)/(1+h),g/2),b=2*Math.atan(b)-1.570796326794897);return b};b.BQ=function(a,c){if(f.Qi(a)||0==c||f.W(f.K(c),1.570796326794897))return c;var b,g;if(.006884661117170036>a){p=a*a;K=a*p;k=a*K;b=a*k;m=a*b;g=a*m;var h=.05833333333333333*K+.07232142857142858*k+.05634300595238095*
b+.0355325796406526*m+.020235546186067*g,d=.02653149801587302*k+.04379960317460317*b+.0429211791776896*m+.03255384637546096*g,u=.01294022817460318*b+.02668104344536636*m+.03155651254609588*g,y=.00659454790965208*m+.0163075268674227*g,l=.003463473736911237*g,N=Math.cos(2*c);return c+Math.sin(2*c)*(.5*a+.2083333333333333*p+.08333333333333333*K+.03611111111111111*k+.01875*b+.01195601851851852*m+.008863673941798942*g-h+u-l+N*(2*(.1458333333333333*p+.1208333333333333*K+.07039930555555556*k+.03616071428571429*
b+.01839451058201058*m+.01017113095238095*g)-4*d+6*y+N*(4*h-12*u+24*l+N*(8*d-32*y+N*(16*u-80*l+N*(32*y+64*N*l))))))}for(var K=Math.sqrt(a),k=K/2,m=Math.tan(.7853981633974483+c/2),h=0,d=1,p=c;0!=d;p=g)if(b=K*Math.sin(p),g=m*Math.pow((1+b)/(1-b),k),g=2*Math.atan(g)-1.570796326794897,h++,f.W(g,p)||3E4<h)d=0;return p};return b}();d.C=l})(p||(p={}));(function(d){var f=function(){function l(b){this.Zl=this.Pt=null;this.vw=!1;this.mB=this.nB=0;this.kB=new d.b;this.xB=new d.b;this.ix=!1;this.kr=new d.h;this.II=
this.fx=0;this.gx=null;this.al=!1;this.Fr=null;this.KA=0;this.uf=b;this.wt=d.Ib.iw(this.uf,0,!0);this.kB.$c();this.xB.$c();this.eJ=NaN;var a=b.getCode();0<a?(this.ll=a,d.Tf.getCode(b)):this.ll=d.Tf.getCode(b);0>this.ll&&(this.ll=0);var c=this.uf.getType();this.vI=c==d.Vc.PE_TYPE_PROJCS?2:1;if(c==d.Vc.PE_TYPE_PROJCS&&!b.loadConstants())throw d.g.F("PeProjcs.loadConstants failed");a=c==d.Vc.PE_TYPE_GEOGCS?this.uf:this.uf.getGeogcs();c!=d.Vc.PE_TYPE_GEOGCS&&d.Tf.getCode(a);this.Fr=b.getUnit();this.eJ=
a.getPrimem().getLongitude();this.II=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>Math.abs(b-1)&&(b=1);this.mB=b;0!=(c&d.Vc.PE_TYPE_PROJCS)?(a=this.uf,this.nB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.uf.getUnit().getUnitFactor(),this.gx=d.Bg.generate(a,d.Bg.PE_PCSINFO_OPTION_NONE),this.al=this.gx.isPannableRectangle(),this.KA=d.Ib.qP(this.gx.getCentralMeridian(),this.mB)):(this.ix=this.al=!0,this.nB=0,c=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*
c,this.KA=0);this.al&&(this.dy(),this.uL(),this.vL(),this.tL(),this.iZ(),this.jZ())}l.prototype.$s=function(){return this.ll};l.prototype.Sj=function(){return this.gx};l.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.ll&&0==a.ll?b.wt===a.wt:!1};l.prototype.Jc=function(){return this.al};l.prototype.Bh=function(b){b.I(this.gp)};l.prototype.bw=function(){return this.gp.o};l.prototype.aw=function(){return this.gp.v};l.prototype.zT=function(b){b.I(this.hx)};l.prototype.iZ=function(){var b=this.uf.getType();
if(b==d.Vc.PE_TYPE_PROJCS){var b=this.uf,a=this.Sj().getCentralMeridian(),c=b.getGeogcs();if(null==c)throw d.g.X("internal error");c=1/c.getUnit().getUnitFactor()*Math.PI;a=[[a+c,0]];d.fi.geogToProj(b,1,a);var a=a[0][0],c=b.getParameters()[d.Vc.PE_PARM_X0].getValue(),e=this.Mk(),b=new d.h;e.s(b);var e=Math.abs(a-c),a=e+c,c=-1*e+c,e=b.B,b=b.A,g=new d.h;g.I(c,b,a,e);null==this.gp&&(this.gp=g)}else if(b==d.Vc.PE_TYPE_GEOGCS)c=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new d.h,b.I(-c,-c/2,c,c/2),null==
this.gp&&(this.gp=b);else throw d.g.X("internal error");};l.prototype.jZ=function(){var b=this.uf.getType();if(b==d.Vc.PE_TYPE_PROJCS){var a=this.uf,b=this.Sj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw d.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,c=this.Vs(),e=new d.h;c.s(e);c=new d.h;c.I(b-a,e.A,b+a,e.B);null==this.hx&&(this.hx=c)}else if(b==d.Vc.PE_TYPE_GEOGCS)a=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new d.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);
else throw d.g.X("internal error");};l.prototype.ee=function(){return this.mB};l.prototype.bn=function(){return this.nB};l.prototype.Vs=function(){if(this.al)return this.Zl;var b=this.Zl;if(null!=b)return b;this.dy();return this.Zl};l.prototype.Ws=function(){if(this.al)return null;if(null!=this.Zl)return this.hI;this.dy();return this.hI};l.prototype.dy=function(){if(this.uf.getType()==d.Vc.PE_TYPE_PROJCS){var b;b=this.uf;var a=b.getGeogcs(),c=b.horizonGcsGenerate();if(null!=c){var e=c[0].getNump(),
g=c[0].getKind();b=0<c[0].getInclusive();var h=this.ee(),q=90*h,u=360*h,y=370*h,l=180*h*d.Vc.PE_HORIZON_DELTA/Math.PI,f=new d.h,K=null;if(1<e)for(var k=1;k<e;k++)if(c[k].getKind()==d.Vc.PE_HORIZON_LINE){null==K&&(K=new d.Ua);var m=c[k].getCoord();K.$x(m[0][0],m[0][1]);K.Xj(m[1][0],m[1][1])}if(g==d.Vc.PE_HORIZON_RECT)c=c[0].getCoord(),f.I(c[0][0],c[0][1]),f.Nb(c[1][0],c[1][1]),Math.abs(f.B-q)<1E-7*l&&(f.B=q),Math.abs(f.A+q)<1E-7*l&&(f.A=-q),f.N()>y&&(c=-400*h,f.I(c,f.A,c+5*u,f.B)),c=new d.ci(f),null==
this.Zl&&(this.Zl=c,this.vw=b);else{y=new d.Ja;u=this.Sj().isGcsHorizonMultiOverlap();f=d.Ou.iG(a,d.ts.Integer64);if(u){y=new d.QM;l=d.ei.local().V(y,f,null);for(k=0;k<e;k++)if(c[k].getKind()==d.Vc.PE_HORIZON_POLY){a=c[k].getSize();h=c[k].getCoord();g=[];for(q=0;q<a;q++)g[q]=d.b.pa(h[q][0],h[q][1]);c[k].getInclusive();u&&(h=new d.Ja,h.Bl(g,a-1),y.SY(h),l.Re())}y=l.next()}else for(k=0;k<e;k++)if(c[k].getKind()==d.Vc.PE_HORIZON_POLY){a=c[k].getSize();h=c[k].getCoord();u=[];for(q=0;q<a;q++)u[q]=d.b.pa(h[q][0],
h[q][1]);c[k].getInclusive();y.Bl(u,a-1)}b?d.tk.local().qo(y,f,1):d.cq.local().qo(y,f,1);d.Gj.local().qo(y,f,1);null==this.Zl&&(this.Zl=y,this.vw=b,this.hI=K)}}}};l.prototype.Uv=function(){if(this.al)return this.vw;null==this.Zl&&this.dy();return this.vw};l.prototype.uL=function(){if(2==this.vI){var b=this.uf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var c=b[0].getNump(),e=!1;if(a==d.Vc.PE_HORIZON_RECT)b=b[0].getCoord(),c=new d.h,c.I(b[0][0],b[0][1]),c.Nb(b[1][0],b[1][1]),
b=new d.ci(c);else{a=-1;for(e=0;e<c;e++)b[e].getKind()==d.Vc.PE_HORIZON_POLY&&(a=e);e=b[a].getSize()-1;b=b[a].getCoord();c=[];for(a=0;a<e;a++)c[a]=d.b.pa(b[a][0],b[a][1]);b=a=new d.Ja;a.Bl(c,e);e=!0}this.Sj().isDensificationNeeded()&&(c=1E5*this.bn(),b=d.Jm.local().V(b,c,null));e&&(e=new d.ci,b.Qn(e),b.hf(),b.Rb(),b.gT(),d.tk.local().qo(b,null,1));null==this.Pt&&(this.Pt=b)}}};l.prototype.Mk=function(){if(this.al)return this.Pt;var b=this.Pt;if(null!=b)return b;this.uL();return this.Pt};l.prototype.vL=
function(){if(this.uf.getType()==d.Vc.PE_TYPE_PROJCS){var b=90*this.ee(),b=[[0,b],[0,-b]];d.fi.geogToProj(this.uf,2,b);var a=this.Sj(),c=a.getNorthPoleLocation()!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(c&&this.kB.ka(b[0][0],b[0][1]),a&&this.xB.ka(b[1][0],b[1][1]))}this.ix=!0};l.prototype.dA=function(b,a){this.al||this.ix||this.vL();b?a.L(this.xB):a.L(this.kB)};l.prototype.tL=function(){if(1==this.vI){var b=400*this.ee();this.kr.I(-b,-b,b,
b)}else b=d.Bg.generate(this.uf,d.Bg.PE_PCSINFO_OPTION_DOMAIN),b=d.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};l.prototype.ZS=function(b){this.al&&b.I(this.kr);this.kr.u()&&this.tL();b.I(this.kr)};l.prototype.dn=function(){return this.eJ};l.prototype.pi=function(){return this.KA};l.prototype.Nd=function(){return this.Fr};l.prototype.Xs=function(){return this.II};return l}();d.TD=f})(p||(p={}));(function(d){var f=function(){function l(b){this.IV=
b;this.wt=d.Ib.iw(b,0,!0);var a=b.getCode();this.nt=0<a?a:d.Tf.getCode(b);0>this.nt&&(this.nt=0);this.Fr=a=this.IV.getUnit();this.XI=1/a.getUnitFactor();d.Tf.getCode(b)}l.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nt&&0==a.nt?b.wt===a.wt:!1};l.prototype.$s=function(){return this.nt};return l}();d.FN=f})(p||(p={}));(function(d){var f=function(){function l(){}l.Cb=function(b,a,c,e,g,h,q,u){if(null!=h||null!=q||null!=u){e=d.C.da(e);a=d.C.da(a);c=d.C.da(c);g=d.C.da(g);1.570796326794897<d.l.K(c)&&
(c=d.l.Ab(3.141592653589793,c)-c,a=d.C.da(a+3.141592653589793));1.570796326794897<d.l.K(g)&&(g=d.l.Ab(3.141592653589793,g)-g,e=d.C.da(e+3.141592653589793));var y=d.C.da(e-a);if(d.l.W(c,g)&&(d.l.W(a,e)||d.l.W(d.l.K(c),1.570796326794897)))null!=h&&(h.j=0),null!=q&&(q.j=0),null!=u&&(u.j=0);else{if(d.l.W(c,-g)){if(d.l.W(d.l.K(c),1.570796326794897)){null!=h&&(h.j=3.141592653589793*b);null!=q&&(q.j=0<c?d.C.da(3.141592653589793-d.C.da(e)):d.C.da(e));null!=u&&(u.j=0<c?d.C.da(e):d.C.da(3.141592653589793-d.C.da(e)));
return}if(d.l.W(d.l.K(y),3.141592653589793)){null!=h&&(h.j=3.141592653589793*b);null!=q&&(q.j=0);null!=u&&(u.j=0);return}}var l=1.570796326794897==d.l.K(c)?0:Math.cos(c),f=Math.sin(c),K=1.570796326794897==d.l.K(g)?0:Math.cos(g),k=Math.sin(g),m=1.570796326794897==d.l.K(y)?0:Math.cos(y),p=3.141592653589793==d.l.K(y)?0:Math.sin(y);if(null!=h){var n=Math.sin((g-c)/2),y=Math.sin(y/2);h.j=2*Math.asin(Math.sqrt(n*n+l*K*y*y))*b}null!=q&&(d.l.W(d.l.K(c),1.570796326794897)?q.j=0>c?e:d.C.da(3.141592653589793-
e):q.j=Math.atan2(K*p,l*k-f*K*m));null!=u&&(d.l.W(d.l.K(g),1.570796326794897)?u.j=0>g?a:d.C.da(3.141592653589793-a):(u.j=Math.atan2(l*p,k*l*m-K*f),u.j=d.C.da(u.j+3.141592653589793)))}}};l.Uf=function(b,a,c,e,g,h,q){if(null!=h||null!=q){a=d.C.da(a);c=d.C.da(c);1.570796326794897<d.l.K(c)&&(c=d.l.Ab(3.141592653589793,c)-c,a=d.C.da(a+3.141592653589793));d.l.W(d.l.K(c),1.570796326794897)&&(a=0);g=d.C.da(g);var u=d.l.W(d.l.K(g),1.570796326794897)?0:Math.cos(g),y=d.l.W(d.l.K(g),3.141592653589793)?0:Math.sin(g),
l=d.l.W(d.l.K(c),1.570796326794897)?0:Math.cos(c),f=Math.sin(c);b=e/b;e=d.l.W(d.l.K(b),1.570796326794897)?0:Math.cos(b);var K=d.l.W(d.l.K(b),3.141592653589793)?0:Math.sin(b),k=Math.asin(f*e+l*K*u);null!=q&&(q.j=k);null!=h&&(h.j=d.l.W(d.l.K(k),1.570796326794897)?d.l.W(c,-k)?0>k?g:d.C.da(3.141592653589793-g):a:d.l.W(d.l.K(c),1.570796326794897)&&d.l.W(b,3.141592653589793)?0>c?g:d.C.da(3.141592653589793-g):d.C.da(a+Math.atan2(K*y,l*e-f*K*u)))}};return l}();d.vh=f})(p||(p={}));(function(d){var f=function(){function l(){}
l.Cb=function(b,a,c,e,g,h,q,u,y){var l=new d.ea(0),f=new d.ea(0),K=[0,0,0],k=[0,0,0],m=[0,0,0],p=new d.ea(0),n=new d.ea(0),r=new d.ea(0),t=new d.ea(0),A=new d.ea(0);if(null!=q||null!=u||null!=y)if(d.l.Qi(a))d.vh.Cb(b,c,e,g,h,q,u,y);else{g=d.C.da(g);c=d.C.da(c);var v=d.C.da(g-c);if(d.l.W(e,h)&&(d.l.W(c,g)||d.l.W(d.l.K(e),1.570796326794897)))null!=q&&(q.j=0),null!=u&&(u.j=0),null!=y&&(y.j=0);else{if(d.l.W(e,-h)){if(d.l.W(d.l.K(e),1.570796326794897)){null!=q&&(q.j=2*d.C.Yg(b,a));null!=u&&(u.j=0<e?d.C.da(3.141592653589793-
d.C.da(g)):d.C.da(g));null!=y&&(y.j=0<e?d.C.da(g):d.C.da(3.141592653589793-d.C.da(g)));return}d.l.W(d.l.K(v),3.141592653589793)&&(null!=q&&(q.j=2*d.C.Yg(b,a)),null!=u&&(u.j=0),null!=y&&(y.j=0))}else if(d.l.W(d.l.K(e),1.570796326794897)||d.l.W(d.l.K(h),1.570796326794897))d.l.W(d.l.K(e),1.570796326794897)?c=g:g=c;var z=0,x;0>v&&(z=1,x=c,c=g,g=x,x=e,e=h,h=x);var v=d.C.du(a,e),w=d.C.du(a,h);if(null!=u||null!=y)d.vh.Cb(b,c,v,g,w,null,l,f),l=Math.atan2(Math.sin(l.j)*Math.cos(e-v),Math.cos(l.j)),f=Math.atan2(Math.sin(f.j)*
Math.cos(h-w),Math.cos(f.j)),0!=z&&(x=l,l=f,f=x),null!=u&&(u.j=l),null!=y&&(y.j=f);null!=q&&(d.C.Dk(1,a,e,c,0,r,t,A),K[0]=r.j,K[1]=t.j,K[2]=A.j,d.C.Dk(1,a,h,g,0,r,t,A),k[0]=r.j,k[1]=t.j,k[2]=A.j,m[0]=K[1]*k[2]-k[1]*K[2],m[1]=-(K[0]*k[2]-k[0]*K[2]),m[2]=K[0]*k[1]-k[0]*K[1],a=1-d.C.Cm(a,d.C.Nr(a,d.C.ik(a,Math.acos(m[2]/Math.sqrt(m[0]*m[0]+m[1]*m[1]+m[2]*m[2]))))),a*=2-a,u=Math.atan2(-m[1],-m[0]),m=d.C.da(u-1.570796326794897),u=d.C.da(u+1.570796326794897),m=d.l.K(d.C.da(c-m))<=d.l.K(d.C.da(c-u))?m:u,
d.vh.Cb(1,m,0,c,v,p,null,null),d.vh.Cb(1,m,0,g,w,n,null,null),3.141592653589793<p.j+n.j&&(m=d.C.da(m+3.141592653589793),d.vh.Cb(1,m,0,c,v,p,null,null),d.vh.Cb(1,m,0,g,w,n,null,null)),p.j*=d.l.Ab(1,e),n.j*=d.l.Ab(1,h),p.j=d.C.ik(a,p.j),n.j=d.C.ik(a,n.j),c=d.C.q(b,a,p.j),b=d.C.q(b,a,n.j),q.j=d.l.K(b-c))}}};l.Uf=function(b,a,c,e,g,h,q,u){var y=0,l=new d.ea(0),f=new d.ea(0),K=[0,0,0],k=[0,0,0],m=new d.ea(0),p=new d.ea(0),n=new d.ea(0);if(null!=q||null!=u)if(d.l.Qi(a))d.vh.Uf(b,c,e,g,h,q,u);else if(d.l.xd(g))null!=
q&&(q.j=c),null!=u&&(u.j=e);else{h=d.C.da(h);0>g&&(g=d.l.K(g),h=d.C.da(h+3.141592653589793));c=d.C.da(c);e=d.C.da(e);1.570796326794897<d.l.K(e)&&(c=d.C.da(c+3.141592653589793),e=d.l.Ab(3.141592653589793,e)-e);d.l.W(d.l.K(e),1.570796326794897)&&(c=0);var r;if(d.l.xd(e))r=d.l.K(1.570796326794897-d.l.K(h)),r=d.C.ik(a,r),r=1-d.C.Cm(a,d.C.Nr(a,r)),r*=2-r,b=g/d.C.Yg(b,r)*1.570796326794897,b=d.C.xp(r,b),b=d.C.du(r,b),d.vh.Uf(1,c,e,b,h,q,l),null!=u&&(y=l.j),null!=u&&(u.j=d.C.ik(a,y));else if(d.l.W(d.l.K(e),
1.570796326794897))y=d.C.Yg(b,a),l=2*y,b=d.l.Ab(1.570796326794897,e),h=0<b?d.C.da(3.141592653589793-h):h,e=y-g,d.l.K(e)<=y?null!=q&&(q.j=h):(e=Math.floor(g/l),0==d.J.truncate(e%2)?(null!=q&&(q.j=h),e=y-(g-e*l)):(null!=q&&(q.j=d.C.da(h+3.141592653589793)),e=y-((e+1)*l-g))),null!=u&&(u.j=d.C.xp(a,e/y*b));else{r=d.C.du(a,e);h=Math.atan2(Math.sin(h),Math.cos(h)*Math.cos(e-r));var t=d.J.truncate(d.l.Ab(1,r))*(1.570796326794897>=d.l.K(h)?1:-1);h=d.C.da(c+Math.atan(Math.tan(h)*-Math.sin(r)));d.vh.Cb(b,h,
0,c,r,null,f,null);r=d.l.K(1.570796326794897-d.l.K(f.j));r=d.C.ik(a,r);r=1-d.C.Cm(a,d.C.Nr(a,r));r*=2-r;d.C.Dk(1,a,0,h,0,m,p,n);K[0]=m.j;K[1]=p.j;K[2]=n.j;d.C.Dk(1,a,e,c,0,m,p,n);k[0]=m.j;k[1]=p.j;k[2]=n.j;e=Math.acos((K[0]*k[0]+K[1]*k[1]+K[2]*k[2])/Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2]));e=d.C.ik(r,e);e=d.C.q(b,r,e)+g*t;g=0<e?f.j:d.C.da(f.j+3.141592653589793);b=d.l.K(e)/d.C.Yg(b,r)*1.570796326794897;b=d.C.xp(r,b);b=d.C.du(r,b);d.vh.Uf(1,h,0,b,g,q,l);null!=u&&(y=l.j);null!=u&&(u.j=d.C.ik(a,y))}}};
return l}();d.yl=f})(p||(p={}));(function(d){var f=function(){function l(){}l.Cb=function(b,a,c,e,g,h,q,u,y){var l=0,f=0,K=0;if(null!=q||null!=u||null!=y)if(d.l.Qi(a))d.vh.Cb(b,c,e,g,h,q,u,y);else{var k=d.C.da(g-c);if(d.l.W(e,h)&&(d.l.xd(k)||d.l.W(d.l.K(e),1.570796326794897)))null!=q&&(q.j=0),null!=u&&(u.j=0),null!=y&&(y.j=0);else{if(d.l.W(e,-h)){if(d.l.W(d.l.K(e),1.570796326794897)){null!=q&&(q.j=2*d.C.Yg(b,a));null!=u&&(u.j=0<e?d.C.da(3.141592653589793-d.C.da(g)):d.C.da(g));null!=y&&(y.j=0<e?d.C.da(g):
d.C.da(3.141592653589793-d.C.da(g)));return}d.l.W(d.l.K(k),3.141592653589793)&&(null!=q&&(q.j=2*d.C.Yg(b,a)),null!=u&&(u.j=0),null!=y&&(y.j=0))}else{if(d.l.W(d.l.K(e),1.570796326794897)||d.l.W(d.l.K(h),1.570796326794897)){d.yl.Cb(b,a,c,e,g,h,q,u,y);return}if(d.l.xd(k)||d.l.W(d.l.K(k),3.141592653589793)){d.yl.Cb(b,a,c,e,g,h,q,u,y);return}}var m=1-Math.sqrt(1-a),p=a/(1-a),n=b*(1-m);b=d.C.Nr(a,e);var r=d.C.Nr(a,h);a=1.570796326794897==d.l.K(b)?0:Math.cos(b);var t=Math.sin(b),A=1.570796326794897==d.l.K(r)?
0:Math.cos(r),v=Math.sin(r),z=k,x=Math.cos(z),w=Math.sin(z),B=1,C=0,D,E,F,I,G;do{D=z;E=Math.sqrt(Math.pow(A*w,2)+Math.pow(a*v-t*A*x,2));F=t*v+a*A*x;I=Math.atan2(E,F);if(0==E){B=0;break}G=a*A*w/E;l=Math.cos(Math.asin(G));l*=l;f=F-2*t*v/l;1<d.l.K(f)&&(f=d.l.Ab(1,f));K=f*f;z=m/16*l*(4+m*(4-3*l));z=k+(1-z)*m*G*(I+z*E*(f+z*F*(2*K-1)));x=Math.cos(z);w=Math.sin(z);C++;if(3.141592653589793<d.l.K(z)&&30<C){B=0;break}}while(5E3>=C&&!d.l.W(D,z));if(0!=B)p*=l,m=p*(256+p*(-128+p*(74-47*p)))/1024,null!=q&&(q.j=
n*(1+p*(4096+p*(-768+p*(320-175*p)))/16384)*(I-m*E*(f+m/4*(F*(2*K-1)-m/6*f*(4*E*E-3)*(4*K-3))))),null!=u&&(d.l.W(d.l.K(e),1.570796326794897)?u.j=0>e?g:d.C.da(3.141592653589793-g):u.j=Math.atan2(A*w,a*v-t*A*x)),null!=y&&(d.l.W(d.l.K(h),1.570796326794897)?y.j=0>h?c:d.C.da(3.141592653589793-c):(y.j=Math.atan2(a*w,a*v*x-t*A),y.j=d.C.da(y.j+3.141592653589793)));else{z=d.l.Ab(3.141592653589793,k);F=t*v-a*A;I=Math.acos(F);E=Math.sin(I);l=1;C=G=0;do K=G,l*=l,x=l*l,G=m*l*(1+m+m*m),f=m*m*x*(1+2.25*m),B=m*m*
m*x*l,x=1-.25*G+.1875*f-.1953125*B,G=.25*G-.25*f+.29296875*B,w=.03125*f-.05859375*B,B*=.00651041666666667,f=F-2*t*v/l,1<d.l.K(f)&&(f=d.l.Ab(1,f)),l=Math.acos(f),F=Math.cos(2*l),D=Math.cos(3*l),G=d.l.W(e,-h)?d.C.da(3.141592653589793-k)/(3.141592653589793*m*x):d.C.da(z-k)/(m*(x*I+G*E*f+w*Math.sin(2*I)*F+B*Math.sin(3*I)*D)),w=G*E/(a*A),z=1.570796326794897<d.l.K(k)?d.l.Ab(3.141592653589793,w)-Math.asin(w):Math.asin(w),x=Math.cos(z),E=Math.sqrt(Math.pow(A*w,2)+Math.pow(a*v-t*A*x,2)),I=3.141592653589793-
Math.asin(d.l.K(E)),F=Math.cos(I),l=Math.cos(Math.asin(G)),C++;while(70>=C&&!d.l.W(K,G));null!=q&&(l*=l,p*=l,x=1+p*(4096+p*(-768+p*(320-175*p)))/16384,d.l.W(e,-h)?q.j=3.141592653589793*n*x:(f=F-2*t*v/l,l=Math.acos(f),F=Math.cos(2*l),D=Math.cos(3*l),q.j=n*(x*I+p*(-512+p*(128+p*(-60+35*p)))/2048*E*f+p*(-4+5*p)/6144*p*p*Math.sin(2*I)*F+B*Math.sin(3*I)*D+-7.62939453125E-5*p*p*p*p*Math.sin(4*I)*Math.cos(4*l))));null!=u&&(d.l.xd(e)&&d.l.xd(h)?(l=Math.sqrt(1-G*G),u.j=Math.acos(l),0>k&&(u.j*=-1)):d.l.W(d.l.K(e),
1.570796326794897)?u.j=0>e?g:d.C.da(3.141592653589793-g):(q=G/a,n=Math.sqrt(1-q*q),0>a*v-t*A*Math.cos(z)&&(n*=-1),u.j=Math.atan2(q,n),d.l.W(e,-h)&&d.l.K(d.C.da(c-g))>3.141592653589793*(1-m*Math.cos(e))&&(0<e&&1.570796326794897>d.l.K(u.j)||0>e&&1.570796326794897<d.l.K(u.j))&&(u.j=d.l.Ab(3.141592653589793,u.j)-u.j)));if(null!=y)if(d.l.xd(e)&&d.l.xd(h))l=Math.sqrt(1-G*G),y.j=Math.acos(l),0<=k&&(y.j*=-1);else if(d.l.W(d.l.K(h),1.570796326794897))y.j=0>h?c:d.C.da(3.141592653589793-c);else if(k=G/A,q=Math.sqrt(1-
k*k),n=Math.sin(z/2),0>Math.sin(r-b)-2*a*v*n*n&&(q*=-1),y.j=Math.atan2(k,q),y.j=d.C.da(y.j+3.141592653589793),d.l.W(e,-h)&&!d.l.xd(e)&&!d.l.W(d.l.K(e),1.570796326794897)&&d.l.K(d.C.da(c-g))>3.141592653589793*(1-m*Math.cos(e))&&(null!=u?n=u.j:(q=G/a,n=Math.sqrt(1-q*q),0>a*v-t*A*Math.cos(z)&&(n*=-1),n=Math.atan2(q,n),d.l.W(e,-h)&&d.l.K(d.C.da(c-g))>3.141592653589793*(1-m*Math.cos(e))&&(0<e&&1.570796326794897>d.l.K(n)||0>e&&1.570796326794897<d.l.K(n))&&(n=d.l.Ab(3.141592653589793,n)-n)),1.570796326794897>=
d.l.K(n)&&1.570796326794897<d.l.K(y.j)||1.570796326794897<=d.l.K(n)&&1.570796326794897>d.l.K(y.j)))y.j=-1*d.C.da(y.j+3.141592653589793)}}}};l.Uf=function(b,a,c,e,g,h,q,u){if(null!=q||null!=u)if(d.l.Qi(a))d.vh.Uf(b,c,e,g,h,q,u);else if(h=d.C.da(h),d.l.W(d.l.K(e),1.570796326794897)||d.l.xd(h)||d.l.W(d.l.K(h),3.141592653589793))d.yl.Uf(b,a,c,e,g,h,q,u);else{var y=1.570796326794897==d.l.K(h)?0:Math.cos(h),l=3.141592653589793==d.l.K(h)?0:Math.sin(h);d.l.W(d.l.K(e),1.570796326794897)&&(c=0);h=1-Math.sqrt(1-
a);var f=d.C.Nr(a,e);e=1.570796326794897==d.l.K(f)?0:Math.cos(f);var K=Math.sin(f),f=Math.atan2(Math.tan(f),y),k=e*l,m=k*k,p=1-m,n=a/(1-a)*p;a=n*(256+n*(-128+n*(74-47*n)))/1024;var r=a/4,t=a/6,A=g/(b*(1-h)*(1+n*(4096+n*(-768+n*(320-175*n)))/16384)),v=A,z;do{z=v;g=1.570796326794897==d.l.K(v)?0:Math.cos(v);var n=3.141592653589793==d.l.K(v)?0:Math.sin(v),x=n*n;b=Math.cos(2*f+v);v=b*b;v=a*n*(b+r*(g*(2*v-1)-t*b*(4*x-3)*(4*v-3)))+A}while(!d.l.W(z,v));g=1.570796326794897==d.l.K(v)?0:Math.cos(v);n=3.141592653589793==
d.l.K(v)?0:Math.sin(v);null!=q&&(l=Math.atan2(n*l,e*g-K*n*y),p=h/16*p*(4+h*(4-3*p)),b=Math.cos(2*f+v),q.j=d.C.da(c+(l-(1-p)*h*k*(v+p*n*(b+p*g*(2*b*b-1))))));null!=u&&(p=K*n-e*g*y,p=(1-h)*Math.sqrt(m+p*p),u.j=Math.atan2(K*g+e*n*y,p))}};return l}();d.Nu=f})(p||(p={}));(function(d){var f=function(){function l(){}l.Cb=function(b,a,c,e,g,h,q,u,y){var l=d.C.da(g-c),f=d.l.W(d.l.K(e),1.570796326794897),K=d.l.W(d.l.K(h),1.570796326794897);if(d.l.W(e,h)&&(d.l.xd(l)||f))null!=q&&(q.j=0),null!=u&&(u.j=0),null!=
y&&(y.j=0);else{var k,m;d.l.Qi(a)?(k=Math.sin(e),m=Math.sin(h),k=Math.sqrt((1+k)/(1-k)),m=Math.sqrt((1+m)/(1-m)),k=Math.log(m)-Math.log(k),k=Math.atan2(l,k),null!=q&&(q.j=d.l.W(e,h)?d.l.K(b*Math.cos(e)*l):d.l.K((b*h-b*e)/Math.cos(k)))):(m=d.C.Cx(a,h),k=Math.sin(d.C.Cx(a,e)),m=Math.sin(m),k=Math.sqrt((1+k)/(1-k)),m=Math.sqrt((1+m)/(1-m)),k=Math.log(m)-Math.log(k),k=Math.atan2(l,k),null!=q&&(d.l.W(e,h)?q.j=d.l.K(b*l*Math.cos(e)/d.C.Cm(a,e)):(l=d.C.q(b,a,e),b=d.C.q(b,a,h),q.j=d.l.K((b-l)/Math.cos(k)))));
if(null!=u||null!=y)q=d.C.da(k+3.141592653589793),f&&K||!f&&!K||(f?k=0>e?g:d.C.da(3.141592653589793-g):K&&(q=0>h?c:d.C.da(3.141592653589793-c))),null!=u&&(u.j=k),null!=y&&(y.j=q)}};l.Uf=function(b,a,c,e,g,h,q,u){h=d.C.da(h);0>g&&(g=d.l.K(g),h=d.C.da(h+3.141592653589793));d.l.Qi(a)?d.l.W(d.l.K(e),1.570796326794897)?(c=0>e?h:d.C.da(3.141592653589793-h),h=g/b%6.283185307179586,3.141592653589793>=h?b=e-d.l.Ab(h,e):(c=d.C.da(c+3.141592653589793),b=-e+d.l.Ab(h-3.141592653589793,e))):d.l.W(d.l.K(h),1.570796326794897)?
(c=d.C.da(c+d.l.Ab(g,h)/(b*Math.cos(e))),b=e):(b=e+g*Math.cos(h)/b,1.570796326794897<d.l.K(b)&&(b=1.570796326794897),d.l.W(d.l.K(b),1.570796326794897)&&(d.l.xd(h)||d.l.W(d.l.K(h),3.141592653589793))||(1.570796316258184<d.l.K(b)&&(b=d.l.Ab(1.570796316258184,b)),a=Math.sin(e),e=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),e=Math.sqrt((1+e)/(1-e)),a=Math.log(e)-Math.log(a),c=d.C.da(c+Math.tan(h)*a))):d.l.W(d.l.K(e),1.570796326794897)?(c=0>e?h:d.C.da(3.141592653589793-h),h=g/d.C.pX(b,a),h%=6.283185307179586,
3.141592653589793>=h?(b=e-d.l.Ab(h,e),b=d.C.xp(a,b)):(c=d.C.da(c+3.141592653589793),b=-e+d.l.Ab(h-3.141592653589793,e),b=d.C.xp(a,b))):d.l.W(d.l.K(h),1.570796326794897)?(c=d.C.da(c+d.l.Ab(g,h)*d.C.Cm(a,e)/(b*Math.cos(e))),b=e):(b=1.570796326794897*(g*Math.cos(h)+d.C.q(b,a,e))/d.C.Yg(b,a),1.570796326794897<d.l.K(b)&&(b=d.l.Ab(1.570796326794897,b)),b=d.C.xp(a,b),d.l.W(d.l.K(b),1.570796326794897)&&(d.l.xd(h)||d.l.W(d.l.K(h),3.141592653589793))||(g=d.C.Cx(a,e),e=d.C.Cx(a,b),1.570796316258184<d.l.K(e)&&
(e=d.l.Ab(1.570796316258184,b),b=d.C.BQ(a,e)),a=Math.sin(g),e=Math.sin(e),a=Math.sqrt((1+a)/(1-a)),e=Math.sqrt((1+e)/(1-e)),a=Math.log(e)-Math.log(a),c=d.C.da(c+Math.tan(h)*a)));null!=q&&(q.j=c);null!=u&&(u.j=b)};return l}();d.UD=f})(p||(p={}));(function(d){var f=function(){function l(){}l.Fz=function(b,a,c,e,g,h,q){d.Nu.Cb(b,a,c,e,g,h,null,q,null)};l.Xi=function(b,a,c,e,g,h,q,u){d.Nu.Uf(b,a,c,e,g,h,q,u)};l.Ld=function(b,a,c,e,g,h,q,u,y,l){switch(l){case 2:d.yl.Cb(b,a,c,e,g,h,q,u,y);break;case 3:d.VD.Cb(b,
a,c,e,g,h,q,u,y);break;case 1:d.UD.Cb(b,a,c,e,g,h,q,u,y);break;default:d.Nu.Cb(b,a,c,e,g,h,q,u,y)}};l.Oj=function(b,a,c,e,g,h,q,u,y){switch(y){case 2:d.yl.Uf(b,a,c,e,g,h,q,u);break;case 3:d.VD.Uf(b,a,c,e,g,h,q,u);break;case 1:d.UD.Uf(b,a,c,e,g,h,q,u);break;default:d.Nu.Uf(b,a,c,e,g,h,q,u)}};return l}();d.mb=f})(p||(p={}));(function(d){var f=function(){function a(){this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new d.Xb;b.x.set(c.x);b.y=new d.Xb;b.y.set(c.y);return b};a.aG=function(c,b){var e=
new a;e.x=new d.Xb;e.x.set(c);e.y=new d.Xb;e.y.set(b);return e};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()};a.prototype.value=function(){return d.b.pa(this.x.value(),this.y.value())};return a}();d.IZ=f;var l=function(){function a(){this.z=this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new d.Xb;b.x.set(c.x);b.y=new d.Xb;b.y.set(c.y);b.z=new d.Xb;b.z.set(c.z);return b};a.aG=function(c,b,g){var e=new a;e.x=new d.Xb;e.x.set(c);e.y=new d.Xb;e.y.set(b);e.z=new d.Xb;e.z.set(g);return e};
a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()&&this.z.Lg()};a.prototype.value=function(){return new d.qd(this.x.value(),this.y.value(),this.z.value())};a.prototype.oi=function(a){var c=new d.Xb,b=new d.Xb,h=new d.Xb;c.pm(this.x,a.x);b.pm(this.y,a.y);h.pm(this.z,a.z);a=new d.Xb;a.bP(c,b);a.add(h);return a};a.prototype.jG=function(c){var b=new a;b.x.pm(this.y,c.z);b.y.pm(this.z,c.x);b.z.pm(this.x,c.y);var g=new d.Xb,h=new d.Xb,q=new d.Xb;g.pm(this.z,c.y);h.pm(this.x,c.z);q.pm(this.y,c.x);
b.x.sub(g);b.y.sub(h);b.z.sub(q);return b};return a}();d.JZ=l;var b=function(){function a(){}a.pO=function(c,b,g){var e=b.x;b=b.y;a.Dk(1,c,Math.cos(e),Math.sin(e),Math.cos(b),Math.sin(b),g)};a.mO=function(c,b){var e=new d.qd;a.pO(c,b,e);return e};a.HZ=function(c,b,g,h,q,u){var e=new d.qd;a.Dk(c,b,g,h,q,u,e);return e};a.Dk=function(a,b,g,h,d,u,y){a/=Math.sqrt(1-b*u*u);y.I(a*d*g,a*d*h,a*(1-b)*u)};a.Su=function(a,b){var c=new d.Xb,e=new d.Xb,q=new d.Xb,u=new d.Xb;c.cos(b.x);e.sin(b.x);q.cos(b.y);u.sin(b.y);
b=new d.Xb;b.set(u);b.Vg(u);b.yp(a);b.yp(-1);b.iP();b.sqrt();var y=new d.Xb;y.set(1);y.Wm(b);b=new d.Xb;b.set(y);b.Vg(q);b.Vg(c);c=new d.Xb;c.set(y);c.Vg(q);c.Vg(e);e=new d.Xb;e.set(y);e.yp(1-a);e.Vg(u);return l.aG(b,c,e)};a.LN=function(a,b,g){var c=b.x,e=b.y;g.ka(Math.atan2(e,c),Math.atan2(b.z,(1-a)*Math.sqrt(c*c+e*e)))};a.Y_=function(c,b,g){c=new d.b;a.LN(b,g,c);return c};a.MU=function(c,b,g,h){if(Math.abs(b.x-g.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(g.y)>.5*Math.PI||(Math.abs(b.y)==.5*
Math.PI||Math.abs(g.y)==.5*Math.PI)&&b.x!=g.x)return NaN;h=a.RC(h,Math.min(b.x,g.x),Math.max(b.x,g.x));if(!(new d.Ac(b.x,g.x)).contains(h))return NaN;var e=f.pa(b);g=f.pa(g);e=a.Su(c,e);g=a.Su(c,g);g=e.jG(g);if(g.z.Lg())return b=b.y;var u=new d.Xb;u.set(g.x);u.Wm(g.z);u.yp(-1);var y=new d.Xb;y.set(g.y);y.Wm(g.z);y.yp(-1);var l=new d.Xb;l.set(y);l.Vg(y);e=new d.Xb;e.set(u);e.Vg(u);e.add(l);e.sqrt();if(e.Lg()||u.Lg()&&y.Lg())return b=b.y;b=Math.atan2(y.value(),u.value());b=Math.atan2(e.value()*Math.cos(b-
h),1-c);h=a.mO(c,d.b.pa(h,b));c=new d.qd(h.x,h.y,-h.z);h=g.value().oi(h);c=g.value().oi(c);Math.abs(c)<Math.abs(h)&&(b=-b);return b};a.uA=function(c,b,g,h,q,u){u[0]=NaN;u[1]=NaN;if(Math.abs(g.x-h.x)>Math.PI||Math.abs(g.y)>.5*Math.PI||Math.abs(h.y)>.5*Math.PI||(Math.abs(g.y)==.5*Math.PI||Math.abs(h.y)==.5*Math.PI)&&g.x!=h.x||Math.abs(q)>=.5*Math.PI||0<g.y&&0<h.y&&g.y>q&&h.y>q||0>g.y&&0>h.y&&g.y<q&&h.y<q)return 0;var e=f.pa(g);c=f.pa(h);e=a.Su(b,e);c=a.Su(b,c);var l=e.jG(c);if(l.z.Lg())return(new d.Ac(g.y,
h.y)).contains(q)?(u[0]=g.x,1):0;c=new d.Xb;c.set(l.x);c.Wm(l.z);c.yp(-1);e=new d.Xb;e.set(l.y);e.Wm(l.z);e.yp(-1);l=new d.Xb;l.set(e);l.Vg(e);var N=new d.Xb;N.set(c);N.Vg(c);N.add(l);N.sqrt();if(N.Lg()||c.Lg()&&e.Lg())return 0==q?(u[0]=g.x,u[1]=h.x,2):0;b=(1-b)*Math.tan(q)/N.value();if(1<Math.abs(b))return 0;b=Math.acos(b);l=Math.atan2(e.value(),c.value());c=Math.min(g.x,h.x);e=Math.max(g.x,h.x);h=a.RC(l-b,c,e);b=0!=q?a.RC(l+b,c,e):h;q=0;c<=h&&h<=e&&(u[q]=h,q++);b!=h&&c<=b&&b<=e&&(u[q]=b,q++,2==
q&&Math.abs(u[0]-g.x)>Math.abs(u[1]-g.x)&&(g=u[0],u[0]=u[1],u[1]=g));return q};a.RC=function(a,b,g){a>g?(b=Math.ceil((a-g)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.KB=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();d.yy=b})(p||(p={}));(function(d){var f=function(){function l(){}l.TY=function(b,a){var c=8;0>c&&(c=8);var e=[0,0,0,0],g=new d.b;g.L(a);g.scale(9102==d.fb.kc(b).Nd().yc()?
1:d.fb.kc(b).Nd().Ai/3.141592653589793*180);-180>g.x?(g.x-=g.x%360,-180>g.x&&(g.x+=360)):180<g.x&&(g.x-=g.x%360,180<g.x&&(g.x-=360));90<g.y&&(g.y=90);-90>g.y&&(g.y=-90);b=5*c;a=(b+31)/32;for(var h=-180,q=180,u=b-1,y=a-1;0<=y;y--)for(var f=u-32*y,N=Math.min(32,b-32*y),K=1;K<N;K+=2){var k=.5*(q+h);g.x>=k?(e[y]|=1<<f,h=k):q=k;f-=2;u-=2}h=-90;q=90;u=b-2;for(y=a-1;0<=y;y--)for(f=u-32*y,N=Math.min(32,b-32*y),K=0;K<N;K+=2)k=.5*(q+h),g.y>=k?(e[y]|=1<<f,h=k):q=k,f-=2,u-=2;return l.vO(e,c,c)};l.vO=function(b,
a,c){for(var e=[],g=0;g<a;g++)e[g]="";for(var h=g=0,d=0;d<a;d++){var u=b[g]>>h&31,h=h+5;if(31<h){var y=37-h,u=u&(1<<y)-1,h=h-32;g++;u|=(b[g]&(1<<h)-1)<<y}e[a-1-d]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[u]}if(c>a)for(d=0;d<c-a;d++)e.push("0");else c<a&&(e.length=c);return e.join("")};return l}();d.sM=f})(p||(p={}));(function(d){var f={gcstol:[0,1E-8,1,1.11111E-8,2,1.68845E-8,3,2.17661E-8,4,2.22508E-8,5,2.34848E-8,6,2.37811E-8,7,2.88455E-8,8,3.1456E-8,9,3.29779E-8,10,3.66789E-8,11,4.23597E-8,
12,4.79463E-8,13,6.45223E-8,14,7.26274E-8,15,7.49945E-8,16,7.52506E-8,17,7.97991E-8,18,9.66202E-8,19,9.79918E-8,20,9.89735E-8,21,1.02314E-7,22,1.08146E-7,23,2.29734E-7,24,2.42985E-7,25,2.7546E-7,26,3.37034E-7,27,4.30795E-7,28,5.20871E-7,29,5.50921E-7,30,6.74068E-7,31,6.86177E-7,32,7.25263E-7,33,7.44101E-7,34,7.74267E-7,35,9.62954E-7,36,1.06103E-6,37,1.14363E-6,38,1.16219E-6,39,1.36419E-6,40,1.36744E-6,41,1.43239E-6,42,1.73624E-6,43,1.84825E-6,44,1.90986E-6,45,1.97572E-6,46,2.12207E-6,47,2.72837E-6,
48,3.1831E-6,49,3.58099E-6,50,3.81972E-6,51,4.09256E-6,52,4.40737E-6,53,4.77465E-6,54,5.16178E-6,55,5.20871E-6,56,5.72958E-6,57,6.03113E-6,58,6.98729E-6,59,9.24125E-6,60,1.14592E-5],pcstol:[0,6.66667E-9,1,2E-8,2,4.97098E-5,3,.001,4,.00109362,5,.00328087,6,.00497101],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,
2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,
2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,
2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,
2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,
2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,
3373,102131,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,
3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,
4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,
37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,
102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,
29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077],pcsid:[2066,6,2136,5,2155,5,2157,3,2158,3,2159,5,2160,5,2219,3,2220,3,2244,5,2245,5,2256,5,2265,
5,2266,5,2269,5,2270,5,2273,5,2290,3,2291,3,2294,3,2295,3,2313,3,2314,5,2964,5,2967,5,2968,5,2991,3,2992,5,2993,3,2994,5,3073,3,3076,3,3079,3,3091,5,3106,3,3108,3,3109,3,3141,3,3142,3,3167,2,3337,3,3347,3,3348,3,3359,5,3360,3,3361,5,3362,3,3363,5,3364,3,3365,5,3366,5,3402,3,3403,3,3405,3,3406,3,3439,3,3440,3,3447,3,3449,3,3450,3,3453,5,3454,5,3460,3,3479,5,3480,3,3481,5,3482,3,3483,5,3484,3,3485,5,3486,3,3487,5,3488,3,3489,3,3490,5,3491,3,3492,5,3493,3,3494,5,3495,3,3496,5,3497,3,3498,5,3499,3,3500,
5,3501,3,3502,5,3503,3,3504,5,3505,3,3506,5,3507,3,3508,5,3509,3,3510,5,3511,3,3512,5,3513,3,3514,3,3515,5,3516,3,3517,5,3518,3,3519,5,3520,3,3521,5,3522,3,3523,5,3524,3,3525,5,3526,3,3527,5,3528,3,3529,5,3530,3,3531,5,3532,3,3533,5,3534,3,3535,5,3536,3,3537,5,3538,3,3539,5,3540,3,3541,5,3542,3,3543,5,3544,3,3545,5,3546,3,3547,5,3548,3,3549,5,3550,3,3551,5,3552,3,3553,5,3582,5,3583,3,3584,5,3585,3,3586,5,3587,3,3588,5,3589,3,3590,5,3591,3,3592,3,3593,5,3598,5,3599,3,3600,5,3605,5,3606,3,3607,3,3608,
5,3609,3,3610,5,3611,3,3612,5,3613,3,3614,5,3615,3,3616,5,3617,3,3618,5,3619,3,3620,5,3621,3,3622,5,3623,3,3624,5,3625,3,3626,5,3627,3,3628,5,3629,3,3630,5,3631,3,3632,5,3633,3,3634,5,3635,3,3636,5,3640,5,3641,3,3642,5,3643,3,3644,5,3645,3,3646,5,3647,3,3648,5,3649,3,3650,5,3651,3,3652,5,3653,3,3654,5,3655,3,3656,5,3657,3,3658,5,3659,3,3660,5,3661,3,3662,5,3663,3,3664,5,3668,5,3669,3,3670,5,3671,3,3672,5,3673,3,3674,5,3675,3,3676,5,3677,5,3678,3,3679,5,3680,5,3681,3,3682,5,3683,5,3684,3,3685,3,3686,
5,3687,3,3688,5,3689,3,3690,5,3691,3,3692,5,3696,5,3697,3,3698,5,3699,3,3700,5,3740,3,3749,3,3783,3,3784,3,3793,3,3794,3,3802,3,3816,3,3829,3,3854,3,3920,3,3978,3,3979,3,3991,5,3992,5,4026,3,4037,3,4038,3,4217,5,4438,5,4439,5,4467,3,4471,3,4474,3,4559,3,4839,3,5018,3,5048,3,5167,3,5168,3,5223,3,5234,3,5235,3,5243,3,5266,3,5316,3,5320,3,5321,3,5330,3,5331,3,5337,3,5361,3,5362,3,5382,3,5383,3,5396,3,5456,3,5457,3,5469,3,5472,4,5490,3,5518,3,5523,3,5559,3,5588,5,5589,5,5596,3,5627,3,5629,3,5641,3,5643,
3,5644,3,5654,5,5655,5,5659,3,5700,3,5825,3,5836,3,5837,3,5842,3,5844,3,5880,3,5887,3,5890,3,20499,3,20538,3,20539,3,20790,3,20791,3,21291,3,21292,3,21500,3,21817,3,21818,3,22032,3,22033,3,22091,3,22092,3,22332,3,22391,3,22392,3,22700,3,22770,3,22780,3,22832,3,23090,3,23095,3,23239,3,23240,3,23433,3,23700,3,24047,3,24048,3,24100,5,24200,3,24305,3,24306,3,24382,4,24383,3,24500,3,24547,3,24548,3,24571,2,24600,3,25E3,3,25231,3,25884,3,25932,3,26237,3,26331,3,26332,3,26591,3,26592,3,26632,3,26692,3,26855,
5,26856,5,27120,3,27200,3,27291,4,27292,4,27429,3,27492,3,27500,3,27700,3,28232,3,28600,3,28991,3,28992,3,29100,3,29220,3,29221,3,29333,3,29635,3,29636,3,29701,3,29738,3,29739,3,29849,3,29850,3,29871,2,29872,5,29873,3,29900,3,29901,3,29903,3,30200,6,30339,3,30340,3,30591,3,30592,3,30791,3,30792,3,31028,3,31121,3,31154,3,31170,3,31171,3,31370,3,31528,3,31529,3,31600,3,31700,3,31838,3,31839,3,31901,3,32061,3,32062,3,32098,3,32099,5,32100,3,32104,3,32161,3,32766,3,53034,3,53048,3,53049,3,54034,3,65061,
5,65062,5,65161,3,65163,3,102041,5,102064,4,102068,1,102069,0,102217,5,102218,3,102219,5,102220,5,102378,5,102379,5,102380,3,102381,5,102589,5,102599,5,102600,5,102604,5,102605,3,102606,3,102647,3,102704,5,102705,5,102733,5,102761,5,102762,3,102763,5,102764,3,102765,3,102766,5,102970,5,102974,5,102993,3,102994,3,102995,5,102996,5,103015,3,103016,5,103017,3,103018,5,103025,3,103026,3,103027,5,103028,5,103035,3,103036,3,103037,5,103038,5,103039,3,103040,3,103041,5,103042,5,103043,3,103044,3,103045,
5,103046,5,103047,3,103048,3,103049,5,103050,5,103051,3,103052,5,103053,3,103054,5,103055,3,103056,5,103057,3,103058,3,103059,5,103060,5,103061,3,103062,3,103063,5,103064,5,103069,5,103070,3,103071,3,103072,5,103073,5,103086,3,103087,3,103088,5,103089,5,103094,5,103095,3,103096,5,103103,3,103104,5,103105,3,103106,5,103121,3,103122,5,103123,3,103124,3,103125,5,103126,5,103127,3,103128,3,103129,5,103130,5,103131,3,103132,3,103133,5,103134,5,103135,3,103136,3,103137,5,103138,5,103139,3,103140,5,103141,
3,103142,5,103143,3,103144,5,103145,3,103146,5,103147,3,103148,3,103149,5,103150,5,103151,3,103152,5,103172,3,103173,5,103174,3,103175,3,103176,5,103177,5,103178,3,103179,3,103180,5,103181,5,103182,3,103183,3,103184,5,103185,5,103228,3,103229,3,103230,5,103231,5,103250,3,103251,5,103252,3,103253,5,103260,3,103261,3,103262,5,103263,5,103270,3,103271,3,103272,5,103273,5,103274,3,103275,3,103276,5,103277,5,103278,3,103279,3,103280,5,103281,5,103282,3,103283,3,103284,5,103285,5,103286,3,103287,5,103288,
3,103289,5,103290,3,103291,5,103292,3,103293,3,103294,5,103295,5,103296,3,103297,3,103298,5,103299,5,103376,5,103377,3,103378,3,103379,5,103380,5,103393,3,103394,3,103395,5,103396,5,103472,3,103473,5,103474,3,103475,5,103482,3,103483,5,103484,3,103485,5,103500,3,103501,5,103502,3,103503,3,103504,5,103505,5,103506,3,103507,3,103508,5,103509,5,103510,3,103511,3,103512,5,103513,5,103514,3,103515,5,103516,3,103517,5,103518,3,103519,5,103520,3,103521,5,103522,3,103523,3,103524,5,103525,5,103526,3,103527,
5,103561,5,103562,5,103563,3,103564,3,103565,5,103566,5,103567,3,103568,3,103569,5,103570,5,103585,5,103695,5],pcsidc:[[2E3,2045,3],[2056,2065,3],[2067,2135,3],[2137,2153,3],[2161,2170,3],[2172,2193,3],[2196,2198,3],[2200,2203,3],[2206,2217,3],[2222,2224,5],[2251,2253,5],[2280,2282,5],[2308,2311,3],[2315,2325,3],[2327,2394,3],[2400,2462,3],[2523,2576,3],[2578,2693,3],[2695,2758,3],[2867,2888,5],[2891,2930,5],[2931,2941,3],[2969,2973,3],[2975,2982,3],[2984,2988,3],[2995,3002,3],[3006,3051,3],[3054,
3059,3],[3061,3066,3],[3068,3071,3],[3084,3087,3],[3112,3118,3],[3120,3138,3],[3146,3151,3],[3153,3157,3],[3161,3166,3],[3168,3172,3],[3174,3203,3],[3294,3313,3],[3315,3335,3],[3339,3345,3],[3350,3358,3],[3367,3369,3],[3374,3399,3],[3408,3416,3],[3425,3432,5],[3441,3446,5],[3456,3459,5],[3465,3478,3],[3554,3559,3],[3561,3565,5],[3568,3570,5],[3571,3581,3],[3594,3597,3],[3601,3604,3],[3637,3639,3],[3665,3667,3],[3693,3695,3],[3701,3727,3],[3728,3733,5],[3744,3747,3],[3753,3758,5],[3761,3763,3],[3765,
3769,3],[3779,3781,3],[3788,3791,3],[3797,3799,3],[3832,3841,3],[3844,3852,3],[3873,3885,3],[3890,3893,3],[3907,3912,3],[3942,3950,3],[3968,3970,3],[3973,3976,3],[3986,3989,3],[3994,3997,3],[4399,4413,5],[4418,4433,5],[4491,4554,3],[5069,5072,3],[5105,5130,3],[5180,5184,3],[5253,5259,3],[5269,5275,3],[5292,5311,3],[5343,5349,3],[5355,5357,3],[5387,5389,3],[5459,5463,3],[5479,5482,3],[5530,5539,3],[5550,5552,3],[5562,5583,3],[5623,5625,5],[5631,5639,3],[5649,5653,3],[5663,5680,3],[5682,5685,3],[5875,
5877,3],[20002,20032,3],[20062,20092,3],[20135,20138,3],[20248,20258,3],[20348,20358,3],[20436,20440,3],[20822,20824,3],[20934,20936,3],[21035,21037,3],[21095,21097,3],[21148,21150,3],[21413,21423,3],[21473,21483,3],[21780,21782,3],[21891,21894,3],[22171,22177,3],[22181,22187,3],[22191,22197,3],[22234,22236,3],[22521,22525,3],[22991,22994,3],[23028,23038,3],[23830,23853,3],[23866,23872,3],[23877,23884,3],[23886,23894,3],[23946,23948,3],[24311,24313,3],[24342,24347,3],[24370,24374,4],[24375,24381,
3],[24718,24721,3],[24817,24821,3],[24877,24882,3],[24891,24893,3],[25391,25395,3],[25828,25838,3],[26191,26195,3],[26391,26393,3],[26703,26722,3],[26729,26760,5],[26766,26798,5],[26860,26870,5],[26891,26899,3],[26903,26923,3],[26929,26946,3],[26948,26998,3],[27037,27040,3],[27205,27232,3],[27258,27260,3],[27391,27398,3],[27561,27564,3],[27571,27574,3],[27581,27584,3],[27591,27594,3],[28191,28193,3],[28348,28358,3],[28402,28432,3],[28462,28492,3],[29118,29122,3],[29177,29185,3],[30161,30179,3],[30491,
30494,3],[30729,30732,3],[31251,31259,3],[31265,31268,3],[31275,31278,3],[31288,31297,3],[31461,31465,3],[31491,31495,3],[31917,31922,3],[31965,31985,3],[31992,32E3,3],[32001,32003,5],[32005,32031,5],[32033,32060,5],[32074,32077,5],[32081,32086,3],[32107,32130,3],[32133,32158,3],[32164,32167,5],[32180,32199,3],[32201,32260,3],[32301,32360,3],[32601,32662,3],[32664,32667,5],[32701,32761,3],[53001,53004,3],[53008,53019,3],[53021,53032,3],[53042,53046,3],[54001,54004,3],[54008,54019,3],[54021,54032,
3],[54042,54046,3],[54048,54053,3],[102001,102040,3],[102042,102063,3],[102065,102067,3],[102070,102112,3],[102114,102117,3],[102118,102121,5],[102122,102208,3],[102210,102216,3],[102221,102300,3],[102304,102377,3],[102382,102388,3],[102389,102391,5],[102401,102444,3],[102450,102452,3],[102461,102468,5],[102469,102492,3],[102500,102519,5],[102530,102549,3],[102570,102588,3],[102590,102598,3],[102601,102603,3],[102608,102628,3],[102629,102646,5],[102648,102672,5],[102675,102700,5],[102701,102703,3],
[102707,102730,5],[102735,102758,5],[102767,102798,3],[102962,102969,3],[102971,102973,3],[102975,102989,3],[102990,102992,5],[102997,103002,3],[103003,103008,5],[103009,103011,3],[103012,103014,5],[103019,103021,3],[103022,103024,5],[103029,103031,3],[103032,103034,5],[103065,103068,3],[103074,103076,3],[103077,103079,5],[103080,103082,3],[103083,103085,5],[103090,103093,3],[103097,103099,3],[103100,103102,5],[103107,103109,3],[103110,103112,5],[103113,103116,3],[103117,103120,5],[103153,103157,
3],[103158,103162,5],[103163,103165,3],[103166,103171,5],[103186,103188,3],[103189,103191,5],[103192,103195,3],[103196,103199,5],[103200,103224,3],[103225,103227,5],[103232,103237,3],[103238,103243,5],[103244,103246,3],[103247,103249,5],[103254,103256,3],[103257,103259,5],[103264,103266,3],[103267,103269,5],[103300,103375,3],[103381,103383,3],[103384,103386,5],[103387,103389,3],[103390,103392,5],[103397,103399,3],[103400,103471,5],[103476,103478,3],[103479,103481,5],[103486,103488,3],[103489,103491,
5],[103492,103495,3],[103496,103499,5],[103539,103543,3],[103544,103548,5],[103549,103551,3],[103552,103557,5],[103558,103560,3],[103571,103573,3],[103574,103576,5],[103577,103580,3],[103581,103583,5],[103600,103694,3],[103700,103793,5],[103794,103799,3]],gcsid:[4042,0,4075,0,4081,0,4168,0,4170,0,4188,0,4261,1,4262,0,4263,0,4288,0,4289,0,4305,1,4322,0,4324,0,4326,0,4466,0,4469,0,4475,0,4483,0,4490,0,4555,0,4558,0,4614,0,4619,0,4657,0,4670,0,4671,0,4674,0,4682,0,4683,0,4718,0,4720,0,4721,0,4723,0,
4726,0,4737,0,4738,0,4759,0,4761,0,4807,1,4808,0,4809,0,4816,1,4817,0,4818,0,4819,1,4820,0,4821,1,4823,0,4824,0,4901,1,4902,1,4903,0,4904,0,5228,0,5229,0,5233,0,5252,0,5264,0,5340,0,5354,0,5360,0,5371,0,5373,0,5381,0,5393,0,5464,0,5467,0,5489,0,5524,0,5527,0,5546,0,5561,0,5593,0,5681,0,5886,0,37225,1,37235,0,37257,0,37259,0,37260,0,104020,0,104139,1,104140,1,104223,0,104286,0,104287,0,104304,0,104305,0,104896,0,104900,5,104901,0,104902,0,104903,9,104904,2,104905,2,104906,59,104907,54,104908,0,104909,
58,104910,31,104911,56,104912,6,104913,50,104914,41,104915,10,104916,3,104917,30,104918,8,104919,60,104920,53,104921,44,104922,48,104923,51,104924,38,104925,0,104926,49,104927,57,104928,21,104929,23,104930,35,104931,49,104932,27,104933,17,104934,13,104935,7,104936,56,104937,40,104938,28,104939,37,104940,15,104941,55,104942,22,104943,4,104944,0,104945,20,104946,42,104947,47,104948,52,104949,43,104950,46,104951,39,104952,24,104953,16,104954,50,104955,36,104956,33,104957,46,104958,14,104959,19,104960,
0,104961,34,104962,32,104963,29,104964,45,104965,26,104966,25,104967,41,104968,11,104969,12,104970,18],gcsidc:[[4001,4016,0],[4018,4025,0],[4027,4029,0],[4031,4036,0],[4044,4047,0],[4052,4054,0],[4120,4166,0],[4172,4176,0],[4178,4185,0],[4190,4196,0],[4198,4216,0],[4218,4222,0],[4224,4232,0],[4234,4260,0],[4265,4267,0],[4269,4286,0],[4291,4303,0],[4306,4319,0],[4600,4610,0],[4621,4625,0],[4627,4633,0],[4636,4639,0],[4641,4646,0],[4659,4667,0],[4676,4680,0],[4686,4697,0],[4699,4706,0],[4740,4757,0],
[4763,4765,0],[4801,4806,0],[4810,4812,1],[4813,4815,0],[37001,37008,0],[37201,37208,0],[37211,37224,0],[37226,37233,0],[37237,37243,0],[37245,37247,0],[37249,37255,0],[104100,104138,0],[104141,104145,0],[104256,104261,0],[104700,104786,0],[104990,104992,0]]},l={c:[[2E3,2045,9001],[2056,2065,9001],[2067,2135,9001],[2137,2153,9001],[2161,2170,9001],[2172,2193,9001],[2196,2198,9001],[2200,2203,9001],[2206,2217,9001],[2222,2224,9002],[2251,2253,9002],[2280,2282,9002],[2308,2311,9001],[2315,2325,9001],
[2327,2394,9001],[2400,2462,9001],[2523,2576,9001],[2578,2693,9001],[2695,2758,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2941,9001],[2969,2973,9001],[2975,2982,9001],[2984,2988,9001],[2995,3002,9001],[3006,3051,9001],[3054,3059,9001],[3061,3066,9001],[3068,3071,9001],[3084,3087,9001],[3112,3118,9001],[3120,3138,9001],[3146,3151,9001],[3153,3157,9001],[3161,3166,9001],[3168,3172,9001],[3174,3203,
9001],[3294,3313,9001],[3315,3335,9001],[3339,3345,9001],[3350,3358,9001],[3367,3369,9001],[3374,3399,9001],[3408,3416,9001],[3425,3432,9003],[3441,3446,9003],[3456,3459,9003],[3465,3478,9001],[3554,3559,9001],[3561,3565,9003],[3568,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3733,9003],[3744,3747,9001],[3753,3758,9003],[3761,3763,9001],[3765,3769,9001],[3779,3781,9001],[3788,3791,9001],[3797,3799,9001],[3832,
3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3907,3912,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4052,4054,9102],[4120,4166,9102],[4172,4176,9102],[4178,4185,9102],[4190,4196,9102],[4198,4216,9102],[4218,4222,9102],[4224,4232,9102],[4234,4260,9102],[4265,4267,9102],[4269,4286,9102],[4291,4303,9102],[4306,4319,9102],[4399,4413,9003],[4418,4433,9003],
[4491,4554,9001],[4600,4610,9102],[4621,4625,9102],[4627,4633,9102],[4636,4639,9102],[4641,4646,9102],[4659,4667,9102],[4676,4680,9102],[4686,4697,9102],[4699,4706,9102],[4740,4757,9102],[4763,4765,9102],[4801,4806,9102],[4810,4812,9105],[4813,4815,9102],[5069,5072,9001],[5105,5130,9001],[5180,5184,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5343,5349,9001],[5355,5357,9001],[5387,5389,9001],[5459,5463,9001],[5479,5482,9001],[5530,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,
9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21891,21894,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,
9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26703,26722,9001],[26729,26760,9003],[26766,26798,9003],[26860,26870,9003],[26891,26899,9001],[26903,26923,9001],[26929,26946,9001],[26948,26998,9001],[27037,27040,9001],[27205,
27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29118,29122,9001],[29177,29185,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31278,9001],[31288,31297,9001],[31461,31465,9001],[31491,31495,9001],[31917,31922,9001],[31965,31985,9001],[31992,32E3,9001],[32001,32003,9003],[32005,32031,9003],
[32033,32060,9003],[32074,32077,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37001,37008,9102],[37201,37208,9102],[37211,37224,9102],[37226,37233,9102],[37237,37243,9102],[37245,37247,9102],[37249,37255,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53042,53046,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,
54046,9001],[54048,54053,9001],[102001,102040,9001],[102042,102063,9001],[102065,102067,9001],[102070,102112,9001],[102114,102117,9001],[102122,102208,9001],[102210,102216,9001],[102221,102300,9001],[102304,102377,9001],[102382,102388,9001],[102389,102391,9003],[102401,102444,9001],[102450,102452,9001],[102461,102468,9003],[102469,102492,9001],[102500,102519,9002],[102530,102549,9001],[102570,102588,9001],[102590,102598,9001],[102601,102603,9001],[102608,102628,9001],[102629,102646,9003],[102648,
102672,9003],[102675,102700,9003],[102701,102703,9001],[102707,102730,9003],[102735,102758,9003],[102767,102798,9001],[102962,102969,9001],[102971,102973,9001],[102975,102989,9001],[102990,102992,9002],[102997,103002,9001],[103003,103008,9003],[103009,103011,9001],[103012,103014,9003],[103019,103021,9001],[103022,103024,9003],[103029,103031,9001],[103032,103034,9003],[103065,103068,9001],[103074,103076,9001],[103077,103079,9002],[103080,103082,9001],[103083,103085,9003],[103090,103093,9001],[103097,
103099,9001],[103100,103102,9003],[103107,103109,9001],[103110,103112,9003],[103113,103116,9001],[103117,103120,9003],[103153,103157,9001],[103158,103162,9003],[103163,103165,9001],[103166,103168,9002],[103169,103171,9003],[103186,103188,9001],[103189,103191,9003],[103192,103195,9001],[103196,103199,9003],[103200,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,
103269,9003],[103300,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103400,103471,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103600,
103694,9001],[103700,103793,9003],[103794,103799,9001],[104100,104138,9102],[104141,104145,9102],[104256,104261,9102],[104700,104786,9102],[104900,104970,9102],[104990,104992,9102]],nc:[2066,9039,2136,9094,2155,9003,2157,9001,2158,9001,2159,9094,2160,9094,2219,9001,2220,9001,2244,9003,2245,9003,2256,9002,2265,9002,2266,9002,2269,9002,2270,9002,2273,9002,2290,9001,2291,9001,2294,9001,2295,9001,2313,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,
9002,2964,9003,2967,9003,2968,9003,2991,9001,2992,9002,2993,9001,2994,9002,3073,9001,3076,9001,3079,9001,3091,9003,3106,9001,3108,9001,3109,9001,3141,9001,3142,9001,3167,9301,3337,9001,3347,9001,3348,9001,3359,9003,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3366,9005,3402,9001,3403,9001,3405,9001,3406,9001,3439,9001,3440,9001,3447,9001,3449,9001,3450,9001,3453,9003,3454,9003,3460,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,
3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,
9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,
3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,
9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3740,9001,3749,9001,3783,9001,3784,9001,3793,9001,3794,9001,3802,9001,3816,9001,3829,9001,3854,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4075,9102,4081,9102,4168,9102,4170,9102,4188,9102,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4305,9105,4322,9102,4324,9102,4326,9102,4438,9003,
4439,9003,4466,9102,4467,9001,4469,9102,4471,9001,4474,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4614,9102,4619,9102,4657,9102,4670,9102,4671,9102,4674,9102,4682,9102,4683,9102,4718,9102,4720,9102,4721,9102,4723,9102,4726,9102,4737,9102,4738,9102,4759,9102,4761,9102,4807,9105,4808,9102,4809,9102,4816,9105,4817,9102,4818,9102,4819,9105,4820,9102,4821,9105,4823,9102,4824,9102,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5018,9001,5048,9001,5167,9001,5168,9001,5223,9001,5228,
9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5330,9001,5331,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5393,9102,5396,9001,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5518,9001,5523,9001,5524,9102,5527,9102,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,
5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5842,9001,5844,9001,5880,9001,5886,9102,5887,9001,5890,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23433,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,
24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,26855,9003,26856,9003,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27492,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29100,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,
29900,9001,29901,9001,29903,9001,30200,9039,30339,9001,30340,9001,30591,9001,30592,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37225,9105,37235,9102,37257,9102,37259,9102,37260,9102,53034,9001,53048,9001,53049,9001,54034,9001,65061,9003,65062,9003,65161,9001,65163,9001,102041,9003,102064,
9085,102068,109030,102069,109031,102118,9003,102119,9002,102120,9003,102121,9003,102217,9003,102218,9001,102219,9003,102220,9003,102378,9002,102379,9002,102380,9001,102381,9002,102589,9003,102599,9003,102600,9003,102604,9003,102605,9001,102606,9001,102647,9001,102704,9003,102705,9003,102733,9003,102761,9003,102762,9001,102763,9003,102764,9001,102765,9001,102766,9003,102970,9002,102974,9003,102993,9001,102994,9001,102995,9003,102996,9003,103015,9001,103016,9003,103017,9001,103018,9003,103025,9001,
103026,9001,103027,9003,103028,9003,103035,9001,103036,9001,103037,9003,103038,9003,103039,9001,103040,9001,103041,9003,103042,9003,103043,9001,103044,9001,103045,9003,103046,9003,103047,9001,103048,9001,103049,9003,103050,9003,103051,9001,103052,9003,103053,9001,103054,9003,103055,9001,103056,9003,103057,9001,103058,9001,103059,9003,103060,9003,103061,9001,103062,9001,103063,9003,103064,9003,103069,9003,103070,9001,103071,9001,103072,9003,103073,9003,103086,9001,103087,9001,103088,9003,103089,9003,
103094,9002,103095,9001,103096,9003,103103,9001,103104,9003,103105,9001,103106,9003,103121,9001,103122,9003,103123,9001,103124,9001,103125,9002,103126,9002,103127,9001,103128,9001,103129,9003,103130,9003,103131,9001,103132,9001,103133,9003,103134,9003,103135,9001,103136,9001,103137,9002,103138,9002,103139,9001,103140,9003,103141,9001,103142,9003,103143,9001,103144,9003,103145,9001,103146,9002,103147,9001,103148,9001,103149,9003,103150,9003,103151,9001,103152,9003,103172,9001,103173,9003,103174,9001,
103175,9001,103176,9003,103177,9003,103178,9001,103179,9001,103180,9003,103181,9003,103182,9001,103183,9001,103184,9003,103185,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,
103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,
103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103695,9003,104020,9102,104139,9105,104140,9105,104223,9102,104286,9102,104287,9102,104304,9102,104305,9102,104896,9102]},b=function(){function a(){}a.xG=function(c){!1===a.ul&&a.hq();var b=a.eU(c);if(-1==
b){var g=a.Qv(c);g!=c&&(b=a.xG(g))}return b};a.eU=function(c){return void 0!==a.hv[c]?a.hv[c]:-1};a.uS=function(c){!1===a.ul&&a.hq();var b=a.KF(c);if(1E38==b){var g=a.Qv(c);g!=c&&(b=a.KF(g));if(1E38==b)return 1E-10}return b};a.SU=function(c){if(void 0!==a.$p[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.$p[b]?!0:!1};a.UU=function(c){if(void 0!==a.Dj[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.Dj[b]?!0:!1};a.KF=function(c){!1===a.ul&&a.hq();return void 0!==a.$p[c]?a.$p[c]:void 0!==a.Dj[c]?
a.Dj[c]:1E38};a.sZ=function(c){!1===a.ul&&a.hq();return void 0!==a.HC[c]?a.HC[c]:c};a.Qv=function(c){!1===a.ul&&a.hq();return void 0!==a.PC[c]?a.PC[c]:c};a.hq=function(){for(var c=f,b,g=0;g<c.pcsid.length;g+=2)a.Dj[c.pcsid[g]]=c.pcstol[2*c.pcsid[g+1]+1];for(g=0;g<c.pcsidc.length;g+=1){b=c.pcsidc[g];for(var h=b[0];h<=b[1];h++)a.Dj[h]=c.pcstol[2*b[2]+1]}for(g=0;g<c.gcsid.length;g+=2)a.$p[c.gcsid[g]]=c.gcstol[2*c.gcsid[g+1]+1];for(g=0;g<c.gcsidc.length;g+=1)for(b=c.gcsidc[g],h=b[0];h<=b[1];h++)a.Dj[h]=
c.gcstol[2*b[2]+1];for(g=0;g<l.c.length;g+=1)for(b=l.c[g],h=b[0];h<=b[1];h++)a.hv[h]=b[2];for(g=0;g<l.nc.length;g+=2)a.hv[l.nc[g]]=l.nc[g+1];l=null;for(g=0;g<c.newtoold.length;g+=2)a.HC[c.newtoold[g+1]]=c.newtoold[g],a.PC[c.newtoold[g]]=c.newtoold[g+1];f=null;a.ul=!0};a.ul=!1;a.$p=[];a.Dj=[];a.HC=[];a.PC=[];a.hv=[];return a}();d.us=b})(p||(p={}));(function(d){function f(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var l=[],b=function(){function a(){}a.wS=
function(c){try{for(var b=0;b<l.length;b++)if(l[b].wkttext===c)return l[b].unit;for(var g,h=b="",q=!1,u=0;u<c.length;u++){var y=c[u];!0===q?'"'==y?'"'==c[u+1]?b+=y:q=!1:b+=y:/[\s]/.test(y)||(","==y?(h=""!==b?h+(f(b)+","):h+",",b=""):")"==y||"]"==y?(h=""!==b?h+(f(b)+"]}"):h+"]}",b=""):"("==y||"["==y?(h+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==y?(q=!0,b=""):b+=y)}g=JSON.parse(h);var P=a.pF(g);if(null===P)return null;g=null;for(y=0;y<P.values.length;y++)if("object"===typeof P.values[y]&&
"UNIT"===P.values[y].entity){g=P.values[y];break}if(null===g)return null;var N=d.oc.bR("GEOGCS"===P.entity?1:0,g.values[1],g.values[2]);l.push({wkttext:c,unit:N});10<l.length&&l.shift();return N}catch(K){return null}};a.pF=function(c){if(null===c)return null;if("GEOGCS"===c.entity||"PROJCS"===c.entity)return c;for(var b=[],g=0;g<c.values.length;g++)if("object"===typeof c.values[g]&&void 0!==c.values[g].entity){if("GEOGCS"===c.values[g].entity||"PROJCS"==c.values[g].entity)return c.values[g];b.push(c.values[g])}for(c=
0;c<b.length;c++)if(g=a.pF(b[c]),null!==g)return g;return null};a.vS=function(a){var c=-1;if(null!=a&&0<a.length){var b,h;b=a.indexOf("PROJCS");if(0<=b){var d=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,h=a.indexOf("]",b+1),0<h)))try{d=parseFloat(a.substring(b,h))}catch(y){d=0}0<d&&(c=.001/d)}else if(b=a.indexOf("GEOGCS"),0<=b){var u=0,d=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;h=a.indexOf(",",b+1);if(0<h)try{u=parseFloat(a.substring(b,h))}catch(y){u=
0}if(0<u&&(b=a.indexOf("UNIT",h+1),0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,h=a.indexOf("]",b+1),0<h))))try{d=parseFloat(a.substring(b,h))}catch(y){d=0}}0<u&&0<d&&(c=.001/(u*d))}}return c};return a}();d.oE=b})(p||(p={}));(function(d){(function(d){d[d.NONE=0]="NONE";d[d.LINEAR=1]="LINEAR";d[d.ANGULAR=2]="ANGULAR"})(d.FM||(d.FM={}));(function(d){d[d.enumFloat=0]="enumFloat";d[d.enumDouble=1]="enumDouble";d[d.enumInt32=2]="enumInt32";d[d.enumInt64=3]="enumInt64";d[d.enumInt8=4]="enumInt8";d[d.enumInt16=
5]="enumInt16"})(d.GN||(d.GN={}));(function(d){d[d.POSITION=0]="POSITION";d[d.Z=1]="Z";d[d.M=2]="M";d[d.ID=3]="ID";d[d.NORMAL=4]="NORMAL";d[d.TEXTURE1D=5]="TEXTURE1D";d[d.TEXTURE2D=6]="TEXTURE2D";d[d.TEXTURE3D=7]="TEXTURE3D";d[d.ID2=8]="ID2";d[d.MAXSEMANTICS=10]="MAXSEMANTICS"})(d.Wc||(d.Wc={}));var f=function(){function l(b,a){this.Qt=this.af=null;this.Er=this.Ga=0;this.Sh=this.wg=null;this.bm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.wg=a.wg.slice(0);this.Sh=a.Sh.slice(0);this.bm=a.bm;this.Qt=
[];for(a=b=0;a<this.Ga;a++)this.Qt[a]=b,b+=l.Xa(this.wg[a]);this.Er=b;this.af=[];for(a=0;a<this.Ga;a++){b=l.Xa(this.rd(a));for(var c=l.de(this.rd(a)),e=0;e<b;e++)this.af[this.Qt[a]+e]=c}}else this.Er=this.Ga=0}l.prototype.rd=function(b){if(0>b||b>this.Ga)throw d.g.F();return this.wg[b]};l.prototype.mg=function(b){return this.Sh[b]};l.Wz=function(b){return l.tc[b]};l.si=function(b){return l.bd[b]};l.Mg=function(b){return l.fe[b]};l.Cj=function(b){return l.Mg(l.si(b))*l.Xa(b)};l.Xa=function(b){return l.Bb[b]};
l.Wg=function(b){return 2>b};l.rk=function(b){return l.Wg(l.si(b))};l.prototype.hasAttribute=function(b){return 0<=this.Sh[b]};l.prototype.uH=function(){return this.hasAttribute(1)};l.de=function(b){return l.$[b]};l.prototype.ET=function(b){return this.Qt[b]};l.PH=function(b,a){return l.$[b]===a};l.Oi=function(b){if(4==b)return 2;if(8==b)return 3;throw d.g.F();};l.prototype.Eb=function(b){return this===b};l.prototype.Ak=function(){for(var b=d.J.dh(this.wg[0]),a=1;a<this.Ga;a++)b=d.J.dh(this.wg[a],
b);return b};l.prototype.xk=function(b){return this.Qt[b]};l.prototype.jc=function(){return this.bm};l.prototype.Td=function(b){return this.wg[b]};l.$=[0,0,NaN,0,0,0,0,0,0];l.tc=[1,1,1,0,2,1,1,1,0];l.bd=[1,1,1,2,0,0,0,0,2];l.fe=[4,8,4,8,1,2];l.Bb=[2,1,1,1,3,1,2,3,2];return l}();d.ma=f})(p||(p={}));(function(d){function f(a,b,g,h){var c=a.Jd,e=a.e+b+1;1===g?h=5<=c[e]:2===g?h=5<c[e]||5==c[e]&&(h||0>e||void 0!==c[e+1]||c[e-1]&1):3===g?h=h||void 0!==c[e]||0>e:(h=!1,0!==g&&l("!Big.RM!"));if(1>e||!c[0])h?
(a.e=-b,a.Jd=[1]):a.Jd=[a.e=0];else{c.length=e--;if(h)for(;9<++c[e];)c[e]=0,e--||(++a.e,c.unshift(1));for(e=c.length;!c[--e];c.pop());}}function l(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(c){if(c instanceof a)this.me=c.me,this.e=c.e,this.Jd=c.Jd.slice();else{var e,h,d;0===c&&0>1/c?c="-0":b.test(c+="")||l(NaN);this.me="-"==c.charAt(0)?(c=c.slice(1),-1):1;-1<(e=c.indexOf("."))&&(c=c.replace(".",""));0<(h=c.search(/e/i))?(0>e&&(e=h),
e+=+c.slice(h+1),c=c.substring(0,h)):0>e&&(e=c.length);for(h=0;"0"==c.charAt(h);h++);if(h==(d=c.length))this.Jd=[this.e=0];else{for(;"0"==c.charAt(--d););this.e=e-h-1;this.Jd=[];for(e=0;h<=d;this.Jd[e++]=+c.charAt(h++));}}}a.prototype.abs=function(){var c=new a(this);c.me=1;return c};a.prototype.RF=function(){var c=0,b=this.Jd,h=(c=new a(c)).Jd,d=this.me,u=c.me,y=this.e,l=c.e;if(!b[0]||!h[0])return b[0]?d:h[0]?-u:0;if(d!=u)return d;c=0>d;if(y!=l)return y>(l^c)?1:-1;d=-1;for(u=(y=b.length)<(l=h.length)?
y:l;++d<u;)if(b[d]!=h[d])return b[d]>(h[d]^c)?1:-1;return y==l?0:y>(l^c)?1:-1};a.prototype.Wm=function(c){var b=this.Jd,e=(c=new a(c)).Jd,d=this.me==c.me?1:-1,u=a.bd;(u!==~~u||0>u||1E6<u)&&l("!Big.DP!");if(!b[0]||!e[0])return b[0]==e[0]&&l(NaN),e[0]||l(d/0),new a(0*d);var y,P,N,K,k=e.slice(),m=y=e.length,p=b.length,n=b.slice(0,y),r=n.length,t=c,A=t.Jd=[],v=0,z=u+(t.e=this.e-c.e)+1;t.me=d;d=0>z?0:z;for(k.unshift(0);r++<y;n.push(0));do{for(P=0;10>P;P++){if(y!=(r=n.length))N=y>r?1:-1;else for(K=-1,N=
0;++K<y;)if(e[K]!=n[K]){N=e[K]>n[K]?1:-1;break}if(0>N){for(c=r==y?e:k;r;){if(n[--r]<c[r]){for(K=r;K&&!n[--K];n[K]=9);--n[K];n[r]+=10}n[r]-=c[r]}for(;!n[0];n.shift());}else break}A[v++]=N?P:++P;n[0]&&N?n[r]=b[m]||0:n=[b[m]]}while((m++<p||void 0!==n[0])&&d--);A[0]||1==v||(A.shift(),t.e--);v>z&&f(t,u,a.Mg,void 0!==n[0]);return t};a.prototype.$T=function(){return 0<this.RF()};a.prototype.oV=function(){return 0>this.RF()};a.prototype.Zt=function(c){var b,e,d=this.me,u=(c=new a(c)).me;if(d!=u)return c.me=
-u,this.EJ(c);var y=this.Jd.slice();e=this.e;var l=c.Jd,f=c.e;if(!y[0]||!l[0])return l[0]?(c.me=-u,c):new a(y[0]?this:0);if(d=e-f){(b=0>d)?(d=-d,e=y):(f=e,e=l);e.reverse();for(u=d;u--;e.push(0));e.reverse()}else for(e=((b=y.length<l.length)?y:l).length,d=u=0;u<e;u++)if(y[u]!=l[u]){b=y[u]<l[u];break}b&&(e=y,y=l,l=e,c.me=-c.me);if(0<(u=(e=l.length)-(b=y.length)))for(;u--;y[b++]=0);for(u=b;e>d;){if(y[--e]<l[e]){for(b=e;b&&!y[--b];y[b]=9);--y[b];y[e]+=10}y[e]-=l[e]}for(;0==y[--u];y.pop());for(;0==y[0];)y.shift(),
--f;y[0]||(c.me=1,y=[f=0]);c.Jd=y;c.e=f;return c};a.prototype.EJ=function(c){var b,e=this.me;b=(c=new a(c)).me;if(e!=b)return c.me=-b,this.Zt(c);b=this.e;var d=this.Jd,u=c.e,y=c.Jd;if(!d[0]||!y[0])return y[0]?c:new a(d[0]?this:0*e);d=d.slice();if(e=b-u){0<e?(u=b,b=y):(e=-e,b=d);for(b.reverse();e--;b.push(0));b.reverse()}0>d.length-y.length&&(b=y,y=d,d=b);e=y.length;for(b=0;e;)b=(d[--e]=d[e]+y[e]+b)/10|0,d[e]%=10;b&&(d.unshift(b),++u);for(e=d.length;0==d[--e];d.pop());c.Jd=d;c.e=u;return c};a.prototype.pow=
function(c){var b=this,e=new a(1),d=e,u=0>c;(c!==~~c||-1E6>c||1E6<c)&&l("!pow!");for(c=u?-c:c;;){c&1&&(d=d.ds(b));c>>=1;if(!c)break;b=b.ds(b)}return u?e.Wm(d):d};a.prototype.round=function(c,b){var e=this;null==c?c=0:(c!==~~c||0>c||1E6<c)&&l("!round!");f(e=new a(e),c,null==b?a.Mg:b);return e};a.prototype.sqrt=function(){var c,b,d;b=this.Jd;c=this.me;d=this.e;var q=new a("0.5");if(!b[0])return new a(this);0>c&&l(NaN);c=Math.sqrt(this.toString());0==c||c==1/0?(c=b.join(""),c.length+d&1||(c+="0"),b=
new a(Math.sqrt(c).toString()),b.e=((d+1)/2|0)-(0>d||d&1)):b=new a(c.toString());c=b.e+(a.bd+=4);do d=b,b=q.ds(d.EJ(this.Wm(d)));while(d.Jd.slice(0,c).join("")!==b.Jd.slice(0,c).join(""));f(b,a.bd-=4,a.Mg);return b};a.prototype.ds=function(c){var b,e=this.Jd,d=(c=new a(c)).Jd,u=e.length,y=d.length,l=this.e,f=c.e;c.me=this.me==c.me?1:-1;if(!e[0]||!d[0])return new a(0*c.me);c.e=l+f;u<y&&(b=e,e=d,d=b,f=u,u=y,y=f);for(b=Array(f=u+y);f--;b[f]=0);for(l=y;l--;){y=0;for(f=u+l;f>l;)y=b[f]+d[l]*e[f-l-1]+y,
b[f--]=y%10,y=y/10|0;b[f]=(b[f]+y)%10}y&&++c.e;b[0]||b.shift();for(l=b.length;!b[--l];b.pop());c.Jd=b;return c};a.prototype.toString=function(){var a=this.e,c=this.Jd.join(""),b=c.length;if(-7>=a||21<=a)c=c.charAt(0)+(1<b?"."+c.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;c="0"+c);c="0."+c}else if(0<a)if(++a>b)for(a-=b;a--;c+="0");else a<b&&(c=c.slice(0,a)+"."+c.slice(a));else 1<b&&(c=c.charAt(0)+"."+c.slice(1));return 0>this.me&&this.Jd[0]?"-"+c:c};a.bd=20;a.Mg=1;return a}();d.Tp=a})(p||(p=
{}));(function(d){var f=function(){function b(a){this.Nf=a}b.prototype.hs=function(a,c,b){var e=new d.b,h=new d.b,q=this.Nf;b.Gd(a,c,function(a,c){q.fc(2*a,e);q.fc(2*c,h);return e.compare(h)})};b.prototype.Qq=function(a){return this.Nf.read(2*a+1)};return b}(),l=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var c=a.G();return 1736==c?0==a.hf()?!1:!0:1607==c?(c=[!1],b.mE(a,!0,c),c[0]):197==c||d.T.Oc(c)&&!a.OH()?!0:!1};b.Rm=function(a){var c=a.G();if(1736==c)return c=new d.Ua(a.description),
a.u()||a.xE(c),c;if(1607==c)return b.mE(a,!1,null);if(197==c)return c=new d.Ua(a.description),a.u()||c.jd(a,!1),c;if(d.T.Oc(c)){c=new d.Ed(a.description);if(!a.u()&&!a.OH()){var e=new d.Wa;a.Dp(e);c.add(e);a.Bp(e);c.add(e)}return c}if(d.T.Jo(c))return null;throw d.g.F();};b.mE=function(a,c,b){null!=b&&(b[0]=!1);var e=null;c||(e=new d.Ed(a.description));if(!a.u()){var h=new d.ia(0);h.yb(2*a.aa());for(var q=0,u=a.aa();q<u;q++)if(0<a.La(q)&&!a.Eo(q)){var y=a.wa(q);h.add(y);y=a.Gc(q)-1;h.add(y)}if(0<
h.size){u=new d.Hu;q=a.Pa(0);u.sort(h,0,h.size,new f(q));u=new d.b;q.fc(2*h.get(0),u);for(var y=0,l=1,N=new d.Wa,K=new d.b,k=1,m=h.size;k<m;k++)if(q.fc(2*h.get(k),K),K.ub(u))h.get(y)>h.get(k)?(h.set(y,2147483647),y=k):h.set(k,2147483647),l++;else{if(0==(l&1))h.set(y,2147483647);else if(c)return null!=b&&(b[0]=!0),null;u.L(K);y=k;l=1}if(0==(l&1))h.set(y,2147483647);else if(c)return null!=b&&(b[0]=!0),null;if(!c)for(h.Gd(0,h.size,function(a,c){return a-c}),k=0,m=h.size;k<m&&2147483647!=h.get(k);k++)a.Ae(h.get(k),
N),e.add(N)}}return c?null:e};return b}();d.Pi=l})(p||(p={}));(function(d){var f=function(){function l(){this.ag=new d.ia(0);this.ut=new d.ia(0);this.UI=1;this.At=NaN}l.prototype.sort=function(b,a,c,e){if(32>c-a)e.hs(a,c,b);else{var g=!0;try{for(var d=Infinity,q=-Infinity,u=a;u<c;u++){var y=e.Qq(b.get(u));y<d&&(d=y);y>q&&(q=y)}if(this.reset(c-a,d,q,c-a)){for(u=a;u<c;u++){var l=b.get(u),y=e.Qq(l),f=this.LG(y);this.ag.set(f,this.ag.get(f)+1);this.ut.write(u-a,l)}var K=this.ag.get(0);this.ag.set(0,0);
for(var u=1,k=this.ag.size;u<k;u++){var m=this.ag.get(u);this.ag.set(u,K);K+=m}for(u=a;u<c;u++){var l=this.ut.read(u-a),y=e.Qq(l),f=this.LG(y),p=this.ag.get(f);b.set(p+a,l);this.ag.set(f,p+1)}g=!1}}catch(ha){this.ag.resize(0),this.ut.resize(0)}if(g)e.hs(a,c,b);else{u=c=0;for(k=this.ag.size;u<k;u++)g=c,c=this.ag.get(u),c>g&&e.hs(a+g,a+c,b);100<this.ag.size&&(this.ag.resize(0),this.ut.resize(0))}}};l.prototype.reset=function(b,a,c,e){if(2>b||c==a)return!1;b=Math.min(l.QV,b);this.ag.yb(b);this.ag.resize(b);
this.ag.Zh(0,0,this.ag.size);this.UI=a;this.ut.resize(e);this.At=(c-a)/(b-1);return!0};l.prototype.LG=function(b){return d.J.truncate((b-this.UI)/this.At)};l.QV=65536;return l}();d.Hu=f})(p||(p={}));(function(d){var f;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(f||(f={}));var l=function(){function a(){}a.Ev=function(c,b,e,g,l,f){var h=new a;h.un=new d.b;h.In=
new d.b;h.Ow=new d.b;h.un.L(c);h.In.L(b);h.Ow.L(e);h.qp=g;h.Nh=l;h.Qh=f;return h};a.pa=function(c,b,e,g){var h=new a;h.un=new d.b;h.In=new d.b;h.Ow=new d.b;h.un.L(c);h.In.L(b);h.Ow.$c();h.qp=4;h.Nh=e;h.Qh=g;return h};return a}(),b=function(){function a(a,c,b,e,g,d){this.Lw=null;this.Ca=0;this.jB=a;this.oJ=this.mJ=0;this.Qa=c;this.fk=b;this.Xk=e;this.tr=g;this.lc=d}a.prototype.next=function(){for(var a=new d.Wa;;){if(this.Ca==this.jB.D())return null;this.jB.Ae(this.Ca,a);this.Ca++;if(!a.u())break}var c=
!1;null==this.Lw&&(this.mJ=a.Be(),this.oJ=a.nf(),this.Lw=e.buffer(a,this.Qa,this.fk,this.Xk,this.tr,this.lc),c=!0);var b;this.Ca<this.jB.D()?(b=new d.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!c){var c=new d.Hd,g=a.Be()-this.mJ,a=a.nf()-this.oJ;c.Ag(g,a);b.Xc(c)}return b};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),a=function(){function a(a,c){this.$a=a;this.Ca=0;this.dr=c}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;this.Ca++;if(!a.Eo(c))for(var b=
a.Ba(a.Gc(c)-1);this.Ca<a.aa();){var e=a.Ba(a.wa(this.Ca));if(a.Eo(this.Ca))break;if(e!=b)break;b=a.Ba(a.Gc(this.Ca)-1);this.Ca++}if(1==this.Ca-c)return this.$a.xF(this.$a.Y,c,this.dr);b=new d.Ua(this.$a.Y.description);b.Ti(this.$a.Y,c,!0);for(c+=1;c<this.Ca;c++)b.Bs(this.$a.Y,c,0,a.ew(c),!1);return this.$a.xF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),c=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=
this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;a.Sm(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Sm(this.Ca));)this.Ca++;return 0==c&&this.Ca==a.aa()?this.$a.Wy(a,0,a.aa()):this.$a.Wy(a,c,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),e=function(){function e(a){this.Ft=this.Zw=this.Gt=this.Wd=null;this.te=[];this.lc=a;this.vb=this.xw=this.HV=this.Qa=this.ZA=this.Vt=this.ta=0;this.WA=this.Xk=-1;this.dr=!0}e.buffer=function(a,c,b,g,l,f){if(null==
a)throw d.g.F();if(0>g)throw d.g.F();if(a.u())return new d.Ja(a.description);var h=new d.h;a.ac(h);0<c&&h.O(c,c);f=new e(f);f.fk=b;f.Y=a;f.ta=d.na.be(b,h,!0);f.Vt=d.na.be(null,h,!0);f.Qa=c;f.HV=a.G();0>=l&&(l=96);f.vb=Math.abs(f.Qa);f.xw=0!=f.vb?1/f.vb:0;isNaN(g)||0==g?g=1E-5*f.vb:g>.5*f.vb&&(g=.5*f.vb);12>l&&(l=12);a=Math.abs(c)*(1-Math.cos(Math.PI/l));a>g?g=a:(a=Math.PI/Math.acos(1-g/Math.abs(c)),a<l-1&&(l=d.J.truncate(a),12>l&&(l=12,g=Math.abs(c)*(1-Math.cos(Math.PI/l)))));f.Xk=g;f.tr=l;f.ZA=Math.min(f.Vt,
.25*g);return f.yF()};e.prototype.Rv=function(){if(null==this.Wd)this.Wd=[];else if(0!==this.Wd.length)return;var a=this.CF(),a=d.J.truncate((a+3)/4),c=.5*Math.PI/a;this.WA=c;for(var b=0;b<4*a;b++)this.Wd.push(null);for(var e=Math.cos(c),c=Math.sin(c),g=d.b.pa(0,1),b=0;b<a;b++)this.Wd[b+0*a]=d.b.pa(g.y,-g.x),this.Wd[b+1*a]=d.b.pa(-g.x,-g.y),this.Wd[b+2*a]=d.b.pa(-g.y,g.x),this.Wd[b+3*a]=g,g=d.b.pa(g.x,g.y),g.qu(e,c)};e.prototype.yF=function(){var a=this.Y.G();if(d.T.Oc(a))return a=new d.Ua(this.Y.description),
a.dc(this.Y,!0),this.Y=a,this.yF();if(this.Qa<=this.ta)if(d.T.OU(a)){if(0>=this.Qa&&(a=new d.h,this.Y.s(a),a.N()<=2*-this.Qa||a.fa()<=2*this.Qa))return new d.Ja(this.Y.description)}else return new d.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.SP();case 550:return this.RP();case 1607:return this.UP();case 1736:return this.TP();case 197:return this.PP();default:throw d.g.za();}};e.prototype.UP=function(){if(this.QH(this.Y)){var c=new d.Wa;this.Y.Ae(0,c);var b=new d.h;this.Y.s(b);c.rb(b.Wf());
return this.rv(c)}this.Y=this.OW(this.Y);c=new a(this,this.dr);return d.ei.local().V(c,this.fk,this.lc).next()};e.prototype.TP=function(){if(0==this.Qa)return this.Y;var a=d.Km.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.lc);if(0>this.Qa){var b=this.Y,b=this.Wy(b,0,b.aa());return a.V(b,this.fk,!1,this.lc)}if(this.QH(this.Y))return a=new d.Wa,this.Y.Ae(0,a),b=new d.h,this.Y.s(b),a.rb(b.Wf()),this.rv(a);a=new c(this);return d.ei.local().V(a,this.fk,this.lc).next()};e.prototype.Wy=function(a,c,
b){for(var g=new d.Ja(a.description);c<b;c++)if(!(1>a.La(c))){var h=a.Sm(c),q=new d.h;a.jk(c,q);if(0<this.Qa)if(0<h)if(this.RH(a,c))h=new d.Wa,a.Ae(a.wa(c),h),h.rb(q.Wf()),this.iv(g,h);else{var u=h=new d.Ua(a.description),u=d.Ju.VH(this.Y,c)||2==this.to(this.Y,c,u,!0,1)?this.wF(a,c):this.so(h);g.add(u,!1)}else{if(!(q.N()+this.ta<=2*this.vb||q.fa()+this.ta<=2*this.vb||(u=h=new d.Ua(a.description),this.to(this.Y,c,u,!0,1),h.u()))){var l=new d.h;l.I(q);l.O(this.vb,this.vb);u.oq(l);u=this.so(h);q=1;for(h=
u.aa();q<h;q++)g.Ti(u,q,!0)}}else if(0<h){if(!(q.N()+this.ta<=2*this.vb||q.fa()+this.ta<=2*this.vb||(u=h=new d.Ua(a.description),this.to(this.Y,c,u,!0,-1),h.u())))for(l=new d.h,u.ac(l),l.O(this.vb,this.vb),u.oq(l),u=this.so(h),q=1,h=u.aa();q<h;q++)g.Ti(u,q,!0)}else for(u=h=new d.Ua(a.description),this.to(this.Y,c,u,!0,-1),u=this.so(h),q=0,h=u.aa();q<h;q++)g.Ti(u,q,!0)}if(0<this.Qa)return 1<g.aa()?g=this.so(g):e.We(g);a=new d.h;g.ac(a);if(g.u())return e.We(g);a.O(this.vb,this.vb);g.oq(a);g=this.so(g);
a=new d.Ja(g.description);q=1;for(h=g.aa();q<h;q++)a.Ti(g,q,!1);return e.We(a)};e.prototype.SP=function(){return this.rv(this.Y)};e.prototype.rv=function(a){var c=new d.Ja(this.Y.description);this.iv(c,a);return this.nY(c)};e.prototype.RP=function(){var a=new b(this.Y,this.Qa,this.fk,this.Xk,this.tr,this.lc);return d.ei.local().V(a,this.fk,this.lc).next()};e.prototype.PP=function(){var a=new d.Ja(this.Y.description);if(0>=this.Qa){if(0==this.Qa)a.jd(this.Y,!1);else{var c=new d.ci;this.Y.Qn(c);c.O(this.Qa,
this.Qa);a.jd(c,!1)}return a}a.jd(this.Y,!1);this.Y=a;return this.wF(a,0)};e.prototype.wF=function(a,c){this.Rv();var b=new d.Ja(a.description),g=new d.b,h=new d.b,q=new d.b,l=new d.b,f=new d.b,k=new d.b,m=new d.b,p=new d.b,n=a.La(c),r=a.wa(c),t=0;for(c=a.La(c);t<c;t++){a.w(r+t,h);a.w(r+(t+1)%n,l);a.w(r+(t+2)%n,k);m.zc(l,h);if(0==m.length())throw d.g.za();m.uw();m.normalize();m.scale(this.vb);g.add(m,h);q.add(m,l);0==t?b.zu(g):b.aj(g);b.aj(q);p.zc(k,l);if(0==p.length())throw d.g.za();p.uw();p.normalize();
p.scale(this.vb);f.add(p,l);this.XE(b,l,q,f,!1)}return e.We(b)};e.prototype.xF=function(a,c,b){this.Rv();if(1>a.La(c))return null;if(this.RH(a,c)&&0<this.Qa){b=new d.Wa;a.Ae(a.wa(c),b);var e=new d.h;a.jk(c,e);b.rb(e.Wf());return this.rv(b)}e=new d.Ua(a.description);if(a.Eo(c))this.to(a,c,e,b,1),this.to(a,c,e,b,-1);else{var g=new d.Ua(a.description);g.Ti(a,c,!1);g.Bs(a,c,0,a.ew(c),!1);this.to(g,0,e,b,1)}return this.so(e)};e.prototype.Pr=function(){this.kx++};e.prototype.so=function(a){return d.Dg.ol(a,
this.Vt,!0,!0,this.lc)};e.prototype.CF=function(){if(0==this.Xk)return this.tr;var a=1-this.Xk*Math.abs(this.xw),c;-1>a?c=4:c=2*Math.PI/Math.acos(a)+.5;4>c?c=4:c>this.tr&&(c=this.tr);return d.J.truncate(c)};e.prototype.XE=function(a,c,b,e,g){this.Rv();var h=new d.b;h.zc(b,c);h.scale(this.xw);var q=new d.b;q.zc(e,c);q.scale(this.xw);h=Math.atan2(h.y,h.x)/this.WA;0>h&&(h=this.Wd.length+h);h=this.Wd.length-h;q=Math.atan2(q.y,q.x)/this.WA;0>q&&(q=this.Wd.length+q);q=this.Wd.length-q;q<h&&(q+=this.Wd.length);
var u=d.J.truncate(q),q=d.J.truncate(Math.ceil(h)),h=new d.b;h.L(this.Wd[q%this.Wd.length]);h.ru(this.vb,c);var y=10*this.ta;h.sub(b);h.length()<y&&(q+=1);h.L(this.Wd[u%this.Wd.length]);h.ru(this.vb,c);h.sub(e);h.length()<y&&--u;b=u-q;b++;u=0;for(q%=this.Wd.length;u<b;u++,q=(q+1)%this.Wd.length)h.L(this.Wd[q]),h.ru(this.vb,c),a.aj(h),this.Pr();g&&a.aj(e)};e.prototype.to=function(a,c,b,e,g){var h=new d.fd,q=h.kP(a,c);h.zq(this.ZA,!1,!1);if(2>h.D(q)){if(0>g)return 1;g=a;h=new d.Wa;g.Ae(g.wa(c),h);this.iv(b,
h);return 1}var u=h.Ba(h.cb(h.Pb(q))),y=new d.Hd;y.Ag(-u.x,-u.y);h.Xc(y);if(e&&(this.oS(h,q,g),2>h.D(q))){if(0>g)return 1;g=a;h=new d.Wa;g.Ae(g.wa(c),h);this.iv(b,h);return 1}this.te.length=0;var f=h.Pb(q);c=h.cb(f);var P=1==g?h.Ra(c):h.U(c);a=1==g?h.U(c):h.Ra(c);var k=!0;e=new d.b;for(var q=new d.b,m=new d.b,p=new d.b,n=new d.b,r=new d.b,t=new d.b,A=new d.b,v=new d.b,z=new d.b,x=this.vb,f=h.La(f),w=0;w<f;w++)h.w(a,q),k&&(h.w(c,e),h.w(P,m),A.zc(e,m),A.normalize(),z.aI(A),z.scale(x),p.add(z,e)),t.zc(q,
e),t.normalize(),v.aI(t),v.scale(x),n.add(e,v),P=A.Ui(t),k=A.oi(t),0>P||0>k&&0==P?this.te.push(l.Ev(p,n,e,2,this.te.length+1,this.te.length-1)):p.ub(n)||(this.te.push(l.pa(p,e,this.te.length+1,this.te.length-1,"dummy")),this.te.push(l.pa(e,n,this.te.length+1,this.te.length-1,"dummy"))),r.add(q,v),this.te.push(l.Ev(n,r,e,1,this.te.length+1,this.te.length-1)),p.L(r),z.L(v),m.L(e),e.L(q),A.L(t),P=c,c=a,k=!1,a=1==g?h.U(c):h.Ra(c);this.te[this.te.length-1].Nh=0;this.te[0].Qh=this.te.length-1;this.QW(b);
y.Ag(u.x,u.y);b.kF(y,b.aa()-1);return 1};e.prototype.QW=function(a){for(var c=this.CQ(),b=!0,e=c+1,g=c;e!=c;g=e){var d=this.te[g],e=-1!=d.Nh?d.Nh:(g+1)%this.te.length;0!=d.qp&&(b&&a.zu(d.un),2==d.qp?this.XE(a,d.Ow,d.un,d.In,!0):a.aj(d.In),b=!1)}};e.prototype.CQ=function(){null==this.Ft&&(this.Ft=[null,null,null,null,null,null,null,null,null]);for(var a=0,c=0,b=this.te.length;c<b;){var e=this.te[c];if(0!=(e.qp&3)){a=c;break}c=e.Nh}b=a+1;for(c=a;b!=a;c=b){for(var e=this.te[c],b=e.Nh,g=1,l=null;b!=c;){l=
this.te[b];if(0!=(l.qp&3))break;b=l.Nh;g++}1!=g&&1==(e.qp&l.qp)&&(null==this.Gt&&(this.Gt=new d.Hb,this.Zw=new d.Hb),this.Gt.Mc(e.un),this.Gt.Zc(e.In),this.Zw.Mc(l.un),this.Zw.Zc(l.In),1==this.Gt.Ma(this.Zw,this.Ft,null,null,this.Vt)&&(e.In.L(this.Ft[0]),l.un.L(this.Ft[0]),e.Nh=b,l.Qh=c))}return a};e.prototype.sw=function(a,c,b){var e=new d.b;e.zc(b,a);b=e.length();b=this.vb*this.vb-b*b*.25;if(0<b){b=Math.sqrt(b);e.normalize();e.Ur();var g=new d.b;g.zc(c,a);if(g.oi(e)+b>=this.vb)return!0}return!1};
e.prototype.oS=function(a,c,b){for(var e=0;1>e;e++){var g=!1,h=a.Pb(c),q=a.La(h);if(0==q)break;var u=q;if(3>q)break;!a.Qb(h)&&(u=q-1);for(var h=a.cb(h),q=0<b?a.Ra(h):a.U(h),l=0<b?a.U(h):a.Ra(h),f=q,k=!0,m=new d.b,p=new d.b,n=new d.b,r=new d.b,t=new d.b,A=d.b.pa(0,0),v=new d.b,z=new d.b,x=new d.b,w=new d.b,B=this.vb,C=0,D=0;D<u;){a.w(l,p);k&&(a.w(h,m),a.w(q,n),f=q);z.zc(m,n);z.normalize();v.zc(p,m);v.normalize();if(f==l)break;var E=z.Ui(v),F=z.oi(v),G=!0;0>E||0>F&&0==E||!this.sw(n,m,p)||(A.L(p),G=
!1,++C,g=!0);if(G){if(0<C)for(;;){E=0<b?a.Ra(f):a.U(f);if(E==h)break;a.w(E,r);if(this.sw(r,n,A))n.L(r),f=E,G=!1,++C;else{E!=l&&this.sw(r,n,p)&&this.sw(r,m,p)&&(n.L(r),f=E,G=!1,++C);break}}if(!G)continue;if(0<C){f=0<b?a.Ra(q):a.U(q);for(k=1;k<C;k++)G=0<b?a.Ra(f):a.U(f),a.ud(f,!0),f=G;x.zc(m,n);C=x.length();C=B*B-C*C*.25;C=Math.sqrt(C);B-C>.5*this.Xk?(t.add(n,m),t.scale(.5),x.normalize(),x.Ur(),w.L(x),w.scale(B-C),t.add(w),a.Qf(q,t)):a.ud(q,!0);C=0}n.L(m);f=h}m.L(p);q=h;h=l;l=0<b?a.U(h):a.Ra(h);D++;
k=!1}if(0<C){f=0<b?a.Ra(q):a.U(q);for(k=1;k<C;k++)G=0<b?a.Ra(f):a.U(f),a.ud(f,!0),f=G;t.add(n,m);t.scale(.5);x.zc(m,n);C=x.length();C=B*B-C*C*.25;C=Math.sqrt(C);x.normalize();x.Ur();w.L(x);w.scale(B-C);t.add(w);a.Qf(q,t)}a.zq(this.ZA,!1,!1);if(!g)break}};e.prototype.RH=function(a,c){if(1==a.La(c))return!0;var b=new d.h;a.jk(c,b);return Math.max(b.N(),b.fa())<.5*this.Xk?!0:!1};e.prototype.QH=function(a){var c=new d.h;a.s(c);return Math.max(c.N(),c.fa())<.5*this.Xk?!0:!1};e.prototype.OW=function(a){a=
d.GD.local().V(a,.25*this.Xk,!1,this.lc);for(var c=0,b=0,e=a.aa();b<e;b++)c=Math.max(a.La(b),c);if(32>c)return this.dr=!1,a;this.dr=!0;return d.Dg.ol(a,this.Vt,!1,!0,this.lc)};e.prototype.iv=function(a,c){c=c.w();if(null!=this.Wd&&0!==this.Wd.length){var b=new d.b;b.L(this.Wd[0]);b.ru(this.vb,c);a.zu(b);for(var e=1,g=this.Wd.length;e<g;e++)b.L(this.Wd[e]),b.ru(this.vb,c),a.aj(b)}else for(var e=this.CF(),b=d.J.truncate((e+3)/4),e=.5*Math.PI/b,g=Math.cos(e),h=Math.sin(e),q=new d.b,l=3;0<=l;l--){q.ka(0,
this.vb);switch(l){case 0:for(e=0;e<b;e++)a.Xj(q.x+c.x,q.y+c.y),q.qu(g,h);break;case 1:for(e=0;e<b;e++)a.Xj(-q.y+c.x,q.x+c.y),q.qu(g,h);break;case 2:for(e=0;e<b;e++)a.Xj(-q.x+c.x,-q.y+c.y),q.qu(g,h);break;default:for(a.$x(q.y+c.x,-q.x+c.y),e=1;e<b;e++)q.qu(g,h),a.Xj(q.y+c.x,-q.x+c.y)}this.Pr()}};e.We=function(a){a.Zg(1,0);return a};e.prototype.nY=function(a){a.Zg(2,this.ta);a.Al();return a};return e}();d.PL=e})(p||(p={}));(function(d){var f=function(){function l(b){this.Ha=b;this.a=new d.fd;this.od=
new d.ia(0)}l.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};l.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};l.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new d.h;b.ac(a);this.Y=this.a.Jb(b);var e=new d.h,g=new d.h,h=new d.b,
q=new d.b,u=[0,0,0,0,0,0,0,0,0],y=[0,0,0,0,0,0,0,0,0];new d.Cg;var l=new d.Hb,f=new d.ia(0);f.yb(Math.min(100,b.D()));for(var k=!1,m=0;!k&&4>m;m++){var p=!1,n=0!=(m&1),r=0;switch(m){case 0:r=this.Ha.o;p=a.o<=r&&a.v>=r;break;case 1:r=this.Ha.A;p=a.A<=r&&a.B>=r;break;case 2:r=this.Ha.v;p=a.o<=r&&a.v>=r;break;case 3:r=this.Ha.B,p=a.A<=r&&a.B>=r}if(p)for(k=!0,p=this.a.Pb(this.Y);-1!=p;){var t=-1,A=-1,v=this.a.cb(p),z=v;do{var x=this.a.ic(z);null==x&&(x=l,this.a.w(z,h),x.Mc(h),this.a.w(this.a.U(z),q),
x.Zc(q));x.s(e);var w=this.ji(e,m,r),B=0,C=-1;if(-1==w){x=x.Tq(n,r,u,y);0<x?B=this.a.zm(z,y,x):B=0;for(var B=B+1,D=z,E=this.a.U(D),x=0;x<B;x++){this.a.w(D,h);this.a.w(E,q);C=this.a.ic(D);null==C&&(C=l,C.Mc(h),C.Zc(q));C.s(g);C=this.ji(g,m,r);if(-1==C){if(n)C=Math.abs(h.y-r),F=Math.abs(q.y-r),C<F?(h.y=r,this.a.Qf(D,h)):(q.y=r,this.a.Qf(E,q));else{var C=Math.abs(h.x-r),F=Math.abs(q.x-r);C<F?(h.x=r,this.a.Qf(D,h)):(q.x=r,this.a.Qf(E,q))}C=this.a.ic(D);null==C&&(C=l,C.Mc(h),C.Zc(q));C.s(g);C=this.ji(g,
m,r)}F=t;t=C;-1==A&&(A=t);if(0!=F||1!=t)1==F&&0==t||0!=F||0!=t||f.add(D);1==t&&(k=!1);C=D=E;E=this.a.U(E)}}if(0==B){F=t;t=w;-1==A&&(A=t);if(0!=F||1!=t)1==F&&0==t||0!=F||0!=t||f.add(z);1==t&&(k=!1);C=this.a.U(z)}z=C}while(z!=v);0==A&&0==t&&f.add(v);x=0;for(t=f.size;x<t;x++)A=f.get(x),this.a.ud(A,!1);f.clear(!1);p=3>this.a.La(p)?this.a.Rr(p):this.a.Sb(p)}}if(k)return b.Ka();this.fC();0<c&&this.vz(c);return this.a.Se(this.Y)};l.prototype.jz=function(b){var a=new d.h,c=new d.h,e=[0,0,0,0,0,0,0,0,0],g=
[0,0,0,0,0,0,0,0,0],h=new d.Cg,q=b,u=new d.h;b.ac(u);for(var y=0;4>y;y++){var l=!1,f=0!=(y&1),k=0;switch(y){case 0:k=this.Ha.o;l=u.o<=k&&u.v>=k;break;case 1:k=this.Ha.A;l=u.A<=k&&u.B>=k;break;case 2:k=this.Ha.v;l=u.o<=k&&u.v>=k;break;case 3:k=this.Ha.B,l=u.A<=k&&u.B>=k}if(l){l=q;q=b.Ka();l=l.Fa();l.yj();for(var m,p=new d.b;l.Ya();)for(var n,r=!0;l.Ea();){var t=l.ba();t.s(a);var A=this.ji(a,y,k);if(-1==A){if(A=t.Tq(f,k,e,g),0<A){var v=0;m=t.ec();for(var x=0;x<=A;x++)if(n=x<A?g[x]:1,v!=n){t.yh(v,n,
h);var z=h.get();z.Mc(m);x<A&&(f?(p.x=e[x],p.y=k):(p.x=k,p.y=e[x]),z.Zc(p));z.s(c);var w=this.ji(c,y,k);if(-1==w){m=z.ec();v=z.Cc();if(f)w=Math.abs(m.y-k),B=Math.abs(v.y-k),w<B?(m.y=k,z.Mc(m)):(v.y=k,z.Zc(v));else{var w=Math.abs(m.x-k),B=Math.abs(v.x-k);w<B?(m.x=k,z.Mc(m)):(v.x=k,z.Zc(v))}z.s(c);w=this.ji(c,y,k)}m=z.Cc();v=n;n=w;1==n?(q.dc(z,r),r=!1):r=!0}}}else n=A,1==n?(q.dc(t,r),r=!1):r=!0}}}return q};l.prototype.fC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);
this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();for(var b=new d.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),e=0,g=this.a.La(a);e<g;e++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Cz()};l.prototype.vz=function(b){for(var a=new d.b,c=new d.b,e=d.J.gf(2048,0),g=
this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g)){var h=this.a.cb(g),q=h;do{var u=this.a.U(q);this.a.w(q,a);var y=-1;a.x==this.Ha.o?(this.a.w(u,c),c.x==this.Ha.o&&(y=1)):a.x==this.Ha.v&&(this.a.w(u,c),c.x==this.Ha.v&&(y=1));a.y==this.Ha.A?(this.a.w(u,c),c.y==this.Ha.A&&(y=0)):a.y==this.Ha.B&&(this.a.w(u,c),c.y==this.Ha.B&&(y=0));if(-1!=y&&(y=d.b.Cb(a,c),y=d.J.truncate(Math.min(Math.ceil(y/b),2048)),!(1>=y))){for(var l=1;l<y;l++)e[l-1]=1*l/y;this.a.zm(q,e,y-1)}q=u}while(q!=h)}};l.prototype.Am=function(b,a){var c=
this.a.Vd(),e=new d.b,g=new d.ia(0);g.yb(100);for(var h=this.a.Pb(this.Y);-1!=h;h=this.a.Sb(h))for(var q=this.a.cb(h),u=0,y=this.a.La(h);u<y;u++){var l=this.a.U(q);this.a.w(q,e);if(b?e.y==a:e.x==a)if(this.a.w(l,e),b?e.y==a:e.x==a)1!=this.a.Sa(q,c)&&(g.add(q),this.a.Va(q,c,1)),1!=this.a.Sa(l,c)&&(g.add(l),this.a.Va(l,c,1));q=l}this.a.le(c);if(!(3>g.size)){var f=this;g.Gd(0,g.size,function(a,c){return f.ki(a,c)});c=new d.b;h=new d.b;q=new d.b;h.$c();for(var k=-1,u=new d.ia(0),y=new d.ia(0),l=this.a.Vd(),
m=this.a.Vd(),p=0,n=g.size;p<n;p++){var r=g.get(p);this.a.w(r,e);if(!e.ub(h)){if(-1!=k){for(var t=k;t<p;t++){var k=g.get(t),A=this.a.U(k),r=this.a.Ra(k),v=!1;0>this.ki(k,A)&&(this.a.w(A,c),b?c.y==a:c.x==a)&&(u.add(k),v=!0,this.a.Va(k,m,1));0>this.ki(k,r)&&(this.a.w(r,c),b?c.y==a:c.x==a)&&(v||u.add(k),this.a.Va(k,l,1))}t=0;for(v=u.size;t<v;t++){k=u.get(t);r=this.a.Sa(k,l);A=this.a.Sa(k,m);if(1==r){r=this.a.Ra(k);this.a.w(r,q);var z=[0];z[0]=0;if(!q.ub(e)){var x=d.b.Cb(h,q);z[0]=d.b.Cb(q,e)/x;0==z[0]?
z[0]=2.220446049250313E-16:1==z[0]&&(z[0]=.9999999999999998);this.a.zm(r,z,1);r=this.a.Ra(k);this.a.Qf(r,e);y.add(r);this.a.Va(r,l,1);this.a.Va(r,m,-1)}}1==A&&(A=this.a.U(k),this.a.w(A,q),z=[0],z[0]=0,q.ub(e)||(x=d.b.Cb(h,q),z[0]=d.b.Cb(h,e)/x,0==z[0]?z[0]=2.220446049250313E-16:1==z[0]&&(z[0]=.9999999999999998),this.a.zm(k,z,1),r=this.a.U(k),this.a.Qf(r,e),y.add(r),this.a.Va(r,l,-1),this.a.Va(r,m,1)))}k=u;u=y;y=k;y.clear(!1)}k=p;h.L(e)}}this.a.le(l);this.a.le(m)}};l.prototype.sm=function(b,a){var c=
new d.b,e=new d.ia(0);e.yb(100);for(var g=this.a.Vd(),h=0,q=this.od.size;h<q;h++){var u=this.od.get(h);if(-1!=u){var y=this.a.U(u);this.a.w(u,c);if(b?c.y==a:c.x==a)if(this.a.w(y,c),b?c.y==a:c.x==a)-2!=this.a.Sa(u,g)&&(e.add(u),this.a.Va(u,g,-2)),-2!=this.a.Sa(y,g)&&(e.add(y),this.a.Va(y,g,-2))}}if(0!=e.size){var l=this;e.Gd(0,e.size,function(a,c){return l.ki(a,c)});h=0;for(q=e.size;h<q;h++){var f=e.get(h);this.a.Va(f,g,h)}u=new d.b;y=new d.b;y.$c();for(var k=-1,h=0,q=e.size;h<q;h++)if(f=e.get(h),
-1!=f&&(this.a.w(f,c),!c.ub(y))){if(-1!=k)for(;;){for(var f=!1,m=1<h-k?h-1:h,p=k;p<m;p++){var n=e.get(p);if(-1!=n){var r=-1,t=this.a.U(n);0>this.ki(n,t)&&(this.a.w(t,u),b?u.y==a:u.x==a)&&(r=t);var t=-1,A=this.a.Ra(n);0>this.ki(n,A)&&(this.a.w(A,u),b?u.y==a:u.x==a)&&(t=A);if(-1!=r&&-1!=t)this.ii(n,e,g),this.a.ud(n,!1),this.ii(r,e,g),this.a.ud(r,!1),f=!0;else if(-1!=r||-1!=t){for(A=p+1;A<h;A++){var v=e.get(A);if(-1!=v){var z=this.a.U(v),x=-1;0>this.ki(v,z)&&(this.a.w(z,u),b?u.y==a:u.x==a)&&(x=z);var z=
this.a.Ra(v),w=-1;0>this.ki(v,z)&&(this.a.w(z,u),b?u.y==a:u.x==a)&&(w=z);if(-1!=x&&-1!=w){this.ii(v,e,g);this.a.ud(v,!1);this.ii(x,e,g);this.a.ud(x,!1);f=!0;break}if(-1!=r&&-1!=w){this.ou(e,n,r,v,w,g);f=!0;break}else if(-1!=t&&-1!=x){this.ou(e,v,x,n,t,g);f=!0;break}}}if(f)break}}}if(!f)break}k=h;y.L(c)}}this.a.le(g)};l.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};l.prototype.ou=
function(b,a,c,e,g,d){this.a.Kc(a,e);this.a.Lc(e,a);this.a.Lc(c,g);this.a.Kc(g,c);this.ii(e,b,d);this.a.Mi(e,!1);this.ii(g,b,d);this.a.Mi(g,!0)};l.prototype.Cz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);-1!=c&&this.a.Aj(c,-1)}for(var e=0,g=0,d=this.a.Pb(this.Y);-1!=d;){var q=this.a.cb(d);if(-1==q||d!=this.a.ld(q)){var u=d,d=this.a.Sb(d);this.a.jg(u,-1);this.a.Sr(u)}else{c=q;u=0;do this.a.Aj(c,d),u++,c=this.a.U(c);while(c!=q);2>=u?(c=this.a.Sa(q,this.Ki),this.od.set(c,-1),
q=this.a.ud(q,!1),2==u&&(c=this.a.Sa(q,this.Ki),this.od.set(c,-1),this.a.ud(q,!1)),u=d,d=this.a.Sb(d),this.a.jg(u,-1),this.a.Sr(u)):(this.a.Np(d,!1),this.a.sh(d,this.a.Ra(q)),this.a.nk(d,u),g+=u,e++,d=this.a.Sb(d))}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(d=this.a.ld(c),-1==d)){d=this.a.Yf(this.Y,-1);u=0;q=c;do this.a.Aj(c,d),u++,c=this.a.U(c);while(c!=q);2>=u?(c=this.a.Sa(q,this.Ki),this.od.set(c,-1),q=this.a.ud(q,!1),2==u&&(c=this.a.Sa(q,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(q,
!1)),u=d,this.a.jg(u,-1),this.a.Sr(u)):(this.a.$n(d,!0),this.a.nk(d,u),this.a.jg(d,q),this.a.sh(d,this.a.Ra(q)),this.a.Np(d,!1),g+=u,e++)}this.a.wm(this.Y,e);this.a.lk(this.Y,g);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.zC(b)};l.Hm=function(b,a,c,e){return(new l(a)).hz(b,c,e)};l.clip=function(b,a,c,e){if(b.u())return b;if(a.u())return b.Ka();var g=b.G();if(33==g)return c=b.w(),a.contains(c)?b:b.Ka();if(197==g)return c=new d.h,b.s(c),c.Ma(a)?(a=new d.ci,b.copyTo(a),a.Gp(c),a):
b.Ka();var h=new d.h;b.ac(h);if(a.contains(h))return b;if(!a.Yb(h))return b.Ka();h=b.ob;if(null!=h&&(h=h.Hi,null!=h)){h=h.Rn(a);if(1==h){if(1736!=g)throw d.g.za();b=new d.Ja(b.description);b.oq(a);return b}if(0==h)return b.Ka()}switch(g){case 550:e=null;for(var g=b.D(),h=b.Pa(0),q=0,u=0;u<g;u++)c=new d.b,h.fc(2*u,c),a.contains(c)||(0==q&&(e=b.Ka()),q<u&&e.Id(b,q,u),q=u+1);0<q&&e.Id(b,q,g);return 0==q?b:e;case 1736:case 1607:return l.Hm(b,a,c,e);default:throw d.g.za();}};l.prototype.ki=function(b,
a){var c=new d.b;this.a.w(b,c);b=new d.b;this.a.w(a,b);return c.compare(b)};return l}();d.ne=f})(p||(p={}));(function(d){var f=function(){function l(b,a){this.Ha=b;this.a=new d.fd;this.od=new d.ia(0);this.ke=a}l.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};l.prototype.hz=function(b,a,c){return 1736==
b.G()?this.iz(b,a,c):this.jz(b,a)};l.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new d.h;b.ac(a);this.Y=this.a.Jb(b);var e=new d.h,g=new d.h,h=new d.b,q=new d.b,u=[0,0,0,0,0,0,0,0,0],y=[0,0,0,0,0,0,0,0,0],l=new d.Hb,f=new d.ia(0);f.yb(256);for(var k=!1,m=0;!k&&4>m;m++){var p=!1,n=0!=(m&1),r=0;switch(m){case 0:r=this.Ha.o;p=a.o<=r&&a.v>=r;break;case 1:r=this.Ha.A;p=a.A<=r&&a.B>=r;break;case 2:r=this.Ha.v;p=a.o<=r&&a.v>=r;break;case 3:r=this.Ha.B,p=a.A<=r&&a.B>=r}if(p)for(k=
!0,p=this.a.Pb(this.Y);-1!=p;){var t=!0,A=-1,v=-1,z=this.a.cb(p),x=z;do{var w=this.a.ic(x);null==w&&(w=l,this.a.w(x,h),w.Mc(h),this.a.w(this.a.U(x),q),w.Zc(q));w.s(e);var B=this.ji(e,m,r),C=0,D=-1;if(-1==B){w=w.Tq(n,r,u,y);0<w?C=this.a.EY(x,y,w):C=0;for(var C=C+1,E=x,F=this.a.U(E),w=0;w<C;w++){this.a.w(E,h);this.a.w(F,q);D=this.a.ic(E);null==D&&(D=l,D.Mc(h),D.Zc(q));D.s(g);D=this.ji(g,m,r);if(-1==D){if(n)D=Math.abs(h.y-r),G=Math.abs(q.y-r),D<G?(h.y=r,this.a.Qf(E,h)):(q.y=r,this.a.Qf(F,q));else{var D=
Math.abs(h.x-r),G=Math.abs(q.x-r);D<G?(h.x=r,this.a.Qf(E,h)):(q.x=r,this.a.Qf(F,q))}D=this.a.ic(E);null==D&&(D=l,D.Mc(h),D.Zc(q));D.s(g);D=this.ji(g,m,r)}G=A;A=D;-1==v&&(v=A);if(0!=G||1!=A)1==G&&0==A||0!=G||0!=A||f.add(E);1==A&&(t=k=!1);D=E=F;F=this.a.U(F)}}if(0==C){G=A;A=B;-1==v&&(v=A);if(0!=G||1!=A)1==G&&0==A||0!=G||0!=A||f.add(x);1==A&&(t=k=!1);D=this.a.U(x)}x=D;if(256<=f.size){w=1;for(B=f.size-1;w<B;w++)C=f.get(w),this.a.ud(C,!1);f.set(1,f.Fc());f.yf(2)}}while(x!=z);if(!t)for(0==v&&0==A&&f.add(z),
w=0,B=f.size;w<B;w++)C=f.get(w),this.a.ud(C,!1);f.clear(!1);p=t||0==this.a.La(p)?this.a.Rr(p):this.a.Sb(p)}}if(k)return b.Ka();this.fC();0<c&&this.vz(c);return this.a.Se(this.Y)};l.prototype.jz=function(b){var a=new d.h,c=new d.h,e=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],h=new d.Cg,q=b,u=new d.h;b.ac(u);for(var y=new d.b,l=new d.b,f=null,k=null,m=0;4>m;m++){var p=!1,n=0!=(m&1),r=0;switch(m){case 0:r=this.Ha.o;p=u.o<=r&&u.v>=r;break;case 1:r=this.Ha.A;p=u.A<=r&&u.B>=r;break;case 2:r=this.Ha.v;p=
u.o<=r&&u.v>=r;break;case 3:r=this.Ha.B,p=u.A<=r&&u.B>=r}if(p)for(p=q,q=b.Ka(),p=p.Fa(),p.yj();p.Ya();)for(var t,A=!0;p.Ea();){var v=p.ba();v.s(a);var z=this.ji(a,m,r);if(-1==z){if(z=v.Tq(n,r,e,g),0<z){var x=0;v.Oq(y);for(var w=0;w<=z;w++)if(t=w<z?g[w]:1,x!=t){v.yh(x,t,h);var B=h.get();B.Mc(y);w<z&&(n?(l.x=e[w],l.y=r):(l.x=r,l.y=e[w]),B.Zc(l));B.s(c);var C=this.ji(c,m,r);-1==C&&(null==f&&(f=new d.b),null==k&&(k=new d.b),B.Oq(f),B.Ps(k),n?(x=Math.abs(f.y-r),C=Math.abs(k.y-r),x<C?(f.y=r,B.Mc(f)):(k.y=
r,B.Zc(k))):(x=Math.abs(f.x-r),C=Math.abs(k.x-r),x<C?(f.x=r,B.Mc(f)):(k.x=r,B.Zc(k))),B.s(c),C=this.ji(c,m,r));B.Ps(y);x=t;t=C;1==t?(q.dc(B,A),A=!1):A=!0}}}else t=z,1==t?(q.dc(v,A),A=!1):A=!0}}return q};l.prototype.fC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();for(var b=new d.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),e=0,g=this.a.La(a);e<g;e++,c=this.a.U(c))if(this.a.w(c,
b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Cz()};l.prototype.vz=function(b){for(var a=new d.b,c=new d.b,e=null,g=null,h=d.J.gf(2048,0),q=this.a.Pb(this.Y);-1!=q;q=this.a.Sb(q)){var u=this.a.cb(q),y=u;do{var l=this.a.U(y);this.a.w(y,a);var f=-1;a.x==this.Ha.o?(this.a.w(l,c),c.x==this.Ha.o&&(f=1)):a.x==this.Ha.v&&(this.a.w(l,c),c.x==this.Ha.v&&
(f=1));a.y==this.Ha.A?(this.a.w(l,c),c.y==this.Ha.A&&(f=0)):a.y==this.Ha.B&&(this.a.w(l,c),c.y==this.Ha.B&&(f=0));if(-1!=f){null==e&&(e=new d.b);null==g&&(g=new d.b);e.L(a);g.ka(0,0);if(0==f){var k=a.x-this.Ha.o;g.x=d.Ub.sign(c.x-a.x);e.x=b*d.Ub.Fl(Math.floor(Math.abs(k/b)),k)+this.Ha.o;0>e.x&&(e.x+=b)}else k=a.y-this.Ha.A,g.y=d.Ub.sign(c.y-a.y),e.y=b*d.Ub.Fl(Math.floor(Math.abs(k/b)),k)+this.Ha.A,0>e.y&&(e.y+=b);var k=0!=f?c.y-a.y:c.x-a.x,m=Math.abs(k);if(65536<m/b)throw d.g.X("internal error");
if(0<m){m=d.J.truncate(m/b)+2;h.length<m&&(h=d.J.gf(m));for(var p=m=0;;p++){var n=new d.b;n.x=e.x+g.x*p*b;n.y=e.y+g.y*p*b;n=(0!=f?n.y-a.y:n.x-a.x)/k;if(1<=n)break;0>=n||(h[m]=n,m++)}0!=m&&this.a.zm(y,h,m)}}y=l}while(y!=u)}};l.prototype.Am=function(b,a){for(var c=-1,e=new d.b,g=null,h=this.a.Pb(this.Y);-1!=h;h=this.a.Sb(h))for(var q=this.a.cb(h),u=0,y=this.a.La(h);u<y;u++){var l=this.a.U(q);this.a.w(q,e);if(b?e.y==a:e.x==a)if(this.a.w(l,e),b?e.y==a:e.x==a)-1==c&&(c=this.a.Vd()),null==g&&(g=new d.ia(0),
g.yb(100)),1!=this.a.Sa(q,c)&&(g.add(q),this.a.Va(q,c,1)),1!=this.a.Sa(l,c)&&(g.add(l),this.a.Va(l,c,1));q=l}-1!=c&&this.a.le(c);if(!(null==g||3>g.size)){var f=this;g.Gd(0,g.size,function(a,c){return f.ki(a,c)});c=new d.b;h=new d.b;q=new d.b;h.$c();for(var k=-1,u=new d.ia(0),y=new d.ia(0),l=null,m=this.a.Vd(),p=this.a.Vd(),n=0,r=g.size;n<r;n++){var t=g.get(n);this.a.w(t,e);if(!e.ub(h)){if(-1!=k){for(var A=k;A<n;A++){var k=g.get(A),v=this.a.U(k),t=this.a.Ra(k),z=!1;this.a.w(v,c);0>h.compare(c)&&(b?
c.y==a:c.x==a)&&(u.add(k),z=!0,this.a.Va(k,p,1));this.a.w(t,c);0>h.compare(c)&&(b?c.y==a:c.x==a)&&(z||u.add(k),this.a.Va(k,m,1))}A=0;for(z=u.size;A<z;A++){k=u.get(A);t=this.a.Sa(k,m);v=this.a.Sa(k,p);if(1==t&&(t=this.a.Ra(k),this.a.w(t,q),!q.ub(e))){null==l&&(l=[]);var x=d.b.Cb(h,q);l[0]=d.b.Cb(q,e)/x;0==l[0]?l[0]=2.220446049250313E-16:1==l[0]&&(l[0]=.9999999999999998);this.a.zm(t,l,1);t=this.a.Ra(k);this.a.Qf(t,e);y.add(t);this.a.Va(t,m,1);this.a.Va(t,p,-1)}1==v&&(v=this.a.U(k),this.a.w(v,q),q.ub(e)||
(null==l&&(l=[]),x=d.b.Cb(h,q),l[0]=d.b.Cb(h,e)/x,0==l[0]?l[0]=2.220446049250313E-16:1==l[0]&&(l[0]=.9999999999999998),this.a.zm(k,l,1),t=this.a.U(k),this.a.Qf(t,e),y.add(t),this.a.Va(t,m,-1),this.a.Va(t,p,1)))}k=u;u=y;y=k;y.clear(!1)}k=n;h.L(e)}}this.a.le(m);this.a.le(p)}};l.prototype.sm=function(b,a){for(var c=new d.b,e=null,g=-1,h=0,q=this.od.size;h<q;h++){var u=this.od.get(h);if(-1!=u){var y=this.a.U(u);this.a.w(u,c);if(b?c.y==a:c.x==a)if(this.a.w(y,c),b?c.y==a:c.x==a)-1==g&&(g=this.a.Vd()),null==
e&&(e=new d.ia(0),e.yb(100)),-2!=this.a.Sa(u,g)&&(e.add(u),this.a.Va(u,g,-2)),-2!=this.a.Sa(y,g)&&(e.add(y),this.a.Va(y,g,-2))}}if(null==e)-1!=g&&this.a.le(g);else{var l=this;e.Gd(0,e.size,function(a,c){return l.ki(a,c)});h=0;for(q=e.size;h<q;h++){var f=e.get(h);this.a.Va(f,g,h)}u=new d.b;y=new d.b;y.$c();for(var k=-1,h=0,q=e.size;h<q;h++)if(f=e.get(h),-1!=f&&(this.a.w(f,c),!c.ub(y))){if(-1!=k)for(;;){for(var f=!1,m=1<h-k?h-1:h,p=k;p<m;p++){var n=e.get(p);if(-1!=n){var r=-1,t=this.a.U(n);this.a.w(t,
u);0>y.compare(u)&&(b?u.y==a:u.x==a)&&(r=t);var t=-1,A=this.a.Ra(n);this.a.w(A,u);0>y.compare(u)&&(b?u.y==a:u.x==a)&&(t=A);if(-1!=r&&-1!=t)this.ii(n,e,g),this.a.ud(n,!1),this.ii(r,e,g),this.a.ud(r,!1),f=!0;else if(-1!=r||-1!=t){for(A=p+1;A<h;A++){var v=e.get(A);if(-1!=v){var z=this.a.U(v),x=-1;this.a.w(z,u);0>y.compare(u)&&(b?u.y==a:u.x==a)&&(x=z);var z=this.a.Ra(v),w=-1;this.a.w(z,u);0>y.compare(u)&&(b?u.y==a:u.x==a)&&(w=z);if(-1!=x&&-1!=w){this.ii(v,e,g);this.a.ud(v,!1);this.ii(x,e,g);this.a.ud(x,
!1);f=!0;break}if(-1!=r&&-1!=w){this.ou(e,n,r,v,w,g);f=!0;break}else if(-1!=t&&-1!=x){this.ou(e,v,x,n,t,g);f=!0;break}}}if(f)break}}}if(!f)break}k=h;y.L(c)}this.a.le(g)}};l.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};l.prototype.ou=function(b,a,c,e,g,d){this.a.Kc(a,e);this.a.Lc(e,a);this.a.Lc(c,g);this.a.Kc(g,c);this.ii(e,b,d);this.a.Mi(e,!1);this.ii(g,b,d);this.a.Mi(g,
!0)};l.prototype.Cz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);-1!=c&&this.a.Aj(c,-1)}for(var e=0,g=0,d=this.a.Pb(this.Y);-1!=d;){var q=this.a.cb(d);if(-1==q||d!=this.a.ld(q)){var u=d,d=this.a.Sb(d);this.a.jg(u,-1);this.a.Sr(u)}else{c=q;u=0;do this.a.Aj(c,d),u++,c=this.a.U(c);while(c!=q);this.a.Np(d,!1);this.a.sh(d,this.a.Ra(q));this.a.nk(d,u);g+=u;e++;d=this.a.Sb(d)}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(d=this.a.ld(c),-1==d)){d=this.a.Yf(this.Y,-1);
u=0;q=c;do this.a.Aj(c,d),u++,c=this.a.U(c);while(c!=q);2>=u?(c=this.a.Sa(q,this.Ki),this.od.set(c,-1),q=this.a.ud(q,!1),2==u&&(c=this.a.Sa(q,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(q,!1)),u=d,this.a.jg(u,-1),this.a.Sr(u)):(this.a.$n(d,!0),this.a.nk(d,u),this.a.jg(d,q),this.a.sh(d,this.a.Ra(q)),this.a.Np(d,!1),g+=u,e++)}this.a.wm(this.Y,e);this.a.lk(this.Y,g);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.zC(b)};l.We=function(b,a,c,e,g){return(new l(a,g)).hz(b,c,e)};l.clip=function(b,
a,c,e,g){return l.rq(b,a,null,c,e,g)};l.rq=function(b,a,c,e,g,h){var q=b.G();if(33==q)return g=b.w(),a.contains(g)?b:b.Ka();if(197==q)return g=new d.h,b.s(g),g.Ma(a)?(a=new d.ci,b.copyTo(a),a.Gp(g),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var u=new d.h;b.ac(u);if(a.contains(u))return b;if(!a.Yb(u))return b.Ka();if(null!=c||isNaN(e))e=d.na.Zy(c,a,!1);if(!d.T.gh(q))throw d.g.F();c=b.ob;if(null!=c&&(c=c.Hi,null!=c)){c=c.Rn(a);if(1==c){if(1736!=q)throw d.g.X("internal error");b=new d.Ja(b.description);
b.oq(a);return b}if(0==c)return b.Ka()}switch(q){case 550:h=null;q=b.D();e=b.Pa(0);c=0;g=new d.b;for(u=0;u<q;u++)e.fc(2*u,g),a.contains(g)||(0==c&&(h=b.Ka()),c<u&&h.Id(b,c,u),c=u+1);0<c&&h.Id(b,c,q);return 0==c?b:h;case 1736:case 1607:return l.We(b,a,e,g,h);default:throw d.g.X("internal error");}};l.prototype.ki=function(b,a){var c=new d.b;this.a.w(b,c);b=new d.b;this.a.w(a,b);return c.compare(b)};return l}();d.uh=f})(p||(p={}));(function(d){var f=new d.b,l=function(){function a(a,b,g,h,q){this.Cn=
new d.b;this.fl=new d.b;this.oj=new d.b;this.a=a;this.px=g;this.ap=h;this.Cn=b;this.dm=q;this.fl.$c();this.oj.$c()}a.prototype.GF=function(a){this.a.w(a,this.fl);a=d.J.truncate((this.fl.x-this.Cn.x)*this.ap+.5);var c=d.J.truncate((this.fl.y-this.Cn.y)*this.ap+.5);return b.vH(a,c)};a.prototype.Vz=function(a){return this.a.Sa(a,this.dm)};a.prototype.zz=function(a,e){this.a.w(a,this.fl);this.a.w(e,this.oj);return b.pw(this.fl.x,this.fl.y,this.oj.x,this.oj.y,this.px)};return a}();d.EZ=function(){return function(){}}();
var b=function(){function a(){this.Cn=new d.b;this.er=[0,0,0,0];this.tt=[0,0,0,0];this.ep=this.dm=-1}a.bS=function(c,b){var e=new a;e.a=c;e.ta=b;e.px=b*b;e.Nw=2*b;e.ap=1/e.Nw;return e.EQ()};a.pw=function(a,b,g,d,q){a-=g;b-=d;return a*a+b*b<=q};a.vH=function(a,b){return d.J.dh(b,d.J.dh(a))};a.prototype.GQ=function(c,b){this.a.Nc(c,f);for(var e=(f.y-this.Cn.y)*this.ap,h=d.J.truncate((f.x-this.Cn.x)*this.ap),q=d.J.truncate(e),u=e=0;1>=u;u+=1)for(var y=0;1>=y;y+=1){var l=a.vH(h+u,q+y),k=this.cm.hT(l);
-1!=k&&(this.er[e]=k,this.tt[e]=l,e++)}for(h=e-1;1<=h;h--)for(k=this.er[h],q=h-1;0<=q;q--)if(k==this.er[q]){this.tt[q]=-1;e--;h!=e&&(this.tt[h]=this.tt[e],this.er[h]=this.er[e]);break}for(q=0;q<e;q++)this.HQ(c,this.tt[q],f,this.er[q],b)};a.prototype.HQ=function(c,b,g,h,q){for(var e=new d.b;-1!=h;h=this.cm.xT(h)){var y=this.cm.ja(h);c==y||-1!=b&&this.a.Sa(y,this.dm)!=b||(this.a.Nc(y,e),a.pw(g.x,g.y,e.x,e.y,this.px)&&q.add(h))}};a.prototype.Ln=function(a,b,g){var c=this.a.Sa(a,this.ep),e=this.a.Sa(b,
this.ep);-1==c&&(c=this.Od.mi(),this.Od.addElement(c,a),this.a.Va(a,this.ep,c));-1==e?this.Od.addElement(c,b):this.Od.mz(c,e);this.a.Va(b,this.ep,-2);b=this.WV(a,b);g&&(g=this.Yw.GF(a),this.a.Va(a,this.dm,g));return b};a.VV=function(c,b,g){c.Eb(b);g=c;var e=new d.b;a.FX(c.w(),b.w(),e);g.rb(e)};a.FX=function(a,b,g){var c=a.x;a.x!=b.x&&(c=(1*a.x+1*b.x)/2);var e=a.y;a.y!=b.y&&(e=(1*a.y+1*b.y)/2);g.ka(c,e)};a.prototype.WV=function(a,b){var c=new d.b;this.a.w(a,c);var e=new d.b;this.a.w(b,e);var q=this.a.oH(a);
b=this.a.oH(b);var u=q+b,y=0,l=c.x;c.x!=e.x&&(l=(c.x*q+e.x*b)/u,y++);var f=c.y;c.y!=e.y&&(f=(c.y*q+e.y*b)/u,y++);0<y&&this.a.rb(a,l,f);this.a.qY(a,u);return 0!=y};a.prototype.EQ=function(){var a=this.a.vd,b=this.a.TG();this.Cn=b.Yz();b=Math.max(b.fa(),b.N())/2147483646;this.Nw<b&&(this.Nw=b,this.ap=1/this.Nw);this.Od=new d.Lu;this.Od.pu(d.J.truncate(this.a.vd/3+1));this.Od.Vn(d.J.truncate(this.a.vd/3+1));this.dm=this.a.Vd();this.ep=this.a.Vd();this.Yw=new l(this.a,this.Cn,this.px,this.ap,this.dm);
this.cm=new d.EM(d.J.truncate(4*a/3),this.Yw);this.cm.xX(this.a.vd);a=!1;for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(var g=this.a.Pb(b);-1!=g;g=this.a.Sb(g))for(var h=this.a.cb(g),q=0,u=this.a.La(g);q<u;q++){var y=this.Yw.GF(h);this.a.Va(h,this.dm,y);this.cm.addElement(h,y);h=this.a.U(h)}var f=new d.ia(0);f.yb(10);for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(g=this.a.Pb(b);-1!=g;g=this.a.Sb(g))for(h=this.a.cb(g),q=0,u=this.a.La(g);q<u;q++){if(-2!=this.a.Sa(h,this.ep))for(y=this.a.Sa(h,this.dm),this.cm.kd(h,
y);;){this.GQ(h,f);if(0==f.size)break;for(var y=!1,k=0,m=f.size;k<m;k++){var p=f.get(k),n=this.cm.ja(p);this.cm.Kd(p);y=this.Ln(h,n,k+1==m)||y}a=a||y;f.clear(!1);if(!y)break}h=this.a.U(h)}a&&this.xP();this.Yw=this.cm=null;this.a.le(this.dm);this.a.le(this.ep);return a};a.prototype.xP=function(){for(var a=new d.b,b=this.Od.Ge;-1!=b;b=this.Od.bA(b)){var g=this.Od.xc(b);this.a.w(this.Od.ja(g),a);for(g=this.Od.nb(g);-1!=g;g=this.Od.nb(g))this.a.Qf(this.Od.ja(g),a)}};return a}();d.Iu=b})(p||(p={}));(function(d){var f=
function(){function l(b){void 0===b&&(b=null);this.Oe=null;this.xa=!1;null===b?this.Oe=[]:this.Oe=b}l.prototype.copyTo=function(b){if(b.xa)throw d.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Oe.length;a++)b.Oe.push(this.Oe[a].Vf())};l.prototype.count=function(){return this.Oe.length};l.prototype.jT=function(b){return this.Oe[b]};l.prototype.add=function(b){if(this.xa)throw d.g.X("CompositeGeographicTransformation is read-only");this.Oe.push(b.Vf())};l.prototype.clear=
function(){if(this.xa)throw d.g.X("CompositeGeographicTransformation is read-only");this.Oe.length=0};l.prototype.remove=function(b){if(this.xa)throw d.g.X("CompositeGeographicTransformation is read-only");this.Oe.splice(b,1)};l.prototype.Wv=function(){for(var b=this.oe(),a=0;a<b.count();a++)b.jT(a).kt();b.Oe=b.Oe.reverse();return b};l.prototype.oe=function(){var b=new l;this.copyTo(b);return b};l.prototype.Vf=function(){return this.oe()};l.prototype.transform=function(b,a,c,e){if(b.length<a)throw d.g.X("invalid Argument");
var g=c;for(c=0;c<this.Oe.length;c++){var h=this.Oe[c];if(null!=h.cn()){var q=h.nn,u=q?1:0,y=q?h.cn().getGeogcs2():h.cn().getGeogcs1(),y=y.getUnit().getUnitFactor(),y=g/y;if(3.552713678800501E-15<Math.abs(y-1))for(g=0;g<a;g++)b[g][0]*=y,b[g][1]*=y;d.PD.geogToGeog(h.cn(),a,b,null,u);g=(q?h.cn().getGeogcs1():h.cn().getGeogcs2()).getUnit().getUnitFactor()}}y=g/e;if(3.552713678800501E-15<Math.abs(y-1))for(g=0;g<a;g++)b[g][0]*=y,b[g][1]*=y;return a};l.prototype.getName=function(){if(0==this.Oe.length)return"";
for(var b="",a=0,c=this.Oe.length;a<c;++a)""!==b&&(b+=" + "),b+=this.Oe[a].getName();return b};l.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof l)||this.Oe.length!=b.Oe.length)return!1;for(var a=0;a<this.Oe.length;a++)if(!this.Oe[a].Eb(b.Oe[a]))return!1;return!0};l.prototype.Mp=function(){this.xa=!0};l.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};l.create=function(){return new l};l.aq=function(b,
a){var c=new l;c.add(d.io.create(b,a));return c};l.bq=function(b,a){var c=new l;c.add(d.io.fG(b,a));return c};return l}();d.ny=f})(p||(p={}));(function(d){var f=Math.PI,l=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.WQ=function(c,b){var e=new a;e.x=c;e.y=b;e.type=0;e.ui=0;return e};a.El=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=0;b.ui=0;return b};a.VQ=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=c.type;b.ui=c.ui;return b};a.ce=function(c,b,e){var g=new a;g.x=c.x+b*Math.cos(e);g.y=c.y+
b*Math.sin(e);g.type=c.type;g.ui=c.ui;return g};a.Dv=function(c,b){var e=new a;e.x=.5*(c.x+b.x);e.y=.5*(c.y+b.y);e.type=c.type;e.ui=c.ui;return e};a.ZF=function(c,b){var e=new a;e.x=c.x+.001*(b.x-c.x);e.y=c.y+.001*(b.y-c.y);e.type=c.type;e.ui=c.ui;return e};return a}(),c=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(d.JM||(d.JM={}));var e=function(){function e(a){this.sB=this.$b=this.Sg=null;this.ke=a}e.V=function(a,
c,b,g,l,f){if(null==a)throw d.g.F();if(1>a.tb())throw d.g.F();if(0==c||a.u())return a;f=new e(f);f.Yo=a;f.Qa=c;f.ta=l;f.jj=b;f.iB=g;return f.Ay()};e.prototype.zO=function(){var a=this.Yo,c=a.ec(),b=a.Cc(),e=new d.b;e.zc(b,c);e.normalize();e.uw();e.scale(this.Qa);c.add(e);b.add(e);e=a.Ka();a.Mc(c);a.Zc(b);return e};e.prototype.yO=function(){var a=this.Yo;if(0<this.Qa&&2!=this.jj){var c=new d.Ja;c.jd(a,!1);this.Yo=c;return this.Ay()}a=new d.ci(a.R);a.O(this.Qa,this.Qa);return a};e.prototype.kK=function(a,
c,b,e){return(c.x-a.x)*(e.x-b.x)+(c.y-a.y)*(e.y-b.y)};e.prototype.pc=function(c,e){if(void 0===e)this.$b.push(c),this.Kf++;else if(0==this.Kf)this.pc(c);else{var g=this.qx,d,h;d=this.Sg[0==e?g-1:e-1];h=this.Sg[e];var q=this.kK(d,h,this.$b[this.Kf-1],c);0<q?this.pc(c):0>q&&(0<this.kK(d,h,h,this.$b[this.Kf-1])?(h=this.Sg[0==e?g-2:1==e?g-1:e-2],g=a.ce(d,this.Qa,Math.atan2(d.y-h.y,d.x-h.x)-b),this.$b[this.Kf-1]=g,1==this.jj||2==this.jj?(g=a.Dv(g,d),this.pc(g),g=a.ce(d,this.Qa,this.ww+b),d=a.Dv(g,d),d.type|=
256,this.pc(d)):(g=a.ce(d,this.Qa,this.ww+b),g.type|=256),this.pc(g),this.pc(c,e)):(g=a.ce(h,this.Qa,this.ww+b),this.pc(g),1==this.jj||2==this.jj?(g=a.Dv(g,h),this.pc(g),g=a.ce(h,this.Qa,this.JA-b),d=a.Dv(g,h),d.type|=256,this.pc(d)):(g=a.ce(h,this.Qa,this.JA-b),g.type|=256),this.pc(g)))}};e.prototype.zF=function(){var c,e,g,y,P,k,m=this.qx;this.Kf=0;var p=.5*this.ta,n=0,r=0;for(c=0;c<m;c++){y=this.Sg[c];P=0==c?this.Sg[m-1]:this.Sg[c-1];k=c==m-1?this.Sg[0]:this.Sg[c+1];var t=P.x-y.x,A=P.y-y.y,v=k.x-
y.x,z=k.y-y.y;e=Math.atan2(A,t);g=Math.atan2(z,v);this.ww=e;this.JA=g;0==c&&(n=e,r=g);t=t*z-v*A;A=g;g<e&&(g+=l);if(0<t*this.Qa)1==this.jj||2==this.jj?(e=a.ce(y,this.Qa,e+b),this.pc(e),e=a.ZF(y,e),this.pc(e),e=a.ce(y,this.Qa,g-b),y=a.ZF(y,e),y.type|=256,this.pc(y),this.pc(e)):(t=.5*(g-e),t=this.Qa/Math.abs(Math.sin(t)),e=a.ce(y,t,.5*(e+g)),this.pc(e,c));else if(0!=(y.type&512)){t=1-p/Math.abs(this.Qa);P=1;k=0>this.Qa?-f:f;-1<t&&1>t&&(A=2*Math.acos(t),.017453292519943295>A&&(A=.017453292519943295),
P=d.J.truncate(f/A+1.5),1<P&&(k/=P));A=e+b;e=a.ce(y,this.Qa,A);0==c&&(e.type|=1024);this.pc(e,c);t=this.Qa/Math.cos(k/2);A+=k/2;e=a.ce(y,t,A);e.type|=1024;for(this.pc(e);0<--P;)A+=k,e=a.ce(y,t,A),e.type|=1024,this.pc(e);e=a.ce(y,this.Qa,g-b);e.type|=1024;this.pc(e)}else if(1==this.jj)e=a.ce(y,this.Qa,e+b),this.pc(e,c),e=a.ce(y,this.Qa,g-b),this.pc(e);else if(0==this.jj)for(t=1-p/Math.abs(this.Qa),P=1,k=g-b-(e+b),-1<t&&1>t&&(A=2*Math.acos(t),.017453292519943295>A&&(A=.017453292519943295),P=d.J.truncate(Math.abs(k)/
A+1.5),1<P&&(k/=P)),t=this.Qa/Math.cos(.5*k),A=e+b+.5*k,e=a.ce(y,t,A),this.pc(e,c);0<--P;)A+=k,e=a.ce(y,t,A),this.pc(e);else 2==this.jj?(t=P.x-y.x,A=P.y-y.y,v=k.x-y.x,z=k.y-y.y,P=(t*v+A*z)/Math.sqrt(t*t+A*A)/Math.sqrt(v*v+z*z),.99999999<P?(e=a.ce(y,1.4142135623730951*this.Qa,g-.25*f),this.pc(e,c),e=a.ce(y,1.4142135623730951*this.Qa,g+.25*f),this.pc(e)):(P=Math.abs(this.Qa/Math.sin(.5*Math.acos(P))),k=Math.abs(this.iB*this.Qa),P>k?(t=.5*(g-e),t=this.Qa/Math.abs(Math.sin(t)),e=a.ce(y,t,.5*(e+g)),g=
d.b.pa(e.x,e.y),e=d.b.pa(y.x,y.y),y=new d.b,y.zc(g,e),g=new d.b,g.EX(k/y.length(),y,e),e=(P-k)*Math.abs(this.Qa)/Math.sqrt(P*P-this.Qa*this.Qa),0<this.Qa?y.uw():y.Ur(),y.scale(e/y.length()),e=new d.b,e.add(g,y),P=new d.b,P.zc(g,y),e=a.El(e),this.pc(e,c),e=a.El(P),this.pc(e)):(t=.5*(g-e),t=this.Qa/Math.abs(Math.sin(t)),e=a.ce(y,t,.5*(e+g)),this.pc(e,c)))):(g=A,0<this.Qa?(g>e&&(g-=l),P=e-g<b):(g<e&&(g+=l),P=g-e<b),P?(t=1.4142135623730951*this.Qa,A=0>t?e+.25*f:e+.75*f,e=a.ce(y,t,A),this.pc(e,c),A=0>
t?g-.25*f:g-.75*f,e=a.ce(y,t,A),this.pc(e)):(t=.5*(g-e),t=this.Qa/Math.abs(Math.sin(t)),g<e&&(g+=l),e=a.ce(y,t,(e+g)/2),this.pc(e,c)))}this.ww=n;this.JA=r;this.pc(this.$b[0],0);y=a.VQ(this.$b[this.Kf-1]);this.$b[0]=y;return this.tX()};e.prototype.kv=function(a,c){if(!(2>c))for(var b=0;b<c;b++){var e=this.$b[a+b];0!=b?this.sB.aj(d.b.pa(e.x,e.y)):this.sB.zu(d.b.pa(e.x,e.y))}};e.prototype.AO=function(c,b,e){var g=c.wa(b),d=c.Gc(b);this.$b=[];this.sB=e;if(c.Qb(b)){for(b=c.Ba(g);c.Ba(d-1).ub(b);)d--;if(2<=
d-g){this.qx=d-g;this.Sg=[];for(b=g;b<d;b++)this.Sg.push(a.El(c.Ba(b)));this.zF()&&this.kv(0,this.Kf-1)}}else{for(b=c.Ba(g);g<d&&c.Ba(g+1).ub(b);)g++;for(b=c.Ba(d-1);g<d&&c.Ba(d-2).ub(b);)d--;if(2<=d-g){this.qx=2*(d-g)-2;this.Sg=[];e=a.El(c.Ba(g));e.type|=1536;this.Sg.push(e);for(b=g+1;b<d-1;b++)e=a.El(c.Ba(b)),this.Sg.push(e);e=a.El(c.Ba(d-1));e.type|=512;this.Sg.push(e);for(b=d-2;b>=g+1;b--)e=a.El(c.Ba(b)),e.type|=1024,this.Sg.push(e);if(this.zF())if(2<=this.$b.length){c=-1;(d=0!=(this.$b[this.Kf-
1].type&1024))||(c=0);for(b=1;b<this.Kf;b++)(g=0!=(this.$b[b].type&1024))?d||(d=b-1,1<d-c+1&&this.kv(c,d-c+1)):d&&(c=b-1),d=g;d||(d=this.Kf-1,1<d-c+1&&this.kv(c,d-c+1))}else c=0,d=this.Kf-1,0<=c&&1<=d-c&&this.kv(c,d-c+1)}}this.Sg=null;this.qx=0;this.$b=null;this.Kf=0};e.prototype.tX=function(){for(var a=!1,c=0;c<this.Kf;c++){var b=this.$b[c];b.Nh=c+1;b.Qh=c-1;this.$b[c]=b}b=this.$b[0];b.Qh=this.Kf-2;this.$b[0]=b;b=this.$b[this.Kf-2];b.Nh=0;this.$b[this.Kf-2]=b;for(c=b=0;c<this.Kf;c++)if(0!=(this.$b[b].type&
256)){var e=this.CR(b);if(-1!=e)b=e;else{a=!0;break}}else b=this.$b[b].Nh;if(a)return!1;this.TQ(b);return!0};e.prototype.CR=function(a){for(var c=this.Kf-1,b=a,e,g,d=1;d<=c-2;d++){e=b=this.$b[b].Nh;g=a;for(var h=1;h<=d;h++){g=this.$b[g].Qh;if(0==(this.$b[g].type&256)&&0==(this.$b[e].type&256)){var l=this.aU(g,e);if(-1!=l)return l}e=this.$b[e].Qh}}return-1};e.prototype.aU=function(a,b){var e,g,h,q;e=this.$b[this.$b[a].Qh];g=this.$b[a];h=this.$b[this.$b[b].Qh];q=this.$b[b];if(!this.IX(e,g,h,q))return-1;
var l=new c;return this.pS(e,g,h,q,l)&&!l.oF&&d.J.SK((g.x-e.x)*(q.y-h.y)-(g.y-e.y)*(q.x-h.x))!=d.J.SK(this.Qa)?(e=this.$b[a].Qh,l.Pn.type=g.type,l.Pn.Nh=b,l.Pn.Qh=e,this.$b[a]=l.Pn,l.Pn=this.$b[b],l.Pn.Qh=a,this.$b[b]=l.Pn,b):-1};e.prototype.IX=function(a,c,b,e){return Math.max(a.x,c.x)>=Math.min(b.x,e.x)&&Math.max(b.x,e.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,e.y)&&Math.max(b.y,e.y)>=Math.min(a.y,c.y)};e.prototype.pS=function(c,b,e,g,d){d.oF=!1;var h,q,u;h=(b.y-c.y)*(g.x-e.x)-(b.x-
c.x)*(g.y-e.y);q=(e.y-c.y)*(b.x-c.x)-(e.x-c.x)*(b.y-c.y);h=0==h?2:q/h;return 0<=h&&1>=h&&(u=h,h=(g.y-e.y)*(b.x-c.x)-(g.x-e.x)*(b.y-c.y),q=(c.y-e.y)*(g.x-e.x)-(c.x-e.x)*(g.y-e.y),h=0==h?2:q/h,0<=h&&1>=h)?(d.Pn=a.WQ(c.x+h*(b.x-c.x),c.y+h*(b.y-c.y)),d.Pn.ui=e.ui+u*(g.ui-e.ui),0!=u&&1!=u||0!=h&&1!=h||(d.oF=!0),d.N_=h,d.O_=u,(0==u||1==u)&&0<h&&1>h||(0==h||1==h)&&0<u&&1>u?!1:!0):!1};e.prototype.TQ=function(a){for(;this.$b[a].Qh<a;)a=this.$b[a].Qh;var c=0,b=a;do b=this.$b[b],this.$b[c]=b,b=b.Nh,c++;while(b!=
a);this.$b[c]=this.$b[0];this.Kf=c+1};e.prototype.vE=function(a){var c=this.Yo,b=c.Fa();if(null!=b){b.yj();for(var e=-1;b.Ya();)e++,this.AO(c,e,a)}};e.prototype.Ay=function(){var a=this.Yo.G();return 322==a?this.zO():197==a?this.yO():d.T.Oc(a)?(a=new d.Ua,a.dc(this.Yo,!0),this.Yo=a,this.Ay()):1607==a?(a=new d.Ua,this.vE(a),a):1736==a?(a=new d.Ja,this.vE(a),a):null};return e}();d.TL=e})(p||(p={}));(function(d){var f=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.a.w(a,c)};a.prototype.Kd=
function(a){var c=this.Sk.Na.ja(a);this.Sk.Na.Kd(a,-1);this.Sk.a.ud(c,!1)};return a}(),l=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.GV.w(a,c)};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),b=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){c.L(this.Sk.JV[a])};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new d.uk,this.Na.Qe(20),this.a=new d.fd,this.xV=this.a.bh(550),this.Nt=this.a.Yf(this.xV,
-1),this.wi=new f(this)):a instanceof Array?(this.Na=new d.uk,this.Na.Qe(20),this.JV=a,this.wi=new b(this)):(this.Na=new d.uk,this.Na.Qe(20),this.GV=a,this.wi=new l(this))}a.prototype.Jb=function(a){var c=a.G();if(d.Mu.gh(c))this.hP(a);else if(d.xl.Oc(c))this.oP(a);else if(197==c)this.eP(a);else if(33==c)this.lP(a);else throw d.g.F("invalid shape type");};a.prototype.US=function(){var a=new d.Wa,c=this.Na.xc(-1),b=new d.Ja(this.a.Hr);this.a.wj(this.Na.ja(c),a);b.Rf(a);for(c=this.Na.nb(c);-1!=c;c=
this.Na.nb(c))this.a.wj(this.Na.ja(c),a),b.lineTo(a);return b};a.UQ=function(c){var b=new a(c),e=c.D(),q=1,u=new d.b,l=new d.b,f=new d.b;for(c.w(0,u);;){c.w(q,l);if(!(l.wA(u)&&q<e-1))break;q++}b.Na.addElement(0,-1);b.Na.ro(q);for(e=q+1;e<c.D();e++)c.w(e,f),q=b.OC(f),-1!=q&&b.Na.kk(q,e);f=new d.Wa;q=b.Na.xc(-1);e=new d.Ja(c.description);c.Ae(b.Na.ja(q),f);e.Rf(f);for(q=b.Na.nb(q);-1!=q;q=b.Na.nb(q))c.Ae(b.Na.ja(q),f),e.lineTo(f);return e};a.pa=function(c,b,d){for(var e=new a(c),g=1,h=c[0];c[g].wA(h)&&
g<b-1;)g++;e.Na.addElement(0,-1);e.Na.ro(g);for(g+=1;g<b;g++)h=e.OC(c[g]),-1!=h&&e.Na.kk(h,g);c=0;for(b=e.Na.xc(-1);-1!=b;b=e.Na.nb(b))d[c++]=e.Na.ja(b);return c};a.VH=function(c,b){var e=c.wa(b),g=c.Gc(b);b=!c.Qb(b)&&c.Eo(b);c=c.Pa(0);e*=2;g*=2;b&&(g-=2);if(6>g-e)return!0;b=new d.b;var u=new d.b,l=new d.b;c.fc(e,b);c.fc(e+2,u);c.fc(e+4,l);var f=a.fe(u,l,b);if(f.lt()||!a.tc(f.value()))return!1;for(var k=d.b.pa(u.x,u.y),m=new d.b,e=e+6;e<g;e+=2){m.L(u);u.L(l);c.fc(e,l);f=a.fe(u,l,b);if(f.lt()||!a.tc(f.value()))return!1;
f=a.fe(k,l,b);if(f.lt()||!a.tc(f.value()))return!1;f=a.fe(u,l,m);if(f.lt()||!a.tc(f.value()))return!1}return!0};a.prototype.hP=function(a){for(var c=new d.Wa,b=new d.b,e=0;e<a.D();e++){a.w(e,b);var u=this.As(b);if(-1!=u){a.Ae(e,c);var l=this.a.pc(this.Nt,c);this.Na.kk(u,l)}}};a.prototype.eP=function(a){for(var c=new d.Wa,b=new d.b,e=0;4>e;e++){a.Gx(e,b);var u=this.As(b);if(-1!=u){a.ig(e,c);var l=this.a.pc(this.Nt,c);this.Na.kk(u,l)}}};a.prototype.oP=function(a){var c=new d.Wa,b=a.ec(),b=this.As(b);
if(-1!=b){a.Dp(c);var e=this.a.pc(this.Nt,c);this.Na.kk(b,e)}b=a.Cc();b=this.As(b);-1!=b&&(a.Bp(c),a=this.a.pc(this.Nt,c),this.Na.kk(b,a))};a.prototype.lP=function(a){var c=a.w(),c=this.As(c);-1!=c&&(a=this.a.pc(this.Nt,a),this.Na.kk(c,a))};a.prototype.As=function(a){var c=-1;if(0==this.Na.size(-1))return c=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ja(this.Na.xc(-1)));a.wA(b)||(c=this.Na.ro(-5));return c}return c=this.OC(a)};a.prototype.OC=function(c){var b=-1,e=this.Na.xc(-1),
q=this.Na.Fc(-1),u=this.Na.ja(e),l=this.Na.ja(q),f=new d.b,k=new d.b;this.wi.w(u,f);this.wi.w(l,k);u=d.b.zp(k,c,f);if(a.tc(u))b=this.Na.ro(-1),f=this.MC(c,q,e),f!=e&&this.NC(c,e,this.Na.Ve(f));else if(a.vl(u)){for(var k=this.Na.fw(-1),m=this.Na.xc(-1),p=this.Na.Fc(-1),n,u=new d.b,l=new d.b;m!=this.Na.Ve(p);)n=this.Na.ja(k),this.wi.w(n,u),n=d.b.zp(u,c,f),a.vl(n)?(p=k,k=this.Na.Pl(k)):(m=k,k=this.Na.Nq(k));k=p;f=m;n=this.Na.ja(k);m=this.Na.ja(f);this.wi.w(n,u);this.wi.w(m,l);if(f==e||(u=d.b.zp(l,c,
u),a.tc(u)))b=this.Na.jv(f,k,-2,!1),this.NC(c,k,q),this.MC(c,f,e)}else null==this.wb&&(this.wb=new d.Hb),this.wb.Mc(k),this.wb.Zc(f),f=this.wb.pe(c,!0),0>f?(f=this.Na.Ve(q),this.Na.Kd(q,-1),b=this.Na.ro(-3),this.MC(c,f,e)):1<f&&(f=this.Na.nb(e),this.Na.Kd(e,-1),b=this.Na.jv(-1,f,-3,!1),this.NC(c,f,q));return b};a.prototype.NC=function(c,b,h){if(b!=h){var e=this.Na.ja(b),g=this.Na.nb(b),l=new d.b,f=new d.b;for(this.wi.w(e,l);b!=h&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(g),f);e=d.b.zp(f,c,l);if(a.tc(e))break;
e=b;b=g;l.L(f);g=this.Na.nb(b);this.wi.Kd(e)}}};a.prototype.MC=function(c,b,h){if(b==h)return h;var e=this.Na.ja(b),g=this.Na.Ve(b),l=new d.b,f=new d.b;for(this.wi.w(e,l);b!=h&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(g),f);e=d.b.zp(l,c,f);if(a.tc(e))break;e=b;b=g;l.L(f);g=this.Na.Ve(b);this.wi.Kd(e)}return b};a.fe=function(a,c,b){var e=new d.Xb;e.set(c.x);e.sub(a.x);var g=new d.Xb;g.set(b.y);g.sub(a.y);var h=new d.Xb;h.set(c.y);h.sub(a.y);c=new d.Xb;c.set(b.x);c.sub(a.x);e.Vg(g);h.Vg(c);e.sub(h);
return e};a.tc=function(a){return 0>a};a.vl=function(a){return 0<a};a.hq=function(a){return 0==a};return a}();d.Ju=a})(p||(p={}));(function(d){var f=function(){function l(b){this.ke=this.a=null;this.FI=!0;this.ke=b}l.yJ=function(b,a,c){b=d.na.Cs(b);return d.Iu.pw(a.Be(),a.nf(),c.Be(),c.nf(),d.Ub.Yx(b))};l.FQ=function(b,a){var c=new d.Wa;d.Iu.VV(b,a,c);return c};l.V=function(b,a,c,e){c=new l(c);c.a=b;c.ta=a;c.FI=e;return c.LO()};l.prototype.FO=function(b){return d.Iu.bS(this.a,b)};l.prototype.IO=function(b){return d.Ku.V(this.a,
b,this.ke)};l.prototype.LO=function(){for(var b=this.ta,a=d.na.Cs(b),b=d.na.rP(b),c=1.00001*b,b=1.000001*b,e=!1,g=30<this.a.vd+10?1E3:(this.a.vd+10)*(this.a.vd+10),h=0,q=this.a.dU();;h++){if(h>g)throw d.g.X("Internal Error: max number of iterations exceeded");var u=this.FO(a),e=e||u;this.FI&&(u=0!=this.a.zq(a,!0,!1),e=e||u);u=!1;if(0==h||q||d.Ku.tJ(!0,this.a,b,null,this.ke))u=this.IO(c),e=e||u;if(!u)break}return e};return l}();d.sk=f})(p||(p={}));(function(d){var f=function(){function b(a){this.we=
this.Tc=null;this.kx=0;this.lc=a;this.LA=!0}b.prototype.gw=function(a,c){var b=this.a.ic(a);if(null==b){if(!this.a.pd(a,c))return null;b=c}return b};b.prototype.Pr=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.mR=function(){var a=this.a.Qr(!1),c=!1,b=new d.Hb,g=new d.Hb,h=new d.h;h.Oa();var q=new d.h;q.Oa();for(var u=new d.Wa,l=new d.dE,f=a.next();-1!=f;f=a.next()){var k=null,m=!1;if(!d.T.Jo(this.a.hc(a.Ck))){k=this.gw(f,b);if(null==k)continue;k.s(h);h.O(this.ta,
this.ta);if(k.fh(this.ta))if(k.fh(0))m=!0,k=null;else continue}var p=this.a.Qr(a),n=p.next();for(-1!=n&&(n=p.next());-1!=n;n=p.next()){var r=null,t=!1;if(!d.T.Jo(this.a.hc(p.Ck))){r=this.gw(n,g);if(null==r)continue;r.s(q);if(r.fh(this.ta))if(r.fh(0))t=!0,r=null;else continue}var A=0,v=0;if(null!=k&&null!=r)h.TH(q)&&(l.Ap(k),l.Ap(r),l.Ma(this.ta,!1),A=l.Rl(0),v=l.Rl(1),0<A+v&&(this.a.bs(f,l,0,!0),this.a.bs(n,l,1,!0)),l.clear());else if(null!=k){var z=new d.b;this.a.w(n,z);if(h.contains(z)){l.Ap(k);
this.a.wj(n,u);l.sA(this.ta,u,!1);A=l.Rl(0);if(0<A)if(this.a.bs(f,l,0,!0),t){t=-1;for(z=this.a.U(n);-1!=z&&z!=n&&(r=this.gw(z,g),t=z,null!=r&&r.fh(0));z=this.a.U(z));for(z=n;-1!=z&&(this.a.Yh(z,l.cg),z!=t);z=this.a.U(z));}else this.a.Yh(n,l.cg);l.clear()}}else if(null!=r){if(z=new d.b,this.a.w(f,z),q.O(this.ta,this.ta),q.contains(z)){l.Ap(r);this.a.wj(f,u);l.sA(this.ta,u,!1);v=l.Rl(0);if(0<v)if(this.a.bs(n,l,0,!0),m){t=-1;for(z=this.a.U(f);-1!=z&&z!=f&&(r=this.gw(z,g),t=z,null!=r&&r.fh(0));z=this.a.U(z));
for(z=f;-1!=z&&(this.a.Yh(z,l.cg),z!=t);z=this.a.U(z));}else this.a.Yh(f,l.cg);l.clear()}}else continue;if(0!=A+v){if(0!=A){k=this.a.ic(f);if(null==k){if(!this.a.pd(f,b))continue;k=b;b.s(h)}else k.s(h);if(k.fh(this.ta))break}c=!0}}}return c};b.prototype.nR=function(){return this.DW()};b.prototype.DW=function(){return(new d.WD).IY(this.a,this.ta)};b.prototype.uJ=function(){var a=!1,c,b;null==this.Tc&&(this.Tc=new d.uk);var g=new d.ia(0);g.yb(this.a.vd+1);for(var h=this.a.Qr(),q=h.next();-1!=q;q=h.next())g.add(q);
this.a.Xx(g,g.size);g.add(-1);h=this.a.Vd();q=this.a.Vd();this.we=new d.fE(this.a,this.ta,!this.LA);this.Tc.Ep(this.we);var u=new d.ia(0),l=new d.ia(0),f=0;new d.b;var k=this.a.Dd;this.a.xb.wc();for(var m=this.a.xb.ya[0].f,p,n,r=g.get(f++);-1!=r;){n=k.S(r,0);p=m[2*n];n=m[2*n+1];var t=p,A=n;do{var v=k.S(r,2),z=k.S(r,1);-1!=v&&(c=k.S(v,0),b=m[2*c],c=m[2*c+1],0>(A<c?-1:A>c?1:t<b?-1:t>b?1:0)&&(l.add(r),l.add(v)));-1!=z&&(c=k.S(z,0),b=m[2*c],c=m[2*c+1],0>(A<c?-1:A>c?1:t<b?-1:t>b?1:0)&&(l.add(z),l.add(z)));
b=this.a.Sa(r,h);-1!=b&&(u.add(b),this.a.Va(r,h,-1));b=this.a.Sa(r,q);-1!=b&&(u.add(b),this.a.Va(r,q,-1));r=g.get(f++);-1!==r&&(A=k.S(r,0),t=m[2*A],A=m[2*A+1])}while(-1!=r&&t===p&&A===n);t=1==u.size&&2==l.size;b=A=-1;v=0;for(z=u.size;v<z;v++){c=u.get(v);var x=this.Tc.Ve(c);-1==x||u.nA(x)||(A=x);c=this.Tc.nb(c);-1==c||u.nA(c)||(b=c);if(-1!=A&&-1!=b)break}this.we.QK(n,p);v=0;for(z=u.size;v<z;v++)c=u.get(v),this.Tc.Kd(c,-1);u.clear(!1);if(!t&&-1!=A&&-1!=b&&this.tQ(A,b)){a=!0;this.mj=this.we.en();break}v=
0;for(z=l.size;v<z;v+=2){n=l.get(v);p=l.get(v+1);t?(n=this.Tc.jv(A,b,n,!0),t=!1):n=this.Tc.addElement(n,-1);if(this.we.Ng){this.mj=this.we.en();a=!0;break}-1==this.a.Sa(p,h)?this.a.Va(p,h,n):this.a.Va(p,q,n)}if(a)break;l.yf(0)}this.a.le(h);this.a.le(q);return a};b.prototype.tQ=function(a,c){this.we.compare(this.Tc,this.Tc.ja(a),c);a=this.we.Ng;this.we.Gs();return a};b.Cj=function(a){for(var c=a.sd;-1!=c;c=a.Ue(c))if(d.T.Ic(a.hc(c)))return!0;return!1};b.Gm=function(a,c,e,g){if(!b.Cj(a))return!1;c=
new b(g);c.a=a;c.ta=e;if(15>a.vd)a=c.mR();else return c.nR();return a};b.V=function(a,c,e){return b.Gm(a,a.TG(),c,e)};b.tJ=function(a,c,e,g,h){if(!b.Cj(c))return!1;var q=new b(h);q.a=c;q.ta=e;q.LA=a;if(q.uJ())return null!=g&&g.ms(q.mj),!0;var u=new d.Hd;u.xC();c.Xc(u);q=new b(h);q.a=c;q.ta=e;q.LA=a;a=q.uJ();u.xC();c.Xc(u);return a?(null!=g&&g.ms(q.mj),!0):!1};b.qm=function(a,c){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*c<1*a*c};b.kR=function(a,c,e,g){if(d.T.Ic(c.G()))return(new b(g)).lR(a,
c,e);throw d.g.X("crack_A_with_B");};b.prototype.lR=function(a,c,e){var g=new d.h;a.ac(g);var h=new d.h;c.ac(h);h.O(e,e);if(!h.Yb(g))return a;var q=a.ob,u=null;null!=q&&(u=q.Mb);b.qm(a,a.D())&&(u=d.na.Lj(a,h));var y=null!=u?u.mf():null,f=c.Fa();c=a.Fa();for(var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[];f.Ya();)for(;f.Ea();){var m=f.ba();if(null!=u)for(y.Wn(m,e),q=y.next();-1!=q;q=y.next()){if(this.Pr(),c.Tb(u.ja(q),-1),c.Ea())for(var q=c.ba(),p=q.Ma(m,null,k,null,e),q=0;q<p;++q){var n=k[q];if(0!=n&&
1!=n){var r=c.Db(),t=new l;t.t=n;t.index=r;h.push(t)}}}else{var A=new d.h;m.ac(A);A.O(e,e);if(g.Yb(A))for(c.yj();c.Ya();)for(;c.Ea();)if(this.Pr(),q=c.ba(),n=new d.h,q.ac(n),n.Yb(A))for(p=q.Ma(m,null,k,null,e),q=0;q<p;++q)n=k[q],0!=n&&1!=n&&(r=c.Db(),t=new l,t.t=n,t.index=r,h.push(t))}}if(0==h.length)return a;h=h.sort(l.Hs);a=a.Ka();for(c.yj();c.Ya()&&!c.Ea(););e=c.ba();g=new d.Cg;u=-1;q=0;for(y=h.length;q<y;){k=h[q].index;for(f=q+1;f<y&&h[f].index==k;)++f;for(;c.Db()<k;){this.Pr();m=c.Ea();n=c.Ta;
(A=m||!c.Fo()||c.Go())&&a.dc(e,u!=n);u=n;if(!m)for(;c.Ya()&&!c.Ea(););e=c.ba()}for(k=0;q<f;q++)n=h[q].t,n!=k&&(e.yh(k,n,g),k=n,n=c.Ta,a.dc(g.get(),u!=n),u=n);if(A=(m=c.Ea())||!c.Fo()||c.Go())e.yh(k,1,g),a.dc(g.get(),!1);if(m)e=c.ba();else{for(;c.Ya()&&!c.Ea(););c.Ea()?e=c.ba():e=null}q=f}null!=e&&(n=c.Ta,(A=(m=c.Ea())||!c.Fo()||c.Go())&&a.dc(e,u!=n),u=n);for(m=c.Ea();;){if(!m){for(;c.Ya()&&!(m=c.Ea()););if(!m)break}e=c.ba();n=c.Ta;(A=(m=c.Ea())||!c.Fo()||c.Go())&&a.dc(e,u!=n);u=n}return a};return b}();
d.Ku=f;var l=function(){function b(){}b.Hs=function(a,c){return a.index==c.index?a.t>c.t?1:a.t<c.t?-1:0:a.index>c.index?1:-1};return b}()})(p||(p={}));(function(d){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(d.VL||(d.VL={}));var f=function(){return function(a,b,g,d,q,u,l,f,k,m,n){this.Y=a;this.nx=b;this.It=g;this.Pg=d;this.yn=m;this.em=n}}();d.GZ=f;var l=function(){function a(a,c){this.YI=a;this.gj=c}a.prototype.HO=
function(a,c){var b=new d.b;this.gj.w(a,b);var e=new d.b;this.gj.w(c,e);b=b.compare(e);if(0!=b)return b;b=this.gj.Sa(a,this.YI);e=this.gj.Sa(c,this.YI);return b<e?-1:b==e?0:1};return a}(),b=function(){return function(a,b,g,d,q,u,l,f,k){this.Pg=a;this.It=b;this.tB=g;this.hJ=d;this.dj=q;this.em=u;this.yn=l;this.iJ=f;this.MV=k}}();d.FZ=b;var a=function(){function a(){}a.UL=function(c,b,h,q,u,l){if(b.u())c=new f(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),u.push(c);else{var e=new d.fd;e.Jb(b);e.Jb(h);
d.sk.V(e,q,l,!0);b=0;h=e.Vd();for(q=e.sd;-1!=q;q=e.Ue(q))for(l=e.Pb(q);-1!=l;l=e.Sb(l))for(var g=e.cb(l),y=0,k=e.La(l);y<k;g=e.U(g),y++)e.Va(g,h,b++);b=a.lM(h,e);a.tW(c,b,e,u)}};a.lM=function(c,b){for(var e=b.vd,g=new d.ia(0),u=b.sd;-1!=u;u=b.Ue(u))for(var f=b.Pb(u);-1!=f;f=b.Sb(f))for(var k=b.cb(f),m=0,n=b.La(f);m<n;k=b.U(k),m++)g.add(k);var p=new l(c,b);g.Gd(0,e,function(a,c){return p.HO(a,c)});c=[];var r=[],t=b.Vd(),A=b.Vd(),u=b.sd,f=b.Ue(u),n=new d.b,v=new d.b,z=g.get(0),x=b.ld(z),w=b.ng(x);b.w(z,
n);for(var B=1,k=0;B<e-1;){for(var C=!1,m=B;m<e;m++)if(m!=k){var D=g.get(m),E=b.ld(D),F=b.ng(E);b.w(D,v);if(n.ub(v))w==u&&F==f&&(C=a.nZ(t,A,b,c,r,x,z,E,D));else break}if(C||k==B-1){C&&k==B-1&&B--;if(++k==e)break;z=g.get(k);x=b.ld(z);w=b.ng(x);b.w(z,n)}C||(B=k+1)}e=[];for(u=b.sd;-1!=u;u=b.Ue(u))for(f=b.Pb(u);-1!=f;f=b.Sb(f))for(g=b.cb(f),m=0,n=b.La(f);m<n;g=b.U(g),m++){k=b.Sa(g,A);if(0<=k)for(;k<r.length&&r[k].Pg==g;)e.push(r[k++]);k=b.Sa(g,t);if(0<=k)for(;k<c.length&&c[k].Pg==g;)e.push(c[k++])}b.le(t);
b.le(A);return e};a.nZ=function(c,b,d,q,u,l,f,k,m){var e=d.Rj(l),g=d.Rj(k),h=d.cb(l),y=d.cb(k),P=d.Ra(f),n=d.Ra(m),p=!1,N=!1,K=!1,r=!1;f!=h&&(m!=y&&(p=a.tZ(c,d,q,l,P,k,n)),m!=g&&(N=a.vZ(c,d,q,l,P,k,m)));f!=e&&(m!=y&&(K=a.xZ(b,d,u,l,f,k,n,h)),m!=g&&(r=a.GL(b,d,u,l,f,k,m,h)));p&&N&&K?(c=q.length-1,2==u[r?u.length-2:u.length-1].dj&&(q[c-1]=q[c],--q.length)):p&&N&&r&&2==u[u.length-1].dj&&(u=q[q.length-1],--q.length,d.Sa(u.Pg,c)==q.length&&d.Va(u.Pg,c,-1));return p||N||K||r};a.tZ=function(a,c,h,q,u,l,
f){var e,g;g=new d.Hb;var y=new d.Hb,k=[0,0],P=[0,0];e=c.ic(u);null==e&&(c.pd(u,g),e=g);g=c.ic(f);null==g&&(c.pd(f,y),g=y);e=e.Ma(g,null,k,P,0);2>e&&(q=new b(u,q,k[0],NaN,e,f,l,P[0],NaN),h.push(q),q=c.Sa(u,a),0>q&&c.Va(u,a,h.length-1));return!0};a.vZ=function(a,c,h,q,u,l,f){var e,g;g=new d.Hb;var y=new d.Hb,k=[0,0],P=[0,0];e=c.ic(u);null==e&&(c.pd(u,g),e=g);g=c.ic(f);null==g&&(c.pd(f,y),g=y);e=e.Ma(g,null,k,P,0);return 2>e?(q=new b(u,q,k[0],NaN,e,f,l,P[0],NaN),h.push(q),q=c.Sa(u,a),0>q&&c.Va(u,a,
h.length-1),!0):!1};a.xZ=function(a,c,h,q,u,l,f,k){var e,g;g=new d.Hb;var y=new d.Hb,P=[0,0],m=[0,0];e=c.ic(u);null==e&&(c.pd(u,g),e=g);g=c.ic(f);null==g&&(c.pd(f,y),g=y);e=e.Ma(g,null,P,m,0);if(2==e)return q=new b(u,q,P[0],P[1],e,f,l,m[0],m[1]),h.push(q),q=c.Sa(u,a),0>q&&c.Va(u,a,h.length-1),!0;y=!1;u==k&&(q=new b(u,q,P[0],NaN,e,f,l,m[0],NaN),h.push(q),q=c.Sa(u,a),0>q&&c.Va(u,a,h.length-1),y=!0);return y};a.GL=function(a,c,h,q,u,l,f,k){var e,g;g=new d.Hb;var y=new d.Hb,P=[0,0],m=[0,0];e=c.ic(u);
null==e&&(c.pd(u,g),e=g);g=c.ic(f);null==g&&(c.pd(f,y),g=y);e=e.Ma(g,null,P,m,0);if(2==e)return q=new b(u,q,P[0],P[1],e,f,l,m[0],m[1]),h.push(q),q=c.Sa(u,a),0>q&&c.Va(u,a,h.length-1),!0;y=!1;u==k&&(q=new b(u,q,P[0],NaN,e,f,l,m[0],NaN),h.push(q),q=c.Sa(u,a),0>q&&c.Va(u,a,h.length-1),y=!0);return y};a.tW=function(c,b,h,q){var e,g=[];g[0]=new d.b;g[1]=new d.b;g[2]=new d.b;g[3]=new d.b;var l=new d.b,k=new d.b,m=new d.b,n=new d.b,p=null;null!=q&&(p=new d.Cg,p.Js());var r,t=0,A=null,v=new d.Hb;new d.Hb;
for(var z=h.Pb(h.sd);-1!=z;z=h.Sb(z)){var x,w=4,B=-1,C,D,E,F=-1,G,I,H,R,M=-1,J=-1,L=NaN;x=!0;var V=!1,O=!0,U=!0,T=!0,S=0;E=z;G=0;for(var aa=h.cb(z),ea=h.La(z),Y=0;Y<ea;aa=h.U(aa),Y++){r=h.ic(aa);if(null==r){if(!h.pd(aa,v))continue;r=v}-1==F&&(F=aa);for(var X=0;t<b.length&&aa==b[t].Pg;){B=b[t].It;C=b[t].Pg;D=b[t].tB;I=b[t].yn;H=b[t].em;R=b[t].iJ;if(2==b[t].dj){if(V||(E=B,F=C,G=D,M=I,J=H,L=R,w=2,null!=q?A=new d.Ua:S=0,T=!1,U=!0),D=b[t].hJ,R=b[t].MV,null!=q?(r.yh(X,b[t].hJ,p),A.dc(p.get(),U)):S++,X=
D,V=!0,U=x=!1,t+1==b.length||2!=b[t+1].dj||b[t+1].Pg==C&&b[t+1].tB!=X)null!=q?(e=new f(A,2,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S),E=B,F=C,G=D,M=I,J=H,L=R,w=2,V=x=!1,U=T=!0}else{var Z=h.U(C);if(t<b.length-1&&b[t+1].Pg==Z&&b[t+1].em==H&&2==b[t+1].dj)D!=X&&(T&&(null!=q?A=new d.Ua:S=0),x=0<t&&b[t-1].It==B?1==w?0:0==w?1:3:3,null!=q?(r.yh(X,D,p),A.dc(p.get(),U),e=new f(A,x,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):(S++,null.add(S)),X=D,E=B,F=C,G=D,M=I,J=H,L=R,w=x,x=O=!1,U=T=!0);else if(!a.aM(c,h,
b,t,l,k)){a.ML(h,b,t,z,aa,m,n);var W=!1,Z=!1;e=!0;if(!(l.ub(m)||k.ub(m)||l.ub(n)||k.ub(n))){g[0].L(l);g[1].L(k);g[2].L(m);g[3].L(n);g.sort(d.b.vs);var ca=g[0],ba=g[1],da=g[2],ga=g[3];ca.ub(l)?ba.ub(k)?c?(Z=W=!0,e=!1):W=!1:ga.ub(k)?c?e=Z=W=!0:W=!1:(W=!0,e=ba.ub(m)):ba.ub(l)?da.ub(k)?c?(Z=W=!0,e=!1):W=!1:ca.ub(k)?c?e=Z=W=!0:W=!1:(W=!0,e=da.ub(m)):da.ub(l)?ga.ub(k)?c?(Z=W=!0,e=!1):W=!1:ba.ub(k)?c?e=Z=W=!0:W=!1:(W=!0,e=ga.ub(m)):ca.ub(k)?c?(Z=W=!0,e=!1):W=!1:da.ub(k)?c?e=Z=W=!0:W=!1:(W=!0,e=ca.ub(m))}if(W){W=
aa==C;if(D!=X||W&&0==X)T&&(null!=q?A=new d.Ua:S=0),null!=q?(r.yh(X,D,p),A.dc(p.get(),U)):S++;if(e)if(1!=w){if(D!=X||W&&0==X)null!=q?(e=new f(A,1,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S);if(!Z)w=1;else if(t==b.length-2||b[t+2].It!=B)w=0}else{if(D!=X||W&&0==X)null!=q?(e=new f(A,3,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S);w=1}else if(0!=w){if(D!=X||W&&0==X)null!=q?(e=new f(A,0,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S);if(!Z)w=0;else if(t==b.length-2||b[t+2].It!=B)w=1}else{if(D!=
X||W&&0==X)null!=q?(e=new f(A,3,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S);w=0}if(D!=X||W&&0==X)X=D,E=B,F=C,G=D,M=I,J=H,L=R,x=O=!1,U=T=!0}}}t++}1!=X&&(T&&(null!=q?A=new d.Ua:S=0),null!=q?(r.yh(X,1,p),A.dc(p.get(),U)):S++,U=T=!1,O=!0)}O&&(D=1,C=h.Rj(z),C=h.Ra(C),H=I=-1,R=NaN,x?null!=q?(e=new f(A,4,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S):(x=1==w?0:0==w?1:3,null!=q?(e=new f(A,x,B,C,D,w,E,F,G,I,H,R,M,J,L),q.push(e)):null.add(S)))}};a.aM=function(c,b,h,q,u,l){var e=h[q].iJ;if(1==e)return a.QL(c,
b,h,q,u,l);if(0==e)return a.XL(c,b,h,q,u,l);throw d.g.za();};a.QL=function(a,c,b,q,u,l){var e=new d.Hb,g=b[q].Pg,h=b[q].yn,f=b[q].em,y=-1,k=-1,m=-1,n=-1;if(!a&&0<q)var p=b[q-1],y=p.Pg,k=p.yn,m=p.em,n=p.dj;var r=-1,t=-1,A=-1,v=-1;q<b.length-1&&(p=b[q+1],r=p.Pg,t=p.yn,A=p.em,v=p.dj);var z=c.U(g),p=c.U(f);if(!a)return 0<q&&y==g&&k==h&&m==p&&2==n||q<b.length-1&&r==z&&t==h&&A==p&&2==v?(a=c.ic(f),null==a&&(c.pd(f,e),a=e),l.L(a.Eg(1)),u.bu(l),l.normalize(),u.normalize(),!1):q<b.length-1&&r==g&&t==h&&A==
p?(a=c.ic(f),null==a&&(c.pd(f,e),a=e),u.L(a.Eg(1)),a=c.ic(p),null==a&&(c.pd(p,e),a=e),l.L(a.Eg(0)),u.Lr(),l.normalize(),u.normalize(),!1):!0;if(q==b.length-1||r!=g||t!=h||A!=p||2==v)return a=c.ic(f),null==a&&(c.pd(f,e),a=e),l.L(a.Eg(1)),u.bu(l),l.normalize(),u.normalize(),!1;a=c.ic(f);null==a&&(c.pd(f,e),a=e);u.L(a.Eg(1));a=c.ic(p);null==a&&(c.pd(p,e),a=e);l.L(a.Eg(0));u.Lr();l.normalize();u.normalize();return!1};a.XL=function(a,c,b,q,u,l){var e=new d.Hb,g=b[q].Pg,h=b[q].yn,f=b[q].em,y=-1,k=-1,m=
-1,p=-1;if(!a&&q<b.length-1)var n=b[q+1],y=n.Pg,k=n.yn,m=n.em,p=n.dj;var r=-1,t=-1,A=-1,n=-1;0<q&&(n=b[q-1],r=n.Pg,t=n.yn,A=n.em,n=n.dj);var v=c.U(g),z=c.Ra(f);return a?0==q||r!=g||t!=h||A!=z||2==n?(a=c.ic(f),null==a&&(c.pd(f,e),a=e),l.L(a.Eg(0)),u.bu(l),l.normalize(),u.normalize(),!1):!0:0<q&&r==g&&t==h&&A==z&&2==n||q<b.length-1&&y==v&&k==h&&m==z&&2==p?(a=c.ic(f),null==a&&(c.pd(f,e),a=e),l.L(a.Eg(0)),u.bu(l),l.normalize(),u.normalize(),!1):!0};a.ML=function(a,c,b,q,u,l,f){var e=new d.Hb,g=a.ic(u);
null==g&&(a.pd(u,e),g=e);b=c[b];c=b.Pg;b=b.tB;u=a.U(c);if(1==b)l.L(g.Eg(1)),-1!=u&&u!=a.Rj(q)?(g=a.ic(u),null==g&&(a.pd(u,e),g=e),f.L(g.Eg(0)),g=a.ic(c),null==g&&a.pd(c,e)):f.L(l),l.Lr(),f.normalize(),l.normalize();else if(0==b)f.L(g.Eg(b)),l.bu(f),f.normalize(),l.normalize();else throw d.g.za();};return a}();d.WL=a})(p||(p={}));(function(d){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(d.iO||(d.iO={}));var f=function(){function a(a,c,b){this.nd=c;this.Ai=b;this.bB=
a}a.prototype.Eb=function(c){return c instanceof a?this.Ai===c.Ai:!1};a.lH=function(c){return 0!==c.nd?null:-1===c.bB?new a(-1,2,c.Ai*c.Ai):a.ze(e[c.bB])};a.ze=function(a){a=c[a];return void 0===a?null:a};a.bR=function(c,b,e){var g=null;if(void 0!==e&&null!==e)try{"EPSG"===e.values[0]&&(g=a.ze(parseInt(e.values[1])))}catch(N){}null===g&&(g=new a(-1,c,b));return g};a.prototype.yc=function(){return this.bB};a.prototype.OG=function(a){if(a.nd!=this.nd)throw d.g.Da();return this.Ai/a.Ai};a.li=function(a,
c,b){return c.OG(b)*a};a.dG=function(a,c,b,e,g){b=b.OG(e);for(e=0;e<c;e++)g[e]=a[e]*b};return a}();d.oc=f;for(var l=[109402,4046.8564224,109403,4046.87260987425,109463,100,109401,1E4,109461,225E8,109460,25E8,109451,1E-4,109444,404.68564224000005,109424,404.6849341289498,109428,404.68493792602754,109416,404.67838076760535,109420,404.68423895571647,109448,404.683871963536,109411,404.6872609874253,109450,.01,109408,3.34450944,109405,.09290304,109430,.09290354800069446,109423,.0929028774400711,109427,
.09290287831176021,109441,.09290349665192114,109407,.09290137299531805,109440,.09290286332673177,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109419,.09290271785025629,109447,.0929026336004445,109406,.09290341161327487,109453,6.4516E-4,109454,6.451625806477421E-4,109414,1E6,109445,.04046856422400001,109425,.04046849341289498,109429,.04046849379260275,109417,.04046783807676053,109421,.04046842389557164,109449,.0404683871963536,109412,.04046872609874253,
109404,1,109410,1.000027193184865,109413,2589998.4703195216,109452,1E-6,109409,3429904,109458,3434290.937856,109457,3434528.1495040003,109464,1.244521604938272E-7,109455,25.292852640000003,109456,25.29295381171408,109459,2.89612324,109439,2589988.110336,109462,.7168473118308245,109442,.83612736,109422,.83612589696064,109426,.836125904805842,109415,.8361123569578626,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109418,.8361244606523066,109446,.8361237024040001,
109443,.8361307045194736],b=[9103,2.908882086657216E-4,9104,4.84813681109536E-6,9102,.0174532925199433,9106,.01570796326794897,9105,.01570796326794897,9109,1E-6,9114,9.817477042468104E-4,1031,4.84813681109536E-9,9112,1.570796326794897E-4,9101,1,9113,1.570796326794897E-6],a=[109031,15E4,109461,109030,5E4,109460,1033,.01,109451,9097,20.1168,109444,9052,20.1167824,109424,9062,20.116782494375872,109428,9038,20.1166195164,109416,9042,20.116765121552632,109420,9301,20.116756,109448,9033,20.11684023368047,
109411,109005,.1,109450,9014,1.8288,109408,9002,.3048,109405,9070,.3048008333333334,109430,9051,.3047997333333333,109423,9061,.3047997347632708,109427,9095,.3048007491,109441,9005,.3047972654,109407,9094,.3047997101815088,109440,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9041,.304799471538676,109419,9300,.3047993333333334,109447,9003,.3048006096012192,109406,109008,.0254,109453,109009,.0254000508001016,109454,9036,1E3,109414,9098,.201168,109445,9053,
.201167824,109425,9063,.2011678249437587,109429,9039,.201166195164,109417,9043,.2011676512155263,109421,9302,.20116756,109449,9034,.2011684023368047,109412,9001,1,109404,9031,1.0000135965,109410,9035,1609.3472186944375,109413,1025,.001,109452,9030,1852,109409,109013,1853.184,109458,109012,1853.248,109457,109016,3.527777777777778E-4,109464,109010,5.0292,109455,109011,5.029210058420118,109456,109014,1.7018,109459,9093,1609.344,109439,109015,.8466683600033867,109462,9096,.9144,109442,9050,.9143992,109422,
9060,.9143992042898124,109426,9037,.9143917962000001,109415,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9040,.9143984146160287,109418,9099,.914398,109446,109002,.9144018288036576,109443,109001,.9144,109442,109003,20.1168,109444,109004,.201168,109445,109006,.01,109451,109007,.001,109452],c=[],e=[],g=0;g<l.length;g+=2)c[l[g]]=new f(l[g],2,l[g+1]);l=null;for(g=0;g<b.length;g+=2)c[b[g]]=new f(b[g],1,b[g+1]);b=null;for(g=0;g<a.length;g+=3)c[a[g]]=new f(a[g],
0,a[g+1]),e[a[g]]=a[g+2];a=null})(p||(p={}));(function(d){var f=function(){function d(){this.Gb=this.qb=0}d.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};d.prototype.value=function(){return this.qb};d.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};d.prototype.iP=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=
a};d.prototype.bP=function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};d.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};d.prototype.Vg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};d.prototype.yp=function(b){var a=
this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);this.qb=a};d.prototype.pm=function(b,a){var c=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(c);this.qb=c};d.prototype.Wm=function(b){var a=Math.abs(b.qb),c=this.qb/b.qb,e=(this.Gb+Math.abs(c)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,e*=1+(1+b)*b);this.qb=c;this.Gb=e+2.220446049250313E-16*Math.abs(c)};d.prototype.sqrt=function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),
a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};d.prototype.sin=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(c)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};d.prototype.cos=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=c;c=Math.abs(c);this.Gb=(Math.abs(a)+.5*c*
b.Gb)*b.Gb+2.220446049250313E-16*c};d.prototype.Lg=function(){return Math.abs(this.qb)<=this.Gb};d.prototype.lt=function(){return this.Lg()&&0!=this.Gb};return d}();d.Xb=f})(p||(p={}));var z=new p.b,R=new p.b,V=new p.b,U=new p.b,aa=new p.b;(function(d){var f;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(f||(f={}));var l=function(){function b(a,c,b,g,d,q,u){void 0!==c?(this.bb=a,this.Ck=c,this.Gl=b,this.Ji=g,this.Ca=q,this.QA=
u,this.Uw=d):(this.bb=a.bb,this.Ck=a.Ck,this.Gl=a.Gl,this.Ji=a.Ji,this.Ca=a.Ca,this.QA=a.QA,this.Uw=a.Uw);this.nI=!0}b.prototype.next=function(){return this.nI?(this.nI=!1,this.Ji):-1!=this.Ji?(this.Ji=this.bb.U(this.Ji),this.Ca++,-1!=this.Ji&&this.Ji!=this.Uw?this.Ji:this.YV()):-1};b.prototype.YV=function(){this.Gl=this.bb.Sb(this.Gl);for(this.Ca=0;-1!=this.Ck;){for(;-1!=this.Gl;this.Gl=this.bb.Sb(this.Gl))if(this.Uw=this.Ji=this.bb.cb(this.Gl),-1!=this.Ji)return this.Ji;this.Ck=this.bb.Ue(this.Ck);
if(-1==this.Ck)break;if(!this.QA||d.T.Ic(this.bb.hc(this.Ck)))this.Gl=this.bb.Pb(this.Ck)}return-1};b.xR=function(a,c,e,g,d,q,u){return new b(a,c,e,g,d,q,u)};return b}();d.MZ=l;f=function(){function b(){this.Xo=this.on=this.Yk=this.md=this.el=this.jp=this.nj=this.td=this.Bi=this.ph=this.wf=this.Hr=this.Kr=this.xb=this.nm=null;this.cx=this.sd=-1;this.vd=0;this.OA=!1;this.Hr=this.Kr=this.xb=null}b.prototype.ti=function(a){return null!=this.wf?this.wf[a]:null};b.prototype.th=function(a,c){if(null==this.wf){if(null==
c)return;this.wf=[];for(var b=0,g=this.xb.D();b<g;b++)this.wf.push(null)}this.wf[a]=c};b.prototype.Lp=function(a,c){this.td.P(a,1,c)};b.prototype.Kp=function(a,c){this.td.P(a,2,c)};b.prototype.tC=function(a,c){this.td.P(a,6,c)};b.prototype.Lq=function(a){return this.td.S(a,6)};b.prototype.Rx=function(a,c){this.td.P(a,7,c)};b.prototype.dw=function(a){return this.td.S(a,0)};b.prototype.FK=function(a,c){this.md.P(a,1,c)};b.prototype.JK=function(a,c){this.md.P(a,0,c)};b.prototype.UG=function(a){return this.md.S(a,
7)};b.prototype.Ip=function(a,c){this.md.P(a,3,c)};b.prototype.Jp=function(a,c){this.md.P(a,4,c)};b.prototype.eW=function(a){null==this.md&&(this.md=new d.ad(8));var c=this.md.Pe();this.md.P(c,2,a);this.md.P(c,5,0);this.md.P(c,6,0);this.md.P(c,7,c);return c};b.prototype.CS=function(a){this.md.kd(a)};b.prototype.gW=function(a){null==this.td&&(this.td=new d.ad(8),this.Dd=new d.ad(5),this.nj=new d.Rd(0),this.jp=new d.Rd(0));var c=this.td.Pe();this.td.P(c,0,c);this.td.P(c,3,0);this.td.P(c,6,0);this.Rx(c,
a);c>=this.nj.size&&(a=16>c?16:d.J.truncate(3*c/2),this.nj.resize(a),this.jp.resize(a));this.nj.set(c,0);this.jp.set(c,0);return c};b.prototype.DG=function(a){this.td.kd(a)};b.prototype.Dz=function(a){this.Dd.kd(a);this.vd--};b.prototype.xJ=function(a){null==this.td&&(this.td=new d.ad(8),this.Dd=new d.ad(5),this.nj=new d.Rd(0),this.jp=new d.Rd(0));var c=this.Dd.Pe(),b=0<=a?a:c;this.Dd.P(c,0,b);if(0>a){if(b>=this.xb.D()){a=16>b?16:d.J.truncate(3*b/2);this.xb.resize(a);if(null!=this.wf)for(var g=0;g<
a;g++)this.wf.push(null);null!=this.ph&&this.ph.resize(a);this.Kr=this.xb.Pa(0)}this.xb.rb(b,-1E38,-1E38);null!=this.wf&&(this.wf[b]=null);null!=this.ph&&this.ph.write(b,1)}this.Dd.P(c,4,2*b);this.vd++;return c};b.prototype.Wj=function(a,c,b){var e=-1!=c?this.Ra(c):this.Rj(a),d=-1!=e?this.U(e):-1,q=this.xJ(null==b?this.vd:-1),u=this.Za(q);null!=b&&this.xb.vu(u,b);this.Aj(q,a);this.Kc(q,d);this.Lc(q,e);-1!=d&&this.Lc(d,q);-1!=e&&this.Kc(e,q);b=this.Qb(a);e=this.cb(a);-1==c&&this.sh(a,q);c==e&&this.jg(a,
q);b&&-1==d&&(this.Kc(q,q),this.Lc(q,q));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return q};b.prototype.an=function(){null==this.Xo&&(this.Xo=new d.Wa(this.xb.description));return this.Xo};b.prototype.Hp=function(a,c){this.md.P(a,2,this.md.S(a,2)&-134217729||(1==c?134217728:0))};b.prototype.xo=function(a){return 0!=(this.md.S(a,2)&134217728)?1:0};b.prototype.fP=function(a){var c=this.bh(a.G(),a.description);1736==a.G()&&this.Hp(c,a.xo());this.gF(c,a);return c};b.prototype.gP=function(a){var c=
this.bh(a.G(),a.description);this.hF(c,a);return c};b.prototype.PW=function(a,c){null==this.td&&(this.td=new d.ad(8),this.Dd=new d.ad(5),this.nj=new d.Rd(0),this.jp=new d.Rd(0));this.td.Qe(this.td.yd+a);this.Dd.Qe(this.Dd.yd+c);this.nj.yb(this.nj.size+a);this.jp.yb(this.jp.size+a)};b.prototype.gF=function(a,c){this.PW(c.aa(),c.D());this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);for(var b=null!=this.wf&&null!=c.cf,g=0,h=c.aa();g<h;g++)if(!(2>c.La(g))){var q=this.Yf(a,-1);this.$n(q,c.Qb(g));for(var u=
c.wa(g),l=c.Gc(g);u<l;u++){var f=this.Wj(q,-1,null);if(b)if(f=this.Za(f),0!=(c.jH(u)&1))this.th(f,null);else{var k=new d.Cg;c.ic(u,k,!0);this.th(f,k.get())}}}};b.prototype.hF=function(a,c){this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);a=this.Yf(a,-1);var b=0;for(c=c.D();b<c;b++)this.Wj(a,-1,null)};b.prototype.GY=function(a,c,b){var e=this.U(a);if(-1==e)throw d.g.za();for(var h=this.an(),q=this.ld(a),u=0,l=c.Rl(b);u<l;u++){var f=this.Za(a),k=this.U(a),m=c.Mq(b,u);0==u&&(m.Dp(h),this.Yh(a,h));322==m.G()?
this.th(f,null):this.th(f,d.T.oe(m));m.Bp(h);u<l-1?a=this.Wj(q,k,h):this.Yh(e,h)}};b.prototype.FY=function(a,c,b){var e=this.U(a);if(-1==e)throw d.g.za();for(var h=this.an(),q=this.ld(a),u=0,l=c.Rl(b);u<l;u++){var f=this.Za(a),k=this.U(a),m=c.Mq(b,l-u-1);0==u&&(m.Bp(h),this.Yh(a,h));322==m.G()?this.th(f,null):this.th(f,d.T.oe(m));m.Dp(h);u<l-1?a=this.Wj(q,k,h):this.Yh(e,h)}};b.prototype.TG=function(){var a=new d.h;a.Oa();for(var c=this.Qr(),b=new d.b,g=!0,h=c.next();-1!=h;h=c.next())this.w(h,b),g?
a.Nb(b.x,b.y):a.ml(b.x,b.y),g=!1;return a};b.prototype.Jb=function(a){var c=a.G();if(d.T.Ic(c))return this.fP(a);if(550==c)return this.gP(a);throw d.g.za();};b.prototype.wP=function(a,c){var b=c.G();if(d.T.Ic(b))this.gF(a,c);else if(550==b)this.hF(a,c);else throw d.g.za();};b.prototype.kP=function(a,c){var b=this.bh(1736,a.description);if(2>a.La(c))return b;this.nm.Id(a,a.wa(c),a.Gc(c));this.Kr=this.xb.Pa(0);var g=this.Yf(b,-1);this.$n(g,a.Qb(c)||!0);var h=null!=this.wf&&null!=a.cf,q=a.wa(c);for(c=
a.Gc(c);q<c;q++){var u=this.Wj(g,-1,null);if(h)if(u=this.Za(u),0!=(a.jH(q)&1))this.th(u,null);else{var l=new d.Cg;a.ic(q,l,!0);this.th(u,l.get())}}return b};b.prototype.Se=function(a){var c=this.hc(a),b=d.uM.bh(c,this.nm.description),g=this.D(a);if(0==g)return b;if(d.T.Ic(c)){for(var c=this.aa(a),h=d.Uc.wh(c+1),q=d.Uc.vq(c+1,0),u=b.description,l=0,f=u.Ga;l<f;l++){for(var k=u.rd(l),m=d.ma.Xa(k),n=d.Uc.qz(k,g),p=this.xb.Pa(k),r=0,t=0,A=0,v=this.Pb(a);-1!=v;v=this.Sb(v)){var z=0;this.Qb(v)&&(z|=1);this.RU(v)&&
(z|=4);0!=z&&q.iC(t,z);var x=this.La(v);h.write(t++,A);A+=x;if(0==k)for(var x=p,w=n,B=new d.b,z=this.cb(v);r<A;z=this.U(z),r++){var C=this.Za(z);x.fc(2*C,B);w.fo(2*r,B)}else for(z=this.cb(v);r<A;z=this.U(z),r++)for(C=this.Za(z),w=0;w<m;w++)B=p.Of(C*m+w),n.Dm(r*m+w,B)}b.Yn(k,n);h.write(c,g)}b.GK(q);b.HK(h);b.Dc(16777215)}else if(550==c){u=b.description;b.resize(g);l=0;for(f=u.Ga;l<f;l++){k=u.rd(l);m=d.ma.Xa(k);n=b.Pa(k);p=this.xb.Pa(k);r=0;v=this.Pb(a);x=this.La(v);for(z=this.cb(v);r<x;z=this.U(z),
r++)for(C=this.Za(z),w=0;w<m;w++)B=p.Of(C*m+w),n.Dm(r*m+w,B);b.Yn(k,n)}b.Dc(16777215)}return b};b.prototype.aC=function(a){for(var c=this.Pb(a);-1!=c;c=this.Rr(c));var c=this.IT(a),b=this.Ue(a);-1!=c?this.FK(c,b):this.sd=b;-1!=b?this.JK(b,c):this.cx=c;this.CS(a)};b.prototype.bh=function(a,c){return void 0===c?this.gG(a,d.ye.Ig()):this.gG(a,c)};b.prototype.gG=function(a,c){a=this.eW(a);null==this.xb?this.xb=this.nm=new d.Ed(c):this.nm.om(c);this.Hr=this.nm.description;this.OA=1<this.Hr.Ga;-1==this.sd?
this.sd=a:(this.JK(a,this.cx),this.FK(this.cx,a));return this.cx=a};b.prototype.Ue=function(a){return this.md.S(a,1)};b.prototype.IT=function(a){return this.md.S(a,0)};b.prototype.hc=function(a){return this.md.S(a,2)&2147483647};b.prototype.xK=function(a,c,b){c=this.Yk[c];a=this.UG(a);a>=c.size&&c.resize(Math.max(d.J.truncate(1.25*a),16),-1);c.write(a,b)};b.prototype.VG=function(a,c){a=this.UG(a);c=this.Yk[c];return a<c.size?c.read(a):-1};b.prototype.hG=function(){null==this.Yk&&(this.Yk=[]);for(var a=
0;a<this.Yk.length;a++)if(null==this.Yk[a])return this.Yk[a]=d.Uc.wh(0),a;this.Yk.push(d.Uc.wh(0));return this.Yk.length-1};b.prototype.uX=function(a){this.Yk[a]=null};b.prototype.Pb=function(a){return this.md.S(a,3)};b.prototype.Xv=function(a){return this.md.S(a,4)};b.prototype.D=function(a){return this.md.S(a,5)};b.prototype.aa=function(a){return this.md.S(a,6)};b.prototype.zq=function(a,c,b){for(var e=0,h=this.sd;-1!=h;h=this.Ue(h)){var q=this.hc(h);if(d.T.Ic(q)&&(!b||1736==q))for(var q=1736==
this.hc(h),u=this.Pb(h);-1!=u;){for(var l=0,f=this.cb(u);l<d.J.truncate(this.La(u)/2);){var k=this.U(f);if(-1==k)break;var m=this.Za(f),n=this.ti(m);null!=n?m=n.Rb():(n=this.Za(k),m=this.xb.xs(m,n));m<=a?(0==m?0==e&&(e=-1):e=1,k!=this.Rj(u)&&(this.JC(k,f),this.ud(k,!0))):f=this.U(f);l++}l=this.cb(u);for(f=this.Qb(u)?l:this.Rj(u);0<this.La(u);)if(k=this.Ra(f),-1!=k){var p=this.Za(k),n=this.ti(p);null!=n?m=n.Rb():(m=this.Za(f),m=this.xb.xs(m,p));if(m<=a)0==m?0==e&&(e=-1):e=1,this.JC(k,f),this.ud(k,
!1),l==k&&(l=this.cb(u));else if(f=this.Ra(f),f==l)break}else{this.ud(f,!0);0==e&&(e=-1);break}f=this.La(u);c&&(q?3>f:2>f)?(u=this.Rr(u),e=0<f?1:0==e?-1:e):u=this.Sb(u)}}return e};b.prototype.JC=function(a,c){var b=this.Za(a),g=this.Za(c);null!=this.ph&&(b=this.ph.read(b),this.ph.write(g,b));if(null!=this.Bi)for(g=0,b=this.Bi.length;g<b;g++)if(null!=this.Bi[g]){var d=this.Sa(a,g);-1!=d&&this.Va(c,g,d)}};b.prototype.zm=function(a,c,b){var e=0,h=this.U(a);if(-1==h)throw d.g.za();for(var q=this.Za(a),
u=this.Za(h),l=this.ti(q),f=null==l?this.xb.xs(q,u):l.Rb(),k=0;k<b;k++){var m=c[k];if(0<m&&1>m){var n=m;null!=l&&(n=0<f?l.Dy(m)/f:0);this.xb.DE(q,u,n,this.an());var p=this.Wj(this.ld(a),h,this.an());e++;if(null!=l){var r=l.Hl(0,m),n=this.Za(this.Ra(p));this.th(n,r);this.Qf(p,r.Cc());if(k==b-1||1==c[k+1])m=l.Hl(m,1),this.th(n,m)}}}return e};b.prototype.EY=function(a,c,b){var e=0,h=this.U(a);if(-1==h)throw d.g.X("internal error");var q=this.Za(a),u=this.Za(h),l=this.ti(q),f=null==l?this.xb.xs(q,u):
l.Rb(),k=0;a=this.ld(a);for(var m=0;m<b;m++){var n=c[m];if(k<n&&1>n){var p=n;null!=l&&(p=0<f?l.Dy(n)/f:0);this.xb.DE(q,u,p,this.an());p=this.tU(a,h,this.an());e++;if(null!=l){var k=l.Hl(k,n),r=this.Za(this.Ra(p));this.th(r,k);this.rb(p,k.sa,k.oa);if(m==b-1||1==c[m+1])k=l.Hl(n,1),p=this.Za(p),this.th(p,k)}}k=n}return e};b.prototype.tU=function(a,c,b){var e=-1!=c?this.Ra(c):this.Rj(a),d=-1!=e?this.U(e):-1,q=this.xJ(null==b?this.vd:-1),u=this.Za(q);null!=b&&this.xb.vu(u,b);this.Aj(q,a);this.Kc(q,d);
this.Lc(q,e);-1!=d&&this.Lc(d,q);-1!=e&&this.Kc(e,q);b=this.Qb(a);e=this.cb(a);-1==c&&this.sh(a,q);c==e&&(b&&-1!=e||this.jg(a,q));b&&-1==d&&(this.Kc(q,q),this.Lc(q,q));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return q};b.prototype.EF=function(a,c,b){var e=this.Za(c),h=this.Za(b);if(0>e||h>this.vd-1)throw d.g.F("invalid call");if(e>h&&!this.Qb(a))throw d.g.F("cannot iterate across an open path");for(a=0;c!=b;c=this.U(c))e=this.Za(c),h=this.ti(e),null!=h?a+=h.Rb():(h=this.Za(this.U(c)),
a+=this.xb.xs(e,h));return a};b.prototype.Yh=function(a,c){var b=this.Za(a);this.xb.vu(b,c);b=this.ti(b);null!=b&&b.setStart(c);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&b.setEnd(c))};b.prototype.wj=function(a,c){a=this.Za(a);this.xb.Ae(a,c)};b.prototype.Qf=function(a,c){this.rb(a,c.x,c.y)};b.prototype.rb=function(a,c,b){var e=this.Za(a);this.xb.rb(e,c,b);e=this.ti(e);null!=e&&e.wC(c,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&e.vm(c,b))};b.prototype.w=function(a,c){this.xb.w(this.Dd.S(a,
0),c)};b.prototype.Nc=function(a,c){this.xb.ya[0].fc(2*this.Dd.S(a,0),c)};b.prototype.Ba=function(a){var c=new d.b;this.xb.w(this.Dd.S(a,0),c);return c};b.prototype.pH=function(a,c){this.Kr.fc(2*a,c)};b.prototype.Yc=function(a,c,b){return this.xb.Yc(a,this.Za(c),b)};b.prototype.setAttribute=function(a,c,b,g){this.xb.setAttribute(a,this.Za(c),b,g)};b.prototype.Za=function(a){return this.Dd.S(a,0)};b.prototype.nf=function(a){var c=new d.b;this.w(a,c);return c.y};b.prototype.Uq=function(a,c){a=this.Za(a);
c=this.Za(c);var b=this.xb.ya[0].f;return b[2*a]===b[2*c]&&b[2*a+1]===b[2*c+1]};b.prototype.qw=function(a,c){a=this.Za(a);var b=this.xb.ya[0].f;return b[2*a]===c.x&&b[2*a+1]===c.y};b.prototype.qY=function(a,c){1>c&&(c=1);if(null==this.ph){if(1==c)return;this.ph=d.Uc.Um(this.xb.D(),1)}a=this.Za(a);a>=this.ph.size&&this.ph.resize(a+1,1);this.ph.write(a,c)};b.prototype.oH=function(a){a=this.Za(a);return null==this.ph||a>=this.ph.size?1:this.ph.read(a)};b.prototype.Va=function(a,c,b){c=this.Bi[c];a=this.Za(a);
c.size<this.xb.D()&&c.resize(this.xb.D(),-1);c.write(a,b)};b.prototype.Sa=function(a,c){a=this.Za(a);c=this.Bi[c];return a<c.size?c.read(a):-1};b.prototype.Vd=function(){null==this.Bi&&(this.Bi=[]);for(var a=0;a<this.Bi.length;a++)if(null==this.Bi[a])return this.Bi[a]=d.Uc.wh(0,-1),a;this.Bi.push(d.Uc.wh(0,-1));return this.Bi.length-1};b.prototype.le=function(a){this.Bi[a]=null};b.prototype.ic=function(a){return null!=this.wf?(a=this.Za(a),this.wf[a]):null};b.prototype.pd=function(a,c){var b=this.Dd.S(a,
2);if(-1==b)return!1;if(this.OA){var g=new d.Wa;this.wj(a,g);c.setStart(g);this.wj(b,g);c.setEnd(g)}else this.xb.Nc(this.Dd.S(a,0),z),c.Qm(0,z),this.xb.Nc(this.Dd.S(b,0),z),c.Qm(1,z);return!0};b.prototype.gX=function(a,c,b){if(this.OA){var e=new d.Wa;this.wj(a,e);b.setStart(e);this.wj(c,e);b.setEnd(e)}else this.xb.Nc(a,z),b.Qm(0,z),this.xb.Nc(c,z),b.Qm(1,z)};b.prototype.Yf=function(a,c){var b;if(-1!=c){if(a!=this.ng(c))throw d.g.za();b=this.ct(c)}else b=this.Xv(a);var g=this.gW(a);-1!=c&&this.Lp(c,
g);this.Kp(g,c);this.Lp(g,b);-1!=b?this.Kp(b,g):this.Ip(a,g);-1==c&&this.Jp(a,g);this.wm(a,this.aa(a)+1);return g};b.prototype.BH=function(a,c,b,g){a=this.Yf(a,-1);for(var e=0,d=c,u=!1;d==b&&(u=!0),this.Aj(d,a),e++,d=this.U(d),d!=c;);this.$n(a,!0);this.nk(a,e);u&&(c=b);this.jg(a,c);this.sh(a,this.Ra(c));this.Np(a,!1);null!=g&&(g[0]=u);return a};b.prototype.Rr=function(a){var c=this.ct(a),b=this.Sb(a),g=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(g,b);-1!=b?this.Lp(b,c):this.Jp(g,c);this.DQ(a);this.wm(g,
this.aa(g)-1);this.DG(a);return b};b.prototype.DQ=function(a){var c=this.cb(a);if(-1!=c){for(var b=0,g=this.La(a);b<g;b++){var d=c,c=this.U(c);this.Dz(d)}c=this.ng(a);this.lk(c,this.D(c)-this.La(a))}this.nk(a,0)};b.prototype.Sb=function(a){return this.td.S(a,2)};b.prototype.ct=function(a){return this.td.S(a,1)};b.prototype.La=function(a){return this.td.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.$n=function(a,c){if(this.Qb(a)!=c){if(0<this.La(a)){var b=this.cb(a),g=this.Rj(a);
c?(this.Kc(g,b),this.Lc(b,g)):(this.Kc(g,-1),this.Lc(b,-1));b=this.Za(g);this.th(b,null)}this.tC(a,(this.Lq(a)|1)-1|(c?1:0))}};b.prototype.ng=function(a){return this.td.S(a,7)};b.prototype.RU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.oC=function(a,c){this.tC(a,(this.Lq(a)|2)-2|(c?2:0))};b.prototype.gA=function(a){if(this.XU(a))return this.nj.get(this.dw(a));var c=new d.Hb,b=this.cb(a);if(-1==b)return 0;var g=new d.b;this.w(b,g);for(var h=0,q=0,u=this.La(a);q<u;q++,b=this.U(b)){var l=this.ic(b);
if(null==l){if(!this.pd(b,c))continue;l=c}h+=l.Cy(g.x,g.y)}this.Np(a,!0);this.nj.set(this.dw(a),h);return h};b.prototype.$r=function(a,c,b){c=this.el[c];a=this.dw(a);c.size<this.nj.size&&c.resize(this.nj.size,-1);c.write(a,b)};b.prototype.Tj=function(a,c){a=this.dw(a);c=this.el[c];return a<c.size?c.read(a):-1};b.prototype.rz=function(){null==this.el&&(this.el=[]);for(var a=0;a<this.el.length;a++)if(null==this.el[a])return this.el[a]=d.Uc.wh(0),a;this.el.push(d.Uc.wh(0));return this.el.length-1};b.prototype.bC=
function(a){this.el[a]=null};b.prototype.XV=function(a,c,b){if(-1==b)throw d.g.F();if(c!=b){var e=this.Sb(b),h=this.ct(b),q=this.ng(b);-1==h?this.Ip(q,e):this.Kp(h,e);-1==e?this.Jp(q,h):this.Lp(e,h);this.lk(q,this.D(q)-this.La(b));this.wm(q,this.aa(q)-1);h=-1==c?this.Xv(a):this.ct(c);this.Lp(b,h);this.Kp(b,c);-1==c?this.Jp(a,b):this.Lp(c,b);-1==h?this.Ip(a,b):this.Kp(h,b);this.lk(a,this.D(a)+this.La(b));this.wm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Kj=function(a,c){this.xb.Ae(this.Za(c),this.an());
this.Wj(a,-1,this.an())};b.prototype.ud=function(a,c){var b=this.ld(a),g=this.Ra(a),h=this.U(a);-1!=g&&this.Kc(g,h);var q=this.La(b);a==this.cb(b)&&this.jg(b,1<q?h:-1);-1!=h&&this.Lc(h,g);a==this.Rj(b)&&this.sh(b,1<q?g:-1);if(-1!=g&&-1!=h){var g=this.Za(g),u=this.Za(h);c?(c=this.ti(g),null!=c&&(g=new d.b,this.xb.w(u,g),c.Zc(g))):(u=this.Za(a),c=this.ti(u),this.th(g,c),null!=c&&(g=this.xb.Ba(g),c.Mc(g)))}this.nk(b,q-1);b=this.ng(b);this.lk(b,this.D(b)-1);this.Dz(a);return h};b.prototype.cb=function(a){return this.td.S(a,
4)};b.prototype.Rj=function(a){return this.td.S(a,5)};b.prototype.U=function(a){return this.Dd.S(a,2)};b.prototype.Ra=function(a){return this.Dd.S(a,1)};b.prototype.ld=function(a){return this.Dd.S(a,3)};b.prototype.pc=function(a,c){return this.Wj(a,-1,c)};b.prototype.Qr=function(a){if(void 0===a)return this.Qr(!1);if(a instanceof l)return new l(a);var c,b=-1,g=-1,h=-1,q=0,u=!1;for(c=this.sd;-1!=c;c=this.Ue(c))if(!a||d.T.Ic(this.hc(c))){for(b=this.Pb(c);-1!=b;b=this.Sb(b))if(h=g=this.cb(b),q=0,-1!=
g){u=!0;break}if(u)break}return l.xR(this,c,b,g,h,q,a)};b.prototype.Xc=function(a){this.nm.Xc(a);if(null!=this.wf)for(var c=0,b=this.wf.length;c<b;c++)null!=this.wf[c]&&this.wf[c].Xc(a)};b.prototype.bs=function(a,c,b,g){g?this.GY(a,c,b):this.FY(a,c,b)};b.prototype.Lc=function(a,c){this.Dd.P(a,1,c)};b.prototype.Kc=function(a,c){this.Dd.P(a,2,c)};b.prototype.Aj=function(a,c){this.Dd.P(a,3,c)};b.prototype.nk=function(a,c){this.td.P(a,3,c)};b.prototype.jg=function(a,c){this.td.P(a,4,c)};b.prototype.sh=
function(a,c){this.td.P(a,5,c)};b.prototype.wm=function(a,c){this.md.P(a,6,c)};b.prototype.lk=function(a,c){this.md.P(a,5,c)};b.prototype.fK=function(a){var c=a;do{var b=this.U(c);this.Kc(c,this.Ra(c));this.Lc(c,b);c=b}while(c!=a)};b.prototype.zC=function(a){this.vd=a};b.prototype.Sr=function(a){var c=this.ct(a),b=this.Sb(a),g=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(g,b);-1!=b?this.Lp(b,c):this.Jp(g,c);this.jg(a,-1);this.sh(a,-1);this.DG(a)};b.prototype.Mi=function(a,c){var b=this.Ra(a),g=this.U(a);
-1!=b&&this.Kc(b,g);-1!=g&&this.Lc(g,b);if(-1!=b&&-1!=g)if(b=this.Za(b),g=this.Za(g),c){if(c=this.ti(b),null!=c){var h=new d.b;this.xb.w(g,h);c.Zc(h)}}else g=this.Za(a),c=this.ti(g),this.th(b,c),null!=c&&(h=new d.b,this.xb.w(b,h),c.Mc(h));this.Dz(a)};b.prototype.XU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Np=function(a,c){this.tC(a,(this.Lq(a)|4)-4|(c?4:0))};b.prototype.Xx=function(a,c){var b=this.Dd.f;this.xb.wc();var g=this.xb.ya[0].f;a.Gd(0,c,function(a,c){a=b[5*a];c=b[5*c];var e=g[2*
a];a=g[2*a+1];var d=g[2*c];c=g[2*c+1];return a<c?-1:a>c?1:e<d?-1:e>d?1:0})};b.prototype.dU=function(){for(var a=this.sd;-1!=a;a=this.Ue(a))if(!d.T.Ic(this.hc(a)))return!0;return!1};b.prototype.EC=function(a,c){for(var b=this.Pb(a),g=this.Pb(c),d=this.Xv(a),q=this.Xv(c),u=this.Pb(a);-1!=u;u=this.Sb(u))this.Rx(u,c);for(u=this.Pb(c);-1!=u;u=this.Sb(u))this.Rx(u,a);this.Ip(a,g);this.Ip(c,b);this.Jp(a,q);this.Jp(c,d);b=this.D(a);g=this.aa(a);d=this.aa(c);this.lk(a,this.D(c));this.lk(c,b);this.wm(a,d);
this.wm(c,g);b=this.md.S(a,2);this.md.P(a,2,this.md.S(c,2));this.md.P(c,2,b)};return b}();d.fd=f})(p||(p={}));(function(d){var f=function(l){function b(a,c,b,g){l.call(this);this.R=new d.h;void 0===a?this.$F():"number"===typeof a?this.YQ(a,c,b,g):a instanceof d.Wa?void 0!==c?this.Ev(a,c,b):this.ZQ(a):a instanceof d.ma?void 0!==c?this.aR(a,c):this.$Q(a):a instanceof d.h?this.XQ(a):this.$F()}J(b,l);b.prototype.Ev=function(a,c,b){this.description=d.ye.Ig();this.R.Oa();a.u()||this.cv(a,c,b)};b.prototype.XQ=
function(a){this.description=d.ye.Ig();this.R.I(a);this.R.normalize()};b.prototype.$Q=function(a){if(null==a)throw d.g.F();this.description=a;this.R.Oa()};b.prototype.aR=function(a,c){if(null==a)throw d.g.F();this.description=a;this.R.I(c);this.R.normalize()};b.prototype.$F=function(){this.description=d.ye.Ig();this.R.Oa()};b.prototype.ZQ=function(a){this.description=d.ye.Ig();this.R.Oa();a.u()||this.cv(a)};b.prototype.YQ=function(a,c,b,g){this.description=d.ye.Ig();this.I(a,c,b,g)};b.prototype.I=
function(a,c,b,g){this.Bc();if("number"===typeof a)this.R.I(a,c,b,g);else for(this.Oa(),c=0,b=a.length;c<b;c++)this.Nb(a[c])};b.prototype.Gp=function(a){this.Bc();if(!a.ZU())throw d.g.F();this.R.I(a)};b.prototype.Oa=function(){this.Bc();this.R.Oa()};b.prototype.u=function(){return this.R.u()};b.prototype.N=function(){return this.R.N()};b.prototype.fa=function(){return this.R.fa()};b.prototype.Hk=function(){return this.R.Hk()};b.prototype.Cq=function(){return this.R.Cq()};b.prototype.Bq=function(){return this.R.Wf()};
b.prototype.Nb=function(a){if(a instanceof d.b)this.Bc(),this.R.Nb(a);else if(a instanceof d.h)this.Bc(),this.R.Nb(a);else if(a instanceof d.Wa){if(this.Bc(),!a.Hc()){var c=a.description;this.description!=c&&this.om(c);if(this.u())this.cv(a);else{this.R.Nb(a.w());for(var e=1,g=c.Ga;e<g;e++)for(var h=c.Td(e),q=d.ma.Xa(h),u=0;u<q;u++){var l=a.Yc(h,u),f=this.xf(h,u);f.Nb(l);setInterval(h,u,f)}}}}else if(a instanceof b&&!a.u())for(c=a.description,c!=this.description&&this.om(c),this.R.Nb(a.R),e=1,g=c.Ga;e<
g;e++)for(h=c.rd(e),q=d.ma.Xa(h),u=0;u<q;u++)l=a.xf(h,u),f=this.xf(h,u),f.Nb(l),setInterval(h,u,f)};b.prototype.cv=function(a,c,b){if(void 0!==c){this.R.I(a.w(),c,b);c=a.description;b=1;for(var e=c.Ga;b<e;b++)for(var h=c.Td(b),q=d.ma.Xa(h),u=0;u<q;u++){var l=a.Yc(h,u);this.setInterval(h,u,l,l)}}else for(this.R.I(a.la[0],a.la[1]),c=a.description,b=1,e=c.Ga;b<e;b++)for(h=c.Td(b),q=d.ma.Xa(h),u=0;u<q;u++)l=a.Yc(h,u),this.setInterval(h,u,l,l)};b.prototype.setInterval=function(a,c,b,g){var e=null;"number"===
typeof b?e=new d.Ac(b,g):e=b;this.Bc();if(0==a)if(0==c)this.R.o=e.ca,this.R.v=e.ha;else if(1==c)this.R.A=e.ca,this.R.B=e.ha;else throw d.g.wd();else this.LE(0,a,c,e.ca),this.LE(1,a,c,e.ha)};b.prototype.O=function(a,c){this.Bc();this.R.O(a,c)};b.prototype.Xc=function(a){if(a instanceof d.Hd)this.Bc(),a.KC(this.R);else if(this.Bc(),!this.R.u()){var c=new d.dM;this.Cp(c);c.QU()?c.Oa():a.KC(c)}};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw d.g.F();a.Bc();a.description=this.description;a.R.I(this.R);
a.la=null;if(null!=this.la){a.Yu();for(var c=0;c<2*(this.description.af.length-2);c++)a.la[c]=this.la[c]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.hf=function(){return this.R.IG()};b.prototype.Rb=function(){return this.R.ZG()};b.prototype.G=function(){return 197};b.prototype.tb=function(){return 2};b.prototype.Qn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B};b.prototype.Cp=function(a){a.o=this.R.o;a.A=this.R.A;
a.v=this.R.v;a.B=this.R.B;a.I(this.R.o,this.R.A,this.ae(0,1,0),this.R.v,this.R.B,this.ae(1,1,0))};b.prototype.xf=function(a,c){var b=new d.Ac;b.I(this.ae(0,a,c),this.ae(1,a,c));return b};b.prototype.ig=function(a,c){c.Fg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var g=this.description.rd(a),h=d.ma.Xa(g),q=0;q<h;q++)c.setAttribute(g,q,this.ae(0,g,q));c.rb(this.R.o,this.R.A);break;case 1:for(a=0;a<b;a++)for(g=this.description.rd(a),h=d.ma.Xa(g),q=0;q<h;q++)c.setAttribute(g,
q,this.ae(1,g,q));c.rb(this.R.o,this.R.B);break;case 2:for(a=0;a<b;a++)for(g=this.description.rd(a),h=d.ma.Xa(g),q=0;q<h;q++)c.setAttribute(g,q,this.ae(0,g,q));c.rb(this.R.v,this.R.B);break;case 3:for(a=0;a<b;a++)for(g=this.description.rd(a),h=d.ma.Xa(g),q=0;q<h;q++)c.setAttribute(g,q,this.ae(1,g,q));c.rb(this.R.v,this.R.A);break;default:throw d.g.wd();}};b.prototype.Gx=function(a,c){a=this.R.Gx(a);c.ka(a.x,a.y)};b.prototype.bT=function(a,c){return c*(a.Er-2)};b.prototype.JG=function(a,c,b){if(this.R.u())throw d.g.X("empty geometry");
if(0==c)return 0!=a?0!=b?this.R.B:this.R.v:0!=b?this.R.A:this.R.o;if(b>=d.ma.Xa(c))throw d.g.F();var e=this.description.mg(c);this.Yu();return 0<=e?this.la[this.bT(this.description,a)+this.description.ET(e)-2+b]:d.ma.de(c)};b.prototype.Yu=function(){this.Bc();if(null==this.la&&2<this.description.af.length){this.la=[];for(var a=b.$(this.description,0),c=b.$(this.description,1),e=0,g=1,h=this.description.Ga;g<h;g++)for(var q=this.description.rd(g),u=d.ma.Xa(q),q=d.ma.de(q),l=0;l<u;l++)this.la[a+e]=
q,this.la[c+e]=q,e++}};b.prototype.mo=function(a){if(null!=this.la)if(2<a.af.length){for(var c=d.ye.vx(a,this.description),e=[],g=b.$(this.description,0),h=b.$(this.description,1),q=b.$(a,0),u=b.$(a,1),l=0,f=1,k=a.Ga;f<k;f++){var m=a.rd(f),n=d.ma.Xa(m);if(-1==c[f])for(var p=d.ma.de(m),m=0;m<n;m++)e[q+l]=p,e[u+l]=p,l++;else for(p=this.description.xk(c[f])-2,m=0;m<n;m++)e[q+l]=this.la[g+p],e[u+l]=this.la[h+p],l++,p++}this.la=e}else this.la=null;this.description=a};b.prototype.ae=function(a,c,e){if(this.R.u())throw d.g.X("This operation was performed on an Empty Geometry.");
if(0==c)return 0!=a?0!=e?this.R.B:this.R.v:0!=e?this.R.A:this.R.o;if(e>=d.ma.Xa(c))throw d.g.wd();var g=this.description.mg(c);return 0<=g?(this.Yu(),this.la[b.$(this.description,a)+this.description.xk(g)-2+e]):d.ma.de(c)};b.prototype.LE=function(a,c,e,g){this.Bc();if(0==c)0!=a?0!=e?this.R.B=g:this.R.v=g:0!=e?this.R.A=g:this.R.o=g;else{if(e>=d.ma.Xa(c))throw d.g.wd();if(!this.hasAttribute(c)){if(d.ma.PH(c,g))return;this.Ud(c)}c=this.description.mg(c);this.Yu();this.la[b.$(this.description,a)+this.description.xk(c)-
2+e]=g}};b.$=function(a,c){return c*(a.af.length-2)};b.prototype.Ma=function(a){this.Bc();var c=new d.h;a.s(c);return this.R.Ma(c)};b.prototype.Yb=function(a){return a instanceof d.h?this.R.Yb(a):this.R.Yb(a.R)};b.prototype.xv=function(a,c,b){this.Bc();a.u()?this.Oa():void 0!==c?this.cv(a,c,b):this.R.xv(a.Be(),a.nf())};b.prototype.offset=function(a,c){this.Bc();this.R.offset(a,c)};b.prototype.normalize=function(){this.Bc();this.R.normalize()};b.prototype.Wf=function(a){if(void 0!==a)if(a.Fg(this.description),
this.u())a.Oa();else{for(var c=this.description.Ga,b=1;b<c;b++)for(var g=this.description.rd(b),h=d.ma.Xa(g),q=0;q<h;q++){var u=.5*(this.JG(0,g,q)+this.JG(1,g,q));a.setAttribute(g,q,u)}a.rb(this.R.Wf())}else{a=new d.Wa(this.description);if(this.u())return a;c=this.description.Ga;for(b=1;b<c;b++)for(g=this.description.Td(b),h=d.ma.Xa(g),q=0;q<h;q++)u=.5*(this.ae(0,g,q)+this.ae(1,g,q)),a.setAttribute(g,q,u);a.rb(this.R.Hk(),this.R.Cq());return a}};b.prototype.Yz=function(){return new d.Wa(this.R.Yz())};
b.prototype.contains=function(a){return a instanceof d.Wa?a.u()?!1:this.R.contains(a.Be(),a.nf()):this.R.contains(a.R)};b.prototype.gR=function(a){return this.R.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.R.Eb(a.R))return!1;for(var c=0,e=2*(this.description.af.length-2);c<e;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc(),a=d.J.dh(a,
this.R.jc());if(!this.u()&&null!=this.la)for(var c=0,b=2*(this.description.af.length-2);c<b;c++)a=d.J.dh(a,this.la[c]);return a};b.prototype.Gg=function(){return d.Pi.Rm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.R.o+", "+this.R.A+", "+this.R.v+", "+this.R.B+"]"};return b}(d.T);d.ci=f})(p||(p={}));(function(d){var f=function(){function l(b,a,c,e){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=c,this.B=e)}l.pa=function(b,a,c,e){var g=new l;g.o=b;g.A=
a;g.v=c;g.B=e;return g};l.prototype.I=function(b,a,c,e){"number"===typeof b?void 0!==c?(this.o=b,this.A=a,this.v=c,this.B=e,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof d.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof l?this.I(b.o,b.A,b.v,b.B):b instanceof d.Ac&&(b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha))};l.prototype.nT=function(b,a){var c=
new l;c.I(this.o,this.A,this.v,this.B);c.O(b,a);return c};l.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var c=1;c<a;c++){var e=b[c];e.x<this.o?this.o=e.x:e.x>this.v&&(this.v=e.x);e.y<this.A?this.A=e.y:e.y>this.B&&(this.B=e.y)}}else if(null==b||0==b.length)this.Oa();else for(e=b[0],this.I(e.x,e.y),c=1;c<b.length;c++)e=b[c],this.ml(e.x,e.y)};l.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};l.prototype.u=function(){return isNaN(this.o)};
l.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof d.b?this.Nb(b.x,b.y):b instanceof d.qd?this.Nb(b.x,b.y):b instanceof l&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};l.prototype.ml=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};l.prototype.O=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>
this.v||this.A>this.B)&&this.Oa())};l.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};l.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};l.prototype.TH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};l.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);
b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};l.prototype.Gx=function(b){switch(b){case 0:return d.b.pa(this.o,this.A);case 1:return d.b.pa(this.o,this.B);case 2:return d.b.pa(this.v,this.B);case 3:return d.b.pa(this.v,this.A);default:throw d.g.wd();}};l.prototype.PB=function(b){if(null==b||4>b.length)throw d.g.F();null!=b[0]?b[0].ka(this.o,this.A):b[0]=d.b.pa(this.o,this.A);null!=b[1]?b[1].ka(this.o,this.B):b[1]=d.b.pa(this.o,this.B);null!=b[2]?b[2].ka(this.v,this.B):
b[2]=d.b.pa(this.v,this.B);null!=b[3]?b[3].ka(this.v,this.A):b[3]=d.b.pa(this.v,this.A)};l.prototype.IG=function(){return this.u()?0:this.N()*this.fa()};l.prototype.ZG=function(){return this.u()?0:2*(this.N()+this.fa())};l.prototype.Hk=function(){return(this.v+this.o)/2};l.prototype.Cq=function(){return(this.B+this.A)/2};l.prototype.N=function(){return this.v-this.o};l.prototype.fa=function(){return this.B-this.A};l.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};
l.prototype.xv=function(b,a){if(void 0!==a)this.move(b-this.Hk(),a-this.Cq());else if(b instanceof d.b)this.xv(b.x,b.y);else if(b instanceof d.Wa){a=(this.v-this.o)/2;var c=(this.B-this.A)/2;this.o=b.Be()-a;this.v=b.Be()+a;this.A=b.nf()-c;this.B=b.nf()+c}else throw d.g.F();};l.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};l.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,
this.B);this.A=b;this.B=a}};l.prototype.Tn=function(b){b.ka(this.o,this.A)};l.prototype.TJ=function(b){b.ka(this.v,this.A)};l.prototype.WJ=function(b){b.ka(this.o,this.B)};l.prototype.Un=function(b){b.ka(this.v,this.B)};l.prototype.ZU=function(){return this.u()||this.o<=this.v&&this.A<=this.B};l.prototype.Wf=function(){return d.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};l.prototype.Yz=function(){return d.b.pa(this.o,this.A)};l.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&
a>=this.A&&a<=this.B;if(b instanceof d.Wa)return this.contains(b.Be(),b.nf());if(b instanceof d.b)return this.contains(b.x,b.y);if(b instanceof l)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw d.g.F();};l.prototype.Tm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof d.b)return this.Tm(b.x,b.y);if(b instanceof l)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw d.g.F();};l.prototype.Eb=function(b){return b==this?!0:b instanceof l?
this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};l.prototype.jc=function(){var b=this.o,b=d.J.truncate(b^b>>>32),a=d.J.dh(b),b=this.v,b=d.J.truncate(b^b>>>32),a=d.J.dh(b,a),b=this.A,b=d.J.truncate(b^b>>>32),a=d.J.dh(b,a),b=this.B,b=d.J.truncate(b^b>>>32);return a=d.J.dh(b,a)};l.prototype.Ny=function(b){var a=new d.b;a.L(b);if(a.Hy())return a;if(this.u())return a.dv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;
b=this.Wf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};l.prototype.Wu=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,c=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+c+this.B-b.y:b.y==this.A?2*a+c+this.v-b.x:this.Wu(this.Ny(b))};l.prototype.zE=function(b){if(this.u())return-1;b=this.Wu(b);var a=this.B-this.A,c=this.v-this.o;return b<a?0:(b-=a)<c?1:b-c<a?2:3};l.prototype.no=
function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};l.prototype.gz=function(b,a){var c=this.wk(b),e=this.wk(a);if(0!=(c&e))return 0;if(0==(c|e))return 4;var g=(0!=c?1:0)|(0!=e?2:0);do{var d=a.x-b.x,q=a.y-b.y;d>q?0!=(c&l.bd)?(0!=(c&l.Bb)?(b.y+=q*(this.o-b.x)/d,b.x=this.o):(b.y+=q*(this.v-b.x)/d,b.x=this.v),c=this.wk(b)):0!=(e&l.bd)?(0!=(e&l.Bb)?(a.y+=q*(this.o-a.x)/d,a.x=this.o):(a.y+=q*(this.v-a.x)/d,a.x=this.v),
e=this.wk(a)):0!=c?(0!=(c&l.tc)?(b.x+=d*(this.A-b.y)/q,b.y=this.A):(b.x+=d*(this.B-b.y)/q,b.y=this.B),c=this.wk(b)):(0!=(e&l.tc)?(a.x+=d*(this.A-a.y)/q,a.y=this.A):(a.x+=d*(this.B-a.y)/q,a.y=this.B),e=this.wk(a)):0!=(c&l.fe)?(0!=(c&l.tc)?(b.x+=d*(this.A-b.y)/q,b.y=this.A):(b.x+=d*(this.B-b.y)/q,b.y=this.B),c=this.wk(b)):0!=(e&l.fe)?(0!=(e&l.tc)?(a.x+=d*(this.A-a.y)/q,a.y=this.A):(a.x+=d*(this.B-a.y)/q,a.y=this.B),e=this.wk(a)):0!=c?(0!=(c&l.Bb)?(b.y+=q*(this.o-b.x)/d,b.x=this.o):(b.y+=q*(this.v-b.x)/
d,b.x=this.v),c=this.wk(b)):(0!=(e&l.Bb)?(a.y+=q*(this.o-a.x)/d,a.x=this.o):(a.y+=q*(this.v-a.x)/d,a.x=this.v),e=this.wk(a));if(0!=(c&e))return 0}while(0!=(c|e));return g};l.prototype.wk=function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};l.prototype.fh=function(b){return!this.u()&&(this.N()<=b||this.fa()<=b)};l.prototype.Cb=function(b){return b instanceof d.b?Math.sqrt(this.ZK(b)):Math.sqrt(this.Zx(b))};l.prototype.Zx=function(b){var a=0,c=0,e;e=this.o-
b.v;e>a&&(a=e);e=this.A-b.B;e>c&&(c=e);e=b.o-this.v;e>a&&(a=e);e=b.A-this.B;e>c&&(c=e);return a*a+c*c};l.prototype.ZK=function(b){var a=0,c=0,e;e=this.o-b.x;e>a&&(a=e);e=this.A-b.y;e>c&&(c=e);e=b.x-this.v;e>a&&(a=e);e=b.y-this.B;e>c&&(c=e);return a*a+c*c};l.prototype.Sn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};l.CO=function(b,a,c,e){var g=1;isNaN(b)||(g+=Math.abs(b));isNaN(a)||(g+=Math.abs(a));isNaN(c)||(g+=Math.abs(c));isNaN(e)||(g+=Math.abs(e));return 2.220446049250313E-14*g};l.Bb=1;l.tc=
4;l.bd=3;l.fe=12;return l}();d.h=f})(p||(p={}));(function(d){var f;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=
12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(f||(f={}));var l=function(){function b(a,c){this.Ci=a;this.pI=c}b.prototype.hs=function(a,c,b){this.Ci.DY(b,a,c,this.pI)};b.prototype.Qq=function(a){return this.Ci.Ms(a,this.pI)};return b}();f=function(){function b(){this.ax=this.bp=this.If=this.Bd=null;this.lr=new d.h;this.on=this.ck=this.dk=this.Qd=this.fg=this.Yd=
this.Qw=this.Uo=this.Ad=this.Lb=null;this.Zb=-1;this.ta=0;this.ql()}b.prototype.cs=function(){this.ql();this.Bw=!0;null==this.Lb?(this.Uo=new d.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.jd=function(a,c){if(!this.Bw)throw d.g.Da();var b=new d.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw d.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Pc=!1)};b.prototype.bL=function(){this.ql();this.Aw=!0;null==this.Lb?(this.Uo=new d.ia(0),
this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.ZE=function(a,c){if(!this.Aw)throw d.g.Da();var b=new d.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.tG=function(){if(!this.Aw)throw d.g.Da();this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Pc=!1)};b.prototype.aL=function(){this.ql();this.zw=!0;null==this.Ad?(this.Qw=new d.ia(0),this.Ad=[]):(this.Qw.yf(0),this.Ad.length=0)};b.prototype.VE=
function(a,c){if(!this.zw)throw d.g.Da();var b=new d.h;b.I(c);this.Qw.add(a);this.Ad.push(b)};b.prototype.sG=function(){if(!this.zw)throw d.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Pc=!1)};b.prototype.next=function(){if(this.Pc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.qA();break;case 1:a=this.mU();break;case 2:a=this.jU();break;case 3:a=this.lU();break;case 4:a=this.NY();
break;case 5:a=this.JY();break;case 6:a=this.KY();break;case 7:a=this.LY();break;case 8:a=this.by();break;case 9:a=this.FC();break;case 10:a=this.CA();break;case 11:a=this.cV();break;case 12:a=this.$U();break;case 13:a=this.aV();break;case 14:a=this.bV();break;case 15:a=this.$J();break;case 16:a=this.ZJ();break;default:throw d.g.za();}return this.Pc?!1:!0};b.prototype.yC=function(a){this.ta=a};b.prototype.eA=function(a){return this.Lb[a]};b.prototype.Iz=function(a){return this.Ad[a]};b.prototype.Ql=
function(a){return this.Uo.read(a)};b.prototype.Ml=function(a){return this.Qw.read(a)};b.JB=function(a){return 1==(a&1)};b.Gm=function(a){return 0==(a&1)};b.prototype.ql=function(){this.Bw=this.zw=this.Aw=!1;this.dg=this.eg=this.nh=this.Ne=-1;this.Pc=!0};b.prototype.qA=function(){this.bg=this.sg=-1;if(10>this.Lb.length)return this.Ne=this.Lb.length,this.Zb=5,!0;null==this.Bd&&(this.Bd=new d.ns(!0),this.bp=this.Bd.mf(),this.Yd=new d.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];
this.Bd.zs(c.o,c.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,2*this.Lb.length,!0);this.Ne=2*this.Lb.length;this.Zb=4;return!0};b.prototype.mU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new d.ns(!0),this.bp=this.Bd.mf(),this.Yd=new d.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();
this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,this.Yd.size,!0);this.Ne=this.Yd.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Zb=7;return this.ZJ()};b.prototype.jU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.If&&(this.If=new d.ns(!0),this.ax=this.If.mf(),this.fg=new d.ia(0));this.If.cs();for(var a=0;a<this.Ad.length;a++){var c=this.Ad[a];
this.If.zs(c.o,c.v)}this.If.yq();this.fg.yb(2*this.Ad.length);this.fg.resize(0);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.fg,this.fg.size,!1);this.nh=this.fg.size;-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return this.$J()};b.prototype.lU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new d.ns(!0),this.bp=this.Bd.mf(),this.Yd=new d.ia(0));null==this.If&&(this.If=
new d.ns(!0),this.ax=this.If.mf(),this.fg=new d.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.If.cs();for(a=0;a<this.Ad.length;a++)c=this.Ad[a],this.If.zs(c.o,c.v);this.If.yq();this.Yd.yb(2*this.Lb.length);this.fg.yb(2*this.Ad.length);this.Yd.resize(0);this.fg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.Yd,this.Yd.size,!0);this.yu(this.fg,this.fg.size,!1);this.Ne=this.Yd.size;
this.nh=this.fg.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return!0};b.prototype.NY=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;this.bp.dC(this.Lb[c].o,this.Lb[c].v,this.ta);this.sg=c;this.Zb=10;return!0};b.prototype.JY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.nh=this.sg=this.Ne;this.Zb=
13;return!0};b.prototype.KY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.sg=this.Ne;this.nh=this.Ad.length;this.Zb=14;return!0};b.prototype.LY=function(){var a=this.Yd.get(this.Ne-1),c=this.fg.get(this.nh-1),e=this.Ms(a,!0),g=this.Ms(c,!1);return e>g?this.by():e<g?this.FC():b.JB(a)?this.by():b.JB(c)?this.FC():this.by()};b.prototype.by=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return-1!=this.eg&&-1!=this.dk.get(c)?(this.Qd.kd(this.eg,this.dk.get(c)),this.dk.set(c,
-1)):this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.dg&&0<this.Qd.at(this.dg))for(a=this.Qd.xc(this.dg);-1!=a;){var e=this.Qd.getData(a);this.If.eh(e);this.ck.set(e,-1);e=this.Qd.nb(a);this.Qd.kd(this.dg,a);a=e}0<this.If.size()?(this.ax.dC(this.Lb[c].o,this.Lb[c].v,this.ta),this.sg=c,this.Zb=12):(-1==this.eg&&(null==this.Qd&&(this.Qd=new d.Xp),this.dk=new d.ia(0),this.dk.resize(this.Lb.length,-1),this.dk.Zh(-1,0,this.Lb.length),this.eg=this.Qd.mi(1)),this.dk.set(c,
this.Qd.addElement(this.eg,c)),this.Zb=7);return!0};b.prototype.FC=function(){var a=this.fg.get(--this.nh),c=a>>1;if(b.Gm(a))return-1!=this.dg&&-1!=this.ck.get(c)?(this.Qd.kd(this.dg,this.ck.get(c)),this.ck.set(c,-1)):this.If.remove(c),0==this.nh?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.eg&&0<this.Qd.at(this.eg))for(a=this.Qd.xc(this.eg);-1!=a;){var e=this.Qd.getData(a);this.Bd.eh(e);this.dk.set(e,-1);e=this.Qd.nb(a);this.Qd.kd(this.eg,a);a=e}0<this.Bd.size()?(this.bp.dC(this.Ad[c].o,this.Ad[c].v,
this.ta),this.bg=c,this.Zb=11):(-1==this.dg&&(null==this.Qd&&(this.Qd=new d.Xp),this.ck=new d.ia(0),this.ck.resize(this.Ad.length,-1),this.ck.Zh(-1,0,this.Ad.length),this.dg=this.Qd.mi(0)),this.ck.set(c,this.Qd.addElement(this.dg,c)),this.Zb=7);return!0};b.prototype.CA=function(){this.bg=this.bp.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=4;return!0};b.prototype.cV=function(){this.sg=this.bp.next();if(-1!=this.sg)return!1;this.bg=this.sg=-1;var a=this.fg.get(this.nh)>>
1;this.If.eh(a);this.Zb=7;return!0};b.prototype.$U=function(){this.bg=this.ax.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=7;return!0};b.prototype.aV=function(){if(-1==--this.nh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Lb[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.bV=function(){if(-1==--this.nh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Ad[this.nh];this.lr.O(this.ta,this.ta);
return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.$J=function(){if(null==this.Bd)return this.Pc=!0,!1;this.Ne=this.Yd.size;0<this.Bd.size()&&this.Bd.reset();-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Pc=!1;return!0};b.prototype.ZJ=function(){if(null==this.If)return this.Pc=!0,!1;this.nh=this.fg.size;0<this.If.size()&&this.If.reset();-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Pc=!1;return!0};b.prototype.yu=function(a,c,b){null==this.on&&(this.on=
new d.Hu);b=new l(this,b);this.on.sort(a,0,c,b)};b.prototype.DY=function(a,c,e,g){var d=this;a.Gd(c,e,function(a,c){var e=d.Ms(a,g),h=d.Ms(c,g);return e<h||e==h&&b.Gm(a)&&b.JB(c)?-1:1})};b.prototype.Ms=function(a,c){var e=.5*this.ta;if(c)return c=this.Lb[a>>1],e=b.Gm(a)?c.A-e:c.B+e;c=this.Ad[a>>1];return e=b.Gm(a)?c.A-e:c.B+e};return b}();d.fD=f})(p||(p={}));(function(d){var f=function(){function l(){}l.pa=function(b,a,c,e,g,d){var h=new l;h.o=b;h.A=a;h.Bf=c;h.v=e;h.B=g;h.$g=d;return h};l.prototype.Oa=
function(){this.Bf=this.o=NaN};l.prototype.u=function(){return isNaN(this.o)};l.prototype.QU=function(){return isNaN(this.Bf)};l.prototype.I=function(b,a,c,e,g,d){void 0!==e?"number"===typeof b?(this.o=b,this.A=a,this.Bf=c,this.v=e,this.B=g,this.$g=d):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.Bf=b.z-.5*e,this.$g=this.Bf+e):(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c)};l.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.Bf+=b.z;this.v+=b.x;this.B+=b.y;
this.$g+=b.z};l.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};l.prototype.ml=function(b,a,c){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.Bf)?this.Bf>c?this.Bf=c:this.$g<c&&(this.$g=c):this.$g=this.Bf=c};l.prototype.Nb=function(b,a,c,e,g,h){if("number"===typeof b)e?(this.Nb(b,a,c),this.Nb(e,g,h)):this.u()?(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c):this.ml(b,a,c);else if(b instanceof d.qd)this.Nb(b.x,b.y,b.z);
else if(b instanceof l)b.u()||(this.Nb(b.o,b.A,b.Bf),this.Nb(b.v,b.B,b.$g));else throw d.g.F();};l.prototype.pa=function(b,a,c){b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha,this.Bf=c.ca,this.$g=c.ha)};l.prototype.PB=function(b){if(null==b||8>b.length)throw d.g.F();b[0]=new d.qd(this.o,this.A,this.Bf);b[1]=new d.qd(this.o,this.B,this.Bf);b[2]=new d.qd(this.v,this.B,this.Bf);b[3]=new d.qd(this.v,this.A,this.Bf);b[4]=new d.qd(this.o,this.A,this.$g);b[5]=new d.qd(this.o,this.B,
this.$g);b[6]=new d.qd(this.v,this.B,this.$g);b[7]=new d.qd(this.v,this.A,this.$g)};l.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var c=b[a];this.ml(c.x,c.y,c.z)}}};return l}();d.dM=f})(p||(p={}));(function(d){(function(d){d.za=function(){var d=Error();d.message="Internal Error";return d};d.df=function(){var d=Error();d.message="Not Implemented";return d};d.vk=function(){var d=Error();d.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";
return d};d.Da=function(){var d=Error();d.message="Invalid Call";return d};d.F=function(d){var b=Error();b.message="Illegal Argument Exception";void 0!==d&&(b.message+=": "+d);return b};d.TN=function(){var d=Error();d.message="Runtime Exception.";return d};d.X=function(d){var b=Error();b.message="Geometry Exception: "+d;return b};d.JL=function(){var d=Error();d.message="Assert Failed Exception";return d};d.wd=function(){var d=Error();d.message="IndexOutOfBoundsException";return d};d.n_=function(d){d.message=
"UserCancelException";return d}})(d.g||(d.g={}))})(p||(p={}));(function(d){d=d.Om||(d.Om={});d[d.forward=0]="forward";d[d.reverse=1]="reverse"})(p||(p={}));(function(d){var f=function(){function a(a,b){this.$a=a;this.VI=b;this.ZI=-1;this.Wl=!1}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(++this.ZI==this.VI.D())return null;var a=this.VI.Ba(this.ZI);a.scale(this.$a.mc);var b=new d.Ja;this.$a.Yy(a,this.Wl,b);return b};a.prototype.Ia=function(){return 0};return a}(),l=function(){function a(a,
b,g){this.$a=a;this.ex=b;this.Mo=!1;this.So=g;this.Pw=[0];this.Uk=[0];this.gk=[0];this.Ct=[0];this.Wl=!1;this.fr=new d.Ja;this.Wk=[]}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(this.Mo){this.Mo=!1;this.Cd.ba();var a=d.T.oe(this.fr);return a=d.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)}null==this.Cd&&(this.Cd=this.ex.Fa(),this.Cd.Ya(),null!=this.So&&this.So.Bl(null,0));if(!this.Cd.Ea()){if(!this.Cd.Ya())return null;null!=this.So&&this.So.Bl(null,0)}a=null;this.Uk[0]=0;this.lB=this.Pw[0]=
0;this.Di=NaN;this.Mo=!1;for(var e=this.Wk.length=0,g=new d.b,h=new d.b,q=[0];this.Cd.Ea()&&8>this.lB;){var u=this.Cd.ba();g.L(u.ec());h.L(u.Cc());g.scale(this.$a.mc);h.scale(this.$a.mc);d.Ej.Bv(g,h)?g.x=h.x:d.Ej.zv(g,h)&&(h.x=g.x);this.Wk.length=0;d.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,g,h,this.$a.vB,this.$a.Tt,q,this.gk,this.Ct,this.Wk,this.Pw);null!=this.So&&(u=this.Wk.slice(0),this.So.EH(this.So.aa()-1,u,u.length-1));d.Ej.Av(g,h)?(this.fr.Oa(),this.$a.Yy(g,this.Wl,this.fr),this.Mo=!0):(this.fr.Oa(),
this.Mo=this.dz(q[0],this.fr));if(this.Mo){this.Cd.Li();if(this.Cd.oA()){this.Cd.Li();this.Cd.ba();break}this.Cd.zX();break}null==a&&(a=new d.Ja,a.Bl(null,0));this.dF(a);e++}this.Pw[0]=0;if(0<e){for(q=this.Cd.Db();0<e;)this.Cd.Li(),g.L(this.ex.Ba(this.Cd.Db())),h.L(this.ex.Ba(this.Cd.Jk())),g.scale(this.$a.mc),h.scale(this.$a.mc),this.Wl&&(d.Ej.Bv(g,h)?g.x=h.x:d.Ej.zv(g,h)&&(h.x=g.x)),this.Wk.length=0,d.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,h,g,this.$a.vB,this.$a.Tt,null,this.gk,this.Ct,this.Wk,
this.Pw),this.dF(a),e--;g.L(this.ex.Ba(this.Cd.Db()));g.scale(this.$a.mc);b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,g,this.Di+1.570796326794897,this.Di+4.71238898038469,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN);this.Cd.Tb(q);this.Cd.ba();e=d.na.ah(null,a,!0);return a=d.Dg.ol(a,e,!0,!0,this.$a.lc)}this.Mo=!1;this.Cd.ba();a=d.T.oe(this.fr);return a=d.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)};a.prototype.dF=function(a){var c=this.Wk[0],g,h=this.gk[0]-1.570796326794897,q=this.Ct[0]+1.570796326794897,u;
if(!isNaN(this.Di)){this.Di>=this.gk[0]?(g=this.Di+1.570796326794897,h=g+3.141592653589793-(this.Di-this.gk[0])):(g=this.Di+1.570796326794897,h=g+3.141592653589793-(6.283185307179586-(this.gk[0]-this.Di)));u=this.Di>=this.gk[0]&&3.141592653589793>=this.Di-this.gk[0]?!1:this.Di<this.gk[0]&&3.141592653589793<=this.gk[0]-this.Di?!1:!0;var l=!1;if(Math.abs(h-g)<=.5*this.$a.Qo)if(u){var f=a.Ba(a.D()-2);f.scale(this.$a.mc);var k=new d.ea(0);d.mb.Fz(this.$a.Vb,this.$a.rc,c.x,c.y,f.x,f.y,k);for(f=k.j;f<=
g;)f+=6.283185307179586;for(;f>g;)f-=6.283185307179586;f<h&&(l=!0)}else l=!0;l?(a.cC(0,a.D()-1),this.Wl||(c=new d.b,c.L(a.Ba(a.D()-1)),c.scale(this.$a.mc),-3.141592653589793>c.x-this.Uk[0]?this.Uk[0]-=6.283185307179586:3.141592653589793<c.x-this.Uk[0]&&(this.Uk[0]+=6.283185307179586)),u||(h=.5*(h+g))):(u?(g=new d.b,g.L(c),g.scale(1/this.$a.mc),a.Zf(0,-1,g)):b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,this.Wk[0],g,h,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN),this.lB+=1)}b.Xy(this.$a.Vb,this.$a.rc,
this.$a.mc,this.$a.vb,this.$a.$e,this.Wk,h,q,this.Wl,this.Uk,a);this.Di=this.Ct[0]};a.prototype.dz=function(a,b){return this.$a.dz(this.Wk,a,this.gk[0],this.Ct[0],this.Wl,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(c,b,g,h,q,u){if(null==c)throw d.g.F("Geometry::Geodesic_bufferer::buffer");if(c.u())return new d.Ja(c.description);var e=new a;e.mh=b;e.Qc=d.fb.kc(b);var l=d.fb.hw(e.Qc);e.lc=u;e.Vb=d.fb.Sv(e.Qc);e.rc=l*(2-l);e.mc=e.Qc.Nd().Ai;e.ta=e.mh.Bo();
e.pr=e.Qc.Bo();e.Tt=e.pr*e.mc;e.or=1.570796326794897/e.mc;e.E_=3.141592653589793/e.mc;e.Et=6.283185307179586/e.mc;e.F_=e.Et/6;e.qB=0;e.D_=1.5707963267948966*e.Vb/e.qB;4==g?(e.$e=2,e.Jw=!0):(e.$e=g,e.Jw=!1);e.Qa=h;e.vb=Math.abs(h);isNaN(q)||.001>q?e.sY():e.Po=q;g=c.G();d.T.Oc(g)?(g=new d.Ua(c.description),g.dc(c,!0),c=g,g=1607):197==g&&(g=new d.h,c.s(g),g.N()<=e.ta||g.fa()<=e.ta?(g=new d.Ua(c.description),g.jd(c,!1),c=g,g=1607):(g=new d.Ja(c.description),g.jd(c,!1),c=g,g=1736));e.tY();d.T.Jo(g)||e.uY();
if(e.vb<=.5*e.Po)return 1736!=g?new d.Ja(c.description):e.Jw?c:d.Ej.Ls(c,e.mh,e.$e,e.vB,-1,u);if(0>e.Qa&&1736!=g)return new d.Ja(c.description);e.Jw&&d.T.Ic(g)?(b=d.Ej.Ls(c,b,4,NaN,e.Po,u),c=d.fb.Xg(b,e.mh,e.Qc,u)):c=d.fb.Xg(c,e.mh,e.Qc,u);c=d.gi.Mj(c,e.Qc);if(c.u())return new d.Ja(c.description);!e.Jw&&d.T.Ic(g)&&(c=d.Ej.zJ(e.mc,c));c=a.mQ(c,e.Qc);switch(g){case 1736:u=e.XP(c);break;case 1607:u=e.YP(c);break;case 550:u=e.VP(c);break;case 33:u=e.WP(c);break;default:throw d.g.X("corrupted_geometry");
}e=d.fb.Xg(u,e.Qc,e.mh,e.lc);e.om(c.description);return e};a.prototype.XP=function(a){var c=new d.Ja;a=new l(this,a,c);a=d.ei.local().V(a,this.Qc,this.lc).next();a=d.Vp.Nj(a,this.Qc,2);var b=new d.Hd;b.scale(1/this.mc,1/this.mc);c.Xc(b);c=d.Vp.Nj(c,this.Qc,2);return 0<=this.Qa?d.ei.local().V(c,a,this.Qc,this.lc):d.cq.local().V(c,a,this.Qc,this.lc)};a.prototype.YP=function(a){a=new l(this,a,null);a=d.ei.local().V(a,this.Qc,this.lc).next();return a=d.Vp.Nj(a,this.Qc,2)};a.prototype.VP=function(a){a=
new f(this,a);a=d.ei.local().V(a,this.Qc,this.lc).next();return a=d.Vp.Nj(a,this.Qc,2)};a.prototype.WP=function(a){a=a.w();a.scale(this.mc);var c=new d.Ja;this.Yy(a,!1,c);return c=d.Vp.Nj(c,this.Qc,2)};a.prototype.dz=function(c,b,g,h,q,u){var e=c[0],l=c[c.length-1],f=e.y>l.y?e.y:l.y,k=d.C.q(this.Vb,this.rc,e.y<l.y?e.y:l.y),f=d.C.q(this.Vb,this.rc,f);if(.001<this.qB-(k+b+this.vb)&&.001<this.qB+(f-b-this.vb))return!1;b=g-1.570796326794897;g=h+1.570796326794897;var k=b-3.141592653589793,f=b+3.141592653589793,
m=g+3.141592653589793,n=[NaN],p=[NaN],r=[NaN],t=[NaN];h=!1;a.zD(this.Vb,this.rc,this.vb,e,b,k,l,g,n,p);a.zD(this.Vb,this.rc,this.vb,l,m,g,e,k,r,t);g<n[0]&&n[0]<m?h=!0:g<p[0]&&p[0]<m&&(h=!0);h||(k<r[0]&&r[0]<b?h=!0:k<t[0]&&t[0]<b&&(h=!0));if(!h&&q)return!1;for(var A=[],z=c.length-1;0<=z;z--)A.push(c[z]);u.Oa();u.Bl(null,0);z=[0];a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,c,b,g,q,z,u);a.Fs(this.Vb,this.rc,this.mc,this.vb,l,g,m,this.Qo,q,z,u,n[0],p[0]);a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,
A,m,f,q,z,u);a.Fs(this.Vb,this.rc,this.mc,this.vb,e,k,b,this.Qo,q,z,u,r[0],t[0]);c=!1;q||(c=this.OF(this.mc,u));return h||c};a.prototype.Yy=function(c,b,d){d.Oa();d.Bl(null,0);a.Fs(this.Vb,this.rc,this.mc,this.vb,c,-this.Qo,6.283185307179586,this.Qo,b,[0],d,NaN,NaN);b||this.OF(this.mc,d)};a.prototype.OF=function(a,b){var c=this.yQ(a,b);a=this.zQ(a,b);return c||a};a.prototype.yQ=function(a,b){var c=b.D(),e=!1,q=new d.h;b.s(q);if(!d.l.W(q.B*a,1.570796326794897)&&!d.l.W(q.A*a,-1.570796326794897))return!1;
for(var u=new d.b,c=c-1;0<=c;c--)b.w(c,u),u.y==q.B&&d.l.W(u.y*a,1.570796326794897)?(e=!0,this.IJ(u,c,b)):u.y==q.A&&d.l.W(u.y*a,-1.570796326794897)&&(e=!0,this.IJ(u,c,b));return e};a.prototype.zQ=function(a,b){var c=b.Ba(0),e=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(c.x-e.x)*a?(this.NW(b),!0):this.xQ(b)};a.prototype.xQ=function(a){return 0>a.hf()?(this.MW(a),!0):!1};a.prototype.IJ=function(a,b,g){var c=g.D(),e=0<b?b-1:c-1,c=g.Ba(b<c-1?b+1:0),e=g.Ba(e);if(!d.l.W(c.y,a.y)&&!d.l.W(c.x,a.x)){var u=
new d.b;u.ka(c.x,a.y);g.rb(b,u)}d.l.W(e.y,a.y)||d.l.W(e.x,a.x)||(c=new d.b,c.ka(e.x,a.y),g.Zf(0,b,c))};a.prototype.NW=function(a){var c=new d.Ja,b=new d.Ja,h=new d.Hd,q=a.Ba(0),u=a.Ba(a.D()-1),l=new d.b;q.x>u.x?(u=this.or,h.Ag(-this.Et,0)):(u=-this.or,h.Ag(this.Et,0));c.add(a,!1);a.Oa();b.add(c,!1);b.Xc(h);q=new d.h;b.s(q);q.O((this.Et-q.N())/2,0);q.A=-this.or;q.B=this.or;for(var f=0;f<b.D();f++)b.w(f,l),c.Zf(0,-1,l);b.Xc(h);for(f=0;f<b.D();f++)b.w(f,l),c.Zf(0,-1,l);b=c.Ba(0);h=c.Ba(c.D()-1);l.ka(h.x,
u);c.Zf(0,-1,l);l.ka(.5*(h.x+b.x),u);c.Zf(0,-1,l);l.ka(b.x,u);c.Zf(0,-1,l);c=d.gi.ht(c,this.Qc,2,!0,q.o);c=d.gi.ht(c,this.Qc,2,!0,q.v);c=d.ne.clip(c,q,this.pr,NaN);a.add(c,!1)};a.prototype.MW=function(a){var c=new d.h;a.s(c);c.O((this.Et-c.N())/2,0);c.A=-this.or;c.B=this.or;a.Bl(null,0);var b=new d.b;b.ka(c.o,c.A);a.Zf(1,-1,b);b.ka(c.o,c.B);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.B);a.Zf(1,-1,b);b.ka(c.v,c.B);a.Zf(1,-1,b);b.ka(c.v,c.A);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.A);a.Zf(1,-1,b)};a.Xy=function(c,b,
g,h,q,u,l,f,k,m,n){var e=null;k||(e=new d.b,e.$c(),0<n.D()&&(e.L(n.Ba(n.D()-1)),e.scale(g)));var y=new d.ea(0),p=new d.ea(0),P=new d.ea(0),N=new d.b,r=new d.b,K=u[u.length-1];g=1/g;for(var t=0;t<u.length;t++){var Q=u[t],A;0==t?A=l:t==u.length-1?A=f:(d.mb.Ld(c,b,K.x,K.y,Q.x,Q.y,null,null,y,q),A=y.j-1.570796326794897);d.mb.Xi(c,b,Q.x,Q.y,h,A,p,P);k?r.ka(p.j,P.j):(N.ka(p.j,P.j),a.LF(Q.x,N.x,e.x,m),r.ka(m[0]+N.x,N.y),e.L(r));r.scale(g);n.Zf(0,-1,r)}};a.Fs=function(c,b,g,h,q,u,l,f,k,m,n,p,r){if(!(l-u<
f)){var e=new d.ea(0),y=new d.ea(0),P=new d.b,N=new d.b,K=null;k||(K=new d.b,K.$c(),0<n.D()&&(K.L(n.Ba(n.D()-1)),K.scale(g)));var t=d.J.truncate(Math.ceil(u/f)),Q=t++*f;Q==u&&(Q=t++*f);for(g=1/g;Q<l+f;){u<p&&p<Q?(Q=p,t--):u<r&&r<Q&&(Q=r,t--);if(Q>=l)break;d.mb.Xi(c,b,q.x,q.y,h,Q,e,y);k?N.ka(e.j,y.j):(P.ka(e.j,y.j),a.LF(q.x,P.x,K.x,m),N.ka(m[0]+P.x,P.y),K.L(N));N.scale(g);n.Zf(0,-1,N);u=Q;Q=t++*f}}};a.zD=function(a,b,g,h,q,u,l,f,k,m){var c=new d.b,e=new d.b,y=new d.ea(0),n=new d.ea(0);d.mb.Xi(a,b,
h.x,h.y,g,q,y,n);c.ka(y.j,n.j);d.mb.Xi(a,b,h.x,h.y,g,u,y,n);e.ka(y.j,n.j);g=new d.ea(0);d.mb.Fz(a,b,l.x,l.y,c.x,c.y,g);k[0]=g.j;d.mb.Fz(a,b,l.x,l.y,e.x,e.y,g);for(m[0]=g.j;k[0]<=m[0];)k[0]+=6.283185307179586;for(;k[0]>m[0];)k[0]-=6.283185307179586;for(;k[0]>=f;)k[0]-=6.283185307179586,m[0]-=6.283185307179586;for(;k[0]<f;)k[0]+=6.283185307179586,m[0]+=6.283185307179586};a.LF=function(a,b,d,h){if(isNaN(d)){for(;3.141592653589793<h[0]+b-a;)h[0]-=6.283185307179586;for(;3.141592653589793<a-(h[0]+b);)h[0]+=
6.283185307179586}else 3.141592653589793<h[0]+b-d?h[0]-=6.283185307179586:3.141592653589793<d-(h[0]+b)&&(h[0]+=6.283185307179586)};a.mQ=function(a,b){var c=a.G(),e;d.T.Ic(c)?e=a.aa():550==c?e=a.D():e=1;if(1==e)return a;var q=new d.ia(0);q.resize(e);for(var u=[],l=new d.h,f=0;f<e;f++){q.write(f,f);var k;d.T.Ic(c)?(a.jk(f,l),k=l.Wf()):k=a.Ba(f);k=d.sM.TY(b,k);u[f]=k}q.Gd(0,q.size,function(a,c){return u[a]<u[c]?-1:u[a]>u[c]?1:0});l=a.Ka();for(f=0;f<e;f++)k=q.read(f),d.T.Ic(c)?l.Ti(a,k,!0):l.Id(a,k,k+
1);return l};a.prototype.tY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new d.b;b.ka(0,10*this.mc);var g=45*this.mc,h=new d.ea(0),q=new d.ea(0),u=new d.ea(0),l=new d.ea(0),f=new d.ea(0),k=new d.ea(0),m=new d.ea(0),n=new d.ea(0),p=new d.b,r=new d.b,t=new d.b,A=new d.b;d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,0,h,q);p.ka(h.j,q.j);d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,g,u,l);r.ka(u.j,l.j);for(var h=new d.ea(0),q=new d.ea(0),z=new d.ea(0);;){d.mb.Xi(this.Vb,
this.rc,b.x,b.y,a,.5*(0+g),f,k);t.ka(f.j,k.j);d.mb.Ld(this.Vb,this.rc,p.x,p.y,r.x,r.y,h,q,null,2);d.mb.Oj(this.Vb,this.rc,p.x,p.y,.5*h.j,q.j,m,n,2);A.ka(m.j,n.j);d.mb.Ld(this.Vb,this.rc,t.x,t.y,A.x,A.y,z,null,null,2);if(z.j<=this.Po)break;g*=.9;d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,g,u,l);r.ka(u.j,l.j)}this.Qo=6.283185307179586/Math.ceil(6.283185307179586/(g-0))};a.prototype.uY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new d.b,g=new d.b;
b.ka(0,10*this.mc);g.ka(10*this.mc,10*this.mc);var h=new d.ea(0),q=new d.ea(0),u=new d.ea(0);d.mb.Ld(this.Vb,this.rc,b.x,b.y,g.x,g.y,u,h,q,this.$e);var l=new d.ea(0),f=new d.ea(0),k=new d.ea(0),m=new d.ea(0),n=new d.b,p=new d.ea(0),r=new d.ea(0),t=new d.ea(0),A=new d.ea(0),z=new d.ea(0),v=new d.ea(0),x=new d.ea(0),w=new d.ea(0),B=new d.ea(0),C=new d.b,D=new d.b,E=new d.b,F=new d.b,G=1,h=h.j,q=q.j+1.570796326794897,u=u.j;d.mb.Xi(this.Vb,this.rc,b.x,b.y,a,h-1.570796326794897,r,t);C.ka(r.j,t.j);d.mb.Xi(this.Vb,
this.rc,g.x,g.y,a,q,A,z);D.ka(A.j,z.j);for(var r=new d.ea(0),t=new d.ea(0),q=new d.ea(0),I=new d.ea(0);;){d.mb.Oj(this.Vb,this.rc,b.x,b.y,.5*(0+G)*u,h,l,f,this.$e);n.ka(l.j,f.j);d.mb.Ld(this.Vb,this.rc,b.x,b.y,n.x,n.y,null,null,p,this.$e);d.mb.Xi(this.Vb,this.rc,n.x,n.y,a,p.j+1.570796326794897,v,x);E.ka(v.j,x.j);d.mb.Ld(this.Vb,this.rc,C.x,C.y,D.x,D.y,r,t,null,2);d.mb.Oj(this.Vb,this.rc,C.x,C.y,.5*r.j,t.j,w,B,2);F.ka(w.j,B.j);d.mb.Ld(this.Vb,this.rc,E.x,E.y,F.x,F.y,q,null,null,2);if(q.j<=this.Po)break;
G*=.9;d.mb.Oj(this.Vb,this.rc,b.x,b.y,G*u,h,k,m,this.$e);g.ka(k.j,m.j);d.mb.Ld(this.Vb,this.rc,b.x,b.y,g.x,g.y,null,null,I,this.$e);d.mb.Xi(this.Vb,this.rc,g.x,g.y,a,I.j+1.570796326794897,A,z);D.ka(A.j,z.j)}a=G*u;1E5<a&&(a=1E5);this.vB=a};a.prototype.sY=function(){var a;a=5E4<this.vb?100:1E4<this.vb?10:1;500>this.vb/a&&(a=this.vb/500);.01>a&&(a=.01);this.Po=a};return a}();d.rM=b})(p||(p={}));(function(d){var f=function(){function l(){}l.tc=function(b,a){var c=new d.b;c.L(a);b.push(c)};l.rk=function(b,
a){b.add(a.x);b.add(a.y)};l.YC=function(b){b.yf(b.size-2)};l.oy=function(b,a){a.ka(b.get(b.size-2),b.get(b.size-1))};l.Ls=function(b,a,c,e,g,h){if(null==b)throw d.g.F();var q=b.G();if(b.u()||d.T.Jo(q))return b;var u=new l;u.mh=a;u.Qc=d.fb.kc(a);var f=d.fb.hw(u.Qc);u.lc=h;u.Vb=d.fb.Sv(u.Qc);u.rc=f*(2-f);u.mc=u.Qc.Nd().Ai;u.pr=u.Qc.Bo();u.Tt=u.pr*u.mc;u.gB=e;u.fB=g;u.$e=c;197==q?(c=new d.Ja(b.description),c.jd(b,!1)):d.T.Oc(q)?(c=new d.Ua(b.description),c.dc(b,!0)):c=b;if(4!=u.$e){a=0==u.mh.Eb(u.Qc)?
d.fb.Xg(c,u.mh,u.Qc,h):d.gi.Mj(c,u.Qc);if(a.u())return a;a=l.zJ(u.mc,a);a=u.Gz(a);a=d.Vp.Nj(a,u.Qc,u.$e);u=d.fb.Xg(a,u.Qc,u.mh,h)}else{2==d.Sd.Fb(a)?(b=d.fb.Mk(a),h=d.tk.local().V(c,b,a,h),h==b&&(h=new d.Ja,b.copyTo(h))):h=d.gi.Mj(c,u.Qc);a=h;if(a.u())return a;u=u.wY(a)}return u};l.zJ=function(b,a){var c=new d.h;a.ac(c);if(3.141592653589793>c.N()*b)return a;for(var e=!1,c=a.Fa(),g=new d.b,h=new d.b;c.Ya();)for(;c.Ea();){var q=c.ba();g.L(q.ec());h.L(q.Cc());g.scale(b);h.scale(b);if(3.141592653589793<
Math.abs(g.x-h.x)){var u=l.Av(g,h);if(!u){e=!0;break}if(6.283185307179586<Math.abs(g.x-h.x)){e=!0;break}}}if(!e)return a;var e=a.Ka(),f=1<a.description.Ga,k=new d.b,m=new d.b,n=new d.b,p=new d.b,r=new d.Wa;for(c.yj();c.Ya();)for(var t=NaN,A=[0];c.Ea();){q=c.ba();g.L(q.ec());h.L(q.Cc());g.scale(b);h.scale(b);isNaN(t)?(l.fe(g.x,NaN,A),m.L(g)):m.L(n);t=m.x;if(u=l.Av(g,h)){if(6.283185307179586<h.x-g.x)for(;6.283185307179586<h.x-g.x;)h.x-=6.283185307179586;if(-6.283185307179586>h.x-g.x)for(;-6.283185307179586>
h.x-g.x;)h.x+=6.283185307179586;l.fe(h.x,NaN,A);n.L(h)}else k.L(h),l.VM(k),l.fe(k.x,t,A),n.ka(A[0]+k.x,k.y);.5>Math.abs(n.x-h.x)&&n.L(h);f?(q.Fx(0,r),p.L(m),p.scale(1/b),r.rb(p),(u=c.jn())?e.Rf(r):e.lineTo(r),c.Io()&&!a.Qb(c.Ta)&&(q.Fx(1,r),p.L(n),p.scale(1/b),r.rb(p),e.lineTo(r))):((u=c.jn())&&e.rA(null,0),q=e.aa()-1,p.L(m),p.scale(1/b),e.Zf(q,-1,p),c.Io()&&!a.Qb(c.Ta)&&(p.L(n),p.scale(1/b),e.Zf(q,-1,p)))}return e};l.GG=function(b,a,c,e,g,h,q,u,f,k,m,n){var y=new d.b,p=new d.b,P=0<e.compare(g);l.qF(P,
e,g,y,p);l.vG(b,a,c,y,p,h,NaN,q,u,f,k,null,m,n);P&&l.qy(f,k,null,m)};l.prototype.Gz=function(b){var a=b.Ka(),c=b.Fa(),e=[],g=null,h=null,q=1<b.description.Ga;q&&(g=new d.Rd(0),h=new d.Cg);for(var u=[0],f=new d.b,k=new d.b,m=new d.b,n=new d.b;c.Ya();)for(u[0]=0;c.Ea();){var p=c.ba();f.L(p.ec());k.L(p.Cc());f.scale(this.mc);k.scale(this.mc);var r=0<f.compare(k);l.qF(r,f,k,m,n);e.length=0;null!=g&&g.yf(0);0<this.gB?l.vG(this.Vb,this.rc,this.$e,m,n,this.gB,this.fB,this.Tt,null,null,null,q?g:null,e,u):
l.RV(this.Vb,this.rc,this.$e,m,n,this.fB,this.Tt,q?g:null,e,u);r&&l.qy(null,null,q?g:null,e);e[0].L(p.ec());e[e.length-1].L(p.Cc());for(var t=1;t<e.length-1;t++)e[t].scale(1/this.mc);q?(r=l.SE(r,p,h),l.iE(c.jn(),c.Io()&&!b.Qb(c.Ta),p,r,g,e,a)):l.gE(c.jn(),c.Io()&&!b.Qb(c.Ta),e,a)}return a};l.prototype.wY=function(b){var a=b.Ka(),c=b.Fa(),e=[],g=null,h=new d.Cg,q=1<b.description.Ga;for(q&&(g=new d.Rd(0));c.Ya();)for(;c.Ea();){var u=c.ba(),f=u.ec(),k=u.Cc(),f=0<f.compare(k),k=l.SE(f,u,h);e.length=0;
null!=g&&g.yf(0);l.FL(this.Vb,this.rc,this.mc,k,this.mh,this.gB,this.fB,q?g:null,e);f&&l.qy(null,null,q?g:null,e);q?l.iE(c.jn(),c.Io()&&!b.Qb(c.Ta),u,k,g,e,a):l.gE(c.jn(),c.Io()&&!b.Qb(c.Ta),e,a)}return a};l.gE=function(b,a,c,e){b&&e.rA(null,0);b=e.aa()-1;var d=c.slice(0);e.EH(b,d,d.length-1);a&&e.Zf(b,-1,c[c.length-1])};l.iE=function(b,a,c,e,g,h,q){var u=new d.Wa;c.Dp(u);b?q.Rf(u):q.lineTo(u);if(2<h.length){b=e.Rb();for(var l=1;l<h.length-1;l++){var f=e.bI(g.get(l)*b);e.Fx(f,u);u.rb(h[l]);q.lineTo(u)}}a&&
(c.Bp(u),q.lineTo(u))};l.vG=function(b,a,c,e,g,h,q,u,f,k,m,n,p,r){var y=new d.ea(0),P=new d.ea(0),N=new d.ea(0);d.mb.Ld(b,a,e.x,e.y,g.x,g.y,N,y,P,c);var N=N.j,t=y=y.j,P=P.j;0>t&&(t+=6.283185307179586);0>P&&(P+=6.283185307179586);null!=f&&(f[0]=N);null!=k&&(k[0]=t);null!=m&&(m[0]=P);k=f=NaN;null!=n&&(k=d.C.Yg(b,a),m=d.C.q(b,a,e.y),f=(k-m)/N,k=(k+m)/N);m=l.Bv(e,g);var P=l.zv(e,g),t=m||P,K=l.tE(e,g,u),Q=new d.ea(0),A=new d.ea(0),z=new d.b,fa=new d.b,v=new d.b;l.fe(e.x,NaN,r);var x=[r[0]];if(N<=h)l.tc(p,
e),l.fe(g.x,NaN,r),null!=n&&n.add(0),t?(m&&l.my(e,g,n,p),P&&l.iy(e,g,n,p)):K?l.ly(e,g,y,f,k,n,p):0<q&&(fa.ka(e.x-x[0],e.y),z.ka(g.x-r[0],g.y),l.FA(b,a,c,e,N,y,fa,z,0,1,q,n,p,x)),l.tc(p,g);else{h=1+d.J.truncate(Math.ceil(N/h));var w=N/(h-1),B=new d.b,C=0;l.tc(p,e);B.L(e);fa.ka(e.x-r[0],e.y);null!=n&&n.add(0);for(var D=1;D<h;D++){var E;D<h-1?(d.mb.Oj(b,a,e.x,e.y,D*w,y,Q,A,c),z.ka(Q.j,A.j),l.fe(z.x,B.x,r),v.ka(r[0]+z.x,z.y),E=D/(h-1)):(l.fe(g.x,NaN,r),z.ka(g.x-r[0],g.y),v.L(g),E=1);t?(1==D&&m&&l.my(e,
v,n,p),D==h-1&&P&&l.iy(B,g,n,p)):K?l.rE(B,v,u)&&(e.x<g.x?B.x>v.x&&(r[0]+=6.283185307179586,v.ka(r[0]+z.x,z.y)):B.x<v.x&&(r[0]-=6.283185307179586,v.ka(r[0]+z.x,z.y)),l.ly(B,v,y,f,k,n,p)):0<q&&l.FA(b,a,c,e,N,y,fa,z,C,E,q,n,p,x);l.tc(p,v);null!=n&&n.add(E);B.L(v);fa.L(z);x[0]=r[0];C=E}}};l.RV=function(b,a,c,e,g,h,q,u,f,k){var y=new d.ea(0),m=new d.ea(0),n=new d.ea(0);d.mb.Ld(b,a,e.x,e.y,g.x,g.y,n,y,m,c);var m=n.j,y=y.j,p=n=NaN;if(null!=u)var p=d.C.Yg(b,a),P=d.C.q(b,a,e.y),n=(p-P)/m,p=(p+P)/m;var P=l.Bv(e,
g),r=l.zv(e,g),t=P||r;q=l.tE(e,g,q);var A=l.Av(e,g),A=t||q||A;l.fe(e.x,NaN,k);var z=new d.b;l.tc(f,e);z.L(e);null!=u&&u.add(0);A?(t?(P&&l.my(e,g,u,f),r&&l.iy(e,g,u,f)):q&&l.ly(e,g,y,n,p,u,f),l.fe(g.x,NaN,k),l.tc(f,g)):m<=h?(l.fe(g.x,NaN,k),l.tc(f,g)):(n=new d.b,q=new d.b,n.L(e),q.L(g),n.x-=k[0],q.x-=k[0],-3.141592653589793>q.x?q.x+=6.283185307179586:3.141592653589793<q.x&&(q.x-=6.283185307179586),l.FA(b,a,c,e,m,y,n,q,0,1,h,u,f,k),l.tc(f,g),l.fe(g.x,NaN,k));null!=u&&u.add(1)};l.FA=function(b,a,c,e,
g,h,q,u,f,k,m,n,p,r){var y=new d.b,P=new d.b;y.ka(q.x+r[0],q.y);new d.ea(0);new d.ea(0);new d.ea(0);new d.ea(0);var N=new d.ea(0),t=new d.ea(0),K=new d.ea(0),Q=new d.b,A=new d.b,z=new d.b,v=new d.b;Q.L(q);A.L(u);q=new d.Rd(0);u=new d.Rd(0);l.rk(q,A);u.add(k);var fa=new d.b,x=new d.Hb,w=[];for(l.rG(4,w);0<q.size;){for(var B=!1,C,D=NaN,E=0;3>E;E++)if(C=w[E]*k+(1-w[E])*f,d.mb.Oj(b,a,e.x,e.y,C*g,h,N,t,c),z.ka(N.j,t.j),0==E&&(D=C,v.L(z)),l.xO(Q,z,A,x),x.gc(x.pe(z,!0),fa),d.mb.Ld(b,a,z.x,z.y,fa.x,fa.y,
K,null,null,2),K.j>m){B=!0;break}B?(A.L(v),k=D,l.rk(q,A),u.add(k)):(l.YC(q),u.Fk(u.size-1,1,u.size-1),0<q.size&&(l.fe(A.x,y.x,r),P.ka(r[0]+A.x,A.y),l.tc(p,P),y.L(P),null!=n&&n.add(k),Q.L(A),f=k,l.oy(q,A),k=u.get(u.size-1)))}};l.FL=function(b,a,c,e,g,h,q,u,f){var y=new d.b,k=new d.b,m=new d.b,n=new d.b,p=new d.b,r=new d.b,t=new d.b,A=new d.b,z=new d.b,v=new d.b,x=new d.ea(0),w=new d.ea(0),B=new d.b,C=[[],[]],D=1==d.Sd.Fb(g);g=g.re(0);var E=e.ec(),F=e.Cc();D?(r.ka(E.x*c,E.y*c),t.ka(F.x*c,F.y*c)):(C[0][0]=
E.x,C[0][1]=E.y,C[1][0]=F.x,C[1][1]=F.y,d.fb.lu(),r.x=C[0][0]*c,r.y=C[0][1]*c,t.x=C[1][0]*c,t.y=C[1][1]*c);var G=0,I=0,H=1,R=e.Go();y.L(E);k.L(F);var F=new d.Rd(0),M=new d.Rd(0),J=new d.Rd(0);l.rk(F,k);l.rk(M,t);J.add(H);l.tc(f,y);null!=u&&u.add(I);var L=[],V;V=0<q?R?5:3:R?5:1;l.rG(V,L);for(var O=new d.ea(0),U=new d.ea(0),S=new d.ea(0),T=new d.ea(0),aa=new d.ea(0),ea=new d.ea(0),Z=new d.ea(0);0<M.size;){var X=!1,Y,W=NaN;d.mb.Ld(b,a,r.x,r.y,t.x,t.y,O,U,null,2);for(E=0;E<V;E++){if(0==E){if(!R&&0>=q&&
O.j<=h&&3.141592653589793>Math.abs(r.x-t.x))break;if(e.Dy(I,H)<=g)break}Y=L[E]*H+(1-L[E])*I;e.gc(Y,m);D?A.ka(m.x*c,m.y*c):(C[0][0]=m.x,C[0][1]=m.y,d.fb.lu(),A.x=C[0][0]*c,A.y=C[0][1]*c);if(0==E&&(W=Y,p.L(m),v.L(A),0<h&&(O.j>h||3.141592653589793<=Math.abs(r.x-t.x)))){X=!0;break}if(R&&0<h){if(d.mb.Ld(b,a,r.x,r.y,A.x,A.y,S,null,null,2),S.j>h||3.141592653589793<=Math.abs(r.x-A.x)){X=!0;break}}else if(0<q)if(R?(n.IU(y,k,L[E]),D?z.ka(n.x*c,n.y*c):(C[0][0]=n.x,C[0][1]=n.y,d.fb.lu(),z.x=C[0][0]*c,z.y=C[0][1]*
c)):(n.L(m),z.L(A)),d.mb.Ld(b,a,r.x,r.y,z.x,z.y,T,null,null,2),T.j<=O.j){d.mb.Oj(b,a,r.x,r.y,T.j,U.j,x,w,2);B.ka(x.j,w.j);d.mb.Ld(b,a,B.x,B.y,A.x,A.y,aa,null,null,2);if(aa.j>q){X=!0;break}if(R){d.mb.Ld(b,a,B.x,B.y,z.x,z.y,ea,null,null,2);if(ea.j>q){X=!0;break}d.mb.Ld(b,a,z.x,z.y,A.x,A.y,Z,null,null,2);if(Z.j>q){X=!0;break}}}else{X=!0;break}}X?(k.L(p),t.L(v),H=W,l.rk(F,k),l.rk(M,t),J.add(H)):(l.YC(F),l.YC(M),J.Fk(J.size-1,1,J.size-1),l.tc(f,k),G+=O.j,null!=u&&u.add(G),0<M.size&&(y.L(k),r.L(t),I=H,
l.oy(F,k),l.oy(M,t),H=J.get(J.size-1)))}if(null!=u)for(b=1/G,E=0;E<u.size;E++)u.write(E,u.read(E)*b)};l.qy=function(b,a,c,e){e.reverse();null!=c&&c.Zd(0,c.size,1);c=null!=b?b[0]:NaN;e=null!=a?a[0]:NaN;null!=b&&(b[0]=e);null!=a&&(a[0]=c)};l.qF=function(b,a,c,e,d){b?(e.L(c),d.L(a)):(e.L(a),d.L(c))};l.SE=function(b,a,c){if(!b)return a;c.create(a.G());a.copyTo(c.get());c.get().reverse();return c.get()};l.fe=function(b,a,c){if(isNaN(a)){for(;3.141592653589793<c[0]-b;)c[0]-=6.283185307179586;for(;3.141592653589793<
b-c[0];)c[0]+=6.283185307179586}else 3.141592653589793<c[0]+b-a?c[0]-=6.283185307179586:3.141592653589793<a-(c[0]+b)&&(c[0]+=6.283185307179586)};l.xO=function(b,a,c,e){3.141592653589793>Math.abs(a.x-b.x)?(e.Mc(b),3.141592653589793<=c.x-b.x?e.vm(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?e.vm(c.x+6.283185307179586,c.y):e.vm(c.x,c.y)):(e.Mc(c),3.141592653589793<=b.x-c.x?e.vm(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?e.vm(b.x+6.283185307179586,b.y):e.vm(b.x,b.y))};l.rG=function(b,
a){for(var c=0;c<b;c++){var e=Math.ceil(c/2)/(b+1);0!=c%2&&(e=-e);a[c]=.5+e}};l.Bv=function(b,a){return d.l.W(b.y,1.570796326794897)&&!d.l.W(a.y,1.570796326794897)||d.l.W(b.y,-1.570796326794897)&&!d.l.W(a.y,-1.570796326794897)?!0:!1};l.zv=function(b,a){return d.l.W(a.y,1.570796326794897)&&!d.l.W(b.y,1.570796326794897)||d.l.W(a.y,-1.570796326794897)&&!d.l.W(b.y,-1.570796326794897)?!0:!1};l.tE=function(b,a,c){return!l.rE(b,a,c)||d.l.W(b.y,1.570796326794897)||d.l.W(b.y,-1.570796326794897)||d.l.W(a.y,
1.570796326794897)||d.l.W(a.y,-1.570796326794897)?!1:!0};l.rE=function(b,a,c){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=c?!0:!1};l.Av=function(b,a){return d.l.W(b.y,1.570796326794897)&&d.l.W(a.y,1.570796326794897)||d.l.W(b.y,-1.570796326794897)&&d.l.W(a.y,-1.570796326794897)?!0:!1};l.my=function(b,a,c,e){if(0<b.y){var g=new d.b;g.ka(a.x,1.570796326794897)}else g=new d.b,g.ka(a.x,-1.570796326794897);d.l.W(b.x,g.x)||d.l.W(a.y,g.y)||(l.tc(e,g),null!=c&&c.add(0))};l.iy=function(b,a,c,e){if(0<
a.y){var g=new d.b;g.ka(b.x,1.570796326794897)}else g=new d.b,g.ka(b.x,-1.570796326794897);d.l.W(a.x,g.x)||d.l.W(b.y,g.y)||(l.tc(e,g),null!=c&&c.add(1))};l.ly=function(b,a,c,e,g,h,q){d.l.xd(c)?(0<1.570796326794897-b.y&&(c=new d.b,c.ka(b.x,1.570796326794897),l.tc(q,c),null!=h&&h.add(e)),0<1.570796326794897-a.y&&(c=new d.b,c.ka(a.x,1.570796326794897),l.tc(q,c),null!=h&&h.add(e))):(0<1.570796326794897+b.y&&(c=new d.b,c.ka(b.x,-1.570796326794897),l.tc(q,c),null!=h&&h.add(g)),0<1.570796326794897+a.y&&
(c=new d.b,c.ka(a.x,-1.570796326794897),l.tc(q,c),null!=h&&h.add(g)))};l.VM=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return l}();d.Ej=f})(p||(p={}));(function(d){var f=function(){function l(){}l.Nj=function(b,a,c){if(null==b||null==a||!d.fb.Jc(a))throw d.g.F();if(b.u())return b;var e=b,g=e.G();if(d.T.Ic(g)){e=d.gi.Mj(b,a);b=new d.h;e.s(b);for(var g=d.na.be(a,b,!1),h=d.fb.Bh(a),
q=Math.floor((b.o-h.o)/h.N())*h.N()+h.o;q<b.v;)q>b.o+g&&q<b.v-g&&(e=d.gi.ht(e,a,c,!0,q)),q+=h.N()}else{if(197==g)return b=new d.Ja(e.description),b.jd(e,!1),l.Nj(b,a,c);if(d.T.Oc(g))return b=new d.Ua(e.description),b.dc(e,!0),l.Nj(b,a,c)}return l.jV(e,a)};l.jV=function(b,a){if(null==b||null==a||!d.fb.Jc(a))throw d.g.F();if(b.u())return b;var c;c=b.G();197==c?(c=new d.Ja(b.description),c.jd(b,!1)):d.T.Oc(c)?(c=new d.Ua(b.description),c.dc(b,!0)):c=b;c=d.gi.Mj(c,a);return c.u()?c:1==d.Sd.Fb(a)?d.gi.Xm(c,
a,0,c!=b,0):l.dV(c,a,c!=b)};l.dV=function(b,a,c){if(!d.fb.Jc(a))throw d.g.F();if(b.u())return b;var e=d.fb.ee(a),g=0-180*e,e=360*e;2==d.Sd.Fb(a)&&(g=d.fb.Bh(a),e=g.v,g=g.o,e-=g);return d.gi.Aq(b,g,e,a,c,0,!0)};return l}();d.Vp=f})(p||(p={}));(function(d){var f=function(){function l(){}l.fV=function(b,a){var c=Math.abs(b%a);return isNaN(c)||c==b||c<=Math.abs(a)/2?c:0>b?-1*(c-a):0<b?1*(c-a):0*(c-a)};l.K=function(b){return 0>b?-b:b};l.Ab=function(b,a){return 0<=a?l.K(b):-l.K(b)};l.W=function(b,a){return b==
a||l.K(b-a)<=l.gD*(1+(l.K(b)+l.K(a))/2)};l.xd=function(b){return 0==b||l.K(b)<=l.gD};l.Fu=function(b){b=l.fV(b,l.mA);return l.K(b)<=l.Oi?b:0>b?b+l.mA:b-l.mA};l.KB=function(b,a){b.j=l.Fu(b.j);a.j=l.Fu(a.j);l.K(a.j)>l.ss&&(b.j=l.Fu(b.j+l.Oi),a.j=l.Ab(l.Oi,a.j)-a.j)};l.Yg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var c=a*a;return b/(1+a)*(1+c*(.25+c*(.015625+1/256*c)))*l.ss};l.SS=function(b,a,c,e,g){var h,q,u,f,k,m,n,p=0,r=m=0,t=0,A=0,z=0;k=0;var v,x,w;n=0;var C,B,D;w=new d.ea;h=new d.ea;if(null!=
g)if(w.j=b,h.j=a,l.KB(w,h),b=w.j,a=h.j,w.j=c,h.j=e,l.KB(w,h),c=w.j,e=h.j,c=l.Fu(c-b),l.W(a,e)&&(l.xd(c)||l.W(l.K(a),l.ss)))null!=g&&(g.j=0);else{if(l.W(a,-e)){if(l.W(l.K(a),l.ss)){null!=g&&(g.j=2*l.Yg(6378137,.0066943799901413165));return}if(l.W(l.K(c),l.Oi)){null!=g&&(g.j=2*l.Yg(6378137,.0066943799901413165));return}}if(l.xd(.0066943799901413165))A=Math.cos(a),z=Math.cos(e),null!=g&&(p=Math.sin((e-a)/2),m=Math.sin(c/2),n=2*Math.asin(Math.sqrt(p*p+A*z*m*m)),g.j=6378137*n);else{w=1-Math.sqrt(.9933056200098587);
b=1-w;h=Math.atan(b*Math.tan(a));a=Math.sin(h);h=Math.cos(h);q=Math.atan(b*Math.tan(e));e=Math.sin(q);q=Math.cos(q);f=u=c;B=0;D=1;C=c;for(x=!0;1==x;)B+=1,1==D&&(k=Math.sin(C),m=Math.cos(C),p=q*k,n=h*e-a*q*m,p=Math.sqrt(p*p+n*n),m=a*e+h*q*m,n=Math.atan2(p,m),r=1E-15>l.K(p)?h*q*k/l.Ab(1E-15,p):h*q*k/p,t=1-r*r,A=1E-15>l.K(t)?m-a*e/l.Ab(1E-15,t)*2:m-a*e/t*2,z=A*A,k=((-3*t+4)*w+4)*t*w/16),v=(1-k)*w*(n+k*p*(A+m*k*(2*z-1))),1==D?(C=c+v*r,1E-14>l.K(C-f)?x=!1:l.K(C)>l.Oi?(D=2,C=l.Oi,0>c&&(C=-C),r=0,t=1,u=
f=2,n=l.Oi-l.K(Math.atan(a/h)+Math.atan(e/q)),p=Math.sin(n),m=Math.cos(n),k=((-3*t+4)*w+4)*t*w/16,1E-14>l.K(r-u)?x=!1:(A=1E-15>l.K(t)?m-a*e/l.Ab(1E-15,t)*2:m-a*e/t*2,z=A*A)):(0>(C-f)*(f-u)&&5<B&&(C=(2*C+3*f+u)/6),u=f,f=C)):(r=(C-c)/v,0>(r-f)*(f-u)&&5<B&&(r=(2*r+3*f+u)/6),u=f,f=r,t=1-r*r,k=r*p/(h*q),m=-Math.sqrt(l.K(1-k*k)),C=Math.atan2(k,m),p=q*k,n=h*e-a*q*m,p=Math.sqrt(p*p+n*n),m=a*e+h*q*m,n=Math.atan2(p,m),k=((-3*t+4)*w+4)*t*w/16,1E-14>l.K(r-u)?x=!1:(A=1E-15>l.K(t)?m-a*e/l.Ab(1E-15,t)*2:m-a*e/t*
2,z=A*A));null!=g&&(r=Math.sqrt(1+(1/(b*b)-1)*t),r=(r-1)/(r+1),t=r*(1-.375*r*r),g.j=(1+r*r/4)/(1-r)*b*6378137*(n-t*p*(A+t/4*(m*(-1+2*z)-t/6*A*(-3+4*p*p)*(-3+4*z)))))}}};l.Oi=3.141592653589793;l.ss=1.5707963267948966;l.mA=6.283185307179586;l.gD=3.552713678800501E-15;return l}();d.pM=f})(p||(p={}));(function(d){var f=function(){return function(b){this.ue=b;this.ll=this.ue.getCode();0>this.ll&&(this.ll=0)}}();d.SZ=f;var l=function(){function b(a){void 0===a&&(a=null);this.Kh=null;this.nn=!1;null!==a&&
(this.Kh=new f(a))}b.prototype.yc=function(){return null!=this.Kh?this.Kh.ll:0};b.prototype.Vf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Kh=this.Kh;a.nn=this.nn};b.prototype.Wv=function(){var a=this.Vf();a.kt();return a};b.prototype.kt=function(){this.nn=!this.nn};b.prototype.cn=function(){return null!=this.Kh?this.Kh.ue:null};b.prototype.BK=function(a){if(0>=a)throw d.g.F();if(a!=this.yc()){a=d.Tf.geogtran(a);if(null==a)throw d.g.F("Geogtran not found.");this.Kh=
new f(a)}};b.prototype.mH=function(){return null==this.Kh?null:this.Kh.ue.toString()};b.prototype.getName=function(){if(null==this.Kh||null==this.Kh.ue)return"";var a="";this.nn&&(a+="~");return a+=this.Kh.ue.getName()};b.prototype.oY=function(a){if(null==a)throw d.g.F();var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_GEOGTRAN,a)}catch(e){throw d.g.F();}this.Kh=new f(c)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.yc()||this.yc()!=a.yc())||this.cn().isEqual(a.cn()))?this.nn==
a.nn:!1};b.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,c){var e=new b;e.BK(a);c&&e.kt();return e};b.fG=function(a,c){var e=new b;e.oY(a);c&&e.kt();return e};return b}();d.io=l})(p||(p={}));(function(d){var f=function(){function b(){}b.pa=function(a,c,e,d){var g=new b;g.vn=a;g.wn=c;g.MI=e;g.NI=d;return g};b.Hs=function(a,c){return a.vn==c.vn?a.wn==c.wn?0:a.wn<c.wn?-1:1:a.vn<c.vn?-1:1};return b}(),
l=function(){function b(){this.Hw=!1;this.OI=[];this.$A=[];this.jI=this.Hw=this.iI=!1;this.kq()}b.zo=function(){null==b.FG&&(b.FG=new b);return b.FG};b.c_=function(){return b.zo().Hw};b.f_=function(){return b.zo().jI};b.z_=function(a,c){if(a==c)return null;var e=b.zo();if(e.iI){var d=b.EA(e.$A,a,c);return null!=d?d:null}d=b.EA(e.$A,a,c);return null!=d?d:b.EA(e.OI,a,c)};b.fO=function(a,c,b,g,h){var e=d.ny.create();if(0<a)try{var u=d.io.create(a,c);if(0==u.yc())return null;e.add(u);if(0<b){var l=d.io.create(b,
g);if(0==l.yc())return null;e.add(l)}h&&(e=e.Wv())}catch(P){e=null}return e};b.EA=function(a,c,e){if(c==e||0==a.length)return null;for(var d=f.pa(c,e,0,0),h=!1,q=!1,u=0,l=0,k=-1,m=0;m<a.length;m++)if(0===f.Hs(d,a[m])){k=m;break}if(0>k||a[k].vn!=d.vn||a[k].wn!=d.wn){d=f.pa(e,c,0,0);c=-1;for(m=0;m<a.length;m++)if(0===f.Hs(d,a[m])){c=m;break}0<=c&&a[c].vn==d.vn&&a[c].wn==d.wn&&(u=a[c].MI,l=a[c].NI,q=h=!0)}else u=a[k].MI,l=a[k].NI,h=!1,q=!0;if(!q)return null;0==u&&(u=l,l=0);d=a=!1;0>u&&(u=-u,a=!0);0>
l&&(l=-l,d=!0);return b.fO(u,a,l,d,h)};b.prototype.kq=function(){this.BE(this.OI)&&(this.Hw=!0);this.BE(this.$A)&&(this.jI=!0);this.iI=!this.Hw};b.prototype.BE=function(a){try{for(var c=[],c=c.sort(f.Hs),b=0;b<c.length;b++)a.push(c[b])}catch(g){}return!0};b.Q_=function(){return null};return b}();d.RZ=l})(p||(p={}));(function(d){var f=function(){function d(){}d.prototype.My=function(b){this.Hi=b};d.prototype.NE=function(b){this.Mb=b};d.prototype.OE=function(b){this.np=b};d.JF=function(b){return b.u()||
1607!=b.G()&&1736!=b.G()?!1:!0};d.HF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};d.IF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return d}();d.wl=f})(p||(p={}));(function(d){var f=function(){function l(){}l.mX=function(b){var a=new d.Ja;a.$x(b.R.o,b.R.A);a.Xj(b.R.o,b.R.B);a.Xj(b.R.v,b.R.B);a.Xj(b.R.v,b.R.A);return a};l.Xg=function(b,a){return null===b?null:d.os.local().V(b,a,null)};l.gZ=function(b,a){var c=d.ei.local();b=new d.hd(b);return c.V(b,a,
null).next()};l.Vm=function(b,a,c){return d.cq.local().V(b,a,c,null)};l.Pp=function(b,a,c){return d.uy.local().V(b,a,c,null)};l.OY=function(b,a,c){var e=d.uy.local();b=new d.hd(b);a=new d.hd(a);c=e.V(b,a,c,null);for(e=[];null!=(a=c.next());)e.push(a);return e};l.Eb=function(b,a,c){return d.Gj.local().V(3,b,a,c,null)};l.QR=function(b,a,c){return d.Gj.local().V(4,b,a,c,null)};l.LU=function(b,a,c){var e=d.tk.local();b=new d.hd(b);a=new d.hd(a);c=e.V(b,a,c,null);for(e=[];null!=(a=c.next());)e.push(a);
return e};l.NR=function(b,a,c){var e=d.cq.local();b=new d.hd(b);a=new d.hd(a);c=e.V(b,a,c,null);for(e=[];null!=(a=c.next());)e.push(a);return e};l.Ma=function(b,a,c){return d.tk.local().V(b,a,c,null)};l.rZ=function(b,a,c){return d.Gj.local().V(2,b,a,c,null)};l.contains=function(b,a,c){return d.Gj.local().V(1,b,a,c,null)};l.yR=function(b,a,c){return d.Gj.local().V(16,b,a,c,null)};l.touches=function(b,a,c){return d.Gj.local().V(8,b,a,c,null)};l.oW=function(b,a,c){return d.Gj.local().V(32,b,a,c,null)};
l.NU=function(b,a,c){return d.Gj.local().V(1073741824,b,a,c,null)};l.YB=function(b,a,c,e){return d.pN.local().V(b,a,c,e,null)};l.Cb=function(b,a,c,e){var g=null;if(null!=c){if(g=c.Nd(),null!=e&&g.yc()!=e.yc()&&g.nd!=e.nd)throw d.g.vk();}else if(null!=e)throw d.g.F();b=d.hN.local().V(b,a,null);null!==g&&null!==e&&(b=d.oc.li(b,g,e));return b};l.clip=function(b,a,c){return d.bN.local().V(b,d.h.pa(a.R.o,a.R.A,a.R.v,a.R.B),c,null)};l.Hl=function(b,a,c){if(null==b||null==a)return null;b=d.dN.local().V(!0,
b,a,c,null);for(a=[];null!=(c=b.next());)c.u()||a.push(c);return a.slice(0)};l.QP=function(b,a,c,e,g,h,q,u){if(!0===g)return l.YM(b,a,c,e,h,q,u);g=c;if(null!=a){if(q=a.Nd(),null!=e&&q.yc()!=e.yc()){if(q.nd!=e.nd)throw d.g.vk();g=[];d.oc.dG(c,c.length,e,q,g)}}else if(null!=e)throw d.g.F();c=d.CD.local();if(h){b=new d.hd(b);a=c.V(b,a,g,h,null);for(b=[];null!=(h=a.next());)b.push(h);h=b.slice(0)}else for(h=[],e=0;e<b.length;e++)h[e]=c.V(b[e],a,g[e],null);return h};l.YM=function(b,a,c,e,g,h,q){if(null===
a)throw d.g.F();if(null===e||void 0===e)e=4326!==a.yc()?a.Nd():d.oc.ze(9001);if(0!==e.nd)throw d.g.F();d.oc.dG(c,c.length,e,d.oc.ze(9001),c);e=d.HD.local();if(g){b=new d.hd(b);a=e.V(b,a,h,c,q,!1,g,null);for(c=[];null!=(h=a.next());)c.push(h);g=c.slice(0)}else{g=[];for(var u=0;u<b.length;u++)g[u]=e.V(b[u],a,h,c[u],q,!1,null)}return g};l.buffer=function(b,a,c,e,g,h,q){var u=c;if(!1===g){if(null!=a){if(g=a.Nd(),null!=e&&g.yc()!=e.yc()){if(g.nd!=e.nd)throw d.g.vk();u=d.oc.li(c,e,g)}}else if(null!=e)throw d.g.F();
b=d.CD.local().V(b,a,u,null)}else{if(null===a)throw d.g.F();if(null===e||void 0===e)e=4326!==a.yc()?a.Nd():d.oc.ze(9001);if(0!==e.nd)throw d.g.F();u=d.oc.li(c,e,d.oc.ze(9001));b=d.HD.local().V(b,a,h,u,q,!1,null)}return b};l.mW=function(b,a,c,e,g,h,q){if(null!=a){var u=a.Nd();if(null!=q&&u.yc()!=q.yc()){if(u.nd!=q.nd)throw d.g.vk();c=d.oc.li(c,q,u)}}else if(null!=q)throw d.g.F();b=new d.hd(b);a=d.LD.local().V(b,a,c,e,g,h,null);for(c=[];null!=(e=a.next());)c.push(e);return c.slice(0)};l.offset=function(b,
a,c,e,g,h,q){if(null!=a){var u=a.Nd();if(null!=q&&u.yc()!=q.yc()){if(u.nd!=q.nd)throw d.g.vk();c=d.oc.li(c,q,u)}}else if(null!=q)throw d.g.F();return d.LD.local().V(b,a,c,e,g,h,null)};l.hR=function(b){return d.ED.local().V(b,null)};l.iR=function(b,a){var c=d.ED.local();b=new d.hd(b);c=c.V(b,a,null);for(b=[];null!=(a=c.next());)b.push(a);return b};l.Zz=function(b,a,c){return d.sy.local().Zz(b,a,c)};l.$z=function(b,a){return d.sy.local().$z(b,a)};l.aA=function(b,a,c,e){return d.sy.local().aA(b,a,c,
e)};l.CC=function(b,a){return d.Km.local().V(b,a,!1,null)};l.YU=function(b,a){return d.Km.local().Wq(b,a,null)};l.GS=function(b,a,c,e,g){var h=d.GD.local();if(null!=a){if(a=a.Nd(),null!=g&&a.yc()!=g.yc()){if(a.nd!=g.nd)throw d.g.vk();c=d.oc.li(c,g,a)}}else if(null!=g)throw d.g.F();return h.V(b,c,e,null)};l.Ls=function(b,a,c,e){var g=d.Jm.local();if(null!=a){if(a=a.Nd(),null!=e&&a.yc()!=e.yc()){if(a.nd!=e.nd)throw d.g.vk();c=d.oc.li(c,e,a)}}else if(null!=e)throw d.g.F();return g.V(b,c,null)};l.Ez=
function(b,a,c,e,g){void 0===g&&(g=0);var h=d.jN.local();if(4==g)throw d.g.df();if(0!==g)throw d.g.df();if(null!=a){var q=a.Nd();if(null!=e&&q.yc()!=e.yc()){if(q.nd!=e.nd)throw d.g.vk();c=d.oc.li(c,e,q)}}else if(null!=e)throw d.g.F();return h.V(b,c,a,g,null)};l.MS=function(b,a,c,e){if(null===b)return 0;if(4==e)throw d.g.df();if(0!==e)throw d.g.df();if(197==b.G())b=l.mX(b);else if(1736!=b.G())return 0;e=d.fb.kc(a);b=d.fb.Xg(b,a,e,null);b=d.qM.NS([b])[0];if(null!==c){if(2!==c.nd)throw d.g.F("Unit must be a area unit type");
b=d.oc.li(b,d.oc.ze(109404),c)}return b};l.QS=function(b,a,c,e){b=d.lN.local().V(b,a,e,null);if(null!==c){if(0!==c.nd)throw d.g.F("Unit must be a linear unit type");b=d.oc.li(b,d.oc.ze(9001),c)}return b};l.wW=function(b,a,c){if(null===b)return 0;var e=null;if(null!=a){e=a.Nd();if(0==e.nd&&(e=d.oc.lH(e),null==e&&null!==c))throw d.g.F();if(null!=c&&e.yc()!=c.yc()&&e.nd!=c.nd)throw d.g.vk();}else if(null!=c)throw d.g.F();return 1736==b.G()||197==b.G()?(b=b.hf(),null!==c?d.oc.li(b,e,c):b):0};l.xW=function(b,
a,c){if(null===b||b.u()||1>b.tb())return 0;var e=null;if(null!=a){if(e=a.Nd(),null!=c&&e.yc()!=c.yc()&&e.nd!=c.nd)throw d.g.vk();}else if(null!=c)throw d.g.F();1736==b.G()||197==b.G()?a=b.Gg():d.T.Oc(b.G())?(a=new d.Ua(b.description),a.dc(b,!0)):a=b;b=0;a=a.Fa();for(var g=new d.b,h=new d.b;a.Ya();)for(;a.Ea();){var q=a.ba();q.Oq(g);q.Ps(h);b+=d.b.Cb(g,h)}null!==e&&null!==c&&(b=d.oc.li(b,e,c));return b};l.$Z=function(b,a){return d.Sd.PS(b,a)};l.cG=function(b){return void 0!==b.points?l.kW(b,void 0===
b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?l.wH(b.rings,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?l.wH(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?l.uW(b):void 0!==b.xmin?l.cW(b):null};l.uW=function(b){if(null==b.x||"NaN"==b.x)return new d.Wa;var a=new d.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.rY(b.z);void 0!==b.m&&null!==b.m&&a.bY(b.m);return a};l.cW=function(b){if(null==b.xmin||"NaN"==b.xmin)return new d.ci;var a=
new d.ci(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};l.kW=function(b,a,c){var e=0,g=new d.Ed,h=3*b.points.length;0!=h%2&&h++;2>h&&(h=2);var q=d.J.truncate(3*b.points.length/2);4>q?q=4:16>q&&(q=16);for(var h=d.Uc.Um(h,0),u=d.Uc.Um(q),q=d.Uc.Um(q),l=0;l<b.points.length;l++)h.write(2*l,b.points[l][0]),h.write(2*l+1,b.points[l][1]),u.write(l,a||c?b.points[l][2]:NaN),q.write(l,c&&
a?b.points[l][3]:NaN),e++;0!=e&&(g.resize(e),g.Yn(0,h));a&&(g.Ud(1),g.Yn(1,u));c&&(g.Ud(2),g.Yn(2,0==a?u:q));g.Dc(16777215);return g};l.wH=function(b,a,c,e){var g,h=0,q=2;"P"==e?(g=new d.Ja,h=1,q=3):g=new d.Ua;for(var u=d.Uc.wh(0),l=d.Uc.vq(0),f=0,k=0,m=[],n=[],p=0;p<b.length;p++){var r=b[p].length;m[p]=!1;if("P"===e&&b[p][0][0]===b[p][b[p].length-1][0]&&b[p][0][1]===b[p][b[p].length-1][1]){var t=0==c?!0:b[p][0][3]===b[p][b[p].length-1][3]||void 0===b[p][0][3]&&void 0===b[p][b[p].length-1][3];(0==
a||b[p][0][2]===b[p][b[p].length-1][2]||void 0===b[p][0][2]&&void 0===b[p][b[p].length-1][2])&&t&&(m[p]=!0,--r)}r>=q?(n[p]=!1,k+=1,u.add(f),l.add(h),f+=r):n[p]=!0}e=3*f;0!=e%2&&e++;2>e&&(e=2);p=d.J.truncate(3*f/2);4>p?p=4:16>p&&(p=16);e=d.Uc.Um(e,0);h=d.Uc.Um(p);q=d.Uc.Um(p);for(p=r=0;p<b.length;p++)if(!1===n[p])for(t=0;t<b[p].length;t++){var A=!1;t===b[p].length-1&&!0===m[p]&&(A=!0);A||(e.write(2*r,b[p][t][0]),e.write(2*r+1,b[p][t][1]),h.write(r,a||c?b[p][t][2]:NaN),q.write(r,c&&a?b[p][t][3]:NaN),
r++)}0!=f&&(b=g,u.resize(k),l.resize(k),0<f&&(u.add(f),l.add(0)),b.Yn(0,e),b.GK(l),b.HK(u));a&&(g.Ud(1),g.Yn(1,h));c&&(g.Ud(2),g.Yn(2,0==a?h:q));g.Dc(16777215);return g};return l}();d.cc=f})(p||(p={}));(function(d){var f=function(){function d(){}d.Hm=function(b){var a=0,c,e=b.length,d=b[0],h;for(c=0;c<e-1;c++)h=b[c+1],a+=(h[0]-d[0])*(h[1]+d[1]),d=h;return 0<=a};d.rotate=function(b,a,c){a=a*Math.PI/180;var e=Math.cos(a),g=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var h=0;h<b.paths.length;h++){for(var q=
b.paths[h],u=[],f=0;f<q.length;f++){var l=q[f].slice(0);u.push(l);var k=e*(q[f][0]-c.x)-g*(q[f][1]-c.y)+c.x,m=g*(q[f][0]-c.x)+e*(q[f][1]-c.y)+c.y;l[0]=k;l[1]=m}a.paths.push(u)}return a}if(void 0!==b.rings){a={rings:[]};for(h=0;h<b.rings.length;h++){for(var q=b.rings[h],u=[],p=d.Hm(q),f=0;f<q.length;f++)l=q[f].slice(0),u.push(l),k=e*(q[f][0]-c.x)-g*(q[f][1]-c.y)+c.x,m=g*(q[f][0]-c.x)+e*(q[f][1]-c.y)+c.y,l[0]=k,l[1]=m;d.Hm(u)!==p&&u.reverse();a.rings.push(u)}return a}if(void 0!==b.x)return a={x:e*(b.x-
c.x)-g*(b.y-c.y)+c.x,y:g*(b.x-c.x)+e*(b.y-c.y)+c.y},void 0!==b.z&&(a.z=b.z),void 0!==b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(f=0;f<b.length;f++)h=b[f].slice(0),h[0]=e*(b[f][0]-c.x)-g*(b[f][1]-c.y)+c.x,h[1]=g*(b[f][0]-c.x)+e*(b[f][1]-c.y)+c.y,a.points.push(h);return a}return null};d.zG=function(b,a){var c,e;if(void 0!==b.paths){c={paths:[]};for(var g=0;g<b.paths.length;g++){for(var h=b.paths[g],q=[],u=0;u<h.length;u++){var f=h[u].slice(0);q.push(f);e=a.x-h[u][0];f[0]=h[u][0]+
2*e}c.paths.push(q)}return c}if(void 0!==b.rings){c={rings:[]};for(g=0;g<b.rings.length;g++){for(var h=b.rings[g],l=d.Hm(h),q=[],u=0;u<h.length;u++)f=h[u].slice(0),q.push(f),e=a.x-h[u][0],f[0]=h[u][0]+2*e;d.Hm(q)!==l&&q.reverse();c.rings.push(q)}return c}if(void 0!==b.x)return e=a.x-b.x,c={x:b.x+2*e,y:b.y},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};g=b.points;for(u=0;u<g.length;u++)h=g[u].slice(0),e=a.x-h[0],h[0]+=2*e,c.points.push(h);return c}return void 0!==
b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),e=a.x-b.xmin,c.xmax=b.xmin+2*e,e=a.x-b.xmax,c.xmin=b.xmax+2*e,c):null};d.AG=function(b,a){var c,e;if(void 0!==b.paths){c={paths:[]};for(var g=0;g<b.paths.length;g++){for(var h=b.paths[g],q=[],u=0;u<h.length;u++){var f=h[u].slice(0);q.push(f);e=a.y-h[u][1];f[1]=h[u][1]+2*e}c.paths.push(q)}return c}if(void 0!==b.rings){c={rings:[]};for(g=0;g<b.rings.length;g++){for(var h=
b.rings[g],l=d.Hm(h),q=[],u=0;u<h.length;u++)f=h[u].slice(0),q.push(f),e=a.y-h[u][1],f[1]=h[u][1]+2*e;d.Hm(q)!==l&&q.reverse();c.rings.push(q)}return c}if(void 0!==b.x)return e=a.y-b.y,c={y:b.y+2*e,x:b.x},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};g=b.points;for(u=0;u<g.length;u++)h=g[u].slice(0),e=a.y-h[1],h[1]+=2*e,c.points.push(h);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==
b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),e=a.y-b.ymin,c.ymax=b.ymin+2*e,e=a.y-b.ymax,c.ymin=b.ymax+2*e,c):null};return d}();d.Wp=f})(p||(p={}));(function(d){var f=function(){function f(){}f.bh=function(b,a){null==a&&(a=d.ye.Ig());switch(b){case 33:return new d.Wa(a);case 322:return new d.Hb(a);case 197:return new d.ci(a);case 550:return new d.Ed(a);case 1607:return new d.Ua(a);case 1736:return new d.Ja(a);default:throw d.g.X("invalid argument.");}};return f}();d.uM=f})(p||(p={}));(function(d){var f=
function(){function f(b,a){this.tf=d.ia.zd(b,-1);this.va=new d.Lu;this.bm=a}f.prototype.xX=function(b){this.va.pu(Math.min(this.tf.size,b));this.va.Vn(b)};f.prototype.addElement=function(b,a){if(void 0===a)return this.cP(b);a=d.J.truncate(a%this.tf.size);var c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,b)};f.prototype.cP=function(b){var a=this.bm.Vz(b),a=d.J.truncate(a%this.tf.size),c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,
b)};f.prototype.kd=function(b,a){if(void 0===a)this.GR(b);else{a=d.J.truncate(a%this.tf.size);var c=this.tf.get(a);if(-1==c)throw d.g.F();for(var e=this.va.xc(c),g=-1;-1!=e;){var h=this.va.nb(e);this.va.ja(e)==b?(this.va.kd(c,g,e),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):g=e;e=h}}};f.prototype.GR=function(b){var a=this.bm.Vz(b),a=d.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw d.g.F();for(var e=this.va.xc(c),g=-1;-1!=e;){var h=this.va.nb(e);this.va.ja(e)==b?(this.va.kd(c,
g,e),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):g=e;e=h}};f.prototype.hT=function(b){b=d.J.truncate(b%this.tf.size);b=this.tf.get(b);return-1==b?-1:this.va.xc(b)};f.prototype.xT=function(b){return this.va.nb(b)};f.prototype.Kd=function(b){var a=this.bm.Vz(this.ja(b)),a=d.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw d.g.F();for(var e=this.va.xc(c),g=-1;-1!=e;){if(e==b){this.va.kd(c,g,e);-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1));return}g=e;e=this.va.nb(e)}throw d.g.F();
};f.prototype.ja=function(b){return this.va.ja(b)};f.prototype.clear=function(){this.tf=d.ia.zd(this.tf.size,-1);this.va.clear()};f.prototype.size=function(){return this.va.eH()};return f}();d.EM=f})(p||(p={}));(function(d){var f=function(){function f(){this.kj=new d.ad(3);this.va=new d.ad(6);this.sV=!1;this.Ge=-1}f.prototype.Kl=function(b){this.kj.kd(b)};f.prototype.Bx=function(){return this.kj.Pe()};f.prototype.Pv=function(b){this.va.kd(b)};f.prototype.FB=function(){return this.va.Pe()};f.prototype.uC=
function(b,a){this.kj.P(b,1,a)};f.prototype.Qx=function(b,a){this.kj.P(b,2,a)};f.prototype.aY=function(b,a){this.kj.P(b,3,a)};f.prototype.sC=function(b,a){this.va.P(b,4,a)};f.prototype.dY=function(b,a){this.va.P(b,3,a)};f.prototype.KK=function(b,a){this.va.P(b,2,a)};f.prototype.mi=function(b){var a=this.FB();this.va.P(a,3,this.Ge);this.va.P(a,4,0);this.va.P(a,5,b);-1!=this.Ge&&this.KK(this.Ge,a);return this.Ge=a};f.prototype.zh=function(b){this.QF(b);var a=this.va.S(b,2),c=this.va.S(b,3);-1!=a?this.dY(a,
c):this.Ge=c;-1!=c&&this.KK(c,a);this.Pv(b);return c};f.prototype.pu=function(b){this.va.Qe(b)};f.prototype.$G=function(b){return this.va.S(b,5)};f.prototype.$X=function(b,a){this.va.P(b,5,a)};f.prototype.addElement=function(b,a){return this.oU(b,a)};f.prototype.oU=function(b,a){var c=this.Bx();this.Qx(c,-1);-1==this.va.S(b,0)&&this.va.P(b,0,c);var e=this.va.S(b,1);this.uC(c,e);-1!=e&&this.Qx(e,c);this.va.P(b,1,c);this.setData(c,a);this.sC(b,this.at(b)+1);this.sV&&this.aY(c,b);return c};f.prototype.kd=
function(b,a){var c=this.Ve(a),e=this.nb(a);-1!=c?this.Qx(c,e):this.va.P(b,0,e);-1!=e?this.uC(e,c):this.va.P(b,1,c);this.Kl(a);this.sC(b,this.at(b)-1);return e};f.prototype.Vn=function(b){this.kj.Qe(b)};f.prototype.getData=function(b){return this.kj.S(b,0)};f.prototype.setData=function(b,a){this.kj.P(b,0,a)};f.prototype.nb=function(b){return this.kj.S(b,2)};f.prototype.Ve=function(b){return this.kj.S(b,1)};f.prototype.xc=function(b){return this.va.S(b,0)};f.prototype.Fc=function(b){return this.va.S(b,
1)};f.prototype.clear=function(){for(var b=this.Ge;-1!=b;)b=this.zh(b)};f.prototype.QF=function(b){for(var a=this.Fc(b);-1!=a;){var c=a,a=this.Ve(c);this.Kl(c)}this.va.P(b,0,-1);this.va.P(b,1,-1);this.sC(b,0)};f.prototype.u=function(){return 0==this.kj.size};f.prototype.eH=function(){return this.kj.size};f.prototype.at=function(b){return this.va.S(b,4)};f.prototype.bA=function(b){return this.va.S(b,3)};return f}();d.Xp=f})(p||(p={}));(function(d){var f=function(){function f(b){void 0===b?(this.Qg=
new d.ad(2),this.va=new d.ad(4),this.Ge=-1,this.Cw=!0):(this.Qg=new d.ad(2),this.va=new d.ad(b?4:2),this.Ge=-1,this.Cw=b)}f.prototype.Kl=function(b){this.Qg.kd(b)};f.prototype.Bx=function(){return this.Qg.Pe()};f.prototype.Pv=function(b){this.va.kd(b)};f.prototype.FB=function(){return this.va.Pe()};f.prototype.mi=function(){var b=this.FB();this.Cw&&(this.va.P(b,3,this.Ge),-1!=this.Ge&&this.va.P(this.Ge,2,b),this.Ge=b);return b};f.prototype.zh=function(b){for(var a=this.xc(b);-1!=a;){var c=a,a=this.nb(a);
this.Kl(c)}this.Cw&&(a=this.va.S(b,2),c=this.va.S(b,3),-1!=a?this.va.P(a,3,c):this.Ge=c,-1!=c&&this.va.P(c,2,a));this.Pv(b)};f.prototype.pu=function(b){this.va.Qe(b)};f.prototype.addElement=function(b,a){var c=this.va.S(b,1),e=this.Bx();-1!=c?this.Qg.P(c,1,e):this.va.P(b,0,e);this.va.P(b,1,e);this.Qg.P(e,0,a);return e};f.prototype.Vn=function(b){this.Qg.Qe(b)};f.prototype.kd=function(b,a,c){-1!=a?(this.Qg.P(a,1,this.Qg.S(c,1)),this.va.S(b,1)==c&&this.va.P(b,1,a)):(this.va.P(b,0,this.Qg.S(c,1)),this.va.S(b,
1)==c&&this.va.P(b,1,-1));this.Kl(c)};f.prototype.mz=function(b,a){var c=this.va.S(b,1),e=this.va.S(a,0);-1!=e&&(-1!=c?this.Qg.P(c,1,e):this.va.P(b,0,e),this.va.P(b,1,this.va.S(a,1)));this.Cw&&(c=this.va.S(a,2),e=this.va.S(a,3),-1!=c?this.va.P(c,3,e):this.Ge=e,-1!=e&&this.va.P(e,2,c));this.Pv(a)};f.prototype.ja=function(b){return this.Qg.S(b,0)};f.prototype.kk=function(b,a){this.Qg.P(b,0,a)};f.prototype.nb=function(b){return this.Qg.S(b,1)};f.prototype.xc=function(b){return this.va.S(b,0)};f.prototype.yo=
function(b){return this.ja(this.xc(b))};f.prototype.clear=function(){this.Qg.Vi(!0);this.va.Vi(!0);this.Ge=-1};f.prototype.u=function(b){return void 0===b?0==this.Qg.size:-1==this.va.S(b,0)};f.prototype.eH=function(){return this.Qg.size};f.prototype.bA=function(b){return this.va.S(b,3)};return f}();d.Lu=f})(p||(p={}));(function(d){var f=function(){function f(){}f.ZD=function(b,a,c,e,g,h,q){var u=new d.b;u.L(b);b=new d.b;b.L(a);g.Ny(u);g.Ny(b);a=g.Wu(u);var l=g.Wu(b);0==l&&(l=g.ZG());if(u.x!=b.x&&
(u.y!=b.y||u.y!=g.A&&u.y!=g.B)||l>a!=h){a=g.zE(u);var l=g.zE(b),k,m=h?1:3;do a=a+m&3,k=g.Gx(a),0!=q&&(e=f.ZD(u,k,c,e,g,h,q)),c[e++].ka(k.x,k.y),u=k;while((a&3)!=l);0!=q&&(e=f.ZD(u,b,c,e,g,h,q))}else if(g=new d.b,g.ka(b.x-u.x,b.y-u.y),0!=q&&(q=d.J.truncate(g.RO()/q),0<q))for(g.scale(1/(q+1)),h=0;h<q;h++)u.add(g),c[e++].ka(u.x,u.y);return e};f.be=function(b,a,c){a=a.no();b=null!=b&&void 0!==b.re?b.re(0):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};f.Cs=function(b){return 2*Math.sqrt(2)*b};f.rP=function(b){return Math.sqrt(2)*
b};f.ah=function(b,a,c){var e=new d.h;a.s(e);return f.be(b,e,c)};f.FF=function(b,a,c){a=a.xf(1,0).no();b=null!=b?b.re(1):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};f.a_=function(b,a){var c=new d.h;b.ac(c);c.Nb(a);return c};f.Zv=function(b,a){var c=new d.h;b.ac(c);b=new d.h;a.ac(b);c.Nb(b);return c};f.j_=function(b,a){var c=b.mT(a),e=b.wa(a),g=b.Gc(a),h=b.Ba(c);c==e?(g=b.Ba(g-1),c=b.Ba(e+1)):c==g-1?(g=b.Ba(c-1),c=b.Ba(e)):(g=b.Ba(c-1),c=b.Ba(c+1));h=d.b.zp(g,h,c);return 0==h?0<b.Sm(a):-1==h};f.aQ=function(b){var a=
new d.h;b.ac(a);if(a.u())return null;var c=new d.gq(a,8),e=-1,g=new d.h,h=!1;do for(var q=0,u=b.aa();q<u;q++)if(b.jk(q,g),e=c.lw(q,g,e),-1==e){if(h)throw d.g.X("internal error");b.uo(a,!1);h=!0;c.reset(a,8);break}else h=!1;while(h);return c};f.AF=function(b){var a=new d.h;b.ac(a);for(var c=new d.gq(a,8),e=-1,g=b.Fa(),h=new d.h,q=!1;g.Ya();)for(;g.Ea();){var u=g.ba(),f=g.Db();u.s(h);e=c.lw(f,h,e);if(-1==e){if(q)throw d.g.za();b.uo(a,!1);q=!0;c.reset(a,8);g.yj();break}}return c};f.Lj=function(b,a){var c=
new d.h;b.ac(c);for(var e=new d.gq(c,8),g=-1,h=new d.h,q=b.Fa(),u=!1;q.Ya();)for(;q.Ea();){var f=q.ba(),l=q.Db();f.s(h);if(h.Yb(a)&&(g=e.lw(l,h,g),-1==g)){if(u)throw d.g.X("internal error.");b.uo(c,!1);u=!0;e.reset(c,8);q.yj();break}}return e};f.S_=function(b){var a=new d.h;b.ac(a);for(var c=new d.gq(a,8),e=new d.b,g=new d.h,h=!1,q=0;q<b.D();q++)if(b.w(q,e),g.I(e),-1==c.eh(q,g)){if(h)throw d.g.za();b.uo(a,!1);h=!0;c.reset(a,8);q=-1}return c};f.BF=function(b,a){for(var c=new d.gq(a,8),e=new d.b,g=
!1,h=new d.h,q=0;q<b.D();q++)if(b.w(q,e),a.contains(e)&&(h.I(e),-1==c.eh(q,h))){if(g)throw d.g.za();g=!0;q=new d.h;b.uo(q,!1);c.reset(q,8);q=-1}return c};f.cT=function(b,a,c){var e=new d.h,g=new d.h;b.ac(e);a.ac(g);e.O(c,c);g.O(c,c);var h=new d.h;h.I(e);h.Ma(g);b=b.Fa();a=a.Fa();var q=new d.fD;q.yC(c);var f=!1;for(q.bL();b.Ya();)for(;b.Ea();)b.ba().s(e),e.Yb(h)&&(f=!0,c=new d.h,c.I(e),q.ZE(b.Db(),c));q.tG();if(!f)return null;e=!1;for(q.aL();a.Ya();)for(;a.Ea();)a.ba().s(g),g.Yb(h)&&(e=!0,c=new d.h,
c.I(g),q.VE(a.Db(),c));q.sG();return e?q:null};f.dT=function(b,a,c,e,g){var h=b.G(),q=a.G(),f=new d.h,l=new d.h;b.ac(f);a.ac(l);f.O(c,c);l.O(c,c);var k=new d.h;k.I(f);k.Ma(l);var m=new d.fD;m.yC(c);var p=!1;m.bL();var n=0;for(c=b.aa();n<c;n++)if(!e||1736!=h||b.rw(n))b.jk(n,f),f.Yb(k)&&(p=!0,m.ZE(n,f));m.tG();if(!p)return null;b=!1;m.aL();e=0;for(c=a.aa();e<c;e++)if(!g||1736!=q||a.rw(e))a.jk(e,l),l.Yb(k)&&(b=!0,m.VE(e,l));m.sG();return b?m:null};f.o_=function(b,a){return 0<b.Lk(a)};f.R_=function(b,
a){var c=new d.h;b.hX(a,c);var c=new d.gq(c,8),e=-1,g=new d.h;b=b.Fa();b.eC(a);if(b.Ya())for(;b.Ea();){a=b.ba();var h=b.Db();a.ac(g);e=c.lw(h,g,e);if(-1==e)throw d.g.X("internal error");}return c};f.Fv=function(b,a,c){if(b!=a)for(var e=0;e<c;e++)null==b[e]?b[e]=d.b.El(a[e]):b[e].L(a[e])};f.oz=function(b,a,c,e){var d=0;for(e+=0;d<e;c++,d++)null==b[d]&&(b[d]=[0,0]),b[d][0]=a[c].x,b[d][1]=a[c].y};f.nz=function(b,a,c,e){var g=a,h=0;for(a=e+a;g<a;h++,g++)null==b[g]?b[g]=d.b.pa(c[h][0],c[h][1]):b[g].ka(c[h][0],
c[h][1])};f.jR=function(b,a,c){if(b!=a)for(var e=0;e<c;e++)null==b[e]?b[e]=new d.Wa(a[e]):a[e].copyTo(b[e])};f.EP=function(b,a,c,e){var d=e.ca;e=e.ha;for(var h=0;h<a;h+=c){var q=b.read(h);q<d?b.write(h,d):q>e&&b.write(h,e)}};f.uP=function(b,a,c,e){var d=e.ca;e=e.ha;for(var h=0;h<a;h+=c){var q=b.read(h);q<d?b.write(h,d):q>e&&b.write(h,e)}};f.UK=function(b,a,c){if(b.hasAttribute(c)){var e=b.G();if(d.T.gh(e)){var g=d.ma.si(c),e=d.ma.Xa(c),h=b.D();if(1==g){b=b.Pa(c);f.EP(b,h*e,e,a);return}if(2==g){b=
b.Pa(c);f.uP(b,h*e,e,a);return}throw d.g.X("snap_coordinate not implemented");}if(197==e)h=b.xf(c,0),e=!1,h.ca<a.ca&&(e=!0,h.ca=a.ca),h.ha>a.ha&&(e=!0,h.ha=a.ha),e&&b.setInterval(c,0,h);else if(33==e)h=b.Yc(c,0),e=!1,h<a.ca&&(e=!0,h=a.ca),h>a.ha&&(e=!0,h=a.ha),e&&b.setAttribute(c,0,h);else if(d.T.Oc(e))h=b.dt(c,0),e=!1,h<a.ca&&(e=!0,h=a.ca),h>a.ha&&(e=!0,h=a.ha),e&&b.Tx(c,0,h),h=b.Os(c,0),h<a.ca&&(e=!0,h=a.ca),h>a.ha&&(e=!0,h=a.ha),e&&b.Lx(c,0,h);else throw d.g.X("snap_coordinate not implemented");
}};f.jo=function(b,a,c,e,d){var g=0;null!=a&&(g=a.re(b),d&&!e||null==a||(g+=1.01*a.fA(b)));e&&(c*=4,g*=1.01);return Math.max(g,c)};f.T_=function(b,a,c,e){a=d.h.CO(a.Be(),a.nf(),c.Be(),c.nf());return f.jo(0,b,a,e,!1)};f.Zy=function(b,a,c){a=a.no();return f.jo(0,b,a,c,!1)};f.U_=function(b,a,c){a=a.no();return f.jo(1,b,a,c,!1)};f.gQ=function(b,a){var c=new d.h;a.s(c);return f.Zy(b,c,!0)};f.$y=function(b,a){a=a.no();return f.jo(0,b,a,!1,!0)};f.V_=function(b,a,c){a=a.no();return f.jo(1,b,a,c,!0)};f.vv=
function(b,a){var c=new d.h;a.s(c);return f.$y(b,c)};f.NH=function(b,a,c,e){e*=e;var g=new d.b;g.zc(b,a);b=new d.b;b.zc(c,a);a=g.qk();c=b.qk();if(a<=e&&c<=e)return!0;var h=d.Ub.Yx(g.Ui(b));return h<=e*a||h<=e*c?0<=g.oi(b):!1};f.VK=function(b,a,c,e){for(var g=0;g<a;g++){var h=b[g].y,q=d.J.pk(h,c,e);q!=h&&(b[g].y=q)}};return f}();d.na=f})(p||(p={}));(function(d){var f=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,e){a=a.ja(e);e=this.ab.Pk(b);var d=this.ab.Pk(a);return e<d?-1:e==
d?c.Vq(b)&&c.tw(a)?-1:c.Vq(a)&&c.tw(b)?1:0:1};return a}(),l=function(){function a(a){this.ab=a}a.prototype.hs=function(a,c,b){this.ab.AY(b,a,c)};a.prototype.Qq=function(a){return this.ab.Pk(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.pj=new d.Ac;this.oh=new d.ia(0);this.Og=[0,0]}a.prototype.Ni=function(a,
c){this.pj.ca=a.ca-c;this.pj.ha=a.ha+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.dC=function(a,c,b){if(a>c)throw d.g.F();this.pj.ca=a-b;this.pj.ha=c+b;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.Wn=function(a,c){this.pj.ca=a-c;this.pj.ha=a+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw d.g.Da();if(0>this.Ee)return-1;for(var a=!0;a;)switch(this.Og[this.Ee]){case 1:a=this.pW();break;case 2:a=this.qW();break;case 3:a=this.rW();break;
case 4:a=this.sW();break;case 5:a=this.CX();break;case 6:a=this.lV();break;case 7:a=this.vP();break;case 0:a=this.qA();break;default:throw d.g.za();}return-1!=this.jh?this.Gq()>>1:-1};a.CZ=function(c,b,e){var d=new a;d.ab=c;d.oh.yb(20);d.Ni(b,e);return d};a.DZ=function(c,b,e){var d=new a;d.ab=c;d.oh.yb(20);d.Wn(b,e);return d};a.pa=function(c){var b=new a;b.ab=c;b.oh.yb(20);b.Ee=-1;return b};a.prototype.qA=function(){this.jh=this.HI=this.lj=this.Sc=-1;if(null!=this.ab.Je&&0<this.ab.Je.size)return this.Og[0]=
1,this.lj=this.ab.Mf,!0;this.Ee=-1;return!1};a.prototype.pW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.jh=this.Ee=-1,!1;var a=this.ab.Hq(this.Sc);if(this.pj.ha<a)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Qj(this.Sc),-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6),!0;if(a<this.pj.ca)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Nk(this.Sc),-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5),!0;this.Og[this.Ee]=2;this.HI=this.Sc;a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=
a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);return!0};a.prototype.qW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=3,this.lj=this.ab.Nk(this.HI),!0;if(this.ab.Hq(this.Sc)<this.pj.ca){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Nk(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.rW=function(){this.Sc=
this.lj;if(-1==this.Sc)return this.Og[this.Ee]=4,!0;if(this.pj.ha<this.ab.Hq(this.Sc)){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Qj(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.sW=function(){if(0==this.oh.size)return this.jh=this.Ee=-1,!1;this.Sc=this.oh.get(this.oh.size-1);this.oh.resize(this.oh.size-1);var a=
this.ab.Ok(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);-1!=this.ab.Qj(this.Sc)&&this.oh.add(this.ab.Qj(this.Sc));-1!=this.ab.Nk(this.Sc)&&this.oh.add(this.ab.Nk(this.Sc));return!0};a.prototype.lV=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq())&&this.ab.Pk(this.Gq())<=this.pj.ha)return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.CX=function(){this.jh=this.Ei;if(-1!=this.jh&&c.tw(this.Gq())&&this.ab.Pk(this.Gq())>=this.pj.ca)return this.Ei=this.JT(),!1;this.Ee--;
return!0};a.prototype.vP=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq()))return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.dH=function(){return this.ab.pg?this.ab.vg.nb(this.jh):this.ab.sj.nb(this.jh)};a.prototype.JT=function(){return this.ab.pg?this.ab.vg.Ve(this.jh):this.ab.sj.Ve(this.jh)};a.prototype.Gq=function(){return this.ab.pg?this.ab.vg.ja(this.jh):this.ab.sj.getData(this.jh)};return a}();d.WZ=a;var c=function(){function c(a){this.on=this.zi=this.vg=this.sj=this.xn=this.ak=
this.Je=this.bk=null;this.pg=a;this.ar=this.Ew=!1}c.prototype.cs=function(){this.ql(!0)};c.prototype.zs=function(a,c){if(!this.Ew)throw d.g.Da();this.bk.push(new d.Ac(a,c))};c.prototype.yq=function(){if(!this.Ew)throw d.g.X("invalid call");this.Ew=!1;this.ar=!0;this.pg||(this.qU(),this.Mw=this.bk.length)};c.prototype.eh=function(a){if(!this.pg||!this.ar)throw d.g.F("invalid call");if(-1==this.Mf){var c=this.bk.length;if(this.RA){var b=new d.ia(0);b.yb(2*c);this.VJ(b);this.zi.yb(2*c);this.zi.resize(0);
this.UJ(b);this.xn.resize(c,-1);this.xn.Zh(-1,0,c);this.RA=!1}else this.xn.Zh(-1,0,c);this.Mf=this.Hv()}c=this.DH(a<<1,this.Mf);b=this.vg.addElement((a<<1)+1,this.hA(c));this.MK(c,b);this.xn.set(a,c);this.Mw++};c.prototype.remove=function(a){if(!this.pg||!this.ar)throw d.g.X("invalid call");var c=this.xn.get(a);if(-1==c)throw d.g.F("the interval does not exist in the interval tree");this.xn.set(a,-1);this.Mw--;var b=this.hA(c),e;e=this.vg.ST(b);this.vg.Kd(this.qT(c),b);this.vg.Kd(this.MT(c),b);a=
this.vg.size(b);0==a&&(this.vg.IR(b),this.PK(e,-1));this.ak.kd(c);for(var b=this.fH(e),g=this.Qj(e),f=this.Nk(e),c=0;!(0<a||e==this.Mf||-1!=g&&-1!=f);)e==this.Qj(b)?-1!=g?(this.rl(b,g),this.mk(g,b),this.rl(e,-1)):-1!=f?(this.rl(b,f),this.mk(f,b),this.tl(e,-1)):this.rl(b,-1):-1!=g?(this.tl(b,g),this.mk(g,b),this.rl(e,-1)):-1!=f?(this.tl(b,f),this.mk(f,b),this.tl(e,-1)):this.tl(b,-1),this.mk(e,-1),c++,e=b,b=this.Ok(e),a=-1!=b?this.vg.size(b):0,g=this.Qj(e),f=this.Nk(e),b=this.fH(e)};c.prototype.reset=
function(){if(!this.pg||!this.ar)throw d.g.F("invalid call");this.ql(!1)};c.prototype.size=function(){return this.Mw};c.prototype.mf=function(){return a.pa(this)};c.prototype.VJ=function(a){for(var c=this.bk.length,b=0;b<2*c;b++)a.add(b);this.BY(a,2*c)};c.prototype.UJ=function(a){for(var c=NaN,b=0;b<a.size;b++){var e=a.get(b),d=this.Pk(e);d!=c&&(this.zi.add(e),c=d)}};c.prototype.qU=function(){var a=this.bk.length,c=new d.ia(0);c.yb(2*a);this.VJ(c);this.zi.yb(2*a);this.zi.resize(0);this.UJ(c);this.ak.Qe(a);
this.sj.Vn(2*a);var b=d.Uc.wh(a);b.Zh(-1,0,a);this.Mf=this.Hv();for(a=0;a<c.size;a++){var e=c.get(a),f=b.get(e>>1);-1!=f?this.MK(f,this.sj.addElement(this.hA(f),e)):(f=this.DH(e,this.Mf),b.set(e>>1,f))}};c.prototype.DH=function(a,c){var b=c,e=c,g,h=-1,f=0,l=this.zi.size-1,k=0,m=a>>1,p=NaN,n=NaN;g=!0;for(var r=this.wT(m),m=this.tT(m);g;){f<l?(k=f+d.J.truncate((l-f)/2),-1==this.Pz(b)&&this.vK(b,this.zi.get(k),this.zi.get(k+1))):-1==this.Pz(b)&&this.vK(b,this.zi.get(f),this.zi.get(f));var t=this.Hq(b);
if(m<t)-1!=c&&(c==b?(e=b,p=t,c=this.Qj(b),-1!=c?n=this.Hq(c):n=NaN):n>t&&(t<p?this.rl(e,b):this.tl(e,b),this.tl(b,c),this.pg&&(this.mk(b,e),this.mk(c,b)),e=b,p=t,c=-1,n=NaN)),l=this.rT(b),-1==l&&(l=this.Hv(),this.YX(b,l)),b=l,l=k;else if(r>t)-1!=c&&(c==b?(e=b,p=t,c=this.Nk(b),-1!=c?n=this.Hq(c):n=NaN):n<t&&(t<p?this.rl(e,b):this.tl(e,b),this.rl(b,c),this.pg&&(this.mk(b,e),this.mk(c,b)),e=b,p=t,c=-1,n=NaN)),f=this.NT(b),-1==f&&(f=this.Hv(),this.iY(b,f)),b=f,f=k+1;else{g=this.Ok(b);-1==g&&(g=this.wR(b),
this.PK(b,g));var A=this.dP(g,a),h=this.uR();this.lY(h,g);this.XX(h,A);b!=c&&(t<p?this.rl(e,b):this.tl(e,b),this.pg&&this.mk(b,e),-1!=c&&(n<t?this.rl(b,c):this.tl(b,c),this.pg&&this.mk(c,b)));g=!1}}return h};c.prototype.Hv=function(){return this.Je.Pe()};c.prototype.wR=function(a){return this.pg?this.vg.Ks(a):this.sj.mi(a)};c.prototype.uR=function(){return this.ak.Pe()};c.prototype.ql=function(a){a?(this.Ew=this.RA=!0,this.ar=!1,null==this.zi?this.zi=d.Uc.wh(0):this.zi.resize(0),null==this.bk?this.bk=
[]:this.bk.length=0):this.RA=!1;this.pg?null==this.xn?(this.xn=d.Uc.wh(0),this.vg=new d.uk,this.vg.Ep(new f(this))):this.vg.clear():null==this.sj?this.sj=new d.Xp:this.sj.clear();null==this.Je?(this.ak=new d.ad(3),this.Je=new d.ad(this.pg?8:7)):(this.ak.Vi(!1),this.Je.Vi(!1));this.Mf=-1;this.Mw=0};c.prototype.vK=function(a,c,b){this.SX(a,c);this.TX(a,b)};c.prototype.Hq=function(a){var c=this.Pz(a);if(-1==c)return NaN;c=this.Pk(c);a=this.Pk(this.YS(a));return c==a?c:.5*(c+a)};c.prototype.SX=function(a,
c){this.Je.P(a,0,c)};c.prototype.TX=function(a,c){this.Je.P(a,1,c)};c.prototype.YX=function(a,c){this.Je.P(a,3,c)};c.prototype.iY=function(a,c){this.Je.P(a,4,c)};c.prototype.PK=function(a,c){this.Je.P(a,2,c)};c.prototype.rl=function(a,c){this.Je.P(a,5,c)};c.prototype.tl=function(a,c){this.Je.P(a,6,c)};c.prototype.mk=function(a,c){this.Je.P(a,7,c)};c.prototype.lY=function(a,c){this.ak.P(a,0,c)};c.prototype.dP=function(a,c){return this.pg?this.vg.addElement(c,a):this.sj.addElement(a,c)};c.prototype.XX=
function(a,c){this.ak.P(a,1,c)};c.prototype.MK=function(a,c){this.ak.P(a,2,c)};c.prototype.Ol=function(a){return this.pg?this.vg.xc(a):this.sj.xc(a)};c.prototype.Zs=function(a){return this.pg?this.vg.Fc(a):this.sj.Fc(a)};c.Vq=function(a){return 0==(a&1)};c.tw=function(a){return 1==(a&1)};c.prototype.Pz=function(a){return this.Je.S(a,0)};c.prototype.YS=function(a){return this.Je.S(a,1)};c.prototype.Ok=function(a){return this.Je.S(a,2)};c.prototype.rT=function(a){return this.Je.S(a,3)};c.prototype.NT=
function(a){return this.Je.S(a,4)};c.prototype.Qj=function(a){return this.Je.S(a,5)};c.prototype.Nk=function(a){return this.Je.S(a,6)};c.prototype.fH=function(a){return this.Je.S(a,7)};c.prototype.hA=function(a){return this.ak.S(a,0)};c.prototype.qT=function(a){return this.ak.S(a,1)};c.prototype.MT=function(a){return this.ak.S(a,2)};c.prototype.wT=function(a){return this.bk[a].ca};c.prototype.tT=function(a){return this.bk[a].ha};c.prototype.BY=function(a,c){null==this.on&&(this.on=new d.Hu);var b=
new l(this);this.on.sort(a,0,c,b)};c.prototype.AY=function(a,b,e){var d=this;a.Gd(b,e,function(a,b){var e=d.Pk(a),g=d.Pk(b);return e<g||e==g&&c.Vq(a)&&c.tw(b)?-1:1})};c.prototype.Pk=function(a){var b=this.bk[a>>1];return c.Vq(a)?b.ca:b.ha};return c}();d.ns=c})(p||(p={}));(function(d){var f=function(){function f(b){if(null==b)throw d.g.X("Invalid arguement");this.Ke=b;var a=b.eT();a.bU()?b.je.UH()?this.Zo=d.di.PannableFold:this.Zo=d.di.Clip:this.Zo=d.di.DontClip;a.cU()?b.He.UH()?this.Dn=d.di.PannableFold:
this.Dn=d.di.Clip:this.Dn=d.di.DontClip;this.pn=a.yv;this.yI=a.uz;b=this.Ke.EI;this.mI=b.et(2147483648);this.Gw=b.et(1073741824)}f.Xg=function(b,a,c){return a.xr.Xg(b,c)};f.gs=function(b,a,c,e){return b.xr.gs(a,c,e)};f.Du=function(b,a,c,e){c=0>c?a.length:c;b=b.xr.gs(a,c,e);if(b==c)return b;for(var d=a=0;d<c;d++){var h=e[d];h.isNaN()||(a<d&&e[a].L(h),a++)}for(;a<c;a++)e[a].$c();return b};f.LC=function(b,a,c,e){return b.xr.LC(a,c,e)};f.iL=function(b,a,c,e){c=0>c?a.length:c;b=b.xr.LC(a,c,e);if(b==c)return b;
for(var d=a=0;d<c;d++){var h=e[d];isNaN(h.x)||(a<d&&e[a].I(h.x,h.y,h.z),a++)}for(;a<c;a++)e[a].dv();return b};f.transform=function(b,a,c,e,g){if(b.Ho())return d.na.jR(e,a,c),c;for(var h=[],q=0,u=0;u<c;){for(var l=Math.min(h.length,c-u),k=u,m=0;k<l;k++,m++)null==h[m]?h[m]=a[k].w():a[k].w(h[m]);var p;p=g?f.Du(b,h,l,h):f.gs(b,h,l,h);for(m=k=0;k<p;k++,m++)null==e[u]&&(e[u]=new d.Wa(a[u])),e[u].rb(h[m]);u+=l;q+=p}return q};f.jL=function(b,a,c){if(0==c)return[];var e=new d.Ed;e.nP(a,2*c);a=this.Xg(e,b,
null);b=a.Pa(0);a=2*a.D();c=d.J.gf(a);b.pl(0,a,c,0,!0);return c};f.prototype.gs=function(b,a,c){if(this.Ke.Ho())return b!=c&&d.na.Fv(c,b,a),a;var e=this.Ke.je,g=this.Ke.He,h=e.Fb(),q=g.Fb();if(0==h&&h===q){var f=e.Yi(),g=g.Yi(),g=f/g,f=new d.Hd;f.Op(g,g);f.ZY(b,a,c);return a}f=d.J.qv(Math.min(a,64));if(3==h){var l;l=e.ij;e=l.Gk();h=e.Fb();c!=b&&d.na.Fv(c,b,a);d.Ib.Dl(l,c,a,!0);l.Du(d.Om.forward,c,a);d.Ib.Cl(l,c,a,!0)}if(3==h||3===q)throw d.g.X("image: transform_in_place_");if(2==h)this.Zo==d.di.Clip?
(c!=b&&d.na.Fv(c,b,a),b=e.Mk(),d.Ib.JU(b,e,c,a)):(c!=b&&d.na.Fv(c,b,a),e.Jc()&&(h=e.re(0),l=e.qe(),d.Ib.yY(c,a,l,h),d.Ib.BG(c,a,e,0))),d.Ib.wN(e,c,a,f);else for(h=e.re(0),l=e.qe(),e=0;e<a;e++)d.Ib.zY(b[e],l,h,c[e]);d.Ib.uN(this.Ke,c,a,f);b=0;(q=2==q)?b=g.pi():isNaN(this.pn)||(b=this.pn);q&&this.Dn!=d.di.Clip||d.Ib.BG(c,a,g.kc(),b);q&&(d.Ib.LH(c,a,g,this.Dn),d.Ib.vN(g,c,a,f));b=a;for(e=0;e<a;++e)c[e].isNaN()&&b--;return b};f.prototype.LC=function(b,a,c){a=0>a?b.length:a;if(this.Ke.Ho()){for(var e=
0;e<a;++e)null==c[e]&&(c[e]=new d.qd),c[e].I(b[e].x,b[e].y,b[e].z);return a}var g=this.Ke.je,e=this.Ke.He,h=g.Fb(),q=e.Fb();if(0==h&&h==q)return g=g.Yi(),e=e.Yi(),e=g/e,g=new d.eO,g.Op(e,e,e),g.transform(b,a,c),a;h=new d.Ed;h.Ud(1);h.Ud(3);h.mP(b);b=h.Pa(3);e=0;for(g=a;e<g;e++)b.write(e,e);h=this.Xg(h,null);for(e=0;e<a;++e)null==c[e]?c[e]=d.qd.pa(NaN,NaN,NaN):c[e].dv();if(null==h)return 0;b=h.Pa(3);var q=h.Pa(0),f=h.Pa(1);h.fX(c,a);e=0;for(g=h.D();e<g;e++)a=b.read(e),q.oX(2*e,c[a]),c[a].z=f.read(e);
return h.D()};f.prototype.Xg=function(b,a){if(this.Ke.Ho()||b.u())return b;if(33==b.G())return this.PJ(b);var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),h=e.Fb();if(0==g&&g==h)return c=c.Yi(),e=e.Yi(),c/=e,e=new d.Hd,e.Op(c,c),c=d.T.oe(b),c.Xc(e),c;switch(b.G()){case 1607:case 1736:e=this.NJ(b,a);break;case 550:e=this.WW(b,a);break;case 197:e=this.VW(b,a);break;default:throw d.g.X("");}return e};f.prototype.PJ=function(b){var a=b.w(),c=[];c[0]=a;this.gs(c,1,c);b=new d.Wa(b);b.rb(c[0]);return b};f.prototype.NJ=
function(b,a){if(b.hn())throw d.g.X("curves not supported");var c=b.G();if(1736==c)return this.XW(b,a);if(1607==c)return this.YW(b,a);throw d.g.X("projectMultiPath");};f.prototype.XW=function(b,a){var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),h=e.Fb(),q=d.J.qv(Math.min(b.D(),64));b=d.Ja.oe(b);if(3==g){var u=c.ij,c=u.Gk(),g=c.Fb();b=u.Dl(b,!0);this.qq(u,d.Om.forward,b);b=u.Cl(b,!0)}u=null;3==h&&(u=e.ij,e=u.Gk(),h=e.Fb());var l=2==g,k=2==h,m=k?e.kc():e,p=!k&&!this.Gw,h=!1,n=b;if(l){if(n=d.Ib.MJ(n,c,this.Zo,
a),n.u())return n}else{b=new d.h;n.ac(b);g=c.qe();if(b.A<g.A||b.B>g.B){var r=d.h.pa(b.o-1,g.A,b.v+1,g.B),n=d.uh.rq(n,r,c,NaN,0,a);if(n.u())return n}b.N()>2*g.N()&&(n=d.Ib.Aq(n,-2*g.N(),2*g.N(),c,!0,0,!0,a))}b=this.yI;(g=!isNaN(b))&&(n=d.Jm.local().V(n,b,a));var r=k?e.Sj():null,t=NaN;l&&(t=c.pi());var A=null!=e.Ws();if(this.mI)l&&(d.Ib.qs(c,t,n,q),g&&(l=c.Ch(),t=c.kc().Ch(),b*=t/l)),d.Ib.ps(this.Ke,n,p,q),g&&(l=c.kc().Ch(),t=e.kc().Ch(),b*=t/l),c=n;else{var z=new d.Ua(n.description);z.UE(n);l&&(d.Ib.qs(c,
t,z,q),g&&(l=c.Ch(),t=c.kc().Ch(),b*=t/l));d.Ib.ps(this.Ke,z,p,q);g&&(l=c.kc().bn(),t=e.kc().bn(),b*=t/l);p=NaN;k?(r=e.Sj(),p=e.pi()):isNaN(this.pn)||(p=this.pn);l=f.se(c)|f.se(e);t=10*m.re(0);this.Gw&&(l=3,t=0);c=d.Ib.KS(n,c,z,m,p,a,l,t)}A&&(c=d.Ib.jF(c,e,a));k&&(h||(k=m.qe().N(),c.xf(0,0).N()>=k-m.re(0)&&(m=r.getNorthPoleLocation(),k=r.getSouthPoleLocation(),n=r.getNorthPoleGeometry(),r=r.getSouthPoleGeometry(),p=0,n==d.Bg.PE_POLE_POINT&&m!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(p=1),r==d.Bg.PE_POLE_POINT&&
k!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(p|=2),0!==p&&(h=!0))),c=d.Ib.tA(c,e,this.Dn,a),g&&(c=d.Jm.local().V(c,b,a)),d.Ib.vy(e,c,q));if(c.u())return c;h&&(c=d.Km.local().V(c,e,!1,a));null!=u&&(c=u.Cl(c,!1),this.qq(u,d.Om.reverse,c),c=u.Dl(c,!1));return c};f.se=function(b){if(2!=b.Fb())return 0;var a=0,c=b.Sj();b=c.getNorthPoleLocation();var e=c.getSouthPoleLocation(),g=c.getNorthPoleGeometry(),c=c.getSouthPoleGeometry();g==d.Bg.PE_POLE_POINT&&b!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);c==d.Bg.PE_POLE_POINT&&
e!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};f.prototype.YW=function(b,a){var c=this.Ke.je,e=this.Ke.He,g=c.Fb(),h=e.Fb(),q=d.J.qv(Math.min(b.D(),64));b=d.Ua.oe(b);if(3==g){var u=c.ij,c=u.Gk(),g=c.Fb();b=u.Dl(b,!0);this.qq(u,d.Om.forward,b);b=u.Cl(b,!0)}u=null;3==h&&(u=e.ij,e=u.Gk(),h=e.Fb());var l=2==g,g=(h=2==h)?e.kc():e,k=!h&&!this.Gw;if(l){if(b=d.Ib.MJ(b,c,this.Zo,a),b.u())return b}else{var m=new d.h;b.ac(m);var p=c.qe();if(m.A<p.A||m.B>p.B)if(m=d.h.pa(m.o-1,p.A,m.v+1,p.B),b=d.uh.rq(b,m,
c,NaN,0,a),b.u())return b}var n=NaN;l&&(n=c.pi());var m=null!=e.Ws(),p=this.yI,r=!isNaN(p);r&&(b=d.Jm.local().V(b,p,a));if(this.mI)l&&d.Ib.qs(c,n,b,q),r&&(l=c.Ch(),n=c.kc().Ch(),p*=n/l),d.Ib.ps(this.Ke,b,k,q),r&&(l=c.kc().Ch(),n=e.kc().Ch(),p*=n/l),c=b;else{var t=new d.Ua(b.description);t.UE(b);l&&(d.Ib.qs(c,n,t,q),r&&(l=c.Ch(),n=c.kc().Ch(),p*=n/l));d.Ib.ps(this.Ke,t,k,q);r&&(l=c.kc().Ch(),n=e.kc().Ch(),p*=n/l);k=NaN;h?k=e.pi():isNaN(this.pn)||(k=this.pn);l=f.se(c)|f.se(e);n=10*g.re(0);this.Gw&&
(l=3,n=0);c=d.Ib.LS(b,c,t,g,k,a,l,n)}m&&(c=d.Ib.jF(c,e,a));h&&(c=d.Ib.tA(c,e,this.Dn,a),r&&(c=d.Jm.local().V(c,p,a)),d.Ib.vy(e,c,q));if(c.u())return c;null!=u&&(c=u.Cl(c,!1),this.qq(u,d.Om.reverse,c),c=u.Dl(c,!1));return c};f.prototype.VW=function(b,a){var c=(b.fa()+b.N())/400;if(0!=c){var e=d.Jm.local().V(b,c,a),e=this.NJ(e,a),c=b.Ka();e.Qn(c)}else c=new d.Wa(b.Bq()),e=this.PJ(c),c=b.Ka(),e.u()?c.Oa():(b.copyTo(c),e=e.w(),c.I(e.x,e.y,e.x,e.y));return c};f.prototype.WW=function(b,a){b=d.T.oe(b);var c=
this.Ke.je,e=this.Ke.He,g=c.Fb(),h=e.Fb(),q=d.J.qv(Math.min(b.D(),64));if(3==g){var f=c.ij,c=f.Gk(),g=c.Fb();b=f.Cl(b,!0);this.qq(f,d.Om.forward,b);b=f.Dl(b,!0)}if(2==g){this.Zo==d.di.Clip?b=d.tk.local().V(b,c.Mk(),c,a):c.Jc()&&(g=new d.h,b.ac(g),c.qe().contains(g)||(this.Zo==d.di.PannableFold&&(b=d.Ib.Mj(b,c)),d.Ib.xu(b,c.qe(),c.re(0),!0),b=d.Ib.Xm(b,c,0,!0,0,a)));if(b.u())return b;d.Ib.qs(c,0,b,q)}else d.Ib.xu(b,c.qe(),c.re(0),!0);d.Ib.ps(this.Ke,b,!1,q);c=0;g=!1;f=null;3==h&&(g=!0,f=e.ij,e=f.Gk(),
h=e.Fb());(h=2==h)?c=e.pi():isNaN(this.pn)||(c=this.pn);h&&this.Dn!=d.di.Clip||(b=d.Ib.Xm(b,e.kc(),c,!1,0,a));if(h&&(b=d.Ib.tA(b,e,this.Dn,a),d.Ib.vy(e,b,q),b.u()))return b;g&&(b=f.Cl(b,!0),this.qq(f,d.Om.reverse,b),b=f.Dl(b,!0));return b};f.prototype.qq=function(b,a,c){var e=c.D();if(0!=e){for(var g=c.Pa(0),h=d.J.gf(200,0),q=[],f=0;f<e;){var l=Math.min(100,e-f);g.pl(2*f,2*l,h,2,!0);for(var k=0;k<l;++k)q[k]=d.b.pa(h[2*f],h[2*f+1]);b.Du(a,q,l);f+=l}c.Dc(1993)}};f.rk=function(b,a,c){if(null==b||null==
a||!a.Jc())throw d.g.X("Invalid Arguement");if(b.u())return b;var e;e=b.G();197==e?(e=new d.Ja(b.description),e.jd(b,!1)):d.T.Oc(e)?(e=new d.Ua(b.description),e.dc(b,!0)):e=b;e=d.Ib.Mj(e,a);return e.u()?e:d.Ib.Xm(e,a,0,e!=b,0,c)};f.Nj=function(b,a,c,e){if(null==b||null==a||!a.Jc())throw d.g.X("Invalid Arguement");if(b.u())return b;var g=b.G();if(d.T.Ic(g)){b=d.Ib.Mj(b,a);g=new d.h;b.s(g);for(var h=d.na.Zy(a,g,!1),q=a.Bh(),u=Math.floor((g.o-q.o)/q.N())*q.N()+q.o;u<g.v;)u>g.o+h&&u<g.v-h&&(b=d.Ib.pU(b,
a,c,u)),u+=q.N()}else{if(197==g)return g=new d.Ja(b.description),g.jd(b,!1),f.Nj(g,a,c,e);if(d.T.Oc(g))return g=new d.Ua(b.description),g.dc(b,!0),f.Nj(g,a,c,e)}return f.rk(b,a,e)};f.Yp=function(b,a,c,e){var g=a.Fb(),h=new d.eE;a.iX(h);if(0==g)return f.Dj(b,h,a,c);e==d.Up.foldAndClipWithHorizon&&a.Jc()&&(b=f.rk(b,a,c));b=f.Dj(b,h,a,c);if(e==d.Up.clipToDomainOnly||b.u())return b;if(1==g)return e==d.Up.clipWithHorizon?(e=new d.h,b.ac(e),g=a.qe(),h=.01*g.N(),e.A=g.A,e.B=g.B,e.o-=h,e.v+=h,d.uh.rq(b,e,
a,NaN,0,c)):b;if(2==g)return g=a.Mk(),e==d.Up.clipWithHorizon||e==d.Up.foldAndClipWithHorizon?(a=d.tk.local().V(b,g,a,c),a==g?d.T.oe(a):a):b;if(3==g)return b;throw d.g.X("missing implementation");};f.Dj=function(b,a,c,e){var g=a.WT(),h=b.hasAttribute(1),q=b.hasAttribute(2),f=new d.Ac;f.Oa();var l=new d.Ac;l.Oa();h&&(f=a.XT());q&&(l=a.sT());a=d.uh.rq(b,g,c,NaN,0,e);h&&(h=a.xf(1,0),f.contains(h)||(b==a&&(a=d.T.oe(a)),d.na.UK(a,f,1)));q&&(h=a.xf(2,0),l.contains(h)||(b==a&&(a=d.T.oe(a)),d.na.UK(a,l,2)));
return a};return f}();d.ko=f})(p||(p={}));(function(d){var f=function(f){function b(a,c,b,g){f.call(this);void 0===a?this.description=d.ye.Ig():void 0===b?this.description=a:(this.description=d.ye.Ig(),this.wC(a,c),this.vm(b,g))}J(b,f);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,c=this.ra-this.oa;return Math.sqrt(a*a+c*c)};b.prototype.fh=function(a){var c=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(c*c+b*b)<=a};b.prototype.Go=function(){return!1};b.prototype.Eg=
function(){var a=new d.b;a.zc(this.Cc(),this.ec());return a};b.fR=function(a,c){return new b(a.x,a.y,c.x,c.y)};b.prototype.Qn=function(a){a.Oa();a.Fg(this.description);var c=new d.h;this.s(c);a.Gp(c);for(var c=1,b=this.description.Ga;c<b;c++)for(var g=this.description.rd(c),h=d.ma.Xa(g);c<h;c++){var q=this.xf(g,0);a.setInterval(g,0,q)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Cp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.ae(0,1,0));a.Nb(this.sa,
this.oa,this.ae(1,1,0))};b.prototype.Xc=function(a){if(a instanceof d.Hd){this.Bc();var c=new d.b;c.x=this.ua;c.y=this.ra;a.$h(c,c);this.ua=c.x;this.ra=c.y;c.x=this.sa;c.y=this.oa;a.$h(c,c);this.sa=c.x;this.oa=c.y}else this.Bc(),c=new d.qd,c.x=this.ua,c.y=this.ra,c.z=this.ae(0,1,0),c=a.Rp(c),this.ua=c.x,this.ra=c.y,this.oo(0,1,0,c.z),c.x=this.sa,c.y=this.oa,c.z=this.ae(1,1,0),c=a.Rp(c),this.sa=c.x,this.oa=c.y,this.oo(1,1,0,c.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.Cy=
function(a,c){return(this.sa-a-(this.ua-a))*(this.oa-c+(this.ra-c))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.bI=function(a){return a/this.Rb()};b.prototype.PG=function(a){return d.Ub.Xq(this.ua,this.sa,a)};b.prototype.XS=function(a){return d.Ub.Xq(this.ra,this.oa,a)};b.prototype.Hl=function(a,c){var b=new d.Cg;this.yh(a,c,b);return b.get()};b.prototype.yh=function(a,c,b){if(null==b)throw d.g.F();b.Js();b=b.get();b.Fg(this.description);var e=new d.b;this.gc(a,e);b.wC(e.x,e.y);
this.gc(c,e);b.vm(e.x,e.y);for(var e=1,h=this.description.Ga;e<h;e++)for(var q=this.description.Td(e),f=d.ma.Xa(q),l=0;l<f;l++){var k=this.Yc(a,q,l);b.Tx(q,l,k);k=this.Yc(c,q,l);b.Lx(q,l,k)}};b.prototype.Yc=function(a,c,b){if(0==c)return 0==b?this.gc(a).x:this.gc(a).y;switch(d.ma.Wz(c)){case 0:return.5>a?this.dt(c,b):this.Os(c,b);case 1:var e=this.dt(c,b);c=this.Os(c,b);return d.Ub.Xq(e,c,a);case 2:throw d.g.X("not implemented");}throw d.g.za();};b.prototype.pe=function(a,c){var b=this.sa-this.ua,
d=this.oa-this.ra,h=b*b+d*d;if(0==h)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*d)/h;c||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,c,b,d){if(a){a=this.oa-this.ra;if(0==a)return c==this.oa?-1:0;c=(c-this.ra)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.PG(c))}else{a=this.sa-this.ua;if(0==a)return c==this.sa?-1:0;c=(c-this.ua)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.XS(c))}null!=d&&(d[0]=c);return 1};b.prototype.pf=function(a,c){var b=this.oa-this.ra;if(0==b)return a==this.oa?c:NaN;b=(a-
this.ra)/b;a=this.PG(b);1==b&&(a=this.sa);return a};b.prototype.av=function(a,c,b){return 0<=this.lq(a.x,a.y,c,b)};b.prototype.Si=function(a,c,b){return 0<=this.lq(a,c,b,!0)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.BJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,c=this.description.Er-2;a<c;a++){var b=this.la[a];this.la[a]=this.la[a+c];this.la[a+c]=b}}};b.prototype.ev=
function(a,c){a=d.b.pa(a,c);a.sub(this.ec());c=new d.b;c.zc(this.Cc(),this.ec());var b=c.Ui(a);a=8.881784197001252E-16*(Math.abs(c.x*a.y)+Math.abs(c.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,c,b,g){var e=this.ua,q=this.ra,f=a-e,l=c-q,f=Math.sqrt(f*f+l*l);if(f<=Math.max(b,6.661338147750939E-16*f))return g&&0==f?NaN:0;f=a-this.sa;l=c-this.oa;f=Math.sqrt(f*f+l*l);if(f<=Math.max(b,6.661338147750939E-16*f))return g&&0==f?NaN:1;f=this.sa-this.ua;l=this.oa-this.ra;g=Math.sqrt(f*f+l*l);if(0<
g){var k=1/g,f=f*k,l=l*k,m=a-e,p=c-q,n=m*f+p*l,r=1.7763568394002505E-15*(Math.abs(m*f)+Math.abs(p*l)),t=f,f=-l,l=t,r=Math.max(b,r);if(n<-r||n>g+r)return NaN;if(Math.abs(m*f+p*l)<=Math.max(b,1.7763568394002505E-15*(Math.abs(m*f)+Math.abs(p*l)))&&(f=d.J.pk(n*k,0,1),.5>=f?(l=this.ua+(this.sa-this.ua)*f,g=this.ra+(this.oa-this.ra)*f):(l=this.sa-(this.sa-this.ua)*(1-f),g=this.oa-(this.oa-this.ra)*(1-f)),d.b.xz(l,g,a,c)<=b)){if(.5>f){if(d.b.xz(l,g,e,q)<=b)return 0}else if(d.b.xz(l,g,this.sa,this.oa)<=b)return 1;
return f}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.MO(a)};b.prototype.IE=function(a,c,b){var e=b?this.ua:this.sa;b=b?this.ra:this.oa;var h=new d.b;h.x=a.sa-e;h.y=a.oa-b;return c.oi(h)>6.661338147750939E-16*c.yE(h)?(h.x=a.ua-e,h.y=a.ra-b,c.oi(h)<=6.661338147750939E-16*c.yE(h)):!0};b.prototype.HE=function(a){var c=new d.b;c.x=this.sa-this.ua;c.y=this.oa-this.ra;if(!this.IE(a,c,!1))return!1;c.Lr();return this.IE(a,c,!0)?!0:!1};b.We=
function(a,c){var b=a.ev(c.ua,c.ra),d=a.ev(c.sa,c.oa);if(0>b&&0>d||0<b&&0<d)return!1;b=c.ev(a.ua,a.ra);d=c.ev(a.sa,a.oa);if(0>b&&0>d||0<b&&0<d)return!1;b=a.Rb();d=c.Rb();return b>d?a.HE(c):c.HE(a)};b.se=function(a,c,b){var e=d.b.pa(NaN,NaN),h=a.sa-a.ua,q=a.oa-a.ra,f=c.sa-c.ua,l=c.oa-c.ra,k=f*q-h*l;if(0==k)return e;var m=8.881784197001252E-16*(Math.abs(f*q)+Math.abs(h*l)),p=c.ua-a.ua,n=c.ra-a.ra,r=f*n-p*l,t=r/k,A=Math.abs(k),f=(8.881784197001252E-16*(Math.abs(f*n)+Math.abs(p*l))*A+m*Math.abs(r))/(k*
k)+2.220446049250313E-16*Math.abs(t);if(t<-f||t>1+f)return e;l=h*n-p*q;f=l/k;h=(8.881784197001252E-16*(Math.abs(h*n)+Math.abs(p*q))*A+m*Math.abs(l))/(k*k)+2.220446049250313E-16*Math.abs(f);if(f<-h||f>1+h)return e;t=d.J.pk(t,0,1);h=d.J.pk(f,0,1);q=a.gc(t);k=c.gc(h);m=new d.b;m.zc(q,k);if(m.length()>b&&(m.add(q,k),m.scale(.5),t=a.pe(m,!1),h=c.pe(m,!1),a=a.gc(t),c=c.gc(h),a.sub(c),a.length()>b))return e;e.ka(t,h);return e};b.QO=function(a,c,e,d){var g=0;if(a.ua==c.ua&&a.ra==c.ra||a.ua==c.sa&&a.ra==c.oa)if(g++,
!d)return 1;if(a.sa==c.ua&&a.oa==c.ra||a.sa==c.sa&&a.oa==c.oa){g++;if(2==g)return 2;if(!d)return 1}return c.Si(a.ua,a.ra,e)||c.Si(a.sa,a.oa,e)||a.Si(c.ua,c.ra,e)||a.Si(c.sa,c.oa,e)?1:d&&0!=g?0:0==b.We(a,c)?0:1};b.Gy=function(a,c,e,g,h,q){var f=0,l=a.lq(c.ua,c.ra,q,!1),k=a.lq(c.sa,c.oa,q,!1),m=c.lq(a.ua,a.ra,q,!1),p=c.lq(a.sa,a.oa,q,!1);isNaN(l)||(null!=g&&(g[f]=l),null!=h&&(h[f]=0),null!=e&&(e[f]=d.b.pa(c.ua,c.ra)),f++);isNaN(k)||(null!=g&&(g[f]=k),null!=h&&(h[f]=1),null!=e&&(e[f]=d.b.pa(c.sa,c.oa)),
f++);2==f||isNaN(m)||0==l&&0==m||0==k&&1==m||(null!=g&&(g[f]=0),null!=h&&(h[f]=m),null!=e&&(e[f]=d.b.pa(a.ua,a.ra)),f++);2==f||isNaN(p)||1==l&&0==p||1==k&&1==p||(null!=g&&(g[f]=1),null!=h&&(h[f]=p),null!=e&&(e[f]=d.b.pa(c.sa,c.oa)),f++);if(0<f)return 2==f&&null!=g&&g[0]>g[1]&&(a=g[0],g[0]=g[1],g[1]=a,null!=h&&(g=h[0],h[0]=h[1],h[1]=g),null!=e&&(h=d.b.pa(e[0].x,e[0].y),e[0]=e[1],e[1]=h)),f;f=b.se(a,c,q);if(isNaN(f.x))return 0;null!=e&&(e[0]=a.gc(f.x));null!=g&&(g[0]=f.x);null!=h&&(h[0]=f.y);return 1};
b.prototype.qH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+"]"};return b}(d.cE);d.Hb=f})(p||(p={}));(function(d){var f=function(){function d(){this.am=[];this.Ca=-1}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){if(null!=this.am&&0!=this.am.length){this.Ca++;var b=this.am[0];1>=this.am.length?this.am=[]:this.am=this.am.slice(1);return b}return this.am=
null};d.prototype.SY=function(b){this.am.push(b)};d.prototype.Re=function(){return!0};return d}();d.QM=f})(p||(p={}));(function(d){(function(d){d[d.enumFillRuleOddEven=0]="enumFillRuleOddEven";d[d.enumFillRuleWinding=1]="enumFillRuleWinding"})(d.IN||(d.IN={}));var f=function(f){function b(a,c){f.call(this);this.$f=!1;this.ur=null;this.gr=this.hr=0;this.bj=null;this.hh=!1;this.Xd=this.tj=this.cf=this.jb=this.kb=null;this.mr=this.Ta=this.ir=0;if(void 0===c)this.$f=a,this.hh=!1,this.qa=this.gr=this.hr=
this.ir=0,this.description=d.ye.Ig();else{if(null==c)throw d.g.F();this.$f=a;this.hh=!1;this.qa=this.gr=this.hr=this.ir=0;this.description=c}this.bj=null;this.Ta=0}J(b,f);b.prototype.hn=function(){return 0<this.ir};b.prototype.Fy=function(){this.Bc();null==this.ur?this.ur=new d.Wa(this.description):this.ur.Fg(this.description)};b.prototype.$x=function(a,c){var b=new d.b;b.x=a;b.y=c;this.zu(b)};b.prototype.zu=function(a){this.Fy();this.ur.rb(a);this.hh=!0};b.prototype.Rf=function(a){if(a.u())throw d.g.F();
this.om(a.description);this.Fy();a.copyTo(this.ur);this.hh=!0};b.prototype.By=function(){var a=1;this.hh&&(this.Fy(),null==this.kb?(this.kb=d.Uc.wh(2),this.kb.write(0,0),this.jb=d.Uc.vq(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.$f&&this.jb.write(this.jb.size-2,1),a++);var c=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.zl(c+a);this.jb.write(this.kb.size-1,0);this.hh&&(this.vu(c,this.ur),this.hh=!1)};b.prototype.Xj=function(a,c){this.By();this.rb(this.qa-
1,a,c)};b.prototype.aj=function(a){this.By();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.By();this.vu(this.qa-1,a)};b.prototype.nW=function(a){this.Bc();if(this.$f)throw d.g.za();var c=this.aa();if(a>c)throw d.g.za();if(this.Qb(a)){if(null==this.jb)throw d.g.za();var b=this.qa,g=this.wa(a),h=this.Gc(a);this.zl(this.qa+1);this.wc();for(var q=0,f=this.description.Ga;q<f;q++)if(null!=this.ya[q]){var l=d.ma.Xa(this.description.Td(q));this.ya[q].Rk(l*h,this.ya[q],l*g,l,!0,1,l*b)}for(;c>a;c--)b=
this.kb.read(c),this.kb.write(c,b+1);this.jb.fz(a,1)}};b.prototype.sq=function(){var a;this.Cu();void 0===a&&(this.hh=!1,a=this.aa()-1);var c=this.jb.read(a);this.jb.write(a,c|1);null!=this.cf&&(a=this.Gc(a)-1,this.cf.write(a,1),this.tj.write(a,-1))};b.Dj=function(a){return b.se[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Eo=function(a){if(this.Qb(a))return!0;var c=this.wa(a);a=this.Gc(a)-1;if(c>a)return!1;c=this.Ba(c);a=this.Ba(a);return c.ub(a)};b.prototype.ft=function(a){return 0!=
(this.jb.read(a)&2)};b.prototype.dc=function(a,c){this.om(a.description);if(322==a.G()){var b=new d.Wa;if(c||this.u())a.Dp(b),this.Rf(b);a.Bp(b);this.lineTo(b)}else throw d.g.za();};b.prototype.oq=function(a){var c=0==this.qa;this.$x(a.o,a.A);this.Xj(a.o,a.B);this.Xj(a.v,a.B);this.Xj(a.v,a.A);this.sq();this.hh=!1;c&&this.lg(256,!1)};b.prototype.jd=function(a,c){if(!a.u()){for(var b=0==this.qa,g=new d.Wa(this.description),h=0;4>h;h++)a.ig(c?4-h-1:h,g),0==h?this.Rf(g):this.lineTo(g);this.sq();this.hh=
!1;b&&!c&&this.lg(256,!1)}};b.prototype.add=function(a,c){for(var b=0;b<a.aa();b++)this.Ti(a,b,!c)};b.prototype.Ti=function(a,c,b){this.Yf(-1,a,c,b)};b.prototype.Bl=function(a,c){this.rA(a,c)};b.prototype.Bs=function(a,c,b,g,h){h||0!=this.aa()||(h=!0);0>c&&(c=a.aa()-1);if(c>=a.aa()||0>b||0>g||g>a.ew(c))throw d.g.X("index out of bounds");if(0!=g){var e=a.Qb(c)&&b+g==a.ew(c);if(!e||1!=g){this.hh=!1;this.om(a.description);b=a.wa(c)+b+1;h&&(g++,b--);e&&g--;e=this.qa;this.zl(this.qa+g);this.wc();if(h){if(0==
g)return;this.kb.add(this.qa);h=a.jb.read(c);h&=-5;this.$f&&(h|=1);this.jb.write(this.jb.size-1,h);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);h=0;for(var f=this.description.Ga;h<f;h++){var l=this.description.rd(h),k=d.ma.Xa(l),m=a.description.mg(l);0>m||null==a.ya[m]?this.ya[h].Vj(k*e,d.ma.de(l),g*k,k*e):this.ya[h].Rk(k*e,a.ya[m],k*b,g*k,!0,k,k*e)}if(this.hn())throw d.g.za();if(a.ft(c))throw d.g.za();this.Dc(1993)}}};b.prototype.eK=function(){for(var a=0,c=this.aa();a<c;a++)this.BX(a)};
b.prototype.BX=function(a){this.wc();if(a>=this.aa())throw d.g.F();var c=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var g=0,h=this.description.Ga;g<h;g++)if(null!=this.ya[g]){var q=d.ma.Xa(this.description.Td(g));this.ya[g].Zd(q*(c+a),q*(b-a),q)}this.Dc(1993)};b.prototype.Rr=function(a){this.wc();var c=this.aa();0>a&&(a=c-1);if(a>=c)throw d.g.F();for(var b=this.wa(a),g=this.La(a),h=0,q=this.description.Ga;h<q;h++)if(null!=this.ya[h]){var f=d.ma.Xa(this.description.Td(h));this.ya[h].Fk(f*b,f*g,f*
this.qa)}for(b=a+1;b<=c;b++)h=this.kb.read(b),this.kb.write(b-1,h-g);if(null==this.jb)for(b=a+1;b<=c;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(c);this.jb.resize(c);this.qa-=g;this.lh-=g;this.Dc(1993)};b.prototype.Yf=function(a,c,b,g){if(c==this)throw d.g.F();if(b>=c.aa())throw d.g.F();var e=this.aa();if(a>e)throw d.g.F();0>a&&(a=e);0>b&&(b=c.aa()-1);this.hh=!1;this.om(c.description);c.wc();var q=c.wa(b),f=c.La(b),l=this.qa,k=c.Qb(b)&&!g?1:0;this.zl(this.qa+f);this.wc();for(var m=a<
e?this.wa(a):l,p=0,n=this.description.Ga;p<n;p++){var r=this.description.Td(p),t=c.description.mg(r),A=d.ma.Xa(r);0<=t&&null!=c.ya[t]?(0!=k&&this.ya[p].Rk(m*A,c.ya[t],A*q,A,!0,A,A*l),this.ya[p].Rk((m+k)*A,c.ya[t],A*(q+k),A*(f-k),g,A,A*(l+k))):this.ya[p].Vj(m*A,d.ma.de(r),A*f,A*l)}this.kb.add(l+f);for(g=e;g>=a+1;g--)q=this.kb.read(g-1),this.kb.write(g,q+f);c.ft(b);this.jb.add(0);for(g=e-1;g>=a+1;g--)e=this.jb.read(g),e&=-5,this.jb.write(g+1,e);e=c.CT().read(b);e&=-5;this.$f&&(e|=1);this.jb.write(a,
e)};b.prototype.rA=function(a,c){var b=-1,g=this.aa();if(b>g)throw d.g.F();0>b&&(b=g);this.hh=!1;var h=this.qa;this.zl(this.qa+c);this.wc();var q=b<g?this.wa(b):h;null!=a?this.ya[0].Sq(2*q,a,0,c,!0,2*h):(a=d.ma.de(0),this.ya[0].Vj(2*q,a,2*c,2*h));for(var f=1,l=this.description.Ga;f<l;f++){a=this.description.rd(f);var k=d.ma.Xa(a);a=d.ma.de(a);this.ya[f].Vj(q*k,a,k*c,k*h)}this.kb.add(this.qa);for(h=g;h>=b+1;h--)q=this.kb.read(h-1),this.kb.write(h,q+c);this.jb.add(0);for(h=g-1;h>=b+1;h--)g=this.jb.read(h),
g&=-5,this.jb.write(h+1,g);this.$f&&this.jb.write(b,1)};b.prototype.EH=function(a,c,b){var e=-1;0>a&&(a=this.aa());if(a>this.aa()||e>this.La(a)||b>c.length)throw d.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>e&&(e=this.La(a));this.wc();var h=this.qa;this.zl(this.qa+b);this.wc();for(var q=0,f=this.description.Ga;q<f;q++){var l=this.description.Td(q),k=d.ma.Xa(l);this.ya[q].ho(k*(this.wa(a)+e+b),(h-this.wa(a)-e)*k,this.ya[q],k*(this.wa(a)+
e),!0,k);0==q?this.ya[q].ks(k*(this.wa(a)+e),b,c,0,!0):this.ya[q].Zh(d.ma.de(l),(this.wa(a)+e)*k,b*k)}this.hn()&&(this.cf.ho(this.wa(a)+e+b,h-this.wa(a)-e,this.cf,this.wa(a)+e,!0,1),this.tj.ho(this.wa(a)+e+b,h-this.wa(a)-e,this.tj,this.wa(a)+e,!0,1),this.cf.Zh(1,this.wa(a)+e,b),this.tj.Zh(-1,this.wa(a)+e,b));a+=1;for(c=this.aa();a<=c;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Zf=function(a,c,b){var e=this.aa();0>a&&(a=this.aa());if(a>=e||c>this.La(a))throw d.g.X("index out of bounds");a==
this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>c&&(c=this.La(a));var h=this.qa;this.zl(this.qa+1);this.wc();var q=this.wa(a);this.ya[0].eh(2*(q+c),b,2*h);b=1;for(var f=this.description.Ga;b<f;b++){var l=this.description.Td(b),k=d.ma.Xa(l);this.ya[b].Vj(k*(q+c),d.ma.de(l),k,k*h)}for(a+=1;a<=e;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.cC=function(a,c){var b=this.aa();0>a&&(a=b-1);if(a>=b||c>=this.La(a))throw d.g.X("index out of bounds");this.wc();var g=this.wa(a);
0>c&&(c=this.La(a)-1);g+=c;c=0;for(var h=this.description.Ga;c<h;c++)if(null!=this.ya[c]){var q=d.ma.Xa(this.description.Td(c));this.ya[c].Fk(q*g,q,q*this.qa)}for(;b>=a+1;b--)g=this.kb.read(b),this.kb.write(b,g-1);this.qa--;this.lh--;this.Dc(1993)};b.prototype.EF=function(a,c,b,g){a=this.wa(a)+c;b=this.wa(b)+g;if(b<a||0>a||b>this.D()-1)throw d.g.F();g=this.Fa();c=0;g.Tb(a);do{for(;g.Ea();){a=g.ba();if(g.Db()==b)break;a=a.Rb();c+=a}if(g.Db()==b)break}while(g.Ya());return c};b.prototype.fQ=function(a,
c,b){c=this.wa(a)+c;b=this.wa(a)+b;if(0>c||b>this.D()-1)throw d.g.F();var e=this.Fa();if(c>b){if(!this.Qb(a))throw d.g.F("cannot iterate across an open path");e.jC()}var h=a=0;e.Tb(c);do h+=a,a=e.ba().Rb();while(e.Db()!=b);return h};b.prototype.Gg=function(){return d.Pi.Rm(this,null)};b.prototype.FU=function(a,c,b,g){for(var e=a;e<b-1;e++)if(this.Qb(e))throw d.g.F("cannot interpolate across closed paths");e=this.description.Ga;if(1!=e){var q=this.EF(a,c,b,g);if(0!=q)for(var f=1;f<e;f++){var l=this.description.rd(f);
if(2!=d.ma.Wz(l))for(var k=d.ma.Xa(l),m=0;m<k;m++)this.HU(l,a,c,b,g,q,m)}}};b.prototype.EU=function(a,c,b){var e=this.description.Ga;if(1!=e){var h=this.fQ(a,c,b);if(0!=h)for(var q=1;q<e;q++){var f=this.description.rd(q);if(2!=d.ma.Wz(f))for(var l=d.ma.Xa(f),k=0;k<l;k++)this.GU(f,a,c,b,h,k)}}};b.prototype.HU=function(a,c,b,g,h,q,f){var e=this.Fa();c=this.wa(c)+b;g=this.wa(g)+h;h=this.Yc(a,c,f);b=this.Yc(a,g,f);var l=h,u=0;e.Tb(c);do if(e.Ea()){e.ba();if(e.Db()==g)break;this.setAttribute(a,e.Db(),
f,l);e.Li();do{c=e.ba();if(e.Jk()==g)return;c=c.Rb();u+=c;l=d.Ub.Xq(h,b,u/q);e.Fo()||this.setAttribute(a,e.Jk(),f,l)}while(e.Ea())}while(e.Ya())};b.prototype.GU=function(a,c,b,g,h,q){var e=this.Fa(),f=this.wa(c)+b;c=this.wa(c)+g;if(c!=f){g=this.Yc(a,f,q);b=this.Yc(a,c,q);var l=0;e.Tb(f);e.jC();f=g;do{var k=e.ba();this.setAttribute(a,e.Db(),q,f);f=k.Rb();l+=f;f=d.Ub.Xq(g,b,l/h)}while(e.Jk()!=c)}};b.prototype.Oa=function(){this.ir=0;this.hh=!1;this.Xd=this.cf=this.tj=this.jb=this.kb=null;this.ME()};
b.prototype.Xc=function(a){a instanceof d.Hd?this.kF(a,-1):this.yP(a)};b.prototype.kF=function(a,c){if(!this.u()&&!a.Ho()){this.wc();var b=this.ya[0],g=new d.b,h=new d.b,q,f,l;for(0>c?(q=this.hn(),f=0,l=this.qa):(q=this.ft(c),f=this.wa(c),l=this.Gc(c));f<l;f++){g.x=b.read(2*f);g.y=b.read(2*f+1);if(q&&(c=this.tj.read(f),0<=c))switch(this.cf.read(f)&7){case 2:h.x=this.Xd.read(c);h.y=this.Xd.read(c+1);a.$h(h,h);this.Xd.write(c,h.x);this.Xd.write(c+1,h.y);h.x=this.Xd.read(c+3);h.y=this.Xd.read(c+4);a.$h(h,
h);this.Xd.write(c+3,h.x);this.Xd.write(c+4,h.y);break;case 4:throw d.g.za();}a.$h(g,g);b.write(2*f,g.x);b.write(2*f+1,g.y)}this.Dc(1993)}};b.prototype.yP=function(a){if(!this.u()){this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],g=new d.qd,h=new d.qd,q=this.hn(),f=0;f<this.qa;f++){g.x=c.read(2*f);g.y=c.read(2*f+1);g.z=b.read(f);if(q){var l=this.tj.read(f);if(0<=l)switch(this.cf.read(f)&7){case 2:h.x=this.Xd.read(l);h.y=this.Xd.read(l+1);h.z=this.Xd.read(l+2);h=a.Rp(h);this.Xd.write(l,h.x);
this.Xd.write(l+1,h.y);this.Xd.write(l+1,h.z);h.x=this.Xd.read(l+3);h.y=this.Xd.read(l+4);h.z=this.Xd.read(l+5);h=a.Rp(h);this.Xd.write(l+3,h.x);this.Xd.write(l+4,h.y);this.Xd.write(l+5,h.z);break;case 4:throw d.g.za();}}g=a.Rp(g);c.write(2*f,g.x);c.write(2*f+1,g.y);b.write(f,g.z)}this.Dc(1993)}};b.prototype.Py=function(){null==this.kb&&(this.kb=d.Uc.wh(1,0),this.jb=d.Uc.vq(1,0));null!=this.cf&&(this.cf.resize(this.lh,1),this.tj.resize(this.lh,-1))};b.prototype.iq=function(a){a.hh=!1;a.ir=this.ir;
a.mr=this.mr;null!=this.kb?a.kb=d.ia.Bk(this.kb):a.kb=null;null!=this.jb?a.jb=d.Fm.Bk(this.jb):a.jb=null;null!=this.tj?a.tj=d.ia.Bk(this.tj):a.tj=null;null!=this.cf?a.cf=d.Fm.Bk(this.cf):a.cf=null;null!=this.Xd?a.Xd=d.Rd.Bk(this.Xd):a.Xd=null;a.hr=this.hr;a.gr=this.gr;this.yk(1024)?a.bj=null:a.bj=this.bj};b.prototype.Rb=function(){if(!this.yk(512))return this.hr;for(var a=this.Fa(),c=new d.ry(0);a.Ya();)for(;a.Ea();)c.add(a.ba().Rb());this.hr=c.en();this.lg(512,!1);return c.en()};b.prototype.Eb=function(a){if(a==
this)return!0;if(!(a instanceof b&&f.prototype.Eb.call(this,a)))return!1;var c=this.aa();return c!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,c+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,c)?!1:f.prototype.Eb.call(this,a)};b.prototype.Fa=function(){return new d.YN(this)};b.prototype.Oy=function(a){f.prototype.Oy.call(this,a);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.uo=function(a,c){f.prototype.uo.call(this,a,c);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};
b.prototype.Iy=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.hf=function(){if(!this.$f)return 0;this.gv();return this.gr};b.prototype.rw=function(a){if(!this.$f)return!1;if(!this.yk(8))return 0!=(this.jb.read(a)&4);this.gv();return 0<this.bj.read(a)};b.prototype.Sm=function(a){if(!this.$f)return 0;this.gv();return this.bj.read(a)};b.prototype.gv=function(){if(this.yk(1024)){var a=this.aa();null==this.bj?this.bj=new d.Rd(a):this.bj.size!=a&&this.bj.resize(a);
for(var a=new d.ry(0),c=new d.ry(0),b=new d.b,g=0,h=this.Fa();h.Ya();){c.reset();for(this.w(this.wa(h.Ta),b);h.Ea();)c.add(h.ba().Cy(b.x,b.y));a.add(c.en());var q=g++;this.bj.write(q,c.en())}this.gr=a.en();this.lg(1024,!1)}};b.prototype.yT=function(){if(this.$f){this.Al();for(var a=0,c=this.aa(),b=0;b<c;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Al=function(){if(this.yk(8)){this.gv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=d.Uc.vq(a+1);for(var c=1,b=0;b<a;b++){var g=this.bj.read(b);
0==b&&(c=0<g?1:-1);0<g*c?this.jb.iC(b,4):this.jb.fz(b,4)}this.lg(8,!1)}};b.prototype.cw=function(a){var c=this.Ta,b=this.aa();if(0<=c&&c<b){if(a<this.Gc(c)){if(a>=this.wa(c))return c;c--}else c++;if(0<=c&&c<b&&a>=this.wa(c)&&a<this.Gc(c))return this.Ta=c}if(5>b){for(c=0;c<b;c++)if(a<this.Gc(c))return this.Ta=c;throw d.g.X("corrupted geometry");}c=0;for(--b;b>c;){var g=c+(b-c>>1),h=this.wa(g);if(a<h)b=g-1;else if(c=this.Gc(g),a>=c)c=g+1;else return this.Ta=g}return this.Ta=c};b.prototype.mT=function(a){var c=
this.Pa(0);this.DT();var b=this.Gc(a),g=this.wa(a);a=-1;var h=new d.b,q=new d.b;h.y=-Infinity;h.x=-Infinity;for(g+=0;g<b;g++)c.fc(2*g,q),-1==h.compare(q)&&(a=g,h.L(q));return a};b.prototype.iA=function(){var a=this.D();if(!this.$f)for(var a=a-this.aa(),c=0,b=this.aa();c<b;c++)this.Qb(c)&&a++;return a};b.prototype.ew=function(a){var c=this.La(a);this.Qb(a)||c--;return c};b.prototype.Ka=function(){return new b(this.$f,this.description)};b.prototype.tb=function(){return this.$f?2:1};b.prototype.G=function(){return this.$f?
1736:1607};b.prototype.DT=function(){this.Cu()};b.prototype.HK=function(a){this.kb=a;this.Dc(16777215)};b.prototype.OT=function(){this.Cu();return this.cf};b.prototype.CT=function(){this.Cu();return this.jb};b.prototype.GK=function(a){this.jb=a;this.Dc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Gc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};
b.prototype.Xu=function(a,c){null==this.ob&&(this.ob=new d.wl);c=d.xy.kX(c);var b=this.ob.Hi;if(null!=b)if(b.jl<a||c>b.KT())this.ob.My(null);else return!0;b=d.xy.create(this,a,c);this.ob.My(b);return!0};b.prototype.jc=function(){var a=f.prototype.jc.call(this);if(!this.Hc()){var c=this.aa();null!=this.kb&&this.kb.Ak(a,0,c+1);null!=this.jb&&this.jb.Ak(a,0,c)}return a};b.prototype.jH=function(a){return null!=this.cf?this.cf.read(a):1};b.prototype.ic=function(a,c,b){var e=this.cw(a);if(a==this.Gc(e)-
1&&!this.Qb(e))throw d.g.X("index out of bounds");this.wc();var h=this.cf,q=1;null!=h&&(q=h.read(a)&7);switch(q){case 1:c.Js();break;case 2:throw d.g.za();case 4:throw d.g.za();default:throw d.g.za();}c=c.get();b?c.Fg(d.ye.Ig()):c.Fg(this.description);e=a==this.Gc(e)-1&&this.Qb(e)?this.wa(e):a+1;h=new d.b;this.w(a,h);c.Mc(h);this.w(e,h);c.Zc(h);if(!b)for(b=1,h=this.description.Ga;b<h;b++)for(var q=this.description.Td(b),f=d.ma.Xa(q),l=0;l<f;l++){var k=this.Yc(q,a,l);c.Tx(q,l,k);k=this.Yc(q,e,l);c.Lx(q,
l,k)}};b.prototype.jk=function(a,c){if(a>=this.aa())throw d.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw d.g.X("not implemented");var b=this.Pa(0),g=new d.b,h=new d.h;h.Oa();var q=this.wa(a);for(a=this.Gc(a);q<a;q++)b.fc(2*q,g),h.Nb(g);c.I(h)}};b.prototype.hX=function(a,c){if(a>=this.aa())throw d.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw d.g.X("not implemented");var b=this.Pa(0),g=new d.b,h=new d.h;h.Oa();var q=this.wa(a);for(a=this.Gc(a);q<a;q++)b.fc(2*q,g),h.Nb(g);c.I(h)}};b.prototype.Hj=
function(a){null==this.ob&&(this.ob=new d.wl);if(0==a||16>this.D())return!1;a=d.na.AF(this);this.ob.NE(a);return!0};b.prototype.BO=function(){null==this.ob&&(this.ob=new d.wl);if(null!=this.ob.np)return!0;this.ob.OE(null);var a=d.na.aQ(this);this.ob.OE(a);return!0};b.prototype.Hp=function(a){this.mr=a};b.prototype.xo=function(){return this.mr};b.prototype.UE=function(a){if(this==a)throw d.g.X("MultiPathImpl.add");for(var c=this.aa(),b=0;b<a.aa();b++)this.Ti(a,b,!0),this.nW(c),c++};b.prototype.nQ=
function(a){var c=this.cw(a),b=this.wa(c);if(b!=a){c=this.Gc(c);if(a>=c||a<b)throw d.g.X("change_ring_start_point");for(var g=0,h=this.description.Ga;g<h;g++){var q=this.description.rd(g),q=d.ma.Xa(q);this.ya[g].rotate(b*q,a*q,c*q)}}};b.se=[0,0,6,0,8,0];return b}(d.Mu);d.xl=f})(p||(p={}));(function(d){var f=function(f){function b(a){f.call(this);if(void 0!==a){if(null==a)throw d.g.F();this.description=a}else this.description=d.ye.Ig();this.qa=0}J(b,f);b.prototype.Ka=function(){return new b(this.description)};
b.prototype.add=function(a){this.resize(this.qa+1);this.Yh(this.qa-1,a)};b.prototype.lv=function(a,c){this.resize(this.qa+1);var b=new d.b;b.ka(a,c);this.rb(this.qa-1,b)};b.prototype.Id=function(a,c,b){b=0>b?a.D():b;if(0>c||c>a.D()||b<c)throw d.g.F();if(c!=b){this.om(a.description);b-=c;var e=this.qa;this.resize(this.qa+b);this.wc();for(var h=0,q=a.description.Ga;h<q;h++){var f=a.description.Td(h),l=d.ma.Xa(f),k=this.Pa(f),f=a.Pa(f);k.Rk(e*l,f,c*l,b*l,!0,1,e*l)}}};b.prototype.YE=function(a,c){var b=
a.length;c=0>c?b:c;if(0>b||0>c)throw d.g.F();if(0!=c){b=c-0;c=this.qa;this.resize(this.qa+b);for(var g=0;g<b;g++)this.rb(c+g,a[0+g])}};b.prototype.cC=function(a){if(0>a||a>=this.D())throw d.g.X("index out of bounds");this.wc();for(var c=0,b=this.description.Ga;c<b;c++)if(null!=this.ya[c]){var g=d.ma.Xa(this.description.Td(c));this.ya[c].Fk(g*a,g,g*this.qa)}this.qa--;this.lh--;this.Dc(1993)};b.prototype.resize=function(a){this.zl(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){f.prototype.ME.call(this)};
b.prototype.Xc=function(a){if(a instanceof d.Hd){if(!this.u()){this.wc();for(var c=this.ya[0],b=new d.b,g=0;g<this.qa;g++)b.x=c.read(2*g),b.y=c.read(2*g+1),a.$h(b,b),c.write(2*g,b.x),c.write(2*g+1,b.y);this.Dc(1993)}}else if(!this.u()){this.wc();this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],h=new d.qd,g=0;g<this.qa;g++){h.x=c.read(2*g);h.y=c.read(2*g+1);h.z=b.read(g);var q=a.Rp(h);c.write(2*g,q.x);c.write(2*g+1,q.y);b.write(g,q.z)}this.Dc(1993)}};b.prototype.tb=function(){return 0};b.prototype.G=
function(){return 550};b.prototype.hf=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?f.prototype.Eb.call(this,a):!1};b.prototype.mP=function(a){var c=a.length,b=c;if(0>c||0>c||0>b)throw d.g.F();this.Ud(1);if(0!=b){c=b-0;b=this.qa;this.aK(this.qa+c);for(var g=this.Pa(0),h=0;h<c;h++){var q=a[0+h].y;g.write(2*(b+h),a[0+h].x);g.write(2*(b+h)+1,q)}g=this.Pa(1);for(h=0;h<c;h++)g.write(b+h,a[0+h].z);this.Dc(1993)}};b.prototype.nP=function(a,
c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw d.g.F();if(0!=c){b=c-0;if(0!=(b&1))throw d.g.F();c=this.qa;this.aK(this.qa+b/2);this.ya[0].js(2*c,b,a,0,!0)}};b.prototype.aK=function(a){var c=this.qa;this.zl(a);if(this.qa>c){a=1;for(var b=this.description.Ga;a<b;a++){var g=this.description.rd(a),h=d.ma.Xa(g);this.ya[a].Vj(h*c,d.ma.de(g),h*(this.qa-c),h*c)}}};b.prototype.eX=function(a,c){var b=this.qa,b=Math.min(b,c+1E3);if(0>c||c>=this.qa||b<c||1E3!=a.length)throw d.g.F();var g=this.Pa(0),h=b-c,q=[];
g.pl(2*c,2*h,q,0,!0);for(g=0;g<h;g++)a[g]=d.b.pa(q[2*g],q[2*g+1]);return b};b.prototype.fX=function(a,c){var b=this.qa,b=Math.min(b,0+c);if(0>=this.qa||0>b||a.length!=c)throw d.g.F();c=this.Pa(0);var g=null,h=d.ma.de(1),q=this.hasAttribute(1);q&&(g=this.Pa(1));var b=b-0,f=[],l=[];c.pl(0,2*b,f,0,!0);g.pl(0,b,l,0,!0);for(c=0;c<b;c++)a[c]=new d.qd(f[2*c],f[2*c+1],q?l[c]:h)};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.Xu=function(){return!1};b.prototype.Hj=function(){return!1};
b.prototype.Gg=function(){return null};return b}(d.Mu);d.Ed=f})(p||(p={}));(function(d){(function(d){d[d.NotDetermined=0]="NotDetermined";d[d.Structure=1]="Structure";d[d.DegenerateSegments=2]="DegenerateSegments";d[d.Clustering=3]="Clustering";d[d.Cracking=4]="Cracking";d[d.CrossOver=5]="CrossOver";d[d.RingOrientation=6]="RingOrientation";d[d.RingOrder=7]="RingOrder";d[d.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";d[d.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";d[d.OGCDisconnectedInterior=
10]="OGCDisconnectedInterior"})(d.XM||(d.XM={}));var f=function(){function d(b,a,c){void 0===b?(this.Ii=0,this.mm=this.lm=-1):(this.Ii=b,this.lm=a,this.mm=c)}d.prototype.ms=function(b){this.Ii=b.Ii;this.lm=b.lm;this.mm=b.mm};return d}();d.$d=f})(p||(p={}));(function(d){var f=function(){function f(){}f.YZ=function(b){if(!1===b)throw d.g.JL();};f.SK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};f.qv=function(b){var a;void 0===a&&(a=0);for(var c=[],e=0;e<b;e++)c[e]=f.gf(2,a);return c};f.gf=function(b,
a){void 0===a&&(a=0);for(var c=[],e=0;e<b;e++)c[e]=a;return c};f.Nv=function(b,a){var c,e;void 0===c&&(c=0);for(void 0===e&&(e=b.length-1);c<=e;c++)b[c]=a};f.pk=function(b,a,c){return b<a?a:b>c?c:b};f.t_=function(){return 4};f.dh=function(b,a){var c=5381;void 0!==a?c=(a<<5)+a+(b&255):c=(c<<5)+c+(b&255);c=(c<<5)+c+(b>>8&255);c=(c<<5)+c+(b>>16&255);return(c<<5)+c+(b>>24&255)&2147483647};f.Zi=function(){throw Error("Not Implemented");};f.p_=function(){return-Infinity};f.r_=function(){return Infinity};
f.h_=function(){return 2147483647};f.UZ=function(){return 2.220446049250313E-16};f.VZ=function(){return 1.7976931348623157E308};f.HB=function(b){return f.dZ(b)+12345&2147483647};f.gI=function(b){var a=32,c=b%f.pA|0,e=b/f.pA|0;if(0===(a&=63))return b;32>a?(b=c>>>a|e<<32-a,a=e>>a):(b=e>>a-32,a=0<=e?0:-1);return a*f.pA+(b>>>0)};f.dZ=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};f.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};f.gV=Math.pow(2,53)-1;f.XZ=-f.gV;f.iD=
65536;f.K_=16777216;f.pA=f.iD*f.iD;return f}();d.J=f})(p||(p={}));(function(d){(function(d){d[d.Project=0]="Project";d[d.Union=1]="Union";d[d.Difference=2]="Difference";d[d.Proximity2D=3]="Proximity2D";d[d.Relate=4]="Relate";d[d.Equals=5]="Equals";d[d.Disjoint=6]="Disjoint";d[d.Intersects=7]="Intersects";d[d.Within=8]="Within";d[d.Contains=9]="Contains";d[d.Crosses=10]="Crosses";d[d.Touches=11]="Touches";d[d.Overlaps=12]="Overlaps";d[d.Buffer=13]="Buffer";d[d.Distance=14]="Distance";d[d.Intersection=
15]="Intersection";d[d.Clip=16]="Clip";d[d.Cut=17]="Cut";d[d.DensifyByLength=18]="DensifyByLength";d[d.DensifyByAngle=19]="DensifyByAngle";d[d.LabelPoint=20]="LabelPoint";d[d.GeodesicBuffer=21]="GeodesicBuffer";d[d.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";d[d.ShapePreservingDensify=23]="ShapePreservingDensify";d[d.GeodeticLength=24]="GeodeticLength";d[d.GeodeticArea=25]="GeodeticArea";d[d.Simplify=26]="Simplify";d[d.SimplifyOGC=27]="SimplifyOGC";d[d.Offset=28]="Offset";d[d.Generalize=
29]="Generalize";d[d.SymmetricDifference=30]="SymmetricDifference";d[d.ConvexHull=31]="ConvexHull";d[d.Boundary=32]="Boundary";d[d.SimpleRelation=33]="SimpleRelation"})(d.sN||(d.sN={}));var f=function(){function f(){}f.prototype.G=function(){return null};f.prototype.qo=function(){return!1};f.prototype.wv=function(){return!1};f.NZ=function(b){d.T.gh(b.G())&&(b=b.ob,null!=b&&(b.My(null),b.NE(null)))};return f}();d.ef=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}
J(b,f);b.prototype.G=function(){return 13};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,h){return a instanceof d.T?(h=new d.hd(a),this.V(h,c,[b],!1,g).next()):!0===g?(b=new d.DD(a,c,b,!1,h),d.ei.local().V(b,c,h)):new d.DD(a,c,b,!1,h)};b.$=null;return b}(d.ef);d.CD=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e,g){this.Ca=-1;this.ie=b;this.IA=a;this.yt=c;this.tV=new d.h;this.tV.Oa();this.To=-1;this.lc=g}f.prototype.next=function(){for(var b;null!=
(b=this.ie.next());)return this.Ca=this.ie.Ia(),this.To+1<this.yt.length&&this.To++,this.buffer(b,this.yt[this.To]);return null};f.prototype.Ia=function(){return this.Ca};f.prototype.buffer=function(b,a){return d.PL.buffer(b,a,this.IA,NaN,96,this.lc)};f.prototype.Re=function(){return!0};return f}();d.DD=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 16};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,
c,b,g){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g).next()):new d.cN(a,c,b,g)};b.$=null;return b}(d.ef);d.bN=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c){this.Ca=-1;if(null==b)throw d.g.F();this.R=a;this.$k=b;this.ta=d.na.be(c,a,!1)}f.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),d.ne.clip(b,this.R,this.ta,0)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.cN=f})(p||(p={}));(function(d){var f=
function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 31};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof d.T?d.FD.DF(a):new d.FD(c,a,b)};b.$=null;return b}(d.ef);d.ED=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c){this.aB=new d.Ju;this.Ca=-1;if(null==a)throw d.g.F();this.oI=b;this.Pc=!1;this.$k=a;this.lc=c}f.prototype.next=function(){if(this.oI){if(!this.Pc){var b=this.eQ(this.$k);this.Pc=!0;
return b}return null}if(!this.Pc){b=this.$k.next();if(null!=b)return this.Ca=this.$k.Ia(),f.DF(b);this.Pc=!0}return null};f.prototype.Ia=function(){return this.Ca};f.prototype.eQ=function(b){for(var a;null!=(a=b.next());)this.aB.Jb(a);return this.aB.US()};f.prototype.Re=function(){if(this.Pc)return!0;if(!this.oI)throw d.g.X("Invalid call for non merging convex hull.");var b=this.$k.next();if(null!=b)return this.aB.Jb(b),!0;throw d.g.X("Expects a non-null geometry.");};f.DF=function(b){if(f.Wg(b))return b;
var a=b.G();if(d.xl.Oc(a))return a=new d.Ua(b.description),a.dc(b,!0),a;if(550==a&&2==b.D()){var c=new d.Wa,a=new d.Ua(b.description);b.Ae(0,c);a.Rf(c);b.Ae(1,c);a.lineTo(c);return a}return d.Ju.UQ(b)};f.Wg=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:d.xl.Oc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:d.Ju.VH(b,0)};return f}();d.FD=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=
function(){return 17};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,h){return new d.eN(a,c,b,g,h)};b.$=null;return b}(d.ef);d.dN=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e,g){this.qg=null;if(null==a||null==c)throw d.g.X("invalid argument");this.qV=b;this.VA=a;this.xI=c;b=d.na.Zv(a,c);this.ta=d.na.be(e,b,!0);this.wI=-1;this.ke=g}f.prototype.Ia=function(){return 0};f.prototype.next=function(){this.HS();return++this.wI<this.qg.length?this.qg[this.wI]:
null};f.prototype.HS=function(){if(null==this.qg)switch(this.qg=[],this.VA.G()){case 1607:this.JS();break;case 1736:this.IS()}};f.prototype.JS=function(){var b=new d.Ua,a=new d.Ua,c=new d.Ua;this.qg.push(b);this.qg.push(a);var e=[];d.WL.UL(this.qV,this.VA,this.xI,this.ta,e,this.ke);for(var g=0;g<e.length;g++){var h=e[g];0==h.nx?b.add(h.Y,!1):1==h.nx||2==h.nx?a.add(h.Y,!1):3==h.nx?this.qg.push(h.Y):c.add(h.Y,!1)}c.u()||b.u()&&a.u()&&!(3<=this.qg.length)||this.qg.push(c);b.u()&&a.u()&&3>this.qg.length&&
(this.qg.length=0)};f.prototype.IS=function(){var b=new d.ia(0),a=new d.fd,c=a.hG(),e=a.Jb(this.VA),g=a.Jb(this.xI),h=new d.Dg;try{h.Xr(a,this.ta,this.ke);h.Hl(c,e,g,b);var q=a.Se(e),f=new d.Ja,l=new d.Ja;this.qg.length=0;this.qg.push(f);this.qg.push(l);for(e=0;e<b.size;e++){var k,m=new d.fd,p=m.Jb(q),n=m.Jb(a.Se(b.get(e)));h.Wr(m,this.ke);var r=h.nw(p,n);k=m.Se(r);if(!k.u()){var t=a.VG(b.get(e),c);2==t?f.add(k,!1):1==t?l.add(k,!1):this.qg.push(k);var A=new d.fd,p=A.Jb(q),n=A.Jb(a.Se(b.get(e)));h.Wr(A,
this.ke);q=A.Se(h.Vm(p,n))}}!q.u()&&0<b.size&&this.qg.push(q);f.u()&&l.u()&&(this.qg.length=0)}finally{h.qh()}};f.prototype.Re=function(){return!0};return f}();d.eN=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){if(a instanceof d.T)return a=new d.hd(a),this.V(a,c,b).next();if(0>=c)throw d.g.F();return new d.fN(a,c,b)};b.$=null;return b}(d.ef);
d.Jm=f})(p||(p={}));(function(d){var f=function(){function f(b,a){this.Ca=-1;this.ie=b;this.Kt=a}f.prototype.Ia=function(){return this.Ca};f.prototype.next=function(){var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),this.JR(b)):null};f.prototype.JR=function(b){if(b.u()||1>b.tb())return b;var a=b.G();if(1736==a||1607==a)return this.wz(b);if(d.T.Oc(a))return this.LR(b);if(197==a)return this.KR(b);throw d.g.za();};f.prototype.LR=function(b){if(b.Rb()<=this.Kt)return b;var a=new d.Ua(b.description);
a.dc(b,!0);return this.wz(a)};f.prototype.KR=function(b){var a=new d.Ja(b.description);a.jd(b,!1);var c=new d.h;b.s(c);b=c.fa();return c.N()<=this.Kt&&b<=this.Kt?a:this.wz(a)};f.prototype.wz=function(b){for(var a=b.Ka(),c=b.Fa();c.Ya();)for(var e=!0;c.Ea();){var g=c.ba();if(322!=g.G())throw d.g.X("not implemented");var h=c.Fo(),q=g.Rb();if(q>this.Kt){var f=Math.ceil(q/this.Kt),q=new d.Wa(b.description);e&&(g.Dp(q),a.Rf(q));for(var l=e=1/f,k=0,f=f-1;k<f;k++)g.Fx(l,q),a.lineTo(q),l+=e;h?a.sq():(g.Bp(q),
a.lineTo(q))}else h?a.sq():a.dc(g,e);e=!1}return a};f.prototype.Re=function(){return!0};return f}();d.fN=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 2};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,g).next()):new d.gN(a,c,b,g)};b.Vm=function(a,c,e,g){if(a.u()||c.u())return a;var h=a.tb(),q=c.tb();if(h>q)return a;var f=
a.G(),l=c.G(),k=new d.h,m=new d.h,p=new d.h;a.s(k);c.s(m);p.I(k);p.Nb(m);var p=d.na.be(e,p,!1),n=p*Math.sqrt(2)*1.00001,r=new d.h;r.I(k);r.O(n,n);if(!r.Yb(m))return a;if(1==h&&2==q)return b.SL(a,c,l,e,g);if(33==f)switch(d.xl.Oc(l)?(e=new d.Ua(c.description),e.dc(c,!0)):e=c,l){case 1736:return b.gO(a,e,p);case 1607:return b.kO(a,e,p);case 550:return b.VN(a,e,p);case 197:return b.PN(a,e,p);case 33:return b.cO(a,e,p);default:throw d.g.F();}else if(550==f)switch(l){case 1736:return b.CM(a,c,p);case 197:return b.mM(a,
c,p);case 33:return b.xM(a,c,p)}return d.Dg.Vm(a,c,e,g)};b.gO=function(a,c,b){return 0==d.gd.WH(c,a,b)?a:a.Ka()};b.kO=function(a,c,b){var e=a.w();c=c.Fa();for(var h=b*Math.sqrt(2)*1.00001,q=h*h,f=new d.h;c.Ya();)for(;c.Ea();){var l=c.ba();l.s(f);f.O(h,h);if(f.contains(e)){if(l.mt(e,b))return a.Ka();var k=l.ec();if(d.b.sc(e,k)<=q)return a.Ka();k=l.Cc();if(d.b.sc(e,k)<=q)return a.Ka()}}return a};b.VN=function(a,c,b){var e=c.Pa(0);c=c.D();var h=a.w(),q=new d.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var f=
0;f<c;f++)if(e.fc(2*f,q),d.b.sc(q,h)<=b)return a.Ka();return a};b.PN=function(a,c,b){var e=new d.h;c.s(e);e.O(b,b);c=a.w();return e.contains(c)?a.Ka():a};b.cO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var e=a.w();c=c.w();return d.b.sc(e,c)<=b?a.Ka():a};b.CM=function(a,c,b){var e=new d.h;c.s(e);e.O(b,b);for(var h=a.D(),q=!1,f=[],l=0;l<h;l++)f[l]=!1;for(var k=new d.b,l=0;l<h;l++)a.w(l,k),e.contains(k)&&0!=d.gd.ge(c,k,b)&&(q=!0,f[l]=!0);if(!q)return a;c=a.Ka();for(l=0;l<h;l++)f[l]||c.Id(a,l,l+1);
return c};b.mM=function(a,c,b){var e=new d.h;c.s(e);e.O(b,b);c=a.D();var h=!1;b=[];for(var q=0;q<c;q++)b[q]=!1;for(var f=new d.b,q=0;q<c;q++)a.w(q,f),e.contains(f)&&(h=!0,b[q]=!0);if(!h)return a;e=a.Ka();for(q=0;q<c;q++)b[q]||e.Id(a,q,q+1);return e};b.xM=function(a,c,b){var e=a.Pa(0),h=a.D(),q=c.w(),f=new d.b,l=!1;c=[];for(var k=0;k<h;k++)c[k]=!1;k=b*Math.sqrt(2)*1.00001;b=k*k;for(k=0;k<h;k++)e.fc(2*k,f),d.b.sc(f,q)<=b&&(l=!0,c[k]=!0);if(!l)return a;e=a.Ka();for(k=0;k<h;k++)c[k]||e.Id(a,k,k+1);return e};
b.SL=function(a,c,b,g,h){var e=new d.ci;a.Qn(e);var f=new d.h;c.s(f);e.Nb(f);e.O(.1*e.N(),.1*e.fa());f=new d.Ja;f.jd(e,!1);1736==b?f.add(c,!0):f.jd(c,!0);return d.tk.local().V(a,f,g,h)};b.$=null;return b}(d.ef);d.cq=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e){this.ot=null==a;this.Ca=-1;this.ie=b;this.IA=c;this.wV=a.next();this.lc=e}f.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),d.cq.Vm(b,this.wV,this.IA,this.lc)):
null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.gN=f})(p||(p={}));(function(d){var f=function(){function b(a){this.ke=a;this.Zj=new d.h;this.Zj.Oa();this.Jh=new d.h;this.Jh.Oa()}b.prototype.Bu=function(){var a;a=this.Zj.o;this.Zj.o=this.Jh.o;this.Jh.o=a;a=this.Zj.v;this.Zj.v=this.Jh.v;this.Jh.v=a;a=this.Zj.A;this.Zj.A=this.Jh.A;this.Jh.A=a;a=this.Zj.B;this.Zj.B=this.Jh.B;this.Jh.B=a};b.prototype.ZR=function(a,c){var b=!this.Zj.Yb(this.Jh);if(d.T.Ic(a.G())&&
d.T.Ic(c.G())){if(a.D()>c.D())return this.tF(a,c,b);this.Bu();b=this.tF(c,a,b);this.Bu();return b}if(550==a.G()&&d.T.Ic(c.G()))return b=this.uF(c,a,b),this.Bu(),b;if(550==c.G()&&d.T.Ic(a.G()))return this.uF(a,c,b);if(550==a.G()&&550==c.G()){if(a.D()>c.D())return this.vF(a,c);this.Bu();b=this.vF(c,a);this.Bu();return b}return 0};b.prototype.tF=function(a,c,b){var e=a.Fa(),h=c.Fa(),q=new d.h,f=new d.h,l=1.7976931348623157E308;if(!b&&this.qZ(a,c,e,h))return 0;for(;e.Ya();)for(;e.Ea();)if(a=e.ba(),a.s(q),
!(q.Zx(this.Jh)>l)){for(;h.Ya();)for(;h.Ea();)if(c=h.ba(),c.s(f),q.Zx(f)<l&&(c=a.Cb(c,b),c*=c,c<l)){if(0==c)return 0;l=c}h.yj()}return Math.sqrt(l)};b.prototype.uF=function(a,c,b){var e=a.Fa(),h=new d.h,q=1.7976931348623157E308,f=new d.b,l,k=c.D();for(b=!b&&1736==a.G();e.Ya();)for(;e.Ea();){var m=e.ba();m.s(h);if(!(1<k&&h.Zx(this.Jh)>q)){for(var p=0;p<k;p++){c.w(p,f);if(b&&0!=d.gd.ge(a,f,0))return 0;l=m.pe(f,!1);f.sub(m.gc(l));l=f.qk();if(l<q){if(0==l)return 0;q=l}}b=!1}}return Math.sqrt(q)};b.prototype.vF=
function(a,c){for(var b=1.7976931348623157E308,g=new d.b,h=new d.b,q,f=a.D(),l=c.D(),k=0;k<f;k++)if(a.w(k,g),!(1<l&&this.Jh.ZK(g)>b))for(var m=0;m<l;m++)if(c.w(m,h),q=d.b.sc(g,h),q<b){if(0==q)return 0;b=q}return Math.sqrt(b)};b.prototype.qZ=function(a,c,b,g){if(1736==a.G()){for(;g.Ya();)if(g.Ea()){var e=g.ba();if(0!=d.gd.ge(a,e.Cc(),0))return!0}g.yj()}if(1736==c.G()){for(;b.Ya();)if(b.Ea()&&(a=b.ba(),0!=d.gd.ge(c,a.Cc(),0)))return!0;b.yj()}return!1};b.prototype.Rm=function(a,c){if(a.u()||c.u())return NaN;
a.s(this.Zj);c.s(this.Jh);return this.ZR(a,c)};return b}(),l=function(b){function a(){b.apply(this,arguments)}J(a,b);a.prototype.V=function(a,b,g){if(null==a||null==b)throw d.g.F();if(a.u()||b.u())return NaN;var c,e;c=a.G();e=b.G();if(33==c){if(33==e)return d.b.Cb(a.w(),b.w());if(197==e)return g=new d.h,b.s(g),g.Cb(a.w());c=new d.Ed;c.add(a);a=c}else if(197==c){if(197==e)return e=new d.h,a.s(e),g=new d.h,b.s(g),g.Cb(e);c=new d.Ja;c.jd(a,!1);a=c}33==e?(e=new d.Ed,e.add(b),b=e):197==e&&(e=new d.Ja,
e.jd(b,!1),b=e);return(new f(g)).Rm(a,b)};a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 14};a.$=null;return a}(d.ef);d.hN=l})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e){this.LI=b;this.TI=a;this.ke=e;this.lI=c}f.prototype.next=function(){var b=this.LI.next();return null==b?null:this.kD(b)};f.prototype.Ia=function(){return this.LI.Ia()};f.prototype.kD=function(b){var a=b.G();if(d.T.Jo(a))return b;if(197==a)return a=new d.Ja(b.description),a.jd(b,
!1),this.kD(a);if(b.u())return b;if(null==b)throw d.g.za();for(var a=b.Ka(),c=new d.Hb,e=0,g=b.aa();e<g;e++)this.oM(b,e,a,c);return a};f.prototype.oM=function(b,a,c,e){if(!(2>b.La(a))){var g=b.wa(a),h=b.Gc(a)-1,q=b.Pa(0),f=b.Qb(a),l=new d.ia(0);l.yb(b.La(a)+1);var k=new d.ia(0);k.yb(b.La(a)+1);l.add(f?g:h);l.add(g);for(g=new d.b;1<l.size;){var m=l.Fc();l.Pf();var p=l.Fc();b.w(m,g);e.Mc(g);b.w(p,g);e.Zc(g);p=this.kM(e,g,q,m,p,h);0<=p?(l.add(p),l.add(m)):k.add(m)}f||k.add(l.get(0));if(k.size==l.size)c.Ti(b,
a,!0);else if(2<=k.size&&(!this.lI||2!=k.size||!(f||d.b.Cb(b.Ba(k.get(0)),b.Ba(k.get(1)))<=this.TI))){a=new d.Wa;e=0;for(h=k.size;e<h;e++)b.Ae(k.get(e),a),0==e?c.Rf(a):c.lineTo(a);f&&(this.lI||2!=k.size||c.lineTo(a),c.sq())}}};f.prototype.kM=function(b,a,c,e,d,h){var g=d-1;d<=e&&(g=h);h=d=-1;for(e+=1;e<=g;e++){c.fc(2*e,a);var f=a.x,l=a.y;b.gc(b.pe(a,!1),a);a.x-=f;a.y-=l;f=a.length();f>this.TI&&f>h&&(d=e,h=f)}return d};f.prototype.Re=function(){return!0};return f}();d.iN=f})(p||(p={}));(function(d){var f=
function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 29};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g).next()):new d.iN(a,c,b,g)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.GD=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 21};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,
g,h,q,f,l){return a instanceof d.T?(l=new d.hd(a),this.V(l,c,b,[g],h,q,!1,f).next()):!0===f?(b=new d.JD(a,c,b,g,h,!1,!1,l),d.ei.local().V(b,c,l)):new d.JD(a,c,b,g,h,!1,!1,l)};b.$=null;return b}(d.ef);d.HD=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e,g,h,q,f){if(h)throw d.g.df();if(null==a)throw d.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.yt=e;this.Po=g;this.To=-1;this.lc=f;this.uV=new d.h;this.uV.Oa()}f.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=
this.Ht.Ia(),this.To+1<this.yt.length&&this.To++,this.RS(b,this.yt[this.To]);return null};f.prototype.Ia=function(){return this.Ca};f.prototype.RS=function(b,a){return d.rM.buffer(b,this.Rg,this.$e,a,this.Po,this.lc)};f.prototype.Re=function(){return!0};return f}();d.JD=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 24};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g){if(null==c)throw d.g.F();
if(a.u()||1>a.tb())return 0;if(4==b)throw d.g.df();var e=d.fb.kc(c),q=d.fb.hw(e),f=d.fb.Sv(e),q=q*(2-q),l=e.Nd().Ai,k=a.G(),m;1736==k||197==k?m=a.Gg():d.T.Oc(k)?(m=new d.Ua(a.description),m.dc(a,!0)):m=a;if(0==e.Eb(c)){if(d.fb.Jc(c)){m=d.gi.Mj(m,c);1607==k&&m==a&&(m=d.T.oe(a));a=new d.Ac;d.fb.Bh(c).Sn(a);for(var k=0,p=m.D();k<p;k++){var n=m.Ba(k);n.x=d.gi.Nn(n.x,a);m.rb(k,n)}}a=m.Ka();m=d.gi.OJ(c,e,m,a,g)?a:d.fb.Xg(m,c,e,g)}return this.aS(m,b,f,q,l)};b.prototype.aS=function(a,c,b,g,h){var e=new d.ea(0),
f=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var l=a.ba(),k=l.ec(),l=l.Cc();k.scale(h);l.scale(h);d.mb.Ld(b,g,k.x,k.y,l.x,l.y,e,null,null,c);f+=e.j}return f};b.$=null;return b}(d.ef);d.lN=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,h){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g,h).next()):new d.kN(a,b,g,c,-1,-1,h)};b.$=null;return b}(d.ef);
d.jN=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e,g,h){if(0<h)throw d.g.df();if(4!=c&&0<g)throw d.g.df();if(null==a)throw d.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.BV=e;this.AV=g}f.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.Gz(b);return null};f.prototype.Ia=function(){return this.Ca};f.prototype.Gz=function(b){return d.Ej.Ls(b,this.Rg,this.$e,this.BV,this.AV,this.lc)};f.prototype.Re=function(){return!0};return f}();
d.kN=f})(p||(p={}));(function(d){(function(d){d[d.Unknown=0]="Unknown";d[d.Contains=1]="Contains";d[d.Within=2]="Within";d[d.Equals=3]="Equals";d[d.Disjoint=4]="Disjoint";d[d.Touches=8]="Touches";d[d.Crosses=16]="Crosses";d[d.Overlaps=32]="Overlaps";d[d.NoThisRelation=64]="NoThisRelation";d[d.Intersects=1073741824]="Intersects";d[d.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(d.AM||(d.AM={}));var f=function(){function f(){}f.s_=function(b,a,c,e){if(a.u()||b.u())return 4;var g=b.G(),h=
a.G(),q;d.T.Oc(g)&&(b=q=new d.Ua(b.description),q.dc(b,!0));d.T.Oc(h)&&(a=q=new d.Ua(a.description),q.dc(a,!0));switch(g){case 33:switch(h){case 33:return f.EN(b,a,c);case 197:return f.se(f.BD(a,b,c));case 550:return f.se(f.$D(a,b,c));case 1607:return f.se(f.$C(a,b,c,e));case 1736:return f.se(f.nE(a,b,c))}throw d.g.za();case 197:switch(h){case 33:return f.BD(b,a,c);case 197:return f.IM(b,a,c);case 550:return f.se(f.SD(a,b,c,e));case 1607:return f.se(f.sE(a,b));case 1736:return f.se(f.jE(a,b))}throw d.g.za();
case 550:switch(h){case 33:return f.$D(b,a,c);case 197:return f.SD(b,a,c,e);case 550:return f.YD(b,a,c,e);case 1607:return f.se(f.uE(a,b));case 1736:return f.se(f.lE(a,b))}throw d.g.za();case 1607:switch(h){case 33:return f.$C(b,a,c,e);case 197:return f.sE(b,a);case 550:return f.uE(b,a);case 1607:return f.lO(b,a);case 1736:return f.se(f.qE(a,b))}throw d.g.za();case 1736:switch(h){case 33:return f.nE(b,a,c);case 197:return f.jE(b,a);case 550:return f.lE(b,a);case 1607:return f.qE(b,a);case 1736:return f.WN(b,
a)}throw d.g.za();default:throw d.g.za();}};f.EN=function(b,a,c){b=b.w();a=a.w();return f.hE(b,a,c)};f.hE=function(b,a,c){b.sub(a);return b.qk()<=c*c?3:4};f.BD=function(b,a,c){var e=new d.h;b.s(e);b=a.w();return f.PM(e,b,c)};f.PM=function(b,a,c){b.O(-c,-c);if(b.contains(a))return 1;b.O(c,c);return b.contains(a)?8:4};f.TM=function(b,a,c){return a.contains(c)?1:b.contains(c)?8:4};f.IM=function(b,a,c){var e=new d.h;b.s(e);b=new d.h;a.s(b);return f.MM(e,b,c)};f.MM=function(b,a,c){var e=0;b.contains(a)&&
(e|=1);a.contains(b)&&(e|=2);if(0!=e)return e;b.O(-c,-c);a.O(-c,-c);if(b.Yb(a))return e=b,e.O(c,c),e=e.contains(a)?1:0,a.O(c,c),e|=a.contains(b)?2:0,0!=e?e:32;e=b;e.O(c,c);a.O(c,c);return e.Yb(a)?8:4};f.$D=function(b,a,c){a=a.w();return f.bE(b,a,c)};f.bE=function(b,a,c){for(var e=0,d=b.D();e<d;e++){var h;h=b.Ba(e);h=f.hE(h,a,c);if(4!=h)return 0!=(h&2)&&1!=d?1:h}return 4};f.SD=function(b,a,c,e){var g=new d.h;a.s(g);return f.$M(b,g,c,e)};f.$M=function(b,a,c,e){a.O(-c,-c);a.O(c,c);for(var d=c=0,h=b.D();d<
h;d++){var q;q=b.Ba(d);q=f.se(f.TM(a,a,q));if(4!=q&&(c|=q,4==e))return 1073741824}return 0==c?4:2==c?c:32};f.YD=function(b,a,c,e){for(var d=0,h=0,q=a.D();h<q;h++){var u;u=a.Ba(h);u=f.bE(b,u,c);if(4!=u&&(d++,4==e))return 1073741824}return 0<d?d==a.D()?3==e?(u=f.YD(a,b,c,1),1==u?3:0):1:32:0};f.$C=function(b,a,c,e){a=a.w();return f.hO(b,a,c,e)};f.WM=function(b,a){var c=null;b=b.ob;null!=b&&(c=b.Hi);if(null!=c){c=c.rm(a.x,a.y);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};f.hO=function(b,
a,c,e){if(0==(e&1073741839))return 64;var g=f.WM(b,a);if(0<g)return g;c*=c;for(g=b.Fa();g.Ya();){var h=g.Ta;if(!b.Qb(h)){var q=b.La(h),h=b.wa(h);if(0==q)continue;if(d.b.sc(b.Ba(h),a)<=c||1<q&&d.b.sc(b.Ba(h+q-1),a)<=c)return 8}if(8!=e)for(;g.Ea();)if(q=g.ba(),q=q.gc(q.pe(a,!1)),d.b.sc(q,a)<=c)return 0!=(e&1073741828)?1073741824:1}return 0!=(e&1073741828)?4:64};f.sE=function(b,a){var c=new d.h;a.s(c);return f.dO(b,c)};f.dO=function(b,a){b=f.eq(b,a);return 0<b?b:0};f.eq=function(b,a){b=b.ob;if(null!=
b)b=b.Hi;else return-1;if(null!=b){b=b.Rn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};f.uE=function(b,a){var c=new d.h;a.s(c);c=f.eq(b,c);return 0<c?c:0};f.uv=function(b,a){var c=new d.h;a.s(c);c=f.eq(b,c);return 0<c?c:-1==c&&(c=new d.h,b.s(c),c=f.eq(a,c),0<c)?f.se(c):0};f.lO=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.nE=function(b,a,c){a=a.w();return f.QN(b,a,c)};f.QN=function(b,a,c){b=d.gd.ge(b,a,c);if(0==b)return 4;if(1==b)return 1;if(2==b)return 8;throw d.g.za();};f.jE=function(b,
a){var c=new d.h;a.s(c);return f.NN(b,c)};f.NN=function(b,a){b=f.eq(b,a);return 0<b?b:0};f.lE=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.qE=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.WN=function(b,a){b=f.uv(b,a);return 0<b?b:0};f.jX=function(b,a){var c=b.G(),e=a.G(),g;if(d.T.gh(c)&&(g=b.ob,null!=g&&(g=g.Hi,null!=g))){if(33==e){var h=a.w();g=g.rm(h.x,h.y)}else h=new d.h,a.s(h),g=g.Rn(h);if(1==g)return 1;if(0==g)return 4}if(d.T.gh(e)&&(g=a.ob,null!=g&&(g=g.Hi,null!=g))){33==c?(c=b.w(),g=g.rm(c.x,
c.y)):(c=new d.h,b.s(c),g=g.Rn(c));if(1==g)return 2;if(0==g)return 4}return 0};f.se=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return f}();d.mN=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 15};b.prototype.V=function(a,c,b,g,h){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,g,h).next()):void 0===h?new d.KD(a,c,b,g,-1):new d.KD(a,
c,b,g,h)};b.prototype.qo=function(a,c,b){if(!this.wv(a))return!1;c=d.na.ah(c,a,!1);var e=a.Hj(b);return e=e||a.Xu(c,b)};b.prototype.wv=function(a){return d.xy.bz(a)};b.$=null;return b}(d.ef);d.tk=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e,g){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.sf=a.next();this.$j=this.sf.G();this.lc=e;this.ej=g;if(-1!=this.ej&&(0>=this.ej||7<this.ej))throw d.g.F("bad dimension mask");}f.prototype.next=function(){if(this.ot)return null;var b;if(null!=
this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ie.next());){this.Ca=this.ie.Ia();if(-1==this.ej)return b=this.Ma(b);this.ox=this.KU(b);return b=this.ox.next()}return null};f.prototype.Ia=function(){return this.Ca};f.prototype.Ma=function(b){var a=this.oL(b);if(null!=a)return a;var a=d.na.Zv(this.sf,b),c=d.na.be(this.Rg,a,!0),a=new d.h;this.sf.s(a);var e=new d.h;b.s(e);a.O(2*c,2*c);a.Ma(e);a.O(100*c,100*c);c=d.ne.clip(this.sf,a,0,0);b=d.ne.clip(b,a,0,0);return d.Dg.nw(b,
c,this.Rg,this.lc)};f.prototype.JJ=function(b,a,c){var e=0;if(0!=(a&1))null==c[0]&&(c[0]=new d.Ed(b)),e++;else for(var g=0;g<c.length-1;g++)c[g]=c[g+1];if(0!=(a&2))null==c[e]&&(c[e]=new d.Ua(b)),e++;else for(g=e;g<c.length-1;g++)c[g]=c[g+1];if(0!=(a&4))null==c[e]&&(c[e]=new d.Ja(b)),e++;else for(g=e;g<c.length-1;g++)c[g]=c[g+1];if(3!=e){b=[];for(g=0;g<e;g++)b[g]=c[g];return new d.hd(b)}return new d.hd(c)};f.prototype.KU=function(b){var a=this.oL(b);if(null!=a){var c=[null,null,null];c[a.tb()]=a;return this.JJ(b.description,
this.ej,c)}a=d.na.Zv(this.sf,b);c=d.na.be(this.Rg,a,!0);a=new d.h;this.sf.s(a);a.O(2*c,2*c);var e=new d.h;b.s(e);a.Ma(e);a.O(100*c,100*c);c=d.ne.clip(this.sf,a,0,0);a=d.ne.clip(b,a,0,0);c=d.Dg.vA(a,c,this.Rg,this.lc);return this.JJ(b.description,this.ej,c)};f.prototype.oL=function(b){var a=d.na.Zv(b,this.sf),c=d.na.be(this.Rg,a,!1),a=b.G(),e=b.u(),g=this.sf.u(),g=e||g;if(!g){g=new d.h;b.s(g);var h=new d.h;this.sf.s(h);h.O(2*c,2*c);g=!g.Yb(h)}if(!g)if(h=d.mN.jX(this.sf,b),4==h)g=!0;else{if(0!=(h&2))return this.sf;
if(0!=(h&1))return b}if(g)return c=d.T.lf(a),g=d.T.lf(this.$j),c<g?f.$(b,e):c>g?this.dK():0==c?550==a&&33==this.$j?this.dK():f.$(b,e):f.$(b,e);if((-1==this.ej||4==this.ej)&&197==a&&197==this.$j)return c=this.sf,a=new d.h,b.s(a),e=new d.h,c.s(e),a.Ma(e),c=new d.ci,b.copyTo(c),c.Gp(a),c;if(197==a&&0==d.T.lf(this.$j)||197==this.$j&&0==d.T.lf(a))return e=197==a?b:this.sf,b=197==a?this.sf:b,a=new d.h,e.s(a),d.ne.clip(b,a,c,0);if(0==d.T.lf(a)&&0<d.T.lf(this.$j)||0<d.T.lf(a)&&0==d.T.lf(this.$j)){c=d.na.ah(this.Rg,
b,!1);if(550==a||33==a)return d.Dg.MH(b,this.sf,c);if(550==this.$j||33==this.$j)return d.Dg.MH(this.sf,b,c);throw d.g.za();}return-1!=this.ej&&2!=this.ej||1607!=a||1736!=this.$j?-1!=this.ej&&2!=this.ej||1736!=a||1607!=this.$j?null:this.lL(this.sf,b):this.lL(b,this.sf)};f.prototype.lL=function(b,a){var c=b,e=a,g=d.na.ah(this.Rg,a,!1),h=new d.h;e.s(h);var f=new d.h;c.s(f);f.O(2*g,2*g);h.Ma(f);h.O(10*g,10*g);var c=b=d.ne.clip(b,h,0,0),f=new d.ia(0),u=-1,l=e.ob;if(null!=l){var k=l.Hi;if(null!=k){u=0;
f.yb(c.D()+c.aa());for(var m=new d.h,p=c.Fa();p.Ya();)for(;p.Ea();){p.ba().s(m);var n=k.Rn(m);1==n?f.add(1):0==n?f.add(0):(f.add(-1),u++)}}}5<a.D()&&(e=a=d.ne.clip(a,h,0,0),l=e.ob);0>u&&(u=c.iA());h=c.D()+e.D();if(u*e.D()>Math.log(h)*h*4)return null;h=null;u=e.Fa();null!=l&&null!=l.Mb&&(h=l.Mb);null==h&&20<e.D()&&(h=d.na.AF(e));e=b.Ka();l=null;k=c.Fa();m=[0,0,0,0,0,0,0,0,0];p=new d.Rd(0);n=new d.Cg;b=-1;for(var r=0,t=0,A=0<f.size,z=-1;k.Ya();){var z=k.Ta,v=0;b=-1;for(r=0;k.Ea();){var x=A?d.J.truncate(f.get(t)):
-1;t++;var w=k.ba();if(0>x){if(null!=h)for(null==l?l=h.oT(w,g):l.Wn(w,g),x=l.next();-1!=x;x=l.next()){u.Tb(h.ja(x));for(var x=u.ba(),C=w.Ma(x,null,m,null,g),x=0;x<C;x++)p.add(m[x])}else for(u.yj();u.Ya();)for(;u.Ea();)for(x=u.ba(),C=w.Ma(x,null,m,null,g),x=0;x<C;x++)p.add(m[x]);if(0<p.size){p.Gd(0,p.size,function(a,c){return a-c});var B=0;p.add(1);for(var C=-1,x=0,D=p.size;x<D;x++){var E=p.get(x);if(E!=B){var F=!1;0!=B||1!=E?(w.yh(B,E,n),B=n.get()):(B=w,F=!0);if(2<=v){e.Bs(c,z,b,r,3==v);if(1!=this.eF(a,
B.ec(),g)&&1!=this.fF(a,B,g))return null;e.dc(B,!1);v=1;r=0}else switch(C=this.fF(a,B,g),C){case 1:F?2>v?(b=k.Db()-c.wa(z),r=1,v=0==v?3:2):r++:(e.dc(B,0==v),v=1);break;case 0:v=0;b=-1;r=0;break;default:return null}B=E}}}else{x=this.eF(a,w.ec(),g);if(0>x)return null;1==x?(2>v&&(b=k.Db()-c.wa(z),v=0==v?3:2),r++):(b=-1,r=0)}p.clear(!1)}else 0!=x&&1==x&&(0==v?(v=3,b=k.Db()-c.wa(z)):1==v?(v=2,b=k.Db()-c.wa(z)):r++)}2<=v&&(e.Bs(c,z,b,r,3==v),b=-1)}return e};f.prototype.eF=function(b,a,c){return d.ff.kn(b,
a,c)};f.prototype.fF=function(b,a,c){var e=a.ec();a=a.Cc();var g=d.ff.kn(b,e,c),h=d.ff.kn(b,a,c);if(1==g&&0==h||0==g&&1==h)return-1;if(0==g||0==h)return 0;if(1==g||1==h)return 1;g=new d.b;g.add(e,a);g.scale(.5);b=d.ff.kn(b,g,c);return 0==b?0:1==b?1:-1};f.$=function(b,a){return a?b:b.Ka()};f.prototype.dK=function(){null==this.KI&&(this.KI=this.sf.Ka());return this.KI};f.prototype.Re=function(){return!0};return f}();d.KD=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}
J(b,f);b.prototype.G=function(){return 28};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g,h,f,u){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g,h,f,u).next()):new d.nN(a,c,b,g,h,f,u)};b.$=null;return b}(d.ef);d.LD=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e,d,h,f){this.Ca=-1;this.ie=b;this.fk=a;this.Qa=c;this.jj=e;this.iB=d;this.GI=h;this.ke=f}f.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),this.aN(b)):
null};f.prototype.Ia=function(){return this.Ca};f.prototype.aN=function(b){var a;a=0>=this.GI?d.na.ah(this.fk,b,!1):this.GI;return d.TL.V(b,this.Qa,this.jj,this.iB,a,this.ke)};f.prototype.Re=function(){return!0};return f}();d.nN=f})(p||(p={}));(function(d){(function(d){d[d.clipToDomainOnly=1]="clipToDomainOnly";d[d.clipWithHorizon=2]="clipWithHorizon";d[d.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(d.Up||(d.Up={}));var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=
function(){return 0};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b).next()):new d.oN(a,c,b)};b.prototype.transform=function(a,c,b,g){return d.ko.transform(a,c,b,g,!0)};b.prototype.jL=function(a,c,b){return d.ko.jL(a,c,b)};b.prototype.Du=function(a,c,b,g){return d.ko.Du(a,c,b,g)};b.prototype.WY=function(a,c,b,g){return d.ko.gs(a,c,b,g)};b.prototype.iL=function(a,c,b,g){return d.ko.iL(a,c,b,g)};b.$=null;return b}(d.ef);
d.os=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c){this.Ca=-1;this.ie=b;this.KV=a;this.ke=c}f.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),d.ko.Xg(b,this.KV,this.ke)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=function(){return!0};return f}();d.oN=f})(p||(p={}));(function(d){var f=function(){function b(){}b.prototype.reset=function(){this.Lh=this.Zk=-1;this.qt=this.$q=!1};b.prototype.sS=function(a,c,b){for(a.Tb(c,b);a.Ea();){var e=
a.ba(),e=e.Rb();if(0!=e)return a.Db()}for(a.Tb(c,b);a.oA();)if(e=a.Li(),e=e.Rb(),0!=e)return a.Db();return-1};b.prototype.tS=function(a,c){for(a.Tb(c,-1);a.oA();)if(0!=a.Li().Rb())return a.Db();return-1};b.prototype.rS=function(a,c){a.Tb(c,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.qS=function(a,c,b,g){this.Zk=this.sS(c,b,g);if(-1!=this.Zk){c.Tb(this.Zk,-1);var e=c.ba(),f=e.gc(e.pe(a,!1));b=d.b.sc(f,a);g=new d.b;g.L(f);g.sub(e.ec());f=new d.b;f.L(a);f.sub(e.ec());
this.$q=0>g.Ui(f);this.Lh=this.rS(c,this.Zk);if(-1!=this.Lh){c.Tb(this.Lh,-1);var e=c.ba(),u=e.pe(a,!1),u=e.gc(u),l=d.b.sc(u,a);l>b?this.Lh=-1:(g.L(u),g.sub(e.ec()),f.L(a),f.sub(e.ec()),this.qt=0>g.Ui(f))}-1==this.Lh&&(this.Lh=this.tS(c,this.Zk),-1!=this.Lh&&(c.Tb(this.Lh,-1),e=c.ba(),u=e.pe(a,!1),u=e.gc(u),l=d.b.sc(u,a),l>b?this.Lh=-1:(g.L(u),g.sub(e.ec()),f.L(a),f.sub(e.ec()),this.qt=0>g.Ui(f),a=this.Zk,this.Zk=this.Lh,this.Lh=a,a=this.$q,this.$q=this.qt,this.qt=a)))}};b.prototype.dQ=function(a,
c,b,d,h){b=b.Fa();this.qS(a,b,d,h);if(-1!=this.Zk&&-1==this.Lh)return this.$q;if(-1!=this.Zk&&-1!=this.Lh){if(this.$q==this.qt)return this.$q;b.Tb(this.Zk,-1);a=b.ba().Eg(1);b.Tb(this.Lh,-1);c=b.ba().Eg(0);return 0<=a.Ui(c)?!0:!1}return c};return b}(),l=function(b){function a(){b.apply(this,arguments)}J(a,b);a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 3};a.prototype.Zz=function(a,b,g,h){void 0===h&&(h=!1);if(a.u())return new d.Mm;b=b.w();var c=a,e=a.G();
197==e&&(c=new d.Ja,c.jd(a,!1),e=1736);switch(e){case 33:return this.FJ(c,b);case 550:return this.rJ(c,b);case 1607:case 1736:return this.ZV(c,b,g,h);default:throw d.g.X("not implemented");}};a.prototype.$z=function(a,b){if(a.u())return new d.Mm;b=b.w();var c=a,e=a.G();197==e&&(c=new d.Ja,c.jd(a,!1),e=1736);switch(e){case 33:return this.FJ(c,b);case 550:case 1607:case 1736:return this.rJ(c,b);default:throw d.g.X("not implemented");}};a.prototype.aA=function(a,b,g,h){if(0>h)throw d.g.F();if(a.u())return[];
b=b.w();var c=a,e=a.G();197==e&&(c=new d.Ja,c.jd(a,!1),e=1736);switch(e){case 33:return this.EW(c,b,g,h);case 550:case 1607:case 1736:return this.bW(c,b,g,h);default:throw d.g.X("not implemented");}};a.prototype.ZV=function(a,b,g,h){if(1736==a.G()&&g&&(g=new d.h,a.s(g),g=d.na.be(null,g,!1),0!=(h?d.gd.ge(a,b,0):d.gd.ge(a,b,g)))){var c=new d.Mm(b,0,0);h&&c.NK(!0);return c}for(var e=a.Fa(),c=new d.b,l=g=-1,k=1.7976931348623157E308,m=0;e.Ya();)for(;e.Ea();){var p=e.ba(),p=p.gc(p.pe(b,!1)),n=d.b.sc(p,
b);n<k?(m=1,c=p,g=e.Db(),l=e.Ta,k=n):n==k&&m++}c=new d.Mm(c,g,Math.sqrt(k));h&&(e.Tb(g,l),p=e.ba(),h=0>d.b.zp(b,p.ec(),p.Cc()),1<m&&(m=new f,m.reset(),h=m.dQ(b,h,a,g,l)),c.NK(h));return c};a.prototype.FJ=function(a,b){a=a.w();b=d.b.Cb(a,b);return new d.Mm(a,0,b)};a.prototype.rJ=function(a,b){var c=a.Pa(0);a=a.D();for(var e=0,f=0,u=0,l=1.7976931348623157E308,k=0;k<a;k++){var m=new d.b;c.fc(2*k,m);var p=d.b.sc(m,b);p<l&&(f=m.x,u=m.y,e=k,l=p)}c=new d.Mm;c.Ly(f,u,e,Math.sqrt(l));return c};a.prototype.EW=
function(a,b,g,h){if(0==h)return g=[];g*=g;a=a.w();b=d.b.sc(a,b);b<=g?(g=[],h=new d.Mm,h.Ly(a.x,a.y,0,Math.sqrt(b)),g[0]=h):g=[];return g};a.prototype.bW=function(a,b,g,h){if(0==h)return h=[];var c=a.Pa(0),e=a.D();a=[];var f=0;g*=g;for(var l=0;l<e;l++){var k=c.read(2*l),m=c.read(2*l+1),p=b.x-k,n=b.y-m,p=p*p+n*n;p<=g&&(n=new d.Mm,n.Ly(k,m,l,Math.sqrt(p)),f++,a.push(n))}b=a.length;a.sort(function(a,c){return a.Qa<c.Qa?-1:a.Qa==c.Qa?0:1});if(h>=b)return a.slice(0);a.length=h;return a.slice(0)};a.$=null;
return a}(d.ef);d.sy=l})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 4};b.prototype.V=function(a,c,b,g,h){return d.Nm.YB(a,c,b,g,h)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return d.Gu.cz(a)};b.prototype.qo=function(a,c,b){return d.Gu.TE(a,c,b)};b.$=null;return b}(d.ef);d.pN=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 33};
b.prototype.V=function(a,c,b,g,h){return 1073741824===a?!d.Fd.ZB(c,b,g,4,h):d.Fd.ZB(c,b,g,a,h)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return d.Gu.cz(a)};b.prototype.qo=function(a,c,b){return d.Gu.TE(a,c,b)};b.$=null;return b}(d.ef);d.Gj=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e){this.ke=e;this.rV=c;this.Ca=-1;if(null==b)throw d.g.F();this.$k=b;this.fk=a}f.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),
this.CC(b)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.CC=function(b){if(null==b)throw d.g.F();return d.ty.TK(b,this.fk,this.rV,this.ke)};f.prototype.Re=function(){return!0};return f}();d.qN=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 26};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,g).next()):new d.qN(a,c,b,g)};b.prototype.Wq=function(a,c,b,g,h){return 0<(void 0!==
g?d.ty.Wq(a,c,b,g,h):d.ty.Wq(a,c,!1,null,b))};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.Km=f})(p||(p={}));(function(d){var f=function(){function a(){this.nr=0}a.prototype.hY=function(a){this.nr&=-2;this.nr|=a?1:0};a.prototype.fn=function(){return 0!=(this.nr&1)};a.prototype.hH=function(){return this.fn()?0:1};return a}();d.KZ=f;var l=function(){return function(){}}(),b=function(){return function(a,c,b,e){this.x=a;this.y=c;this.$i=b;this.ln=e}}(),a=function(){function a(a){this.bf=
a}a.prototype.compare=function(a,c,b){a=a.ja(b);c=this.bf.Nf.read(2*c);a=this.bf.Nf.read(2*a);c-=a;return 0>c?-1:0<c?1:0};return a}(),c=function(){function a(a){this.bf=a}a.prototype.compare=function(a,c,b){c=this.bf.ib[c];a=this.bf.ib[a.ja(b)];var e=c.fn(),d=a.fn();b=c.Le.pf(this.bf.wp,0);var g=a.Le.pf(this.bf.wp,0);b==g&&(b=Math.min(e?c.Le.ra:c.Le.oa,d?a.Le.ra:a.Le.oa),e=.5*(b-this.bf.wp)+this.bf.wp,e==this.bf.wp&&(e=b),b=c.Le.pf(e,0),g=a.Le.pf(e,0));return b<g?-1:b>g?1:0};return a}(),e=function(){function a(a,
c){this.QJ=new d.b;this.parent=a;this.YT=c}a.prototype.hs=function(a,c,b){var e=this.parent,d=this.YT;b.Gd(a,c,function(a,c){return e.ki(a,c,d)})};a.prototype.Qq=function(a){a=this.parent.Gi.get(a);this.parent.Nf.fc(2*(a>>1),this.QJ);return this.QJ.y+(0!=(a&1)?this.parent.hk:-this.parent.hk)};return a}(),g=function(){function g(a,c,b,e,g){this.zI=a.description;this.Y=a;this.mh=c;this.hk=d.na.ah(this.mh,a,!1);this.pp=d.na.ah(this.mh,a,!0);this.dB=b;this.pV=this.zI.Ga;this.ib=[];this.cp=[];this.Hh=
new d.Xp;this.hb=new d.uk;this.ve=new d.$d;this.kI=this.Ul=g}g.prototype.AA=function(){this.kI=!0;return(!d.T.Ic(this.Y.G())||this.NF()&&this.MF(!1))&&this.pQ()?d.T.Ic(this.Y.G())?this.sQ()?1607==this.Y.G()?this.uQ()?2:0:this.vQ()?this.wQ():0:0:2:0};g.prototype.IC=function(a,c){var b=this.Nf.read(2*a);a=this.Nf.read(2*a+1);var e=this.Nf.read(2*c);c=this.Nf.read(2*c+1);var g=!d.Iu.pw(b,a,e,c,this.hk*this.hk);return g?g:0==this.Y.tb()?!1:b==e&&a==c};g.prototype.NF=function(){for(var a=this.Y,c=a.$f?
3:2,b=0,e=a.aa();b<e;b++)if(a.La(b)<c)return this.ve=new d.$d(1,b,0),!1;return!0};g.prototype.MF=function(a){for(var c=this.Y,b=c.Fa(),e=c.hasAttribute(1),c=e?d.na.FF(this.mh,c,!1):0;b.Ya();)for(;b.Ea();){var g=b.ba();if(!(g.Rb()>this.hk)){if(a&&e){var h=g.dt(1,0),g=g.dt(1,0);if(Math.abs(g-h)>c)continue}this.ve=new d.$d(2,b.Db(),-1);return!1}}return!0};g.prototype.pQ=function(){var c=this.Y,b=null;d.T.Ic(this.Y.G())&&(b=this.Y);var g=(this.kI||this.Ul)&&null!=b,h=c.D();this.Nf=c.Pa(0);this.Gi=new d.ia(0);
this.Gi.yb(2*h);this.Fi=new d.ia(0);this.Fi.yb(2*h);g&&(null==this.im&&(this.im=new d.ia(0)),this.im.yb(h));for(var f=c=0;f<h;f++)if(this.Gi.add(2*f),this.Gi.add(2*f+1),this.Fi.add(2*f),this.Fi.add(2*f+1),g){for(;f>=b.Gc(c);)c++;this.im.add(c)}(new d.Hu).sort(this.Fi,0,2*h,new e(this,g));this.hb.clear();this.hb.Ep(new a(this));this.hb.Qe(h);b=0;for(h*=2;b<h;b++)if(g=this.Fi.get(b),c=this.Gi.get(g),g=c>>1,0==(c&1)){c=this.hb.addElement(g,-1);f=this.hb.Ve(c);if(-1!=f&&!this.IC(this.hb.ja(f),g))return this.ve=
new d.$d(3,g,this.hb.ja(f)),!1;var l=this.hb.nb(c);if(-1!=l&&!this.IC(this.hb.ja(l),g))return this.ve=new d.$d(3,g,this.hb.ja(l)),!1}else if(c=this.hb.search(g,-1),f=this.hb.Ve(c),l=this.hb.nb(c),this.hb.Kd(c,-1),-1!=f&&-1!=l&&!this.IC(this.hb.ja(f),this.hb.ja(l)))return this.ve=new d.$d(3,this.hb.ja(f),this.hb.ja(l)),!1;return!0};g.prototype.sQ=function(){return 10>this.Y.D()?this.qQ():this.rQ()};g.prototype.rQ=function(){var a=new d.fd;a.Jb(this.Y);var c=new d.$d;return d.Ku.tJ(!1,a,this.hk,c,this.ke)?
(c.lm=a.Za(c.lm),c.mm=a.Za(c.mm),this.ve.ms(c),!1):!0};g.prototype.qQ=function(){for(var a=this.Y,c=a.Fa(),a=a.Fa();c.Ya();)for(;c.Ea();){var b=c.ba();if(!c.Io()||!c.TU()){a.yX(c);do for(;a.Ea();){var e=a.ba(),e=b.ys(e,this.hk,!0);if(0!=e)return this.ve=new d.$d(2==e?5:4,c.Db(),a.Db()),!1}while(a.Ya())}}return!0};g.prototype.vQ=function(){var a=this.Y;this.ib.length=0;this.cp.length=0;this.ug=a.Fa();this.ug.jC();var c=new d.ia(0);c.yb(10);for(var b=NaN,e=0,g=0,a=2*a.D();g<a;g++){var h=this.Fi.get(g),
h=this.Gi.get(h);if(0==(h&1)){var h=h>>1,f=this.Nf.read(2*h),l=this.Nf.read(2*h+1);if(0!=c.size&&(f!=b||l!=e)){if(!this.KJ(c))return!1;null!=c&&c.clear(!1)}c.add(h);b=f;e=l}}return this.KJ(c)?!0:!1};g.prototype.uQ=function(){for(var a=this.Y,c=Array(a.aa()),b=0,e=a.aa();b<e;b++)c[b]=a.Eo(b);var e=new l,g,h,f,k=new d.b,b=this.Fi.get(0),b=this.Gi.get(b),m=b>>1;this.Nf.fc(2*m,k);b=this.im.get(m);g=c[b];h=a.wa(b);f=a.Gc(b)-1;e.Il=m==h||m==f;e.Uy=this.Ul?!g&&e.Il:e.Il;e.$i=b;e.x=k.x;e.y=k.y;e.ln=m;for(var p=
new l,n=1,r=this.Fi.size;n<r;n++)if(b=this.Fi.get(n),b=this.Gi.get(b),0==(b&1)){m=b>>1;this.Nf.fc(2*m,k);b=this.im.get(m);b!=e.$i&&(g=c[b],h=a.wa(b),f=a.Gc(b)-1);var t,A=m==h||m==f;t=this.Ul?!g&&e.Il:e.Il;p.x=k.x;p.y=k.y;p.$i=b;p.ln=m;p.Uy=t;p.Il=A;if(p.x==e.x&&p.y==e.y)if(this.Ul){if(!p.Uy||!e.Uy)if(p.$i!=e.$i||!p.Il&&!e.Il)return this.ve=new d.$d(8,p.ln,e.ln),!1}else if(!p.Il||!e.Il)return this.ve=new d.$d(5,p.ln,e.ln),!1;b=e;e=p;p=b}return!0};g.prototype.PF=function(){for(var a=this.Y,c=[],e=-1,
g=!1,h=0,f=a.aa();h<f;h++)a.rw(h)&&(g=!1,e++,h<f-1&&(a.rw(h+1)||(g=!0))),c[h]=g?e:-1;var g=new d.b,h=this.Fi.get(0),h=this.Gi.get(h),l=h>>1;this.Nf.fc(2*l,g);for(var h=this.im.get(l),e=new b(g.x,g.y,h,l,c[h]),a=[],k=1,f=this.Fi.size;k<f;k++)if(h=this.Fi.get(k),h=this.Gi.get(h),0==(h&1)){l=h>>1;this.Nf.fc(2*l,g);h=this.im.get(l);h=new b(g.x,g.y,h,l,c[h]);if(h.x==e.x&&h.y==e.y){if(h.$i==e.$i)return this.ve=new d.$d(9,h.ln,e.ln),!1;0<=c[h.$i]&&c[h.$i]==c[e.$i]&&(0!=a.length&&a[a.length-1]==e||a.push(e),
a.push(h))}e=h}if(0==a.length)return!0;h=new d.Xp(!0);d.J.Nv(c,-1);g=-1;k=new d.b;k.$c();e=0;for(f=a.length;e<f;e++){l=a[e];if(l.x!=k.x||l.y!=k.y)g=h.mi(0),k.x=l.x,k.y=l.y;var m=c[l.$i];-1==m&&(m=h.mi(2),c[l.$i]=m);h.addElement(m,g);h.addElement(g,m)}f=new d.ia(0);f.yb(10);for(e=h.Ge;-1!=e;e=h.bA(e))if(a=h.$G(e),0==(a&1)&&0!=(a&2)){a=-1;f.add(e);for(f.add(-1);0<f.size;){g=f.Fc();f.Pf();k=f.Fc();f.Pf();l=h.$G(k);if(0!=(l&1)){a=0==(l&2)?g:k;break}h.$X(k,l|1);for(l=h.xc(k);-1!=l;l=h.nb(l))m=h.getData(l),
m!=g&&(f.add(m),f.add(k))}if(-1!=a){h=-1;e=0;for(f=c.length;e<f;e++)if(c[e]==a){h=e;break}this.ve=new d.$d(10,h,-1);return!1}}return!0};g.prototype.wQ=function(){var a=this.Y;if(0>=a.hf())return this.ve=new d.$d(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Ul&&!this.PF()?0:2;this.hp=d.ia.zd(a.aa(),0);this.pB=d.ia.zd(a.aa(),-1);for(var b=-1,e=0,g=0,h=a.aa();g<h;g++){var f=a.Sm(g);this.hp.write(g,0>f?0:256);if(0<f)b=g,e=f;else{if(0==f)return this.ve=new d.$d(6,g,-1),0;if(0>b||e<Math.abs(f))if(this.ve=
new d.$d(7,g,-1),this.Ul)return 0;this.pB.write(g,b)}}this.Wt=a.aa();this.Bn=new d.ia(0);this.Bn.yb(10);h=a.D();this.wp=NaN;a=new d.ia(0);a.yb(10);this.Jr=d.ia.zd(h,-1);this.ux=d.ia.zd(h,-1);null!=this.Yj?this.Yj.clear(!1):this.Yj=new d.ia(0);this.Yj.yb(10);this.hb.clear();this.hb.Ep(new c(this));b=0;for(h*=2;0<this.Wt&&b<h;b++)if(e=this.Fi.get(b),e=this.Gi.get(e),0==(e&1)){e>>=1;g=this.Nf.read(2*e+1);if(g!=this.wp&&0!=a.size){if(!this.ju(a))return 0;null!=a&&a.clear(!1)}a.add(e);this.wp=g}return 0<
this.Wt&&!this.ju(a)?0:this.Ul?0==this.ve.Ii&&this.PF()?2:0:0==this.ve.Ii?2:1};g.prototype.KJ=function(a){if(1==a.size)return!0;for(var c=0,b=a.size;c<b;c++){var e=a.get(c);this.ug.Tb(e);var g=this.ug.Li();this.ib.push(this.Gv(g,e,this.ug.Ta,!0));this.ug.ba();g=this.ug.ba();this.ib.push(this.Gv(g,e,this.ug.Ta,!1))}var h=this;this.ib.sort(function(a,c){return h.UR(a,c)});e=this.Hh.Ge;-1==e&&(e=this.Hh.mi(0));this.Hh.Vn(this.ib.length);c=0;for(b=this.ib.length;c<b;c++)this.Hh.addElement(e,c);for(var c=
!0,f=b=-1;c;){c=!1;g=this.Hh.xc(e);if(-1==g)break;for(var q=this.Hh.nb(g);-1!=q;){b=this.Hh.getData(g);f=this.Hh.getData(q);b=this.ib[b].up;f=this.ib[f].up;if(b==f)if(c=!0,this.Hh.kd(e,g),g=this.Hh.Ve(q),q=this.Hh.kd(e,q),-1==q||-1==g)break;else continue;g=q;q=this.Hh.nb(g)}}c=this.Hh.at(e);this.Hh.QF(e);if(0<c)return this.ve=new d.$d(5,b,f),!1;c=0;for(b=a.size;c<b;c++)this.VB(this.ib[c]);this.ib.length=0;return!0};g.prototype.ju=function(a){for(var c=0,b=a.size;c<b;c++){var e=a.get(c),g=this.Jr.read(e);
if(-1!=g){var h=this.hb.ja(g);this.Yj.add(h);this.hb.Kd(g,-1);this.VB(this.ib[h]);this.ib[h]=null;this.Jr.write(e,-1)}g=this.ux.read(e);-1!=g&&(h=this.hb.ja(g),this.Yj.add(h),this.hb.Kd(g,-1),this.VB(this.ib[h]),this.ib[h]=null,this.ux.write(e,-1))}c=0;for(b=a.size;c<b;c++){e=a.get(c);this.ug.Tb(e);g=this.ug.Li();if(g.ra>g.oa){var f=this.ug.Db(),q=this.Gv(g,e,this.ug.Ta,!0);0<this.Yj.size?(h=this.Yj.Fc(),this.Yj.Pf(),this.ib[h]=q):(h=this.ib.length,this.ib.push(q));g=this.hb.addElement(h,-1);-1==
this.Jr.read(f)?this.Jr.write(f,g):this.ux.write(f,g);0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(g)}this.ug.ba();g=this.ug.ba();g.ra<g.oa&&(f=this.ug.Jk(),q=this.Gv(g,e,this.ug.Ta,!1),0<this.Yj.size?(h=this.Yj.Fc(),this.Yj.Pf(),this.ib[h]=q):(h=this.ib.length,this.ib.push(q)),g=this.hb.addElement(h,-1),-1==this.Jr.read(f)?this.Jr.write(f,g):this.ux.write(f,g),0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(g))}c=0;for(b=this.Bn.size;c<b&&0<this.Wt;c++)if(g=this.Bn.get(c),0==(this.hp.read(this.ib[this.hb.ja(g)].oB)&
3)){a=-1;for(var e=this.hb.Ve(g),l=g,q=null,h=-1,k=0;-1!=e;){h=this.hb.ja(e);q=this.ib[h];h=q.oB;k=this.hp.read(h);if(0!=(k&3))break;l=e;e=this.hb.Ve(e)}-1==e?(f=1,e=l):(a=1==(k&3)?h:this.pB.read(h),f=0!=q.hH()?0:1,e=this.hb.nb(e));do{h=this.hb.ja(e);q=this.ib[h];h=q.oB;l=this.hp.read(h);if(0==(l&3)){if(f!=q.hH())return this.ve=new d.$d(6,h,-1),!1;k=0==f||q.fn()?2:1;l=l&252|k;this.hp.write(h,k);if(2==k&&0==this.ve.Ii&&this.pB.read(h)!=a&&(this.ve=new d.$d(7,h,-1),this.Ul))return!1;this.Wt--;if(0==
this.Wt)return!0}1==(l&3)&&(a=h);l=e;e=this.hb.nb(e);f=0!=f?0:1}while(l!=g)}null!=this.Bn?this.Bn.clear(!1):this.Bn=new d.ia(0);return!0};g.prototype.Gv=function(a,c,b,e){if(322==a.G())a=this.rR(a);else throw d.g.za();a.up=c;a.oB=b;a.nr=0;a.hY(e);return a};g.prototype.rR=function(a){var c;0<this.cp.length?(c=this.cp[this.cp.length-1],--this.cp.length,a.copyTo(c.Le)):(c=new f,c.Le=d.cE.oe(a));return c};g.prototype.VB=function(a){322==a.Le.G()&&this.cp.push(a)};g.prototype.$V=function(){for(var a=this.Y.D(),
c=new d.ia(0),b=0;b<a;b++)c.add(b);var e=this;c.Gd(0,a,function(a,c){return e.Cv(a,c)});for(b=1;b<a;b++)if(0==this.Cv(c.get(b-1),c.get(b)))return this.ve=new d.$d(3,c.get(b-1),c.get(b)),0;return 2};g.prototype.JW=function(){return this.NF()?this.MF(!0)?2:0:0};g.prototype.HW=function(){return this.AA()};g.prototype.aW=function(){for(var a=this.Y.D(),c=new d.ia(0),b=0;b<a;b++)c.add(b);var e=this;c.Gd(0,a,function(a,c){return e.SQ(a,c)});var g=Array(a);d.J.Nv(g,!1);g[c.get(0)]=!0;for(b=1;b<a;b++){var h=
c.get(b-1),f=c.get(b);0==this.Cv(h,f)?g[f]=!1:g[f]=!0}for(var c=this.Y.Ka(),h=this.Y,f=0,l=1,b=0;b<a;b++)g[b]?l=b+1:(f<l&&c.Id(h,f,l),f=b+1);f<l&&c.Id(h,f,l);c.Zg(2,this.pp);return c};g.prototype.KW=function(){var a=this.Y,c=a.Fa(),b=a.Fa(),e=this.Y.Ka(),g=this.Y,h=a.hasAttribute(1),f=h?d.na.FF(this.mh,a,!0):0,l=new d.ia(0),k=new d.ia(0);l.yb(d.J.truncate(a.D()/2+1));for(k.yb(d.J.truncate(a.D()/2+1));c.Ya();)if(b.Ya(),!(2>a.La(c.Ta))){b.AX();for(var m,p,n=!0;c.Ea();){var r=c.ba(),t=b.Li();if(c.Db()>
b.Db())break;n&&(l.add(c.Db()),k.add(b.Jk()),n=!1);p=l.Fc();var A=c.Jk();if(1<A-p){var z=new d.b;z.zc(a.Ba(p),a.Ba(A));m=z.length()}else m=r.Rb();p=k.Fc();A=b.Db();1<A-p?(z=new d.b,z.zc(a.Ba(p),a.Ba(A)),p=z.length()):p=t.Rb();m>this.pp?l.add(c.Jk()):h&&(m=a.Yc(1,l.Fc(),0),r=r.Os(1,0),Math.abs(r-m)>f&&l.add(c.Jk()));p>this.pp?k.add(b.Db()):h&&(m=a.Yc(1,k.Fc(),0),r=t.Os(1,0),Math.abs(r-m)>f&&k.add(b.Db()))}l.Fc()<k.Fc()?l.size>k.size?l.Pf():k.Pf():(l.Fc()!=k.Fc()&&k.Pf(),k.Pf());if(2<=k.size+l.size){n=
new d.Wa;t=0;for(r=l.size;t<r;t++)g.Ae(l.get(t),n),0==t?e.Rf(n):e.lineTo(n);for(t=k.size-1;0<t;t--)g.Ae(k.get(t),n),e.lineTo(n);g.Qb(c.Ta)?e.sq():0<k.size&&(g.Ae(k.get(0),n),e.lineTo(n))}null!=l&&l.clear(!1);null!=k&&k.clear(!1)}e.Zg(2,this.pp);return e};g.prototype.IW=function(){return this.xY()};g.prototype.xY=function(){if(1736==this.Y.G()&&1==this.Y.xo())return d.Dg.ol(this.Y,this.pp,!0,!1,this.ke);this.gj=new d.fd;this.gj.Jb(this.Y);0!=this.gj.vd&&(1!=this.dB&&d.sk.V(this.gj,this.pp,this.ke,
!0),1736==this.Y.G()&&d.lo.V(this.gj,this.gj.sd,this.dB,!1,this.ke));this.Y=this.gj.Se(this.gj.sd);1736==this.Y.G()&&(this.Y.Al(),this.Y.Hp(0));this.Y.Zg(2,this.pp);return this.Y};g.tc=function(a,c,b){if(a.u())return 1;var e=a.G();if(33==e)return 1;if(197==e)return b=new d.h,a.s(b),b.fh(d.na.ah(c,a,!1))?0:1;if(d.T.Oc(e))throw d.g.za();if(!d.T.gh(e))throw d.g.za();var e=d.na.ah(c,a,!1),h=a.Lk(e);b=b?-1:h;if(-1!=b)return b;1==b&&(e=0);b=(new g(a,c,b,0,!1)).AA();a.Zg(b,e);return b};g.Wq=function(a,c,
b,e,h){null!=e&&(e.Ii=0,e.lm=-1,e.mm=-1);if(a.u())return 1;var f=a.G();if(33==f)return 1;var q=d.na.ah(c,a,!1);if(197==f)return c=new d.h,a.s(c),c.fh(q)?(null!=e&&(e.Ii=2,e.lm=-1,e.mm=-1),0):1;if(d.T.Oc(f))return q=new d.Ua(a.description),q.dc(a,!0),g.Wq(q,c,b,e,h);h=a.Lk(q);b=b?-1:h;if(-1!=b)return b;c=new g(a,c,b,0,!1);if(550==f)b=c.$V();else if(1607==f)b=c.JW();else if(1736==f)b=c.HW();else throw d.g.za();a.Zg(b,q);null!=e&&0==b&&e.ms(c.ve);return b};g.Bb=function(a,c,b,e,h){null!=e&&(e.Ii=0,e.lm=
-1,e.mm=-1);if(a.u())return 1;var f=a.G();if(33==f)return 1;var q=d.na.ah(c,a,!1);if(197==f)return c=new d.h,a.s(c),c.fh(q)?(null!=e&&(e.Ii=2,e.lm=-1,e.mm=-1),0):1;if(d.T.Oc(f))return f=new d.Ua(a.description),f.dc(a,!0),g.Wq(f,c,b,e,h);a=new g(a,c,-1,0,!0);if(550==f||1607==f||1736==f)c=a.AA();else throw d.g.za();null!=e&&e.ms(a.ve);return c};g.TK=function(a,c,b,e){if(a.u())return a;var h=a.G();if(33==h)return a;var f=d.na.ah(c,a,!1);if(197==h)return c=new d.h,a.s(c),c.fh(f)?a.Ka():a;if(d.T.Oc(h))return h=
new d.Ua(a.description),h.dc(a,!0),g.TK(h,c,b,e);e=a.Lk(f);b=b?-1:e;if(2==b)return a;a=new g(a,c,b,0,!1);if(550==h)a=a.aW();else if(1607==h)a=a.KW();else if(1736==h)a=a.IW();else throw d.g.za();return a};g.DC=function(a,c,b,e){if(a.u())return a;var h=a.G();if(33==h)return a;var f=d.na.ah(c,a,!1);if(197==h)return c=new d.h,a.s(c),c.fh(f)?a.Ka():a;if(d.T.Oc(h))return f=new d.Ua(a.description),f.dc(a,!0),g.DC(f,c,b,e);if(!d.T.gh(h))throw d.g.X("OGC simplify is not implemented for this geometry type "+
h);return d.Dg.DC(a,f,!1,e)};g.prototype.ki=function(a,c,b){if(a==c)return 0;a=this.Gi.get(a);var e=this.Gi.get(c);c=a>>1;var g=e>>1,h=new d.b,f=new d.b;this.Nf.fc(2*c,h);h.y+=0!=(a&1)?this.hk:-this.hk;this.Nf.fc(2*g,f);f.y+=0!=(e&1)?this.hk:-this.hk;a=h.compare(f);return 0==a&&b?(b=this.im.get(c)-this.im.get(g),0>b?-1:0<b?1:0):a};g.prototype.Cv=function(a,c){if(a==c)return 0;var b=this.Y,e=b.Ba(a),g=b.Ba(c);if(e.x<g.x)return-1;if(e.x>g.x)return 1;if(e.y<g.y)return-1;if(e.y>g.y)return 1;for(e=1;e<
this.pV;e++)for(var g=this.zI.rd(e),h=d.ma.Xa(g),f=0;f<h;f++){var q=b.Yc(g,a,f),l=b.Yc(g,c,f);if(q<l)return-1;if(q>l)return 1}return 0};g.prototype.SQ=function(a,c){var b=this.Cv(a,c);return 0==b?a<c?-1:1:b};g.prototype.UR=function(a,c){if(a===c)return 0;var b=a.Le.Eg(a.fn()?1:0);a.fn()&&b.Lr();a=c.Le.Eg(c.fn()?1:0);c.fn()&&a.Lr();c=b.$u();var e=a.$u();return e==c?(c=b.Ui(a),Math.abs(c)<=8.881784197001252E-16*(Math.abs(a.x*b.y)+Math.abs(a.y*b.x))&&(c--,c++),0>c?1:0<c?-1:0):c<e?-1:1};return g}();d.ty=
g})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 30};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,g){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,g).next()):new d.rN(a,c,b,g)};b.Pp=function(a,c,e,g){var h=a.tb(),f=c.tb();if(a.u()&&c.u())return h>f?a:c;if(a.u())return c;if(c.u())return a;var l=new d.h,k=new d.h,m=new d.h;a.s(l);c.s(k);m.I(l);m.Nb(k);l=d.na.be(e,m,!1);
k=a.G();m=c.G();return 33==k&&33==m?b.nO(a,c,l):k!=m?0<h||0<f?h>f?a:c:550==k?b.XJ(a,c,l):b.XJ(c,a,l):d.Dg.Pp(a,c,e,g)};b.nO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var e=a.w(),h=c.w(),f=new d.Ed(a.description);d.b.sc(e,h)>b&&(f.add(a),f.add(c));return f};b.XJ=function(a,c,b){var e=a.Pa(0),h=a.D(),f=c.w(),l=a.Ka();b=b*Math.sqrt(2)*1.00001;var k=new d.h;a.s(k);k.O(b,b);if(k.contains(f)){b*=b;for(var k=!1,m=[],p=0;p<h;p++)m[p]=!1;for(p=0;p<h;p++){var n=e.read(2*p),r=e.read(2*p+1),n=n-f.x,r=r-f.y;
n*n+r*r<=b&&(k=!0,m[p]=!0)}if(k)for(p=0;p<h;p++)m[p]||l.Id(a,p,p+1);else l.Id(a,0,h),l.add(c)}else l.Id(a,0,h),l.add(c);return l};b.$=null;return b}(d.ef);d.uy=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c,e){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.LV=a.next();this.lc=e}f.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),d.uy.Pp(b,this.LV,this.Rg,this.lc)):null};f.prototype.Ia=function(){return this.Ca};f.prototype.Re=
function(){return!0};return f}();d.rN=f})(p||(p={}));(function(d){var f=function(){function a(){}a.prototype.kw=function(){this.Hz=null;this.gy=-1;this.rL=!1};return a}(),l=function(){function a(){this.Es=0;this.Pj=[]}a.prototype.pP=function(a){this.Es+=a.gy;this.Pj.push(a)};a.prototype.LW=function(){this.Es-=this.Pj[this.Pj.length-1].gy;--this.Pj.length};a.prototype.Ty=function(){return this.Pj[this.Pj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,
d){this.Ca=-1;this.Pc=!1;this.QI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.SA=!1;this.bl=-1;this.Yq=0;this.Ro=-1;this.rp=[];this.ie=a;this.Rg=b;this.lc=d}a.tc=function(a){var c=[],b;for(b in a)c.push(Number(b));c.sort(function(a,c){return a-c});return c};a.prototype.sH=function(c){var b=this.rp[c],g=a.tc(b)[0],h=b[g],f=h.Ty().Hz,h=h.Ty().rL;delete b[g];h&&(f=d.Km.local().V(f,this.Rg,!1,this.lc),0==c&&33==f.G()&&(c=new d.Ed(f.description),f.u()||c.add(f),f=c));return f};a.prototype.next=function(){if(this.Pc&&
this.Ro==this.bl)return null;for(;!this.cL(););if(-1==this.bl)return null;if(this.SA){for(this.Ro++;;){if(this.Ro>this.bl||0>this.Ro)throw d.g.za();if(this.QI[this.Ro])break}this.Ca++;return this.sH(this.Ro)}this.Ca=0;this.Ro=this.bl;return this.sH(this.bl)};a.prototype.Ia=function(){return this.Ca};a.prototype.cL=function(){if(this.Pc)return!0;var a=null;null!=this.ie&&(a=this.ie.next(),null==a&&(this.Pc=!0,this.ie=null));if(null!=a){var b=a.tb();this.QI[b]=!0;b>=this.bl&&!this.SA&&(this.cF(b,!1,
a),b>this.bl&&!this.SA&&this.wX(b))}if(0<this.Yq)for(b=0;b<=this.bl;b++)for(;1<this.jr[b];)if(a=this.IQ(b),0!=a.length)a=d.Dg.RR(a,this.Rg,this.lc),this.cF(b,!0,a);else break;return this.Pc};a.prototype.IQ=function(b){for(var c=[],d=[],h=this.rp[b],f=a.tc(h),l=0;l<f.length;l++){var k=f[l],m=h[k];if(this.Pc||1E4<m.Es&&1<m.Pj.length){this.jr[b]-=m.Pj.length;for(this.Yq-=m.Pj.length;0<m.Pj.length;)c.push(m.Ty().Hz),m.LW();d.push(k)}}for(l=0;l<d.length;l++)delete h[d[l]];return c};a.prototype.wX=function(a){for(var b=
0;b<a;b++)this.rp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};a.prototype.cF=function(b,e,d){var c=new f;c.kw();c.Hz=d;d=a.Mg(d);c.gy=d;d=a.We(d);if(b+1>this.rp.length)for(var g=0,u=Math.max(2,b+1);g<u;g++)this.rp.push([]);g=this.rp[b][d];void 0===g&&(g=new l,this.rp[b][d]=g);c.rL=e;g.pP(c);this.jr[b]++;this.Yq++;this.bl=Math.max(this.bl,b)};a.We=function(a){return 0<a?d.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.Mg=function(a){var b=a.G();if(d.T.gh(b))return a.D();if(33==b)return 1;if(197==b)return 4;
if(d.T.Oc(b))return 2;throw d.g.za();};a.prototype.Re=function(){return this.cL()};return a}();d.tN=b})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments)}J(b,f);b.prototype.G=function(){return 1};b.prototype.V=function(a,b,e,g){return void 0===g?new d.tN(a,b,e):this.$R(a,b,e,g)};b.prototype.$R=function(a,b,e,g){a=new d.hd([a,b]);return this.V(a,e,g).next()};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.ei=f})(p||(p={}));(function(d){var f;
(function(d){d[d.nextPath=0]="nextPath";d[d.nextSegment=1]="nextSegment";d[d.iterate=2]="iterate"})(f||(f={}));f=function(){function f(b,a,c,e){this.Ot=new d.h;this.EV=b;this.FV=a;this.br=e;this.ip=-1;this.Vl=!1;var g=b.ob;null!=g&&(g=e?g.np:g.Mb,null!=g&&(this.Pc=!1,this.ta=c,this.Mb=g,this.lx=this.Mb.mf(),this.cr=this.Vl=!0,this.Zb=0,e?this.ip=a.aa():this.Cd=a.Fa()));this.Vl||(g=a.ob,null!=g&&(g=e?g.np:g.Mb,null!=g&&(this.Pc=!1,this.ta=c,this.Mb=g,this.lx=this.Mb.mf(),this.Vl=!0,this.cr=!1,this.Zb=
0,e?this.ip=b.aa():this.Cd=b.Fa())));this.Vl||(this.Ci=e?d.na.dT(b,a,c,1<=b.Lk(0),1<=a.Lk(0)):d.na.cT(b,a,c))}f.prototype.next=function(){if(this.Vl){if(this.Pc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.hW();break;case 1:b=this.iW();break;case 2:b=this.CA();break;default:throw d.g.X("internal error");}return this.Pc?!1:!0}return null==this.Ci?!1:this.Ci.next()};f.prototype.Ql=function(){return this.Vl?this.cr?this.Mb.ja(this.Bt):this.br?this.ip:this.Cd.Db():this.Ci.Ql(this.Ci.sg)};f.prototype.Ml=
function(){return this.Vl?this.cr?this.br?this.ip:this.Cd.Db():this.Mb.ja(this.Bt):this.Ci.Ml(this.Ci.bg)};f.prototype.eA=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Mb.RG(this.Bt):this.Ot:this.Ci.eA(this.Ci.sg)};f.prototype.Iz=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Ot:this.Mb.RG(this.Bt):this.Ci.Iz(this.Ci.bg)};f.prototype.hW=function(){if(!this.br){if(!this.Cd.Ya())return this.Pc=!0,!1;this.Zb=1;return!0}if(-1==--this.ip)return this.Pc=
!0,!1;this.cr?this.FV.jk(this.ip,this.Ot):this.EV.jk(this.ip,this.Ot);this.lx.Ni(this.Ot,this.ta);this.Zb=2;return!0};f.prototype.iW=function(){if(!this.Cd.Ea())return this.Zb=0,!0;var b=this.Cd.ba();this.lx.Wn(b,this.ta);this.Zb=2;return!0};f.prototype.CA=function(){this.Bt=this.lx.next();return-1==this.Bt?(this.Zb=this.br?0:1,!0):!1};return f}();d.Lm=f})(p||(p={}));(function(d){d=d.BN||(d.BN={});d[d.enumClosed=1]="enumClosed";d[d.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";d[d.enumOGCStartPolygon=
4]="enumOGCStartPolygon";d[d.enumCalcMask=4]="enumCalcMask"})(p||(p={}));(function(d){var f=function(){function f(){}f.Cb=function(b,a,c,e,g,h,q,l,k){var u=[0,0,0],m=[0,0,0],p=[0,0,0],y=[0,0,0,0],n=new d.ea(0),r=new d.ea(0),t=new d.ea(0);if(null!=q||null!=l||null!=k)if(d.l.Qi(a))d.vh.Cb(b,c,e,g,h,q,l,k);else{g=d.C.da(g);c=d.C.da(c);var A=d.C.da(g-c);if(d.l.W(e,h)&&(d.l.W(c,g)||d.l.W(d.l.K(e),1.570796326794897)))null!=q&&(q.j=0),null!=l&&(l.j=0),null!=k&&(k.j=0);else{if(d.l.W(e,-h)){if(d.l.W(d.l.K(e),
1.570796326794897)){null!=q&&(q.j=2*d.C.Yg(b,a));null!=l&&(l.j=0<e?d.C.da(3.141592653589793-d.C.da(g)):d.C.da(g));null!=k&&(k.j=0<e?d.C.da(g):d.C.da(3.141592653589793-d.C.da(g)));return}d.l.W(d.l.K(A),3.141592653589793)&&(null!=q&&(q.j=2*d.C.Yg(b,a)),null!=l&&(l.j=0),null!=k&&(k.j=0))}else{if(d.l.W(d.l.K(e),1.570796326794897)||d.l.W(d.l.K(h),1.570796326794897)){d.yl.Cb(b,a,c,e,g,h,q,l,k);return}if(d.l.W(c,g)||d.l.W(d.l.K(A),3.141592653589793)){d.yl.Cb(b,a,c,e,g,h,q,l,k);return}if(d.l.xd(e)){d.yl.Cb(b,
a,c,e,g,h,q,l,k);return}}var z=Math.sqrt(1-a);g=d.C.da(g-c);c=0;d.C.Dk(1,a,e,c,0,n,r,t);u[0]=n.j;u[1]=r.j;u[2]=t.j;d.C.Dk(1,a,h,g,0,n,r,t);m[0]=n.j;m[1]=r.j;m[2]=t.j;p[0]=0;p[1]=0;p[2]=-1*a*d.C.n(1,a,e)*Math.sin(e);0>g?d.C.Or(p,m,u,y,0):d.C.Or(p,u,m,y,0);for(var r=[0,0,0],t=[0,0,0],v=[0,0,0],u=[0,0,0],n=[0,0,0],x=Math.acos(y[2]/1),w=1-a,C=Math.tan(x),B=1+C*C/w,D=2*p[2]*C/w,C=Math.sqrt(D*D-4*B*(p[2]*p[2]/w-1)),B=2*B,w=(-D+C)/B,D=(-D-C)/B,C=Math.tan(x),B=C*w+p[2],x=(w+D)/2,p=(B+(C*D+p[2]))/2,C=d.C.Sp(w-
x,B-p),w=p/z*1.570796326794897,D=0;100>D;D++){B=d.C.Cm(a,w);B=B*B/Math.cos(w)*(Math.sin(w)-p*B/(1*(1-a)));if(d.l.xd(B))break;w-=B}var p=d.C.n(1,a,w)*Math.cos(w),p=Math.sqrt((p-x)*(p+x)),C=1-C/p,C=C*(2-C),B=d.C.eo(r),x=d.C.eo(t),w=d.C.eo(v),E=d.C.Eu(v,r),D=d.C.Eu(v,t);d.C.fy(v,r,u);d.C.fy(v,t,n);r=Math.acos(E/(w*B));t=Math.acos(D/(w*x));t*=d.l.Ab(1,d.C.Eu(u,n));if(1.570796326794897<=d.l.K(r)&&1.570796326794897<=d.l.K(t)||3.141592653589793<d.l.K(r-t))r=(3.141592653589793-d.l.K(r))*d.l.Ab(1,r),t=(3.141592653589793-
d.l.K(t))*d.l.Ab(1,t);u=d.C.ik(C,t);n=d.C.q(p,C,d.C.ik(C,r));u=d.C.q(p,C,u);u=d.l.K(u-n)*b;r=new d.ea(0);t=new d.ea(0);v=y[1]/1;v*=-d.l.Ab(1,A);n=Math.acos(v)*d.l.Ab(1,A);f.Uf(b,a,c,e,u,n,r,t);d.l.W(g,r.j)&&d.l.W(h,t.j)||(C=d.C.Sp(d.C.da(g-r.j),h-t.j),f.Uf(b,a,c,e,u,d.C.da(n+3.141592653589793),r,t),B=d.C.Sp(d.C.da(g-r.j),h-t.j),B<C&&(n=d.C.da(n+3.141592653589793)));r=[0,0,0,0];t=[0,0,0,0];p=[0,0,0];C=[0,0,0];b=[0,0,0];c=[0,0,0];e=[0,0,0];v=[0,0,0];p[0]=0;p[1]=0;p[2]=z;C[0]=0;C[1]=0;C[2]=0;d.C.Or(C,
p,m,r,0);d.l.xd(h)?(b[0]=m[0],b[1]=m[1],b[2]=1,c[0]=1*Math.cos(g)-1*Math.sin(g),c[1]=1*Math.sin(g)+1*Math.cos(g)):(a=d.C.n(1,a,h)*Math.cos(h),b[0]=0,b[1]=0,m[2]+=Math.tan(1.570796326794897-d.l.K(h))*a*d.l.Ab(1,h),c[0]=a*Math.cos(g)-a*Math.sin(g),c[1]=a*Math.sin(g)+a*Math.cos(g));c[2]=m[2];d.C.Or(m,c,b,t,1);d.C.fy(t,r,e);d.C.fy(t,y,v);v=d.C.Eu(e,v)/(d.C.eo(e)*d.C.eo(v));v*=d.l.Ab(1,A);g=Math.acos(v)*-d.l.Ab(1,A);0<n&&0<g?g=d.C.da(g+3.141592653589793):0>n&&0>g&&(g=d.C.da(g+3.141592653589793));null!=
q&&(q.j=u);null!=l&&(l.j=n);null!=k&&(k.j=g)}}};f.Uf=function(b,a,c,e,g,h,f,l){var q=[0,0,0],u=[0,0,0],k=[0,0,0],m=[0,0,0],p=[0,0,0],n=[0,0,0],r=[0,0,0],t=[0,0,0,0],A=new d.ea(0),z=new d.ea(0),v=new d.ea(0),x=new d.ea(0),w=new d.ea(0),C=new d.ea(0);if(null!=f&&null!=l)if(d.l.Qi(a))d.vh.Uf(b,c,e,g,h,f,l);else if(d.l.xd(g))null!=f&&(f.j=c),null!=l&&(l.j=e);else if(h=d.C.da(h),0>g&&(g=d.l.K(g),h=d.C.da(h+3.141592653589793)),c=d.C.da(c),e=d.C.da(e),1.570796326794897<d.l.K(e)&&(c=d.C.da(c+3.141592653589793),
e=d.l.Ab(3.141592653589793,e)-e),d.l.W(d.l.K(e),1.570796326794897)||d.l.xd(e)||d.l.xd(h)||d.l.W(d.l.K(h),3.141592653589793))d.yl.Uf(b,a,c,e,g,h,f,l);else{var B=Math.sqrt(1-a);b=g/b;d.C.Dk(1,a,e,0,0,x,w,C);q[0]=x.j;q[1]=w.j;q[2]=w.j;r[0]=0;r[1]=0;r[2]=-1*a*d.C.n(1,a,e)*Math.sin(e);x=d.C.n(1,a,e);w=d.C.da(1.570796326794897-h);C=Math.sin(w);g=Math.cos(e);e=Math.sin(e);p[0]=x*g-e*C;p[1]=Math.cos(w);p[2]=(1-a)*x*e+g*C;0>h?d.C.Or(r,p,q,t,0):d.C.Or(r,q,p,t,0);q=Math.acos(t[2]/1);t=Math.atan2(-t[1],-t[0]);
e=1-a;p=Math.tan(q);w=1+p*p/e;x=2*r[2]*p/e;p=Math.sqrt(x*x-4*w*(r[2]*r[2]/e-1));w*=2;e=(-x+p)/w;x=(-x-p)/w;p=Math.tan(q);w=p*e+r[2];q=(e+x)/2;r=(w+(p*x+r[2]))/2;p=d.C.Sp(e-q,w-r);B=r/B*1.570796326794897;for(e=0;100>e;e++){x=d.C.Cm(a,B);x=x*x/Math.cos(B)*(Math.sin(B)-r*x/(1*(1-a)));if(d.l.xd(x))break;B-=x}B=d.C.n(1,a,B)*Math.cos(B);B=Math.sqrt((B-q)*(B+q));r=1-p/B;r*=2-r;n=Math.acos(d.C.Eu(n,u)/(d.C.eo(n)*d.C.eo(u)));n*=d.l.Ab(1,u[0]);h=(d.C.q(B,r,d.C.ik(r,n))+b*d.l.Ab(1,h))/d.C.Yg(B,r);h=d.C.da(1.570796326794897*
h);h=d.C.xp(r,h);d.C.n(B,r,h);p=d.C.da(t+c);c=Math.cos(p);h=Math.sin(p);k[0]=m[0]*c+m[1]*-h;k[1]=m[0]*h+m[1]*c;k[2]=m[2];d.C.jQ(a,k[0],k[1],k[2],v,z,A);null!=f&&(f.j=z.j);null!=l&&(l.j=v.j)}};return f}();d.VD=f})(p||(p={}));(function(d){var f=function(){function a(a){this.ab=null;this.mu=new d.b;this.nu=new d.b;this.a=a}a.prototype.compare=function(a,b,c){this.a.Nc(b,this.mu);this.a.Nc(a.ja(c),this.nu);return this.mu.compare(this.nu)};return a}(),l=function(){function a(a){this.cg=new d.b;this.fl=
new d.b;this.a=a}a.prototype.Yh=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.a.Nc(a.ja(b),this.fl);return this.cg.compare(this.fl)};return a}(),b=function(a){function b(b){a.call(this,b.a,b.ta,!1);this.bb=b}J(b,a);b.prototype.compare=function(a,b,c){if(this.Ng)return-1;var e=this.bb.he.yo(this.bb.ri(b));a=a.ja(c);var d=this.bb.he.yo(this.bb.ri(a));this.rn=c;return this.XF(b,e,a,d)};return b}(d.fE),a=function(a){function b(b){a.call(this,b.a,b.ta);this.bb=b}J(b,a);b.prototype.compare=
function(a,b){if(this.Ng)return-1;a=this.bb.he.yo(this.bb.ri(a.ja(b)));this.rn=b;return this.YF(b,a)};return b}(d.aO),c=function(){function c(){this.Tc=this.Hf=this.Xo=this.he=this.Gh=this.Od=this.ib=this.a=null;this.ih=!1;this.Th=this.An=this.Fe=this.hl=this.Ih=this.cl=this.gg=this.we=null;this.Vh=this.zr=this.AB=this.ta=0;this.Kw=this.Lo=!1;this.mp=new d.b;this.oj=new d.b;this.ib=new d.ad(8);this.Od=new d.ad(5);this.Gh=new d.Lu;this.he=new d.Lu;this.ih=!1;this.Th=new d.b;this.Th.ka(0,0);this.ta=
0;this.Vh=-1;this.Lo=!1;this.a=null;this.Hf=new d.uk;this.Tc=new d.uk;this.Ih=new d.ia(0);this.hl=new d.dE;this.gg=new d.ia(0);this.cl=new d.ia(0);this.Xo=new d.Wa}c.prototype.IY=function(a,b){var c=new d.Hd;c.xC();a.Xc(c);this.Yr(a);this.Lo=!1;this.ta=b;this.AB=b*b;b=this.GC();a.Xc(c);b||(this.lS(),b||this.GC());-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null;return this.Lo};c.prototype.MY=function(a,b){this.Yr(a);this.Lo=!1;this.ta=b;this.AB=b*b;this.ih=!1;this.GC();this.ih||(this.ih=1==
a.zq(b,!0,!1));-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null};c.prototype.Jg=function(a,b){return this.ib.S(a,0+b)};c.prototype.lC=function(a,b,c){this.ib.P(a,0+b,c)};c.prototype.ri=function(a){return this.ib.S(a,2)};c.prototype.UX=function(a,b){this.ib.P(a,2,b)};c.prototype.cH=function(a,b){return this.ib.S(a,3+b)};c.prototype.Jq=function(a){return this.ib.S(a,7)};c.prototype.um=function(a,b){this.ib.P(a,7,b)};c.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};c.prototype.Zr=
function(a,b,c){this.ib.P(a,3+this.Iq(a,b),c)};c.prototype.GT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};c.prototype.as=function(a,b,c){this.ib.P(a,5+this.Iq(a,b),c)};c.prototype.Ns=function(a){return this.Od.S(a,0)};c.prototype.RX=function(a,b){this.Od.P(a,0,b)};c.prototype.Mz=function(a){return this.Od.S(a,4)};c.prototype.Vr=function(a,b){this.Od.P(a,4,b)};c.prototype.Nl=function(a){return this.Od.S(a,1)};c.prototype.ao=function(a,b){this.Od.P(a,1,b)};c.prototype.Lz=function(a){return this.Od.S(a,
3)};c.prototype.tu=function(a,b){this.Od.P(a,3,b)};c.prototype.Mn=function(a){var b=this.Od.Pe(),c=this.Gh.mi();this.RX(b,c);-1!=a?(this.Gh.addElement(c,a),this.a.Va(a,this.Vh,b),this.Vr(b,this.a.Za(a))):this.Vr(b,-1);return b};c.prototype.DR=function(a){this.Od.kd(a)};c.prototype.aF=function(a,b){this.Gh.addElement(this.Ns(a),b);this.a.Va(b,this.Vh,a)};c.prototype.cu=function(a){var b=this.ib.Pe(),c=this.he.mi();this.UX(b,c);-1!=a&&this.he.addElement(c,a);return b};c.prototype.bF=function(a,b){this.he.addElement(this.ri(a),
b)};c.prototype.Jv=function(a){this.ib.kd(a);a=this.Ih.Ov(a);0<=a&&this.Ih.HJ(a)};c.prototype.Jj=function(a,b){if(-1==this.Jg(a,0))this.lC(a,0,b);else if(-1==this.Jg(a,1))this.lC(a,1,b);else throw d.g.za();this.Ry(a,b)};c.prototype.Ry=function(a,b){var c=this.Nl(b);if(-1!=c){var e=this.Kq(c,b);this.as(e,b,a);this.Zr(a,b,e);this.Zr(c,b,a);this.as(a,b,c)}else this.as(a,b,a),this.Zr(a,b,a),this.ao(b,a)};c.prototype.Iq=function(a,b){return this.Jg(a,0)==b?0:1};c.prototype.Ln=function(a,b){var c=this.Lz(b);
-1!=c&&(this.Hf.Kd(c,-1),this.tu(b,-1));var e,c=this.Nl(b);if(-1!=c){var d=e=c,g;do{g=!1;var h=this.Iq(e,b),f=this.cH(e,h);if(this.Jg(e,h+1&1)==a){this.Kv(e);this.he.zh(this.ri(e));this.Jv(e);if(e==f){c=-1;break}c==e&&(c=this.Nl(b),d=f,g=!0)}e=f}while(e!=d||g);if(-1!=c){do h=this.Iq(e,b),f=this.cH(e,h),this.lC(e,h,a),e=f;while(e!=d);e=this.Nl(a);-1!=e?(d=this.Kq(e,a),g=this.Kq(c,a),d==e?(this.ao(a,c),this.Ry(e,a),this.ao(a,e)):g==c&&this.Ry(c,a),this.Zr(c,a,d),this.as(d,a,c),this.Zr(e,a,g),this.as(g,
a,e)):this.ao(a,c)}}c=this.Ns(a);e=this.Ns(b);for(d=this.Gh.xc(e);-1!=d;d=this.Gh.nb(d))this.a.Va(this.Gh.ja(d),this.Vh,a);this.Gh.mz(c,e);this.DR(b)};c.prototype.TV=function(a,b){var c=this.Jg(a,0),e=this.Jg(a,1),d=this.Jg(b,0),g=this.Jg(b,1);this.he.mz(this.ri(a),this.ri(b));b==this.Nl(c)&&this.ao(c,a);b==this.Nl(e)&&this.ao(e,a);this.Kv(b);this.Jv(b);c==d&&e==g||e==d&&c==g||(this.wo(c,this.mp),this.wo(d,this.oj),this.mp.ub(this.oj)?(c!=d&&this.Ln(c,d),e!=g&&this.Ln(e,g)):(e!=d&&this.Ln(e,d),c!=
g&&this.Ln(c,g)))};c.prototype.Kv=function(a){var b=this.Jg(a,1);this.lG(a,this.Jg(a,0));this.lG(a,b)};c.prototype.lG=function(a,b){var c=this.Kq(a,b),e=this.GT(a,b),d=this.Nl(b);c!=a?(this.Zr(e,b,c),this.as(c,b,e),d==a&&this.ao(b,c)):this.ao(b,-1)};c.prototype.iF=function(a,b,c){var e=this.he.xc(a),d=this.he.ja(e);a=this.jf(d);var g=this.jf(this.a.U(d));this.a.bs(d,b,c,!0);for(e=this.he.nb(e);-1!=e;e=this.he.nb(e)){var d=this.he.ja(e),h=this.jf(d)==a;this.a.bs(d,b,c,h)}e=b.Mq(c,0).ec();b=b.Mq(c,
b.Rl(c)-1).Cc();this.sL(a,e);this.sL(g,b)};c.prototype.eG=function(a,b,c){var e=this.ri(a),d=this.Jg(a,0),g=this.Jg(a,1),h=this.cu(-1);this.Ih.add(h);this.um(h,-3);this.gg.add(h);this.Jj(h,d);a=1;for(b=b.Rl(c);a<b;a++)c=this.Mn(-1),this.cl.add(c),this.gg.add(c),this.Jj(h,c),h=this.cu(-1),this.Ih.add(h),this.um(h,-3),this.gg.add(h),this.Jj(h,c);this.Jj(h,g);for(e=this.he.xc(e);-1!=e;e=this.he.nb(e))if(g=this.he.ja(e),this.jf(g)==d){a=0;do 0<a&&(h=this.gg.get(a-1),this.aF(h,g),-1==this.Mz(h)&&this.Vr(h,
this.a.Za(g))),h=this.gg.get(a),a+=2,this.bF(h,g),g=this.a.U(g);while(a<this.gg.size)}else{a=this.gg.size-1;do a<this.gg.size-2&&(h=this.gg.get(a+1),this.aF(h,g),0>this.Mz(h)&&this.Vr(h,this.a.Za(g))),h=this.gg.get(a),a-=2,this.bF(h,g),g=this.a.U(g);while(0<=a)}this.gg.clear(!1)};c.prototype.jf=function(a){return this.a.Sa(a,this.Vh)};c.prototype.LJ=function(a,b,c){var e=this.Jg(b,0),g=new d.b;this.wo(e,g);var h=new d.b,f=this.Jg(b,1);this.wo(f,h);var q=c.Rl(a),l=c.Mq(a,0),k=new d.b;l.Oq(k);if(!g.ub(k)){if(!this.ih){var m=
g.compare(this.Th),k=k.compare(this.Th);0>m*k&&(this.ih=!0)}this.HG(e,this.gg);this.cl.add(e)}!this.ih&&1<q&&(m=g.compare(h),l=l.Cc(),g.compare(l)!=m||l.compare(h)!=m?this.ih=!0:0>l.compare(this.Th)&&(this.ih=!0));l=c.Mq(a,q-1);a=l.Cc();h.ub(a)||(this.ih||(m=h.compare(this.Th),k=a.compare(this.Th),0>m*k&&(this.ih=!0)),this.HG(f,this.gg),this.cl.add(f));this.gg.add(b);h=0;for(f=this.gg.size;h<f;h++)a=this.gg.get(h),c=this.Jq(a),d.ad.BA(c)&&(this.Tc.Kd(c,-1),this.um(a,-1)),a!=b&&-3!=this.Jq(a)&&(this.Ih.add(a),
this.um(a,-3));this.gg.clear(!1)};c.prototype.oQ=function(a,b){this.we.compare(this.Tc,this.Tc.ja(a),b);this.we.Ng&&(this.we.Gs(),this.yG(a,b))};c.prototype.yG=function(a,b){this.Lo=!0;a=this.Tc.ja(a);b=this.Tc.ja(b);var c,e;e=this.he.yo(this.ri(a));var g=this.he.yo(this.ri(b));c=this.a.ic(e);null==c&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.pd(e,this.Fe),c=this.Fe);e=this.a.ic(g);null==e&&(null==this.An&&(this.An=new d.Hb),this.a.pd(g,this.An),e=this.An);this.hl.Ap(c);this.hl.Ap(e);this.hl.Ma(this.ta,
!0)&&(this.ih=!0);this.YK(a,b,-1,this.hl);this.hl.clear()};c.prototype.xS=function(a,b){this.Lo=!0;b=this.Tc.ja(b);var c,e=this.he.yo(this.ri(b));c=this.a.ic(e);null==c&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.pd(e,this.Fe),c=this.Fe);e=this.NG(a);this.hl.Ap(c);this.a.wj(e,this.Xo);this.hl.sA(this.ta,this.Xo,!0);this.YK(b,-1,a,this.hl);this.hl.clear()};c.prototype.sU=function(){if(0!=this.Ih.size)for(;0!=this.Ih.size;){if(this.Ih.size>Math.max(100,this.a.vd)){this.Ih.clear(!1);this.ih=!0;break}var a=
this.Ih.Fc();this.Ih.Pf();this.um(a,-1);-1!=this.PU(a)&&this.rU(a);this.Ko=!1}};c.prototype.rU=function(a){var b;this.Ko?(b=this.Tc.jv(this.$I,this.WI,a,!0),this.Ko=!1):b=this.Tc.$E(a);-1==b?this.TV(this.Tc.ja(this.Tc.QG()),a):(this.um(a,b),this.we.Ng&&(this.we.Gs(),this.yG(this.we.rn,b)))};c.prototype.PU=function(a){var b=this.Jg(a,0);a=this.Jg(a,1);this.wo(b,this.mp);this.wo(a,this.oj);if(d.b.sc(this.mp,this.oj)<=this.AB)return this.ih=!0,-1;var c=this.mp.compare(this.Th),e=this.oj.compare(this.Th);
return 0>=c&&0<e?a:0>=e&&0<c?b:-1};c.prototype.jS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var b=this.a.Qr(),c=b.next();-1!=c;c=b.next())-1!=this.a.Sa(c,this.Vh)&&a.add(c);this.a.Xx(a,a.size);this.kS(a)};c.prototype.kS=function(a){this.Hf.clear();this.Hf.Qe(a.size);this.Hf.Ep(new f(this.a));var b=new d.b;b.$c();for(var c=-1,e=new d.b,g=0,l=a.size;g<l;g++){var k=a.get(g);this.a.Nc(k,e);e.ub(b)?(k=this.a.Sa(k,this.Vh),this.Ln(c,k)):(c=this.jf(k),this.a.Nc(k,b),k=this.Hf.ro(k),this.tu(c,k))}};
c.prototype.lS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var b=this.Hf.xc(-1);-1!=b;b=this.Hf.nb(b))a.add(this.Hf.ja(b));this.Hf.clear();this.a.Xx(a,a.size);for(var b=0,c=a.size;b<c;b++){var e=a.get(b),f=this.jf(e),e=this.Hf.ro(e);this.tu(f,e)}};c.prototype.HG=function(a,b){var c=this.Nl(a);if(-1!=c){var e=c;do d.ad.BA(this.Jq(e))&&b.add(e),e=this.Kq(e,a);while(e!=c)}};c.prototype.sL=function(a,b){for(a=this.Gh.xc(this.Ns(a));-1!=a;a=this.Gh.nb(a))this.a.Qf(this.Gh.ja(a),b)};c.prototype.YK=
function(a,b,c,e){this.Kv(a);-1!=b&&this.Kv(b);this.LJ(0,a,e);-1!=b&&this.LJ(1,b,e);-1!=c&&(e.cg.w(this.mp),this.wo(c,this.oj),this.oj.ub(this.mp)||this.cl.add(c));c=0;for(var d=this.cl.size;c<d;c++){var g=this.cl.get(c),h=this.Lz(g);-1!=h&&(this.Hf.Kd(h,-1),this.tu(g,-1))}c=this.ri(a);d=-1!=b?this.ri(b):-1;this.iF(c,e,0);-1!=b&&this.iF(d,e,1);this.eG(a,e,0);-1!=b&&this.eG(b,e,1);this.he.zh(c);this.Jv(a);-1!=b&&(this.he.zh(d),this.Jv(b));c=0;for(d=this.cl.size;c<d;c++)g=this.cl.get(c),g==this.zr&&
(this.Kw=!0),h=this.Lz(g),-1==h&&(h=this.Hf.$E(this.NG(g)),-1==h?(a=this.jf(this.Hf.ja(this.Hf.QG())),this.Ln(a,g)):this.tu(g,h));this.cl.clear(!1)};c.prototype.wo=function(a,b){this.a.pH(this.Mz(a),b)};c.prototype.NG=function(a){return this.Gh.yo(this.Ns(a))};c.prototype.GC=function(){this.Kw=!1;this.zr=-1;null==this.we&&(this.Tc.Dw=!1,this.we=new b(this),this.Tc.Oo=this.we);var c=new d.ia(0),e=null,f=null,u=0;this.WI=this.$I=-1;this.Ko=!1;for(var k=this.Hf.xc(-1);-1!=k;){u++;this.Ko=!1;var m=this.Hf.ja(k);
this.zr=this.jf(m);this.a.Nc(m,this.Th);this.we.QK(this.Th.y,this.Th.x);var p,n=this.Nl(this.zr);p=-1==n;if(!p){m=n;do{var r=this.Jq(m);-1==r?(this.Ih.add(m),this.um(m,-3)):-3!=r&&c.add(r);m=this.Kq(m,this.zr)}while(m!=n)}if(0<c.size){this.Ko=1==c.size&&1==this.Ih.size;p=0;for(n=c.size;p<n;p++)m=this.Tc.ja(c.get(p)),this.um(m,-2);var t=-2,A=-2;p=0;for(n=c.size;p<n;p++){r=c.get(p);if(-2==t){var z=this.Tc.Ve(r);-1!=z?(m=this.Tc.ja(z),m=this.Jq(m),-2!=m&&(t=z)):t=-1}-2==A&&(r=this.Tc.nb(r),-1!=r?(m=
this.Tc.ja(r),m=this.Jq(m),-2!=m&&(A=r)):A=-1);if(-2!=t&&-2!=A)break}p=0;for(n=c.size;p<n;p++)r=c.get(p),m=this.Tc.ja(r),this.Tc.Kd(r,-1),this.um(m,-1);c.clear(!1);this.$I=-1!=t?t:-1;this.WI=-1!=A?A:-1;-1!=t&&-1!=A?this.Ko||this.oQ(t,A):-1==t&&-1==A&&(this.Ko=!1)}else p&&(null==e&&(e=new a(this)),e.Yh(this.Th),this.Tc.lK(e),e.Ng&&(e.Gs(),this.xS(this.zr,e.rn)));this.sU();this.Kw?(this.Kw=!1,null==f&&(f=new l(this.a)),f.Yh(this.Th),k=this.Hf.lK(f)):k=this.Hf.nb(k)}return this.Lo};c.prototype.Yr=function(a){this.a=
a;this.Vh=this.a.Vd();this.ib.Qe(a.vd+32);this.Od.Qe(a.vd);this.Gh.pu(a.vd);this.Gh.Vn(a.vd);this.he.pu(a.vd+32);this.he.Vn(a.vd+32);for(a=this.a.sd;-1!=a;a=this.a.Ue(a))if(d.T.Ic(this.a.hc(a)))for(k=this.a.Pb(a);-1!=k;k=this.a.Sb(k)){var b=this.a.La(k),c=this.a.cb(k),e=this.Mn(c),g=this.cu(c);this.Jj(g,e);m=this.a.U(c);c=0;for(b-=2;c<b;c++){var f=this.a.U(m),l=this.Mn(m);this.Jj(g,l);g=this.cu(m);this.Jj(g,l);m=f}this.a.Qb(k)?(l=this.Mn(m),this.Jj(g,l),g=this.cu(m),this.Jj(g,l),this.Jj(g,e)):(l=
this.Mn(m),this.Jj(g,l))}else for(var k=this.a.Pb(a);-1!=k;k=this.a.Sb(k))for(var m=this.a.cb(k),e=0,b=this.a.La(k);e<b;e++)this.Mn(m),m=this.a.U(m);this.jS()};return c}();d.WD=c})(p||(p={}));(function(d){var f=function(f){function b(a,c,e){f.call(this);if(void 0!==a)if(void 0!==e){this.description=d.ye.Ig();var g=new d.qd;g.I(a,c,e);this.BC(g)}else if(void 0!==c)this.description=d.ye.Ig(),this.rb(a,c);else if(a instanceof d.ma)this.description=a;else if(a instanceof d.b)this.description=d.ye.Ig(),
this.rb(a);else if(a instanceof b)this.description=a.description,this.rb(a.Be(),a.nf()),null!==a.la&&(this.la=a.la.slice(0));else throw d.g.F();else this.description=d.ye.Ig()}J(b,f);b.prototype.w=function(a){if(void 0!==a){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a.ka(this.la[0],this.la[1])}else{if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a=new d.b;a.ka(this.la[0],this.la[1]);return a}};b.prototype.rb=function(a,
b){"number"===typeof a?(this.Bc(),null==this.la&&this.nq(),this.la[0]=a,this.la[1]=b):(this.Bc(),this.rb(a.x,a.y))};b.prototype.lA=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");var a=new d.qd;a.x=this.la[0];a.y=this.la[1];this.description.uH()?a.z=this.la[2]:a.z=d.ma.de(1);return a};b.prototype.BC=function(a){this.Bc();var b=this.hasAttribute(1);b||d.ma.PH(1,a.z)||(this.Ud(1),b=!0);null==this.la&&this.nq();this.la[0]=a.x;this.la[1]=a.y;b&&(this.la[2]=
a.z)};b.prototype.Be=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[0]};b.prototype.AC=function(a){this.setAttribute(0,0,a)};b.prototype.nf=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[1]};b.prototype.RK=function(a){this.setAttribute(0,1,a)};b.prototype.rH=function(){return this.Yc(1,0)};b.prototype.rY=function(a){this.setAttribute(1,0,a)};b.prototype.aH=function(){return this.Yc(2,
0)};b.prototype.bY=function(a){this.setAttribute(2,0,a)};b.prototype.yc=function(){return this.KG(3,0)};b.prototype.BK=function(a){this.setAttribute(3,0,a)};b.prototype.Yc=function(a,b){var c=this.description.mg(a);return 0<=c?this.la[this.description.xk(c)+b]:d.ma.de(a)};b.prototype.KG=function(a,b){var c=this.description.mg(a);return 0<=c?this.la[this.description.xk(c)+b]:d.ma.de(a)};b.prototype.setAttribute=function(a,b,e){this.Bc();var c=this.description.mg(a);0>c&&(this.Ud(a),c=this.description.mg(a));
null==this.la&&this.nq();this.la[this.description.xk(c)+b]=e};b.prototype.G=function(){return 33};b.prototype.tb=function(){return 0};b.prototype.Oa=function(){this.Bc();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};b.prototype.mo=function(a){if(null!=this.la){for(var b=d.ye.vx(a,this.description),e=[],g=0,h=0,f=a.Ga;h<f;h++){var l=a.rd(h),k=d.ma.Xa(l);if(-1==b[h])for(var m=d.ma.de(l),l=0;l<k;l++)e[g]=m,g++;else for(m=this.description.xk(b[h]),l=0;l<k;l++)e[g]=this.la[m],g++,m++}this.la=e}this.description=
a};b.prototype.nq=function(){this.bK(this.description.af.length);b.Bb(this.description.af,this.la,this.description.af.length);this.la[0]=NaN;this.la[1]=NaN};b.prototype.Xc=function(a){if(a instanceof d.Hd){if(!this.Hc()){var b=this.w();a.$h(b,b);this.rb(b)}}else this.Hc()||(this.Ud(1),b=this.lA(),this.BC(a.Rp(b)))};b.prototype.copyTo=function(a){if(33!=a.G())throw d.g.F();a.Bc();null==this.la?(a.Oa(),a.la=null,a.Fg(this.description)):(a.Fg(this.description),a.bK(this.description.af.length),b.Bb(this.la,
a.la,this.description.af.length))};b.prototype.Ka=function(){return new b(this.description)};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};b.prototype.Qn=function(a){a.Oa();this.description!=a.description&&a.Fg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Hc()?a.Oa():(a.o=this.la[0],a.A=this.la[1],a.v=this.la[0],a.B=this.la[1])};b.prototype.Cp=function(a){if(this.Hc())a.Oa();else{var b=this.lA();a.o=
b.x;a.A=b.y;a.Bf=b.z;a.v=b.x;a.B=b.y;a.$g=b.z}};b.prototype.xf=function(a,b){var c=new d.Ac;if(this.Hc())return c.Oa(),c;a=this.Yc(a,b);c.ca=a;c.ha=a;return c};b.prototype.bK=function(a){if(null==this.la)this.la=d.J.gf(a);else if(this.la.length<a){for(var b=this.la.slice(0),e=this.la.length;e<a;e++)b[e]=0;this.la=b}};b.Bb=function(a,b,e){if(0<e)for(e=0;e<a.length;e++)b[e]=a[e]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Hc())return a.Hc()?
!0:!1;for(var c=0,e=this.description.af.length;c<e;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var b=0,e=this.description.af.length;b<e;b++)var g=this.la[b],g=d.J.truncate(g^g>>>32),a=d.J.dh(g,a);return a};b.prototype.Gg=function(){return null};return b}(d.T);d.Wa=f})(p||(p={}));(function(d){var f=function(){function d(b,a,c){void 0!==b&&(this.x=b,this.y=a,this.z=c)}d.pa=function(b,a,c){var e=new d;e.x=b;e.y=a;e.z=c;return e};
d.prototype.I=function(b,a,c){this.x=b;this.y=a;this.z=c};d.prototype.Vx=function(){this.z=this.y=this.x=0};d.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};d.prototype.sub=function(b){return new d(this.x-b.x,this.y-b.y,this.z-b.z)};d.prototype.Vg=function(b){return new d(this.x*b,this.y*b,this.z*b)};d.prototype.dv=function(){this.x=NaN};d.prototype.Hy=function(){return isNaN(this.x)};
d.prototype.oi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return d}();d.qd=f})(p||(p={}));(function(d){var f=function(){function f(b,a,c){this.tx=this.dx=null;this.tg=a;this.DV=a.y-c;this.CV=a.y+c;this.Ir=0;this.MA=b;this.ta=c;this.PV=c*c;this.NA=0!=c;this.yw=!1}f.prototype.result=function(){return 0!=this.Ir?1:0};f.prototype.XO=function(b){b=b.gc(b.pe(this.tg,!1));return d.b.sc(b,this.tg)<=this.PV?!0:!1};f.prototype.oG=function(b){if(!this.NA&&(this.MA&&this.tg.ub(b.ec())||this.tg.ub(b.Cc())))this.yw=
!0;else if(b.ra==this.tg.y&&b.ra==b.oa){if(this.MA&&!this.NA){var a=Math.max(b.ua,b.sa);this.tg.x>Math.min(b.ua,b.sa)&&this.tg.x<a&&(this.yw=!0)}}else{var c=!1,a=Math.max(b.ua,b.sa);this.tg.x>a?c=!0:this.tg.x>=Math.min(b.ua,b.sa)&&(c=0<b.Tq(!0,this.tg.y,this.tx,null)&&this.tx[0]<=this.tg.x);if(c){if(this.tg.y==b.ec().y){if(this.tg.y<b.Cc().y)return}else if(this.tg.y==b.Cc().y&&this.tg.y<b.ec().y)return;this.Ir=this.MA?this.Ir^1:this.Ir+(b.ec().y>b.Cc().y?1:-1)}}};f.prototype.ku=function(b){var a=
b.xf(0,1);if(a.ca>this.CV||a.ha<this.DV)return!1;if(this.NA&&this.XO(b))return!0;if(a.ca>this.tg.y||a.ha<this.tg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.qH(this.dx);if(0<a)for(b=0;b<a;b++){var c=this.dx[b].get();this.oG(c);if(this.yw)return!0}else if(this.oG(b),this.yw)return!0;return!1};f.$=function(b,a,c){a=new f(0==b.xo(),a,c);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(c=b.ba(),a.ku(c))return-1;return a.result()};f.bd=function(b,a,c,e){var g=
new d.h;b.ac(g);g.O(e,e);var h=new f(0==b.xo(),c,e);b=b.Fa();var q=new d.h;q.I(g);q.v=c.x+e;q.A=c.y-e;q.B=c.y+e;c=a.Xz(q,e);for(e=c.next();-1!=e;e=c.next())if(b.Tb(a.ja(e)),b.Ea()&&(e=b.ba(),h.ku(e)))return-1;return h.result()};f.kn=function(b,a,c){if(b.u())return 0;var e=new d.h;b.ac(e);e.O(c,c);if(!e.contains(a))return 0;e=b.ob;if(null!=e){var g=e.Hi;if(null!=g){g=g.rm(a.x,a.y);if(1==g)return 1;if(0==g)return 0}e=e.Mb;if(null!=e)return f.bd(b,e,a,c)}return f.$(b,a,c)};f.WU=function(b,a,c,e){if(b.u())return 0;
var g=new d.h;b.ac(g);g.O(e,e);if(!g.contains(a,c))return 0;g=b.ob;if(null!=g&&(g=g.Hi,null!=g)){g=g.rm(a,c);if(1==g)return 1;if(0==g)return 0}return f.$(b,d.b.pa(a,c),e)};f.VU=function(b,a,c){return a.u()?0:f.kn(b,a.w(),c)};f.yA=function(b,a,c,e,g){var h=new d.h;b.ac(h);h.O(e,e);if(!h.contains(c))return 0;var q=new f(!0,c,e);if(null!=g){var l=new d.h;l.I(h);l.v=c.x+e;l.A=c.y-e;l.B=c.y+e;b=b.Fa();e=g.Xz(l,e);for(l=e.next();-1!=l;l=e.next())if(b.Tb(g.ja(l),a),b.Ea()&&b.Ta==a&&(l=b.ba(),q.ku(l)))return-1}else if(b=
b.Fa(),b.eC(a),b.Ya())for(;b.Ea();)if(l=b.ba(),q.ku(l))return-1;return q.result()};f.xA=function(b,a,c){var e=new d.h;b.ac(e);e.O(c,c);if(!e.contains(a))return 0;a=new f(!1,a,c);for(c=b.Fa();c.Ya();)if(!(0>b.Sm(c.Ta))){for(a.Ir=0;c.Ea();)if(e=c.ba(),a.ku(e))return-1;if(0!=a.Ir)return 1}return a.result()};f.Oi=function(b,a,c,e,g){var h=b.Fa();h.eC(a);if(!h.Ya()||!h.Ea())throw d.g.X("corrupted geometry");for(a=2;2==a&&h.Ea();)a=h.ba().gc(.5),a=f.yA(b,c,a,e,g);if(2==a)throw d.g.X("internal error");return 1==
a?!0:!1};f.qm=function(b,a){b=b.D();return 16>b?!1:2*b+Math.log(b)/Math.log(2)*1*a<1*b*a};return f}();d.ff=f})(p||(p={}));(function(d){var f=function(d){function b(a){d.call(this,!0,a)}J(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.KH=function(a,b,e){this.EU(a,b,e)};b.prototype.gT=function(){this.yT()};return b}(d.xl);d.Ja=f})(p||(p={}));(function(d){(function(d){d[d.PiPOutside=0]="PiPOutside";
d[d.PiPInside=1]="PiPInside";d[d.PiPBoundary=2]="PiPBoundary"})(d.HN||(d.HN={}));var f=function(){function f(){}f.WH=function(b,a,c){b=d.ff.VU(b,a,c);return 0==b?0:1==b?1:2};f.ge=function(b,a,c){b=d.ff.kn(b,a,c);return 0==b?0:1==b?1:2};f.cX=function(b,a,c,e){b=d.ff.WU(b,a,c,e);return 0==b?0:1==b?1:2};f.m_=function(b,a,c,e){return 0==d.ff.yA(b,a,c,e,null)?0:1};f.xA=function(b,a,c){return 0==d.ff.xA(b,a,c)?0:1};f.MR=function(b,a,c,e,g){if(a.length<c||g.length<c)throw d.g.F();for(var h=0;h<c;h++)g[h]=
f.ge(b,a[h],e)};f.XR=function(b,a,c,e,g){if(a.length/2<c||g.length<c)throw d.g.F();for(var h=0;h<c;h++)g[h]=f.cX(b,a[2*h],a[2*h+1],e)};f.fL=function(b,a,c,e,g){if(1736==b.G())f.MR(b,a,c,e,g);else if(197==b.G()){var h=new d.h;b.s(h);f.NM(h,a,c,e,g)}else throw d.g.X("invalid_call");};f.v_=function(b,a,c,e,g){if(1736==b.G())f.XR(b,a,c,e,g);else if(197==b.G()){var h=new d.h;b.s(h);f.RM(h,a,c,e,g)}else throw d.g.Da();};f.NM=function(b,a,c,e,g){if(a.length<c||g.length<c)throw d.g.F();if(b.u())for(e=0;e<
c;e++)g[e]=0;else for(b.O(.5*-e,.5*-e),b.O(.5*e,.5*e),e=0;e<c;e++)b.contains(a[e])?g[e]=1:b.contains(a[e])?g[e]=2:g[e]=0};f.RM=function(b,a,c,e,g){if(a.length/2<c||g.length<c)throw d.g.F();if(b.u())for(e=0;e<c;e++)g[e]=0;else for(b.O(.5*-e,.5*-e),b.O(.5*e,.5*e),e=0;e<c;e++)b.contains(a[2*e],a[2*e+1])?g[e]=1:b.contains(a[2*e],a[2*e+1])?g[e]=2:g[e]=0};f.ZT=function(b,a,c,e,d){for(var g=0;g<c;g++)d[g]=b.mt(a[g],e)?2:0};f.iS=function(b,a,c,e,d){var g=b.ob,f=null;null!=g&&(f=g.Hi);for(var g=c,l=0;l<c;l++)if(d[l]=
1,null!=f){var k=a[l];0==f.rm(k.x,k.y)&&(d[l]=0,g--)}if(0!=g)for(b=b.Fa();b.Ya()&&0!=g;)for(;b.Ea()&&0!=g;)for(f=b.ba(),l=0;l<c&&0!=g;l++)1==d[l]&&f.mt(a[l],e)&&(d[l]=2,g--);for(l=0;l<c;l++)1==d[l]&&(d[l]=0)};f.gL=function(b,a,c,e,g){var h=b.G();if(1607==h)f.iS(b,a,c,e,g);else if(d.T.Oc(h))f.ZT(b,a,c,e,g);else throw d.g.X("Invalid call.");};return f}();d.gd=f})(p||(p={}));(function(d){var f=function(d){function b(a,b){2==arguments.length?(d.call(this,!1,a.description),this.Rf(a),this.lineTo(b)):d.call(this,
!1,a)}J(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.KH=function(a,b,e,d){this.FU(a,b,e,d)};return b}(d.xl);d.Ua=f})(p||(p={}));(function(d){var f=function(){function d(){}d.$_=function(){};return d}();d.d_=f})(p||(p={}));(function(d){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(d.eM||(d.eM={}));var f=function(){function a(){this.Jl=
3;this.uz=this.yv=NaN}a.prototype.bU=function(){return this.et(1)};a.prototype.cU=function(){return this.et(2)};a.prototype.et=function(a){return 0!=(this.Jl&a)};a.prototype.Vf=function(){var b=new a;b.yv=this.yv;b.uz=this.uz;b.Jl=this.Jl;return b};return a}();d.OZ=f;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(d.fM||(d.fM={}));var l=function(){function a(){this.Jl=0}a.prototype.et=function(a){return 0!=
(this.Jl&a)};a.oe=function(b){var c=new a;c.Jl=b.Jl;return c};a.prototype.EO=function(a){this.Jl=a.Jl};return a}();d.PZ=l;var b=function(){function a(a,b,g){this.je=a;this.He=b;this.rg=new d.h;this.rg.I(g);this.yV=a.jc()+b.jc()+this.rg.jc().toString()}a.prototype.jc=function(){return this.yV};a.prototype.Eb=function(a){return this==a||this.je.Eb(a.je)&&this.He.Eb(a.He)&&this.rg.Eb(a.rg)};return a}();d.e_=b;b=function(){function a(){this.He=this.je=null;this.DI=new f;this.EI=new l;this.xr=this.ue=
null;this.sr=this.Tl=!0}a.Is=function(b,e,d,h){var c;void 0===h&&(h=null);void 0===c&&(c=null);var g=new a;g.kq(b,e,d,h,c);return g};a.prototype.kq=function(a,b,g,h,f){if(null==a||null==b)throw d.g.X("invalidArgument");this.je=a;this.He=b;this.sr=this.Tl=!1;null!=h&&(this.DI=h.Vf());null!=f&&this.EI.EO(f);f=!1;1==b.Fb()&&null!=h&&(h=h.yv,isNaN(h)||0==h||(f=!0));if(a==b)this.Tl=!f,this.sr=!0;else{h=a.Fb();var c=b.Fb();if(0==h||0==c){if(null!=g)throw d.g.F();null!=a.Nd()&&null!=b.Nd()&&(this.Tl=a.Nd().Eb(b.Nd()))}else 3==
h||3==c?this.Tl=a.Eb(b):this.je.hU(this.He)?this.Tl=!f:this.Tl=!1,this.ue=g,null!=this.ue&&this.ue.Mp(),this.sr=(null==this.ue||0==this.ue.count())&&this.je.kc().Eb(this.He.kc())}this.wL()};a.prototype.Wv=function(){var b=new a;b.je=this.He;b.He=this.je;null!=this.ue&&(b.ue=this.ue.Wv());b.Tl=this.Tl;b.sr=this.sr;b.wL();return b};a.prototype.Ho=function(){return this.Tl};a.prototype.eT=function(){return this.DI.Vf()};a.prototype.Eb=function(b){return b==this?!0:b instanceof a&&this.je.Eb(b.je)&&this.He.Eb(b.He)?
this.ue==b.ue?!0:null!=this.ue&&null!=b.ue&&this.ue.Eb(b.ue)?!0:!1:!1};a.prototype.wL=function(){this.xr=new d.ko(this)};a.u_={};return a}();d.rs=b})(p||(p={}));(function(d){var f=function(){function b(){}b.uq=function(a){return a*b.oO};b.Wx=function(a,c){return b.UN(c-a)};b.bO=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=d.Ub.gM(a);0>a&&(a+=360);return a};b.UN=function(a){a=b.bO(a);180<a&&(a-=360);return a};b.QZ=.0174532925199433;b.oO=57.29577951308232;return b}();d.ls=f;
var l=function(){function b(){}b.Mj=function(a,b){var c=new d.h;a.s(c);var g=d.fb.Bh(b),h=new d.h;h.I(g);h.o=c.o;h.v=c.v;h.O(.01*h.fa(),0);g=d.na.be(b,c,!1);return h.contains(c)?a:d.ne.clip(a,h,g,0)};b.ht=function(a,c,e,g,h){if(!d.fb.Jc(c))throw d.g.F();var f=d.na.ah(c,a,!1),l=d.fb.Bh(c),k=d.fb.kc(c),m=k.Nd().Ai,p=d.fb.hw(k),k=d.fb.Sv(k),p=p*(2-p),n=new d.Ac;l.Sn(n);var r=[[0,0],[0,0]];2==d.Sd.Fb(c)?g?(r[0][0]=b.Nn(h,n),r[0][1]=l.Cq(),d.fb.lu(),l=r[0][0]*m):(r[0][0]=l.Hk(),r[0][1]=h,d.fb.lu(),l=r[0][1]*
m):l=h*m;if(!g&&0!=l)throw d.g.F();var t=new d.ea,A=new d.fd;a=A.Jb(a);for(var z=[0],v=new d.b,x=new d.b,w=new d.b,C=new d.b,B=new d.b,D=new d.b,E=A.Pb(a);-1!=E;E=A.Sb(E)){var F=A.cb(E);A.w(F,w);for(var G=!1,I=F=A.U(F);-1!=I;I=A.U(I)){if(I==F){if(G)break;G=!0}A.w(I,C);if(g&&f<h-w.x&&C.x-h>f||f<h-C.x&&w.x-h>f||!g&&f<-w.y&&C.y>f||f<-C.y&&w.y>f){do if(!(Math.abs(w.x-C.x)>=.5*n.N())){2==d.Sd.Fb(c)?(r[0][0]=b.Nn(w.x,n),r[0][1]=w.y,r[1][0]=b.Nn(C.x,n),r[1][1]=C.y,d.fb.UW(),B.x=r[0][0]*m,B.y=r[0][1]*m,D.x=
r[1][0]*m,D.y=r[1][1]*m):(B.x=w.x*m,B.y=w.y*m,D.x=C.x*m,D.y=C.y*m);D.x=6.283185307179586*(C.x-w.x)/n.N()+B.x;if(g){if(x.x=l,x.y=b.EB(k,p,B,D,l,e),isNaN(x.y))break}else{x.x=b.CB(k,p,B,D,e);if(isNaN(x.x))break;x.y=0}d.mb.Ld(k,p,B.x,B.y,D.x,D.y,t,null,null,e);var H=t.j;d.mb.Ld(k,p,B.x,B.y,x.x,x.y,t,null,null,e);var R=t.j;2==d.Sd.Fb(c)?(r[0][0]=x.x/m,r[0][1]=x.y/m,d.fb.TS(),g?(v.y=r[0][1],v.x=h):(v.x=b.Zp(r[0][0],w.x,C.x,n),v.y=h)):g?(v.x=h,v.y=x.y/m):(v.x=b.Zp(x.x/m,w.x,C.x,n),v.y=h);z[0]=0<H?d.J.pk(R/
H,0,1):.5;0!=z[0]&&1!=z[0]&&(H=A.Ra(I),A.zm(H,z,1),A.rb(A.U(H),v.x,v.y))}while(0)}w.L(C)}}return A.Se(a)};b.Xm=function(a,c,e,g,h){if(a.u())return a;var f=d.fb.ee(c);return b.Aq(a,e-180*f,360*f,c,g,h,!0)};b.EB=function(a,c,e,g,h,f){if(3.141592653589793<=Math.abs(e.x-g.x)||!b.Cj(e.x,g.x,h))return NaN;var q;e.x>g.x?q=g:(q=e,e=g);g=new d.ea(0);var l=new d.ea(0),k=new d.ea(0);d.mb.Ld(a,c,q.x,q.y,e.x,e.y,l,g,null,f);var m=l.j,p=0,n=1,r=new d.b;for(r.L(q);m*(n-p)>1E-12*a;){var t=.5*(p+n);d.mb.Oj(a,c,q.x,
q.y,m*t,g.j,l,k,f);r.x=l.j;r.y=k.j;if(r.x==h)break;if(b.Cj(q.x,r.x,h))n=t;else if(b.Cj(e.x,r.x,h))p=t;else return NaN}return r.y};b.Cj=function(a,b,e){a=f.uq(a);b=f.Wx(a,f.uq(b));e=f.Wx(a,f.uq(e));return 0==e||0<b&&0<e&&e<=b||0>b&&0>e&&e>=b?!0:!1};b.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};b.Zp=function(a,b,e,g){var c=new d.Ac;c.I(b,e);e=g.N();a=Math.floor((a-b)/e)*e+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+e-c);)a+=e;return a};b.CB=function(a,b,e,g,h){var c;e.y>g.y?
c=g:(c=e,e=g);g=new d.Ac;g.I(c.y,e.y);if(!g.contains(0)||3.141592653589793<=Math.abs(c.x-e.x))return NaN;if(c.x==e.x)return c.x;var f=new d.ea(0),l=new d.ea(0),k=new d.ea(0);d.mb.Ld(a,b,c.x,c.y,e.x,e.y,l,f,null,h);var m=l.j,p=0,n=1,r=new d.b;for(r.L(c);m*(n-p)>1E-12*a;){var t=.5*(p+n);d.mb.Oj(a,b,c.x,c.y,m*t,f.j,l,k,h);r.x=l.j;r.y=k.j;g.I(c.y,r.y);if(0==r.y)break;if(g.contains(0))n=t;else if(g.I(e.y,r.y),g.contains(0))p=t;else return NaN}return r.x};b.Aq=function(a,b,e,g,h,f,l){var c=new d.h;a.s(c);
if(c.u())return a;var q=new d.Ac;c.Sn(q);var u=new d.Ac;u.I(b,b+e);if(u.contains(q)&&u.ha!=q.ha)return a;var k=new d.h;k.I(c);var m=a.G();if(33==m){k=h?a:a.Vf();c=k.Be();if(c<u.ca||c>=u.ha||l&&c==u.ha)c+=Math.ceil((u.ca-c)/e)*e,c=u.wu(c),k.AC(c);return k}if(550==m){k=h?a:a.Vf();g=k.Pa(0);m=2*k.D();a=!1;for(h=0;h<m;h+=2)if(c=g.read(h),c<u.ca||c>=u.ha||l&&c==u.ha)a=!0,c+=Math.ceil((u.ca-c)/e)*e,c=u.wu(c),g.write(h,c);a&&k.Dc(1993);return k}if(u.contains(q))return a;if(197==m)return e=h?a:a.Vf(),c.Ma(k),
e.Gp(c),e;var p=.1*Math.max(c.fa(),c.N());k.O(0,p);l=a;u=g.re(0);a=d.ei.local();h=new d.Hd;for(var n=0;;){var r=Math.floor((q.ca-b)/e),t=Math.ceil((q.ha-b)/e);if(3<t-r){r=Math.floor(.5*(t+r));k.o=c.o-p;k.v=b+e*r;var A=d.ne.clip(l,k,u,f);k.o=k.v;k.v=c.v+p;var z=d.ne.clip(l,k,u,f);h.Ag((r-t)*e,0);z.Xc(h);1736==m?l=a.V(A,z,g,null):(l=A,l.add(z,!1));l.s(c);c.Sn(q);n++}else break}k.o=b;k.v=b+e;b=new d.h;b.I(k);b.O(u,0);b=Math.floor((c.o-k.o)/e)*e;0!=b?(k.move(b,0),h.Ag(-b,0)):h.pC();b=1607==m?new d.Ua(l.description):
new d.Ja(l.description);f=new d.h;for(q=new d.h;c.v>k.o;){p=d.ne.clip(l,k,u,0);p.s(q);if(1607==m?!p.u()&&(q.N()>u||q.fa()>u):!p.u()&&(1736!=m||q.N()>u))p.Xc(h),p.s(q),b.s(f),f.O(u,u),f.Yb(q)&&1736==m?b=a.V(b,p,g,null):b.add(p,!1);k.move(e,0);h.shift(-e,0)}return b};b.OJ=function(a,b,e,g,h){var c=new d.Ed(e.description);c.Id(e,0,-1);h=d.fb.Xg(c,a,b,h);c=e.D();g.Oa();if(!d.fb.Jc(a)||c!=h.D())return!1;var f=new d.h;e.s(f);var l=new d.h;h.s(l);f=f.N();l=l.N();if(0!=f&&0!=l){if(l/=f,a=d.fb.Bh(b).N()/d.fb.Bh(a).N(),
1E-10<Math.abs(l/a-1))return!1}else if(0!=f||0!=l)return!1;g.add(e,!1);for(e=0;e<c;e++)a=h.Ba(e),g.rb(e,a);return!0};b.uA=function(){throw d.g.df();};return b}();d.gi=l})(p||(p={}));(function(d){(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(d.di||(d.di={}));var f=d.di;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(d.lD||
(d.lD={}));var l=d.lD,b=function(){function a(){}a.iw=function(a,b,g){if(g||0<b){a=a.toString(d.Vc.PE_STR_NAME_CANON|d.Vc.PE_STR_AUTH_NONE);b=[];for(g=0;g<a.length;g++)b[g]="a"<=a[g]&&"z">=a[g]?b[g]=a[g].toUpperCase():a[g];return b.join()}return a.toString(d.Vc.PE_STR_AUTH_TOP)};a.qs=function(a,b,g,h){var c=h.length,e=g.D();if(0!=e){var f=g.Pa(0),l=Math.min(e,c),k=0,m=a.Kg();isNaN(b)&&(b=0);var p=a.Jc();a=p?a.kc().qe().N():0;for(var n=179*a/360;0<e;){f.Hx(k<<1,l,h,0,!0);d.fi.projToGeogCenter(m,l,
h,b);if(p)for(var r=0;r<l;r++){var t=h[r][0]-b,A=d.Ub.sign(t),z=f.read(2*(k+r));0>A*d.Ub.sign(z)&&Math.abs(t)>n&&(h[r][0]+=-A*a)}f.hy(k<<1,l,h,0,!0);k+=l;e-=l;l=Math.min(e,c)}g.Dc(1993)}};a.J_=function(a,b,g,h){var c=a.Kg();isNaN(b)&&(b=0);var e=g.Be();h[0][0]=e;h[0][1]=g.nf();d.fi.projToGeogCenter(c,1,h,b);a.Jc()&&(b=d.Ub.sign(h[0][0]-b),0>b*d.Ub.sign(e)&&(a=a.kc().qe().N(),Math.abs(h[0][0])>179*a/360&&(h[0][0]-=b*a)));g.rb(h[0][0],h[0][1])};a.wN=function(a,b,g,h){var c=0,e=a.Kg();isNaN(c)&&(c=0);
var f=a.Jc(),l=a.ee();a=360*l;for(var l=179*l,k=h.length,m=0;m<g;){for(var p=m;p<g&&b[p].isNaN();++p)m++;var n=Math.min(k,g-m);if(0<n){for(var p=1,r=m+1;p<n;++p,++r)if(b[r].isNaN()){n=p;break}d.na.oz(h,b,m,n);d.fi.projToGeogCenter(e,n,h,c);if(f)for(p=0,r=m;p<n;++p,++r){var t=b[r].x,A=h[p][0]-c,z=d.Ub.sign(A);0>z*d.Ub.sign(t)&&Math.abs(A)>l&&(h[p][0]-=z*a)}d.na.nz(b,m,h,n);m+=n}}};a.vy=function(a,b,g){var c=g.length,e=b.D();if(!(1>e)){var f=b.Pa(0),l=Math.min(e,c),k=0,m=a.Kg(),p=a.Jc(),n=p?a.qe().N():
0,r=179*n/360,t=0;for(p&&(t=a.pi());0<e;){f.Hx(k<<1,l,g,0,!0);d.fi.geogToProj(m,l,g);if(p)for(a=0;a<l;a++){var A=g[a][0],z=d.Ub.sign(A),v=f.read(2*(k+a))-t;0>z*d.Ub.sign(v)&&Math.abs(A)>r&&(g[a][0]+=-z*n)}f.hy(k<<1,l,g,0,!0);k+=l;e-=l;l=Math.min(e,c)}b.Dc(1993)}};a.B_=function(a,b,g){if(!b.u()){var c=a.Kg();g[0][0]=b.Be();g[0][1]=b.nf();d.fi.geogToProj(c,1,g);if(a.Jc()){var c=d.Ub.sign(g[0][0]),e=a.pi();0>c*d.Ub.sign(b.Be()-e)&&(a=a.qe().N(),Math.abs(g[0][0])>179*a/360&&(g[0][0]-=c*a))}b.rb(g[0][0],
g[0][1])}};a.vN=function(a,b,g,h){if(0!=g){var c=a.Kg(),e=a.Jc(),f=e?a.qe().N():0,l=179*f/360,k=0;e&&(k=a.pi());for(a=0;a<g;){for(var m=a;m<g&&b[m].isNaN();++m)a++;var p=Math.min(h.length,g-a);if(0<p){for(var m=1,n=a+1;m<p;++m,++n)if(b[n].isNaN()){p=m;break}d.na.oz(h,b,a,p);d.fi.geogToProj(c,p,h);if(e)for(m=0,n=a;m<p;m++){var r=h[m][0],t=d.Ub.sign(r);0>t*d.Ub.sign(b[n].x-k)&&Math.abs(r)>l&&(h[m][0]-=t*f)}d.na.nz(b,a,h,p);a+=p}}}};a.ps=function(a,b,g,h){var c=b.D();if(0!=c){var e=b.Pa(0),f=a.je,l=
a.He,k=f.kc().Yi(),m=l.kc().Yi(),p=f.ee(),n=l.ee();a=a.ue;if(null==a||0==a.count()){g=k/m;h=(f.dn()-l.dn())*n;m=-90*p;a=90*p;k=!1;n=1;for(f=2*c;n<f;)p=e.get(n),l=d.J.pk(p,m,a),l!=p&&(e.set(n,l),k=!0),n+=2;if(0!=h||1!=g)for(k=!0,m=new d.b,n=0;n<c;n++)e.fc(2*n,m),m.x*=g,m.x+=h,m.y*=g,e.fo(2*n,m);k&&b.Dc(1993)}else{var f=h.length,l=Math.min(c,f),r=d.J.gf(l),t=null,A=0,z=NaN,v=NaN,x=360*n,w=n/p;g&&(v=90*n,z=89.9*p,t=d.J.gf(l));for(var C=!0,B=0;0!=c;){p=!1;e.Hx(A<<1,l,h,0,!0);for(n=0;n<l;n++)r[n]=h[n][0];
if(g)for(n=0;n<l;n++){var D=Math.abs(h[n][1])-z;0<D&&(p=h[n][1],h[n][1]=d.Ub.Fl(z,p),t[n]=d.Ub.Fl(D,p),p=!0)}n=h[0][0];a.transform(h,l,k,m);C&&(B=h[0][0]-w*n,C=!1);for(n=0;n<l;n++)D=h[n][0]-r[n]*w-B,200<Math.abs(D)&&(h[n][0]=0<D?h[n][0]-x:h[n][0]+x);if(p){for(n=0;n<l;n++)0!=t[n]&&(h[n][1]+=w*t[n],h[n][1]>v?h[n][1]=v:h[n][1]<-v&&(h[n][1]=-v));for(p=0;p<l;p++)t[p]=0}e.hy(A<<1,l,h,0,!0);A+=l;c-=l;l=Math.min(c,f)}b.Dc(1993)}}};a.A_=function(a,b,g,h){if(b.u())return!1;var c=a.je,e=a.He,f=a.ue,l=c.kc().Yi(),
k=e.kc().Yi();h[0][0]=b.Be();h[0][1]=b.nf();if(null!=f&&0<f.count()){a=!0;var m=!1,p=NaN,n=0,r=1;g&&(g=c.ee(),p=e.ee(),r=p/g,p*=90,c=89.9*g,e=Math.abs(h[0][1])-c,0<e&&(m=h[0][1],h[0][1]=d.Ub.Fl(c,m),n=d.Ub.Fl(e,m),m=!0));f.transform(h,1,l,k);m&&0!=n&&(h[0][1]+=r*n,h[0][1]>p?h[0][1]=p:h[0][1]<-p&&(h[0][1]=-p));b.rb(h[0][0],h[0][1])}else{g=c.ee();a=d.J.pk(h[0][1],-90*g,90*g)!=h[0][1];p=e.ee();f=(c.dn()-e.dn())*p;l/=k;if(1!=l||0!=f)a=!0,h[0][0]*=l,h[0][0]+=f,h[0][1]*=l;a&&b.rb(h[0][0],h[0][1])}return a};
a.uN=function(a,b,g,h){var c;if(a.sr)h=90*a.je.ee(),d.na.VK(b,g,-h,h);else{var e=a.ue,f=a.je,l=a.He;a=f.Xs();var k=l.Xs(),m=f.ee(),p=90*m,n=l.ee();if(null==e||0==e.count()){if(h=a/k,e=(f.dn()-l.dn())*n,d.na.VK(b,g,-p,p),0!=e||1!=h)for(n=0;n<g;n++)b[n].x*=h,b[n].x+=e,b[n].y*=h}else for(var f=Math.min(g,h.length),p=d.J.gf(f),l=360*n,m=n/m,r=!0,t=0,A=0;0!=g;){for(n=0;n<f;n++)p[n]=b[n+A].x;n=b[0].x;d.na.oz(h,b,A,f);e.transform(h,f,a,k);d.na.nz(b,A,h,f);r&&(t=b[0].x-m*n,r=!1);for(n=0;n<f;n++)c=b[A+n].x-
p[n]*m-t,200<Math.abs(c)&&(b[A+n].x=0<c?b[A+n].x-l:b[A+n].x+l);A+=f;g-=f;f=Math.min(g,h.length)}}};a.ZZ=function(b,e,d,h){return a.Xm(b,e,isNaN(d)?0:d,!0,h,null)};a.Vu=function(a,b){a=a.Bh();isNaN(b)||a.xv(b,0);return a};a.KS=function(b,e,g,h,f,l,k,m){for(var c=a.Vu(h,f),q=c.N(),u=q/360,p=a.kE*u,n=b.Pa(0),y=e.Jc(),r=y?q/e.qe().N():0,t=!1,A=new d.Ja(g.description),z=0,v=g.aa();z<v;++z){var x=y,P=new d.Ua(g.description);P.Ti(g,z,!0);if(0!=k){var w=a.aE(!0,P,c.B-m,c.B,k);(t=t||w)&&(x=!1)}var C=-1;x&&
(C=b.wa(z));var B=P.Pa(0),D=P.D(),E=0,F=B.read(0),G=0,w=3*h.re(0),I=!1,H=new d.b;H.$c();var R=new d.b;R.$c();for(var M=!1,J=1;J<D;++J){var L=d.b.pa(B.Of(2*J),B.Of(2*J+1)),O=L.x,V=O+E,U=V-F;L.x=V;if(Math.abs(U)>p){if(x){var S=C+(J+1<D?J:0),T=n.read(2*(C+J-1)),S=(n.read(2*S)-T)*r;Math.abs(U-S)>1*u&&(x=!1)}x||(E-=d.Ub.Fl(q,V-F),V=O+E,++G,M=0!=E,L.x=V)}else I||d.na.NH(R,H,L,w)&&(I=!0);M&&B.write(2*J,V);F=V;R.L(H);H.L(L)}0<G&&P.Dc(1993);x=P.Ba(0);D=P.Ba(D-1);P=d.b.Cb(x,D)<w?a.TR(P,h,f,l,I):a.gS(b,z,P,
h,f);A.add(P,!1)}f=h.re(0);g=c.N()/180;a.xu(A,c,.1*f,!1);f=d.uh.clip(A,c,f,g,l);A=A!=f;b=b.hf();m=f.hf();k=0;0<m&&0>b?k=1:0>=m&&0<b&&(0==m?(m=NaN,2==e.Fb()?m=e.Mk().hf():1==e.Fb()&&(m=e.qe().IG()),b>.99*m&&(k=-1)):k=-1);0!=k&&(e=new d.Ja(f.description),e.oq(c),e=d.Jm.local().V(e,g,l),e.add(f,!1),A=!0,f=e);A&&(f=d.Km.local().V(f,h,!1,l));return f};a.gS=function(b,e,g,h,f){var c=g.D(),q=g.Ba(0),l=g.Ba(c-1);h=a.Vu(h,f);f=h.N();var q=d.Ub.sign(l.x-q.x),k=new d.h;g.ac(k);var m=h.Hk(),p,l=m-f,m=m+f;if(0<=
q){for(var n=Math.ceil((l-k.o)/f),n=n*f;l>k.o+n;)n+=f;for(;l<k.v+n;)n-=f;p=n;720<k.N()&&(m=l+360*Math.ceil(k.N()/360))}else{n=Math.ceil((m-k.v)/f);for(n*=f;m<k.v+n;)n-=f;for(;m>k.o+n;)n+=f;p=n;720<k.N()&&(l=m-360*Math.ceil(k.N()/360))}var n=q*f,r=d.h.pa(k.o,k.A,k.v,k.B);r.move(p,0);var t=new d.Hd;t.Ag(p,0);g.Xc(t);k=new d.Ua(g.description);k.add(g,!1);p=g.Ba(c-1);f=0;for(var A=k.Ba(0).x,z=0;0<q?r.v<m:r.o>l;)1024<=z&&(z=0),r.move(n,0),t.Wb=n,g.Xc(t),A+=n,h.o<=A&&h.v>=A&&(f=k.D()-1),g.rb(0,p),p=g.Ba(c-
1),k.Bs(g,0,0,c-1,!1);g=new d.Ja(k.description);c=0<b.Sm(e);g.add(k,!1);b=k.Ba(0);l=k.Ba(k.D()-1);e=g.aa()-1;(0>q?c:!c)?(q=d.b.pa(l.x,h.B),g.aj(q),q=d.b.pa(h.Hk(),h.B),g.aj(q),h=d.b.pa(b.x,h.B)):(q=d.b.pa(l.x,h.A),g.aj(q),q=d.b.pa(h.Hk(),h.A),g.aj(q),h=d.b.pa(b.x,h.A));g.aj(h);g.KH(0,e,0);g.nQ(f);return g};a.TR=function(b,e,g,h,f){var c=new d.Ja(b.description);c.add(b,!1);c.cC(0,c.D()-1);var q=new d.h;c.ac(q);g=a.Vu(e,g);for(var l=g.N(),k=Math.ceil((g.o-q.o)/l),k=k*l;g.o>q.o+k;)k+=l;for(;g.o<q.v+
k;)k-=l;k+=l;if(0!=k){q.move(k,0);var m=new d.Hd;m.Ag(k,0);c.Xc(m)}if(g.o<=q.o&&g.v>q.v)return f&&(f=c.hf(),c=d.Km.local().V(c,e,!0,h),e=c.hf(),(e=d.Ub.sign(f)!=d.Ub.sign(e))&&c.eK()),c;b=new d.Ja(b.description);b.add(c,!1);for(f=f||q.N()>l-e.re(0);q.o<g.v;)q.move(l,0),m=new d.Hd,m.Ag(l,0),c.Xc(m),b.add(c,!1);f&&(f=b.hf(),b.Hp(1),b=d.Km.local().V(b,e,!0,h),e=b.hf(),(e=d.Ub.sign(f)!=d.Ub.sign(e))&&b.eK());return b};a.aE=function(a,b,g,h,f){for(var c=b.Pa(0),e=b.D(),q=!1,l=0;l<e;l++){var k=d.b.pa(c.Of(2*
l),c.Of(2*l+1));if(0!=(f&1)&&k.y>=g){q=!0;break}if(0!=(f&2)&&k.y<=-g){q=!0;break}}if(!q)return!1;c=!1;a&&(c=b.Eo(0));a=new d.fd;var e=a.Jb(b),q=a.Pb(e),m=-1,p=!0,n=new d.b;n.$c();for(var l=new d.Wa,r=-1,t=a.cb(q);-1!=t;t=a.U(t)){var k=a.Ba(t),A=0!=(f&1)&&90<=k.y?1:0,A=A|(0!=(f&2)&&k.y<=-g?2:0);if(0<m&&m!=A){if(n.x!=k.x){n.x=k.x;a.wj(a.Ra(t),l);var z=a.Wj(q,t,l);a.Qf(z,n)}if(c)for(r=-1!=r?a.U(r):a.cb(q),z=a.Ra(t);r!=z;)r=a.ud(r,!1);r=-1}0<A&&(k.y=d.Ub.Fl(h,k.y),a.Qf(t,k),p||m==A||(k.x!=n.x?(a.wj(t,
l),z=a.Wj(q,t,l),a.rb(z,n.x,k.y),r=z):r=t));m=A;n=k;p=!1}if(c){if(-1!=r)for(r=a.U(r);-1!=r;)r=a.ud(r,!1);g=a.cb(q);a.Uq(g,a.Rj(q))||(a.wj(g,l),a.Wj(q,-1,l))}a.Se(e).copyTo(b);return!0};a.zZ=function(a,b){var c=0,e=a.La(b);b+=1;for(var d=a.aa();b<d&&!(0<a.Sm(b));++b)c++;return 64<e&&3<=c};a.tA=function(b,e,g,h){var c=b;if(c.u()||g==f.DontClip)return c;var l=c.G();if(33==l)return h=c,c=[h.w()],a.LH(c,1,e,g),c[0].isNaN()?h.Oa():h.rb(c[0]),b;b=e.kc();var k=b.ee(),m=90*k,p=180*k,n=360*k,r=e.pi(),t=.5*
k,A=new d.h;c.s(A);var z=e.Vs(),v=e.DS(),x=197==z.G();e=new d.h;z.s(e);g==f.PannableFold&&(g=b.qe().N(),e.o=r-.5*g,e.v=e.o+g);if(A.A<-m||A.B>m){(new d.h).I(A.o-k,-m,A.v+k,m);c=d.uh.rq(c,e,b,NaN,0,h);if(c.u())return c;c.s(A)}if(v&&(e.B<A.A||e.A>A.B))return c.Ka();A.N()>n&&(c=a.Aq(c,r-p,n,b,!0,0,!0,h),c.s(A));m=a.CN(A.o,A.v,e.o,e.v,n);0!=m&&A.move(m,0);if(A.v>e.v||A.o<e.o){if(A.v>e.v)for(;A.o>=e.v;)A.move(-n,0),m-=n;for(;A.o<e.v-n;)A.move(n,0),m+=n}g=d.na.vv(b,z);0!=m&&(k=new d.Hd,k.Ag(m,0),c.Xc(k));
if(v){if(x&&e.contains(A))return c;v=[null,null];for(m=0;2>m;m++){x?k=d.T.Ic(l)?d.uh.clip(c,e,g,t,h):d.uh.clip(c,e,g,0,h):(k=d.tk.local().V(c,z,b,h),k==z&&(k=d.T.oe(k)));if(e.o<=A.o&&e.v>=A.v||e.o>=A.o&&e.v<=A.v)return k;v[m]=k;0==m&&(A.move(-n,0),k=new d.Hd,k.Ag(-n,0),c.Xc(k))}if(550==l)v[0].Id(v[1],0,-1);else if(d.T.Ic(l))v[0].add(v[1],!1);else if(33==l)v[0].u()&&(v[0]=v[1]);else throw d.g.X("intersect_with_GCS_horizon: unexpected geometry type");return v[0]}if(e.B<A.A||e.A>A.B)return c;for(l=0;!c.u()&&
A.v>e.o;)0!=l&&(k=new d.Hd,k.Ag(l,0),c.Xc(k)),d.Gj.local().V(4,c,z,b,h)||(c=d.cq.local().V(c,z,b,h),z==c&&(c=d.T.oe(c))),0!=l&&(t=new d.Hd,t.Ag(-l,0),c.Xc(t)),l-=n,A.move(-n,0);return c};a.LH=function(b,e,g,h){if(0!=e&&h!=f.DontClip)if(h==f.PannableFold){h=g.AT();for(var c=e,l=0;l<e;l++)if(b[l].y>h.B||b[l].y<h.A)b[l].$c(),c--;0!=c&&a.Uu(b,e,h.o,h.N())}else{h=g.ee();var k=90*h,m=180*h;h*=360;c=e;for(l=0;l<e;l++)if(b[l].y>k||b[l].y<-k)b[l].$c(),c--;if(0!=c){c=new d.h;c.Mx(b,e);var k=g.Vs(),p=g.Uv(),
l=197==k.G(),n=new d.h;k.s(n);if(!p||!(n.B<c.A||n.A>c.B))if(p)if(a.Uu(b,e,n.Hk()-m,h),c=e,l)for(l=0;l<e;l++)n.contains(b[l])||(b[l].$c(),c--);else for(g=d.na.vv(g.kc(),k),l=0;l<e;l++)(m=0!=d.gd.ge(k,b[l],g))||(b[l].$c(),c--);else for(a.Uu(b,e,-m,h),c=e,g=d.na.vv(g.kc(),k),l=0;l<e;l++)if(m=b[l],m.isNaN()&&c--,p=a.pE(m.x,n.o,n.v,h),m.x+=p,m=0!=d.gd.ge(k,m,g))b[l].$c(),c--}}};a.b_=function(a,b,g){if(0<=b&&!a.Qb(b))return 0;var c=0;if(1==g.Fb())return b=90*g.ee(),b-=2*b/Math.PI*d.Vc.PE_HORIZON_DELTA,
g=new d.h,a.s(g),g.B>=b&&(c=1),g.A<=-b&&(c|=2),c;var e=g.Sj();if(null==e)return 0;var f=null;0<=b&&(f=a);for(var l=0;2>l;l++)if((0<l?e.getSouthPoleLocation():e.getNorthPoleLocation())!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY){var k=g.dA(0<l);k.isNaN()||(k=0>b?d.ff.xA(a,k,0):d.ff.yA(f,b,k,0,null),c|=k<<l)}return c};a.Aq=function(a,b,g,h,f,l,k,m){var c=a.G(),e=b+g;if(33===c){h=f?a:a.Vf();var q=h.Be();if(q<b||q>=e||k&&q==e)q+=Math.ceil((b-q)/g)*g,q=d.J.pk(q,b,e),h.AC(q);return h}if(a.u())return a;q=new d.h;a.s(q);
if(q.u())return a;var u=new d.Ac;q.Sn(u);var p=new d.Ac;p.I(b,e);if(p.contains(u))return a;e=new d.h;e.I(q);if(550===c){h=f?a:a.Vf();m=h.Pa(0);c=2*h.D();e=!1;for(b=0;b<c;b+=2)if(q=m.read(b),q<p.ca||q>=p.ha||k&&q==p.ha)e=!0,q+=Math.ceil((p.ca-q)/g)*g,q=p.wu(q),m.write(b,q);e&&h.Dc(1993);return h}if(197==c)return g=f?a:a.Vf(),q.Ma(e),g.Gp(q),g;var n=.1*Math.max(q.fa(),q.N());e.O(0,n);k=a;p=h.re(0);a=d.ei.local();for(f=new d.Hd;;){var r=Math.floor((u.ca-b)/g),y=Math.ceil((u.ha-b)/g);if(3<y-r){r=Math.floor(.5*
(y+r));e.o=q.o-n;e.v=b+g*r;var t=d.uh.clip(k,e,p,l,m);e.o=e.v;e.v=q.v+n;var A=d.uh.clip(k,e,p,l,m);f.Ag((r-y)*g,0);A.Xc(f);1736==c?k=a.V(t,A,h,null):(k=t,k.add(A,!1));k.s(q);q.Sn(u)}else break}e.o=b;e.v=b+g;b=new d.h;b.I(e);b.O(p,0);b=Math.floor((q.o-e.o)/g)*g;0!=b?(e.move(b,0),f.Ag(-b,0)):f.pC();b=1607==c?new d.Ua(k.description):new d.Ja(k.description);l=new d.h;for(u=new d.h;q.v>e.o;){n=d.uh.clip(k,e,p,0,m);n.s(u);if(1607==c?!n.u()&&(u.N()>p||u.fa()>p):!n.u()&&(1736!=c||u.N()>p))n.Xc(f),n.s(u),
b.s(l),l.O(p,p),l.Yb(u)&&1736==c?b=a.V(b,n,h,null):b.add(n,!1);e.move(g,0);f.shift(-g,0)}return b};a.Uu=function(a,b,g,h){for(var c=g+h,e=0;e<b;e++){var f=a[e].x;g<=f&&f<c||!(f<g||f>c||f==c)||(f+=Math.ceil((g-f)/h)*h,f=d.J.pk(f,g,c),a[e].x=f)}};a.Xm=function(b,e,g,h,f,l){if(!e.Jc())throw d.g.X("fold_into_360_degree_range");if(b.u())return b;var c;if(2==e.Fb())g=e.bw(),c=e.aw()-g;else{var q=e.ee();c=360*q;g-=180*q}return a.Aq(b,g,c,e,h,f,!0,l)};a.BG=function(b,e,d,h){if(2==d.Fb())h=d.bw(),d=d.aw()-
h;else{var c=d.ee();d=360*c;h-=180*c}a.Uu(b,e,h,d)};a.Mj=function(a,b){var c=b.qe();if(33==a.G()){var e=a.nf();return c.A<=e&&e<=c.B?a:a.Ka()}e=new d.h;a.s(e);var f=new d.h;f.I(c);f.o=e.o;f.v=e.v;f.O(.01*f.fa(),0);c=d.na.$y(b,e);return f.contains(e)?a:d.uh.clip(a,f,c,0,null)};a.Im=function(a,b,d){return a>b.v&&a-b.v<d?b.v:a<b.o&&b.o-a<d?b.o:a};a.zY=function(b,e,d,h){h.x=a.Im(b.x,e,d);h.y=b.y};a.yY=function(b,e,d,h){for(var c=0;c<e;c++)b[c].y<d.A||b[c].y>d.B?b[c].$c():b[c].x=a.Im(b[c].x,d,h)};a.xu=
function(b,e,g,h){if(!b.u()){var c=b.G();if(!h||1736!=c)if(d.T.gh(c)){h=b.Pa(0);for(var c=0,f=b.D();c<f;c++){var l=h.read(2*c),k=a.Im(l,e,g);k!=l&&h.write(2*c,k)}b.Dc(1993)}else if(197==c)h=new d.h,b.s(h),h.o=a.Im(h.o,e,g),h.v=a.Im(h.v,e,g),b.Gp(h);else if(33==c)b.AC(a.Im(b.Be(),e,g));else throw d.g.X("internal error");}};a.pU=function(b,e,g,h){var c=new d.fd,f=c.Jb(b);b=d.na.vv(e,b);a.ht(c,f,e,b,g,!0,h);return c.Se(f)};a.ht=function(b,e,g,h,f,k,m){if(!g.Jc())throw d.g.F("invalid call");var c=g.qe(),
q=g.kc(),u=q.Kg().getDatum().getSpheroid(),q=q.Nd().Ai,p=u.getFlattening(),u=u.getAxis(),p=p*(2-p),n=new d.Ac;c.Sn(n);var r=null,y=[[0,0],[0,0]];2==g.Fb()?(r=g.Kg(),k?(y[0][0]=a.Nn(m,n),y[0][1]=c.Cq(),d.fi.projToGeog(r,1,y),c=y[0][0]*q):(y[0][0]=c.Hk(),y[0][1]=m,d.fi.projToGeog(r,1,y),c=y[0][1]*q)):c=m*q;if(!k&&0!=c&&f!=l.GreatElliptic)throw d.g.X("invalid argument");var t=new d.ea,A=[0],z=new d.b,v=new d.b,x=new d.b,w=[null,null],C=new d.b,B=new d.b,D=new d.b,E=new d.b;for(e=b.Pb(e);-1!=e;e=b.Sb(e)){var F=
b.cb(e);b.w(F,C);for(var G=!1,I=F=b.U(F);-1!=I;I=b.U(I)){if(I==F){if(G)break;G=!0}b.w(I,B);if(k&&(h<m-C.x&&B.x-m>h||h<m-B.x&&C.x-m>h)||!k&&(0!=m||h<-C.y&&B.y>h||h<-B.y&&C.y>h)){do if(!(Math.abs(C.x-B.x)>=.5*n.N())){2==g.Fb()?(y[0][0]=a.Nn(C.x,n),y[0][1]=C.y,y[1][0]=a.Nn(B.x,n),y[1][1]=B.y,d.fi.projToGeogCenter(r,2,y,0),D.x=y[0][0]*q,D.y=y[0][1]*q,E.y=y[1][1]*q):(D.x=C.x*q,D.y=C.y*q,E.y=B.y*q);E.x=2*(B.x-C.x)*Math.PI/n.N()+D.x;var H;if(k){v.x=c;v.y=a.EB(u,p,D,E,c,f);if(isNaN(v.y))break;w[0]=v;H=1}else if(f==
l.GreatElliptic){var R=[0,0];H=d.yy.uA(u,p,D,E,c,R);if(0==H)break;v.x=R[0];v.y=c;w[0]=v;2==H&&(x.x=R[1],x.y=c,w[1]=x)}else{v.x=a.CB(u,p,D,E,f);if(isNaN(v.x))break;v.y=0;w[0]=v;H=1}for(var M=-1,R=0;R<H;R++){d.mb.Ld(u,p,D.x,D.y,E.x,E.y,t,null,null,f);var J=t.j;d.mb.Ld(u,p,D.x,D.y,w[R].x,w[R].y,t,null,null,f);var L=t.j;2==g.Fb()?(y[0][0]=w[R].x/q,y[0][1]=w[R].y/q,d.fi.geogToProj(r,1,y),k?(z.y=y[0][1],z.x=m):(z.x=a.Zp(y[0][0],C.x,B.x,n),z.y=m)):k?(z.x=m,z.y=w[R].y/q):(z.x=a.Zp(w[R].x/q,C.x,B.x,n),z.y=
m);A[0]=0<J?d.J.pk(L/J,0,1):.5;if(0==A[0]||1==A[0])break;M>A[0]||(M=b.Ra(I),b.zm(M,A,1),b.rb(b.U(M),z.x,z.y),M=A[0])}}while(0)}C.L(B)}}};a.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};a.Zp=function(a,b,g,h){var c=new d.Ac;c.I(b,g);g=h.N();a=Math.floor((a-b)/g)*g+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+g-c);)a+=g;return a};a.Cj=function(a,b,g){a=d.ls.uq(a);b=d.ls.Wx(a,d.ls.uq(b));g=d.ls.Wx(a,d.ls.uq(g));return 0==g||0<b&&0<g&&g<=b||0>b&&0>g&&g>=b?!0:!1};a.EB=function(b,
e,g,h,f,k){if(k==l.GreatElliptic)return d.yy.MU(e,g,h,f);if(Math.abs(g.x-h.x)>=Math.PI||!a.Cj(g.x,h.x,f))return NaN;var c;g.x>h.x?c=h:(c=g,g=h);h=new d.ea;var q=new d.ea,u=new d.ea;d.mb.Ld(b,e,c.x,c.y,g.x,g.y,q,h,null,k);var m=q.j,p=0,n=1,r=new d.b;for(r.L(c);m*(n-p)>1E-12*b;){var t=.5*(p+n);d.mb.Oj(b,e,c.x,c.y,m*t,h.j,q,u,k);r.x=q.j;r.y=u.j;if(r.x==f)break;if(a.Cj(c.x,r.x,f))n=t;else if(a.Cj(g.x,r.x,f))p=t;else return NaN}return r.y};a.CB=function(a,b,g,h,f){if(f==l.GreatElliptic)return f=[0,0],
d.yy.uA(a,b,g,h,0,f),f[0];var c;g.y>h.y?c=h:(c=g,g=h);h=new d.Ac;h.I(c.y,g.y);if(!h.contains(0)||Math.abs(c.x-g.x)>=Math.PI)return NaN;if(c.x==g.x)return c.x;var e=new d.ea,q=new d.ea,k=new d.ea;d.mb.Ld(a,b,c.x,c.y,g.x,g.y,q,e,null,f);var m=q.j,p=0,n=1,r=new d.b;for(r.L(c);m*(n-p)>1E-12*a;){var t=.5*(p+n);d.mb.Oj(a,b,c.x,c.y,m*t,e.j,q,k,f);r.x=q.j;r.y=k.j;h.I(c.y,r.y);if(0==r.y)break;if(h.contains(0))n=t;else if(h.I(g.y,r.y),h.contains(0))p=t;else return NaN}return r.x};a.x_=function(a,b,g,h,f,l){if(b==
f&&g!=l)throw d.g.F();if(0>=h)return 0;if(a.Ho()){l*=2;var c=2*g;a=2*h;for(g=0;g<a;g++)f[l+g]=b[c+g];return h}if(2>=h){l=[new d.b,new d.b];for(c=0;c<h;c++)l[c].ka(b[2*c],b[2*c+1]);b=d.os.local().WY(a,l,h,l);for(c=0;c<h;c++)f[2*c]=l[c].x,f[2*c+1]=l[c].y;return b}var e=a.je,c=a.He,q=e.Fb(),k=c.Fb();if(0==q&&q==k)return a=e.Yi(),c=c.Yi(),c=a/c,a=new d.Hd,a.Op(c,c),a.XY(b,g,f,l,h),h;q=new d.Ed;q.Ud(3);q.resize(h);for(var k=q.Pa(0),u=q.Pa(3),c=0,m=2*g,p=2*l;c<h;c++,p+=2){g=b[m++];var e=b[m++],n=p;if(isNaN(g)||
isNaN(e))e=g=0,n=-1;u.write(c,n);k.write(2*c,g);k.write(2*c+1,e)}q.Dc(1993);b=d.os.local().V(q,a,null);c=0;for(l*=2;c<h;c++,l+=2)f[l]=NaN,f[l+1]=NaN;if(b.u())return 0;l=b.Pa(3);a=b.Pa(0);c=q=0;for(h=b.D();c<h;c++)b=l.read(c),-1!=b&&(g=a.read(2*c),e=a.read(2*c+1),f[b]=g,f[b+1]=e,q++);return q};a.OJ=function(a,b,g,h){if(!a.je.Jc())return!1;var c=new d.Ed(b.description);c.Id(b,0,-1);h=d.os.local().V(c,a,h);c=b.D();g.Oa();if(c!=h.D())return!1;var e=new d.h;b.s(e);var f=new d.h;h.s(f);e=e.N();f=f.N();
if(0!=e&&0!=f){if(f/=e,a=a.He.Bh().N()/a.je.Bh().N(),1E-10<Math.abs(f/a-1))return!1}else if(0!=e||0!=f)return!1;g.add(b,!1);b=new d.b;for(a=0;a<c;a++)h.w(a,b),g.rb(a,b);return!0};a.qP=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.MJ=function(b,e,g,h){if(g==f.Clip){var c=e.Mk();197==c.G()?(g=new d.h,c.s(g),c=d.na.$y(e,g),b=d.uh.clip(b,g,c,5E4*e.bn(),h)):d.Gj.local().V(1,c,b,e,h)||(b=d.tk.local().V(b,c,e,h),b==c&&(b=d.xl.oe(b)))}else e.Jc()&&(h=new d.h,b.ac(h),e.qe().contains(h)||(a.xu(b,
e.qe(),e.re(0),!0),g==f.PannableFold&&(b=a.Mj(b,e)),b=a.Xm(b,e,0,!0,1E5*e.bn(),null)));return b};a.jF=function(a,b,g){var c=b.Ws();if(null==c)return a;b=b.kc();var e=b.qe().N(),f=new d.h;a.ac(f);var l=new d.Ac;f.Sn(l);for(var f=c.Fa(),c=null,k=new d.Hd;f.Ya();)for(;f.Ea();){var m=f.ba(),p=m.xf(0,0),n=new d.Ac;n.I(p.ca,p.ha);for(p=0;n.ha>l.ca;)n.move(-e),--p;for(;n.ca<=l.ha;){if(n.Yb(l)){null==c&&(c=new d.Ua);var r=d.Hb.fR(m.ec(),m.Cc());0!=p&&(k.Ag(p*e,0),r.Xc(k));c.dc(r,!0)}n.move(e);++p}}return null!=
c?(b=d.na.gQ(b,c),b=d.na.Cs(b),d.Ku.kR(a,c,b,g)):a};a.CN=function(b,e,d,h,f){return b>=d&&e<=h?0:a.pE(.5*(e+b),d,h,f)};a.pE=function(a,b,g,h){return d.Ub.round((.5*(g+b)-a)/h)*h};a.LS=function(b,e,g,h,f,l,k,m){var c=a.Vu(h,f),q=c.N(),u=q/360,p=a.kE*u,n=b.Pa(0),r=e.Jc(),y=r?q/e.qe().N():0,t;e=b.Ka();for(var A=0,z=g.aa();A<z;++A){var v=r,x=new d.Ua(g.description);x.Ti(g,A,!0);t=g.Qb(A);0!=k&&(t=a.aE(t,x,c.B-m,c.B,k))&&(v=!1);var w=-1;t=x.D();var C=!1;v&&(w=b.wa(A),C=b.Qb(A));var B=x.Pa(0),P=0,D=B.read(0),
E=0,F=3*h.re(0),G=!1,I=new d.b;I.$c();var H=new d.b;H.$c();for(var R=!1,M=1;M<t;++M){var J=d.b.pa(B.Of(2*M),B.Of(2*M+1)),L=J.x,V=L+P,O=V-D;J.x=V;if(Math.abs(O)>p){if(v){var U=w+M-1,S=w;if(!C||M+1<t)S+=M;U=n.read(2*U);S=(n.read(2*S)-U)*y;Math.abs(O-S)>1*u&&(r=!1)}v||(P-=d.Ub.Fl(q,V-D),V=L+P,++E,R=0!=P,J.x=V)}else G||d.na.NH(I,H,J,F)&&(G=!0);R&&B.write(2*M,V);D=V;I.L(H);H.L(J)}0!=E&&x.Dc(1993);v=x.Ba(0);t=x.Ba(t-1);d.b.Cb(v,t);x=a.ES(x,h,isNaN(f)?0:f,l);e.add(x,!1)}b=h.re(0);g=c.N()/180;a.xu(e,c,.1*
b,!1);return d.uh.clip(e,c,b,g,l)};a.ES=function(b,e,d,h){return a.Xm(b,e,d,!0,0,h)};a.JU=function(a,b,g,h){var c=a.G();if(1736==c)for(b=null!=b?b.re(0):0,c=0;c<h;c++)1!=d.gd.ge(a,g[c],b)&&g[c].$c();else if(197==c)for(c=0;c<h;c++)a.gR(g[c])||g[c].$c();else throw d.g.F();};a.Dl=function(a,b,g,h){if(32>g)for(var c=new d.Wa,e=0;e<g;e++)c.rb(b[e]),a.Dl(c,h).w(b[e]);else{var f=new d.Ed;f.Ud(3);f.YE(b,g);c=f.Pa(3);for(e=0;e<g;e++)c.write(e,e);e=a.Dl(f,h);a=e.Pa(0);c=e.Pa(3);h=d.b.pa(NaN,NaN);for(f=0;f<
g;f++)b[f]=h;g=e.D();for(e=0;e<g;e++)h=c.read(e),a.fc(2*e,b[h])}};a.Cl=function(a,b,g,h){if(32>g)for(var c=new d.Wa,e=0;e<g;e++)c.rb(b[e]),a.Cl(c,h).w(b[e]);else{var f=new d.Ed;f.Ud(3);f.YE(b,g);c=f.Pa(3);for(e=0;e<g;e++)c.write(e,e);e=a.Cl(f,h);a=e.Pa(0);c=e.Pa(3);h=d.b.pa(NaN,NaN);for(f=0;f<g;f++)b[f]=h;g=e.D();for(e=0;e<g;e++)h=c.read(e),a.fc(2*e,b[h])}};a.Z_="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.kE=210;return a}();d.Ib=b})(p||(p={}));(function(d){(function(d){d[d.rightSide=1]="rightSide"})(d.KN||(d.KN=
{}));var f=function(){function f(b,a,c){this.xt=new d.b;void 0===b?this.up=-1:(this.xt.L(b),this.up=a,this.Qa=c,this.$w=0)}f.prototype.NK=function(b){this.$w=b?this.$w|1:this.$w&-2};f.prototype.u=function(){return 0>this.up};f.prototype.Nz=function(){if(this.u())throw d.g.X("invalid call");return new d.Wa(this.xt.x,this.xt.y)};f.prototype.Za=function(){if(this.u())throw d.g.X("invalid call");return this.up};f.prototype.Qz=function(){if(this.u())throw d.g.X("invalid call");return this.Qa};f.prototype.zA=
function(){return 0!=(this.$w&1)};f.prototype.Ly=function(b,a,c,e){this.xt.x=b;this.xt.y=a;this.up=c;this.Qa=e};return f}();d.Mm=f})(p||(p={}));(function(d){var f=function(){function b(){}b.prototype.Wn=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;a.ac(this.gl);this.gl.O(b,b);this.gl.Yb(this.Mb.Ha)?((this.rt=d.T.Oc(a.G()))?(this.gJ=a.ec(),this.fJ=a.Cc(),this.ta=b):this.ta=NaN,this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf)):this.Lt=-1};b.prototype.Ni=
function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;this.gl.I(a);this.gl.O(b,b);this.ta=NaN;this.gl.Yb(this.Mb.Ha)?(this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf),this.rt=!1):this.Lt=-1};b.prototype.next=function(){if(0==this.Rh.size)return-1;this.Vk=this.Lt;var a=null,b=null,e,g=null,h=null;this.rt&&(a=new d.b,b=new d.b,g=new d.h);for(var f=!1;!f;){for(;-1!=this.Vk;){e=this.Mb.Jz(this.Mb.Tv(this.Vk));if(e.Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),
g.I(e),g.O(this.ta,this.ta),0<g.gz(a,b)){f=!0;break}}else{f=!0;break}this.Vk=this.Mb.$v(this.Vk)}if(-1==this.Vk){e=this.Rh.Fc();var k=this.hj[this.hj.length-1];null==h&&(h=[],h[0]=new d.h,h[1]=new d.h,h[2]=new d.h,h[3]=new d.h);l.uK(k,h);this.Rh.Pf();--this.hj.length;for(k=0;4>k;k++){var m=this.Mb.Eq(e,k);if(-1!=m&&0<this.Mb.PT(m)&&h[k].Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),g.I(h[k]),g.O(this.ta,this.ta),0<g.gz(a,b)){var p=new d.h;p.I(h[k]);this.Rh.add(m);this.hj.push(p)}}else p=new d.h,
p.I(h[k]),this.Rh.add(m),this.hj.push(p)}if(0==this.Rh.size)return-1;this.Vk=this.Mb.Us(this.Rh.get(this.Rh.size-1))}}this.Lt=this.Mb.$v(this.Vk);return this.Vk};b.eR=function(a,c,e){var g=new b;g.Mb=a;g.gl=new d.h;g.Rh=new d.ia(0);g.hj=[];g.Wn(c,e);return g};b.dR=function(a,c,e){var g=new b;g.Mb=a;g.gl=new d.h;g.Rh=new d.ia(0);g.hj=[];g.Ni(c,e);return g};b.cR=function(a){var c=new b;c.Mb=a;c.gl=new d.h;c.Rh=new d.ia(0);c.hj=[];return c};return b}();d.g_=f;var l=function(){function b(a,b){this.Lf=
new d.ad(11);this.yi=new d.ad(5);this.st=[];this.Ww=new d.ia(0);this.Ha=new d.h;this.ql(a,b)}b.prototype.reset=function(a,b){this.Lf.Vi(!1);this.yi.Vi(!1);this.st.length=0;this.Ww.clear(!1);this.ql(a,b)};b.prototype.eh=function(a,b){return this.mw(a,b,0,this.Ha,this.Mf,!1,-1)};b.prototype.lw=function(a,b,e){e=-1==e?this.Mf:this.gH(e);var c=this.fa(e),d=this.fT(e);return this.mw(a,b,c,d,e,!1,-1)};b.prototype.ja=function(a){return this.aT(a)};b.prototype.RG=function(a){return this.Jz(this.Tv(a))};b.prototype.fa=
function(a){return this.Vv(a)};b.prototype.fT=function(a){var b=new d.h;b.I(this.Ha);var e=this.Vv(a);a=this.bH(a);for(var g=0;g<2*e;g+=2){var h=d.J.truncate(3&a>>g);0==h?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==h?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==h?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.PT=function(a){return this.kA(a)};b.prototype.oT=function(a,b){return f.eR(this,a,b)};b.prototype.Xz=function(a,b){return f.dR(this,a,b)};b.prototype.mf=function(){return f.cR(this)};
b.prototype.ql=function(a,b){if(0>b||32<2*b)throw d.g.F("invalid height");this.zV=b;this.Ha.I(a);this.Mf=this.Lf.Pe();this.Ux(this.Mf,0);this.Ox(this.Mf,0);this.EK(this.Mf,0);this.AK(this.Mf,0)};b.prototype.mw=function(a,c,e,g,h,f,l){if(!g.contains(c))return 0==e?-1:this.mw(a,c,0,this.Ha,this.Mf,f,l);if(!f)for(var q=h;-1!=q;q=this.BT(q))this.Ux(q,this.kA(q)+1);q=new d.h;q.I(g);g=h;var k=[];k[0]=new d.h;k[1]=new d.h;k[2]=new d.h;for(k[3]=new d.h;e<this.zV&&this.iQ(g);e++){b.uK(q,k);for(var u=!1,m=
0;4>m;m++)if(k[m].contains(c)){var u=!0,p=this.Eq(g,m);-1==p&&(p=this.qR(g,m));this.Ux(p,this.kA(p)+1);g=p;q.I(k[m]);break}if(!u)break}return this.nU(a,c,e,q,g,f,h,l)};b.prototype.nU=function(a,b,e,d,h,f,l,k){var c=this.XG(h);if(f){if(h==l)return k;this.PR(k);f=k}else f=this.sR(),this.nC(f,a),this.JX(this.Tv(f),b);this.gY(f,h);-1!=c?(this.Sx(f,c),this.Px(c,f)):this.wK(h,f);this.qC(h,f);this.Ox(h,this.Yv(h)+1);this.hQ(h)&&this.BS(e,d,h);return f};b.prototype.PR=function(a){var b=this.gH(a),e=this.XG(b),
d=this.HT(a),h=this.$v(a);this.Us(b)==a?(-1!=h?this.Sx(h,-1):this.qC(b,-1),this.wK(b,h)):e==a?(this.Px(d,-1),this.qC(b,d)):(this.Sx(h,d),this.Px(d,h));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.uK=function(a,b){var c=.5*(a.o+a.v),d=.5*(a.A+a.B);b[0].I(c,d,a.v,a.B);b[1].I(a.o,d,c,a.B);b[2].I(a.o,a.A,c,d);b[3].I(c,a.A,a.v,d)};b.prototype.hQ=function(a){return 8==this.Yv(a)&&!this.tH(a)};b.prototype.BS=function(a,b,e){var c,d,f=this.Us(e);do d=this.Tv(f),c=this.yi.S(f,0),d=this.Jz(d),this.mw(c,
d,a,b,e,!0,f),f=c=this.$v(f);while(-1!=f)};b.prototype.iQ=function(a){return 8<=this.Yv(a)||this.tH(a)};b.prototype.tH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.qR=function(a,b){var c=this.Lf.Pe();this.NX(a,b,c);this.Ux(c,0);this.Ox(c,0);this.sl(c,a);this.AK(c,this.Vv(a)+1);this.EK(c,b<<2*this.Vv(a)|this.bH(a));return c};b.prototype.sR=function(){var a=this.yi.Pe(),b;0<this.Ww.size?(b=this.Ww.Fc(),this.Ww.Pf()):(b=this.st.length,this.st.push(new d.h));
this.KX(a,b);return a};b.prototype.Eq=function(a,b){return this.Lf.S(a,b)};b.prototype.NX=function(a,b,e){this.Lf.P(a,b,e)};b.prototype.Us=function(a){return this.Lf.S(a,4)};b.prototype.wK=function(a,b){this.Lf.P(a,4,b)};b.prototype.XG=function(a){return this.Lf.S(a,5)};b.prototype.qC=function(a,b){this.Lf.P(a,5,b)};b.prototype.bH=function(a){return this.Lf.S(a,6)};b.prototype.EK=function(a,b){this.Lf.P(a,6,b)};b.prototype.Yv=function(a){return this.Lf.S(a,7)};b.prototype.kA=function(a){return this.Lf.S(a,
8)};b.prototype.Ox=function(a,b){this.Lf.P(a,7,b)};b.prototype.Ux=function(a,b){this.Lf.P(a,8,b)};b.prototype.BT=function(a){return this.Lf.S(a,9)};b.prototype.sl=function(a,b){this.Lf.P(a,9,b)};b.prototype.Vv=function(a){return this.Lf.S(a,10)};b.prototype.AK=function(a,b){this.Lf.P(a,10,b)};b.prototype.aT=function(a){return this.yi.S(a,0)};b.prototype.nC=function(a,b){this.yi.P(a,0,b)};b.prototype.HT=function(a){return this.yi.S(a,1)};b.prototype.$v=function(a){return this.yi.S(a,2)};b.prototype.Sx=
function(a,b){this.yi.P(a,1,b)};b.prototype.Px=function(a,b){this.yi.P(a,2,b)};b.prototype.gH=function(a){return this.yi.S(a,3)};b.prototype.gY=function(a,b){this.yi.P(a,3,b)};b.prototype.Tv=function(a){return this.yi.S(a,4)};b.prototype.KX=function(a,b){this.yi.P(a,4,b)};b.prototype.Jz=function(a){return this.st[a]};b.prototype.JX=function(a,b){this.st[a].I(b)};return b}();d.gq=l})(p||(p={}));(function(d){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(d.zM||
(d.zM={}));var f=function(){function b(a,b){this.Dh=null;this.NV=b;this.Dh=a}b.prototype.Kx=function(a,b){this.uI!=b&&a.flush();this.uI=b};b.prototype.pG=function(a,b){for(var c=0;c<b;)for(var d=a[c++],h=a[c++],f=a[c++]*this.NV;d<h;d++)this.Dh[f+(d>>4)]|=this.uI<<2*(d&15)};return b}();d.i_=f;var l=function(){function b(a,b,e){this.Dh=null;this.yB=this.jl=this.pJ=this.nJ=this.At=this.CI=this.hg=this.Hn=0;this.qj=this.kl=this.$l=null;this.kw(a,b,e)}b.create=function(a,c,e){if(!b.bz(a))throw d.g.F();
return b.fe(a,c,e)};b.Cj=function(a,c,e){if(!b.bz(a))throw d.g.F();return b.se(a,c,e)};b.kX=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw d.g.X("Internal Error");}return a};b.bz=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.mS=function(a,b){b=b.Fa();for(var c=new d.b,g=new d.b;b.Ya();)for(;b.Ea();){var h=b.ba();if(322!=h.G())throw d.g.X("Internal Error");a.$h(h.ec(),c);a.$h(h.Cc(),g);this.qj.Qy(c.x,c.y,g.x,g.y)}this.qj.YJ(d.zy.py)};
b.prototype.nS=function(){throw d.g.X("Internal Error");};b.prototype.Bz=function(a,b){for(var c=1;4>c;c++)a.Qy(b[c-1].x,b[c-1].y,b[c].x,b[c].y);a.Qy(b[3].x,b[3].y,b[0].x,b[0].y);this.qj.YJ(d.zy.py)};b.prototype.dL=function(a,b,e){for(var c=[null,null,null,null],h=0;h<c.length;h++)c[h]=new d.b;b=b.Fa();e=this.kl.YY(e)+1.5;for(var h=new d.b,f=new d.b,l=new d.b,k=new d.b,m=new d.b,p=new d.h,n=new d.b;b.Ya();){var r=!1,t=!0;for(n.ka(0,0);b.Ea();){var A=b.ba();k.x=A.ua;k.y=A.ra;m.x=A.sa;m.y=A.oa;p.Oa();
p.Nb(k.x,k.y);p.ml(m.x,m.y);if(this.$l.TH(p)){this.kl.$h(m,m);t?(this.kl.$h(k,k),n.L(k),t=!1):k.L(n);h.zc(m,k);var A=h.length(),z=.5>A;0==A?h.ka(1,0):(z||n.L(m),h.scale(e/A),f.ka(-h.y,h.x),l.ka(h.y,-h.x),k.sub(h),m.add(h),c[0].add(k,f),c[1].add(k,l),c[2].add(m,l),c[3].add(m,f),z?r=!0:this.Bz(a,c))}else r&&(this.Bz(a,c),r=!1),t=!0}r&&this.Bz(a,c)}};b.prototype.UC=function(a){return d.J.truncate(a*this.CI+this.nJ)};b.prototype.VC=function(a){return d.J.truncate(a*this.At+this.pJ)};b.fe=function(a,c,
e){return new b(a,c,e)};b.se=function(a,c,e){return new b(a,c,e)};b.prototype.kw=function(a,b,e){this.hg=Math.max(d.J.truncate(2*Math.sqrt(e)+.5),64);this.Hn=d.J.truncate((2*this.hg+31)/32);this.$l=new d.h;this.jl=b;e=0;for(var c=this.hg,h=this.Hn;8<=c;)e+=c*h,c=d.J.truncate(c/2),h=d.J.truncate((2*c+31)/32);this.Dh=d.J.gf(e,0);this.qj=new d.zy;e=new f(this.Dh,this.Hn,this);this.qj.vY(this.hg,this.hg,e);a.s(this.$l);this.$l.O(b,b);var c=new d.h,h=d.h.pa(1,1,this.hg-2,this.hg-2),q=b*h.N();b*=h.fa();
c.I(this.$l.Wf(),Math.max(q,this.$l.N()),Math.max(b,this.$l.fa()));this.yB=this.jl;this.kl=new d.Hd;this.kl.kU(c,h);new d.Hd;switch(a.G()){case 550:e.Kx(this.qj,2);this.nS();break;case 1607:e.Kx(this.qj,2);this.dL(this.qj,a,this.yB);break;case 1736:e.Kx(this.qj,1),this.mS(this.kl,a),e.Kx(this.qj,2),this.dL(this.qj,a,this.yB)}this.CI=this.kl.lb;this.At=this.kl.gb;this.nJ=this.kl.Wb;this.pJ=this.kl.bc;this.$P()};b.prototype.$P=function(){this.qj.flush();for(var a=0,b=this.hg*this.Hn,e=this.hg,g=d.J.truncate(this.hg/
2),h=this.Hn,f=d.J.truncate((2*g+31)/32);8<e;){for(e=0;e<g;e++)for(var l=2*e,k=2*e+1,m=0;m<g;m++){var p=2*m,n=2*m+1,r=p>>4,p=2*(p&15),t=n>>4,n=2*(n&15),A=this.Dh[a+h*l+r]>>p&3,A=A|this.Dh[a+h*l+t]>>n&3,A=A|this.Dh[a+h*k+r]>>p&3,A=A|this.Dh[a+h*k+t]>>n&3;this.Dh[b+f*e+(m>>4)]|=A<<2*(m&15)}e=g;h=f;a=b;g=d.J.truncate(e/2);f=d.J.truncate((2*g+31)/32);b=a+h*e}};b.prototype.rm=function(a,b){if(!this.$l.contains(a,b))return 0;a=this.UC(a);b=this.VC(b);if(0>a||a>=this.hg||0>b||b>=this.hg)return 0;a=this.Dh[this.Hn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Rn=function(a){if(!a.Ma(this.$l))return 0;var b=this.UC(a.o),e=this.UC(a.v),g=this.VC(a.A);a=this.VC(a.B);0>b&&(b=0);0>g&&(g=0);e>=this.hg&&(e=this.hg-1);a>=this.hg&&(a=this.hg-1);if(b>e||g>a)return 0;for(var h=Math.max(e-b,1)*Math.max(a-g,1),f=0,l=this.Hn,k=this.hg,m=0;;){if(32>h||16>k){for(h=g;h<=a;h++)for(var p=b;p<=e;p++)if(m=this.Dh[f+l*h+(p>>4)]>>2*(p&15)&3,1<m)return 2;if(0==m)return 0;if(1==m)return 1}f+=l*k;k=d.J.truncate(k/2);l=d.J.truncate((2*
k+31)/32);b=d.J.truncate(b/2);g=d.J.truncate(g/2);e=d.J.truncate(e/2);a=d.J.truncate(a/2);h=Math.max(e-b,1)*Math.max(a-g,1)}};b.prototype.KT=function(){return this.hg*this.Hn};return b}();d.xy=l})(p||(p={}));(function(d){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(d.RN||(d.RN={}));var f=
function(){function b(){}b.pa=function(a,c,e,d,h,f,l,k){var g=new b;g.bx=a;g.zn=c;g.ek=e;g.rj=d;g.RI=h;g.G_=f;g.H_=l;g.I_=k;return g};return b}(),l=function(){function b(){}b.TE=function(a,c,e){if(!b.cz(a))return!1;var g=d.na.ah(c,a,!1);c=!1;d.wl.JF(a)&&(c=c||a.Xu(g,e));g=a.G();1736!=g&&1607!=g||!d.wl.HF(a)||0==e||(c=c||a.Hj(e));1736!=g&&1607!=g||!d.wl.IF(a)||0==e||(c=c||a.BO());return c};b.cz=function(a){return d.wl.JF(a)||d.wl.HF(a)||d.wl.IF(a)};return b}();d.Gu=l;l=function(){function b(){this.Ph=
[]}b.ZB=function(a,c,e,g,h){var f=a.G(),l=c.G();if(197==f){if(197==l)return b.rO(a,c,e,g);if(33==l)return 2==g?g=1:1==g&&(g=2),b.kG(c,a,e,g)}else if(33==f){if(197==l)return b.kG(a,c,e,g);if(33==l)return b.uO(a,c,e,g)}if(a.u()||c.u())return 4==g?!0:!1;var k=new d.h;a.s(k);var m=new d.h;c.s(m);var p=new d.h;p.I(k);p.Nb(m);e=d.na.be(e,p,!1);if(b.Ek(k,m,e))return 4==g?!0:!1;k=!1;d.xl.Oc(f)&&(f=new d.Ua(a.description),f.dc(a,!0),a=f,f=1607);d.xl.Oc(l)&&(l=new d.Ua(c.description),l.dc(c,!0),c=l,l=1607);
if(197!=f&&197!=l){if(a.tb()<c.tb()||33==f&&550==l)2==g?g=1:1==g&&(g=2)}else 1736!=f&&197!=l&&(2==g?g=1:1==g&&(g=2));switch(f){case 1736:switch(l){case 1736:k=b.gu(a,c,e,g,h);break;case 1607:k=b.On(a,c,e,g,h);break;case 33:k=b.fu(a,c,e,g,h);break;case 550:k=b.eu(a,c,e,g,h);break;case 197:k=b.dD(a,c,e,g,h)}break;case 1607:switch(l){case 1736:k=b.On(c,a,e,g,h);break;case 1607:k=b.MB(a,c,e,g,h);break;case 33:k=b.iu(a,c,e,g,h);break;case 550:k=b.hu(a,c,e,g,h);break;case 197:k=b.rD(a,c,e,g)}break;case 33:switch(l){case 1736:k=
b.fu(c,a,e,g,h);break;case 1607:k=b.iu(c,a,e,g,h);break;case 550:k=b.au(c,a,e,g,h)}break;case 550:switch(l){case 1736:k=b.eu(c,a,e,g,h);break;case 1607:k=b.hu(c,a,e,g,h);break;case 550:k=b.DB(a,c,e,g,h);break;case 33:k=b.au(a,c,e,g,h);break;case 197:k=b.RJ(a,c,e,g)}break;case 197:switch(l){case 1736:k=b.dD(c,a,e,g,h);break;case 1607:k=b.rD(c,a,e,g);break;case 550:k=b.RJ(c,a,e,g)}}return k};b.rO=function(a,c,e,g){if(a.u()||c.u())return 4==g?!0:!1;var h=new d.h,f=new d.h,l=new d.h;a.s(h);c.s(f);l.I(h);
l.Nb(f);a=d.na.be(e,l,!1);switch(g){case 4:return b.Ek(h,f,a);case 2:return b.RE(f,h,a);case 1:return b.RE(h,f,a);case 3:return b.We(h,f,a);case 8:return b.CP(h,f,a);case 32:return b.$O(h,f,a);case 16:return b.DL(h,f,a)}return!1};b.kG=function(a,c,e,g){if(a.u()||c.u())return 4==g?!0:!1;a=a.w();var h=new d.h,f=new d.h;c.s(h);f.I(a);f.Nb(h);c=d.na.be(e,f,!1);switch(g){case 4:return b.Dx(a,h,c);case 2:return b.XC(a,h,c);case 1:return b.DN(a,h,c);case 3:return b.qL(a,h,c);case 8:return b.WC(a,h,c)}return!1};
b.uO=function(a,c,e,g){if(a.u()||c.u())return 4==g?!0:!1;a=a.w();c=c.w();var h=new d.h;h.I(a);h.Nb(c);e=d.na.be(e,h,!1);switch(g){case 4:return b.MN(a,c,e);case 2:return b.eL(c,a,e);case 1:return b.eL(a,c,e);case 3:return b.yL(a,c,e)}return!1};b.gu=function(a,c,e,d,h){switch(d){case 4:return b.hS(a,c,e);case 2:return b.Ex(c,a,e,h);case 1:return b.Ex(a,c,e,h);case 3:return b.iU(a,c,e);case 8:return b.lW(a,c,e);case 32:return b.hV(a,c,e,h)}return!1};b.On=function(a,c,e,d,h){switch(d){case 4:return b.FS(a,
c,e);case 1:return b.LB(a,c,e,h);case 8:return b.vW(a,c,e,h);case 16:return b.DP(a,c,e)}return!1};b.fu=function(a,c,e,d){switch(d){case 4:return b.WR(a,c,e);case 1:return b.wO(a,c,e);case 8:return b.dW(a,c,e)}return!1};b.eu=function(a,c,e,d){switch(d){case 4:return b.BR(a,c,e);case 1:return b.tO(a,c,e);case 8:return b.SV(a,c,e);case 16:return b.tP(a,c,e)}return!1};b.dD=function(a,c,e,d,h){if(b.lQ(a,c,e))return 4==d?!0:!1;if(4==d)return!1;switch(d){case 2:return b.dX(a,c,e);case 1:return b.qO(a,c,
e);case 3:return b.fU(a,c,e);case 8:return b.kV(a,c,e,h);case 32:return b.eV(a,c,e,h);case 16:return b.EL(a,c,e,h)}return!1};b.MB=function(a,c,e,d){switch(d){case 4:return b.yZ(a,c,e);case 2:return b.nD(c,a,e);case 1:return b.nD(a,c,e);case 3:return b.OL(a,c,e);case 8:return b.tD(a,c,e);case 32:return b.cM(a,c,e);case 16:return b.pD(a,c,e)}return!1};b.iu=function(a,c,e,d){switch(d){case 4:return b.wZ(a,c,e);case 1:return b.RY(a,c,e);case 8:return b.yM(a,c,e)}return!1};b.hu=function(a,c,e,d){switch(d){case 4:return b.uZ(a,
c,e);case 1:return b.GX(a,c,e);case 8:return b.nM(a,c,e);case 16:return b.mZ(a,c,e)}return!1};b.rD=function(a,c,e,d){if(b.pZ(a,c,e))return 4==d?!0:!1;if(4==d)return!1;switch(d){case 2:return b.DM(a,c,e);case 1:return b.nX(a,c,e);case 3:return b.IL(a,c,e);case 8:return b.jM(a,c,e);case 32:return b.ZL(a,c,e);case 16:return b.eZ(a,c,e)}return!1};b.DB=function(a,c,e,d){switch(d){case 4:return b.RL(a,c,e);case 2:return b.sJ(c,a,e);case 1:return b.sJ(a,c,e);case 3:return b.bM(a,c,e);case 32:return b.HM(a,
c,e)}return!1};b.au=function(a,c,e,d){switch(d){case 4:return b.AJ(a,c,e);case 2:return b.SM(a,c,e);case 1:return b.oZ(a,c,e);case 3:return b.zx(a,c,e)}return!1};b.RJ=function(a,c,e,d){switch(d){case 4:return b.NL(a,c,e);case 2:return b.OM(a,c,e);case 1:return b.lZ(a,c,e);case 3:return b.YL(a,c,e);case 8:return b.LM(a,c,e);case 16:return b.HL(a,c,e)}return!1};b.iU=function(a,c,e){var g=new d.h,h=new d.h;a.s(g);c.s(h);if(!b.We(g,h,e))return!1;g=b.vc(a,c,!1);if(4==g||1==g||2==g)return!1;if(b.qJ(a,c,
e))return!0;g=a.Rb();h=c.Rb();return Math.abs(g-h)>4*Math.max(a.D(),c.D())*e?!1:b.OB(a,c,e,!0)};b.hS=function(a,c,e){var d=b.vc(a,c,!0);return 4==d?!0:1==d||2==d||1073741824==d?!1:b.bD(a,c,e)};b.lW=function(a,c,e){var d=b.vc(a,c,!1);return 4==d||1==d||2==d?!1:b.hD(a,c,e,null)};b.hV=function(a,c,e,d){var g=b.vc(a,c,!1);return 4==g||1==g||2==g?!1:b.cD(a,c,e,d)};b.Ex=function(a,c,e,g){var h=new d.h,f=new d.h;a.s(h);c.s(f);if(!b.Ec(h,f,e))return!1;h=b.vc(a,c,!1);return 4==h||2==h?!1:1==h?!0:b.BL(a,c,
e,g)};b.FS=function(a,c,e){var d=b.vc(a,c,!0);return 4==d?!0:1==d||1073741824==d?!1:b.bD(a,c,e)};b.vW=function(a,c,e,d){var g=b.vc(a,c,!1);return 4==g||1==g?!1:b.jD(a,c,e,d)};b.DP=function(a,c,e){var d=b.vc(a,c,!1);return 4==d||1==d?!1:b.aD(a,c,e,null)};b.LB=function(a,c,e,g){var h=new d.h,f=new d.h;a.s(h);c.s(f);if(!b.Ec(h,f,e))return!1;h=b.vc(a,c,!1);return 4==h?!1:1==h?!0:b.CL(a,c,e,g)};b.WR=function(a,b,e){return 0==d.gd.WH(a,b,e)?!0:!1};b.dW=function(a,c,e){c=c.w();return b.eD(a,c,e)};b.wO=function(a,
c,e){c=c.w();return b.AL(a,c,e)};b.BR=function(a,c,e){var g=b.vc(a,c,!1);if(4==g)return!0;if(1==g)return!1;g=new d.h;a.s(g);g.O(e,e);for(var h=new d.b,f=0;f<c.D();f++)if(c.w(f,h),g.contains(h)){var l=d.gd.ge(a,h,e);if(1==l||2==l)return!1}return!0};b.SV=function(a,b,e){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;c=new d.h;a.s(c);c.O(e,e);var h,f=!1,l;l=a;for(var k=!1,m=0;m<b.D();m++){h=b.Ba(m);if(c.contains(h))if(h=d.gd.ge(l,h,e),2==h)f=!0;else if(1==h)return!1;k||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?l=a:(l=new d.Ja,a.copyTo(l),l.Hj(1)),k=!0)}return f?!0:!1};b.tP=function(a,b,e){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;var h=new d.h,c=new d.h,f=new d.h;a.s(h);b.s(f);c.I(h);c.O(e,e);var f=h=!1,l,k;k=a;for(var m=!1,p=0;p<b.D();p++){l=b.Ba(p);c.contains(l)?(l=d.gd.ge(k,l,e),0==l?f=!0:1==l&&(h=!0)):f=!0;if(h&&f)return!0;m||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?k=a:(k=new d.Ja,a.copyTo(k),k.Hj(1)),m=!0)}return!1};b.tO=function(a,b,e){var c=new d.h,h=new d.h;a.s(c);b.s(h);
if(!this.Ec(c,h,e))return!1;h=this.vc(a,b,!1);if(4==h)return!1;if(1==h)return!0;var h=!1,f,l;l=a;for(var k=!1,m=0;m<b.D();m++){f=b.Ba(m);if(!c.contains(f))return!1;f=d.gd.ge(l,f,e);if(1==f)h=!0;else if(0==f)return!1;k||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(l=new d.Ja,a.copyTo(l),l.Hj(1)),k=!0)}return h};b.fU=function(a,c,e){var g=new d.h,h=new d.h;a.s(g);c.s(h);if(!b.We(g,h,e))return!1;g=new d.Ja;g.jd(c,!1);return b.OB(a,g,e,!0)};b.lQ=function(a,c,e){var g=b.vc(a,c,!1);if(4==g)return!0;
if(1==g||2==g)return!1;var h=new d.h,g=new d.h;a.s(h);c.s(g);if(b.Ec(g,h,e))return!1;h=new d.b;g.Tn(h);c=d.gd.ge(a,h,e);if(0!=c)return!1;g.TJ(h);c=d.gd.ge(a,h,e);if(0!=c)return!1;g.Un(h);c=d.gd.ge(a,h,e);if(0!=c)return!1;g.WJ(h);c=d.gd.ge(a,h,e);if(0!=c)return!1;c=a.Pa(0);h=new d.h;h.I(g);h.O(e,e);for(var f=0,l=a.D();f<l;f++){var k=c.read(2*f),m=c.read(2*f+1);if(h.contains(k,m))return!1}return!b.XH(a,g,e)};b.kV=function(a,c,e,g){var h=b.vc(a,c,!1);if(4==h||1==h||2==h)return!1;var h=new d.h,f=new d.h;
a.s(h);c.s(f);if(b.Ec(f,h,e))return!1;if(f.N()<=e&&f.fa()<=e)return c=c.Bq(),b.eD(a,c,e);if(f.N()<=e||f.fa()<=e)return h=new d.Ua,f=new d.Wa,c.ig(0,f),h.Rf(f),c.ig(2,f),h.lineTo(f),b.jD(a,h,e,g);h=new d.Ja;h.jd(c,!1);return b.hD(a,h,e,g)};b.eV=function(a,c,e,g){var h=b.vc(a,c,!1);if(4==h||1==h||2==h)return!1;var h=new d.h,f=new d.h;a.s(h);c.s(f);if(b.Ec(f,h,e)||f.N()<=e||f.fa()<=e)return!1;h=new d.Ja;h.jd(c,!1);return b.cD(a,h,e,g)};b.dX=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.Ec(f,
g,e)};b.qO=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(!b.Ec(g,f,e))return!1;g=b.vc(a,c,!1);if(4==g||2==g)return!1;if(1==g)return!0;if(f.N()<=e&&f.fa()<=e)return c=c.Bq(),b.AL(a,c,e);if(f.N()<=e||f.fa()<=e)return f=new d.Ua,g=new d.Wa,c.ig(0,g),f.Rf(g),c.ig(2,g),f.lineTo(g),b.CL(a,f,e,null);f=new d.Ja;f.jd(c,!1);return b.BL(a,f,e,null)};b.EL=function(a,c,e,g){var f=new d.h,l=new d.h;a.s(f);c.s(l);if(b.Ec(l,f,e)||l.fa()>e&&l.N()>e||l.fa()<=e&&l.N()<=e)return!1;f=new d.Ua;l=new d.Wa;c.ig(0,
l);f.Rf(l);c.ig(2,l);f.lineTo(l);return b.aD(a,f,e,g)};b.OL=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.We(g,f,e)&&4!=b.vc(a,c,!1)?b.qJ(a,c,e)?!0:b.OB(a,c,e,!1):!1};b.yZ=function(a,b,e){return 4==this.vc(a,b,!1)?!0:(new d.Lm(a,b,e,!0)).next()?!this.fI(a,b,e):!1};b.tD=function(a,c,e){if(4==b.vc(a,c,!1))return!1;var g=new d.Rd(0);if(0!=b.RB(a,c,e,g))return!1;for(var f=new d.Ed,l=0;l<g.size;l+=2){var k=g.read(l),m=g.read(l+1);f.lv(k,m)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return b.yx(a,
f,e)};b.pD=function(a,c,e){if(4==b.vc(a,c,!1))return!1;var g=new d.Rd(0);if(0!=b.RB(a,c,e,g))return!1;for(var f=new d.Ed,l=0;l<g.size;l+=2){var k=g.read(l),m=g.read(l+1);f.lv(k,m)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return!b.yx(a,f,e)};b.cM=function(a,c,e){return 4==b.vc(a,c,!1)?!1:b.$H(a,c,e)};b.nD=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.Ec(g,f,e)&&4!=b.vc(a,c,!1)?b.Wg(c,a,e,!1):!1};b.wZ=function(a,c,e){if(4==b.vc(a,c,!1))return!0;c=c.w();return!b.HA(a,c,e)};b.yM=function(a,
c,e){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.gC(a,c,e)};b.RY=function(a,c,e){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.yH(a,c,e)};b.uZ=function(a,c,e){return 4==b.vc(a,c,!1)?!0:!b.ZH(a,c,e,!1)};b.nM=function(a,b,e){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),f=new d.h,l=new d.h,k=new d.h;a.s(f);b.s(l);f.O(e,e);l.O(e,e);k.I(f);k.Ma(l);var m,p,f=null;m=a.ob;null!=m?(p=m.Mb,f=m.np,null==p&&(p=m=d.na.Lj(a,k))):p=m=d.na.Lj(a,k);var n=p.mf(),r=null;null!=f&&(r=f.mf());var t=new d.b,A=new d.b,z=
!1,v=e*e,f=new d.Fm(b.D());for(m=0;m<b.D();m++)f.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,t),k.contains(t))if(l.I(t.x,t.y,t.x,t.y),null==r||(r.Ni(l,e),-1!=r.next())){n.Ni(l,e);for(var x=n.next();-1!=x;x=n.next())if(c.Tb(p.ja(x)),x=c.ba(),x.gc(x.pe(t,!1),A),d.b.sc(t,A)<=v){f.write(m,1);z=!0;break}}if(!z)return!1;a=a.Gg();c=new d.Ed;l=new d.b;for(m=0;m<b.D();m++)0!=f.read(m)&&(b.w(m,l),c.lv(l.x,l.y));return this.yx(a,c,e)};b.mZ=function(a,b,e){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),f=new d.h,l=
new d.h,k=new d.h;a.s(f);b.s(l);f.O(e,e);l.O(e,e);k.I(f);k.Ma(l);var m,p,f=null;m=a.ob;null!=m?(p=m.Mb,f=m.np,null==p&&(p=m=d.na.Lj(a,k))):p=m=d.na.Lj(a,k);var n=p.mf(),r=null;null!=f&&(r=f.mf());var t=new d.b,A=new d.b,z=!1,v=!1,x=e*e,f=new d.Fm(b.D());for(m=0;m<b.D();m++)f.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,t),k.contains(t))if(l.I(t.x,t.y,t.x,t.y),null!=r&&(r.Ni(l,e),-1==r.next()))v=!0;else{n.Ni(l,e);for(var w=!1,C=n.next();-1!=C;C=n.next())if(c.Tb(p.ja(C)),C=c.ba(),C.gc(C.pe(t,!1),A),d.b.sc(t,
A)<=x){f.write(m,1);w=z=!0;break}w||(v=!0)}else v=!0;if(!z||!v)return!1;a=a.Gg();c=new d.Ed;l=new d.b;for(m=0;m<b.D();m++)0!=f.read(m)&&(b.w(m,l),c.lv(l.x,l.y));return!this.yx(a,c,e)};b.GX=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(!b.Ec(g,f,e)||4==b.vc(a,c,!1)||!b.ZH(a,c,e,!0))return!1;a=a.Gg();return!b.CJ(a,c,e)};b.IL=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return f.fa()>e&&f.N()>e?!1:b.We(g,f,e)};b.pZ=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.Ec(f,
g,e)?!1:!b.XH(a,f,e)};b.jM=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(f.fa()<=e&&f.N()<=e)return f=c.Bq(),b.gC(a,f,e);if(f.fa()<=e||f.N()<=e)return f=new d.Ua,g=new d.Wa,c.ig(0,g),f.Rf(g),c.ig(2,g),f.lineTo(g),b.tD(a,f,e);a=a.Fa();c=new d.h;g=new d.h;c.I(f);g.I(f);c.O(-e,-e);g.O(e,e);for(var f=!1,l=new d.h,k=new d.h;a.Ya();)for(;a.Ea();){a.ba().s(l);k.I(c);k.Ma(l);if(!k.u()&&(k.fa()>e||k.N()>e))return!1;k.I(g);k.Ma(l);k.u()||(f=!0)}return f};b.ZL=function(a,c,e){var g=new d.h,f=new d.h;
a.s(g);c.s(f);if(b.Ec(g,f,e)||b.Ec(f,g,e)||b.Ec(f,g,e)||f.fa()>e&&f.N()>e||f.fa()<=e&&f.N()<=e)return!1;g=new d.Ua;f=new d.Wa;c.ig(0,f);g.Rf(f);c.ig(2,f);g.lineTo(f);return b.$H(a,g,e)};b.DM=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(!b.Ec(f,g,e)||f.fa()<=e&&f.N()<=e)return!1;if(f.fa()<=e||f.N()<=e)return b.Ec(f,g,e);a=a.Fa();c=new d.h;c.I(f);c.O(-e,-e);for(var f=!1,g=new d.h,l=new d.h;a.Ya();)for(;a.Ea();)a.ba().s(g),c.Tm(g)?f=!0:(l.I(c),l.Ma(g),!l.u()&&(l.fa()>e||l.N()>e)&&(f=!0));
return f};b.nX=function(a,c,e){var g=new d.h,f=new d.h;c.s(f);a.s(g);if(!b.Ec(g,f,e)||f.fa()>e&&f.N()>e)return!1;if(f.fa()<=e&&f.N()<=e)return c=c.Bq(),b.yH(a,c,e);g=new d.Ua;f=new d.Wa;c.ig(0,f);g.Rf(f);c.ig(2,f);g.lineTo(f);return b.Wg(g,a,e,!1)};b.eZ=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(b.Ec(f,g,e)||f.fa()<=e&&f.N()<=e)return!1;if(f.fa()<=e||f.N()<=e)return g=new d.Ua,f=new d.Wa,c.ig(0,f),g.Rf(f),c.ig(2,f),g.lineTo(f),b.pD(a,g,e);a=a.Fa();c=new d.h;g=new d.h;g.I(f);c.I(f);g.O(-e,
-e);c.O(e,e);for(var l=f=!1,k=new d.h,m=new d.h;a.Ya();)for(;a.Ea();)if(a.ba().s(k),l||c.contains(k)||(l=!0),f||(m.I(g),m.Ma(k),!m.u()&&(m.fa()>e||m.N()>e)&&(f=!0)),f&&l)return!0;return!1};b.bM=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.We(g,f,e)?b.iM(a,c,e)?!0:b.QC(a,c,e,!1,!0,!1):!1};b.RL=function(a,c,e){return!b.CJ(a,c,e)};b.HM=function(a,c,e){return b.QC(a,c,e,!1,!1,!0)};b.sJ=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.Ec(g,f,e)?b.QC(c,a,e,!0,!1,!1):!1};
b.yx=function(a,b,e){e*=e;for(var c=new d.b,f=new d.b,l=0;l<b.D();l++){b.w(l,f);for(var k=!1,m=0;m<a.D();m++)if(a.w(m,c),d.b.sc(c,f)<=e){k=!0;break}if(!k)return!1}return!0};b.zx=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return b.We(g,f,e)};b.AJ=function(a,c,e){c=c.w();return b.$t(a,c,e)};b.SM=function(a,c,e){return b.zx(a,c,e)};b.oZ=function(a,c,e){return!b.AJ(a,c,e)};b.YL=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);return f.fa()>e||f.N()>e?!1:b.We(g,f,e)};b.NL=function(a,c,
e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(b.Ec(f,g,e))return!1;c=new d.h;c.I(f);c.O(e,e);e=new d.b;for(f=0;f<a.D();f++)if(a.w(f,e),c.contains(e))return!1;return!0};b.LM=function(a,b,e){var c=new d.h,f=new d.h,l=new d.h;b.s(c);if(c.fa()<=e&&c.N()<=e)return!1;if(c.fa()<=e||c.N()<=e){b=new d.b;var k=!1;f.I(c);l.I(c);f.O(e,e);c.fa()>e?l.O(0,-e):l.O(-e,0);for(var m=0;m<a.D();m++)if(a.w(m,b),f.contains(b)){if(c.fa()>e){if(b.y>l.A&&b.y<l.B)return!1}else if(b.x>l.o&&b.x<l.v)return!1;k=!0}return k}f.I(c);
l.I(c);f.O(e,e);l.O(-e,-e);b=new d.b;k=!1;for(m=0;m<a.D();m++)if(a.w(m,b),f.contains(b)){if(l.Tm(b))return!1;k=!0}return k};b.OM=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(!b.Ec(f,g,e))return!1;if(f.fa()<=e&&f.N()<=e)return b.We(g,f,e);if(f.fa()<=e||f.N()<=e){c=!1;var g=new d.h,l=new d.h;g.I(f);l.I(f);f.fa()>e?g.O(0,-e):g.O(-e,0);l.O(e,e);for(var k=new d.b,m=0;m<a.D();m++){a.w(m,k);if(!l.contains(k))return!1;f.fa()>e?k.y>g.A&&k.y<g.B&&(c=!0):k.x>g.o&&k.x<g.v&&(c=!0)}return c}c=!1;g=
new d.h;l=new d.h;g.I(f);l.I(f);g.O(-e,-e);l.O(e,e);k=new d.b;for(m=0;m<a.D();m++){a.w(m,k);if(!l.contains(k))return!1;g.Tm(k)&&(c=!0)}return c};b.lZ=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(!b.Ec(g,f,e)||f.fa()>e||f.N()>e)return!1;c=c.Bq();return!b.$t(a,c,e)};b.HL=function(a,c,e){var g=new d.h,f=new d.h;a.s(g);c.s(f);if(b.Ec(f,g,e)||f.fa()<=e&&f.N()<=e)return!1;if(f.fa()<=e||f.N()<=e){c=new d.h;g=new d.h;c.I(f);f.fa()>e?c.O(0,-e):c.O(-e,0);g.I(f);g.O(e,e);for(var l=new d.b,k=!1,m=
!1,p=0;p<a.D();p++)if(a.w(p,l),k||(f.fa()>e?l.y>c.A&&l.y<c.B&&(k=!0):l.x>c.o&&l.x<c.v&&(k=!0)),m||g.contains(l)||(m=!0),k&&m)return!0;return!1}c=new d.h;g=new d.h;c.I(f);c.O(-e,-e);g.I(f);g.O(e,e);l=new d.b;m=k=!1;for(p=0;p<a.D();p++)if(a.w(p,l),!k&&c.Tm(l)&&(k=!0),m||g.contains(l)||(m=!0),k&&m)return!0;return!1};b.yL=function(a,b,e){return d.b.sc(a,b)<=e*e?!0:!1};b.MN=function(a,b,e){return d.b.sc(a,b)>e*e?!0:!1};b.eL=function(a,c,e){return b.yL(a,c,e)};b.qL=function(a,c,e){var g=new d.h;g.I(a);
return b.We(g,c,e)};b.Dx=function(a,b,e){var c=new d.h;c.I(b);c.O(e,e);return!c.contains(a)};b.WC=function(a,b,e){if(b.fa()<=e&&b.N()<=e)return!1;var c=new d.h,f=new d.h;c.I(b);c.O(e,e);if(!c.contains(a))return!1;if(b.fa()<=e||b.N()<=e){f.I(b);b.fa()>e?f.O(0,-e):f.O(-e,0);if(b.fa()>e){if(a.y>f.A&&a.y<f.B)return!1}else if(a.x>f.o&&a.x<f.v)return!1;return!0}f.I(b);f.O(-e,-e);return f.Tm(a)?!1:!0};b.XC=function(a,b,e){if(b.fa()<=e&&b.N()<=e)return!0;if(b.fa()<=e||b.N()<=e){var c=new d.h;c.I(b);b.fa()>
e?c.O(0,-e):c.O(-e,0);var f=!1;b.fa()>e?a.y>c.A&&a.y<c.B&&(f=!0):a.x>c.o&&a.x<c.v&&(f=!0);return f}c=new d.h;c.I(b);c.O(-e,-e);return c.Tm(a)};b.DN=function(a,c,e){return b.qL(a,c,e)};b.We=function(a,c,e){return b.Ec(a,c,e)&&b.Ec(c,a,e)};b.Ek=function(a,b,e){var c=new d.h;c.I(b);c.O(e,e);return!a.Yb(c)};b.CP=function(a,c,e){if(a.fa()<=e&&a.N()<=e){var g=a.Wf();return b.WC(g,c,e)}if(c.fa()<=e&&c.N()<=e)return g=c.Wf(),b.WC(g,a,e);a.fa()>e&&a.N()>e&&(c.fa()<=e||c.N()<=e)?g=c:(g=a,a=c);if(g.fa()<=e||
g.N()<=e){if(a.fa()<=e||a.N()<=e){c=new d.Hb;var f=new d.Hb,l=[0,0],k=[0,0],m=new d.b;g.Tn(m);c.Mc(m);g.Un(m);c.Zc(m);a.Tn(m);f.Mc(m);a.Un(m);f.Zc(m);c.Ma(f,null,l,k,e);return 1!=c.Ma(f,null,null,null,e)?!1:0==l[0]||1==l[1]||0==k[0]||1==k[1]}c=new d.h;f=new d.h;c.I(a);c.O(-e,-e);f.I(c);f.Ma(g);return!f.u()&&(f.fa()>e||f.N()>e)?!1:!0}a.O(e,e);f=new d.h;f.I(g);f.Ma(a);return f.u()||!f.u()&&f.fa()>e&&f.N()>e?!1:!0};b.$O=function(a,c,e){if(b.Ec(a,c,e)||b.Ec(c,a,e)||a.fa()<=e&&a.N()<=e||c.fa()<=e&&c.N()<=
e)return!1;if(a.fa()<=e||a.N()<=e){if(c.fa()>e&&c.N()>e)return!1;var g=new d.Hb,f=new d.Hb,l=[0,0],k=[0,0],m=new d.b;a.Tn(m);g.Mc(m);a.Un(m);g.Zc(m);c.Tn(m);f.Mc(m);c.Un(m);f.Zc(m);g.Ma(f,null,l,k,e);return 2!=g.Ma(f,null,null,null,e)?!1:(0<l[0]||1>l[1])&&(0<k[0]||1>k[1])}if(c.fa()<=e||c.N()<=e)return!1;g=new d.h;g.I(a);g.Ma(c);return g.u()||g.fa()<=e||g.N()<=e?!1:!0};b.RE=function(a,c,e){if(!b.Ec(a,c,e))return!1;if(a.fa()<=e&&a.N()<=e)return a=a.Wf(),b.XC(a,c,e);if(c.fa()<=e&&c.N()<=e)return c=c.Wf(),
b.XC(c,a,e);if(a.fa()<=e||a.N()<=e)return b.Ec(a,c,e);if(c.fa()<=e||c.N()<=e){var g=new d.h;g.I(a);g.O(-e,-e);if(g.Tm(c))return!0;a=new d.h;a.I(g);a.Ma(c);return a.u()||a.fa()<=e&&a.N()<=e?!1:!0}return b.Ec(a,c,e)};b.DL=function(a,c,e){if(b.Ec(a,c,e)||b.Ec(c,a,e)||a.fa()<=e&&a.N()<=e||c.fa()<=e&&c.N()<=e||c.fa()>e&&c.N()>e&&a.fa()>e&&a.N()>e)return!1;var g;a.fa()>e&&a.N()>e?g=c:(g=a,a=c);if(a.fa()>e&&a.N()>e){c=new d.h;var f=new d.h;f.I(a);f.O(-e,-e);c.I(f);c.Ma(g);return c.u()||c.fa()<=e&&c.N()<=
e?!1:!0}c=new d.Hb;var f=new d.Hb,l=[0,0],k=[0,0],m=new d.b;g.Tn(m);c.Mc(m);g.Un(m);c.Zc(m);a.Tn(m);f.Mc(m);a.Un(m);f.Zc(m);c.Ma(f,null,l,k,e);return 1!=c.Ma(f,null,null,null,e)?!1:0<l[0]&&1>l[1]&&0<k[0]&&1>k[1]};b.bD=function(a,b,e){var c,f,l=new d.h,k=new d.h,m=new d.Lm(a,b,e,!0);if(!m.next())return!0;if(this.fI(a,b,e))return!1;var p;p=a;var n;n=null;1736==b.G()&&(n=b);var r=!1,t=!1;do{c=m.Ql();f=m.Ml();f=b.Ba(b.wa(f));l.I(m.eA());l.O(e,e);if(l.contains(f)&&(f=d.gd.ge(p,f,0),0!=f)||1736==b.G()&&
(c=a.Ba(a.wa(c)),k.I(m.Iz()),k.O(e,e),k.contains(c)&&(f=d.gd.ge(n,c,0),0!=f)))return!1;r||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?p=a:(p=new d.Ja,a.copyTo(p),p.Hj(1)),r=!0);1736!=b.G()||t||(t=b,!d.ff.qm(t,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?n=b:(n=new d.Ja,t.copyTo(n),n.Hj(1)),t=!0)}while(m.next());return!0};b.Ec=function(a,b,e){var c=new d.h;c.I(a);c.O(e,e);return c.contains(b)};b.Yp=function(a,b,e){var c=new d.h;c.I(b);c.O(e,e);b=new d.b;a.Tn(b);if(!c.contains(b))return!0;a.TJ(b);if(!c.contains(b))return!0;
a.WJ(b);if(!c.contains(b))return!0;a.Un(b);return c.contains(b)?!1:!0};b.qJ=function(a,b,e){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var c=new d.b,f=new d.b,l=!0;e*=e;for(var k=0;k<a.aa();k++){if(a.Gc(k)!=b.Gc(k)){l=!1;break}for(var m=a.wa(k);m<b.Gc(k);m++)if(a.w(m,c),b.w(m,f),d.b.sc(c,f)>e){l=!1;break}if(!l)break}return l?!0:!1};b.iM=function(a,b,e){if(a.D()!=b.D())return!1;var c=new d.b,f=new d.b,l=!0;e*=e;for(var k=0;k<a.D();k++)if(a.w(k,c),b.w(k,f),d.b.sc(c,f)>e){l=!1;break}return l?!0:!1};b.QC=
function(a,b,e,g,f,l){var c=!1,h;a.D()>b.D()?(g&&(g=!1,c=!0),h=b):(h=a,a=b);b=null;if(f||l||c){b=new d.Fm(a.D());for(var q=0;q<a.D();q++)b.write(q,0)}var q=new d.h,k=new d.h,m=new d.h;h.s(q);a.s(k);q.O(e,e);k.O(e,e);m.I(q);m.Ma(k);for(var k=new d.b,p=new d.b,n=!0,r=d.na.BF(a,m),t=r.mf(),A=e*e,z=0;z<h.D();z++)if(h.w(z,k),m.contains(k)){var v=!1;q.I(k.x,k.y,k.x,k.y);t.Ni(q,e);for(var x=t.next();-1!=x&&!(x=r.ja(x),a.w(x,p),d.b.sc(k,p)<=A&&((f||l||c)&&b.write(x,1),v=!0,g));x=t.next());if(!v&&(n=!1,f||
g))return!1}else{if(f||g)return!1;n=!1}if(l&&n)return!1;if(g)return!0;for(q=0;q<a.D();q++)if(1==b.read(q)){if(l)return!0}else if(f||c)return!1;return l?!1:!0};b.CJ=function(a,b,e){var c;a.D()>b.D()?c=b:(c=a,a=b);b=new d.h;var f=new d.h,l=new d.h;c.s(b);a.s(f);b.O(e,e);f.O(e,e);l.I(b);l.Ma(f);for(var f=new d.b,k=new d.b,m=e*e,p=d.na.BF(a,l),n=p.mf(),r=0;r<c.D();r++)if(c.w(r,f),l.contains(f)){b.I(f.x,f.y,f.x,f.y);n.Ni(b,e);for(var t=n.next();-1!=t;t=n.next())if(a.w(p.ja(t),k),d.b.sc(f,k)<=m)return!0}return!1};
b.OB=function(a,c,e,d){return b.Wg(a,c,e,d)&&b.Wg(c,a,e,d)};b.Wg=function(a,c,e,g){function h(a,b){return r.WF(a,b)}var l=!0,k=[0,0],m=[0,0],p=0,n=new d.ia(0),r=new b,t,A=new d.h,z=new d.h,v=new d.h;a.s(A);c.s(z);A.O(e,e);z.O(e,e);v.I(A);v.Ma(z);a=a.Fa();var z=c.Fa(),x=null,w=x=null,C=c.ob;null!=C?(x=C.Mb,w=C.np,null==x&&(x=d.na.Lj(c,v))):x=d.na.Lj(c,v);c=x.mf();C=null;for(null!=w&&(C=w.mf());a.Ya();)for(;a.Ea();){var B=!1,D=a.ba();D.s(A);if(!A.Yb(v))return!1;if(null!=C&&(C.Ni(A,e),-1==C.next()))return l=
!1;w=D.Rb();c.Wn(D,e);for(t=c.next();-1!=t;t=c.next()){z.Tb(x.ja(t));t=z.ba();var E=D.Ma(t,null,k,m,e);if(2==E&&(!g||m[0]<=m[1])){var E=k[0],F=k[1],G=m[0],I=m[1];if(E*w<=e&&(1-F)*w<=e){B=!0;p=0;n.resize(0);r.Ph.length=0;for(var H=a.Db(),G=!0;G;){if(a.Ea()){D=a.ba();w=D.Rb();E=D.Ma(t,null,k,m,e);if(2==E&&(!g||m[0]<=m[1])&&(E=k[0],F=k[1],E*w<=e&&(1-F)*w<=e)){H=a.Db();continue}if(z.Ea()&&(t=z.ba(),E=D.Ma(t,null,k,m,e),2==E&&(!g||m[0]<=m[1])&&(E=k[0],F=k[1],E*w<=e&&(1-F)*w<=e))){H=a.Db();continue}}G=
!1}H!=a.Db()&&(a.Tb(H),a.ba());break}else H=a.Db(),t=f.pa(H,a.Ta,E,F,z.Db(),z.Ta,G,I),r.Ph.push(t),n.add(n.size)}}if(!B){if(p==r.Ph.length)return!1;1<n.size-p&&n.Gd(p,n.size,h);for(B=0;p<r.Ph.length;p++)if(t=r.Ph[n.get(p)],!(t.ek<B&&t.rj<B)){if(w*(t.ek-B)>e)return!1;B=t.rj;if(w*(1-B)<=e||1==B)break}if(w*(1-B)>e)return!1;p=0;n.resize(0);r.Ph.length=0}}return l};b.$H=function(a,c,e){if(1>b.RB(a,c,e,null))return!1;var g=new d.h,f=new d.h;a.s(g);c.s(f);var l=b.Yp(g,f,e),g=b.Yp(f,g,e);return l&&g?!0:l&&
!g?!b.Wg(c,a,e,!1):g&&!l?!b.Wg(a,c,e,!1):!b.Wg(a,c,e,!1)&&!b.Wg(c,a,e,!1)};b.RB=function(a,c,e,g){function h(a,b){return z.WF(a,b)}var l,k;a.iA()>c.iA()?(l=c,k=a):(l=a,k=c);a=l.Fa();c=k.Fa();var m=[0,0],p=[0,0],n=-1,r=0,t,A=new d.ia(0),z=new b,v,x=new d.h,w=new d.h,C=new d.h;l.s(x);k.s(w);x.O(e,e);w.O(e,e);C.I(x);C.Ma(w);l=null;null!=g&&(l=new d.b);t=w=w=null;var B=k.ob;null!=B?(w=B.Mb,t=B.np,null==w&&(w=d.na.Lj(k,C))):w=d.na.Lj(k,C);k=w.mf();B=null;for(null!=t&&(B=t.mf());a.Ya();)for(t=0;a.Ea();){var D=
a.ba();D.s(x);if(x.Yb(C)&&(null==B||(B.Ni(x,e),-1!=B.next()))){var E=D.Rb();k.Wn(D,e);for(var F=k.next();-1!=F;F=k.next()){var G=w.ja(F);c.Tb(G);v=c.ba();var I=v.Rb(),H=D.Ma(v,null,m,p,e);if(0<H){var F=m[0],n=p[0],R=2==H?m[1]:NaN,M=2==H?p[1]:NaN;if(2==H){if(E*(R-F)>e)return n=1;var J=E*(R-F);if(c.Ea()){v=c.ba();H=D.Ma(v,null,m,null,e);if(2==H){var H=m[0],L=m[1],H=E*(L-H);if(J+H>e)return n=1}c.Tb(G);c.ba()}if(!c.jn()){c.Li();v=c.Li();H=D.Ma(v,null,m,null,e);if(2==H&&(H=m[0],L=m[1],H=E*(L-H),J+H>e))return n=
1;c.Tb(G);c.ba()}if(a.Ea()){G=a.Db();D=a.ba();H=D.Ma(v,null,m,null,e);if(2==H&&(H=m[0],L=m[1],H=E*(L-H),J+H>e))return n=1;a.Tb(G);a.ba()}if(!a.jn()){G=a.Db();a.Li();D=a.Li();H=D.Ma(v,null,m,null,e);if(2==H&&(H=m[0],L=m[1],H=I*(L-H),J+H>e))return n=1;a.Tb(G);a.ba()}v=f.pa(a.Db(),a.Ta,F,R,c.Db(),c.Ta,n,M);z.Ph.push(v);A.add(A.size)}n=0;null!=g&&(D.gc(F,l),g.add(l.x),g.add(l.y))}}if(r<z.Ph.length){A.Gd(r,A.size,h);D=0;for(F=z.Ph[A.get(r)].zn;r<z.Ph.length;r++)if(v=z.Ph[A.get(r)],!(v.ek<D&&v.rj<D))if(E*
(v.ek-D)>e)t=E*(v.rj-v.ek),D=v.rj,F=v.zn;else{v.zn!=F?(t=E*(v.rj-v.ek),F=v.zn):t+=E*(v.rj-v.ek);if(t>e)return n=1;D=v.rj;if(1==D)break}E*(1-D)>e&&(t=0);r=0;A.resize(0);z.Ph.length=0}}}return n};b.fI=function(a,b,e){var c=a.Fa(),f=b.Fa();for(a=new d.Lm(a,b,e,!1);a.next();){b=a.Ql();var l=a.Ml();c.Tb(b);f.Tb(l);b=c.ba();if(0<f.ba().Ma(b,null,null,null,e))return!0}return!1};b.ZH=function(a,b,e,g){var c=a.Fa(),f=new d.h,l=new d.h,k=new d.h;a.s(f);b.s(l);f.O(e,e);f.contains(l);l.O(e,e);k.I(f);k.Ma(l);
f=a.ob;null!=f?(f=f.Mb,null==f&&(f=d.na.Lj(a,k))):f=d.na.Lj(a,k);a=f.mf();for(var m=new d.b,p=new d.b,n=e*e,r=0;r<b.D();r++)if(b.w(r,m),k.contains(m)){l.I(m.x,m.y,m.x,m.y);a.Ni(l,e);for(var t=!1,A=a.next();-1!=A;A=a.next())if(c.Tb(f.ja(A)),A=c.ba(),A.gc(A.pe(m,!1),p),d.b.sc(p,m)<=n){t=!0;break}if(g){if(!t)return!1}else if(t)return!0}return g?!0:!1};b.HA=function(a,b,e){var c=new d.b,f=e*e,l=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var k=new d.h;k.I(b);e=a.Xz(k,e);for(k=e.next();-1!=k;k=e.next())if(l.Tb(a.ja(k)),
l.Ea()){var k=l.ba(),m=k.pe(b,!1);k.gc(m,c);if(d.b.sc(b,c)<=f)return!0}return!1}for(a=new d.h;l.Ya();)for(;l.Ea();)if(k=l.ba(),k.s(a),a.O(e,e),a.contains(b)&&(m=k.pe(b,!1),k.gc(m,c),d.b.sc(b,c)<=f))return!0;return!1};b.yH=function(a,c,e){return b.HA(a,c,e)&&!b.gC(a,c,e)};b.gC=function(a,c,e){a=a.Gg();return!b.$t(a,c,e)};b.XH=function(a,b,e){if(a.hn()){var c=new d.Hb(b.o,b.A,b.o,b.B),f=new d.Hb(b.o,b.B,b.v,b.B),l=new d.Hb(b.v,b.B,b.v,b.A);b=new d.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var k=
a.ba();if(k.Yb(c,e)||k.Yb(f,e)||k.Yb(l,e)||k.Yb(b,e))return!0}}else{c=new d.h;c.I(b);c.O(e,e);e=a.Pa(0);f=new d.b;l=new d.b;b=new d.b;for(var k=new d.b,m=0,p=a.aa();m<p;m++)for(var n=!0,r=a.wa(m),t=a.Gc(m);r<t;r++)if(n)e.fc(2*r,l),n=!1;else{e.fc(2*r,f);b.L(l);k.L(f);if(0!=c.gz(b,k))return!0;l.L(f)}}return!1};b.vc=function(a,c,e){var g=a.G(),f=c.G();if(d.T.gh(g)){var l=a.ob;if(null!=l&&(l=l.Hi,null!=l))if(33==f){var k=c.w(),k=l.rm(k.x,k.y);if(1==k)return 1;if(0==k)return 4}else{k=new d.h;c.s(k);k=
l.Rn(k);if(1==k)return 1;if(0==k)return 4;if(e&&d.T.gh(f)&&b.ZC(c,l))return 1073741824}}if(d.T.gh(f)&&(l=c.ob,null!=l&&(l=l.Hi,null!=l)))if(33==g){a=a.w();k=l.rm(a.x,a.y);if(1==k)return 2;if(0==k)return 4}else{c=new d.h;a.s(c);k=l.Rn(c);if(1==k)return 2;if(0==k)return 4;if(e&&d.T.gh(g)&&b.ZC(a,l))return 1073741824}return 0};b.ZC=function(a,b){for(var c=a.D(),g=new d.b,f=0;f<c;f++)if(a.w(f,g),1==b.rm(g.x,g.y))return!0;return!1};b.hD=function(a,b,e,g){for(var c=1<=a.Lk(0)&&1<=b.Lk(0),f=a.Fa(),l=b.Fa(),
k=[0,0],m=[0,0],p=new d.Lm(a,b,e,!1),n=!1;p.next();){var r=p.Ql(),t=p.Ml();f.Tb(r);l.Tb(t);r=f.ba();t=l.ba().Ma(r,null,m,k,e);if(2==t){n=k[0];t=k[1];r=r.Rb();if(c&&(t-n)*r>e)return!1;n=!0}else if(0!=t){n=k[0];r=m[0];if(0<n&&1>n&&0<r&&1>r)return!1;n=!0}}if(!n)return!1;f=new d.h;l=new d.h;c=new d.h;a.s(f);b.s(l);f.O(1E3*e,1E3*e);l.O(1E3*e,1E3*e);c.I(f);c.Ma(l);return 10<a.D()&&(a=d.ne.clip(a,c,e,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,e,0),b.u())?!1:d.Nm.gu(a,b,e,"F********",g)};b.cD=function(a,c,e,g){var f=
1<=a.Lk(0)&&1<=c.Lk(0),l=new d.h,k=new d.h,m=new d.h;a.s(l);c.s(k);for(var p=!1,n=b.Yp(l,k,e),r=b.Yp(k,l,e),t=a.Fa(),A=c.Fa(),z=[0,0],v=[0,0],x=new d.Lm(a,c,e,!1);x.next();){var w=x.Ql(),C=x.Ml();t.Tb(w);A.Tb(C);C=t.ba();w=A.ba().Ma(C,null,v,z,e);if(2==w){var w=z[0],B=z[1],C=C.Rb();if(f&&(B-w)*C>e&&(p=!0,n&&r))return!0}else if(0!=w&&(w=z[0],C=v[0],0<w&&1>w&&0<C&&1>C))return!0}f=new d.h;t=new d.h;f.I(l);f.O(1E3*e,1E3*e);t.I(k);t.O(1E3*e,1E3*e);m.I(f);m.Ma(t);l="";l=p?l+"**":l+"T*";if(n){if(10<c.D()&&
(c=d.ne.clip(c,m,e,0),c.u()))return!1;l+="****"}else l+="T***";if(r){if(10<a.D()&&(a=d.ne.clip(a,m,e,0),a.u()))return!1;l+="***"}else l+="T**";return d.Nm.gu(a,c,e,l.toString(),g)};b.BL=function(a,c,e,g){var f=[!1],l=b.zL(a,c,e,f);if(f[0])return l;f=new d.h;c.s(f);f.O(1E3*e,1E3*e);return 10<a.D()&&(a=d.ne.clip(a,f,e,0),a.u())?!1:d.Nm.Ex(a,c,e,g)};b.zL=function(a,b,e,g){g[0]=!1;for(var c=a.Fa(),f=b.Fa(),l=[0,0],k=[0,0],m=new d.Lm(a,b,e,!1),p=!1;m.next();){var n=m.Ql(),r=m.Ml();c.Tb(n,-1);f.Tb(r,-1);
n=c.ba();n=f.ba().Ma(n,null,k,l,e);if(0!=n&&(p=!0,1==n&&(n=l[0],r=k[0],0<n&&1>n&&0<r&&1>r)))return g[0]=!0,!1}if(!p){g[0]=!0;l=new d.h;a.s(l);l.O(e,e);m=a;p=!1;k=new d.h;g=0;for(c=b.aa();g<c;g++)if(0<b.La(g)){b.jk(g,k);if(l.Yb(k)){if(f=b.Ba(b.wa(g)),f=d.ff.kn(m,f,0),0==f)return!1}else return!1;p||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(f=new d.Ja,a.copyTo(f),f.Hj(1),m=f),p=!0)}if(1==a.aa()||1607==b.G())return!0;l=new d.h;b.s(l);l.O(e,e);k=b;m=!1;e=new d.h;g=0;for(c=a.aa();g<c;g++)if(0<
a.La(g)){a.jk(g,e);if(l.Yb(e)&&(f=a.Ba(a.wa(g)),f=d.ff.kn(k,f,0),1==f))return!1;m||(!d.ff.qm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?k=b:(f=new d.Ja,b.copyTo(f),f.Hj(1),k=f),m=!0)}return!0}return!1};b.jD=function(a,b,e,g){for(var c=a.Fa(),f=b.Fa(),l=[0,0],k=[0,0],m=new d.Lm(a,b,e,!1),p=!1;m.next();){var n=m.Ql(),r=m.Ml();c.Tb(n);f.Tb(r);n=c.ba();n=f.ba().Ma(n,null,k,l,e);if(2==n)p=!0;else if(0!=n){p=l[0];n=k[0];if(0<p&&1>p&&0<n&&1>n)return!1;p=!0}}if(!p)return!1;f=new d.h;l=new d.h;c=new d.h;a.s(f);
b.s(l);f.O(1E3*e,1E3*e);l.O(1E3*e,1E3*e);c.I(f);c.Ma(l);return 10<a.D()&&(a=d.ne.clip(a,c,e,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,e,0),b.u())?!1:d.Nm.On(a,b,e,"F********",g)};b.aD=function(a,c,e,g){for(var f=a.Fa(),l=c.Fa(),k=[0,0],m=[0,0],p=new d.Lm(a,c,e,!1),n=!1;p.next();){var r=p.Ql(),t=p.Ml();f.Tb(r);l.Tb(t);r=f.ba();r=l.ba().Ma(r,null,m,k,e);if(2==r)n=!0;else if(0!=r){n=k[0];r=m[0];if(0<n&&1>n&&0<r&&1>r)return!0;n=!0}}if(!n)return!1;l=new d.h;k=new d.h;m=new d.h;p=new d.h;f=new d.h;a.s(l);c.s(k);
return b.Yp(k,l,e)?(m.I(l),m.O(1E3*e,1E3*e),p.I(k),p.O(1E3*e,1E3*e),f.I(m),f.Ma(p),10<a.D()&&(a=d.ne.clip(a,f,e,0),a.u())||10<c.D()&&(c=d.ne.clip(c,f,e,0),c.u())?!1:e=d.Nm.On(a,c,e,"T********",g)):e=d.Nm.On(a,c,e,"T*****T**",g)};b.CL=function(a,c,e,g){var f=[!1],l=b.zL(a,c,e,f);if(f[0])return l;f=new d.h;c.s(f);f.O(1E3*e,1E3*e);return 10<a.D()&&(a=d.ne.clip(a,f,e,0),a.u())?!1:d.Nm.LB(a,c,e,g)};b.AL=function(a,b,e){return 1==d.gd.ge(a,b,e)?!0:!1};b.eD=function(a,b,e){return 2==d.gd.ge(a,b,e)?!0:!1};
b.$t=function(a,b,e){var c=new d.b;e*=e;for(var f=0;f<a.D();f++)if(a.w(f,c),d.b.sc(c,b)<=e)return!1;return!0};b.prototype.WF=function(a,b){a=this.Ph[a];b=this.Ph[b];return a.zn<b.zn||a.zn==b.zn&&(a.bx<b.bx||a.bx==b.bx&&(a.ek<b.ek||a.ek==b.ek&&(a.rj<b.rj||a.rj==b.rj&&a.RI<b.RI)))?-1:1};return b}();d.Fd=l})(p||(p={}));(function(d){var f;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]=
"BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(f||(f={}));var l;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";
b[b.PointPointPredicates=5]="PointPointPredicates"})(l||(l={}));f=function(){function b(){this.Ie=0;this.i=new d.Qu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.ga=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Fn=this.jx=-1}b.YB=function(a,b,e,g,f){if(9!=g.length)throw d.g.X("relation string length has to be 9 characters");for(var c=0;9>c;c++){var h=g.charAt(c);if("*"!=h&&"T"!=h&&"F"!=h&&"0"!=h&&"1"!=h&&"2"!=h)throw d.g.X("relation string");}c=this.FT(g,a.tb(),b.tb());if(0!=c)return d.Fd.ZB(a,
b,e,c,f);c=new d.h;a.s(c);h=new d.h;b.s(h);var l=new d.h;l.I(c);l.Nb(h);e=d.na.be(e,l,!1);a=this.bG(a,e);b=this.bG(b,e);if(a.u()||b.u())return this.sX(a,b,g);c=b.G();h=!1;switch(a.G()){case 1736:switch(c){case 1736:h=this.gu(a,b,e,g,f);break;case 1607:h=this.On(a,b,e,g,f);break;case 33:h=this.fu(a,b,e,g,f);break;case 550:h=this.eu(a,b,e,g,f)}break;case 1607:switch(c){case 1736:h=this.On(b,a,e,this.Pq(g),f);break;case 1607:h=this.MB(a,b,e,g,f);break;case 33:h=this.iu(a,b,e,g,f);break;case 550:h=this.hu(a,
b,e,g,f)}break;case 33:switch(c){case 1736:h=this.fu(b,a,e,this.Pq(g),f);break;case 1607:h=this.iu(b,a,e,this.Pq(g),f);break;case 33:h=this.GW(a,b,e,g);break;case 550:h=this.au(b,a,e,this.Pq(g),f)}break;case 550:switch(c){case 1736:h=this.eu(b,a,e,this.Pq(g),f);break;case 1607:h=this.hu(b,a,e,this.Pq(g),f);break;case 550:h=this.DB(a,b,e,g,f);break;case 33:h=this.au(a,b,e,g,f)}break;default:h=!1}return h};b.gu=function(a,c,e,g,f){var h=new b;h.xj();h.Bj(g);h.oK();var l=new d.h,k=new d.h;a.s(l);c.s(k);
g=!1;d.Fd.Ek(l,k,e)&&(h.mv(a,c),g=!0);g||(l=d.Fd.vc(a,c,!1),4==l?(h.mv(a,c),g=!0):1==l?(h.Sy(c),g=!0):2==l&&(h.lF(a),g=!0));g||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),h.Fp(g,e,f),h.tq(a,c),h.i.qh());return b.zg(h.H,h.dd)};b.Ex=function(a,c,e,g){var f=new b;f.xj();f.Bj("T*****F**");f.oK();var l=new d.h,k=new d.h;a.s(l);c.s(k);var m=!1;d.Fd.Ek(l,k,e)&&(f.mv(a,c),m=!0);m||(l=d.Fd.vc(a,c,!1),4==l?(f.mv(a,c),m=!0):1==l?(f.Sy(c),m=!0):2==l&&(f.lF(a),m=!0));if(m)return l=this.zg(f.H,f.dd);m=new d.fd;a=m.Jb(a);l=
m.Jb(c);d.sk.V(m,e,g,!1);e=m.Se(l).Gg();m.zq(0,!0,!0);d.lo.V(m,a,-1,!1,g);if(0==m.D(a))return!1;d.lo.V(m,l,-1,!1,g);f.Yr(m,g);c=0==m.D(l);if(!c&&(f.tq(a,l),f.i.qh(),l=this.zg(f.H,f.dd),!l))return l;a=m.Se(a);m=new d.fd;a=m.Jb(a);l=m.Jb(e);f.Yr(m,g);f.Ie=0;f.xj();f.Bj(c?"T*****F**":"******F**");f.hC();f.tq(a,l);f.i.qh();return l=this.zg(f.H,f.dd)};b.On=function(a,c,e,g,f){var h=new b;h.xj();h.Bj(g);h.hC();var l=new d.h,k=new d.h;a.s(l);c.s(k);g=!1;d.Fd.Ek(l,k,e)&&(h.nv(a,c),g=!0);g||(l=d.Fd.vc(a,c,
!1),4==l?(h.nv(a,c),g=!0):1==l&&(h.mF(c),g=!0));g||(g=new d.fd,a=g.Jb(a),c=g.Jb(c),h.Fp(g,e,f),h.Fh=h.i.wq(),b.pv(c,h.i,h.Fh),h.tq(a,c),h.i.xq(h.Fh),h.i.qh());return b.zg(h.H,h.dd)};b.LB=function(a,c,e,g){var f=new b;f.xj();f.Bj("T*****F**");f.hC();var l=new d.h,k=new d.h;a.s(l);c.s(k);var m=!1;d.Fd.Ek(l,k,e)&&(f.nv(a,c),m=!0);m||(l=d.Fd.vc(a,c,!1),4==l?(f.nv(a,c),m=!0):1==l&&(f.mF(c),m=!0));if(m)return e=this.zg(f.H,f.dd);m=new d.fd;a=m.Jb(a);c=m.Jb(c);f.Fp(m,e,g);if(0==m.D(a))return!1;f.tq(a,c);
f.i.qh();return e=this.zg(f.H,f.dd)};b.eu=function(a,c,e,f,h){var g=new b;g.xj();g.Bj(f);g.pK();var l=new d.h,k=new d.h;a.s(l);c.s(k);f=!1;d.Fd.Ek(l,k,e)&&(g.ov(a),f=!0);f||(l=d.Fd.vc(a,c,!1),4==l?(g.ov(a),f=!0):1==l&&(g.BP(),f=!0));f||(f=new d.fd,a=f.Jb(a),c=f.Jb(c),g.Fp(f,e,h),g.lz(a,c),g.i.qh());return b.zg(g.H,g.dd)};b.MB=function(a,c,e,f,h){var g=new b;g.xj();g.Bj(f);g.ZX();f=new d.h;var l=new d.h;a.s(f);c.s(l);var k=!1;d.Fd.Ek(f,l,e)&&(g.dI(a,c),k=!0);k||4!=d.Fd.vc(a,c,!1)||(g.dI(a,c),k=!0);
k||(f=new d.fd,a=f.Jb(a),c=f.Jb(c),g.Fp(f,e,h),g.xi=g.i.wq(),g.Fh=g.i.wq(),b.pv(a,g.i,g.xi),b.pv(c,g.i,g.Fh),g.tq(a,c),g.i.xq(g.xi),g.i.xq(g.Fh),g.i.qh());return b.zg(g.H,g.dd)};b.hu=function(a,c,e,f,h){var g=new b;g.xj();g.Bj(f);g.DK();f=new d.h;var l=new d.h;a.s(f);c.s(l);var k=!1;d.Fd.Ek(f,l,e)&&(g.GA(a),k=!0);k||4!=d.Fd.vc(a,c,!1)||(g.GA(a),k=!0);k||(f=new d.fd,a=f.Jb(a),c=f.Jb(c),g.Fp(f,e,h),g.xi=g.i.wq(),b.pv(a,g.i,g.xi),g.lz(a,c),g.i.xq(g.xi),g.i.qh());return b.zg(g.H,g.dd)};b.DB=function(a,
c,e,f,h){var g=new b;g.xj();g.Bj(f);g.IK();f=new d.h;var l=new d.h;a.s(f);c.s(l);var k=!1;d.Fd.Ek(f,l,e)&&(g.GJ(),k=!0);k||(f=new d.fd,a=f.Jb(a),c=f.Jb(c),g.Fp(f,e,h),g.lz(a,c),g.i.qh());return b.zg(g.H,g.dd)};b.fu=function(a,c,e,f){var g=new b;g.xj();g.Bj(f);g.pK();var l=new d.h;a.s(l);c=c.w();var k=!1;d.Fd.Dx(c,l,e)&&(g.ov(a),k=!0);k||(e=d.gd.ge(a,c,e),1==e?(g.H[0]=0,g.H[2]=2,g.H[3]=-1,g.H[5]=1,g.H[6]=-1):2==e?(g.H[6]=-1,0!=a.hf()?(g.H[0]=-1,g.H[3]=0,g.H[2]=2,g.H[5]=1):(g.H[0]=0,g.H[3]=-1,g.H[5]=
-1,e=new d.h,a.s(e),g.H[2]=0==e.fa()&&0==e.N()?-1:1)):g.ov(a));return this.zg(g.H,f)};b.iu=function(a,c,e,f,h){var g=new b;g.xj();g.Bj(f);g.DK();var l=new d.h;a.s(l);f=c.w();var k=!1;d.Fd.Dx(f,l,e)&&(g.GA(a),k=!0);if(!k){var l=null,m=k=!1;if(g.ga[0]||g.ga[6])d.Fd.HA(a,f,e)?(g.ga[0]&&(l=d.Pi.Rm(a,h),m=!d.Fd.$t(l,f,e),k=!0,g.H[0]=m?-1:0),g.H[6]=-1):(g.H[0]=-1,g.H[6]=0);g.ga[3]&&(null!=l&&l.u()?g.H[3]=-1:(k||(null==l&&(l=d.Pi.Rm(a,h)),m=!d.Fd.$t(l,f,e),k=!0),g.H[3]=m?0:-1));g.ga[5]&&(null!=l&&l.u()?
g.H[5]=-1:k&&!m?g.H[5]=0:(null==l&&(l=d.Pi.Rm(a,h)),h=d.Fd.zx(l,c,e),g.H[5]=h?-1:0));g.ga[2]&&(0!=a.Rb()?g.H[2]=1:(h=new d.Ed(a.description),h.Id(a,0,a.D()),a=d.Fd.zx(h,c,e),g.H[2]=a?-1:0))}return this.zg(g.H,g.dd)};b.au=function(a,c,e,g){var f=new b;f.xj();f.Bj(g);f.IK();var l=new d.h;a.s(l);c=c.w();var k=!1;d.Fd.Dx(c,l,e)&&(f.GJ(),k=!0);if(!k){l=!1;k=!0;e*=e;for(var m=0;m<a.D();m++){var p=a.Ba(m);d.b.sc(p,c)<=e?l=!0:k=!1;if(l&&!k)break}l?(f.H[0]=0,f.H[2]=k?-1:0,f.H[6]=-1):(f.H[0]=-1,f.H[2]=0,f.H[6]=
0)}return b.zg(f.H,g)};b.GW=function(a,c,e,f){a=a.w();c=c.w();for(var g=[],l=0;9>l;l++)g[l]=-1;d.b.sc(a,c)<=e*e?g[0]=0:(g[2]=0,g[6]=0);g[8]=2;return b.zg(g,f)};b.zg=function(a,b){for(var c=0;9>c;c++)switch(b.charAt(c)){case "T":if(-1==a[c])return!1;break;case "F":if(-1!=a[c])return!1;break;case "0":if(0!=a[c])return!1;break;case "1":if(1!=a[c])return!1;break;case "2":if(2!=a[c])return!1}return!0};b.sX=function(a,b,e){var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var f=0;9>f;f++)c[f]=-1;
return this.zg(c,e)}f=!1;a.u()&&(a=b,f=!0);c[0]=-1;c[1]=-1;c[3]=-1;c[4]=-1;c[6]=-1;c[7]=-1;c[8]=2;b=a.G();d.T.Ic(b)?1736==b?0!=a.hf()?(c[2]=2,c[5]=1):(c[5]=-1,b=new d.h,a.s(b),c[2]=0==b.fa()&&0==b.N()?0:1):(b=0!=a.Rb(),c[2]=b?1:0,c[5]=d.Pi.Rq(a)?0:-1):(c[2]=0,c[5]=-1);f&&this.kL(c);return this.zg(c,e)};b.FT=function(a,c,e){return b.kQ(a)?3:b.sO(a)?4:b.gU(a,c,e)?8:b.jO(a,c,e)?16:b.ON(a)?1:b.ZM(a,c,e)?32:0};b.kQ=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.sO=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.gU=function(a,b,e){if(0==b&&0==e)return!1;if(2!=b||2!=e)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==b&&1==e&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=e&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.jO=function(a,b,e){return b>e?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==e&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ON=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ZM=function(a,b,e){if(b==e){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.pv=function(a,b,e){a=b.Ia(a);for(var c=b.rf;-1!=c;c=b.og(c))if(0!=(b.Md(c)&a)){var d=b.kf(c);if(-1==d)b.co(c,e,0);else{var f=d,l=0;do 0!=(b.Ah(f)&a)&&l++,f=b.qc(b.Aa(f));while(f!=d);b.co(c,
e,l)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.xj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.kL=function(a){var b=a[1],e=a[2],d=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=e;a[7]=d};b.prototype.Bj=function(a){this.dd=a;for(a=0;9>a;a++)"*"!=this.dd.charAt(a)?(this.ga[a]=!0,this.Ie++):this.ga[a]=!1};b.prototype.LK=function(){for(var a=0;9>
a;a++)this.ga[a]&&-2==this.H[a]&&(this.H[a]=-1,this.ga[a]=!1)};b.prototype.uc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.ga[a]=!1,this.Ie--,!0;if("T"!=this.dd.charAt(a)&&"F"!=this.dd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.ga[a]=!1;this.Ie--;return!0}this.ga[a]=!1;this.Ie--;return!0};b.prototype.oK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=
!1,this.Ie--)};b.prototype.hC=function(){this.jx=1;this.Fn=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.ZX=function(){this.jx=2;this.Fn=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.pK=function(){this.Fn=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.DK=function(){this.Fn=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);
this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.IK=function(){this.Fn=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[3]&&(this.H[3]=-1,this.ga[3]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[5]&&(this.H[5]=-1,this.ga[5]=
!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.zP=function(a,b,e){var c=!0;this.ga[0]&&(this.xU(a,b,e),c=c&&this.uc(0));this.ga[1]&&(this.FH(a,b,1),c=c&&this.uc(1));this.ga[2]&&(this.GH(a,b,e,2),c=c&&this.uc(2));this.ga[3]&&(this.FH(a,e,3),c=c&&this.uc(3));this.ga[4]&&(this.FP(a,b,e),c=c&&this.uc(4));this.ga[5]&&(this.rF(a,e,5),c=c&&this.uc(5));this.ga[6]&&(this.GH(a,e,b,6),c=c&&this.uc(6));this.ga[7]&&(this.rF(a,b,7),
c=c&&this.uc(7));return c};b.prototype.mv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5));this.Ds(b,this.ga[6]?6:-1,this.dd.charAt(6),this.ga[7]?7:-1,this.dd.charAt(7))};b.prototype.Ds=function(a,b,e,f,h){if(-1!=b||-1!=f)("T"!=e&&"F"!=e&&-1!=b||"T"!=h&&"F"!=h&&-1!=f?0!=a.hf():1)?(-1!=b&&(this.H[b]=2),-1!=f&&(this.H[f]=1)):(-1!=f&&(this.H[f]=-1),-1!=b&&(e=new d.h,a.s(e),this.H[b]=0==e.fa()&&0==e.N()?0:
1))};b.prototype.Sy=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Ds(a,this.ga[0]?0:-1,this.dd.charAt(0),this.ga[1]?1:-1,this.dd.charAt(1))};b.prototype.lF=function(a){this.Sy(a);b.kL(this.H)};b.prototype.nv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[6]){var c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[6]=c?1:0}this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1);this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?
5:-1,this.dd.charAt(5))};b.prototype.mF=function(a){if(this.ga[0]){var b=this.dd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.ga[1]&&(a=d.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.ov=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.BP=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.dI=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[2]){var c=this.dd.charAt(2),c="T"!=c&&"F"!=c?0!=a.Rb():!0;this.H[2]=c?1:0}this.ga[5]&&(c=d.Pi.Rq(a),this.H[5]=c?0:-1);this.ga[6]&&(c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0,this.H[6]=c?1:0);this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1)};b.prototype.GA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.ga[2]){var b=this.dd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.ga[5]&&(a=d.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.GJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.AP=function(a,b,e){var c=!0;this.ga[0]&&(this.yU(a,b),c=c&&this.uc(0));this.ga[1]&&(this.uU(a,b,e,this.Fh),c=c&&this.uc(1));this.ga[2]&&(this.vU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.JP(a,b,e,this.Fh),c=c&&this.uc(3));this.ga[4]&&(this.GP(a,b,e,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.HP(a,b,e),c=c&&this.uc(5));this.ga[6]&&(this.dS(a,b),c=c&&this.uc(6));this.ga[7]&&(this.cS(a,b,e,this.Fh),c=c&&this.uc(7));
return c};b.prototype.nV=function(a,b,e){var c=!0;this.ga[0]&&(this.BU(a,b,e,this.xi,this.Fh),c=c&&this.uc(0));this.ga[1]&&(this.HH(a,b,e,this.xi,this.Fh,1),c=c&&this.uc(1));this.ga[2]&&(this.IH(a,b,e,2),c=c&&this.uc(2));this.ga[3]&&(this.HH(a,e,b,this.Fh,this.xi,3),c=c&&this.uc(3));this.ga[4]&&(this.LP(a,b,e,this.xi,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.sF(a,e,this.xi,5),c=c&&this.uc(5));this.ga[6]&&(this.IH(a,e,b,6),c=c&&this.uc(6));this.ga[7]&&(this.sF(a,b,this.Fh,7),c=c&&this.uc(7));return c};
b.prototype.nF=function(a,b,e){var c=!0;this.ga[0]&&(this.zU(a,b),c=c&&this.uc(0));this.ga[2]&&(this.wU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.KP(a,b,e),c=c&&this.uc(3));this.ga[5]&&(this.IP(a,b),c=c&&this.uc(5));this.ga[6]&&(this.eS(a,b),c=c&&this.uc(6));return c};b.prototype.eI=function(a,b,e){var c=!0;this.ga[0]&&(this.CU(a,b,e,this.xi),c=c&&this.uc(0));this.ga[2]&&(this.AU(a,e),c=c&&this.uc(2));this.ga[3]&&(this.NP(a,b,e,this.xi),c=c&&this.uc(3));this.ga[5]&&(this.MP(a,b,e,this.xi),c=c&&this.uc(5));
this.ga[6]&&(this.fS(a,b,e),c=c&&this.uc(6));return c};b.prototype.FW=function(a,b,e){var c=!0;this.ga[0]&&(this.DU(a,b,e),c=c&&this.uc(0));this.ga[2]&&(this.JH(a,b,e,2),c=c&&this.uc(2));this.ga[6]&&(this.JH(a,e,b,6),c=c&&this.uc(6));return c};b.prototype.xU=function(a,b,e){2!=this.H[0]&&(a=this.i.Ff(a),0!=(a&b)&&0!=(a&e)&&(this.H[0]=2))};b.prototype.FH=function(a,b,e){if(1!=this.H[e]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&b)&&0!=(c&b)&&(this.H[e]=1)}};b.prototype.GH=function(a,b,e,d){2!=
this.H[d]&&(a=this.i.Ff(a),0!=(a&b)&&0==(a&e)&&(this.H[d]=2))};b.prototype.FP=function(a,b,e){if(1!=this.H[4]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&e)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Md(this.i.Xf(a)),0!=(a&b)&&0!=(a&e)&&(this.H[4]=0))}};b.prototype.rF=function(a,b,e){if(1!=this.H[e]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[e]=1)}};b.prototype.yU=function(a,b){if(1!=this.H[0]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&
b)&&0!=(c&b)&&(this.H[0]=1)}};b.prototype.uU=function(a,b,e,d){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),f=this.i.Md(c);0==(f&b)&&0!=(this.i.Ff(a)&b)&&(a=this.i.Hg(c,d),0!=(f&e)&&0!=a%2&&(this.H[1]=0))}};b.prototype.vU=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.JP=function(a,b,e,d){if(1!=this.H[3]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&e)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(c=this.i.Xf(a),
a=this.i.Md(c),0!=(a&b)&&(b=this.i.Hg(c,d),0!=(a&e)&&0==b%2&&(this.H[3]=0)))}};b.prototype.GP=function(a,b,e,d){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a);a=this.i.Md(c);0!=(a&b)&&(b=this.i.Hg(c,d),0!=(a&e)&&0!=b%2&&(this.H[4]=0))}};b.prototype.HP=function(a,b,e){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&e)&&(this.H[5]=1))};b.prototype.dS=function(a,b){if(1!=this.H[6]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[6]=1)}};b.prototype.cS=
function(a,b,e,d){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),f=this.i.Md(c);0==(f&b)&&0==(this.i.Ff(a)&b)&&(a=this.i.Hg(c,d),0!=(f&e)&&0!=a%2&&(this.H[7]=0))}};b.prototype.BU=function(a,b,e,d,f){if(1!=this.H[0]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&e)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),c=this.i.Md(a),0!=(c&b)&&0!=(c&e)&&(b=this.i.Hg(a,d),f=this.i.Hg(a,f),0==b%2&&0==f%2&&(this.H[0]=0)))}};b.prototype.HH=function(a,
b,e,d,f,l){if(0!=this.H[l]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&(b=this.i.Hg(a,d),f=this.i.Hg(a,f),0==b%2&&0!=f%2&&(this.H[l]=0))}};b.prototype.IH=function(a,b,e,d){1!=this.H[d]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&e)&&(this.H[d]=1))};b.prototype.LP=function(a,b,e,d,f){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&(b=this.i.Hg(a,d),f=this.i.Hg(a,f),0!=b%2&&0!=f%2&&(this.H[4]=
0))}};b.prototype.sF=function(a,b,e,d){0!=this.H[d]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),0==(this.i.Md(a)&b)&&0!=this.i.Hg(a,e)%2&&(this.H[d]=0))};b.prototype.zU=function(a,b){0!=this.H[0]&&0==(this.i.Md(a)&b)&&0!=(this.i.Ik(this.i.Kz(a))&b)&&(this.H[0]=0)};b.prototype.wU=function(a,b){2!=this.H[2]&&0!=(this.i.Md(a)&b)&&(this.H[2]=2)};b.prototype.KP=function(a,b,e){0!=this.H[3]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&e)&&(this.H[3]=0))};b.prototype.IP=function(a,b){1!=this.H[5]&&
0!=(this.i.Md(a)&b)&&(this.H[5]=1)};b.prototype.eS=function(a,b){0!=this.H[6]&&0==(this.i.Md(a)&b)&&0==(this.i.Ik(this.i.Kz(a))&b)&&(this.H[6]=0)};b.prototype.CU=function(a,b,e,d){if(0!=this.H[0]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&0==this.i.Hg(a,d)%2&&(this.H[0]=0)}};b.prototype.AU=function(a,b){1!=this.H[2]&&(-1!=this.i.kf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Md(a)&b)&&(this.H[2]=0))};b.prototype.NP=function(a,b,e,d){if(0!=this.H[3]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&e)&&0!=this.i.Hg(a,
d)%2&&(this.H[3]=0)}};b.prototype.MP=function(a,b,e,d){if(0!=this.H[5]){var c=this.i.Md(a);0!=(c&b)&&0==(c&e)&&0!=this.i.Hg(a,d)%2&&(this.H[5]=0)}};b.prototype.fS=function(a,b,e){0!=this.H[6]&&(a=this.i.Md(a),0==(a&b)&&0!=(a&e)&&(this.H[6]=0))};b.prototype.DU=function(a,b,e){0!=this.H[0]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&e)&&(this.H[0]=0))};b.prototype.JH=function(a,b,e,d){0!=this.H[d]&&(a=this.i.Md(a),0!=(a&b)&&0==(a&e)&&(this.H[d]=0))};b.prototype.tq=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.vj=this.i.xh();for(var f=this.i.rf;-1!=f;f=this.i.og(f)){var h=this.i.kf(f);if(-1==h){if(-1!=this.Fn)switch(this.Fn){case 3:c=this.nF(f,a,b);break;case 4:c=this.eI(f,a,b);break;default:throw d.g.X("internal error");}}else{var l=h;do{var k=l;if(1!=this.i.Kb(k,this.vj)){do{switch(this.jx){case 0:c=this.zP(k,a,b);break;case 1:c=this.AP(k,a,b);break;case 2:c=this.nV(k,a,b);break;default:throw d.g.X("internal error");}if(c)break;this.i.Ob(k,this.vj,1);k=this.i.qc(k)}while(k!=l&&!c)}if(c)break;l=this.i.qc(this.i.Aa(k))}while(l!=
h);if(c)break}}c||this.LK();this.i.ni(this.vj)};b.prototype.lz=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var f=this.i.rf;-1!=f;f=this.i.og(f)){switch(this.Fn){case 3:c=this.nF(f,a,b);break;case 4:c=this.eI(f,a,b);break;case 5:c=this.FW(f,a,b);break;default:throw d.g.za();}if(c)break}c||this.LK()};b.prototype.Yr=function(a,b){this.i.Wr(a,b)};b.prototype.Fp=function(a,b,e){this.VR(a,b,e);this.Yr(a,e)};b.prototype.VR=function(a,b,e){d.sk.V(a,b,e,!1);a.zq(0,!0,!0);for(b=a.sd;-1!=b;b=a.Ue(b))1736==
a.hc(b)&&d.lo.V(a,b,-1,!1,e)};b.bG=function(a,b){var c=a.G();if(d.T.Oc(c))return c=new d.Ua(a.description),c.dc(a,!0),c;if(197==c){c=new d.h;a.s(c);if(c.fa()<=b&&c.N()<=b)return c=new d.Wa(a.description),a.Wf(c),c;if(c.fa()<=b||c.N()<=b)return c=new d.Ua(a.description),b=new d.Wa,a.ig(0,b),c.Rf(b),a.ig(2,b),c.lineTo(b),c;c=new d.Ja(a.description);c.jd(a,!1);return c}return a};return b}();d.Nm=f})(p||(p={}));(function(d){var f=function(){function a(a){this.sn=new d.ia(0);this.Rw=new d.ia(0);this.mu=
new d.b;this.nu=new d.b;this.a=a;this.Dt=-1}a.prototype.ic=function(a){return this.a.ic(this.jA(a))};a.prototype.ow=function(a){var b=this.Rz(a);a=this.SG(a);if(this.a.Ra(b)==a){var c=b,b=a;a=c}this.a.Nc(b,this.mu);this.a.Nc(a,this.nu);return this.mu.y<this.nu.y};a.prototype.jA=function(a){var b=this.Rz(a);a=this.SG(a);return this.a.U(b)==a?b:a};a.prototype.Rz=function(a){return this.sn.get(a)};a.prototype.SG=function(a){return this.Rw.get(a)};a.prototype.CG=function(a){this.sn.set(a,this.Dt);this.Dt=
a};a.prototype.wJ=function(a){if(-1!=this.Dt){var b=this.Dt;this.Dt=this.sn.get(b);this.sn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.sn&&(this.sn=new d.ia(0),this.Rw=new d.ia(0));b=this.sn.size;this.sn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.cA=function(a){return this.a.ld(this.Rz(a))};return a}();d.LZ=f;var l=function(){function a(a){this.bf=a;this.Fe=new d.Hb;this.An=new d.Hb;this.SI=0;this.op=null;this.eB=-1}a.prototype.compare=function(a,b,d){d=a.ja(d);var c=this.bf.ib,
e;this.eB==b?e=this.SI:(this.op=c.ic(b),null==this.op?(a=c.a,a.pd(c.jA(b),this.Fe),this.op=this.Fe,e=this.Fe.pf(this.bf.Wh,0)):e=this.op.pf(this.bf.Wh,0),this.SI=e,this.eB=b);a=c.ic(d);var f;null==a?(a=c.a,a.pd(c.jA(d),this.An),a=this.An,f=this.An.pf(this.bf.Wh,0)):f=a.pf(this.bf.Wh,0);e==f&&(b=c.ow(b),d=c.ow(d),d=Math.min(b?this.op.oa:this.op.ra,d?a.oa:a.ra),b=.5*(d+this.bf.Wh),b==this.bf.Wh&&(b=d),e=this.op.pf(b,0),f=a.pf(b,0));return e<f?-1:e>f?1:0};a.prototype.reset=function(){this.eB=-1};return a}(),
b=function(){function a(){this.Kn=this.jm=null;this.hb=new d.uk;this.hb.OR();this.we=new l(this);this.hb.Ep(this.we)}a.prototype.yS=function(){var a=!1;this.Vw&&(a=this.zS());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.gA(b);this.a.oC(b,!0);return 0>a?(a=this.a.cb(b),this.a.fK(a),this.a.sh(b,this.a.Ra(a)),!0):!1}this.hm=this.a.rz();this.kp=this.a.rz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.$r(b,this.hm,0),this.a.$r(b,this.kp,-1);b=new d.ia(0);this.Wh=NaN;var f=new d.b;this.Xt=
this.a.aa(this.Y);this.fp=this.a.Vd();this.Mt=this.a.Vd();for(var h=this.jm.xc(this.jm.Ge);-1!=h;h=this.jm.nb(h)){var l=this.jm.getData(h);this.a.Nc(l,f);f.y!=this.Wh&&0!=b.size&&(a=this.ju(b)||a,this.we.reset(),b.clear(!1));b.add(l);this.Wh=f.y;if(0==this.Xt)break}0<this.Xt&&(a=this.ju(b)||a,b.clear(!1));this.a.le(this.fp);this.a.le(this.Mt);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Tj(b,this.hm)){this.a.oC(b,!0);f=b;for(b=this.a.Tj(b,this.kp);-1!=b;)h=this.a.Tj(b,this.kp),this.a.XV(this.Y,this.a.Sb(f),
b),f=b,b=h;b=this.a.Sb(f)}else this.a.oC(b,!1),b=this.a.Sb(b);this.a.bC(this.hm);this.a.bC(this.kp);return a};a.prototype.ju=function(a){return this.SW(a)};a.prototype.SW=function(a){var b=!1;null==this.ib&&(this.ib=new f(this.a));null==this.Kn?(this.Kn=new d.ia(0),this.Kn.yb(16)):this.Kn.clear(!1);this.RW(a);for(var c=0,h=a.size;c<h;c++){var l=a.get(c);-1!=l&&this.CH(l,-1)}for(c=0;c<this.Kn.size&&0<this.Xt;c++)if(a=this.Kn.get(c),l=this.ib.cA(this.hb.ja(a)),h=-1,0==this.a.Tj(l,this.hm)){for(var l=
this.hb.Ve(a),k=a,m;-1!=l;){var p=this.hb.ja(l),n=this.ib.cA(p),r=this.a.Tj(n,this.hm);if(0!=r){h=n;break}k=l;l=this.hb.Ve(l)}-1==l?(m=!0,l=k):(p=this.hb.ja(l),m=this.ib.ow(p),l=this.hb.nb(l),m=!m);do{p=this.hb.ja(l);n=this.ib.cA(p);r=this.a.Tj(n,this.hm);if(0==r&&(m!=this.ib.ow(p)&&(b=this.a.cb(n),this.a.fK(b),this.a.sh(n,this.a.Ra(b)),b=!0),this.a.$r(n,this.hm,m?3:2),m||(k=this.a.Tj(h,this.kp),this.a.$r(h,this.kp,n),this.a.$r(n,this.kp,k)),this.Xt--,0==this.Xt))return b;h=n;k=l;l=this.hb.nb(l);
m=!m}while(k!=a)}return b};a.prototype.RW=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),f=this.a.Sa(d,this.fp),l=this.a.Sa(d,this.Mt);if(-1!=f){var k=this.hb.ja(f);this.ib.CG(k);this.a.Va(d,this.fp,-1)}-1!=l&&(k=this.hb.ja(l),this.ib.CG(k),this.a.Va(d,this.Mt,-1));k=-1;-1!=f&&-1!=l?(this.hb.Kd(f,-1),this.hb.Kd(l,-1),a.set(b,-1)):k=-1!=f?f:l;-1!=k&&(this.CH(d,k)||this.hb.Kd(k,-1),a.set(b,-1))}};a.prototype.CH=function(a,b){var c=new d.b,e=new d.b;this.a.Nc(a,c);var f=this.a.U(a);this.a.Nc(f,
e);var l=!1;if(c.y<e.y){var l=!0,k=this.ib.wJ(a),m;-1==b?m=this.hb.addElement(k,-1):(m=b,this.hb.kk(m,k));k=this.a.Sa(f,this.fp);-1==k?this.a.Va(f,this.fp,m):this.a.Va(f,this.Mt,m);f=this.a.ld(a);0==this.a.Tj(f,this.hm)&&this.Kn.add(m)}f=this.a.Ra(a);this.a.Nc(f,e);c.y<e.y&&(l=!0,k=this.ib.wJ(f),-1==b?m=this.hb.addElement(k,-1):(m=b,this.hb.kk(m,k)),k=this.a.Sa(f,this.fp),-1==k?this.a.Va(f,this.fp,m):this.a.Va(f,this.Mt,m),f=this.a.ld(a),0==this.a.Tj(f,this.hm)&&this.Kn.add(m));return l};a.V=function(b,
e,d,f){var c=new a;c.a=b;c.Y=e;c.jm=d;c.Vw=f;return c.yS()};a.prototype.zS=function(){var a=new d.ia(0),b=new d.ia(0),f=-1,h=-1,l=new d.b;l.$c();for(var k=-1,m=-1,p=-1,n=new d.b,r=this.jm.xc(this.jm.Ge);-1!=r;r=this.jm.nb(r)){var t=this.jm.getData(r);this.a.Nc(t,n);var A=this.a.ld(t);l.ub(n)&&m==A?(-1==h&&(f=this.a.rz(),h=this.a.Vd()),-1==p&&(p=b.size,this.a.Va(k,h,p),b.add(1),-1==this.a.Tj(A,f)&&(this.a.$r(A,f,k),a.add(A))),this.a.Va(t,h,p),b.CK(b.Fc()+1)):(p=-1,l.L(n));k=t;m=A}if(0==a.size)return!1;
l=new d.ia(0);k=new d.ia(0);m=0;for(p=a.size;m<p;m++){var A=a.get(m),z=this.a.Tj(A,f),t=this.a.Sa(z,h);l.clear(!1);k.clear(!1);l.add(z);k.add(t);for(t=this.a.U(z);t!=z;t=this.a.U(t)){var v=t,n=this.a.Sa(v,h);if(-1!=n)if(0==k.size)k.add(n),l.add(v);else if(k.Fc()==n){var r=l.Fc(),x=this.a.U(r),z=this.a.U(v);this.a.Kc(r,z);this.a.Lc(z,r);this.a.Kc(v,x);this.a.Lc(x,v);v=[!1];x=this.a.BH(this.Y,x,this.a.cb(A),v);this.a.Va(t,h,-1);v[0]&&this.a.jg(A,z);t=this.a.La(A);z=this.a.La(x);t-=z;this.a.nk(A,t);
b.set(n,b.get(n)-1);1==b.get(n)&&(b.set(n,0),k.Pf(),l.Pf());t=z=r}else l.add(t),k.add(n)}}this.a.bC(f);this.a.le(h);return!0};return a}();d.SN=b})(p||(p={}));(function(d){var f=function(){function f(){}f.prototype.Cg=function(){this.uB=this.wb=null};f.prototype.get=function(){return this.uB};f.prototype.set=function(b){this.uB=b;if(null!=b)throw 322==b.G()&&(this.wb=b),d.g.za();};f.prototype.create=function(b){if(322==b)this.Js();else throw d.g.X("Not Implemented");};f.prototype.Js=function(){null==
this.wb&&(this.wb=new d.Hb);this.uB=this.wb};return f}();d.Cg=f})(p||(p={}));(function(d){d=d.XN||(d.XN={});d[d.enumLineSeg=1]="enumLineSeg";d[d.enumBezierSeg=2]="enumBezierSeg";d[d.enumArcSeg=4]="enumArcSeg";d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";d[d.enumSegmentMask=7]="enumSegmentMask";d[d.enumDensified=8]="enumDensified"})(p||(p={}));(function(d){var f=function(){return function(b){this.zj=b;this.SC=this.TC=1;this.TB=this.SB=this.UB=0}}(),l=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.dl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cg=new d.Wa;this.ta=this.sx=0;this.$o=[];this.Ut=[];this.mx=[];this.yr=[];this.rB=[]}b.prototype.WB=function(a){if(null!=a){for(var b=0,e=a.length;b<e;b++)this.qX(a[b]);a.length=0}};b.prototype.qX=function(a){a.zj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new f(a);else b=this.yr[this.yr.length-1],b.zj=a,--this.yr.length;return b};b.prototype.LT=function(a,b){return 0==a?this.Ut[b]:this.mx[b]};
b.prototype.GB=function(){this.sx>=this.rB.length&&this.rB.push(new d.Cg);var a=this.rB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.WB(this.$o);this.WB(this.Ut);this.WB(this.mx);this.sx=0};b.prototype.Ap=function(a){this.$o.push(this.Ax(a))};b.prototype.Rl=function(a){return 0==a?this.Ut.length:this.mx.length};b.prototype.Mq=function(a,b){return this.LT(a,b).zj};b.prototype.Ma=function(a,b){if(2!=this.$o.length)throw d.g.za();this.ta=a;var c=d.Ub.Yx(.01*a),f=!1,h=this.$o[0],l=this.$o[1];
if(b||0!=(h.zj.ys(l.zj,a,!0)&5)){if(322==h.zj.G()&&(b=h.zj,322==l.zj.G())){var k=l.zj,m=d.Hb.Gy(b,k,null,this.vr,this.dl,a);if(0==m)throw d.Hb.Gy(b,k,null,this.vr,this.dl,a),d.g.za();a=Array(9);d.J.Nv(a,null);for(var p=0;p<m;p++){var n=this.vr[p],r=this.dl[p],t=h.TB,A=1;0==n?(t=h.UB,A=h.TC):1==n&&(t=h.SB,A=h.SC);var z=l.TB,v=1;0==r?(z=l.UB,v=l.TC):1==r&&(z=l.SB,v=l.SC);var x=new d.b;t==z?(t=new d.b,b.gc(n,t),n=new d.b,k.gc(r,n),r=A+v,v/=r,d.Ub.cI(t,n,v,x),d.b.sc(x,t)+d.b.sc(x,n)>c&&(f=!0)):t>z?(b.gc(n,
x),n=new d.b,k.gc(r,n),d.b.sc(x,n)>c&&(f=!0)):(k.gc(r,x),t=new d.b,b.gc(n,t),d.b.sc(x,t)>c&&(f=!0));a[p]=x}h=0;l=-1;for(p=0;p<=m;p++)v=p<m?this.vr[p]:1,v!=h&&(c=this.GB(),b.yh(h,v,c),-1!=l&&c.get().Mc(a[l]),p!=m&&c.get().Zc(a[p]),h=v,this.Ut.push(this.Ax(c.get()))),l=p;b=[0,0,0,0,0,0,0,0,0];for(p=0;p<m;p++)b[p]=p;1<m&&this.dl[0]>this.dl[1]&&(v=this.dl[0],this.dl[0]=this.dl[1],this.dl[1]=v,p=b[0],b[0]=b[1],b[1]=p);h=0;l=-1;for(p=0;p<=m;p++)v=p<m?this.dl[p]:1,v!=h&&(c=this.GB(),k.yh(h,v,c),-1!=l&&(h=
b[l],c.get().Mc(a[h])),p!=m&&(h=b[p],c.get().Zc(a[h])),h=v,this.mx.push(this.Ax(c.get()))),l=p;return f}throw d.g.za();}return!1};b.prototype.sA=function(a,b,e){b.copyTo(this.cg);if(1!=this.$o.length)throw d.g.za();this.ta=a;var c=this.$o[0];if(e||c.zj.av(b.w(),a,!0))if(322==c.zj.G()){a=c.zj;var f=a.pe(b.w(),!1);this.vr[0]=f;var l=c.TB;e=1;0==f?(l=c.UB,e=c.TC):1==f&&(l=c.SB,e=c.SC);c=new d.b;0==l?(l=new d.b,a.gc(f,l),b=b.w(),d.Ub.cI(l,b,1/(e+1),c)):0<l?(c=new d.b,a.gc(f,c)):c=b.w();e=0;f=-1;for(l=
0;1>=l;l++){b=1>l?this.vr[l]:1;if(b!=e){var k=this.GB();a.yh(e,b,k);-1!=f&&k.get().Mc(c);1!=l&&k.get().Zc(c);e=b;this.Ut.push(this.Ax(k.get()))}f=l}this.cg.rb(c)}else throw d.g.za();};return b}();d.dE=l})(p||(p={}));(function(d){var f=function(){function f(b){this.zt=this.Tk=this.wb=null;this.gm=this.vf=this.cd=this.Ze=this.Oh=this.Ta=0;this.bb=null;this.Sl=this.mn=!1;this.Ze=-1;this.Oh=this.cd=0;this.Ta=-1;this.bb=b;this.vf=this.ws(this.Oh);this.mn=!1;this.Tk=null;this.gm=-1;this.Sl=!1;this.zt=new d.b}
f.$p=function(b,a){if(0>a||a>=b.D())throw d.g.wd();var c=new f(b),e=b.cw(a);c.cd=a-b.wa(e);c.Oh=e+1;c.Ta=e;c.vf=c.ws(c.Ta);c.gm=c.bb.wa(c.Ta);c.Sl=c.bb.Qb(c.Ta);return c};f.Zp=function(b,a,c){if(0>a||a>=b.aa()||0>c)throw d.g.wd();var e=b.Qb(a)?0:1;if(c>=b.La(a)-e)throw d.g.wd();b=new f(b);b.Ze=-1;b.cd=c;b.Ta=a;b.Oh=b.cd+1;b.vf=b.ws(b.Oh);b.gm=b.bb.wa(b.Ta);b.Sl=b.bb.Qb(b.Ta);return b};f.prototype.yX=function(b){if(this.bb!=b.bb)throw d.g.Da();this.Ze=b.Ze;this.cd=b.cd;this.Ta=b.Ta;this.Oh=b.Oh;this.vf=
b.vf;this.mn=b.mn;this.gm=b.gm;this.Tk=null;this.Sl=b.Sl};f.prototype.ba=function(){this.Ze!=this.cd&&this.QE();if(this.mn)this.cd=(this.cd+1)%this.vf;else{if(this.cd==this.vf)throw d.g.wd();this.cd++}return this.Tk};f.prototype.Li=function(){if(this.mn)this.cd=(this.vf+this.cd-1)%this.vf;else{if(0==this.cd)throw d.g.wd();this.cd--}this.cd!=this.Ze&&this.QE();return this.Tk};f.prototype.zX=function(){this.Ze=-1;this.cd=0};f.prototype.AX=function(){this.cd=this.vf;this.Ze=-1};f.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.OO();if(b>=c&&b<this.bb.Gc(this.Ta)){this.Ze=-1;this.cd=b-c;return}}c=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Gc(a)?a:this.bb.cw(b);this.Oh=c+1;this.Ta=c;this.Ze=-1;this.cd=b-this.bb.wa(c);this.vf=this.ws(c);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta)};f.prototype.Ya=function(){this.Ta=this.Oh;if(this.Ta>=this.bb.aa())return!1;this.Ze=-1;this.cd=0;this.vf=this.ws(this.Ta);this.gm=this.bb.wa(this.Ta);this.Sl=
this.bb.Qb(this.Ta);this.Oh++;return!0};f.prototype.yj=function(){this.vf=this.cd=this.Ze=-1;this.Oh=0;this.Ta=-1;this.Sl=!1;this.gm=-1};f.prototype.eC=function(b){if(0>b)throw d.g.wd();this.Oh=b;this.gm=this.vf=this.cd=this.Ze=this.Ta=-1;this.Sl=!1};f.prototype.ws=function(b){if(this.bb.Hc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};f.prototype.Fo=function(){return this.Ze==this.vf-1&&this.bb.Qb(this.Ta)};f.prototype.jC=function(){this.mn=!0};f.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.Ze};f.prototype.OO=function(){return this.bb.wa(this.Ta)};f.prototype.Jk=function(){return this.Fo()?this.bb.wa(this.Ta):this.Db()+1};f.prototype.jn=function(){return 0==this.Ze};f.prototype.Io=function(){return this.Ze==this.vf-1};f.prototype.Ea=function(){return this.cd<this.vf};f.prototype.oA=function(){return 0<this.cd};f.prototype.Vf=function(){var b=new f(this.bb);b.Ze=this.Ze;b.cd=this.cd;b.vf=this.vf;b.Ta=this.Ta;b.Oh=this.Oh;b.bb=this.bb;b.mn=this.mn;return b};f.prototype.QE=function(){if(0>
this.cd||this.cd>=this.vf)throw d.g.wd();this.Ze=this.cd;var b=this.Db();this.bb.wc();var a=this.bb.cf,c=1;null!=a&&(c=a.read(b)&7);a=this.bb.description;switch(c){case 1:null==this.wb&&(this.wb=new d.Hb);this.Tk=this.wb;break;case 2:throw d.g.X("internal error");case 4:throw d.g.za();default:throw d.g.za();}this.Tk.Fg(a);c=this.Jk();this.bb.Nc(b,this.zt);this.Tk.Mc(this.zt);this.bb.Nc(c,this.zt);this.Tk.Zc(this.zt);for(var e=1,f=a.Ga;e<f;e++)for(var h=a.rd(e),l=d.ma.Xa(h),k=0;k<l;k++){var m=this.bb.Yc(h,
b,k);this.Tk.Tx(h,k,m);m=this.bb.Yc(h,c,k);this.Tk.Lx(h,k,m)}};f.prototype.TU=function(){return this.Ta==this.bb.aa()-1};f.prototype.Go=function(){var b=this.bb.OT();return null!=b?1!=(b.read(this.Ze)&7):!1};return f}();d.YN=f})(p||(p={}));(function(d){var f=function(){function f(b){b instanceof d.T?(this.JI=b,this.Ca=-1,this.dj=1):(this.vV=b.slice(0),this.Ca=-1,this.dj=b.length)}f.prototype.Ia=function(){return this.Ca};f.prototype.next=function(){return this.Ca<this.dj-1?(this.Ca++,null!=this.JI?
this.JI:this.vV[this.Ca]):null};f.prototype.Re=function(){return!0};return f}();d.hd=f})(p||(p={}));(function(d){var f=function(){return function(){this.next=null}}(),l=function(){function b(){this.Mr=this.wx=this.xx=this.Qk=this.ai=0;this.uG=!1;this.XK=0;this.Xn=this.kg=this.Em=this.hi=null;this.tm=0;this.az=null;this.Qk=this.ai=-1}b.prototype.vY=function(a,b,e){this.ai=a;this.Qk=b;this.hi=this.Em=null;this.Mr=0;this.az=e;null==this.Xn&&(this.Xn=d.J.gf(384,0));this.$K()};b.prototype.N=function(){return this.ai};
b.prototype.fa=function(){return this.Qk};b.prototype.flush=function(){0<this.tm&&(this.az.pG(this.Xn,this.tm),this.tm=0)};b.prototype.$K=function(){if(0<this.Mr){for(var a=0;a<this.Qk;a++){for(var b=this.Em[a];null!=b;){var e=b,b=b.next;e.next=null}this.Em[a]=null}this.hi=null}this.xx=this.Qk;this.wx=-1;this.Mr=0};b.prototype.YJ=function(a){this.uG=a==b.py;for(a=this.xx;a<=this.wx;a++)this.sP(),this.jP(a),this.YR();this.$K()};b.prototype.Qy=function(a,b,e,g){if(b!=g){var c=1;b>g&&(c=a,a=e,e=c,c=
b,b=g,g=c,c=-1);if(!(0>g||b>=this.Qk)){0>a&&0>e?e=a=-1:a>=this.ai&&e>=this.ai&&(e=a=this.ai);var l=(e-a)/(g-b);g>this.Qk&&(g=this.Qk,e=l*(g-b)+a);0>b&&(a=l*(0-b)+a,b=0);var k=Math.max(this.ai+1,8388607);-8388607>a?(b=(0-a)/l+b,a=0):a>k&&(b=(this.ai-a)/l+b,a=this.ai);-8388607>e?g=(0-a)/l+b:e>k&&(g=(this.ai-a)/l+b);b=d.J.truncate(b);g=d.J.truncate(g);b!=g&&(e=new f,e.x=d.J.truncate(4294967296*a),e.y=b,e.B=g,e.SR=d.J.truncate(4294967296*l),e.dir=c,null==this.Em&&(this.Em=d.J.gf(this.Qk,null)),e.next=
this.Em[e.y],this.Em[e.y]=e,e.y<this.xx&&(this.xx=e.y),e.B>this.wx&&(this.wx=e.B),this.Mr++)}}};b.prototype.sP=function(){if(null!=this.hi){for(var a=!1,b=null,e=this.hi;null!=e;)if(e.y++,e.y==e.B){var d=e,e=e.next;null!=b?b.next=e:this.hi=e;d.next=null}else e.x+=e.SR,null!=b&&b.x>e.x&&(a=!0),b=e,e=e.next;a&&(this.hi=this.WK(this.hi))}};b.prototype.jP=function(a){if(!(a>=this.Qk)){var b=this.Em[a];if(null!=b){this.Em[a]=null;b=this.WK(b);this.Mr-=this.XK;a=this.hi;for(var e=!0,d=b,f=null;null!=a&&
null!=d;)a.x>d.x?(e&&(this.hi=d),e=d.next,d.next=a,null!=f&&(f.next=d),f=d,d=e):(e=a.next,a.next=d,null!=f&&(f.next=a),f=a,a=e),e=!1;null==this.hi&&(this.hi=b)}}};b.wG=function(a,b){return 0>a?0:a>b?b:a};b.prototype.YR=function(){if(null!=this.hi)for(var a=0,c=this.hi,e=d.J.truncate(d.J.gI(c.x)),f=c.next;null!=f;f=f.next)if(a=this.uG?a^1:a+f.dir,f.x>c.x){var h=d.J.truncate(d.J.gI(f.x));0!=a&&(c=b.wG(e,this.ai),e=b.wG(h,this.ai),e>c&&c<this.ai&&(this.Xn[this.tm++]=c,this.Xn[this.tm++]=e,this.Xn[this.tm++]=
f.y,this.tm==this.Xn.length&&(this.az.pG(this.Xn,this.tm),this.tm=0)));c=f;e=h}};b.prototype.WK=function(a){for(var c=0,e=a;null!=e;e=e.next)c++;this.XK=c;if(1==c)return a;null==this.kg?this.kg=d.J.gf(Math.max(c,16),null):this.kg.length<c&&(this.kg=d.J.gf(Math.max(c,2*this.kg.length),null));for(var f=0,e=a;null!=e;e=e.next)this.kg[f++]=e;2==c?this.kg[0].x>this.kg[1].x&&(a=this.kg[0],this.kg[0]=this.kg[1],this.kg[1]=a):b.UM(this.kg,c,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.kg[0];
this.kg[0]=null;e=a;for(f=1;f<c;f++)e.next=this.kg[f],e=this.kg[f],this.kg[f]=null;e.next=null;return a};b.UM=function(a,b,e){if(b==a.length)a.sort(e);else{var c=a.slice(0,0),d=a.slice(b);b=a.slice(0,b).sort(e);a.length=0;a.push.apply(a,c.concat(b).concat(d))}};b.py=0;b.L_=1;return b}();d.zy=l})(p||(p={}));(function(d){var f=function(){function f(){}f.prototype.Ri=function(b,a){var c=this.a.Sa(b,this.Gr);this.fm==c&&(this.fm=this.Me.nb(this.fm));this.Vo==c&&(this.Vo=this.Me.nb(this.Vo));this.Me.kd(this.wB,
c);this.zk(b);if(a&&(c=this.a.ld(b),-1!=c&&this.a.cb(c)==b)){a=this.a.U(b);if(a!=b){var e=this.a.ld(a);if(e==c){this.a.jg(c,a);return}a=this.a.Ra(b);if(a!=b&&(e=this.a.ld(a),e==c)){this.a.jg(c,a);return}}this.a.jg(c,-1);this.a.sh(c,-1)}};f.prototype.GE=function(){for(var b=!1,a=0,c=new d.b;;){a++;null==this.vi?(this.vi=new d.ia(0),this.vt=new d.ia(0),this.Xe=new d.ia(0)):(this.vi.clear(!1),this.vt.clear(!1),this.Xe.clear(!1));for(var e=this.Vo,f=0,h=!0;e!=this.fm;){var l=this.Me.getData(e),k=new d.b;
this.a.Nc(l,k);h&&(this.a.Nc(l,c),h=!1);var k=this.a.Ra(l),m=this.a.U(l);-559038737!=this.a.Sa(k,this.Ug)&&(this.vi.add(k),this.a.Va(k,this.Ug,-559038737),this.vt.add(l),this.Xe.add(f++));-559038737!=this.a.Sa(m,this.Ug)&&(this.vi.add(m),this.a.Va(m,this.Ug,-559038737),this.vt.add(l),this.Xe.add(f++));e=this.Me.nb(e)}if(2>this.vi.size)break;var p=this;this.Xe.Gd(0,this.Xe.size,function(a,b){return p.GO(a,b)});e=0;for(f=this.Xe.size;e<f;e++)h=this.Xe.get(e),h=this.vi.get(h),this.a.Va(h,this.Ug,e),
k=new d.b,this.a.Nc(h,k);k=this.SO(c);e=0;for(f=this.Xe.size;e<f;e++)h=this.Xe.get(e),-1!=h&&(h=this.vi.get(h),this.a.Va(h,this.Ug,-1));if(k)b=!0;else break}return b};f.prototype.SO=function(b){for(var a=!1,c=!0;c;){var c=!1,e=0;-1==this.Xe.get(e)&&(e=this.Pm(e));for(var d=this.Pm(e),f=0,l=this.Xe.size;f<l&&-1!=e&&-1!=d&&e!=d;f++){var k=this.Xe.get(e),d=this.Xe.get(d),k=this.vi.get(k),d=this.vi.get(d),m=this.a.U(k);this.a.qw(m,b)||(m=this.a.Ra(k));var p=this.a.U(d);this.a.qw(p,b)||(p=this.a.Ra(d));
var n=this.Zu(m,k),r=this.Zu(p,d),t=n?this.a.Ra(m):this.a.U(m),A=r?this.a.Ra(p):this.a.U(p),z=!1;this.mq(m)?z=!0:this.mq(p)?z=!0:this.mq(k)?z=!0:this.mq(d)?z=!0:this.mq(t)?z=!0:this.mq(A)&&(z=!0);!z&&this.a.Uq(k,d)&&(z=!0,this.JE(n,r,m,k,p,d));!z&&this.a.Uq(t,A)&&(z=!0,this.JE(!n,!r,m,t,p,A));z&&(a=!0);c=c||z;e=this.Pm(e);d=this.Pm(e)}}if(!a)for(e=0,-1==this.Xe.get(e)&&(e=this.Pm(e)),d=this.Pm(e),f=0,l=this.Xe.size;f<l&&-1!=e&&-1!=d&&e!=d;f++)k=this.Xe.get(e),d=this.Xe.get(d),k=this.vi.get(k),d=this.vi.get(d),
m=this.a.U(k),this.a.qw(m,b)||(m=this.a.Ra(k)),p=this.a.U(d),this.a.qw(p,b)||(p=this.a.Ra(d)),n=this.Zu(m,k),r=this.Zu(p,d),t=n?this.a.Ra(m):this.a.U(m),A=r?this.a.Ra(p):this.a.U(p),this.KO(n,r,k,m,t,d,p,A)&&(a=!0),e=this.Pm(e),d=this.Pm(e);return a};f.prototype.VO=function(){1736==this.a.hc(this.Y)&&1==this.a.xo(this.Y)&&(new d.Dg).yW(this.Vw,this.a,this.Y,this.ke);var b=!1,a=!0;this.Ug=this.Gr=-1;var c=this.a.D(this.Y),e=new d.ia(0);e.yb(c);for(var f=this.a.Pb(this.Y);-1!=f;f=this.a.Sb(f))for(var h=
this.a.cb(f),l=0,k=this.a.La(f);l<k;l++)e.add(h),h=this.a.U(h);var m=this.a.Dd.f,p=this.a.Dd.ed;this.a.xb.wc();var n=this.a.xb.ya[0].f;e.Gd(0,c,function(a,b){var c=m[p*a],e=m[p*b],d=n[2*c],c=n[2*c+1],f=n[2*e],e=n[2*e+1],d=c<e?-1:c>e?1:d<f?-1:d>f?1:0;0==d&&(d=m[p*a+3],e=m[p*b+3],d=d<e?-1:d==e?0:1);return d});this.Gr=this.a.Vd();this.Me=new d.Xp;this.wB=this.Me.mi(0);this.Me.Vn(c);for(f=0;f<c;f++)h=e.get(f),l=this.Me.addElement(this.wB,h),this.a.Va(h,this.Gr,l);this.Ug=this.a.Vd();this.fm=-1;for(this.wE()&&
(b=!0);a;){a=!1;c=0;e=!1;do{e=!1;this.Vo=-1;for(var k=0,f=new d.b,l=new d.b,r=this.Me.xc(this.wB);-1!=r;)h=this.Me.getData(r),-1!=this.Vo?(this.a.Nc(h,l),f.ub(l))?k++:(f.L(l),this.fm=r,0<k&&(h=this.GE())&&(e=!0,-1!=this.fm&&(h=this.Me.getData(this.fm),this.a.Nc(h,f))),this.Vo=r=this.fm,k=0):(this.Vo=r,this.a.Nc(this.Me.getData(r),f),k=0),-1!=r&&(r=this.Me.nb(r));this.fm=-1;0<k&&(h=this.GE())&&(e=!0);if(10<c++)throw d.g.za();e&&this.NO();this.wE()&&(e=!0);a=a||e&&!1;b=b||e}while(e)}this.a.le(this.Gr);
this.a.le(this.Ug);return b=d.SN.V(this.a,this.Y,this.Me,this.Vw)||b};f.prototype.Zu=function(b,a){return this.a.U(a)==b?!1:!0};f.prototype.KO=function(b,a,c,e,d,f,l,k){if(e==l)return this.zk(c),this.zk(f),!1;var g=this.a.Sa(c,this.Ug),h=this.a.Sa(d,this.Ug),m=this.a.Sa(f,this.Ug),q=this.a.Sa(k,this.Ug);c=[0,0,0,0,0,0,0,0];var p=[0,0,0,0];c[0]=0;p[0]=g;c[1]=0;p[1]=h;c[2]=1;p[2]=m;c[3]=1;p[3]=q;for(g=1;4>g;g++){h=p[g];m=c[g];for(q=g-1;0<=q&&p[q]>h;)p[q+1]=p[q],c[q+1]=c[q],q--;p[q+1]=h;c[q+1]=m}p=0;
0!=c[0]&&(p|=1);0!=c[1]&&(p|=2);0!=c[2]&&(p|=4);0!=c[3]&&(p|=8);if(5!=p&&10!=p)return!1;b==a?b?(this.a.Kc(k,e),this.a.Lc(e,k),this.a.Kc(d,l),this.a.Lc(l,d)):(this.a.Lc(k,e),this.a.Kc(e,k),this.a.Lc(d,l),this.a.Kc(l,d)):b?(this.a.Lc(e,f),this.a.Kc(f,e),this.a.Lc(l,d),this.a.Kc(d,l)):(this.a.Kc(e,f),this.a.Lc(f,e),this.a.Kc(l,d),this.a.Lc(d,l));return!0};f.prototype.JE=function(b,a,c,e,d,f){this.C_?this.UO():this.TO(b,a,c,e,d,f)};f.prototype.UO=function(){throw d.g.X("not implemented.");};f.prototype.TO=
function(b,a,c,e,d,f){if(b!=a)b?(this.a.Kc(c,d),this.a.Lc(d,c),this.a.Kc(f,e),this.a.Lc(e,f),this.po(d,c),this.Ri(d,!0),this.a.Mi(d,!0),this.zk(c),this.po(f,e),this.Ri(f,!0),this.a.Mi(f,!1)):(this.a.Kc(d,c),this.a.Lc(c,d),this.a.Kc(e,f),this.a.Lc(f,e),this.po(d,c),this.Ri(d,!0),this.a.Mi(d,!1),this.zk(c),this.po(f,e),this.Ri(f,!0),this.a.Mi(f,!0)),this.zk(e);else{var g=b?c:e,h=a?d:f;b=b?e:c;a=a?f:d;d=!1;this.a.Kc(g,h);this.a.Kc(h,g);this.a.Lc(b,a);this.a.Lc(a,b);for(f=a;f!=h;)c=this.a.Ra(f),e=this.a.U(f),
this.a.Lc(f,e),this.a.Kc(f,c),d=d||f==g,f=e;d||(c=this.a.Ra(h),e=this.a.U(h),this.a.Lc(h,e),this.a.Kc(h,c));this.po(h,g);this.Ri(h,!0);this.a.Mi(h,!1);this.zk(g);this.po(a,b);this.Ri(a,!0);this.a.Mi(a,!1);this.zk(b)}};f.prototype.wE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var c=this.a.cb(a),e=0,d=this.a.La(a);e<d&&1<d;){var f=this.a.Ra(c),l=this.a.U(c);this.a.Uq(f,l)?(b=!0,this.Ri(c,!1),this.a.ud(c,!0),this.Ri(l,!1),this.a.ud(l,!0),c=f,e=0,d=this.a.La(a)):(c=l,e++)}if(2>this.a.La(a)){b=
this.a.cb(a);e=0;for(d=this.a.La(a);e<d;e++)this.Ri(b,!1),b=this.a.U(b);a=this.a.Rr(a);b=!0}else a=this.a.Sb(a)}return b};f.prototype.mq=function(b){for(var a=!1;;){var c=this.a.U(b),e=this.a.Ra(b);if(c==b)return this.Ri(b,!0),this.a.Mi(b,!1),!0;if(!this.a.Uq(c,e))break;a=!0;this.zk(e);this.zk(c);this.Ri(b,!0);this.a.Mi(b,!1);this.po(c,e);this.Ri(c,!0);this.a.Mi(c,!0);if(c==e)break;b=e}return a};f.prototype.NO=function(){for(var b=0,a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a)){var c=this.Me.getData(a);
this.a.Aj(c,-1)}for(var e=0,d=this.a.Pb(this.Y);-1!=d;)if(a=this.a.cb(d),-1==a||-1!=this.a.ld(a))c=d,d=this.a.Sb(d),this.a.Sr(c);else{this.a.Aj(a,d);for(var f=1,c=this.a.U(a);c!=a;c=this.a.U(c))this.a.Aj(c,d),f++;this.a.Np(d,!1);this.a.nk(d,f);this.a.sh(d,this.a.Ra(a));e+=f;b++;d=this.a.Sb(d)}for(a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a))c=this.Me.getData(a),-1==this.a.ld(c)&&(d=this.a.BH(this.Y,c,c,null),e+=this.a.La(d),b++);this.a.wm(this.Y,b);this.a.lk(this.Y,e);b=0;for(e=this.a.sd;-1!=e;e=
this.a.Ue(e))b+=this.a.D(e);this.a.zC(b)};f.prototype.Pm=function(b){for(var a=0,c=this.Xe.size-1;a<c;a++)if(b=(b+1)%this.Xe.size,-1!=this.Xe.get(b))return b;return-1};f.prototype.po=function(b,a){var c=this.a.Sa(a,this.Gr),e=this.a.Sa(a,this.Ug);this.a.JC(b,a);this.a.Va(a,this.Gr,c);this.a.Va(a,this.Ug,e)};f.prototype.zk=function(b){var a=this.a.Sa(b,this.Ug);-1!=a&&(this.Xe.set(a,-1),this.a.Va(b,this.Ug,-1))};f.V=function(b,a,c,e,d){var g=new f;g.a=b;g.Y=a;g.dB=c;g.Vw=e;g.ke=d;return g.VO()};f.prototype.GO=
function(b,a){var c=this.vi.get(b),e=new d.b;this.a.Nc(c,e);var c=new d.b,f=this.vi.get(a);this.a.Nc(f,c);if(e.ub(c))return 0;b=this.vt.get(b);f=new d.b;this.a.Nc(b,f);a=this.vt.get(a);b=new d.b;this.a.Nc(a,b);a=new d.b;a.zc(e,f);e=new d.b;e.zc(c,b);return d.b.vs(a,e)};return f}();d.lo=f})(p||(p={}));(function(d){(function(d){d[d.Local=0]="Local";d[d.Geographic=1]="Geographic";d[d.Projected=2]="Projected";d[d.Image=3]="Image";d[d.Unknown=4]="Unknown"})(d.ZN||(d.ZN={}));(function(d){d[d.Integer32=
0]="Integer32";d[d.Integer64=1]="Integer64";d[d.FloatingPoint=2]="FloatingPoint"})(d.JN||(d.JN={}));var f=function(){function f(){this.jq="";this.bv=null;this.yg=0;this.lJ=this.tp=-1;this.Uh=null}f.prototype.yc=function(){return this.yg};f.prototype.Rs=function(){return 0};f.prototype.Ss=function(){return 0};f.prototype.Ts=function(){return 0};f.prototype.Qs=function(){return 0};f.prototype.Tz=function(){return 5.7295779513082306E10};f.prototype.Uz=function(){return 1E3};f.prototype.Sz=function(){return 1E3};
f.prototype.bt=function(){return 1};f.prototype.re=function(){var b=.001;0!=this.yg?b=d.us.uS(this.yg):null!=this.Uh&&(b=d.oE.vS(this.Uh));return b};f.prototype.mH=function(){return this.Uh};f.prototype.Nd=function(){if(0!=this.yg)return d.oc.ze(d.us.xG(this.yg));if(null!=this.Uh)return d.oE.wS(this.Uh)};f.Fb=function(b){if(0!=b.yg){if(!0===d.us.SU(b.yg))return 1;if(!0===d.us.UU(b.yg))return 2}return 4};f.prototype.$s=function(){var b=this.yc();if(-1!=this.tp)return this.tp;this.tp=d.us.sZ(b);return-1!=
this.tp?this.tp:b};f.create=function(b){if(0>=b)throw d.g.F("Invalid or unsupported wkid: "+b);var a=new f;a.yg=b;return a};f.oR=function(b){if(null==b||0==b.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var a=new f;a.Uh=b;return a};f.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.yg!=b.yg||0==this.yg&&this.Uh!==b.Uh?!1:!0};f.PS=function(b,a){var c=Math.PI/180,e=new d.ea;d.pM.SS(b.w().x*c,b.w().y*c,a.w().x*c,a.w().y*c,e);return e.j};
f.prototype.toString=function(){return"[ tol: "+this.Bo()+"; wkid: "+this.yc()+"; wkt: "+this.mH()+"]"};f.prototype.jc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var c=0;c<b.length;c++)a=(a<<5)-a+b.charCodeAt(c),a&=a;return this.jq="S"+a};f.prototype.Bo=function(){return this.re(0)};f.prototype.Ao=function(){return null!==
this.bv?this.bv:this.bv=d.Ou.vR(this)};f.q_=!0;f.sv=2147483645;f.tv=9007199254740990;return f}();d.Sd=f})(p||(p={}));(function(d){var f=function(f){function b(){f.apply(this,arguments);this.ij=null;this.lp=new d.eE;this.Xw=this.Fr=null}J(b,f);b.vR=function(a){var c=new b;c.yg=a.yg;c.tp=a.tp;c.lJ=a.lJ;c.Uh=a.Uh;if(""!==c.Uh&&null!==c.Uh){a=b.PY(c.Uh);var e=b.lX(c.Uh);c.lp.Ey(a,e,d.ts.Integer64);c.Ky(a);c.yg=a.$s()}else a=b.DX(c.yg),c.Ky(a),c.lp.Ey(a,null,d.ts.Integer64);return c};b.prototype.re=function(a){return this.lp.Bo(a)};
b.lX=function(a){if(0>=a.length)throw d.g.F();var c=null;try{c=d.QD.fromString(a)}catch(e){c=null}return null==c?null:b.sD(c,!0)};b.prototype.Ky=function(a){this.Pd=a;this.Fr=this.Pd.Nd()};b.prototype.Jc=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Pd.Jc()};b.prototype.UH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.ij.Gk().Jc():this.Pd.Jc()};b.prototype.Kg=function(){return null!=this.Pd?this.Pd.uf:null};b.prototype.bn=function(){return this.Pd.bn()};b.prototype.ee=function(){return this.Pd.ee()};
b.prototype.Ch=function(){return null!=this.Pd?this.Pd.fx:NaN};b.prototype.dn=function(){return this.Pd.dn()};b.prototype.Ws=function(){return this.Pd.Ws()};b.prototype.Sj=function(){return this.Pd.Sj()};b.prototype.hU=function(a){return d.TD.zz(this.Pd,a.Pd)};b.prototype.Mk=function(){return this.Pd.Mk()};b.prototype.Vs=function(){return this.Pd.Vs()};b.prototype.pi=function(){return 3==this.Fb()?this.ij.Gk().pi():this.Pd.pi()};b.prototype.Bh=function(){if(!this.Jc())throw d.g.F("!isPannable()");
var a=new d.h;this.Pd.Bh(a);return a};b.prototype.qe=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.gp};b.prototype.AT=function(){if(!this.Jc())throw d.g.F("!isPannable()");var a=new d.h;this.Pd.zT(a);return a};b.prototype.bw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.bw()};b.prototype.aw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.aw()};b.prototype.Xs=function(){return null!=this.ij?this.ij.Gk().Xs():this.Pd.Xs()};b.prototype.DS=
function(){return this.Pd.Uv()};b.prototype.iX=function(a){a.assign(this.lp)};b.prototype.Yi=function(){return this.Fr.getUnitFactor()};b.prototype.fA=function(a){return this.lp.fA(a)};b.prototype.kc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.ij.Gk().kc();if(0==a)throw d.g.X("invalid call");if(4===a)throw d.g.X("invalid call");if(null!==this.Xw)return this.Xw;a=this.Kg().getGeogcs();if(null==a)throw d.g.za();return this.Xw=b.iG(a,this.lp.bt())};b.iG=function(a,c){if(null==
a)throw d.g.F("null pointer.");var e=new b;a=b.Pu(a,!0);e.lp.Ey(a,null,c);e.Ky(a);e.yg=a.$s();return e};b.prototype.Fb=function(){var a=this.Kg();if(null!=a)switch(a.getType()){case d.Vc.PE_TYPE_GEOGCS:return 1;case d.Vc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.dA=function(a){var b=new d.b;this.Pd.dA(a,b);return b};b.prototype.Uv=function(){return this.Pd.Uv()};b.Pu=function(a,c){var e=a.getCode();if(0>=e&&(e=d.Tf.getCode(a),0<e)){var f=d.Tf.coordsys(e);if(null==f)throw d.g.F("Text to wkid mapping had failed: "+
e);return b.Pu(f,c)}if(c&&0<e&&(f=b.Mv[e]))return f;f=d.Ib.iw(a,e,!1);if(c=b.zH[f])return c;c=0>=e?a:d.Tf.coordsys(e);c=new d.TD(c);b.zH[f]=c;0<e&&(b.Mv[e]=c);return c};b.DX=function(a){if(0>=a)throw d.g.F("Invalid or unsupported wkid: "+a);var c=b.Mv[a];if(null!=c)return c;c=d.Tf.coordsys(a);if(null==c)throw d.g.F("Invalid or unsupported wkid: "+a);c=b.Pu(c,!1);c.$s()!=a&&(b.Mv[a]=c);return c};b.PY=function(a){if(null==a||void 0===a||0==a.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");
var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_COORDSYS,a)}catch(e){throw d.g.F("Cannot create SpatialReference from text. "+e.message);}if(null===c)throw d.g.F("Cannot create SpatialReference from text. ");return b.Pu(c,!0)};b.sD=function(a,c){var e=a.getCode();if(0>=e&&(e=d.Tf.getCode(a),0<e)){e=d.Tf.vertcs(e);if(null===e)throw d.g.F();return b.sD(e,c)}if(c&&0<e&&(c=b.xH[e]))return c;a=d.Ib.iw(a,e,!1);if(c=b.YH[a])return c;var f;0>=e||(f=d.Tf.vertcs(e));if(null===f)throw d.g.F();c=new d.FN(f);b.YH[a]=
c;0<e&&(b.xH[e]=c);return c};b.jK=function(a,b){var c;if(null===b||b.u())return null;var f=new d.h,h;null!==b&&1!=a.Fb()?(c=a.kc(),h=c.Kg(),c=d.rs.Is(a,c,null,null),c=d.os.local().V(b,c,null),c.s(f)):(h=a.Kg(),b.s(f));c=h.getPrimem().getLongitude();h=h.getUnit().getUnitFactor();return new d.OD(f.o,f.A,f.v,f.B,c,h)};b.EE=function(a){var b={name:"",steps:[],_pt:null,_entry:null},e=0;for(a=a.getEntries();e<a.length;e++){var d=a[e],f={y_:!1,X_:"",W_:-1,geogtran:null};0===d.getDirection()?f.isInverse=
!1:f.isInverse=!0;var l=d.getGeogtran().getCode();-1<l?f.wkid=l:f.wkt=d.getGeogtran().toString();b.steps.push(f)}return b};b.QT=function(a,c,e,f){void 0===e&&(e=null);e=b.jK(f,e);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,e,1);c=null;a&&0<a.length&&(c=this.EE(a[0]),d.wy.destroy(a));null!==e&&e.destroy();return c};b.RT=function(a,c,e,f){var g;void 0===e&&(e=null);void 0===f&&(f=null);void 0===g&&(g=30);e=b.jK(f,e);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,e,g);c=
[];if(a&&0<a.length){for(g=0;g<a.length;g++)c.push(this.EE(a[g]));d.wy.destroy(a)}null!==e&&e.destroy();return c};b.Mv={};b.zH={};b.xH={};b.YH={};return b}(d.Sd);d.Ou=f})(p||(p={}));(function(d){(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(d.ts||(d.ts={}));var f=d.ts,l=function(){function b(){this.kq()}b.prototype.assign=function(a){this.Xl=a.Xl;this.Yl=a.Yl;this.uj=a.uj;this.Tw=a.Tw;this.Jn=a.Jn;this.Sw=a.Sw;this.rx=a.rx;this.jl=a.jl;
this.Cr=a.Cr;this.Br=a.Br;this.En=a.En};b.prototype.Rs=function(){return this.Xl};b.prototype.Ss=function(){return this.Yl};b.prototype.Ts=function(){return this.Tw};b.prototype.Qs=function(){return this.Sw};b.prototype.Tz=function(){return this.uj};b.prototype.Uz=function(){return this.Jn};b.prototype.Sz=function(){return this.rx};b.prototype.bt=function(){return this.En};b.prototype.kq=function(){this.Yl=this.Xl=0;this.uj=1;this.Tw=0;this.Jn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.jl=2.220446049250313E-14;
this.En=f.FloatingPoint};b.prototype.Ey=function(a,b,e){this.kq();this.En=e;if(e!=f.FloatingPoint){var c=new d.h;a.ZS(c);this.Xl=c.o;this.Yl=c.A}else this.Yl=this.Xl=-1.7976931348623157E308;c=a.uf.getType();c==d.Vc.PE_TYPE_GEOGCS?(c=(e==f.Integer64?1E-9:1/18E5)*a.ee(),this.uj=1/c):c==d.Vc.PE_TYPE_PROJCS&&(c=(e==f.Integer64?1E-4:.001)*a.bn(),this.uj=1/c);null!=b?(c=(e==f.Integer32?.001:1E-4)*b.XI,this.Jn=1/c):this.Jn=1E4;this.rx=1E4;this.WO();this.jl=a.fx;this.Cr=null!=b?.001*b.XI:.001;this.Br=2.220446049250313E-14};
b.prototype.WO=function(){if(this.En!=f.FloatingPoint){var a=this.En==f.Integer64?d.Sd.tv:d.Sd.sv,b=a/this.uj,e=this.Xl+b,g=d.J.truncate((e-this.Xl)*this.uj);g>a&&(this.uj=a/(e-this.Xl));b=this.Yl+b;g=d.J.truncate((b-this.Yl)*this.uj);g>a&&(this.uj=a/(b-this.Yl))}};b.prototype.yC=function(a,b){switch(a){case 0:this.jl=b;case 1:this.Cr=b;case 2:this.Br=b}};b.prototype.Bo=function(a){switch(a){case 0:return this.jl;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.WT=function(){var a=
new d.h;switch(this.bt()){case f.Integer32:var b=d.Sd.sv/this.Tz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case f.Integer64:b=d.Sd.tv/this.Tz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case f.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.XT=function(){var a=new d.Ac;switch(this.bt()){case f.Integer32:var b=d.Sd.sv/this.Uz();a.I(this.Ts(),
this.Ts()+b);break;case f.Integer64:b=d.Sd.tv/this.Uz();a.I(this.Ts(),this.Ts()+b);break;case f.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.sT=function(){var a=new d.Ac;switch(this.bt()){case f.Integer32:var b=d.Sd.sv/this.Sz();a.I(this.Qs(),this.Qs()+b);break;case f.Integer64:b=d.Sd.tv/this.Sz();a.I(this.Qs(),this.Qs()+b);break;case f.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;
default:throw d.g.X("internal error");}return a};b.prototype.fA=function(a){if(this.En==f.FloatingPoint)return 0;switch(a){case 0:return 1/this.uj;case 1:return 1/this.Jn;case 2:return 1/this.Jn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.jl.toString();a=a+";m_falseX: "+this.Xl.toString();a=a+";m_falseY: "+this.Yl.toString();a=a+";m_unitsXY: "+this.uj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Jn.toString();a=a+";m_falseM: "+
this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.En.toString();return a+"] "};return b}();d.eE=l})(p||(p={}));(function(d){function f(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function l(a,b,c){a=a/6378137*57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:
[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var c=a.Vf();if(33===a.G()){var e=b(c.Be(),c.nf());c.rb(e[0],e[1])}else if(197===a.G())e=b(a.R.o,a.R.A,!0),a=b(a.R.v,a.R.B,!0),c.I(e[0],e[1],a[0],a[1]);else for(e=new d.b,a=0;a<c.D();a++){c.w(a,e);var f=b(e.x,e.y,!0);e.ka(f[0],f[1]);c.rb(a,e)}return c}function a(a){return b(a,l)}function c(a){return b(a,f)}var e=Math.PI/180,g=function(){function a(){}a.Ru=function(a){var b=Math.sqrt(.006694379990197414),
c=Math.sin(a.y*e);return d.b.pa(6378137*a.x*e,3167719.6636462314*(c/(1-.006694379990197414*c*c)-1/(2*b)*Math.log((1-b*c)/(1+b*c))))};a.DA=function(a,b,c,f){var g=1/298.257223563,h=Math.sin(c);c=Math.cos(c);var l=(1-g)*Math.tan(a);a=1/Math.sqrt(1+l*l);for(var k=l*a,m=Math.atan2(l,c),l=a*h,q=l*l,p=1-q,n=2.7233160610754688E11*p/4.040829998466145E13,r=1+n/16384*(4096+n*(-768+n*(320-175*n))),u=n/1024*(256+n*(-128+n*(74-47*n))),n=f/(6356752.31424518*r),t=2*Math.PI,y,A,z,v;1E-12<Math.abs(n-t);)z=Math.cos(2*
m+n),y=Math.sin(n),A=Math.cos(n),v=u*y*(z+u/4*(A*(-1+2*z*z)-u/6*z*(-3+4*y*y)*(-3+4*z*z))),t=n,n=f/(6356752.31424518*r)+v;f=k*y-a*A*c;p=g/16*p*(4+g*(4-3*p));return d.b.pa((b+(Math.atan2(y*h,a*A-k*y*c)-(1-p)*g*l*(n+p*y*(z+p*A*(-1+2*z*z)))))/e,Math.atan2(k*A+a*y*c,(1-g)*Math.sqrt(q+f*f))/e)};a.BM=function(a,b,c,e){var d=1/298.257223563,f=e-b,g=Math.atan((1-d)*Math.tan(a)),h=Math.atan((1-d)*Math.tan(c)),l=Math.sin(g),g=Math.cos(g),k=Math.sin(h),h=Math.cos(h),m=f,q,p=1E3,n,r,u,t,y,A,z;do{u=Math.sin(m);
t=Math.cos(m);r=Math.sqrt(h*u*h*u+(g*k-l*h*t)*(g*k-l*h*t));if(0===r)return 0;t=l*k+g*h*t;y=Math.atan2(r,t);A=g*h*u/r;n=1-A*A;u=t-2*l*k/n;isNaN(u)&&(u=0);z=d/16*n*(4+d*(4-3*n));q=m;m=f+(1-z)*d*A*(y+z*r*(u+z*t*(-1+2*u*u)))}while(1E-12<Math.abs(m-q)&&0<--p);if(0===p)return l=e-b,{azimuth:Math.atan2(Math.sin(l)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(l)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(e-b))};a=2.7233160610754688E11*
n/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(h*Math.sin(m),g*k-l*h*Math.cos(m)),OS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(y-b*r*(u+b/4*(t*(-1+2*u*u)-b/6*u*(-3+4*r*r)*(-3+4*u*u)))),P_:Math.atan2(g*Math.sin(m),g*k*Math.cos(m)-l*h)}};a.AR=function(a){var b=a.hasAttribute(1),c=a.hasAttribute(2),e=[],f=a.aa(),g=null,h=null;b&&(g=a.Pa(1));c&&(h=a.Pa(2));for(var l=new d.b,k=0;k<f;k++){for(var m=a.wa(k),q=a.La(k),p=0,n=0,r=NaN,t=NaN,A=NaN,z=NaN,
v=a.Qb(k),x=[],w=m;w<m+q;w++){a.w(w,l);var z=A=NaN,C=[l.x,l.y];b&&(A=g.get(w),C.push(A));c&&(f=h.get(w),C.push(z));w==m&&v&&(p=l.x,n=l.y,r=A,t=z);x.push(C)}!v||p==l.x&&n==l.y&&(!b||isNaN(r)&&isNaN(A)||r==A)&&(!c||isNaN(t)&&isNaN(z)||t==z)||x.push(x[0].slice(0));e.push(x)}return e};a.Ez=function(b,c){b=a.AR(b);637.100877141506>c&&(c=637.100877141506);for(var d=[],f,g=0;g<b.length;g++){var h=b[g];d.push(f=[]);f.push([h[0][0],h[0][1]]);var l,k,m,q,p,n;l=h[0][0]*e;k=h[0][1]*e;for(p=0;p<h.length-1;p++)if(m=
h[p+1][0]*e,q=h[p+1][1]*e,l!==m||k!==q){q=a.BM(k,l,q,m);m=q.azimuth;q=q.OS;var r=q/c;if(1<r){for(n=1;n<=r-1;n++){var u=a.DA(k,l,m,n*c);f.push([u.x,u.y])}n=a.DA(k,l,m,(q+Math.floor(r-1)*c)/2);f.push([n.x,n.y])}k=a.DA(k,l,m,q);f.push([k.x,k.y]);l=k.x*e;k=k.y*e}}return{gK:d}};a.NS=function(b){for(var c=[],e=0;e<b.length;e++){var f=b[e],f=a.Ez(f,1E4);c.push(f)}b=[];for(var g=0;g<c.length;g++){for(var f=c[g],h=0,e=0;e<f.gK.length;e++){var l=f.gK[e],k=a.Ru(d.b.pa(l[0][0],l[0][1])),m=a.Ru(d.b.pa(l[l.length-
1][0],l[l.length-1][1])),q=m.x*k.y-k.x*m.y,p;for(p=0;p<l.length-1;p++)k=a.Ru(d.b.pa(l[p+1][0],l[p+1][1])),m=a.Ru(d.b.pa(l[p][0],l[p][1])),q+=m.x*k.y-k.x*m.y;h+=q}h/=1;b.push(h/-2)}return b};return a}();d.qM=g;g=function(){function b(){}b.XB=function(a,c,e,d,f,g,h){b.uD[a.jc()]=c;0==isNaN(e)&&(b.wD[a.jc()]=e);0==isNaN(d)&&(b.XD[a.jc()]=d);0==isNaN(f)&&(b.oD[a.jc()]=f);b.yD[a.jc()]=g;null!==h&&(b.AD[a.jc()]=h)};b.Ix=function(a,c,e){b.RD[a.jc()+"-"+c.jc()]=e};b.kc=function(a){a=b.uD[a.jc()];if(void 0==
a)throw d.g.df();return a};b.ee=function(a){a=b.wD[a.jc()];if(void 0==a)throw d.g.df();return a};b.hw=function(a){a=b.XD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Sv=function(a){a=b.oD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Bh=function(a){a=b.AD[a.jc()];if(void 0==a)throw d.g.df();return d.h.pa(a[0],a[1],a[2],a[3])};b.Jc=function(a){a=b.yD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Xg=function(a,c,e){if(c.Eb(e))return a;var f=b.RD[c.jc()+"-"+e.jc()];if(void 0!==f)return f(a,c,
e);throw d.g.df();};b.lu=function(){throw d.g.df();};b.TS=function(){throw d.g.df();};b.UW=function(){throw d.g.df();};b.Mk=function(){throw d.g.df();};b.rX=function(){var b=d.Sd.create(102100),e=d.Sd.create(3857),f=d.Sd.create(4326);d.fb.XB(b,f,NaN,NaN,NaN,!1,null);d.fb.XB(f,f,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);d.fb.XB(e,f,NaN,NaN,NaN,!1,null);d.fb.Ix(b,f,a);d.fb.Ix(f,b,c);d.fb.Ix(e,f,a);d.fb.Ix(f,e,c)};b.uD=[];b.wD=[];b.XD=[];b.oD=[];b.yD=[];b.AD=[];b.RD=[];return b}();d.fb=g})(p||
(p={}));p.fb.rX();(function(d){var f=function(){function f(b){this.f=null;this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}f.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};f.prototype.S=function(b,a){return this.f[b*this.ed+a]};f.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};f.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();
this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed+this.ed,c=b*this.ed;c<a;c++)this.f[c]=-1;return b};f.prototype.nl=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,e=this.ed,f=0;f<e;f++)this.f[c+f]=b[f];return a};f.prototype.Vi=function(b){this.kh=-1;
this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};f.prototype.Qe=function(b){b>this.yd&&this.Co(b)};f.prototype.ay=function(b,a,c){var e=this.f[this.ed*a+c];this.f[this.ed*a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=e};f.Im=function(){return-2};f.jo=function(){return-3};f.BA=function(b){return 0<=b};f.prototype.Co=function(b){null==this.f&&(this.f=[]);this.yd=b};return f}();d.ad=f;f=function(){function f(b){this.f=new Int32Array(0);this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}f.prototype.kd=function(b){b<
this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};f.prototype.S=function(b,a){return this.f[b*this.ed+a]};f.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};f.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed;a<b*this.ed+this.ed;a++)this.f[a]=-1;return b};f.prototype.nl=
function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,e=0;e<b.length;e++)this.f[c+e]=b[e];return a};f.prototype.Vi=function(b){this.kh=-1;this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};f.prototype.Qe=function(b){b>this.yd&&this.Co(b)};f.prototype.ay=function(b,a,c){var e=this.f[this.ed*a+c];this.f[this.ed*
a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=e};f.Im=function(){return-2};f.jo=function(){return-3};f.BA=function(b){return 0<=b};f.prototype.Co=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.ed*b);a.set(this.f,0);this.f=a;this.yd=b};return f}();d.$N=f;!0===d.Xh.Bm&&(d.ad=d.$N)})(p||(p={}));(function(d){var f;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=
5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(f||(f={}));var l=function(){function a(a){this.bf=a;this.Wh=NaN;this.qI=new d.Cg;this.rI=new d.Cg;this.it=new d.Ac;this.jt=new d.Ac}a.prototype.compare=function(a,b,d){a=a.ja(d);this.bf.QB(b,this.qI);this.bf.QB(a,this.rI);b=this.qI.get();a=this.rI.get();this.it.I(b.ua,b.sa);this.jt.I(a.ua,a.sa);if(this.it.ha<this.jt.ca)return-1;if(this.it.ca>this.jt.ha)return 1;d=b.ra==b.oa;var c=a.ra==a.oa;if(d||
c){if(d&&c)return 0;if(b.ra==a.ra&&b.ua==a.ua)return d?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return d?-1:1}d=b.pf(this.Wh,this.it.ca);c=a.pf(this.Wh,this.jt.ca);d==c&&(d=Math.min(b.oa,a.oa),c=.5*(d+this.Wh),c==this.Wh&&(c=d),d=b.pf(c,this.it.ca),c=a.pf(c,this.jt.ca));return d<c?-1:d>c?1:0};a.prototype.RK=function(a){this.Wh=a};return a}(),b=function(){function a(a){this.bb=a;this.jJ=new d.Cg;this.cg=new d.b;this.cB=new d.Ac}a.prototype.eY=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.bb.QB(a.ja(b),
this.jJ);a=this.jJ.get();this.cB.I(a.ua,a.sa);if(this.cg.x<this.cB.ca)return-1;if(this.cg.x>this.cB.ha)return 1;a=a.pf(this.cg.y,this.cg.x);return this.cg.x<a?-1:this.cg.x>a?1:0};return a}();f=function(){function a(){this.tI=this.cj=this.fj=this.TA=this.No=this.Ye=this.Rc=this.Eh=this.De=null;this.sp=this.Tg=-1;this.sI=!0;this.XA=!1;this.UA=NaN;this.mj=new d.$d;this.cQ=2147483647;this.bQ=d.J.truncate(-2147483648);this.xg=this.xe=this.km=this.rr=this.qn=this.qr=this.Jt=this.rf=-1;this.qa=0}a.prototype.ez=
function(a){this.UA=a};a.prototype.Mn=function(){null==this.De&&(this.De=new d.ad(8));var a=this.De.Pe();this.De.P(a,1,0);return a};a.prototype.fW=function(){null==this.Rc&&(this.Rc=new d.ad(8));var a=this.Rc.Pe();this.Rc.P(a,2,0);this.Rc.P(a,3,0);var b=this.Rc.Pe();this.Rc.P(b,2,0);this.Rc.P(b,3,0);this.zK(a,b);this.zK(b,a);return a};a.prototype.vJ=function(){null==this.Ye&&(this.Ye=new d.ad(8));var a=this.Ye.Pe();this.Ye.P(a,2,0);return a};a.prototype.QX=function(a,b){this.De.P(a,7,b)};a.prototype.bo=
function(a,b){this.De.P(a,2,b)};a.prototype.PX=function(a,b){this.De.P(a,1,b)};a.prototype.fY=function(a,b){this.De.P(a,3,b)};a.prototype.cY=function(a,b){this.De.P(a,4,b)};a.prototype.Vr=function(a,b){this.De.P(a,5,b)};a.prototype.WS=function(a){return this.De.S(a,5)};a.prototype.OX=function(a,b){this.De.P(a,6,b)};a.prototype.aP=function(a,b){this.OX(b,a)};a.prototype.yK=function(a,b){this.Rc.P(a,1,b)};a.prototype.zK=function(a,b){this.Rc.P(a,4,b)};a.prototype.ym=function(a,b){this.Rc.P(a,5,b)};
a.prototype.xm=function(a,b){this.Rc.P(a,6,b)};a.prototype.VX=function(a,b){this.Rc.P(a,2,b)};a.prototype.Nx=function(a,b){this.Rc.P(a,3,b)};a.prototype.WG=function(a){return this.Rc.S(a,3)};a.prototype.uu=function(a,b){this.Rc.P(a,7,b)};a.prototype.xL=function(a,b){if(-1!=this.$m(a))for(b=b?-1:a,a=this.$m(a);-1!=a;a=this.gt(a))this.a.Va(this.Uj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.xL(a,b),this.xL(this.Aa(a),b))};a.prototype.su=function(a,b){this.Ye.P(a,1,b)};a.prototype.rh=function(a,
b){this.Ye.P(a,2,b)};a.prototype.Zn=function(a,b){this.Ye.P(a,3,b);this.MX(a,this.VS(b));this.LX(b,a)};a.prototype.LX=function(a,b){this.Ye.P(a,4,b)};a.prototype.MX=function(a,b){this.Ye.P(a,5,b)};a.prototype.tK=function(a,b){this.Ye.P(a,6,b)};a.prototype.rK=function(a,b){this.Ye.P(a,7,b)};a.prototype.qK=function(a,b){this.No.write(a,b)};a.prototype.sK=function(a,b){this.TA.write(a,b)};a.prototype.hZ=function(a){var b=0,c=0,f=this.MG(a),l=new d.b,k=new d.b,m=new d.b;this.Ys(f,l);k.L(l);var p=f;do this.Zm(p,
m),c+=d.b.Cb(k,m),this.Ef(this.Aa(p))!=a&&(b+=(m.x-l.x-(k.x-l.x))*(m.y-l.y+(k.y-l.y))*.5),k.L(m),p=this.qc(p);while(p!=f);this.No.write(a,b);this.TA.write(a,c)};a.prototype.BW=function(a){var c=new l(this),f=new d.uk;f.Qe(d.J.truncate(this.qa/2));f.Ep(c);for(var h=new d.ia(0),k=this.xh(),m=null,p=0,n=new d.b,r=this.rf;-1!=r;r=this.og(r)){p++;var t=this.kf(r);if(-1!=t){h.yf(0);if(!this.aZ(f,k,h,t)){this.w(r,n);c.RK(n.y);var A=t;do{var z=this.Kb(A,k);-1!=z&&(f.Kd(z,-1),this.Ob(A,k,-2));A=this.qc(this.Aa(A))}while(t!=
A);A=t;do z=this.Kb(A,k),-1==z&&(z=f.addElement(A,-1),h.add(z)),A=this.qc(this.Aa(A));while(t!=A)}for(t=h.size-1;0<=t;t--)z=h.get(t),A=f.ja(z),this.Ob(this.Aa(A),k,z),this.AW(f,z,a)}else-1==this.Kz(r)&&(null==m&&(m=new b(this)),this.w(r,n),m.eY(n),A=f.HX(m),t=this.km,-1!=A&&(z=f.ja(A),this.Ef(z)==this.Ef(this.Aa(z))&&(z=this.YG(f,A)),-1!=z&&(t=this.Ef(z))),this.aP(t,r))}this.ni(k)};a.prototype.AW=function(a,b,d){var c=a.ja(b),e=this.Ef(c);if(-1==this.vo(e)){var f=this.YG(a,b),g=this.Aa(c),l=this.Ef(g);
this.Dq(e);this.Dq(l);var k=this.vo(e),m=this.vo(l);-1==f&&-1==k&&(l==e?(this.Zn(l,this.km),k=m=this.km):(-1==m&&(this.Zn(l,this.km),m=this.km),this.Zn(e,l),k=l));if(-1!=f){var p=this.Ef(f);-1==m&&(0>=this.Dq(p)?(m=this.vo(p),this.Zn(l,m)):(this.Zn(l,p),m=p),l==e&&(k=m))}-1==k&&this.bZ(e,l);0==d?this.$W(a,b,c,f,e,l):5==d?this.aX(a,b,c,g,e,l):4==d&&this.ZW(c,f,e,l)}};a.prototype.$W=function(a,b,d,f,l,k){var c=this.Ik(l);if(-1!=f){var e=this.Ik(k),g=this.Ik(this.Ef(f));f=c&e&g;g^=g&this.Ah(d);g|=f;
0!=g&&(this.rh(k,e|g),this.rh(l,g|c),c=c||g)}for(b=a.nb(b);-1!=b;b=a.nb(b)){f=a.ja(b);d=this.Ef(this.Aa(f));l=this.Ik(d);k=this.Ah(f);e=this.Ef(f);g=this.Ik(e);f=l&g&c;c^=c&k;c|=f;if(0==c)break;this.rh(d,l|c);this.rh(e,g|c)}};a.prototype.aX=function(a,b,f,h,l,k){if(l!=k){f=this.Kb(f,this.xg);f+=this.Kb(h,this.xg);h=0;var c=new d.ia(0),e=new d.ia(0);e.add(0);for(var g=a.xc(-1);g!=b;g=a.nb(g)){var m=a.ja(g),p=this.Aa(m),q=this.Ef(m),n=this.Ef(p);if(q!=n){m=this.Kb(m,this.xg);m+=this.Kb(p,this.xg);h+=
m;p=!1;0!=c.size&&c.Fc()==n&&(e.Pf(),c.Pf(),p=!0);if(-1==this.vo(n))throw d.g.za();p&&this.vo(n)==q||(e.add(h),c.add(q))}}h+=f;0!=c.size&&c.Fc()==k&&(e.Pf(),c.Pf());0!=h?0==e.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(l,a)):0!=e.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(l,a))}};a.prototype.ZW=function(a,b,d,f){var c=this.Ia(this.a.sd);if(-1==b)this.rh(f,this.sp),a=this.Kb(a,this.Tg),0!=(a&1)?this.rh(d,c):this.rh(d,this.sp);else{var e=this.Ik(f);0==e&&(e=this.Ik(this.Ef(b)),this.rh(f,e));a=this.Kb(a,this.Tg);
0!=(a&1)?this.rh(d,e==c?this.sp:c):this.rh(d,e)}};a.prototype.aZ=function(a,b,d,f){var c=f,e=-1,g=-1,h=0;do{if(2==h)return!1;var l=this.Kb(c,b);if(-1!=l){if(-1!=e)return!1;e=l}else{if(-1!=g)return!1;g=c}h++;c=this.qc(this.Aa(c))}while(f!=c);if(-1==g||-1==e)return!1;this.Ob(a.ja(e),b,-2);a.kk(e,g);d.add(e);return!0};a.prototype.bZ=function(a,b){var c=this.Dq(a);if(0!=c){var e=this.Dq(b);0<c&&0>e?this.Zn(a,b):0>c&&0<e?this.Zn(a,b):(c=this.vo(b),-1!=c&&this.Zn(a,c))}};a.prototype.tR=function(a,b){this.rr=
this.a.Vd();for(var c=0,e=b.size;c<e;c++){var f=b.get(c),l=this.a.Sa(f,this.qn),k=this.a.ng(this.a.ld(f)),m=this.a.hc(k);if(d.T.Ic(m)){var p=this.a.U(f);if(-1!=p){var n=this.a.Sa(p,this.qn);if(l!=n){var r=this.fW(),t=this.Aa(r),A=this.Eh.Pe();this.Eh.P(A,0,f);this.Eh.P(A,1,-1);this.uu(r,A);this.yK(r,l);A=this.kf(l);-1==A?(this.bo(l,r),this.ym(r,t),this.xm(t,r)):(l=this.Te(A),this.ym(A,t),this.xm(t,A),this.xm(l,r),this.ym(r,l));this.yK(t,n);l=this.kf(n);-1==l?(this.bo(n,t),this.xm(r,t),this.ym(t,r)):
(n=this.Te(l),this.ym(l,r),this.xm(r,l),this.xm(n,t),this.ym(t,n));k=this.Ia(k);0==a?(this.Ob(t,this.xe,0),this.Ob(r,this.xe,1736==m?k:0)):5==a?(n=new d.b,this.a.w(f,n),f=new d.b,this.a.w(p,f),l=p=0,0>n.compare(f)?p=1:l=-1,this.Ob(t,this.xe,0),this.Ob(r,this.xe,0),this.Ob(r,this.xg,p),this.Ob(t,this.xg,l)):7==a?(this.Ob(t,this.xe,this.sp),this.Ob(r,this.xe,1736==m?k:0)):4==a&&(this.Ob(t,this.xe,0),this.Ob(r,this.xe,0),this.Ob(r,this.Tg,1),this.Ob(t,this.Tg,1));m=1736==m?this.bQ:0;this.Nx(r,k|m);this.Nx(t,
k|m)}}}}};a.prototype.UV=function(a,b){var c=this.$m(b);if(-1!=c){var e=this.$m(a);this.Eh.P(c,1,e);this.uu(a,c);this.uu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.$m(b);-1!=c&&(e=this.$m(a),this.Eh.P(c,1,e),this.uu(a,c),this.uu(b,-1))};a.prototype.CY=function(a){function b(a,b){return f.KQ(a,b)}var c=new d.ia(0);c.yb(10);for(var f=this,l=this.rf;-1!=l;l=this.og(l)){c.clear(!1);var k=this.kf(l);if(-1!=k){var m=k;do c.add(m),m=this.qc(this.Aa(m));while(m!=k);if(1<c.size){m=!0;if(2<c.size)c.Gd(0,c.size,
b),c.add(c.get(0));else if(0<this.JQ(c.get(0),c.get(1))){var p=c.get(0);c.set(0,c.get(1));c.set(1,p)}else m=!1;for(var n=p=c.get(0),r=this.Xf(n),t=this.Aa(n),A=-1,z=1,v=c.size;z<v;z++){var x=c.get(z),w=this.Aa(x),C=this.Kk(w);if(C==r&&x!=n){if(0==a)A=this.WG(n)|this.WG(x),this.Nx(n,A),this.Nx(t,A),this.Ob(n,this.xe,this.Kb(n,this.xe)|this.Kb(x,this.xe)),this.Ob(t,this.xe,this.Kb(t,this.xe)|this.Kb(w,this.xe));else if(-1!=this.xg)A=this.Kb(n,this.xg)+this.Kb(x,this.xg),w=this.Kb(t,this.xg)+this.Kb(w,
this.xg),this.Ob(n,this.xg,A),this.Ob(t,this.xg,w);else{if(7==a){this.mj=new d.$d(5,l,-1);return}-1!=this.Tg&&(A=this.Kb(n,this.Tg)+this.Kb(x,this.Tg),w=this.Kb(t,this.Tg)+this.Kb(w,this.Tg),this.Ob(n,this.Tg,A),this.Ob(t,this.Tg,w))}this.UV(n,x);this.sz(x);A=n;c.set(z,-1);x==p&&(c.set(0,-1),p=-1)}else this.ey(A,!1),A=-1,n=x,r=C,t=w}this.ey(A,!1);A=-1;if(m){p=-1;z=0;for(v=c.size;z<v;z++)if(x=c.get(z),-1!=x)if(-1==p)n=p=x,r=this.Xf(n),t=this.Aa(n);else if(x!=n&&(w=this.Aa(x),C=this.Kk(w),this.xm(t,
x),this.ym(x,t),n=x,r=C,t=w,7==a&&(this.Kb(x,this.xe)|this.Kb(this.Te(x),this.xe))==(this.sp|1))){this.mj=new d.$d(5,l,-1);return}this.bo(l,p)}else{p=-1;z=0;for(v=c.size;z<v;z++)if(x=c.get(z),-1!=x){p=x;break}k!=p&&this.bo(l,p)}}}}};a.prototype.ZP=function(){for(var a=-1,b=this.xh(),f=this.rf;-1!=f;f=this.og(f)){var h=this.kf(f);if(-1!=h){var l=h;do{if(1!=this.Kb(l,b)){var k=this.vJ();this.su(k,l);this.rK(k,a);-1!=a&&this.tK(a,k);var a=k,m=0,p=l;do m|=this.Kb(p,this.xe),this.VX(p,k),this.Ob(p,b,1),
p=this.qc(p);while(p!=l);this.rh(k,m)}l=this.qc(this.Aa(l))}while(l!=h)}}k=this.vJ();this.su(k,-1);this.rK(k,a);-1!=a&&this.tK(a,k);this.km=k;this.No=d.Rd.zd(this.Ye.size,NaN);this.TA=d.Rd.zd(this.Ye.size,NaN);this.qK(this.km,Infinity);this.sK(this.km,Infinity);this.ni(b)};a.prototype.iT=function(a,b,d){b=-1!=b?b:this.kf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,d))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.vX=function(){for(var a=this.xh(),b=this.rf;-1!=b;b=this.og(b))for(var d=
-1;;){var f=this.iT(b,d,a);if(-1==f)break;for(var d=this.qc(this.Aa(f)),l=f;;){var k=this.qc(l),m=this.Te(l),p=this.Aa(l);if(m==p){this.ER(l);if(d==l||d==p)d=-1;if(l==f||m==f){f=k;if(l==f||m==f)break;l=k;continue}}else this.Ob(l,a,1);l=k;if(l==f)break}}};a.prototype.mC=function(a,b,f,h){this.qh();this.sI=h;this.a=a;this.qr=this.a.hG();a=new d.ia(0);a.yb(null!=f?this.a.D(f.get(0)):this.a.vd);var c=0,e=1,g=null!=f?f.get(0):this.a.sd;for(h=1;-1!=g;){this.a.xK(g,this.qr,e);for(var e=e<<1,l=this.a.Pb(g);-1!=
l;l=this.a.Sb(l))for(var k=this.a.cb(l),m=0,p=this.a.La(l);m<p;m++)a.add(k),k=this.a.U(k);d.T.Jo(this.a.hc(g))||(c+=this.a.aa(g));null!=f?(g=h<f.size?f.get(h):-1,h++):g=this.a.Ue(g)}this.sp=e;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Eh&&(this.Eh=new d.ad(2),this.De=new d.ad(8),this.Rc=new d.ad(8),this.Ye=new d.ad(8));this.Eh.Qe(this.qa);this.De.Qe(this.qa+10);this.Rc.Qe(2*this.qa+32);this.Ye.Qe(Math.max(32,c));this.qn=this.a.Vd();f=new d.b;h=0;c=new d.b;f.$c();for(e=0;e<=this.qa;e++)if(e<this.qa?
(k=a.get(e),this.a.w(k,c)):c.$c(),!f.ub(c)){if(h<e){k=this.Mn();for(p=m=-1;h<e;h++)p=a.get(h),this.a.Va(p,this.qn,k),g=this.Eh.Pe(),this.Eh.P(g,0,p),this.Eh.P(g,1,m),m=g,l=this.a.ld(p),g=this.a.ng(l),g=this.Ia(g),this.PX(k,this.Md(k)|g);this.QX(k,m);this.Vr(k,this.a.Za(p));-1!=this.Jt&&this.cY(this.Jt,k);this.fY(k,this.Jt);this.Jt=k;-1==this.rf&&(this.rf=k)}h=e;f.L(c)}this.xe=this.xh();5==b&&(this.xg=this.xh());4==b&&(this.Tg=this.xh());this.tR(b,a);0==this.mj.Ii&&(this.CY(b),0==this.mj.Ii&&(isNaN(this.UA)||
this.AQ()?(this.ZP(),0==this.mj.Ii&&(this.ni(this.xe),this.xe=-1,this.sI&&this.BW(b))):this.XA=!0))};a.prototype.sz=function(a){var b=this.qc(a),c=this.Te(a),d=this.Aa(a),f=this.qc(d),l=this.Te(d);b!=d&&(this.xm(l,b),this.ym(b,l));c!=d&&(this.xm(c,f),this.ym(f,c));c=this.Kk(a);this.kf(c)==a&&(f!=a?this.bo(c,f):this.bo(c,-1));f=this.Kk(d);this.kf(f)==d&&(b!=d?this.bo(f,b):this.bo(f,-1));this.Rc.kd(a);this.Rc.kd(d)};a.prototype.YG=function(a,b){for(;;)if(b=a.Ve(b),-1!=b){var c=a.ja(b);if(this.Ef(c)!=
this.Ef(this.Aa(c)))return c}else return-1};a.prototype.Wr=function(a,b,d){void 0===d&&(d=!0);this.mC(a,0,null,d)};a.prototype.mK=function(a,b){var c=new d.ia(0);c.add(b);this.mC(a,4,c,1736==a.hc(b))};a.prototype.nK=function(a,b){var c=new d.ia(0);c.add(b);this.mC(a,5,c,!0)};a.prototype.qh=function(){null!=this.a&&(-1!=this.qr&&(this.a.uX(this.qr),this.qr=-1),-1!=this.qn&&(this.a.le(this.qn),this.qn=-1),-1!=this.rr&&(this.a.le(this.rr),this.rr=-1),-1!=this.xe&&(this.ni(this.xe),this.xe=-1),-1!=this.xg&&
(this.ni(this.xg),this.xg=-1),-1!=this.Tg&&(this.ni(this.Tg),this.Tg=-1),this.a=null,this.De.Vi(!0),this.Eh.Vi(!0),this.Jt=this.rf=-1,null!=this.Rc&&this.Rc.Vi(!0),null!=this.fj&&(this.fj.length=0),null!=this.cj&&(this.cj.length=0),null!=this.tI&&(this.tI.length=0),null!=this.Ye&&this.Ye.Vi(!0),this.km=-1,this.No=null)};a.prototype.kf=function(a){return this.De.S(a,2)};a.prototype.w=function(a,b){this.a.pH(this.WS(a),b)};a.prototype.Md=function(a){return this.De.S(a,1)};a.prototype.og=function(a){return this.De.S(a,
4)};a.prototype.Kz=function(a){return this.De.S(a,6)};a.prototype.Ym=function(a){return this.De.S(a,7)};a.prototype.gt=function(a){return this.Eh.S(a,1)};a.prototype.Uj=function(a){return this.Eh.S(a,0)};a.prototype.Hg=function(a,b){b=this.cj[b];return b.size<=a?-1:b.read(a)};a.prototype.co=function(a,b,d){b=this.cj[b];b.size<=a&&b.resize(this.De.size,-1);b.write(a,d)};a.prototype.wq=function(){null==this.cj&&(this.cj=[]);for(var a=d.ia.zd(this.De.yd,-1),b=0,f=this.cj.length;b<f;b++)if(null==this.cj[b])return this.cj[b]=
a,b;this.cj.push(a);return this.cj.length-1};a.prototype.xq=function(a){this.cj[a]=null};a.prototype.Kk=function(a){return this.Rc.S(a,1)};a.prototype.Xf=function(a){return this.Kk(this.Aa(a))};a.prototype.Aa=function(a){return this.Rc.S(a,4)};a.prototype.Te=function(a){return this.Rc.S(a,5)};a.prototype.qc=function(a){return this.Rc.S(a,6)};a.prototype.Ef=function(a){return this.Rc.S(a,2)};a.prototype.Ff=function(a){return this.Ik(this.Rc.S(a,2))};a.prototype.$m=function(a){return this.Rc.S(a,7)};
a.prototype.Ys=function(a,b){this.w(this.Kk(a),b)};a.prototype.Zm=function(a,b){this.w(this.Xf(a),b)};a.prototype.Ah=function(a){return this.Rc.S(a,3)&this.cQ};a.prototype.Kb=function(a,b){b=this.fj[b];return b.size<=a?-1:b.read(a)};a.prototype.Ob=function(a,b,d){b=this.fj[b];b.size<=a&&b.resize(this.Rc.size,-1);b.write(a,d)};a.prototype.xh=function(){null==this.fj&&(this.fj=[]);for(var a=d.ia.zd(this.Rc.yd,-1),b=0,f=this.fj.length;b<f;b++)if(null==this.fj[b])return this.fj[b]=a,b;this.fj.push(a);
return this.fj.length-1};a.prototype.ni=function(a){this.fj[a]=null};a.prototype.ER=function(a){var b=this.Ef(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.MG(b)==a&&this.su(b,c);c=this.No.read(b);isNaN(c)||(this.qK(b,NaN),this.sK(b,NaN));this.ey(a,!0);this.sz(a)};a.prototype.FR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),f=this.Ef(this.Aa(d));this.su(this.Ef(d),-1);this.su(f,-1);this.ey(d,!0);this.sz(d)}};a.prototype.MG=function(a){return this.Ye.S(a,1)};a.prototype.Ik=
function(a){return this.Ye.S(a,2)};a.prototype.vo=function(a){return this.Ye.S(a,3)};a.prototype.VS=function(a){return this.Ye.S(a,4)};a.prototype.Dq=function(a){var b=this.No.read(a);isNaN(b)&&(this.hZ(a),b=this.No.read(a));return b};a.prototype.Ia=function(a){return this.a.VG(a,this.qr)};a.prototype.jf=function(a){return this.a.Sa(a,this.qn)};a.prototype.lT=function(a){return this.a.Sa(a,this.rr)};a.prototype.kT=function(a,b){var c=this.kf(a);if(-1==c)return-1;var e=c,d=-1,f=-1;do{if(this.Xf(e)==
b)return e;if(-1==d){d=this.kf(b);if(-1==d)break;f=d}if(this.Xf(f)==a)return e=this.Aa(f);e=this.qc(this.Aa(e));f=this.qc(this.Aa(f))}while(e!=c&&f!=d);return-1};a.prototype.QB=function(a,b){b.Js();b=b.get();var c=new d.b;this.Ys(a,c);b.Mc(c);this.Zm(a,c);b.Zc(c)};a.prototype.KQ=function(a,b){if(a==b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(e,b);return d.b.vs(a,c)};a.prototype.JQ=function(a,b){if(a==
b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(e,b);return 0<=c.y&&0<a.y?d.b.vs(a,c):0};a.prototype.AQ=function(){for(var a=d.Ub.Yx(this.UA),b=new d.b,f=new d.b,h=new d.b,l=new d.b,k=new d.b,m=this.rf;-1!=m;m=this.og(m)){var p=this.kf(m);if(-1!=p){var n=p;this.Ys(n,b);this.Zm(n,f);k.zc(f,b);var r=k.qk();do{var t=n,n=this.qc(this.Aa(n));if(n!=t){this.Zm(n,h);l.zc(h,b);var t=l.qk(),A=l.Ui(k);if(A*A/(t*r)*
Math.min(t,r)<=a)return!1;k.L(l);r=t;f.L(h)}}while(n!=p)}}return!0};return a}();d.Qu=f})(p||(p={}));(function(d){var f=function(){function f(){this.i=null;this.AI=new d.b;this.BI=new d.b;this.Mh=null;this.pt=!1;this.Wo=-1}f.prototype.Gf=function(b){return b<this.Mh.length?this.Mh[b]:!1};f.prototype.Hl=function(b,a,c,e){var f=d.T.lf(this.i.a.hc(c));if(2==d.T.lf(this.i.a.hc(a))&&1==f)this.zR(b,a,c,e);else throw d.g.za();};f.prototype.Wr=function(b,a){null==this.i&&(this.i=new d.Qu);this.i.Wr(b,a)};
f.prototype.Xr=function(b,a,c){d.sk.V(b,a,c,!0);for(a=b.sd;-1!=a;a=b.Ue(a))1736==b.hc(a)&&d.lo.V(b,a,-1,this.pt,c);this.Wr(b,c)};f.prototype.SF=function(b,a,c,e,d){var f=this.i.a;if(1736==f.hc(b))for(b=f.Pb(b);-1!=b;b=f.Sb(b)){var g=f.cb(b);this.i.jf(g);this.i.jf(f.U(g));var l=this.i.lT(g);if(-1!=l){var k=this.i.Kb(l,c);if(1!=k&&2!=k)if(this.Gf(this.i.Ff(l))){this.i.Ob(l,c,1);var k=f.Yf(a,-1),m=l,p=this.i.jf(g),n=1;do{var r=this.gn(g,d);f.Kj(k,r);-1!=e&&this.i.co(p,e,1);this.i.Ob(m,c,1);var m=this.i.qc(m),
t;do r=1==n?f.U(g):f.Ra(g),t=-1!=r?this.i.jf(r):-1;while(t==p);var A=this.i.Kk(m);if(A!=t){do r=1==n?f.Ra(g):f.U(g),t=-1!=r?this.i.jf(r):-1;while(t==p);A!=t?(t=A,r=this.i.Uj(this.i.Ym(t))):n=-n}p=t;g=r}while(m!=l);f.$n(k,!0)}else this.i.Ob(l,c,2)}}};f.prototype.nG=function(){for(var b=this.i.xh(),a=new d.ia(0),c=this.i.rf;-1!=c;c=this.i.og(c)){var e=this.i.kf(c),f=e;if(-1!=e){do{if(1!=this.i.Kb(f,b)){var h=this.i.Aa(f);this.i.Ob(h,b,1);this.i.Ob(f,b,1);this.Gf(this.i.Ff(f))&&this.Gf(this.i.Ff(h))&&
a.add(f)}f=this.i.qc(this.i.Aa(f))}while(f!=e)}}this.i.ni(b);this.i.FR(a)};f.prototype.gn=function(b,a){return-1==a?b:this.VT(b,a)};f.prototype.VT=function(b,a){var c=this.i.a,e,d,f=this.i.Ym(this.i.jf(b));do{e=this.i.Uj(f);d=c.ng(c.ld(e));if(d==a)return e;f=this.i.gt(f)}while(-1!=f);return b};f.prototype.es=function(b,a,c){this.nG();var e=this.i.a,f=e.bh(1736),h=this.i.xh();this.hL(b,a,f,c,h,-1);this.i.ni(h);d.lo.V(e,f,1,this.pt,null);return f};f.prototype.hL=function(b,a,c,e,d,f){this.SF(b,c,d,
f,e);-1!=a&&this.SF(a,c,d,f,e);b=this.i.a;for(a=this.i.rf;-1!=a;a=this.i.og(a)){var g=this.i.kf(a);if(-1!=g){var h=g;do{var l=this.i.Kb(h,d);if(1!=l&&2!=l)if(this.Gf(this.i.Ff(h))){var l=b.Yf(c,-1),k=h;do{var m=this.i.$m(k);-1!=m?m=this.i.Uj(m):(m=this.i.Uj(this.i.$m(this.i.Aa(k))),m=this.i.a.U(m));m=this.gn(m,e);b.Kj(l,m);this.i.Ob(k,d,1);-1!=f&&(m=this.i.jf(m),this.i.co(m,f,1));k=this.i.qc(k)}while(k!=h);b.$n(l,!0)}else this.i.Ob(h,d,2);h=this.i.qc(this.i.Aa(h))}while(h!=g)}}};f.prototype.UY=function(b,
a,c){var e=this.i.a,f=e.bh(1736),h=e.bh(1607),l=e.bh(550);this.nG();var k=-1,m=this.i.xh(),p=this.i.wq();this.hL(b,a,f,c,m,p);for(b=this.i.rf;-1!=b;b=this.i.og(b))if(a=this.i.kf(b),-1!=a){var n=a;do{var r=this.i.Kb(n,m),t=this.i.Kb(this.i.Aa(n),m),r=r|t;if(2==r)if(r=this.i.Ah(n),this.Gf(r)){var A=e.Yf(h,-1),z=n,r=this.Jx(b,e),r=this.gn(r,c);e.Kj(A,r);this.i.co(b,p,1);do{r=this.i.Xf(z);t=this.Jx(r,e);t=this.gn(t,c);e.Kj(A,t);this.i.Ob(z,m,1);this.i.Ob(this.i.Aa(z),m,1);this.i.co(r,p,1);z=this.i.qc(z);
r=this.i.Kb(z,m);t=this.i.Kb(this.i.Aa(z),m);r|=t;if(2!=r)break;r=this.i.Ah(z);if(!this.Gf(r)){this.i.Ob(z,m,1);this.i.Ob(this.i.Aa(z),m,1);break}}while(z!=n)}else this.i.Ob(n,m,1),this.i.Ob(this.i.Aa(n),m,1);n=this.i.qc(this.i.Aa(n))}while(n!=a)}for(b=this.i.rf;-1!=b;b=this.i.og(b))r=this.i.Hg(b,p),1!=r&&(r=this.i.Md(b),this.Gf(r)&&(-1==k&&(k=e.Yf(l,-1)),a=this.i.Ym(b),-1!=a&&(a=this.i.Uj(a),r=this.gn(a,c),e.Kj(k,r))));this.i.xq(p);this.i.ni(m);d.lo.V(e,f,1,this.pt,null);c=[];c[0]=l;c[1]=h;c[2]=
f;return c};f.prototype.Jx=function(b,a){var c=-1;for(b=this.i.Ym(b);-1!=b;b=this.i.gt(b)){var e=this.i.Uj(b);-1==c&&(c=e);var d=this.i.Ia(a.ng(a.ld(e)));if(this.Gf(d)){c=e;break}}return c};f.prototype.NB=function(b,a){for(var c=this.i.Kk(a),e=this.i.Xf(a),f=0,h=0,l=this.i.Ym(c);-1!=l;l=this.i.gt(l)){var k=this.i.Uj(l),m=b.ld(k),p=this.i.Ia(b.ng(m)),n=b.U(k),r=b.Ra(k),m=b.cb(m);m==k&&(this.Wo=a);-1!=n&&this.i.jf(n)==e?(f++,this.Gf(p)&&(m==n&&(this.Wo=this.i.qc(a)),h++)):-1!=r&&this.i.jf(r)==e&&(f--,
this.Gf(p)&&(m==r&&(this.Wo=this.i.qc(a)),h--))}this.i.w(c,this.AI);this.i.w(e,this.BI);c=d.b.Cb(this.AI,this.BI);return(0!=h?h:f)*c};f.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Ff(b)|this.i.Ff(this.i.Aa(b))};f.prototype.mL=function(b){for(var a=this.i.Aa(this.i.Te(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Te(a))}return-1!=c?this.i.Aa(c):-1};f.prototype.nL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;
c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};f.prototype.cK=function(b,a,c,e,f){var g=this.i.a,l=b,k=this.i.Aa(l);this.i.Ob(l,c,1);this.i.Ob(k,c,1);var m=this.NB(g,l);this.Wo=-1;for(var p=l,n=-1,r=!1,t=1;;){var A=this.i.Te(l);if(A==k)break;k=this.i.qc(k);if(this.i.Aa(A)!=k)if(l=this.mL(l),-1==l)break;else r=!0,k=this.i.Aa(l);else l=A;if(l==b){n=b;break}A=this.Fq(l);if(!this.Gf(A))break;this.i.Ob(l,c,1);this.i.Ob(k,c,1);p=l;m+=this.NB(g,l);t++}if(-1==n)for(l=b,k=this.i.Aa(l),n=l;;){b=
this.i.qc(l);if(b==k)break;k=this.i.Te(k);if(this.i.Aa(b)!=k)if(l=this.nL(l),-1==l){r=!0;break}else k=this.i.Aa(l);else l=b;A=this.Fq(l);if(!this.Gf(A))break;this.i.Ob(l,c,1);this.i.Ob(k,c,1);n=l;m+=this.NB(g,l);t++}else if(-1!=this.Wo&&(p=this.Wo,n=this.i.Te(this.Wo),this.i.Aa(n)!=this.i.qc(this.i.Aa(p))&&(n=this.mL(p),-1==n)))throw d.g.za();0<=m||(l=n,n=this.i.Aa(p),p=this.i.Aa(l));c=g.Yf(a,-1);l=p;p=this.i.Kk(p);r=this.i.Xf(n)==p&&r;m=this.Jx(p,g);m=this.gn(m,f);g.Kj(c,m);-1!=e&&this.i.co(p,e,
1);p=0;for(t=r?d.J.truncate((t+1)/2):-1;;){b=this.i.Xf(l);m=this.Jx(b,g);m=this.gn(m,f);g.Kj(c,m);p++;-1!=e&&this.i.co(b,e,1);r&&p==t&&(c=g.Yf(a,-1),g.Kj(c,m));if(l==n)break;b=this.i.qc(l);if(this.i.Te(this.i.Aa(l))!=this.i.Aa(b)){if(l=this.nL(l),-1==l)throw d.g.za();}else l=b}};f.prototype.fs=function(b){for(var a=this.i.a.bh(1607),c=this.i.xh(),e=this.i.rf;-1!=e;e=this.i.og(e)){var d=this.i.kf(e),f=d;do 1!=this.i.Kb(f,c)&&this.Gf(this.Fq(f))&&this.cK(f,a,c,-1,b),f=this.i.qc(this.i.Aa(f));while(f!=
d)}this.i.ni(c);return a};f.prototype.VY=function(b){for(var a=this.i.a,c=a.bh(1607),e=a.bh(550),d=this.i.xh(),f=this.i.wq(),l=-1,k=this.i.rf;-1!=k;k=this.i.og(k)){var m=this.i.kf(k),p=m;do{var n=this.i.Kb(p,d);1!=n&&(n=this.Fq(p),this.Gf(n)&&this.cK(p,c,d,f,b));p=this.i.qc(this.i.Aa(p))}while(p!=m)}for(k=this.i.rf;-1!=k;k=this.i.og(k))n=this.i.Hg(k,f),1!=n&&(n=this.i.Md(k),this.Gf(n)&&(-1==l&&(l=a.Yf(e,-1)),m=this.i.Ym(k),-1!=m&&(m=this.i.Uj(m),m=this.gn(m,b),a.Kj(l,m))));this.i.ni(d);this.i.xq(f);
b=[];b[0]=e;b[1]=c;return b};f.prototype.Qp=function(){for(var b=this.i.a,a=b.bh(550),c=b.Yf(a,-1),e=this.i.rf;-1!=e;e=this.i.og(e))if(this.Gf(this.i.Md(e))){for(var d=-1,f=this.i.Ym(e);-1!=f;f=this.i.gt(f)){var l=this.i.Uj(f);-1==d&&(d=l);var k=this.i.Ia(b.ng(b.ld(l)));if(this.Gf(k)){d=l;break}}b.Kj(c,d)}return a};f.prototype.Do=function(b){this.Mh=[];for(var a=0;a<b;a++)this.Mh[a]=!1};f.vD=function(b,a,c,e){var f=b.Ka(),h=Array(1E3);d.J.Nv(h,null);var l=d.J.gf(1E3,0),k=b.D(),m=!0,p=2==a.tb();if(1!=
a.tb()&&2!=a.tb())throw d.g.za();for(var n=0;n<k;){var r=d.J.truncate(b.eX(h,n)-n);p?d.gd.fL(a,h,r,c,l):d.gd.gL(a,h,r,c,l);for(var t=0,A=0;A<r;A++){var z=0==l[A];e||(z=!z);z&&(m&&(m=!1,f.Id(b,0,n)),t!=A&&f.Id(b,n+t,n+A),t=A+1)}m||t==r||f.Id(b,n+t,n+r);n+=r}return m?b:f};f.MH=function(b,a,c){return b instanceof d.Ed?f.vD(b,a,c,!0):a instanceof d.Wa?b.u()||a.u()?b.Ka():d.sk.yJ(c,b,a)?d.sk.FQ(b,a):b.Ka():f.xD(b,a,c,!0)};f.nw=function(b,a,c,e){var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);
l.Nb(h);c=d.na.be(c,l,!0);l=new d.h;l.I(h);h=d.na.Cs(c);l.O(h,h);if(!g.Yb(l)){if(b.tb()<=a.tb())return f.bd(f.Bb(b.Ka()),b,"\x26");if(b.tb()>a.tb())return f.bd(f.Bb(a.Ka()),b,"\x26")}h=new f;g=new d.fd;l=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));h.Xr(g,c,e);e=h.nw(l,a);b=f.bd(g.Se(e),b,"\x26");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};f.xD=function(b,a,c,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var f=[null],h=[0],l=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw d.g.za();f[0]=b.w();l?d.gd.fL(a,
f,1,c,h):d.gd.gL(a,f,1,c,h);a=0==h[0];e||(a=!a);return a?b.Ka():b};f.TZ=function(b,a,c){return b instanceof d.Ed?f.vD(b,a,c,!1):a instanceof d.Wa?b.u()?b.Ka():a.u()?b:d.sk.yJ(c,b,a)?b.Ka():b:f.xD(b,a,c,!1)};f.prototype.DJ=function(b,a,c,e,f){if(b.u())return b;var g=new d.fd;b=g.Jb(b);return this.ol(g,b,a,c,e,f)};f.prototype.zW=function(b,a,c,e,f,h){if(f&&550!=b.hc(a)){var g=new d.WD;g.MY(b,c);g.ih?(d.sk.V(b,c,h,!0),f=!1):this.i.ez(c)}else d.sk.V(b,c,h,!0),f=!1;e&&550!=b.hc(a)?this.i.nK(b,a):this.i.mK(b,
a);if(this.i.XA)return this.i.qh(),this.i=null,this.ol(b,a,c,e,!1,h);this.i.ez(NaN);h=this.i.Ia(a);this.Do(h+1);this.Mh[h]=!0;if(1736==b.hc(a)||e&&550!=b.hc(a))return b.Hp(a,0),a=this.es(a,-1,-1),b=b.Se(a),b.Hp(0),f?b.Zg(1,0):(b.Zg(2,c),b.Al()),b;if(1607==b.hc(a))return a=this.fs(-1),b=b.Se(a),f||b.Zg(2,c),b;if(550==b.hc(a))return a=this.Qp(),b=b.Se(a),f||b.Zg(2,c),b;throw d.g.za();};f.prototype.ol=function(b,a,c,e,f,h){this.i=new d.Qu;try{return this.zW(b,a,c,e,f,h)}finally{this.i.qh()}};f.ol=function(b,
a,c,e,d){return(new f).DJ(b,a,c,e,d)};f.prototype.yW=function(b,a,c){this.pt=b;this.i=new d.Qu;b=a.xo(c);var e=a.hc(c);1!=b||550==e?this.i.mK(a,c):this.i.nK(a,c);if(!this.i.XA)if(this.i.ez(NaN),e=this.i.Ia(c),this.Do(e+1),this.Mh[e]=!0,1736==a.hc(c)||1==b&&550!=a.hc(c))a.Hp(c,0),b=this.es(c,-1,-1),a.EC(b,c),a.aC(b);else if(1607==a.hc(c))b=this.fs(-1),a.EC(b,c),a.aC(b);else if(550==a.hc(c))b=this.Qp(),a.EC(b,c),a.aC(b);else throw d.g.X("internal error");};f.DC=function(b,a,c,e){var d=new f;d.pt=!0;
return d.DJ(b,a,!1,c,e)};f.prototype.Vm=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;var f=this.i.Ia(b),h=this.i.Ia(a);this.Do((f|h)+1);this.Mh[this.i.Ia(b)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&2==e||1==c&&1==e)return this.fs(-1);if(0==c)return this.Qp();throw d.g.za();};f.prototype.mG=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;if(c<e)return a;var f=this.i.Ia(b),h=this.i.Ia(a);this.Do((f|h)+1);this.Mh[this.i.Ia(b)]=
!0;this.Mh[this.i.Ia(a)]=!0;this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};f.prototype.nw=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),f=this.i.Ia(b),h=this.i.Ia(a);this.Do((f|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;f=-1;1<this.i.a.Hr.Ga&&(f=b);if(2==c&&2==e)return this.es(b,a,f);if(1==c&&0<e||1==e&&0<c)return this.fs(f);if(0==c||0==e)return this.Qp();throw d.g.za();
};f.prototype.vA=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),f=this.i.Ia(b),h=this.i.Ia(a);this.Do((f|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;f=-1;1<this.i.a.Hr.Ga&&(f=b);if(2==c&&2==e)return this.UY(b,a,f);if(1==c&&0<e||1==e&&0<c)return this.VY(f);if(0==c||0==e)return c=[],c[0]=this.Qp(),c;throw d.g.za();};f.prototype.Pp=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),f=this.i.Ia(b),h=this.i.Ia(a);this.Do((f|h)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=
!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};f.Bb=function(b){var a=b.G();return 197==a?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33==a?(a=new d.Ed(b.description),b.u()||a.add(b),a):322==a?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):b};f.bd=function(b,a,c){var e=b.G();return 197==e?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33!=e||"|"!=c&&"^"!=c?322==e?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):33==e&&
"-"==c&&33==a.G()||550==e&&"\x26"==c&&33==a.G()?(a=new d.Wa(b.description),b.u()||b.Ae(0,a),a):b:(a=new d.Ed(b.description),b.u()||a.add(b),a)};f.Vm=function(b,a,c,e){if(b.u()||a.u()||b.tb()>a.tb())return f.bd(f.Bb(b),b,"-");var g=new d.h;b.s(g);var h=new d.h;a.s(h);if(!g.Yb(h))return f.bd(f.Bb(b),b,"-");var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);h=new f;g=new d.fd;l=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));h.Xr(g,c,e);e=h.Vm(l,a);e=g.Se(e);b=f.bd(e,b,"-");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());
return b};f.mG=function(b,a,c,e){if(b.tb()>a.tb())return f.bd(f.Bb(b),b,"|");if(b.tb()<a.tb()||b.u())return f.bd(f.Bb(a),b,"|");if(a.u())return f.bd(f.Bb(b),b,"|");var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);if(!g.Yb(h.nT(c,c)))switch(b=f.Bb(b),a=f.Bb(a),b.G()){case 550:return b=d.T.oe(b),b.Id(a,0,-1),b;case 1607:return b=d.T.oe(b),b.add(a,!1),b;case 1736:return b=d.T.oe(b),b.add(a,!1),b;default:throw d.g.za();}h=new f;g=new d.fd;l=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));
h.Xr(g,c,e);a=h.mG(l,a);b=f.bd(g.Se(a),b,"|");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};f.RR=function(b,a,c){if(2>b.length)throw d.g.F("not enough geometries to dissolve");for(var e=0,g=0,h=b.length;g<h;g++)e=Math.max(b[g].tb(),e);var l=new d.h;l.Oa();for(var k=new d.fd,m=-1,p=0,n=-1,g=0,h=b.length;g<h;g++)if(b[g].tb()==e)if(b[g].u())-1==n&&(n=g);else{n=g;-1==m?m=k.Jb(f.Bb(b[g])):k.wP(m,f.Bb(b[g]));var r=new d.h;b[g].ac(r);l.Nb(r);p++}if(2>p)return f.Bb(b[n]);b=2==e;a=d.na.be(0==e?
a:null,l,!0);return(new f).ol(k,m,a,b,!0,c)};f.vA=function(b,a,c,e){var g=[null,null,null],h=new d.h;b.s(h);var l=new d.h;a.s(l);var k=new d.h;k.I(h);k.Nb(l);c=d.na.be(c,k,!0);k=new d.h;k.I(l);l=d.na.Cs(c);k.O(l,l);if(!h.Yb(k)){if(b.tb()<=a.tb())return b=f.bd(f.Bb(b.Ka()),b,"\x26"),g[b.tb()]=b,g;if(b.tb()>a.tb())return b=f.bd(f.Bb(a.Ka()),b,"\x26"),g[b.tb()]=b,g}l=new f;h=new d.fd;k=h.Jb(f.Bb(b));a=h.Jb(f.Bb(a));l.Xr(h,c,e);e=l.vA(k,a);for(a=0;a<e.length;a++)l=f.bd(h.Se(e[a]),b,"\x26"),d.T.Ic(l.G())&&
(l.Zg(2,c),1736==l.G()&&l.Al()),g[l.tb()]=l;return g};f.Pp=function(b,a,c,e){if(b.tb()>a.tb())return f.bd(f.Bb(b),b,"^");if(b.tb()<a.tb()||b.u())return f.bd(f.Bb(a),b,"^");if(a.u())return f.bd(f.Bb(b),b,"^");var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);h=new f;g=new d.fd;l=g.Jb(f.Bb(b));a=g.Jb(f.Bb(a));h.Xr(g,c,e);e=h.Pp(l,a);b=f.bd(g.Se(e),b,"^");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};f.M_=function(b,a,c){a=a.G();c=c.G();return 550==b.G()&&
(33==a||33==c)&&1>=b.D()?(c=new d.Wa(b.description),b.u()||b.Ae(0,c),c):b};f.prototype.AS=function(b,a){var c=this.i.a;b=c.Yf(b,-1);for(var e=a.size,d=0;d<e;d++){var f=a.get(d);c.Kj(b,f)}c.$n(b,!0)};f.prototype.WX=function(b,a){for(var c=this.i.a,e=c.sd;-1!=e;e=c.Ue(e))if(e==a)for(var d=c.Pb(e);-1!=d;d=c.Sb(d)){var f=c.cb(d);if(-1!=f)for(var l=c.U(f);-1!=l;){var f=this.i.jf(f),k=this.i.jf(l),f=this.i.kT(f,k);-1!=f&&(k=this.i.Aa(f),this.i.Ob(f,b,1),this.i.Ob(k,b,2));f=l;l=c.U(f)}}};f.prototype.TW=
function(b,a,c,e){c=this.i.Ia(c);e=this.i.Ia(e);var f=new d.ia(0);f.yb(256);for(var h=this.i.a,l=this.i.xh(),k=this.i.rf;-1!=k;k=this.i.og(k)){var m=this.i.kf(k);if(-1!=m){var p=m;do{if(1!=this.i.Kb(p,l)){var n=p,r=p,t=!1,A=0;do{this.i.Ob(n,l,1);if(!t){var z=this.i.Ah(n);0!=(z&e)&&0!=(this.i.Ff(n)&c)&&(r=n,t=!0)}t&&(f.add(this.i.Uj(this.i.Ym(this.i.Kk(n)))),-1!=b&&(z=this.i.Ah(n),0!=(z&e)&&(z=this.i.Kb(n,b),A|=z)));n=this.i.qc(n)}while(n!=r);t&&0<this.i.Dq(this.i.Ef(r))&&(n=h.bh(1736),this.AS(n,f),
-1!=a&&h.xK(n,a,A));f.clear(!1)}p=this.i.qc(this.i.Aa(p))}while(p!=m)}}this.i.ni(l)};f.prototype.zR=function(b,a,c,e){this.i.vX();var d=-1;-1!=b&&(d=this.i.xh(),this.WX(d,c));this.TW(d,b,a,c);var f=this.i.a;b=0;for(d=f.sd;-1!=d;d=f.Ue(d))d!=a&&d!=c&&(e.add(d),b++);e.Gd(0,b,function(a,b){a=f.gA(f.Pb(a));b=f.gA(f.Pb(b));return a<b?-1:a==b?0:1})};f.prototype.qh=function(){null!=this.i&&(this.i.qh(),this.i=null)};return f}();d.Dg=f})(p||(p={}));(function(d){var f=function(){function f(b){void 0!==b?this.Op(b):
this.pC()}f.prototype.Vx=function(){this.bc=this.Wb=this.zb=this.sb=this.gb=this.lb=0};f.prototype.Eb=function(b){return this==b?!0:b instanceof f?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.zb==b.zb&&this.gb==b.gb&&this.bc==b.bc:!1};f.prototype.jc=function(){d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();return d.J.Zi()};f.prototype.$h=function(b,a){var c=this.zb*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};f.prototype.XY=function(b,a,c,e,d){var f=2*a;e*=2;for(a=2*(a+d);f<
a;f+=2,e+=2){d=b[f];var g=b[f+1];c[e]=this.lb*d+this.sb*g+this.Wb;c[e+1]=this.zb*d+this.gb*g+this.bc}};f.prototype.ZY=function(b,a,c){for(var e=0;e<a;e++){var f=b[e].x,h=b[e].y,l=this.lb*f+this.sb*h+this.Wb,f=this.zb*f+this.gb*h+this.bc;null!=c[e]?c[e].ka(l,f):c[e]=d.b.pa(l,f)}};f.prototype.multiply=function(b){f.multiply(this,b,this)};f.multiply=function(b,a,c){var e,d,f,l,k;e=b.lb*a.lb+b.zb*a.sb;d=b.sb*a.lb+b.gb*a.sb;f=b.Wb*a.lb+b.bc*a.sb+a.Wb;l=b.lb*a.zb+b.zb*a.gb;k=b.sb*a.zb+b.gb*a.gb;b=b.Wb*
a.zb+b.bc*a.gb+a.bc;c.lb=e;c.sb=d;c.Wb=f;c.zb=l;c.gb=k;c.bc=b};f.prototype.Vf=function(){var b=new f;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.zb=this.zb;b.gb=this.gb;b.bc=this.bc;return b};f.prototype.KC=function(b){if(!b.u()){for(var a=[],c=0;4>c;c++)a[c]=new d.b;b.PB(a);this.$Y(a,a);b.Mx(a,4)}};f.prototype.$Y=function(b,a){for(var c=0;c<b.length;c++){var e=new d.b,f=b[c];e.x=this.lb*f.x+this.sb*f.y+this.Wb;e.y=this.zb*f.x+this.gb*f.y+this.bc;a[c]=e}};f.prototype.kU=function(b,a){b.u()||a.u()||0==
b.N()||0==b.fa()?this.Vx():(this.sb=this.zb=0,this.lb=a.N()/b.N(),this.gb=a.fa()/b.fa(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};f.prototype.YY=function(b){var a=new d.b,c=new d.b;a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.sub(a);var e=.5*a.qk();a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.add(c);a=.5*a.qk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};f.prototype.pC=function(){this.lb=1;this.zb=this.Wb=this.sb=0;this.gb=1;this.bc=0};f.prototype.Ho=function(b){if(void 0!==b){var a=d.b.pa(0,
1);this.$h(a,a);a.sub(d.b.pa(0,1));if(a.qk()>b*b)return!1;a.ka(0,0);this.$h(a,a);if(a.qk()>b*b)return!1;a.ka(1,0);this.$h(a,a);a.sub(d.b.pa(1,0));return a.qk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.zb&&0==this.bc};f.prototype.fh=function(b){return Math.abs(this.lb*this.gb-this.zb*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.zb*this.sb))};f.prototype.Ag=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.zb=0;this.gb=1;this.bc=a};f.prototype.Op=function(b,a){void 0!==
a?(this.lb=b,this.zb=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Op(b,b)};f.prototype.xC=function(){this.lb=0;this.sb=1;this.Wb=0;this.zb=1;this.bc=this.gb=0};f.prototype.jY=function(b){this.kY(Math.cos(b),Math.sin(b))};f.prototype.kY=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.zb=a;this.gb=b;this.bc=0};f.prototype.shift=function(b,a){this.Wb+=b;this.bc+=a};f.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.zb*=a;this.gb*=a;this.bc*=a};f.prototype.rotate=function(b){var a=
new f;a.jY(b);this.multiply(a)};f.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.zb;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.zb-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.zb=-this.zb*a,b.gb=this.lb*a)}else this.inverse(this)};return f}();d.Hd=f})(p||(p={}));(function(d){var f=function(){function f(){}f.prototype.Vx=function(){this.bi=this.bc=this.Wb=this.Df=this.Af=this.zf=this.Cf=this.gb=this.sb=this.Sf=this.zb=this.lb=
0};f.prototype.Op=function(b,a,c){this.lb=b;this.sb=this.Sf=this.zb=0;this.gb=a;this.Af=this.zf=this.Cf=0;this.Df=c;this.bi=this.bc=this.Wb=0};f.prototype.KC=function(b){if(b.u())return b;for(var a=new d.qd[8],c=0;8>c;c++)a[c]=new d.qd;b.PB(a);this.transform(a,8,a);b.Mx(a);return b};f.prototype.transform=function(b,a,c){for(var e=0;e<a;e++){var f=new d.qd,h=b[e];f.x=this.lb*h.x+this.sb*h.y+this.zf*h.z+this.Wb;f.y=this.zb*h.x+this.gb*h.y+this.Af*h.z+this.bc;f.z=this.Sf*h.x+this.Cf*h.y+this.Df*h.z+
this.bi;c[e]=f}};f.prototype.Rp=function(b){var a=new d.qd;a.x=this.lb*b.x+this.sb*b.y+this.zf*b.z+this.Wb;a.y=this.zb*b.x+this.gb*b.y+this.Af*b.z+this.bc;a.z=this.Sf*b.x+this.Cf*b.y+this.Df*b.z+this.bi;return a};f.prototype.Vg=function(b){f.multiply(this,b,this)};f.multiply=function(b,a,c){var e,d,f,l,k,m,p,n,r,t,A;e=b.lb*a.lb+b.zb*a.sb+b.Sf*a.zf;d=b.lb*a.zb+b.zb*a.gb+b.Sf*a.Af;f=b.lb*a.Sf+b.zb*a.Cf+b.Sf*a.Df;l=b.sb*a.lb+b.gb*a.sb+b.Cf*a.zf;k=b.sb*a.zb+b.gb*a.gb+b.Cf*a.Af;m=b.sb*a.Sf+b.gb*a.Cf+b.Cf*
a.Df;p=b.zf*a.lb+b.Af*a.sb+b.Df*a.zf;n=b.zf*a.zb+b.Af*a.gb+b.Df*a.Af;r=b.zf*a.Sf+b.Af*a.Cf+b.Df*a.Df;t=b.Wb*a.lb+b.bc*a.sb+b.bi*a.zf+a.Wb;A=b.Wb*a.zb+b.bc*a.gb+b.bi*a.Af+a.bc;b=b.Wb*a.Sf+b.bc*a.Cf+b.bi*a.Df+a.bi;c.lb=e;c.zb=d;c.Sf=f;c.sb=l;c.gb=k;c.Cf=m;c.zf=p;c.Af=n;c.Df=r;c.Wb=t;c.bc=A;c.bi=b};f.inverse=function(b,a){var c=b.lb*(b.gb*b.Df-b.Cf*b.Af)-b.zb*(b.sb*b.Df-b.Cf*b.zf)+b.Sf*(b.sb*b.Af-b.gb*b.zf);if(0!=c){var e,f,h,l,k,m,p,n,r,t;n=1/c;c=(b.gb*b.Df-b.Cf*b.Af)*n;h=-(b.sb*b.Df-b.Cf*b.zf)*n;m=
(b.sb*b.Af-b.gb*b.zf)*n;e=-(b.zb*b.Df-b.Af*b.Sf)*n;l=(b.lb*b.Df-b.Sf*b.zf)*n;p=-(b.lb*b.Af-b.zb*b.zf)*n;f=(b.zb*b.Cf-b.Sf*b.gb)*n;k=-(b.lb*b.Cf-b.Sf*b.sb)*n;n*=b.lb*b.gb-b.zb*b.sb;r=-(b.Wb*c+b.bc*h+b.bi*m);t=-(b.Wb*e+b.bc*l+b.bi*p);b=-(b.Wb*f+b.bc*k+b.bi*n);a.lb=c;a.zb=e;a.Sf=f;a.sb=h;a.gb=l;a.Cf=k;a.zf=m;a.Af=p;a.Df=n;a.Wb=r;a.bc=t;a.bi=b}else throw d.g.X("math singularity");};f.prototype.Vf=function(){var b=new f;b.lb=this.lb;b.zb=this.zb;b.Sf=this.Sf;b.sb=this.sb;b.gb=this.gb;b.Cf=this.Cf;b.zf=
this.zf;b.Af=this.Af;b.Df=this.Df;b.Wb=this.Wb;b.bc=this.bc;b.bi=this.bi;return b};return f}();d.eO=f})(p||(p={}));(function(d){var f=function(b){function a(a){if(void 0!==a)b.call(this,a.jc(),a);else{b.call(this);this.wg=[];this.wg[0]=0;this.Ga=1;this.Sh=[];for(a=0;10>a;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0}this.Zq=!0}J(a,b);a.prototype.Ud=function(a){this.hasAttribute(a)||(this.Sh[a]=0,this.CE())};a.prototype.removeAttribute=function(a){if(0==a)throw d.g.F("Position attribue cannot be removed");
this.hasAttribute(a)&&(this.Sh[a]=-1,this.CE())};a.prototype.reset=function(){this.wg[0]=0;this.Ga=1;for(var a=0;a<this.Sh.length;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0;this.Zq=!0};a.prototype.Oz=function(){return l.zo().add(this)};a.Ig=function(){return l.zo().TT()};a.eq=function(){return l.zo().UT()};a.prototype.JO=function(){var a=this.jc();return new d.ma(a,this)};a.prototype.CE=function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Sh[a]&&(this.wg[b]=a,this.Sh[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.jc=
function(){this.Zq&&(this.bm=this.Ak(),this.Zq=!1);return this.bm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.wg[c]!=b.wg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.SH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.wg[b]!=a.wg[b])return!1;return!0};a.vx=function(a,b){for(var c=[],e=0;e<a.Ga;e++)c[e]=-1;for(var e=0,d=a.Ga;e<d;e++)c[e]=b.mg(a.rd(e));return c};a.uT=
function(b,e){b=new a(b);b.Ud(e);return b.Oz()};a.vT=function(b,e){for(var c=null,d=0;10>d;d++)!b.hasAttribute(d)&&e.hasAttribute(d)&&(null==c&&(c=new a(b)),c.Ud(d));return null!=c?c.Oz():b};a.ss=function(b,e){b=new a(b);b.removeAttribute(e);return b.Oz()};return a}(d.ma);d.ye=f;var l=function(){function b(){this.map=[];var a=new f;this.add(a);a=new f;a.Ud(1);this.add(a)}b.zo=function(){return b.iV};b.prototype.TT=function(){return b.aq};b.prototype.UT=function(){return b.bq};b.prototype.add=function(a){var c=
a.jc();if(null!=b.aq&&b.aq.jc()==c&&a.SH(b.aq))return b.aq;if(null!=b.bq&&b.bq.jc()==c&&a.SH(b.bq))return b.bq;var e=null;void 0!==this.map[c]&&(e=this.map[c]);null==e&&(e=a.JO(),1==e.Ga?b.aq=e:2==e.Ga&&1==e.rd(1)?b.bq=e:this.map[c]=e);return e};b.iV=new b;return b}()})(p||(p={}));var S=0==D.version.indexOf("4."),ea;(function(d){d[d.Linear=0]="Linear";d[d.Angular=1]="Angular";d[d.Area=2]="Area";d[d.LinearOrAngular=3]="LinearOrAngular"})(ea||(ea={}));var T={feet:9002,kilometers:9036,meters:9001,miles:9035,
"nautical-miles":9030,yards:9096},ca={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},Z={degrees:9102,radians:9101};void 0===n.prototype.getCacheValue&&B.extend(n,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,f){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=f}});var da=p.Sd.create(4326),
ba=p.Sd.create(102100);H=function(){function d(){}d.extendedSpatialReferenceInfo=function(d){if(null===d)return null;d=m(d);var f=d.Nd();return{tolerance:d.Bo(),unitType:null==f?-1:f.nd,unitID:null==f?-1:f.yc(),unitBaseFactor:null==f?0:f.Ai,unitSquareDerivative:null==f?0:p.oc.lH(f).yc()}};d.clip=function(d,f){if(null===d)return null;f=p.cc.clip(G(d),G(f),L(d));return C(f,d.spatialReference)};d.cut=function(d,f){f=G(f);f=p.cc.Hl(G(d),f,L(d));for(var b=[],a=0;a<f.length;a++)b.push(C(f[a],d.spatialReference));
return b};d.contains=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.contains(G(d),G(f),L(d))};d.crosses=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.yR(G(d),G(f),L(d))};d.distance=function(d,f,b){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.Cb(G(d),G(f),L(d),p.oc.ze(k(b,3)))};d.equals=function(d,f){return null===d&&null!==f||null===f&&null!==d?!1:p.cc.Eb(G(d),G(f),L(d))};d.intersects=
function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.NU(G(d),G(f),L(d))};d.touches=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.touches(G(d),G(f),L(d))};d.within=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.rZ(G(d),G(f),L(d))};d.disjoint=function(d,f){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.QR(G(d),G(f),L(d))};d.overlaps=function(d,f){if(null===
d||null===f)throw Error("Illegal Argument Exception");return p.cc.oW(G(d),G(f),L(d))};d.relate=function(d,f,b){if(null===d||null===f)throw Error("Illegal Argument Exception");return p.cc.YB(G(d),G(f),L(d),b)};d.isSimple=function(d){if(null===d)throw Error("Illegal Argument Exception");return p.cc.YU(G(d),L(d))};d.simplify=function(d){if(null===d)throw Error("Illegal Argument Exception");var f=p.cc.CC(G(d),L(d));return C(f,d.spatialReference)};d.convexHull=function(f,l){void 0===l&&(l=!1);if(null===
f)throw Error("Illegal Argument Exception");return!1===O(f)?(l=p.cc.hR(G(f),L(f)),C(l,f.spatialReference)):d.kZ(f,l)};d.kZ=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(G(d[a]));b=p.cc.iR(b,f);for(a=0;a<b.length;a++)b[a]=C(b[a],d[0].spatialReference);return b};d.difference=function(f,l){if(null===f||null===l)throw Error("Illegal Argument Exception");return!1===O(f)?(l=p.cc.Vm(G(f),G(l),L(f)),C(l,f.spatialReference)):d.hM(f,l)};d.hM=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(G(d[a]));
b=p.cc.NR(b,G(f),L(f));for(a=0;a<b.length;a++)b[a]=C(b[a],f.spatialReference);return b};d.symmetricDifference=function(f,l){if(null===f||null===l)throw Error("Illegal Argument Exception");return!1===O(f)?(l=p.cc.Pp(G(f),G(l),L(f)),C(l,f.spatialReference)):d.KM(f,l)};d.KM=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(G(d[a]));b=p.cc.OY(b,G(f),L(f));for(a=0;a<b.length;a++)b[a]=C(b[a],f.spatialReference);return b};d.intersect=function(f,l){if(null===f||null===l)throw Error("Illegal Argument Exception");
return!1===O(f)?(l=p.cc.Ma(G(f),G(l),L(f)),C(l,f.spatialReference)):d.wM(f,l)};d.wM=function(d,f){for(var b=[],a=0;a<d.length;a++)b.push(G(d[a]));b=p.cc.LU(b,G(f),L(f));for(a=0;a<b.length;a++)b[a]=C(b[a],f.spatialReference);return b};d.union=function(d,f){void 0===f&&(f=null);if(null===d)return null;!1===O(d)&&(d=[d],null!==f&&d.push(f));if(0===d.length)return null;f=[];for(var b=0;b<d.length;b++)f.push(G(d[b]));return C(p.cc.gZ(f,L(d[0])),d[0].spatialReference)};d.offset=function(f,l,b,a,c,e){var g=
0;if(null!=a&&void 0!=a)switch(a){case "round":g=0;break;case "bevel":g=1;break;case "miter":g=2;break;case "square":g=3}return!1===O(f)?(l=p.cc.offset(G(f),L(f),l,g,c,e,p.oc.ze(k(b,3))),C(l,f.spatialReference)):d.GM(f,l,b,g,c,e)};d.GM=function(d,f,b,a,c,e){if(null===d)return null;if(0===d.length)return[];for(var g=[],h=0;h<d.length;h++)g.push(G(d[h]));f=p.cc.mW(g,L(d[0]),f,a,c,e,p.oc.ze(k(b,3)));for(h=0;h<f.length;h++)f[h]=C(f[h],d[0].spatialReference);return f};d.buffer=function(f,l,b,a){void 0===
a&&(a=!1);if(!1===O(f))return l=p.cc.buffer(G(f),L(f),l,p.oc.ze(k(b,3)),!1,0,NaN),C(l,f.spatialReference);if("[object Array]"!==Object.prototype.toString.call(l)){for(var c=[],e=0;e<f.length;e++)c.push(l);l=c}if(l.length!=f.length){if(0==l.length)throw Error("Illegal Argument Exception");for(var c=[],g=0,e=0;e<f.length;e++)void 0===l[e]?c.push(g):(c.push(l[e]),g=l[e]);l=c}return d.qD(f,l,b,!1,a,"geodesic",NaN)};d.geodesicBuffer=function(f,l,b,a,c,e){if(!1===O(f))return void 0===c&&(c=NaN),l=p.cc.buffer(G(f),
L(f),l,p.oc.ze(k(b,0)),!0,M(a),c),C(l,f.spatialReference);if("[object Array]"!==Object.prototype.toString.call(l)){for(var g=[],h=0;h<f.length;h++)g.push(l);l=g}if(l.length!=f.length){if(0==l.length)throw Error("Illegal Argument Exception");for(var g=[],m=0,h=0;h<f.length;h++)void 0===l[h]?g.push(m):(g.push(l[h]),m=l[h]);l=g}return d.qD(f,l,b,!0,a,c,e)};d.qD=function(d,f,b,a,c,e,g){if(null===d)return null;if(0===d.length)return[];void 0===g&&(g=NaN);for(var h=[],l=0;l<d.length;l++)h.push(G(d[l]));
f=p.cc.QP(h,L(d[0]),f,p.oc.ze(k(b,0)),a,c,M(e),g);for(l=0;l<f.length;l++)f[l]=C(f[l],d[0].spatialReference);return f};d.nearestCoordinate=function(d,f,b){void 0===b&&(b=!0);f=p.cc.Zz(G(d),G(f),b);return{coordinate:C(f.Nz(),d.spatialReference),distance:f.Qz(),isRightSide:f.zA(),vertexIndex:f.Za(),isEmpty:f.u()}};d.nearestVertex=function(d,f){f=p.cc.$z(G(d),G(f));return{coordinate:C(f.Nz(),d.spatialReference),distance:f.Qz(),isRightSide:f.zA(),vertexIndex:f.Za(),isEmpty:f.u()}};d.nearestVertices=function(d,
f,b,a){f=G(f);b=p.cc.aA(G(d),f,b,a);a=[];for(f=0;f<b.length;f++)!1===b[f].u()&&a.push({coordinate:C(b[f].Nz(),d.spatialReference),distance:b[f].Qz(),isRightSide:b[f].zA(),vertexIndex:b[f].Za(),isEmpty:b[f].u()});return a};d.generalize=function(d,f,b,a){f=p.cc.GS(G(d),L(d),f,b,p.oc.ze(k(a,3)));return C(f,d.spatialReference)};d.densify=function(d,f,b){f=p.cc.Ls(G(d),L(d),f,p.oc.ze(k(b,3)));return C(f,d.spatialReference)};d.geodesicDensify=function(d,f,b,a){void 0===a&&(a=0);f=p.cc.Ez(G(d),L(d),f,p.oc.ze(k(b,
3)),a);return C(f,d.spatialReference)};d.rotate=function(d,f,b){if(void 0===b||null===b)void 0!==d.x?b=d:void 0!==d.xmin?(!1===d instanceof n&&(d=S?x(d):t(d)),b=S?d.get("center"):d.getCenter()):(!1===d instanceof n&&(d=S?x(d):t(d)),b=S?d.get("extent").get("center"):d.getExtent().getCenter());f=S?p.Wp.rotate(d.toJSON?d.toJSON():d,f,b.toJSON?b.toJSON():b):p.Wp.rotate(d.toJson?d.toJson():d,f,b.toJson?b.toJson():b);S?(f=x(f),f.set("spatialReference",d.spatialReference)):(f=t(f),f.setSpatialReference(d.spatialReference));
return f};d.flipHorizontal=function(d,f){if(void 0===f||null===f)void 0!==d.x?f=d:void 0!==d.xmin?(!1===d instanceof n&&(d=S?x(d):t(d)),f=S?d.get("center"):d.getCenter()):(!1===d instanceof n&&(d=S?x(d):t(d)),f=S?d.get("extent").get("center"):d.getExtent().getCenter());f=S?p.Wp.zG(d.toJSON?d.toJSON():d,f.toJSON?f.toJSON():f):p.Wp.zG(d.toJson?d.toJson():d,f.toJson?f.toJson():f);S?(f=x(f),f.set("spatialReference",d.spatialReference)):(f=t(f),f.setSpatialReference(d.spatialReference));return f};d.flipVertical=
function(d,f){if(void 0===f||null===f)void 0!==d.x?f=d:void 0!==d.xmin?(!1===d instanceof n&&(d=S?x(d):t(d)),f=S?d.get("center"):d.getCenter()):(!1===d instanceof n&&(d=S?x(d):t(d)),f=S?d.get("extent").get("center"):d.getExtent().getCenter());f=S?p.Wp.AG(d.toJSON?d.toJSON():d,f.toJSON?f.toJSON():f):p.Wp.AG(d.toJson?d.toJson():d,f.toJson?f.toJson():f);S?(f=x(f),f.set("spatialReference",d.spatialReference)):(f=t(f),f.setSpatialReference(d.spatialReference));return f};d.planarArea=function(d,f){if(null===
d)throw Error("Illegal Argument Exception");return p.cc.wW(G(d),L(d),p.oc.ze(k(f,2)))};d.planarLength=function(d,f){if(null===d)throw Error("Illegal Argument Exception");return p.cc.xW(G(d),L(d),p.oc.ze(k(f,3)))};d.geodesicArea=function(d,f,b){if(null===d)throw Error("Illegal Argument Exception");return p.cc.MS(G(d),L(d),p.oc.ze(k(f,2)),M(b))};d.geodesicLength=function(d,f,b){if(null===d)throw Error("Illegal Argument Exception");return p.cc.QS(G(d),L(d),p.oc.ze(k(f,0)),M(b))};d._enableProjection=
function(f){d.FE=!0;p.AN.bind(f)};d.Mg=function(d){return m(d).Ao()};d._getTransformation=function(d,f,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw p.g.F("AOI missing Spatial Reference");a=G(b);c=m(b.spatialReference).Ao()}d=p.Ou.QT(m(d).Ao(),m(f).Ao(),a,c);return null!==d?d:null};d._getTransformationBySuitability=function(d,f,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw p.g.F("AOI missing Spatial Reference");a=G(b);c=m(b.spatialReference).Ao()}return p.Ou.RT(m(d).Ao(),
m(f).Ao(),a,c)};d.cZ=function(f,l,b){var a=null;if(b){var c=b.getGTListEntry();if(null!==c){for(var a=new p.ny(null),e=0,g=c.steps;e<g.length;e++){var c=g[e],h=new p.io(c.geogtran);c.isInverse&&h.kt();a.add(h)}a=p.rs.Is(d.Mg(f),d.Mg(l),a);b.assignCachedGe(f,l,a);return a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new p.ny(null);e=0;for(g=b.steps;e<g.length;e++)c=g[e],-1!=c.wkid&&null!==c.wkid&&void 0!==c.wkid?a.add(p.io.create(c.wkid,c.isInverse)):a.add(p.io.fG(c.wkt,c.isInverse));a=p.rs.Is(d.Mg(f),
d.Mg(l),a);b.assignCachedGe(f,l,a);return a}return p.rs.Is(d.Mg(f),d.Mg(l),a)};d._project=function(f,l,b,a,c){void 0===a&&(a=null);void 0===c&&(c=!1);if(!1===this.FE)throw Error("Projection Engine must be enabled using enableProjection");if(0===f.length)return[];if(a){var e=a.getCachedGeTransformation(l,b);e||(e=d.cZ(l,b,a));l=[];var g=0}else e=p.rs.Is(d.Mg(l),d.Mg(b),null),l=[],g=0;for(;g<f.length;g++)a=f[g],l.push(d.mD(a,b,e,c));return l};d.mD=function(d,f,b,a){d=p.cc.Xg(G(d),b);return a?Y(d):C(d,
f)};d.FE=!1;return d}();void 0===n.prototype.getCacheValue&&B.extend(n,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,f){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=f}});return H})},"esri/widgets/Sketch/support/OperationHandle":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators".split(" "),
function(H,F,D,n,w,r,v,E){Object.defineProperty(F,"__esModule",{value:!0});H=function(v){function w(){var n=null!==v&&v.apply(this,arguments)||this;n.cancelled=!1;n.history={undo:[],redo:[]};n.type=null;return n}D(w,v);Object.defineProperty(w.prototype,"tool",{get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":break;
default:r.neverReached(this.activeComponent)}return null},enumerable:!0,configurable:!0});w.prototype.addToHistory=function(n){this.history.redo=[];this.history.undo.push(n)};w.prototype.resetHistory=function(){this.history.redo=[];this.history.undo=[]};w.prototype.canUndo=function(){return 0<this.history.undo.length};w.prototype.canRedo=function(){return 0<this.history.redo.length};w.prototype.complete=function(){this.cleanUp();this.onEnd();this.emit("complete")};w.prototype.cancel=function(){this._set("cancelled",
!0);this.cleanUp();this.onEnd();this.emit("cancel")};w.prototype.cleanUp=function(){this.activeComponent.reset()};w.prototype.refreshComponent=function(){var n=this.activeComponent;n&&("box"!==n.type&&"reshape"!==n.type||n.refresh())};Object.defineProperty(w.prototype,"undo",{set:function(n){var r=this;this._set("undo",function(){r.canUndo()&&n()})},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"redo",{set:function(n){var r=this;this._set("redo",function(){r.canRedo()&&n()})},
enumerable:!0,configurable:!0});n([E.property()],w.prototype,"activeComponent",void 0);n([E.property()],w.prototype,"cancelled",void 0);n([E.property()],w.prototype,"history",void 0);n([E.property({dependsOn:["activeComponent"]})],w.prototype,"tool",null);n([E.property()],w.prototype,"type",void 0);n([E.property()],w.prototype,"addToHistory",null);n([E.property()],w.prototype,"resetHistory",null);n([E.property()],w.prototype,"canUndo",null);n([E.property()],w.prototype,"canRedo",null);n([E.property()],
w.prototype,"complete",null);n([E.property()],w.prototype,"cancel",null);n([E.property()],w.prototype,"cleanUp",null);n([E.property()],w.prototype,"refreshComponent",null);n([E.property()],w.prototype,"onEnd",void 0);n([E.property()],w.prototype,"undo",null);n([E.property()],w.prototype,"redo",null);n([E.property()],w.prototype,"toggleTool",void 0);n([E.property()],w.prototype,"addToSelection",void 0);n([E.property()],w.prototype,"removeFromSelection",void 0);return w=n([E.subclass("esri.widgets.Sketch.support.OperationHandle")],
w)}(E.declared(w,v));F.OperationHandle=H})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(H,F,D,n,w,r,v,E,I,B,t,x){function k(f,k){return D.doc.createElementNS?D.doc.createElementNS(f,k):D.doc.createElement(k)}function M(f,k,m,n){return f.setAttributeNS?f.setAttributeNS(k,m,n):f.setAttribute(m,n)}function C(k){return f.useSvgWeb?
D.doc.createTextNode(k,!0):D.doc.createTextNode(k)}var f=B.svg={};f.useSvgWeb="undefined"!=typeof window.svgweb;var m=navigator.userAgent,G=F("ios"),L=F("chrome")?"auto":"optimizeLegibility";f.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};f.getRef=function(f){return f&&"none"!=f?f.match(/^url\(#.+\)$/)?n.byId(f.slice(5,-1)):f.match(/^#dojoUnique\d+$/)?n.byId(f.slice(1)):null:null};f.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,
1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var O=0;f.Shape=w("dojox.gfx.svg.Shape",t.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var k=this.rawNode.getAttribute("fill");(k=f.getRef(k))&&k.parentNode.removeChild(k)}this.clip&&(k=this.rawNode.getAttribute("clip-path"))&&(k=n.byId(k.match(/gfx_clip[\d]+/)[0]))&&k.parentNode.removeChild(k);t.Shape.prototype.destroy.apply(this,arguments)},setFill:function(f){if(!f)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var k,m=function(f){this.setAttribute(f,k[f].toFixed(8))};if("object"==typeof f&&"type"in f){switch(f.type){case "linear":k=B.makeParameters(B.defaultLinearGradient,f);f=this._setFillObject(k,"linearGradient");r.forEach(["x1","y1","x2","y2"],m,f);break;case "radial":k=B.makeParameters(B.defaultRadialGradient,f);f=this._setFillObject(k,"radialGradient");r.forEach(["cx","cy","r"],m,f);break;case "pattern":k=
B.makeParameters(B.defaultPattern,f),f=this._setFillObject(k,"pattern"),r.forEach(["x","y","width","height"],m,f)}this.fillStyle=k;return this}this.fillStyle=k=B.normalizeColor(f);this.rawNode.setAttribute("fill",k.toCss());this.rawNode.setAttribute("fill-opacity",k.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(k){var m=this.rawNode;if(!k)return this.strokeStyle=null,m.setAttribute("stroke","none"),m.setAttribute("stroke-opacity",0),this;if("string"==typeof k||
H.isArray(k)||k instanceof I)k={color:k};k=this.strokeStyle=B.makeParameters(B.defaultStroke,k);k.color=B.normalizeColor(k.color);if(k){var p=0>k.width?0:k.width;m.setAttribute("stroke",k.color.toCss());m.setAttribute("stroke-opacity",k.color.a);m.setAttribute("stroke-width",p);m.setAttribute("stroke-linecap",k.cap);"number"==typeof k.join?(m.setAttribute("stroke-linejoin","miter"),m.setAttribute("stroke-miterlimit",k.join)):m.setAttribute("stroke-linejoin",k.join);var n=k.style.toLowerCase();n in
f.dasharray&&(n=f.dasharray[n]);if(n instanceof Array){var n=H._toArray(n),r;for(r=0;r<n.length;++r)n[r]*=p;if("butt"!=k.cap){for(r=0;r<n.length;r+=2)n[r]-=p,1>n[r]&&(n[r]=1);for(r=1;r<n.length;r+=2)n[r]+=p}n=n.join(",")}m.setAttribute("stroke-dasharray",n);m.setAttribute("dojoGfxStrokeStyle",k.style)}return this},_getParentSurface:function(){for(var f=this.parent;f&&!(f instanceof B.Surface);f=f.parent);return f},_setFillObject:function(m,n){var p=f.xmlns.svg;this.fillStyle=m;var r=this._getParentSurface().defNode,
t=this.rawNode.getAttribute("fill");if(t=f.getRef(t))if(t.tagName.toLowerCase()!=n.toLowerCase()){var z=t.id;t.parentNode.removeChild(t);t=k(p,n);t.setAttribute("id",z);r.appendChild(t)}else for(;t.childNodes.length;)t.removeChild(t.lastChild);else t=k(p,n),t.setAttribute("id",B._base._getUniqueId()),r.appendChild(t);if("pattern"==n)t.setAttribute("patternUnits","userSpaceOnUse"),p=k(p,"image"),p.setAttribute("x",0),p.setAttribute("y",0),p.setAttribute("width",(0>m.width?0:m.width).toFixed(8)),p.setAttribute("height",
(0>m.height?0:m.height).toFixed(8)),M(p,f.xmlns.xlink,"xlink:href",m.src),t.appendChild(p);else for(t.setAttribute("gradientUnits","userSpaceOnUse"),n=0;n<m.colors.length;++n){var r=m.colors[n],z=k(p,"stop"),v=r.color=B.normalizeColor(r.color);z.setAttribute("offset",r.offset.toFixed(8));z.setAttribute("stop-color",v.toCss());z.setAttribute("stop-opacity",v.a);t.appendChild(z)}this.rawNode.setAttribute("fill","url(#"+t.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return t},_applyTransform:function(){if(this.matrix){var f=this.matrix;this.rawNode.setAttribute("transform","matrix("+f.xx.toFixed(8)+","+f.yx.toFixed(8)+","+f.xy.toFixed(8)+","+f.yy.toFixed(8)+","+f.dx.toFixed(8)+","+f.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(f){f=this.rawNode=f;"image"!=this.shape.type&&f.setAttribute("fill","none");f.setAttribute("fill-opacity",0);f.setAttribute("stroke","none");f.setAttribute("stroke-opacity",
0);f.setAttribute("stroke-width",1);f.setAttribute("stroke-linecap","butt");f.setAttribute("stroke-linejoin","miter");f.setAttribute("stroke-miterlimit",4);f.__gfxObject__=this},setShape:function(f){this.shape=B.makeParameters(this.shape,f);for(var k in this.shape)if("type"!=k){f=this.shape[k];if("width"===k||"height"===k)f=0>f?0:f;this.rawNode.setAttribute(k,f)}this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(m){this.inherited(arguments);var p=m?"width"in m?"rect":"cx"in m?"ellipse":"points"in m?"polyline":"d"in m?"path":null:null;if(m&&!p)return this;"polyline"===p&&(m=H.clone(m),m.points=m.points.join(","));var r,t=E.get(this.rawNode,"clip-path");t&&(r=n.byId(t.match(/gfx_clip[\d]+/)[0]))&&r.removeChild(r.childNodes[0]);m?(r?(p=k(f.xmlns.svg,p),r.appendChild(p)):(t="gfx_clip"+ ++O,this.rawNode.setAttribute("clip-path","url(#"+t+")"),r=
k(f.xmlns.svg,"clipPath"),p=k(f.xmlns.svg,p),r.appendChild(p),this.rawNode.parentNode.insertBefore(r,this.rawNode),E.set(r,"id",t)),E.set(p,m)):(this.rawNode.removeAttribute("clip-path"),r&&r.parentNode.removeChild(r));return this},_removeClipNode:function(){var f,k=E.get(this.rawNode,"clip-path");k&&(f=n.byId(k.match(/gfx_clip[\d]+/)[0]))&&f.parentNode.removeChild(f);return f}});f.Group=w("dojox.gfx.svg.Group",f.Shape,{constructor:function(){t.Container._init.call(this)},setRawNode:function(f){this.rawNode=
f;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);f.Shape.prototype.destroy.apply(this,arguments)}});f.Group.nodeType="g";f.Rect=w("dojox.gfx.svg.Rect",[f.Shape,t.Rect],{setShape:function(f){this.shape=B.makeParameters(this.shape,f);this.bbox=null;for(var k in this.shape)if("type"!=k&&"r"!=k){f=this.shape[k];if("width"===k||"height"===k)f=0>f?0:f;this.rawNode.setAttribute(k,f)}null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));
return this}});f.Rect.nodeType="rect";f.Ellipse=w("dojox.gfx.svg.Ellipse",[f.Shape,t.Ellipse],{});f.Ellipse.nodeType="ellipse";f.Circle=w("dojox.gfx.svg.Circle",[f.Shape,t.Circle],{});f.Circle.nodeType="circle";f.Line=w("dojox.gfx.svg.Line",[f.Shape,t.Line],{});f.Line.nodeType="line";f.Polyline=w("dojox.gfx.svg.Polyline",[f.Shape,t.Polyline],{setShape:function(f,k){f&&f instanceof Array?(this.shape=B.makeParameters(this.shape,{points:f}),k&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):
this.shape=B.makeParameters(this.shape,f);this.bbox=null;this._normalizePoints();f=[];k=this.shape.points;for(var m=0;m<k.length;++m)f.push(k[m].x.toFixed(8),k[m].y.toFixed(8));this.rawNode.setAttribute("points",f.join(" "));return this}});f.Polyline.nodeType="polyline";f.Image=w("dojox.gfx.svg.Image",[f.Shape,t.Image],{setShape:function(k){this.shape=B.makeParameters(this.shape,k);this.bbox=null;k=this.rawNode;for(var m in this.shape)if("type"!=m&&"src"!=m){var n=this.shape[m];if("width"===m||"height"===
m)n=0>n?0:n;k.setAttribute(m,n)}k.setAttribute("preserveAspectRatio","none");M(k,f.xmlns.xlink,"xlink:href",this.shape.src);k.__gfxObject__=this;return this}});f.Image.nodeType="image";f.Text=w("dojox.gfx.svg.Text",[f.Shape,t.Text],{setShape:function(f){this.shape=B.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var k=this.shape;f.setAttribute("x",k.x);f.setAttribute("y",k.y);f.setAttribute("text-anchor",k.align);f.setAttribute("text-decoration",k.decoration);f.setAttribute("rotate",k.rotated?
90:0);f.setAttribute("kerning",k.kerning?"auto":0);f.setAttribute("text-rendering",L);f.firstChild?f.firstChild.nodeValue=k.text:f.appendChild(C(k.text));return this},getTextWidth:function(){var f=this.rawNode,k=f.parentNode,f=f.cloneNode(!0);f.style.visibility="hidden";var m=0,n=f.firstChild.nodeValue;k.appendChild(f);if(""!=n)for(;!m;)m=f.getBBox?parseInt(f.getBBox().width):68;k.removeChild(f);return m},getBoundingBox:function(){var f=null;if(this.getShape().text)try{f=this.rawNode.getBBox()}catch(z){f=
{x:0,y:0,width:0,height:0}}return f}});f.Text.nodeType="text";f.Path=w("dojox.gfx.svg.Path",[f.Shape,x.Path],{_updateWithSegment:function(f){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(f){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});f.Path.nodeType="path";f.TextPath=w("dojox.gfx.svg.TextPath",[f.Shape,x.TextPath],{_updateWithSegment:function(f){this.inherited(arguments);
this._setTextPath()},setShape:function(f){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var m=this.rawNode;if(!m.firstChild){var n=k(f.xmlns.svg,"textPath"),r=C("");n.appendChild(r);m.appendChild(n)}n=(n=m.firstChild.getAttributeNS(f.xmlns.xlink,"href"))&&f.getRef(n);if(!n&&(r=this._getParentSurface())){var r=r.defNode,n=k(f.xmlns.svg,"path"),t=B._base._getUniqueId();n.setAttribute("id",t);r.appendChild(n);M(m.firstChild,f.xmlns.xlink,
"xlink:href","#"+t)}n&&n.setAttribute("d",this.shape.path)}},_setText:function(){var m=this.rawNode;if(!m.firstChild){var n=k(f.xmlns.svg,"textPath"),r=C("");n.appendChild(r);m.appendChild(n)}m=m.firstChild;n=this.text;m.setAttribute("alignment-baseline","middle");switch(n.align){case "middle":m.setAttribute("text-anchor","middle");m.setAttribute("startOffset","50%");break;case "end":m.setAttribute("text-anchor","end");m.setAttribute("startOffset","100%");break;default:m.setAttribute("text-anchor",
"start"),m.setAttribute("startOffset","0%")}m.setAttribute("baseline-shift","0.5ex");m.setAttribute("text-decoration",n.decoration);m.setAttribute("rotate",n.rotated?90:0);m.setAttribute("kerning",n.kerning?"auto":0);m.firstChild.data=n.text}});f.TextPath.nodeType="text";var Y=534<function(){var f=/WebKit\/(\d*)/.exec(m);return f?f[1]:0}();f.Surface=w("dojox.gfx.svg.Surface",t.Surface,{constructor:function(){t.Container._init.call(this)},destroy:function(){t.Container.clear.call(this,!0);this.defNode=
null;this.inherited(arguments)},setDimensions:function(f,k){if(!this.rawNode)return this;f=0>f?0:f;k=0>k?0:k;this.rawNode.setAttribute("width",f);this.rawNode.setAttribute("height",k);Y&&(this.rawNode.style.width=f,this.rawNode.style.height=k);return this},getDimensions:function(){return this.rawNode?{width:B.normalizedLength(this.rawNode.getAttribute("width")),height:B.normalizedLength(this.rawNode.getAttribute("height"))}:null}});f.createSurface=function(m,r,t){var p=new f.Surface;p.rawNode=k(f.xmlns.svg,
"svg");p.rawNode.setAttribute("overflow","hidden");r&&p.rawNode.setAttribute("width",0>r?0:r);t&&p.rawNode.setAttribute("height",0>t?0:t);r=k(f.xmlns.svg,"defs");p.rawNode.appendChild(r);p.defNode=r;p._parent=n.byId(m);p._parent.appendChild(p.rawNode);B._base._fixMsTouchAction(p);return p};F={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",
f.size);this.rawNode.setAttribute("font-family",f.family)}};var J=t.Container;w=f.Container={openBatch:function(){if(!this._batch){var k;k=f.useSvgWeb?D.doc.createDocumentFragment(!0):D.doc.createDocumentFragment();this.fragment=k}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(f){this!=f.getParent()&&(this.fragment?this.fragment.appendChild(f.rawNode):
this.rawNode.appendChild(f.rawNode),J.add.apply(this,arguments),f.setClip(f.clip));return this},remove:function(f,k){this==f.getParent()&&(this.rawNode==f.rawNode.parentNode&&this.rawNode.removeChild(f.rawNode),this.fragment&&this.fragment==f.rawNode.parentNode&&this.fragment.removeChild(f.rawNode),f._removeClipNode(),J.remove.apply(this,arguments));return this},clear:function(){for(var f=this.rawNode;f.lastChild;)f.removeChild(f.lastChild);var k=this.defNode;if(k){for(;k.lastChild;)k.removeChild(k.lastChild);
f.appendChild(k)}return J.clear.apply(this,arguments)},getBoundingBox:J.getBoundingBox,_moveChildToFront:J._moveChildToFront,_moveChildToBack:J._moveChildToBack};x=f.Creator={createObject:function(m,n){if(!this.rawNode)return null;var p=new m;m=k(f.xmlns.svg,m.nodeType);p.setRawNode(m);p.setShape(n);this.add(p);return p}};H.extend(f.Text,F);H.extend(f.TextPath,F);H.extend(f.Group,w);H.extend(f.Group,t.Creator);H.extend(f.Group,x);H.extend(f.Surface,w);H.extend(f.Surface,t.Creator);H.extend(f.Surface,
x);f.fixTarget=function(f,k){f.gfxTarget||(f.gfxTarget=G&&f.target.wholeText?f.target.parentElement.__gfxObject__:f.target.__gfxObject__);return!0};f.useSvgWeb&&(f.createSurface=function(m,r,t){var p=new f.Surface;r=0>r?0:r;t=0>t?0:t;if(!r||!t){var z=v.position(m);r=r||z.w;t=t||z.h}m=n.byId(m);var z=m.id?m.id+"_svgweb":B._base._getUniqueId(),x=k(f.xmlns.svg,"svg");x.id=z;x.setAttribute("width",r);x.setAttribute("height",t);svgweb.appendChild(x,m);x.addEventListener("SVGLoad",function(){p.rawNode=
this;p.isLoaded=!0;var m=k(f.xmlns.svg,"defs");p.rawNode.appendChild(m);p.defNode=m;if(p.onLoad)p.onLoad(p)},!1);p.isLoaded=!1;return p},f.Surface.extend({destroy:function(){var f=this.rawNode;svgweb.removeChild(f,f.parentNode)}}),F={connect:function(f,k,m){"on"===f.substring(0,2)&&(f=f.substring(2));m=2==arguments.length?k:H.hitch(k,m);this.getEventSource().addEventListener(f,m,!1);return[this,f,m]},disconnect:function(f){this.getEventSource().removeEventListener(f[1],f[2],!1);delete f[0]}},H.extend(f.Shape,
F),H.extend(f.Surface,F));return f})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(H,F,D,n,w,r,v,E,I,B){function t(k,n){for(var r=k.length-1;n<r;)k[n]=k[++n];k.length=r}var x=H.shape={};x.Shape=D("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=
this.rawNode=null;if(w("gfxRegistry")){var k=x.register(this);this.getUID=function(){return k}}},destroy:function(){w("gfxRegistry")&&x.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},
getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var k=this.getBoundingBox();if(!k)return null;var n=this._getRealMatrix();return[B.multiplyPoint(n,k.x,k.y),B.multiplyPoint(n,k.x+k.width,k.y),B.multiplyPoint(n,k.x+k.width,k.y+k.height),B.multiplyPoint(n,k.x,k.y+k.height)]},getEventSource:function(){return this.rawNode},setClip:function(k){this.clip=k},getClip:function(){return this.clip},setShape:function(k){this.shape=H.makeParameters(this.shape,k);this.bbox=null;
return this},setFill:function(k){if(!k)return this.fillStyle=null,this;var n=null;if("object"==typeof k&&"type"in k)switch(k.type){case "linear":n=H.makeParameters(H.defaultLinearGradient,k);break;case "radial":n=H.makeParameters(H.defaultRadialGradient,k);break;case "pattern":n=H.makeParameters(H.defaultPattern,k)}else n=H.normalizeColor(k);this.fillStyle=n;return this},setStroke:function(k){if(!k)return this.strokeStyle=null,this;if("string"==typeof k||F.isArray(k)||k instanceof I)k={color:k};k=
this.strokeStyle=H.makeParameters(H.defaultStroke,k);k.color=H.normalizeColor(k.color);return this},setTransform:function(k){this.matrix=B.clone(k?B.normalize(k):B.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var k=this.getParent();k&&(k._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var k=this.getParent();k&&(k._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},
applyRightTransform:function(k){return k?this.setTransform([this.matrix,k]):this},applyLeftTransform:function(k){return k?this.setTransform([k,this.matrix]):this},applyTransform:function(k){return k?this.setTransform([this.matrix,k]):this},removeShape:function(k){this.parent&&this.parent.remove(this,k);return this},_setParent:function(k,n){this.parent=k;return this._updateParentMatrix(n)},_updateParentMatrix:function(k){this.parentMatrix=k?B.clone(k):null;return this._applyTransform()},_getRealMatrix:function(){for(var k=
this.matrix,n=this.parent;n;)n.matrix&&(k=B.multiply(n.matrix,k)),n=n.parent;return k}});x._eventsProcessing={on:function(k,n){return r(this.getEventSource(),k,x.fixCallback(this,H.fixTarget,n))},connect:function(k,n,r){"on"==k.substring(0,2)&&(k=k.substring(2));return this.on(k,r?F.hitch(n,r):n)},disconnect:function(k){return k.remove()}};x.fixCallback=function(k,r,t,f){f||(f=t,t=null);if(F.isString(f)){t=t||n.global;if(!t[f])throw['dojox.gfx.shape.fixCallback: scope["',f,'"] is null (scope\x3d"',
t,'")'].join("");return function(m){return r(m,k)?t[f].apply(t,arguments||[]):void 0}}return t?function(m){return r(m,k)?f.apply(t,arguments||[]):void 0}:function(m){return r(m,k)?f.apply(t,arguments):void 0}};F.extend(x.Shape,x._eventsProcessing);x.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(k){var n=k.getParent();n&&n.remove(k,!0);this.children.push(k);return k._setParent(this,this._getRealMatrix())},
remove:function(k,n){for(var r=0;r<this.children.length;++r)if(this.children[r]==k){n||(k.parent=null,k.parentMatrix=null);t(this.children,r);break}return this},clear:function(k){for(var n,r=0;r<this.children.length;++r)n=this.children[r],n.parent=null,n.parentMatrix=null,k&&n.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var k=null;v.forEach(this.children,function(n){var r=n.getBoundingBox();r&&((n=n.getTransform())&&(r=B.multiplyRectangle(n,r)),k?(k.x=Math.min(k.x,
r.x),k.y=Math.min(k.y,r.y),k.endX=Math.max(k.endX,r.x+r.width),k.endY=Math.max(k.endY,r.y+r.height)):k={x:r.x,y:r.y,endX:r.x+r.width,endY:r.y+r.height})});k&&(k.width=k.endX-k.x,k.height=k.endY-k.y);return k}return null},_moveChildToFront:function(k){for(var n=0;n<this.children.length;++n)if(this.children[n]==k){t(this.children,n);this.children.push(k);break}return this},_moveChildToBack:function(k){for(var n=0;n<this.children.length;++n)if(this.children[n]==k){t(this.children,n);this.children.unshift(k);
break}return this}};x.Surface=D("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){v.forEach(this._nodes,E.destroy);this._nodes=[];v.forEach(this._events,function(k){k&&k.remove()});this._events=[];this.rawNode=null;if(w("ie"))for(;this._parent.lastChild;)E.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},
isLoaded:!0,onLoad:function(k){},whenLoaded:function(k,n){var t=F.hitch(k,n);if(this.isLoaded)t(this);else r.once(this,"load",function(f){t(f)})}});F.extend(x.Surface,x._eventsProcessing);x.Rect=D("dojox.gfx.shape.Rect",x.Shape,{constructor:function(k){this.shape=H.getDefault("Rect");this.rawNode=k},getBoundingBox:function(){return this.shape}});x.Ellipse=D("dojox.gfx.shape.Ellipse",x.Shape,{constructor:function(k){this.shape=H.getDefault("Ellipse");this.rawNode=k},getBoundingBox:function(){if(!this.bbox){var k=
this.shape;this.bbox={x:k.cx-k.rx,y:k.cy-k.ry,width:2*k.rx,height:2*k.ry}}return this.bbox}});x.Circle=D("dojox.gfx.shape.Circle",x.Shape,{constructor:function(k){this.shape=H.getDefault("Circle");this.rawNode=k},getBoundingBox:function(){if(!this.bbox){var k=this.shape;this.bbox={x:k.cx-k.r,y:k.cy-k.r,width:2*k.r,height:2*k.r}}return this.bbox}});x.Line=D("dojox.gfx.shape.Line",x.Shape,{constructor:function(k){this.shape=H.getDefault("Line");this.rawNode=k},getBoundingBox:function(){if(!this.bbox){var k=
this.shape;this.bbox={x:Math.min(k.x1,k.x2),y:Math.min(k.y1,k.y2),width:Math.abs(k.x2-k.x1),height:Math.abs(k.y2-k.y1)}}return this.bbox}});x.Polyline=D("dojox.gfx.shape.Polyline",x.Shape,{constructor:function(k){this.shape=H.getDefault("Polyline");this.rawNode=k},setShape:function(k,n){k&&k instanceof Array?(this.inherited(arguments,[{points:k}]),n&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[k]);return this},_normalizePoints:function(){var k=
this.shape.points,n=k&&k.length;if(n&&"number"==typeof k[0]){for(var r=[],f=0;f<n;f+=2)r.push({x:k[f],y:k[f+1]});this.shape.points=r}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var k=this.shape.points,n=k.length,r=k[0],f=r.x,m=r.y,t=r.x,v=r.y,x=1;x<n;++x)r=k[x],f>r.x&&(f=r.x),t<r.x&&(t=r.x),m>r.y&&(m=r.y),v<r.y&&(v=r.y);this.bbox={x:f,y:m,width:t-f,height:v-m}}return this.bbox}});x.Image=D("dojox.gfx.shape.Image",x.Shape,{constructor:function(k){this.shape=H.getDefault("Image");
this.rawNode=k},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});x.Text=D(x.Shape,{constructor:function(k){this.fontStyle=null;this.shape=H.getDefault("Text");this.rawNode=k},getFont:function(){return this.fontStyle},setFont:function(k){this.fontStyle="string"==typeof k?H.splitFontString(k):H.makeParameters(H.defaultFont,k);this._setFont();return this},getBoundingBox:function(){var k=null;this.getShape().text&&(k=H._base._computeTextBoundingBox(this));
return k}});x.Creator={createShape:function(k){switch(k.type){case H.defaultPath.type:return this.createPath(k);case H.defaultRect.type:return this.createRect(k);case H.defaultCircle.type:return this.createCircle(k);case H.defaultEllipse.type:return this.createEllipse(k);case H.defaultLine.type:return this.createLine(k);case H.defaultPolyline.type:return this.createPolyline(k);case H.defaultImage.type:return this.createImage(k);case H.defaultText.type:return this.createText(k);case H.defaultTextPath.type:return this.createTextPath(k)}return null},
createGroup:function(){return this.createObject(H.Group)},createRect:function(k){return this.createObject(H.Rect,k)},createEllipse:function(k){return this.createObject(H.Ellipse,k)},createCircle:function(k){return this.createObject(H.Circle,k)},createLine:function(k){return this.createObject(H.Line,k)},createPolyline:function(k){return this.createObject(H.Polyline,k)},createImage:function(k){return this.createObject(H.Image,k)},createText:function(k){return this.createObject(H.Text,k)},createPath:function(k){return this.createObject(H.Path,
k)},createTextPath:function(k){return this.createObject(H.TextPath,{}).setText(k)},createObject:function(k,n){return null}};return x})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(H,F,D,n,w){w=D("dojox.gfx.path.Path",w.Shape,{constructor:function(n){this.shape=F.clone(H.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=n;this.segmented=!1},setAbsoluteMode:function(n){this._confirmSegmented();
this.absolute="string"==typeof n?"absolute"==n:n;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var n=this.bbox,v=this._getRealMatrix();this.bbox=null;for(var w=0,D=this.segments.length;w<D;++w)this._updateWithSegment(this.segments[w],
v);v=this.bbox;this.bbox=n;return this.tbbox=v?[{x:v.l,y:v.t},{x:v.r,y:v.t},{x:v.r,y:v.b},{x:v.l,y:v.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(r,v,w){w&&(v=n.multiplyPoint(w,r,v),r=v.x,v=v.y);this.bbox&&"l"in this.bbox?(this.bbox.l>r&&(this.bbox.l=r),this.bbox.r<r&&(this.bbox.r=r),this.bbox.t>v&&(this.bbox.t=v),this.bbox.b<v&&(this.bbox.b=v)):
this.bbox={l:r,b:v,r:r,t:v}},_updateWithSegment:function(n,v){var r=n.args,w=r.length,B;switch(n.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(B=0;B<w;B+=2)this._updateBBox(r[B],r[B+1],v);this.last.x=r[w-2];this.last.y=r[w-1];this.absolute=!0;break;case "H":for(B=0;B<w;++B)this._updateBBox(r[B],this.last.y,v);this.last.x=r[w-1];this.absolute=!0;break;case "V":for(B=0;B<w;++B)this._updateBBox(this.last.x,r[B],v);this.last.y=r[w-1];this.absolute=!0;break;case "m":B=0;"x"in this.last||
(this._updateBBox(this.last.x=r[0],this.last.y=r[1],v),B=2);for(;B<w;B+=2)this._updateBBox(this.last.x+=r[B],this.last.y+=r[B+1],v);this.absolute=!1;break;case "l":case "t":for(B=0;B<w;B+=2)this._updateBBox(this.last.x+=r[B],this.last.y+=r[B+1],v);this.absolute=!1;break;case "h":for(B=0;B<w;++B)this._updateBBox(this.last.x+=r[B],this.last.y,v);this.absolute=!1;break;case "v":for(B=0;B<w;++B)this._updateBBox(this.last.x,this.last.y+=r[B],v);this.absolute=!1;break;case "c":for(B=0;B<w;B+=6)this._updateBBox(this.last.x+
r[B],this.last.y+r[B+1],v),this._updateBBox(this.last.x+r[B+2],this.last.y+r[B+3],v),this._updateBBox(this.last.x+=r[B+4],this.last.y+=r[B+5],v);this.absolute=!1;break;case "s":case "q":for(B=0;B<w;B+=4)this._updateBBox(this.last.x+r[B],this.last.y+r[B+1],v),this._updateBBox(this.last.x+=r[B+2],this.last.y+=r[B+3],v);this.absolute=!1;break;case "A":for(B=0;B<w;B+=7)this._updateBBox(r[B+5],r[B+6],v);this.last.x=r[w-2];this.last.y=r[w-1];this.absolute=!0;break;case "a":for(B=0;B<w;B+=7)this._updateBBox(this.last.x+=
r[B+5],this.last.y+=r[B+6],v);this.absolute=!1}n=[n.action];for(B=0;B<w;++B)n.push(H.formatNumber(r[B],!0));if("string"==typeof this.shape.path)this.shape.path+=n.join("");else for(B=0,w=n.length;B<w;++B)this.shape.path.push(n[B])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(n,v){this.tbbox=null;var r=this._validSegments[n.toLowerCase()];"number"==typeof r&&(r?v.length>=r&&(n={action:n,args:v.slice(0,v.length-v.length%r)},this.segments.push(n),this._updateWithSegment(n)):
(n={action:n,args:[]},this.segments.push(n),this._updateWithSegment(n)))},_collectArgs:function(n,v){for(var r=0;r<v.length;++r){var w=v[r];"boolean"==typeof w?n.push(w?1:0):"number"==typeof w?n.push(w):w instanceof Array?this._collectArgs(n,w):"x"in w&&"y"in w&&n.push(w.x,w.y)}},moveTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"M":"m",n);return this},lineTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);
this._pushSegment(this.absolute?"L":"l",n);return this},hLineTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"H":"h",n);return this},vLineTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"V":"v",n);return this},curveTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"C":"c",n);return this},smoothCurveTo:function(){this._confirmSegmented();
var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"S":"s",n);return this},qCurveTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"Q":"q",n);return this},qSmoothCurveTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"T":"t",n);return this},arcTo:function(){this._confirmSegmented();var n=[];this._collectArgs(n,arguments);this._pushSegment(this.absolute?"A":
"a",n);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var n=this.shape.path;this.shape.path=[];this._setPath(n);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(n){n=F.isArray(n)?n:n.match(H.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(n){for(var r="",w=[],D=n.length,B=0;B<D;++B){var t=n[B],x=parseFloat(t);isNaN(x)?(r&&this._pushSegment(r,
w),w=[],r=t):w.push(x)}this._pushSegment(r,w)}},setShape:function(n){this.inherited(arguments,["string"==typeof n?{path:n}:n]);this.segmented=!1;this.segments=[];H.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});D=D("dojox.gfx.path.TextPath",w,{constructor:function(n){"text"in this||(this.text=F.clone(H.defaultTextPath));"fontStyle"in this||(this.fontStyle=F.clone(H.defaultFont))},getText:function(){return this.text},setText:function(n){this.text=H.makeParameters(this.text,
"string"==typeof n?{text:n}:n);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(n){this.fontStyle="string"==typeof n?H.splitFontString(n):H.makeParameters(H.defaultFont,n);this._setFont();return this}});return H.path={Path:w,TextPath:D}})},"*now":function(H){H(['dojo/i18n!*preload*esri/widgets/nls/Editor*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper @dojo/framework/shim/Map dojo/i18n!../nls/common dojo/i18n!./Editor/nls/Editor dojo/i18n!./FeatureTemplates/nls/FeatureTemplates dojo/keys ../core/HandleOwner ../core/lang ../core/watchUtils ../core/accessorSupport/decorators ./FeatureForm ./FeatureTemplates ./Widget ./Editor/EditorViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),function(H,F,D,n,w,r,v,E,
I,B,t,x,k,M,C,f,m,G,L,O){function Y(f){f.focus()}return function(m){function p(k){k=m.call(this)||this;k._featureForm=new C;k._featureTemplates=new f;k._filterText="";k._prompt=null;k.activeWorkflow=null;k.allowedWorkflows=null;k.iconClass="esri-icon-edit";k.label=E.widgetLabel;k.layerInfos=null;k.supportingWidgetDefaults=null;k.view=null;k.viewModel=new G;k._handleSave=k._handleSave.bind(k);k._handleBack=k._handleBack.bind(k);k._handleDone=k._handleDone.bind(k);k._handleDelete=k._handleDelete.bind(k);
k._handleAdd=k._handleAdd.bind(k);k._handleEdit=k._handleEdit.bind(k);return k}D(p,m);p.prototype.postInitialize=function(){var f=this;this.own([k.init(this,"viewModel",function(k){f._featureForm.viewModel=k?k.featureFormViewModel:null;f._featureTemplates.viewModel=k?k.featureTemplatesViewModel:null}),k.on(this,"viewModel.sketchViewModel","create",function(k){"active"===k.state&&f.scheduleRender()}),k.on(this,"viewModel.activeWorkflow","cancel-request",function(k){var m=k.controller;f._prompt={title:E.cancelRequestTitle,
message:E.cancelRequestWarningMessage,options:[{label:v.form.no,type:"neutral",action:function(){m.deny();return f._prompt=null}},{label:v.form.yes,type:"negative",action:function(){m.allow();f._prompt=null}}]};f.scheduleRender()}),k.init(this,"supportingWidgetDefaults",function(k){k&&(f._featureForm.set(k.featureForm),f._featureTemplates.set(k.featureTemplates),f.viewModel.sketchViewModel.set(k.sketch))}),k.watch(this,"viewModel.failures",function(k){if(k){k=k[0];var m=k.retry,n=k.cancel;f._prompt=
{title:E.errorWarningTitle,message:x.substitute({errorMessage:k.error.message},E.errorWarningMessageTemplate),options:[{label:E.retry,type:"positive",action:function(){m();f._prompt=null}},{label:E.ignore,type:"neutral",action:function(){n();return f._prompt=null}}]}}}),k.whenNot(this,"viewModel.activeWorkflow",function(){return f._featureTemplates.filterText=""})])};p.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return null};p.prototype.startCreateWorkflowAtFeatureCreation=function(f){return null};
p.prototype.startCreateWorkflowAtFeatureEdit=function(f){return null};p.prototype.startUpdateWorkflowAtFeatureSelection=function(){return null};p.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(f){return null};p.prototype.startUpdateWorkflowAtFeatureEdit=function(f){return null};p.prototype.deleteFeatureFromWorkflow=function(){return null};p.prototype.cancelWorkflow=function(f){return null};p.prototype.render=function(){var f=this.viewModel;if(!f)return O.tsx("div",{class:"esri-editor esri-widget"});
var f=f.state,k=this._prompt?O.tsx("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,title:this._prompt.title,options:this._prompt.options})):null;return O.tsx("div",{class:"esri-editor esri-widget"},this.viewModel.syncing?this.renderProgressBar():null,"disabled"===f?null:"ready"===f?this.renderLanding():"awaiting-feature-creation-info"===f?this.renderTemplates():"editing-new-feature"===f||"editing-existing-feature"===f?this.renderAttributeEditing():
"awaiting-feature-to-update"===f?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===f?this.renderFeatureList():"awaiting-feature-to-create"===f?this.renderFeatureCreation():null,k)};p.prototype.renderTemplates=function(){return O.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(E.selectTemplate,!0),O.tsx("div",{key:"content",class:"esri-editor__content"},this._featureTemplates.render()),this.renderControls([{label:v.back,type:"secondary",clickHandler:this._handleDone}]))};
p.prototype.renderAttributeEditing=function(){var f=this.viewModel,k=f.activeWorkflow,f=f.featureFormViewModel,m=k.data.edits.feature,n="create"===k.type?v.add:v.update,p=[{label:n,type:"primary",disabled:"update"===k.type&&!k.data.edits.modified||0<f.inputFields.length&&!f.valid,clickHandler:this._handleSave},{label:v.back,type:"secondary",clickHandler:this._handleBack}];"update"===k.type&&-1<k.data.editableItem.supports.indexOf("delete")&&p.push({label:v.delete,type:"tertiary",clickHandler:this._handleDelete});
k=this._getLabel(m);return O.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(k,!0),O.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},0<f.inputFields.length?this._featureForm.render():this.renderMessage(x.substitute({button:n},E.clickToFinishTemplate))),this.renderControls(p))};p.prototype.renderFeatureUpdating=function(){return O.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(E.selectFeature,
!0),O.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(E.selectFeatureToEdit)),this.renderControls([{label:v.back,type:"secondary",clickHandler:this._handleDone}]))};p.prototype.renderMessage=function(f){return O.tsx("div",{class:"esri-editor__message"},f)};p.prototype.renderFeatureCreation=function(){var f=this.viewModel,f=this._getSketchingTip(f.activeWorkflow.data.creationInfo.layer.geometryType,f.sketchViewModel.createGraphic);return O.tsx("div",
{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(E.placeFeature,!0),O.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(f)),this.renderControls([{label:v.back,type:"secondary",clickHandler:this._handleBack}]))};p.prototype.renderControls=function(f){var k=this;return O.tsx("div",{class:"esri-editor__controls",key:"controls"},f.map(function(f,m){var n=f.disabled,n=void 0===n?!1:n,p=f.type,r=f.clickHandler;return k.renderButton({label:f.label,
class:k.classes("esri-editor__control-button","esri-button","secondary"===p?"esri-button--secondary":"tertiary"===p?"esri-button--tertiary":null,n?"esri-button--disabled":null),disabled:n,clickHandler:r,key:m})}))};p.prototype.renderPrompt=function(f){var k=this,m=f.title,n=f.message;f=f.options;f=void 0===f?[]:f;return O.tsx("div",{class:"esri-editor__warning-card",role:"alert"},O.tsx("div",{class:"esri-editor__warning-header"},O.tsx("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),
O.tsx("h4",{class:this.classes("esri-heading","esri-editor__warning-heading")},m)),O.tsx("div",{class:"esri-editor__warning-message"},n),O.tsx("div",{class:"esri-editor__warning-divider"}),f.map(function(f,m){var n=f.label,p=f.action;f=f.type;var r=0===m;return O.tsx("div",{afterCreate:r?Y:null,class:k.classes("esri-editor__warning-option",r?"esri-editor__warning-option--primary":null,"positive"===f?"esri-editor__warning-option--positive":"negative"===f?"esri-editor__warning-option--negative":null),
key:m,onclick:p,onkeydown:function(f){if(f.keyCode===B.ENTER||f.keyCode===B.SPACE)f.preventDefault(),p.call(null)},tabIndex:0,role:"button"},n)}))};p.prototype.renderProgressBar=function(){return O.tsx("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})};p.prototype.renderButton=function(f){return O.tsx("button",{class:f.class,disabled:f.disabled,key:f.key,onclick:f.clickHandler},f.label)};p.prototype.renderHeader=function(f,k){void 0===k&&(k=!1);return O.tsx("header",{class:"esri-editor__header",
key:"header"},k?O.tsx("div",{"aria-label":v.back,class:this.classes("esri-editor__back-button","esri-interactive"),key:"back-button",onclick:this._handleBack,onkeydown:this._handleBack,tabIndex:0,title:v.back},O.tsx("span",{"aria-hidden":"true",class:O.isRTL()?"esri-icon-right":"esri-icon-left"})):null,O.tsx("h4",{class:this.classes("esri-editor__title","esri-heading")},f))};p.prototype.renderLanding=function(){var f=this.viewModel,k=f.allowedWorkflows,m=f.canCreate,f=f.canUpdate,n=O.isRTL()?"esri-icon-left":
"esri-icon-right";return O.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(E.widgetLabel),O.tsx("div",{key:"content",class:"esri-editor__content",role:"group"},O.tsx("div",{class:"esri-editor__mode-selection",key:"mode-selection"},-1<k.indexOf("update")?O.tsx("div",{"aria-disabled":f?"false":"true",class:this.classes("esri-editor__feature-list-item",f?null:"esri-editor__feature-list-item--disabled"),key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,role:"button",
tabIndex:f?0:-1},O.tsx("span",{class:"esri-editor__feature-list-name"},E.editFeature),O.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",n)})):null,-1<k.indexOf("create")?O.tsx("div",{class:this.classes("esri-editor__feature-list-item",m?null:"esri-editor__feature-list-item--disabled"),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:m?0:-1},O.tsx("span",{class:"esri-editor__feature-list-name"},E.addFeature),O.tsx("span",{"aria-hidden":"true",
class:this.classes("esri-editor__feature-list-icon",n)})):null)))};p.prototype.renderFeatureList=function(){var f=this,k=this.viewModel,m=k.editableItems,n=k.activeWorkflow,p=n.data.candidates,k=x.substitute({total:p.length},E.multipleFeaturesTemplate),t=new r.default;p.map(function(k){return{label:f._getLabel(k),id:k.attributes[k.layer.objectIdField],data:k}}).filter(function(k){var m=k.label,n=k.data;k=f._filterText.toLowerCase();var p=n.layer.title;return-1<f.viewModel.editableItems.find(function(f){return f.layer===
n.layer}).supports.indexOf("update")&&(!k||-1<m.toLowerCase().indexOf(k)||-1<p.toLowerCase().indexOf(k))}).forEach(function(f){var k=f.data.layer;t.has(k)?t.get(k).items.push(f):t.set(k,{id:k.id,label:k.title,items:[f]})});m=m.filter(function(f){return t.has(f.layer)}).map(function(f){return t.get(f.layer)}).toArray();return O.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(k,!0),O.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},
L.ItemList({id:this.id,filterText:this._filterText,items:m,messages:{filterPlaceholder:I.filterPlaceholder,noItems:I.noItems,noMatches:I.noMatches},onItemMouseEnter:function(f){n.data.edits.feature=f.data},onItemMouseLeave:function(){n.data.edits.feature=null},onItemSelect:function(f){n.data.edits.feature=f.data;n.next()},onFilterChange:function(k){f._filterText=k}})),this.renderControls([{label:v.back,type:"secondary",clickHandler:this._handleBack}]))};p.prototype._getSketchingTip=function(f,k){if("point"===
f)return E.tips.clickToAddPoint;if("polygon"===f||"polyline"===f){if(!k)return E.tips.clickToStart;k=k.geometry["polygon"===f?"rings":"paths"][0];return"polygon"===f&&4>k?E.tips.clickToContinue:E.tips.clickToContinueThenDoubleClickToEnd}return E.tips.clickToAddFeature};p.prototype._getLabel=function(f){var k=f.layer,m=k.displayField,k=k.objectIdField;f=f.attributes;return m&&f[m]||x.substitute({id:f[k]},E.untitledFeatureTemplate)};p.prototype._handleDelete=function(){var f=this;this._prompt={title:E.deleteWarningTitle,
message:E.deleteWarningMessage,options:[{label:E.keep,type:"neutral",action:function(){return f._prompt=null}},{label:v.delete,type:"positive",action:function(){f.viewModel.deleteFeatureFromWorkflow();f._prompt=null}}]}};p.prototype._handleSave=function(){var f=this.viewModel.activeWorkflow;f.commit();f.reset()};p.prototype._handleAdd=function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};p.prototype._handleEdit=function(){this.viewModel.canUpdate&&this.viewModel.startUpdateWorkflowAtFeatureSelection()};
p.prototype._handleDone=function(){this.viewModel.cancelWorkflow({force:!0})};p.prototype._handleBack=function(){var f=this,k=this.viewModel.activeWorkflow,m=k.stepId,n=k.data,p=k.type,r=function(){k.hasPreviousStep?k.previous():f.viewModel.cancelWorkflow({force:!0})};"editing-new-feature"===m||"editing-existing-feature"===m&&n.edits.modified?this._prompt={title:E.cancelWarningTitle,message:"create"===p?E.cancelCreateWarningMessage:E.cancelUpdateWarningMessage,options:[{label:E.keep,type:"neutral",
action:function(){return f._prompt=null}},{label:E.discard,type:"negative",action:function(){r();f._prompt=null}}]}:r()};n([M.aliasOf("viewModel.activeWorkflow")],p.prototype,"activeWorkflow",void 0);n([M.aliasOf("viewModel.allowedWorkflows")],p.prototype,"allowedWorkflows",void 0);n([M.property()],p.prototype,"iconClass",void 0);n([M.property()],p.prototype,"label",void 0);n([M.aliasOf("viewModel.layerInfos")],p.prototype,"layerInfos",void 0);n([M.property()],p.prototype,"supportingWidgetDefaults",
void 0);n([M.aliasOf("viewModel.view")],p.prototype,"view",void 0);n([M.property(),O.renderable("viewModel.canCreate viewModel.canUpdate viewModel.failures viewModel.state viewModel.syncing viewModel.activeWorkflow.data.edits.modified".split(" "))],p.prototype,"viewModel",void 0);n([M.aliasOf("viewModel.startCreateWorkflowAtFeatureTypeSelection")],p.prototype,"startCreateWorkflowAtFeatureTypeSelection",null);n([M.aliasOf("viewModel.startCreateWorkflowAtFeatureCreation")],p.prototype,"startCreateWorkflowAtFeatureCreation",
null);n([M.aliasOf("viewModel.startCreateWorkflowAtFeatureEdit")],p.prototype,"startCreateWorkflowAtFeatureEdit",null);n([M.aliasOf("viewModel.startUpdateWorkflowAtFeatureSelection")],p.prototype,"startUpdateWorkflowAtFeatureSelection",null);n([M.aliasOf("viewModel.startUpdateWorkflowAtMultipleFeatureSelection")],p.prototype,"startUpdateWorkflowAtMultipleFeatureSelection",null);n([M.aliasOf("viewModel.startUpdateWorkflowAtFeatureEdit")],p.prototype,"startUpdateWorkflowAtFeatureEdit",null);n([M.aliasOf("viewModel.deleteFeatureFromWorkflow")],
p.prototype,"deleteFeatureFromWorkflow",null);n([M.aliasOf("viewModel.cancelWorkflow")],p.prototype,"cancelWorkflow",null);n([O.accessibleHandler()],p.prototype,"_handleDelete",null);n([O.accessibleHandler()],p.prototype,"_handleAdd",null);n([O.accessibleHandler()],p.prototype,"_handleEdit",null);n([O.accessibleHandler()],p.prototype,"_handleDone",null);n([O.accessibleHandler()],p.prototype,"_handleBack",null);return p=n([M.subclass("esri.widgets.Editor")],p)}(M.declared(m,t))});