// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
(function(l,a){var k,n=function(){return"undefined"!==typeof z&&"function"!==typeof z?z:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),m=function(){},f=function(b){for(var c in b)return 0;return 1},d={}.toString,h=function(b){return"[object Function]"==d.call(b)},c=function(b){return"[object String]"==d.call(b)},b=function(b){return"[object Array]"==d.call(b)},e=function(b,c){if(b)for(var g=0;g<b.length;)c(b[g++])},t=function(b,c){for(var g in c)b[g]=c[g];return b},g=function(b,
c){return t(Error(b),{src:"dojoLoader",info:c})},w=1,B=function(){return"_"+w++},v=function(b,c,g){return ma(b,c,g,0,v)},z=n,A=z.document,C=A&&A.createElement("DiV"),p=v.has=function(b){return h(E[b])?E[b]=E[b](z,A,C):E[b]},E=p.cache=a.hasCache;h(l)&&(l=l(n));p.add=function(b,c,g,e){(void 0===E[b]||e)&&(E[b]=c);return g&&p(b)};p.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);p("host-webworker")&&(t(a.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),a.loaderPatch={injectUrl:function(b,c){try{importScripts(b),c()}catch(Ia){console.info("failed to load resource ("+b+")"),console.error(Ia)}}});for(var u in l.has)p.add(u,l.has[u],0,1);v.async=1;var y=p("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");v.eval=function(b,c){return y(b+"\r\n//# sourceURL\x3d"+c)};var D={},I=v.signal=function(c,g){c=D[c];e(c&&c.slice(0),function(c){c.apply(null,
b(g)?g:[g])})};u=v.on=function(b,c){var g=D[b]||(D[b]=[]);g.push(c);return{remove:function(){for(var b=0;b<g.length;b++)if(g[b]===c){g.splice(b,1);break}}}};var J=[],L={},G=[],H={},S=v.map={},N=[],F={},Q="",K={},R={},n={},T=0;if(!p("foreign-loader"))var P=function(b,c){c=!1!==c;var g,e,a,h;for(g in R)e=R[g],(a=g.match(/^url\:(.+)/))?K["url:"+wa(a[1],b)]=e:"*now"==g?h=e:"*noref"!=g&&(a=Z(g,b,!0),K[a.mid]=K["url:"+a.url]=e);h&&h(oa(b));c&&(R={})};var U=function(b){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(b){return"\\"+b})},ia=function(b,c){c.splice(0,c.length);for(var g in b)c.push([g,b[g],new RegExp("^"+U(g)+"(/|$)"),g.length]);c.sort(function(b,c){return c[3]-b[3]});return c},ca=function(b,g){e(b,function(b){g.push([c(b[0])?new RegExp("^"+U(b[0])+"$"):b[0],b[1]])})},da=function(b){var c=b.name;c||(c=b,b={name:c});b=t({main:"main"},b);b.location=b.location?b.location:c;b.packageMap&&(S[c]=b.packageMap);b.main.indexOf("./")||(b.main=b.main.substring(2));H[c]=b},aa=[],ba=function(b,g,a){for(var h in b){"waitSeconds"==
h&&(v.waitms=1E3*(b[h]||0));"cacheBust"==h&&(Q=b[h]?c(b[h])?b[h]:(new Date).getTime()+"":"");if("baseUrl"==h||"combo"==h)v[h]=b[h];b[h]!==E&&(v.rawConfig[h]=b[h],"has"!=h&&p.add("config-"+h,b[h],0,g))}v.baseUrl||(v.baseUrl="./");/\/$/.test(v.baseUrl)||(v.baseUrl+="/");for(h in b.has)p.add(h,b.has[h],0,g);e(b.packages,da);for(var d in b.packagePaths)e(b.packagePaths[d],function(b){var g=d+"/"+b;c(b)&&(b={name:b});b.location=g;da(b)});ia(t(S,b.map),N);e(N,function(b){b[1]=ia(b[1],[]);"*"==b[0]&&(N.star=
b)});ia(t(L,b.paths),G);ca(b.aliases,J);if(!p("foreign-loader")){if(g)aa.push({config:b.config});else for(h in b.config)g=pa(h,a),g.config=t(g.config||{},b.config[h]);b.cache&&(P(),R=b.cache,P(0,!!b.cache["*noref"]))}I("config",[b,v.rawConfig])};if(p("dojo-cdn")){var ga=A.getElementsByTagName("script");k=0;for(var V,ea,W,Y;k<ga.length;)if(V=ga[k++],(W=V.getAttribute("src"))&&(Y=W.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ea=Y[3]||"",a.baseUrl=a.baseUrl||ea,T=V),W=V.getAttribute("data-dojo-config")||
V.getAttribute("djConfig"))n=v.eval("({ "+W+" })","data-dojo-config"),T=V}v.rawConfig={};ba(a,1);p("dojo-cdn")&&((H.dojo.location=ea)&&(ea+="/"),H.dijit.location=ea+"../dijit/",H.dojox.location=ea+"../dojox/");ba(l,1);ba(n,1);if(!p("foreign-loader"))var ka=function(b){Da(function(){e(b.deps,Ja)})},ma=function(e,a,h,d,p){var u;if(c(e)){if((u=pa(e,d,!0))&&u.executed)return u.result;throw g("undefinedModule",e);}b(e)||(ba(e,0,d),e=a,a=h);if(b(e))if(e.length){h="require*"+B();for(var f,w=[],k=0;k<e.length;)f=
e[k++],w.push(pa(f,d));u=t(qa("",h,0,""),{injected:2,deps:w,def:a||m,require:d?d.require:v,gc:1});F[u.mid]=u;ka(u);var n=ya&&!0;Da(function(){Ea(u,n)});u.executed||fa.push(u);Fa()}else a&&a();return p},oa=function(b){if(!b)return v;var c=b.require;c||(c=function(g,e,a){return ma(g,e,a,b,c)},b.require=t(c,v),c.module=b,c.toUrl=function(c){return wa(c,b)},c.toAbsMid=function(c){return ra(c,b)});return c},fa=[],la=[],ja={},ha=function(b){b.injected=1;ja[b.mid]=1;b.url&&(ja[b.url]=b.pack||1);Oa()},M=
function(b){b.injected=2;delete ja[b.mid];b.url&&delete ja[b.url];f(ja)&&Pa()},X=v.idle=function(){return!la.length&&f(ja)&&!fa.length&&!ya};var q=function(b,c){if(c)for(var g=0;g<c.length;g++)if(c[g][2].test(b))return c[g];return 0},na=function(b){var c=[],g,e;for(b=b.replace(/\\/g,"/").split("/");b.length;)g=b.shift(),".."==g&&c.length&&".."!=e?(c.pop(),e=c[c.length-1]):"."!=g&&c.push(e=g);return c.join("/")},qa=function(b,c,g,e){return{pid:b,mid:c,pack:g,url:e,executed:0,def:0}},r=function(b,c,
a,d,p,u,f,t,w,m){var k,B,v,n;n=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||n&&!c)return qa(0,b,0,b);b=na(n?c.mid+"/../"+b:b);if(/^\./.test(b))throw g("irrationalPath",b);m||n||!u.star||(v=q(b,u.star[1]));!v&&c&&(v=(v=q(c.mid,u))&&q(b,v[1]));v&&(b=v[1]+b.substring(v[3]));c=(Y=b.match(/^([^\/]+)(\/(.+))?$/))?Y[1]:"";(k=a[c])?b=c+"/"+(B=Y[3]||k.main):c="";var l=0;e(t,function(c){var g=b.match(c[0]);g&&0<g.length&&(l=h(c[1])?b.replace(c[0],c[1]):c[1])});if(l)return r(l,0,a,d,p,u,f,t,w);if(a=d[b])return w?
qa(a.pid,a.mid,a.pack,a.url):d[b];d=(v=q(b,f))?v[1]+b.substring(v[3]):c?("/"===k.location.slice(-1)?k.location.slice(0,-1):k.location)+"/"+B:b;/(^\/)|(\:)/.test(d)||(d=p+d);return qa(c,b,k,na(d+".js"))},Z=function(b,c,g){return r(b,c,H,F,v.baseUrl,N,G,J,void 0,g)};if(!p("foreign-loader"))var O=function(b,c,g){return b.normalize?b.normalize(c,function(b){return ra(b,g)}):ra(c,g)},x=0,pa=function(b,c,g){var e,a;(e=b.match(/^(.+?)\!(.*)$/))?(a=pa(e[1],c,g),5!==a.executed||a.load||sa(a),a.load?(e=O(a,
e[2],c),b=a.mid+"!"+(a.dynamic?++x+"!":"")+e):(e=e[2],b=a.mid+"!"+ ++x+"!waitingForPlugin"),b={plugin:a,mid:b,req:oa(c),prid:e}):b=Z(b,c);return F[b.mid]||!g&&(F[b.mid]=b)};var ra=v.toAbsMid=function(b,c){return Z(b,c).mid},wa=v.toUrl=function(b,c){c=Z(b+"/x",c);var g=c.url;return Ka(0===c.pid?b:g.substring(0,g.length-5))};if(!p("foreign-loader")){var ta={injected:2,executed:5,def:3,result:3};ea=function(b){return F[b]=t({mid:b},ta)};var xa=ea("require"),za=ea("exports"),Aa=ea("module"),ua={},va=
0,sa=function(b){var c=b.result;b.dynamic=c.dynamic;b.normalize=c.normalize;b.load=c.load;return b},Ba=function(b){var c={};e(b.loadQ,function(g){var e=O(b,g.prid,g.req.module),a=b.dynamic?g.mid.replace(/waitingForPlugin$/,e):b.mid+"!"+e,e=t(t({},g),{mid:a,prid:e,injected:0});F[a]&&F[a].injected||La(F[a]=e);c[g.mid]=F[a];M(g);delete F[g.mid]});b.loadQ=0;var g=function(b){for(var g=b.deps||[],e=0;e<g.length;e++)(b=c[g[e].mid])&&(g[e]=b)},a;for(a in F)g(F[a]);e(fa,g)},Ga=function(b){v.trace("loader-finish-exec",
[b.mid]);b.executed=5;b.defOrder=va++;b.loadQ&&(sa(b),Ba(b));for(k=0;k<fa.length;)fa[k]===b?fa.splice(k,1):k++;/^require\*/.test(b.mid)&&delete F[b.mid]},Qa=[],Ea=function(b,c){if(4===b.executed)return v.trace("loader-circular-dependency",[Qa.concat(b.mid).join("-\x3e")]),!b.def||c?ua:b.cjs&&b.cjs.exports;if(!b.executed){if(!b.def)return ua;var g=b.mid,e=b.deps||[],a,d=[],p=0;for(b.executed=4;a=e[p++];){a=a===xa?oa(b):a===za?b.cjs.exports:a===Aa?b.cjs:Ea(a,c);if(a===ua)return b.executed=0,v.trace("loader-exec-module",
["abort",g]),ua;d.push(a)}v.trace("loader-run-factory",[b.mid]);c=b.def;d=h(c)?c.apply(null,d):c;b.result=void 0===d&&b.cjs?b.cjs.exports:d;Ga(b)}return b.result},ya=0,Da=function(b){try{ya++,b()}catch(Na){throw Na;}finally{ya--}X()&&I("idle",[])},Fa=function(){ya||Da(function(){for(var b,c,g=0;g<fa.length;)b=va,c=fa[g],Ea(c),b!=va?g=0:g++})}}var Ka="function"==typeof l.fixupUrl?l.fixupUrl:function(b){b+="";return b+(Q?(/\?/.test(b)?"\x26":"?")+Q:"")};void 0===p("dojo-loader-eval-hint-url")&&p.add("dojo-loader-eval-hint-url",
1);var La=function(b){var c=b.plugin;5!==c.executed||c.load||sa(c);var g=function(c){b.result=c;M(b);Ga(b);Fa()};c.load?c.load(b.prid,b.req,g):c.loadQ?c.loadQ.push(b):(c.loadQ=[b],fa.unshift(c),Ja(c))},Ca=0,Ra=function(b,c){p("config-stripStrict")&&(b=b.replace(/(["'])use strict\1/g,""));b===Ca?Ca.call(null):v.eval(b,p("dojo-loader-eval-hint-url")?c.url:c.mid)},Ja=function(b){var c=b.mid,e=b.url;if(!(b.executed||b.injected||ja[c]||b.url&&(b.pack&&ja[b.url]===b.pack||1==ja[b.url])))if(ha(b),b.plugin)La(b);
else{var a=function(){Sa(b);if(2!==b.injected){if(p("dojo-enforceDefine")){I("error",g("noDefine",b));return}M(b);t(b,ta);v.trace("loader-define-nonmodule",[b.url])}Fa()};(Ca=K[c]||K["url:"+b.url])?(v.trace("loader-inject",["cache",b.mid,e]),Ra(Ca,b),a()):(v.trace("loader-inject",["script",b.mid,e]),v.injectUrl(Ka(e),a,b))}},Ma=function(b,c,e){v.trace("loader-define-module",[b.mid,c]);if(2===b.injected)return I("error",g("multipleDefine",b)),b;t(b,{deps:c,def:e,cjs:{id:b.mid,uri:b.url,exports:b.result=
{},setExports:function(c){b.cjs.exports=c},config:function(){return b.config}}});for(var a=0;c[a];a++)c[a]=pa(c[a],b);M(b);h(e)||c.length||(b.result=e,Ga(b));return b},Sa=function(b,c){for(var g=[],a,h;la.length;)h=la.shift(),c&&(h[0]=c.shift()),a=h[0]&&pa(h[0])||b,g.push([a,h[1],h[2]]);P(b);e(g,function(b){ka(Ma.apply(null,b))})},Pa=m,Oa=m;p("dom");if(p("dom")){var Ha=function(b,c,g,e){b.addEventListener(c,e,!1);return function(){b.removeEventListener(c,e,!1)}},Ta=Ha(window,"load","onload",function(){v.pageLoaded=
1;try{"complete"!=A.readyState&&(A.readyState="complete")}catch(Ua){}Ta()}),ga=A.getElementsByTagName("script");for(k=0;!T;)/^dojo/.test((V=ga[k++])&&V.type)||(T=V);v.injectUrl=function(b,c,e){e=e.node=A.createElement("script");var a=Ha(e,"load","onreadystatechange",function(b){b=b||window.event;var g=b.target||b.srcElement;if("load"===b.type||/complete|loaded/.test(g.readyState))a(),h(),c&&c()}),h=Ha(e,"error","onerror",function(c){a();h();I("error",g("scriptError: "+b,[b,c]))});e.type="text/javascript";
e.charset="utf-8";e.src=b;T.parentNode.insertBefore(e,T);return e}}v.log=m;v.trace=m;p("foreign-loader")?V=m:(V=function(b,g,e){var a=arguments.length,d=["require","exports","module"],p=[0,b,g];1==a?p=[0,h(b)?d:[],b]:2==a&&c(b)?p=[b,h(g)?d:[],g]:3==a&&(p=[b,g,e]);v.trace("loader-define",p.slice(0,2));(a=p[0]&&pa(p[0]))&&!ja[a.mid]?ka(Ma(a,p[1],p[2])):la.push(p)},V.amd={vendor:"dojotoolkit.org"});t(t(v,a.loaderPatch),l.loaderPatch);u("error",function(b){try{if(console.error(b),b instanceof Error){for(var c in b)console.log(c+
":",b[c]);console.log(".")}}catch(Ia){}});t(v,{uid:B,cache:K,packs:H});z.define||(z.define=V,z.require=v,p("foreign-loader")||(e(aa,function(b){ba(b)}),V=n.deps||l.deps||a.deps,l=n.callback||l.callback||a.callback,v.boot=V||l?[V||[],l]:0))})(function(l){return l.dojoConfig||l.djConfig||l.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"https://[HOSTNAME_AND_PATH_TO_JSAPI]dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",
main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette",main:"dist/maquette.umd",name:"maquette"},{location:"../maquette-css-transitions",
main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(l){return l})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(l,a,k,n,m){var f=0,d=[],h=0;a=function(){f=1;l._postLoad=l.config.afterOnLoad=!0;c()};var c=function(){if(!h){for(h=1;f&&(!n||0==n._Q.length)&&
(k.idle?k.idle():1)&&d.length;){var b=d.shift();try{b()}catch(g){if(g.info=g.message,k.signal)k.signal("error",g);else throw g;}}h=0}};k.on&&k.on("idle",c);n&&(n._onQEmpty=c);var b=l.ready=l.addOnLoad=function(b,g,e){var a=m._toArray(arguments);"number"!=typeof b?(e=g,g=b,b=1E3):a.shift();e=e?m.hitch.apply(l,a):function(){g()};e.priority=b;for(a=0;a<d.length&&b>=d[a].priority;a++);d.splice(a,0,e);c()},e=l.config.addOnLoad;if(e)b[m.isArray(e)?"apply":"call"](l,e);n?n(a):a();return b})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(l,a,k,n,m){var f,d={},h={},c={config:k,global:l,dijit:d,dojox:h},d={dojo:["dojo",c],dijit:["dijit",d],dojox:["dojox",h]};m=n.map&&n.map[m.id.match(/[^\/]+/)[0]];for(f in m)d[f]?d[f][0]=m[f]:d[f]=[m[f],{}];for(f in d)m=d[f],m[1]._scopeName=m[0],k.noGlobals||(l[m[0]]=m[1]);c.scopeMap=d;c.baseUrl=c.config.baseUrl=n.baseUrl;c.isAsync=n.async;c.locale=k.locale;l="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:14,patch:2,flag:"",revision:l?
l[0]:NaN,toString:function(){var b=c.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};a("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};a("host-webworker");"undefined"!=typeof console||(console={});l="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var b;for(a=0;b=l[a++];)console[b]?console[b]=Function.prototype.bind.call(console[b],
console):function(){var c=b+"";console[c]="log"in console?function(){var b=Array.prototype.slice.call(arguments);b.unshift(c+":");console.log(b.join(" "))}:function(){};console[c]._fake=!0}();c.deprecated=c.experimental=function(){};c._hasResource={};return c})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
function(l,a,k){var n=a.has||function(){};if(!n("dojo-has-api")){var m=(a="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,f=m&&m.createElement("DiV"),d=k.config&&k.config()||{},n=function(a){return"function"==typeof d[a]?d[a]=d[a](l,m,f):d[a]};n.cache=d;n.add=function(a,c,b,e){("undefined"==typeof d[a]||e)&&(d[a]=c);return b&&n(a)};n.add("host-browser",a);n.add("dom",a)}n("host-browser")&&(n.add("touch",
"ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),n.add("touch-events","ontouchstart"in document),n.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),n.add("device-width",screen.availWidth||innerWidth),k=document.createElement("form"),n.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length));n.clearElement=function(a){a.innerHTML="";return a};
n.normalize=function(a,c){var b=a.match(/[\?:]|[^:\?]*/g),e=0,h=function(c){var g=b[e++];if(":"==g)return 0;if("?"==b[e++]){if(!c&&n(g))return h();h(!0);return h(c)}return g||0};return(a=h())&&c(a)};n.load=function(a,c,b){a?c([a],b):b()};return n})},"dojo/_base/config":function(){define(["../global","../has","require"],function(l,a,k){l={};k=k.rawConfig;for(var n in k)l[n]=k[n];!l.locale&&"undefined"!=typeof navigator&&(n=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
navigator.userLanguage)&&(l.locale=n.toLowerCase());return l})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(l,a){var k=function(a,c,b){b||(b=a[0]&&l.scopeMap[a[0]]?l.scopeMap[a.shift()][1]:l.global);try{for(var e=0;e<a.length;e++){var h=a[e];if(!(h in b))if(c)b[h]={};else return;b=b[h]}return b}catch(g){}},n=Object.prototype.toString,m=function(a,c,b){return(b||[]).concat(Array.prototype.slice.call(a,c||0))},f=/\{([^\}]+)\}/g,d={_extraNames:[],_mixin:function(a,c,
b){var e,h,g={};for(e in c)h=c[e],e in a&&(a[e]===h||e in g&&g[e]===h)||(a[e]=b?b(h):h);return a},mixin:function(a,c){a||(a={});for(var b=1,e=arguments.length;b<e;b++)d._mixin(a,arguments[b]);return a},setObject:function(a,c,b){var e=a.split(".");a=e.pop();return(b=k(e,!0,b))&&a?b[a]=c:void 0},getObject:function(a,c,b){return a?k(a.split("."),c,b):b},exists:function(a,c){return void 0!==d.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||
function(a){return"[object Array]"==n.call(a)},isFunction:function(a){return"[object Function]"===n.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||d.isArray(a)||d.isFunction(a))},isArrayLike:function(a){return!!a&&!d.isString(a)&&!d.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(d.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!d.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var b=1,e=arguments.length;b<
e;b++)d._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,c){var b=d._toArray(arguments,2),e=d.isString(c);return function(){var h=d._toArray(arguments),g=e?(a||l.global)[c]:c;return g&&g.apply(a||this,b.concat(h))}},hitch:function(a,c){if(2<arguments.length)return d._hitchArgs.apply(l,arguments);c||(c=a,a=null);if(d.isString(c)){a=a||l.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return a?
function(){return c.apply(a,arguments||[])}:c},delegate:function(){function a(){}return function(c,b){a.prototype=c;c=new a;a.prototype=null;b&&d._mixin(c,b);return c}}(),_toArray:a("ie")?function(){function a(c,b,a){a=a||[];for(b=b||0;b<c.length;b++)a.push(c[b]);return a}return function(c){return(c.item?a:m).apply(this,arguments)}}():m,partial:function(a){return d.hitch.apply(l,[null].concat(d._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||d.isFunction(a))return a;if(a.nodeType&&
"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var c,b,e;if(d.isArray(a))for(c=[],b=0,e=a.length;b<e;++b)b in a&&(c[b]=d.clone(a[b]));else c=a.constructor?new a.constructor:{};return d._mixin(c,a,d.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,c,b){return a.replace(b||f,d.isFunction(c)?c:function(b,a){return d.getObject(a,
!1,c)})}};d.mixin(l,d);return d})},"dojo/sniff":function(){define(["./has"],function(l){if(l("host-browser")){var a=navigator,k=a.userAgent,a=a.appVersion,n=parseFloat(a);l.add("edge",parseFloat(k.split("Edge/")[1])||void 0);l.add("webkit",!l("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);l.add("chrome",!l("edge")&&!0&&parseFloat(k.split("Chrome/")[1])||void 0);l.add("safari",0<=a.indexOf("Safari")&&!l("chrome")&&!l("edge")?parseFloat(a.split("Version/")[1]):void 0);l.add("mac",0<=a.indexOf("Macintosh"));
if(k.match(/(iPhone|iPod|iPad)/)){var m=RegExp.$1.replace(/P/,"p"),f=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",f=parseFloat(f.replace(/_/,".").replace(/_/g,""));l.add(m,f);l.add("ios",f)}l.add("trident",parseFloat(a.split("Trident/")[1])||void 0);l("webkit")||(0<=k.indexOf("Opera")&&l.add("opera",9.8<=n?parseFloat(k.split("Version/")[1])||n:n),0<=k.indexOf("Gecko")&&!l("trident")&&!l("edge")&&l.add("mozilla",n),l("mozilla")&&l.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),
document.all&&!l("opera")&&(k=parseFloat(a.split("MSIE ")[1])||void 0,(a=document.documentMode)&&5!=a&&Math.floor(k)!=a&&(k=a),l.add("ie",k)))}return l})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(l,a,k,n,m,f,d,h){function c(b,c,g,e,d){e=h.hitch(g,e);if(!b||!b.addEventListener&&!b.attachEvent)return n.after(b||l.global,c,e,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));b||(b=l.global);
if(!d)switch(c){case "keypress":c=w;break;case "mouseenter":c=f.enter;break;case "mouseleave":c=f.leave}return a(b,c,e,d)}function b(b){b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}d.add("events-keypress-typed",function(){var b={charCode:0};try{b=document.createEvent("KeyboardEvent"),(b.initKeyboardEvent||b.initKeyEvent).call(b,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(z){}return 0==b.charCode&&!d("opera")});var e={106:42,111:47,186:59,187:43,188:44,
189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},t=d("mac")?"metaKey":"ctrlKey",g=function(c,a){a=h.mixin({},c,a);b(a);a.preventDefault=function(){c.preventDefault()};a.stopPropagation=function(){c.stopPropagation()};return a},w;w=d("events-keypress-typed")?function(b,c){var h=a(b,"keydown",function(b){var a=b.keyCode,p=13!=a&&32!=a&&(27!=a||!d("ie"))&&(48>a||90<a)&&(96>a||111<a)&&(186>a||192<a)&&(219>a||222<a)&&229!=a;if(p||b.ctrlKey){p=p?0:a;if(b.ctrlKey){if(3==a||13==a)return c.call(b.currentTarget,
b);p=95<p&&106>p?p-48:!b.shiftKey&&65<=p&&90>=p?p+32:e[p]||p}a=g(b,{type:"keypress",faux:!0,charCode:p});c.call(b.currentTarget,a);if(d("ie"))try{b.keyCode=a.keyCode}catch(y){}}}),f=a(b,"keypress",function(b){var a=b.charCode;b=g(b,{charCode:32<=a?a:0,faux:!0});return c.call(this,b)});return{remove:function(){h.remove();f.remove()}}}:d("opera")?function(b,c){return a(b,"keypress",function(b){var a=b.which;3==a&&(a=99);a=32>a&&!b.shiftKey?0:a;b.ctrlKey&&!b.shiftKey&&65<=a&&90>=a&&(a+=32);return c.call(this,
g(b,{charCode:a}))})}:function(c,g){return a(c,"keypress",function(a){b(a);return g.call(this,a)})};var B={_keypress:w,connect:function(b,a,g,e,d){var p=arguments,h=[],f=0;h.push("string"==typeof p[0]?null:p[f++],p[f++]);var t=p[f+1];h.push("string"==typeof t||"function"==typeof t?p[f++]:null,p[f++]);for(t=p.length;f<t;f++)h.push(p[f]);return c.apply(this,h)},disconnect:function(b){b&&b.remove()},subscribe:function(b,a,c){return k.subscribe(b,h.hitch(a,c))},publish:function(b,a){return k.publish.apply(k,
[b].concat(a))},connectPublisher:function(b,a,c){var g=function(){B.publish(b,arguments)};return c?B.connect(a,c,g):B.connect(a,g)},isCopyKey:function(b){return b[t]}};B.unsubscribe=B.disconnect;h.mixin(l,B);return B})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(l,a,k){function n(b,a,c,f,t){if(f=a.match(/(.*):(.*)/))return a=f[2],f=f[1],d.selector(f,a).call(t,b,c);k("touch")&&h.test(a)&&(c=g(c));if(b.addEventListener){var w=a in e,p=w?e[a]:a;b.addEventListener(p,c,
w);return{remove:function(){b.removeEventListener(p,c,w)}}}throw Error("Target must be an event emitter");}function m(){this.cancelable=!1;this.defaultPrevented=!0}function f(){this.bubbles=!1}k("dom")&&k("touch");var d=function(b,a,c,g){return"function"!=typeof b.on||"function"==typeof a||b.nodeType?d.parse(b,a,c,n,g,this):b.on(a,c)};d.pausable=function(b,a,c,g){var e;b=d(b,a,function(){if(!e)return c.apply(this,arguments)},g);b.pause=function(){e=!0};b.resume=function(){e=!1};return b};d.once=function(b,
a,c,g){var e=d(b,a,function(){e.remove();return c.apply(this,arguments)});return e};d.parse=function(b,a,c,g,e,f){var p;if(a.call)return a.call(f,b,c);a instanceof Array?p=a:-1<a.indexOf(",")&&(p=a.split(/\s*,\s*/));if(p){var h=[];a=0;for(var u;u=p[a++];)h.push(d.parse(b,u,c,g,e,f));h.remove=function(){for(var b=0;b<h.length;b++)h[b].remove()};return h}return g(b,a,c,e,f)};var h=/^touch/;d.matches=function(b,c,g,e,d){d=d&&"function"==typeof d.matches?d:a.query;e=!1!==e;1!=b.nodeType&&(b=b.parentNode);
for(;!d.matches(b,c,g);)if(b==g||!1===e||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};d.selector=function(b,a,c){return function(g,e){function f(a){return d.matches(a,b,g,c,p)}var p="function"==typeof b?{matches:b}:this,h=a.bubble;return h?d(g,h(f),e):d(g,a,function(b){var a=f(b.target);if(a)return b.selectorTarget=a,e.call(a,b)})}};var c=[].slice,b=d.emit=function(b,a,g){var e=c.call(arguments,2),d="on"+a;if("parentNode"in b){var h=e[0]={},p;for(p in g)h[p]=g[p];h.preventDefault=m;h.stopPropagation=
f;h.target=b;h.type=a;g=h}do b[d]&&b[d].apply(b,e);while(g&&g.bubbles&&(b=b.parentNode));return g&&g.cancelable&&g},e={};d.emit=function(a,c,g){if(a.dispatchEvent&&document.createEvent){var e=(a.ownerDocument||document).createEvent("HTMLEvents");e.initEvent(c,!!g.bubbles,!!g.cancelable);for(var h in g)h in e||(e[h]=g[h]);return a.dispatchEvent(e)&&e}return b.apply(d,arguments)};if(k("touch"))var t=window.orientation,g=function(b){return function(a){var c=a.corrected;if(!c){var g=a.type;try{delete a.type}catch(p){}if(a.type){var c=
{},e;for(e in a)c[e]=a[e];c.preventDefault=function(){a.preventDefault()};c.stopPropagation=function(){a.stopPropagation()}}else c=a,c.type=g;a.corrected=c;if("resize"==g){if(t==window.orientation)return null;t=window.orientation;c.type="orientationchange";return b.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);if(window.TouchEvent&&a instanceof TouchEvent){var g=c.changedTouches[0],d;for(d in g)delete c[d],c[d]=g[d]}}return b.call(this,c)}};return d})},"dojo/topic":function(){define(["./Evented"],
function(l){var a=new l;return{publish:function(k,n){return a.emit.apply(a,arguments)},subscribe:function(k,n){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(l,a){function k(){}var n=l.after;k.prototype={on:function(m,f){return a.parse(this,m,f,function(a,h){return n(a,"on"+h,f,!0)})},emit:function(m,f){var d=[this];d.push.apply(d,arguments);return a.emit.apply(a,d)}};return k})},"dojo/aspect":function(){define([],function(){function l(a,h,c,b){var e=
a[h],d="around"==h,g;if(d){var f=c(function(){return e.advice(this,arguments)});g={remove:function(){f&&(f=a=c=null)},advice:function(b,a){return f?f.apply(b,a):e.advice(b,a)}}}else g={remove:function(){if(g.advice){var b=g.previous,e=g.next;e||b?(b?b.next=e:a[h]=e,e&&(e.previous=b)):delete a[h];a=c=g.advice=null}},id:a.nextId++,advice:c,receiveArguments:b};if(e&&!d)if("after"==h){for(;e.next&&(e=e.next););e.next=g;g.previous=e}else"before"==h&&(a[h]=g,g.next=e,e.previous=g);else a[h]=g;return g}
function a(a){return function(d,c,b,e){var f=d[c],g;f&&f.target==d||(d[c]=g=function(){for(var b=g.nextId,a=arguments,c=g.before;c;)c.advice&&(a=c.advice.apply(this,a)||a),c=c.next;if(g.around)var e=g.around.advice(this,a);for(c=g.after;c&&c.id<b;){if(c.advice)if(c.receiveArguments)var d=c.advice.apply(this,a),e=d===k?e:d;else e=c.advice.call(this,e,a);c=c.next}return e},f&&(g.around={advice:function(b,a){return f.apply(b,a)}}),g.target=d,g.nextId=g.nextId||0);d=l(g||f,a,b,e);b=null;return d}}var k,
n=a("after"),m=a("before"),f=a("around");return{before:m,around:f,after:n}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(l,a,k,n){if(a._fixEvent){var m=a._fixEvent;a._fixEvent=function(a,d){(a=m(a,d))&&n.normalizeEvent(a);return a}}k={fix:function(f,d){return a._fixEvent?a._fixEvent(f,d):f},stop:function(a){a.preventDefault();a.stopPropagation()}};l.fixEvent=k.fix;l.stopEvent=k.stop;return k})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(l,a,k,n){function m(b,a,c,g,d,f){f=f||"px";b=b.style;isNaN(a)||(b.left=a+f);isNaN(c)||(b.top=c+f);0<=g&&(b.width=g+f);0<=d&&(b.height=d+f)}function f(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function d(b){return"border-box"==h.boxModel||"table"==b.tagName.toLowerCase()||f(b)}var h={boxModel:"content-box"};l("ie")&&(h.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
h.getPadExtents=function(b,a){b=k.byId(b);var c=a||n.getComputedStyle(b),g=n.toPixelValue;a=g(b,c.paddingLeft);var e=g(b,c.paddingTop),d=g(b,c.paddingRight);b=g(b,c.paddingBottom);return{l:a,t:e,r:d,b:b,w:a+d,h:e+b}};h.getBorderExtents=function(b,a){b=k.byId(b);var c=n.toPixelValue,g=a||n.getComputedStyle(b);a="none"!=g.borderLeftStyle?c(b,g.borderLeftWidth):0;var e="none"!=g.borderTopStyle?c(b,g.borderTopWidth):0,d="none"!=g.borderRightStyle?c(b,g.borderRightWidth):0;b="none"!=g.borderBottomStyle?
c(b,g.borderBottomWidth):0;return{l:a,t:e,r:d,b:b,w:a+d,h:e+b}};h.getPadBorderExtents=function(b,a){b=k.byId(b);var c=a||n.getComputedStyle(b);a=h.getPadExtents(b,c);b=h.getBorderExtents(b,c);return{l:a.l+b.l,t:a.t+b.t,r:a.r+b.r,b:a.b+b.b,w:a.w+b.w,h:a.h+b.h}};h.getMarginExtents=function(b,a){b=k.byId(b);var c=a||n.getComputedStyle(b),g=n.toPixelValue;a=g(b,c.marginLeft);var e=g(b,c.marginTop),d=g(b,c.marginRight);b=g(b,c.marginBottom);return{l:a,t:e,r:d,b:b,w:a+d,h:e+b}};h.getMarginBox=function(b,
a){b=k.byId(b);a=a||n.getComputedStyle(b);a=h.getMarginExtents(b,a);var c=b.offsetLeft-a.l,g=b.offsetTop-a.t,e=b.parentNode,d=n.toPixelValue;8==l("ie")&&e&&(e=n.getComputedStyle(e),c-="none"!=e.borderLeftStyle?d(b,e.borderLeftWidth):0,g-="none"!=e.borderTopStyle?d(b,e.borderTopWidth):0);return{l:c,t:g,w:b.offsetWidth+a.w,h:b.offsetHeight+a.h}};h.getContentBox=function(b,a){b=k.byId(b);var c=a||n.getComputedStyle(b);a=b.clientWidth;var g,e=h.getPadExtents(b,c);g=h.getBorderExtents(b,c);var c=b.offsetLeft+
e.l+g.l,d=b.offsetTop+e.t+g.t;a?g=b.clientHeight:(a=b.offsetWidth-g.w,g=b.offsetHeight-g.h);if(8==l("ie")){var f=b.parentNode,m=n.toPixelValue;f&&(f=n.getComputedStyle(f),c-="none"!=f.borderLeftStyle?m(b,f.borderLeftWidth):0,d-="none"!=f.borderTopStyle?m(b,f.borderTopWidth):0)}return{l:c,t:d,w:a-e.w,h:g-e.h}};h.setContentSize=function(b,a,c){b=k.byId(b);var g=a.w;a=a.h;d(b)&&(c=h.getPadBorderExtents(b,c),0<=g&&(g+=c.w),0<=a&&(a+=c.h));m(b,NaN,NaN,g,a)};var c={l:0,t:0,w:0,h:0};h.setMarginBox=function(b,
a,t){b=k.byId(b);var g=t||n.getComputedStyle(b);t=a.w;var e=a.h,B=d(b)?c:h.getPadBorderExtents(b,g),g=h.getMarginExtents(b,g);if(l("webkit")&&f(b)){var v=b.style;0<=t&&!v.width&&(v.width="4px");0<=e&&!v.height&&(v.height="4px")}0<=t&&(t=Math.max(t-B.w-g.w,0));0<=e&&(e=Math.max(e-B.h-g.h,0));m(b,a.l,a.t,t,e)};h.isBodyLtr=function(b){b=b||a.doc;return"ltr"==(a.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};h.docScroll=function(b){b=b||a.doc;var c=a.doc.parentWindow||a.doc.defaultView;return"pageXOffset"in
c?{x:c.pageXOffset,y:c.pageYOffset}:(c=b.documentElement)&&{x:h.fixIeBiDiScrollLeft(c.scrollLeft||0,b),y:c.scrollTop||0}};h.getIeDocumentElementOffset=function(b){return{x:0,y:0}};h.fixIeBiDiScrollLeft=function(b,c){c=c||a.doc;var e=l("ie");if(e&&!h.isBodyLtr(c)){c=c.documentElement;var g=a.global;6==e&&g.frameElement&&c.scrollHeight>c.clientHeight&&(b+=c.clientLeft);return 8>e?b+c.clientWidth-c.scrollWidth:-b}return b};h.position=function(b,c){b=k.byId(b);a.body(b.ownerDocument);var e=b.getBoundingClientRect(),
e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};9>l("ie")&&(e.x-=0,e.y-=0);c&&(b=h.docScroll(b.ownerDocument),e.x+=b.x,e.y+=b.y);return e};h.getMarginSize=function(b,a){b=k.byId(b);a=h.getMarginExtents(b,a||n.getComputedStyle(b));b=b.getBoundingClientRect();return{w:b.right-b.left+a.w,h:b.bottom-b.top+a.h}};h.normalizeEvent=function(b){"layerX"in b||(b.layerX=b.offsetX,b.layerY=b.offsetY);if(!("pageX"in b)){var a=b.target,a=a&&a.ownerDocument||document,c=a.documentElement;b.pageX=b.clientX+
h.fixIeBiDiScrollLeft(c.scrollLeft||0,a);b.pageY=b.clientY+(c.scrollTop||0)}};return h})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(l,a,k){var n={global:l.global,doc:l.global.document||null,body:function(a){a=a||l.doc;return a.body||a.getElementsByTagName("body")[0]},setContext:function(a,f){l.global=n.global=a;l.doc=n.doc=f},withGlobal:function(a,f,d,h){var c=l.global;try{return l.global=n.global=a,n.withDoc.call(null,a.document,f,d,h)}finally{l.global=n.global=
c}},withDoc:function(a,f,d,h){var c=n.doc,b=k("ie"),e,t,g;try{return l.doc=n.doc=a,l.isQuirks=0,k("ie")&&(g=a.parentWindow)&&g.navigator&&(e=parseFloat(g.navigator.appVersion.split("MSIE ")[1])||void 0,(t=a.documentMode)&&5!=t&&Math.floor(e)!=t&&(e=t),l.isIE=k.add("ie",e,!0,!0)),d&&"string"==typeof f&&(f=d[f]),f.apply(d,h||[])}finally{l.doc=n.doc=c,l.isQuirks=0,l.isIE=k.add("ie",b,!0,!0)}}};a.mixin(l,n);return n})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(l,
a,k){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(f){}var n={};l("ie")?n.byId=function(f,d){if("string"!=typeof f)return f;var h=d||a.doc;d=f&&h.getElementById(f);if(!d||d.attributes.id.value!=f&&d.id!=f){h=h.all[f];if(!h||h.nodeName)h=[h];for(var c=0;d=h[c++];)if(d.attributes&&d.attributes.id&&d.attributes.id.value==f||d.id==f)return d}else return d}:n.byId=function(f,d){return("string"==typeof f?(d||a.doc).getElementById(f):f)||null};k=k.global.document||null;l.add("dom-contains",
!(!k||!k.contains));n.isDescendant=l("dom-contains")?function(a,d){return!(!(d=n.byId(d))||!d.contains(n.byId(a)))}:function(a,d){try{for(a=n.byId(a),d=n.byId(d);a;){if(a==d)return!0;a=a.parentNode}}catch(h){}return!1};l.add("css-user-select",function(a,d,h){if(!h)return!1;a=h.style;d=["Khtml","O","Moz","Webkit"];h=d.length;var c="userSelect";do if("undefined"!==typeof a[c])return c;while(h--&&(c=d[h]+"UserSelect"));return!1});var m=l("css-user-select");n.setSelectable=m?function(a,d){n.byId(a).style[m]=
d?"":"none"}:function(a,d){a=n.byId(a);var h=a.getElementsByTagName("*"),c=h.length;if(d)for(a.removeAttribute("unselectable");c--;)h[c].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");c--;)h[c].setAttribute("unselectable","on")};return n})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(l,a,k){function n(b,a,c){a=a.toLowerCase();if("auto"==c){if("height"==a)return b.offsetHeight;if("width"==a)return b.offsetWidth}if("fontweight"==a)switch(c){case 700:return"bold";
default:return"normal"}a in e||(e[a]=t.test(a));return e[a]?d(b,c):c}var m,f={};m=l("webkit")?function(b){var a;if(1==b.nodeType){var c=b.ownerDocument.defaultView;a=c.getComputedStyle(b,null);!a&&b.style&&(b.style.display="",a=c.getComputedStyle(b,null))}return a||{}}:l("ie")&&9>l("ie")?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){if(1===b.nodeType){var a=b.ownerDocument.defaultView;return(a.opener?a:k.global.window).getComputedStyle(b,null)}return{}};f.getComputedStyle=
m;var d;d=l("ie")?function(b,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var c=b.style,g=b.runtimeStyle,e=c.left,d=g.left;g.left=b.currentStyle.left;try{c.left=a,a=c.pixelLeft}catch(p){a=0}c.left=e;g.left=d;return a}:function(b,a){return parseFloat(a)||0};f.toPixelValue=d;var h=function(b,a){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(v){return a?{}:null}},c=9>l("ie")||(l("ie"),0)?function(b){try{return h(b).Opacity/100}catch(B){return 1}}:
function(b){return m(b).opacity},b=9>l("ie")||(l("ie"),0)?function(a,c){""===c&&(c=1);var g=100*c;1===c?(a.style.zoom="",h(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,h(a)?h(a,1).Opacity=g:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+g+")",h(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&b(a,c);return c}:function(b,a){return b.style.opacity=
a},e={left:!0,top:!0},t=/margin|padding|width|height|max|min|offset/,g={cssFloat:1,styleFloat:1,"float":1};f.get=function(b,e){var d=a.byId(b),h=arguments.length;if(2==h&&"opacity"==e)return c(d);e=g[e]?"cssFloat"in d.style?"cssFloat":"styleFloat":e;var t=f.getComputedStyle(d);return 1==h?t:n(d,e,t[e]||d.style[e])};f.set=function(c,e,d){var h=a.byId(c),t=arguments.length,m="opacity"==e;e=g[e]?"cssFloat"in h.style?"cssFloat":"styleFloat":e;if(3==t)return m?b(h,d):h.style[e]=d;for(var p in e)f.set(c,
p,e[p]);return f.getComputedStyle(h)};return f})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(l,a,k,n,m){function f(d,h){var c=function(b,c){return a(b,d,function(a){if(h)return h(a,c);if(!n.isDescendant(a.relatedTarget,b))return c.call(this,a)})};c.bubble=function(b){return f(d,function(a,c){var g=b(a.target),e=a.relatedTarget;if(g&&g!=(e&&1==e.nodeType&&b(e)))return c.call(g,a)})};return c}k={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,h){return a.button==
h},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};l.mouseButtons=k;return{_eventHandler:f,enter:f("mouseover"),leave:f("mouseout"),wheel:"mousewheel",isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(l,a,k){if(!k("host-browser"))return k;l._name="browser";a.mixin(l,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:0,isWebKit:k("webkit"),isMozilla:k("mozilla"),
isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(l,a){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:a("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:a("mac")?a("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(l,a,k){var n=window,m={addOnWindowUnload:function(f,d){l.windowUnloaded||k(n,"unload",l.windowUnloaded=function(){});k(n,"unload",a.hitch(f,d))},addOnUnload:function(f,d){k(n,"beforeunload",a.hitch(f,d))}};l.addOnWindowUnload=m.addOnWindowUnload;l.addOnUnload=m.addOnUnload;return m})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(l,a,k,n,m,f,d,h){l.byId=a.byId;
l.isDescendant=a.isDescendant;l.setSelectable=a.setSelectable;l.getAttr=n.get;l.setAttr=n.set;l.hasAttr=n.has;l.removeAttr=n.remove;l.getNodeProp=n.getNodeProp;l.attr=function(a,b,e){return 2==arguments.length?n["string"==typeof b?"get":"set"](a,b):n.set(a,b,e)};l.hasClass=f.contains;l.addClass=f.add;l.removeClass=f.remove;l.toggleClass=f.toggle;l.replaceClass=f.replace;l._toDom=l.toDom=d.toDom;l.place=d.place;l.create=d.create;l.empty=function(a){d.empty(a)};l._destroyElement=l.destroy=function(a){d.destroy(a)};
l._getPadExtents=l.getPadExtents=h.getPadExtents;l._getBorderExtents=l.getBorderExtents=h.getBorderExtents;l._getPadBorderExtents=l.getPadBorderExtents=h.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=h.getMarginExtents;l._getMarginSize=l.getMarginSize=h.getMarginSize;l._getMarginBox=l.getMarginBox=h.getMarginBox;l.setMarginBox=h.setMarginBox;l._getContentBox=l.getContentBox=h.getContentBox;l.setContentSize=h.setContentSize;l._isBodyLtr=l.isBodyLtr=h.isBodyLtr;l._docScroll=l.docScroll=
h.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=h.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=l.fixIeBiDiScrollLeft=h.fixIeBiDiScrollLeft;l.position=h.position;l.marginBox=function(a,b){return b?h.setMarginBox(a,b):h.getMarginBox(a)};l.contentBox=function(a,b){return b?h.setContentSize(a,b):h.getContentBox(a)};l.coords=function(c,b){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");c=a.byId(c);var e=k.getComputedStyle(c),e=h.getMarginBox(c,e);c=
h.position(c,b);e.x=c.x;e.y=c.y;return e};l.getProp=m.get;l.setProp=m.set;l.prop=function(a,b,e){return 2==arguments.length?m["string"==typeof b?"get":"set"](a,b):m.set(a,b,e)};l.getStyle=k.get;l.setStyle=k.set;l.getComputedStyle=k.getComputedStyle;l.__toPixelValue=l.toPixelValue=k.toPixelValue;l.style=function(a,b,e){switch(arguments.length){case 1:return k.get(a);case 2:return k["string"==typeof b?"get":"set"](a,b)}return k.set(a,b,e)};return l})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(l,a,k,n,m,f){function d(b,a){b=b.getAttributeNode&&b.getAttributeNode(a);return!!b&&b.specified}var h={innerHTML:1,textContent:1,className:1,htmlFor:a("ie"),value:1},c={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};l.has=function(b,a){var e=a.toLowerCase();return h[f.names[e]||a]||d(n.byId(b),c[e]||a)};l.get=function(b,a){b=n.byId(b);var e=a.toLowerCase(),g=f.names[e]||a,m=b[g];if(h[g]&&"undefined"!=typeof m)return m;if("textContent"==g)return f.get(b,g);if("href"!=
g&&("boolean"==typeof m||k.isFunction(m)))return m;a=c[e]||a;return d(b,a)?b.getAttribute(a):null};l.set=function(b,a,d){b=n.byId(b);if(2==arguments.length){for(var g in a)l.set(b,g,a[g]);return b}g=a.toLowerCase();var e=f.names[g]||a,t=h[e];if("style"==e&&"string"!=typeof d)return m.set(b,d),b;if(t||"boolean"==typeof d||k.isFunction(d))return f.set(b,a,d);b.setAttribute(c[g]||a,d);return b};l.remove=function(b,a){n.byId(b).removeAttribute(c[a.toLowerCase()]||a)};l.getNodeProp=function(b,a){b=n.byId(b);
var e=a.toLowerCase(),g=f.names[e]||a;if(g in b&&"href"!=g)return b[g];a=c[e]||a;return d(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(l,a,k,n,m,f,d,h){var c={},b=1,e=a._scopeName+"attrid";l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
l.get=function(b,a){b=m.byId(b);var c=a.toLowerCase();return b[l.names[c]||a]};l.set=function(a,g,w){a=m.byId(a);if(2==arguments.length&&"string"!=typeof g){for(var t in g)l.set(a,t,g[t]);return a}t=g.toLowerCase();t=l.names[t]||g;if("style"==t&&"string"!=typeof w)return f.set(a,w),a;if("innerHTML"==t)return k("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(d.empty(a),a.appendChild(d.toDom(w,a.ownerDocument))):a[t]=w,a;if(n.isFunction(w)){var v=a[e];
v||(v=b++,a[e]=v);c[v]||(c[v]={});var z=c[v][t];if(z)h.disconnect(z);else try{delete a[t]}catch(A){}w?c[v][t]=h.connect(a,t,w):a[t]=null;return a}a[t]=w;return a}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(l,a,k,n,m,f){function d(b,a){var c=a.parentNode;c&&c.insertBefore(b,a)}function h(b){if("innerHTML"in b)try{b.innerHTML="";return}catch(p){}for(var a;a=b.lastChild;)b.removeChild(a)}var c={option:["select"],tbody:["table"],
thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w\:]+)/,e={},t=0,g="__"+a._scopeName+"ToDomId",w;for(w in c)c.hasOwnProperty(w)&&(a=c[w],a.pre="option"==w?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+a.join("\x3e\x3c")+"\x3e",a.post="\x3c/"+a.reverse().join("\x3e\x3c/")+"\x3e");var B;8>=k("ie")&&(B=function(b){b.__dojo_html5_tested="yes";
var a=v("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},b.body);1!==a.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(a){b.createElement(a)});z(a)});l.toDom=function(a,d){d=d||n.doc;var p=d[g];p||(d[g]=p=++t+"",e[p]=d.createElement("div"));8>=k("ie")&&!d.__dojo_html5_tested&&d.body&&B(d);a+="";var h=a.match(b),f=h?h[1].toLowerCase():"",
p=e[p];if(h&&c[f])for(h=c[f],p.innerHTML=h.pre+a+h.post,a=h.length;a;--a)p=p.firstChild;else p.innerHTML=a;if(1==p.childNodes.length)return p.removeChild(p.firstChild);for(a=d.createDocumentFragment();d=p.firstChild;)a.appendChild(d);return a};l.place=function(b,a,c){a=m.byId(a);"string"==typeof b&&(b=/^\s*</.test(b)?l.toDom(b,a.ownerDocument):m.byId(b));if("number"==typeof c){var g=a.childNodes;!g.length||g.length<=c?a.appendChild(b):d(b,g[0>c?0:c])}else switch(c){case "before":d(b,a);break;case "after":c=
b;(g=a.parentNode)&&(g.lastChild==a?g.appendChild(c):g.insertBefore(c,a.nextSibling));break;case "replace":a.parentNode.replaceChild(b,a);break;case "only":l.empty(a);a.appendChild(b);break;case "first":if(a.firstChild){d(b,a.firstChild);break}default:a.appendChild(b)}return b};var v=l.create=function(b,a,c,g){var e=n.doc;c&&(c=m.byId(c),e=c.ownerDocument);"string"==typeof b&&(b=e.createElement(b));a&&f.set(b,a);c&&l.place(b,c,g);return b};l.empty=function(b){h(m.byId(b))};var z=l.destroy=function(b){if(b=
m.byId(b)){var a=b;b=b.parentNode;a.firstChild&&h(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,a,k){function n(c){if("string"==typeof c||c instanceof String){if(c&&!f.test(c))return d[0]=c,d;c=c.split(f);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return c?a.filter(c,function(b){return b}):[]}var m,f=/\s+/,d=[""],h={};return m={contains:function(a,
b){return 0<=(" "+k.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=k.byId(a);b=n(b);var c=a.className,d,c=c?" "+c+" ":" ";d=c.length;for(var g=0,h=b.length,f;g<h;++g)(f=b[g])&&0>c.indexOf(" "+f+" ")&&(c+=f+" ");d<c.length&&(a.className=c.substr(1,c.length-2))},remove:function(a,b){a=k.byId(a);var c;if(void 0!==b){b=n(b);c=" "+a.className+" ";for(var d=0,g=b.length;d<g;++d)c=c.replace(" "+b[d]+" "," ");c=l.trim(c)}else c="";a.className!=c&&(a.className=c)},replace:function(a,b,e){a=
k.byId(a);h.className=a.className;m.remove(h,e);m.add(h,b);a.className!==h.className&&(a.className=h.className)},toggle:function(a,b,e){a=k.byId(a);if(void 0===e){b=n(b);for(var c=0,g=b.length,d;c<g;++c)d=b[c],m[m.contains(a,d)?"remove":"add"](a,d)}else m[e?"add":"remove"](a,b);return e}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(l,a,k){function n(b){return d[b]=new Function("item","index","array",b)}function m(b){var a=!b;return function(c,g,e){var h=0,f=c&&
c.length||0,t;f&&"string"==typeof c&&(c=c.split(""));"string"==typeof g&&(g=d[g]||n(g));if(e)for(;h<f;++h){if(t=!g.call(e,c[h],h,c),b^t)return!t}else for(;h<f;++h)if(t=!g(c[h],h,c),b^t)return!t;return a}}function f(b){var a=1,d=0,g=0;b||(a=d=g=-1);return function(e,f,t,m){if(m&&0<a)return c.lastIndexOf(e,f,t);m=e&&e.length||0;var k=b?m+g:d;t===h?t=b?d:m+g:0>t?(t=m+t,0>t&&(t=d)):t=t>=m?m+g:t;for(m&&"string"==typeof e&&(e=e.split(""));t!=k;t+=a)if(e[t]==f)return t;return-1}}var d={},h,c={every:m(!1),
some:m(!0),indexOf:f(!0),lastIndexOf:f(!1),forEach:function(b,a,c){var g=0,e=b&&b.length||0;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=d[a]||n(a));if(c)for(;g<e;++g)a.call(c,b[g],g,b);else for(;g<e;++g)a(b[g],g,b)},map:function(b,a,c,g){var e=0,h=b&&b.length||0;g=new (g||Array)(h);h&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=d[a]||n(a));if(c)for(;e<h;++e)g[e]=a.call(c,b[e],e,b);else for(;e<h;++e)g[e]=a(b[e],e,b);return g},filter:function(b,a,c){var g=0,e=b&&b.length||
0,h=[],f;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=d[a]||n(a));if(c)for(;g<e;++g)f=b[g],a.call(c,f,g,b)&&h.push(f);else for(;g<e;++g)f=b[g],a(f,g,b)&&h.push(f);return h},clearCache:function(){d={}}};k.mixin(l,c);return c})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(l,a,k){a=a.NodeList;var n=a.prototype;n.connect=a._adaptAsForEach(function(){return l.connect.apply(this,arguments)});n.coords=a._adaptAsMap(l.coords);
a.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(a.events,function(a){var f="on"+a;n[f]=function(a,h){return this.connect(f,a,h)}});return l.NodeList=a})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(l,a,k,n,m,f,d,h){function c(b,a){var c=function(c,g){if("string"==typeof g&&
(g=k.byId(g),!g))return new a([]);c="string"==typeof c?b(c,g):c?c.end&&c.on?c:[c]:[];return c.end&&c.on?c:new a(c)};c.matches=b.match||function(b,a,g){return 0<c.filter([b],a,g).length};c.filter=b.filter||function(b,a,g){return c(a,g).filter(function(a){return-1<m.indexOf(b,a)})};if("function"!=typeof b){var g=b.search;b=function(b,a){return g(a||document,b)}}return c}var b=Array.prototype,e=b.slice,t=b.concat,g=m.forEach,w=function(b,a,c){a=[0].concat(e.call(a,0));c=c||l.global;return function(g){a[0]=
g;return b.apply(c,a)}},B=function(b){var a=this instanceof v&&1;"number"==typeof b&&(b=Array(b));var c=b&&"length"in b?b:arguments;if(a||!c.sort){for(var g=a?this:[],e=g.length=c.length,d=0;d<e;d++)g[d]=c[d];if(a)return g;c=g}f._mixin(c,z);c._NodeListCtor=function(b){return v(b)};return c},v=B,z=v.prototype=[];v._wrap=z._wrap=function(b,a,c){b=new (c||this._NodeListCtor||v)(b);return a?b._stash(a):b};v._adaptAsMap=function(b,a){return function(){return this.map(w(b,arguments,a))}};v._adaptAsForEach=
function(b,a){return function(){this.forEach(w(b,arguments,a));return this}};v._adaptAsFilter=function(b,a){return function(){return this.filter(w(b,arguments,a))}};v._adaptWithCondition=function(b,a,c){return function(){var g=arguments,e=w(b,g,c);if(a.call(c||l.global,g))return this.map(e);this.forEach(e);return this}};g(["slice","splice"],function(a){var c=b[a];z[a]=function(){return this._wrap(c.apply(this,arguments),"slice"==a?this:null)}});g(["indexOf","lastIndexOf","every","some"],function(b){var a=
m[b];z[b]=function(){return a.apply(l,[this].concat(e.call(arguments,0)))}});f.extend(B,{constructor:v,_NodeListCtor:v,toString:function(){return this.join(",")},_stash:function(b){this._parent=b;return this},on:function(b,a){var c=this.map(function(c){return n(c,b,a)});c.remove=function(){for(var b=0;b<c.length;b++)c[b].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var a=e.call(this,0),c=m.map(arguments,function(b){return e.call(b,
0)});return this._wrap(t.apply(a,c),this)},map:function(b,a){return this._wrap(m.map(this,b,a),this)},forEach:function(b,a){g(this,b,a);return this},filter:function(b){var a=arguments,c=this,g=0;if("string"==typeof b){c=A._filterResult(this,a[0]);if(1==a.length)return c._stash(this);g=1}return this._wrap(m.filter(c,a[g],a[g+1]),this)},instantiate:function(b,a){var c=f.isFunction(b)?b:f.getObject(b);a=a||{};return this.forEach(function(b){new c(a,b)})},at:function(){var b=new this._NodeListCtor(0);
g(arguments,function(a){0>a&&(a=this.length+a);this[a]&&b.push(this[a])},this);return b._stash(this)}});var A=c(h,B);l.query=c(h,function(b){return B(b)});A.load=function(b,a,g){d.load(b,a,function(b){g(c(b,B))})};l._filterQueryResult=A._filterResult=function(b,a,c){return new B(A.filter(b,a,c))};l.NodeList=A.NodeList=B;return A})},"dojo/selector/_loader":function(){define(["../has","require"],function(l,a){"undefined"!==typeof document&&document.createElement("div");var k;return{load:function(n,
m,f,d){if(d&&d.isBuild)f();else{d=a;n="default"==n?l("config-selectorEngine")||"css3":n;n="css2"==n||"lite"==n?"./lite":"css2.1"==n?"./lite":"css3"==n?"./lite":"acme"==n?"./acme":(d=m)&&n;if("?"==n.charAt(n.length-1)){n=n.substring(0,n.length-1);var h=!0}if(h&&(l("dom-compliant-qsa")||k))return f(k);d([n],function(a){"./lite"!=n&&(k=a);f(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(l,a){var k=document.createElement("div"),n=k.matches||k.webkitMatchesSelector||
k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,m=k.querySelectorAll,f=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,d=function(c,b){var e=b?b.ownerDocument||b:a.doc||document,f=(m?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(c);b=b||e;if(f){var g=(l("ie"),null!==b.parentNode&&9!==b.nodeType&&b.parentNode===e);if(f[2]&&g){var k=a.byId?a.byId(f[2],e):e.getElementById(f[2]);if(!k||f[1]&&f[1]!=k.tagName.toLowerCase())return[];
if(b!=e)for(c=k;c!=b;)if(c=c.parentNode,!c)return[];return f[3]?d(f[3],k):[k]}if(f[3]&&b.getElementsByClassName)return b.getElementsByClassName(f[4]);if(f[5])if(k=b.getElementsByTagName(f[5]),f[4]||f[6])c=(f[4]||"")+f[6];else return k}if(m)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?h(b,c,b.querySelectorAll):b.querySelectorAll(c);k||(k=b.getElementsByTagName("*"));f=[];e=0;for(g=k.length;e<g;e++){var n=k[e];1==n.nodeType&&(void 0)(n,c,b)&&f.push(n)}return f},h=function(a,b,e){var c=
a,g=a.getAttribute("id"),d=g||"__dojo__",h=a.parentNode,m=/^\s*[+~]/.test(b);if(m&&!h)return[];g?d=d.replace(/'/g,"\\$\x26"):a.setAttribute("id",d);m&&h&&(a=a.parentNode);b=b.match(f);for(h=0;h<b.length;h++)b[h]="[id\x3d'"+d+"'] "+b[h];b=b.join(",");try{return e.call(a,b)}finally{g||c.removeAttribute("id")}};d.match=n?function(a,b,e){return e&&9!=e.nodeType?h(e,b,function(b){return n.call(a,b)}):n.call(a,b)}:void 0;return d})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(l,a,k,n,m,f,d,h,c){function b(b){return function(a,c,g){return 2==arguments.length?b["string"==typeof c?"get":"set"](a,c):b.set(a,c,g)}}var e=function(b){return 1==b.length&&"string"==typeof b[0]},t=function(b){var a=b.parentNode;a&&a.removeChild(b)},g=a.NodeList,w=g._adaptWithCondition,B=g._adaptAsForEach,v=g._adaptAsMap;n.extend(g,{_normalize:function(b,a){var c=!0===b.parse;if("string"==typeof b.template){var g=b.templateFunc||l.string&&l.string.substitute;b=g?g(b.template,b):b}g=typeof b;
"string"==g||"number"==g?(b=f.toDom(b,a&&a.ownerDocument),b=11==b.nodeType?n._toArray(b.childNodes):[b]):n.isArrayLike(b)?n.isArray(b)||(b=n._toArray(b)):b=[b];c&&(b._runParse=!0);return b},_cloneNode:function(b){return b.cloneNode(!0)},_place:function(b,a,c,g){if(1==a.nodeType||"only"!=c)for(var e,d=b.length,h=d-1;0<=h;h--){var p=g?this._cloneNode(b[h]):b[h];if(b._runParse&&l.parser&&l.parser.parse)for(e||(e=a.ownerDocument.createElement("div")),e.appendChild(p),l.parser.parse(e),p=e.firstChild;e.firstChild;)e.removeChild(e.firstChild);
h==d-1?f.place(p,a,c):a.parentNode.insertBefore(p,a);a=p}},position:v(d.position),attr:w(b(h),e),style:w(b(c),e),addClass:B(m.add),removeClass:B(m.remove),toggleClass:B(m.toggle),replaceClass:B(m.replace),empty:B(f.empty),removeAttr:B(h.remove),marginBox:v(d.getMarginBox),place:function(b,c){var g=a(b)[0];return this.forEach(function(b){f.place(b,g,c)})},orphan:function(b){return(b?a._filterResult(this,b):this).forEach(t)},adopt:function(b,c){return a(b).place(this[0],c)._stash(this)},query:function(b){if(!b)return this;
var c=new g;this.map(function(g){a(b,g).forEach(function(b){void 0!==b&&c.push(b)})});return c._stash(this)},filter:function(b){var c=arguments,g=this,e=0;if("string"==typeof b){g=a._filterResult(this,c[0]);if(1==c.length)return g._stash(this);e=1}return this._wrap(k.filter(g,c[e],c[e+1]),this)},addContent:function(b,a){b=this._normalize(b,this[0]);for(var c=0,g;g=this[c];c++)b.length?this._place(b,g,a,0<c):f.empty(g);return this}});return g})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(l,a,k,n,m,f,d,h,c,b,e,t,g,w,B,v){l._xhrObj=B._create;var z=l.config;l.objectToQuery=n.objectToQuery;l.queryToObject=n.queryToObject;l.fieldToObject=f.fieldToObject;l.formToObject=f.toObject;l.formToQuery=f.toQuery;l.formToJson=f.toJson;l._blockAsync=!1;var A=l._contentHandlers=l.contentHandlers={text:function(b){return b.responseText},json:function(b){return c.fromJson(b.responseText||null)},"json-comment-filtered":function(b){h.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
b=b.responseText;var a=b.indexOf("/*"),g=b.lastIndexOf("*/");if(-1==a||-1==g)throw Error("JSON was not comment filtered");return c.fromJson(b.substring(a+2,g))},javascript:function(b){return l.eval(b.responseText)},xml:function(b){var c=b.responseXML;c&&!c.querySelectorAll&&(c=(new DOMParser).parseFromString(b.responseText,"application/xml"));if(a("ie")&&(!c||!c.documentElement)){var g=function(b){return"MSXML"+b+".DOMDocument"},g=["Microsoft.XMLDOM",g(6),g(4),g(3),g(2)];e.some(g,function(a){try{var g=
new ActiveXObject(a);g.async=!1;g.loadXML(b.responseText);c=g}catch(G){return!1}return!0})}return c},"json-comment-optional":function(b){return b.responseText&&/^[^{\[]*\/\*/.test(b.responseText)?A["json-comment-filtered"](b):A.json(b)}};A.arraybuffer=A.blob=A.document=function(b,a){return b.response};l._ioSetArgs=function(a,c,g,e){var h={args:a,url:a.url},p=null;if(a.form){var p=m.byId(a.form),u=p.getAttributeNode("action");h.url=h.url||(u?u.value:l.doc?l.doc.URL:null);p=f.toObject(p)}u={};p&&b.mixin(u,
p);a.content&&b.mixin(u,a.content);a.preventCache&&(u["dojo.preventCache"]=(new Date).valueOf());h.query=n.objectToQuery(u);h.handleAs=a.handleAs||"text";var k=new d(function(b){b.canceled=!0;c&&c(b);var a=b.ioArgs.error;a||(a=Error("request cancelled"),a.dojoType="cancel",b.ioArgs.error=a);return a});k.addCallback(g);var t=a.load;t&&b.isFunction(t)&&k.addCallback(function(b){return t.call(a,b,h)});var w=a.error;w&&b.isFunction(w)&&k.addErrback(function(b){return w.call(a,b,h)});var B=a.handle;B&&
b.isFunction(B)&&k.addBoth(function(b){return B.call(a,b,h)});k.addErrback(function(b){return e(b,k)});z.ioPublish&&l.publish&&!1!==h.args.ioPublish&&(k.addCallbacks(function(b){l.publish("/dojo/io/load",[k,b]);return b},function(b){l.publish("/dojo/io/error",[k,b]);return b}),k.addBoth(function(b){l.publish("/dojo/io/done",[k,b]);return b}));k.ioArgs=h;return k};var C=function(b){b=A[b.ioArgs.handleAs](b.ioArgs.xhr,b.ioArgs);return void 0===b?null:b},p=function(b,a){a.ioArgs.args.failOk||console.error(b);
return b},E=function(b){0>=u&&(u=0,z.ioPublish&&l.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish)&&l.publish("/dojo/io/stop"))},u=0;g.after(w,"_onAction",function(){--u});g.after(w,"_onInFlight",E);l._ioCancelAll=w.cancelAll;l._ioNotifyStart=function(b){z.ioPublish&&l.publish&&!1!==b.ioArgs.args.ioPublish&&(u||l.publish("/dojo/io/start"),u+=1,l.publish("/dojo/io/send",[b]))};l._ioWatch=function(a,c,g,e){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(b){return c(a)},isReady:function(b){return g(a)},
handleResponse:function(b){return e(a)}});w(a);E(a)};l._ioAddQueryToUrl=function(b){b.query.length&&(b.url+=(-1==b.url.indexOf("?")?"?":"\x26")+b.query,b.query=null)};l.xhr=function(b,a,c){var g,e=l._ioSetArgs(a,function(b){g&&g.cancel()},C,p),d=e.ioArgs;"postData"in a?d.query=a.postData:"putData"in a?d.query=a.putData:"rawBody"in a?d.query=a.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(b.toUpperCase()))&&l._ioAddQueryToUrl(d);var h={method:b,handleAs:{arraybuffer:1,blob:1,document:1}[a.handleAs]?
a.handleAs:"text",responseType:a.responseType,timeout:a.timeout,withCredentials:a.withCredentials,ioArgs:d};"undefined"!==typeof a.headers&&(h.headers=a.headers);"undefined"!==typeof a.contentType&&(h.headers||(h.headers={}),h.headers["Content-Type"]=a.contentType);"undefined"!==typeof d.query&&(h.data=d.query);"undefined"!==typeof a.sync&&(h.sync=a.sync);l._ioNotifyStart(e);try{g=B(d.url,h,!0)}catch(S){return e.cancel(),e}e.ioArgs.xhr=g.response.xhr;g.then(function(){e.resolve(e)}).otherwise(function(b){d.error=
b;b.response&&(b.status=b.response.status,b.responseText=b.response.text,b.xhr=b.response.xhr);e.reject(b)});return e};l.xhrGet=function(b){return l.xhr("GET",b)};l.rawXhrPost=l.xhrPost=function(b){return l.xhr("POST",b,!0)};l.rawXhrPut=l.xhrPut=function(b){return l.xhr("PUT",b,!0)};l.xhrDelete=function(b){return l.xhr("DELETE",b)};l._isDocumentOk=function(b){return v.checkStatus(b.status)};l._getText=function(b){var a;l.xhrGet({url:b,sync:!0,load:function(b){a=b}});return a};b.mixin(l.xhr,{_xhrObj:l._xhrObj,
fieldToObject:f.fieldToObject,formToObject:f.toObject,objectToQuery:n.objectToQuery,formToQuery:f.toQuery,formToJson:f.toJson,queryToObject:n.queryToObject,contentHandlers:A,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var a=
{};return{objectToQuery:function(k){var n=encodeURIComponent,m=[],f;for(f in k){var d=k[f];if(d!=a[f]){var h=n(f)+"\x3d";if(l.isArray(d))for(var c=0,b=d.length;c<b;++c)m.push(h+n(d[c]));else m.push(h+n(d))}}return m.join("\x26")},queryToObject:function(a){var k=decodeURIComponent;a=a.split("\x26");for(var m={},f,d,h=0,c=a.length;h<c;++h)if(d=a[h],d.length){var b=d.indexOf("\x3d");0>b?(f=k(d),d=""):(f=k(d.slice(0,b)),d=k(d.slice(b+1)));"string"==typeof m[f]&&(m[f]=[m[f]]);l.isArray(m[f])?m[f].push(d):
m[f]=d}return m}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(l,a,k,n){var m={fieldToObject:function(f){var d=null;if(f=a.byId(f)){var h=f.name,c=(f.type||"").toLowerCase();if(h&&c&&!f.disabled)if("radio"==c||"checkbox"==c)f.checked&&(d=f.value);else if(f.multiple)for(d=[],f=[f.firstChild];f.length;)for(h=f.pop();h;h=h.nextSibling)if(1==h.nodeType&&"option"==h.tagName.toLowerCase())h.selected&&d.push(h.value);else{h.nextSibling&&f.push(h.nextSibling);
h.firstChild&&f.push(h.firstChild);break}else d=f.value}return d},toObject:function(f){var d={};f=a.byId(f).elements;for(var h=0,c=f.length;h<c;++h){var b=f[h],e=b.name,k=(b.type||"").toLowerCase();if(e&&k&&0>"file|submit|image|reset|button".indexOf(k)&&!b.disabled){var g=d,w=e,b=m.fieldToObject(b);if(null!==b){var n=g[w];"string"==typeof n?g[w]=[n,b]:l.isArray(n)?n.push(b):g[w]=b}"image"==k&&(d[e+".x"]=d[e+".y"]=d[e].x=d[e].y=0)}}return d},toQuery:function(a){return k.objectToQuery(m.toObject(a))},
toJson:function(a,d){return n.stringify(m.toObject(a),null,d?4:0)}};return m})},"dojo/json":function(){define(["./has"],function(l){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(l,a,k,n,m,f,d){var h=function(){},c=Object.freeze||function(){},b=l.Deferred=function(e){function d(b){if(l)throw Error("This deferred has already been resolved");w=b;l=!0;g()}function g(){for(var b;!b&&p;){var c=
p;p=p.next;if(b=c.progress==h)l=!1;var g=A?c.error:c.resolved;m("config-useDeferredInstrumentation")&&A&&a.instrumentRejected&&a.instrumentRejected(w,!!g);if(g)try{var e=g(w);e&&"function"===typeof e.then?e.then(f.hitch(c.deferred,"resolve"),f.hitch(c.deferred,"reject"),f.hitch(c.deferred,"progress")):(g=b&&void 0===e,b&&!g&&(A=e instanceof Error),c.deferred[g&&A?"reject":"resolve"](g?w:e))}catch(L){c.deferred.reject(L)}else A?c.deferred.reject(w):c.deferred.resolve(w)}}var w,l,v,z,A,C,p,E=this.promise=
new k;this.isResolved=E.isResolved=function(){return 0==z};this.isRejected=E.isRejected=function(){return 1==z};this.isFulfilled=E.isFulfilled=function(){return 0<=z};this.isCanceled=E.isCanceled=function(){return v};this.resolve=this.callback=function(b){this.fired=z=0;this.results=[b,null];d(b)};this.reject=this.errback=function(b){A=!0;this.fired=z=1;m("config-useDeferredInstrumentation")&&a.instrumentRejected&&a.instrumentRejected(b,!!p);d(b);this.results=[null,b]};this.progress=function(b){for(var a=
p;a;){var c=a.progress;c&&c(b);a=a.next}};this.addCallbacks=function(b,a){this.then(b,a,h);return this};E.then=this.then=function(a,c,e){var d=e==h?this:new b(E.cancel);a={resolved:a,error:c,progress:e,deferred:d};p?C=C.next=a:p=C=a;l&&g();return d.promise};var u=this;E.cancel=this.cancel=function(){if(!l){var b=e&&e(u);l||(b instanceof Error||(b=new n(b)),b.log=!1,u.reject(b))}v=!0};c(E)};f.extend(b,{addCallback:function(b){return this.addCallbacks(f.hitch.apply(l,arguments))},addErrback:function(b){return this.addCallbacks(null,
f.hitch.apply(l,arguments))},addBoth:function(b){var a=f.hitch.apply(l,arguments);return this.addCallbacks(a,a)},fired:-1});b.when=l.when=d;return b})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(l,a,k,n,m){var f=Object.freeze||function(){},d=function(b,a,c,d,f){l("config-deferredInstrumentation")&&2===a&&e.instrumentRejected&&0===b.length&&e.instrumentRejected(c,!1,
d,f);for(f=0;f<b.length;f++)h(b[f],a,c,d)},h=function(a,g,d,h){var f=a[g],m=a.deferred;if(f)try{var k=f(d);if(0===g)"undefined"!==typeof k&&b(m,g,k);else{if(k&&"function"===typeof k.then){a.cancel=k.cancel;k.then(c(m,1),c(m,2),c(m,0));return}b(m,1,k)}}catch(C){b(m,2,C)}else b(m,g,d);l("config-deferredInstrumentation")&&2===g&&e.instrumentRejected&&e.instrumentRejected(d,!!f,h,m.promise)},c=function(a,c){return function(g){b(a,c,g)}},b=function(b,a,c){if(!b.isCanceled())switch(a){case 0:b.progress(c);
break;case 1:b.resolve(c);break;case 2:b.reject(c)}},e=function(b){var a=this.promise=new n,c=this,m,t,z,A=!1,C=[];l("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(c,e),Error.captureStackTrace(a,e));this.isResolved=a.isResolved=function(){return 1===m};this.isRejected=a.isRejected=function(){return 2===m};this.isFulfilled=a.isFulfilled=function(){return!!m};this.isCanceled=a.isCanceled=function(){return A};this.progress=function(b,g){if(m){if(!0===g)throw Error("This deferred has already been fulfilled.");
return a}d(C,0,b,null,c);return a};this.resolve=function(b,g){if(m){if(!0===g)throw Error("This deferred has already been fulfilled.");return a}d(C,m=1,t=b,null,c);C=null;return a};var p=this.reject=function(b,g){if(m){if(!0===g)throw Error("This deferred has already been fulfilled.");return a}l("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(z={},p);d(C,m=2,t=b,z,c);C=null;return a};this.then=a.then=function(b,c,g){var d=[g,b,c];d.cancel=a.cancel;d.deferred=new e(function(b){return d.cancel&&
d.cancel(b)});m&&!C?h(d,m,t,z):C.push(d);return d.deferred.promise};this.cancel=a.cancel=function(a,c){if(!m){b&&(c=b(a),a="undefined"===typeof c?a:c);A=!0;if(!m)return"undefined"===typeof a&&(a=new k),p(a),a;if(2===m&&t===a)return a}else if(!0===c)throw Error("This deferred has already been fulfilled.");};f(a)};e.prototype.toString=function(){return"[object Deferred]"};m&&m(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],function(l){return l("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(a,k,n,m){n=n||Error;var f=function(a){if(n===Error){Error.captureStackTrace&&Error.captureStackTrace(this,f);var d=Error.call(this,a),c;for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.message=a;this.stack=d.stack}else n.apply(this,arguments);k&&k.apply(this,arguments)};f.prototype=l.delegate(n.prototype,m);f.prototype.name=a;return f.prototype.constructor=f}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(l){function a(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(k,n,m){a()},cancel:function(k,n){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(l,a){return function(k,n,m,f){var d=k&&"function"===typeof k.then,h=d&&k instanceof a;if(!d)return 1<arguments.length?n?n(k):k:(new l).resolve(k);h||(d=new l(k.cancel),k.then(d.resolve,d.reject,d.progress),k=d.promise);return n||m||f?k.then(n,m,f):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,a){l.fromJson=function(a){return eval("("+a+")")};l._escapeString=a.stringify;l.toJsonIndentStr="\t";l.toJson=
function(k,n){return a.stringify(k,function(a,f){return f&&(a=f.__json__||f.json,"function"==typeof a)?a.call(f):f},n&&l.toJsonIndentStr)};return l})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(l,a,k,n,m,f){function d(){for(var e=+new Date,d=0,g;d<b.length&&(g=b[d]);d++){var f=g.response,m=f.options;g.isCanceled&&g.isCanceled()||
g.isValid&&!g.isValid(f)?(b.splice(d--,1),h._onAction&&h._onAction()):g.isReady&&g.isReady(f)?(b.splice(d--,1),g.handleResponse(f),h._onAction&&h._onAction()):g.startTime&&g.startTime+(m.timeout||0)<e&&(b.splice(d--,1),g.cancel(new a("Timeout exceeded",f)),h._onAction&&h._onAction())}h._onInFlight&&h._onInFlight(g);b.length||(clearInterval(c),c=null)}function h(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(b.push(a),c||(c=setInterval(d,50)),a.response.options.sync&&d())}
var c=null,b=[];h.cancelAll=function(){try{n.forEach(b,function(b){try{b.cancel(new k("All requests canceled."))}catch(t){}})}catch(e){}};m&&f&&m.doc.attachEvent&&f(m.global,"unload",function(){h.cancelAll()});return h})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(l,a,k,n,m,f,d,h,c){function b(b){return t(b)}function e(b){return void 0!==b.data?b.data:
b.text}l.deepCopy=function(b,a){for(var c in a){var g=b[c],e=a[c];g!==e&&(g&&"object"===typeof g&&e&&"object"===typeof e?e instanceof Date?b[c]=new Date(e):l.deepCopy(g,e):b[c]=e)}return b};l.deepCreate=function(b,a){a=a||{};var c=d.delegate(b),g,e;for(g in b)(e=b[g])&&"object"===typeof e&&(c[g]=l.deepCreate(e,a[g]));return l.deepCopy(c,a)};var t=Object.freeze||function(b){return b};l.deferred=function(c,f,m,v,z,A){var g=new n(function(b){f&&f(g,c);return b&&(b instanceof a||b instanceof k)?b:new k("Request canceled",
c)});g.response=c;g.isValid=m;g.isReady=v;g.handleResponse=z;m=g.then(b).otherwise(function(b){b.response=c;throw b;});l.notify&&m.then(d.hitch(l.notify,"emit","load"),d.hitch(l.notify,"emit","error"));v=m.then(e);z=new h;for(var p in v)v.hasOwnProperty(p)&&(z[p]=v[p]);z.response=m;t(z);A&&g.then(function(b){A.call(g,b)},function(b){A.call(g,c,b)});g.promise=z;g.then=z.then;return g};l.addCommonMethods=function(b,a){f.forEach(a||["GET","POST","PUT","DELETE"],function(a){b[("DELETE"===a?"DEL":a).toLowerCase()]=
function(c,g){g=d.delegate(g||{});g.method=a;return b(c,g)}})};l.parseArgs=function(b,a,c){var g=a.data,e=a.query;!g||c||"object"!==typeof g||g instanceof ArrayBuffer||g instanceof Blob||(a.data=m.objectToQuery(g));e?("object"===typeof e&&(e=m.objectToQuery(e)),a.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):a.preventCache&&(e="request.preventCache\x3d"+ +new Date);b&&e&&(b+=(~b.indexOf("?")?"\x26":"?")+e);return{url:b,options:a,getHeader:function(b){return null}}};l.checkStatus=
function(b){b=b||0;return 200<=b&&300>b||304===b||1223===b||!b}})},"dojo/errors/RequestError":function(){define(["./create"],function(l){return l("RequestError",function(a,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(l,a){return l("RequestTimeoutError",null,a,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(l,a,k,n,m){function f(b,a){var c=
b.xhr;b.status=b.xhr.status;try{b.text=c.responseText}catch(p){}"xml"===b.options.handleAs&&(b.data=c.responseXML);var g;if(a)this.reject(a);else{try{k(b)}catch(p){g=p}n.checkStatus(c.status)?g?this.reject(g):this.resolve(b):(a=g?new l("Unable to load "+b.url+" status: "+c.status+" and an error in handleAs: transformation of response",b):new l("Unable to load "+b.url+" status: "+c.status,b),this.reject(a))}}function d(b){return this.xhr.getResponseHeader(b)}function h(k,z,A){var v=z&&z.data&&z.data instanceof
FormData,p=n.parseArgs(k,n.deepCreate(B,z),v);k=p.url;z=p.options;var E=!z.data&&"POST"!==z.method&&"PUT"!==z.method;10>=m("ie")&&(k=k.split("#")[0]);var u,y=n.deferred(p,g,b,e,f,function(){u&&u()}),D=p.xhr=h._create();if(!D)return y.cancel(new l("XHR was not created")),A?y:y.promise;p.getHeader=d;t&&(u=t(D,y,p,z.uploadProgress));var I="undefined"===typeof z.data?null:z.data,J=!z.sync,L=z.method;try{D.open(L,k,J,z.user||w,z.password||w);z.withCredentials&&(D.withCredentials=z.withCredentials);z.handleAs in
c&&(D.responseType=c[z.handleAs]);var G=z.headers;k=v||E?!1:"application/x-www-form-urlencoded";if(G)for(var H in G)"content-type"===H.toLowerCase()?k=G[H]:G[H]&&D.setRequestHeader(H,G[H]);k&&!1!==k&&D.setRequestHeader("Content-Type",k);G&&"X-Requested-With"in G||D.setRequestHeader("X-Requested-With","XMLHttpRequest");n.notify&&n.notify.emit("send",p,y.promise.cancel);D.send(I)}catch(S){y.reject(S)}a(y);D=null;return A?y:y.promise}m.add("dojo-force-activex-xhr",function(){return 0});var c={blob:"blob",
document:"document",arraybuffer:"arraybuffer"},b,e,t,g;b=function(b){return!this.isFulfilled()};g=function(b,a){a.xhr.abort()};t=function(b,a,c,g){function e(b){a.handleResponse(c)}function d(b){b=new l("Unable to load "+c.url+" status: "+b.target.status,c);a.handleResponse(c,b)}function h(b,g){c.transferType=b;g.lengthComputable?(c.loaded=g.loaded,c.total=g.total,a.progress(c)):3===c.xhr.readyState&&(c.loaded="loaded"in g?g.loaded:g.position,a.progress(c))}function f(b){return h("download",b)}function m(b){return h("upload",
b)}b.addEventListener("load",e,!1);b.addEventListener("error",d,!1);b.addEventListener("progress",f,!1);g&&b.upload&&b.upload.addEventListener("progress",m,!1);return function(){b.removeEventListener("load",e,!1);b.removeEventListener("error",d,!1);b.removeEventListener("progress",f,!1);b.upload.removeEventListener("progress",m,!1);b=null}};var w,B={data:null,query:null,sync:!1,method:"GET"};h._create=function(){throw Error("XMLHTTP not available");};m("dojo-force-activex-xhr")||(h._create=function(){return new XMLHttpRequest});
n.addCommonMethods(h);return h})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(l,a,k,n){function m(a){var d=f[a.options.handleAs];a.data=d?d(a):a.data||a.text;return a}k=function(a){return a.xhr.response};var f={javascript:function(d){return a.eval(d.text||"")},json:function(a){return l.parse(a.text||null)},xml:void 0,blob:k,arraybuffer:k,document:k};m.register=function(a,h){f[a]=h};return m})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(l,a,k,n,m,f,d,h,c){var b=k.mixin,e={},t=e._Line=function(b,a){this.start=b;this.end=a};t.prototype.getValue=function(b){return(this.end-this.start)*b+this.start};var g=e.Animation=function(a){b(this,a);k.isArray(this.curve)&&(this.curve=new t(this.curve[0],this.curve[1]))};g.prototype=new n;k.extend(g,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var b=this._percent,a=this.easing;return a?a(b):b},_fire:function(b,c){c=c||[];if(this[b])if(a.debugAtAllCosts)this[b].apply(this,
c);else try{this[b].apply(this,c)}catch(E){console.error("exception in animation handler for:",b),console.error(E)}return this},play:function(b,a){this._delayTimer&&this._clearTimer();if(a)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);b=b||this.delay;a=k.hitch(this,"_play",a);if(0<b)return this._delayTimer=setTimeout(a,b),this;a();return this},_play:function(b){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;b=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[b]));this._fire("onPlay",[b]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(b,a){this._stopTimer();this._active=this._paused=!0;this._percent=b;a&&this.play();return this},stop:function(b){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();b&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var b=
(new Date).valueOf(),b=0===this.duration?1:(b-this._startTime)/this.duration;1<=b&&(b=1);this._percent=b;this.easing&&(b=this.easing(b));this._fire("onAnimate",[this.curve.getValue(b)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var w=0,B=null,v={run:function(){}};k.extend(g,{_startTimer:function(){this._timer||(this._timer=f.after(v,"run",k.hitch(this,"_cycle"),!0),w++);B||(B=setInterval(k.hitch(v,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,w--);0>=w&&(clearInterval(B),B=null,w=0)}});var z=d("ie")?function(b){var a=b.style;a.width.length||"auto"!=c.get(b,"width")||(a.width="auto")}:function(){};
e._fade=function(a){a.node=h.byId(a.node);var g=b({properties:{}},a);a=g.properties.opacity={};a.start="start"in g?g.start:function(){return+c.get(g.node,"opacity")||0};a.end=g.end;a=e.animateProperty(g);f.after(a,"beforeBegin",k.partial(z,g.node),!0);return a};e.fadeIn=function(a){return e._fade(b({end:1},a))};e.fadeOut=function(a){return e._fade(b({end:0},a))};e._defaultEasing=function(b){return.5+Math.sin((b+1.5)*Math.PI)/2};var A=function(b){this._properties=b;for(var a in b){var c=b[a];c.start instanceof
m&&(c.tempColor=new m)}};A.prototype.getValue=function(b){var a={},c;for(c in this._properties){var g=this._properties[c],e=g.start;e instanceof m?a[c]=m.blendColors(e,g.end,b,g.tempColor).toCss():k.isArray(e)||(a[c]=(g.end-e)*b+e+("opacity"!=c?g.units||"px":0))}return a};e.animateProperty=function(a){var e=a.node=h.byId(a.node);a.easing||(a.easing=l._defaultEasing);a=new g(a);f.after(a,"beforeBegin",k.hitch(a,function(){var a={},g;for(g in this.properties){var d=function(b,a){var g={height:b.offsetHeight,
width:b.offsetWidth}[a];if(void 0!==g)return g;g=c.get(b,a);return"opacity"==a?+g:f?g:parseFloat(g)};if("width"==g||"height"==g)this.node.display="block";var h=this.properties[g];k.isFunction(h)&&(h=h(e));h=a[g]=b({},k.isObject(h)?h:{end:h});k.isFunction(h.start)&&(h.start=h.start(e));k.isFunction(h.end)&&(h.end=h.end(e));var f=0<=g.toLowerCase().indexOf("color");"end"in h?"start"in h||(h.start=d(e,g)):h.end=d(e,g);f?(h.start=new m(h.start),h.end=new m(h.end)):h.start="opacity"==g?+h.start:parseFloat(h.start)}this.curve=
new A(a)}),!0);f.after(a,"onAnimate",k.hitch(c,"set",a.node),!0);return a};e.anim=function(b,a,c,d,h,f){return e.animateProperty({node:b,duration:c||g.prototype.duration,properties:a,easing:d,onEnd:h}).play(f||0)};b(l,e);l._Animation=g;return e})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(l,a,k,n){var m=l.Color=function(a){a&&this.setColor(a)};m.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,
0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:n.transparentColor||[0,0,0,0]};a.extend(m,{r:255,g:255,b:255,a:1,_set:function(a,d,h,c){this.r=a;this.g=d;this.b=h;this.a=c},setColor:function(f){a.isString(f)?m.fromString(f,this):a.isArray(f)?m.fromArray(f,this):(this._set(f.r,f.g,f.b,f.a),f instanceof m||this.sanitize());return this},sanitize:function(){return this},
toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var d=this.r+", "+this.g+", "+this.b;return(a?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});m.blendColors=l.blendColors=function(a,d,h,c){c=c||new m;c.r=Math.round(a.r+(d.r-a.r)*h);c.g=Math.round(a.g+(d.g-a.g)*h);c.b=Math.round(a.b+
(d.b-a.b)*h);c.a=a.a+(d.a-a.a)*h;return c.sanitize()};m.fromRgb=l.colorFromRgb=function(a,d){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&m.fromArray(a[1].split(/\s*,\s*/),d)};m.fromHex=l.colorFromHex=function(a,d){var h=d||new m,c=4==a.length?4:8,b=(1<<c)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;k.forEach(["b","g","r"],function(e){var d=a&b;a>>=c;h[e]=4==c?17*d:d});h.a=1;return h};m.fromArray=l.colorFromArray=function(a,d){d=d||new m;d._set(Number(a[0]),Number(a[1]),Number(a[2]),
Number(a[3]));isNaN(d.a)&&(d.a=1);return d.sanitize()};m.fromString=l.colorFromString=function(a,d){var h=m.named[a];return h&&m.fromArray(h,d)||m.fromRgb(a,d)||m.fromHex(a,d)};return m})},"esri/config":function(){define(["require","exports","./core/global"],function(l,a,k){l={applicationUrl:k.location&&k.location.href,screenDPI:96,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",
kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};l.request.corsEnabledServers=[];l.request.corsEnabledServers.push=
function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return l})},"esri/core/global":function(){define(["require","exports"],function(l,a){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/kernel":function(){define(["require","./core/promiseUtils","./core/has","./support/revision",
"dojo/_base/kernel"],function(l,a,k,n,m){(function(){var a=m.config,d=a.has&&void 0!==a.has["config-deferredInstrumentation"],h=a.has&&void 0!==a.has["config-useDeferredInstrumentation"];void 0!==a.useDeferredInstrumentation||d||h||(k.add("config-deferredInstrumentation",!1,!0,!0),k.add("config-useDeferredInstrumentation",!1,!0,!0))})();return{version:"4.12",workerMessages:{request:function(f){return a.create(function(a){l(["./request"],a)}).then(function(a){var d=f.options||{};d.responseType="array-buffer";
return a(f.url,d)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}},revision:n.commitHash}})},"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./Error ./events ./maybe ./has @dojo/framework/shim/Promise".split(" "),function(l,a,k,n,m,f,d,h,c){function b(b){return c("esri-native-promise")?Promise.all(b):m(b)}function e(b,a){if(c("esri-native-promise"))return new Promise(b);var g=new n(a);
try{b(function(b){return u(b).then(g.resolve)},g.reject)}catch(J){g.reject(J)}return g.promise}function t(b){void 0===b&&(b="Aborted");b=new f("AbortError",b);b.dojoType="cancel";return b}function g(){return new k.default}function w(b){if(v(b))throw t();}function B(b){return h.isSome(b)?"aborted"in b?b:b.signal:b}function v(b){b=B(b);return h.isSome(b)&&b.aborted}function z(b){return b&&("AbortError"===b.name||"cancel"===b.dojoType)}function A(b){var a=null;b=e(function(b,c){a={resolve:b,reject:c}},
b);a.promise=b;a.cancel=function(){a.reject(t())};return a}function C(b){if(b){if("function"!==typeof b.forEach){var a=Object.keys(b),c=a.map(function(a){return b[a]});return C(c).then(function(b){var c={};a.forEach(function(a,g){return c[a]=b[g]});return c})}var g=null,d=p;return e(function(a,c){var e=[],h=b.length;0===h&&a(e);b.forEach(function(b){var f={promise:b||d(b)};e.push(f);f.promise.then(function(b){f.value=b}).catch(function(b){f.error=b}).then(function(){--h;0===h&&(g?c(t()):a(e))})})},
function(a){g=a||"Invocation cancellation";b.forEach(function(b){"cancel"in b&&b.cancel(a)})})}}function p(b){void 0===b&&(b=void 0);if(c("esri-native-promise"))return Promise.resolve(b);var a=new n;a.resolve(b);return a.promise}function E(b,a){void 0===a&&(a=void 0);var c=0;return e(function(g){c=setTimeout(function(){g(a)},b)},function(){c&&(clearTimeout(c),c=0)})}function u(b){return b&&"object"===typeof b&&"then"in b&&"function"===typeof b.then?b:p(b)}Object.defineProperty(a,"__esModule",{value:!0});
c.add("esri-native-promise",!1);a.all=b;a.filter=function(a,c){var g=a.slice();return b(a.map(function(b,a){return c(b,a)})).then(function(b){return g.filter(function(a,c){return b[c]})})};a.create=e;a.createAbortError=t;a.createAbortController=g;a.throwIfAborted=w;a.isAborted=v;a.throwIfAbortError=function(b){if(z(b))throw b;};a.onAbort=function(b,a){b=B(b);if(!h.isNone(b))if(b.aborted)a();else return d.once(b,"abort",a)};a.onAbortOrThrow=function(b,a){b=B(b);if(!h.isNone(b))return w(b),d.once(b,
"abort",a)};a.isAbortError=z;a.createDeferred=A;a.eachAlways=C;a.eachAlwaysValues=function(b){return C(b).then(function(b){return b.filter(function(b){return!!b.value}).map(function(b){return b.value})})};a.first=function(b){return b&&b.length?e(function(a,c){for(var g=0;g<b.length;g++)b[g].then(a,c)}):p()};a.reject=function(b){if(c("esri-native-promise"))return Promise.reject(b);var a=new n;a.reject(b);return a.promise};a.resolve=p;a.after=E;a.timeout=function(b,a,c,g){var e=setTimeout(function(){e=
0;c&&c.abort()},a),d=function(){throw g||new f("promiseUtils:timeout","The wrapped promise did not resolve within "+a+" ms");};return b.then(function(b){if(0===e)throw d();clearTimeout(e);return b},function(b){clearTimeout(e);throw 0===e?d():b;})};a.wrapCallback=function(b){var a=!1;return e(function(){b(function(b){a||p(b)})},function(){return a=!0})};a.isThenable=function(b){return b&&"function"===typeof b.then};a.when=u;a.debounce=function(b,a){void 0===a&&(a=-1);var c,e,d,h,f=null,p=function(){for(var m=
[],k=0;k<arguments.length;k++)m[k]=arguments[k];if(c)return e=m,h&&h.reject(t()),h=A(),m=h.promise,f&&(k=f,f=null,k.abort()),m;d=h||A();h=null;if(0<a){var n=g(),w=c=u(b.apply(void 0,m.concat([n.signal])));E(a).then(function(){c===w&&(h?n.abort():f=n)})}else c=u(b.apply(void 0,m));var m=function(){var b=e;e=d=c=f=null;null!=b&&p.apply(void 0,b)},k=c,l=d;k.then(m,m);k.then(l.resolve,l.reject);return l.promise};return p};a.createResolver=function(b){var a,c;b=e(function(b,g){a=b;c=g},b);var g=function(b){a(b)};
g.resolve=function(b){return a(b)};g.reject=function(b){return c(b)};g.promise=b;return g};a.always=function(b,a){return b.then(a,a)}})},"@dojo/framework/shim/AbortController":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("./global"),
n=l("../has/has"),m=l("./array");a.ShimAbortSignal=k.default.AbortSignal;n.default("abort-signal")||(k.default.AbortSignal=a.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,h){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(h)};a.prototype.removeEventListener=function(a,h){if(a in this.listeners){var c=
m.findIndex(this.listeners[a],function(b){return b===h});0<=c&&this.listeners[a].splice(c,1)}};a.prototype.dispatchEvent=function(a){var d=this,c=a.type;"abort"===c&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,a));if(!(c in this.listeners))return!1;this.listeners[c].forEach(function(b){setTimeout(function(){return b.call(d,a)},0)});return!a.preventDefault};return a}());a.ShimAbortController=k.default.AbortController;n.default("abort-controller")||(k.default.AbortController=
a.ShimAbortController=function(){function f(){this.signal=new a.ShimAbortSignal}f.prototype.abort=function(){var a;try{a=new Event("abort")}catch(h){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return f}());a.default=a.ShimAbortController})},"@dojo/framework/shim/global":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==
l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();a.default=l})},"@dojo/framework/has/has":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&
define.amd&&define(["require","exports","tslib","../shim/global"],l)})(function(l,a){function k(b){b=b.toLowerCase();return!!(b in h||b in a.testCache||a.testFunctions[b])}function n(b,c,d){void 0===d&&(d=!1);var g=b.toLowerCase();if(k(g)&&!d&&!(g in h))throw new TypeError('Feature "'+b+'" exists and overwrite not true.');"function"===typeof c?a.testFunctions[g]=c:(a.testCache[g]=c,delete a.testFunctions[g])}function m(b){var c=b.toLowerCase();if(c in h)b=h[c];else if(a.testFunctions[c])b=a.testCache[c]=
a.testFunctions[c].call(null),delete a.testFunctions[c];else if(c in a.testCache)b=a.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+b+'"');return b}Object.defineProperty(a,"__esModule",{value:!0});var f=l("tslib"),d=l("../shim/global");a.testCache={};a.testFunctions={};l=(d.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in d.default&&delete d.default.DojoHasEnvironment;var h=l?"function"===typeof l?l.apply(d.default):l:{};a.load=function(b,
a,c,g){b?a([b],c):c()};a.normalize=function(b,a){function c(b){var a=g[e++];if(":"===a)return null;if("?"===g[e++]){if(!b&&m(a))return c();c(!0);return c(b)}return a}var g=b.match(/[\?:]|[^:\?]*/g)||[],e=0;return(b=c())&&a(b)};a.exists=k;a.add=n;a.default=m;n("public-path",void 0);n("dojo-debug",!1);n("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);n("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});
n("fetch","fetch"in d.default&&"function"===typeof d.default.fetch,!0);n("es6-array",function(){return["from","of"].every(function(b){return b in d.default.Array})&&["findIndex","find","copyWithin"].every(function(b){return b in d.default.Array.prototype})},!0);n("es6-array-fill",function(){return"fill"in d.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);n("es7-array",function(){return"includes"in d.default.Array.prototype},!0);n("es6-map",function(){if("function"===typeof d.default.Map)try{var b=
new d.default.Map([[0,1]]);return b.has(0)&&"function"===typeof b.keys&&m("es6-symbol")&&"function"===typeof b.values&&"function"===typeof b.entries}catch(e){}return!1},!0);n("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(b){return"function"===typeof d.default.Math[b]})},!0);n("es6-math-imul",function(){return"imul"in d.default.Math?-5===Math.imul(4294967295,5):!1},!0);n("es6-object",function(){return m("es6-symbol")&&
["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(b){return"function"===typeof d.default.Object[b]})},!0);n("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(b){return"function"===typeof d.default.Object[b]})},!0);n("es-observable",function(){return"undefined"!==typeof d.default.Observable},!0);n("es6-promise",function(){return"undefined"!==typeof d.default.Promise&&m("es6-symbol")},!0);n("es2018-promise-finally",function(){return m("es6-promise")&&
"undefined"!==typeof d.default.Promise.prototype.finally},!0);n("es6-set",function(){if("function"===typeof d.default.Set){var b=new d.default.Set([1]);return b.has(1)&&"keys"in b&&"function"===typeof b.keys&&m("es6-symbol")}return!1},!0);n("es6-string",function(){return["fromCodePoint"].every(function(b){return"function"===typeof d.default.String[b]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(b){return"function"===typeof d.default.String.prototype[b]})},
!0);n("es6-string-raw",function(){function b(b){for(var a=1;a<arguments.length;a++);a=f.__spread(b);a.raw=b.raw;return a}if("raw"in d.default.String){var a=b(c||(c=f.__makeTemplateObject(["a\n",""],["a\\n",""])),1);a.raw=["a\\n"];return"a\\n"===d.default.String.raw(a,42)}return!1},!0);n("es2017-string",function(){return["padStart","padEnd"].every(function(b){return"function"===typeof d.default.String.prototype[b]})},!0);n("es6-symbol",function(){return"undefined"!==typeof d.default.Symbol&&"symbol"===
typeof Symbol()},!0);n("es6-weakmap",function(){if("undefined"!==typeof d.default.WeakMap){var b={},a={},c=new d.default.WeakMap([[b,1]]);Object.freeze(b);return 1===c.get(b)&&c.set(a,2)===c&&m("es6-symbol")}return!1},!0);n("microtasks",function(){return m("es6-promise")||0||m("dom-mutationobserver")},!0);n("postmessage",function(){return"undefined"!==typeof d.default.window&&"function"===typeof d.default.postMessage},!0);n("raf",function(){return"function"===typeof d.default.requestAnimationFrame},
!0);n("setimmediate",function(){return"undefined"!==typeof d.default.setImmediate},!0);n("dom-mutationobserver",function(){if(m("host-browser")&&(d.default.MutationObserver||d.default.WebKitMutationObserver)){var b=document.createElement("div"),a=new (d.default.MutationObserver||d.default.WebKitMutationObserver)(function(){});a.observe(b,{attributes:!0});b.style.setProperty("display","block");return!!a.takeRecords().length}return!1},!0);n("dom-webanimation",function(){return m("host-browser")&&void 0!==
d.default.Animation&&void 0!==d.default.KeyframeEffect},!0);n("abort-controller",function(){return"undefined"!==typeof d.default.AbortController});n("abort-signal",function(){return"undefined"!==typeof d.default.AbortSignal});n("dom-intersection-observer",function(){return m("host-browser")&&void 0!==d.default.IntersectionObserver},!0);n("dom-resize-observer",function(){return m("host-browser")&&void 0!==d.default.ResizeObserver},!0);n("dom-pointer-events",function(){return m("host-browser")&&void 0!==
d.default.onpointerdown},!0);n("build-elide",!1);var c})},"tslib/tslib":function(){var l,a,k,n,m,f,d,h,c,b,e,t,g,w,B,v,z,A,C;(function(b){function a(b,a){b!==c&&("function"===typeof Object.create?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0);return function(c,g){return b[c]=a?a(c,g):g}}var c="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(g){b(a(c,a(g)))}):"object"===
typeof module&&"object"===typeof module.exports?b(a(c,a(module.exports))):b(a(c))})(function(p){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};l=function(b,a){function c(){this.constructor=b}E(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};a=Object.assign||function(b){for(var a,c=1,g=arguments.length;c<g;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(b[e]=a[e])}return b};k=function(b,a){var c={},g;for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&0>a.indexOf(g)&&(c[g]=b[g]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(g=Object.getOwnPropertySymbols(b);e<g.length;e++)0>a.indexOf(g[e])&&(c[g[e]]=b[g[e]])}return c};n=function(b,a,c,g){var e=arguments.length,d=3>e?a:null===g?g=Object.getOwnPropertyDescriptor(a,c):g,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)d=Reflect.decorate(b,a,c,g);
else for(var f=b.length-1;0<=f;f--)if(h=b[f])d=(3>e?h(d):3<e?h(a,c,d):h(a,c))||d;return 3<e&&d&&Object.defineProperty(a,c,d),d};m=function(b,a){return function(c,g){a(c,g,b)}};f=function(b,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(b,a)};d=function(b,a,c,g){return new (c||(c=Promise))(function(e,d){function h(b){try{p(g.next(b))}catch(F){d(F)}}function f(b){try{p(g["throw"](b))}catch(F){d(F)}}function p(b){b.done?e(b.value):(new c(function(a){a(b.value)})).then(h,
f)}p((g=g.apply(b,a||[])).next())})};h=function(b,a){function c(b){return function(a){return g([b,a])}}function g(c){if(d)throw new TypeError("Generator is already executing.");for(;e;)try{if(d=1,h&&(f=c[0]&2?h["return"]:c[0]?h["throw"]||((f=h["return"])&&f.call(h),0):h.next)&&!(f=f.call(h,c[1])).done)return f;if(h=0,f)c=[c[0]&2,f.value];switch(c[0]){case 0:case 1:f=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++;h=c[1];c=[0];continue;case 7:c=e.ops.pop();e.trys.pop();continue;
default:if(!(f=e.trys,f=0<f.length&&f[f.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!f||c[1]>f[0]&&c[1]<f[3]))e.label=c[1];else if(6===c[0]&&e.label<f[1])e.label=f[1],f=c;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(c);else{f[2]&&e.ops.pop();e.trys.pop();continue}}c=a.call(b,e)}catch(F){c=[6,F],h=0}finally{d=f=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,h,f,p;return p={next:c(0),
"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p};c=function(b,a){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])};b=function(b){var a="function"===typeof Symbol&&b[Symbol.iterator],c=0;return a?a.call(b):{next:function(){b&&c>=b.length&&(b=void 0);return{value:b&&b[c++],done:!b}}}};e=function(b,a){var c="function"===typeof Symbol&&b[Symbol.iterator];if(!c)return b;b=c.call(b);var g,e=[],d;try{for(;(void 0===a||0<a--)&&!(g=b.next()).done;)e.push(g.value)}catch(G){d=
{error:G}}finally{try{g&&!g.done&&(c=b["return"])&&c.call(b)}finally{if(d)throw d.error;}}return e};t=function(){for(var b=[],a=0;a<arguments.length;a++)b=b.concat(e(arguments[a]));return b};g=function(b){return this instanceof g?(this.v=b,this):new g(b)};w=function(b,a,c){function e(b){m[b]&&(k[b]=function(a){return new Promise(function(c,g){1<u.push([b,a,c,g])||d(b,a)})})}function d(b,a){try{var c=m[b](a);c.value instanceof g?Promise.resolve(c.value.v).then(h,f):p(u[0][2],c)}catch(T){p(u[0][3],
T)}}function h(b){d("next",b)}function f(b){d("throw",b)}function p(b,a){(b(a),u.shift(),u.length)&&d(u[0][0],u[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=c.apply(b,a||[]),k,u=[];return k={},e("next"),e("throw"),e("return"),k[Symbol.asyncIterator]=function(){return this},k};B=function(b){function a(a,d){c[a]=b[a]?function(c){return(e=!e)?{value:g(b[a](c)),done:"return"===a}:d?d(c):c}:d}var c,e;return c={},a("next"),a("throw",function(b){throw b;
}),a("return"),c[Symbol.iterator]=function(){return this},c};v=function(a){function c(b){d[b]=a[b]&&function(c){return new Promise(function(e,d){c=a[b](c);g(e,d,c.done,c.value)})}}function g(b,a,c,g){Promise.resolve(g).then(function(a){b({value:a,done:c})},a)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],d;return e?e.call(a):(a="function"===typeof b?b(a):a[Symbol.iterator](),d={},c("next"),c("throw"),c("return"),d[Symbol.asyncIterator]=
function(){return this},d)};z=function(b,a){Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a;return b};A=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a};C=function(b){return b&&b.__esModule?b:{"default":b}};p("__extends",l);p("__assign",a);p("__rest",k);p("__decorate",n);p("__param",m);p("__metadata",f);p("__awaiter",d);p("__generator",h);p("__exportStar",c);p("__values",b);p("__read",
e);p("__spread",t);p("__await",g);p("__asyncGenerator",w);p("__asyncDelegator",B);p("__asyncValues",v);p("__makeTemplateObject",z);p("__importStar",A);p("__importDefault",C)})},"@dojo/framework/shim/array":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),l)})(function(l,a){Object.defineProperty(a,
"__esModule",{value:!0});var k=l("tslib"),n=l("./global"),m=l("./iterator"),f=l("./number"),d=l("../has/has");l=l("./support/util");if(d.default("es6-array")&&d.default("es6-array-fill"))a.from=n.default.Array.from,a.of=n.default.Array.of,a.copyWithin=l.wrapNative(n.default.Array.prototype.copyWithin),a.fill=l.wrapNative(n.default.Array.prototype.fill),a.find=l.wrapNative(n.default.Array.prototype.find),a.findIndex=l.wrapNative(n.default.Array.prototype.findIndex);else{var h=function(b){if(isNaN(b))return 0;
b=Number(b);isFinite(b)&&(b=Math.floor(b));return Math.min(Math.max(b,0),f.MAX_SAFE_INTEGER)},c=function(b){b=Number(b);return isNaN(b)?0:0!==b&&isFinite(b)?(0<b?1:-1)*Math.floor(Math.abs(b)):b},b=function(b,a){return 0>b?Math.max(a+b,0):Math.min(b,a)};a.from=function(b,a,c){if(null==b)throw new TypeError("from: requires an array-like object");a&&c&&(a=a.bind(c));c=h(b.length);var g="function"===typeof this?Object(new this(c)):Array(c);if(!m.isArrayLike(b)&&!m.isIterable(b))return g;if(m.isArrayLike(b)){if(0===
c)return[];for(var e=0;e<b.length;e++)g[e]=a?a(b[e],e):b[e]}else{e=0;try{for(var d=k.__values(b),f=d.next();!f.done;f=d.next()){var t=f.value;g[e]=a?a(t,e):t;e++}}catch(E){n={error:E}}finally{try{f&&!f.done&&(p=d.return)&&p.call(d)}finally{if(n)throw n.error;}}}void 0!==b.length&&(g.length=c);return g;var n,p};a.of=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return Array.prototype.slice.call(b)};a.copyWithin=function(a,d,g,f){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");
var e=h(a.length);d=b(c(d),e);g=b(c(g),e);f=b(void 0===f?e:c(f),e);f=Math.min(f-g,e-d);e=1;d>g&&d<g+f&&(e=-1,g+=f-1,d+=f-1);for(;0<f;)g in a?a[d]=a[g]:delete a[d],d+=e,g+=e,f--;return a};a.fill=function(a,d,g,f){var e=h(a.length);g=b(c(g),e);for(f=b(void 0===f?e:c(f),e);g<f;)a[g++]=d;return a};a.find=function(b,c,g){c=a.findIndex(b,c,g);return-1!==c?b[c]:void 0};a.findIndex=function(b,a,c){var g=h(b.length);if(!a)throw new TypeError("find: second argument must be a function");c&&(a=a.bind(c));for(c=
0;c<g;c++)if(a(b[c],c,b))return c;return-1}}d.default("es7-array")?a.includes=l.wrapNative(n.default.Array.prototype.includes):a.includes=function(b,a,c){void 0===c&&(c=0);var g;g=b.length;g=Number(g);isNaN(g)?g=0:(isFinite(g)&&(g=Math.floor(g)),g=Math.min(Math.max(g,0),f.MAX_SAFE_INTEGER));for(;c<g;++c){var e=b[c];if(a===e||a!==a&&e!==e)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==
l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],l)})(function(l,a){function k(a){return a&&"function"===typeof a[Symbol.iterator]}function n(a){return a&&"number"===typeof a.length}function m(a){if(k(a))return a[Symbol.iterator]();if(n(a))return new h(a)}Object.defineProperty(a,"__esModule",{value:!0});l("./Symbol");var f=l("./string"),d={done:!0,value:void 0},h=function(){function a(b){this._nextIndex=-1;k(b)?this._nativeIterator=
b[Symbol.iterator]():this._list=b}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:d:d};a.prototype[Symbol.iterator]=function(){return this};return a}();a.ShimIterator=h;a.isIterable=k;a.isArrayLike=n;a.get=m;a.forOf=function(a,b,e){function c(){g=!0}var g=!1;if(n(a)&&"string"===typeof a)for(var d=a.length,h=0;h<d;++h){var k=a[h];if(h+1<d){var l=k.charCodeAt(0);l>=f.HIGH_SURROGATE_MIN&&
l<=f.HIGH_SURROGATE_MAX&&(k+=a[++h])}b.call(e,k,a,c);if(g)break}else if(d=m(a))for(h=d.next();!h.done;){b.call(e,h.value,a,c);if(g)break;h=d.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],l)})(function(l,a){function k(b){return b&&("symbol"===typeof b||"Symbol"===
b["@@toStringTag"])||!1}Object.defineProperty(a,"__esModule",{value:!0});var n=l("../has/has"),m=l("./global"),f=l("./support/util");a.Symbol=m.default.Symbol;if(!n.default("es6-symbol")){var d=function(b){if(!k(b))throw new TypeError(b+" is not a symbol");return b},h=Object.defineProperties,c=Object.defineProperty,b=Object.create,e=Object.prototype,t={},g=function(){var a=b(null);return function(b){for(var g=0,d;a[String(b)+(g||"")];)++g;b+=String(g||"");a[b]=!0;d="@@"+b;Object.getOwnPropertyDescriptor(e,
d)||c(e,d,{set:function(b){c(this,d,f.getValueDescriptor(b))}});return d}}(),w=function v(b){if(this instanceof w)throw new TypeError("TypeError: Symbol is not a constructor");return v(b)};a.Symbol=m.default.Symbol=function z(b){if(this instanceof z)throw new TypeError("TypeError: Symbol is not a constructor");var a=Object.create(w.prototype);b=void 0===b?"":String(b);return h(a,{__description__:f.getValueDescriptor(b),__name__:f.getValueDescriptor(g(b))})};c(a.Symbol,"for",f.getValueDescriptor(function(b){return t[b]?
t[b]:t[b]=a.Symbol(String(b))}));h(a.Symbol,{keyFor:f.getValueDescriptor(function(b){var a;d(b);for(a in t)if(t[a]===b)return a}),hasInstance:f.getValueDescriptor(a.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:f.getValueDescriptor(a.Symbol.for("isConcatSpreadable"),!1,!1),iterator:f.getValueDescriptor(a.Symbol.for("iterator"),!1,!1),match:f.getValueDescriptor(a.Symbol.for("match"),!1,!1),observable:f.getValueDescriptor(a.Symbol.for("observable"),!1,!1),replace:f.getValueDescriptor(a.Symbol.for("replace"),
!1,!1),search:f.getValueDescriptor(a.Symbol.for("search"),!1,!1),species:f.getValueDescriptor(a.Symbol.for("species"),!1,!1),split:f.getValueDescriptor(a.Symbol.for("split"),!1,!1),toPrimitive:f.getValueDescriptor(a.Symbol.for("toPrimitive"),!1,!1),toStringTag:f.getValueDescriptor(a.Symbol.for("toStringTag"),!1,!1),unscopables:f.getValueDescriptor(a.Symbol.for("unscopables"),!1,!1)});h(w.prototype,{constructor:f.getValueDescriptor(a.Symbol),toString:f.getValueDescriptor(function(){return this.__name__},
!1,!1)});h(a.Symbol.prototype,{toString:f.getValueDescriptor(function(){return"Symbol ("+d(this).__description__+")"}),valueOf:f.getValueDescriptor(function(){return d(this)})});c(a.Symbol.prototype,a.Symbol.toPrimitive,f.getValueDescriptor(function(){return d(this)}));c(a.Symbol.prototype,a.Symbol.toStringTag,f.getValueDescriptor("Symbol",!1,!1,!0));c(w.prototype,a.Symbol.toPrimitive,f.getValueDescriptor(a.Symbol.prototype[a.Symbol.toPrimitive],!1,!1,!0));c(w.prototype,a.Symbol.toStringTag,f.getValueDescriptor(a.Symbol.prototype[a.Symbol.toStringTag],
!1,!1,!0))}a.isSymbol=k;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(b){a.Symbol[b]||Object.defineProperty(a.Symbol,b,f.getValueDescriptor(a.Symbol.for(b),!1,!1))});a.default=a.Symbol})},"@dojo/framework/shim/support/util":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&
define(["require","exports"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.getValueDescriptor=function(a,n,m,f){void 0===n&&(n=!1);void 0===m&&(m=!0);void 0===f&&(f=!0);return{value:a,enumerable:n,writable:m,configurable:f}};a.wrapNative=function(a){return function(k){for(var m=[],f=1;f<arguments.length;f++)m[f-1]=arguments[f];return a.apply(k,m)}}})},"@dojo/framework/shim/string":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,
exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),n=l("./global"),m=l("../has/has");l=l("./support/util");a.HIGH_SURROGATE_MIN=55296;a.HIGH_SURROGATE_MAX=56319;a.LOW_SURROGATE_MIN=56320;a.LOW_SURROGATE_MAX=57343;if(m.default("es6-string")&&m.default("es6-string-raw"))a.fromCodePoint=n.default.String.fromCodePoint,
a.raw=n.default.String.raw,a.codePointAt=l.wrapNative(n.default.String.prototype.codePointAt),a.endsWith=l.wrapNative(n.default.String.prototype.endsWith),a.includes=l.wrapNative(n.default.String.prototype.includes),a.normalize=l.wrapNative(n.default.String.prototype.normalize),a.repeat=l.wrapNative(n.default.String.prototype.repeat),a.startsWith=l.wrapNative(n.default.String.prototype.startsWith);else{var f=function(a,h,c,b,e){void 0===e&&(e=!1);if(null==h)throw new TypeError("string."+a+" requires a valid string to search against.");
a=h.length;return[h,String(c),Math.min(Math.max(b!==b?e?a:0:b,0),a)]};a.fromCodePoint=function(){for(var d=0;d<arguments.length;d++);d=arguments.length;if(!d)return"";for(var h=String.fromCharCode,c=[],b=-1,e="";++b<d;){var f=Number(arguments[b]);if(!(isFinite(f)&&Math.floor(f)===f&&0<=f&&1114111>=f))throw RangeError("string.fromCodePoint: Invalid code point "+f);65535>=f?c.push(f):(f-=65536,c.push((f>>10)+a.HIGH_SURROGATE_MIN,f%1024+a.LOW_SURROGATE_MIN));if(b+1===d||16384<c.length)e+=h.apply(null,
c),c.length=0}return e};a.raw=function(a){for(var d=[],c=1;c<arguments.length;c++)d[c-1]=arguments[c];var c=a.raw,b="",e=d.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var f=0,g=c.length;f<g;f++)b+=c[f]+(f<e&&f<g-1?d[f]:"");return b};a.codePointAt=function(d,h){void 0===h&&(h=0);if(null==d)throw new TypeError("string.codePointAt requries a valid string.");var c=d.length;h!==h&&(h=0);if(!(0>h||h>=c)){var b=d.charCodeAt(h);return b>=
a.HIGH_SURROGATE_MIN&&b<=a.HIGH_SURROGATE_MAX&&c>h+1&&(d=d.charCodeAt(h+1),d>=a.LOW_SURROGATE_MIN&&d<=a.LOW_SURROGATE_MAX)?1024*(b-a.HIGH_SURROGATE_MIN)+d-a.LOW_SURROGATE_MIN+65536:b}};a.endsWith=function(a,h,c){if(""===h)return!0;if("undefined"===typeof c)c=a.length;else if(null===c||isNaN(c))return!1;c=k.__read(f("endsWith",a,h,c,!0),3);a=c[0];h=c[1];c=c[2];var b=c-h.length;return 0>b?!1:a.slice(b,c)===h};a.includes=function(a,h,c){void 0===c&&(c=0);c=k.__read(f("includes",a,h,c),3);a=c[0];h=c[1];
c=c[2];return-1!==a.indexOf(h,c)};a.repeat=function(a,h){void 0===h&&(h=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");h!==h&&(h=0);if(0>h||Infinity===h)throw new RangeError("string.repeat requires a non-negative finite count.");for(var c="";h;)h%2&&(c+=a),1<h&&(a+=a),h>>=1;return c};a.startsWith=function(a,h,c){void 0===c&&(c=0);h=String(h);c=k.__read(f("startsWith",a,h,c),3);a=c[0];h=c[1];c=c[2];var b=c+h.length;return b>a.length?!1:a.slice(c,b)===h}}m.default("es2017-string")?
(a.padEnd=l.wrapNative(n.default.String.prototype.padEnd),a.padStart=l.wrapNative(n.default.String.prototype.padStart)):(a.padEnd=function(d,h,c){void 0===c&&(c=" ");if(null===d||void 0===d)throw new TypeError("string.repeat requires a valid string.");if(Infinity===h)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===h||void 0===h||0>h)h=0;d=String(d);h-=d.length;0<h&&(d+=a.repeat(c,Math.floor(h/c.length))+c.slice(0,h%c.length));return d},a.padStart=function(d,h,
c){void 0===c&&(c=" ");if(null===d||void 0===d)throw new TypeError("string.repeat requires a valid string.");if(Infinity===h)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===h||void 0===h||0>h)h=0;d=String(d);h-=d.length;0<h&&(d=a.repeat(c,Math.floor(h/c.length))+c.slice(0,h%c.length)+d);return d})})},"@dojo/framework/shim/number":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=
l)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],l)})(function(l,a){function k(a){return"number"===typeof a&&m.default.isFinite(a)}function n(a){return k(a)&&Math.floor(a)===a}Object.defineProperty(a,"__esModule",{value:!0});var m=l("./global");a.EPSILON=1;a.MAX_SAFE_INTEGER=Math.pow(2,53)-1;a.MIN_SAFE_INTEGER=-a.MAX_SAFE_INTEGER;a.isNaN=function(a){return"number"===typeof a&&m.default.isNaN(a)};a.isFinite=k;a.isInteger=n;a.isSafeInteger=function(f){return n(f)&&
Math.abs(f)<=a.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(l,a,k,n){var m=l.some;return function(f){var d,h;a.isArray(f)?h=f:f&&"object"===typeof f&&(d=f);var c,b=[];if(d){h=[];for(var e in d)Object.hasOwnProperty.call(d,e)&&(b.push(e),h.push(d[e]));c={}}else h&&(c=[]);if(!h||!h.length)return(new k).resolve(c);var t=new k;t.promise.always(function(){c=b=null});var g=h.length;m(h,function(a,e){d||b.push(e);n(a,function(a){t.isFulfilled()||
(c[b[e]]=a,0===--g&&t.resolve(c))},t.reject);return t.isFulfilled()});return t.promise}})},"esri/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(l,a,k,n,m){l=function(a){function d(h,c,b){var e=a.call(this,h,c,b)||this;return e instanceof d?e:new d(h,c,b)}k(d,a);d.prototype.toJSON=function(){return{name:this.name,message:this.message,details:n.clone(this.details),dojoType:this.dojoType}};d.fromJSON=function(a){var c=new d(a.name,a.message,
a.details);null!=a.dojoType&&(c.dojoType=a.dojoType);return c};return d}(m);l.prototype.type="error";return l})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,k){a.__proto__=k}||function(a,k){for(var n in k)k.hasOwnProperty(n)&&(a[n]=k[n])};return function(a,k){function n(){this.constructor=a}l(a,k);a.prototype=null===k?Object.create(k):(n.prototype=k.prototype,new n)}}()})},"esri/core/lang":function(){define(["require",
"exports","./typedArrayUtil"],function(l,a,k){function n(a,h){var c;if(h)for(c in a)a.hasOwnProperty(c)&&(void 0===a[c]?delete a[c]:a[c]instanceof Object&&n(a[c],!0));else for(c in a)a.hasOwnProperty(c)&&void 0===a[c]&&delete a[c];return a}function m(a){return a&&"object"===typeof a&&"function"!==typeof a?k.isInt8Array(a)||k.isUint8Array(a)||k.isUint8ClampedArray(a)||k.isInt16Array(a)||k.isUint16Array(a)||k.isInt32Array(a)||k.isUint32Array(a)||k.isFloat32Array(a)||k.isFloat64Array(a)?k.slice(a):a instanceof
Date?new Date(a.getTime()):a instanceof ArrayBuffer?a.slice(0,a.byteLength):"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(m):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():f({},a,m):a}function f(a,h,c){var b,e,d={};for(b in h){e=h[b];var g=!(b in d)||d[b]!==e;if(!(b in a)||a[b]!==e&&g)a[b]=c?c(e):e}return a}Object.defineProperty(a,"__esModule",{value:!0});a.fixJson=n;a.clone=m;a.equals=function(a,h){return a===h||"number"===
typeof a&&isNaN(a)&&"number"===typeof h&&isNaN(h)||"function"===typeof(a||{}).getTime&&"function"===typeof(h||{}).getTime&&a.getTime()===h.getTime()||!1};a.mixin=function(a){void 0===a&&(a={});for(var d=1;d<arguments.length;d++);for(var d=1,c=arguments.length;d<c;d++)f(a,arguments[d]);return a}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,n){if(a.forEach)a.forEach(n);else for(var m=0;m<a.length;m++)n(a[m],
m,a)};a.slice=function(a,n,m){if(a.slice)return a.slice(n,m);void 0===n?n=0:(0>n&&(n+=a.length),n=Math.min(a.length,Math.max(0,n)));void 0===m?m=a.length:(0>m&&(m+=a.length),m=Math.min(a.length,Math.max(0,m)));m=Math.max(0,m-n);for(var f=new a.constructor(m),d=0;d<m;d++)f[d]=a[n+d];return f};a.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};a.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};
a.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};a.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};a.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};a.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};a.isInt32Array=function(a){return a instanceof
Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};a.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};a.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};a.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};a.toArray=function(a){for(var k=Array(a.length),m=0;m<a.length;m++)k[m]=a[m];return k}})},
"esri/core/Message":function(){define(["require","exports","./object"],function(l,a,k){function n(a,f){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,h,c){if(""===h)return"$";a=k.getDeepValue(h,f);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+h+'" in template');return a.toString()})}return function(){function a(f,d,h){this instanceof a&&(this.name=f,this.message=d&&n(d,h)||"",this.details=h)}a.prototype.toString=function(){return"["+this.name+"]: "+
this.message};return a}()})},"esri/core/object":function(){define(["require","exports"],function(l,a){function k(a,m,f){for(var d=0;d<a.length;d++){var h=a[d];if(null==f)return;if(!(h in f))if(m)f[h]={};else return;f=f[h]}return f}Object.defineProperty(a,"__esModule",{value:!0});a.getDeepValue=function(a,m){if(null!=m)return m[a]||k(a.split("."),!1,m)};a.setDeepValue=function(a,m,f){var d=a.split(".");a=d.pop();(f=k(d,!0,f))&&a&&(f[a]=m)}})},"esri/core/events":function(){define(["require","exports"],
function(l,a){function k(a){return a&&("function"===typeof a.on||"function"===typeof a.addEventListener)}function n(a,f,d){if(!k(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(f,d);if(Array.isArray(f)){for(var h=f.slice(),c=0;c<h.length;c++)a.addEventListener(h[c],d);return{remove:function(){for(var b=0;b<h.length;b++)a.removeEventListener(h[b],d)}}}a.addEventListener(f,d);return{remove:function(){a.removeEventListener(f,d)}}}Object.defineProperty(a,
"__esModule",{value:!0});a.isEventTarget=k;a.on=n;a.once=function(a,f,d){if(!k(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(f,d);var h=n(a,f,function(c){h.remove();d.call(a,c)});return{remove:function(){h.remove()}}};a.pausable=function(a,f,d){var h=!1,c=n(a,f,function(b){h||d.call(a,b)});return{resume:function(){h=!1},pause:function(){h=!0},remove:function(){c.remove()}}};a.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function(m){m=m.key;return a.ieKeyNormalizationMap[m]||m}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(l,a,k){function n(a,f,d){return null!=a?d(a):f}Object.defineProperty(a,"__esModule",{value:!0});a.isSome=function(a){return null!=a};a.isNone=function(a){return null==a};a.applySome=function(a,f){return null!=
a?f(a):null};a.unwrap=function(a){return a};a.unwrapOr=function(a,f){return null!=a?a:"function"===typeof f?f():f};a.expect=function(a){return a};a.mapSome=function(a,f){var d=[];a.forEach(function(a){a=f(a);null!=a&&d.push(a)});return d};a.mapMany=function(a,f){for(var d=[],h=0;h<a.length;h++)d.push(n(a[h],null,f));return d};a.forEachSome=function(a,f){for(var d=0;d<a.length;d++)n(a[d],null,f)};a.mapOr=n;a.andThen=function(a,f){return null!=a?f(a):null};a.mapSomeFirst=function(a,f){for(var d=0;d<
a.length;d++){var h=f(a[d]);if(null!=h)return h}return null};a.get=function(a){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];for(var d=a,h=0;h<f.length&&d;)d=d[f[h++]];return d}})},"esri/core/has":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(l,a,k,n,m){function f(){if(h)return h;h={available:!1,version:0,majorPerformanceCaveat:!1,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,
supportsInstancedArrays:!1,supportsTextureFloat:!1,maxTextureSize:0};var a=document.createElement("canvas");if(!a)return h;var c=m.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!c&&(c=m.createContext(a,{},"webgl"))&&(h.majorPerformanceCaveat=!0);if(!c)return h;a=c.getParameter(c.VERSION);if(!a)return h;if(a=a.match(/^WebGL\s+([\d.]*)/)){h.version=parseFloat(a[1]);h.available=.94<=h.version;if(a=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT))h.supportsHighPrecisionFragment=
0<a.precision;h.supportsVertexShaderSamplers=0<c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS);h.supportsElementIndexUint=null!==c.getExtension("OES_element_index_uint");h.supportsStandardDerivatives=null!==c.getExtension("OES_standard_derivatives");h.supportsInstancedArrays=null!==c.getExtension("ANGLE_instanced_arrays");h.supportsTextureFloat=null!==c.getExtension("OES_texture_float")}h.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE);return h}function d(){if(c)return c;c={available:!1,version:0};
var a=document.createElement("canvas");if(!a)return c;a=m.createContext(a,{},"webgl2");if(!a)return c;c.available=!0;a=a.getParameter(a.VERSION);if(!a)return c;if(a=a.match(/^WebGL\s+([\d.]*)/))c.version=parseFloat(a[1]);return c}(function(){var a=navigator.userAgent,c=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);c&&k.add("esri-mobile",c);a&&k.add("esri-iPhone",a);k.add("esri-geolocation",function(){return!!navigator.geolocation});k.add("esri-canvas-svg-support",
function(){return!(k("trident")||k("ie"))});k.add("esri-secure-context",function(){if("isSecureContext"in n)return n.isSecureContext;if(n.location&&n.location.origin)return 0===n.location.origin.indexOf("https:")});k.add("esri-wasm","WebAssembly"in n);k.add("esri-shared-array-buffer","SharedArrayBuffer"in n);k.add("esri-workers","Worker"in n);k("host-webworker")||(k.add("esri-abortable-fetch","fetch"in n&&"signal"in new Request("https://www.arcgis.com")),k.add("esri-image-decode",function(){if("decode"in
new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){k.add("esri-image-decode",!0,!0,!0)}).catch(function(){k.add("esri-image-decode",!1,!0,!0)})}else return!1}),k.add("esri-url-encodes-apostrophe",function(){var a=n.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),k.add("esri-webgl",function(){return f().available}),k.add("esri-webgl-high-precision-fragment",
function(){return f().supportsHighPrecisionFragment}),k.add("esri-webgl-vertex-shader-samplers",function(){return f().supportsVertexShaderSamplers}),k.add("esri-webgl-element-index-uint",function(){return f().supportsElementIndexUint}),k.add("esri-webgl-standard-derivatives",function(){return f().supportsStandardDerivatives}),k.add("esri-webgl-texture-float",function(){return f().supportsTextureFloat}),k.add("esri-webgl-instanced-arrays",function(){return f().supportsInstancedArrays}),k.add("esri-webgl-major-performance-caveat",
function(){return f().majorPerformanceCaveat}),k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),k.add("esri-webgl2",function(){return d().available}),k.add("esri-webgl-max-texture-size",function(){return f().maxTextureSize}))})();var h=null,c=null;return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(l,a){function k(a,h,c){void 0===h&&(h={});var b;switch(c){case "webgl":b=["webgl","experimental-webgl","webkit-3d","moz-webgl"];
break;case "webgl2":b=["webgl2"];break;default:b=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}c=null;for(var e=0;e<b.length;e++){var d=b[e];try{c=a.getContext(d,h)}catch(g){}if(c)break}return c}function n(a,h){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+h+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}
Object.defineProperty(a,"__esModule",{value:!0});a.createContextOrErrorHTML=function(a,h,c){void 0===h&&(h={});if(!window.WebGLRenderingContext)return n(a,m),null;h=k(a,h,c);return h?h:(n(a,f),null)};a.createContext=k;var m='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',f='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"@dojo/framework/shim/Promise":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),n=l("./global"),m=l("./support/queue");l("./Symbol");l=l("../has/has");a.ShimPromise=n.default.Promise;a.isThenable=function(a){return a&&
"function"===typeof a.then};l.default("es6-promise")||(n.default.Promise=a.ShimPromise=(f=function(){function d(h){var c=this;this.state=1;this[Symbol.toStringTag]="Promise";var b=!1,e=[],f=function(a){e&&e.push(a)},g=function(a,b){1===c.state&&(c.state=a,c.resolvedValue=b,f=m.queueMicroTask,e&&0<e.length&&m.queueMicroTask(function(){if(e){for(var a=e.length,b=0;b<a;++b)e[b].call(null);e=null}}))},k=function(e,d){1!==c.state||b||(a.isThenable(d)?(d.then(g.bind(null,0),g.bind(null,2)),b=!0):g(e,d))};
this.then=function(a,b){return new d(function(g,e){f(function(){var d=2===c.state?b:a;if("function"===typeof d)try{g(d(c.resolvedValue))}catch(p){e(p)}else 2===c.state?e(c.resolvedValue):g(c.resolvedValue)})})};try{h(k.bind(null,0),k.bind(null,2))}catch(B){g(2,B)}}d.all=function(h){return new this(function(c,b){function e(a,b){g[a]=b;++m;l||m<n||c(g)}function f(c,g){++n;a.isThenable(g)?g.then(e.bind(null,c),b):d.resolve(g).then(e.bind(null,c))}var g=[],m=0,n=0,l=!0,z=0;try{for(var A=k.__values(h),
C=A.next();!C.done;C=A.next())f(z,C.value),z++}catch(u){p={error:u}}finally{try{C&&!C.done&&(E=A.return)&&E.call(A)}finally{if(p)throw p.error;}}(l=!1,m<n)||c(g);var p,E})};d.race=function(a){return new this(function(c,b){try{for(var e=k.__values(a),h=e.next();!h.done;h=e.next()){var g=h.value;g instanceof d?g.then(c,b):d.resolve(g).then(c)}}catch(v){f={error:v}}finally{try{h&&!h.done&&(m=e.return)&&m.call(e)}finally{if(f)throw f.error;}}var f,m})};d.reject=function(a){return new this(function(c,
b){b(a)})};d.resolve=function(a){return new this(function(c){c(a)})};d.prototype.catch=function(a){return this.then(void 0,a)};return d}(),f[Symbol.species]=a.ShimPromise,f));l.default("es2018-promise-finally")||(n.default.Promise.prototype.finally=function(a){return this.then(a&&function(d){return Promise.resolve(a()).then(function(){return d})},a&&function(d){return Promise.resolve(a()).then(function(){throw d;})})});a.default=a.ShimPromise;var f})},"@dojo/framework/shim/support/queue":function(){(function(l){"object"===
typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],l)})(function(l,a){function k(a){a&&a.isActive&&a.callback&&a.callback()}function n(a,c){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;c&&c()}}}Object.defineProperty(a,"__esModule",{value:!0});var m=l("../global"),f=l("../../has/has"),d,h;a.queueTask=function(){function a(a){a=
{isActive:!0,callback:a};var b=h(a);return n(a,c&&function(){c(b)})}var c,h;if(f.default("postmessage")){var g=[];m.default.addEventListener("message",function(a){a.source===m.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),g.length&&k(g.shift()))});h=function(a){g.push(a);m.default.postMessage("dojo-queue-message","*")}}else f.default("setimmediate")?(c=m.default.clearImmediate,h=function(a){return setImmediate(k.bind(null,a))}):(c=m.default.clearTimeout,h=function(a){return setTimeout(k.bind(null,
a),0)});return f.default("microtasks")?a:function(b){d();return a(b)}}();if(!f.default("microtasks")){var c=!1;h=[];d=function(){c||(c=!0,a.queueTask(function(){c=!1;if(h.length)for(var a=void 0;a=h.shift();)k(a)}))}}a.queueAnimationTask=function(){function b(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(k.bind(null,a));return n(a,function(){cancelAnimationFrame(b)})}return f.default("raf")?f.default("microtasks")?b:function(a){d();return b(a)}:a.queueTask}();a.queueMicroTask=function(){var a;
if(f.default("host-node"))a=function(a){m.default.process.nextTick(k.bind(null,a))};else if(f.default("es6-promise"))a=function(a){m.default.Promise.resolve(a).then(k)};else if(f.default("dom-mutationobserver")){var c=m.default.MutationObserver||m.default.WebKitMutationObserver,t=document.createElement("div"),g=[];(new c(function(){for(;0<g.length;){var a=g.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(t,{attributes:!0});a=function(a){g.push(a);t.setAttribute("queueStatus","1")}}else a=
function(a){d();h.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return n(b)}}()})},"esri/support/revision":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.commitHash="3d2cc1370de1abe413b6a5f5bc4994081468159a"})},"esri/core/workers/RemoteClient":function(){define(["require","exports","../Error","../promiseUtils","./utils"],function(l,a,k,n,m){function f(a,b){a["delete"](b)}var d=m.MessageType.CLOSE,h=m.MessageType.ABORT,c=m.MessageType.INVOKE,
b=m.MessageType.RESPONSE,e=m.MessageType.OPEN_PORT,t=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===m.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=
null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b,c){var g=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._queue=new t(function(a){return g._onInvoke(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._port.addEventListener("message",
this._onMessage);this._port.start();this._channel=c.channel;c.scheduler&&(this._frameTask=c.scheduler.registerTask(1,function(a){return g._update(a)},function(){return 0<g._responseQueue.length}))}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(c.port1,b,{channel:c});return c.port2};a.prototype.close=function(){this._post({type:d});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};
a.prototype.invoke=function(a,b,g){var e=this,d=g&&g.signal,t=g&&g.transferList;if(!this._port)return n.reject(new k("remote-client:port-closed","Can't invoke(), port is closed"));var p=m.newJobId(),l=function(){var a=e._outJobs.get(p);a&&(f(e._outJobs,p),e._post({type:h,jobId:p}),a.reject(n.createAbortError()))};return n.create(function(g,h){n.onAbortOrThrow(d,function(){l();h(n.createAbortError())});e._outJobs.set(p,{resolve:g,reject:h});e._post({type:c,jobId:p,methodName:a,abortable:!0},b,t)},
l)};a.prototype.openPort=function(){var a=this,b=m.newJobId(),c=function(){f(a._outJobs,b);a._post({type:h,jobId:b})};return n.create(function(g,d){a._outJobs.set(b,{resolve:g,reject:d,signal:c});a._post({type:e,jobId:b})},c)};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(n.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();
this._queue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=m.receiveMessage(a))switch(a.type){case b:this._onResponse(a);break;case c:this._queue.push(a);break;case h:this._onAbort(a);break;case d:this._onClose();break;case e:this._onOpenPort(a)}};a.prototype._onAbort=function(a){var b=this._inJobs,c=a.jobId,g=b.get(c);this._queue.push(a);g&&(g.controller&&g.controller.abort(),f(b,c))};
a.prototype._onClose=function(){var a=this._client;this._close();a&&a.remoteClient===this&&"destroy"in a&&a.destroy();a.remoteClient=null};a.prototype._onInvoke=function(a){var c=this,g=a.methodName,e=a.jobId,d=a.data;a=a.abortable?n.createAbortController():null;var h=this._inJobs,p=this._client,k=p[g],u;try{if(!k&&g&&-1!==g.indexOf("."))for(var l=g.split("."),t=0;t<l.length-1;t++)p=p[l[t]],k=p[l[t+1]];if("function"!==typeof k)throw new TypeError(g+" is not a function");u=k.call(p,d,{client:this,
signal:a?a.signal:null})}catch(I){this._post({type:b,jobId:e,error:m.toInvokeError(I)});return}if(n.isThenable(u)){h.set(e,{controller:a,promise:u});if(a&&"cancel"in u)n.onAbort(a.signal,function(){return u.cancel()});u.then(function(a){h.has(e)&&(f(h,e),c._post({type:b,jobId:e},a))}).catch(function(a){h.has(e)&&(f(h,e),n.isAbortError(a)||c._post({type:b,jobId:e,error:m.toInvokeError(a||{message:"Error encountered at method "+g})}))})}else this._post({type:b,jobId:e},u)};a.prototype._onOpenPort=function(c){var g=
new MessageChannel;new a(g.port1,this._client,{});this._post({type:b,jobId:c.jobId},g.port2,[g.port2])};a.prototype._onResponse=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var g=this._outJobs;if(g.has(b)){var e=g.get(b);f(g,b);c?e.reject(k.fromJSON(JSON.parse(c))):
e.resolve(a)}};a.prototype._post=function(a,b,c){return m.postMessage(this._port,a,b,c)};return a}()})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(l,a,k){function n(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function m(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name}Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=
2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT"})(a.MessageType||(a.MessageType={}));var f=0;a.newJobId=function(){return f++};a.isTranferableResult=n;a.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};a.postMessage=function(a,h,c,b){2===arguments.length||void 0===c&&void 0===
b?a.postMessage(h):(k("esri-workers-arraybuffer-transfer")||(b?(b=b.filter(function(a){return!m(a)}),b.length||(b=null)):n(c)&&c.transferList&&(c.transferList=c.transferList.filter(function(a){return!m(a)}),c.transferList.length||(c.transferList=null))),b?(h.data=c,a.postMessage(h,b)):n(c)?(h.data=c.result,c.transferList?a.postMessage(h,c.transferList):a.postMessage(h)):(h.data=c,a.postMessage(h)))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},
"esri/core/workers/request":function(){define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(l,a,k,n,m){Object.defineProperty(a,"__esModule",{value:!0});var f;a.execute=function(a,h){void 0===h&&(h={});var c=h.responseType;c?"json"!==c&&"text"!==c&&"blob"!==c&&"array-buffer"!==c&&(c="text"):c="json";var b=h&&h.signal;delete h.signal;return m.invokeStaticMessage("request",{url:a,options:h},{signal:b}).then(function(b){var e=b.data,g,d,m;if(e&&("json"===c||"text"===
c||"blob"===c)&&(g=new Blob([e]),"json"===c||"text"===c)&&(f||(f=new FileReaderSync),d=f.readAsText(g),"json"===c)){try{m=JSON.parse(d||null)}catch(v){throw b=k({},v,{url:a,requestOptions:h}),new n("request:server",v.message,b);}if(m.error)throw b=k({},m.error,{url:a,requestOptions:h}),new n("request:server",m.error.message,b);}switch(c){case "json":break;case "text":m=d;break;case "blob":m=g;break;default:m=e}return{data:m,requestOptions:h,ssl:b.ssl,url:a}})}})},"esri/core/tsSupport/assignHelper":function(){define([],
function(){return Object.assign||function(l){for(var a,k=1,n=arguments.length;k<n;k++){a=arguments[k];for(var m in a)Object.prototype.hasOwnProperty.call(a,m)&&(l[m]=a[m])}return l}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository ../../tiling/enums".split(" "),function(l,a,k,n,m,f){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=
function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return k.resolve()};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new m(a)).layers;return k.resolve({data:""})};a.prototype.createTileAndParse=function(a,c){for(var b=this,e=a.key,h=a.cacheTile,g=n.pool.acquire(),d={},m=0,l=Object.keys(a.sourceName2DataAndRefKey);m<l.length;m++){var z=l[m];d[z]=a.sourceName2DataAndRefKey[z].refKey}g.initialize(e,
d,this,a.rotation);return g.setDataAndParse(a.sourceName2DataAndRefKey,c).then(function(a){h&&g.status!==f.TileStatus.INVALID&&b._tiles.set(e,g);return a}).catch(function(a){g.setObsolete();n.pool.release(g);if(b._tiles.has(g.tileKey))b._tiles["delete"](g.tileKey);return k.reject(a)}).catch(function(a){return a}).then(function(a){h||n.pool.release(g);return a})};a.prototype.updateSymbols=function(a){var c=this._tiles.get(a.key);return c?c.updateSymbols(a.rotation):k.reject()};a.prototype.updateStyle=
function(a,c){this._layers=(new m(a)).layers;this._tiles.forEach(function(a,e){a.reparse(c).then(function(b){c.client.invoke("updateTileData",{tileId:a.tileKey,tileData:b.result})})});return k.resolve({data:""})};a.prototype.destructTileData=function(a){this._tiles.has(a)&&(n.pool.release(this._tiles.get(a)),this._tiles["delete"](a));return k.resolve()};a.prototype.fetchSprites=function(a,c,b){var e=[],d=this._spriteInfo;a.forEach(function(a){void 0===d[a]&&e.push(a)});return 0===e.length?k.resolve():
c.invoke("getSprites",e,{signal:b&&b.signal}).then(function(a){for(var b in a)d[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,c,b,e,d){var g=[],h=this._glyphInfo[c];h?b.forEach(function(a){h[a]||g.push(a)}):(h=this._glyphInfo[c]=[],b.forEach(function(a){return g.push(a)}));return 0===g.length?k.resolve():e.invoke("getGlyphs",{tileID:a,font:c,codePoints:g},d).then(function(a){for(var b in a)h[b]=a[b]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};
return a}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/asyncUtils ../../../../core/executeAsync ../../../../core/maybe ../../../../core/ObjectPool ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),
function(l,a,k,n,m,f,d,h,c,b,e,t,g,w,B,v,z,A,C,p){return function(){function a(){this.rotation=0;this.status=p.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new v.PlacementEngine;this.fillVertexBuffer=new C.FillVertexBuffer(!1);this.fillDDVertexBuffer=new C.FillVertexBuffer(!0);this.fillIndexBuffer=new w.TriangleIndexBuffer;this.outlineVertexBuffer=new C.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new C.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new w.TriangleIndexBuffer;
this.lineVertexBuffer=new C.LineVertexBuffer(!1);this.lineDDVertexBuffer=new C.LineVertexBuffer(!0);this.lineIndexBuffer=new w.TriangleIndexBuffer;this.iconVertexBuffer=new C.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new C.SymbolVertexBuffer(!0);this.iconIndexBuffer=new w.TriangleIndexBuffer;this.textVertexBuffer=new C.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new C.SymbolVertexBuffer(!0);this.textIndexBuffer=new w.TriangleIndexBuffer;this.circleVertexBuffer=new C.CircleVertexBuffer;this.circleIndexBuffer=
new w.TriangleIndexBuffer}a.prototype.initialize=function(a,b,c,e){void 0===e&&(e=0);this.tileKey=a;this.refKeys=b;this._workerTileHandler=c;this.rotation=e;this.placementEngine.setAngle(g.C_DEG_TO_RAD*e)};a.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=p.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};a.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();
this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};a.prototype.reparse=function(a){this.resetData();
return this.setDataAndParse(this._data,a)};a.prototype.setDataAndParse=function(a,c){var g=this,h=c&&c.signal;if(d.isSome(h)){var f=function(){h.removeEventListener("abort",f);g.status=p.TileStatus.INVALID};h.addEventListener("abort",f)}this._data=a;return m.safeCast(this._parse(a,c)).then(function(a){g.status=p.TileStatus.READY;for(var c=new Uint32Array([1,g.fillVertexBuffer.sizeInBytes,2,g.fillDDVertexBuffer.sizeInBytes,3,g.fillIndexBuffer.sizeInBytes,4,g.outlineVertexBuffer.sizeInBytes,5,g.outlineDDVertexBuffer.sizeInBytes,
6,g.outlineIndexBuffer.sizeInBytes,7,g.lineVertexBuffer.sizeInBytes,8,g.lineDDVertexBuffer.sizeInBytes,9,g.lineIndexBuffer.sizeInBytes,10,g.iconVertexBuffer.sizeInBytes,11,g.iconDDVertexBuffer.sizeInBytes,12,g.iconIndexBuffer.sizeInBytes,13,g.textVertexBuffer.sizeInBytes,14,g.textDDVertexBuffer.sizeInBytes,15,g.textIndexBuffer.sizeInBytes,16,g.circleVertexBuffer.sizeInBytes,17,g.circleIndexBuffer.sizeInBytes]),d=[],h=a.length,f=0;f<h;f++){var m=a[f];if(m instanceof t)d.push(m.layerIndex),d.push(1),
d.push(m.fillIndexStart),d.push(m.fillIndexCount),d.push(m.outlineIndexStart),d.push(m.outlineIndexCount);else if(m instanceof B)d.push(m.layerIndex),d.push(2),d.push(m.lineIndexStart),d.push(m.lineIndexCount);else if(m instanceof z){d.push(m.layerIndex);d.push(3);d.push(m.sdfMarker?1:0);var k=m.markerPageMap;d.push(k.size);k.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])});m=m.glyphsPageMap;d.push(m.size);m.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])})}else m instanceof e?
(d.push(m.layerIndex),d.push(4),d.push(m.circleIndexStart),d.push(m.circleIndexCount)):m instanceof b&&(d.push(m.layerIndex),d.push(0))}a=new Uint32Array(d);var h=g.fillVertexBuffer.toBuffer(),f=g.fillDDVertexBuffer.toBuffer(),m=g.fillIndexBuffer.toBuffer(),k=g.outlineVertexBuffer.toBuffer(),u=g.outlineDDVertexBuffer.toBuffer(),n=g.outlineIndexBuffer.toBuffer(),l=g.lineVertexBuffer.toBuffer(),w=g.lineDDVertexBuffer.toBuffer(),v=g.lineIndexBuffer.toBuffer(),E=g.iconVertexBuffer.toBuffer(),L=g.iconDDVertexBuffer.toBuffer(),
A=g.iconIndexBuffer.toBuffer(),y=g.textVertexBuffer.toBuffer(),C=g.textDDVertexBuffer.toBuffer(),D=g.textIndexBuffer.toBuffer(),J=g.circleVertexBuffer.toBuffer(),I=g.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:c.buffer,bucketDataInfo:a.buffer,bufferData:[h,f,m,k,u,n,l,w,v,E,L,A,y,C,D,J,I]},transferList:[h,f,m,k,u,n,l,w,v,E,L,A,y,C,D,J,I,c.buffer,a.buffer]}})};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var b=this,e=this._symbolBuckets;
if(!e||0===e.length)return c.resolve();this.rotation=a;var d=this.placementEngine;d.reset();d.setAngle(a/256*360*g.C_DEG_TO_RAD);var h=this.iconVertexBuffer;h.reset();var m=this.iconDDVertexBuffer;m.reset();var k=this.iconIndexBuffer;k.reset();var u=this.textVertexBuffer;u.reset();var n=this.textDDVertexBuffer;n.reset();var l=this.textIndexBuffer;l.reset();var t=[],w=e.length,v=0;return f(function(){if(b.status===p.TileStatus.INVALID||b.status===p.TileStatus.INITIALIZED)return!0;if(v<w){var a=e[v++];
if(a&&a.layer){var c=a.layer;if(a=a.copy(c.hasDataDrivenIcon?m:h,k,c.hasDataDrivenText?n:u,l,d))t.push(a),a.updateSymbols()}}return v>=w}).then(function(){if(b.status===p.TileStatus.INVALID||b.status===p.TileStatus.INITIALIZED||0===h.sizeInBytes&&0===m.sizeInBytes&&0===k.sizeInBytes&&0===u.sizeInBytes&&0===n.sizeInBytes&&0===l.sizeInBytes)return{result:null,transferList:null};var a=new Uint32Array([10,h.sizeInBytes,11,m.sizeInBytes,12,k.sizeInBytes,13,u.sizeInBytes,14,n.sizeInBytes,15,l.sizeInBytes]),
c=[];w=t.length;for(var g=0;g<w;g++){var e=t[g];c.push(e.layerIndex);c.push(3);c.push(e.sdfMarker?1:0);var d=e.markerPageMap;c.push(d.size);d.forEach(function(a,b){c.push(b);c.push(a[0]);c.push(a[1])});e=e.glyphsPageMap;c.push(e.size);e.forEach(function(a,b){c.push(b);c.push(a[0]);c.push(a[1])})}var g=new Uint32Array(c),e=h.toBuffer(),d=m.toBuffer(),f=k.toBuffer(),v=u.toBuffer(),B=n.toBuffer(),z=l.toBuffer();return{result:{bufferDataInfo:a.buffer,bucketDataInfo:g.buffer,bufferData:[e,d,f,v,B,z]},
transferList:[e,d,f,v,B,z,a.buffer,g.buffer]}}).catch(function(){return null})};a.prototype.setObsolete=function(){this.status=p.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){return n(this,void 0,void 0,function(){var c;return k(this,function(g){if(0===Object.keys(a).length)return[2,[]];this.status=p.TileStatus.MODIFIED;c=new A(a,this,b.client);
return[2,c.parse(b)]})})};a.pool=new h(a);return a}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(l,a){function k(a){return function(b){return n([a,b])}}function n(b){if(f)throw new TypeError("Generator is already executing.");for(;m;)try{if(f=1,d&&(h=b[0]&2?d["return"]:b[0]?d["throw"]||((h=d["return"])&&h.call(d),0):d.next)&&!(h=h.call(d,b[1])).done)return h;if(d=0,h)b=[b[0]&2,h.value];switch(b[0]){case 0:case 1:h=b;break;case 4:return m.label++,{value:b[1],
done:!1};case 5:m.label++;d=b[1];b=[0];continue;case 7:b=m.ops.pop();m.trys.pop();continue;default:if(!(h=m.trys,h=0<h.length&&h[h.length-1])&&(6===b[0]||2===b[0])){m=0;continue}if(3===b[0]&&(!h||b[1]>h[0]&&b[1]<h[3]))m.label=b[1];else if(6===b[0]&&m.label<h[1])m.label=h[1],h=b;else if(h&&m.label<h[2])m.label=h[2],m.ops.push(b);else{h[2]&&m.ops.pop();m.trys.pop();continue}}b=a.call(l,m)}catch(e){b=[6,e],d=0}finally{f=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var m={label:0,sent:function(){if(h[0]&
1)throw h[1];return h[1]},trys:[],ops:[]},f,d,h,c;return c={next:k(0),"throw":k(1),"return":k(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(l){return function(a,k,n,m){var f=null;return l.create(function(d,h){function c(a){try{e(m.next(a))}catch(g){h(g)}}function b(a){try{e(m["throw"](a))}catch(g){h(g)}}function e(a){a.done?(f=l.when(a.value),f.then(d,h)):(f=l.when(a.value),f.then(c,
b))}e((m=m.apply(a,k||[])).next())},function(a){f&&f.cancel(a)})}})},"esri/core/asyncUtils":function(){define(["require","exports","./tsSupport/generatorHelper","./tsSupport/awaiterHelper","./promiseUtils"],function(l,a,k,n,m){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,d,h){return m.eachAlways(a.map(function(a,b){return d.apply(h,[a,b])}))};a.map=function(a,d,h){return m.eachAlways(a.map(function(a,b){return d.apply(h,[a,b])})).then(function(a){return a.map(function(a){return a.value})})};
a.result=function(a){return a.then(function(a){return{ok:!0,value:a}}).catch(function(a){return{ok:!1,error:a}})};a.assertResult=function(a){if(!0===a.ok)return a.value;throw a.error;};a.safeCast=function(a){return a};a.safeCastFunction=function(a){return a}})},"esri/core/executeAsync":function(){define("require exports ./has ./nextTick ./now ./promiseUtils".split(" "),function(l,a,k,n,m,f){function d(){var a=0===c.length;if(!a){for(var g=m();!a&&m()-g<h;){var f=c[e];if(f){if(!0===f()){var k=b.get(f);
c[e]=null;b.delete(f);k()}e=(e+1)%c.length}else c.splice(e,1),e=(a=0===c.length)?0:e%c.length}a||n(d)}}var h=k("host-browser")?6:200,c=[],b=new Map,e=0;return function(a){return a?f.create(function(g){c.push(a);b.set(a,g);1===c.length&&n(d)},function(){c[c.indexOf(a)]=null;b.delete(a)}):f.reject(new TypeError("callback is not a function"))}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(l,a,k){function n(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,
c=!0;k.onmessage=function(){c=!1};k.postMessage("","*");k.onmessage=a;return c}return!1}function m(a){h.push(a);1===h.length&&d(function(){for(var a=0,b=c;a<b.length;a++)(0,b[a])();a=h.slice();for(b=h.length=0;b<a.length;b++)(0,a[b])()})}var f=k.MutationObserver||k.WebKitMutationObserver,d=function(){if(k.process&&k.process.nextTick)return function(a){k.process.nextTick(a)};if(k.Promise)return function(a){k.Promise.resolve().then(a)};if(f){var a=[],c=document.createElement("div");(new f(function(){for(;0<
a.length;)a.shift()()})).observe(c,{attributes:!0});return function(b){a.push(b);c.setAttribute("queueStatus","1")}}if(n()){var d=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();d.length;)d.shift()()},!0);return function(a){d.push(a);k.postMessage("esri-nexttick-message","*")}}return k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,0)}}(),h=[],c=[];(function(a){a.before=function(a){c.push(a);
return{remove:function(){c=c.filter(function(b){return b!==a})}}}})(m||(m={}));return m})},"esri/core/now":function(){define(["require","exports","./global"],function(l,a,k){return function(){var a=k.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var m;m=a.timing&&a.timing.navigationStart?a.timing.navigationStart:
Date.now();return function(){return Date.now()-m}}()})},"esri/core/ObjectPool":function(){define(["require","exports"],function(l,a){var k=function(){return function(){}}();return function(){function a(a,f,d,h,c){void 0===h&&(h=1);void 0===c&&(c=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=f;this.releaseFunction=d;this.growthSize=h;!0===f?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof f&&(this.acquireFunction=f);this._pool=Array(c);this._initialSize=
c;if(this.classConstructor)for(a=0;a<c;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(h,1)}a.prototype.destroy=function(){this.prune(0)};a.prototype.acquire=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];f=this.classConstructor||k;if(0===this._pool.length)for(var d=this.growthSize,h=0;h<d;h++)this._pool[h]=new f;f=this._pool.pop();this.acquireFunction?this.acquireFunction.apply(this,[f].concat(a)):f&&f.acquire&&"function"===typeof f.acquire&&f.acquire.apply(f,
a);return f};a.prototype.release=function(a){a&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var f=a;f<this._pool.length;++f)this._dispose(this._pool[f]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var f=
[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h;this.classConstructor&&(h=this.classConstructor).call.apply(h,[a].concat(f))};return a}()})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(l,a,k,n){return function(a){function f(d,h){return a.call(this,d,h)||this}k(f,a);return f}(n)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(l,a){return function(){function a(a,
m){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=m;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,m){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(l,
a,k,n){return function(a){function f(d,h,c,b){d=a.call(this,d,h)||this;d._circleVertexBuffer=c;d._circleIndexBuffer=b;return d}k(f,a);Object.defineProperty(f.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});f.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;a._circleIndexCount=
this._circleIndexCount};f.prototype.processFeatures=function(a,h){h=this._circleVertexBuffer;var c=this._circleIndexBuffer;this._circleIndexStart=c.index;this._circleIndexCount=0;var b=this.layer,e=this.zoom;a&&a.setExtent(this.layerExtent);for(var d=1,g=[1,1,1,1],f=1,m=0,k=1,l=[1,1,1,1],n=1,C=0,p=this._features;C<p.length;C++){var E=p[C],u=E.getGeometry(a);if(u)for(b.hasDataDrivenRadius&&(d=b.getPaintValue("circle-radius",e,E)),b.hasDataDrivenColor&&(g=b.getPaintValue("circle-color",e,E)),b.hasDataDrivenOpacity&&
(f=b.getPaintValue("circle-opacity",e,E)),b.hasDataDrivenStrokeWidth&&(k=b.getPaintValue("circle-stroke-width",e,E)),b.hasDataDrivenStrokeColor&&(l=b.getPaintValue("circle-stroke-color",e,E)),b.hasDataDrivenStrokeOpacity&&(n=b.getPaintValue("circle-stroke-opacity",e,E)),b.hasDataDrivenBlur&&(m=b.getPaintValue("circle-blur",e,E)),E=0;E<u.length;E++){var y=u[E];if(y)for(var D=0;D<y.length;D++){var I=y[D],J=h.index;h.add(I.x,I.y,0,0,d,g,f,m,k,l,n);h.add(I.x,I.y,0,1,d,g,f,m,k,l,n);h.add(I.x,I.y,1,0,d,
g,f,m,k,l,n);h.add(I.x,I.y,1,1,d,g,f,m,k,l,n);c.add(J+0,J+1,J+2);c.add(J+1,J+2,J+3);this._circleIndexCount+=6}}}};return f}(n)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),function(l,a,k,n,m,f,d){return function(a){function c(b,c,d,g,h,f){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==d.isDataDriven())throw Error("incompatible fill buffer");
if(b.hasDataDrivenOutline!==h.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=d;c._fillIndexBuffer=g;c._outlineVertexBuffer=h;c._outlineIndexBuffer=f;return c}k(c,a);Object.defineProperty(c.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"outlineIndexStart",
{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=
0)};c.prototype.processFeatures=function(a,c){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;c=this.layer;var b=this.zoom,g=c.hasDataDrivenFill,e=c.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var d=c.getPaintValue("fill-pattern",b),h=c.getPaintValue("fill-antialias",b)&&void 0===d,f=[1,1,1,1],m=[1,1,1,1],k=1;if(c.outlineUsesFillColor){if(h&&!c.hasDataDrivenOpacity){var p=c.getPaintValue("fill-opacity",
b),l=c.getPaintValue("fill-opacity",b+1);1>p&&1>l&&(h=!1)}h&&!c.hasDataDrivenColor&&(p=c.getPaintValue("fill-color",b),l=c.getPaintValue("fill-color",b+1),1>p[3]&&1>l[3]&&(h=!1))}p=0;for(l=this._features;p<l.length;p++){var u=l[p];!d&&c.hasDataDrivenColor&&(f=c.getPaintValue("fill-color",b,u));c.hasDataDrivenOpacity&&(k=c.getPaintValue("fill-opacity",b,u));!d&&c.hasDataDrivenOutlineColor&&(m=c.getPaintValue("fill-outline-color",b,u));var n=void 0;g&&(n={color:f,opacity:k});var D=void 0;e&&(D={color:c.outlineUsesFillColor?
f:m,opacity:k});u=u.getGeometry(a);this._processFeature(u,h,c.outlineUsesFillColor,n,D)}};c.prototype._processFeature=function(a,e,d,g,h){if(a){var b=a.length;if(e&&(!d||!h||1===h.color[3]*h.opacity))for(e=0;e<b;e++)this._processOutline(a[e],h);var f;for(e=0;e<b;e++)h=c._area(a[e]),128<h?(void 0!==f&&this._processFill(a,f,g),f=[e]):-128>h&&void 0!==f&&f.push(e);void 0!==f&&this._processFill(a,f,g)}};c.prototype._processOutline=function(a,c){var b=this._outlineVertexBuffer,g=this._outlineIndexBuffer,
e=g.index,h,f,m,k=new d.Point(0,0),l=new d.Point(0,0),p=new d.Point(0,0),n=-1,u=-1,y=-1,D=-1,I=-1,J=!1,L=a.length;if(!(2>L)){var G=a[0];for(h=a[L-1];L&&h.isEqual(G);)--L,h=a[L-1];if(!(2>L-0)){for(G=0;G<L;++G){0===G?(h=a[L-1],f=a[0],m=a[1],k.assignSub(f,h),k.normalize(),k.rightPerpendicular()):(h=f,f=m,m=G!==L-1?a[G+1]:a[0],k.assign(l));h=this._isClipEdge(h,f);-1===D&&(J=h);l.assignSub(m,f);l.normalize();l.rightPerpendicular();y=k.x*l.y-k.y*l.x;p.assignAdd(k,l);p.normalize();var H=-p.x*-k.x+-p.y*-k.y,
H=Math.abs(0!==H?1/H:1);8<H&&(H=8);0<=y?(y=b.add(f.x,f.y,k.x,k.y,0,1,c),-1===D&&(D=y),0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y),u=b.add(f.x,f.y,H*-p.x,H*-p.y,0,-1,c),-1===I&&(I=u),0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y),n=u,u=y,y=b.add(f.x,f.y,p.x,p.y,0,1,c),0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y),u=b.add(f.x,f.y,l.x,l.y,0,1,c)):(y=b.add(f.x,f.y,H*p.x,H*p.y,0,1,c),-1===D&&(D=y),0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y),u=b.add(f.x,f.y,-k.x,-k.y,0,-1,c),-1===I&&(I=u),0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y),n=u,u=y,y=b.add(f.x,
f.y,-p.x,-p.y,0,-1,c),0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y),n=b.add(f.x,f.y,-l.x,-l.y,0,-1,c));0<=n&&0<=u&&0<=y&&!h&&g.add(n,u,y)}0<=n&&0<=u&&0<=D&&!J&&g.add(n,u,D);0<=n&&0<=D&&0<=I&&!J&&g.add(n,I,D);this._outlineIndexCount+=3*(g.index-e)}}};c.prototype._processFill=function(a,c,d){var b;1<c.length&&(b=[]);for(var e=0,h=0;h<c.length;h++){var f=c[h];0!==e&&b.push(e);e+=a[f].length}for(var h=2*e,e=n.acquire(),k=0;k<c.length;k++)for(var f=c[k],f=a[f],l=f.length,t=0;t<l;++t)e.push(f[t].x),e.push(f[t].y);
a=m(e,b,2);c=a.length;if(0<c){b=this._fillVertexBuffer.index;for(k=0;k<h;)this._fillVertexBuffer.add(e[k++],e[k++],d);for(d=0;d<c;)this._fillIndexBuffer.add(b+a[d++],b+a[d++],b+a[d++]);this._fillIndexCount+=c}n.release(e)};c.prototype._isClipEdge=function(a,c){return a.x===c.x?-64>=a.x||4160<=a.x:a.y===c.y?-64>=a.y||4160<=a.y:!1};c._area=function(a){for(var b=0,c=a.length-1,g=0;g<c;g++)b+=(a[g].x-a[g+1].x)*(a[g].y+a[g+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return c}(f)})},"esri/core/ArrayPool":function(){define(["require",
"exports","./ObjectPool"],function(l,a,k){function n(a){a.length=0}var m=Array.prototype.splice;l=function(){function a(a,c){void 0===a&&(a=50);void 0===c&&(c=50);this._pool=new k(Array,!1,n,c,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var c=this.acquire();a.unshift(0,0);m.apply(c,a);a.splice(0,2);return c};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return f.acquire()};a.copy=function(a){return f.copy(a)};a.release=
function(a){return f.release(a)};return a}();var f=new l(100);return l})},"esri/core/libs/earcut/earcut":function(){define([],function(){function l(b,g,e){e=e||2;var h=g&&g.length,p=h?g[0]*e:b.length,m=a(b,0,p,e,!0),u=[];if(!m||m.next===m.prev)return u;var l,t,w,v;if(h){var z=e,h=[],E,A,C;v=0;for(E=g.length;v<E;v++)A=g[v]*z,C=v<E-1?g[v+1]*z:b.length,A=a(b,A,C,z,!1),A===A.next&&(A.steiner=!0),h.push(c(A));h.sort(f);for(v=0;v<h.length;v++){g=h[v];z=m;if(z=d(g,z))g=B(z,g),k(g,g.next);m=k(m,m.next)}}if(b.length>
80*e){l=w=b[0];t=h=b[1];for(z=e;z<p;z+=e)v=b[z],g=b[z+1],v<l&&(l=v),g<t&&(t=g),v>w&&(w=v),g>h&&(h=g);w=Math.max(w-l,h-t);w=0!==w?1/w:0}n(m,u,e,l,t,w);return u}function a(a,b,c,g,e){var h;if(e===0<C(a,b,c,g))for(e=b;e<c;e+=g)h=v(e,a[e],a[e+1],h);else for(e=c-g;e>=b;e-=g)h=v(e,a[e],a[e+1],h);h&&t(h,h.next)&&(z(h),h=h.next);return h}function k(a,b){if(!a)return a;b||(b=a);var c;do if(c=!1,a.steiner||!t(a,a.next)&&0!==e(a.prev,a,a.next))a=a.next;else{z(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||
a!==b);return b}function n(a,c,f,d,l,v,A){if(a){if(!A&&v){var p=a,u=p;do null===u.z&&(u.z=h(u.x,u.y,d,l,v)),u.prevZ=u.prev,u=u.nextZ=u.next;while(u!==p);u.prevZ.nextZ=null;u.prevZ=null;var p=u,E,C,y,D,J,I,R=1;do{u=p;y=p=null;for(D=0;u;){D++;C=u;for(E=J=0;E<R&&(J++,C=C.nextZ,C);E++);for(I=R;0<J||0<I&&C;)0!==J&&(0===I||!C||u.z<=C.z)?(E=u,u=u.nextZ,J--):(E=C,C=C.nextZ,I--),y?y.nextZ=E:p=E,E.prevZ=y,y=E;u=C}y.nextZ=null;R*=2}while(1<D)}for(p=a;a.prev!==a.next;){u=a.prev;C=a.next;if(v)y=m(a,d,l,v);else a:if(y=
a,D=y.prev,J=y,R=y.next,0<=e(D,J,R))y=!1;else{for(E=y.next.next;E!==y.prev;){if(b(D.x,D.y,J.x,J.y,R.x,R.y,E.x,E.y)&&0<=e(E.prev,E,E.next)){y=!1;break a}E=E.next}y=!0}if(y)c.push(u.i/f),c.push(a.i/f),c.push(C.i/f),z(a),p=a=C.next;else if(a=C,a===p){if(!A)n(k(a),c,f,d,l,v,1);else if(1===A){A=c;p=f;u=a;do C=u.prev,y=u.next.next,!t(C,y)&&g(C,u,u.next,y)&&w(C,y)&&w(y,C)&&(A.push(C.i/p),A.push(u.i/p),A.push(y.i/p),z(u),z(u.next),u=a=y),u=u.next;while(u!==a);a=u;n(a,c,f,d,l,v,2)}else if(2===A)a:{A=a;do{for(p=
A.next.next;p!==A.prev;){if(u=A.i!==p.i){u=A;C=p;y=void 0;if(y=u.next.i!==C.i&&u.prev.i!==C.i){y=void 0;b:{y=u;do{if(y.i!==u.i&&y.next.i!==u.i&&y.i!==C.i&&y.next.i!==C.i&&g(y,y.next,u,C)){y=!0;break b}y=y.next}while(y!==u);y=!1}y=!y}D=void 0;if(D=y&&w(u,C)&&w(C,u)){y=u;D=!1;J=(u.x+C.x)/2;C=(u.y+C.y)/2;do y.y>C!==y.next.y>C&&y.next.y!==y.y&&J<(y.next.x-y.x)*(C-y.y)/(y.next.y-y.y)+y.x&&(D=!D),y=y.next;while(y!==u)}u=D}if(u){a=B(A,p);A=k(A,A.next);a=k(a,a.next);n(A,c,f,d,l,v);n(a,c,f,d,l,v);break a}p=
p.next}A=A.next}while(A!==a)}break}}}}function m(a,c,g,f){var d=a.prev,m=a.next;if(0<=e(d,a,m))return!1;var k=d.x>a.x?d.x>m.x?d.x:m.x:a.x>m.x?a.x:m.x,p=d.y>a.y?d.y>m.y?d.y:m.y:a.y>m.y?a.y:m.y,u=h(d.x<a.x?d.x<m.x?d.x:m.x:a.x<m.x?a.x:m.x,d.y<a.y?d.y<m.y?d.y:m.y:a.y<m.y?a.y:m.y,c,g,f);c=h(k,p,c,g,f);g=a.prevZ;for(f=a.nextZ;g&&g.z>=u&&f&&f.z<=c;){if(g!==a.prev&&g!==a.next&&b(d.x,d.y,a.x,a.y,m.x,m.y,g.x,g.y)&&0<=e(g.prev,g,g.next))return!1;g=g.prevZ;if(f!==a.prev&&f!==a.next&&b(d.x,d.y,a.x,a.y,m.x,m.y,
f.x,f.y)&&0<=e(f.prev,f,f.next))return!1;f=f.nextZ}for(;g&&g.z>=u;){if(g!==a.prev&&g!==a.next&&b(d.x,d.y,a.x,a.y,m.x,m.y,g.x,g.y)&&0<=e(g.prev,g,g.next))return!1;g=g.prevZ}for(;f&&f.z<=c;){if(f!==a.prev&&f!==a.next&&b(d.x,d.y,a.x,a.y,m.x,m.y,f.x,f.y)&&0<=e(f.prev,f,f.next))return!1;f=f.nextZ}return!0}function f(a,b){return a.x-b.x}function d(a,c){var g=c,e=a.x,f=a.y,d=-Infinity,h;do{if(f<=g.y&&f>=g.next.y&&g.next.y!==g.y){var m=g.x+(f-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(m<=e&&m>d){d=m;if(m===e){if(f===
g.y)return g;if(f===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(e===d)return h.prev;c=h;for(var m=h.x,k=h.y,p=Infinity,l,g=h.next;g!==c;)e>=g.x&&g.x>=m&&e!==g.x&&b(f<k?e:d,f,m,k,f<k?d:e,f,g.x,g.y)&&(l=Math.abs(f-g.y)/(e-g.x),(l<p||l===p&&g.x>h.x)&&w(g,a)&&(h=g,p=l)),g=g.next;return h}function h(a,b,c,g,e){a=32767*(a-c)*e;b=32767*(b-g)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;
return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function c(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function b(a,b,c,g,e,f,d,h){return 0<=(e-d)*(b-h)-(a-d)*(f-h)&&0<=(a-d)*(g-h)-(c-d)*(b-h)&&0<=(c-d)*(f-h)-(e-d)*(g-h)}function e(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function t(a,b){return a.x===b.x&&a.y===b.y}function g(a,b,c,g){return t(a,b)&&t(c,g)||t(a,g)&&t(c,b)?!0:0<e(a,b,c)!==0<e(a,b,g)&&0<e(c,g,a)!==0<e(c,g,b)}function w(a,b){return 0>
e(a.prev,a,a.next)?0<=e(a,b,a.next)&&0<=e(a,a.prev,b):0>e(a,b,a.prev)||0>e(a,a.next,b)}function B(a,b){var c=new A(a.i,a.x,a.y),g=new A(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;g.next=c;c.prev=g;f.next=g;g.prev=f;return g}function v(a,b,c,g){a=new A(a,b,c);g?(a.next=g.next,a.prev=g,g.next.prev=a,g.next=a):(a.prev=a,a.next=a);return a}function z(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function A(a,b,c){this.i=
a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function C(a,b,c,g){for(var e=0,f=c-g;b<c;b+=g)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}l.deviation=function(a,b,c,g){var e=b&&b.length,f=Math.abs(C(a,0,e?b[0]*c:a.length,c));if(e)for(var e=0,d=b.length;e<d;e++)f-=Math.abs(C(a,b[e]*c,e<d-1?b[e+1]*c:a.length,c));for(e=b=0;e<g.length;e+=3){var d=g[e]*c,h=g[e+1]*c,m=g[e+2]*c;b+=Math.abs((a[d]-a[m])*(a[h+1]-a[d+1])-(a[d]-a[h])*(a[m+1]-a[d+1]))}return 0===f&&0===
b?0:Math.abs((b-f)/f)};l.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},g=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var d=0;d<b;d++)c.vertices.push(a[e][f][d]);0<e&&(g+=a[e-1].length,c.holes.push(g))}return c};return l})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,m){this.x=a;this.y=m}a.prototype.clone=function(){return new a(this.x,
this.y)};a.prototype.equals=function(a,m){return a===this.x&&m===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,m){this.x=a;this.y=m};a.prototype.normalize=function(){var a=this.x,m=this.y,a=Math.sqrt(a*a+m*m);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,m){this.x+=a;this.y+=m};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,
m){this.x=a.x+m.x;this.y=a.y+m.y};a.prototype.assignSub=function(a,m){this.x=a.x-m.x;this.y=a.y-m.y};a.prototype.rotate=function(a,m){var f=this.x,d=this.y;this.x=f*a-d*m;this.y=f*m+d*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,m=this.y;return Math.sqrt(a*a+m*m)};a.distance=function(a,m){var f=m.x-a.x;a=m.y-a.y;return Math.sqrt(f*f+a*a)};a.add=function(k,m){return new a(k.x+m.x,k.y+m.y)};a.sub=function(k,m){return new a(k.x-m.x,k.y-m.y)};return a}();
a.Point=l})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(l,a){function k(a,f){a%=f;return 0<=a?a:a+f}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=k;a.radToByte=function(m){return k(m*
a.C_RAD_TO_256,256)};a.degToByte=function(m){return k(m*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.interpolate=function(a,f,d){return a*(1-d)+f*d};a.between=function(a,f,d){return a>=f&&a<=d||a>=d&&a<=f}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./MemoryBuffer"],function(l,a,k,n){Object.defineProperty(a,"__esModule",{value:!0});l=function(a){function f(){return a.call(this,
12)||this}k(f,a);f.prototype.add=function(a,f,c){var b=this.array;b.push(a);b.push(f);b.push(c)};return f}(n);a.TriangleIndexBuffer=l;n=function(a){function f(){return a.call(this,4)||this}k(f,a);f.prototype.add=function(a){this.array.push(a)};return f}(n);a.PointElementMemoryBuffer=n})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(l,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=
a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=
function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,m){return 65535&a|m<<16};a.i8888to32=function(a,m,f,d){return a&255|(m&255)<<8|(f&255)<<16|d<<24};a.i8816to32=function(a,m,f){return a&255|(m&255)<<8|f<<16};return a}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/has ../../../../symbols/cim/enums ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),
function(l,a,k,n,m,f,d,h,c){var b=1/3.8;return function(a){function e(b,c,e,f){c=a.call(this,b,c)||this;c._tessellationOptions={};if(b.hasDataDrivenLine!==e.isDataDriven())throw Error("incompatible line buffer");c._lineVertexBuffer=e;c._lineIndexBuffer=f;c._hasPattern=b.getPaintValue("line-pattern",c.zoom)||b.getPaintValue("line-dasharray",c.zoom);c._isThinLine=b.isThinLine;c._tessellationCallbacks=c._isThinLine?{vertex:c._thinVertex.bind(c),bridge:c._thinBridge.bind(c)}:{vertex:c._thickVertex.bind(c),
bridge:c._thickBridge.bind(c)};return c}k(e,a);Object.defineProperty(e.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});e.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};e.prototype.processFeatures=function(a,b){this._lineIndexStart=this._lineIndexBuffer.index;
this._lineIndexCount=0;b=this.layer;var g=this.zoom,e=b.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var f=[1,1,1,1],h=1,m=1,k=0,l=this._features;k<l.length;k++){var u=l[k],n=new d.LineLayout(b,g,u);!this._hasPattern&&b.hasDataDrivenColor&&(f=b.getPaintValue("line-color",g,u));b.hasDataDrivenOpacity&&(h=b.getPaintValue("line-opacity",g,u));b.hasDataDrivenWidth&&(m=b.getPaintValue("line-width",g,u));var t=void 0;if(e&&(t={color:f,opacity:h,size:Math.max(Math.min(m,256),0)},0>=t.size||0>=
t.opacity||0>=t.color[3]))continue;this._capType=n.cap;this._joinType=n.join;this._miterLimitCosine=c.getLimitCosine(n.miterLimit);this._roundLimitCosine=c.getLimitCosine(n.roundLimit);u=u.getGeometry(a);this._processFeature(n,u,t)}};e.prototype._processFeature=function(a,b,c){if(b)for(var g=b.length,e=0;e<g;e++)this._processGeometry(b[e],a,c)};e.prototype._processGeometry=function(a,c,e){if(!(2>a.length)){c=a[0];for(var g=1,f,d;g<a.length;)f=a[g].x-c.x,d=a[g].y-c.y,1E-6>f*f+d*d?a.splice(g,1):(c=
a[g],++g);2>a.length||(c=this._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableOuterBisectorSplit=this._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableInnerBisectorSplit=this._hasPattern,
this._ddValues=e,h.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this._lineIndexBuffer.index-c))}};e.prototype._thinVertex=function(a){a.entry0=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues);a.entry2=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues);
a.exit0=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance,this._ddValues);a.exit2=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,this._ddValues)};e.prototype._thinBridge=function(a){this._lineIndexBuffer.add(a.leftExit0,a.rightEntry0,a.leftExit2);this._lineIndexBuffer.add(a.rightEntry0,a.rightEntry2,a.leftExit2)};e.prototype._thickVertex=
function(a){var b=this._joinType===m.JoinType.MITER?this._miterLimitCosine:this._roundLimitCosine,c=a.isCap&&this._capType!==m.CapType.BUTT,e=!1;.97<a.cosine?(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues),a.exit2=a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,
1,a.distance,this._ddValues)):a.cosine<1-.97?(a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues),a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,
0,-1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,this._ddValues)):a.canSplit?(h.splitVertex(),0<a.sign?(a.splitInner?(a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance,this._ddValues),a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,
a.rightInner.x,a.rightInner.y,0,-1,a.distance,this._ddValues)):(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues)),a.cosine<b?(e=!a.isCap,a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,this._ddValues)):a.splitOuter?(e=e||a.gapOuter,a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance,this._ddValues)):(a.entry2=a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues))):(a.splitInner?(a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance,this._ddValues),a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance,this._ddValues)):(a.exit2=a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues)),a.cosine<b?(e=!a.isCap,a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance,this._ddValues)):a.splitOuter?(e=e||a.gapOuter,a.entry0=this._lineVertexBuffer.index,
this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance,this._ddValues)):(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues)))):0<a.sign?(a.exit0=a.entry0=
this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues),a.cosine<b?(e=!a.isCap,a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,
this._ddValues)):(a.entry2=a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues))):(a.exit2=a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues),a.cosine<b?(e=!a.isCap,a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,
a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance,this._ddValues)):(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues)));a.canSplit&&(a.splitInner||a.splitOuter)||e||c?(b=a.entry1=a.exit1=this._lineVertexBuffer.index,
this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,0,0,0,0,a.distance,this._ddValues)):b=a.entry1=a.exit1=null;if(e&&this._joinType!==m.JoinType.ROUND)this._lineIndexBuffer.add(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&this._capType===m.CapType.ROUND||e&&this._joinType===m.JoinType.ROUND){var g=e=c=void 0,f=void 0,d=void 0,k=void 0;if(a.isCap){var l=Math.PI,d=Math.ceil(l/.8),k=l/d;a.isFirstVertex?(c=a.prevNormal.x,e=a.prevNormal.y,g=a.entry0,f=a.entry2):a.isLastVertex&&
(c=-a.nextNormal.x,e=-a.nextNormal.y,g=a.exit2,f=a.exit0)}else l=2*Math.acos(a.cosine),d=Math.ceil(l/.8),k=l/d,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,e=0<a.sign?-a.prevNormal.y:a.nextNormal.y,g=0<a.sign?a.entry2:a.exit0,f=0<a.sign?a.exit2:a.entry0;for(var l=Math.cos(k),k=Math.sin(k),u=k*c+l*e,c=l*c-k*e,e=u,n=void 0,u=void 0,t=0;t<d;++t){n=u;if(t<d-1)if(a.isCap){var I=a.isFirstVertex?-1:1,u=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,c,e,I,0,a.distance,
this._ddValues)}else u=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,c,e,0,a.sign,a.distance,this._ddValues);this._lineIndexBuffer.add(0===t?g:n,b,t===d-1?f:u);n=k*c+l*e;c=l*c-k*e;e=n}}else c&&this._capType===m.CapType.SQUARE&&(c=a.isFirstVertex?1:-1,g=e=void 0,this._hasPattern?(e=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance,this._ddValues),
g=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance,this._ddValues)):(e=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance,this._ddValues),g=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-
c*a.inbound.y,0,1,a.distance,this._ddValues)),0<c?(this._lineIndexBuffer.add(b,a.entry2,g),this._lineIndexBuffer.add(b,g,e),this._lineIndexBuffer.add(b,e,a.entry0)):(this._lineIndexBuffer.add(b,g,a.exit2),this._lineIndexBuffer.add(b,e,g),this._lineIndexBuffer.add(b,a.exit0,e)))};e.prototype._thickBridge=function(a){this._lineIndexBuffer.add(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this._lineIndexBuffer.add(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=
a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this._lineIndexBuffer.add(a.leftExit1,a.rightEntry1,a.leftExit2),this._lineIndexBuffer.add(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this._lineIndexBuffer.add(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this._lineIndexBuffer.add(a.rightEntry1,a.rightEntry2,a.leftExit2)};return e}(f)})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,
"__esModule",{value:!0});(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}))})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(l,a,k,n,m,f,d){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,c,f){this.type=a;this.typeName=c.type;this.id=c.id;this.source=c.source;this.sourceLayer=c["source-layer"];this.minzoom=c.minzoom;this.maxzoom=c.maxzoom;this.filter=c.filter;this.layout=c.layout;this.paint=c.paint;this.z=f;switch(a){case 0:this._layoutDefinition=m.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=m.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=
m.StyleDefinition.fillLayoutDefinition;this._paintDefinition=m.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=m.StyleDefinition.lineLayoutDefinition;this._paintDefinition=m.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=m.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=m.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=m.StyleDefinition.circleLayoutDefinition,this._paintDefinition=m.StyleDefinition.circlePaintDefinition}this._layoutProperties=
this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=n.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,c,f){var b,e=this._layoutProperties;e&&(e=e[a])&&(b=e.getValue(c,
f));a=this._layoutDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.getPaintValue=function(a,c,f){var b,e=this._paintProperties;e&&(e=e[a])&&(b=e.getValue(c,f));a=this._paintDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var c in a)if(a[c].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var b={},
c;for(c in a){var g=this._layoutDefinition[c];g&&(b[c]=new f(c,g,a[c]))}return b};a.prototype._parsePaint=function(a){var b={},c;for(c in a){var g=this._paintDefinition[c];g&&(b[c]=new f(c,g,a[c]))}return b};return a}();a.StyleLayer=l;var h=function(a){function b(b,c,g){return a.call(this,b,c,g)||this}k(b,a);return b}(l);a.BackgroundStyleLayer=h;h=function(a){function b(b,c,g){b=a.call(this,b,c,g)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");
b.hasDataDrivenOpacity=c?c.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}k(b,a);return b}(l);a.FillStyleLayer=h;h=function(a){function b(b,c,g){b=a.call(this,b,c,g)||this;g=b.getPaintProperty("line-color");b.hasDataDrivenColor=g?g.isDataDriven:
!1;g=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=g?g.isDataDriven:!1;g=b.getPaintProperty("line-width");b.hasDataDrivenWidth=g?g.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;c=c.paint["line-width"];c||(c=m.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof c&&c<d.THIN_LINE_THRESHOLD;return b}k(b,a);return b}(l);a.LineStyleLayer=h;h=function(a){function b(b,c,g){b=a.call(this,
b,c,g)||this;c=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=c?c.isDataDriven:
!1;c=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}k(b,a);return b}(l);a.SymbolStyleLayer=h;l=function(a){function b(b,c,g){b=a.call(this,b,c,g)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=
c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}k(b,a);return b}(l);a.CircleStyleLayer=l;l=function(){return function(a,b,e){this.cap=a.getLayoutValue("line-cap",b,e);
this.join=a.getLayoutValue("line-join",b,e);this.miterLimit=a.getLayoutValue("line-miter-limit",b,e);this.roundLimit=a.getLayoutValue("line-round-limit",b,e)}}();a.LineLayout=l;l=function(){return function(a,b,e,f){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,f);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,f);this.optional=a.getLayoutValue("icon-optional",b,f);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,f);this.size=a.getLayoutValue("icon-size",
b,f);this.rotate=a.getLayoutValue("icon-rotate",b,f);this.padding=a.getLayoutValue("icon-padding",b,f);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,f);this.offset=a.getLayoutValue("icon-offset",b,f);2===this.rotationAlignment&&(this.rotationAlignment=e?0:1)}}();a.IconLayout=l;l=function(){return function(a,b,e,f){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,f);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,f);this.optional=a.getLayoutValue("text-optional",
b,f);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,f);this.fontArray=a.getLayoutValue("text-font",b,f);this.maxWidth=a.getLayoutValue("text-max-width",b,f);this.lineHeight=a.getLayoutValue("text-line-height",b,f);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,f);this.justify=a.getLayoutValue("text-justify",b,f);this.anchor=a.getLayoutValue("text-anchor",b,f);this.maxAngle=a.getLayoutValue("text-max-angle",b,f);this.size=a.getLayoutValue("text-size",b,f);this.rotate=
a.getLayoutValue("text-rotate",b,f);this.padding=a.getLayoutValue("text-padding",b,f);this.keepUpright=a.getLayoutValue("text-keep-upright",b,f);this.transform=a.getLayoutValue("text-transform",b,f);this.offset=a.getLayoutValue("text-offset",b,f);2===this.rotationAlignment&&(this.rotationAlignment=e?0:1)}}();a.TextLayout=l})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(l,a){return function(){function a(k,m,f){this._op=k;"$type"===m?(this._val=f instanceof
Array?f.map(function(f){return a._types.indexOf(f)}):a._types.indexOf(f),this._op+=11):(this._key=m,this._val=f)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);
case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var m=0,f=this._val;m<f.length;m++){var d=f[m];if(d.filter(a))return!0}return!1;case 10:m=0;for(f=this._val;m<f.length;m++)if(d=f[m],!d.filter(a))return!1;return!0;case 11:m=0;for(f=this._val;m<f.length;m++)if(d=f[m],d.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=
this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type);case 20:return void 0!==a.values[this._key];case 21:return void 0===a.values[this._key]}};a.createFilter=function(k){if(!k)return new a(0,void 0,!0);var m=k[0];if(1>=k.length)return new a(0,void 0,"any"!==m);switch(m){case "\x3d\x3d":return new a(1,k[1],k[2]);case "!\x3d":return new a(2,k[1],k[2]);case "\x3e":return new a(4,k[1],k[2]);case "\x3c":return new a(3,k[1],k[2]);case "\x3e\x3d":return new a(6,
k[1],k[2]);case "\x3c\x3d":return new a(5,k[1],k[2]);case "in":return new a(7,k[1],k.slice(2));case "!in":return new a(8,k[1],k.slice(2));case "any":return new a(9,void 0,k.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,k.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,k.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,k[1],void 0);case "!has":return new a(21,k[1],void 0);default:throw Error("invalid operator: "+m);}};a._types=
["Unknown","Point","LineString","Polygon"];return a}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",
default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",
length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},
"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",
default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",
default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},
"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,
default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},
"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],
default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return a}();a.StyleDefinition=l})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(l,a,k,n){return function(){function a(f,d,h){this.isDataDriven=!1;switch(d.type){case "number":f=!0;break;case "color":f=
!0;h=a._parseColor(h);break;case "array":f="number"===d.value;break;default:f=!1}null==h&&(h=d.default);f&&"interval"===h.type&&(f=!1);var c=h&&h.stops&&0<h.stops.length;if(c)for(var b=0,e=h.stops;b<e.length;b++){var m=e[b];m[1]=this._validate(m[1],d)}if(this.isDataDriven=h?!!h.property:!1)if(void 0!==h.default&&(h.default=this._validate(h.default,d)),c)switch(h.type){case "identity":this.getValue=this._buildIdentity(h,d);break;case "categorical":this.getValue=this._buildCategorical(h,d);break;default:this.getValue=
f?this._buildInterpolate(h,d):this._buildInterval(h,d)}else this.getValue=this._buildIdentity(h,d);else c?this.getValue=f?this._buildZoomInterpolate(h):this._buildZoomInterval(h):(h=this._validate(h,d),this.getValue=this._buildSimple(h))}a.prototype._validate=function(a,d){if("number"===d.type){if(a<d.minimum)return d.minimum;if(a>d.maximum)return d.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(f,d){var h=this;return function(c,
b){var e;b&&(e=b.values[f.property],"color"===d.type&&(e=a._parseColor(e)));void 0===e&&(e=f.default);return void 0!==e?h._validate(e,d):d.default}};a.prototype._buildCategorical=function(a,d){var f=this;return function(c,b){var e;b&&(e=b.values[a.property]);e=f._categorical(e,a.stops);return void 0!==e?e:void 0!==a.default?a.default:d.default}};a.prototype._buildInterval=function(a,d){var f=this;return function(c,b){var e;b&&(e=b.values[a.property]);return"number"===typeof e?f._interval(e,a.stops):
void 0!==a.default?a.default:d.default}};a.prototype._buildInterpolate=function(a,d){var f=this;return function(c,b){var e;b&&(e=b.values[a.property]);return"number"===typeof e?f._interpolate(e,a.stops,a.base||1):void 0!==a.default?a.default:d.default}};a.prototype._buildZoomInterpolate=function(a){var f=this;return function(d){return f._interpolate(d,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var f=this;return function(d){return f._interval(d,a.stops)}};a.prototype._categorical=
function(a,d){for(var f=d.length,c=0;c<f;c++)if(d[c][0]===a)return d[c][1]};a.prototype._interval=function(a,d){for(var f=d.length,c=0,b=0;b<f;b++)if(d[b][0]<=a)c=b;else break;return d[c][1]};a.prototype._interpolate=function(a,d,h){for(var c,b,e=d.length,f=0;f<e;f++){var g=d[f];if(g[0]<=a)c=g;else{b=g;break}}if(c&&b){f=b[0]-c[0];a-=c[0];h=1===h?a/f:(Math.pow(h,a)-1)/(Math.pow(h,f)-1);if(Array.isArray(c[1])){c=c[1];b=b[1];a=[];for(f=0;f<c.length;f++)a.push(n.interpolate(c[f],b[f],h));return a}return n.interpolate(c[1],
b[1],h)}if(c)return c[1];if(b)return b[1]};a._isEmpty=function(a){for(var f in a)if(a.hasOwnProperty(f))return!1;return!0};a._parseColor=function(f){if(Array.isArray(f))return f;if("string"===typeof f){if(f=new k(f),!this._isEmpty(f))return k.toUnitRGBA(f)}else return f&&f.default&&(f.default=a._parseColor(f.default)),f&&f.stops&&(f.stops=f.stops.map(function(f){return[f[0],a._parseColor(f[1])]})),f};return a}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/accessorSupport/ensureType"],
function(l,a,k,n){function m(a){return k.clamp(n.ensureInteger(a),0,255)}function f(a,c,b){a=Number(a);return isNaN(a)?b:a<c?c:a>b?b:a}function d(a,c,b){0>b&&++b;1<b&&--b;var e=6*b;return 1>e?a+(c-a)*e:1>2*b?c:2>3*b?a+(c-a)*(2/3-b)*6:a}l=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(c,b,e,f){void 0===f&&(f=new a);f.r=Math.round(c.r+(b.r-c.r)*e);f.g=Math.round(c.g+(b.g-c.g)*e);f.b=Math.round(c.b+(b.b-c.b)*e);f.a=c.a+(b.a-c.a)*e;return f._sanitize()};
a.fromRgb=function(c,b){var e=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){c=e[2].split(/\s*,\s*/);e=e[1];if("rgb"===e&&3===c.length||"rgba"===e&&4===c.length)return e=c[0],"%"===e.charAt(e.length-1)?(e=c.map(function(a){return 2.56*parseFloat(a)}),4===c.length&&(e[3]=parseFloat(c[3])),a.fromArray(e,b)):a.fromArray(c.map(function(a){return parseFloat(a)}),b);if("hsl"===e&&3===c.length||"hsla"===e&&4===c.length){var e=(parseFloat(c[0])%360+360)%360/360,f=parseFloat(c[1])/100,g=
parseFloat(c[2])/100,f=.5>=g?g*(f+1):g+f-g*f,g=2*g-f,e=[256*d(g,f,e+1/3),256*d(g,f,e),256*d(g,f,e-1/3),1];4===c.length&&(e[3]=parseFloat(c[3]));return a.fromArray(e,b)}}return null};a.fromHex=function(c,b){void 0===b&&(b=new a);var e=4===c.length?4:8,f=(1<<e)-1,g=Number("0x"+c.substr(1));if(isNaN(g))return null;["b","g","r"].forEach(function(a){var c=g&f;g>>=e;b[a]=4===e?17*c:c});b.a=1;return b};a.fromArray=function(c,b){void 0===b&&(b=new a);b._set(Number(c[0]),Number(c[1]),Number(c[2]),Number(c[3]));
isNaN(b.a)&&(b.a=1);return b._sanitize()};a.fromString=function(c,b){var e=a.named[c];return e&&a.fromArray(e,b)||a.fromRgb(c,b)||a.fromHex(c,b)};a.toJSON=function(a){return a&&[m(a.r),m(a.g),m(a.b),1<a.a?a.a:m(255*a.a)]};a.fromJSON=function(c){return c&&new a([c[0],c[1],c[2],c[3]/255])};a.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};a.prototype.setColor=function(c){"string"===typeof c?a.fromString(c,this):Array.isArray(c)?
a.fromArray(c,this):(this._set(c.r,c.g,c.b,c.a),c instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),e=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>e.length?"0"+e:e)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+
this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[m(this.r),m(this.g),m(this.b),1<this.a?this.a:m(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype._sanitize=function(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,0,1);return this};a.prototype._set=function(a,b,e,f){this.r=a;this.g=b;this.b=e;this.a=f};a.named={transparent:[0,
0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,
184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,
188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,
92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,
153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,
245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,
245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();l.prototype.declaredClass="esri.Color";return l})},"esri/core/mathUtils":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,
"__esModule",{value:!0});a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};a.isNaN=Number.isNaN||function(a){return a!==a};a.nextHighestPowerOfTwo=function(a){--a;for(var k=1;32>k;k<<=1)a|=a>>k;return a+1};a.clamp=function(a,l,m){return a<l?l:a>m?m:a}})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(l,a,k){function n(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function m(a){return null==a?a:
new Date(a)}function f(a){return null==a?a:!!a}function d(a){return null==a?a:a.toString()}function h(a){return null==a?a:"number"===typeof a&&isNaN(a)?0:parseFloat(a)}function c(a){return null==a?a:Math.round(parseFloat(a))}function b(a){return a&&a.constructor&&void 0!==a.constructor._meta}function e(a,b){return null!=b&&a&&!n(a,b)}function t(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function g(a){return a&&a.Type?"function"===
typeof a.Type?a.Type:a.Type.base:null}function w(a,b){if(!b||!b.constructor||!t(b.constructor))return B(a,b)?b:new a(b);var c=g(a.prototype.itemType),e=g(b.constructor.prototype.itemType);if(!c)return b;if(!e)return new a(b);if(c===e)return b;if((e=e._meta&&e._meta.bases)&&-1!==e.indexOf(c))return new a(b);B(a,b);return b}function B(a,c){return b(c)?(I.error("Accessor#set","Assigning an instance of '"+(c.declaredClass||"unknown")+"' which is not a subclass of '"+z(a)+"'"),!0):!1}function v(a,b){return null==
b?b:t(a)?w(a,b):e(a,b)?B(a,b)?b:new a(b):b}function z(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}function A(a){switch(a){case Number:return h;case J:return c;case Boolean:return f;case String:return d;case Date:return m;default:return v.bind(null,a)}}function C(a,b){var c=A(a);return 1===arguments.length?c:c(b)}function p(a,b){return 1===arguments.length?p.bind(null,a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function E(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return E(a,
b-1,c)}):a(c)}function u(a,b,c){if(2===arguments.length)return u.bind(null,a,b);if(!c)return c;c=E(a,b,c);for(var g=b,e=c;0<g&&Array.isArray(e);)g--,e=e[0];if(void 0!==e)for(e=0;e<g;e++)c=[c];return c}function y(a,b){if(2===arguments.length)return y(a).call(null,b);for(var c=new Set,g=a.filter(function(a){return"function"!==typeof a}),f=a.filter(function(a){return"function"===typeof a}),d=0;d<a.length;d++){var h=a[d];"string"!==typeof h&&"number"!==typeof h||c.add(h)}var m=null,k=null;return function(a,
b){if(null==a)return a;var d=typeof a,h="string"===d||"number"===d;if(h&&(c.has(a)||f.some(function(a){return"string"===d&&a===String||"number"===d&&a===Number}))||"object"===d&&f.some(function(b){return!e(a,b)}))return a;h&&g.length?(m||(m=g.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),I.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+m)):"object"===typeof a&&f.length?(k||(k=f.map(function(a){return z(a)}).join(", ")),
I.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+k)):I.error("Accessor#set","'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function D(a,c){if(2===arguments.length)return D(a).call(null,c);var g={},f=[],d=[],h;for(h in a.typeMap){var m=a.typeMap[h];g[h]=C(m);f.push(z(m));d.push(h)}var k="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(c){if(a.base&&!e(a.base,c))return c;var h=k(c)||a.defaultKeyValue,
m=g[h];if(!m)return I.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+f.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+d.join("', '")+"'")+")"),null;if(!e(a.typeMap[h],c))return c;if("string"===typeof a.key&&!b(c)){var h={},l;for(l in c)l!==a.key&&(h[l]=c[l]);return m(h)}return m(c)}}Object.defineProperty(a,"__esModule",{value:!0});var I=k.getLogger("esri.core.Accessor");a.isInstanceOf=n;a.ensureDate=m;a.ensureBoolean=f;a.ensureString=
d;a.ensureNumber=h;a.ensureInteger=c;a.isClassedType=b;a.requiresType=e;a.ensureClass=v;a.ensureType=C;a.ensureArrayTyped=p;a.ensureArray=function(a,b){return 1===arguments.length?p(C.bind(null,a)):p(C.bind(null,a),b)};a.ensureNArrayTyped=u;a.ensureNArray=function(a,b,c){return 2===arguments.length?u(C.bind(null,a),b):u(C.bind(null,a),b,c)};a.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};a.ensureOneOf=
y;a.ensureOneOfType=D;var J=function(){return function(){}}();a.Integer=J;a.default=C})},"esri/core/Logger":function(){define(["require","exports","./has"],function(l,a,k){var n={info:0,warn:1,error:2};l=function(){function a(f){void 0===f&&(f={});this.module=f.module||"";this.writer=f.writer||null;this.level=f.level||null;null!=f.enabled&&(this.enabled=!!f.enabled);a._loggers[this.module]=this;f=this.module.lastIndexOf(".");-1!==f&&(this.parent=a.getLogger(this.module.slice(0,f)))}a.prototype.log=
function(a){for(var f=[],h=1;h<arguments.length;h++)f[h-1]=arguments[h];this._isEnabled()&&this._matchLevel(a)&&(h=this._inheritedWriter())&&h.apply(void 0,[a,this.module].concat(f))};a.prototype.error=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=
arguments[d];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(f){return a.getLogger(this.module+"."+f)};a.getLogger=function(f){var d=a._loggers[f];d||(d=new a({module:f}));return d};a.prototype._parentWithMember=function(a,d){for(var f=this;f&&null==f[a];)f=f.parent;return f?f[a]:d};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,d){for(var f=[],c=2;c<arguments.length;c++)f[c-2]=arguments[c];
console[a].apply(console,["["+d+"]"].concat(f))};a.prototype._matchLevel=function(a){return n[this._parentWithMember("level","error")]<=n[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();l.getLogger("esri").level="warn";return l})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.WEBGL_MAX_STOPS=8;a.WEBGL_MAX_INNER_STOPS=a.WEBGL_MAX_STOPS-2;a.NAN_MAGIC_NUMBER=
1E-30;a.EXTRUDE_SCALE=64;a.PICTURE_FILL_COLOR=4294967295;a.TILE_SIZE=512;a.ANGLE_FACTOR_256=256/360;a.DEBUG_LABELS=!1;a.COLLISION_BUCKET_SIZE=128;a.DOT_DENSITY_MAX_FIELDS=8;a.COLLISION_MAX_ZOOM_DELTA=3;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_BOX_PADDING=8;a.COLLISION_TILE_BOX_SIZE=a.TILE_SIZE/a.COLLISION_BUCKET_SIZE;a.COLLISION_PLACEMENT_PADDING=8;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HEURISTIC_GLYPHS_PER_FEATURE=10;a.GLYPH_SIZE=24;a.TEXT_LINE_HEIGHT=1.2*a.GLYPH_SIZE;a.TEXT_MAX_WIDTH=10*a.GLYPH_SIZE;
a.TEXT_SPACING=0;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_HIGHLIGHT_0=2;a.TEXTURE_BINDING_HIGHLIGHT_1=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=4;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=5;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=6;a.TEXTURE_BINDING_RENDERER_0=7;a.TEXTURE_BINDING_RENDERER_1=8;a.MAX_FILTERS=2;a.FILTER_FLAG_0=1;a.EFFECT_FLAG_0=2;a.THIN_LINE_THRESHOLD=
2.5})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","../../../../symbols/cim/enums","./mesh/templates/util"],function(l,a,k,n){function m(){if(p.cosine<t.innerBisectorAutoSplitThreshold){p.splitInner=!0;p.gapInner=!0;var a=Math.max(t.innerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a;p.leftInner.x=p.nextNormal.x+p.sign*a*p.outbound.x;p.leftInner.y=p.nextNormal.y+p.sign*a*p.outbound.y;p.rightInner.x=p.prevNormal.x-p.sign*a*p.inbound.x;p.rightInner.y=p.prevNormal.y-
p.sign*a*p.inbound.y}else t.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/p.cosine);p.cosine<t.outerBisectorAutoSplitThreshold?(p.splitOuter=!0,p.gapOuter=!0,a=Math.max(t.outerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a,p.leftOuter.x=p.prevNormal.x-p.sign*a*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*a*p.inbound.y,p.rightOuter.x=p.nextNormal.x+p.sign*a*p.outbound.x,p.rightOuter.y=
p.nextNormal.y+p.sign*a*p.outbound.y):t.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=p.bisector.y/p.cosine)}function f(){if(z)p.distance=0,z=p.isCap=p.isFirstVertex=p.isLastVertex=!1;else{if(0===B)if(p.isFirstVertex=0===w,C=e[w],0===w){if(B=0,p.closed){p.inbound.x=C.x-e[e.length-2].x;p.inbound.y=C.y-e[e.length-2].y;var a=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=a;p.inbound.y/=
a}}else p.inbound.x=C.x-A.x,p.inbound.y=C.y-A.y,B=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=B,p.inbound.y/=B;p.distance+B-v<=t.wrapDistance?(w<e.length-1?(p.outbound.x=e[w+1].x-C.x,p.outbound.y=e[w+1].y-C.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):p.closed?(p.outbound.x=e[1].x-C.x,p.outbound.y=e[1].y-C.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):(p.outbound.x=
p.inbound.x,p.outbound.y=p.inbound.y),0!==w||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++w,p.isLastVertex=w===e.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),p.distance+=B-v,v=B=0,z=p.distance+B-v===t.wrapDistance,p.currentVertex.x=C.x,p.currentVertex.y=C.y,A=C,C=null):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y,v+=t.wrapDistance-p.distance,p.distance=t.wrapDistance,z=!0,a=v/B,p.currentVertex.x=(1-a)*A.x+a*C.x,p.currentVertex.y=(1-a)*A.y+a*C.y)}}function d(){p.prevNormal.x=
-p.inbound.y;p.prevNormal.y=p.inbound.x;p.nextNormal.x=-p.outbound.y;p.nextNormal.y=p.outbound.x}function h(){d();p.bisector.x=p.prevNormal.x+p.nextNormal.x;p.bisector.y=p.prevNormal.y+p.nextNormal.y;var a=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);.001>a?(p.bisector.x=void 0,p.bisector.y=void 0,p.cosine=0,p.sign=void 0):(p.bisector.x/=a,p.bisector.y/=a,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*p.nextNormal.y,p.sign=0<=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x?
1:-1)}function c(a){g.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}function b(a){g.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=
p.exit2)}Object.defineProperty(a,"__esModule",{value:!0});l=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();
a.TessellationState=l;a.tessellate=function(a,m,k){t.trackDistance=null!=m.trackDistance?m.trackDistance:!1;t.wrapDistance=null!=m.wrapDistance?m.wrapDistance:65535;t.thin=null!=m.thin?m.thin:!1;t.initialDistance=null!=m.initialDistance?m.initialDistance:0;t.enableOuterBisectorSplit=null!=m.enableOuterBisectorSplit?m.enableOuterBisectorSplit:!1;t.outerBisectorAutoSplitThreshold=null!=m.outerBisectorAutoSplitThreshold?m.outerBisectorAutoSplitThreshold:0;t.enableInnerBisectorSplit=null!=m.enableOuterBisectorSplit?
m.enableOuterBisectorSplit:!1;t.innerBisectorAutoSplitThreshold=null!=m.innerBisectorAutoSplitThreshold?m.innerBisectorAutoSplitThreshold:0;e=a;g=k;v=B=w=0;z=!1;C=A=null;p.currentVertex.x=null;p.currentVertex.y=null;p.distance=t.initialDistance;a=e[0];m=e[e.length-1];p.canSplit=!1;p.closed=a.x===m.x&&a.y===m.y;if(!(2>e.length||2===e.length&&p.closed))if(t.thin)if(t.trackDistance)for(f(),d(),b(1);B-v>t.wrapDistance||w<e.length;)f(),d(),b(2),g.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2;
else for(;w<e.length;)0<w&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),w<e.length-1?(p.outbound.x=e[w+1].x-e[w].x,p.outbound.y=e[w+1].y-e[w].y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.distance+=a,p.outbound.x/=a,p.outbound.y/=a):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0===w&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=e[w].x,p.currentVertex.y=e[w].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,
p.nextNormal.y=p.outbound.x,0===w?(g.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(g.vertex(p),p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,g.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2),++w;else{if(t.enableOuterBisectorSplit||0<t.outerBisectorAutoSplitThreshold||t.enableInnerBisectorSplit||0<t.innerBisectorAutoSplitThreshold)for(p.canSplit=!0,f(),h(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=
!1,c(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;B-v>t.wrapDistance||w<e.length-1||w<e.length&&(!p.closed||t.trackDistance);)f(),h(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,c(2),g.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;else for(f(),h(),c(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;B-v>t.wrapDistance||w<e.length-1||w<e.length&&(!p.closed||t.trackDistance);)f(),h(),c(2),g.bridge(p),
p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!t.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,g.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}};a.splitVertex=m;var e,t={},g,w=void 0,B,v,z,A,C,p=new l;l=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=k.CapType.BUTT;this.joinType=k.JoinType.MITER;this.miterLimitCosine=n.getLimitCosine(2);this.roundLimitCosine=
Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.textured=!1}a.prototype.vertex=function(a){var b=this.joinType===k.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,c=a.isCap&&this.capType!==k.CapType.BUTT,g=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/
a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?(a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,
-a.nextNormal.y,0,1,a.distance)):a.canSplit?(m(),0<a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<
b?(g=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(g=g||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,
-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(g=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(g=g||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=
this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(g=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(g=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||g||c?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(g&&this.joinType!==
k.JoinType.ROUND)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&this.capType===k.CapType.ROUND||g&&this.joinType===k.JoinType.ROUND){var e=g=c=void 0,f=void 0,d=void 0,h=void 0;if(a.isCap){var l=Math.PI,d=Math.ceil(l/this.radsPerSlice),h=l/d;a.isFirstVertex?(c=a.prevNormal.x,g=a.prevNormal.y,e=a.entry0,f=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,g=-a.nextNormal.y,e=a.exit2,f=a.exit0)}else l=2*Math.acos(a.cosine),d=Math.ceil(l/this.radsPerSlice),h=l/d,c=0<a.sign?
-a.prevNormal.x:a.nextNormal.x,g=0<a.sign?-a.prevNormal.y:a.nextNormal.y,e=0<a.sign?a.entry2:a.exit0,f=0<a.sign?a.exit2:a.entry0;for(var l=Math.cos(h),h=Math.sin(h),p=h*c+l*g,c=l*c-h*g,g=p,n,p=void 0,t=0;t<d;++t)n=p,t<d-1&&(p=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,g,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,g,0,a.sign,a.distance)),this.writeTriangle(0===t?e:n,b,t===d-1?f:p),n=h*c+l*g,c=l*c-h*g,g=n}else c&&this.capType===
k.CapType.SQUARE&&(c=a.isFirstVertex?1:-1,e=g=void 0,this.textured?(g=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance),e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance)):(g=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance),e=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance)),0<c?(this.writeTriangle(b,a.entry2,e),this.writeTriangle(b,e,g),this.writeTriangle(b,g,a.entry0)):(this.writeTriangle(b,e,a.exit2),this.writeTriangle(b,g,e),this.writeTriangle(b,a.exit0,g)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?
a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();a.StandardTessellationCallbacks=l;l=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,
a.rightEntry2,a.leftExit2)};return a}();a.ThinTessellationCallbacks=l})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],function(l,a){function k(a,m){return Math.sqrt(a*a+m*m)}Object.defineProperty(a,"__esModule",{value:!0});a.sub=function(a,m,f){a[0]=m[0]-f[0];a[1]=m[1]-f[1];return a};a.len=k;a.normalize=function(a){var m=k(a[0],a[1]);a[0]/=m;a[1]/=m};a.dist=function(a,m){return k(a[0]-m[0],a[1]-m[1])};a.isFunction=function(a){return"function"===typeof a};
a.getLimitCosine=function(a){return 1/Math.max(a,1)}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["require","exports","./Conflict","./GeometryUtils","../webgl/Geometry"],function(l,a,k,n,m){Object.defineProperty(a,"__esModule",{value:!0});l=function(){return function(a,e,f,g,d){void 0===f&&(f=0);void 0===g&&(g=-1);void 0===d&&(d=c);this.x=a;this.y=e;this.angle=f;this.segment=g;this.minzoom=d}}();a.Anchor=l;var f=function(){return function(a,e,f,g,d,h,m){void 0===d&&(d=!1);void 0===
h&&(h=c);void 0===m&&(m=n.C_INFINITY);this.anchor=a;this.labelAngle=e;this.glyphAngle=f;this.page=g;this.upsideDown=d;this.minzoom=h;this.maxzoom=m}}(),d=function(){return function(a,c,f,g,d,h,m,k,l,n){this.tl=a;this.tr=c;this.bl=f;this.br=g;this.mosaicRect=d;this.labelAngle=h;this.anchor=m;this.minzoom=k;this.maxzoom=l;this.page=n}}();a.PlacedSymbol=d;var h=function(){return function(a,c){this.footprint=a;this.shapes=c}}();a.Placement=h;var c=.5;l=function(){function a(){this.mapAngle=0;this._conflictEngine=
new k.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};a.prototype.getIconPlacement=function(a,b,g,f,l,v,z){var e=g.width/g.pixelRatio,t=g.height/g.pixelRatio;l=v.offset[0]-e/2;var p=v.offset[1]-t/2,e=l+e,t=p+t,w=g.rect,B=g.sdf?17:2,y=l-B,D=p-B,I=y+w.width/g.pixelRatio,J=D+w.height/g.pixelRatio;g=new m.Point(y,D);B=new m.Point(I,J);J=new m.Point(y,J);D=new m.Point(I,D);I=v.rotate*n.C_DEG_TO_RAD;
y=1===v.rotationAlignment;0<=a.segment&&!y&&(I+=a.angle);if(0!==I){var L=Math.cos(I),G=Math.sin(I);g.rotate(L,G);B.rotate(L,G);J.rotate(L,G);D.rotate(L,G)}L=8*v.padding;G=new m.Point(a.x,a.y);a=new k.Footprint(this.mapAngle,L,y);a.addBox(G,new k.Box(l,p,e,t),f,I,b,c,n.C_INFINITY);b=new d(g,D,J,B,w,0,G,c,n.C_INFINITY,0);b=new h(a,[b]);f=c;v.allowOverlap||(f=this._conflictEngine.getMinZoom(b.footprint,f,z,y));a.minzoom=f;return b};a.prototype.getTextPlacement=function(a,b,g,l,B,v,z,A){for(var e=new m.Point(a.x,
a.y),p=z.rotate*n.C_DEG_TO_RAD,t=0===z.rotationAlignment,w=z.keepUpright,y=c,D=!t,I=D?0:a.angle,J=0<=a.segment&&t,L=new k.Footprint(this.mapAngle,8*z.padding,D),G=[],H=!J,S=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,F=S,Q=N,K=J?w:t&&w,R,T=0;T<l.length;T++){var P=l[T],U=P.glyphMosaicItem;if(U&&!U.rect.isEmpty){var ia=U.rect,ca=U.metrics,da=U.page;H&&(R&&R!==P.y&&(L.addBox(e,new k.Box(S,F,N,Q),B,p,b,c,n.C_INFINITY),S=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,F=S,Q=N),R=P.y);var aa=
[];if(J){if(U=(g.x+P.x+ca.left-4+.5*U.metrics.width)*B,y=this._placeGlyph(a,y,U,v,a.segment,1,da,aa),w&&(y=this._placeGlyph(a,y,U,v,a.segment,-1,da,aa)),2<=y)break}else aa.push(new f(e,I,I,da)),t&&w&&aa.push(new f(e,I+n.C_PI,I+n.C_PI,da,!0));for(var da=P.x+g.x+ca.left,P=P.y+g.y-ca.top,U=da+ca.width,ca=P+ca.height,ba=new m.Point(da-4,P-4),ga=new m.Point(ba.x+ia.width,ba.y+ia.height),V=new m.Point(ba.x,ga.y),ea=new m.Point(ga.x,ba.y),W=0;W<aa.length;W++){var Y=aa[W],ka=ba.clone(),ma=V.clone(),oa=ea.clone(),
fa=ga.clone(),la=P,ja=ca,ha=Y.glyphAngle+p;if(0!==ha){var M=Math.cos(ha),X=Math.sin(ha);ka.rotate(M,X);fa.rotate(M,X);ma.rotate(M,X);oa.rotate(M,X)}G.push(new d(ka,oa,ma,fa,ia,Y.labelAngle,Y.anchor,Y.minzoom,Y.maxzoom,Y.page));if(!K||this._legible(Y.labelAngle))H?(da<S&&(S=da),la<F&&(F=la),U>N&&(N=U),ja>Q&&(Q=ja)):2>Y.minzoom&&L.addBox(Y.anchor,new k.Box(da,la,U,ja),B,ha,b,Y.minzoom,Y.maxzoom)}}}if(2<=y)return null;H&&L.addBox(e,new k.Box(S,F,N,Q),B,p,b,c,n.C_INFINITY);a=new h(L,G);z.allowOverlap||
(y=this._conflictEngine.getMinZoom(a.footprint,y,A,D));L.minzoom=y;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=n.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,c,d,h,k,l,A){var g=0>k?n.positiveMod(a.angle+n.C_PI,n.C_2PI):a.angle,e=this._legible(g),t=0;0>c&&(k*=-1,c*=-1,t=n.C_PI);0<k&&++h;a=new m.Point(a.x,a.y);var w=d[h],v=n.C_INFINITY;if(d.length<=h)return v;for(;;){var z=w.x-a.x,B=w.y-a.y,J=Math.sqrt(z*z+
B*B),L=Math.max(c/J,b),z=n.positiveMod(Math.atan2(B/J,z/J)+t,n.C_2PI);A.push(new f(a,g,z,l,e,L,v));if(L<=b)return L;a=w.clone();do{h+=k;if(d.length<=h||0>h)return L;w=d[h]}while(a.isEqual(w));v=w.x-a.x;z=w.y-a.y;B=Math.sqrt(v*v+z*z);v*=J/B;z*=J/B;a.x-=v;a.y-=z;v=L}};return a}();a.PlacementEngine=l})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],function(l,a,k,n,m){Object.defineProperty(a,"__esModule",
{value:!0});l=function(){function a(a,b,e,f){this.left=a;this.top=b;this.right=e;this.bottom=f}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var c=this.left,f=this.right,g=this.top,d=this.bottom,h=c*a-g*b,m=c*b+g*a,k=f*a-g*b,g=f*b+g*a,l=c*a-d*b,c=c*b+d*a,n=f*a-d*b;a=f*b+d*a;this.left=Math.min(h,k,l,n);this.top=Math.min(m,g,c,a);this.right=Math.max(h,
k,l,n);this.bottom=Math.max(m,g,c,a)};a.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();a.Box=l;var f=function(){function a(a,b,f,d){this.anchor=a;this.corners=b;this.minzoom=f;this.maxzoom=d}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=f;l=function(){function a(a,
b,f){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=f;this.minzoom=d}a.prototype.addBox=function(a,b,e,d,g,h,k){var c=b.left*e-this.padding,l=b.top*e-this.padding,n=b.right*e+this.padding;b=b.bottom*e+this.padding;c=[new m.Point(c,l),new m.Point(n,l),new m.Point(n,b),new m.Point(c,b)];0!==this.mapAngle&&(l=Math.cos(this.mapAngle),n=Math.sin(this.mapAngle),a=a.clone(),a.rotate(l,n));this.isScreenAligned||(d+=this.mapAngle);if(0!==d){l=Math.cos(d);n=Math.sin(d);c[0].rotate(l,
n);c[1].rotate(l,n);c[2].rotate(l,n);c[3].rotate(l,n);d=0;for(l=1;4>l;l++)c[l].x<c[d].x?d=l:c[l].x===c[d].x&&c[l].y<c[d].y&&(d=l);if(d){n=[];for(l=0;4>l;l++)n.push(c[(l+d)%4]);c=n}}if(g)for(d=0,l=c;d<l.length;d++)l[d].move(g[0],g[1]);this.obstacles.push(new f(a,c,h,k))};return a}();a.Footprint=l;var d=.5;l=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(c){var b=this._grid,f=0;for(c=c.obstacles;f<c.length;f++)for(var d=
c[f],g=d.anchor,h=a._gridClamp(Math.min(d.left()+g.x,g.x)),m=a._gridClamp(Math.max(d.right()+g.x,g.x)),k=a._gridClamp(Math.min(d.top()+g.y,g.y)),g=a._gridClamp(Math.max(d.bottom()+g.y,g.y));k<=g;k++)for(var l=h;l<=m;l++){var n=b[16*k+l];n||(n=b[16*k+l]=[]);n.push(d)}};a.prototype.getMinZoom=function(c,b,f,d){if(0===c.obstacles.length)return n.C_INFINITY;f=this._grid;d=0;for(c=c.obstacles;d<c.length;d++)for(var g=c[d],e=g.anchor,h=a._gridClamp(Math.min(g.left()+e.x,e.x)),m=a._gridClamp(Math.max(g.right()+
e.x,e.x)),k=a._gridClamp(Math.min(g.top()+e.y,e.y)),e=a._gridClamp(Math.max(g.bottom()+e.y,e.y));k<=e;k++)for(var l=h;l<=m;l++){var t=f[16*k+l];if(t)for(var p=0;p<t.length;p++){var E=t[p];if(!(g.minzoom>=E.maxzoom||E.minzoom>=g.maxzoom)&&(b=a._calcPlacementZoom(g,E,b),2<=b))return n.C_INFINITY}}return 2>b?b:n.C_INFINITY};a._gridClamp=function(a){return k.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(c,b,f){var e=b.anchor.x-c.anchor.x;if(0===e&&(c.right()<b.left()||b.right()<c.left()))return f;var g=
b.anchor.y-c.anchor.y;if(0===g&&(c.bottom()<b.top()||b.bottom()<c.top()))return f;var d=n.C_INFINITY;if(0!==e){var h=(0<e?c.right()-b.left():c.left()-b.right())/e;h<d&&(d=h);e=0<e?a._calcExtZoomX(c,b,h):a._calcExtZoomX(b,c,h);e<d&&(d=e)}0!==g&&(e=(0<g?c.bottom()-b.top():c.top()-b.bottom())/g,e<d&&(d=e),g=0<g?a._calcExtZoomY(c,b,e):a._calcExtZoomY(b,c,e),g<d&&(d=g));if(d<c.minzoom||d<b.minzoom)return f;d=Math.min(d,c.maxzoom,b.maxzoom);d<f&&(d=f);return d};a._calcExtZoomX=function(a,b,f){var c,g,d;
if(a.anchor.y+a.corners[2].y/f<b.anchor.y+b.corners[0].y/f){c=a.corners[2].x-a.corners[3].x;d=a.corners[2].y-a.corners[3].y;var e=b.corners[1].x-b.corners[0].x;g=b.corners[1].y-b.corners[0].y;0<=c*g-d*e?a.anchor.y+a.corners[3].y/f<b.anchor.y+b.corners[0].y/f?(f=a.corners[3],c=b.corners[0],g=b.corners[1],d=1):(f=b.corners[0],c=a.corners[3],g=a.corners[2],d=-1):a.anchor.y+a.corners[2].y/f>b.anchor.y+b.corners[1].y/f?(f=a.corners[2],c=b.corners[0],g=b.corners[1],d=1):(f=b.corners[1],c=a.corners[3],g=
a.corners[2],d=-1)}else c=a.corners[2].x-a.corners[1].x,d=a.corners[2].y-a.corners[1].y,e=b.corners[3].x-b.corners[0].x,g=b.corners[3].y-b.corners[0].y,0>c*g-d*e?a.anchor.y+a.corners[1].y/f>b.anchor.y+b.corners[0].y/f?(f=a.corners[1],c=b.corners[0],g=b.corners[3],d=1):(f=b.corners[0],c=a.corners[1],g=a.corners[2],d=-1):a.anchor.y+a.corners[2].y/f<b.anchor.y+b.corners[3].y/f?(f=a.corners[2],c=b.corners[0],g=b.corners[3],d=1):(f=b.corners[3],c=a.corners[1],g=a.corners[2],d=-1);e=g.x-c.x;g=g.y-c.y;return d*
((f.y-c.y)*e-(f.x-c.x)*g)/((a.anchor.x-b.anchor.x)*g-(a.anchor.y-b.anchor.y)*e)};a._calcExtZoomY=function(a,b,f){var c,g,d;if(a.anchor.x+a.corners[3].x/f<b.anchor.x+b.corners[1].x/f){c=a.corners[3].x-a.corners[2].x;d=a.corners[3].y-a.corners[2].y;var e=b.corners[0].x-b.corners[1].x;g=b.corners[0].y-b.corners[1].y;0>c*g-d*e?a.anchor.x+a.corners[2].x/f<b.anchor.x+b.corners[1].x/f?(f=a.corners[2],c=b.corners[1],g=b.corners[0],d=1):(f=b.corners[1],c=a.corners[2],g=a.corners[3],d=-1):a.anchor.x+a.corners[3].x/
f>b.anchor.x+b.corners[0].x/f?(f=a.corners[3],c=b.corners[1],g=b.corners[0],d=1):(f=b.corners[0],c=a.corners[2],g=a.corners[3],d=-1)}else c=a.corners[3].x-a.corners[0].x,d=a.corners[3].y-a.corners[0].y,e=b.corners[2].x-b.corners[1].x,g=b.corners[2].y-b.corners[1].y,0<c*g-d*e?a.anchor.x+a.corners[0].x/f>b.anchor.x+b.corners[1].x/f?(f=a.corners[0],c=b.corners[1],g=b.corners[2],d=1):(f=b.corners[1],c=a.corners[0],g=a.corners[3],d=-1):a.anchor.x+a.corners[3].x/f<b.anchor.x+b.corners[2].x/f?(f=a.corners[3],
c=b.corners[1],g=b.corners[2],d=1):(f=b.corners[2],c=a.corners[0],g=a.corners[3],d=-1);e=g.x-c.x;g=g.y-c.y;return d*((f.y-c.y)*e-(f.x-c.x)*g)/((a.anchor.x-b.anchor.x)*g-(a.anchor.y-b.anchor.y)*e)};return a}();a.ConflictEngine=l})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojox/string/BidiEngine ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer ../webgl/Geometry ../webgl/TextShaping".split(" "),function(l,a,k,
n,m,f,d,h,c,b){function e(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(a){function g(b,c,f,g,d,e,h,m){c=a.call(this,b,c)||this;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._sdfMarkers=!1;if(b.hasDataDrivenIcon!==f.isDataDriven())throw Error("incompatible icon buffer");
if(b.hasDataDrivenText!==d.isDataDriven())throw Error("incompatible text buffer");c._iconVertexBuffer=f;c._iconIndexBuffer=g;c._textVertexBuffer=d;c._textIndexBuffer=e;c._placementEngine=h;c._workerTileHandler=m;return c}k(g,a);Object.defineProperty(g.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,
"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});g.prototype.copy=function(a,b,c,f,d){a=new g(this.layer,this.zoom,a,b,c,f,d,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=f.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;
a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};g.prototype.getResources=function(a,b,c){var f=this.layer,d=this.zoom,e=f.hasDataDrivenIcon,h=f.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var m=f.getLayoutProperty("icon-image"),k=f.getLayoutProperty("text-field"),l=f.getLayoutValue("text-font",d),n=f.getLayoutValue("text-transform",d),t=[],v=[1,1,1,1],w=1,B=1,H=[1,1,1,1],S=1,N=1,F=0,Q=this._features;F<Q.length;F++){var K=Q[F],R=K.getGeometry(a);if(R&&0!==
R.length){var T=void 0;m&&(T=f.getLayoutValue("icon-image",d,K),m.isDataDriven||(T=this._replaceKeys(T,K.values)),T&&b.add(T));var P=void 0,U=!1;if(k&&(P=f.getLayoutValue("text-field",d,K),k.isDataDriven||(P=this._replaceKeys(P,K.values)),P=P.replace(/\\n/g,"\n"))){switch(n){case 2:P=P.toLowerCase();break;case 1:P=P.toUpperCase()}g._bidiEngine.hasBidiChar(P)&&(U=void 0,U="rtl"===g._bidiEngine.checkContextual(P)?"IDNNN":"ICNNN",P=g._bidiEngine.bidiTransform(P,U,"VLYSN"),U=!0);var ia=P.length;if(0<
ia)for(var ca=0,da=l;ca<da.length;ca++){var aa=da[ca],ba=c[aa];ba||(ba=c[aa]=new Set);for(aa=0;aa<ia;aa++){var ga=P.charCodeAt(aa);ba.add(ga)}}}if(T||P)ia=f.getLayoutValue("icon-size",d,K),ca=f.getLayoutValue("text-size",d,K),f.hasDataDrivenIconColor&&(v=f.getPaintValue("icon-color",d,K)),f.hasDataDrivenIconOpacity&&(w=f.getPaintValue("icon-opacity",d,K)),f.hasDataDrivenIconSize&&(B=ia),f.hasDataDrivenTextColor&&(H=f.getPaintValue("text-color",d,K)),f.hasDataDrivenTextOpacity&&(S=f.getPaintValue("text-opacity",
d,K)),f.hasDataDrivenTextSize&&(N=ca),K={sprite:T,label:P,rtl:U,type:K.type,geometry:R,iconSize:ia,iconRotate:f.getLayoutValue("icon-rotate",d,K),ddIconValues:e?{color:v,opacity:w,size:B}:null,textSize:ca,textRotate:f.getLayoutValue("text-rotate",d,K),ddTextValues:h?{color:H,opacity:S,size:N}:null},t.push(K)}}this._symbolFeatures=t};g.prototype.processFeatures=function(a,c){a&&a.setExtent(this.layerExtent);var m=this.layer,k=this.zoom;c=this._isLinePlacement=1===m.getLayoutValue("symbol-placement",
k);a=this._avoidEdges=m.getLayoutValue("symbol-avoid-edges",k)&&!c;var l=8*m.getLayoutValue("symbol-spacing",k),n=m.getLayoutProperty("icon-image"),p=m.getLayoutProperty("text-field"),t=this._workerTileHandler,w,B;n&&(this._iconLayout=new h.IconLayout(m,k,c),w=t.getSpriteItems(),B=this._getTranslate(!0));var D,I,J;if(p){D=this._textLayout=new h.TextLayout(m,k,c);this._fontArray=D.fontArray;J=.5;switch(D.anchor){case 5:case 1:case 7:J=0;break;case 6:case 2:case 8:J=1}I=.5;switch(D.anchor){case 5:case 3:case 6:I=
0;break;case 7:case 4:case 8:I=1}m=.5;switch(D.justify){case 0:m=0;break;case 2:m=1}var k=24*D.letterSpacing,n=c?0:24*D.maxWidth,p=24*D.lineHeight,L=[24*D.offset[0],24*D.offset[1]];D=this._fontArray.map(function(a){return t.getGlyphItems(a)});I=new b.TextShaping(D,n,p,k,L,J,I,m);J=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=
m=[];k=this._textLayout;n=1;k&&k.size&&(n=k.size/24);p=k?k.maxAngle*f.C_DEG_TO_RAD:0;D=k?8*k.size:0;for(var L=0,G=this._symbolFeatures;L<G.length;L++){var H=G[L],S=void 0;H.sprite&&(S=w[H.sprite])&&S.sdf&&(this._sdfMarkers=!0);var N=void 0,F=H.label,Q=0;if(F&&(N=I.getShaping(F,H.rtl))&&0<N.length){for(var Q=1E30,F=-1E30,K=0,R=N;K<R.length;K++)var T=R[K],Q=Math.min(Q,T.x),F=Math.max(F,T.x);Q=(F-Q+48)*n*8}F=0;for(K=H.geometry;F<K.length;F++){var R=K[F],P=void 0;c?(N&&0<N.length&&k&&k.size&&g._smoothVertices(R,
8*k.size*(2+Math.min(2,4*Math.abs(k.offset[1])))),P=g._findAnchors(R,l,Q)):P=3===H.type?g._findCentroid(R):[new d.Anchor(R[0].x,R[0].y)];for(T=0;T<P.length;T++){var U=P[T];0>U.x||4096<U.x||0>U.y||4096<U.y||c&&0<Q&&0===k.rotationAlignment&&!g._honorsTextMaxAngle(R,U,Q,p,D)||m.push({shaping:N,line:R,iconMosaicItem:S,anchor:U,iconSize:H.iconSize,iconRotate:H.iconRotate,ddIconValues:H.ddIconValues,textSize:H.textSize,textRotate:H.textRotate,ddTextValues:H.ddTextValues})}}}m.sort(e);for(w=0;w<m.length;w++)this._processFeature(m[w],
B,J,a);this._addPlacedGlyphs()};g.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,c;b.getLayoutProperty("icon-image")&&(c=this._getTranslate(!0));var f;b.getLayoutProperty("text-field")&&(f=this._getTranslate(!1));for(var b=0,g=this._symbolInstances;b<g.length;b++)this._processFeature(g[b],
c,f,a);this._addPlacedGlyphs()};g.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};g.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:
""})};g.prototype._processFeature=function(a,b,g,d){var e=a.line,h=a.iconMosaicItem,m=a.shaping,k=a.anchor,l=this._iconLayout,n=l&&!!h,t=!0,v=1;n&&(l.size=a.iconSize,l.rotate=a.iconRotate,v=8*l.size,t=l.optional||!h);var w=this._textLayout,z=w&&m&&0<m.length,B;B=1;var H=!0;z&&(w.size=a.textSize,w.rotate=a.textRotate,B=w.size/24,B*=8,H=w.optional||!m||0===m.length);var S=new c.Point(0,-17),N;n&&(N=this._placementEngine.getIconPlacement(k,b,h,v,e,l,d),k.minzoom>N.footprint.minzoom&&(N.footprint.minzoom=
k.minzoom),N.footprint.minzoom===f.C_INFINITY&&(N=null));if(N||t){var F;z&&(F=this._placementEngine.getTextPlacement(k,g,S,m,B,e,w,d))&&(k.minzoom>F.footprint.minzoom&&(F.footprint.minzoom=k.minzoom),F.footprint.minzoom===f.C_INFINITY&&(F=null));if(F||H)N&&F||(H||t?H||F?t||N||(F=null):N=null:F=N=null),N&&F&&!H&&!t&&(b=Math.max(N.footprint.minzoom,F.footprint.minzoom),N.footprint.minzoom=b,F.footprint.minzoom=b),F&&(w.ignorePlacement||this._placementEngine.add(F),this._storePlacedGlyphs(F.shapes,F.footprint.minzoom,
this.zoom,a.ddTextValues)),N&&(l.ignorePlacement||this._placementEngine.add(N),this._addPlacedIcons(N.shapes,N.footprint.minzoom,this.zoom,h.page,a.ddIconValues))}};g.prototype._addPlacedIcons=function(a,b,c,g,d){b=Math.max(c+f.log2(b),0);for(var e=this._iconVertexBuffer,h=this._iconIndexBuffer,m=0;m<a.length;m++){var k=a[m],l=Math.max(c+f.log2(k.minzoom),b),n=Math.min(c+f.log2(k.maxzoom),25);if(!(n<=l)){var t=k.tl,v=k.tr,w=k.bl,z=k.br,B=k.mosaicRect,A=k.labelAngle,k=k.anchor,N=e.index,F=B.x,Q=B.y,
K=F+B.width,B=Q+B.height;e.add(k.x,k.y,t.x,t.y,F,Q,A,l,n,b,d);e.add(k.x,k.y,v.x,v.y,K,Q,A,l,n,b,d);e.add(k.x,k.y,w.x,w.y,F,B,A,l,n,b,d);e.add(k.x,k.y,z.x,z.y,K,B,A,l,n,b,d);h.add(N+0,N+1,N+2);h.add(N+1,N+2,N+3);this._markerMap.has(g)?this._markerMap.get(g)[1]+=6:this._markerMap.set(g,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};g.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(f,
g){for(var d=0;d<f.length;d++){var e=f[d],h=b.index;b.add(e.glyphAnchor[0],e.glyphAnchor[1],e.tl[0],e.tl[1],e.xmin,e.ymin,e.labelAngle,e.minLod,e.maxLod,e.placementLod,e.ddValues);b.add(e.glyphAnchor[0],e.glyphAnchor[1],e.tr[0],e.tr[1],e.xmax,e.ymin,e.labelAngle,e.minLod,e.maxLod,e.placementLod,e.ddValues);b.add(e.glyphAnchor[0],e.glyphAnchor[1],e.bl[0],e.bl[1],e.xmin,e.ymax,e.labelAngle,e.minLod,e.maxLod,e.placementLod,e.ddValues);b.add(e.glyphAnchor[0],e.glyphAnchor[1],e.br[0],e.br[1],e.xmax,e.ymax,
e.labelAngle,e.minLod,e.maxLod,e.placementLod,e.ddValues);c.add(h+0,h+1,h+2);c.add(h+1,h+2,h+3);a._glyphMap.has(g)?a._glyphMap.get(g)[1]+=6:a._glyphMap.set(g,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};g.prototype._storePlacedGlyphs=function(a,b,c,g){b=Math.max(c+f.log2(b),0);for(var d=0;d<a.length;d++){var e=a[d],h=Math.max(c+f.log2(e.minzoom),b),m=Math.min(c+f.log2(e.maxzoom),25);if(!(m<=h)){var k=e.tl,l=e.tr,n=e.bl,t=e.br,v=e.labelAngle,
w=e.anchor,z=e.mosaicRect;this._glyphBufferDataStorage.has(e.page)||this._glyphBufferDataStorage.set(e.page,[]);this._glyphBufferDataStorage.get(e.page).push({glyphAnchor:[w.x,w.y],tl:[k.x,k.y],tr:[l.x,l.y],bl:[n.x,n.y],br:[t.x,t.y],xmin:z.x,ymin:z.y,xmax:z.x+z.width,ymax:z.y+z.height,labelAngle:v,minLod:h,maxLod:m,placementLod:b,ddValues:g})}}};g._findAnchors=function(a,b,g){b+=g;for(var e=0,h=a.length-1,m=0;m<h;m++)e+=c.Point.distance(a[m],a[m+1]);m=.5*(g||b);if(e<=m)return[];g=m/e;b=e/Math.max(Math.round(e/
b),1);for(var e=0,h=-b/2,k=[],l=a.length-1,m=0;m<l;m++){for(var n=a[m],t=a[m+1],v=t.x-n.x,w=t.y-n.y,B=Math.sqrt(v*v+w*w),L=void 0;h+b<e+B;){var h=h+b,G=(h-e)/B,H=f.interpolate(n.x,t.x,G),G=f.interpolate(n.y,t.y,G);void 0===L&&(L=Math.atan2(w,v));k.push(new d.Anchor(H,G,L,m,g))}e+=B}return k};g._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};g._honorsTextMaxAngle=function(a,b,f,g,e){var d=0;f/=2;for(var h=new c.Point(b.x,
b.y),m=b.segment+1;d>-f;){--m;if(0>m)return!1;d-=c.Point.distance(a[m],h);h=a[m]}d+=c.Point.distance(a[m],a[m+1]);b=[];for(var h=0,k=a.length;d<f;){var l=a[m],n=void 0;do{++m;if(m===k)return!1;n=a[m]}while(n.isEqual(l));var t=m,v=void 0;do{++t;if(t===k)return!1;v=a[t]}while(v.isEqual(n));l=this._deviation(l,n,v);b.push({deviation:l,distToAnchor:d});for(h+=l;d-b[0].distToAnchor>e;)h-=b.shift().deviation;if(Math.abs(h)>g)return!1;d+=c.Point.distance(n,v)}return!0};g._smoothVertices=function(a,b){if(!(0>=
b)){var f=a.length;if(!(3>f)){var g=[],d=0;g.push(0);for(var e=1;e<f;e++)d+=c.Point.distance(a[e],a[e-1]),g.push(d);b=Math.min(b,.2*d);d=[];d.push(a[0].x);d.push(a[0].y);var h=a[f-1].x,m=a[f-1].y,e=c.Point.sub(a[0],a[1]);e.normalize();a[0].x+=b*e.x;a[0].y+=b*e.y;e.assignSub(a[f-1],a[f-2]);e.normalize();a[f-1].x+=b*e.x;a[f-1].y+=b*e.y;for(e=1;e<f;e++)g[e]+=b;g[f-1]+=b;for(var k=.5*b,e=1;e<f-1;e++){for(var l=0,n=0,t=0,w=e-1;0<=w&&!(g[w+1]<g[e]-k);w--){var B=k+g[w+1]-g[e],G=g[w+1]-g[w],H=g[e]-g[w]<k?
1:B/G;if(1E-6>Math.abs(H))break;var S=H*H,N=H*B-.5*S*G,F=H*G/b,Q=a[w+1],K=a[w].x-Q.x,R=a[w].y-Q.y,l=l+F/N*(Q.x*H*B+.5*S*(B*K-G*Q.x)-S*H*G*K/3),n=n+F/N*(Q.y*H*B+.5*S*(B*R-G*Q.y)-S*H*G*R/3),t=t+F}for(w=e+1;w<f&&!(g[w-1]>g[e]+k);w++){B=k-g[w-1]+g[e];G=g[w]-g[w-1];H=g[w]-g[e]<k?1:B/G;if(1E-6>Math.abs(H))break;S=H*H;N=H*B-.5*S*G;F=H*G/b;Q=a[w-1];K=a[w].x-Q.x;R=a[w].y-Q.y;l+=F/N*(Q.x*H*B+.5*S*(B*K-G*Q.x)-S*H*G*K/3);n+=F/N*(Q.y*H*B+.5*S*(B*R-G*Q.y)-S*H*G*R/3);t+=F}d.push(l/t);d.push(n/t)}d.push(h);d.push(m);
for(w=e=0;e<f;e++)a[e].x=d[w++],a[e].y=d[w++]}}};g._findCentroid=function(a){var b=a.length-1,c=0,f=0,g=0,e=a[0].x,h=a[0].y;4096<e&&(e=4096);0>e&&(e=0);4096<h&&(h=4096);0>h&&(h=0);for(var m=1;m<b;m++){var k=a[m].x,l=a[m].y,n=a[m+1].x,t=a[m+1].y;4096<k&&(k=4096);0>k&&(k=0);4096<l&&(l=4096);0>l&&(l=0);4096<n&&(n=4096);0>n&&(n=0);4096<t&&(t=4096);0>t&&(t=0);var w=(k-e)*(t-h)-(n-e)*(l-h),c=c+w*(e+k+n),f=f+w*(h+l+t),g=g+w}c/=3*g;f/=3*g;return isNaN(c)||isNaN(f)?[]:[new d.Anchor(c,f)]};g._bidiEngine=new n;
return g}(m)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(l,a,k){function n(a,b,c,g,e){var d=a;void 0===b&&(b=e.defInFormat);void 0===c&&(c=e.defOutFormat);void 0===g&&(g=e.defSwap);if(b!==c){var k,l=b.substring(0,1);k=b.substring(1,4);var p=c.substring(0,1),q=c.substring(1,4);"C"===k.charAt(0)&&(k=m(d),k="ltr"===k||"rtl"===k?k.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=l+k);"C"===q.charAt(0)&&(k=m(d),"rtl"===k?q="RTL":"ltr"===
k?(d=d.split(""),d.reverse(),k=m(d.join("")),q=k.toUpperCase()):q="L"===c.charAt(2)?"LTR":"RTL",c=p+q)}if(b===c)return a;p=b.substring(0,1);d=b.substring(1,4);l=c.substring(0,1);q=c.substring(1,4);e.inFormat=b;e.outFormat=c;e.swap=g;if("L"===p&&"VLTR"===c){if("LTR"===d)return e.dir=D,f(a,e);if("RTL"===d)return e.dir=I,f(a,e)}if("V"===p&&"V"===l)return e.dir="RTL"===d?I:D,h(a,e);if("L"===p&&"VRTL"===c)return e.dir="LTR"===d?D:I,a=f(a,e),h(a);if("VLTR"===b&&"LLTR"===c)return e.dir=D,f(a,e);if("V"===
p&&"L"===l&&d!==q)return a=h(a),"RTL"===d?n(a,"LLTR","VLTR",g,e):n(a,"LRTL","VRTL",g,e);if("VRTL"===b&&"LRTL"===c)return n(a,"LRTL","VRTL",g,e);if("L"===p&&"L"===l)return b=e.swap,e.swap=b.substr(0,1)+"N","RTL"===d?(e.dir=I,a=f(a,e),e.swap="N"+b.substr(1,2),e.dir=D,a=f(a,e)):(e.dir=D,a=f(a,e),e.swap="N"+b.substr(1,2),a=n(a,"VLTR","LRTL",e.swap,e)),a}function m(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function f(a,b){a=
a.split("");var c=[];d(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var f=0;f<a.length;f++)if(1===c[f]){var g=f,h;b:{h=a[f];for(var m=void 0,k=0,l=G.length-1;k<=l;)if(m=Math.floor((k+l)/2),h<G[m][0])l=m-1;else if(h>G[m][0])k=m+1;else{h=G[m][1];break b}}a[g]=h}e(2,a,c,b);e(1,a,c,b);p=c;return a.join("")}function d(a,b,c){var f=a.length,e=c.dir?aa:da,g=null,d=null,h=null,g=0,d=d=null,m=-1,k=d=null,l=[],n=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=
!1;for(d=0;d<f;d++){var k=d,h=a[d].charCodeAt(0),p=pa[h>>8];l[k]=p<ha?p:ra[p-ha][h&255]}for(k=0;k<f;k++){n[k]=d=t(a,l,n,k,c);g=e[g][d];d=g&240;g&=15;b[k]=h=e[g][u];if(0<d){if(16===d)for(d=m;d<k;d++)b[d]=1;m=-1}if(d=e[g][y])-1===m&&(m=k);else if(-1<m){for(d=m;d<k;d++)b[d]=h;m=-1}l[k]===Y&&(b[k]=0);c.hiLevel|=h}if(c.hasUbatS)for(a=0;a<f;a++)if(l[a]===ka)for(b[a]=c.dir,e=a-1;0<=e;e--)if(l[e]===oa)b[e]=c.dir;else break}function h(a,b){a=a.split("");if(b){var c=[];d(a,c,b);p=c}a.reverse();A.reverse();
return a.join("")}function c(a){for(var b=0;b<ia.length;b++)if(a>=ia[b]&&a<=ca[b])return!0;return!1}function b(a,b,e,f){for(;b*e<f&&w(a[b]);)b+=e;return b*e<f&&c(a[b])?!0:!1}function e(a,b,c,e){if(!(e.hiLevel<a))if(1!==a||e.dir!==I||e.hasUbatB){e=b.length;for(var f=0,g,d,h;f<e;){if(c[f]>=a){for(g=f+1;g<e&&c[g]>=a;)g++;for(d=g-1;f<d;f++,d--)h=b[f],b[f]=b[d],b[d]=h,h=A[f],A[f]=A[d],A[d]=h;f=g}f++}}else b.reverse(),A.reverse()}function t(a,b,c,f,e){return{UBAT_L:function(){e.lastArabic=!1;return ba},
UBAT_R:function(){e.lastArabic=!1;return ga},UBAT_ON:function(){return W},UBAT_AN:function(){return ea},UBAT_EN:function(){return e.lastArabic?ea:V},UBAT_AL:function(){e.lastArabic=!0;e.hasUbatAl=!0;return ga},UBAT_WS:function(){return W},UBAT_CS:function(){var a,g;if(1>f||f+1>=b.length||(a=c[f-1])!==V&&a!==ea||(g=b[f+1])!==V&&g!==ea)return W;e.lastArabic&&(g=ea);return g===a?g:W},UBAT_ES:function(){return(0<f?c[f-1]:Y)===V&&f+1<b.length&&b[f+1]===V?V:W},UBAT_ET:function(){if(0<f&&c[f-1]===V)return V;
if(e.lastArabic)return W;for(var a=f+1,g=b.length;a<g&&b[a]===fa;)a++;return a<g&&b[a]===V?V:W},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var g=b.length,d=f+1;d<g&&b[d]===la;)d++;if(d<g&&(g=a[f],d=b[d],(1425<=g&&2303>=g||64286===g)&&(d===ga||d===ma)))return ga}return 1>f||b[f-1]===Y?W:c[f-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return W},UBAT_LRE:function(){e.lastArabic=!1;return W},UBAT_RLE:function(){e.lastArabic=!1;return W},UBAT_LRO:function(){e.lastArabic=
!1;return W},UBAT_RLO:function(){e.lastArabic=!1;return W},UBAT_PDF:function(){e.lastArabic=!1;return W},UBAT_BN:function(){return W}}[ja[b[f]]]()}function g(a,b){for(var c=0;c<F.length;c++)if(a===F[c])return b[c];return a}function w(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function B(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function v(a,b){for(var c=0;c<H.length;c++)if(a===H[c])return b[c];return a}function z(a,b,c,f){for(var e=0;e<a.length;e++)if(a[e]>
b||!c&&a[e]===b)a[e]+=f}l.getObject("string",!0,dojox);l=a("dojox.string.BidiEngine",k,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],levels:[],bidiTransform:function(a,e,f){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var d=this.sourceToTarget,h=this.targetToSource,m=a.length;A=[];p=[];for(var k=0;k<m;k++)d[k]=k,h[k]=k,A[k]=k;if(!this.checkParameters(e,f))return a;e=this.inputFormat;f=this.outputFormat;var d=a,d=E,k=B(e.charAt(1)),h=B(f.charAt(1)),l=
"I"===e.charAt(0)?"L":e.charAt(0),m="I"===f.charAt(0)?"L":f.charAt(0),k=l+k,h=m+h,m=e.charAt(2)+f.charAt(2);d.defInFormat=k;d.defOutFormat=h;d.defSwap=m;a=n(a,k,h,m,d);d=!1;if("R"===f.charAt(1))d=!0;else if("C"===f.charAt(1)||"D"===f.charAt(1))d=this.checkContextual(a);h=this.sourceToTarget=A;m=Array(h.length);for(k=0;k<h.length;k++)m[h[k]]=k;C=this.targetToSource=m;if(e.charAt(3)===f.charAt(3))d=a;else if("S"===f.charAt(3))if(e=d,f=!0,0===a.length)d=void 0;else{void 0===e&&(e=!0);void 0===f&&(f=
!0);a=String(a);a=a.split("");var q=0,h=1,d=a.length;e||(q=a.length-1,h=-1,d=1);for(var m=d,k=f,r=0,d=[],l=0;q*h<m;q+=h)if(c(a[q])||w(a[q])){var t;if(t="\u0644"===a[q])b:{for(var u=a,x=q+h,G=h,y=m;x*G<y&&w(u[x]);)x+=G;t=" ";if(x*G<y)for(t=u[x],u=0;u<H.length;u++)if(H[u]===t){t=!0;break b}t=!1}if(t){a[q]=0===r?v(a[q+h],S):v(a[q+h],N);q+=h;r=a;t=q;u=h;for(x=m;t*u<x&&w(r[t]);)t+=u;t*u<x&&(r[t]=" ");k&&(d[l]=q,l++);r=0}else{t=a[q];if(1===r){u=q;if(b(a,q+h,h,m))b:for(x=a[q],G=0;G<F.length;G++){if(x===
F[G]){x=R[G];break b}}else x=g(a[q],K);a[u]=x}else!0===b(a,q+h,h,m)?a[q]=g(a[q],T):a[q]=g(a[q],Q);w(t)||(r=1);b:{for(u=0;u<P.length;u++)if(P[u]===t){t=!0;break b}t=!1}!0===t&&(r=0)}}else r=0;h="";for(m=0;m<a.length;m++){if(k=f){b:{for(k=0;k<d.length;k++)if(d[k]===m)break b;k=-1}k=-1<k}k?(z(C,m,!e,-1),A.splice(m,1)):h+=a[m]}d=h}else if(e=a,f=d,a=!0,0===e.length)d=void 0;else for(void 0===a&&(a=!0),void 0===f&&(f=!0),e=String(e),d="",h=[],h=e.split(""),m=0;m<e.length;m++)k=!1,"\ufe70"<=h[m]&&"\ufeff">
h[m]?(l=e.charCodeAt(m),"\ufef5"<=h[m]&&"\ufefc">=h[m]?(f?(0<m&&a&&" "===h[m-1]?d=d.substring(0,d.length-1)+"\u0644":(d+="\u0644",k=!0),d+=H[(l-65269)/2]):(d+=H[(l-65269)/2],d+="\u0644",m+1<e.length&&a&&" "===h[m+1]?m++:k=!0),k&&(z(C,m,!0,1),A.splice(m,0,A[m]))):d+=U[l-65136]):d+=h[m];this.sourceToTarget=A;this.targetToSource=C;this.levels=p;return d},_inputFormatSetter:function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");
this.outputFormat=a},checkParameters:function(a,b){a?this.set("inputFormat",a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=m(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(ta){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return L.test(a)}});var A=[],C=[],p=[],E={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,
hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},u=5,y=6,D=0,I=1,J=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,L=/[\u0591-\u06ff\ufb1d-\ufefc]/,G=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],
["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],H=["\u0622","\u0623","\u0625","\u0627"],S=["\ufef5","\ufef7","\ufef9","\ufefb"],N=["\ufef6","\ufef8","\ufefa","\ufefc"],F="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),
Q="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),K="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),
R="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),T="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),
P="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),U="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
ia=["\u0621","\u0641"],ca=["\u063a","\u064a"],da=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],aa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ba=0,ga=1,V=2,ea=3,W=4,Y=5,ka=6,ma=7,oa=8,fa=11,la=12,ja="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ha=100;a=ba;k=ga;var M=V,X=ea,q=W,na=Y,qa=ka,r=ma,Z=oa,O=
fa,x=la,pa=[ha+0,a,a,a,a,ha+1,ha+2,ha+3,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ha+4,q,q,q,a,q,a,q,a,q,q,q,a,a,q,q,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,a,a,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,a,a,q,q,a,a,q,q,a,a,q,q,q,q,q,q,q,q,q,q,q,q,
q,q,q,q,q,q,q,q,q,q,q,a,a,a,ha+5,r,r,ha+6,ha+7],ra=[[18,18,18,18,18,18,18,18,18,qa,na,qa,Z,na,18,18,18,18,18,18,18,18,18,18,18,18,18,18,na,na,na,qa,Z,q,q,O,O,O,q,q,q,q,q,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,18,18,18,18,18,18,na,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,q,O,O,O,O,q,q,q,q,a,q,q,18,q,q,O,O,M,M,q,a,q,q,q,M,a,q,q,q,q,
q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,a,a,a,a,a,a,a,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,a,q,q,q,q,q,q,q,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,
x,x,x,x,x,k,x,k,x,x,k,x,x,k,x,q,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,q,q,q,q,q,k,k,k,k,k,q,q,q,q,q,q,q,q,q,q,q],[X,X,X,X,q,q,q,q,r,O,O,r,9,r,q,q,x,x,x,x,x,x,x,x,x,x,x,r,q,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,X,X,X,X,X,X,X,X,X,X,O,X,X,r,r,r,x,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,X,q,x,x,x,x,x,x,r,r,x,x,q,x,x,x,x,r,r,M,M,M,M,M,M,M,M,M,M,r,r,r,r,r,r],[r,r,r,r,r,r,r,r,r,r,r,r,r,r,q,r,r,x,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,
x,x,x,x,r,q,q,q,q,q,q,q,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,x,x,x,x,x,x,x,x,x,k,k,q,q,q,q,k,q,q,q,q,q],[Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,18,18,18,a,k,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,Z,na,13,14,15,16,17,9,O,O,O,O,O,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,9,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,Z,18,18,18,18,18,q,q,q,q,q,18,18,18,18,18,18,M,a,q,q,M,M,M,M,M,M,10,10,q,q,q,a,M,M,M,M,M,M,M,M,M,M,10,10,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,
a,a,q,q,q,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q],[a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,q,a,a,a,a,a,q,q,q,q,q,k,x,k,k,k,k,k,k,k,k,k,k,10,k,k,k,k,k,k,k,k,k,k,k,k,k,q,k,k,k,k,k,q,k,q,k,k,q,k,k,q,k,k,k,k,k,k,k,k,k,k,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,x,x,x,x,x,x,x,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,9,q,9,q,q,9,q,q,q,q,q,q,q,q,q,O,q,q,10,10,q,q,q,q,q,O,O,q,q,q,q,q,r,r,r,r,r,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,q,q,18],[q,q,q,O,O,O,q,q,q,q,q,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,a,a,a,a,a,a,q,q,a,a,a,a,a,a,q,q,a,a,a,a,a,a,q,q,a,a,a,q,q,q,O,O,q,q,q,O,O,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q]];return l})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(l,a,k){function n(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function m(a,b){for(var c=[],e=[{cls:0,refs:[]}],f={},d=1,g=a.length,h=0,m,k,l,p,t;h<g;++h){(m=
a[h])?"[object Function]"!=u.call(m)&&n("mixin #"+h+" is not a callable constructor.",b):n("mixin #"+h+" is unknown. Did you use dojo.require to pull it in?",b);k=m._meta?m._meta.bases:[m];l=0;for(m=k.length-1;0<=m;--m)p=k[m].prototype,p.hasOwnProperty("declaredClass")||(p.declaredClass="uniqName_"+D++),p=p.declaredClass,f.hasOwnProperty(p)||(f[p]={count:0,refs:[],cls:k[m]},++d),p=f[p],l&&l!==p&&(p.refs.push(l),++l.count),l=p;++l.count;e[0].refs.push(l)}for(;e.length;){l=e.pop();c.push(l.cls);for(--d;t=
l.refs,1==t.length;){l=t[0];if(!l||--l.count){l=0;break}c.push(l.cls);--d}if(l)for(h=0,g=t.length;h<g;++h)l=t[h],--l.count||e.push(l)}d&&n("can't build consistent linearization",b);m=a[0];c[0]=m?m._meta&&m===c[c.length-m._meta.bases.length]?m._meta.bases.length:1:0;return c}function f(a,b,c,e){var f,d,g,h,m,k,l=this._inherited=this._inherited||{};"string"===typeof a&&(f=a,a=b,b=c,c=e);if("function"===typeof a)g=a,a=b,b=c;else try{g=a.callee}catch(P){if(P instanceof TypeError)n("strict mode inherited() requires the caller function to be passed before arguments",
this.declaredClass);else throw P;}(f=f||g.nom)||n("can't deduce a name to call inherited()",this.declaredClass);c=e=0;h=this.constructor._meta;e=h.bases;k=l.p;if("constructor"!=f){if(l.c!==g&&(k=0,m=e[0],h=m._meta,h.hidden[f]!==g)){(d=h.chains)&&"string"==typeof d[f]&&n("calling chained method with inherited: "+f,this.declaredClass);do if(h=m._meta,d=m.prototype,h&&(d[f]===g&&d.hasOwnProperty(f)||h.hidden[f]===g))break;while(m=e[++k]);k=m?k:-1}if(m=e[++k])if(d=m.prototype,m._meta&&d.hasOwnProperty(f))c=
d[f];else{g=E[f];do if(d=m.prototype,(c=d[f])&&(m._meta?d.hasOwnProperty(f):c!==g))break;while(m=e[++k])}c=m&&c||E[f]}else{if(l.c!==g&&(k=0,(h=e[0]._meta)&&h.ctor!==g)){for((d=h.chains)&&"manual"===d.constructor||n("calling chained constructor with inherited",this.declaredClass);(m=e[++k])&&(!(h=m._meta)||h.ctor!==g););k=m?k:-1}for(;(m=e[++k])&&!(c=(h=m._meta)?h.ctor:m););c=m&&c}l.c=c;l.p=k;if(c)return!0===b?c:c.apply(this,b||a)}function d(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,
b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function h(a,b,c,f){var e=this.getInherited(a,b,c);if(e)return e.apply(this,f||c||b||a)}function c(a){for(var b=this.constructor._meta.bases,c=0,f=b.length;c<f;++c)if(b[c]===a)return!0;return this instanceof a}function b(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function e(a){C.safeMixin(this.prototype,a);return this}function t(a,b){a instanceof Array||"function"===typeof a||
(b=a,a=void 0);b=b||{};a=a||[];return C([this].concat(a),b)}function g(a,b){return function(){var c=arguments,f=c,e=c[0],d,g;g=a.length;var h;if(!(this instanceof c.callee))return A(c);if(b&&(e&&e.preamble||this.preamble))for(h=Array(a.length),h[0]=c,d=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[d].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,c)||c);if(++d==g)break;h[d]=c}for(d=g-1;0<=d;--d)e=a[d],(e=(g=e._meta)?g.ctor:e)&&e.apply(this,h?h[d]:c);(e=this.postscript)&&
e.apply(this,f)}}function w(a,b){return function(){var c=arguments,e=c,f=c[0];if(!(this instanceof c.callee))return A(c);b&&(f&&(f=f.preamble)&&(e=f.apply(this,e)||e),(f=this.preamble)&&f.apply(this,e));a&&a.apply(this,c);(f=this.postscript)&&f.apply(this,c)}}function B(a){return function(){var b=arguments,c=0,e,f;if(!(this instanceof b.callee))return A(b);for(;e=a[c];++c)if(e=(f=e._meta)?f.ctor:e){e.apply(this,b);break}(e=this.postscript)&&e.apply(this,b)}}function v(a,b,c){return function(){var e,
f,d=0,g=1;c&&(d=b.length-1,g=-1);for(;e=b[d];d+=g)f=e._meta,(e=(f?f.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function z(a){y.prototype=a.prototype;a=new y;y.prototype=null;return a}function A(a){var b=a.callee,c=z(b);b.apply(c,a);return c}function C(h,l,A){"string"!=typeof h&&(A=l,l=h,h="");A=A||{};var y,D,G,F,J,K,L,T=1,P=l;"[object Array]"==u.call(l)?(K=m(l,h),G=K[0],T=K.length-G,l=K[T]):(K=[0],l?"[object Function]"==u.call(l)?(G=l._meta,K=K.concat(G?G.bases:l)):n("base class is not a callable constructor.",
h):null!==l&&n("unknown base class. Did you use dojo.require to pull it in?",h));if(l)for(D=T-1;;--D){y=z(l);if(!D)break;G=K[D];(G._meta?b:p)(y,G.prototype);F=a("csp-restrictions")?function(){}:new Function;F.superclass=l;F.prototype=y;l=y.constructor=F}else y={};C.safeMixin(y,A);G=A.constructor;G!==E.constructor&&(G.nom="constructor",y.constructor=G);for(D=T-1;D;--D)(G=K[D]._meta)&&G.chains&&(L=p(L||{},G.chains));y["-chains-"]&&(L=p(L||{},y["-chains-"]));l&&l.prototype&&l.prototype["-chains-"]&&
(L=p(L||{},l.prototype["-chains-"]));G=!L||!L.hasOwnProperty("constructor");K[0]=F=L&&"manual"===L.constructor?B(K):1==K.length?w(A.constructor,G):g(K,G);F._meta={bases:K,hidden:A,chains:L,parents:P,ctor:A.constructor};F.superclass=l&&l.prototype;F.extend=e;F.createSubclass=t;F.prototype=y;y.constructor=F;y.getInherited=d;y.isInstanceOf=c;y.inherited=I;y.__inherited=f;h&&(y.declaredClass=h,k.setObject(h,F));if(L)for(J in L)y[J]&&"string"==typeof L[J]&&"constructor"!=J&&(G=y[J]=v(J,K,"after"===L[J]),
G.nom=J);return F}var p=k.mixin,E=Object.prototype,u=E.toString,y,D=0;y=a("csp-restrictions")?function(){}:new Function;var I=l.config.isDebug?h:f;l.safeMixin=C.safeMixin=function(a,b){var c,e;for(c in b)e=b[c],e===E[c]&&c in E||"constructor"==c||("[object Function]"==u.call(e)&&(e.nom=c),a[c]=e);return a};return l.declare=C})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,a,k,n){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var f=
this._attrPairNames;return f[a]?f[a]:f[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,f){return"function"===typeof this[f.g]?this[f.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,f){if("object"===typeof a){for(var d in a)a.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,a[d]);return this}d=this._getAttrNames(a);var h=this._get(a,d);d=this[d.s];var c;"function"===typeof d?c=d.apply(this,Array.prototype.slice.call(arguments,
1)):this[a]=f;if(this._watchCallbacks){var b=this;n(c,function(){b._watchCallbacks(a,h,f)})}return this},_changeAttrValue:function(a,f){var d=this.get(a);this[a]=f;this._watchCallbacks&&this._watchCallbacks(a,d,f);return this},watch:function(a,f){var d=this._watchCallbacks;if(!d)var h=this,d=this._watchCallbacks=function(a,c,f,g){var b=function(b){if(b){b=b.slice();for(var e=0,d=b.length;e<d;e++)b[e].call(h,a,c,f)}};b(d["_"+a]);g||b(d["*"])};f||"function"!==typeof a?a="_"+a:(f=a,a="*");var c=d[a];
"object"!==typeof c&&(c=d[a]=[]);c.push(f);a={};a.unwatch=a.remove=function(){var a=k.indexOf(c,f);-1<a&&c.splice(a,1)};return a}})})},"esri/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,f,d,h,c,b,e,k){this._glyphItems=a;this._maxWidth=f;this._lineHeight=d;this._letterSpacing=h;this._offset=c;this._hAnchor=b;this._vAnchor=e;this._justify=k}a.prototype.getShaping=function(a,
f){for(var d=this._letterSpacing,h=this._lineHeight,c=this._justify,b=this._maxWidth,e=[],m=0,g=0,k=0,l=0,n=-1,z=0,A=-1,C=a.length,p=0;p<C;p++){var E=a.charCodeAt(p);if(10===E){if(p!==C-1){if(n>=l){var m=e[n],u=m.x+m.glyphMosaicItem.metrics.advance,z=Math.max(u,z);c&&this._applyJustification(e,l,n);l=e.length}g=f?g-h:g+h;m=0;++k}}else{for(var u=void 0,y=0,D=this._glyphItems;y<D.length&&!(u=D[y][E]);y++);if(u){e.push({codePoint:E,x:m,y:g,glyphMosaicItem:u});m+=u.metrics.advance+d;if(0<b&&m>b&&0<=A){y=
A+1;u=e[y].x;z=Math.max(u,z);for(D=y;D<e.length;D++)e[D].y=f?e[D].y-h:e[D].y+h,e[D].x-=u;c&&this._applyJustification(e,l,A);g=f?g-h:g+h;m-=u;++k;l=y;A=-1}++n;32===E&&(A=e.length-1)}}}n>=l&&(m=e[n],z=Math.max(z,m.x+m.glyphMosaicItem.metrics.advance),c&&this._applyJustification(e,l,n));if(0<e.length)for(a=(c-this._hAnchor)*z,d=(-this._vAnchor*(k+1)+.5)*h,f&&k&&(d+=k*h),a+=this._offset[0],d+=this._offset[1],f=0;f<e.length;f++)h=e[f],h.x+=a,h.y+=d;return e};a.getBox=function(a){if(!a.length)return null;
for(var f=Infinity,d=Infinity,h=0,c=0,b=0;b<a.length;b++)var e=a[b],m=e.glyphMosaicItem.metrics,g=m.height,k=e.x,e=e.y-(g-Math.abs(m.top)),m=k+m.width+m.left,g=e+g,f=Math.min(f,k),h=Math.max(h,m),d=Math.min(d,e),c=Math.max(c,g);return{x:f,y:d,width:h-f,height:c-d}};a.addDecoration=function(a,f){var d=a.length;if(0!==d){for(var h=a[0].x+a[0].glyphMosaicItem.metrics.left,c=a[0].y,b=1;b<d;b++){var e=a[b];if(e.y!==c){var m=a[b-1].x+a[b-1].glyphMosaicItem.metrics.left+a[b-1].glyphMosaicItem.metrics.width;
a.push({codePoint:0,x:h,y:c+f-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:m-h,height:8,left:0,top:0,advance:0},page:0}});c=e.y;h=e.x+e.glyphMosaicItem.metrics.left}}d=a[d-1].x+a[d-1].glyphMosaicItem.metrics.left+a[d-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:h,y:c+f-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:d-h,height:8,left:0,top:0,advance:0},page:0}})}};a.prototype._applyJustification=function(a,f,d){for(var h=a[d],h=(h.x+h.glyphMosaicItem.metrics.advance)*
this._justify;f<=d;f++)a[f].x-=h};return a}();a.TextShaping=l})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,m,f,d){void 0===a&&(a=0);void 0===m&&(m=0);void 0===f&&(f=0);void 0===d&&(d=0);this.x=a;this.y=m;this.width=f;this.height=d}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=
Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();a.default=l})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),
function(l,a,k,n,m,f,d,h,c,b,e,t,g,w,B){return function(){function a(a,b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var e=b.tileKey.split("/").map(parseFloat);b=e[0];c=e[1];e=e[2];this._level=b;for(var f=Math.max(8,Math.round(1*this._level)-8),d=0,g=Object.keys(a);d<g.length;d++){var h=g[d],k=a[h];this._pbfTiles[h]=new m(new Uint8Array(k.protobuff),new DataView(k.protobuff));if(k.refKey&&(k=k.refKey.split("/").map(parseFloat)[0],k=b-k,0<k)){var l=
(1<<k)-1;this._tileClippers[h]=new w.TileClipper(k,c&l,e&l,8,f)}this._tileClippers[h]||(this._tileClippers[h]=new w.SimpleBuilder)}}a.prototype.parse=function(a){return n(this,void 0,void 0,function(){var b,e,d,g,h,m,l,n,t,w,v,z,S,N,F,Q,K,R,T,P,U,ia,ca,da,aa,ba,ga,V,ea,W,Y,ka,ma,oa,fa,la,ja,ha,M,X,q,na,qa,r,Z,O,x,pa,ra,wa,ta,xa,za,Aa,ua,va,sa,Ba=this;return k(this,function(k){b=a&&a.signal;e=this._parseTileData(this._pbfTiles);d=this._layers;g=this._level;m=[];l=this._tileClippers;n={};t={};for(w=
d.length-1;0<=w;w--)(h=d[w],h.minzoom&&g<h.minzoom||h.maxzoom&&g>=h.maxzoom||h.layout&&h.layout.visibility&&"none"===h.layout.visibility)||(0===h.type?(v=this._createBucket(h),v.layerIndex=w,m.push(v)):e[h.source]&&l[h.source]&&(z=e[h.source],S=l[h.source],N=h.sourceLayer,F=z[N])&&((Q=t[h.source])||(Q=t[h.source]=new Set),Q.add(h.sourceLayer),v=this._createBucket(h))&&(v.layerIndex=w,v.layerExtent=F.extent,v.tileClipper=S,(K=n[h.source])||(K=n[h.source]={}),(R=K[N])||(R=K[N]=[]),R.push(v)));T=10*
this._level;P=10*(this._level+1);U=[];ia=[];ca=[];da=[];aa=new Set;ba={};ga=[];V=[];ea=function(a){t[a].forEach(function(b){ga.push(b);V.push(a)})};W=0;for(Y=Object.keys(t);W<Y.length;W++)ka=Y[W],ea(ka);for(ma=0;ma<ga.length;ma++){ka=V[ma];oa=ga[ma];if(!e[ka]||!n[ka])break;z=e[ka];F=z[oa];K=n[ka];fa=K[oa];if(!fa||0===fa.length)break;if(f.isAborted(b))return[2];for(la=F.getData();la.next(2);){ja=new c(la.getMessage(),F);if(ha=ja.values){if((M=ha._minzoom)&&M>=P)continue;if((X=ha._maxzoom)&&X<=T)continue}q=
0;for(na=fa;q<na.length;q++)v=na[q],v.pushFeature(ja)}}qa=this._tile;r=0;for(Z=Object.keys(n);r<Z.length;r++)for(N in ka=Z[r],O=n[ka],O)for(fa=O[N],x=0,pa=fa;x<pa.length;x++)v=pa[x],v.hasFeatures()&&(3===v.layer.type?(U.push(v),qa.addBucket(v)):v.layer.refLayerId?ca.push(v):(ia.push(v),da[v.layer.id]=v));ra=0;for(wa=U;ra<wa.length;ra++)ta=v=wa[ra],ta.getResources(ta.tileClipper,aa,ba);if(this._tile.status===B.TileStatus.INVALID)return[2,f.resolve([])];xa=[];za=this._tile.getWorkerTileHandler();0<
aa.size&&(Aa=za.fetchSprites(aa,this._client,a),xa.push(Aa));for(va in ba)sa=ba[va],0<sa.size&&(ua=za.fetchGlyphs(this._tile.tileKey,va,sa,this._client,a),xa.push(ua));return[2,f.all(xa).then(function(){for(var a=0,b=ia;a<b.length;a++){var c=b[a];c.processFeatures(c.tileClipper,Ba._tile);m.push(c)}a=0;for(b=ca;a<b.length;a++){var c=b[a],e=da[c.layer.refLayerId];e&&(e.assignBufferInfo(c),m.push(c))}a=0;for(b=U;a<b.length;a++)c=b[a],c.processFeatures(c.tileClipper,Ba._tile),m.push(c);m.sort(function(a,
b){return a.layerIndex-b.layerIndex});return m})]})})};a.prototype._parseTileData=function(a){for(var b={},c=0,e=Object.keys(a);c<e.length;c++){for(var f=e[c],d=a[f],g={};d.next();)switch(d.tag()){case 3:var h=new t(d.getMessage());g[h.name]=h;break;default:d.skip()}b[f]=g}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);
case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=function(a){return new d(a,this._level)};a.prototype._createFillBucket=function(a){var c=this._tile;return new b(a,this._level,a.hasDataDrivenFill?c.fillDDVertexBuffer:c.fillVertexBuffer,c.fillIndexBuffer,a.hasDataDrivenOutline?c.outlineDDVertexBuffer:c.outlineVertexBuffer,c.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new e(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:
b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=function(a){var b=this._tile;return new h(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new g(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/core/pbf":function(){define(["require",
"exports","./has"],function(l,a,k){var n=k("esri-text-decoder")?TextDecoder:null;return function(){function a(a,d,h,c){this._tag=0;this._dataType=99;this._data=a;this._dataView=d;this._pos=h||0;this._end=c||a.byteLength;this._textDecoder=n?new n("utf-8"):null}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var f=this._decodeVarint();this._tag=
f>>3;this._dataType=f&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;
a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];
this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getUint32(d+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getInt32(d+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=
this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),d=this._pos,d=this._toString(this._data,d,d+a);this._skip(a);return d};a.prototype.getBytes=function(){var a=this._getLength(),d=this._pos,d=this._toBytes(this._data,d,d+a);this._skip(a);
return d};a.prototype.getMessage=function(){var f=this._getLength(),d=this._pos,d=new a(this._data,this._dataView,d,d+f);this._skip(f);return d};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=
function(){var a=this._data,d=this._pos,h=0,c;if(10<=this._end-d){if(c=a[d++],h|=c&127,0!==(c&128)&&(c=a[d++],h|=(c&127)<<7,0!==(c&128)&&(c=a[d++],h|=(c&127)<<14,0!==(c&128)&&(c=a[d++],h|=(c&127)<<21,0!==(c&128)&&(c=a[d++],h+=268435456*(c&127),0!==(c&128)&&(c=a[d++],h+=34359738368*(c&127),0!==(c&128)&&(c=a[d++],h+=4398046511104*(c&127),0!==(c&128)&&(c=a[d++],h+=562949953421312*(c&127),0!==(c&128)&&(c=a[d++],h+=72057594037927936*(c&127),0!==(c&128)&&(c=a[d++],h+=0x7fffffffffffffff*(c&127),0!==(c&128)))))))))))throw Error("Varint too long!");
}else{for(var b=1;d!==this._end;){c=a[d];if(0===(c&128))break;++d;h+=(c&127)*b;b*=128}if(d===this._end)throw Error("Varint overrun!");++d;h+=c*b}this._pos=d;return h};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,d,h){h=Math.min(this._end,h);if(this._textDecoder)return a=a.subarray(d,h),this._textDecoder.decode(a);
for(var c="",b="";d<h;++d){var e=a[d];e&128?b+="%"+e.toString(16):(c+=decodeURIComponent(b)+String.fromCharCode(e),b="")}b.length&&(c+=decodeURIComponent(b));return c};a.prototype._toBytes=function(a,d,h){h=Math.min(this._end,h);return new Uint8Array(a.buffer,d,h-d)};return a}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(l,a,k){return function(){function a(a,f){this.values={};var d=f.keys;for(f=f.values;a.next();)switch(a.tag()){case 1:this.id=
a.getUInt64();break;case 2:for(var h=a.getMessage(),c=this.values;!h.empty();){var b=h.getUInt32(),e=h.getUInt32();c[d[b]]=f[e]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var f=this._pbfGeometry,d,h;a?a.reset(this.type):d=[];for(var c=1,b=0,e=0,m=0;!f.empty();)switch(0===b&&(b=f.getUInt32(),c=b&7,b>>=3),b--,c){case 1:e+=f.getSInt32();m+=f.getSInt32();
a?a.moveTo(e,m):(h&&d.push(h),h=[],h.push(new k.Point(e,m)));break;case 2:e+=f.getSInt32();m+=f.getSInt32();a?a.lineTo(e,m):h.push(new k.Point(e,m));break;case 7:a?a.close():h&&!h[0].equals(e,m)&&h.push(h[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(h&&d.push(h),a=d);return this._geometry=a};return a}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(l,a){return function(){function a(k){this.extent=4096;this.keys=
[];this.values=[];for(this._pbfLayer=k.clone();k.next();)switch(k.tag()){case 1:this.name=k.getString();break;case 3:this.keys.push(k.getString());break;case 4:this.values.push(a._parseValue(k.getMessage()));break;case 5:this.extent=k.getUInt32();break;default:k.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();
case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(l,a,k,n,m){Object.defineProperty(a,"__esModule",{value:!0});var f=function(){return function(a,c,b){this.ratio=a;this.x=c;this.y=b}}();l=function(){function a(a,b,e,d,g){void 0===d&&(d=8);void 0===g&&(g=8);this.lines=[];this.starts=[];this.pixelRatio=d;this.pixelMargin=
g;this.tileSize=k.TILE_SIZE*d;this.dz=a;this.yPos=b;this.xPos=e}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=
this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new n.Point(a,b);this._firstPt=new n.Point(a,b);this._dist=0};a.prototype.lineTo=function(a,b){var c=this._isIn(a,b),d=new n.Point(a,b),g=n.Point.distance(this._prevPt,d),h,k,m;if(c)this._prevIsIn?this._lineTo(a,b,!0):(h=this._prevPt,k=d,a=this._intersect(k,h),this.start=this._dist+g*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(k.x,k.y,!0));else if(this._prevIsIn)k=this._prevPt,h=d,a=this._intersect(k,h),this._lineTo(a.x,a.y,!0),this._lineTo(h.x,
h.y,!1);else{var l=this._prevPt;if(!(l.x<=this.xmin&&d.x<=this.xmin||l.x>=this.xmax&&d.x>=this.xmax||l.y<=this.ymin&&d.y<=this.ymin||l.y>=this.ymax&&d.y>=this.ymax)){a=[];if(l.x<this.xmin&&d.x>this.xmin||l.x>this.xmin&&d.x<this.xmin)b=(this.xmin-l.x)/(d.x-l.x),m=l.y+b*(d.y-l.y),m<=this.ymin?k=!1:m>=this.ymax?k=!0:a.push(new f(b,this.xmin,m));if(l.x<this.xmax&&d.x>this.xmax||l.x>this.xmax&&d.x<this.xmax)b=(this.xmax-l.x)/(d.x-l.x),m=l.y+b*(d.y-l.y),m<=this.ymin?k=!1:m>=this.ymax?k=!0:a.push(new f(b,
this.xmax,m));if(l.y<this.ymin&&d.y>this.ymin||l.y>this.ymin&&d.y<this.ymin)b=(this.ymin-l.y)/(d.y-l.y),m=l.x+b*(d.x-l.x),m<=this.xmin?h=!1:m>=this.xmax?h=!0:a.push(new f(b,m,this.ymin));if(l.y<this.ymax&&d.y>this.ymax||l.y>this.ymax&&d.y<this.ymax)b=(this.ymax-l.y)/(d.y-l.y),m=l.x+b*(d.x-l.x),m<=this.xmin?h=!1:m>=this.xmax?h=!0:a.push(new f(b,m,this.ymax));if(0===a.length)h?k?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):k?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,
this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+g*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+g*a[0].ratio,h=0;h<a.length;h++)this._lineTo(a[h].x,a[h].y,!0)}this._lineTo(d.x,d.y,!1)}this._dist+=g;this._prevIsIn=c;this._prevPt=d};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&
a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&d.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var e=[],d=0;d<b;d++)e.push({line:a[d],
start:this.starts[d]||0});return e};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,b){var c,d,g;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,g=(d-a.y)/(b.y-a.y),c=a.x+g*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,g=(c-a.x)/(b.x-a.x),d=a.y+g*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var f=(c-a.x)/(b.x-a.x),
h=(d-a.y)/(b.y-a.y);f<h?(g=f,d=a.y+f*(b.y-a.y)):(g=h,c=a.x+h*(b.x-a.x))}this._r=g;return new n.Point(c,d)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,e){3!==this.type?
e&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new n.Point(a,b))):(e||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new n.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,e){if(3!==this.type)if(e){a=
Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(e=this.line[this.line.length-1],e.equals(a,b)))return;this.line.push(new n.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(e||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),
this.line&&0<this.line.length){e=this.line[this.line.length-1];var c=e.x===a,d=e.y===b;c&&d||(this._is_h&&c?(e.x=a,e.y=b,e=this.line[this.line.length-2],e.x===a&&e.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(e=this.line[this.line.length-2],this._is_h=e.x===a,this._is_v=e.y===b)):(this._is_h=e.x===a,this._is_v=e.y===b)):this._is_v&&d?(e.x=a,e.y=b,e=this.line[this.line.length-2],e.x===a&&e.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(e=this.line[this.line.length-
2],this._is_h=e.x===a,this._is_v=e.y===b)):(this._is_h=e.x===a,this._is_v=e.y===b)):(this.line.push(new n.Point(a,b)),this._is_h=c,this._is_v=d))}else this.line.push(new n.Point(a,b))};return a}();a.TileClipper=l;l=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new n.Point(Math.round(a*
c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new n.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&d.simplify(4096,64,this.lines);return this.lines};return a}();a.SimpleBuilder=l;var d=function(){function a(){}a.simplify=function(c,b,e){if(e){var d=
-b,g=c+b,f=-b,h=c+b;c=[];b=[];for(var k=e.length,m=0;m<k;++m){var l=e[m];if(l&&!(2>l.length))for(var n=l[0],p=void 0,E=l.length,u=1;u<E;++u)p=l[u],n.x===p.x&&(n.x<=d&&(n.y>p.y?(c.push(m),c.push(u),c.push(0),c.push(-1)):(b.push(m),b.push(u),b.push(0),b.push(-1))),n.x>=g&&(n.y<p.y?(c.push(m),c.push(u),c.push(1),c.push(-1)):(b.push(m),b.push(u),b.push(1),b.push(-1)))),n.y===p.y&&(n.y<=f&&(n.x<p.x?(c.push(m),c.push(u),c.push(2),c.push(-1)):(b.push(m),b.push(u),b.push(2),b.push(-1))),n.y>=h&&(n.x>p.x?
(c.push(m),c.push(u),c.push(3),c.push(-1)):(b.push(m),b.push(u),b.push(3),b.push(-1)))),n=p}0!==c.length&&0!==b.length&&(a.fillParent(e,b,c),a.fillParent(e,c,b),d=[],a.calcDeltas(d,b,c),a.calcDeltas(d,c,b),a.addDeltas(d,e))}};a.fillParent=function(a,b,d){for(var c=d.length,e=b.length,f=0;f<e;f+=4){for(var h=b[f],k=b[f+1],l=b[f+2],n=a[h][k-1],h=a[h][k],k=8092,C=-1,p=0;p<c;p+=4)if(d[p+2]===l){var E=d[p],u=d[p+1],y=a[E][u-1],E=a[E][u];switch(l){case 0:case 1:m.between(n.y,y.y,E.y)&&m.between(h.y,y.y,
E.y)&&(y=Math.abs(E.y-y.y),y<k&&(k=y,C=p));break;case 2:case 3:m.between(n.x,y.x,E.x)&&m.between(h.x,y.x,E.x)&&(y=Math.abs(E.x-y.x),y<k&&(k=y,C=p))}}b[f+3]=C}};a.calcDeltas=function(c,b,d){for(var e=b.length,f=0;f<e;f+=4){var h=a.calcDelta(f,b,d,[]);c.push(b[f]);c.push(b[f+1]);c.push(b[f+2]);c.push(h)}};a.calcDelta=function(c,b,d,f){c=b[c+3];if(-1===c)return 0;var e=f.length;if(1<e&&f[e-2]===c)return 0;f.push(c);return a.calcDelta(c,d,b,f)+1};a.addDeltas=function(a,b){for(var c=a.length,d=0,f=0;f<
c;f+=4){var h=a[f+3];h>d&&(d=h)}for(f=0;f<c;f+=4){var k=b[a[f]],m=a[f+1],h=d-a[f+3];switch(a[f+2]){case 0:k[m-1].x-=h;k[m].x-=h;1===m&&(k[k.length-1].x-=h);m===k.length-1&&(k[0].x-=h);break;case 1:k[m-1].x+=h;k[m].x+=h;1===m&&(k[k.length-1].x+=h);m===k.length-1&&(k[0].x+=h);break;case 2:k[m-1].y-=h;k[m].y-=h;1===m&&(k[k.length-1].y-=h);m===k.length-1&&(k[0].y-=h);break;case 3:k[m-1].y+=h,k[m].y+=h,1===m&&(k[k.length-1].y+=h),m===k.length-1&&(k[0].y+=h)}}};return a}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require",
"exports"],function(l,a){function k(a,f){a%=f;return 0<=a?a:a+f}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=k;a.radToByte=function(m){return k(m*a.C_RAD_TO_256,256)};a.degToByte=function(m){return k(m*a.C_DEG_TO_256,256)};a.log2=
function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.interpolate=function(a,f,d){return a*(1-d)+f*d};a.between=function(a,f,d){return a>=f&&a<=d||a>=d&&a<=f}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=a.TileStatus||(a.TileStatus={});l[l.INITIALIZED=0]="INITIALIZED";l[l.NO_DATA=1]="NO_DATA";l[l.READY=2]="READY";l[l.MODIFIED=3]="MODIFIED";l[l.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","./GeometryUtils","./MemoryBuffer"],function(l,a,k,n,m){Object.defineProperty(a,"__esModule",{value:!0});var f=new Float32Array(1),d=new Uint32Array(f.buffer);l=function(a){function c(b){var c=a.call(this,b?20:12)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,h,g,k,l,n,z){var b=this.array;a=m.i1616to32(a,c);b.push(a);a=m.i8888to32(Math.round(31*h),Math.round(31*
g),Math.round(31*k),Math.round(31*l));b.push(a);a=m.i1616to32(n,0);b.push(a);if(this._isDataDriven){if(!z)throw Error("Expecting data driven values.");h=z.color;g=h[3]*z.opacity*255;b.push(m.i8888to32(h[0]*g,h[1]*g,h[2]*g,g));f[0]=z.size;b.push(d[0])}};return c}(m);a.LineVertexBuffer=l;l=function(a){function c(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,d){var b=this.array;b.push(m.i1616to32(a,
c));if(this._isDataDriven){if(!d)throw Error("Expecting data driven values.");a=d.color;d=a[3]*d.opacity*255;b.push(m.i8888to32(a[0]*d,a[1]*d,a[2]*d,d))}};return c}(m);a.FillVertexBuffer=l;l=function(a){function c(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,d,f,h,k,l){var b=this.array,e=this.index;a=m.i1616to32(a,c);b.push(a);a=m.i8888to32(Math.round(15*d),Math.round(15*f),h,k);b.push(a);
if(this._isDataDriven){if(!l)throw Error("Expecting data driven values.");d=l.color;l=d[3]*l.opacity*255;b.push(m.i8888to32(d[0]*l,d[1]*l,d[2]*l,l))}return e};return c}(m);a.OutlineVertexBuffer=l;l=function(a){function c(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,h,g,k,l,v,z,A,C,p){var b=this.array;a=m.i1616to32(a,c);b.push(a);a=m.i1616to32(Math.round(8*h),Math.round(8*g));b.push(a);
a=m.i8888to32(k/4,l/4,0,0);b.push(a);a=m.i8888to32(Math.ceil(10*C),n.radToByte(v),10*z,Math.min(10*A,255));b.push(a);if(this._isDataDriven){if(!p)throw Error("Expecting data driven values.");h=p.color;g=h[3]*p.opacity*255;b.push(m.i8888to32(h[0]*g,h[1]*g,h[2]*g,g));f[0]=p.size;b.push(d[0])}};return c}(m);a.SymbolVertexBuffer=l;l=function(a){function c(){return a.call(this,16)||this}k(c,a);c.prototype.add=function(a,c,d,f,h,k,l,n,A,C,p){var b=this.array;a=m.i1616to32(2*a+d,2*c+f);b.push(a);l=k[3]*
l*255;a=m.i8888to32(k[0]*l,k[1]*l,k[2]*l,l);b.push(a);k=C[3]*p*255;a=m.i8888to32(C[0]*k,C[1]*k,C[2]*k,k);b.push(a);a=m.i8888to32(Math.min(32*n,255),Math.min(4*A,255),Math.min(h,255),0);b.push(a)};return c}(m);a.CircleVertexBuffer=l})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(l,a,k,n){return function(){function a(f,d){this._layerByName={};this.styleJSON=f;this.version=parseFloat(f.version);this.sprite=
d?d.spriteUrl:f.sprite;this.glyphs=d?d.glyphsUrl:f.glyphs;if(this.layers=(f.layers||[]).map(a._create))for(f=void 0,d=0;d<this.layers.length;d++)f=this.layers[d],this._layerByName[f.id.toLowerCase()]=f;this._identifyRefLayers()}a.prototype.isPainterDataDriven=function(a){return(a=this._layerByName[a.toLowerCase()])?a.isPainterDataDriven():!1};a.prototype.getStyleLayerId=function(a){return a>=this.layers.length?null:this.layers[a].id};a.prototype.getLayoutProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?
a.layout:null};a.prototype.getPaintProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.paint:null};a.prototype.setPaintProperties=function(f,d){f=this._layerByName[f.toLowerCase()];if(!f)return"";var h=this.layers.indexOf(f);this.styleJSON.layers[h].paint=d;d=a._recreateLayer({id:f.id,type:f.typeName,source:f.source,sourceLayer:f["source-layer"],minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:f.layout,paint:d},f);this.layers[h]=d;this._layerByName[f.id.toLowerCase()]=
d;return f.id};a.prototype.setLayoutProperties=function(f,d){f=this._layerByName[f.toLowerCase()];if(!f)return"";var h=this.layers.indexOf(f);this.styleJSON.layers[h].layout=d;d=a._recreateLayer({id:f.id,type:f.typeName,source:f.source,sourceLayer:f["source-layer"],minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:d,paint:f.paint},f);this.layers[h]=d;this._layerByName[f.id.toLowerCase()]=d;return f.id};a.prototype._identifyRefLayers=function(){for(var a=[],d=[],h=0,c=0,b=this.layers;c<b.length;c++){var e=
b[c];if(1===e.type){var k=e,g=e.source+"|"+e.sourceLayer,g=g+("|"+JSON.stringify(e.layout&&e.layout.visibility)),g=g+("|"+JSON.stringify(e.minzoom)),g=g+("|"+JSON.stringify(e.maxzoom)),g=g+("|"+JSON.stringify(e.filter));if(k.hasDataDrivenFill||k.hasDataDrivenOutline)g+="|"+JSON.stringify(h);a.push({key:g,layer:e})}2===e.type&&(k=e,g=e.source+"|"+e.sourceLayer,g+="|"+JSON.stringify(e.layout&&e.layout.visibility),g+="|"+JSON.stringify(e.minzoom),g+="|"+JSON.stringify(e.maxzoom),g+="|"+JSON.stringify(e.filter),
g+="|"+JSON.stringify(e.layout&&e.layout["line-cap"]),g+="|"+JSON.stringify(e.layout&&e.layout["line-join"]),k.hasDataDrivenLine&&(g+="|"+JSON.stringify(h)),d.push({key:g,layer:e}));++h}this._assignRefLayers(a);this._assignRefLayers(d)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var d,f,c=a.length,b=0;b<c;b++){var e=a[b];if(e.key===d)e.layer.refLayerId=f;else if(d=e.key,f=e.layer.id,1===e.layer.type&&!e.layer.getPaintProperty("fill-outline-color"))for(var k=
b+1;k<c;k++){var g=a[k];if(g.key===d){if(g.layer.getPaintProperty("fill-outline-color")){a[b]=g;a[k]=e;f=g.layer.id;break}}else break}}};a._create=function(a,d,h){d=1-1/(h.length+1)*(1+d);switch(a.type){case "background":return new n.BackgroundStyleLayer(0,a,d);case "fill":return new n.FillStyleLayer(1,a,d);case "line":return new n.LineStyleLayer(2,a,d);case "symbol":return new n.SymbolStyleLayer(3,a,d);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new n.CircleStyleLayer(4,
a,d)}throw Error("Unknown vector tile layer");};a._recreateLayer=function(a,d){switch(a.type){case "background":return new n.BackgroundStyleLayer(0,a,d.z);case "fill":return new n.FillStyleLayer(1,a,d.z);case "line":return new n.LineStyleLayer(2,a,d.z);case "symbol":return new n.SymbolStyleLayer(3,a,d.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new n.CircleStyleLayer(4,a,d.z)}};return a}()})},"*noref":1}});require.boot&&require.apply(null,require.boot);