// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/tsSupport/restHelper ./Theme ./utils".split(" "),function(l,m,n,g,h,k){return function(){function d(a){this.themes=null;a=a.themeDictionary;var c=new Map,b;for(b in a)c.set(b,new h(a[b]));this.themes=c}d.prototype.getThemes=function(a){var c=[];this.themes.forEach(function(b){b.isBasemapSupported(a)&&c.push({name:b.name,label:b.label,description:b.description,basemaps:b.supportedBasemaps.slice()})});return c};d.prototype.filterSchemesByName=
function(a){var c=a.name;a=g(a,["name"]);if(c){var b=this.getSchemes(a);if(b){a=null;for(var e=0,b=[b.primaryScheme].concat(b.secondarySchemes);e<b.length;e++){var d=b[e];if(d.name.toLowerCase()===c.toLowerCase()){a=d;break}}return a}}};d.prototype.filterSchemesByTag=function(a){var c=a.includedTags,b=a.excludedTags;a=g(a,["includedTags","excludedTags"]);if(!c&&!b)return[];var e=this.getSchemes(a);if(!e)return[];var d=[];a=function(a){var e=c?c.some(function(b){return-1<a.tags.indexOf(b)}):!0,f=b&&
b.some(function(b){return-1<a.tags.indexOf(b)});e&&!f&&d.push(a)};for(var f=0,e=[e.primaryScheme].concat(e.secondarySchemes);f<e.length;f++)a(e[f]);return d};d.prototype.getRawSchemes=function(a){var c=this.themes.get(a.theme);if(c)return c.getRawSchemes({basemap:a.basemap,geometryType:a.geometryType})};d.prototype.getBasemapId=function(a,c){if(c=this.themes.get(c))return k.getBasemapId(a,c.supportedBasemaps)};return d}()});