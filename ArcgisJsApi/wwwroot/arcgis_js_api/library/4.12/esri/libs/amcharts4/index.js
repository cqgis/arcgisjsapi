// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define(function(){return function(cb){function Ya(g){for(var m,t,H=g[0],Za=g[1],na=0,db=[];na<H.length;na++)t=H[na],O[t]&&db.push(O[t][0]),O[t]=0;for(m in Za)Object.prototype.hasOwnProperty.call(Za,m)&&(cb[m]=Za[m]);for(xa&&xa(g);db.length;)db.shift()()}function g(t){if(m[t])return m[t].exports;var Ca=m[t]={i:t,l:!1,exports:{}};return cb[t].call(Ca.exports,Ca,Ca.exports,g),Ca.l=!0,Ca.exports}var m={},O={0:0};g.e=function(m){var t=[],aa=O[m];if(0!==aa)if(aa)t.push(aa[2]);else{var H=new Promise(function(g,
t){aa=O[m]=[g,t]});t.push(aa[2]=H);var Za,na=document.createElement("script");na.charset="utf-8";na.timeout=120;g.nc&&na.setAttribute("nonce",g.nc);na.src=g.p+""+({1:"vendors~canvg",2:"vendors~pdfmake",3:"vendors~xlsx",4:"xlsx"}[m]||m)+".js";Za=function(g){na.onerror=na.onload=null;clearTimeout(db);var t=O[m];if(0!==t){if(t){var Ca=g&&("load"===g.type?"missing":g.type);g=g&&g.target&&g.target.src;var H=Error("Loading chunk "+m+" failed.\n("+Ca+": "+g+")");H.type=Ca;H.request=g;t[1](H)}O[m]=void 0}};
var db=setTimeout(function(){Za({type:"timeout",target:na})},12E4);na.onerror=na.onload=Za;document.head.appendChild(na)}return Promise.all(t)};g.m=cb;g.c=m;g.d=function(m,H,aa){g.o(m,H)||Object.defineProperty(m,H,{enumerable:!0,get:aa})};g.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})};g.t=function(m,H){if((1&H&&(m=g(m)),8&H)||4&H&&"object"==typeof m&&m&&m.__esModule)return m;
var t=Object.create(null);if(g.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:m}),2&H&&"string"!=typeof m)for(var Ca in m)g.d(t,Ca,function(g){return m[g]}.bind(null,Ca));return t};g.n=function(m){var t=m&&m.__esModule?function(){return m.default}:function(){return m};return g.d(t,"a",t),t};g.o=function(g,m){return Object.prototype.hasOwnProperty.call(g,m)};g.p="";g.oe=function(g){throw console.error(g),g;};var H=window.webpackJsonp=window.webpackJsonp||[],jc=H.push.bind(H);H.push=Ya;
for(var H=H.slice(),kc=0;kc<H.length;kc++)Ya(H[kc]);var xa=jc;return g(g.s=1)}([function(cb,Ya,g){var m,O;"undefined"!=typeof window&&window;void 0===(O="function"==typeof(m=function(){function g(g,m){var t=Object.prototype.toString.call(g),H=0,na=g.length;if("[object Array]"===t||"[object NodeList]"===t||"[object HTMLCollection]"===t||"[object Object]"===t||"undefined"!=typeof jQuery&&g instanceof jQuery||"undefined"!=typeof Elements&&g instanceof Elements)for(;H<na;H++)m(g[H]);else m(g)}function m(g){if(!g.getBoundingClientRect)return{width:g.offsetWidth,
height:g.offsetHeight};g=g.getBoundingClientRect();return{width:Math.round(g.width),height:Math.round(g.height)}}if("undefined"==typeof window)return null;var O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(g){return window.setTimeout(g,20)},xa=function(t,H){function aa(){var g,m,t=[];this.add=function(g){t.push(g)};this.call=function(H){g=0;for(m=t.length;g<m;g++)t[g].call(this,H)};this.remove=function(H){var na=[];g=0;for(m=t.length;g<
m;g++)t[g]!==H&&na.push(t[g]);t=na};this.length=function(){return t.length}}function Ca(g,t){if(g)if(g.resizedAttached)g.resizedAttached.add(t);else{g.resizedAttached=new aa;g.resizedAttached.add(t);g.resizeSensor=document.createElement("div");g.resizeSensor.dir="ltr";g.resizeSensor.className="resize-sensor";g.resizeSensor.style.cssText="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;";g.resizeSensor.innerHTML=
'\x3cdiv class\x3d"resize-sensor-expand" style\x3d"pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;"\x3e\x3cdiv style\x3d"position: absolute; left: 0; top: 0; transition: 0s;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"resize-sensor-shrink" style\x3d"pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;"\x3e\x3cdiv style\x3d"position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"\x3e\x3c/div\x3e\x3c/div\x3e';
g.appendChild(g.resizeSensor);t=(t=window.getComputedStyle(g))?t.getPropertyValue("position"):null;"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(g.style.position="relative");var H,Va,na=g.resizeSensor.childNodes[0],Ca=na.childNodes[0],Za=g.resizeSensor.childNodes[1],xa=m(g),Ya=xa.width,R=xa.height,Da=!0,db=0,cb=function(){if(Da){if(0===g.offsetWidth&&0===g.offsetHeight)return void(db||(db=O(function(){db=0;cb()})));Da=!1}var m,t;m=g.offsetWidth;t=g.offsetHeight;Ca.style.width=m+10+"px";Ca.style.height=
t+10+"px";na.scrollLeft=m+10;na.scrollTop=t+10;Za.scrollLeft=m+10;Za.scrollTop=t+10};g.resizeSensor.resetSensor=cb;var ca=function(){Va=0;H&&(Ya=xa.width,R=xa.height,g.resizedAttached&&g.resizedAttached.call(xa))};t=function(){xa=m(g);(H=xa.width!==Ya||xa.height!==R)&&!Va&&(Va=O(ca));cb()};var Ub=function(g,m,l){g.attachEvent?g.attachEvent("on"+m,l):g.addEventListener(m,l)};Ub(na,"scroll",t);Ub(Za,"scroll",t);O(cb)}}g(t,function(g){Ca(g,H)});this.detach=function(g){xa.detach(t,g)};this.reset=function(){t.resizeSensor.resetSensor()}};
if(xa.reset=function(m){g(m,function(g){g.resizeSensor.resetSensor()})},xa.detach=function(m,t){g(m,function(g){g&&(g.resizedAttached&&"function"==typeof t&&(g.resizedAttached.remove(t),g.resizedAttached.length())||g.resizeSensor&&(g.contains(g.resizeSensor)&&g.removeChild(g.resizeSensor),delete g.resizeSensor,delete g.resizedAttached))})},"undefined"!=typeof MutationObserver){var t=new MutationObserver(function(g){for(var m in g)if(g.hasOwnProperty(m))for(var t=g[m].addedNodes,H=0;H<t.length;H++)t[H].resizeSensor&&
xa.reset(t[H])});document.addEventListener("DOMContentLoaded",function(g){t.observe(document.body,{childList:!0,subtree:!0})})}return xa})?m.call(Ya,g,Ya,cb):m)||(cb.exports=O)},function(cb,Ya,g){function m(c,b){function a(){this.constructor=c}Xg(c,b);c.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}function O(c,b,a,d){return new (a||(a=Promise))(function(e,f){function h(a){try{n(d.next(a))}catch(y){f(y)}}function k(a){try{n(d.throw(a))}catch(y){f(y)}}function n(d){d.done?e(d.value):
(new a(function(a){a(d.value)})).then(h,k)}n((d=d.apply(c,b||[])).next())})}function H(c,b){function a(a){return function(h){return function(a){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return k.label++,{value:a[1],done:!1};case 5:k.label++;e=a[1];a=[0];continue;case 7:a=k.ops.pop();k.trys.pop();
continue;default:if(!(f=0<(f=k.trys).length&&f[f.length-1])&&(6===a[0]||2===a[0])){k=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3]))k.label=a[1];else if(6===a[0]&&k.label<f[1])k.label=f[1],f=a;else if(f&&k.label<f[2])k.label=f[2],k.ops.push(a);else{f[2]&&k.ops.pop();k.trys.pop();continue}}a=b.call(c,k)}catch(x){a=[6,x],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}var d,e,f,h,k={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};
return h={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function jc(c){var b="function"==typeof Symbol&&c[Symbol.iterator],a=0;return b?b.call(c):{next:function(){return c&&a>=c.length&&(c=void 0),{value:c&&c[a++],done:!c}}}}function kc(c,b){var a="function"==typeof Symbol&&c[Symbol.iterator];if(!a)return c;var d,e;c=a.call(c);var f=[];try{for(;(void 0===b||0<b--)&&!(d=c.next()).done;)f.push(d.value)}catch(h){e={error:h}}finally{try{d&&
!d.done&&(a=c.return)&&a.call(c)}finally{if(e)throw e.error;}}return f}function xa(){for(var c=[],b=0;b<arguments.length;b++)c=c.concat(kc(arguments[b]));return c}function t(c){return new ka(c)}function Ca(c){return c instanceof ka}function aa(c){return Number(c)!==c}function Va(c){return{}.toString.call(c)}function Za(c,b){return c||b}function na(c){if("string"==typeof c)return!0;throw Error("Expected a string but got "+Va(c));}function db(c){if("boolean"==typeof c)return!0;throw Error("Expected a boolean but got "+
Va(c));}function Tg(c){if("number"!=typeof c)throw Error("Expected a number but got "+Va(c));if(aa(c))throw Error("Expected a number but got NaN");return!0}function Ug(c){c=Va(c);if("[object Object]"===c)return!0;throw Error("Expected an object but got "+c);}function Dj(c){if(Array.isArray(c))return!0;throw Error("Expected an array but got "+Va(c));}function Ej(c){c=Va(c);if("[object Date]"===c)return!0;throw Error("Expected a date but got "+c);}function Ic(c){if("string"==typeof c)return c;if("number"==
typeof c)return""+c;throw Error("Expected a string or number but got "+Va(c));}function Vg(c){if("string"==typeof c){var b=+c;if(aa(b))throw Error("Cannot cast string "+JSON.stringify(c)+" to a number");return b}if("number"==typeof c){if(aa(c))throw Error("Expected a number but got NaN");return c}b=Va(c);if("[object Date]"===b)return c.getTime();throw Error("Expected a string, number, or date but got "+b);}function Fj(c){return!!c}function R(c){if(null!=c&&!l(c)){var b=Number(c);return aa(b)&&Y(c)&&
""!=c?R(c.replace(/[^0-9.\-]+/g,"")):b}return c}function Da(c){if(null!=c&&!Y(c)){if(l(c))return Ic(c);if(pa(c))return c.toString()}return c}function Wg(c){return null==c||l(c)||Ca(c)?c:Y(c)&&-1!=c.indexOf("%")?t(R(c)):R(c)}function Gj(c){return null!=c}function ca(c){if(null!=c)return c;throw Error("Value doesn't exist");}function Ub(c,b){return null!=c?c:b}function lc(c){return"[object Date]"===Va(c)}function Y(c){return"string"==typeof c}function l(c){return"number"==typeof c&&Number(c)==c}function pa(c){return"object"==
typeof c}function ya(c){return Array.isArray(c)}function Id(c,b,a){return null!=c?B(c=R(c),b,a):c}function D(c,b,a){if(!l(b)||0>=b)return b=Math.round(c),a&&.5==b-c&&b--,b;a=Math.pow(10,b);return Math.round(c*a)/a}function Qe(c,b){if(!l(b)||0>=b)return Math.ceil(c);b=Math.pow(10,b);return Math.ceil(c*b)/b}function Hj(c,b,a){return c*(a-b)+b}function B(c,b,a){l(b)&&(l(a)&&a<b&&(b=a=b),c<b&&(c=b));return l(a)&&c>a&&(c=a),c}function G(c){return D(Math.sin(Jc*c),10)}function Re(c){return D(Math.tan(Jc*
c),10)}function F(c){return D(Math.cos(Jc*c),10)}function T(c,b){return l(c)?l(b)&&b>c?b:c:l(b)?b:null}function ba(c,b){return l(c)?l(b)&&b<c?b:c:l(b)?b:null}function Yg(c,b){return c.reduce(function(a,d){return Math.abs(d-b)<Math.abs(a-b)?d:a})}function Kc(c,b){var a=ca(c.start),d=ca(b.start);c=ca(c.end);b=ca(b.end);return Math.max(a,d)<=Math.min(c,b)}function Lc(c){var b=ca(c.start);return{start:1-ca(c.end),end:1-b}}function Zg(c,b){var a=ca(c.start),d=ca(b.start);c=ca(c.end);b=ca(b.end);a=Math.max(a,
d);d=Math.min(c,b);return d<a?void 0:{start:a,end:d}}function Z(c,b){return c?(b||(b={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(c.x-b.x),2)+Math.pow(Math.abs(c.y-b.y),2))):0}function $g(c,b,a,d){b=Z(b,d);c=Z(c,a);return Math.abs(c/b)}function Mc(c,b,a){return l(a)||(a=.5),{x:c.x+(b.x-c.x)*a,y:c.y+(b.y-c.y)*a}}function ah(c,b,a,d){c=Ea(b,d)-Ea(c,a);return 0>c&&(c+=360),c}function Ea(c,b){b||(b={x:2*c.x,y:2*c.y});c=Math.atan2(b.y-c.y,b.x-c.x)*xb;return 0>c&&(c+=360),Hb(c)}function Ij(c,b,a,d,e){a=ah(b,
a,d,e)-90;0>a&&(a+=360);d=Z(b,d);return{x:Math.cos(a)/d+b.x-c.x,y:Math.cos(a)/d+b.y-c.y}}function mc(c){if(c){var b=c.length;if(0!==b){for(var a,d=void 0,e=void 0,f=void 0,h=0;h<b;h++){var k=c[h];(!l(e)||k.x>e)&&(e=k.x);(!l(d)||k.x<d)&&(d=k.x);(!l(a)||k.y<a)&&(a=k.y);(!l(f)||k.y>f)&&(f=k.y)}return{x:d,y:a,width:e-d,height:f-a}}}return{x:0,y:0,width:0,height:0}}function nc(c){var b=c.length;if(0!==b){for(var a=void 0,d=void 0,e=void 0,f=void 0,h=0;h<b;h++)var k=c[h],a=ba(k.x,a),d=ba(k.y,d),e=T(k.x+
k.width,e),f=T(k.y+k.height,f);return{x:a,y:d,width:e-a,height:f-d}}}function Se(c,b,a,d){return{x:(1-d)*(1-d)*c.x+2*(1-d)*d*a.x+d*d*b.x,y:(1-d)*(1-d)*c.y+2*(1-d)*d*a.y+d*d*b.y}}function Te(c,b,a,d,e){var f={x:0,y:0},h=1-e,k=h*h,n=k*h;return f.x=c.x*n+3*a.x*k*e+3*d.x*h*e*e+b.x*e*e*e,f.y=c.y*n+3*a.y*k*e+3*d.y*h*e*e+b.y*e*e*e,f}function Ue(c,b,a,d,e,f){return e=1-e+1E-5,f=1-f+1E-5,{x:(-c.x+b.x/e+a.x)*e,y:(-c.y+b.y/f+a.y)*f}}function Ve(c,b,a,d,e,f){return e=1-e+1E-5,f=1-f+1E-5,{x:(b.x+a.x/e-d.x)*e,
y:(b.y+a.y/f-d.y)*f}}function Jj(c){return 1-c+1E-5}function Hb(c){return 360==c?360:c%360}function jb(c,b,a){b>a&&(a=b=a);c=Hb(c);var d=(b-Hb(b))/360;return c<b&&(c+=360*(d+1)),c>a&&(c-360>b?c-=360:c=c<b+(a-b)/2+180?a:b),c<b&&(c=c>b+(a-b)/2-180?b:a),c}function kb(c,b,a){var d=Number.MAX_VALUE,e=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=-Number.MAX_VALUE,k=[];l(a)||(a=1);k.push(Jd(a,c));k.push(Jd(a,b));for(var n=Math.max(90*Math.ceil(c/90),90*Math.ceil(b/90)),q=Math.min(90*Math.floor(c/90),90*Math.floor(b/
90));q<=n;q+=90)q>=c&&q<=b&&k.push(Jd(a,q));for(c=0;c<k.length;c++)b=k[c],b.x<d&&(d=b.x),b.y<e&&(e=b.y),b.x>f&&(f=b.x),b.y>h&&(h=b.y);return{x:d,y:e,width:f-d,height:h-e}}function Jd(c,b){return{x:c*F(b),y:c*G(b)}}function We(c,b){return c.x>=b.x&&c.x<=b.x+b.width&&c.y>b.y&&c.y<b.y+b.height}function Kj(c,b,a,d){return{x:((c.x*b.y-b.x*c.y)*(a.x-d.x)-(c.x-b.x)*(a.x*d.y-a.y*d.x))/((c.x-b.x)*(a.y-d.y)-(c.y-b.y)*(a.x-d.x)),y:((c.x*b.y-b.x*c.y)*(a.y-d.y)-(c.y-b.y)*(a.x*d.y-a.y*d.x))/((c.x-b.x)*(a.y-d.y)-
(c.y-b.y)*(a.x-d.x))}}function eb(c,b){for(var a=c.length,d=0;d<a;++d)if(c[d]===b)return d;return-1}function bh(c,b){for(var a=c.length,d=0;d<a;++d)if(b(c[d]))return!0;return!1}function oc(c,b){for(var a=c.length,d=Array(a),e=0;e<a;++e)d[e]=b(c[e],e);return d}function J(c,b){for(var a=c.length,d=0;d<a;++d)b(c[d],d)}function ch(c,b){for(var a=c.length;a--;)b(c[a],a)}function dh(c,b){for(var a=c.length,d=0;d<a&&b(c[d],d);++d);}function eh(c,b){for(var a=c.length,d=b;d<a;++d)c[d-b]=c[d];c.length=a-b}
function Lj(c){var b=c.length;return b?c[b-1]:void 0}function Mj(c){return c[0]}function fh(c,b,a){a=B(a,0,c.length);c.splice(a,0,b)}function Nj(c,b,a){N(c,b);fh(c,b,a)}function gh(c,b){for(var a=b.length,d=0;d<a;++d)c.push(b[d])}function N(c,b){var a=!1,d=c.indexOf(b);if(-1!==d){a=!0;c.splice(d,1);for(var e=c.length;d<e;)c[d]===b?(c.splice(d,1),--e):++d}return a}function yb(c,b,a){var d=eb(c,b);-1!==d&&Vb(c,d);null==a?c.push(b):Wb(c,a,b)}function Xb(c,b,a){l(a)?0===a?c.unshift(b):c.splice(a,0,b):
c.push(b)}function Oj(c,b,a){var d=c.indexOf(b);-1!==d&&c.splice(d,1);l(a)?c.splice(a,0,b):c.push(b)}function Xe(c){return Array.isArray(c)?c:[c]}function Pj(c,b){return-1!==eb(c,b)}function pc(c){for(var b=c.length,a=Array(b),d=0;d<b;++d)a[d]=c[d];return a}function Qj(c,b,a){void 0===a&&(a=c.length);for(var d=Array(a-b),e=b;e<a;++e)d[e-b]=c[e];return d}function Wb(c,b,a){c.splice(b,0,a)}function Vb(c,b){c.splice(b,1)}function Nc(c,b,a){for(var d=0,e=c.length,f=!1;d<e;){var h=d+e>>1,k=b(a,c[h]);0>
k?e=h:0===k?(f=!0,d=h+1):d=h+1}return{found:f,index:f?d-1:d}}function Kd(c,b){for(var a=c.length,d=0;d<a;++d)if(b(c[d],d))return d;return-1}function Rj(c,b){b=Kd(c,b);if(-1!==b)return c[b]}function Sj(c){for(var b,a,d=c.length;0!==d;)a=Math.floor(Math.random()*d),b=c[--d],c[d]=c[a],c[a]=b}function hh(){for(var c=Date.now(),b=Oc.length,a=0;a<b;++a)Oc[a](c);eh(Oc,b);for(a=0;a<Pc.length;++a)Pc[a](c);for(a=Pc.length=0;a<Ld.length;++a)Ld[a](c);Ld.length=0;0===Oc.length&&0===Pc.length?Ye=!1:Ze(hh)}function $e(){Ye||
(Ye=!0,Ze(hh))}function af(c){Oc.push(c);$e()}function ih(c){Pc.push(c);$e()}function bf(c){Ld.push(c);$e()}function jh(c){cf.push(c)}function kh(){for(var c=Date.now(),b=cf.length,a=0;a<b;++a)cf.shift()(c)}function lh(c){return function(b){for(var a in c)if(lb(c,a)&&!b([a,c[a]]))break}}function df(c){var b=[],a;for(a in c)lb(c,a)&&b.push(a);return b}function mh(c,b){return df(c).sort(b)}function lb(c,b){return{}.hasOwnProperty.call(c,b)}function Tj(c,b){return c[b]}function ef(c,b){for(var a in c)if(lb(c,
a)&&!b(a,c[a]))break}function K(c,b){ef(c,function(a,d){return b(a,d),!0})}function nh(c,b,a){J(mh(c,a),function(a){b(a,c[a])})}function oh(c){return Object.assign({},c)}function Md(c,b){return Object.assign({},c,b)}function ta(c,b,a){J(a,function(a){null!=c[a]&&(b[a]=c[a])})}function Uj(c,b,a){J(a,function(a){null!=c[a]&&null==b[a]&&(b[a]=c[a])})}function ff(c,b,a){J(a,function(a){b[a]=c[a]})}function Qc(c,b){ta(c,b,df(c))}function Ib(c){return function(b){for(var a=c.length,d=0;d<a&&b(c[d]);++d);
}}function ph(c){var b=0;return c(function(a){return++b,!0}),b}function qc(c){var b=[];return c(function(a){return b.push(a),!0}),b}function $a(c,b){c(b)}function v(c,b){c(function(a){return b(a),!0})}function Yb(c,b){return Ib(qc(c).sort(b))}function gf(c,b){return function(a){return c(function(d){return a(b(d))})}}function Vj(c,b){return function(a){return c(function(d){return!b(d)||a(d)})}}function qh(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];return function(a){for(var d=!0,b=
function(b){return d=a(b)},f=c.length,h=0;h<f&&(c[h](b),d);++h);}}function rh(c){return function(b){var a=!0,d=function(d){return a=b(d)};c(function(b){return b(d),a})}}function Jb(c){return function(b){var a=0;c(function(d){return b([a++,d])})}}function Wj(c,b){var a=!1,d=0;return c(function(e){return b(e)?(a=!0,!1):(++d,!0)}),a?d:-1}function sh(c,b){var a;return c(function(d){return!b(d)||(a=d,!1)}),a}function Xj(c,b){var a;return c(function(d){d=b(d);return null===d||(a=d,!1)}),a}function hf(c,
b){var a=!1;return c(function(d){return!b(d)||(a=!0,!1)}),a}function jf(c,b,a){return c(function(d){return b=a(b,d),!0}),b}function Yj(c,b){return null==c||b<c?b:c}function th(c){return jf(c,null,Yj)}function Zj(c,b){return null==c||b>c?b:c}function uh(c){return jf(c,null,Zj)}function vh(c,b){void 0===b&&(b="");var a=!0,d="";return c(function(e){return a?a=!1:d+=b,d+=e,!0}),d}function Nd(c,b){return c===b?0:c<b?-1:1}function kf(c,b){return Array(b+1).join(c)}function wh(c){for(var b="",a=0;a<c;a++)b+=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return b}function Rc(c,b){if(!(0<=c&&c<b))throw Error("Index out of bounds: "+c);}function zb(c,b){return c===b?0:c<b?-1:1}function Od(c){switch(c){case 0:return 0;case -1:return 1;case 1:return-1}}function lf(c,b){return 0===c?b:c}function xh(c,b){var a;return yh[c]?a=yh[c]:"#"===c.charAt(0)?a=zh(c):c.match(/^rgba?\(/)&&(a=Ah(c)),a||(a={r:0,g:0,b:0,a:1}),null!=b&&(a.a=b),a}function zh(c){c=c.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,
function(b,a,d,e){return a+a+d+d+e+e});return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:void 0}function Ah(c){var b=(c=c.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(b)b.push("1");else if(!(b=c.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(b[1]),g:parseInt(b[2]),b:parseInt(b[3]),a:parseFloat(b[4])}}function Bh(c){return"#"+Pd(c.r.toString(16))+Pd(c.g.toString(16))+
Pd(c.b.toString(16))}function Ch(c){return null!=c.a&&1!==c.a?"rgba("+c.r+","+c.g+","+c.b+","+c.a+")":"rgb("+c.r+","+c.g+","+c.b+")"}function Pd(c){return 1==c.length?"0"+c:""+c}function Sc(c,b,a){return a=B(a,0,1),c?b?{r:c.r+Math.round((b.r-c.r)*a),g:c.g+Math.round((b.g-c.g)*a),b:c.b+Math.round((b.b-c.b)*a),a:(c.a||1)+Math.round(((b.a||1)-(c.a||1))*a)}:c:b||c}function Dh(c,b){return c?{r:Math.max(0,Math.min(255,c.r+Tc(c.r,b))),g:Math.max(0,Math.min(255,c.g+Tc(c.g,b))),b:Math.max(0,Math.min(255,c.b+
Tc(c.b,b))),a:c.a}:c}function Tc(c,b){return Math.round((0<b?255-c:c)*b)}function Eh(c,b){return c?(b=Tc(Math.min(Math.max(c.r,c.g,c.b),230),b),{r:Math.max(0,Math.min(255,Math.round(c.r+b))),g:Math.max(0,Math.min(255,Math.round(c.g+b))),b:Math.max(0,Math.min(255,Math.round(c.b+b))),a:c.a}):c}function ak(c,b){return Math.round(255*b)}function Fh(c,b){if(null==c||1==b)return c;c=Uc(c);return c.s=b,mf(c)}function mf(c){var b,a,d;d=c.h;b=c.s;a=c.l;if(0==b)b=a=d=a;else{c=function(a,d,b){return 0>b&&(b+=
1),1<b&&--b,b<1/6?a+6*(d-a)*b:.5>b?d:b<2/3?a+(d-a)*(2/3-b)*6:a};var e=.5>a?a*(1+b):a+b-a*b,f=2*a-e;b=c(f,e,d+1/3);a=c(f,e,d);d=c(f,e,d-1/3)}return{r:Math.round(255*b),g:Math.round(255*a),b:Math.round(255*d)}}function Uc(c){var b=c.r/255,a=c.g/255;c=c.b/255;var d=Math.max(b,a,c),e=Math.min(b,a,c),f=0,h=0,k=(d+e)/2;if(d===e)f=h=0;else{var n=d-e;switch(h=.5<k?n/(2-d-e):n/(d+e),d){case b:f=(a-c)/n+(a<c?6:0);break;case a:f=(c-b)/n+2;break;case c:f=(b-a)/n+4}f/=6}return{h:f,s:h,l:k}}function bk(c){var b=
c.r/255,a=c.g/255,d=c.b/255,e=Math.max(b,a,d),f=Math.min(b,a,d),h=0,k=e-f;if(c=0==e?0:k/e,e==f)h=0;else{switch(e){case b:h=(a-d)/k+(a<d?6:0);break;case a:h=(d-b)/k+2;break;case d:h=(b-a)/k+4}h/=6}return{h:h,s:c,v:e}}function ck(c){var b=0,a=0,d=0,e=c.h,f=c.s;c=c.v;var h=Math.floor(6*e),k=6*e-h,e=c*(1-f),n=c*(1-k*f),f=c*(1-(1-k)*f);switch(h%6){case 0:b=c;a=f;d=e;break;case 1:b=n;a=c;d=e;break;case 2:b=e;a=c;d=f;break;case 3:b=e;a=n;d=c;break;case 4:b=f;a=e;d=c;break;case 5:b=c,a=e,d=n}return{r:Math.round(255*
b),g:Math.round(255*a),b:Math.round(255*d)}}function Gh(c){return 128<=(299*c.r+587*c.g+114*c.b)/1E3}function L(c,b){if(null==c)return new U(void 0);if("string"==typeof c){var a="_color_"+c+"_"+(b||"1"),d=p.getCache(a);if(d)return new U({r:d.r,g:d.g,b:d.b,a:d.a});c=xh(c,b);return p.setCache(a,c),new U(c)}return c instanceof U?(null!=b&&(c.alpha=b),c):new U(c)}function Hh(c){return c instanceof U}function dk(c){return L(c)}function mb(c){return null==c||Hh(c)?c:L(c)}function ek(c){}function nb(c,b){return K(c,
function(a,d){null!=d&&(b[a]=d)}),b}function nf(c){return/^[^#]*/.exec(c)[0]}function rc(){var c="#";if(/apple/i.test(navigator.vendor)){var b=document.baseURI;if(b){var b=nf(b),a=nf(location.href);b!==a&&(c=a+c)}}return c}function fk(c,b){return K(c,function(a,d){null!=d&&null==b[a]&&(b[a]=d)}),b}function Ih(c,b){return K(c,function(a,d){b[a]=d}),b}function Vc(c){return null!=c&&""!==c.toString()}function fa(c,b){return l(c)?c:null!=c&&l(c.value)&&l(b)?b*c.value:0}function ua(c,b,a){var d;return l(c)?
0>(d=c)&&(d=a?b+d:b-d):null!=c&&l(c.value)&&(d=b*c.value),d}function gk(c,b){return c instanceof ka?c.value:c/b}function Jh(){return window.devicePixelRatio||1}function hk(c){return c.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function Wc(c){c=c.split("");return c[0]=c[0].toUpperCase(),c.join("")}function of(c){return JSON.stringify(c)}function Qd(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$\x26")}function Rd(c,b,a,d){if(c.length<=b)return[c];var e=[];if(a){var f=
-1;c=c.replace(/([,;:!?\\\/\.\s]+)/g,fb+"$1"+fb).split(fb);for(var h=0;h<c.length;h++){var k=c[h],n=k.length;if(0!==n){if(n>b){if(d&&(k=Sd(k)),f=k.match(new RegExp(".{1,"+b+"}","g"))){if(d)for(k=0;k<f.length;k++)f[k]=Sd(f[k]);e=e.concat(f)}}else-1===f&&(e.push(""),f=0),e[f].length+n+1>b&&""!==e[f]&&(e.push(""),f++),e[f]+=k;f=e.length-1}}}else if(f=c.match(new RegExp(".{1,"+b+"}","g"))){if(d)for(k=0;k<f.length;k++)f[k]=Sd(f[k]);e=f}return 1==e.length&&a&&e[0].length>b&&(e=[]),e}function Td(c,b,a,d,
e){return c.length<=b?c:(1>(b-=a.length)&&(b=1),(Rd(c,b,d,e)[0]||"")+a)}function pf(c){return c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Kh(c){return c.replace(/[\s\uFEFF\xA0]+$/g,"")}function Lh(c){return c.replace(/^[\s\uFEFF\xA0]+/g,"")}function Sd(c){return c.split("").reverse().join("")}function ik(c){var b=c.trim();return(b=c.replace(/^'(.*)'$/,"$1"))==c&&(b=c.replace(/^"(.*)"$/,"$1")),b}function Fa(c,b,a){return void 0===b&&(b=0),void 0===a&&(a="0"),"string"!=typeof c&&(c=
c.toString()),b>c.length?Array(b-c.length+1).join(a)+c:c}function Mh(c){if(void 0===c)return qf;var b=(c=(c=(c=c.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return b?b[1]:c===Xc?Xc:c===Yc?Yc:c===Ud?Ud:c.match(/[#0]/)?Xc:c.match(/[ymwdhnsqaxkzgtei]/)?Yc:qf}function Zc(c){return c.replace(/\/(date|number|duration)$/i,"")}function rf(c){return c?c.replace(/<[^>]*>/g,""):c}function Vd(c){return c?rf(c.replace(/[\n\r]+/g,". ")):c}function Nh(c){if(aa(c))return"NaN";
if(c===1/0)return"Infinity";if(c===-1/0)return"-Infinity";if(0===c&&1/c==-1/0)return"-0";var b=0>c;c=Math.abs(c);var a=ca(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+c)),d=a[1],e=a[2]||"";if(null==a[3])c=""===e?d:d+"."+e;else{var f,a=+a[3];c=1>c?"0."+kf("0",f=a-1)+d+e:0===(f=a-e.length)?d+e:0>f?d+e.slice(0,f)+"."+e.slice(f):d+e+kf("0",f)}return b?"-"+c:c}function sf(c){if(lc(c)||l(c))return new Date(c);var b=Number(c);return l(b)?new Date(b):new Date(c)}function Wd(c){if(lc(c))return c.getTime();
if(l(c))return c;if(Y(c))return c=Number(c),l(c)?c:void 0}function Xd(c,b){void 0===b&&(b=!1);b=new Date(c.getFullYear(),0,1,0,0,0,0);return Math.floor((c.getTime()-b.getTime())/864E5)+1}function sc(c,b){void 0===b&&(b=!1);b=Xd(c,b)-1;c=Math.floor((b-(c.getDay()||7)+10)/7);return 0===c?c=53:53===c&&(c=1),c}function Oh(c,b){void 0===b&&(b=!1);var a=sc(new Date(c.getFullYear(),c.getMonth(),1),b);c=sc(c,b);return 1==c&&(c=53),c-a+1}function Ph(c,b,a,d){void 0===a&&(a=1);void 0===d&&(d=!1);var e=new Date(b,
0,4,0,0,0,0);return d&&e.setUTCFullYear(b),7*c+a-((e.getDay()||7)+3)}function $c(c,b){return 12<c?c-=12:0===c&&(c=12),null!=b?c+(b-1):c}function ad(c,b,a,d){if(void 0===b&&(b=!1),void 0===a&&(a=!1),void 0===d&&(d=!1),d)return b?"Coordinated Universal Time":"UTC";d=c.toLocaleString("UTC");c=c.toLocaleString("UTC",{timeZoneName:b?"long":"short"}).substr(d.length);return!1===a&&(c=c.replace(/ (standard|daylight|summer|winter) /i," ")),c}function jk(c,b){return Math.floor(Math.random()*b)+c}function Yd(c,
b,a){return c>a?a:c<b?b:c}function Zd(c,b,a){var d=a-b;return c>a?c=b+(c-d*Math.floor(c/d)):c<b&&(c=b+(c-d*Math.floor(c/d))),c}function ab(c,b){var a=c.x;c=c.y;var d=[];if(b){for(;null!=b.parent;)d.push(b),b=b.parent;d.reverse();for(b=0;b<d.length;b++){var e=d[b],f=e.rotation,h=a-e.pixelX-e.ex,k=c-e.pixelY-e.ey;e.dx&&(a-=e.dx);e.dy&&(c-=e.dy);a=(F(-f)*h-G(-f)*k)/e.scale-e.pixelPaddingLeft;c=(F(-f)*k+G(-f)*h)/e.scale-e.pixelPaddingTop}}return{x:a,y:c}}function gb(c,b){var a=c.x,d=c.y;if(b)for(;null!=
b.parent;){var e=b.rotation,a=a+(b.pixelPaddingLeft+b.ex),d=d+(b.pixelPaddingTop+b.ey);b.dx&&(a+=b.dx);b.dy&&(d+=b.dy);c=b.pixelX+(a*F(e)-d*G(e))*b.scale;d=b.pixelY+(a*G(e)+d*F(e))*b.scale;a=c;b=b.parent}return{x:a,y:d}}function Ab(c,b,a){return ab(gb(c,b),a)}function kk(c,b){var a=ab(c,b);c=ab({x:c.x+c.width,y:c.y+c.height},b);return{x:a.x,y:a.y,width:c.x-a.x,height:c.y-a.y}}function tf(c,b){var a=gb(c,b);c=gb({x:c.x+c.width,y:c.y+c.height},b);return{x:a.x,y:a.y,width:c.x-a.x,height:c.y-a.y}}function Zb(c,
b,a){try{var d=b.getBoundingClientRect();return l(a)||(a=1),{x:(c.x-d.left)/a,y:(c.y-d.top)/a}}catch(e){return c}}function uf(c,b){try{var a=b.getBoundingClientRect();return{x:c.x+a.left,y:c.y+a.top}}catch(d){return c}}function $b(c,b){return b&&b.htmlContainer?ab(Zb(c,ca(b.htmlContainer),b.svgContainer.cssScale),b):c}function $d(c,b){return b&&b.htmlContainer?uf(gb(c,b),ca(b.htmlContainer)):c}function lk(c){return c.clientWidth}function mk(c){return c.clientHeight}function Qh(c){return(c=(""+c).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?
Math.max(0,(c[1]?c[1].length:0)-(c[2]?+c[2]:0)):0}function vf(c){c=nk.exec(c);return{protocol:c&&c[1]||"",separator:c&&c[2]||"",authority:c&&c[3]||"",domain:c&&c[4]||"",port:c&&c[5]||"",path:c&&c[6]||"",query:c&&c[7]||"",hash:c&&c[8]||""}}function wf(c){return c.protocol+c.separator+c.authority+c.domain+c.port+c.path+c.query+c.hash}function Rh(c){return""===c.protocol&&""===c.separator&&""===c.authority&&""===c.domain&&""===c.port}function ae(c,b){c=vf(c);b=vf(b);if(Rh(c))throw Error("Left URL is not absolute");
if(Rh(b)){if(""!==b.path)if("/"===b.path[0])c.path=b.path;else{var a=c.path.split(/\//),d=b.path.split(/\//);if(0===a.length?0!==d.length&&a.push(""):1<a.length&&a.pop(),gh(a,d),c.path=a.join("/"),""!==c.path&&"/"!==c.path[0])throw Error("URL path must start with /");}return c.query=b.query,c.hash=b.hash,wf(c)}return wf(b)}function xf(){return!!window.MSInputMethodContext&&!!document.documentMode}function Sh(c){return+c}function ok(c){return c*c}function pk(c){return c*(2-c)}function qk(c){return(1>=
(c*=2)?c*c:--c*(2-c)+1)/2}function Th(c,b){return Math.pow(c,b)}function Uh(c,b){return 1-Math.pow(1-c,b)}function Vh(c,b){return(1>=(c*=2)?Math.pow(c,b):2-Math.pow(2-c,b))/2}function rk(c){return Th(c,3)}function yf(c){return Uh(c,3)}function sk(c){return Vh(c,3)}function tk(c){return Math.pow(2,10*c-10)}function uk(c){return 1-Math.pow(2,-10*c)}function vk(c){return(1>=(c*=2)?Math.pow(2,10*c-10):2-Math.pow(2,10-10*c))/2}function wk(c){return 1-Math.cos(c*zf)}function Wh(c){return Math.sin(c*zf)}
function xk(c){return(1-Math.cos(bd*c))/2}function Xh(c){return c*c*c}function ac(c){return--c*c*c+1}function yk(c){return(1>=(c*=2)?c*c*c:(c-=2)*c*c+2)/2}function zk(c){return 1-Math.sqrt(1-c*c)}function Ak(c){return Math.sqrt(1- --c*c)}function Bk(c){return(1>=(c*=2)?1-Math.sqrt(1-c*c):Math.sqrt(1-(c-=2)*c)+1)/2}function Ck(c){return 1-be(1-c)}function be(c){return(c=+c)<Af?ce*c*c:c<Dk?ce*(c-=Ek)*c+Fk:c<Gk?ce*(c-=Hk)*c+Ik:ce*(c-=Jk)*c+Kk}function Lk(c){return(1>=(c*=2)?1-be(1-c):be(c-1)+1)/2}function Mk(c){return cd*
Math.pow(2,10*--c)*Math.sin((de-c)/dd)}function Nk(c){return 1-cd*Math.pow(2,-10*(c=+c))*Math.sin((c+de)/dd)}function Ok(c){return(0>(c=2*c-1)?cd*Math.pow(2,10*c)*Math.sin((de-c)/dd):2-cd*Math.pow(2,-10*c)*Math.sin((de+c)/dd))/2}function Pk(c,b){var a=!1,d=Date.now();return af(function f(h){a||(h-=d,h>=c?b(1):(af(f),b(h/c)))}),new X(function(){a=!0})}function Yh(c,b,a){return b+(a-b)*c}function Qk(c,b,a){return new ka(Yh(c,b.percent,a.percent))}function Rk(c,b,a){return new U(Sc(b.rgb,a.rgb,c))}function Zh(c,
b){return b+c.charAt(0).toUpperCase()+c.substr(1)}function za(c,b,a,d){return c.addEventListener(b,a,d||!1),new X(function(){c.removeEventListener(b,a,d||!1)})}function $h(c){if(Y(c)){var b=document.getElementById(c);if(null==b&&(b=document.getElementsByClassName(c)[0]),b instanceof HTMLElement)return b}else if(c instanceof HTMLElement)return c}function ee(c,b){if(c.classList)c.classList.add(b);else{var a=c.getAttribute("class");a?c.setAttribute("class",a.split(" ").filter(function(a){return a!==
b}).join(" ")+" "+b):c.setAttribute("class",b)}}function fe(c,b){if(c.classList)c.classList.remove(b);else{var a=c.getAttribute("class");a&&c.setAttribute("class",a.split(" ").filter(function(a){return a!==b}).join(" "))}}function ge(){var c=document.createElement("input");c.style.position="fixed";c.style.top="0px";c.style.left="-10000px";document.body.appendChild(c);c.focus();c.blur();document.body.removeChild(c)}function Sk(c){if(c instanceof HTMLElement)c.focus();else{var b=document.createElement("input"),
a=document.createElementNS(tc,"foreignObject");a.appendChild(b);c.appendChild(a);b.focus();b.disabled=!0;a.remove()}}function Tk(c){if(c.outerHTML)return c.outerHTML;var b=document.createElement("div");c=c.cloneNode(!0);return b.appendChild(c),b.innerHTML}function Uk(c){return c instanceof Object&&c&&1===c.nodeType}function ai(c,b){return c===b||(c.contains?c.contains(b):!c.compareDocumentPosition||!!(16&c.compareDocumentPosition(b)))}function Vk(c,b){J(c.attributes,function(a){null!=a.value&&b.setAttribute(a.name,
a.value)})}function bi(c){ih(function(){try{var b=c.getBoundingClientRect(),a=b.left-Math.round(b.left),d=b.top-Math.round(b.top);0!==a&&bf(function(){c.style.left=a+"px"});0!==d&&bf(function(){c.style.top=d+"px"})}catch(e){}})}function ci(){if(null==Bf){var c=document.createElement("style");c.type="text/css";document.head.appendChild(c);Bf=c.sheet}return Bf}function Wk(c){if("loading"!==document.readyState)c();else{var b=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",
b),c())};document.addEventListener("readystatechange",b)}}function he(c){var b="";return(c.currentStyle?b=c.currentStyle["font-family"]:window.getComputedStyle&&(b=document.defaultView.getComputedStyle(c,null).getPropertyValue("font-family")),b)?b:(c=c.parentElement||c.parentNode)?he(c):void 0}function ie(c){var b="";return(c.currentStyle?b=c.currentStyle["font-size"]:window.getComputedStyle&&(b=document.defaultView.getComputedStyle(c,null).getPropertyValue("font-size")),b)?b:(c=c.parentElement||
c.parentNode)?ie(c):void 0}function Cf(c){switch(c){case "month":return"year";case "week":case "day":return"month";case "hour":return"day";case "minute":return"hour";case "second":return"minute";case "millisecond":return"second"}}function Wa(c,b){return null!=b||(b=1),di[c]*b}function ei(){return new Date}function ob(){return ei().getTime()}function bc(c){return new Date(c.getTime())}function je(c,b,a,d){c=new Date(c.getTime());b=new Date(b.getTime());var e=0,f=0;d||"millisecond"==a||(e=c.getTimezoneOffset(),
c.setUTCMinutes(c.getUTCMinutes()-e),f=b.getTimezoneOffset(),b.setUTCMinutes(b.getUTCMinutes()-f));e=!1;switch(a){case "year":c.getUTCFullYear()!=b.getUTCFullYear()&&(e=!0);break;case "month":c.getUTCFullYear()!=b.getUTCFullYear()?e=!0:c.getUTCMonth()!=b.getUTCMonth()&&(e=!0);break;case "day":c.getUTCMonth()!=b.getUTCMonth()?e=!0:c.getUTCDate()!=b.getUTCDate()&&(e=!0);break;case "hour":c.getUTCHours()!=b.getUTCHours()&&(e=!0);break;case "minute":c.getUTCMinutes()!=b.getUTCMinutes()&&(e=!0);break;
case "second":c.getUTCSeconds()!=b.getUTCSeconds()&&(e=!0);break;case "millisecond":c.getTime()!=b.getTime()&&(e=!0)}if(e)return!0;a=Cf(a);return!!a&&je(c,b,a,d)}function Ma(c,b,a,d){var e=0;switch(d||"millisecond"==b||(e=c.getTimezoneOffset(),c.setUTCMinutes(c.getUTCMinutes()-e)),b){case "day":var f=c.getUTCDate();c.setUTCDate(f+a);break;case "second":f=c.getUTCSeconds();c.setUTCSeconds(f+a);break;case "millisecond":f=c.getUTCMilliseconds();c.setUTCMilliseconds(f+a);break;case "hour":f=c.getUTCHours();
c.setUTCHours(f+a);break;case "minute":f=c.getUTCMinutes();c.setUTCMinutes(f+a);break;case "year":f=c.getUTCFullYear();c.setUTCFullYear(f+a);break;case "month":f=c.getUTCMonth();c.setUTCMonth(f+a);break;case "week":f=c.getUTCDate(),c.setUTCDate(f+7*a)}d||"millisecond"==b||(c.setUTCMinutes(c.getUTCMinutes()+e),"day"!=b&&"week"!=b&&"month"!=b&&"year"!=b)||(b=c.getTimezoneOffset(),b!=e&&(e=b-e,c.setUTCMinutes(c.getUTCMinutes()+e),c.getTimezoneOffset()!=b&&c.setUTCMinutes(c.getUTCMinutes()-e)));return c}
function Ja(c,b,a,d,e){l(a)||(a=1);var f=0;switch(e||"millisecond"==b||(f=c.getTimezoneOffset(),c.setUTCMinutes(c.getUTCMinutes()-f)),b){case "day":d=c.getUTCDate();1<a&&(d=Math.floor(d/a)*a);c.setUTCDate(d);c.setUTCHours(0,0,0,0);break;case "second":d=c.getUTCSeconds();1<a&&(d=Math.floor(d/a)*a);c.setUTCSeconds(d,0);break;case "millisecond":if(1==a)return c;d=c.getUTCMilliseconds();d=Math.floor(d/a)*a;c.setUTCMilliseconds(d);break;case "hour":d=c.getUTCHours();1<a&&(d=Math.floor(d/a)*a);c.setUTCHours(d,
0,0,0);break;case "minute":var h=c.getUTCMinutes();d=c.getUTCMilliseconds();1<a&&(h=Math.floor(h/a)*a);c.setUTCMinutes(h,0,0);break;case "month":d=c.getUTCMonth();1<a&&(d=Math.floor(d/a)*a);c.setUTCMonth(d,1);c.setUTCHours(0,0,0,0);break;case "year":d=c.getUTCFullYear();1<a&&(d=Math.floor(d/a)*a);c.setUTCFullYear(d,0,1);c.setUTCHours(0,0,0,0);break;case "week":a=c.getUTCDate(),h=c.getUTCDay(),l(d)||(d=1),c.setUTCDate(h>=d?a-h+d:a-(7+h)+d),c.setUTCHours(0,0,0,0)}e||"millisecond"==b||(c.setUTCMinutes(c.getUTCMinutes()+
f),"day"!=b&&"week"!=b&&"month"!=b&&"year"!=b)||(b=c.getTimezoneOffset(),b!=f&&(f=b-f,c.setUTCMinutes(c.getUTCMinutes()+f)));return c}function C(){return null==Df&&(Df=new fi),Df}function uc(){if(null===Ef){var c=document.createElement("div");c.hidden=!0;document.body.appendChild(c);c=new Ff(c);Ef=new Gf(c.SVGContainer,"ghost")}return Ef}function vb(){return null==Hf&&(Hf=new If),Hf}function ke(c,b,a){return new Promise(function(d,e){var f=null!=a&&"blob"==a.responseType,h=new XMLHttpRequest;if(h.onload=
function(){if(200===h.status){var a=void 0,c=void 0;f?c=h.response:a=h.responseText||h.response;a={xhr:h,error:!1,response:a,blob:c,type:h.getResponseHeader("Content-Type"),target:b};d(a)}else e({xhr:h,error:!0,type:h.getResponseHeader("Content-Type"),target:b})},h.onerror=function(){e({xhr:h,error:!0,type:h.getResponseHeader("Content-Type"),target:b})},h.open("GET",c,!0),a&&a.withCredentials&&(h.withCredentials=!0),null!=a){if(null!=a.requestHeaders)for(var k=0;k<a.requestHeaders.length;k++){var n=
a.requestHeaders[k];h.setRequestHeader(n.key,n.value)}null!=a.responseType&&(h.responseType=a.responseType)}h.send()})}function gi(c,b){return O(this,void 0,void 0,function(){var a,d;return H(this,function(e){switch(e.label){case 0:return[4,ke(c)];case 1:a=e.sent(),(d=document.createElement("style")).textContent=a.response,document.head.appendChild(d),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,b(d.sheet)];case 3:return[2,e.sent()];case 4:return document.head.removeChild(d),[7];case 5:return[2]}})})}
function Jf(c,b,a){return O(this,void 0,void 0,function(){var d,e,f;return H(this,function(h){switch(h.label){case 0:d=[];e=function(e){e=b.cssRules[e];if(e.type===CSSRule.IMPORT_RULE){var f=e.href;f&&(f=ae(c,f),d.push(gi(f,function(d){return Jf(f,d,a)})))}else a(c,e)};for(f=0;f<b.cssRules.length;f++)e(f);return d.length?[4,Promise.all(d)]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})}function Xk(c){return O(this,void 0,void 0,function(){return H(this,function(b){switch(b.label){case 0:return[4,
Promise.all(oc(document.styleSheets,function(a){var d=a.href;return null==d?Jf(location.href,a,c):gi(d=ae(location.href,d),function(a){return Jf(d,a,c)})}))];case 1:return b.sent(),[2]}})})}function vc(c){var b=u(c[0]),a={x:0,y:0},d=Ka.minPolylineStep;l(d)||(d=.5);for(var e=0,f=c.length;e<f;e++){var h=c[e];Z(h,a)>d&&(b+=u(h),a=h)}return b}function z(c){return" M"+D(c.x,4)+","+D(c.y,4)+" "}function u(c){return" L"+D(c.x,4)+","+D(c.y,4)+" "}function Kb(c,b){return" Q"+D(b.x,4)+","+D(b.y,4)+" "+D(c.x,
4)+","+D(c.y,4)}function ed(c,b,a){return" C"+D(b.x,4)+","+D(b.y,4)+" "+D(a.x,4)+","+D(a.y,4)+" "+D(c.x,4)+","+D(c.y,4)}function Yk(){return" Z"}function ra(c,b,a,d){if(0==b)return"";l(d)||(d=a);var e="",f=Math.ceil(Math.abs(b)/180),h=1;0>b&&(h=0);var k=0,n=0,q=-F(c)*a,y=-G(c)*d;if(.5>b&&3E3<a)return u({x:k=D(F(ea=c+b)*a,4),y:n=D(G(ea)*d,4)});for(var g=0;g<f;g++)var ea,e=e+(" a"+a+","+d+",0,0,"+h+","+(k=D(F(ea=c+b/f*(g+1))*a+q-k,4))+","+(n=D(G(ea)*d+y-n,4)));return e}function cc(c,b,a,d,e,f,h){if(0==
b||(l(d)||(d=0),0==a&&0>=d))return"";a<d&&(d=a=d,l(e)&&(e=e/d*a));360==(b=ba(b,360))&&(f=0,h=0);var k=c+b,n=G(ba(b,45)/2),q=(e=l(e)?e:a)/a*d,y=e/a*(f=f||0),g=e/a*(h=l(h)?h:f);f=B(f,0,(a-d)/2);y=B(y,0,(e-q)/2);h=B(h,0,(a-d)/2);g=B(g,0,(e-q)/2);f=D(B(f,0,a*n),4);y=D(B(y,0,e*n),4);h=D(B(h,0,d*n),4);var g=D(B(g,0,q*n),4),n=Math.asin(f/a/2)*xb*2,ea=Math.asin(y/e/2)*xb*2;d<h&&(d=h);q<g&&(q=g);var dc=Math.asin(h/d/2)*xb*2,m=Math.asin(g/q/2)*xb*2;l(dc)||(dc=0);l(m)||(m=0);var p=c+b/2,r={x:D(F(p)*d,4),y:G(p)*
q},p={x:F(c)*(d+h),y:G(c)*(q+g)},t={x:F(c)*(a-f),y:G(c)*(e-y)},A={x:F(k)*(a-f),y:G(k)*(e-y)},Na={x:F(k)*(d+h),y:G(k)*(q+g)},ea={x:F(c+n)*a,y:G(c+ea)*e},Sa={x:F(k-dc)*d,y:G(k-m)*q};h+=h*G(dc/2);g+=g*G(m/2);dc>(k-c)/2&&(Sa=r);m="";return 360==b?m=z(t):(m=z(p),m+=u(t),m+=Xa(ea,f,y,!0)),m+=ra(c+n,b-2*n,a,e),l(d)&&0!=d?(360==b&&0==f?m+=z(Na):(m+=Xa(A,f,y,!0),m+=u(Na),m+=Xa(Sa,h,g,!0)),m+=ra(k-dc,-(b-2*dc),d,q),(360>b||0<f)&&(m+=Xa(p,h,g,!0)),m+=u(p)):(m+=Xa(A,f,y,!0),360>b&&(m+=u(p))),m}function Xa(c,
b,a,d,e,f){return 0==b?"":" A"+b+","+a+","+(f=f||0)+","+ +(e=!!e)+","+ +(d=!!d)+","+D(c.x,4)+","+D(c.y,4)}function le(c,b,a,d){return l(a)||(a=0),l(d)||(d=0),z({x:a,y:d})+u({x:a+c,y:d})+u({x:a+c,y:d+b})+u({x:a,y:d+b})+" Z"}function Bb(c,b){return b?"M"+c.x+","+c.y+" L"+c.x+","+(c.y+c.height)+" L"+(c.x+c.width)+","+(c.y+c.height)+" L"+(c.x+c.width)+","+c.y+" L"+c.x+","+c.y:"M"+c.x+","+c.y+" L"+(c.x+c.width)+","+c.y+" L"+(c.x+c.width)+","+(c.y+c.height)+" L"+c.x+","+(c.y+c.height)+" L"+c.x+","+c.y}
function al(c,b){var a=uc().add("path").node;if(a.setAttribute("d",c),a.getPointAtLength&&a.getTotalLength){c=a.getTotalLength();for(var d=[],e=0;e<b;e++){var f=a.getPointAtLength(e/b*c);d.push({x:f.x,y:f.y})}return d}a.remove()}function bl(c,b,a,d,e,f,h){for(var k=e+.01,n=0,q=[];k<a;){var y=f;y/2>k&&(y=2*k);y=(n+=2*Math.asin(y/2/k))*xb;q.push({x:c+k*Math.cos(n),y:b+k*d/a*Math.sin(n)});k=e+y/360*h}return q}function cl(c){var b=z(c[0]);if(c&&0<c.length)for(var a=1;a<c.length;a++)b+=u(c[a]);return b}
function fd(c,b,a,d,e,f){var h=c.x,k=c.y,n=b.x,q=b.y,y=Z(c,b);f&&(a=y/Math.round(y/a));f=p.getCache(of(["wavedLine",c.x,b.x,c.y,b.y,a,d]));if(!f){if(0<y){var g=Math.atan2(q-k,n-h);f=Math.cos(g);var g=Math.sin(g),ea=a*f,l=a*g;if(1>=a||1>=d)f=u(b);else{var y=Math.round(2*y/a),m=[],E=1;n<h&&(E*=-1);q<k&&(E*=-1);for(n=0;n<=y;n++)q=h+n*ea/2+(E*=-1)*d/2*g,m.push({x:q,y:k+n*l/2-E*d/2*f});f=(new Cb(e,e)).smooth(m)}}else f="";p.setCache(of(["wavedLine",c.x,b.x,c.y,b.y,a,d]),f)}return f}function hi(c,b){if(c=
$h(c)){c.innerHTML="";var a=new Ff(c),d=new Gf(a.SVGContainer,"svg-"+(Kf.length-1)),e=new I;e.htmlContainer=c;e.svgContainer=a;e.width=t(100);e.height=t(100);e.background.fillOpacity=0;e.paper=d;d.append(e.group);e.relativeWidth=1;e.relativeHeight=1;a.container=e;var f=e.createChild(b);f.topParent=e;b=f.uid;p.invalidSprites[b]=[];p.invalidDatas[b]=[];p.invalidPositions[b]=[];p.invalidLayouts[b]=[];e.baseId=b;f.isBaseSprite=!0;f.focusFilter=new ii;p.baseSprites.push(f);p.baseSpritesByUid[b]=f;f.maskRectangle=
{x:0,y:0,width:a.width,height:a.height};e.events.on("maxsizechanged",function(d){0!=d.previousWidth&&0!=d.previousHeight||e.deepInvalidate();f.maskRectangle&&(f.maskRectangle={x:0,y:0,width:a.width,height:a.height})});f.addDisposer(new X(function(){N(p.baseSprites,f);p.baseSpritesByUid[f.uid]=void 0}));f.addDisposer(e);var h=e.createChild(I);h.topParent=e;h.width=t(100);h.height=t(100);h.isMeasured=!1;e.tooltipContainer=h;f.tooltip=new gd;f.tooltip.hide(0);f.tooltip.setBounds({x:0,y:0,width:h.maxWidth,
height:h.maxHeight});h.events.on("maxsizechanged",function(){ca(f.tooltip).setBounds({x:0,y:0,width:h.maxWidth,height:h.maxHeight})},void 0,!1);var k=new Lf;if(k.events.on("inited",function(){k.__disabled=!0},void 0,!1),e.preloader=k,!Ka.commercialLicense){var n=h.createChild(dl);h.events.on("maxsizechanged",function(a){100>=h.maxWidth||50>=h.maxHeight?n.hide():(n.isHidden||n.isHiding)&&n.show()},void 0,!1);f.logo=n;n.align="left";n.valign="bottom"}return f.numberFormatter,e.isStandaloneInstance=
!0,f}throw Q.log("html container not found"),Error("html container not found");}function el(c,b){var a;Y(b)&&(null!=p.registeredClasses[b]?b=p.registeredClasses[b]:(b=p.registeredClasses.Container,a=Error("Class ["+b+"] is not loaded.")));c=hi(c,b);return a&&c.raiseCriticalError(a),c}function fl(c,b,a){var d,e;null!=a||(a=c.type,delete c.type);null!=b||(b=c.container,delete c.container);Y(a)&&null!=p.registeredClasses[a]?d=p.registeredClasses[a]:"function"!=typeof a?(d=I,e=Error("Class ["+a+"] is not loaded.")):
d=a;b=hi(b,d);return e?b.raiseCriticalError(e):b.config=c,b}function gl(c){-1===p.themes.indexOf(c)&&p.themes.push(c)}function hl(c){N(p.themes,c)}function il(){p.themes=[]}function Ta(c,b){b=p.registeredClasses[b];return null!=b&&c instanceof b}g.r(Ya);var qa={};g.r(qa);g.d(qa,"isNaN",function(){return aa});g.d(qa,"getType",function(){return Va});g.d(qa,"getDefault",function(){return Za});g.d(qa,"checkString",function(){return na});g.d(qa,"checkBoolean",function(){return db});g.d(qa,"checkNumber",
function(){return Tg});g.d(qa,"checkObject",function(){return Ug});g.d(qa,"checkArray",function(){return Dj});g.d(qa,"checkDate",function(){return Ej});g.d(qa,"castString",function(){return Ic});g.d(qa,"castNumber",function(){return Vg});g.d(qa,"toBoolean",function(){return Fj});g.d(qa,"toNumber",function(){return R});g.d(qa,"toText",function(){return Da});g.d(qa,"toNumberOrPercent",function(){return Wg});g.d(qa,"hasValue",function(){return Gj});g.d(qa,"getValue",function(){return ca});g.d(qa,"getValueDefault",
function(){return Ub});g.d(qa,"isDate",function(){return lc});g.d(qa,"isString",function(){return Y});g.d(qa,"isNumber",function(){return l});g.d(qa,"isObject",function(){return pa});g.d(qa,"isArray",function(){return ya});var V={};g.r(V);g.d(V,"PI",function(){return bd});g.d(V,"HALFPI",function(){return zf});g.d(V,"RADIANS",function(){return Jc});g.d(V,"DEGREES",function(){return xb});g.d(V,"toNumberRange",function(){return Id});g.d(V,"round",function(){return D});g.d(V,"ceil",function(){return Qe});
g.d(V,"stretch",function(){return Hj});g.d(V,"fitToRange",function(){return B});g.d(V,"sin",function(){return G});g.d(V,"tan",function(){return Re});g.d(V,"cos",function(){return F});g.d(V,"max",function(){return T});g.d(V,"min",function(){return ba});g.d(V,"closest",function(){return Yg});g.d(V,"intersect",function(){return Kc});g.d(V,"invertRange",function(){return Lc});g.d(V,"intersection",function(){return Zg});g.d(V,"getDistance",function(){return Z});g.d(V,"getScale",function(){return $g});
g.d(V,"getMidPoint",function(){return Mc});g.d(V,"getRotation",function(){return ah});g.d(V,"getAngle",function(){return Ea});g.d(V,"getCenterShift",function(){return Ij});g.d(V,"getBBox",function(){return mc});g.d(V,"getCommonRectangle",function(){return nc});g.d(V,"getPointOnQuadraticCurve",function(){return Se});g.d(V,"getPointOnCubicCurve",function(){return Te});g.d(V,"getCubicControlPointA",function(){return Ue});g.d(V,"getCubicControlPointB",function(){return Ve});g.d(V,"adjustTension",function(){return Jj});
g.d(V,"normalizeAngle",function(){return Hb});g.d(V,"fitAngleToRange",function(){return jb});g.d(V,"getArcRect",function(){return kb});g.d(V,"getArcPoint",function(){return Jd});g.d(V,"isInRectangle",function(){return We});g.d(V,"getLineIntersection",function(){return Kj});var la={};g.r(la);g.d(la,"indexOf",function(){return eb});g.d(la,"any",function(){return bh});g.d(la,"map",function(){return oc});g.d(la,"each",function(){return J});g.d(la,"eachReverse",function(){return ch});g.d(la,"eachContinue",
function(){return dh});g.d(la,"shiftLeft",function(){return eh});g.d(la,"last",function(){return Lj});g.d(la,"first",function(){return Mj});g.d(la,"insert",function(){return fh});g.d(la,"setIndex",function(){return Nj});g.d(la,"pushAll",function(){return gh});g.d(la,"remove",function(){return N});g.d(la,"move",function(){return yb});g.d(la,"add",function(){return Xb});g.d(la,"replace",function(){return Oj});g.d(la,"toArray",function(){return Xe});g.d(la,"has",function(){return Pj});g.d(la,"copy",
function(){return pc});g.d(la,"slice",function(){return Qj});g.d(la,"insertIndex",function(){return Wb});g.d(la,"removeIndex",function(){return Vb});g.d(la,"getSortedIndex",function(){return Nc});g.d(la,"findIndex",function(){return Kd});g.d(la,"find",function(){return Rj});g.d(la,"shuffle",function(){return Sj});var Oa={};g.r(Oa);g.d(Oa,"entries",function(){return lh});g.d(Oa,"keys",function(){return df});g.d(Oa,"keysOrdered",function(){return mh});g.d(Oa,"hasKey",function(){return lb});g.d(Oa,"getKey",
function(){return Tj});g.d(Oa,"eachContinue",function(){return ef});g.d(Oa,"each",function(){return K});g.d(Oa,"eachOrdered",function(){return nh});g.d(Oa,"copy",function(){return oh});g.d(Oa,"merge",function(){return Md});g.d(Oa,"copyProperties",function(){return ta});g.d(Oa,"softCopyProperties",function(){return Uj});g.d(Oa,"forceCopyProperties",function(){return ff});g.d(Oa,"copyAllProperties",function(){return Qc});var va={};g.r(va);g.d(va,"fromArray",function(){return Ib});g.d(va,"length",function(){return ph});
g.d(va,"toArray",function(){return qc});g.d(va,"eachContinue",function(){return $a});g.d(va,"each",function(){return v});g.d(va,"sort",function(){return Yb});g.d(va,"map",function(){return gf});g.d(va,"filter",function(){return Vj});g.d(va,"concat",function(){return qh});g.d(va,"flatten",function(){return rh});g.d(va,"indexed",function(){return Jb});g.d(va,"findIndex",function(){return Wj});g.d(va,"find",function(){return sh});g.d(va,"findMap",function(){return Xj});g.d(va,"contains",function(){return hf});
g.d(va,"foldl",function(){return jf});g.d(va,"min",function(){return th});g.d(va,"max",function(){return uh});g.d(va,"join",function(){return vh});g.d(va,"ListIterator",function(){return hd});var id={};g.r(id);g.d(id,"order",function(){return Nd});g.d(id,"repeat",function(){return kf});g.d(id,"random",function(){return wh});var Mf={};g.r(Mf);g.d(Mf,"order",function(){return zb});var Ga={};g.r(Ga);g.d(Ga,"rgb",function(){return xh});g.d(Ga,"hexToRgb",function(){return zh});g.d(Ga,"rgbaToRgb",function(){return Ah});
g.d(Ga,"rgbToHex",function(){return Bh});g.d(Ga,"rgbToRGBA",function(){return Ch});g.d(Ga,"pad2",function(){return Pd});g.d(Ga,"interpolate",function(){return Sc});g.d(Ga,"lighten",function(){return Dh});g.d(Ga,"getLightnessStep",function(){return Tc});g.d(Ga,"brighten",function(){return Eh});g.d(Ga,"getBrightnessStep",function(){return ak});g.d(Ga,"saturate",function(){return Fh});g.d(Ga,"hslToRgb",function(){return mf});g.d(Ga,"rgbToHsl",function(){return Uc});g.d(Ga,"rgbToHsv",function(){return bk});
g.d(Ga,"hsvToRgb",function(){return ck});g.d(Ga,"isLight",function(){return Gh});var P={};g.r(P);g.d(P,"used",function(){return ek});g.d(P,"copyProperties",function(){return nb});g.d(P,"stripHash",function(){return nf});g.d(P,"getBaseURI",function(){return rc});g.d(P,"softCopyProperties",function(){return fk});g.d(P,"copy",function(){return Ih});g.d(P,"isNotEmpty",function(){return Vc});g.d(P,"relativeToValue",function(){return fa});g.d(P,"relativeRadiusToValue",function(){return ua});g.d(P,"valueToRelative",
function(){return gk});g.d(P,"getPixelRatio",function(){return Jh});g.d(P,"camelToDashed",function(){return hk});g.d(P,"capitalize",function(){return Wc});g.d(P,"stringify",function(){return of});g.d(P,"escapeForRgex",function(){return Qd});g.d(P,"splitTextByCharCount",function(){return Rd});g.d(P,"truncateWithEllipsis",function(){return Td});g.d(P,"trim",function(){return pf});g.d(P,"rtrim",function(){return Kh});g.d(P,"ltrim",function(){return Lh});g.d(P,"reverseString",function(){return Sd});g.d(P,
"unquote",function(){return ik});g.d(P,"padString",function(){return Fa});g.d(P,"getFormat",function(){return Mh});g.d(P,"cleanFormat",function(){return Zc});g.d(P,"stripTags",function(){return rf});g.d(P,"plainText",function(){return Vd});g.d(P,"numberToString",function(){return Nh});g.d(P,"anyToDate",function(){return sf});g.d(P,"anyToNumber",function(){return Wd});g.d(P,"getYearDay",function(){return Xd});g.d(P,"getWeek",function(){return sc});g.d(P,"getMonthWeek",function(){return Oh});g.d(P,
"getDayFromWeek",function(){return Ph});g.d(P,"get12Hours",function(){return $c});g.d(P,"getTimeZone",function(){return ad});g.d(P,"random",function(){return jk});g.d(P,"fitNumber",function(){return Yd});g.d(P,"fitNumberRelative",function(){return Zd});g.d(P,"svgPointToSprite",function(){return ab});g.d(P,"spritePointToSvg",function(){return gb});g.d(P,"spritePointToSprite",function(){return Ab});g.d(P,"svgRectToSprite",function(){return kk});g.d(P,"spriteRectToSvg",function(){return tf});g.d(P,"documentPointToSvg",
function(){return Zb});g.d(P,"svgPointToDocument",function(){return uf});g.d(P,"documentPointToSprite",function(){return $b});g.d(P,"spritePointToDocument",function(){return $d});g.d(P,"width",function(){return lk});g.d(P,"height",function(){return mk});g.d(P,"decimalPlaces",function(){return Qh});g.d(P,"parseUrl",function(){return vf});g.d(P,"serializeUrl",function(){return wf});g.d(P,"joinUrl",function(){return ae});g.d(P,"isIE",function(){return xf});var ia={};g.r(ia);g.d(ia,"linear",function(){return Sh});
g.d(ia,"quadIn",function(){return ok});g.d(ia,"quadOut",function(){return pk});g.d(ia,"quadInOut",function(){return qk});g.d(ia,"polyIn",function(){return Th});g.d(ia,"polyOut",function(){return Uh});g.d(ia,"polyInOut",function(){return Vh});g.d(ia,"polyIn3",function(){return rk});g.d(ia,"polyOut3",function(){return yf});g.d(ia,"polyInOut3",function(){return sk});g.d(ia,"expIn",function(){return tk});g.d(ia,"expOut",function(){return uk});g.d(ia,"expInOut",function(){return vk});g.d(ia,"sinIn",function(){return wk});
g.d(ia,"sinOut",function(){return Wh});g.d(ia,"sinInOut",function(){return xk});g.d(ia,"cubicIn",function(){return Xh});g.d(ia,"cubicOut",function(){return ac});g.d(ia,"cubicInOut",function(){return yk});g.d(ia,"circleIn",function(){return zk});g.d(ia,"circleOut",function(){return Ak});g.d(ia,"circleInOut",function(){return Bk});g.d(ia,"bounceIn",function(){return Ck});g.d(ia,"bounceOut",function(){return be});g.d(ia,"bounceInOut",function(){return Lk});g.d(ia,"elasticIn",function(){return Mk});g.d(ia,
"elasticOut",function(){return Nk});g.d(ia,"elasticInOut",function(){return Ok});var pb={};g.r(pb);g.d(pb,"timeUnitDurations",function(){return di});g.d(pb,"getNextUnit",function(){return Cf});g.d(pb,"getDuration",function(){return Wa});g.d(pb,"now",function(){return ei});g.d(pb,"getTime",function(){return ob});g.d(pb,"copy",function(){return bc});g.d(pb,"checkChange",function(){return je});g.d(pb,"add",function(){return Ma});g.d(pb,"round",function(){return Ja});var Pa={};g.r(Pa);g.d(Pa,"polyline",
function(){return vc});g.d(Pa,"moveTo",function(){return z});g.d(Pa,"lineTo",function(){return u});g.d(Pa,"quadraticCurveTo",function(){return Kb});g.d(Pa,"cubicCurveTo",function(){return ed});g.d(Pa,"closePath",function(){return Yk});g.d(Pa,"arcTo",function(){return ra});g.d(Pa,"arc",function(){return cc});g.d(Pa,"arcToPoint",function(){return Xa});g.d(Pa,"rectangle",function(){return le});g.d(Pa,"rectToPath",function(){return Bb});g.d(Pa,"pathToPoints",function(){return al});g.d(Pa,"spiralPoints",
function(){return bl});g.d(Pa,"pointsToPath",function(){return cl});var r={};g.r(r);g.d(r,"System",function(){return ji});g.d(r,"system",function(){return Q});g.d(r,"BaseObject",function(){return La});g.d(r,"BaseObjectEvents",function(){return qb});g.d(r,"Component",function(){return ec});g.d(r,"Container",function(){return I});g.d(r,"DataItem",function(){return Lb});g.d(r,"Sprite",function(){return M});g.d(r,"SpriteEventDispatcher",function(){return ki});g.d(r,"SpriteState",function(){return jd});
g.d(r,"registry",function(){return p});g.d(r,"Registry",function(){return li});g.d(r,"options",function(){return Ka});g.d(r,"CSVParser",function(){return kd});g.d(r,"DataLoader",function(){return mi});g.d(r,"dataLoader",function(){return me});g.d(r,"DataParser",function(){return Nf});g.d(r,"DataSource",function(){return ni});g.d(r,"JSONParser",function(){return wc});g.d(r,"SVGDefaults",function(){return oi});g.d(r,"Button",function(){return fc});g.d(r,"Circle",function(){return gc});g.d(r,"Ellipse",
function(){return ne});g.d(r,"Image",function(){return pi});g.d(r,"Label",function(){return Ua});g.d(r,"Line",function(){return hb});g.d(r,"Popup",function(){return Of});g.d(r,"Modal",function(){return Pf});g.d(r,"PointedRectangle",function(){return qi});g.d(r,"PointedShape",function(){return ri});g.d(r,"Polyarc",function(){return si});g.d(r,"Polygon",function(){return ti});g.d(r,"Polyline",function(){return xc});g.d(r,"Polyspline",function(){return ld});g.d(r,"Preloader",function(){return Lf});g.d(r,
"Rectangle",function(){return md});g.d(r,"ResizeButton",function(){return oe});g.d(r,"RoundedRectangle",function(){return rb});g.d(r,"Scrollbar",function(){return pe});g.d(r,"Slider",function(){return ui});g.d(r,"Slice",function(){return Mb});g.d(r,"TextLink",function(){return qe});g.d(r,"Tooltip",function(){return gd});g.d(r,"Trapezoid",function(){return Qf});g.d(r,"Triangle",function(){return re});g.d(r,"WavedCircle",function(){return nd});g.d(r,"WavedLine",function(){return Nb});g.d(r,"WavedRectangle",
function(){return Rf});g.d(r,"ZoomOutButton",function(){return Sf});g.d(r,"PlayButton",function(){return vi});g.d(r,"Cone",function(){return wi});g.d(r,"Rectangle3D",function(){return xi});g.d(r,"Slice3D",function(){return yi});g.d(r,"Export",function(){return zi});g.d(r,"ExportMenu",function(){return Ai});g.d(r,"DateFormatter",function(){return yc});g.d(r,"DurationFormatter",function(){return se});g.d(r,"NumberFormatter",function(){return Tf});g.d(r,"TextFormatter",function(){return If});g.d(r,"getTextFormatter",
function(){return vb});g.d(r,"Inertia",function(){return Bi});g.d(r,"Interaction",function(){return fi});g.d(r,"getInteraction",function(){return C});g.d(r,"InteractionKeyboardObject",function(){return Ci});g.d(r,"InteractionObject",function(){return Di});g.d(r,"InteractionObjectEventDispatcher",function(){return Ei});g.d(r,"MouseCursorStyle",function(){return Aa});g.d(r,"AMElement",function(){return od});g.d(r,"Group",function(){return Fi});g.d(r,"Paper",function(){return Gf});g.d(r,"Tension",function(){return Cb});
g.d(r,"Basis",function(){return jl});g.d(r,"SVGContainer",function(){return Ff});g.d(r,"ColorModifier",function(){return Uf});g.d(r,"LinearGradient",function(){return bb});g.d(r,"LinearGradientModifier",function(){return pd});g.d(r,"RadialGradientModifier",function(){return Gi});g.d(r,"LinePattern",function(){return Hi});g.d(r,"Pattern",function(){return zc});g.d(r,"RadialGradient",function(){return Db});g.d(r,"RectPattern",function(){return Ii});g.d(r,"ColorizeFilter",function(){return Ji});g.d(r,
"DesaturateFilter",function(){return qd});g.d(r,"DropShadowFilter",function(){return Vf});g.d(r,"BlurFilter",function(){return Ki});g.d(r,"Filter",function(){return hc});g.d(r,"FocusFilter",function(){return ii});g.d(r,"LightenFilter",function(){return te});g.d(r,"GlobalAdapter",function(){return Li});g.d(r,"globalAdapter",function(){return Wf});g.d(r,"Adapter",function(){return Qa});g.d(r,"Animation",function(){return ib});g.d(r,"animate",function(){return Pk});g.d(r,"nextFrame",function(){return af});
g.d(r,"readFrame",function(){return ih});g.d(r,"writeFrame",function(){return bf});g.d(r,"whenIdle",function(){return jh});g.d(r,"triggerIdle",function(){return kh});g.d(r,"Cache",function(){return Mi});g.d(r,"cache",function(){return Ac});g.d(r,"Color",function(){return U});g.d(r,"color",function(){return L});g.d(r,"isColor",function(){return Hh});g.d(r,"castColor",function(){return dk});g.d(r,"ColorSet",function(){return Bc});g.d(r,"InterfaceColorSet",function(){return W});g.d(r,"DictionaryDisposer",
function(){return Ob});g.d(r,"Dictionary",function(){return ga});g.d(r,"DictionaryTemplate",function(){return Cc});g.d(r,"Disposer",function(){return X});g.d(r,"MultiDisposer",function(){return ja});g.d(r,"MutableValueDisposer",function(){return sa});g.d(r,"CounterDisposer",function(){return rd});g.d(r,"StyleRule",function(){return ha});g.d(r,"StyleClass",function(){return kl});g.d(r,"getElement",function(){return $h});g.d(r,"addClass",function(){return ee});g.d(r,"removeClass",function(){return fe});
g.d(r,"blur",function(){return ge});g.d(r,"focus",function(){return Sk});g.d(r,"outerHTML",function(){return Tk});g.d(r,"isElement",function(){return Uk});g.d(r,"copyAttributes",function(){return Vk});g.d(r,"fixPixelPerfect",function(){return bi});g.d(r,"ready",function(){return Wk});g.d(r,"EventDispatcher",function(){return Eb});g.d(r,"TargetedEventDispatcher",function(){return Xf});g.d(r,"ListIterator",function(){return hd});g.d(r,"min",function(){return th});g.d(r,"max",function(){return uh});
g.d(r,"join",function(){return vh});g.d(r,"Keyboard",function(){return Ni});g.d(r,"keyboard",function(){return wb});g.d(r,"Language",function(){return Fb});g.d(r,"IndexedIterable",function(){return Yf});g.d(r,"ListGrouper",function(){return ll});g.d(r,"ListDisposer",function(){return da});g.d(r,"List",function(){return S});g.d(r,"ListTemplate",function(){return oa});g.d(r,"Morpher",function(){return Oi});g.d(r,"reverse",function(){return Od});g.d(r,"or",function(){return lf});g.d(r,"Percent",function(){return ka});
g.d(r,"percent",function(){return t});g.d(r,"isPercent",function(){return Ca});g.d(r,"Plugin",function(){return ml});g.d(r,"Responsive",function(){return Pi});g.d(r,"ResponsiveBreakpoints",function(){return Ha});g.d(r,"defaultRules",function(){return Ba});g.d(r,"OrderedList",function(){return Zf});g.d(r,"SortedList",function(){return ue});g.d(r,"OrderedListTemplate",function(){return $f});g.d(r,"SortedListTemplate",function(){return Qi});g.d(r,"PX",function(){return nl});g.d(r,"STRING",function(){return qf});
g.d(r,"NUMBER",function(){return Xc});g.d(r,"DATE",function(){return Yc});g.d(r,"DURATION",function(){return Ud});g.d(r,"PLACEHOLDER",function(){return fb});g.d(r,"PLACEHOLDER2",function(){return ic});g.d(r,"isNaN",function(){return aa});g.d(r,"checkString",function(){return na});g.d(r,"checkBoolean",function(){return db});g.d(r,"checkNumber",function(){return Tg});g.d(r,"checkObject",function(){return Ug});g.d(r,"castString",function(){return Ic});g.d(r,"castNumber",function(){return Vg});g.d(r,
"isString",function(){return Y});g.d(r,"isNumber",function(){return l});g.d(r,"isObject",function(){return pa});g.d(r,"isArray",function(){return ya});g.d(r,"Validatable",function(){return ag});g.d(r,"path",function(){return Pa});g.d(r,"colors",function(){return Ga});g.d(r,"ease",function(){return ia});g.d(r,"math",function(){return V});g.d(r,"array",function(){return la});g.d(r,"number",function(){return Mf});g.d(r,"object",function(){return Oa});g.d(r,"string",function(){return id});g.d(r,"time",
function(){return pb});g.d(r,"utils",function(){return P});g.d(r,"iter",function(){return va});g.d(r,"type",function(){return qa});g.d(r,"create",function(){return el});g.d(r,"createFromConfig",function(){return fl});g.d(r,"useTheme",function(){return gl});g.d(r,"unuseTheme",function(){return hl});g.d(r,"unuseAllThemes",function(){return il});var w={};g.r(w);g.d(w,"GaugeChartDataItem",function(){return ol});g.d(w,"GaugeChart",function(){return Ri});g.d(w,"RadarChartDataItem",function(){return Si});
g.d(w,"RadarChart",function(){return bg});g.d(w,"XYChartDataItem",function(){return ve});g.d(w,"XYChart",function(){return Pb});g.d(w,"SerialChartDataItem",function(){return cg});g.d(w,"SerialChart",function(){return we});g.d(w,"PieChart3DDataItem",function(){return pl});g.d(w,"PieChart3D",function(){return Ti});g.d(w,"PieChartDataItem",function(){return dg});g.d(w,"PieChart",function(){return eg});g.d(w,"SlicedChart",function(){return Ui});g.d(w,"SlicedChartDataItem",function(){return Vi});g.d(w,
"FlowDiagramDataItem",function(){return xe});g.d(w,"FlowDiagram",function(){return ye});g.d(w,"SankeyDiagramDataItem",function(){return Wi});g.d(w,"SankeyDiagram",function(){return Xi});g.d(w,"ChordDiagramDataItem",function(){return Yi});g.d(w,"ChordDiagram",function(){return Zi});g.d(w,"TreeMapDataItem",function(){return $i});g.d(w,"TreeMap",function(){return aj});g.d(w,"XYChart3DDataItem",function(){return ql});g.d(w,"XYChart3D",function(){return bj});g.d(w,"ChartDataItem",function(){return fg});
g.d(w,"Chart",function(){return Qb});g.d(w,"LegendDataItem",function(){return cj});g.d(w,"Legend",function(){return sd});g.d(w,"LegendSettings",function(){return gg});g.d(w,"HeatLegend",function(){return dj});g.d(w,"SeriesDataItem",function(){return td});g.d(w,"Series",function(){return ud});g.d(w,"XYSeriesDataItem",function(){return vd});g.d(w,"XYSeries",function(){return wd});g.d(w,"LineSeriesDataItem",function(){return xd});g.d(w,"LineSeries",function(){return ze});g.d(w,"LineSeriesSegment",function(){return Ae});
g.d(w,"CandlestickSeriesDataItem",function(){return Be});g.d(w,"CandlestickSeries",function(){return hg});g.d(w,"OHLCSeriesDataItem",function(){return ig});g.d(w,"OHLCSeries",function(){return ej});g.d(w,"ColumnSeriesDataItem",function(){return Gb});g.d(w,"ColumnSeries",function(){return Rb});g.d(w,"StepLineSeriesDataItem",function(){return jg});g.d(w,"StepLineSeries",function(){return fj});g.d(w,"RadarSeriesDataItem",function(){return kg});g.d(w,"RadarSeries",function(){return lg});g.d(w,"RadarColumnSeriesDataItem",
function(){return gj});g.d(w,"RadarColumnSeries",function(){return hj});g.d(w,"PieSeriesDataItem",function(){return Ce});g.d(w,"PieSeries",function(){return De});g.d(w,"FunnelSeries",function(){return mg});g.d(w,"FunnelSeriesDataItem",function(){return Ee});g.d(w,"PyramidSeries",function(){return ng});g.d(w,"PyramidSeriesDataItem",function(){return Fe});g.d(w,"PictorialStackedSeries",function(){return ij});g.d(w,"PictorialStackedSeriesDataItem",function(){return og});g.d(w,"PieTick",function(){return pg});
g.d(w,"FunnelSlice",function(){return Ge});g.d(w,"PieSeries3DDataItem",function(){return qg});g.d(w,"PieSeries3D",function(){return rg});g.d(w,"TreeMapSeriesDataItem",function(){return sg});g.d(w,"TreeMapSeries",function(){return He});g.d(w,"ColumnSeries3DDataItem",function(){return jj});g.d(w,"ColumnSeries3D",function(){return Ie});g.d(w,"ConeSeriesDataItem",function(){return kj});g.d(w,"ConeSeries",function(){return lj});g.d(w,"CurvedColumnSeries",function(){return mj});g.d(w,"CurvedColumnSeriesDataItem",
function(){return nj});g.d(w,"AxisDataItem",function(){return yd});g.d(w,"Axis",function(){return zd});g.d(w,"Grid",function(){return Dc});g.d(w,"AxisTick",function(){return tg});g.d(w,"AxisLabel",function(){return Je});g.d(w,"AxisLine",function(){return ug});g.d(w,"AxisFill",function(){return Ke});g.d(w,"AxisRenderer",function(){return Ad});g.d(w,"AxisBreak",function(){return Bd});g.d(w,"ValueAxisDataItem",function(){return Cd});g.d(w,"ValueAxis",function(){return ma});g.d(w,"CategoryAxisDataItem",
function(){return vg});g.d(w,"CategoryAxis",function(){return Ra});g.d(w,"CategoryAxisBreak",function(){return wg});g.d(w,"DateAxisDataItem",function(){return xg});g.d(w,"DateAxis",function(){return sb});g.d(w,"DurationAxisDataItem",function(){return oj});g.d(w,"DurationAxis",function(){return pj});g.d(w,"DateAxisBreak",function(){return yg});g.d(w,"ValueAxisBreak",function(){return Le});g.d(w,"AxisRendererX",function(){return Sb});g.d(w,"AxisRendererY",function(){return tb});g.d(w,"AxisRendererRadial",
function(){return zg});g.d(w,"AxisLabelCircular",function(){return Dd});g.d(w,"AxisRendererCircular",function(){return Ag});g.d(w,"AxisFillCircular",function(){return Bg});g.d(w,"GridCircular",function(){return Cg});g.d(w,"AxisRendererX3D",function(){return Dg});g.d(w,"AxisRendererY3D",function(){return qj});g.d(w,"Tick",function(){return Ec});g.d(w,"Bullet",function(){return ub});g.d(w,"LabelBullet",function(){return Me});g.d(w,"CircleBullet",function(){return rj});g.d(w,"ErrorBullet",function(){return sj});
g.d(w,"XYChartScrollbar",function(){return Fc});g.d(w,"ClockHand",function(){return Eg});g.d(w,"FlowDiagramNode",function(){return Ed});g.d(w,"FlowDiagramLink",function(){return Fd});g.d(w,"SankeyNode",function(){return Fg});g.d(w,"SankeyLink",function(){return Gg});g.d(w,"ChordNode",function(){return Hg});g.d(w,"ChordLink",function(){return Ig});g.d(w,"NavigationBarDataItem",function(){return tj});g.d(w,"NavigationBar",function(){return uj});g.d(w,"Column",function(){return Tb});g.d(w,"Candlestick",
function(){return Gd});g.d(w,"OHLC",function(){return Ne});g.d(w,"RadarColumn",function(){return Jg});g.d(w,"Column3D",function(){return Kg});g.d(w,"ConeColumn",function(){return Lg});g.d(w,"CurvedColumn",function(){return Mg});g.d(w,"XYCursor",function(){return Oe});g.d(w,"Cursor",function(){return Ng});g.d(w,"RadarCursor",function(){return Og});var Xg=function(c,b){return(Xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)d.hasOwnProperty(b)&&
(a[b]=d[b])})(c,b)},Gc=function(){return(Gc=Object.assign||function(c){for(var b,a=1,d=arguments.length;a<d;a++)for(var e in b=arguments[a])Object.prototype.hasOwnProperty.call(b,e)&&(c[e]=b[e]);return c}).apply(this,arguments)},ka=function(){function c(b){this._value=b}return Object.defineProperty(c.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),
c.prototype.toString=function(){return this._value+"%"},c}(),bd=Math.PI,zf=bd/2,Jc=bd/180,xb=180/bd,X=function(){function c(b){this._disposed=!1;this._dispose=b}return c.prototype.isDisposed=function(){return this._disposed},c.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},c}(),ja=function(c){function b(a){return c.call(this,function(){J(a,function(a){a.dispose()})})||this}return m(b,c),b}(X),sa=function(c){function b(){var a=c.call(this,function(){null!=a._disposer&&
(a._disposer.dispose(),a._disposer=void 0)})||this;return a}return m(b,c),b.prototype.get=function(){return this._value},b.prototype.set=function(a,d){null!=this._disposer&&this._disposer.dispose();this._disposer=d;this._value=a},b.prototype.reset=function(){this.set(void 0,void 0)},b}(X),rd=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;return a._counter=0,a}return m(b,c),b.prototype.increment=function(){var a=this;return++this._counter,new X(function(){--a._counter;0===a._counter&&
a.dispose()})},b}(X),Ye=!1,Oc=[],Pc=[],Ld=[],cf=[],Ze="function"==typeof requestAnimationFrame?function(c){requestAnimationFrame(c)}:function(c){setTimeout(c,1E3/60)},Eb=function(){function c(){this._listeners=[];this._killed=[];this._disabled={};this._iterating=0;this._enabled=!0;this._disposed=!1}return c.prototype.isDisposed=function(){return this._disposed},c.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var b=this._listeners;this._iterating=1;this._disabled=this._listeners=
null;try{J(b,function(a){a.disposer.dispose()})}finally{this._iterating=this._killed=null}}},c.prototype.hasListeners=function(){return 0!==this._listeners.length},c.prototype.hasListenersByType=function(b){return bh(this._listeners,function(a){return(null===a.type||a.type===b)&&!a.killed})},c.prototype.enable=function(){this._enabled=!0},c.prototype.disable=function(){this._enabled=!1},c.prototype.enableType=function(b){delete this._disabled[b]},c.prototype.disableType=function(b,a){void 0===a&&
(a=1/0);this._disabled[b]=a},c.prototype._removeListener=function(b){if(0===this._iterating){b=this._listeners.indexOf(b);if(-1===b)throw Error("Invalid state: could not remove listener");this._listeners.splice(b,1)}else this._killed.push(b)},c.prototype._removeExistingListener=function(b,a,d,e){if(this._disposed)throw Error("EventDispatcher is disposed");this._eachListener(function(c){c.once!==b||c.type!==a||null!=d&&c.callback!==d||c.context!==e||c.disposer.dispose()})},c.prototype.isEnabled=function(b){if(this._disposed)throw Error("EventDispatcher is disposed");
return this._enabled&&0<this._listeners.length&&this.hasListenersByType(b)&&null==this._disabled[b]},c.prototype.has=function(b,a,d){return-1!==Kd(this._listeners,function(e){return!0!==e.once&&e.type===b&&(null==a||e.callback===a)&&e.context===d})},c.prototype._shouldDispatch=function(b){if(this._disposed)throw Error("EventDispatcher is disposed");var a=this._disabled[b];return l(a)?(1>=a?delete this._disabled[b]:--this._disabled[b],!1):this._enabled},c.prototype._eachListener=function(b){var a=
this;++this._iterating;try{J(this._listeners,b)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(J(this._killed,function(d){a._removeListener(d)}),this._killed.length=0)}},c.prototype.dispatchImmediately=function(b,a){this._shouldDispatch(b)&&this._eachListener(function(d){d.killed||null!==d.type&&d.type!==b||d.dispatch(b,a)})},c.prototype.dispatch=function(b,a){this._shouldDispatch(b)&&this._eachListener(function(d){d.killed||null!==d.type&&d.type!==b||jh(function(){d.killed||
d.dispatch(b,a)})})},c.prototype._on=function(b,a,d,e,c,h){var f=this;if(this._disposed)throw Error("EventDispatcher is disposed");this._removeExistingListener(b,a,d,e);var n={type:a,callback:d,context:e,shouldClone:c,dispatch:h,killed:!1,once:b,disposer:new X(function(){n.killed=!0;f._removeListener(n)})};return this._listeners.push(n),n},c.prototype.onAll=function(b,a,d){return void 0===d&&(d=!0),this._on(!1,null,b,a,d,function(d,c){return b.call(a,d,c)}).disposer},c.prototype.on=function(b,a,d,
e){return void 0===e&&(e=!0),this._on(!1,b,a,d,e,function(b,e){return a.call(d,e)}).disposer},c.prototype.once=function(b,a,d,e){void 0===e&&(e=!0);var c=this._on(!0,b,a,d,e,function(b,e){c.disposer.dispose();a.call(d,e)});return c.disposer},c.prototype.off=function(b,a,d){this._removeExistingListener(!1,b,a,d)},c.prototype.copyFrom=function(b){var a=this;if(this._disposed)throw Error("EventDispatcher is disposed");if(b===this)throw Error("Cannot copyFrom the same TargetedEventDispatcher");J(b._listeners,
function(d){!d.killed&&d.shouldClone&&(null===d.type?a.onAll(d.callback,d.context):d.once?a.once(d.type,d.callback,d.context):a.on(d.type,d.callback,d.context))})},c}(),Xf=function(c){function b(a){var d=c.call(this)||this;return d.target=a,d}return m(b,c),b.prototype.copyFrom=function(a){var d=this;if(this._disposed)throw Error("EventDispatcher is disposed");if(a===this)throw Error("Cannot copyFrom the same TargetedEventDispatcher");J(a._listeners,function(b){b.context!==a.target&&!b.killed&&b.shouldClone&&
(null===b.type?d.onAll(b.callback,b.context):b.once?d.once(b.type,b.callback,b.context):d.on(b.type,b.callback,b.context))})},b}(Eb),hd=function(){function c(b,a){this.createNewItems=!1;this.list=b;this._create=a;this.reset()}return c.prototype.reset=function(){this._listCopy=qc(this.list.iterator())},c.prototype.clear=function(){this._listCopy.length=0},c.prototype.getFirst=function(){return this.returnItem(0)},c.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},c.prototype.find=
function(b){b=Kd(this._listCopy,b);return-1!==b?(b=this._listCopy[b],N(this._listCopy,b),b):this.getLast()},c.prototype.removeItem=function(b){return N(this._listCopy,b)},c.prototype.returnItem=function(b){if(0<=b&&b<this._listCopy.length)return b=this._listCopy[b],N(this._listCopy,b),b;if(this.createNewItems)return this._create()},c.prototype.iterator=function(){return Ib(this._listCopy)},c}(),Ob=function(c){function b(a){var d=a.events.on("removed",function(a){a.oldValue.dispose()},void 0,!1);return c.call(this,
function(){d.dispose();v(a.iterator(),function(a){a[1].dispose()})})||this}return m(b,c),b}(X),ga=function(){function c(){this.events=new Eb;this._dictionary={}}return c.prototype.hasKey=function(b){return lb(this._dictionary,b)},c.prototype.getKey=function(b){return this._dictionary[b]},c.prototype.insertKey=function(b,a){if(lb(this._dictionary,b))throw Error("Key "+b+" already exists in dictionary");this._dictionary[b]=a;this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",
{type:"insertKey",target:this,key:b,newValue:a})},c.prototype.setKey=function(b,a){if(lb(this._dictionary,b)){var d=this._dictionary[b];d!==a&&(this._dictionary[b]=a,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:b,oldValue:d,newValue:a}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:d}))}else this._dictionary[b]=a,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",
{type:"insertKey",target:this,key:b,newValue:a})},c.prototype.updateKey=function(b,a){if(!lb(this._dictionary,b))throw Error("Key "+b+" doesn't exist in dictionary");var d=this._dictionary[b];a=a(d);d!==a&&(this._dictionary[b]=a,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:b,oldValue:d,newValue:a}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:d}))},c.prototype.removeKey=
function(b){if(lb(this._dictionary,b)){var a=this._dictionary[b];delete this._dictionary[b];this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:b,oldValue:a});this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:a})}},c.prototype.insertKeyIfEmpty=function(b,a){return this.hasKey(b)||this.insertKey(b,a()),this.getKey(b)},c.prototype.clear=function(){var b=this;this.events.isEnabled("removed")&&
K(this._dictionary,function(a,d){b.events.dispatchImmediately("removed",{type:"removed",target:b,oldValue:d})});this._dictionary={};this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},c.prototype.copyFrom=function(b){var a=this;v(b.iterator(),function(d){a.setKey(d[0],d[1])})},c.prototype.iterator=function(){return lh(this._dictionary)},c.prototype[Symbol.iterator]=function(){var b,a,d,e;return H(this,function(c){switch(c.label){case 0:for(a in b=
[],this._dictionary)b.push(a);d=0;c.label=1;case 1:return d<b.length?(e=b[d],lb(this._dictionary,e)?[4,[e,this._dictionary[e]]]:[3,3]):[3,4];case 2:c.sent(),c.label=3;case 3:return d++,[3,1];case 4:return[2]}})},c.prototype.each=function(b){v(this.iterator(),function(a){a=kc(a,2);return b(a[0],a[1])})},c.prototype.sortedIterator=function(){return Yb(this.iterator(),function(b,a){return Nd(b[0],a[0])})},c}(),Cc=function(c){function b(a){var d=c.call(this)||this;return d.template=a,d}return m(b,c),
Object.defineProperty(b.prototype,"template",{get:function(){return this._template},set:function(a){a.isTemplate=!0;this._template=a},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var d=this;v(a.iterator(),function(a){d.setKey(a[0],a[1].clone())})},b.prototype.create=function(a){var d=this;return this.insertKeyIfEmpty(a,function(){return d.template.clone()})},b}(ga),Mi=function(){function c(){this._storage=new ga;this.ttl=1E3}return c.prototype.set=function(b,a,d,e){b=this._storage.insertKeyIfEmpty(b,
function(){return new ga});d={touched:(new Date).getTime(),ttl:l(e)?e:this.ttl,value:d};b.setKey(a,d)},c.prototype.get=function(b,a,d){if(void 0===d&&(d=void 0),this._storage.hasKey(b))if(b=this._storage.getKey(b),b.hasKey(a)){var e=b.getKey(a);return e.ttl&&e.touched+e.ttl<(new Date).getTime()&&(e.expired=!0),e.expired?(b.removeKey(a),d):e.value}return d},c.prototype.clear=function(b){b?this._storage.removeKey(b):this._storage.clear()},c}(),Ac=new Mi,li=function(){function c(){this.events=new Eb;
this.themes=[];this.loadedThemes={};this._uidCount=0;this.registeredClasses={};this._placeholders={};this.invalidSprites={};this.invalidDatas={};this.invalidRawDatas=[];this.invalidDataItems=[];this.invalidDataRange=[];this.invalidPositions={};this.invalidLayouts={};this.baseSprites=[];this.baseSpritesByUid={};this.uid=this.getUniqueId();this.invalidSprites.noBase=[];this.invalidDatas.noBase=[];this.invalidLayouts.noBase=[];this.invalidPositions.noBase=[]}return c.prototype.getUniqueId=function(){var b=
this._uidCount;return this._uidCount+=1,"id-"+b},Object.defineProperty(c.prototype,"map",{get:function(){return this._map||(this._map=new ga),this._map},enumerable:!0,configurable:!0}),c.prototype.setCache=function(b,a,d){Ac.set(this.uid,b,a,d)},c.prototype.getCache=function(b,a){return void 0===a&&(a=void 0),Ac.get(this.uid,b,a)},c.prototype.dispatch=function(b,a){this.events.isEnabled(b)&&(a?(a.type=b,a.target=a.target||this,this.events.dispatch(b,{type:b,target:this})):this.events.dispatch(b,{type:b,
target:this}))},c.prototype.dispatchImmediately=function(b,a){this.events.isEnabled(b)&&(a?(a.type=b,a.target=a.target||this,this.events.dispatchImmediately(b,a)):this.events.dispatchImmediately(b,{type:b,target:this}))},c.prototype.getPlaceholder=function(b){return null!=this._placeholders[b]?this._placeholders[b]:(this._placeholders[b]="__amcharts_"+b+"_"+wh(8)+"__",this._placeholders[b])},c.prototype.addToInvalidComponents=function(b){b.baseId?yb(this.invalidDatas[b.baseId],b):yb(this.invalidDatas.noBase,
b)},c.prototype.removeFromInvalidComponents=function(b){b.baseId&&N(this.invalidDatas[b.baseId],b);N(this.invalidDatas.noBase,b)},c.prototype.addToInvalidSprites=function(b){b.baseId?Xb(this.invalidSprites[b.baseId],b):Xb(this.invalidSprites.noBase,b)},c.prototype.removeFromInvalidSprites=function(b){b.baseId&&N(this.invalidSprites[b.baseId],b);N(this.invalidSprites.noBase,b)},c.prototype.addToInvalidPositions=function(b){b.baseId?Xb(this.invalidPositions[b.baseId],b):Xb(this.invalidPositions.noBase,
b)},c.prototype.removeFromInvalidPositions=function(b){b.baseId&&N(this.invalidPositions[b.baseId],b);N(this.invalidPositions.noBase,b)},c.prototype.addToInvalidLayouts=function(b){b.baseId?Xb(this.invalidLayouts[b.baseId],b):Xb(this.invalidLayouts.noBase,b)},c.prototype.removeFromInvalidLayouts=function(b){b.baseId&&N(this.invalidLayouts[b.baseId],b);N(this.invalidLayouts.noBase,b)},c}(),p=new li,Ka={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5},
ji=function(){function c(){this._isPaused=!1;this.animations=[];this.uid=p.getUniqueId();this.dummyCounter=0;this._frameRequested=!1;this.updateStepDuration=45;this.time=Date.now()}return c.prototype.reportTime=function(b,a){this.dummyCounter;a&&(this.time=Date.now())},c.prototype.update=function(){var b=this;if(!this._isPaused){this._frameRequested=!1;var a=Date.now();p.dispatchImmediately("enterframe");for(var d in p.invalidDatas)if(lb(p.invalidDatas,d)){for(var e=p.invalidDatas[d];0<e.length;){var c=
(h=e[0]).dataProvider;if(h.isDisposed())N(e,h);else if(c&&c.dataInvalid)try{if(c.validateData(),1>c.dataValidationProgress)break}catch(y){N(e,c),c.raiseCriticalError(y)}else try{if(h.validateData(),1>h.dataValidationProgress)break}catch(y){N(e,h),h.raiseCriticalError(y)}}if(Date.now()-a>this.updateStepDuration)break}for(;0<p.invalidRawDatas.length;)if((h=p.invalidRawDatas[0]).isDisposed())N(p.invalidRawDatas,h);else try{h.validateRawData()}catch(y){N(p.invalidRawDatas,h),h.raiseCriticalError(y)}for(;0<
p.invalidDataItems.length;){c=(h=p.invalidDataItems[0]).dataProvider;if(!(h.isDisposed()||h.dataInvalid||c&&c.dataInvalid))try{h.validateDataItems()}catch(y){N(p.invalidDataItems,h),h.raiseCriticalError(y)}N(p.invalidDataItems,h)}for(;0<p.invalidDataRange.length;){var h,c=(h=p.invalidDataRange[0]).dataProvider;if(!(h.isDisposed()||h.dataInvalid||c&&c.dataInvalid))try{h.validateDataRange(),h.skipRangeEvent||h.dispatchImmediately("datarangechanged"),h.skipRangeEvent=!1}catch(y){N(p.invalidDataRange,
h),h.raiseCriticalError(y)}N(p.invalidDataRange,h)}var k=[];K(p.invalidLayouts,function(a){b.validateLayouts(a)});K(p.invalidPositions,function(a){b.validatePositions(a)});var n=!1;if(a=Date.now(),K(p.invalidSprites,function(d,e){for(var c=0;0<e.length;){if(b.validateLayouts(d),b.validatePositions(d),5==++c){if(Date.now()-a>b.updateStepDuration)break;c=0}var f=e[e.length-1];if(f&&!f.isDisposed()){if(f._systemCheckIfValidate())if(b.checkIfValidate2(f))try{f._systemUpdate(k)}catch(Zk){f.invalid=!1,
N(e,f),f.raiseCriticalError(Zk)}else k.push(f);else k.push(f);f.invalid=!1}N(e,f)}p.invalidSprites[d]=p.invalidSprites[d].concat(k)}),K(p.invalidSprites,function(a,d){0<d.length&&(n=!0)}),K(p.invalidDatas,function(a,d){0<d.length&&(n=!0)}),J(pc(this.animations),function(a){a.update()}),K(p.invalidLayouts,function(a){b.validateLayouts(a)}),K(p.invalidPositions,function(a){b.validatePositions(a)}),kh(),K(p.invalidLayouts,function(a){b.validateLayouts(a)}),K(p.invalidPositions,function(a){b.validatePositions(a)}),
p.dispatchImmediately("exitframe"),(n||0<this.animations.length||!1)&&this.requestFrame(),200>this.updateStepDuration){var q=!0;K(p.invalidDatas,function(a,d){0<d.length&&(q=!1)});K(p.invalidSprites,function(a,d){0<d.length&&(q=!1)});q&&(this.updateStepDuration=200)}}},c.prototype.checkIfValidate2=function(b){return!(b.dataItem&&b.dataItem.component&&b.dataItem.component.dataInvalid&&!b.dataItem.component.isTemplate)},c.prototype.requestFrame=function(){var b=this;this._frameRequested||(Ze(function(){b.update()}),
this._frameRequested=!0)},c.prototype.validatePositions=function(b){for(b=p.invalidPositions[b];0<b.length;){var a=b[b.length-1];if(a.isDisposed())N(b,a);else try{a._systemValidatePositions()}catch(d){a.positionInvalid=!1,N(b,a),a.raiseCriticalError(d)}}},c.prototype.validateLayouts=function(b){for(b=p.invalidLayouts[b];0<b.length;){var a=b[b.length-1];if(a.isDisposed())N(b,a);else try{a.children.each(function(a){a._systemValidateLayouts()}),a.validateLayout()}catch(d){a.layoutInvalid=!1,N(b,a),a.raiseCriticalError(d)}}},
c.prototype.log=function(b){Ka.verbose&&console&&console.log(b)},Object.defineProperty(c.prototype,"isPaused",{get:function(){return this._isPaused},set:function(b){(this._isPaused=b)||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),c.VERSION="4.4.3",c}(),Q=new ji,Yf=function(){function c(b,a,d){this._array=b;this._start=a;this._end=d}return c.prototype.iterator=function(){var b=this;return function(a){if(b._start!==b._end)if(b._start<b._end)for(var d=b._start;d<b._end&&
a(b._array[d]);++d);else for(d=b._start-1;d>=b._end&&a(b._array[d]);--d);}},c.prototype.backwards=function(){return new c(this._array,this._end,this._start)},c.prototype.range=function(b,a){if(b<=a)return this._start===this._end?this:this._start<this._end?(b=Math.max(this._start+b,this._start),a=Math.min(b+(a-b),this._end),new c(this._array,b,a)):(b=Math.max(this._start-b,this._end),a=Math.max(b-(a-b),this._end),new c(this._array,b,a));throw Error("Start index must be lower than end index");},c}(),
ll=function(c){function b(a,d,b){var e=c.call(this,[a.events.on("inserted",function(d){var b=d.newValue,c=e._getKey(b),f=0;$a(a.iterator(),function(a){return a!==b&&(e._getKey(a)===c&&++f,!0)});e._insert(b,c,f)},void 0,!1),a.events.on("removed",function(a){e._remove(a.oldValue)},void 0,!1)])||this;return e._keys=[],e._groups={},e._getKey=d,e._sort=b,v(a.iterator(),function(a){e._insert(a,d(a))}),e}return m(b,c),b.prototype._insert=function(a,d,b){if(null==this._groups[d]){this._groups[d]=[];var e=
Nc(this._keys,this._sort,d),c=e.index;if(e.found)throw Error("Key already exists: "+d);Wb(this._keys,c,d)}null==b?this._groups[d].push(a):Wb(this._groups[d],b,a)},b.prototype._remove=function(a){var d=this._getKey(a),b=this._groups[d];if(null!=b&&(N(b,a),0===b.length)){delete this._groups[d];a=Nc(this._keys,this._sort,d);b=a.index;if(!a.found)throw Error("Key doesn't exist: "+d);Vb(this._keys,b)}},b.prototype.iterator=function(){var a=this;return rh(gf(Ib(this._keys),function(d){return Ib(a._groups[d])}))},
b}(ja),da=function(c){function b(a){var d=a.events.on("removed",function(a){a.oldValue.dispose()},void 0,!1);return c.call(this,function(){d.dispose();v(a.iterator(),function(a){a.dispose()})})||this}return m(b,c),b}(X),S=function(){function c(b){void 0===b&&(b=[]);this.events=new Eb;this._values=b}return Object.defineProperty(c.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),c.prototype.contains=function(b){return-1!==this._values.indexOf(b)},c.prototype.removeValue=
function(b){for(var a=0,d=this._values.length;a<d;)this._values[a]===b?(this.removeIndex(a),--d):++a},c.prototype.indexOf=function(b){return eb(this._values,b)},Object.defineProperty(c.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),c.prototype.hasIndex=function(b){return 0<=b&&b<this._values.length},c.prototype.getIndex=function(b){return this._values[b]},c.prototype.setIndex=function(b,a){Rc(b,this._values.length);var d=this._values[b];return d!==a&&
(this._values[b]=a,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:b,oldValue:d,newValue:a}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:d}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:a})),d},c.prototype.insertIndex=function(b,a){Rc(b,this._values.length+1);Wb(this._values,b,a);this.events.isEnabled("insertIndex")&&
this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:b,newValue:a});this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:a})},c.prototype._sortQuicksort=function(b,a,d){if(b<a){var e=this._sortPartition(b,a,d);this._sortQuicksort(b,e,d);this._sortQuicksort(e+1,a,d)}},c.prototype._sortPartition=function(b,a,d){var e=this._values,c=e[b];--b;for(a+=1;;){do++b;while(0>d(e[b],c));do--a;while(0<d(e[a],c));if(b>=
a)return a;this.swap(b,a)}},c.prototype.sort=function(b){this._sortQuicksort(0,this._values.length-1,b)},c.prototype.swap=function(b,a){var d=this._values.length;if(Rc(b,d),Rc(a,d),b!==a){var d=this._values[b],e=this._values[a];this._values[b]=e;this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:b,oldValue:d,newValue:e});this._values[a]=d;this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,
index:a,oldValue:e,newValue:d})}},c.prototype.removeIndex=function(b){Rc(b,this._values.length);var a=this._values[b];return Vb(this._values,b),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:b,oldValue:a}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:a}),a},c.prototype.moveValue=function(b,a){var d=this.indexOf(b);if(-1!==d){var e=this._values[d];Vb(this._values,
d);this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:d,oldValue:e})}null==a?(a=this._values.length,this._values.push(b)):Wb(this._values,a,b);this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:a,newValue:b});-1===d&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:b})},c.prototype.push=function(b){var a=
this._values.push(b)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:a,newValue:b}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:b}),b},c.prototype.unshift=function(b){this.insertIndex(0,b)},c.prototype.pushAll=function(b){var a=this;J(b,function(d){a.push(d)})},c.prototype.copyFrom=function(b){this.pushAll(b._values)},c.prototype.pop=function(){return 0>
this._values.length-1?void 0:this.removeIndex(this._values.length-1)},c.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},c.prototype.setAll=function(b){var a=this,d=pc(this._values);this._values.length=0;J(b,function(d){a._values.push(d)});this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:d,newArray:this._values});this.events.isEnabled("removed")&&J(d,function(d){a.events.dispatchImmediately("removed",{type:"removed",
target:a,oldValue:d})});this.events.isEnabled("inserted")&&J(this._values,function(d){a.events.dispatchImmediately("inserted",{type:"inserted",target:a,newValue:d})})},c.prototype.clear=function(){this.setAll([])},c.prototype.iterator=function(){return Ib(this._values)},c.prototype[Symbol.iterator]=function(){var b,a;return H(this,function(d){switch(d.label){case 0:b=this._values.length,a=0,d.label=1;case 1:return a<b?[4,this._values[a]]:[3,4];case 2:d.sent(),d.label=3;case 3:return++a,[3,1];case 4:return[2]}})},
c.prototype.each=function(b){J(this._values,b)},c.prototype.range=function(b,a){if(b<=a)return b=Math.max(b,0),a=Math.min(b+(a-b),this._values.length),new Yf(this._values,b,a);throw Error("Start index must be lower than end index");},c.prototype.backwards=function(){return new Yf(this._values,this._values.length,0)},c}(),oa=function(c){function b(a){var d=c.call(this)||this;return d.template=a,d}return m(b,c),Object.defineProperty(b.prototype,"template",{get:function(){return this._template},set:function(a){a.isTemplate=
!0;this._template=a},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var d=this;v(a.iterator(),function(a){d.push(a.clone())})},b.prototype.create=function(a){a=null!=a?new a:this.template.clone();return this.push(a),a},b.prototype.clone=function(){for(var a=new b(this.template),d=this.values,e=d.length,c=0;c<e;++c)a.push(d[c].clone());return a},b}(S),Zf=function(){function c(b){this._values=[];this.events=new Eb;null!=b&&this.setAll(b)}return Object.defineProperty(c.prototype,"values",
{get:function(){return this._values},enumerable:!0,configurable:!0}),c.prototype._insert=function(b){return this._values.push(b),this._values.length-1},Object.defineProperty(c.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),c.prototype.indexOf=function(b){return eb(this._values,b)},c.prototype.contains=function(b){return-1!==this.indexOf(b)},c.prototype.getIndex=function(b){return this._values[b]},Object.defineProperty(c.prototype,"first",{get:function(){return this._values[0]},
enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),c.prototype.insert=function(b){var a=this._insert(b);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:a,newValue:b})},c.prototype.remove=function(b){b=this.indexOf(b);if(-1!==b){var a=this._values[b];Vb(this._values,b);this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",
{type:"removed",target:this,index:b,oldValue:a})}},c.prototype.setAll=function(b){var a=this;ch(this._values,function(d,b){a._values.pop();a.events.isEnabled("removed")&&a.events.dispatchImmediately("removed",{type:"removed",target:a,index:b,oldValue:d})});J(b,function(d){a.insert(d)})},c.prototype.clear=function(){this.setAll([])},c.prototype.slice=function(b,a){var d=new c;return d._values=this._values.slice(b,a),d},c.prototype.findClosestIndex=function(b,a,d){void 0===d&&(d="any");var e,c,h=-1,
k=0;return $a(this.iterator(),function(f){f=a(f);if("any"===d){if(f===b)return h=k,!1;var n=Math.abs(b-f);(null==c||c>n)&&(h=k,e=f,c=n)}else"left"===d&&f<b?(null==e||e<f)&&(h=k,e=f):"right"===d&&f>=b&&(null==e||e>=f)&&(h=k,e=f);return++k,!0}),-1===h&&("left"===d?h=0:"right"===d&&(h=this.length-1)),h},c.prototype.iterator=function(){return Ib(this._values)},c.prototype[Symbol.iterator]=function(){var b,a;return H(this,function(d){switch(d.label){case 0:b=this._values.length,a=0,d.label=1;case 1:return a<
b?[4,this._values[a]]:[3,4];case 2:d.sent(),d.label=3;case 3:return++a,[3,1];case 4:return[2]}})},c.prototype.each=function(b){J(this._values,b)},c}(),ue=function(c){function b(a){var d=c.call(this)||this;return d._ordering=a,d}return m(b,c),b.prototype._insert=function(a){var d=Nc(this._values,this._ordering,a).index;return Wb(this._values,d,a),d},b.prototype.indexOf=function(a){a=Nc(this._values,this._ordering,a);var d=a.index;return a.found?d:-1},b.prototype.update=function(a){var d=eb(this._values,
a);if(-1!==d){var b=this._values.length-1;(0===d||0>this._ordering(this._values[d-1],a))&&(d===b||0>this._ordering(a,this._values[d+1]))||(Vb(this._values,d),this._insert(a))}},b}(Zf),$f=function(c){function b(a){var d=c.call(this)||this;return d.template=a,d}return m(b,c),Object.defineProperty(b.prototype,"template",{get:function(){return this._template},set:function(a){a.isTemplate=!0;this._template=a},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var d=this;v(a.iterator(),function(a){d.insert(a.clone())})},
b.prototype.slice=function(a,d){var e=new b(this.template);return e._values=this._values.slice(a,d),e},b.prototype.create=function(a){a=null!=a?new a:this.template.clone();return this.insert(a),a},b}(Zf),Qi=function(c){function b(a,d){d=c.call(this,d)||this;return d.template=a,d}return m(b,c),Object.defineProperty(b.prototype,"template",{get:function(){return this._template},set:function(a){a.isTemplate=!0;this._template=a},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var d=this;
v(a.iterator(),function(a){d.insert(a.clone())})},b.prototype.create=function(a){a=null!=a?new a:this.template.clone();return this.insert(a),a},b}(ue),Li=function(){function c(){this._callbackId=0;this._callbacks=new ue(function(b,a){return lf(zb(b.priority,a.priority),zb(b.id,a.id))})}return c.prototype.addAll=function(b,a,d,e,c){void 0===e&&(e=0);this._callbacks.insert({id:++this._callbackId,key:a,callback:d,priority:e,scope:c,type:b})},c.prototype.isEnabled=function(b,a){return 0<this._callbacks.length},
c.prototype.applyAll=function(b,a,d){var e=this._callbacks.values,c=e.length;if(0==c)return d;for(var h=0;h<c;++h){var k=e[h];k.key===a&&b instanceof k.type&&(d=k.callback.call(k.scope,d,b,a))}return d},c}(),Wf=new Li,Qa=function(){function c(b){this._callbackId=0;this._callbacks=new ue(function(a,d){return lf(zb(a.priority,d.priority),zb(a.id,d.id))});this.object=b;this.events=this._callbacks.events}return c.prototype.add=function(b,a,d,e){void 0===d&&(d=0);this._callbacks.insert({id:++this._callbackId,
key:b,callback:a,priority:d,scope:e})},c.prototype.has=function(b,a,d,e){return void 0===d&&(d=0),!1},c.prototype.remove=function(b,a){var d=this;J(qc(this._callbacks.iterator()),function(e){e.key!==b||l(a)&&a!==e.priority||d._callbacks.remove(e)})},c.prototype.isEnabled=function(b){return 0<this._callbacks.length||Wf.isEnabled(this.object,b)},c.prototype.apply=function(b,a){var d=this._callbacks.values,e=d.length;if(0<e)for(var c=0;c<e;++c){var h=d[c];h.key===b&&(a=h.callback.call(h.scope,a,this.object,
b))}return a=Wf.applyAll(this.object,b,a)},c.prototype.keys=function(){return qc(gf(this._callbacks.iterator(),function(b){return b.key}))},c.prototype.copyFrom=function(b){var a=this;v(b._callbacks.iterator(),function(d){a.add(d.key,d.callback,d.priority,d.scope)})},c.prototype.clear=function(){this._callbacks.clear()},c}(),yh={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,
g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,
b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,
g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,
g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,
g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},
mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},
paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,
g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},
yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}},U=function(){function c(b){this._value=b}return Object.defineProperty(c.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hex",{get:function(){return this._value?Bh(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgba",{get:function(){return this._value?Ch(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,
"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(b){this._value&&(this._value.a=b)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new c({r:255,g:255,b:255})),this._lightColor},set:function(b){this._lightColor=b},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new c({r:0,
g:0,b:0})),this._darkColor},set:function(b){this._darkColor=b},enumerable:!0,configurable:!0}),c.prototype.toString=function(){return 1>this.alpha?this.rgba:this.hex},c.prototype.lighten=function(b){return new c(Dh(this.rgb,b))},c.prototype.brighten=function(b){return new c(Eh(this.rgb,b))},c.prototype.saturate=function(b){return new c(Fh(this.rgb,b))},Object.defineProperty(c.prototype,"alternative",{get:function(){if(null!=this.rgb)return Gh(this.rgb)?this.darkColor:this.lightColor;throw Error("Color does not exist");
},enumerable:!0,configurable:!0}),c}(),La=function(){function c(){this._disposed=!1;this._disposers=[];this.className="BaseObject"}return c.prototype.debug=function(){},Object.defineProperty(c.prototype,"uid",{get:function(){return this._uid||(this._uid=p.getUniqueId(),p.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._id},set:function(b){this._id=b},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,
"map",{get:function(){return this._map||(this._map=new ga),this._map},enumerable:!0,configurable:!0}),c.prototype.applyTheme=function(){var b=this;if(p){var a=this.getCurrentThemes();a&&J(a,function(a,e){a(b)})}},Object.defineProperty(c.prototype,"themes",{get:function(){return this._themes},set:function(b){this._themes=b},enumerable:!0,configurable:!0}),c.prototype.getCurrentThemes=function(){return this.themes||p.themes},c.prototype.isDisposed=function(){return this._disposed},c.prototype.dispose=
function(){if(!this._disposed){this._disposed=!0;var b=this._disposers;for(this._disposers=null;0!==b.length;)b.shift().dispose();this.clearCache();this.clonedFrom&&this.clonedFrom.clones.removeValue(this);b=this._uid;null!=b&&p.map.removeKey(b)}},c.prototype.addDisposer=function(b){this._disposers.push(b)},c.prototype.removeDispose=function(b){if(!this._disposed){var a=eb(this._disposers,b);-1<a&&this._disposers.splice(a,1)}b.dispose()},c.prototype.clone=function(b){b||(b="clone-"+p.getUniqueId());
var a=new this.constructor;return a.cloneId=b,a.copyFrom(this),a},Object.defineProperty(c.prototype,"clones",{get:function(){return this._clones||(this._clones=new S),this._clones},enumerable:!0,configurable:!0}),c.prototype.copyFrom=function(b){b.clones.push(this);this.clonedFrom=b},Object.defineProperty(c.prototype,"className",{get:function(){return this._className},set:function(b){this._className=b},enumerable:!0,configurable:!0}),c.prototype.setCache=function(b,a,d){Ac.set(this.uid,b,a,d)},c.prototype.getCache=
function(b,a){return void 0===a&&(a=void 0),Ac.get(this.uid,b,a)},c.prototype.clearCache=function(){Ac.clear(this.uid)},c.prototype.setTimeout=function(b,a){var d=this,e=setTimeout(function(){d.removeDispose(c);b()},a),c=new X(function(){clearTimeout(e)});return this._disposers.push(c),c},c.prototype.setInterval=function(b,a){var d=this,e=setInterval(function(){d.removeDispose(c);b()},a),c=new X(function(){clearTimeout(e)});return this._disposers.push(c),c},Object.defineProperty(c.prototype,"config",
{set:function(b){try{this.processConfig(b)}catch(a){this.raiseCriticalError(a)}},enumerable:!0,configurable:!0}),c.prototype.processConfig=function(b){var a=this;if(b){var d=this;if(nh(b,function(b,f){var e,k=f;("callback"==b&&"function"==typeof f&&f.call(d),a.hasProperty(b))?(pa(k)&&null!=k.type&&(e=a.createClassInstance(k.type))?d[b]=e:e=d[b],e instanceof Qa)?a.processAdapters(e,k):e instanceof Eb?a.processEvents(e,k):"locale"==b&&Y(k)?document["am4lang_"+k]&&(d[b]=document["am4lang_"+k]):a.asIs(b)?
d[b]=k:k instanceof c?d[b]=k:e instanceof c?e.config=k:e instanceof oa?ya(k)?a.processListTemplate(k,e):pa(k)&&(k instanceof c?e.template=k:(b=void 0,b=null!=k.template?k.template:k,e.template instanceof c?e.template.config=b:K(b,function(d,b){var f=e.template[d];f instanceof Qa?a.processAdapters(f,b):f instanceof Eb?a.processEvents(f,b):f instanceof Cc?a.processDictionaryTemplate(f,b):e.template[d]instanceof c?e.template[d].config=b:pa(b)&&null!=b.type?(f=a.createClassInstance(b.type))?(f instanceof
c&&(f.config=b),e.template[d]=f):e.template[d]=b:f instanceof S?a.processList(b,f):e.template[d]=a.maybeColorOrPercent(b)}),null!=k.values&&a.processListTemplate(k.values,e))):e instanceof S?"children"==b?a.processList(k,e,a):a.processList(k,e):e instanceof Cc?a.processDictionaryTemplate(e,k):e instanceof ga?a.processDictionary(e,k):e instanceof U||e instanceof ka?d[b]=a.maybeColorOrPercent(k):pa(e)&&pa(k)?Qc(k,e):(k=a.maybeColorOrPercent(k),d[b]=k):a.isReserved(b)||(d[b]=k)},this.configOrder),this.processingErrors.length)throw b=
this.processingErrors.join("\n"),this._processingErrors=[],Error(b);}},c.prototype.maybeColorOrPercent=function(b){if(Y(b)){if(b.match(/^[\-]?[0-9.]+\%$/))return t(R(b));if(b.match(/^\#[0-9abcdef]{3,}$/i))return L(b)}return b},c.prototype.processAdapters=function(b,a){var d=this;ya(a)?J(a,function(a,c){b.add(a.key,a.callback,a.priority||0,d)}):pa(a)&&K(a,function(a,d){b.has(a,d)||b.add(a,d)})},c.prototype.processEvents=function(b,a){var d=this;pa(a)?K(a,function(a,d){b.has(a,d)||b.on(a,d)}):ya(a)&&
J(a,function(a,c){b.on(a.type,a.callback,d)})},c.prototype.processDictionaryTemplate=function(b,a){pa(a)&&K(a,function(a,e){var d;(d="template"==a?b.template:b.hasKey(a)?b.getKey(a):b.create(a))instanceof c?d.config=e:pa(d)&&pa(e)?Qc(e,d):d.setKey(a,e)})},c.prototype.processDictionary=function(b,a){pa(a)&&K(a,function(a,e){b.setKey(a,e)})},c.prototype.processListTemplate=function(b,a){var d=this;for(J(b,function(b,f){var e=d.getConfigEntryType(b);if(a.hasIndex(f)&&!b.forceCreate)f=a.getIndex(f);else{if(b instanceof
c)return void a.push(b);f=e?a.create(e):a.create()}pa(b)&&(f instanceof c?f.config=b:pa(f)&&pa(b)?Qc(b,f):a.setIndex(a.indexOf(f),b))});b.length>a.length;)a.pop()},c.prototype.processList=function(b,a,d){var e=this;ya(b)||(b=[b]);var f=a.length;for(J(b,function(b,k){if(pa(b)){var h=void 0;if(k<f&&!b.forceCreate)h=a.getIndex(k);else{if(b instanceof c)return void a.push(b);h=e.createEntryInstance(b);d?h.parent=d:a.push(h)}h instanceof c?h.config=b:pa(h)&&pa(b)&&Qc(b,h)}else a.hasIndex(k)?a.setIndex(k,
b):a.push(b)});b.length>a.length;)a.pop()},c.prototype.configOrder=function(b,a){return b==a?0:"language"==b?-1:"language"==a?1:0},c.prototype.asIs=function(b){return-1!=eb(["locale"],b)},c.prototype.createClassInstance=function(b){if(null!=p.registeredClasses[b])return new p.registeredClasses[b]},c.prototype.createEntryInstance=function(b){var a;return null!=b.type&&(a=this.createClassInstance(b.type)),a||b},c.prototype.getConfigEntryType=function(b){if(null!=b.type){if(null!=p.registeredClasses[b.type])return p.registeredClasses[b.type];
throw Error('Invalid type: "'+b.type+'".');}},c.prototype.hasProperty=function(b){return b in this},c.prototype.isReserved=function(b){return-1!==["type","forceCreate"].indexOf(b)},Object.defineProperty(c.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),c}(),qb=function(c){function b(){var a=c.call(this)||this;return a.events=new Eb,a.className="BaseObjectEvents",a._disposers.push(a.events),
a}return m(b,c),b.prototype.dispatch=function(a,d){this.events.isEnabled(a)&&(d?(d.type=a,d.target=d.target||this,this.events.dispatch(a,{type:a,target:this})):this.events.dispatch(a,{type:a,target:this}))},b.prototype.dispatchImmediately=function(a,d){this.events.isEnabled(a)&&(d?(d.type=a,d.target=d.target||this,this.events.dispatchImmediately(a,d)):this.events.dispatchImmediately(a,{type:a,target:this}))},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.events.copyFrom(a.events)},
b}(La),nl="px",qf="string",Xc="number",Yc="date",Ud="duration",fb="__\u00a7\u00a7\u00a7__",ic="__\u00a7\u00a7\u00a7\u00a7__",nk=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/,Af=4/11,Ek=6/11,Dk=8/11,Fk=.75,Hk=9/11,Gk=10/11,Ik=.9375,Jk=21/22,Kk=.984375,ce=1/Af/Af,cd=1,dd=.3/(2*Math.PI),de=Math.asin(1/cd)*dd,jd=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a.transitionDuration=0,a.transitionEasing=ac,a.properties=
{},a.propertyFields={},a.filters=new S,a.isTemplate=!1,a.className="SpriteState",a._disposers.push(new da(a.filters)),a.adapter.events.on("inserted",function(d){a[d.newValue.key]=a[d.newValue.key]},void 0,!1),a.adapter.events.on("removed",function(d){a[d.newValue.key]=a[d.newValue.key]},void 0,!1),a.applyTheme(),a}return m(b,c),b.prototype.getPropertyValue=function(a){var d=this.properties[a],b=this.sprite;if(b){var c=this.propertyFields[a];(null!=c&&b.dataItem&&(d=b.dataItem.dataContext[c]),null!=
d)?d=this.adapter.apply(a,d):(c=b.getPropertyValue(a),(d=this.adapter.apply(a,b.getPropertyValue(a)))==c&&(d=void 0))}return d},b.prototype.copyFrom=function(a){a&&a!=this&&(this.transitionDuration=a.transitionDuration,this.transitionEasing=a.transitionEasing,nb(a.properties,this.properties),nb(a.propertyFields,this.propertyFields),this.filters.copyFrom(a.filters),this.adapter.copyFrom(a.adapter))},Object.defineProperty(b.prototype,"allValues",{get:function(){var a=this,d={};return K(this.properties,
function(b,c){d[b]=a.getPropertyValue(b)}),K(this.adapter.keys(),function(b,c){b=a.getPropertyValue(c);d[c]=b}),K(this.propertyFields,function(b){var e=a.getPropertyValue(b);d[b]=e}),d},enumerable:!0,configurable:!0}),b.prototype.reset=function(){this.properties={};this.filters.clear()},b.prototype.processConfig=function(a){null!=a&&null!=a.properties&&K(a.properties,function(d,b){Y(b)&&(b.match(/^[0-9.\-]+\%$/)?a.properties[d]=t(R(b)):b.match(/^\#[0-9abcdef]{3,}$/i)&&(a.properties[d]=mb(b)))});c.prototype.processConfig.call(this,
a)},b}(La);p.registeredClasses.SpriteState=jd;var ki=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;return a._interactionEvents=new ga,a}return m(b,c),b.prototype._dispatchSpriteEvent=function(a){this.target.disabled||this.target.isTemplate||!this.target.events.isEnabled(a.type)||(a=Md(a,{target:this.target}),this.target.events.dispatchImmediately(a.type,a))},b.prototype._dispatchSpritePointEvent=function(a){this.target.disabled||this.target.isTemplate||!this.target.events.isEnabled(a.type)||
(a=Md(a,{target:this.target,spritePoint:$b(a.point,this.target),svgPoint:this.target.getSvgPoint(a.point)}),this.target.events.dispatchImmediately(a.type,a))},b.prototype._addInteractionObjectEvent=function(a,d,b,c){var e=this;return this._interactionEvents.insertKeyIfEmpty(a,function(){var f=e.target.interactions.events.on(a,d,b,c);return new rd(function(){e._interactionEvents.removeKey(a);f.dispose()})}).increment()},b.prototype._on=function(a,d,b,f,h,k){a=c.prototype._on.call(this,a,d,b,f,h,k);
b=[a.disposer];switch(d){case "hit":case "track":case "doublehit":case "wheel":case "wheelup":case "wheeldown":case "wheelleft":case "wheelright":b.push(this._addInteractionObjectEvent(d,this._dispatchSpritePointEvent,this,h));break;case "rightclick":case "down":case "up":case "drag":case "dragged":case "dragstart":case "dragstop":case "over":case "out":case "swipe":case "swipeleft":case "swiperight":case "resize":case "focus":case "blur":case "toggled":b.push(this._addInteractionObjectEvent(d,this._dispatchSpriteEvent,
this,h))}switch(d){case "hit":case "doublehit":case "rightclick":case "down":case "up":this.target.clickable=!0;break;case "toggled":this.target.togglable=!0;break;case "drag":case "dragstart":case "dragstop":this.target.draggable=!0;break;case "track":this.target.trackable=!0;break;case "resize":this.target.resizable=!0;break;case "swipe":case "swipeleft":case "swiperight":this.target.swipeable=!0;break;case "wheel":case "wheelup":case "wheeldown":case "wheelleft":case "wheelright":this.target.wheelable=
!0;break;case "over":this.target.hoverable=!0;case "out":this.target.hoverable=!0;break;case "focus":case "blur":this.target.focusable=!0}return a.disposer=new ja(b),a},b}(Xf),oi=function(){function c(){}return c.opacity=1,c.strokeOpacity=1,c.strokeWidth=1,c.fillOpacity=1,c.fill=L("#000000"),c.stroke=L("#000000"),c.focusable=void 0,c.tabindex=0,c}(),Bf,Hc=function(){function c(b){this._disposer=new X(function(){for(;0!==b.length;)b[0].dispose()})}return c.prototype.isDisposed=function(){return this._disposer.isDisposed()},
c.prototype.dispose=function(){this._disposer.dispose()},c}(),ib=function(c){function b(a,d,b,f){var e=c.call(this)||this;return e.duration=0,e.easing=Sh,e.progress=0,e._loop=0,e._pause=!1,e._delayTimeout=null,e._time=0,e._isFinished=!1,e.className="Animation",e.object=a,e.animationOptions=Xe(d),e.duration=b,f&&(e.easing=f),e.applyTheme(),e}return m(b,c),b.prototype.debug=function(){},b.prototype.dispose=function(){c.prototype.dispose.call(this);this.pause()},b.prototype.delay=function(a){var d=this;
if(0<a){this.pause();yb(this.object.animations,this);var b=setTimeout(function(){d._delayTimeout=null;d.start()},a);this._delayTimeout=new X(function(){clearTimeout(b)})}return this},b.prototype._start=function(){this._isFinished=!1;this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null);this.stopSameAnimations();this._pause=!1;yb(Q.animations,this);yb(this.object.animations,this);Q.requestFrame()},b.prototype.start=function(){this._start();this._startTime=Date.now();
this._time=0;this.staticOptions=[];for(var a=this.animationOptions.length-1;0<=a;a--){var d=this.animationOptions[a];if(null!=d.from||(d.childObject?d.from=d.childObject[d.property]:(d.from=this.object[d.property],null!=d.from||(d.from=oi[d.property]))),d.from==d.to)N(this.animationOptions,d);else if(null!=d.from)if(l(d.to))if(d.updateMethod=Yh,d.from instanceof ka){var b=this.object[Zh(d.property,"pixel")];isNaN(b)?(this.staticOptions.push(d),N(this.animationOptions,d)):d.from=b}else isNaN(d.from)&&
(this.staticOptions.push(d),N(this.animationOptions,d));else d.to instanceof U?d.from?d.updateMethod=Rk:(this.staticOptions.push(d),N(this.animationOptions,d)):d.to instanceof ka?(d.updateMethod=Qk,isNaN(d.from))||(b=this.object[Zh(d.property,"relative")],isNaN(b)||(d.from=t(100*b))):(this.staticOptions.push(d),N(this.animationOptions,d));else this.staticOptions.push(d),N(this.animationOptions,d)}(this.applyStaticOptions(),this.events.isEnabled("animationstarted"))&&this.events.dispatchImmediately("animationstarted",
{type:"animationstarted",target:this,progress:this.progress});return this.update(),0===this.duration&&this.end(),this},b.prototype.loop=function(a){return l(a)||(a=1/0),this._loop=a,this},b.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),N(Q.animations,this),N(this.object.animations,this),this},b.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},b.prototype.end=function(){(0==
this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended"))&&this.events.dispatchImmediately("animationended",{type:"animationended",target:this,progress:this.progress});return 0<this._loop?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},b.prototype.kill=function(){this.pause();this._isFinished=!0},b.prototype.isFinished=function(){return this._isFinished},b.prototype.applyStaticOptions=function(){var a=this;J(this.staticOptions,
function(d){d.childObject?d.childObject[d.property]=1==a.progress?d.to:d.from:a.object[d.property]=1==a.progress?d.to:d.from})},b.prototype.stop=function(a){(this.pause(),!a&&this.events.isEnabled("animationstopped"))&&this.events.dispatchImmediately("animationstopped",{type:"animationstopped",target:this,progress:this.progress});return this},b.prototype.setProgress=function(a){var d=this;(this._time=this.duration*a,J(this.animationOptions,function(b){if(b.updateMethod&&null!=b.from){var e=b.updateMethod(a,
b.from,b.to);b.childObject?b.childObject[b.property]=e:d.object[b.property]=e}}),this.progress=a,this.events.isEnabled("animationprogress"))&&this.events.dispatchImmediately("animationprogress",{type:"animationprogress",target:this,progress:this.progress});Q.requestFrame()},b.prototype.update=function(){if(!this._pause){var a=void 0;this._time=B(Date.now()-this._startTime,0,this.duration);var d=this._time/this.duration,a=this.easing(d);(0==this.duration||!l(a)||1<=d)&&(a=1);this.setProgress(a);1==
D(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(b.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),b.prototype.stopSameAnimations=function(){var a=this;J(pc(this.object.animations),function(d){if(d!==a&&!d.delayed){var b=[];J(a.animationOptions,function(a){J(d.animationOptions,function(e){a.property==e.property&&a.childObject==e.childObject&&(b.push(e),0==d.animationOptions.length&&d.kill())})});J(b,function(a){N(d.animationOptions,
a)})}})},b}(qb),tc="http://www.w3.org/2000/svg",ha=function(c){function b(a,d){var b=c.call(this,function(){var a=ci(),d=eb(a.cssRules,b._rule);if(-1===d)throw Error("Could not dispose StyleRule");a.deleteRule(d)})||this;return b._rule=function(a){var d=ci(),b=d.cssRules.length;return d.insertRule(a+"{}",b),d.cssRules[b]}(a),K(d,function(a,d){b.setStyle(a,d)}),b}return m(b,c),Object.defineProperty(b.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(a){this._rule.selectorText=
a},enumerable:!0,configurable:!0}),b.prototype._setVendorPrefixName=function(a,d){var b=this._rule.style;b.setProperty("-webkit-"+a,d,"");b.setProperty("-moz-"+a,d,"");b.setProperty("-ms-"+a,d,"");b.setProperty("-o-"+a,d,"");b.setProperty(a,d,"")},b.prototype.setStyle=function(a,d){"transition"===a?this._setVendorPrefixName(a,d):this._rule.style.setProperty(a,d,"")},b}(X),rl=0,kl=function(c){function b(a,d){var b=this;d=null!=d?d:"__style_"+ ++rl+"__";return(b=c.call(this,"."+d,a)||this)._className=
d,b}return m(b,c),Object.defineProperty(b.prototype,"className",{get:function(){return this._className},set:function(a){this._className=a;this.selector="."+a},enumerable:!0,configurable:!0}),b.prototype.toString=function(){return this._className},b}(ha),od=function(){function c(b){this._isDisposed=!1;this._rotation=this._y=this._x=0;this._scale=1;this.node="string"==typeof b?document.createElementNS(tc,b):b}return c.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},
Object.defineProperty(c.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),c.prototype.transform=function(){var b="translate("+this._x+","+this._y+")";1!=this._scale&&(b+=(b?" ":"")+"scale("+this._scale+")");0!=this._rotation&&(b+=(b?" ":"")+"rotate("+this._rotation+")");this._transformString=b;this.node.setAttribute("transform",b)},c.prototype.getBBox=function(){var b={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var a=
this.node.getBBox();b.x=a.x;b.y=a.y;b.width=a.width;b.height=a.height}catch(d){}return b},c.prototype.moveTo=function(b){if(b){var a=b.x;b=b.y;this._x==a&&this._y==b||(this._x=a,this._y=b,this.transform())}},Object.defineProperty(c.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(b){this.node.innerHTML=b},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(b){this.node.textContent=
b},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"x",{get:function(){return this._x},set:function(b){this._x!=b&&(this._x=b,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this._y},set:function(b){this._y!=b&&(this._y=b,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rotation",{get:function(){return this._rotation},set:function(b){this._rotation!=b&&(this._rotation=b,this.transform())},
enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"scale",{get:function(){return this._scale},set:function(b){this._scale!=b&&(this._scale=b,this.transform())},enumerable:!0,configurable:!0}),c.prototype.removeAttr=function(b){this.node.removeAttribute(b)},c.prototype.attr=function(b){var a=this;return K(b,function(d,b){null!=b?a.node.setAttribute(d,b):a.node.removeAttribute(d)}),this},c.prototype.getAttr=function(b){return this.node.getAttribute(b)},c.prototype.attrNS=function(b,
a,d){return this.node.setAttributeNS(b,a,d),this},c.prototype.getAttrNS=function(b,a){return this.node.getAttributeNS(b,a)},c.prototype.removeStyle=function(b){delete this.node.style[b]},c.prototype.getStyle=function(b){return this.node.style[b]},c.prototype.addStyle=function(b){var a=this;return K(b,function(d,b){null!=b?a.node.style[d]=b:a.removeStyle(d)}),this},c.prototype.addClass=function(b){ee(this.node,b)},c.prototype.removeClass=function(b){fe(this.node,b)},c.prototype.setClass=function(b){this.node.setAttribute("class",
b)},c.prototype.removeChildNodes=function(){for(;0<this.node.childNodes.length;)this.node.removeChild(this.node.firstChild)},c.prototype.isDisposed=function(){return this._isDisposed},c.prototype.dispose=function(){this.removeNode()},c}(),Fi=function(c){function b(a){return c.call(this,a)||this}return m(b,c),b.prototype.add=function(a){a&&this.node.appendChild(a.node)},b.prototype.addToBack=function(a){if(a){var d=this.node.childNodes[0];d?d!=a.node&&this.node.insertBefore(a.node,d):this.node.appendChild(a.node)}},
b.prototype.removeElement=function(a){if(a)try{a.node&&a.node.parentNode==this.node&&this.node.removeChild(a.node)}catch(d){}},b.prototype.hasChild=function(a){for(var d=0;d<this.node.childNodes.length;d++)if(this.node.childNodes[d]==a.node)return!0;return!1},Object.defineProperty(b.prototype,"content",{get:function(){return this.node.innerHTML},set:function(a){this.node.innerHTML=a},enumerable:!0,configurable:!0}),b.prototype.removeChildren=function(){if(this.node.childNodes)for(;0<this.node.childNodes.length;){var a=
this.node.firstChild;a&&a.parentNode&&a.parentNode.removeChild(a)}},b}(od),vj=new ga,Ei=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;return a._domEvents={},a}return m(b,c),b.prototype._addDOMEvent=function(a,d,b,c){var e=this;if(!this._domEvents[a]){var f=function(a){b.call(c,d,a)};this.target.element.addEventListener(a,f,!1);this._domEvents[a]=new rd(function(){delete e._domEvents[a];e.target.element.removeEventListener(a,f,!1)})}return this._domEvents[a].increment()},b.prototype._dispatchKeyboardEvent=
function(a,d){this.target.events.isEnabled(a)&&this.target.events.dispatchImmediately(a,{type:a,target:this.target,event:d})},b.prototype._on=function(a,d,b,f,h,k){a=c.prototype._on.call(this,a,d,b,f,h,k);b=[a.disposer];switch(d){case "hit":case "doublehit":case "rightclick":case "down":case "up":this.target.clickable=!0;break;case "drag":case "dragstart":case "dragstop":this.target.draggable=!0;break;case "track":this.target.trackable=!0;break;case "resize":this.target.resizable=!0;break;case "swipe":case "swipeleft":case "swiperight":this.target.swipeable=
!0;break;case "wheel":case "wheelup":case "wheeldown":case "wheelleft":case "wheelright":this.target.wheelable=!0;break;case "over":case "out":this.target.hoverable=!0;break;case "focus":case "blur":case "focusin":case "focusout":this.target.focusable=!0;break;case "keydown":case "keyup":case "keypress":case "input":b.push(this._addDOMEvent(d,d,this._dispatchKeyboardEvent,this))}return a.disposer=new ja(b),a},b}(Xf),Di=function(c){function b(a){var d=c.call(this)||this;return d.events=new Ei(d),d.eventDisposers=
new ga,d.replacedStyles=new ga,d._clickable=!1,d._contextMenuDisabled=!1,d._hoverable=!1,d._trackable=!1,d._draggable=!1,d._swipeable=!1,d._resizable=!1,d._wheelable=!1,d._inert=!1,d._isHover=!1,d._isHoverByTouch=!1,d._isDown=!1,d._isFocused=!1,d._isTouchProtected=!1,d._inertiaOptions=new ga,d.inertias=new ga,d._hitOptions={},d._hoverOptions={},d._swipeOptions={},d._keyboardOptions={},d._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},d._element=a,d.className="InteractionObject",
d._disposers.push(new Ob(d.inertias)),d._disposers.push(new Ob(d.eventDisposers)),d.applyTheme(),d}return m(b,c),Object.defineProperty(b.prototype,"isHover",{get:function(){return this._isHover},set:function(a){this.isHover!=a&&(this._isHover=a,a?C().overObjects.moveValue(this):C().overObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(a){this.isHoverByTouch!=a&&(this._isHoverByTouch=
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new S),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isDown",{get:function(){return this._isDown},set:function(a){this.isDown!=a&&(this._isDown=a,a?C().downObjects.moveValue(this):C().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"downPointers",{get:function(){return this._downPointers||
(this._downPointers=new S),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isFocused",{get:function(){return this._isFocused},set:function(a){this.isFocused!=a&&(this._isFocused=a,C().focusedObject=a?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(a){this._isTouchProtected!=a&&(this._isTouchProtected=a,a?C().unprepElement(this):(this.draggable||this.swipeable||
this.trackable||this.resizable)&&C().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"clickable",{get:function(){return this._clickable},set:function(a){this._clickable!==a&&(this._clickable=a,C().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(a){this._contextMenuDisabled!==a&&(this._contextMenuDisabled=a,C().processContextMenu(this))},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hoverable",{get:function(){return this._hoverable},set:function(a){this._hoverable!==a&&(this._hoverable=a,C().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"trackable",{get:function(){return this._trackable},set:function(a){this._trackable!==a&&(this._trackable=a,C().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"draggable",{get:function(){return this._draggable},
set:function(a){this._draggable!==a&&(this._draggable=a,C().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"swipeable",{get:function(){return this._swipeable},set:function(a){this._swipeable!==a&&(this._swipeable=a,C().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"resizable",{get:function(){return this._resizable},set:function(a){this._resizable!==a&&(this._resizable=a,C().processResizable(this))},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"wheelable",{get:function(){return this._wheelable},set:function(a){this._wheelable!==a&&(this._wheelable=a,C().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inert",{get:function(){return this._inert},set:function(a){this._inert!==a&&(this._inert=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"focusable",{get:function(){return this._focusable},set:function(a){this._focusable!==
a&&(this._focusable=a,this._focusable&&-1==this.tabindex&&(this._tabindex=1),C().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tabindex",{get:function(){return Ub(this._tabindex,-1)},set:function(a){this._tabindex!==a&&(this._tabindex=a,-1<a&&(this.focusable=!0),C().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"element",{get:function(){return this._element},set:function(a){this._element=a},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(a){this._originalPosition=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"originalScale",{get:function(){return Ub(this._originalScale,1)},set:function(a){this._originalScale!==a&&(this._originalScale=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"originalAngle",{get:function(){return Ub(this._originalAngle,0)},set:function(a){this._originalAngle!==
a&&(this._originalAngle=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inertiaOptions",{get:function(){return this.sprite?this.sprite.adapter.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(a){this._inertiaOptions=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hitOptions",{get:function(){return this.sprite?this.sprite.adapter.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(a){this._hitOptions=a},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"hoverOptions",{get:function(){return this.sprite?this.sprite.adapter.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(a){this._hoverOptions=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"swipeOptions",{get:function(){return this.sprite?this.sprite.adapter.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(a){this._swipeOptions=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"keyboardOptions",{get:function(){return this.sprite?this.sprite.adapter.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(a){this._keyboardOptions=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cursorOptions",{get:function(){return this.sprite?this.sprite.adapter.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(a){this._cursorOptions=a},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,
a);this.inertiaOptions=a.inertiaOptions;this.hitOptions=a.hitOptions;this.hoverOptions=a.hoverOptions;this.swipeOptions=a.swipeOptions;this.keyboardOptions=a.keyboardOptions;this.cursorOptions=a.cursorOptions;this.contextMenuDisabled=a.contextMenuDisabled;C().applyCursorOverStyle(this)},b.prototype.setEventDisposer=function(a,d,b){var e=this.eventDisposers.getKey(a);d?null==e&&this.eventDisposers.setKey(a,b()):null!=e&&(e.dispose(),this.eventDisposers.removeKey(a))},b.prototype.dispose=function(){c.prototype.dispose.call(this);
var a=C();a.overObjects.removeValue(this);a.downObjects.removeValue(this);a.trackedObjects.removeValue(this);a.transformedObjects.removeValue(this);this.isHover&&this.wheelable&&a.unlockWheel();a.focusedObject===this&&(a.focusedObject=void 0)},b}(qb),Ci=function(){function c(b,a){this._disposed=!1;this.directionY=this.directionX=0;this.interaction=b;this.keyboardEvent=a;this._startedOn=(new Date).getTime();C().processDragStart(b);Q.animations.push(this);this.update()}return c.prototype.update=function(){var b=
this.interaction,a=C().getKeyboardOption(b,"speed"),d=C().getKeyboardOption(b,"accelleration"),e=C().getKeyboardOption(b,"accellerationDelay"),c={x:0,y:0};this.keyboardEvent.shiftKey?(a*=.5,d=1):this.keyboardEvent.ctrlKey&&(a*=2);var h=(new Date).getTime()-this._startedOn,k=h-e;if(0<d&&0<k){var n=h/e,h=e;c.x+=this.directionX*a*d*n*k;c.y+=this.directionY*a*d*n*k}c.x+=this.directionX*a*h;c.y+=this.directionY*a*h;C().handleTransformMove(b,c,{x:0,y:0},this.keyboardEvent,!0,!1)},c.prototype.isDisposed=
function(){return this._disposed},c.prototype.dispose=function(){this._disposed||(C().processDragStop(this.interaction),N(Q.animations,this))},c}(),Bi=function(c){function b(a,d,b,f){var e=c.call(this)||this;return e.animations=[],e.className="Inertia",e.interaction=a,e.type=d,e.point=b,e.startPoint=f,e._disposers.push(new Hc(e.animations)),e}return m(b,c),Object.defineProperty(b.prototype,"x",{get:function(){return this.point.x},set:function(a){l(a)&&(this.point.x=a,this.handleMove())},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"y",{get:function(){return this.point.y},set:function(a){l(a)&&(this.point.y=a,this.handleMove())},enumerable:!0,configurable:!0}),b.prototype.handleMove=function(){this.interaction.events.isEnabled("drag")&&this.interaction.events.dispatchImmediately("drag",{type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1})},b.prototype.done=function(){this.interaction.inertias.removeKey(this.type);
"move"===this.type&&C().processDragStop(this.interaction);this.dispose()},b}(La),Ni=function(){function c(){}return c.prototype.getEventKey=function(b){switch(b.keyCode||b.which){case 38:b="up";break;case 40:b="down";break;case 37:b="left";break;case 39:b="right";break;case 13:b="enter";break;case 27:b="esc";break;case 36:b="home";break;case 35:b="end";break;case 9:b="tab";break;case 17:b="ctrl";break;case 18:b="alt";break;case 16:b="shift";break;case 32:b="space";break;case 36:b="home";break;case 35:b=
"end";break;case 33:b="pgup";break;case 34:b="pgdn";break;case 45:b="ins";break;case 46:b="del";break;case 107:b="plus";break;case 109:b="minus";break;default:b="other"}return b},c.prototype.isKey=function(b,a){b=this.getEventKey(b);return Y(a)&&(a=[a]),-1!==a.indexOf(b)},c.prototype.shiftKey=function(b){return b.shiftKey},c.prototype.ctrlKey=function(b){return b.ctrlKey},c.prototype.altKey=function(b){return b.altKey},c.prototype.metaKey=function(b){return b.metaKey},c}(),wb=new Ni,di={millisecond:1,
second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:2592E6,year:31536E6},fi=function(c){function b(){var a=c.call(this)||this;a._globalEventsAdded=!1;a._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"};a._usePointerEventsOnly=!1;a._useTouchEventsOnly=!1;a._addHoverEvents=!0;a._passiveSupported=!1;a._delayedEvents={out:[]};a.overObjects=new S;a.downObjects=new S;a.trackedObjects=
new S;a.transformedObjects=new S;a.pointers=new ga;a.inertiaOptions=new ga;a.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0};a.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1E3};a.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30};a.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2E3};a.className="Interaction";a.body=a.getInteraction(document.body);a._disposers.push(a.body);window.hasOwnProperty("PointerEvent")?(a._pointerEvents.pointerdown="pointerdown",
a._pointerEvents.pointerup="pointerup",a._pointerEvents.pointermove="pointermove",a._pointerEvents.pointercancel="pointercancel",a._pointerEvents.pointerover="pointerover",a._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(a._pointerEvents.pointerdown="MSPointerDown",a._pointerEvents.pointerup="MSPointerUp",a._pointerEvents.pointermove="MSPointerMove",a._pointerEvents.pointercancel="MSPointerUp",a._pointerEvents.pointerover="MSPointerOver",a._pointerEvents.pointerout=
"MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(a._addHoverEvents=!1,a._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)?a._usePointerEventsOnly=!0:a._useTouchEventsOnly=!0;"onwheel"in document.createElement("div")?a._pointerEvents.wheel="wheel":null!=document.onmousewheel&&(a._pointerEvents.wheel="mousewheel");a.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:yf});a.inertiaOptions.setKey("resize",{time:100,
duration:500,factor:1,easing:yf});try{var d=Object.defineProperty({},"passive",{get:function(){a._passiveSupported=!0}});window.addEventListener("test",d,d);window.removeEventListener("test",d,d)}catch(e){a._passiveSupported=!1}return a.applyTheme(),a}return m(b,c),b.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},b.prototype.debug=function(){},b.prototype.addGlobalEvents=function(){var a=this;this._globalEventsAdded||(this._useTouchEventsOnly||
(this._disposers.push(za(document,this._pointerEvents.pointerdown,function(d){a.handleGlobalPointerDown(d)})),this._disposers.push(za(document,this._pointerEvents.pointermove,function(d){a.handleGlobalPointerMove(d)})),this._disposers.push(za(document,this._pointerEvents.pointerup,function(d){a.handleGlobalPointerUp(d)})),this._disposers.push(za(document,this._pointerEvents.pointercancel,function(d){a.handleGlobalPointerUp(d,!0)}))),this._usePointerEventsOnly||(this._disposers.push(za(document,"touchstart",
function(d){a.handleGlobalTouchStart(d)})),this._disposers.push(za(document,"touchmove",function(d){a.handleGlobalTouchMove(d)})),this._disposers.push(za(document,"touchend",function(d){a.handleGlobalTouchEnd(d)}))),this._disposers.push(za(document,"keydown",function(d){a.handleGlobalKeyDown(d)})),this._disposers.push(za(document,"keyup",function(d){a.handleGlobalKeyUp(d)})),this._globalEventsAdded=!0)},b.prototype.processClickable=function(a){this.processTouchable(a)},b.prototype.processContextMenu=
function(a){a.contextMenuDisabled?a.eventDisposers.hasKey("contextMenuDisabled")||a.eventDisposers.setKey("contextMenuDisabled",za(a.element,"contextmenu",function(a){a.preventDefault()})):a.eventDisposers.hasKey("contextMenuDisabled")&&a.eventDisposers.getKey("contextMenuDisabled").dispose()},b.prototype.processHoverable=function(a){var d=this;if(a.hoverable||a.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(a),!a.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&a.eventDisposers.setKey("hoverable",
new ja([za(a.element,this._pointerEvents.pointerout,function(b){return d.handlePointerOut(a,b)}),za(a.element,this._pointerEvents.pointerover,function(b){return d.handlePointerOver(a,b)})])),a.trackable;else{var b=a.eventDisposers.getKey("hoverable");null!=b&&(b.dispose(),a.eventDisposers.removeKey("hoverable"))}this.processTouchable(a)},b.prototype.processMovable=function(a){(a.draggable||a.swipeable||a.trackable||a.resizable)&&(this.isGlobalElement(a)||a.isTouchProtected||this.prepElement(a),this.applyCursorOverStyle(a));
this.processTouchable(a)},b.prototype.processTrackable=function(a){this.processHoverable(a);this.processMovable(a);a.trackable?this.trackedObjects.moveValue(a):this.trackedObjects.removeValue(a)},b.prototype.processDraggable=function(a){this.processMovable(a)},b.prototype.processSwipeable=function(a){this.processMovable(a)},b.prototype.processResizable=function(a){this.processMovable(a)},b.prototype.processWheelable=function(a){var d=this;if(a.wheelable)a.eventDisposers.hasKey("wheelable")||a.eventDisposers.setKey("wheelable",
new ja([za(a.element,this._pointerEvents.wheel,function(b){return d.handleMouseWheel(a,b)},!!this._passiveSupported&&{passive:!1}),a.events.on("out",function(b){a.wheelable&&d.unlockWheel()}),a.events.on("over",function(b){a.wheelable&&d.lockWheel()})]));else{var b=a.eventDisposers.getKey("wheelable");null!=b&&(b.dispose(),a.eventDisposers.removeKey("wheelable"))}},b.prototype.processFocusable=function(a){var d=this;if(!0===a.focusable&&-1<a.tabindex&&!this._useTouchEventsOnly)a.eventDisposers.hasKey("focusable")||
a.eventDisposers.setKey("focusable",new ja([za(a.element,"focus",function(b){return d.handleFocus(a,b)}),za(a.element,"blur",function(b){return d.handleBlur(a,b)}),za(a.element,this._pointerEvents.pointerdown,function(b){return d.handleFocusBlur(a,b)}),za(a.element,"touchstart",function(b){return d.handleFocusBlur(a,b)},!!this._passiveSupported&&{passive:!1})]));else{var b=a.eventDisposers.getKey("focusable");null!=b&&(b.dispose(),a.eventDisposers.removeKey("focusable"))}},b.prototype.processTouchable=
function(a){var d=this;if(a.clickable||a.hoverable||a.trackable||a.draggable||a.swipeable||a.resizable)this.addGlobalEvents(),a.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||a.eventDisposers.setKey("touchable",za(a.element,"touchstart",function(b){return d.handleTouchDown(a,b)},!!this._passiveSupported&&{passive:!1})):a.eventDisposers.setKey("touchable",za(a.element,this._pointerEvents.pointerdown,function(b){return d.handlePointerDown(a,
b)})):a.eventDisposers.setKey("touchable",new ja([za(a.element,this._pointerEvents.pointerdown,function(b){return d.handlePointerDown(a,b)}),za(a.element,"touchstart",function(b){return d.handleTouchDown(a,b)},!!this._passiveSupported&&{passive:!1})])));else{var b=a.eventDisposers.getKey("touchable");null!=b&&(b.dispose(),a.eventDisposers.removeKey("touchable"))}},b.prototype.handleFocus=function(a,d){a.focusable?(a.isFocused=!0,a.events.isEnabled("focus")&&!Q.isPaused)&&a.events.dispatchImmediately("focus",
{type:"focus",target:a,event:d}):d.preventDefault()},b.prototype.handleFocusBlur=function(a,d){!1!==a.focusable&&this.getHitOption(a,"noFocus")&&a.events.once("focus",function(){a.events.disableType("blur");ge();a.sprite&&a.sprite.handleBlur();a.events.enableType("blur")})},b.prototype.handleBlur=function(a,d){a.focusable?(a.isFocused=!1,a.events.isEnabled("blur")&&!Q.isPaused)&&a.events.dispatchImmediately("blur",{type:"blur",target:a,event:d}):d.preventDefault()},b.prototype.handleGlobalKeyDown=
function(a){if(this.focusedObject)if(wb.isKey(a,"esc"))ge();else if(this.focusedObject.draggable&&wb.isKey(a,["up","down","left","right"])){a.preventDefault();var d=this.focusedObject;if(!d.eventDisposers.hasKey("interactionKeyboardObject")){var b=new Ci(d,a);switch(d.eventDisposers.setKey("interactionKeyboardObject",b),wb.getEventKey(a)){case "up":b.directionY=-1;break;case "down":b.directionY=1;break;case "left":b.directionX=-1;break;case "right":b.directionX=1}}}},b.prototype.handleGlobalKeyUp=
function(a){if(this.focusedObject){var d=this.focusedObject.eventDisposers.getKey("interactionKeyboardObject");null!=d&&(a.preventDefault(),d.dispose(),this.focusedObject.eventDisposers.removeKey("interactionKeyboardObject"))}},b.prototype.handleGlobalPointerMove=function(a){var d=this.getPointer(a);(d.point=this.getPointerPoint(a),this.events.isEnabled("track")&&!Q.isPaused)&&this.events.dispatchImmediately("track",{type:"track",target:this,event:a,pointer:d,touch:d.touch});this.addBreadCrumb(d,
d.point);this.handleGlobalMove(d,a)},b.prototype.handleGlobalPointerDown=function(a){this.processDelayed();var d=this.getPointer(a);this.events.isEnabled("down")&&!Q.isPaused&&this.events.dispatchImmediately("down",{type:"down",target:this,event:a,pointer:d,touch:d.touch})},b.prototype.preventTouchAction=function(a){a.defaultPrevented||a.preventDefault()},b.prototype.handleGlobalPointerUp=function(a,d){void 0===d&&(d=!1);var b=this.getPointer(a);this.events.isEnabled("up")&&!Q.isPaused&&this.events.dispatchImmediately("up",
{type:"up",target:this,event:a,pointer:b,touch:b.touch});this.handleGlobalUp(b,a,d)},b.prototype.handleGlobalTouchMove=function(a){for(var d=0;d<a.changedTouches.length;d++){var b=this.getPointer(a.changedTouches[d]);(b.point=this.getPointerPoint(a.changedTouches[d]),this.events.isEnabled("track")&&!Q.isPaused)&&this.events.dispatchImmediately("track",{type:"track",target:this,event:a,pointer:b,touch:b.touch});this.addBreadCrumb(b,b.point);this.handleGlobalMove(b,a)}},b.prototype.handleGlobalTouchStart=
function(a){this.processDelayed();for(var d=0;d<a.changedTouches.length;d++){var b=this.getPointer(a.changedTouches[d]);this._usePointerEventsOnly||!this.events.isEnabled("down")||Q.isPaused||this.events.dispatchImmediately("down",{type:"down",target:this,event:a,pointer:b,touch:b.touch})}},b.prototype.handleGlobalTouchEnd=function(a){for(var d=0;d<a.changedTouches.length;d++){var b=this.getPointer(a.changedTouches[d]);this.events.isEnabled("up")&&!Q.isPaused&&this.events.dispatchImmediately("up",
{type:"up",target:this,event:a,pointer:b,touch:b.touch});this.handleGlobalUp(b,a)}},b.prototype.handlePointerDown=function(a,d){var b=this.getPointer(d);(b.touch||1==d.which||3==d.which)&&(b.button=d.which,this.resetPointer(b,d),this.handleDown(a,b,d))},b.prototype.handlePointerOver=function(a,d){var b=this.getPointer(d);this.handleOver(a,b,d)},b.prototype.handlePointerOut=function(a,d){var b=this.getPointer(d);this.handleOut(a,b,d)},b.prototype.handleMouseWheel=function(a,d){var b=this.getPointer(d);
b.point=this.getPointerPoint(d);var c=0,h=0,h=1;if(1==d.deltaMode&&(h=50),!(d instanceof WheelEvent))throw Error("Invalid event type");c=Math.round(-1*d.wheelDeltaX||d.deltaX)*h;h*=Math.round(-1*d.wheelDeltaY||d.deltaY);this.handleWheel(a,b,c,h,d)},b.prototype.handleTouchDown=function(a,d){for(var b=0;b<d.changedTouches.length;b++){var c=this.getPointer(d.changedTouches[b]);this.maybePreventDefault(a,d,c);this.resetPointer(c,d.changedTouches[b]);this.handleDown(a,c,d)}},b.prototype.handleHit=function(a,
d,b){var e=ob();a.lastHit&&a.lastHit>=e-this.getHitOption(a,"doubleHitTime")?100>e-a.lastHit||(a.lastHit=void 0,a.lastHitPointer=void 0,!a.events.isEnabled("doublehit")||Q.isPaused)||(d={type:"doublehit",target:a,point:d.point,event:b,touch:d.touch},a.events.dispatchImmediately("doublehit",d)):(a.lastHit=e,a.lastHitPointer=d,3===d.button)?a.events.isEnabled("rightclick")&&!Q.isPaused&&(d={type:"rightclick",target:a,event:b},a.events.dispatchImmediately("rightclick",d)):a.events.isEnabled("hit")&&
!Q.isPaused&&(d={type:"hit",target:a,event:b,point:d.point,touch:d.touch},a.events.dispatchImmediately("hit",d))},b.prototype.handleOver=function(a,d,b,c){(void 0===c&&(c=!1),a.hoverable&&(this.processDelayed(),a.overPointers.moveValue(d),!a.isHover&&(a.isHover=!0,this.overObjects.moveValue(a),this.handleTrack(this.body,d,b,!0),a.events.isEnabled("over")&&!Q.isPaused)))&&a.events.dispatchImmediately("over",{type:"over",target:a,event:b,pointer:d,touch:d.touch})},b.prototype.handleOut=function(a,d,
b,c,h){var e=this;if(!((void 0===c&&(c=!1),void 0===h&&(h=!1),!a.hoverable||(a.overPointers.removeValue(d),!a.isHover||a.hasDelayedOut&&!h))||c&&a.overPointers.length)){if(d.touch&&!h&&!this.old(d)){c=this.getHoverOption(a,"touchOutBehavior");if("leave"==c)return this._delayedEvents.out.push({type:"out",io:a,pointer:d,event:b,keepUntil:ob()+500}),void(a.hasDelayedOut=!0);if("delay"==c&&this.getHoverOption(a,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:a,pointer:d,event:b,
keepUntil:ob()+500,timeout:this.setTimeout(function(){e.handleOut(a,d,b,!0)},this.getHoverOption(a,"touchOutDelay"))})}(a.isHover=!1,this.overObjects.removeValue(a),a.events.isEnabled("out")&&!Q.isPaused)&&a.events.dispatchImmediately("out",{type:"out",target:a,event:b,pointer:d,touch:d.touch});a.overPointers.clear();a.hasDelayedOut=!1}},b.prototype.processDelayed=function(){for(var a;a=this._delayedEvents.out.pop();)a.timeout&&a.timeout.dispose(),this.handleOut(a.io,a.pointer,a.event,!1,!0)},b.prototype.handleDown=
function(a,d,b){(this.maybePreventDefault(a,b,d),a.inert&&this.stopInertia(a),this.handleOver(a,d,b,!0),a.downPointers.moveValue(d),this.applyCursorDownStyle(a,d),a.isDown||(!1!==a.focusable&&this.getHitOption(a,"noFocus")&&this.focusedObject&&ge(),a.isDown=!0,this.downObjects.moveValue(a),a.draggable&&this.processDragStart(a,d,b),a.resizable&&this.processResizeStart(a,d,b)),a.events.isEnabled("down")&&!Q.isPaused)&&a.events.dispatchImmediately("down",{type:"down",target:a,event:b,pointer:d,touch:d.touch})},
b.prototype.handleGlobalUp=function(a,d,b){var e=this;void 0===b&&(b=!1);v(this.downObjects.backwards().iterator(),function(c){c&&c.downPointers.contains(a)&&e.handleUp(c,a,d,b)})},b.prototype.handleUp=function(a,d,b,c){if(void 0===c&&(c=!1),this.restoreCursorDownStyle(a,d),a.downPointers.removeValue(d),(d.touch||this._useTouchEventsOnly)&&this.handleOut(a,d,b,!0),a.isDown)(0==a.downPointers.length&&(a.isDown=!1,this.downObjects.removeValue(a)),a.events.isEnabled("up")&&!Q.isPaused)&&a.events.dispatchImmediately("up",
{type:"up",target:a,event:b,pointer:d,touch:d.touch}),c||(a.swipeable&&this.swiped(a,d)?this.handleSwipe(a,d,b):(a.clickable&&!this.moved(d,this.getHitOption(a,"hitTolerance"))&&this.handleHit(a,d,b),a.inert&&this.moved(d,this.getHitOption(a,"hitTolerance"))?this.handleInertia(a,d):a.draggable&&this.processDragStop(a,d,b),a.resizable&&this.processResizeStop(a,d,b)))},b.prototype.maybePreventDefault=function(a,d,b){null==d||!(a.draggable||a.swipeable||a.trackable||a.resizable)||this.isGlobalElement(a)||
!1===d.cancelable||a.isTouchProtected&&b&&b.touch||d.preventDefault()},b.prototype.handleGlobalMove=function(a,d){var b=this;a.touch||v(this.overObjects.backwards().iterator(),function(e){if(e&&e.overPointers.contains(a)&&e.hoverable){var c=!1;e.element&&a.lastEvent&&ai(e.element,a.lastEvent.target)||(c=!0);c&&b.handleOut(e,a,d,!0)}});v(this.transformedObjects.backwards().iterator(),function(e){!e.downPointers.contains(a)||e.swipeable&&b.swiping(e,a)||!e.draggable&&!e.resizable||b.handleTransform(e,
d)});v(this.trackedObjects.backwards().iterator(),function(e){e.overPointers.contains(a)||b.handleTrack(e,a,d)})},b.prototype.handleTrack=function(a,d,b,c){(void 0===c&&(c=!1),(c||this.moved(d,0))&&a.events.isEnabled("track")&&!Q.isPaused)&&a.events.dispatchImmediately("track",{type:"track",target:a,event:b,point:d.point,pointer:d,touch:d.touch})},b.prototype.handleSwipe=function(a,d,b){if(a.events.isEnabled("swipe")&&!Q.isPaused){var e={type:"swipe",target:a,event:b,touch:d.touch};a.events.dispatchImmediately("swipe",
e)}d.startPoint.x<d.point.x?a.events.isEnabled("swiperight")&&!Q.isPaused&&(e={type:"swiperight",target:a,event:b,touch:d.touch},a.events.dispatchImmediately("swiperight",e)):a.events.isEnabled("swipeleft")&&!Q.isPaused&&(e={type:"swipeleft",target:a,event:b,touch:d.touch},a.events.dispatchImmediately("swipeleft",e))},b.prototype.handleWheel=function(a,d,b,c,h){var e={x:b,y:c};a.events.isEnabled("wheel")&&!Q.isPaused&&a.events.dispatchImmediately("wheel",{type:"wheel",target:a,event:h,point:d.point,
shift:e});0>b?a.events.isEnabled("wheelleft")&&!Q.isPaused&&a.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:a,event:h,point:d.point,shift:e}):0<b?a.events.isEnabled("swiperight")&&!Q.isPaused&&a.events.dispatchImmediately("wheelright",{type:"wheelright",target:a,event:h,point:d.point,shift:e}):0>c?a.events.isEnabled("wheelup")&&!Q.isPaused&&a.events.dispatchImmediately("wheelup",{type:"wheelup",target:a,event:h,point:d.point,shift:e}):0<c&&a.events.isEnabled("wheeldown")&&!Q.isPaused&&
a.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:a,event:h,point:d.point,shift:e})},b.prototype.handleInertia=function(a,d){a.draggable&&0===a.downPointers.length&&this.handleMoveInertia(a,d);a.resizable&&1<a.downPointers.length&&this.handleResizeInertia(a,d)},b.prototype.handleMoveInertia=function(a,d){var b=new Bi(a,"move",{x:d.point.x,y:d.point.y},{x:d.startPoint.x,y:d.startPoint.y}),c=this.getTrailPoint(d,ob()-this.getInertiaOption(a,"move","time"));if(void 0!==c){var h=this.getInertiaOption(a,
"move","factor");d=(new ib(b,[{to:d.point.x+(d.point.x-c.point.x)*h,property:"x"},{to:d.point.y+(d.point.y-c.point.y)*h,property:"y"}],this.getInertiaOption(a,"move","duration"),this.getInertiaOption(a,"move","easing"))).start();this._disposers.push(d.events.on("animationended",function(a){b.done()}));a.inertias.setKey("move",b)}else this.processDragStop(a,d,d.lastUpEvent)},b.prototype.handleResizeInertia=function(a,d){},b.prototype.handleTransform=function(a,d){var b,c,h,k=a.downPointers.getIndex(0),
n=null,q=null;k&&(n=k.point,q=k.startPoint);h=c={x:a.originalPosition.x,y:a.originalPosition.y};for(var g=!0,x=1;x<a.downPointers.length;x++){var ea=a.downPointers.getIndex(x);if(q.x!=ea.startPoint.x&&q.y!=ea.startPoint.y){g=!1;c=(b=ea).point;h=b.startPoint;break}}x=k&&this.moved(k,0);(a.draggable&&k&&k.dragStartEvents&&k.dragStartEvents.length&&x&&a.events.isEnabled("dragstart")&&!Q.isPaused&&a.events.dispatchImmediately("dragstart",k.dragStartEvents.shift()),g&&a.draggable)?this.handleTransformMove(a,
n,q,d,x,k.touch):(b=b&&this.moved(b,0),a.draggable&&a.resizable?(this.handleTransformMove(a,n,q,d,x&&b,k.touch),this.handleTransformResize(a,n,q,c,h,d,x&&b,k.touch)):(a.draggable&&this.handleTransformMove(a,n,q,d,x,k.touch),!a.resizable||g&&!d.ctrlKey||this.handleTransformResize(a,n,q,c,h,d,x&&b,k.touch)))},b.prototype.handleTransformMove=function(a,d,b,c,h,k){!h||!a.events.isEnabled("drag")||Q.isPaused||a.isTouchProtected&&k||a.events.dispatchImmediately("drag",{type:"drag",target:a,event:c,shift:{x:d.x-
b.x,y:d.y-b.y},startPoint:b,point:d,touch:k})},b.prototype.handleTransformResize=function(a,d,b,c,h,k,n,q){!a.events.isEnabled("resize")||Q.isPaused||a.isTouchProtected&&q||(d={type:"resize",target:a,event:k,scale:$g(d,b,c,h),startPoint1:b,point1:d,startPoint2:h,point2:c,touch:q},a.events.dispatchImmediately("resize",d))},b.prototype.processDragStart=function(a,d,b){this.transformedObjects.moveValue(a);b={type:"dragstart",target:a,event:b,touch:!!d&&d.touch};d&&(d.dragTarget=a);d&&d.dragStartEvents?
d.dragStartEvents.push(b):Q.isPaused||a.dispatchImmediately("dragstart",b)},b.prototype.processDragStop=function(a,d,b){(d||(d=this.getDragPointer(a)),d&&(d.dragTarget=void 0),this.transformedObjects.removeValue(a),d&&!this.moved(d,0)||!a.events.isEnabled("dragstop")||Q.isPaused)||a.events.dispatchImmediately("dragstop",{type:"dragstop",target:a,touch:!!d&&d.touch})},b.prototype.processResizeStart=function(a,d,b){this.transformedObjects.moveValue(a)},b.prototype.processResizeStop=function(a,d,b){this.transformedObjects.removeValue(a)},
b.prototype.dragStart=function(a,d){d||(d=this.getDragPointer(a));d&&this.handleDown(a,d,d.lastDownEvent)},b.prototype.dragStop=function(a,d){d||(d=this.getDragPointer(a));d&&this.handleGlobalUp(d,d.lastUpEvent)},b.prototype.getDragPointer=function(a){return a?a.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},b.prototype.getPointerId=function(a){return(null!=a.identifier?""+a.identifier:null!=a.pointerId?""+a.pointerId:"m").replace("-",
"")},b.prototype.getPointerPoint=function(a){return{x:a.clientX,y:a.clientY}},b.prototype.getPointer=function(a){var d,b=this.getPointerId(a),c=this.getPointerPoint(a);return this.pointers.hasKey(b)?(d=this.pointers.getKey(b)).touch=this.isPointerTouch(a):(d={id:b,touch:this.isPointerTouch(a),startPoint:c,startTime:ob(),point:c,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(d,c),this.pointers.setKey(b,d)),d.lastEvent=a,d},b.prototype.isPointerTouch=function(a){if("undefined"!=typeof Touch&&
a instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&a instanceof PointerEvent&&null!=a.pointerType)switch(a.pointerType){case "touch":case "pen":case 2:break;case "mouse":case 4:return!1;default:return!(a instanceof MouseEvent)}else if(null!=a.type&&a.type.match(/^mouse/))return!1;return!0},b.prototype.resetPointer=function(a,d){d=this.getPointerPoint(d);a.startTime=ob();a.startPoint={x:d.x,y:d.y};a.point={x:d.x,y:d.y};a.track=[];a.swipeCanceled=!1},b.prototype.addBreadCrumb=function(a,
d){a.track.push({timestamp:ob(),point:d})},b.prototype.lockDocument=function(){this.prepElement(this.body)},b.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},b.prototype.lockElement=function(a){this.prepElement(a)},b.prototype.unlockElement=function(a){this.restoreAllStyles(a)},b.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},b.prototype.unlockWheel=
function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},b.prototype.isLocalElement=function(a,d,b){var e=this.getCache("local_pointer_"+a.id);if(null!=e)return e;d=(e=document.elementFromPoint(a.point.x,a.point.y))&&(d===e||ai(d,e));return this.setCache("local_pointer_"+a.id+"_"+b,d,100),d},b.prototype.wheelLockEvent=function(a){return a.preventDefault(),!1},b.prototype.prepElement=function(a){var d=a.element;if(d){for(var b="touchAction webkitTouchAction MozTouchAction MSTouchAction msTouchAction oTouchAction userSelect webkitUserSelect MozUserSelect MSUserSelect msUserSelect oUserSelect touchSelect webkitTouchSelect MozTouchSelect MSTouchSelect msTouchSelect oTouchSelect touchCallout webkitTouchCallout MozTouchCallout MSTouchCallout msTouchCallout oTouchCallout contentZooming webkitContentZooming MozContentZooming MSContentZooming msContentZooming oContentZooming userDrag webkitUserDrag MozUserDrag MSUserDrag msUserDrag oUserDrag".split(" "),
c=0;c<b.length;c++)b[c]in d.style&&this.setTemporaryStyle(a,b[c],"none");this.setTemporaryStyle(a,"tapHighlightColor","rgba(0, 0, 0, 0)")}},b.prototype.unprepElement=function(a){var d=a.element;if(d){for(var b="touchAction webkitTouchAction MozTouchAction MSTouchAction msTouchAction oTouchAction userSelect webkitUserSelect MozUserSelect MSUserSelect msUserSelect oUserSelect touchSelect webkitTouchSelect MozTouchSelect MSTouchSelect msTouchSelect oTouchSelect touchCallout webkitTouchCallout MozTouchCallout MSTouchCallout msTouchCallout oTouchCallout contentZooming webkitContentZooming MozContentZooming MSContentZooming msContentZooming oContentZooming userDrag webkitUserDrag MozUserDrag MSUserDrag msUserDrag oUserDrag".split(" "),
c=0;c<b.length;c++)b[c]in d.style&&this.restoreStyle(a,b[c]);this.restoreStyle(a,"tapHighlightColor")}},b.prototype.getHitOption=function(a,d){a=a.hitOptions[d];return void 0===a&&(a=this.hitOptions[d]),a},b.prototype.getHoverOption=function(a,d){a=a.hoverOptions[d];return void 0===a&&(a=this.hoverOptions[d]),a},b.prototype.getSwipeOption=function(a,d){a=a.swipeOptions[d];return void 0===a&&(a=this.swipeOptions[d]),a},b.prototype.getKeyboardOption=function(a,d){a=a.keyboardOptions[d];return void 0===
a&&(a=this.keyboardOptions[d]),a},b.prototype.getInertiaOption=function(a,d,b){return(a=a.inertiaOptions.getKey(d))&&null!=a[b]?a[b]:this.inertiaOptions.getKey(d)[b]},b.prototype.stopInertia=function(a){for(var d,b=["move","resize"],c=0;c<b.length;c++)if(d=b[c],a.inertias.hasKey(d)){var h=a.inertias.getKey(d);h&&h.dispose()}},b.prototype.swiping=function(a,d){var b=ob();return!(d.swipeCanceled||!a.swipeable)&&Math.abs(d.startPoint.y-d.point.y)<this.getSwipeOption(a,"verticalThreshold")&&d.startTime>
b-this.getSwipeOption(a,"time")},b.prototype.swiped=function(a,d){var b=ob();return!d.swipeCanceled&&Math.abs(d.startPoint.x-d.point.x)>this.getSwipeOption(a,"horizontalThreshold")&&Math.abs(d.startPoint.y-d.point.y)<this.getSwipeOption(a,"verticalThreshold")&&d.startTime>b-this.getSwipeOption(a,"time")},b.prototype.applyCursorOverStyle=function(a){var d=a.cursorOptions;if(null!=d.overStyle)for(var b=0;b<d.overStyle.length;b++)a.element.style[d.overStyle[b].property]=d.overStyle[b].value},b.prototype.applyCursorDownStyle=
function(a,d){if(!d.touch){var b=a.cursorOptions.downStyle;if(a.downPointers.contains(d)&&null!=b)for(d=0;d<b.length;d++)this.setTemporaryStyle(this.body,b[d].property,b[d].value),this.setTemporaryStyle(a,b[d].property,b[d].value)}},b.prototype.restoreCursorDownStyle=function(a,d){if(!d.touch){var b=a.cursorOptions.downStyle;if(a.downPointers.contains(d)&&null!=b)for(d=0;d<b.length;d++)this.restoreStyle(this.body,b[d].property),this.restoreStyle(a,b[d].property)}},b.prototype.setGlobalStyle=function(a){var d=
C().body;a=ya(a)?a:[a];for(var b=0;b<a.length;b++)this.setTemporaryStyle(d,a[b].property,a[b].value)},b.prototype.restoreGlobalStyle=function(a){var d=C().body;a=ya(a)?a:[a];for(var b=0;b<a.length;b++)this.restoreStyle(d,a[b].property)},b.prototype.isGlobalElement=function(a){return document.body===a.element},b.prototype.moved=function(a,d,b){void 0===b&&(b=300);a=this.getShift(a);return Math.abs(a.x)>d||Math.abs(a.y)>d},b.prototype.old=function(a,d){return void 0===d&&(d=300),ob()-a.startTime>d},
b.prototype.getShift=function(a){return{x:a.startPoint.x-a.point.x,y:a.startPoint.y-a.point.y}},b.prototype.getTrailPoint=function(a,d){for(var b,c=0;c<a.track.length;c++)if(a.track[c].timestamp>=d){b=a.track[c];break}return b},b.prototype.pointerExists=function(a,d){var b=!1;return a.each(function(a){a!=d&&(b=a.point.x==d.point.x&&a.point.y==d.point.y)}),b},b.prototype.getInteraction=function(a){return new Di(a)},b.prototype.setTemporaryStyle=function(a,d,b){var e=a.element;null!=e.style[d]&&!a.replacedStyles.hasKey(d)&&
a.replacedStyles.setKey(d,e.style[d]);e.style[d]=b},b.prototype.restoreStyle=function(a,d){a.replacedStyles.hasKey(d)?(a.element.style[d]=a.replacedStyles.getKey(d),a.replacedStyles.removeKey(d)):delete a.element.style[d]},b.prototype.restoreAllStyles=function(a){v(a.replacedStyles.iterator(),function(d){var b=d[0];a.element.style[b]=d[1];a.replacedStyles.removeKey(b)})},b.prototype.dispose=function(){this.isDisposed()||(c.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},
b.prototype.log=function(a,d,b){if(d.changedTouches)for(b=0;b<d.changedTouches.length;b++)this.logTouch(a,d.type,d.changedTouches[b]);else{var e="";if(d.pointerType)switch(d.pointerType){case 2:e="touch";break;case 4:e="mouse";break;default:e=d.pointerType}else e="undefined"!=typeof TouchEvent&&d instanceof TouchEvent?"touch":d.type.match(/^mouse/)?"mouse":"???";var c="",c=null!=d.identifier?d.identifier:null!=d.pointerId?d.pointerId:"???";b?console.log(a+" ("+b.uid+")  "+d.type+"  "+e+"  "+c):console.log(a+
"  "+d.type+"  "+e+"  "+c)}},b.prototype.logTouch=function(a,d,b){console.log(a+"  "+d+"  touch  "+b.identifier)},b}(qb),Df=null,Of=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a._elements={},a._IOs={},a._content="",a._title="",a._classPrefix="ampopup",a._defaultStyles=!0,a._showCurtain=!1,a._draggable=!0,a._align="center",a._verticalAlign="middle",a._shift={x:0,y:0},a._tempShift={x:0,y:0},a._readerTitle="",a._closable=!0,a._cssLoaded=!1,a._fitTo="window",a.isTemplate=
!1,a._sized=!1,a.className="Popup",a}return m(b,c),b.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},b.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper);
this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain);this.dispatchImmediately("closed");this.releasePointers()},b.prototype.dispose=function(){this.close();c.prototype.dispose.call(this)},b.prototype.positionElement=function(a){var d=this;void 0===a&&(a=!0);this._elements.wrapper&&setTimeout(function(){if(d._elements.wrapper){if(a||!d._sized){if(d._elements.wrapper.style.opacity="0.01",d._elements.wrapper.style.left=
"0",d._elements.wrapper.style.top="0",d._elements.wrapper.style.margin="0 0 0 0",!d._elements.wrapper.style.width){var b=d._elements.wrapper.getBoundingClientRect();d._elements.wrapper.style.width=b.width+"px";d._elements.wrapper.style.height=b.height+"px"}d._sized=!0}setTimeout(function(){if(d._elements.wrapper){var b;switch(!a&&d._sized||!d._bbox?(b=d._elements.wrapper.getBoundingClientRect(),d._elements.wrapper.style.opacity=""):b=d._bbox,d.align){case "left":d._elements.wrapper.style.left="0";
d._elements.wrapper.style.right="auto";d._elements.wrapper.style.marginLeft=d.toStyle(d._shift.x+d._tempShift.x);break;case "center":d._elements.wrapper.style.left="50%";d._elements.wrapper.style.right="auto";d._elements.wrapper.style.marginLeft=d.toStyle(Math.round(-b.width/2)+(d._shift.x+d._tempShift.x));break;case "right":d._elements.wrapper.style.left="auto";d._elements.wrapper.style.right="0";d._elements.wrapper.style.marginLeft=d.toStyle(d._shift.x+d._tempShift.x);break;default:d._elements.wrapper.style.left=
d.toStyle(d.left)||"auto",d._elements.wrapper.style.right=d.toStyle(d.right)||"auto",d._elements.wrapper.style.marginLeft=d.toStyle(d._shift.x+d._tempShift.x)}switch(d.verticalAlign){case "top":d._elements.wrapper.style.top="0";d._elements.wrapper.style.bottom="auto";d._elements.wrapper.style.marginTop=d.toStyle(d._shift.y+d._tempShift.y);break;case "middle":d._elements.wrapper.style.top="50%";d._elements.wrapper.style.bottom="auto";d._elements.wrapper.style.marginTop=d.toStyle(Math.round(-b.height/
2)+(d._shift.y+d._tempShift.y));break;case "bottom":d._elements.wrapper.style.top="auto";d._elements.wrapper.style.bottom="0";d._elements.wrapper.style.marginTop=d.toStyle(d._shift.y+d._tempShift.y);break;default:d._elements.wrapper.style.top=d.toStyle(d.top)||"auto",d._elements.wrapper.style.bottom=d.toStyle(d.bottom)||"auto",d._elements.wrapper.style.marginTop=d.toStyle(d._shift.y+d._tempShift.y)}}},1)}},1)},b.prototype.setupDragging=function(){var a=this;this.draggable?(this._IOs.wrapper.events.has("drag")||
this._IOs.wrapper.events.on("drag",function(d){a._tempShift.x=d.shift.x;a._tempShift.y=d.shift.y;a.positionElement(!1)}),this._IOs.wrapper.events.has("dragstop")||this._IOs.wrapper.events.on("dragstop",function(d){a._shift.x+=a._tempShift.x;a._shift.y+=a._tempShift.y;a._tempShift.x=0;a._tempShift.y=0;a.positionElement(!1)})):this._IOs.wrapper&&(this._IOs.wrapper.events.has("drag")&&this._IOs.wrapper.events.off("drag"),this._IOs.wrapper.events.has("dragstop")&&this._IOs.wrapper.events.off("dragstop"))},
b.prototype.toStyle=function(a){return null!=a?l(a)?a+"px":a.toString():null},Object.defineProperty(b.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(a){this._classPrefix=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},
set:function(a){this._content!=a&&(this._content=a,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=a,this.positionElement())},enumerable:!0,configurable:!0}),b.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},b.prototype.createContentElement=function(){if(!this._elements.wrapper){var a=
this.getClassNames(),d=document.createElement("div");d.className=a.contentClass;d.style.opacity="0.01";var b=document.createElement("a");b.className=a.closeClass;var c=document.createElement("div");c.innerHTML=this.title;c.className=a.titleClass;this.title||(c.style.display="none");a=document.createElement("div");a.innerHTML=this.content;this._IOs.wrapper=C().getInteraction(d);this._disposers.push(this._IOs.wrapper);this._IOs.wrapper.events.on("over",this.disablePointers,this);this._IOs.wrapper.events.on("out",
this.releasePointers,this);this._IOs.close=C().getInteraction(b);this._disposers.push(this._IOs.close);b.style.visibility="hidden";d.setAttribute("role","dialog");d.appendChild(b);d.appendChild(c);d.appendChild(a);this.container.appendChild(d);this._elements.wrapper=d;this._elements.content=a;this._elements.title=c;this._elements.close=b;this.defaultStyles&&this.loadDefaultCSS();this.createCurtainElement();this.applyEvents();this.applyReaderSettings();this.setupDragging()}},Object.defineProperty(b.prototype,
"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(a){this._title!=a&&(this._title=a,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=a,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(a){this._readerTitle!=a&&(this._readerTitle=
a,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(a){a!==this._closable&&(this._closable=a,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(a){a!=this._fitTo&&(this._fitTo=a,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(a){this._defaultStyles!=a&&(this._defaultStyles=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(a){this._showCurtain!=a&&(this._showCurtain=a,this._elements.curtain&&(this._elements.curtain.style.display=a?"block":"none"))},enumerable:!0,configurable:!0}),b.prototype.createCurtainElement=
function(){var a=this.getClassNames(),d=document.createElement("div");d.className=a.curtainClass;this.container.appendChild(d);this._IOs.curtain=C().getInteraction(d);this._disposers.push(this._IOs.curtain);this._IOs.curtain.events.on("over",this.disablePointers,this);this._IOs.curtain.events.on("out",this.releasePointers,this);d.style.display=this.showCurtain?"block":"none";this._elements.curtain=d},Object.defineProperty(b.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",
this._draggable)},set:function(a){this._draggable!=a&&(this._draggable=a,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(a){this._align!=a&&(this._align=a,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(a){this._verticalAlign!=
a&&(this._verticalAlign=a,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(a){this.left!=a&&(this._left=a,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(a){this.right!=a&&(this._right=a,this._align="none",this.positionElement())},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(a){this.top!=a&&(this._top=a,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(a){this.bottom!=a&&(this._bottom=a,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),b.prototype.loadDefaultCSS=function(){var a;this._cssLoaded||(this._disposers.push(((a=this.classPrefix)||(a="ampopup"),vj.insertKeyIfEmpty(a,function(){var d=new ja([new ha("."+a,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new ha("."+a+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001",background:"#fff",opacity:"0.5"}),new ha("."+a+"-title",{"font-weight":"bold",
"font-size":"120%"}),new ha("."+a+"-content",{padding:"1em 2em",background:"rgb(255, 255, 255);","background-color":"rgba(255, 255, 255, 0.8)",display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new ha("."+a+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset\x3dutf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4\x3d) no-repeat center",
"background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new rd(function(){vj.removeKey(a);d.dispose()})}).increment())),K(this._elements,function(a,b){b.style.display=""}),this._cssLoaded=!0)},b.prototype.applyEvents=function(){var a=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var d=[C().body.events.on("keyup",function(d){wb.isKey(d.event,"esc")&&a.closable&&a.close()}),this._IOs.close.events.on("hit",function(d){a.close()})];
d.push(this._IOs.curtain.events.on("hit",function(d){a.showCurtain&&a.close()}));this._disposers.push(new ja(d))}else this._IOs.close.element.style.visibility="hidden"},b.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},b.prototype.releasePointers=function(){null!=this._spriteInteractionsEnabled&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},
b.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.container=a.container;this.sprite=a.sprite;this.classPrefix=a.classPrefixRaw;this.content=a.content;this.title=a.title;this.readerTitle=a.readerTitle;this.defaultStyles=a.defaultStyles;this.showCurtain=a.showCurtain;this.align=a.align;this.verticalAlign=a.verticalAlign;this.left=a.left;this.right=a.right;this.top=a.top;
this.bottom=a.bottom;this.adapter.copyFrom(a.adapter)},b}(qb),Pf=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a.className="Modal",a.showCurtain=!0,a.draggable=!1,a}return m(b,c),b}(Of),sl=g(0),tl=g.n(sl),Kf=[],Ff=function(){function c(b){var a=this;this._disposed=!1;this.autoResize=!0;this.nonExportableSprites=[];this._disposers=[];this.cssScale=1;this.htmlElement=b;var d=function(){a.measure()};this.resizeSensor=new tl.a(b,d);this._disposers.push(new X(function(){a.resizeSensor.detach(d)}));
Kf.push(this);var e=document.createElement("div"),c=e.style;c.width="100%";c.height="100%";c.position="relative";b.appendChild(e);this.SVGContainer=e}return c.prototype.measure=function(){var b=this.htmlElement.clientWidth,a=this.htmlElement.clientHeight,d=this.container;d&&(this.width==b&&this.height==a||(this.width=b,this.height=a,0<b&&(d.maxWidth=b),0<a&&(d.maxHeight=a),bi(this.SVGContainer)),d.maxWidth||(d.maxWidth=0),d.maxHeight||(d.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},
Object.defineProperty(c.prototype,"container",{get:function(){return this._container},set:function(b){this._container=b;this.measure()},enumerable:!0,configurable:!0}),c.prototype.isDisposed=function(){return this._disposed},c.prototype.dispose=function(){this._disposed||N(Kf,this);J(this._disposers,function(b){b.dispose()})},Object.defineProperty(c.prototype,"hideOverflow",{set:function(b){this.SVGContainer.style.overflow=b?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,
"modal",{get:function(){return null!=this._modal||(this._modal=new Pf,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),c.prototype.openModal=function(b,a){this.closeModal();var d=this.modal;return d.content=b,d.readerTitle=a,d.open(),d},c.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(c.prototype,"popups",{get:function(){if(null==this._popups){var b=new Of;b.container=this.SVGContainer;this._popups=
new oa(b);this._disposers.push(new da(this._popups));this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),c.prototype.openPopup=function(b,a){var d=this.popups.create();return d.content=b,null!=a&&(d.title=a),d.open(),d},c.prototype.closeAllPopups=function(){this.popups.each(function(b){b.close()})},c.prototype.checkTransform=function(b){if(window.getComputedStyle){if(b&&b.style){var a=window.getComputedStyle(b,null);if(a&&(a=a.getPropertyValue("-webkit-transform")||
a.getPropertyValue("-moz-transform")||a.getPropertyValue("-ms-transform")||a.getPropertyValue("-o-transform")||a.getPropertyValue("transform"))&&"none"!==a){var d=a.split("(")[1].split(")")[0].split(","),a=Number(d[0]),d=Number(d[1]),a=Math.sqrt(a*a+d*d);isNaN(a)||(this.cssScale*=a)}}b.parentNode&&b.parentNode instanceof HTMLElement&&this.checkTransform(b.parentNode)}},c}(),Gf=function(){function c(b,a){this.container=b;this.id=a;b=document.createElementNS(tc,"svg");b.setAttribute("version","1.1");
b.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",tc);b.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");b.setAttribute("role","group");this.container.appendChild(b);a=document.createElementNS(tc,"desc");a.appendChild(document.createTextNode("JavaScript chart by amCharts"));b.appendChild(a);this.defs=document.createElementNS(tc,"defs");b.appendChild(this.defs);b.style.width="100%";b.style.height="100%";b.style.overflow="visible";this.svg=b}return c.prototype.add=
function(b){return new od(b)},c.prototype.addGroup=function(b){return new Fi(b)},c.prototype.append=function(b){b&&this.svg.appendChild(b.node)},c.prototype.appendDef=function(b){b&&this.defs.appendChild(b.node)},c.prototype.foreignObject=function(){return new od("foreignObject")},c.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},c}(),Ef=null,W=function(c){function b(){var a=c.call(this)||this;return a._purposes=
{stroke:L("#e5e5e5"),fill:L("#f3f3f3"),primaryButton:L("#6794dc"),primaryButtonHover:L("#6771dc"),primaryButtonDown:L("#68dc75"),primaryButtonActive:L("#68dc75"),primaryButtonText:L("#FFFFFF"),primaryButtonStroke:L("#FFFFFF"),secondaryButton:L("#d9d9d9"),secondaryButtonHover:L("#d9d9d9").brighten(-.25),secondaryButtonDown:L("#d9d9d9").brighten(-.35),secondaryButtonActive:L("#d9d9d9").brighten(.35),secondaryButtonText:L("#000000"),secondaryButtonStroke:L("#FFFFFF"),grid:L("#000000"),background:L("#ffffff"),
alternativeBackground:L("#000000"),text:L("#000000"),alternativeText:L("#FFFFFF"),disabledBackground:L("#999999"),positive:L("#67dc75"),negative:L("#dc6788")},a.className="InterfaceColorSet",a.applyTheme(),a}return m(b,c),b.prototype.debug=function(){},b.prototype.getFor=function(a){return this._purposes[a]},b.prototype.setFor=function(a,d){this._purposes[a]=d},b}(La);p.registeredClasses.InterfaceColorSet=W;var zc=function(c){function b(){var a=c.call(this)||this;a._elements=new S;a.properties={};
a.className="Pattern";a.width=10;a.height=10;a.x=0;a.y=0;a.patternUnits="userSpaceOnUse";var d=new W;return a.backgroundFill=d.getFor("background"),a.backgroundOpacity=0,a.fillOpacity=1,a.fill=d.getFor("alternativeBackground"),a.stroke=d.getFor("alternativeBackground"),a.strokeOpacity=1,a.strokeWidth=1,a.shapeRendering="crispEdges",a.rotation=0,a.element=a.paper.addGroup("pattern"),a.id="pattern-"+p.getUniqueId(),a.element.attr({id:a.id}),a._disposers.push(a.element),a._disposers.push(new da(a._elements)),
a.patternUnits=a.patternUnits,a.width=a.width,a.height=a.height,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){var a=this,d=this.element;if(d){d.removeChildNodes();var b=this.paper.add("rect");b.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":this.backgroundOpacity});d.add(b);d.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,
fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits});v(this._elements.iterator(),function(d){d.rotation=a.rotation;a.element.add(d)})}},b.prototype.animate=function(a,d,b){return(new ib(this,a,d,b)).start()},b.prototype.addElement=function(a){this._elements.push(a);this._disposers.push(a)},b.prototype.removeElement=function(a){this._elements.removeValue(a);this.removeDispose(a)},
Object.defineProperty(b.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(a){this.properties.fillOpacity=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fill",{get:function(){return this.properties.fill},set:function(a){this.properties.fill=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(a){this.properties.backgroundFill=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(a){this.properties.backgroundOpacity=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(a){this.properties.stroke=
a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(a){this.properties.strokeOpacity=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(a){this.properties.strokeWidth=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},
set:function(a){this.properties.shapeRendering=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(a){this.properties.rotation=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(a){this.properties.patternUnits=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"width",{get:function(){return this.properties.width},set:function(a){this.properties.width=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.properties.height},set:function(a){this.properties.height=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"x",{get:function(){return this.properties.x},set:function(a){this.properties.x=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"y",{get:function(){return this.properties.y},set:function(a){this.properties.y=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"paper",{get:function(){return this._paper?this._paper:uc()},set:function(a){this._paper!=a&&(this._paper=a,this.draw(),a.appendDef(this.element))},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var d=this;c.prototype.copyFrom.call(this,a);K(a.properties,function(a,b){d[a]=b})},Object.defineProperty(b.prototype,"animations",
{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hc(this._animations))),this._animations},enumerable:!0,configurable:!0}),b.prototype.processConfig=function(a){if(a&&null!=a.elements&&ya(a.elements))for(var d=0,b=a.elements.length;d<b;d++){var f=a.elements[d];if(null!=f.type){var h=this.createEntryInstance(f);h instanceof La&&(h.config=f);this.addElement(null!=f.typeProperty?h[f.typeProperty]:h.element)}}c.prototype.processConfig.call(this,a)},b}(La);p.registeredClasses.Pattern=
zc;var bb=function(c){function b(){var a=c.call(this)||this;return a._stops=new S,a._rotation=0,a.className="LinearGradient",a._stops.events.on("setIndex",a.validate,a),a._stops.events.on("inserted",a.validate,a),a.element=a.paper.addGroup("linearGradient"),a.id="gradient-"+p.getUniqueId(),a.element.attr({id:a.id}),a._disposers.push(a.element),a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){var a=this,d=(this._rotation+90)*Jc,b=Math.round(50+50*Math.sin(d+Math.PI))+"%",c=Math.round(50+
50*Math.cos(d))+"%",h=Math.round(50+50*Math.sin(d))+"%",d=Math.round(50+50*Math.cos(d+Math.PI))+"%",k=this.element;k.removeChildNodes();k.attr({x1:b,x2:h,y1:c,y2:d});v(Jb(this._stops.iterator()),function(d){var b=d[0];d=d[1];var e=d.offset;l(e)||(e=b/(a._stops.length-1));b=a.paper.add("stop");null!=d.color&&b.attr({"stop-color":d.color.toString()});l(d.opacity)&&b.attr({"stop-opacity":d.opacity});l(e)&&b.attr({offset:e});k.add(b)})},b.prototype.clear=function(){this._stops.clear()},b.prototype.addColor=
function(a,d,b){this._stops.push({color:a,opacity:d,offset:b})},Object.defineProperty(b.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"paper",{get:function(){return this._paper?this._paper:uc()},set:function(a){this._paper!=a&&(this._paper=a,this.validate(),a.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rotation",{get:function(){return this._rotation},set:function(a){this._rotation=
a;this.validate()},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.stops.copyFrom(a.stops);this._rotation=a.rotation},b}(La);p.registeredClasses.LinearGradient=bb;var Db=function(c){function b(){var a=c.call(this)||this;return a._stops=new S,a.element=a.paper.addGroup("radialGradient"),a.id="gradient-"+p.getUniqueId(),a.element.attr({id:a.id}),a._disposers.push(a.element),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){var a,d=this,
b=this.element;l(this.cx)&&((a=this.cx)instanceof ka&&(a=a.percent+"%"),b.attr({cx:a}));l(this.cy)&&((a=this.cy)instanceof ka&&(a=a.percent+"%"),b.attr({cy:a}));this.fx&&((a=this.fx)instanceof ka&&(a=a.percent+"%"),b.attr({fx:a}));this.fy&&((a=this.fy)instanceof ka&&(a=a.percent+"%"),b.attr({fy:a}));b.removeChildNodes();v(Jb(this._stops.iterator()),function(a){var e=a[0];a=a[1];var c=a.offset;l(c)||(c=e/(d._stops.length-1));e=d.paper.add("stop");null!=a.color&&e.attr({"stop-color":a.color.toString()});
l(a.opacity)&&e.attr({"stop-opacity":a.opacity});l(c)&&e.attr({offset:c});b.add(e)})},b.prototype.addColor=function(a,d,b){this._stops.push({color:a,opacity:d,offset:b});this.draw()},Object.defineProperty(b.prototype,"paper",{get:function(){return this._paper?this._paper:uc()},set:function(a){this._paper!=a&&(this._paper=a,this.draw(),a.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cx",{get:function(){return this._cx},set:function(a){this._cx=a;this.draw()},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cy",{get:function(){return this._cy},set:function(a){this._cy=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fx",{get:function(){return this._fx},set:function(a){this._fx=a;this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fy",{get:function(){return this._fy},set:function(a){this._fy=a;this.draw()},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,
a);this.stops.copyFrom(a.stops);this.cx=a.cx;this.cy=a.cy;this.fx=a.fx;this.fy=a.fy},Object.defineProperty(b.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),b.prototype.clear=function(){this._stops.clear()},b}(La);p.registeredClasses.RadialGradient=Db;var Hf,Aa=function(){function c(){}return c.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],c.grabbing=[{property:"cursor",value:"move"},{property:"cursor",
value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],c.pointer=[{property:"cursor",value:"pointer"}],c.default=[{property:"cursor",value:"default"}],c.horizontalResize=[{property:"cursor",value:"ew-resize"}],c.verticalResize=[{property:"cursor",value:"ns-resize"}],c}(),wj={_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",
_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",
_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",
_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",
_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",
Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(c){var b="th";if(11>c||13<c)switch(c%10){case 1:b="st";break;case 2:b="nd";break;case 3:b="rd"}return b},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"",
"Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Click, tap or press ENTER to open":"",
"Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"",
"Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"",
"Invalid date":""},Fb=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a._locale=wj,a._defaultLocale=wj,a.className="Language",null!=Ka.defaultLocale&&(a.locale=Ka.defaultLocale),a.applyTheme(),a}return m(b,c),b.prototype.getLocale=function(a){return null==a&&(a=this._locale),this.adapter.apply("locale",{locale:a}).locale},b.prototype.translate=function(a,d){for(var b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];d=this.getLocale(d);var c=a,h=this.getTranslations(d)[a];
if(null===h)h="";else if(null!=h)h&&(c=h);else if(d!==this._defaultLocale)return this.translate.apply(this,xa([a,this._defaultLocale],b));if(b.length)for(var h=b.length,k=0;k<h;++k)c=c.split("%"+(k+1)).join(b[k]);return this.adapter.apply("translate",{translation:c,locale:d}).translation},b.prototype.translateEmpty=function(a,d){for(var b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];b=this.translate.apply(this,xa([a,d],b));return b==a?"":b},b.prototype.translateFunc=function(a,d){d=this.getLocale(d);
var b=this.getTranslations(d)[a];return null!=b?b:d!==this._defaultLocale?this.translateFunc(a,this._defaultLocale):function(){return""}},b.prototype.translateAll=function(a,d){var b=this;return this.isDefault()?a:oc(a,function(a){return b.translate(a,d)})},b.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(b.prototype,"locale",{get:function(){return this._locale},set:function(a){this._locale!=a&&(this._locale=a,this.events.isEnabled("localechanged"))&&
this.events.dispatchImmediately("localechanged",{type:"localechanged",locale:a,target:this})},enumerable:!0,configurable:!0}),b.prototype.getTranslations=function(a){return this.adapter.apply("translations",{translations:a,locale:a}).translations},b}(qb),If=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a.className="TextFormatter",a.applyTheme(),a}return m(b,c),b.prototype.debug=function(){},b.prototype.format=function(a,d){null!=d||(d="svg");var b="",c=(a=this.escape(a)).match(/\[([^\]]*?)\]/gm);
if(!c)return this.wrap(a,"",d);a=a.split(/\[[^\[\]]*\]/);for(var h=0,k=a.length;h<k;h++){var n=a[h];if(""!==n){var n=this.adapter.apply("chunk",n),q="";0<h&&(q=c[h-1].replace("[","").replace("]",""));b+=this.wrap(n,q,d)}}return b=this.unescape(b),this.cleanUp(b)},b.prototype.escape=function(a){return a.replace(/\[\[/g,p.getPlaceholder("1")).replace(/([^\/]{1})\]\]/g,"$1"+p.getPlaceholder("2")).replace(/\{\{/g,p.getPlaceholder("3")).replace(/\}\}/g,p.getPlaceholder("4")).replace(/\'\'/g,p.getPlaceholder("5"))},
b.prototype.unescape=function(a){return a.replace(new RegExp(p.getPlaceholder("1"),"g"),"[[").replace(new RegExp(p.getPlaceholder("2"),"g"),"]]").replace(new RegExp(p.getPlaceholder("3"),"g"),"{{").replace(new RegExp(p.getPlaceholder("4"),"g"),"}}").replace(new RegExp(p.getPlaceholder("5"),"g"),"'")},b.prototype.cleanUp=function(a){return a.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},b.prototype.wrap=function(a,d,b){switch(""!==d&&"/"!==
d||(d=""),b){case "html":return this.wrapHtml(a,this.translateStyleShortcuts(d));default:return this.wrapSvg(a,this.translateStyleShortcuts(d))}},b.prototype.wrapSvg=function(a,d){return""===d?"\x3ctspan\x3e"+a+"\x3c/tspan\x3e":"\x3ctspan style\x3d'"+d+"'\x3e"+a+"\x3c/tspan\x3e"},b.prototype.getSvgElement=function(a,d){var b=new od("tspan");return b.textContent=a,d&&b.node.setAttribute("style",d),b},b.prototype.wrapHtml=function(a,d){return""===d?"\x3cspan\x3e"+a+"\x3c/span\x3e":"\x3cspan style\x3d'"+
this.styleSvgToHtml(d)+"'\x3e"+a+"\x3c/span\x3e"},b.prototype.getHtmlElement=function(a,d){var b=document.createElement("span");return b.innerHTML=a,d&&b.setAttribute("style",d),b},b.prototype.styleSvgToHtml=function(a){return a=a.replace(/fill:/,"color:")},b.prototype.translateStyleShortcuts=function(a){if(""==a||"[ ]"==a)return"";var d=p.getCache("translateStyleShortcuts_"+a);if(d)return d;d=a.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!d)return a;for(var b=0;b<d.length;b++)d[b].match(/^bold$/i)?
d[b]="font-weight:"+d[b]:"/"==d[b]?d[b]="":d[b].match(/:/)||(d[b]="fill:"+d[b]);d=d.join(";");return p.setCache("translateStyleShortcuts_"+a,d),d},b.prototype.chunk=function(a,d,b){void 0===d&&(d=!1);void 0===b&&(b=!1);var e=[];a=this.escape(a);a=d?a.split("'"):[a];for(d=0;d<a.length;d++){var c=a[d];if(""!==c)if(0==d%2)for(var k=(c=(c=c.replace(/\]\[/g,"]"+fb+"[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),c=0;c<k.length;c++)(n=this.cleanUp(this.unescape(k[c])))!==fb&&""!==n&&(0==c%2?e.push({type:"value",
text:this.adapter.apply("chunk",n)}):e.push({type:b?"value":"format",text:"["+n+"]"}));else for(k=c.split(/[\[\]]+/),c=0;c<k.length;c++){var n;""!==(n=this.cleanUp(this.unescape(k[c])))&&(0==c%2?e.push({type:"text",text:n}):this.isImage(n)?e.push({type:"image",text:"["+n+"]"}):e.push({type:"format",text:"["+n+"]"}))}}return e},b.prototype.isImage=function(a){return!!a.match(/img[ ]?:/)},b}(La);p.registeredClasses.TextFormatter=If;var Tf=function(c){function b(){var a=c.call(this)||this;return a._negativeBase=
0,a._numberFormat="#,###.#####",a._outputFormat="svg",a.className="NumberFormatter",a.applyTheme(),a}return m(b,c),b.prototype.dispose=function(){c.prototype.dispose.call(this);this.language&&this.language.dispose()},Object.defineProperty(b.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new Fb),this._language},set:function(a){this._language=a},enumerable:!0,configurable:!0}),b.prototype.format=function(a,d){void 0!==d&&"number"!==
d.toLowerCase()||(d=this._numberFormat);d=Zc(d);var b;d=this.parseFormat(d,this.language);a=Number(a);return(b=a>this._negativeBase?d.positive:a<this._negativeBase?d.negative:d.zero).template.split(fb).join(this.applyFormat(a,b))},b.prototype.parseFormat=function(a,d){var b=this,c=this.getCache(a);if(null!=c)return c;var h={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:d.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:d.translateEmpty("_decimalSeparator")},
template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:d.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:d.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:d.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:d.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};d=(a=a.replace("||",ic)).split("|");return h.positive.source=
d[0],void 0===d[2]?h.zero=h.positive:h.zero.source=d[2],void 0===d[1]?h.negative=h.positive:h.negative.source=d[1],K(h,function(a,d){if(!d.parsed)if(void 0===b.getCache(d.source)){a=d.source;"number"===a.toLowerCase()&&(a=b._numberFormat);a=vb().chunk(a,!0);for(var e=0;e<a.length;e++){var c=a[e];if(c.text=c.text.replace(ic,"|"),"value"===c.type){var f=c.text.match(/[#0.,]+[ ]?[abesABES%]?[abesABES\u2030]?/);if(f)if(null===f||""===f[0])d.template+=c.text;else{var k=f[0].match(/[abesABES%\u2030]{2}|[abesABES%\u2030]{1}$/);
k&&(d.mod=k[0].toLowerCase(),d.modSpacing=!!f[0].match(/[ ]{1}[abesABES%\u2030]{1}$/));k=f[0].split(".");if(""!==k[0]){d.thousands.active=(k[0].match(/0/g)||[]).length;d.thousands.passive=(k[0].match(/\#/g)||[]).length+d.thousands.active;var n=k[0].split(",");1===n.length||(d.thousands.interval=ca(n.pop()).length,0===d.thousands.interval&&(d.thousands.interval=-1))}void 0===k[1]||(d.decimals.active=(k[1].match(/0/g)||[]).length,d.decimals.passive=(k[1].match(/\#/g)||[]).length+d.decimals.active);
d.template+=c.text.split(f[0]).join(fb)}}else d.template+=c.text}b.setCache(d.source,d);d.parsed=!0}else h[a]=b.getCache(d.source)}),this.setCache(a,h),h},b.prototype.applyFormat=function(a,d){var b=0>a;a=Math.abs(a);var c="",h="",k=d.mod?d.mod.split(""):[];-1!==k.indexOf("b")?(h=this.applyPrefix(a,this.bytePrefixes),a=h[0],c=h[1],h=h[2],d.modSpacing&&(h=" "+h)):-1!==k.indexOf("a")?(h=this.applyPrefix(a,1>a?this.smallNumberPrefixes:this.bigNumberPrefixes),a=h[0],c=h[1],h=h[2],d.modSpacing&&(h=" "+
h)):-1!==k.indexOf("%")?(a*=100,h="%"):-1!==k.indexOf("\u2030")&&(a*=1E3,h="\u2030");if(-1!==k.indexOf("e"))h=void 0,h=0<=d.decimals.passive?a.toExponential(d.decimals.passive).split("e"):a.toExponential().split("e"),a=Number(h[0]),h="e"+h[1],d.modSpacing&&(h=" "+h);else if(0===d.decimals.passive)a=Math.round(a);else if(0<d.decimals.passive){var n=Math.pow(10,d.decimals.passive);a=Math.round(a*n)/n}var n="",q=Nh(a).split("."),g=q[0];if(g.length<d.thousands.active&&(g=Array(d.thousands.active-g.length+
1).join("0")+g),0<d.thousands.interval){for(var x=[],ea=g.split("").reverse().join(""),l=0,g=g.length;l<=g;l+=d.thousands.interval){var m=ea.substr(l,d.thousands.interval).split("").reverse().join("");""!==m&&x.unshift(m)}g=x.join(d.thousands.separator)}n+=g;1===q.length&&q.push("");q=q[1];return q.length<d.decimals.active&&(q+=Array(d.decimals.active-q.length+1).join("0")),""!==q&&(n+=d.decimals.separator+q),""===n&&(n="0"),0!==a&&b&&-1===k.indexOf("s")&&(n="-"+n),c&&(n=c+n),h&&(n+=h),n},b.prototype.applyPrefix=
function(a,d){for(var b=a,c="",h="",k=0,n=d.length;k<n;k++)d[k].number<=a&&(b=0===d[k].number?0:a/d[k].number,c=d[k].prefix,h=d[k].suffix);return[b,c,h]},b.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(b.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(a){this._numberFormat=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(a){this._negativeBase=
a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bigNumberPrefixes",{get:function(){return null!=this._bigNumberPrefixes||(this._bigNumberPrefixes=[{number:1E3,suffix:this.language.translate("_big_number_suffix_3")},{number:1E6,suffix:this.language.translate("_big_number_suffix_6")},{number:1E9,suffix:this.language.translate("_big_number_suffix_9")},{number:1E12,suffix:this.language.translate("_big_number_suffix_12")},{number:1E15,suffix:this.language.translate("_big_number_suffix_15")},
{number:1E18,suffix:this.language.translate("_big_number_suffix_18")},{number:1E21,suffix:this.language.translate("_big_number_suffix_21")},{number:1E24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(a){this._bigNumberPrefixes=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"smallNumberPrefixes",{get:function(){return null!=this._smallNumberPrefixes||(this._smallNumberPrefixes=[{number:1E-24,suffix:this.language.translate("_small_number_suffix_24")},
{number:1E-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1E-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1E-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1E-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1E-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1E-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),
this._smallNumberPrefixes},set:function(a){this._smallNumberPrefixes=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bytePrefixes",{get:function(){return null!=this._bytePrefixes||(this._bytePrefixes=[{number:0,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,
suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(a){this._bytePrefixes=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(a){this._outputFormat=a.toLowerCase();this.invalidateSprite()},enumerable:!0,configurable:!0}),b.prototype.escape=function(a){return a.replace("||",ic)},b.prototype.unescape=function(a){return a.replace(ic,
"|")},b}(La);p.registeredClasses.NumberFormatter=Tf;var yc=function(c){function b(){var a=c.call(this)||this;return a._dateFormat="yyyy-MM-dd",a._inputDateFormat="yyyy-MM-dd",a._utc=!1,a._firstDayOfWeek=1,a._months="January February March April May June July August September October November December".split(" "),a._monthsShort="Jan Feb Mar Apr May(short) Jun Jul Aug Sep Oct Nov Dec".split(" "),a._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),a._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" "),
a._outputFormat="svg",a.capitalize=!0,a.className="DateFormatter",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"language",{get:function(){return this._language},set:function(a){this._language=a;this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),b.prototype.format=function(a,d){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Fb);void 0!==d&&""!==d||(d=this._dateFormat);d=Zc(d);var b;d=this.parseFormat(d);if(b=Y(a)?
this.parse(a):sf(a),null!=this.timezoneOffset&&b.setMinutes(b.getMinutes()+b.getTimezoneOffset()-this.timezoneOffset),!l(b.getTime()))return this.language.translate("Invalid date");a=this.applyFormat(b,d,this.language);return this.capitalize&&(a=a.replace(/^.{1}/,a.substr(0,1).toUpperCase())),a},b.prototype.parseFormat=function(a){var d=this.getCache(a);if(null!=d)return d;for(var d={template:"",parts:[]},b=vb().chunk(a,!0),c=0;c<b.length;c++){var h=b[c];if("value"===h.type){h.text.match(/^date$/i)&&
(h.text=this._dateFormat);var k=h.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(k)for(var n=0;n<k.length;n++)d.parts.push(k[n]),h.text=h.text.replace(k[n],fb)}d.template+=h.text}return this.setCache(a,d),d},b.prototype.applyFormat=function(a,d,b){var e,c,k,n,q,g,x,ea,l=d.template,m=a.getTimezoneOffset(),p=a.getTime();this.utc?
(e=a.getUTCFullYear(),c=a.getUTCMonth(),k=a.getUTCDay(),n=a.getUTCDate(),q=a.getUTCHours(),g=a.getUTCMinutes(),x=a.getUTCSeconds(),ea=a.getUTCMilliseconds()):(e=a.getFullYear(),c=a.getMonth(),k=a.getDay(),n=a.getDate(),q=a.getHours(),g=a.getMinutes(),x=a.getSeconds(),ea=a.getMilliseconds());for(var r=0,t=d.parts.length;r<t;r++){var A="";switch(d.parts[r]){case "G":A=b.translate(0>e?"_era_bc":"_era_ad");break;case "yyyy":A=Math.abs(e).toString();0>e&&(A+=b.translate("_era_bc"));break;case "yyy":case "yy":case "y":A=
Math.abs(e).toString().substr(-d.parts[r].length);0>e&&(A+=b.translate("_era_bc"));break;case "YYYY":case "YYY":case "YY":case "Y":var Na=e;1==sc(a)&&1<k&&Na--;A="YYYY"==d.parts[r]?Math.abs(Na).toString():Math.abs(Na).toString().substr(-d.parts[r].length);0>Na&&(A+=b.translate("_era_bc"));break;case "MMMMM":A=b.translate(this._months[c]).substr(0,1);break;case "MMMM":A=b.translate(this._months[c]);break;case "MMM":A=b.translate(this._monthsShort[c]);break;case "MM":A=Fa(c+1,2,"0");break;case "M":A=
(c+1).toString();break;case "ww":A=Fa(sc(a,this.utc),2,"0");break;case "w":A=sc(a,this.utc).toString();break;case "W":A=Oh(a,this.utc).toString();break;case "dd":A=Fa(n,2,"0");break;case "d":A=n.toString();break;case "DD":case "DDD":A=Fa(Xd(a,this.utc).toString(),d.parts[r].length,"0");break;case "D":A=Xd(a,this.utc).toString();break;case "t":A=b.translateFunc("_dateOrd").call(this,n);break;case "E":A=(k||7).toString();break;case "EE":A=Fa((k||7).toString(),2,"0");break;case "EEE":case "eee":A=b.translate(this._weekdaysShort[k]);
break;case "EEEE":case "eeee":A=b.translate(this._weekdays[k]);break;case "EEEEE":case "eeeee":A=b.translate(this._weekdays[k]).substr(0,1);break;case "e":case "ee":A=(k-this.firstDayOfWeek+1).toString();"ee"==d.parts[r]&&(A=Fa(A,2,"0"));break;case "a":A=12<=q?b.translate("PM"):b.translate("AM");break;case "aa":A=12<=q?b.translate("P.M."):b.translate("A.M.");break;case "aaa":A=12<=q?b.translate("P"):b.translate("A");break;case "h":A=$c(q).toString();break;case "hh":A=Fa($c(q),2,"0");break;case "H":A=
q.toString();break;case "HH":A=Fa(q,2,"0");break;case "K":A=$c(q,0).toString();break;case "KK":A=Fa($c(q,0),2,"0");break;case "k":A=(q+1).toString();break;case "kk":A=Fa(q+1,2,"0");break;case "m":A=g.toString();break;case "mm":A=Fa(g,2,"0");break;case "s":A=x.toString();break;case "ss":A=Fa(x,2,"0");break;case "S":case "SS":case "SSS":A=Math.round(ea/1E3*Math.pow(10,d.parts[r].length)).toString();break;case "x":A=p.toString();break;case "n":case "nn":case "nnn":A=Fa(ea,d.parts[r].length,"0");break;
case "z":A=ad(a,!1,!1,this.utc);break;case "zz":A=ad(a,!0,!1,this.utc);break;case "zzz":A=ad(a,!1,!0,this.utc);break;case "zzzz":A=ad(a,!0,!0,this.utc);break;case "Z":case "ZZ":var Sa=Math.abs(m)/60,Na=Math.floor(Sa),Sa=60*Sa-60*Na;this.utc&&(Na=0,Sa=0);"Z"==d.parts[r]?(A="GMT",A+=0<m?"-":"+",A+=Fa(Na,2)+":"+Fa(Sa,2)):(A=0<m?"-":"+",A+=Fa(Na,2)+Fa(Sa,2));break;case "i":A=a.toISOString();break;case "I":A=a.toUTCString()}l=l.replace(fb,A)}return l},b.prototype.parse=function(a,d){if(null!=d||(d=this.inputDateFormat),
a instanceof Date)return a;if("number"==typeof a)return new Date(a);"string"!=typeof a&&(a=a.toString());this.language||(this.sprite?this.language=this.sprite.language:this.language=new Fb);var b=new Date(1970,0,1,0,0,0),c="";d=(d=Zc(d)).substr(0,a.length);var h=this.parseFormat(d),k=-1,n=-1,q=-1,g=-1,x=-1,ea=-1,l=-1,m=-1,p=-1,r=-1,t=-1,A=-1,Na=-1,Sa=-1,Ia=-1,u=-1,v=-1,w=-1,D=-1,G=-1,F=-1;d=-1;for(var z=0,B=0,H=0;H<h.parts.length;H++){switch(B=H+z+1,h.parts[H]){case "yyyy":case "YYYY":c+="([0-9]{4})";
k=B;break;case "yyy":case "YYY":c+="([0-9]{3})";n=B;break;case "yy":case "YY":c+="([0-9]{2})";q=B;break;case "y":case "Y":c+="([0-9]{1})";g=B;break;case "MMMM":c+="("+this.getStringList(this._months).join("|")+")";l=B;break;case "MMM":c+="("+this.getStringList(this._monthsShort).join("|")+")";ea=B;break;case "MM":case "M":c+="([0-9]{2}|[0-9]{1})";x=B;break;case "ww":case "w":c+="([0-9]{2}|[0-9]{1})";r=B;break;case "dd":case "d":c+="([0-9]{2}|[0-9]{1})";m=B;break;case "DDD":case "DD":case "D":c+="([0-9]{3}|[0-9]{2}|[0-9]{1})";
p=B;break;case "dddd":c+="("+this.getStringList(this._weekdays).join("|")+")";break;case "ddd":c+="("+this.getStringList(this._weekdaysShort).join("|")+")";break;case "aaa":case "aa":case "a":c+="("+this.getStringList("AM PM A.M. P.M. A P".split(" ")).join("|")+")";D=B;break;case "hh":case "h":c+="([0-9]{2}|[0-9]{1})";Sa=B;break;case "HH":case "H":c+="([0-9]{2}|[0-9]{1})";t=B;break;case "KK":case "K":c+="([0-9]{2}|[0-9]{1})";A=B;break;case "kk":case "k":c+="([0-9]{2}|[0-9]{1})";Na=B;break;case "mm":case "m":c+=
"([0-9]{2}|[0-9]{1})";Ia=B;break;case "ss":case "s":c+="([0-9]{2}|[0-9]{1})";u=B;break;case "SSS":case "SS":case "S":c+="([0-9]{3}|[0-9]{2}|[0-9]{1})";v=B;w=h.parts[H].length;break;case "nnn":case "nn":case "n":c+="([0-9]{3}|[0-9]{2}|[0-9]{1})";v=B;break;case "x":c+="([0-9]{1,})";F=B;break;case "Z":c+="GMT([-+]+[0-9]{2}:[0-9]{2})";G=B;break;case "ZZ":c+="([\\-+]+[0-9]{2}[0-9]{2})";G=B;break;case "i":c+="([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{3})([Zz]?)";d=B;z+=7;
break;case "G":case "YYYY":case "YYY":case "YY":case "Y":case "MMMMM":case "W":case "EEEEE":case "EEEE":case "EEE":case "EE":case "E":case "eeeee":case "eeee":case "eee":case "ee":case "e":case "zzzz":case "zzz":case "zz":case "z":case "t":z--}c+="[^0-9]*"}if(c=a.match(new RegExp(c))){-1<k&&(a=parseInt(c[k]),this.utc?b.setUTCFullYear(a):b.setFullYear(a));-1<n&&(a=parseInt(c[n]),a+=1E3,this.utc?b.setUTCFullYear(a):b.setFullYear(a));-1<q&&(a=parseInt(c[q]),a+=50<a?1E3:2E3,this.utc?b.setUTCFullYear(a):
b.setFullYear(a));-1<g&&(a=parseInt(c[g]),a=10*Math.floor((new Date).getFullYear()/10)+a,this.utc?b.setUTCFullYear(a):b.setFullYear(a));-1<l&&(a=this.resolveMonth(c[l]),this.utc?b.setUTCMonth(a):b.setMonth(a));-1<ea&&(a=this.resolveShortMonth(c[ea]),this.utc?b.setUTCMonth(a):b.setMonth(a));-1<x&&(a=parseInt(c[x])-1,this.utc?b.setUTCMonth(a):b.setMonth(a));-1<r&&-1===m&&(a=Ph(parseInt(c[r]),this.utc?b.getUTCFullYear():b.getFullYear(),1,this.utc),this.utc?(b.setUTCMonth(0),b.setUTCDate(a)):(b.setMonth(0),
b.setDate(a)));-1<m&&(a=parseInt(c[m]),this.utc?b.setUTCDate(a):b.setDate(a));-1<p&&(a=parseInt(c[p]),this.utc?(b.setUTCMonth(0),b.setUTCDate(a)):(b.setMonth(0),b.setDate(a)));-1<t&&(a=parseInt(c[t]),this.utc?b.setUTCHours(a):b.setHours(a));-1<Na&&(a=parseInt(c[Na])-1,this.utc?b.setUTCHours(a):b.setHours(a));-1<A&&(11==(a=parseInt(c[A]))&&(a=0),-1<D&&!this.isAm(c[D])&&(a+=12),this.utc?b.setUTCHours(a):b.setHours(a));-1<Sa&&(12==(a=parseInt(c[Sa]))&&(a=0),-1<D&&!this.isAm(c[D])&&(a+=12),this.utc?b.setUTCHours(a):
b.setHours(a));-1<Ia&&(a=parseInt(c[Ia]),this.utc?b.setUTCMinutes(a):b.setMinutes(a));-1<u&&(a=parseInt(c[u]),this.utc?b.setUTCSeconds(a):b.setSeconds(a));-1<v&&(a=parseInt(c[v]),2==w?a*=10:1==w&&(a*=100),this.utc?b.setUTCMilliseconds(a):b.setMilliseconds(a));if(-1<F&&b.setTime(parseInt(c[F])),-1<G)n=ca(c[G].replace(/:/,"").match(/([+\-]?)([0-9]{2})([0-9]{2})/)),a=n[1],q=n[3],n=60*parseInt(n[2])+parseInt(q),"+"==a&&(n*=-1),a=n-b.getTimezoneOffset(),0!=a&&b.setMinutes(b.getMinutes()+a);-1<d&&("Z"==
c[d+7]||"z"==c[d+7]?((b=new Date).setUTCFullYear(R(c[d+0])),b.setUTCMonth(R(c[d+1])-1),b.setUTCDate(R(c[d+2])),b.setUTCHours(R(c[d+3])),b.setUTCMinutes(R(c[d+4])),b.setUTCSeconds(R(c[d+5])),b.setUTCMilliseconds(R(c[d+6]))):b=new Date(R(c[d+0]),R(c[d+1])-1,R(c[d+2]),R(c[d+3]),R(c[d+4]),R(c[d+5]),R(c[d+6])))}else b=new Date(a);return b},b.prototype.resolveMonth=function(a){var d=this._months.indexOf(a);return-1<d?d:this.language&&!this.language.isDefault()&&-1<(d=this.language.translateAll(this._months).indexOf(a))?
d:0},b.prototype.resolveShortMonth=function(a){var d=this._monthsShort.indexOf(a);return-1<d?d:this.language&&!this.language.isDefault()&&-1<(d=this.language.translateAll(this._monthsShort).indexOf(a))?d:0},b.prototype.isAm=function(a){return-1<this.getStringList(["AM","A.M.","A"]).indexOf(a.toUpperCase())},b.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},b.prototype.getStringList=function(a){for(var d=[],b=0;b<a.length;b++)d.push(Qd(a[b])),this.language&&!this.language.isDefault()&&
d.push(Qd(this.language.translate(a[b])));return d},Object.defineProperty(b.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(a){this._dateFormat=a;this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(a){this._inputDateFormat=a;this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"utc",{get:function(){return this._utc},
set:function(a){this._utc=a;this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(a){this._timezoneOffset!=a&&(this._timezoneOffset=a,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(a){this._firstDayOfWeek=a;this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"outputFormat",{get:function(){return this._outputFormat},set:function(a){this._outputFormat=a.toLowerCase();this.invalidateSprite()},enumerable:!0,configurable:!0}),b}(La);p.registeredClasses.DateFormatter=yc;var se=function(c){function b(){var a=c.call(this)||this;return a._negativeBase=0,a._baseUnit="second",a._outputFormat="svg",a._unitValues={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:2592E6,year:31536E6},a._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},a.className=
"DurationFormatter",a.applyTheme(),a}return m(b,c),b.prototype.format=function(a,d,b){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Fb);b=b||this._baseUnit;void 0!==d&&""!==d||(d=null!=this.durationFormat?this.durationFormat:this.getFormat(R(a),null,b));d=Zc(d);d=this.parseFormat(d,b);b=Number(a);a=b>this._negativeBase?d.positive:b<this._negativeBase?d.negative:d.zero;d=this.applyFormat(b,a);return""!==a.color&&("svg"===this._outputFormat?d="\x3ctspan fill\x3d'"+
a.color+"'\x3e"+d+"\x3c/tspan\x3e":"html"===this._outputFormat&&(d="\x3cspan style\x3d'color: "+a.color+";'\x3e"+d+"\x3c/span\x3e")),d},b.prototype.parseFormat=function(a,d){var b=this,c=this.getCache(a);if(null!=c)return c;d=d||this._baseUnit;var h={positive:{color:"",template:"",parts:[],source:"",baseUnit:d,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:d,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:d,parsed:!1,absolute:!1}};d=
(a=a.replace("||",ic)).split("|");return h.positive.source=d[0],void 0===d[2]?h.zero=h.positive:h.zero.source=d[2],void 0===d[1]?h.negative=h.positive:h.negative.source=d[1],K(h,function(a,d){if(!d.parsed)if(void 0===b.getCache(d.source)){var c;a=d.source;(c=d.source.match(/^\[([^\]]*)\]/))&&c.length&&""!==c[0]&&(a=d.source.substr(c[0].length),d.color=c[1]);c=vb().chunk(a,!0);for(a=0;a<c.length;a++){var e=c[a];if(e.text=e.text.replace(ic,"|"),"value"===e.type){e.text.match(/[yYMdDwhHKkmsSn]+a/)&&
(d.absolute=!0,e.text=e.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var f=e.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(f)for(var k=0;k<f.length;k++)null!=f[k]||(f[k]=b._unitAliases[f[k]]),d.parts.push(f[k]),e.text=e.text.replace(f[k],fb)}d.template+=e.text}b.setCache(d.source,d);d.parsed=!0}else h[a]=b.getCache(d.source)}),this.setCache(a,h),h},b.prototype.applyFormat=function(a,d){var b=!d.absolute&&a<this._negativeBase;a=Math.abs(a);a=this.toTimeStamp(a,d.baseUnit);for(var c=d.template,
h=0,k=d.parts.length;h<k;h++){var n=d.parts[h],q=this.toTimeUnit(n.substr(0,1)),g=Math.floor(a/this._unitValues[q]),c=c.replace(fb,Fa(g,n.length,"0"));a-=g*this._unitValues[q]}return b&&(c="-"+c),c},b.prototype.toTimeStamp=function(a,d){return a*this._unitValues[d]},b.prototype.toTimeUnit=function(a){switch(a){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year"}},
b.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(b.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(a){this._baseUnit=a;this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(a){this._outputFormat=a.toLowerCase();this.invalidateSprite()},enumerable:!0,configurable:!0}),b.prototype.getFormat=function(a,d,b){if(null!=this.durationFormat)return this.durationFormat;
if(b||(b=this.baseUnit),null!=d&&a!=d)return a=Math.abs(a),d=Math.abs(d),a=this.getValueUnit(T(a,d),b),this.durationFormats[b][a];a=this.getValueUnit(a,b);return this.durationFormats[b][a]},b.prototype.getValueUnit=function(a,d){var b;d||(d=this.baseUnit);var c=this.getMilliseconds(a,d);return ef(this._unitValues,function(a,e){if(a==d||b){if(1>=c/e)return b||(b=a),!1;b=a}return!0}),b},b.prototype.getMilliseconds=function(a,d){return d||(d=this.baseUnit),a*this._unitValues[d]},Object.defineProperty(b.prototype,
"durationFormat",{get:function(){return this._durationFormat},set:function(a){this._durationFormat!=a&&(this._durationFormat=a,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),
hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),
week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),
day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),
year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(a){this._durationFormats=a;this.invalidateSprite()},enumerable:!0,configurable:!0}),b}(La);p.registeredClasses.DurationFormatter=se;var Pg,xj=new ga,ag=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;return a._invalid=!1,a}
return m(b,c),b.prototype.invalidate=function(){!1===this._invalid&&(this._invalid=!0,p.events.on("exitframe",this.validate,this))},b.prototype.validate=function(){!0===this._invalid&&(this._invalid=!1,p.events.off("exitframe",this.validate,this))},b}(qb),Ai=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a.closeDelay=1E3,a.closeOnClick=!0,a._language=new sa,a._menuTag="ul",a._itemTag="li",a._labelTag="a",a._classPrefix="amexport",a._defaultStyles=!0,a._align="right",
a._verticalAlign="top",a._tabindex=0,a._ignoreNextClose=!1,a._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"gif",label:"GIF"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"}]},{label:"Print",type:"print"}]}],a.className="ExportMenu",a._disposers.push(a._language),a.invalidate(),a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){this.draw();
c.prototype.validate.call(this)},b.prototype.draw=function(){var a=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0);this.defaultStyles&&(this._element.style.display="none");ca(this._container).appendChild(this._element);this._items=this.adapter.apply("items",{items:this._items}).items;for(var d=this._items.length,b=0;b<d;b++)this.drawBranch(this._element,this._items[b],0);this._element=this.adapter.apply("menuElement",
{menuElement:this._element}).menuElement;this._disposers.push(C().body.events.on("down",function(d){d.pointer.touch||(a._ignoreNextClose=!1);a.close()}));this._disposers.push(C().body.events.on("keyup",function(d){d=wb.getEventKey(d.event);switch(d){case "esc":a.close();break;case "up":case "down":case "left":case "right":a.moveSelection(d)}}));this.defaultStyles&&this.loadDefaultCSS()},b.prototype.drawBranch=function(a,d,b){var c=this;if(!0!==(d=this.adapter.apply("branch",{branch:d,level:b}).branch).unsupported){d.ascendants||
(d.ascendants=new S);var e=d.type,k=this.createItemElement(b,e),n=this.createLabelElement(b,e);n.innerHTML=d.label?this.language.translate(d.label):"";var q=this.getReaderLabel(d,n.innerHTML);n.setAttribute("aria-label",q);k.appendChild(n);d.interactions=C().getInteraction(n);this.typeClickable(e)&&(d.interactions.events.on("hit",function(a){c.events.isEnabled("hit")&&c.events.dispatchImmediately("hit",{type:"hit",event:a.event,target:c,branch:d})}),d.interactions.events.on("keyup",function(a){wb.isKey(a.event,
"enter")&&c.events.isEnabled("enter")&&c.events.dispatchImmediately("enter",{type:"enter",event:a.event,target:c,branch:d})}));var g=this.getSubMenu(d);null!=g&&(d.interactions.events.on("keyup",function(a){wb.isKey(a.event,"enter")&&(c.selectBranch(g[0]),c.setFocus(g[0]))}),d.interactions.events.on("hit",function(a){c.selectBranch(d)}));d.interactions.events.on("over",function(a){(a.pointer.touch&&(c._ignoreNextClose=!0),c.selectBranch(d),c.events.isEnabled("over"))&&c.events.dispatchImmediately("over",
{type:"over",event:a.event,target:c,branch:d})});d.interactions.events.on("out",function(a){(a.pointer.touch||c.delayUnselectBranch(d),c.events.isEnabled("out"))&&c.events.dispatchImmediately("out",{type:"out",event:a.event,target:c,branch:d})});d.interactions.events.on("focus",function(a){c.selectBranch(d)});d.interactions.events.on("blur",function(a){c.delayUnselectBranch(d)});b+=1;if(d.menu){e=this.createMenuElement(b);n=d.menu.length;for(q=0;q<n;q++){var x=new S;d.menu[q].ascendants=x;d.ascendants.length&&
x.copyFrom(d.ascendants);x.push(d);this.drawBranch(e,d.menu[q],b)}if(""==e.innerHTML)return;k.appendChild(e)}a.appendChild(k)}},b.prototype.createMenuElement=function(a){var d=document.createElement(this.menuTag);return d.className=this.getMenuItemClass(a),0===a&&d.setAttribute("role","menu"),d},b.prototype.getMenuItemClass=function(a){var d=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+a;return 0===a&&(d+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+
"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:d,level:a}).className},b.prototype.createItemElement=function(a,d){var b=document.createElement(this.itemTag);return b.className=this.adapter.apply("itemClass",{className:this.classPrefix+"-item "+this.classPrefix+"-item-level-"+a+" "+this.classPrefix+"-item-"+(d||"blank"),level:a,type:d}).className,b},b.prototype.createLabelElement=function(a,d){var b=document.createElement(this.labelTag),c=this.classPrefix+"-label "+this.classPrefix+
"-label-level-"+a+" "+this.classPrefix+"-item-"+(d||"blank");return this.typeClickable(d)&&(c+=" "+this.classPrefix+"-clickable"),b.className=this.adapter.apply("labelClass",{className:c,level:a,type:d}).className,b.setAttribute("tabindex",this.tabindex.toString()),b.setAttribute("role","menuitem"),b},b.prototype.dispose=function(){this._disposed||(c.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},b.prototype.typeClickable=
function(a){return null!=a},b.prototype.hasSubMenu=function(a){return!(!a.menu||!a.menu.length)},b.prototype.getSubMenu=function(a){if(a.menu&&a.menu.length)return a.menu},b.prototype.getReaderLabel=function(a,d){return d=rf(d),this.hasSubMenu(a)?d+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==a.type?d=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(a.type)&&(d=this.language.translate("Click, tap or press ENTER to export as %1.",
void 0,d)),this.adapter.apply("rederLabel",{label:d,branch:a}).label},Object.defineProperty(b.prototype,"container",{get:function(){return this._container},set:function(a){this._container=a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"items",{get:function(){return this._items},set:function(a){this._items=a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tag",{set:function(a){this._menuTag=a;this._itemTag="ul"==a?"li":"div";
this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(a){this._align=a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(a){this._verticalAlign=a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",
{classPrefix:this._classPrefix}).classPrefix},set:function(a){this._classPrefix=a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(a){this._defaultStyles!=a&&(this._defaultStyles=a,a&&this.loadDefaultCSS());this.invalidate()},enumerable:!0,configurable:!0}),b.prototype.loadDefaultCSS=function(){var a,d,b;this._disposers.push((a=
this.classPrefix,d=a||"amexport",b=new W,xj.insertKeyIfEmpty(d,function(){var a=new ja([new ha("."+d+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new ha("."+d+"-menu-level-0."+d+"-left",{right:"auto",left:"5px"}),new ha("."+d+"-menu-level-0."+d+"-right",{right:"5px",left:"auto"}),new ha("."+d+"-menu-level-0."+d+"-top",{top:"5px",bottom:"auto"}),new ha("."+d+"-menu-level-0."+d+"-bottom",{top:"auto",bottom:"5px"}),new ha("."+d+"-item."+d+"-item-level-0",{opacity:"0.3",width:"30px",height:"30px",
transition:"all 100ms ease-in-out"}),new ha("div:hover ."+d+"-item."+d+"-item-level-0, ."+d+"-item."+d+"-item-level-0.active",{opacity:"0.9"}),new ha("."+d+"-item."+d+"-item-level-0 \x3e a",{padding:"0","text-align":"center"}),new ha("."+d+"-item."+d+"-item-level-0:before",{display:"block"}),new ha("."+d+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":b.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:b.getFor("secondaryButton").alternative.hex,
transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new ha("."+d+"-left ."+d+"-item",{margin:"1px 0 0 1px"}),new ha("."+d+"-item:hover, ."+d+"-item.active",{background:b.getFor("secondaryButtonHover").hex,color:b.getFor("secondaryButtonText").hex}),new ha("."+d+"-item \x3e ."+d+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new ha("."+d+"-left ."+d+"-item \x3e ."+d+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new ha("."+d+"-right ."+
d+"-item \x3e ."+d+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new ha("."+d+"-top ."+d+"-item \x3e ."+d+"-menu",{top:"-1px",bottom:"auto"}),new ha("."+d+"-bottom ."+d+"-item \x3e ."+d+"-menu",{top:"auto",bottom:"0"}),new ha("."+d+"-item \x3e ."+d+"-menu",{display:"none"}),new ha("."+d+"-item:hover \x3e ."+d+"-menu, ."+d+"-item.active \x3e ."+d+"-menu",{display:"block"}),new ha("."+d+"-item:hover \x3e ."+d+"-menu \x3e ."+d+"-item, ."+d+"-item.active \x3e ."+d+"-menu \x3e ."+
d+"-item",{opacity:"1"}),new ha("."+d+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new ha("."+d+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new ha("."+d+"-clickable",{cursor:"pointer"})]);return new rd(function(){xj.removeKey(d);a.dispose()})}).increment()));this._element&&(this._element.style.display="")},Object.defineProperty(b.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(a){this._tabindex=
a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"language",{get:function(){var a=this,d=this._language.get();return null==d&&(d=new Fb,this._language.set(d,d.events.on("localechanged",function(d){a.invalidate()}))),d},set:function(a){var d=this;this._language.set(a,a.events.on("localechanged",function(a){d.invalidate()}));this.invalidate()},enumerable:!0,configurable:!0}),b.prototype.close=function(){var a=this;if(this._ignoreNextClose)this._ignoreNextClose=
!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){a._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var d=this._element.getElementsByClassName("active"),b=d.length-1;0<=b;b--)d[b]&&fe(d[b],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},b.prototype.selectBranch=function(a){var d=this;(a.closeTimeout&&(this.removeDispose(a.closeTimeout),
a.closeTimeout=void 0),ee(a.interactions.element.parentElement,"active"),this._currentSelection&&this._currentSelection!==a&&this._currentSelection.ascendants&&v(qh(Ib([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(b){a.ascendants.contains(b)||a===b||d.unselectBranch(b,!0)}),v(a.ascendants.iterator(),function(a){a.closeTimeout&&(d.removeDispose(a.closeTimeout),a.closeTimeout=void 0);ee(a.interactions.element.parentElement,"active")}),this._currentSelection=a,this.events.isEnabled("branchselected"))&&
this.events.dispatchImmediately("branchselected",{type:"branchselected",target:this,branch:a})},b.prototype.unselectBranch=function(a,d){(fe(a.interactions.element.parentElement,"active"),this._currentSelection==a&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))&&this.events.dispatchImmediately("branchunselected",{type:"branchunselected",target:this,branch:a})},b.prototype.delayUnselectBranch=function(a,d){var b=this;a.closeTimeout&&(this.removeDispose(a.closeTimeout),a.closeTimeout=
void 0);a.closeTimeout=this.setTimeout(function(){b.unselectBranch(a,d)},this.closeDelay);!0!==d&&a.ascendants&&v(a.ascendants.iterator(),function(a){b.delayUnselectBranch(a,!0)})},b.prototype.moveSelection=function(a){if(this._currentSelection){var d;"up"==a?d=this.getPrevSibling(this._currentSelection):"down"==a?d=this.getNextSibling(this._currentSelection):"left"==a&&"right"==this.align||"right"==a&&"left"==this.align?(a=this.getSubMenu(this._currentSelection),null!=a&&(d=a[0])):("right"==a&&"right"==
this.align||"left"==a&&"left"==this.align)&&(d=this.getParentItem(this._currentSelection));d&&d!==this._currentSelection&&(this.selectBranch(d),this.setFocus(d),this._currentSelection=d)}},b.prototype.getSiblings=function(a){return(a=this.getParentItem(a))&&a.menu?a.menu:[]},b.prototype.getParentItem=function(a){return a.ascendants&&a.ascendants.length?a.ascendants.getIndex(a.ascendants.length-1):void 0},b.prototype.getNextSibling=function(a){var d=this.getSiblings(a);return 1<d.length?(a=d.indexOf(a)+
1,d[a=d.length==a?0:a].unsupported?this.getNextSibling(d[a]):d[a]):a},b.prototype.getPrevSibling=function(a){var d=this.getSiblings(a);return 1<d.length?(a=d.indexOf(a)-1,d[a=-1==a?d.length-1:a].unsupported?this.getPrevSibling(d[a]):d[a]):a},b.prototype.setFocus=function(a){a.interactions&&a.interactions.element.focus()},b.prototype.setBlur=function(a){a.interactions&&a.interactions.element.blur()},b}(ag),yj=/src: ([^;]+);/,zi=function(c){function b(a){var d=c.call(this)||this;return d.adapter=new Qa(d),
d._formatOptions=new ga,d._extraSprites=[],d._dynamicDataFields=!0,d._removedObjects=new S,d._hiddenObjects=[],d._objectsAlreadyHidden=!1,d._filePrefix="amCharts",d.useWebFonts=!0,d.useRetina=!0,d.useSimplifiedExport=!0,d.timeoutDelay=2E3,d._container=a,d.className="Export",d._formatOptions.setKey("png",{}),d._formatOptions.setKey("jpg",{quality:.8}),d._formatOptions.setKey("gif",{}),d._formatOptions.setKey("svg",{}),d._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",addURL:!0}),d._formatOptions.setKey("json",
{indent:2,useLocale:!0}),d._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:""}),d._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),d._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),d.adapter.add("options",function(a){var b=d._formatOptions.getKey(a.type);return a.options?a.options=Md(a.options,b):a.options=b,a}),d.applyTheme(),d.dispatchImmediately("inited"),d}return m(b,c),Object.defineProperty(b.prototype,"menu",{get:function(){return this._menu},
set:function(a){var d=this;this._menu&&this.removeDispose(this._menu);this._menu=a;this._menu.container=this.container;this._menu.language=this._language;this._menu.adapter.add("branch",function(a){return a.branch.unsupported=!d.typeSupported(a.branch.type),a});this._menu.events.on("hit",function(a){d.export(a.branch.type,a.branch.options);d.menu.close()});this._menu.events.on("enter",function(a){d.export(a.branch.type,a.branch.options);d.menu.close()});this._menu.events.on("over",function(a){d._disablePointers()});
this._menu.events.on("out",function(a){d._releasePointers()});this.dispatchImmediately("menucreated");this._menu.adapter.add("classPrefix",function(a){return a.classPrefix=Ka.classNamePrefix+a.classPrefix,a});this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),b.prototype.typeSupported=function(a){var d=!0;return"pdf"===a||("xlsx"===a?d=!!this._hasData():("print"!=a||window.print)&&(-1===["json","csv"].indexOf(a)||this._hasData())||(d=!1)),this.adapter.apply("supported",{supported:d,
type:a}).supported},b.prototype._hasData=function(){return this.data&&this.data.length},b.prototype._getFunction=function(a){switch(a){case "png":case "gif":case "jpg":return this.getImage;case "svg":return this.getSVG;case "pdf":return this.getPDF;case "xlsx":return this.getExcel;case "csv":return this.getCSV;case "json":return this.getJSON;case "print":return this.getPrint;default:return this.unsupported}},b.prototype.export=function(a,d){return O(this,void 0,void 0,function(){var b,c,h,k,n,q=this;
return H(this,function(e){switch(e.label){case 0:return this.events.isEnabled("exportstarted")&&(b={type:"exportstarted",target:this,format:a,options:d},this.events.dispatchImmediately("exportstarted",b)),"custom"==a?(this.handleCustom(d),[2,!0]):(this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){q.events.isEnabled("exporttimedout")&&q.events.dispatchImmediately("exporttimedout",{type:"exporttimedout",target:q,format:a,options:d});q.showTimeout()},
this.timeoutDelay)),this.hideNonExportableSprites(),c=this._getFunction(a),d=this.adapter.apply("options",{options:d,type:a}).options,[4,(c=this.adapter.apply("exportFunction",{func:c,type:a,options:d}).func).call(this,a,d)]);case 1:return h=e.sent(),this.restoreNonExportableSprites(),h?(this.events.isEnabled("exportfinished")&&(k={type:"exportfinished",target:this,format:a,options:d},this.events.dispatchImmediately("exportfinished",k)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),
"print"===a?[2,this.print(h,d,this.adapter.apply("title",{title:this.title,options:d}).title)]:[2,this.download(h,this.filePrefix+"."+a)]):(this.events.isEnabled("error")&&(n={type:"error",target:this,format:a,options:d},this.events.dispatchImmediately("error",n)),[2,!1])}})})},b.prototype.unsupported=function(a,d){return O(this,void 0,void 0,function(){return H(this,function(a){return[2,""]})})},b.prototype.handleCustom=function(a){null!=a.callback&&a.callback.call(this,a)},b.prototype.getPrint=
function(a,d){return O(this,void 0,void 0,function(){return H(this,function(a){return[2,this.getImage("png",d)]})})},b.prototype.getFontFamilies=function(){return O(this,void 0,void 0,function(){var a,d,b,c,h=this;return H(this,function(e){switch(e.label){case 0:return a=this.getDOMURL(),d=[],b=[],[4,Xk(function(c,e){if(e.type===CSSRule.FONT_FACE_RULE){var f=e.cssText;e=yj.exec(f);null!==e&&(e=e[1].split(/ *, */).map(function(b){return O(h,void 0,void 0,function(){var e,f,h,k,n,q;return H(this,function(g){switch(g.label){case 0:return null!==
(e=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(b))?[3,1]:[2,b];case 1:f=e[2],h=ae(c,e[1]),g.label=2;case 2:return g.trys.push([2,7,,8]),[4,ke(h,void 0,{responseType:"blob"})];case 3:return k=g.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(n=a.createObjectURL(k.blob),d.push(n),[3,6]);case 4:return[4,(y=k.blob,new Promise(function(a,d){var b=new FileReader;b.onload=function(d){a(b.result)};b.onerror=function(a){d(a)};b.readAsDataURL(y)}))];case 5:n=g.sent(),g.label=6;case 6:return[2,'url("'+
n+'")'+f];case 7:return q=g.sent(),console.error("Failed to load font",h,q),[2,null];case 8:return[2]}var y})})}),b.push(Promise.all(e).then(function(a){return 0===(a=a.filter(function(a){return null!=a})).length?"":f.replace(yj,"src: "+a.join(", ")+";")})))}})];case 1:return e.sent(),[4,Promise.all(b)];case 2:return c=e.sent(),[2,{blobs:d,cssText:c.filter(function(a){return!!a}).join("\n")}]}})})},b.prototype.getImage=function(a,d,b){return O(this,void 0,void 0,function(){var c,e,k,n;return H(this,
function(f){switch(f.label){case 0:return(c=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),null!=d||(d=this.getFormatOptions(a)),[4,this.simplifiedImageExport()];case 1:if(!f.sent())return[3,9];f.label=2;case 2:return f.trys.push([2,6,,8]),[4,this.getCanvas(d)];case 3:return e=f.sent(),!1===b?[3,5]:[4,this.addExtras(e,d)];case 4:e=f.sent(),f.label=5;case 5:return k=e.toDataURL(this.getContentType(a),d.quality),this.disposeCanvas(e),c||this.restoreNonExportableSprites(),[2,k];case 6:return f.sent(),
[4,this.getImageAdvanced(a,d,b)];case 7:return n=f.sent(),c||this.restoreNonExportableSprites(),[2,n];case 8:return[3,11];case 9:return[4,this.getImageAdvanced(a,d,b)];case 10:return n=f.sent(),c||this.restoreNonExportableSprites(),[2,n];case 11:return[2]}})})},b.prototype.addExtras=function(a,d,b){return O(this,void 0,void 0,function(){var c,e,k,n,q,g,x,l,m,p,E,r,t,A,u=this;return H(this,function(f){switch(f.label){case 0:return this.extraSprites.length?(c=0,e=0,k=a.width,n=a.height,q=a.width,g=
a.height,[4,Promise.all(oc(this.extraSprites,function(a){return O(u,void 0,void 0,function(){var f,h,y,x;return H(this,function(l){switch(l.label){case 0:return(f=a instanceof M?{sprite:a,position:"bottom"}:a).position=f.position||"bottom",f.marginTop=f.marginTop||0,f.marginRight=f.marginRight||0,f.marginBottom=f.marginBottom||0,f.marginLeft=f.marginLeft||0,b?[4,f.sprite.exporting.getCanvasAdvanced(d)]:[3,2];case 1:return h=l.sent(),[3,4];case 2:return[4,f.sprite.exporting.getCanvas(d)];case 3:h=
l.sent(),l.label=4;case 4:return y=h.width+f.marginLeft+f.marginRight,x=h.height+f.marginTop+f.marginBottom,"top"==f.position?(k=T(k,y),g+=x,e+=x):"right"==f.position?(n=T(n,x),q+=y):"left"==f.position?(n=T(n,x),q+=y,c+=y):"bottom"===f.position&&(k=T(k,y),g+=x),[2,{canvas:h,position:f.position,left:f.marginLeft,top:f.marginTop,width:y,height:x}]}})})}))]):[3,2];case 1:return x=f.sent(),(l=this.getDisposableCanvas()).width=q,l.height=g,m=l.getContext("2d"),(p=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&
(m.fillStyle=p.toString(),m.fillRect(0,0,l.width,l.height)),E=c,r=e,t=k,A=n,J(x,function(a){"top"==a.position?(r-=a.height,m.drawImage(a.canvas,c+a.left,r+a.top)):"right"==a.position?(m.drawImage(a.canvas,t+a.left,e+a.top),t+=a.width):"left"==a.position?(E-=a.width,m.drawImage(a.canvas,E+a.left,e+a.top)):"bottom"===a.position&&(m.drawImage(a.canvas,c+a.left,A+a.top),A+=a.height);u.disposeCanvas(a.canvas)}),m.drawImage(a,c,e),[2,l];case 2:return[2,a]}})})},b.prototype.getCanvas=function(a){return O(this,
void 0,void 0,function(){var d,b,c,h,k,n,q,g,x,l,m,p,E,r,t,A;return H(this,function(e){switch(e.label){case 0:null!=a||(a={}),d=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),b=this.getDOMURL(),h=c=null,e.label=1;case 1:return e.trys.push([1,,4,5]),n=this.sprite.pixelWidth,q=this.sprite.pixelHeight,g=he(this.sprite.dom),x=ie(this.sprite.dom),k=this.getDisposableCanvas(),l=this.getPixelRatio(a),k.style.width=n+"px",k.style.height=q+"px",k.width=n*l,k.height=q*l,m=k.getContext("2d"),
1!=l&&m.setTransform(l,0,0,l,0,0),d&&(m.fillStyle=d.toString(),m.fillRect(0,0,n,q)),p=[],this.useWebFonts&&p.push(this.getFontFamilies().then(function(a){return h=a.blobs,a.cssText})),p.push(this.imagesToDataURI(this.sprite.dom,a)),p.push(this.prepForeignObjects(this.sprite.dom,a)),[4,Promise.all(p)];case 2:return E=e.sent(),r=this.normalizeSVG("\x3cstyle\x3e"+E[0]+"\x3c/style\x3e"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),a,n,q,g,x),t=new Blob([r],{type:"image/svg+xml"}),
c=b.createObjectURL(t),[4,this.loadNewImage(c,n,q,"anonymous")];case 3:return A=e.sent(),m.drawImage(A,0,0),[3,5];case 4:return null!==c&&b.revokeObjectURL(c),null!==h&&J(h,function(a){b.revokeObjectURL(a)}),this.restoreRemovedObjects(),[7];case 5:return[2,k]}})})},b.prototype.getCanvasAdvanced=function(a){return O(this,void 0,void 0,function(){var d,b,c,h,k,n,q,g,x,l;return H(this,function(e){switch(e.label){case 0:return null!=a||(a={}),[4,this.imagesToDataURI(this.sprite.dom,a)];case 1:return e.sent(),
d=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return b=e.sent(),c=this.sprite.pixelWidth,h=this.sprite.pixelHeight,k=he(this.sprite.dom),n=ie(this.sprite.dom),q=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),a,c,h,k,n,d),g=this.getDisposableCanvas(),x=this.getPixelRatio(a),g.style.width=c*x+"px",g.style.height=h*x+"px",g.width=c*x,g.height=h*x,l={useCORS:!0},1!=x&&(l.ignoreDimensions=!0,l.scaleWidth=
c*x,l.scaleHeight=h*x),b(g,q,l),[2,g]}})})},b.prototype.getImageAdvanced=function(a,d,b){return O(this,void 0,void 0,function(){var c,e,k;return H(this,function(f){switch(f.label){case 0:return(c=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),null!=d||(d=this.getFormatOptions(a)),[4,this.getCanvasAdvanced(d)];case 1:return e=f.sent(),!1===b?[3,3]:[4,this.addExtras(e,d,!0)];case 2:e=f.sent(),f.label=3;case 3:return k=e.toDataURL(this.getContentType(a),d.quality),this.disposeCanvas(e),
c||this.restoreNonExportableSprites(),[2,k]}})})},b.prototype.getDisposableCanvas=function(){var a=document.createElement("canvas");return a.style.position="fixed",a.style.top="-10000px",document.body.appendChild(a),a},b.prototype.disposeCanvas=function(a){document.body.removeChild(a)},b.prototype.getPixelRatio=function(a){a=a&&a.scale?a.scale:1;return(this.useRetina?Jh():1)*a},b.prototype.imagesToDataURI=function(a,d){return O(this,void 0,void 0,function(){var c,f,h,k,n,q;return H(this,function(e){switch(e.label){case 0:if(!(c=
a.querySelectorAll("image")).length)return[3,2];f=[];h=c.length;for(k=0;k<h;k++)n=c[k],(q=n.getAttributeNS(b.XLINK,"href"))&&(-1!==q.indexOf("data:image")||(-1!==q.indexOf(".svg")?f.push(this.svgToDataURI(n,d)):f.push(this.imageToDataURI(n,d))));return[4,Promise.all(f)];case 1:return e.sent(),[2];case 2:return[2]}})})},b.prototype.prepForeignObjects=function(a,d){return O(this,void 0,void 0,function(){var d,b,c;return H(this,function(e){if((d=a.querySelectorAll("foreignObject")).length)for(b=d.length,
c=0;c<b;c++)this.temporarilyRemoveObject(d[c]);return[2]})})},b.prototype.imageToDataURI=function(a,d){return O(this,void 0,void 0,function(){var c,f,h;return H(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadNewImage(a.getAttributeNS(b.XLINK,"href"),null,null,"anonymous")];case 1:c=e.sent();(f=document.createElement("canvas")).width=c.width;f.height=c.height;f.getContext("2d").drawImage(c,0,0);try{return h=f.toDataURL(),a.setAttribute("href",h),[2,h]}catch(n){return!1!==
d.keepTainted&&this.temporarilyRemoveObject(a),[2,void 0]}case 2:return e.sent(),d&&!1===d.keepTainted||this.temporarilyRemoveObject(a),[2,void 0];case 3:return[2]}})})},b.prototype.svgToDataURI=function(a,d){return O(this,void 0,void 0,function(){var c,f,h,k;return H(this,function(e){switch(e.label){case 0:c=a.getAttributeNS(b.XLINK,"href"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ke(c)];case 2:return f=e.sent(),h=this.adapter.apply("charset",{charset:"base64",type:"svg",options:d}).charset,
k=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+h+","+btoa(f.response),options:d}).data,a.setAttributeNS(b.XLINK,"href",k),[2,k];case 3:return e.sent(),d&&!1===d.keepTainted||this.temporarilyRemoveObject(a),[2,void 0];case 4:return[2]}})})},b.prototype.temporarilyRemoveObject=function(a,d){var b=a.parentElement||a.parentNode;d||(d=this.sprite.paper.add("g").node);b.insertBefore(d,a);a.textContent;b.removeChild(a);this._removedObjects.push({element:a,placeholder:d})},
b.prototype.restoreRemovedObjects=function(){for(var a;a=this._removedObjects.pop();)(a.placeholder.parentElement||a.placeholder.parentNode).insertBefore(a.element,a.placeholder)},b.prototype.simplifiedImageExport=function(){return O(this,void 0,void 0,function(){var a,d,b,c,h,k,n;return H(this,function(e){switch(e.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(a=p.getCache("simplifiedImageExport"))||!0===a)return[2,a];e.label=1;case 1:e.trys.push([1,6,,7]),(d=document.createElement("canvas")).width=
1,d.height=1,b=d.getContext("2d"),c=this.getDOMURL(),h=new Blob([this.normalizeSVG("\x3cg\x3e\x3c/g\x3e",{},1,1)],{type:"image/svg+xml"}),k=c.createObjectURL(h),n=void 0,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.loadNewImage(k,1,1)];case 3:return n=e.sent(),[3,5];case 4:return e.sent(),[2,!1];case 5:b.drawImage(n,0,0);c.revokeObjectURL(k);try{return p.setCache("simplifiedImageExport",!0),[2,!0]}catch(y){return p.setCache("simplifiedImageExport",!1),[2,!1]}case 6:return e.sent(),p.setCache("simplifiedImageExport",
!1),[2,!1];case 7:return[2]}})})},b.prototype.loadNewImage=function(a,d,b,c){return new Promise(function(e,f){function h(){if(c){var d=k.src;k.onerror=function(){f(Error('Loading image "'+a+'" failed'))};k.removeAttribute("crossorigin");k.src="";k.src=d}else f(Error('Loading image "'+a+'" failed'))}var k;k=d&&b?new Image(d,b):new Image;c&&k.setAttribute("crossOrigin",c);k.onload=function(){e(k)};k.onabort=h;k.onerror=h;k.src=a})},b.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},
b.prototype.getSVG=function(a,d){return O(this,void 0,void 0,function(){var b,c,h,k,n,q,g,x;return H(this,function(e){return(b=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),c=this.sprite.pixelWidth,h=this.sprite.pixelHeight,k=he(this.sprite.dom),n=ie(this.sprite.dom),q=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),d,c,h,k,n),g=this.adapter.apply("charset",{charset:"charset\x3dutf-8",type:"svg",options:d}).charset,x=this.adapter.apply("getSVG",
{data:"data:"+this.getContentType(a)+";"+g+","+encodeURIComponent(q),options:d}).data,b||this.restoreNonExportableSprites(),[2,x]})})},b.prototype.normalizeSVG=function(a,d,b,c,h,k,n){var e="";b&&(e+='width\x3d"'+b+'px" ');c&&(e+='height\x3d"'+c+'px" ');b="";h&&(b+="font-family: "+h.replace(/"/g,"")+";");k&&(b+="font-size: "+k+";");a.match(/<svg/)?""!==e&&(a=(a=(a=a.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+e)):a='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\x3csvg '+
e+' style\x3d"'+b+'" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e'+a+"\x3c/svg\x3e";n&&(a=a.replace(/(<svg[^>]*>)/,'$1\x3crect width\x3d"100%" height\x3d"100%" fill\x3d"'+n.rgba+'"/\x3e'));/MSIE |Trident\//.test(navigator.userAgent)&&(a=a.replace(/<feColorMatrix [^\/>]*\/>/gi,""));h=new RegExp("url\\("+Qd(rc()),"g");return a=a.replace(h,"url(#"),a=this.adapter.apply("normalizeSVG",{data:a,options:d}).data},b.prototype.serializeElement=function(a){return(new XMLSerializer).serializeToString(a)},
b.prototype.getPDF=function(a,d){return O(this,void 0,void 0,function(){var a,b,c,k,n;return H(this,function(e){switch(e.label){case 0:return[4,this.getImage(d.imageFormat||"png",d)];case 1:return a=e.sent(),[4,this.pdfmake];case 2:return b=e.sent(),c=[30,30,30,30],k={pageSize:d.pageSize||"A4",pageOrientation:d.pageOrientation||"portrait",pageMargins:d.pageMargins||c,content:[]},(n=this.adapter.apply("title",{title:this.title,options:d}).title)&&k.content.push({text:n,fontSize:d.fontSize,bold:!0,
margin:[0,0,0,15]}),d.addURL&&k.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:d.fontSize,margin:[0,0,0,15]}),k.content.push({image:a,fit:this.getPageSizeFit(k.pageSize,k.pageMargins)}),k=this.adapter.apply("pdfmakeDocument",{doc:k,options:d}).doc,[4,new Promise(function(a,d){b.createPdf(k).getDataUrl(function(d){a(d)})})];case 3:return[2,e.sent()]}})})},b.prototype.getPageSizeFit=function(a,d){var b=[0,0,0,0];"number"==typeof d?b=[d,d,d,d]:2==d.length?
b=[d[0],d[1],d[0],d[1]]:4==d.length&&(b=d);a={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],
B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],
LETTER:[612,792],TABLOID:[792,1224]}[a];return a[0]-=b[0]+b[2],a[1]-=b[1]+b[3],a},b.prototype.getExcel=function(a,d){return O(this,void 0,void 0,function(){var b,c,h,k,n,q,g,x;return H(this,function(e){switch(e.label){case 0:return[4,this.xlsx];case 1:b=e.sent();c=this.adapter.apply("xlsxWorkbookOptions",{options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options;h=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{name:this.title||this.language.translate("Data")}).name);k={SheetNames:[h],
Sheets:{}};n=[];q=this.dataFields;d.addColumnNames&&n.push(this.getExcelRow(q,d));g=this.data.length;for(x=0;x<g;x++)n.push(this.getExcelRow(this.data[x],d,q));return k.Sheets[h]=b.utils.aoa_to_sheet(n),[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(a)+";base64,"+b.write(k,c),options:d}).data]}})})},b.prototype.normalizeExcelSheetName=function(a){return Td(a=a.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},b.prototype.getExcelRow=function(a,d,b){var c=this,e=[];return b||(b=a),
K(b,function(b,f){f=c.convertEmptyValue(b,a[b],d);e.push(c.convertToDateOrDuration(b,f,d,!0))}),e},b.prototype.getCSV=function(a,d){return O(this,void 0,void 0,function(){var b,c,h,k,n,q,g,x;return H(this,function(e){b="";c=this.dataFields;h="";k=this.data;n=k.length;for(q=0;q<n;q++)g=this.getCSVRow(k[q],d,c),d.reverse?b=g+h+b:b+=h+g,h="\n";return d.addColumnNames&&(b=this.getCSVRow(c,d)+h+b),x=this.adapter.apply("charset",{charset:"charset\x3dutf-8",type:a,options:d}).charset,[2,this.adapter.apply("getCSV",
{data:"data:"+this.getContentType(a)+";"+x+","+encodeURIComponent(b),options:d}).data]})})},b.prototype.getCSVRow=function(a,d,b){var c=this,e=d.separator||",",k=[];return b||(b=a),K(b,function(b,f){f=c.convertEmptyValue(b,a[b],d);b=c.convertToDateOrDuration(b,f,d);b=(b=""+b).replace(/"/g,'""');(d.forceQuotes||0<=b.search(new RegExp('"|\n|'+e,"g")))&&(b='"'+b+'"');k.push(b)}),k.join(e)},b.prototype.getJSON=function(a,d){return O(this,void 0,void 0,function(){var b,c,h=this;return H(this,function(e){return b=
JSON.stringify(this.data,function(a,b){return"object"==typeof b&&K(b,function(a,c){b[a]=h.convertToDateOrDuration(a,c,d)}),b},d.indent),c=this.adapter.apply("charset",{charset:"charset\x3dutf-8",type:a,options:d}).charset,[2,this.adapter.apply("getJSON",{data:"data:"+this.getContentType(a)+";"+c+","+encodeURIComponent(b),options:d}).data]})})},b.prototype.convertToDateOrDuration=function(a,d,b,c){if("number"==typeof d)if(this.isDateField(a))d=new Date(d);else if(this.isDurationField(a))return this.durationFormatter.format(d,
this.durationFormat);return d instanceof Date&&(b.useTimestamps?d=d.getTime():b.useLocale?c||(d=d.toLocaleString()):d=this.dateFormatter.format(d,this.dateFormat)),d},b.prototype.convertEmptyValue=function(a,d,b){return null!=d?d:b.emptyAs},b.prototype.download=function(a,d){return O(this,void 0,void 0,function(){var b,c,h,k,n,q,g,x,l,m,p,E,r,t,A;return H(this,function(e){if(this.msBlobDownloadSupport()){if(E=a.split(";"),r=E.shift().replace(/data:/,""),a=decodeURIComponent(E.join(";").replace(/^[^,]*,/,
"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(r))return b=new Blob([a],{type:r}),window.navigator.msSaveBlob(b,d),[2,!0];try{a=h=atob(a)}catch(Sa){return[2,!1]}q=Array(a.length);for(g=0;g<a.length;++g)x=a.charCodeAt(g),q[g]=x;l=new Blob([new Uint8Array(q)],{type:r});window.navigator.msSaveBlob(l,d)}else if(this.blobDownloadSupport()){if((c=document.createElement("a")).download=d,document.body.appendChild(c),E=a.split(";"),r=E.shift().replace(/data:/,""),a=decodeURIComponent(E.join(";").replace(/^[^,]*,/,
"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(r))return k=new Blob([a],{type:r}),n=window.URL.createObjectURL(k),c.href=n,c.download=d,c.click(),setTimeout(function(){document.body.removeChild(c);window.URL.revokeObjectURL(n)},100),[2,!0];try{a=h=atob(a)}catch(Sa){return[2,!1]}q=Array(a.length);for(g=0;g<a.length;++g)x=a.charCodeAt(g),q[g]=x;l=new Blob([new Uint8Array(q)],{type:r});m=window.URL.createObjectURL(l);c.href=m;c.download=d;document.body.appendChild(c);c.click();document.body.removeChild(c);
setTimeout(function(){window.URL.revokeObjectURL(m)},100)}else this.linkDownloadSupport()?((p=document.createElement("a")).download=d,p.href=a,document.body.appendChild(p),p.click(),document.body.removeChild(p)):this.legacyIE()?4===(E=a.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==E[2]?E[1].match(/^image\//)&&this.showModal('\x3cimg src\x3d"'+a+'" style\x3d"float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /\x3e\x3cp\x3e'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+
'\x3c/p\x3e\x3cp style\x3d"text-align: center;"\x3e\x3csmall\x3e'+this.language.translate("(Press ESC to close this message)")+"\x3c/small\x3e\x3c/p\x3e",this.language.translate("Image Export Complete")):(r=void 0,d.match(/\.svg$/)?r="image/svg+xml":(r="text/plain",d+=".txt"),(t=document.createElement("iframe")).width="1px",t.height="1px",t.style.display="none",document.body.appendChild(t),(A=t.contentDocument).open(r,"replace"),A.write(decodeURIComponent(E[3])),A.close(),A.execCommand("SaveAs",!0,
d),document.body.removeChild(t))):window.location.href=a;return[2,!0]})})},b.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},b.prototype.linkDownloadSupport=function(){var a=p.getCache("linkDownloadSupport");if(!1===a||!0===a)return a;a=void 0!==document.createElement("a").download;return p.setCache("linkDownloadSupport",a),a},b.prototype.blobDownloadSupport=function(){return null!=window.Blob},b.prototype.msBlobDownloadSupport=function(){return null!=
window.navigator.msSaveOrOpenBlob},b.prototype.legacyIE=function(){var a=document.createElement("div");return a.innerHTML="\x3c!--[if lt IE 10]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",1==a.getElementsByTagName("i").length},b.prototype.print=function(a,d,b){return O(this,void 0,void 0,function(){return H(this,function(c){return"css"==d.printMethod?[2,this.printViaCSS(a,d,b)]:[2,this.printViaIframe(a,d,b)]})})},b.prototype.printViaCSS=function(a,d,b){return O(this,void 0,void 0,function(){var c,e,
k,n;return H(this,function(f){return c=document.documentElement.scrollTop||document.body.scrollTop,e=new ha("body \x3e *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),b&&document&&document.title&&(k=document.title,document.title=b),(n=new Image).src=a,n.style.maxWidth="100%",n.style.display="block",n.style.position="relative",n.style.visibility="visible",n.style.opacity="1",n.style.clipPath="none",document.body.appendChild(n),
this.setTimeout(function(){window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&1E3>d.delay?d.delay=1E3:100>d.delay&&(d.delay=100),this.setTimeout(function(){document.body.removeChild(n);e.dispose();k&&(document.title=document.title);document.documentElement.scrollTop=document.body.scrollTop=c},d.delay||500),[2,!0]})})},b.prototype.printViaIframe=function(a,d,b){return O(this,void 0,void 0,function(){var c,e;return H(this,function(f){return(c=document.createElement("iframe")).style.visibility=
"hidden",document.body.appendChild(c),c.contentWindow.document.open(),c.contentWindow.document.close(),(e=new Image).src=a,e.style.maxWidth="100%",b&&(c.contentWindow.document.title=b),c.contentWindow.document.body.appendChild(e),c.load=function(){c.contentWindow.document.body.appendChild(e)},this.setTimeout(function(){try{c.contentWindow.document.execCommand("print",!1,null)||c.contentWindow.print()}catch(n){c.contentWindow.print()}},d.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&
1E3>d.delay?d.delay=1E3:100>d.delay&&(d.delay=100),this.setTimeout(function(){document.body.removeChild(c)},d.delay+50||100),[2,!0]})})},b.prototype.findBackgroundColor=function(a){var d=1,b="";return(a.currentStyle?b=a.currentStyle["background-color"]:window.getComputedStyle&&(b=document.defaultView.getComputedStyle(a,null).getPropertyValue("background-color")),(b.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==b)&&(d=0),0==d)?(a=a.parentElement)?this.findBackgroundColor(a):L("#fff"):L(b,d)},Object.defineProperty(b.prototype,
"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(a){this._container=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(a){this._sprite=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},
set:function(a){this._extraSprites=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(a){this._data=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(a){this._dataFields=a;this._dynamicDataFields=!1},enumerable:!0,
configurable:!0}),b.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0)},Object.defineProperty(b.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new yc),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(a){this._dateFormatter=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},
set:function(a){this._dateFormat=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new S),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(a){this._dateFields=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new se),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},
set:function(a){this._durationFormatter=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(a){this._durationFormat=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new S),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},
set:function(a){this._durationFields=a},enumerable:!0,configurable:!0}),b.prototype.generateDataFields=function(){var a=this;this._dataFields={};this.data.length&&J(this.data,function(d){K(d,function(d,b){null!=a._dataFields[d]||(a._dataFields[d]=a.adapter.apply("dataFieldName",{name:d,field:d}).name)})})},b.prototype.isDateField=function(a){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(a),field:a}).isDateField},b.prototype.isDurationField=function(a){return this.adapter.apply("isDurationField",
{isDurationField:this.durationFields.contains(a),field:a}).isDurationField},b.prototype.getContentType=function(a){var d="";switch(a){case "png":case "gif":d="image/"+a;break;case "jpg":d="image/jpeg";break;case "svg":d="image/svg+xml";break;case "csv":d="text/csv";break;case "json":d="application/json";break;case "pdf":d="application/pdf";break;case "xlsx":d="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:d,type:a}).contentType},
Object.defineProperty(b.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(a){this._filePrefix=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(a){this._backgroundColor=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"title",{get:function(){return this.adapter.apply("title",
{title:this._title}).title},set:function(a){this._title=a},enumerable:!0,configurable:!0}),b.prototype.showPreloader=function(){var a=this.preloader;a&&(a.progress=.5,a.label.text="...")},b.prototype.hidePreloader=function(){var a=this.preloader;a&&(a.progress=1)},Object.defineProperty(b.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),b.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",
{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},b.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null);this.hideModal()},Object.defineProperty(b.prototype,"language",{get:function(){return this._language||(this._language=new Fb),this._language},set:function(a){this._language=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"modal",
{get:function(){return this._modal||(this._modal=new Pf,this._modal.adapter.add("classPrefix",function(a){return a=Ka.classNamePrefix+a})),this._modal},enumerable:!0,configurable:!0}),b.prototype.showModal=function(a,d){this.hideModal();this.hidePreloader();var b=this.modal;b.container=this.sprite.svgContainer.SVGContainer;b.content=a;b.readerTitle=d;b.open()},b.prototype.hideModal=function(){this._modal&&this.modal.close()},b.prototype._canvg=function(){return O(this,void 0,void 0,function(){var a;
return H(this,function(d){switch(d.label){case 0:return[4,g.e(1).then(g.t.bind(null,19,7))];case 1:return null!=(a=d.sent()).default?[2,a.default]:[2,a]}})})},Object.defineProperty(b.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pdfmake",{get:function(){return null==Pg&&(Pg=function(){return O(this,void 0,void 0,function(){var a,d,b,c;return H(this,function(e){switch(e.label){case 0:return[4,Promise.all([g.e(2).then(g.t.bind(null,
17,7)),g.e(2).then(g.bind(null,18))])];case 1:return a=e.sent(),d=a[0],b=a[1],(c=window).pdfMake=c.pdfMake||{},c.pdfMake.vfs=b.default,d.vfs=b.default,[2,d]}})})}()),Pg},enumerable:!0,configurable:!0}),b.prototype._xlsx=function(){return O(this,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return[4,Promise.all([g.e(3),g.e(4)]).then(g.t.bind(null,20,7))];case 1:return[2,a.sent()]}})})},Object.defineProperty(b.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,
configurable:!0}),b.prototype.setFormatOptions=function(a,d){this._formatOptions.setKey(a,d)},b.prototype.getFormatOptions=function(a){return this._formatOptions.getKey(a)},b.prototype._disablePointers=function(){null!=this._spriteInteractionsEnabled||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled);this.sprite.interactionsEnabled=!1},b.prototype._releasePointers=function(){null!=this._spriteInteractionsEnabled&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},b.prototype.hideNonExportableSprites=
function(){var a=this;if(!this._objectsAlreadyHidden){var d=this.sprite.svgContainer;d&&J(d.nonExportableSprites,function(d){d.isHidden||d.isHiding||a._hiddenObjects.push(d);d.hide(0)});this._objectsAlreadyHidden=!0}},b.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(J(this._hiddenObjects,function(a){a.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},b.prototype.processConfig=function(a){p.registeredClasses.ExportMenu=Ai;a&&null!=a.menu&&null==a.menu.type&&
(a.menu.type="ExportMenu");c.prototype.processConfig.call(this,a)},b.XLINK="http://www.w3.org/1999/xlink",b}(ag),wa="fill fillOpacity stroke strokeOpacity strokeWidth strokeDasharray strokeDashoffset".split(" "),M=function(c){function b(){var a=c.call(this)||this;return a.properties={},a.events=new ki(a),a.adapter=new Qa(a),a._bindings={},a._isTemplate=!1,a._inited=!1,a._ready=!1,a.isHiding=!1,a._isHidden=!1,a.isShowing=!1,a.isStandaloneInstance=!1,a._isActive=!1,a._mask=new sa,a._positionPrecision=
3,a._language=new sa,a._exporting=new sa,a._exportable=!0,a._bbox={x:0,y:0,width:0,height:0},a.invalid=!1,a.positionInvalid=!1,a.propertyFields={},a.applyOnClones=!1,a.maxLeft=0,a.maxRight=0,a.maxTop=0,a.maxBottom=0,a._isDragged=!1,a._isResized=!1,a._disabled=!1,a._internalDisabled=!1,a._updateDisabled=!1,a._internalDefaultsApplied=!1,a.rollOutDelay=0,a.isBaseSprite=!1,a.shouldClone=!0,a.appeared=!1,a.ex=0,a.ey=0,a.dragWhileResize=!1,a.className="Sprite",a.uid,a.group=a.paper.addGroup("g"),a.setPropertyValue("scale",
1),a.setPropertyValue("rotation",0),a.setPropertyValue("align","none"),a.setPropertyValue("valign","none"),a.setPropertyValue("pixelPerfect",!1),a.setPropertyValue("visible",!0),a.setPropertyValue("tooltipPosition","fixed"),a.setPropertyValue("verticalCenter","none"),a.setPropertyValue("horizontalCenter","none"),a.setPropertyValue("marginTop",0),a.setPropertyValue("marginBottom",0),a.setPropertyValue("marginLeft",0),a.setPropertyValue("marginRight",0),a.setPropertyValue("dx",0),a.setPropertyValue("dy",
0),a.setPropertyValue("paddingTop",0),a.setPropertyValue("paddingBottom",0),a.setPropertyValue("paddingRight",0),a.setPropertyValue("paddingLeft",0),a.setPropertyValue("togglable",!1),a.setPropertyValue("hidden",!1),a.setPropertyValue("urlTarget","_self"),a._prevMeasuredWidth=0,a._prevMeasuredHeight=0,a._measuredWidth=0,a._measuredHeight=0,a._isMeasured=!0,a.invalidate(),a.applyTheme(),a._disposers.push(a.events),a._disposers.push(a.group),a._disposers.push(a._mask),a._disposers.push(a._language),
a._disposers.push(a._exporting),a._disposers.push(new X(function(){K(a._bindings,function(a,b){b.dispose()})})),a.setPropertyValue("interactionsEnabled",!0),a}return m(b,c),b.prototype.applyTheme=function(){c.prototype.applyTheme.call(this);Ka.autoSetClassName&&this.setClassName()},b.prototype.getCurrentThemes=function(){var a=this._themes;return a?a:(a=this.parent)?a.getCurrentThemes():p.themes},b.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},b.prototype.invalidate=
function(){this.disabled||this._isTemplate||this.invalid||(this.invalid=!0,p.addToInvalidSprites(this),Q.requestFrame())},b.prototype.validate=function(){this.dispatchImmediately("beforevalidated");this._internalDefaultsApplied||this.applyInternalDefaults();this.beforeDraw();this.draw();this.invalid=!1;p.removeFromInvalidSprites(this);this.afterDraw()},b.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,p.addToInvalidPositions(this),
Q.requestFrame())},b.prototype.validatePosition=function(){var a=this.pixelX,d=this.pixelY,b=this.dx,c=this.dy,h=a+b,k=d+c;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var n=this.measure(),q=this.group.transformString;this.group.moveTo({x:h,y:k});this.group.rotation=this.rotation;this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale;(q!=this.group.transformString||
n)&&(null==q?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"));a+b==h&&d+c==k&&(p.removeFromInvalidPositions(this),this.positionInvalid=!1);(b=this._maskRectangle)&&this._clipElement.moveTo({x:b.x-a,y:b.y-d})},b.prototype.beforeDraw=function(){},b.prototype.draw=function(){},b.prototype.afterDraw=function(){if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");
else{try{for(var a=jc(this.adapter.keys()),d=a.next();!d.done;d=a.next()){var b=d.value;switch(b){case "mask":case "fill":case "opacity":case "fillOpacity":case "stroke":case "strokeOpacity":case "strokeWidth":case "shapeRendering":case "strokeDasharray":case "strokeDashoffset":case "strokeLinecap":case "strokeLinejoin":case "textDecoration":case "fontSize":case "fontFamily":case "fontWeight":this[b]=this[b]}}}catch(k){c={error:k}}finally{try{d&&!d.done&&(h=a.return)&&h.call(a)}finally{if(c)throw c.error;
}}this.applyFilters();this.visible=this.visible;this.interactionsEnabled=this.getPropertyValue("interactionsEnabled");this._inited=!0;this.showOnInit||(this.appeared=!0);this.hidden&&this.hide(0);this.applyMask();this.dispatch("validated");this.dispatch("inited");this.dispatchReady()}var c,h},b.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},b.prototype.reinit=function(){this._inited=!1;this.setState(this.defaultState);this.invalidate()},b.prototype.handleGlobalScale=
function(){this.dispatch("globalscalechanged");this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);this.nonScaling&&this.validatePosition();this.updateFilterScale()},b.prototype.updateFilterScale=function(){var a=this;v(this.filters.iterator(),function(d){d.scale=a.globalScale})},b.prototype.removeFromInvalids=function(){p.removeFromInvalidSprites(this);p.removeFromInvalidPositions(this)},b.prototype.copyFrom=function(a){var d=this;c.prototype.copyFrom.call(this,a);this.events.copyFrom(a.events);
this.isMeasured=a.isMeasured;this.states.copyFrom(a.states);0<a.filters.length&&a.filters.each(function(a){d.filters.push(a.clone())});this.adapter.copyFrom(a.adapter);a._interaction&&this.interactions.copyFrom(a.interactions);a._plugins&&this.plugins.copyFrom(a.plugins);this.configField=a.configField;this.applyOnClones=a.applyOnClones;this.disabled=a.disabled;this.virtualParent=a.virtualParent;this.exportable=a.exportable;a._tooltip&&(this._tooltip?this._tooltip.copyFrom(a.tooltip):this.tooltip=
a.tooltip.clone());this._showSystemTooltip=a.showSystemTooltip;nb(a.propertyFields,this.propertyFields);nb(a.properties,this);a.fillModifier&&(this.fillModifier=a.fillModifier.clone());a.strokeModifier&&(this.strokeModifier=a.strokeModifier.clone())},b.prototype.dispose=function(){if(!this.isDisposed()){if(this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;0<this.htmlContainer.childNodes.length;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=
!1}if(c.prototype.dispose.call(this),this.adapter.clear(),this.applyOnClones&&this._clones)for(var a=this._clones.length-1;0<=a;a--)this._clones.getIndex(a).dispose();this._svgContainer&&this._svgContainer.dispose();this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0);this._urlDisposer&&this._urlDisposer.dispose();this.removeFromInvalids();this.element&&this.element.dispose();this.group&&this.group.dispose();this._numberFormatter&&this._numberFormatter.dispose();
this._focusFilter&&this._focusFilter.dispose();a=this.stroke;!a||a instanceof U||!a.dispose||a.dispose();a=this.fill;if(!a||a instanceof U||!a.dispose||a.dispose(),null!=this.id&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;0<this._filters.length;)a=this._filters.getIndex(0),a.dispose(),this._filters.removeValue(a)}},Object.defineProperty(b.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(a){a=!!a;this._isTemplate!=a&&(this._isTemplate=a,this instanceof
I&&v(this.children.iterator(),function(d){d.isTemplate=a}),a?(this.parent=this.parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"showSystemTooltip",{get:function(){return null!=this._showSystemTooltip?this._showSystemTooltip:!!this.parent&&this.parent.showSystemTooltip},set:function(a){this._showSystemTooltip=!!a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"topParent",{get:function(){return this._topParent?
this._topParent:this.parent?this.parent.topParent:void 0},set:function(a){this._topParent=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"parent",{get:function(){return this._parent},set:function(a){if(!this._isTemplate){this.paper;var d=this._parent;d!=a&&(d&&d.children.removeValue(this),this._parent=a,a?(this.topParent=a.topParent,a.isTemplate&&(this.isTemplate=!0),this.baseId=a.baseId,a.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=a.tooltipContainer),
this._dataItem||(this.dataItem=a.dataItem)):this.topParent=void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(a){this._virtualParent=a},enumerable:!0,configurable:!0}),b.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var a=this.fill;a&&a.element&&this.paper.appendDef(a.element);a=this.stroke;(a&&a.element&&this.paper.appendDef(a.element),this.fillModifier&&
this.fill instanceof U)&&(a=this.fillModifier.modify(this.fill))&&a.element&&this.paper.appendDef(a.element);this.strokeModifier&&this.stroke instanceof U&&(a=this.strokeModifier.modify(this.stroke))&&a.element&&this.paper.appendDef(a.element);this._clipPath&&this.paper.appendDef(this._clipPath);!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(b.prototype,"map",{get:function(){var a=this.topParent;return a?a.map:(this._map||(this._map=new ga),this._map)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"id",{get:function(){return this._id},set:function(a){if(this._id!=a){if(this._id=a,this.map.hasKey(a))throw Error("Duplicate id ("+a+") used on multiple objects.");this.map.setKey(a,this);Ka.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"paper",{get:function(){return this._paper?this._paper:this.parent?
this.parent.paper:uc()},set:function(a){this.setPaper(a)},enumerable:!0,configurable:!0}),b.prototype.setPaper=function(a){return this._paper!=a&&(this._paper=a,this.appendDefs(),!0)},Object.defineProperty(b.prototype,"htmlContainer",{get:function(){return this._htmlContainer?this._htmlContainer:this.parent?this.parent.htmlContainer:void 0},set:function(a){this._htmlContainer=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"titleElement",{get:function(){return this._titleElement||
(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"filters",{get:function(){return this._filters||(this._filters=new S,this._disposers.push(this._filters.events.onAll(this.applyFilters,
this)),this._disposers.push(new da(this._filters))),this._filters},enumerable:!0,configurable:!0}),b.prototype.setSVGAttributes=function(){this.fill=this.fill;this.opacity=this.opacity;this.fillOpacity=this.fillOpacity;this.stroke=this.stroke;this.strokeOpacity=this.strokeOpacity;this.shapeRendering=this.shapeRendering;this.strokeDasharray=this.strokeDasharray;this.strokeDashoffset=this.strokeDashoffset;this.strokeLinecap=this.strokeLinecap;this.strokeLinejoin=this.strokeLinejoin;this.focusable=this.focusable;
this.tabindex=this.tabindex;this.role=this.role},b.prototype.setSVGAttribute=function(a){this.group.attr(a)},b.prototype.removeSVGAttribute=function(a){this.group.removeAttr(a)},b.prototype.setClassName=function(){var a=this.className,d=Ka.classNamePrefix;this.element&&this.element.addClass(d+a);this.group.addClass(d+a+"-group");null!=this.id&&this.group.addClass(d+this.id)},b.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},b.prototype.updateClipPath=function(){var a=
this._clipElement;a&&a.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},b.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath");this.paper.appendDef(this._clipPath);this._disposers.push(this._clipPath);var a=p.getUniqueId();this._clipPath.attr({id:a});this.group.attr({"clip-path":'url("'+rc()+a+'")'})}},b.prototype.applyMask=function(){var a=this.mask;this._clipPath&&a&&(a instanceof I?(this._clipElement.attr({width:T(0,a.pixelWidth),height:T(0,a.pixelHeight)}),
a=Ab({x:a.pixelX,y:a.pixelY},a.parent,this),this._clipPath.x=a.x,this._clipPath.y=a.y):(a.element&&a.element!=this._clipElement&&(this._clipElement=a.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=a.scale,this._clipPath.x=a.pixelX,this._clipPath.y=a.pixelY,this._clipPath.rotation=a.rotation))},b.prototype.applyFilters=function(){var a=this;if(this._filters&&0<this._filters.length){var d=100,b=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),
this._disposers.push(this.filterElement));this.paper.appendDef(this.filterElement);var c="filter-"+this.uid;this.filterElement.attr({id:c});v(this.filters.iterator(),function(c){c.sprite=a;c.paper=a.paper;c.appendPrimitives(a.filterElement);c.width>d&&(d=c.width);c.height>b&&(b=c.height);c.scale=a.globalScale});this.filterElement.attr({width:d+"%",height:b+"%",x:-(d-100)/2+"%",y:-(b-100)/2+"%"});this.group.attr({filter:'url("'+rc()+c+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),
this.filterElement.removeChildNodes())},b.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},b.prototype.setElement=function(a){this.element=a;this.setSVGAttributes();this.applyAccessibility()},Object.defineProperty(b.prototype,"element",{get:function(){return this._element},set:function(a){this.removeElement();this._element=a;this.group.add(a);this.invalid||this.validate();Ka.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this.parent?this.parent.svgContainer:void 0},set:function(a){this._svgContainer=a},enumerable:!0,configurable:!0}),b.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var a=this.element.getBBox();this._bbox={x:a.x,y:a.y,width:a.width,height:a.height}}},b.prototype.updateCenter=function(){if(this.element){var a=this.element.transformString,
d=this.bbox,b=0,c=0,h=d.x,k=d.y,n=d.width,q=d.height,g=this.pixelPaddingLeft,x=this.pixelPaddingRight,l=this.pixelPaddingTop,m=this.pixelPaddingBottom,p=T(n+g+x,this.pixelWidth),E=T(q+l+m,this.pixelHeight),r=d.x,t=d.x+p,A=d.y,d=d.y+E,u=this.verticalCenter;switch(this.horizontalCenter){case "none":b=h+g;break;case "left":b=g;break;case "middle":b=g-(n+x+g)/2;break;case "right":b=-x-n}switch(u){case "none":c=k+l;break;case "top":c=l;break;case "middle":c=l-(q+m+l)/2;break;case "bottom":c=-m-q}this._measuredHeight=
E;this._measuredWidth=p;b=D(b-h,this._positionPrecision,!0);c=D(c-k,this._positionPrecision,!0);this.ex=b-g;this.ey=c-l;this.maxLeft=r+b-g;this.maxRight=t+b-g;this.maxTop=A+c-l;this.maxBottom=d+c-l;this.pixelPerfect&&(b-=.5,c-=.5);this.element.moveTo({x:b,y:c});a!=this.element.transformString&&this.dispatchImmediately("transformed")}},b.prototype.measure=function(){this.updateCenter();var a=this._measuredWidth,d=this._measuredHeight,b=this.maxLeft,c=this.maxRight,h=this.maxTop,k=this.maxBottom;this._measuredWidthSelf=
a;this._measuredHeightSelf=d;var n=this._positionPrecision;if(0!==this.rotation||1!==this.scale){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var q=this.paper.svg,a=q.createSVGMatrix(),d=this.rotation;a.a=F(d)*this.scale;a.c=-G(d)*this.scale;a.e=0;a.b=G(d)*this.scale;a.d=F(d)*this.scale;a.f=0;var g=q.createSVGPoint();g.x=b;g.y=h;d=q.createSVGPoint();d.x=c;d.y=h;h=q.createSVGPoint();h.x=c;h.y=k;c=q.createSVGPoint();c.x=b;c.y=k;k=g.matrixTransform(a);d=d.matrixTransform(a);q=h.matrixTransform(a);
g=c.matrixTransform(a);b=Math.min(k.x,d.x,q.x,g.x);c=Math.max(k.x,d.x,q.x,g.x);h=Math.min(k.y,d.y,q.y,g.y);a=c-b;d=(k=Math.max(k.y,d.y,q.y,g.y))-h;this.maxLeft=D(b,n,!0);this.maxRight=D(c,n,!0);this.maxTop=D(h,n,!0);this.maxBottom=D(k,n,!0)}return this._measuredWidth=D(a,n,!0),this._measuredHeight=D(d,n,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),
this.isHover&&this.tooltip&&this.tooltip.visible&&(null!=this.tooltipText||null!=this.tooltipHTML)&&this.updateTooltipPosition(),!0)},b.prototype.insertBefore=function(a){var d=this.parent;d&&(a=d.children.indexOf(a),-1!==a&&(d.children.moveValue(this,a),d.sortChildren()));return this},b.prototype.insertAfter=function(a){var d=this.parent;d&&(a=d.children.indexOf(a),-1!==a&&(d.children.moveValue(this,a+1),d.sortChildren()));return this},b.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),
this._element=void 0)},b.prototype.getRelativeX=function(a){return a instanceof ka?a.value:this.parent?a/this.parent.innerWidth:0},b.prototype.getRelativeY=function(a){return a instanceof ka?a.value:this.parent?a/this.parent.innerHeight:0},b.prototype.getPixelX=function(a){var d=0;l(a)?d=a:a instanceof ka&&(a=a.value,this.parent&&(d=D(this.parent.innerWidth*a,this._positionPrecision,!0)));return d},b.prototype.getPixelY=function(a){var d=0;l(a)?d=a:a instanceof ka&&(a=a.value,this.parent&&(d=D(this.parent.innerHeight*
a,this._positionPrecision,!0)));return d},b.prototype.moveTo=function(a,d,b,c){this.isDragged&&!c||(a&&(l(a.x)&&this.setPropertyValue("x",a.x),l(a.y)&&this.setPropertyValue("y",a.y)),l(d)&&(this.rotation=d),l(b)&&(this.scale=b),this.invalidatePosition())},Object.defineProperty(b.prototype,"mask",{get:function(){return this.adapter.apply("mask",this._mask.get())},set:function(a){var d=this;this._mask.get()!==a&&(a?(this.createClipPath(),a instanceof I?this._clipElement=this.paper.add("rect"):(a.isMeasured=
!1,a.element&&(this._clipElement=a.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(a,new ja([a.events.on("maxsizechanged",function(){d.inited&&d.applyMask()},void 0,!1),a.events.on("validated",this.applyMask,this,!1),a.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maskRectangle",{get:function(){return this._maskRectangle},
set:function(a){a?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:a.width,height:a.height})):(this.removeClipPath(),this._clipElement=void 0);this._maskRectangle=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(a){(a=!!a)||(this._measuredWidth=0,this._measuredHeight=0);this._isMeasured!=a&&(this._isMeasured=
a,this.invalidatePosition())},enumerable:!0,configurable:!0}),b.prototype.hitTest=function(a){this.invalid&&this.validate();a.invalid&&a.validate();var d=this.pixelX,b=this.pixelY,c=b+this.measuredHeight,h=a.pixelX,k=a.pixelY,n=h+a.measuredWidth;a=k+a.measuredHeight;return!(h>d+this.measuredWidth||n<d||k>c||a<b)},Object.defineProperty(b.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),b.prototype.isReady=function(){return this._ready},Object.defineProperty(b.prototype,
"states",{get:function(){if(!this._states){var a=new jd;this._states=new Cc(a);this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1));this._disposers.push(this._states.events.on("setKey",this.processState,this,!1));this._disposers.push(new Ob(this._states));this._disposers.push(a)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var a=this.states.create("hidden");a.properties.opacity=
0;a.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"defaultState",{get:function(){this.states.getKey("default")||(this.states.create("default").properties.opacity=1);return this.states.getKey("default")},enumerable:!0,configurable:!0}),b.prototype.processState=function(a){var d=a.newValue;if(d.sprite=this,d.name=a.key,(this.states.hasKey("hover")||null!=this.tooltipHTML||null!=this.tooltipText)&&(this.hoverable=!0),this.states.hasKey("down")&&
(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones){a=this.clones.values;for(var b=a.length,c=0;c<b;++c){var h=a[c];h.isDisposed()||h.states.setKey(d.name,d)}}},Object.defineProperty(b.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hc(this._animations))),this._animations},enumerable:!0,configurable:!0}),b.prototype.getSvgPoint=function(a){try{var d=this.htmlContainer.getBoundingClientRect();return{x:a.x-
d.left,y:a.y-d.top}}catch(e){return a}},b.prototype.animate=function(a,d,b){return(new ib(this,a,d,b)).start()},b.prototype.setState=function(a,d,b){if(a instanceof jd)this.states.setKey(a.name,a);else if(!(a=this.states.getKey(a)))return;if("hover"==a.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==a.name?this.isHiding=!0:this.visible||this.setVisibility(a.properties.visible||this.defaultState.properties.visible),"active"==a.name&&(this.isActive=!0),l(d)||(d=a.transitionDuration),null!=
b||(b=a.transitionEasing),this.transitTo(a,d,b)},b.prototype.applyCurrentState=function(a){var d=this.setState(this.defaultState,a);return this.isHover&&(d=this.setState("hover",a)),this.isDown&&this.interactions.downPointers.length&&(d=this.setState("down",a)),this.isFocused=this.isFocused,this.isActive&&(d=this.setState("active",a),this.isHover&&this.states.hasKey("hoverActive")&&(d=this.setState("hoverActive",a))),d},b.prototype.transitTo=function(a,d,b){var c,e=this,k=[];if(K(a.allValues,function(a,
d){var b=e[a];(d!=b&&null==e.defaultState.properties[a]&&(e.defaultState.properties[a]=b),null!=d)&&k.push({from:b,to:d,property:a})}),0<k.length&&((c=this.animate(k,d,b))&&!c.isFinished()?this._disposers.push(c.events.on("animationended",function(){e.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),0<a.filters.length){var n=[];v(a.filters.iterator(),function(a){var c=a.clone();n.push(c);var f=[];v(e.filters.iterator(),function(a){a.className==c.className&&(hf(e.defaultState.filters.iterator(),
function(a){return a.className===c.className})||e.defaultState.filters.push(a),K(c.properties,function(d,b){var c=a.properties[d];c!=b&&f.push({property:d,from:c,to:b})}))});c.animate(f,d,b)});this.filters.clear();this.filters.pushAll(n)}return c},b.prototype.isInTransition=function(){return 0<this.animations.length},Object.defineProperty(b.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(a){(a=!!a)!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=
a,a?this.handleOver():this.handleOut())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(a){a=!!a;this.isInteractive()&&this.isDown!=a&&(this.interactions.isDown=
a,a?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(a){a=!!a;this.focusable&&this.isFocused!=a&&this.isInteractive()&&(this.interactions.isFocused=a,!0===a?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isActive",{get:function(){return this._isActive},set:function(a){this.setActive(a)},enumerable:!0,
configurable:!0}),b.prototype.setActive=function(a){a=!!a;this._isActive!==a&&(this._isActive=a,a&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(b.prototype,"disabled",{get:function(){var a=this.getPropertyValue("disabled");return null!=a?a:this.virtualParent?this.virtualParent.disabled:!!this.parent&&this.parent.disabled},set:function(a){this.setDisabled(a)},
enumerable:!0,configurable:!0}),b.prototype.setDisabled=function(a){return(a=!!a,this.getPropertyValue("disabled")!=a)?((this.setPropertyValue("disabled",a,!0),a)?(this.parent=this.parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled")):(this.parent&&(a=this.parent.element,a.hasChild(this.group)||a.add(this.group)),this instanceof I?this.deepInvalidate():this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")),this.dispatch("transformed"),
Q.requestFrame(),!0):!1},Object.defineProperty(b.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(a){this._internalDisabled!=a&&(this._internalDisabled=a,this._updateDisabled=!0,this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this.parent?this.parent.numberFormatter:(this._numberFormatter=
new Tf,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(a){this._numberFormatter=a;this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this.parent?this.parent.dateFormatter:(this._dateFormatter=new yc,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(a){this._dateFormatter=
a;this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this.parent?this.parent.durationFormatter:(this._durationFormatter=new se,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(a){this._durationFormatter=a;this._durationFormatter.language=this.language},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"language",{get:function(){var a=this._language.get();return a||(this.virtualParent?this.virtualParent.language:this.parent?this.parent.language:(a=new Fb,this.language=a,a))},set:function(a){var d=this;this._language.get()!==a&&this._language.set(a,a.events.on("localechanged",function(a){d.numberFormatter&&(d.numberFormatter.language=d.language);d.dateFormatter&&(d.dateFormatter.language=d.language);d.durationFormatter&&(d.durationFormatter.language=
d.language);d instanceof I&&d.deepInvalidate()}))},enumerable:!0,configurable:!0}),b.prototype.populateString=function(a,d){if(null!=a){a=Ic(a);var b=(a=vb().escape(a)).match(/\{([^}]+)\}/g),c=void 0;if(b)for(c=0;c<b.length;c++){var h=b[c].replace(/\{([^}]+)\}/,"$1"),h=this.getTagValue(h,"",d);null!=h||(h="");a=a.split(b[c]).join(h)}a=vb().unescape(a)}else a="";return this.adapter.apply("populateString",a)},b.prototype.getTagValue=function(a,d,b){var c;null!=b||(b=this.dataItem);for(var e,k=[],n=
/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(e=n.exec(a));)if(e[3])k.push({prop:e[3]});else{var q=[];if(""!=pf(e[2]))for(var g=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,x=void 0;null!==(x=g.exec(e[2]));)q.push(x[1]||x[2]||x[3]);k.push({method:e[1],params:q})}b&&(null!=(c=this.getTagValueFromObject(k,b.values))&&!pa(c)||(c=this.getTagValueFromObject(k,b)),e=b.dataContext,null==c&&e&&null==(c=this.getTagValueFromObject(k,b.dataContext))&&e.dataContext&&(c=this.getTagValueFromObject(k,e.dataContext)),null==c&&b.component&&
b.component.dataItem!==b&&(c=b.component.getTagValue(a,d)));return null!=c||(c=this.getTagValueFromObject(k,this.populateStringFrom||this)),null==c&&this.parent&&(c=this.parent.getTagValue(a,d)),c},b.prototype.getTagValueFromObject=function(a,d,b){for(var c=!1,e=0,k=a.length;e<k;e++){var n=a[e];if(n.prop){if(null==(d=d[n.prop]))return}else switch(n.method){case "formatNumber":var q=Wd(d);null!=q&&(d=this.numberFormatter.format(q,b||n.params[0]||void 0),c=!0);break;case "formatDate":q=void 0;if(!lc(q=
Y(d)?this.dateFormatter.parse(d):sf(d))||aa(q.getTime()))return;null!=q&&(d=this.dateFormatter.format(q,b||n.params[0]||void 0),c=!0);break;case "formatDuration":q=Wd(d);null!=q&&(d=this.durationFormatter.format(q,b||n.params[0]||void 0,n.params[1]||void 0),c=!0);break;case "urlEncode":case "encodeURIComponent":d=encodeURIComponent(d);break;default:d[n.method]&&d[n.method].apply(this,n.params)}}c||(a=[{method:"",params:b}],null!=b?(b=Mh(b),b===Xc?a[0].method="formatNumber":b===Yc?a[0].method="formatDate":
b===Ud&&(a[0].method="formatDuration")):l(d)?(a[0].method="formatNumber",a[0].params=""):lc(d)&&(a[0].method="formatDate",a[0].params=""),a[0].method&&(d=this.getTagValueFromObject(a,d)));return d},Object.defineProperty(b.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this.parent)return this.parent.dataItem}return this._dataItem},set:function(a){this.setDataItem(a)},enumerable:!0,configurable:!0}),b.prototype.setDataItem=function(a){var d=
this;if(this._dataItem!=a){this._dataItem=a;this.configField&&a.dataContext&&(this.config=a.dataContext[this.configField]);var b=a.dataContext;b&&K(this.propertyFields,function(a,c){null!=b[c]&&(d[a]=b[c])});this.invalidate()}},b.prototype.getPropertyValue=function(a){var d=this.properties[a];return this._isTemplate||(d=this.adapter.apply(a,d)),d},b.prototype.setColorProperty=function(a,d,b){var c=this.properties[a];return!(d instanceof U&&c instanceof U&&d.hex==c.hex)&&this.setPropertyValue(a,d,
b)},b.prototype.setPercentProperty=function(a,d,b,c,h,k){if(l(d=Wg(d)))return d=D(d,h,k),this.setPropertyValue(a,d,b,c);h=this.properties[a];return!(d instanceof ka&&h instanceof ka&&d.value==h.value)&&this.setPropertyValue(a,d,b,c)},b.prototype.setPropertyValue=function(a,d,b,c){if(this.properties[a]!==d&&!this.isDisposed()){(this.properties[a]=d,this.events.isEnabled("propertychanged"))&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:a});if(b&&this.invalidate(),
c&&this.invalidatePosition(),this.applyOnClones){b=this.clones.values;c=b.length;for(var e=0;e<c;++e){var f=b[e];f.isDisposed()||(f[a]=d)}}return!0}return!1},b.prototype.bind=function(a,d,b,c){var e=this;void 0===b&&(b=a);null!=this._bindings[a]&&this._bindings[a].dispose();this[a]=d[b];this._bindings[a]=d.events.on("propertychanged",function(f){f.property===b&&(f=d[b],c&&(f=c(f)),e[a]=f)})},b.prototype.observe=function(a,d,b,c){var e=this;return new ja(oc(Xe(a),function(a){return e.events.on("propertychanged",
function(c){c.property===a&&d.call(b,c)},b,c)}))},b.prototype.applyAccessibility=function(){var a=this.readerTitle,d=this.readerDescription,b=this.role,c=this.readerHidden,h=this.readerChecked,k=this.readerControls,n=this.readerLive,q=[],g=[],x=this.readerLabelledBy;x&&q.push(x);x=this.readerDescribedBy;if(x&&g.push(x),!a||d||this.showSystemTooltip){if(a){var x=this.titleElement,l=this.uid+"-title";x.node.textContent!=a&&(x.node.textContent=a,x.attr({id:l}));q.push(l)}else this._titleElement&&(this.group.removeElement(this._titleElement),
this._titleElement=void 0);d?(a=this.descriptionElement,x=this.uid+"-description",a.node.textContent!=d&&(a.node.textContent=d,a.attr({id:x})),q.push(x)):this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0)}else this.setSVGAttribute({"aria-label":a}),this.removeSVGAttribute("aria-description"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this._descriptionElement&&(this.group.removeElement(this._descriptionElement),
this._descriptionElement=void 0);q.length&&this.setSVGAttribute({"aria-labelledby":q.join(" ")});g.length&&this.setSVGAttribute({"aria-describedby":g.join(" ")});b?this.setSVGAttribute({role:b}):this.removeSVGAttribute("role");c?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden");h?this.setSVGAttribute({"aria-checked":"true"}):!1===h?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked");k?this.setSVGAttribute({"aria-controls":k}):this.removeSVGAttribute("aria-controls");
n?this.setSVGAttribute({"aria-live":n}):this.removeSVGAttribute("aria-live")},Object.defineProperty(b.prototype,"readerTitle",{get:function(){return this.getPropertyValue("readerTitle")},set:function(a){a=Da(a);this.setPropertyValue("readerTitle",a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerDescription",{get:function(){return this.getPropertyValue("readerDescription")},set:function(a){a=Da(a);this.setPropertyValue("readerDescription",a)&&
this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(a){a=Da(a);this.setPropertyValue("role",a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(a){this.setPropertyValue("readerHidden",!!a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(a){this.setPropertyValue("readerChecked",!!a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(a){a=Da(a);this.setPropertyValue("readerControls",a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},
set:function(a){a=Da(a);this.setPropertyValue("readerLive",a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(a){a=Da(a);this.setPropertyValue("readerLabelledBy",a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(a){a=
Da(a);this.setPropertyValue("readerDescribedBy",a)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this.parent)return this.parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"interactions",{get:function(){this._interaction||(this._interaction=
C().getInteraction(this.dom),this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction));return this._interaction},
enumerable:!0,configurable:!0}),b.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(b.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(a){var d=this;a=!!a;this.setPropertyValue("focusable",a)&&(a||this.isInteractive())&&(this.interactions.focusable=a,a?this.setSVGAttribute({focusable:a}):this.removeSVGAttribute("focusable"),this.interactions.setEventDisposer("sprite-focusable",a,function(){return new ja([d.events.on("blur",
d.handleBlur,d,!1),d.events.on("focus",d.handleFocus,d,!1)])}))},enumerable:!0,configurable:!0}),b.prototype.handleFocus=function(a){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},b.prototype.handleBlur=function(a){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=
!1,this.handleOut()))},Object.defineProperty(b.prototype,"focusFilter",{get:function(){return this._focusFilter||(this.virtualParent?this.virtualParent.focusFilter:this.parent?this.parent.focusFilter:void 0)},set:function(a){this._focusFilter=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(a){a!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",a)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"tabindex",{get:function(){var a=this._tabindex;return null!=a?a:this.virtualParent?this.virtualParent.tabindex:this.parent?this.parent.tabindex:void 0},set:function(a){a=R(a);this.setPropertyValue("tabindex",a)&&l(a)&&(this.interactions.tabindex=a,this.setSVGAttribute({tabindex:a}),this.focusable=-1<a||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this.parent?this.parent.inertiaOptions:
this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(a){var d=this;a=!!a;this.setPropertyValue("draggable",a)&&(a||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=a,this.interactions.setEventDisposer("sprite-draggable",a,function(){return new ja([d.events.on("down",d.handleDown,d,!1),d.events.on("dragstart",d.handleDragStart,d,!1),d.events.on("drag",
d.handleDragMove,d,!1),d.events.on("dragstop",d.handleDragStop,d,!1)])}))},enumerable:!0,configurable:!0}),b.prototype.handleDragStart=function(a){this.interactions.isTouchProtected&&a.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},b.prototype.dragStart=function(a){this._isDragged=!0;C().dragStart(this.interactions,a)},b.prototype.handleDragStop=function(a){this.interactions.isTouchProtected&&a.touch||(this._isDragged=!1,this.showTooltip(),
this.interactions.originalPosition=void 0)},b.prototype.dragStop=function(a){this._isDragged=!1;C().dragStop(this.interactions,a)},b.prototype.handleDragMove=function(a){if(!this.interactions.isTouchProtected||!a.touch){var d=this.interactions.originalPosition;if(d&&this._isDragged){var b=this.parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:d.x+a.shift.x/b,y:d.y+a.shift.y/b},void 0,void 0,!0)}this.dispatchImmediately("dragged",a)}},Object.defineProperty(b.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},
set:function(a){a=!!a;this.setPropertyValue("inert",a)&&(a||this.isInteractive())&&(this.interactions.inert=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this.parent)return this.parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},
set:function(a){var d=this;a=!!a;this.setPropertyValue("hoverable",a)&&(a||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=a,this.interactions.setEventDisposer("sprite-hoverable",a,function(){return new ja([d.events.on("over",d.handleOver,d,!1),d.events.on("out",d.handleOut,d,!1)])}))},enumerable:!0,configurable:!0}),b.prototype.handleOver=function(a){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());
var d=void 0;a&&a.pointer&&(d=Zb(a.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));this.showTooltip(d)}else this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},b.prototype.handleOut=function(a){var d=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout(function(){d.tooltip.isHover||(d.hideTooltip(),d._outTimeout=d.setTimeout(d.handleOutReal.bind(d),d.rollOutDelay))},10):(this.hideTooltip(),
this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},b.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState()},Object.defineProperty(b.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this.parent)return this.parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),b.prototype.handleDown=function(a){1===
this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},b.prototype.handleUp=function(a){this._isResized=!1;this.states.hasKey("down")&&this.applyCurrentState()},Object.defineProperty(b.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(a){var d=this;a=!!a;this.setPropertyValue("clickable",
a)&&(a||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=a,this.interactions.setEventDisposer("sprite-clickable",a,function(){return new ja([d.events.on("down",d.handleDown,d,!1),d.events.on("up",d.handleUp,d,!1)])}))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(a){var d=this;a=!!a;this.setPropertyValue("togglable",a)&&(a||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",
a,function(){return d.events.on("hit",d.handleToggle,d,!1)})},enumerable:!0,configurable:!0}),b.prototype.handleToggle=function(a){this.isActive=!this.isActive},Object.defineProperty(b.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(a){a=!!a;this.setPropertyValue("contextMenuDisabled",a)&&(this.interactions.contextMenuDisabled=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"url",{get:function(){return this.getPropertyValue("url")},
set:function(a){this.setPropertyValue("url",a)&&(this._urlDisposer&&this._urlDisposer.dispose(),Vc(a)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=Aa.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"baseId",{get:function(){return!this._baseId&&this.parent&&(this.baseId=this.parent.baseId),this._baseId},set:function(a){this.setBaseId(a)},enumerable:!0,configurable:!0}),b.prototype.setBaseId=function(a){a!=this._baseId&&
(this.invalid&&(this.invalid=!1,p.removeFromInvalidSprites(this),this.invalidate()),this._baseId=a)},Object.defineProperty(b.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this.parent?this.parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(a){this.setPropertyValue("urlTarget",a)},enumerable:!0,configurable:!0}),b.prototype.urlHandler=function(a){Vc(this.url)&&
(a=this.populateString(this.url),"_self"===this.urlTarget?window.location.href=a:window.open(a,this.urlTarget))},Object.defineProperty(b.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this.parent)return this.parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(a){a=
!!a;this.setPropertyValue("swipeable",a)&&(this.applyCursorStyle(),(a||this.isInteractive())&&(this.interactions.swipeable=a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(a){a=!!a;this.setPropertyValue("trackable",a)&&(a||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},
set:function(a){this.setPropertyValue("wheelable",a)&&(a||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(a){var d=this;a=!!a;this.setPropertyValue("resizable",a)&&(a||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=a,this.interactions.setEventDisposer("sprite-resizable",a,function(){return new ja([d.events.on("down",
d.handleDown,d,!1),d.events.on("resize",d.handleResize,d,!1)])}))},enumerable:!0,configurable:!0}),b.prototype.handleResize=function(a){if((!this.interactions.isTouchProtected||!a.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*a.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var d=Mc(Zb(a.point1,this.htmlContainer,this.svgContainer.cssScale),Zb(a.point2,this.htmlContainer,this.svgContainer.cssScale)),b=$b(a.startPoint1,this.parent);
a=$b(a.startPoint2,this.parent);var c=this.interactions.originalPosition,h=this.interactions.originalScale;c&&(b=Mc({x:(b.x-c.x)/h,y:(b.y-c.y)/h},{x:(a.x-c.x)/h,y:(a.y-c.y)/h}),d=ab(d,this.parent),this.moveTo({x:d.x-b.x*this.scale,y:d.y-b.y*this.scale},void 0,void 0,!0))}},Object.defineProperty(b.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this.parent)return this.parent.cursorOptions}return this.interactions.cursorOptions},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cursorOverStyle",{set:function(a){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle});this.cursorOptions.overStyle=a;C().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cursorDownStyle",{set:function(a){this.cursorOptions.downStyle=a},enumerable:!0,configurable:!0}),b.prototype.applyCursorStyle=function(){},Object.defineProperty(b.prototype,
"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this.parent||this.parent.interactionsEnabled)},set:function(a){if(a=!!a,this.setPropertyValue("interactionsEnabled",a)){var d=null;a?this.group.node.style.pointerEvents="":d="none";this.group.node.style.pointerEvents=d}},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"exporting",{get:function(){return this.getExporting()},set:function(a){this._exporting.set(a,
a)},enumerable:!0,configurable:!0}),b.prototype.getExporting=function(){var a=this._exporting.get();return a||(!this.isStandaloneInstance&&this.parent?this.parent.exporting:((a=new zi(this.svgContainer.SVGContainer)).sprite=this,a.language=this.language,a.dateFormatter=this.dateFormatter,a.durationFormatter=this.durationFormatter,this._exporting.set(a,a),a))},Object.defineProperty(b.prototype,"exportable",{get:function(){return this._exportable},set:function(a){var d=this.svgContainer;this._exportable=
a;d&&(a?N(d.nonExportableSprites,this):-1==eb(d.nonExportableSprites,this)&&d.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),b.prototype.modalPrefix=function(a){return a=Ka.classNamePrefix+a},Object.defineProperty(b.prototype,"modal",{get:function(){var a=this.svgContainer;if(a)return a=a.modal,a.adapter.has("classPrefix",this.modalPrefix)||a.adapter.add("classPrefix",this.modalPrefix),a},enumerable:!0,configurable:!0}),b.prototype.openModal=function(a,d){var b=this.svgContainer;
if(b)return b.openModal(a,d)},b.prototype.closeModal=function(){var a=this.svgContainer;a&&a.closeModal()},Object.defineProperty(b.prototype,"popups",{get:function(){var a=this.svgContainer;if(a)return a=a.popups,a.template.sprite=this,a.template.adapter.has("classPrefix",this.modalPrefix)||a.template.adapter.add("classPrefix",this.modalPrefix),a},enumerable:!0,configurable:!0}),b.prototype.openPopup=function(a,d){var b=this.svgContainer;if(b)return b.openPopup(a,d)},b.prototype.closeAllPopups=function(){var a=
this.svgContainer;a&&a.closeAllPopups()},Object.defineProperty(b.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(a){this.isDragged||this.setPercentProperty("x",a,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelX",{get:function(){return this.adapter.apply("pixelX",B(this.getPixelX(this.x),this.minX,this.maxX))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeX",{get:function(){return this.adapter.apply("relativeX",
this.getRelativeX(this.x))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(a){l(a)&&(a=D(a,this._positionPrecision,!0),this.setPropertyValue("minX",a,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(a){l(a)&&(a=D(a,this._positionPrecision,!0),this.setPropertyValue("maxX",a,!1,!0))},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(a){this.isDragged||this.setPercentProperty("y",a,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelY",{get:function(){return this.adapter.apply("pixelY",B(this.getPixelY(this.y),this.minY,this.maxY))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeY",{get:function(){return this.adapter.apply("relativeY",this.getRelativeX(this.y))},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(a){l(a)&&(a=D(a,this._positionPrecision,!0),this.setPropertyValue("minY",a,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(a){l(a)&&(a=D(a,this._positionPrecision,!0),this.setPropertyValue("maxY",a,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"dx",{get:function(){return this.getPropertyValue("dx")},set:function(a){l(a)&&(a=D(a,this._positionPrecision,!0),this.setPropertyValue("dx",a,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(a){l(a)&&(a=D(a,this._positionPrecision,!0),this.setPropertyValue("dy",a,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},
set:function(a){l(a=R(a))||(a=0);this.setPropertyValue("rotation",a,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(a){a=Da(a);this.setPropertyValue("align",a)&&this.parent&&this.parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(a){a=Da(a);this.setPropertyValue("valign",a)&&this.parent&&
this.parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(a){a=Da(a);this.setPropertyValue("horizontalCenter",a)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(a){a=Da(a);this.setPropertyValue("verticalCenter",a)&&this.updateCenter()},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxWidth",{get:function(){var a=this.getPropertyValue("maxWidth");return!l(a)&&this.parent?this.parent.maxWidth:a},set:function(a){this.setMaxWidth(a)},enumerable:!0,configurable:!0}),b.prototype.setMaxWidth=function(a){var d=this.maxWidth,b=this.maxHeight;this.setPropertyValue("maxWidth",a)&&(l(this.relativeWidth)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:d,previousHeight:b}))},
Object.defineProperty(b.prototype,"maxHeight",{get:function(){var a=this.getPropertyValue("maxHeight");return!l(a)&&this.parent?this.parent.maxHeight:a},set:function(a){this.setMaxHeight(a)},enumerable:!0,configurable:!0}),b.prototype.setMaxHeight=function(a){var d=this.maxWidth,b=this.maxHeight;this.setPropertyValue("maxHeight",a)&&(l(this.relativeHeight)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:d,previousHeight:b}))},Object.defineProperty(b.prototype,
"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(a){this.setPropertyValue("minWidth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(a){this.setPropertyValue("minHeight",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(a){this.setPercentProperty("width",a,!0,
!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,a instanceof ka?(this.percentWidth=a.percent,l(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(a),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(a){this.setPercentProperty("height",a,!0,!1,this._positionPrecision,!0)&&
(this.percentHeight=void 0,this._relativeHeight=void 0,a instanceof ka?(this.percentHeight=a.percent,l(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(a),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelWidth",{get:function(){var a;a=l(this.percentWidth)?this.maxWidth:l(this._pixelWidth)?this._pixelWidth:0;var d=this.minWidth;return null!=d&&a<d&&(a=d),this.adapter.apply("pixelWidth",
D(a,this._positionPrecision,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelHeight",{get:function(){var a;a=l(this.percentHeight)?this.maxHeight:l(this._pixelHeight)?this._pixelHeight:0;var d=this.minHeight;return null!=d&&a<d&&(a=d),this.adapter.apply("pixelHeight",D(a,this._positionPrecision,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeWidth",{get:function(){var a=this._relativeWidth;if(l(a))return this.adapter.apply("relativeWidth",
a)},set:function(a){this._relativeWidth!=a&&(this._relativeWidth=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeHeight",{get:function(){var a=this._relativeHeight;if(l(a))return this.adapter.apply("relativeHeight",a)},set:function(a){this._relativeHeight!=a&&(this._relativeHeight=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this.adapter.apply("measuredWidth",this._measuredWidth)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this.adapter.apply("measuredHeight",this._measuredHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"outerWidth",{get:function(){return this.adapter.apply("outerWidth",this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"outerHeight",{get:function(){return this.adapter.apply("outerHeight",
this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerWidth",{get:function(){return this.adapter.apply("innerWidth",Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerHeight",{get:function(){return this.adapter.apply("innerHeight",Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom))},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"globalScale",{get:function(){var a=this.scale;return this.parent&&(a*=this.parent.globalScale),this.adapter.apply("globalScale",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(a){0>(a=R(a))&&(a=0);a!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",a,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),b.prototype.margin=function(a,d,b,c){return this.marginTop=
a,this.marginRight=d,this.marginBottom=b,this.marginLeft=c,this},Object.defineProperty(b.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(a){this.setPercentProperty("marginLeft",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(a){this.setPercentProperty("marginRight",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(a){this.setPercentProperty("marginTop",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(a){this.setPercentProperty("marginBottom",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"pixelMarginRight",{get:function(){return this.adapter.apply("pixelMarginRight",this.getPixelX(this.marginRight))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeMarginRight",{get:function(){return this.adapter.apply("relativeMarginRight",this.getRelativeX(this.marginRight))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelMarginLeft",{get:function(){return this.adapter.apply("pixelMarginLeft",this.getPixelX(this.marginLeft))},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"relativeMarginLeft",{get:function(){return this.adapter.apply("relativeMarginLeft",this.getRelativeX(this.marginLeft))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelMarginTop",{get:function(){return this.adapter.apply("pixelMarginTop",this.getPixelY(this.marginTop))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeMarginTop",{get:function(){return this.adapter.apply("relativeMarginTop",this.getRelativeY(this.marginTop))},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelMarginBottom",{get:function(){return this.adapter.apply("pixelMarginBottom",this.getPixelY(this.marginBottom))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativeMarginBottom",{get:function(){return this.adapter.apply("relativeMarginBottom",this.getRelativeY(this.marginBottom))},enumerable:!0,configurable:!0}),b.prototype.padding=function(a,d,b,c){return this.paddingTop=a,this.paddingRight=d,this.paddingBottom=
b,this.paddingLeft=c,this},Object.defineProperty(b.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(a){this.setPercentProperty("paddingLeft",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(a){this.setPercentProperty("paddingRight",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(a){this.setPercentProperty("paddingTop",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(a){this.setPercentProperty("paddingBottom",a,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(a){this.setPath(a)},enumerable:!0,configurable:!0}),b.prototype.setPath=function(a){return!!this.setPropertyValue("path",a)&&(this.element&&this.element instanceof SVGPathElement||(this.element=this.paper.add("path")),this.element.attr({d:a}),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(b.prototype,
"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(a){this.setPropertyValue("fillModifier",a)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(a){this.setPropertyValue("strokeModifier",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},
set:function(a){a=Id(a,0,1);this.setPropertyValue("fillOpacity",a)&&this.setSVGAttribute({"fill-opacity":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(a){this.setFill(a)},enumerable:!0,configurable:!0}),b.prototype.setFill=function(a){if(pa(a)||(a=mb(a)),this.setColorProperty("fill",a)||this.fillModifier)if(a instanceof U&&this.fillModifier&&(a=this.fillModifier.modify(a)),this.realFill=a,a instanceof
U)this.setSVGAttribute({fill:a.toString()});else if(null!=a){if(a instanceof zc||a instanceof bb||a instanceof Db)a.paper=this.paper,this.setSVGAttribute({fill:'url("'+rc()+a.id+'")'})}else this.removeSVGAttribute("fill")},Object.defineProperty(b.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(a){a=Id(a,0,1);this.setPropertyValue("opacity",a)&&this.setSVGAttribute({opacity:a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},
set:function(a){this.setStroke(a)},enumerable:!0,configurable:!0}),b.prototype.setStroke=function(a){if(pa(a)||(a=mb(a)),this.setColorProperty("stroke",a)||this.strokeModifier)if(a instanceof U&&this.strokeModifier&&(a=this.strokeModifier.modify(a)),this.realStroke=a,a instanceof U)"none"==a.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:a.toString()});else if(null!=a){if(a instanceof zc||a instanceof bb||a instanceof Db)a.paper=this.paper,this.setSVGAttribute({stroke:'url("'+
rc()+a.id+'")'})}else this.removeSVGAttribute("stroke")},Object.defineProperty(b.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(a){a=Id(a,0,1);this.setPropertyValue("strokeOpacity",a)&&this.setSVGAttribute({"stroke-opacity":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(a){this.setPropertyValue("nonScalingStroke",!!a)&&(this.strokeWidth=
this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(a){this.setPropertyValue("nonScaling",!!a,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(a){a=R(a);this.setPropertyValue("strokeWidth",a,!0);this.nonScalingStroke&&(l(a)||(a=1),a/=this.globalScale);this.setSVGAttribute({"stroke-width":a})},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(a){a=Da(a);this.setPropertyValue("strokeDasharray",a)&&this.setSVGAttribute({"stroke-dasharray":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(a){a=R(a);this.setPropertyValue("strokeDashoffset",a)&&this.setSVGAttribute({"stroke-dashoffset":a})},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(a){this.setPropertyValue("strokeLinecap",a)&&this.setSVGAttribute({"stroke-linecap":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(a){this.setPropertyValue("strokeLinejoin",a)&&this.setSVGAttribute({"stroke-linejoin":a})},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(a){a=Da(a);this.setPropertyValue("shapeRendering",a)&&this.setSVGAttribute({"shape-rendering":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(a){this._positionPrecision=(a=!!a)?0:3;this.setPropertyValue("pixelPerfect",a,!0)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"rtl",{get:function(){return null!=this._rtl?this._rtl:this.virtualParent?this.virtualParent.rtl:this.parent?this.parent.rtl:(this.rtl=!1,this.rtl)},set:function(a){this._rtl=!!a},enumerable:!0,configurable:!0}),b.prototype.show=function(a){return this.showReal(a)},b.prototype.showReal=function(a){var d,b=this,c=this.defaultState.properties;this.disabled||!(this.isHidden||!this.visible||this.isHiding||null!=c.opacity&&this.opacity<c.opacity&&!this.isShowing)||this.isDisposed()||
(this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),l(a)||(a=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this.isHiding=this._isHidden=!1,this.isShowing=!0,(d=this.applyCurrentState(a))&&!d.isFinished()?(this._showHideDisposer=d.events.on("animationended",function(){b.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=
!1,a=this.defaultState.properties.visible,null!=a||(a=!0),this.visible=a,this.readerHidden=!1,this.dispatchImmediately("shown"));return d},b.prototype.hide=function(a){return this.hideReal(a)},b.prototype.hideReal=function(a){var d,b=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.hideTooltip(0);this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0);this.isShowing=!1;this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var c=this.hiddenState;c?(d=
this.setState(c,a,void 0))&&!d.isFinished()?(this._hideAnimation=d,this._showHideDisposer=d.events.on("animationended",function(){b.isHiding=!1;b._isHidden=!0},this),this._disposers.push(this._showHideDisposer),this._disposers.push(d)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0);this.readerHidden=!0;this.dispatchImmediately("hidden");this.invalidate()}return l(a)||(a=this.hiddenState.transitionDuration),d},Object.defineProperty(b.prototype,"visible",{get:function(){return this.getVisibility()},
set:function(a){this.setVisibility(!!a)},enumerable:!0,configurable:!0}),b.prototype.getVisibility=function(){var a=this.getPropertyValue("visible");return null!=a||(a=!0),a},b.prototype.setVisibility=function(a){this.setPropertyValue("visible",a)&&(a?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:a})},Object.defineProperty(b.prototype,
"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(a){a=R(a);this.setPropertyValue("zIndex",a)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),b.prototype.toFront=function(){var a=this.parent;a&&a.children.indexOf(this)!=a.children.length-1&&(a.children.moveValue(this,a.children.length-1),this.dispatch("zIndexChanged"))},b.prototype.toBack=function(){var a=this.parent;a&&0!=a.children.indexOf(this)&&(a.children.moveValue(this,0),this.dispatch("zIndexChanged"))},
Object.defineProperty(b.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this.parent?this.parent.tooltip:void 0},set:function(a){this._tooltip&&this.removeDispose(this._tooltip);(this._tooltip=a)&&(a.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipDataItem",{get:function(){return this._tooltipDataItem||this.dataItem},set:function(a){this._tooltipDataItem=a},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(a){this._tooltipColorSource=a},enumerable:!0,configurable:!0}),b.prototype.showTooltip=function(a){for(var d=this;null!=d;){if(!d.visible||d.disabled||d.__disabled)return;d=d.parent}if(null!=this.tooltipText||null!=this.tooltipHTML){var d=this.tooltip,b=this.tooltipDataItem;if(d){d.targetSprite=this;var c=this,h=this.tooltipColorSource;if((d.getStrokeFromObject||d.getFillFromObject)&&
h&&(h.isTemplate?b&&dh(b.sprites,function(a){return a.clonedFrom!=h||(c=a,!1)}):c=h),d.getStrokeFromObject){for(var k=this.stroke,n=c;null!=n.parent&&(null==(k=n.stroke)&&(n=n.parent),null==k););k instanceof U?d.background.animate({property:"stroke",to:k},d.animationDuration):d.background.stroke=k}if(d.dataItem=b,d.label.populateStringFrom=this,d.getFillFromObject){b=this.fill;for(n=c;null!=n.parent;)if(null==(b=n.fill)||b instanceof U&&null==b.rgb)n=n.parent;else if(null!=b)break;null==b&&(b=L("#000000"));
b instanceof U&&d.visible?d.background.animate({property:"fill",to:b},d.animationDuration):d.background.fill=b;d.autoTextColor&&b instanceof U&&(d.label.fill=b.alternative)}n="";if(this.tooltipHTML&&(d.html=this.tooltipHTML,n=this.tooltipHTML),this.tooltipText&&(d.text=this.tooltipText,n=this.tooltipText),this.updateTooltipPosition(a)){if(d.readerDescribedBy=this.uidAttr(),d.label.invalid&&d.label.validate(),null!=n&&""!=n&&""!=d.label.currentText)return d&&!d.parent&&(d.parent=this.tooltipContainer),
a=d.defaultState.transitionDuration,0>=a&&(a=1),d.show(a),!0}else this.hideTooltip(0)}}return!1},b.prototype.updateTooltipPosition=function(a){var d=this;if("pointer"!=this.tooltipPosition)return a=gb({x:this.tooltipX,y:this.tooltipY},this),this.pointTooltipTo(a);if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=C().body.events.on("track",function(a){return d.pointTooltipTo(Zb(a.point,d.svgContainer.SVGContainer,d.svgContainer.cssScale),!0)}),a)return this.pointTooltipTo(a,
!0)},b.prototype.pointTooltipTo=function(a,d){var b=this.tooltip;return!(!b||!We(a,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))&&(b.pointTo(a,d),!0)},b.prototype.hideTooltip=function(a){var d=this.tooltip;d&&(d.targetSprite==this&&(d.targetSprite=void 0),d.hide(a),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))},Object.defineProperty(b.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},
set:function(a){a=Da(a);this.hoverable=!0;this.setPropertyValue("tooltipHTML",a)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(a){(a=Da(a))&&(this.hoverable=!0);this.setPropertyValue("tooltipText",a)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipContainer",
{get:function(){return this._tooltipContainer?this._tooltipContainer:this.parent?this.parent.tooltipContainer:void 0},set:function(a){this._tooltipContainer=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(a){a=R(a);this.setPropertyValue("tooltipX",a)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},
set:function(a){this.setPropertyValue("tooltipPosition",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(a){a=R(a);this.setPropertyValue("tooltipY",a)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),b.prototype.getTooltipX=function(){var a=this.getPropertyValue("tooltipX");return l(a)||(a=this.maxLeft+this.measuredWidth/2-this.pixelPaddingLeft-this.ex),a},b.prototype.getTooltipY=function(){var a=
this.getPropertyValue("tooltipY");return l(a)||(a=this.maxTop+this.measuredHeight/2-this.pixelPaddingTop-this.ey),a},b.prototype.raiseCriticalError=function(a){this.svgContainer&&(this.modal.content=this.adapter.apply("criticalError",a).message,this.modal.closable=!1,this.modal.open(),this.disabled=!0);Ka.verbose&&console.log(a)},b.prototype.processConfig=function(a){a&&(null!=a.tooltipColorSource&&Y(a.tooltipColorSource)&&this.map.hasKey(a.tooltipColorSource)&&(a.tooltipColorSource=this.map.getKey(a.tooltipColorSource)),
null!=a.cursorOverStyle&&Y(a.cursorOverStyle)&&(a.cursorOverStyle=this.getCursorStyle(a.cursorOverStyle)),null!=a.cursorDowntyle&&Y(a.cursorDowntyle)&&(a.cursorDowntyle=this.getCursorStyle(a.cursorDowntyle)),null!=a.cursorOptions&&(null!=a.cursorOptions.overStyle&&Y(a.cursorOptions.overStyle)&&(a.cursorOptions.overStyle=this.getCursorStyle(a.cursorOptions.overStyle)),null!=a.cursorOptions.downStyle&&Y(a.cursorOptions.downStyle)&&(a.cursorOptions.downStyle=this.getCursorStyle(a.cursorOptions.downStyle))));
c.prototype.processConfig.call(this,a)},b.prototype.getCursorStyle=function(a){switch(a){case "grab":return Aa.grab;case "grabbing":return Aa.grabbing;case "pointer":return Aa.pointer;case "horizontalResize":return Aa.horizontalResize;case "verticalResize":return Aa.verticalResize;default:return Aa.default}},b.prototype.configOrder=function(a,d){return a==d?0:"tooltipColorSource"==a?1:"tooltipColorSource"==d?-1:c.prototype.configOrder.call(this,a,d)},Object.defineProperty(b.prototype,"isHidden",{get:function(){return this._isHidden?
this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(a){this.setShowOnInit(!!a)},enumerable:!0,configurable:!0}),b.prototype.setShowOnInit=function(a){this.setPropertyValue("showOnInit",a)&&(this.isTemplate||(!a||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new ja([p.events.once("enterframe",
this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},b.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},b.prototype.appear=function(){var a=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0;else{var d=this.show();d&&!d.isFinished()?d.events.on("animationended",function(){a.appeared=
!0}):this.appeared=!0}},Object.defineProperty(b.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(a){this.setPropertyValue("hidden",!!a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"plugins",{get:function(){var a=this;return this._plugins||(this._plugins=new S,this._disposers.push(this._plugins.events.on("inserted",
function(d){d.newValue.target=a;d.newValue.init()})),this._disposers.push(new da(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),b.prototype._systemUpdate=function(a){this.validate()},b.prototype._systemCheckIfValidate=function(){return!0},b.prototype._systemValidatePositions=function(){this.validatePosition()},b.prototype._systemValidateLayouts=function(){},b}(qb);p.registeredClasses.Sprite=M;var md=function(c){function b(){var a=c.call(this)||this;return a.className="Rectangle",
a.element=a.paper.add("rect"),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this._positionPrecision;this.pixelPerfect&&(a=0);var d=D(this.innerWidth,a),a=D(this.innerHeight,a);this.element.attr({width:d,height:a})},b.prototype.measureElement=function(){},Object.defineProperty(b.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,
configurable:!0}),b}(M);p.registeredClasses.Rectangle=md;var I=function(c){function b(){var a=c.call(this)||this;return a._childrenByLayout=[],a._childrenDisposers=new ga,a.hasFocused=!1,a.setStateOnSprites=[],a.layoutInvalid=!1,a._absoluteWidth=0,a._absoluteHeight=0,a._shouldBeReady=[],a._tapToActivate=!1,a.tapTimeout=3E3,a.className="Container",a._element=a.paper.addGroup("g"),a.group.add(a.element),a.setPropertyValue("pixelPerfect",!1),a.setPropertyValue("layout","absolute"),a.setPropertyValue("fixedWidthGrid",
!1),a.setPropertyValue("verticalCenter","none"),a.setPropertyValue("horizontalCenter","none"),a._positionPrecision=4,a._disposers.push(new Ob(a._childrenDisposers)),a.children.events.on("inserted",a.handleChildAdded,a),a.children.events.on("removed",a.handleChildRemoved,a),a.applyTheme(),a}return m(b,c),b.prototype.handleChildAdded=function(a){this.processChild(a.newValue)},b.prototype.processChild=function(a){try{this._childrenDisposers.insertKey(a.uid,new ja([a.events.on("transformed",this.handleChildTransform,
this),a.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(d){}this.element&&!a.disabled&&this.element.add(a.group);a.parent=this;a.paper=this.paper;this.dispatchImmediately("childadded",{type:"childadded",newValue:a});this.invalidate()},b.prototype.sortAndAdd=function(){this.sortChildren();this.addChildren()},b.prototype.handleChildRemoved=function(a){a=a.oldValue;(this._childrenDisposers.removeKey(a.uid),this.element)&&this.element.removeElement(a.group);a.isMeasured&&this.invalidateLayout();
this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:a})},b.prototype.handleChildTransform=function(a){a.target.isMeasured&&this.invalidateLayout()},b.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,p.addToInvalidLayouts(this),Q.requestFrame())},b.prototype.invalidate=function(){c.prototype.invalidate.call(this);this.invalidateLayout()},b.prototype.deepInvalidate=function(){c.prototype.invalidate.call(this);
J(this._childrenByLayout,function(a){a instanceof b?a.deepInvalidate():a.invalidate()});this.invalidateLayout()},Object.defineProperty(b.prototype,"children",{get:function(){return this._children||(this._children=new S),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(a){this.setPropertyValue("minWidth",a)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(a){this.setPropertyValue("minHeight",a)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),b.prototype.removeElement=function(){},b.prototype.sortChildren=function(){var a=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var d=[],b=[];v(this.children.iterator(),function(c){"horizontal"==a.layout||"grid"==a.layout?l(c.percentWidth)?b.push(c):d.push(c):"vertical"==a.layout&&
l(c.percentHeight)?b.push(c):d.push(c)});this._childrenByLayout=d.concat(b)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},b.prototype.calculateRelativeSize=function(){var a=this,d=0,b=0;J(this._childrenByLayout,function(a){a.isMeasured&&(l(a.percentWidth)&&(d+=a.percentWidth),l(a.percentHeight)&&(b+=a.percentHeight))});J(this._childrenByLayout,function(c){c.isMeasured&&("horizontal"==a.layout&&(l(c.percentWidth)&&(c.relativeWidth=c.percentWidth/d),l(c.percentHeight)&&
(c.relativeHeight=c.percentHeight/100)),"vertical"==a.layout&&(l(c.percentHeight)&&(c.relativeHeight=c.percentHeight/b),l(c.percentWidth)&&(c.relativeWidth=c.percentWidth/100)),"grid"==a.layout&&(l(c.percentHeight)&&(c.relativeHeight=c.percentHeight/100),l(c.percentWidth)&&(c.relativeWidth=c.percentWidth/100)));"absolute"!=a.layout&&c.isMeasured||(l(c.percentWidth)&&(c.relativeWidth=c.percentWidth/100),l(c.percentHeight)&&(c.relativeHeight=c.percentHeight/100))})},b.prototype.addChildren=function(){if(this.element){var a=
pc(this.children.values),a=a.map(function(a,d){return{idx:d,data:a}});a.sort(function(a,d){var b=a.data.zIndex||0,c=d.data.zIndex||0;return b<c?-1:b>c?1:a.idx-d.idx});var a=a.map(function(a){return a.data}),d=this.element,b=!0;if(d.node&&d.node.childNodes)for(var c=0,h=d.node.childNodes.length;c<h;c++)if(d.node.childNodes[c]!=a[c].group.node){b=!1;break}b||(J(a,function(a){a.group&&d.add(a.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},b.prototype.createChild=
function(a){a=new a;return a.parent=this,a},b.prototype.removeChildren=function(){for(;0<this.children.length;){var a=this.children.getIndex(0);a.parent=void 0;this.children.removeValue(a)}},b.prototype.disposeChildren=function(){for(;0<this.children.length;){var a=this.children.getIndex(0);a.dispose();this.children.removeValue(a)}},Object.defineProperty(b.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},
set:function(a){this._background&&this.background!=a&&this.removeDispose(this._background);a&&(this._background=a,this._disposers.push(a),this.processBackground())},enumerable:!0,configurable:!0}),b.prototype.handleGlobalScale=function(){c.prototype.handleGlobalScale.call(this);this.children.each(function(a){a.handleGlobalScale()})},b.prototype.createBackground=function(){return new md},b.prototype.processBackground=function(){var a=this._background;a&&(a.isMeasured=!1,this._background.fill=(new W).getFor("background"),
a.parent=this,a.isMeasured=!1,this.children.removeValue(a),this._disposers.push(a),this.group.addToBack(this._background.group))},b.prototype.validateLayout=function(){var a=this;p.removeFromInvalidLayouts(this);this.layoutInvalid=!1;this._availableWidth=this.innerWidth;this._availableHeight=this.innerHeight;var d=0,b=0,c=!0;this.children&&(this.sortChildren(),J(this._childrenByLayout,function(e){var f,h;if(l(e.relativeWidth)?(f=D(a._availableWidth*e.relativeWidth,2),"horizontal"==a.layout&&(f-=e.pixelMarginRight+
e.pixelMarginLeft)):"horizontal"==a.layout&&e.invalid&&e.validate(),l(e.relativeHeight)?(h=D(a._availableHeight*e.relativeHeight,2),"vertical"==a.layout&&(h-=e.pixelMarginTop+e.pixelMarginBottom)):"vertical"==a.layout&&e.invalid&&e.validate(),0==e.invalid){if(l(e.relativeWidth)&&(e.maxWidth=f),l(e.relativeHeight)&&(e.maxHeight=h),e.isMeasured)"horizontal"==a.layout&&(l(e.percentWidth)||0<e.measuredWidth&&(a._availableWidth-=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)),"vertical"==a.layout&&
(l(e.percentHeight)||0<e.measuredHeight&&(a._availableHeight-=e.measuredHeight+e.pixelMarginTop+e.pixelMarginBottom)),f=e.measuredWidth,h=e.measuredHeight,"none"!=e.align&&(f+=e.pixelMarginLeft+e.pixelMarginRight),"none"!=e.valign&&(h+=e.pixelMarginTop+e.pixelMarginBottom),d=Math.max(d,f),b=Math.max(b,h)}else e.isMeasured&&(l(e.relativeWidth)&&e.maxWidth!=f&&(e.maxWidth=f,c=!1),l(e.relativeHeight)&&e.maxHeight!=h&&(e.maxHeight=h,c=!1))}));this._absoluteWidth=d;this._absoluteHeight=b;c&&this.arrange()},
b.prototype.arrange=function(){var a,d,b,c,h,k,n,q,g,x,ea=this,m=this.children,p=0,E=0,p=T(this.innerWidth,this._absoluteWidth),E=T(this.innerHeight,this._absoluteHeight),r=this.pixelPaddingLeft,t=this.pixelPaddingRight,A=this.pixelPaddingTop,u=this.pixelPaddingBottom,w=0,Ia=0,D=0,G=0,F=[],z=[],H=this.maxWidth,J=this.maxHeight,I=this.minWidth,N=this.minHeight,L=pc(m.values);if(this.reverseOrder&&L.reverse(),"grid"==this.layout){k=H;h=1;for(var K=0,P=L.length;K<P;K++)!(C=L[K]).isMeasured||C.disabled||
C.__disabled||(F=C.measuredWidth,F<k&&(k=F),F>h&&(h=F));k=B(k,1,H);h=B(h,1,H);k=this.fixedWidthGrid?H/h:H/k;k=T(1,Math.floor(k));k=ba(this.maxColumns,k);F=this.getColumnWidth(L,k,h)}K=0;for(P=L.length;K<P;K++){var C;if(!(C=L[K]).isMeasured||C.disabled||C.__disabled)C.validatePosition();else{var M=void 0,O=void 0,Q=C.pixelMarginLeft,R=C.pixelMarginRight,S=C.pixelMarginTop,V=C.pixelMarginBottom,U=C.measuredWidth,X=C.measuredHeight,W=void 0,Y=void 0,Z=void 0,aa=void 0;switch(this.layout){case "absolute":switch(C.align){case "left":M=
Q-C.maxLeft;break;case "center":M=(p-U)/2-C.maxLeft;break;case "right":M=p-R-C.maxRight;break;default:C.x instanceof ka||(M=C.pixelX)}switch(C.valign){case "top":O=S-C.maxTop;break;case "middle":O=(E-X)/2-C.maxTop;break;case "bottom":O=E-V-C.maxBottom;break;default:C.y instanceof ka||(O=C.pixelY)}break;case "vertical":switch(C.align){case "left":M=Q-C.maxLeft;break;case "center":M=(p-U)/2-C.maxLeft;break;case "right":M=p-R-C.maxRight;break;default:M=C.pixelX}Ia=(O=Ia+S-C.maxTop)+C.maxBottom+V;break;
case "horizontal":switch(C.valign){case "top":O=S-C.maxTop;break;case "middle":O=(E-X)/2-C.maxTop;break;case "bottom":O=E-V-C.maxBottom;break;default:O=C.pixelY}w=(M=w+Q-C.maxLeft)+C.maxRight+R;break;case "grid":switch(M=w+Q-C.maxLeft,C.valign){case "top":O=Ia+S-C.maxTop;break;case "middle":O=Ia+(E-X)/2-C.maxTop;break;case "bottom":O=Ia+E-V-C.maxBottom;break;default:O=Ia-C.maxTop}w+=F[G];z[D]=T(z[D],X);U=F[++G];if(l(U)||(U=h),w>ba(this.innerWidth,H)-U+1&&G<k){k=G;G=D=Ia=w=0;F=this.getColumnWidth(L,
k,h);z=[];K=-1;continue}G>=k&&(G=0,Ia+=z[D],D++,w=0)}"none"!==this.layout&&(C.moveTo({x:M,y:O}),W=M+C.maxLeft-Q,Y=M+C.maxRight+R,Z=O+C.maxTop-S,aa=O+C.maxBottom+V,(Y>d||!l(d))&&(d=Y),(W<a||!l(a))&&(a=W),(Z<b||!l(b))&&(b=Z),(aa>c||!l(c))&&(c=aa),(Y>q||!l(q))&&(q=Y),(W<n||!l(n))&&(n=W),(Z<g||!l(g))&&(g=Z),aa>x||l(x))}}"none"==this.layout&&(c=this.bbox,a=c.x,d=c.x+c.width,b=c.y,c=c.y+c.height);l(a)||(a=0,n=0);l(d)||(q=d=this._availableWidth);l(b)||(b=0,g=0);l(c)||(x=c=this._availableHeight);l(g)||(g=
0);l(x)||(x=g);l(n)||(n=0);l(q)||(q=n);p=d-a;E=c-b;l(this.relativeWidth)&&(a=0,d=p=H-r-t);l(this.relativeHeight)&&(b=0,c=E=J-A-u);l(this._pixelWidth)&&(a=0,p=this._pixelWidth-r-t);l(I)&&p<I&&(a=0,p=this.minWidth-r-t);l(this._pixelHeight)&&(b=0,E=this._pixelHeight-A-u);l(N)&&E<N&&(b=0,E=N-A-u);d=q-n;g=x-g;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&0<m.length){var ca,da;x=p;n=E;x<d&&(x=d);n<g&&(n=g);"center"==this.contentAlign&&(ca=(x-d)/2);"right"==this.contentAlign&&(ca=x-d);
"middle"==this.contentValign&&(da=(n-g)/2);"bottom"==this.contentValign&&(da=n-g);l(ca)&&v(m.iterator(),function(a){var d=a.maxLeft,b=ca;"horizontal"==ea.layout&&(a.x=a.pixelX+b);"grid"==ea.layout&&(a.x=a.pixelX+b);"vertical"==ea.layout&&(b+=a.pixelMarginLeft,"none"==a.align&&(a.x=b-d));"absolute"==ea.layout&&(b+=a.pixelMarginLeft,"none"==a.align&&(a.x=b-d))});l(da)&&v(m.iterator(),function(a){var d=a.maxTop,b=da;"horizontal"==ea.layout&&(b+=a.pixelMarginTop,"none"==a.valign&&(a.y=b-d));"grid"==ea.layout&&
(b+=a.pixelMarginTop,a.y=b-d);"vertical"==ea.layout&&(a.y=a.pixelY+b);"absolute"==ea.layout&&(b+=a.pixelMarginTop,"none"==a.valign&&(a.y=b-d))})}m=this.bbox;p=T(p,I);E=T(E,N);this.contentWidth=p;this.contentHeight=E;p=ba(p,H);E=ba(E,J);this._bbox={x:a,y:b,width:p,height:E};a=this.maxLeft;b=this.maxTop;H=this.maxBottom;J=this.maxRight;(this.measure(),a==this.maxLeft&&J==this.maxRight&&b==this.maxTop&&H==this.maxBottom||!this.events.isEnabled("transformed"))||(a={type:"transformed",target:this},m&&
(a.dummyData=m.width+" "+p+"  "+m.height+" "+E),this.events.dispatchImmediately("transformed",a))},b.prototype.updateCenter=function(){c.prototype.updateCenter.call(this);this.updateBackground()},b.prototype.updateBackground=function(){var a=this._background;a&&(a.x=this.maxLeft,a.y=this.maxTop,a.width=this.maxRight-this.maxLeft,a.height=this.maxBottom-this.maxTop)},b.prototype.getColumnWidth=function(a,d,b){var c=this,e=[],k=0;return J(a,function(a){a.isMeasured&&(c.fixedWidthGrid?e[k]=b:e[k]=T(e[k],
a.measuredWidth+a.pixelMarginRight+a.pixelMarginLeft),++k==d&&(k=0))}),e},Object.defineProperty(b.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(a){this.setPropertyValue("layout",a)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(a){this.setPropertyValue("contentValign",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(a){this.setPropertyValue("contentAlign",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(a){this.setPropertyValue("fixedWidthGrid",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(a){this.setPropertyValue("maxColumns",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(a){this.setPropertyValue("reverseOrder",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(a){this.setPropertyValue("setStateOnChildren",a,!0)},enumerable:!0,configurable:!0}),b.prototype.fitsToBounds=function(a){var d=
a.x;a=a.y;return-.5<=d&&d<=this.pixelWidth+.5&&-.5<=a&&a<=this.pixelHeight+.5},b.prototype.copyFrom=function(a){var d=this;c.prototype.copyFrom.call(this,a);this.layout=a.layout;this.setStateOnChildren=a.setStateOnChildren;a._background&&(this.background=a._background.clone(),this.background.copyFrom(a._background));v(a.children.iterator(),function(a){a.shouldClone&&(a.clone().parent=d)})},Object.defineProperty(b.prototype,"preloader",{get:function(){return this._preloader||(this.parent?this.parent.preloader:
void 0)},set:function(a){this._preloader&&this.removeDispose(this._preloader);(this._preloader=a)&&(a.parent=this.tooltipContainer,this._disposers.push(a))},enumerable:!0,configurable:!0}),b.prototype.setPaper=function(a){var d=this,b=c.prototype.setPaper.call(this,a);return b&&(this._background&&(this._background.paper=a,this._background.topParent=this.topParent),this.children.each(function(b){b.setPaper(a);b.topParent=d.topParent})),b},b.prototype.removeFromInvalids=function(){c.prototype.removeFromInvalids.call(this);
p.removeFromInvalidLayouts(this)},b.prototype.setDataItem=function(a){this._dataItem!=a&&v(this.children.iterator(),function(d){d.dataItem=a});c.prototype.setDataItem.call(this,a)},b.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},b.prototype.getTooltipX=function(){return c.prototype.getTooltipX.call(this)},b.prototype.getTooltipY=function(){return c.prototype.getTooltipY.call(this)},Object.defineProperty(b.prototype,
"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(a){this.setPropertyValue("fontFamily",a,!0)&&(this.setSVGAttribute({"font-family":a}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(a){this.setPropertyValue("fontSize",a,!0)&&(this.setSVGAttribute({"font-size":a}),this.invalidateLabels())},enumerable:!0,configurable:!0}),b.prototype.invalidateLabels=
function(){this.children.each(function(a){a.hardInvalidate?a.hardInvalidate():a instanceof b&&a.invalidateLabels()})},Object.defineProperty(b.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(a){this.setPropertyValue("fontWeight",a);this.setSVGAttribute({"font-weight":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(a){this.setPropertyValue("textDecoration",
a);this.setSVGAttribute({"text-decoration":a})},enumerable:!0,configurable:!0}),b.prototype.dispose=function(){this._background&&this._background.dispose();this._shouldBeReady=[];this.disposeChildren();c.prototype.dispose.call(this)},b.prototype.setState=function(a,d,b){var e=a;return a instanceof jd&&(e=a.name),this.setStateOnChildren&&v(this.children.iterator(),function(a){a.setState(e,d,b);"active"!=e&&(a.isActive=!1)}),this._background&&this._background.setState(e),this.setStateOnSprites.length&&
J(this.setStateOnSprites,function(a){a.setState(e,d,b)}),c.prototype.setState.call(this,a,d,b)},b.prototype.setActive=function(a){c.prototype.setActive.call(this,a);this._background&&(this._background.isActive=a)},b.prototype.dispatchReady=function(){var a=this;if(!this.isReady()&&!this.isDisposed()){var d=!0;this.children.each(function(a){a.__disabled||a.disabled||a.isReady()||(d=!1)});J(this._shouldBeReady,function(a){a.__disabled||a.disabled||a.isReady()||(d=!1)});d?c.prototype.dispatchReady.call(this):
p.events.once("exitframe",function(){a.dispatchReady();Q.requestFrame()},void 0,!1)}},b.prototype._systemUpdate=function(a){this.children.each(function(d){d.invalid&&(d._systemCheckIfValidate()?d.dataItem&&d.dataItem.component&&d.dataItem.component.dataInvalid?a.push(d):d.validate():a.push(d))});c.prototype._systemUpdate.call(this,a)},b.prototype._systemValidatePositions=function(){this.children.each(function(a){a.positionInvalid&&a.validatePosition()});c.prototype._systemValidatePositions.call(this)},
b.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(b.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(a){this._tapToActivate!=a&&this.setTapToActivate(a)},enumerable:!0,configurable:!0}),b.prototype.setTapToActivate=function(a){var d=this;this._tapToActivate=a;(this.interactions.isTouchProtected=a)&&this.interactions.setEventDisposer("container-tapToActivate",a,function(){return new ja([d.events.on("hit",
d.handleTapToActivate,d,!1),d.events.on("down",d.initTapTimeout,d,!1),d.events.on("track",d.initTapTimeout,d,!1),C().body.events.on("down",function(a){C().isLocalElement(a.pointer,d.paper.svg,d.uid)||d.handleTapToActivateDeactivation()},d,!1)])});C()},b.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1;this.initTapTimeout()},b.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},b.prototype.initTapTimeout=function(){var a=this;this._tapToActivateTimeout&&
this._tapToActivateTimeout.dispose();this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){a.handleTapToActivateDeactivation()},this.tapTimeout))},b}(M);p.registeredClasses.Container=I;var Nf=function(){function c(){}return c.prototype.parse=function(b){return[]},Object.defineProperty(c.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&0<this.options.numberFields.length},enumerable:!0,configurable:!0}),
c.prototype.maybeToNumber=function(b,a){return-1!==this.options.numberFields.indexOf(b)?Wd(a):a},Object.defineProperty(c.prototype,"parsableDates",{get:function(){return this.options.dateFields&&0<this.options.dateFields.length},enumerable:!0,configurable:!0}),c.prototype.maybeToDate=function(b,a){return-1!==this.options.dateFields.indexOf(b)?this.options.dateFormatter.parse(a,this.dateFormat):a},c.prototype.maybeToEmpty=function(b){return null!=b&&""!=b||null==this.options.emptyAs?b:this.options.emptyAs},
Object.defineProperty(c.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new yc,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),c}(),ul=[",",";","\t"],kd=function(c){function b(){var a=null!==c&&
c.apply(this,arguments)||this;return a.contentType="text/csv",a.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},a}return m(b,c),b.isCSV=function(a){return!!b.getDelimiterFromData(a)},b.getDelimiterFromData=function(a){var d,b=a.split("\n"),c=b.length;return J(ul,function(a){for(var e=0,f=0,h=0;h<c;++h){if(!(1<(e=b[h].split(a).length))){f=0;break}if(0===f)f=e;else if(e!=f){f=0;break}}f&&(d=a)}),d},b.prototype.parse=function(a){this.options.delimiter||(this.options.delimiter=
b.getDelimiterFromData(a));var d,c,f=this.CSVToArray(a,this.options.delimiter),h=null!=this.options.emptyAs,k=this.parsableNumbers,n=this.parsableDates,q=[],g=[];for(d=0;d<this.options.skipRows;d++)f.shift();if(this.options.useColumnNames)for(g=f.shift(),d=0;d<g.length;d++)""===(a=null!=g[d]?g[d].replace(/^\s+|\s+$/gm,""):"")&&(a="col"+d),g[d]=a;for(;c=this.options.reverse?f.pop():f.shift();)if(!this.options.skipEmpty||1!==c.length||""!==c[0]){var x={};for(d=0;d<c.length;d++)x[a=void 0===g[d]?"col"+
d:g[d]]=""===c[d]?this.options.emptyAs:c[d],h&&(x[a]=this.maybeToEmpty(x[a])),k&&(x[a]=this.maybeToNumber(a,x[a])),n&&(x[a]=this.maybeToDate(a,x[a]));q.push(x)}return q},b.prototype.CSVToArray=function(a,d){d=d||",";for(var b=new RegExp("(\\"+d+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+"\\r\\n]*))","gi"),c=[[]],h=null;h=b.exec(a);){var k=h[1];k.length&&k!==d&&c.push([]);k=void 0;k=h[2]?h[2].replace(/""/g,'"'):h[3];c[c.length-1].push(k)}return c},b}(Nf),wc=function(c){function b(){var a=null!==
c&&c.apply(this,arguments)||this;return a.contentType="application/json",a.options={},a}return m(b,c),b.isJSON=function(a){try{return JSON.parse(a),!0}catch(d){return!1}},b.prototype.parse=function(a){var d,b=this;try{null!=JSON&&(d=JSON.parse(a))}catch(y){return}var c=null!=this.options.emptyAs,h=this.parsableNumbers,k=this.parsableDates;if(Array.isArray(d)&&(h||k||c)){a=function(a,e){var f=d[a];K(f,function(a,d){c&&(f[a]=b.maybeToEmpty(f[a]));h&&(f[a]=b.maybeToNumber(a,f[a]));k&&(f[a]=b.maybeToDate(a,
f[a]))})};for(var n=0,q=d.length;n<q;n++)a(n)}return d},b}(Nf),mi=function(){function c(){this.adapter=new Qa(this)}return c.prototype.load=function(b){b=oc(Array.isArray(b)?b:[b],function(a){return a.dispatchImmediately("started"),a.dispatchImmediately("loadstarted"),ke(a.url,a,a.requestOptions)});Promise.all(b).then(function(a){J(a,function(a){var d=a.target;d.dispatchImmediately("loadended");a.error?d.events.isEnabled("error")&&d.events.dispatchImmediately("error",{type:"error",code:a.xhr.status,
message:d.language.translate("Unable to load file: %1",null,d.url),target:d}):d.processData(a.response,a.type);d.dispatchImmediately("ended")})}).catch(function(a){a.target&&(a.target.dispatchImmediately("loadended"),a.target.events.isEnabled("error")&&a.target.events.dispatchImmediately("error",{type:"error",code:a.xhr.status,message:a.target.language.translate("Unable to load file: %1",null,a.target.url),target:a.target}),a.target.dispatchImmediately("ended"))})},c.prototype.getParserByType=function(b){return this.adapter.apply("getParserByType",
{parser:null,type:b}).parser||("csv"==b||"text/csv"==b||"application/vnd.ms-excel"==b?new kd:"json"==b||"application/json"==b?new wc:void 0)},c.prototype.getParserByData=function(b,a){var d=this.adapter.apply("getParserByData",{parser:null,data:b,type:a}).parser;if(!d){if(d=this.getParserByType(a))return d;if(wc.isJSON(b))return this.getParserByType("json");if(kd.isCSV(b))return this.getParserByType("csv")}return d},c}(),me=new mi,ni=function(c){function b(a,d){var b=c.call(this)||this;return b.adapter=
new Qa(b),b._requestOptions={},b._incremental=!1,b._incrementalParams={},b._keepCount=!1,b.showPreloader=!0,b.className="DataSource",a&&(b.url=a),d&&(b.parser="string"==typeof d?me.getParserByType(d):d),b}return m(b,c),b.prototype.processData=function(a,d){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=me.getParserByData(a,d),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",
this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",a))),null==this.data&&this.events.isEnabled("parseerror"))a={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),
target:this},this.events.dispatchImmediately("parseerror",a);this.dispatchImmediately("parseended");null!=this.data&&this.dispatchImmediately("done",{data:this.data});this.lastLoad=new Date}else this.events.isEnabled("parseerror")&&(a={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this},this.events.dispatchImmediately("parseerror",a)),this.dispatchImmediately("parseended")},Object.defineProperty(b.prototype,"url",{get:function(){var a=this.disableCache?
this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(a=this.addUrlParams(a,this.incrementalParams)),this.adapter.apply("url",a)},set:function(a){this._url=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(a){this._requestOptions=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"parser",{get:function(){return this._parser||
(this._parser=new wc),this.adapter.apply("parser",this._parser)},set:function(a){this._parser=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(a){var d=this;this._reloadFrequency!=a&&(this._reloadFrequency=a,a?null!=this._reloadDisposer||(this._reloadDisposer=this.events.on("ended",function(a){d._reloadTimeout=setTimeout(function(){d.load()},d.reloadFrequency)})):null!=
this._reloadDisposer&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(a){this._incremental=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(a){this._incrementalParams=a},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(a){this._keepCount=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Fb,this.language)},set:function(a){this._language=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new yc,this.dateFormatter)},set:function(a){this._dateFormatter=a},enumerable:!0,configurable:!0}),b.prototype.timestampUrl=function(a){var d={};return d[(new Date).getTime().toString()]="",this.addUrlParams(a,d)},b.prototype.dispose=function(){c.prototype.dispose.call(this);this._reloadTimeout&&clearTimeout(this._reloadTimeout)},
b.prototype.load=function(){this._reloadTimeout&&clearTimeout(this._reloadTimeout);me.load(this)},b.prototype.addUrlParams=function(a,d){var b=a.match(/\?/)?"\x26":"?",c=[];return K(d,function(a,d){""!=d?c.push(a+"\x3d"+encodeURIComponent(d)):c.push(a)}),c.length?a+b+c.join("\x26"):a},b.prototype.processConfig=function(a){p.registeredClasses.json=wc;p.registeredClasses.JSONParser=wc;p.registeredClasses.csv=kd;p.registeredClasses.CSVParser=kd;c.prototype.processConfig.call(this,a)},b}(qb),Pi=function(c){function b(){var a=
c.call(this)||this;return a._rules=new S,a._appliedRules={},a._useDefault=!0,a.adapter=new Qa(a),a._enabled=!1,a._noStates=[],a.className="Responsive",a.rules.events.on("inserted",a.checkRules,!0),a.rules.events.on("removed",a.checkRules,!0),a._disposers.push(a.rules.events),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"component",{get:function(){return this._component},set:function(a){a!=this._component&&(this._sizeEventDisposer&&this.removeDispose(this._sizeEventDisposer),this._component=
a,this._sizeEventDisposer=ca(this.component).events.on("sizechanged",this.checkRules,this),this._disposers.push(this._sizeEventDisposer),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(a){this._enabled!=a&&(this._enabled=a,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",
this._useDefault)},set:function(a){this._useDefault!=a&&(this._useDefault=!0,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(a){this._rules=a;this._enabled=!0;this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",Ba)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"allRules",{get:function(){var a=new S;return this.useDefault&&a.copyFrom(this.defaultRules),a.copyFrom(this.rules),this.adapter.apply("allRules",a)},enumerable:!0,configurable:!0}),b.prototype.isApplied=function(a){a=this._appliedRules[a];return null!=a&&a},b.prototype.checkRules=function(){var a=this,d=this.allRules;if(d&&0!=d.length){var b=!1,c=ca(this.component);v(d.iterator(),function(d){d.id||(d.id=p.getUniqueId());var e=d.relevant(c);(e&&!a.isApplied(d.id)||!e&&a.isApplied(d.id))&&(b=!0);a._appliedRules[d.id]=
e});b&&this.applyRules()}},b.prototype.applyRules=function(a){var d=this,b=null!=a?a:ca(this.component),c=!1;this.enabled&&v(this.allRules.iterator(),function(a){var e=d.getState(a,b);e&&(c||(b.applyCurrentState(0),c=!0),d.isApplied(ca(a.id))&&b.setState(e))});b.children&&v(b.children.iterator(),function(a){d.applyRules(a)})},b.prototype.getState=function(a,d){var b="responsive-"+a.id,c=d.uid+"_"+b;if(-1===eb(this._noStates,c)){if(d.states.hasKey(b))return d.states.getKey(b);a=a.state(d,b);return a||
this._noStates.push(c),a}},b.prototype.getValue=function(a,d){var b=a.getPropertyValue(d);return null==b&&null!=a[d]&&(b=a[d]),b},b}(qb),Ba=new S;Ba.events.on("inserted",function(c){c.newValue.id=p.getUniqueId()});var Ha=function(){function c(){}return c.widthXXS=function(b){return b.pixelWidth<=c.XXS},c.widthXS=function(b){return b.pixelWidth<=c.XS},c.widthS=function(b){return b.pixelWidth<=c.S},c.widthM=function(b){return b.pixelWidth<=c.M},c.widthL=function(b){return b.pixelWidth<=c.L},c.widthXL=
function(b){return b.pixelWidth<=c.XL},c.widthXXL=function(b){return b.pixelWidth<=c.XXL},c.heightXXS=function(b){return b.pixelHeight<=c.XXS},c.heightXS=function(b){return b.pixelHeight<=c.XS},c.heightS=function(b){return b.pixelHeight<=c.S},c.heightM=function(b){return b.pixelHeight<=c.M},c.heightL=function(b){return b.pixelHeight<=c.L},c.heightXL=function(b){return b.pixelHeight<=c.XL},c.heightXXL=function(b){return b.pixelHeight<=c.XXL},c.isXXS=function(b){return b.pixelWidth<=c.XXS&&b.pixelHeight<=
c.XXS},c.isXS=function(b){return b.pixelWidth<=c.XS&&b.pixelHeight<=c.XS},c.isS=function(b){return b.pixelWidth<=c.S&&b.pixelHeight<=c.S},c.isM=function(b){return b.pixelWidth<=c.M&&b.pixelHeight<=c.M},c.isL=function(b){return b.pixelWidth<=c.L&&b.pixelHeight<=c.L},c.isXL=function(b){return b.pixelWidth<=c.XL&&b.pixelHeight<=c.XL},c.isXXL=function(b){return b.pixelWidth<=c.XXL&&b.pixelHeight<=c.XXL},c.maybeXXS=function(b){return b.pixelWidth<=c.XXS||b.pixelHeight<=c.XXS},c.maybeXS=function(b){return b.pixelWidth<=
c.XS||b.pixelHeight<=c.XS},c.maybeS=function(b){return b.pixelWidth<=c.S||b.pixelHeight<=c.S},c.maybeM=function(b){return b.pixelWidth<=c.M||b.pixelHeight<=c.M},c.maybeL=function(b){return b.pixelWidth<=c.L||b.pixelHeight<=c.L},c.maybeXL=function(b){return b.pixelWidth<=c.XL||b.pixelHeight<=c.XL},c.maybeXXL=function(b){return b.pixelWidth<=c.XXL||b.pixelHeight<=c.XXL},c.XXS=100,c.XS=200,c.S=300,c.M=400,c.L=600,c.XL=800,c.XXL=1E3,c}(),Lb=function(c){function b(){var a=c.call(this)||this;return a.adapter=
new Qa(a),a._disabled=!1,a.hasProperties=!1,a.values={},a.categories={},a.dates={},a.locations={},a.workingLocations={},a.properties={},a.sprites=[],a.isTemplate=!1,a._index=null,a._visible=!0,a._hidden=!1,a._ignoreMinMax=!1,a.hasChildren={},a.isHiding=!1,a._valueAnimations={},a._locationAnimations={},a.className="DataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hc(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(a){a&&(this.hidden=!1);this._visible!=a&&this.setVisibility(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hidden",{get:function(){return this._hidden},set:function(a){this._hidden!=
a&&(this._hidden=a,a?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"__disabled",{get:function(){return this._disabled},set:function(a){this._disabled=a;J(this.sprites,function(d){d.__disabled=a})},enumerable:!0,configurable:!0}),b.prototype.setVisibility=function(a,d){(J(this.sprites,function(d){a?d.visible=d.defaultState.properties.visible:d.hiddenState?d.visible=d.hiddenState.properties.visible:d.visible=!1}),this._visible=a,
this.events.isEnabled("visibilitychanged"))&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:a})},b.prototype.show=function(a,d,b){var c,e=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),b&&J(b,function(b){c=e.setWorkingValue(b,e.values[b].value,a,d)}),J(this.sprites,function(b){b=b.show(a);null==b||b.isFinished()||(e._disposers.push(b),null!=d&&0<d&&b.delay(d))}),c},
b.prototype.dispose=function(){c.prototype.dispose.call(this);J(this.sprites,function(a){a.dispose()});this.sprites=[]},b.prototype.hide=function(a,d,b,c){var e=this;if(this.isHiding=!0,J(this.sprites,function(b){b=b.hide(a);null==b||b.isFinished()||(e._disposers.push(b),null!=d&&0<d&&b.delay(d))}),l(b)&&c){var f;if(J(c,function(c){(c=e.setWorkingValue(c,b,a,d))&&(f=c)}),f&&!f.isFinished())return this._hideDisposer=f.events.on("animationended",function(){e.setVisibility(!1,!0);e.isHiding=!1}),this._disposers.push(this._hideDisposer),
f;this.isHiding=!1;this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},b.prototype.getDuration=function(a){if(!l(a)){var d=this.component;d&&(a=d.interpolationDuration)}if(null!=a)return this.adapter.apply("duration",a)},b.prototype.getValue=function(a,d){if(a&&this.component)return d||(d=this.component.dataFields[a+"Show"])||(d="value"),d=this.values[a][d],this.adapter.isEnabled("value")?this.adapter.apply("value",{value:d,field:a}).value:d},b.prototype.getWorkingValue=function(a){if(a&&
this.component){var d=this.component.dataFields[a+"Show"];return d||(d="workingValue"),this.adapter.apply("workingValue",{workingValue:this.values[a][d],field:a}).workingValue}},b.prototype.getActualWorkingValue=function(a){return this.values[a].workingValue},b.prototype.setValue=function(a,d,b,c){var e=this.values[a].value;b=this.getDuration(b);e!==(d=R(d))&&((this.values[a].value=d,this.events.isEnabled("valuechanged"))&&this.events.dispatchImmediately("valuechanged",{type:"valuechanged",target:this,
property:a}),this.component&&this.component.handleDataItemValueChange(this,a));this.setWorkingValue(a,d,b,c)},b.prototype.setCalculatedValue=function(a,d,b){this.values[a][b]!==d&&l(d)&&((this.values[a][b]=d,this.events.isEnabled("calculatedvaluechanged"))&&this.events.dispatchImmediately("calculatedvaluechanged",{type:"calculatedvaluechanged",target:this,property:a}),this.component&&this.component.handleDataItemCalculatedValueChange(this,a))},b.prototype.setWorkingValue=function(a,d,b,c){if(l(this.values[a].value)){b=
this.getDuration(b);var e=this.values[a].workingValue;if(null!=b&&0<b&&l(e)&&this.component){if(e!=d)return d=this.animate({childObject:this.values[a],property:"workingValue",from:e,to:d,dummyData:a},b,this.component.interpolationEasing),null!=c&&d.delay(c),d.events.on("animationstarted",this.handleInterpolationProgress,this),d.events.on("animationprogress",this.handleInterpolationProgress,this),d.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[a]=d,d;(f=this._valueAnimations[a])&&
f.stop();this.values[a].workingValue=d}else{var f;((f=this._valueAnimations[a])&&f.stop(),this.values[a].workingValue=d,this.events.isEnabled("workingvaluechanged"))&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:a});this.component&&this.component.handleDataItemWorkingValueChange(this,a)}}},b.prototype.setLocation=function(a,d,b,c){this.locations[a]!==d&&((this.locations[a]=d,this.events.isEnabled("locationchanged"))&&this.events.dispatchImmediately("locationchanged",
{type:"locationchanged",target:this,property:a}),this.component&&this.component.handleDataItemValueChange(this,a),this.setWorkingLocation(a,d,b,c))},b.prototype.setWorkingLocation=function(a,d,b,c){b=this.getDuration(b);var e=this.workingLocations[a];if(null!=b&&0<b&&l(e)&&this.component){if(e!=d)return d=this.animate({childObject:this.workingLocations,property:a,from:e,to:d,dummyData:a},b,this.component.interpolationEasing),null!=c&&d.delay(c),d.events.on("animationstarted",this.handleInterpolationProgress,
this),d.events.on("animationprogress",this.handleInterpolationProgress,this),d.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[a]=d,d;(f=this._locationAnimations[a])&&f.stop();this.workingLocations[a]=d}else{var f;((f=this._locationAnimations[a])&&f.stop(),this.workingLocations[a]=d,this.events.isEnabled("workinglocationchanged"))&&this.events.dispatchImmediately("workinglocationchanged",{type:"workinglocationchanged",target:this,property:a});this.component&&
this.component.handleDataItemWorkingLocationChange(this,a)}},b.prototype.setDate=function(a,d,b){!lc(d)&&this.component&&(d=this.component.dateFormatter.parse(d));this.dates[a]!==d&&(this.dates[a]=d,this.setValue(a,d.getTime(),b))},b.prototype.getDate=function(a){return this.adapter.apply("date",{date:this.dates[a],field:a}).date},b.prototype.setProperty=function(a,d){this.properties[a]!==d&&((this.hasProperties=!0,this.properties[a]=d,this.events.isEnabled("propertychanged"))&&this.events.dispatchImmediately("propertychanged",
{type:"propertychanged",target:this,property:a,value:d}),this.component&&this.component.handleDataItemPropertyChange(this,a))},b.prototype.setCategory=function(a,d){Y(d)||(d=Ic(d));this.categories[a]!==d&&(this.categories[a]=d)},b.prototype.clone=function(a){a=c.prototype.clone.call(this,a);return a.copyFrom(this),a},b.prototype.copyFrom=function(a){var d=this;c.prototype.copyFrom.call(this,a);a.dataContext&&(this.dataContext=Ih(a.dataContext,{}));nb(a.locations,this.locations);nb(a.properties,this.properties);
nb(a.categories,this.categories);nb(a.values,this.values);nb(a.dates,this.dates);K(a.values,function(a,b){d.values[a]=oh(b)});this.adapter.copyFrom(a.adapter);this.events.copyFrom(a.events);this.component=a.component},Object.defineProperty(b.prototype,"opacity",{set:function(a){J(this.sprites,function(d){d.opacity=a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(a){(this._ignoreMinMax=a,this.events.isEnabled("propertychanged"))&&
this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:"ignoreMinMax",value:a});this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),b.prototype.animate=function(a,d,b){return(new ib(this,a,d,b)).start()},b.prototype.handleInterpolationProgress=function(a){if(a=a.target.animationOptions[0])this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",
target:this,property:a.dummyData}),this.component&&this.component.handleDataItemWorkingValueChange(this,a.dummyData)},b.prototype.hasValue=function(a){for(var d=0,b=a.length;d<b;d++){var c=this.values[a[d]];if(!c||null==c.value)return!1}return!0},Object.defineProperty(b.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dataContext",{get:function(){return this._dataContext},set:function(a){this._dataContext=
a},enumerable:!0,configurable:!0}),b.prototype.addSprite=function(a){a.dataItem&&a.dataItem!=this&&N(a.dataItem.sprites,a);this.visible||a.hide(0);this.isHiding&&a.hide();this.sprites.push(a);a.dataItem=this},b}(qb),ec=function(c){function b(){var a=c.call(this)||this;return a.dataFields={},a._dataSources={},a._parseDataFrom=0,a._dataDisposers=[],a._start=0,a._end=1,a.skipRangeEvent=!1,a.rangeChangeDuration=0,a.rangeChangeEasing=ac,a.parsingStepDuration=50,a.dataInvalid=!1,a.rawDataInvalid=!1,a.dataRangeInvalid=
!1,a.dataItemsInvalid=!1,a.interpolationDuration=0,a.interpolationEasing=ac,a.sequencedInterpolation=!0,a.sequencedInterpolationDelay=0,a.dataValidationProgress=0,a._addAllDataItems=!0,a.className="Component",a.minZoomCount=1,a._dataItems=new $f(a.createDataItem()),a._dataItems.events.on("inserted",a.handleDataItemAdded,a,!1),a._dataItems.events.on("removed",a.handleDataItemRemoved,a,!1),a._disposers.push(new da(a._dataItems)),a._disposers.push(a._dataItems.template),a.invalidateData(),a.dataUsers.events.on("inserted",
a.handleDataUserAdded,a,!1),a._disposers.push(new ja(a._dataDisposers)),a._start=0,a._end=1,a.maxZoomDeclination=1,a.applyTheme(),a}return m(b,c),b.prototype.createDataItem=function(){return new Lb},b.prototype.handleDataUserAdded=function(a){a.newValue.dataProvider=this},b.prototype.handleDataItemValueChange=function(a,d){this.dataItemsInvalid||this.invalidateDataItems()},b.prototype.handleDataItemWorkingValueChange=function(a,d){},b.prototype.handleDataItemWorkingLocationChange=function(a,d){},
b.prototype.handleDataItemCalculatedValueChange=function(a,d){},b.prototype.handleDataItemPropertyChange=function(a,d){},b.prototype.processDataItem=function(a,d){var b=this;if(a){d||(d={});a.dataContext=d;var c=!1;K(this.dataFields,function(e,f){f=d[f];if(b.adapter.isEnabled("dataContextValue")&&(f=b.adapter.apply("dataContextValue",{field:e,value:f,dataItem:a}).value),a.hasChildren[e]){if(null!=f){c=!0;var h=b.createDataItem();h.copyFrom(b.dataItems.template);h=new $f(h);h.events.on("inserted",
b.handleDataItemAdded,b,!1);h.events.on("removed",b.handleDataItemRemoved,b,!1);b._dataDisposers.push(new da(h));for(var k=f.length,g=0;g<k;g++){var x=f[g],l=h.create();l.parent=a;b.processDataItem(l,x)}a[e]=h}}else null!=f&&(c=!0,a[e]=f)});K(this.propertyFields,function(b,e){e=d[e];null!=e&&(c=!0,a.setProperty(b,e))});this._addAllDataItems||c||this.dataItems.remove(a)}},b.prototype.updateDataItem=function(a){var d=this;if(a){var b=a.dataContext;K(this.dataFields,function(c,e){e=b[e];(e=d.adapter.apply("dataContextValue",
{field:c,value:e,dataItem:a}).value,a.hasChildren[c])?e&&v(a[c].iterator(),function(a){d.updateDataItem(a)}):null!=e&&(a[c]=e)});K(this.propertyFields,function(d,c){c=b[c];null!=c&&a.setProperty(d,c)})}},b.prototype.validateDataElements=function(){for(var a=this.endIndex,d=this.startIndex;d<a;d++){var b=this.dataItems.getIndex(d);b&&this.validateDataElement(b)}},b.prototype.validate=function(){this.validateDataElements();c.prototype.validate.call(this)},b.prototype.validateDataElement=function(a){},
b.prototype.addData=function(a,d){var b=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),a instanceof Array?J(a,function(a){b.data.push(a)}):this.data.push(a),this.inited)this.removeData(d);else if(l(d))for(;0<d;)this.data.shift(),d--;this.invalidateData()},b.prototype.removeData=function(a){if(l(a))for(;0<a;){var d=this.dataItems.getIndex(0);d&&this.dataItems.remove(d);this.dataUsers.each(function(a){var d=a.dataItems.getIndex(0);d&&a.dataItems.remove(d)});this.data.shift();
this._parseDataFrom--;a--}},b.prototype.invalidateData=function(){this.disabled||this.isTemplate||(p.addToInvalidComponents(this),Q.requestFrame(),this.dataInvalid=!0,v(this.dataUsers.iterator(),function(a){a.invalidateDataItems()}))},b.prototype.invalidateDataUsers=function(){v(this.dataUsers.iterator(),function(a){a.invalidate()})},b.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(yb(p.invalidDataItems,this),Q.requestFrame(),this.dataItemsInvalid=!0,v(this.dataUsers.iterator(),
function(a){a.invalidateDataItems()}))},b.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,yb(p.invalidDataRange,this),Q.requestFrame())},b.prototype.validateDataRange=function(){N(p.invalidDataRange,this);this.dataRangeInvalid=!1;this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},b.prototype.sliceData=function(){this._workingStartIndex=
this.startIndex;this._workingEndIndex=this.endIndex},b.prototype.rangeChangeUpdate=function(){this.sliceData();this._prevStartIndex=this.startIndex;this._prevEndIndex=this.endIndex},b.prototype.appendDataItems=function(){for(var a=this.endIndex,d=this.startIndex;d<a;d++)(b=this.dataItems.getIndex(d))&&(b.__disabled=!1);for(d=0;d<this.startIndex;d++)(b=this.dataItems.getIndex(d)).__disabled=!0;for(d=this.endIndex;d<this.dataItems.length;d++){var b;(b=this.dataItems.getIndex(d)).__disabled=!0}},b.prototype.invalidateRawData=
function(){this.disabled||this.isTemplate||(yb(p.invalidRawDatas,this),Q.requestFrame(),this.rawDataInvalid=!0,v(this.dataUsers.iterator(),function(a){a.invalidateRawData()}))},b.prototype.validateRawData=function(){var a=this;N(p.invalidRawDatas,this);v(this.dataItems.iterator(),function(d){d&&a.updateDataItem(d)})},b.prototype.dispose=function(){this.dataItems.template.clones.clear();c.prototype.dispose.call(this)},b.prototype.disposeData=function(){this.inited&&(this.dataItems.template.clones.clear(),
J(this._dataDisposers,function(a){a.dispose()}),v(this.dataUsers.iterator(),function(a){a.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.dataItems.clear(),this.dataItems.template.clones.clear())},b.prototype.getDataItem=function(a){return this.dataItems.create()},b.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,p.removeFromInvalidComponents(this),this.dataValidationProgress=0,this._prevStartIndex=
void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem)this._data=this.dataItem.dataContext[this.dataFields.data];if(0===this._parseDataFrom&&0<this.data.length&&this.disposeData(),0<this.data.length){var a=this.preloader;v(this.dataUsers.iterator(),function(a){a._startIndex=void 0;a._endIndex=void 0});for(var d=0,b=Date.now(),c=this._parseDataFrom,h=this.data.length,k=function(){var e=n.data[c],f=n.getDataItem(e);if((n.processDataItem(f,
e),n.dataUsers.each(function(a){if(0==a.data.length){var d=a.getDataItem(e);a.processDataItem(d,e)}}),100==++d)&&(d=0,Date.now()-b>n.parsingStepDuration&&c<n.data.length-10))return n._parseDataFrom=c+1,a&&(.5<c/n.data.length&&!a.visible||(a.progress=c/n.data.length)),n.dataValidationProgress=c/n.data.length,c=n.data.length,n.invalidateData(),{value:void 0}},n=this;c<h;c++){var q=k();if("object"==typeof q)return q.value}a&&(a.progress=1);this.dataUsers.each(function(a){a.hidden&&a.hide(0)})}this.dataValidationProgress=
1;this._parseDataFrom=0;this.invalidateDataItems();this._internalDefaultsApplied||this.applyInternalDefaults();this.dispatch("datavalidated")},b.prototype.validateDataItems=function(){N(p.invalidDataItems,this);this.dataItemsInvalid=!1;this.invalidateDataRange();this.invalidate();this.dispatch("dataitemsvalidated")},Object.defineProperty(b.prototype,"data",{get:function(){return this._data||(this._data=[]),this.adapter.apply("data",this._data)},set:function(a){this.setData(a)},enumerable:!0,configurable:!0}),
b.prototype.setData=function(a){this._parseDataFrom=0;this.disposeData();(this._data=a)&&0<a.length&&this.invalidateData()},b.prototype.getDataSource=function(a){var d=this;return null!=this._dataSources[a]||(this._dataSources[a]=new ni,this._dataSources[a].component=this,this.setDataSourceEvents(this._dataSources[a],a),this._dataSources[a].adapter.add("dateFields",function(a){return d.dataSourceDateFields(a)}),this._dataSources[a].adapter.add("numberFields",function(a){return d.dataSourceNumberFields(a)}),
this.events.on("inited",function(){d.loadData(a)},this,!1)),this._dataSources[a]},Object.defineProperty(b.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(a){var d=this;this._dataSources.data&&this.removeDispose(this._dataSources.data);this._dataSources.data=a;this._dataSources.data.component=this;this.events.on("inited",function(){d.loadData("data")},this,!1);this.setDataSourceEvents(a,"data")},enumerable:!0,configurable:!0}),
b.prototype.loadData=function(a){this._dataSources[a].load()},b.prototype.dataSourceDateFields=function(a){return a},b.prototype.dataSourceNumberFields=function(a){return a},b.prototype.populateDataSourceFields=function(a,d,b){return J(b,function(b){d[b]&&-1===eb(a,d[b])&&a.push(d[b])}),a},b.prototype.setDataSourceEvents=function(a,d){var b=this;a.events.on("started",function(a){(a=b.preloader)&&(a.progress=0)},void 0,!1);a.events.on("loadstarted",function(a){(a=b.preloader)&&(a.progress=.25)},void 0,
!1);a.events.on("loadended",function(a){(a=b.preloader)&&(a.progress=.5)},void 0,!1);a.events.on("parseended",function(a){(a=b.preloader)&&(a.progress=.75)},void 0,!1);a.events.on("ended",function(a){(a=b.preloader)&&(a.progress=1)},void 0,!1);a.events.on("error",function(a){var d=b.preloader;d&&(d.progress=1);b.openModal(a.message)},void 0,!1);d&&a.events.on("done",function(c){var e=b.preloader;e&&(e.progress=1);"data"!=d||ya(c.data)||(c.data=[c.data]);a.incremental&&"data"==d&&b.data.length?b.addData(c.data,
a.keepCount?c.data.length:0):b[d]=c.data})},Object.defineProperty(b.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Pi,this._responsive.component=this),this._responsive},set:function(a){this._responsive=a;this._responsive.component=this},enumerable:!0,configurable:!0}),b.prototype.zoom=function(a,d,b,c){var e=this;void 0===d&&(d=!1);void 0===b&&(b=!1);var f=a.start,n=a.end;a=a.priority;if(l(c)||(c=this.maxZoomDeclination),!l(f)||!l(n))return{start:this.start,
end:this.end};if(this._finalStart!=f||this._finalEnd!=n){var q=this.maxZoomFactor/this.minZoomCount;if("start"==a?(1/(n-f)>q&&(n=f+1/q),1<n&&n-f<1/q&&(f=n-1/q)):(1/(n-f)>q&&(f=n-1/q),0>f&&n-f<1/q&&(n=f+1/q)),f<-c&&(f=-c),1/(n-f)>q&&(n=f+1/q),n>1+c&&(n=1+c),1/(n-f)>q&&(f=n-1/q),this._finalEnd=n,this._finalStart=f,this.skipRangeEvent=d,0<this.rangeChangeDuration&&!b){if((d=this.rangeChangeAnimation)&&1>d.progress&&(d=d.animationOptions,1<d.length&&d[0].to==f&&d[1].to==n))return{start:f,end:n};this.dispatchImmediately("rangechangestarted");
this.rangeChangeAnimation&&this.rangeChangeAnimation.kill();(this.rangeChangeAnimation=d=this.animate([{property:"start",to:f},{property:"end",to:n}],this.rangeChangeDuration,this.rangeChangeEasing))&&!d.isFinished()?d.events.on("animationended",function(){e.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=f,this.end=n}return{start:f,end:n}},b.prototype.zoomToIndexes=function(a,d,b,c){l(a)&&l(d)&&this.zoom({start:a/this.dataItems.length,end:d/
this.dataItems.length},b,c)},Object.defineProperty(b.prototype,"zoomFactor",{get:function(){return B(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(a){this.setPropertyValue("maxZoomFactor",a)&&(1==a&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxZoomDeclination",
{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(a){this.setPropertyValue("maxZoomDeclination",a)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startIndex",{get:function(){return l(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(a){this._startIndex=B(Math.round(a),0,this.dataItems.length);this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),b.prototype.indexToPosition=
function(a){return a/this.dataItems.length},Object.defineProperty(b.prototype,"endIndex",{get:function(){return l(this._endIndex)||(this._endIndex=this.dataItems.length),this._endIndex},set:function(a){this._endIndex=B(Math.round(a),0,this.dataItems.length);this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"start",{get:function(){return this._start},set:function(a){this._start!=a&&(this._start=a,this._startIndex=Math.min(Math.max(0,Math.floor(this.dataItems.length*
a)||0),this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"end",{get:function(){return this._end},set:function(a){this._end!=a&&(this._end=a,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*a)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},
enumerable:!0,configurable:!0}),b.prototype.removeFromInvalids=function(){c.prototype.removeFromInvalids.call(this);p.removeFromInvalidComponents(this);N(p.invalidDataItems,this);N(p.invalidDataRange,this);N(p.invalidRawDatas,this)},Object.defineProperty(b.prototype,"dataItems",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),b.prototype._updateDataItemIndexes=function(a){for(var d=this.dataItems.values,b=d.length;a<b;++a)d[a]._index=a},b.prototype.handleDataItemAdded=function(a){a.newValue.component=
this;this._updateDataItemIndexes(a.index);this.dataItemsInvalid||this.invalidateDataItems()},b.prototype.handleDataItemRemoved=function(a){this._updateDataItemIndexes(a.index);this.dataItemsInvalid||this.invalidateDataItems()},Object.defineProperty(b.prototype,"dataMethods",{get:function(){return this._dataMethods||(this._dataMethods=new ga),this._dataMethods},enumerable:!0,configurable:!0}),b.prototype.bindDataField=function(a,d){this.dataFields[a]=d;this.invalidateDataRange()},b.prototype.invalidateProcessedData=
function(){this.resetProcessedRange();this.invalidateDataRange()},b.prototype.resetProcessedRange=function(){this._prevStartIndex=this._prevEndIndex=null},Object.defineProperty(b.prototype,"dataUsers",{get:function(){var a=this;return this._dataUsers||(this._dataUsers=new S,this._disposers.push(new X(function(){v(a._dataUsers.iterator(),function(a){a.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),b.prototype.clone=function(){var a=c.prototype.clone.call(this);return a.dataFields=
nb(this.dataFields,{}),a},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.data=a.data;this.sequencedInterpolation=a.sequencedInterpolation;this.sequencedInterpolationDelay=a.sequencedInterpolationDelay;this.interpolationDuration=a.interpolationDuration;this.interpolationEasing=a.interpolationEasing},b.prototype.reinit=function(){this._inited=!1;this.deepInvalidate()},b.prototype.getExporting=function(){var a=c.prototype.getExporting.call(this);return a.adapter.has("data",this._exportData,
null,this)||(a.adapter.add("data",this._exportData,null,this),this.events.on("datavalidated",function(d){a.menu&&a.menu.invalidate();a.handleDataUpdated()})),a},b.prototype._exportData=function(a){return a.data=this.data,a},b.prototype.setDisabled=function(a){a=c.prototype.setDisabled.call(this,a);return a&&this.invalidateData(),a},b.prototype.setShowOnInit=function(a){a!=this.getPropertyValue("showOnInit")&&(!a||this.inited||this.hidden?this._showOnInitDisposer2&&this._showOnInitDisposer2.dispose():
(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2)));c.prototype.setShowOnInit.call(this,a)},b.prototype.setBaseId=function(a){a!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,p.removeFromInvalidComponents(this),this._baseId=a,this.invalidateData());c.prototype.setBaseId.call(this,a)},Object.defineProperty(b.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(a){this.setPropertyValue("minZoomCount",
a)},enumerable:!0,configurable:!0}),b.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},b}(I);p.registeredClasses.Component=ec;var Ua=function(c){function b(){var a=c.call(this)||this;return a.isOversized=!1,a.className="Label",a.fill=(new W).getFor("text"),a.wrap=!1,a.truncate=!1,a.fullWords=!0,a.ellipsis="...",a.textAlign="start",a.textValign="top",a.layout="absolute",a.baseLineRatio=-.27,a.adapter.add("readerTitle",function(d){return d||
(d=a.populateString(Vd(Vc(a.html)?a.html:a.text))),d}),a.events.on("maxsizechanged",function(){a.inited&&a.handleMaxSize()},a,!1),a.events.once("validated",a.handleValidate,a,!1),a.applyTheme(),a}return m(b,c),b.prototype.afterDraw=function(){c.prototype.afterDraw.call(this);this.validatePosition()},b.prototype.setPaper=function(a){a=c.prototype.setPaper.call(this,a);return a&&this.hardInvalidate(),a},b.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||
p.events.once("exitframe",this.hardInvalidate,this)},b.prototype.handleMaxSize=function(){this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized?this.invalidate():this.alignSVGText()},b.prototype.arrange=function(){},b.prototype.updateCurrentText=function(){var a,d;Vc(this.html)&&this.paper.supportsForeignObject()?(a="html",d=this.html):(a="svg",d=this.text);
null!=d&&""!==d&&(d=this.populateString(d,this.dataItem));var b=(d="html"==a?this.adapter.apply("htmlOutput",d):this.adapter.apply("textOutput",d))!=this.currentText||a!=this._currentFormat;return this.currentText=d,this._currentFormat=a,b},b.prototype.hardInvalidate=function(){this._prevStatus="";this.invalidate()},b.prototype.getLineBBox=function(a){a.bbox=a.element.getBBox()},b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.bbox.width,d=this.bbox.height,b=this.topParent;if(!b||
b.maxWidth&&b.maxHeight){var b=T(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),f=T(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),h=f+","+b+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=h){this._measuredHeight=this._measuredWidth=0;this.isOversized=!1;var k=this._currentFormat,n=this.currentText;if(null!=n&&""!=n){var q=n.split("\n");this._prevStatus=h;this.textAlign=this.textAlign;
h=this.group.getAttr("display");if("none"==h&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===k){this.element.removeAttr("display");k=this.element;this.resetBBox();for(var f=0,n="",g=0;g<q.length;g++){var x=q[g];if(""!=x){var l=vb().chunk(x,null,this.ignoreFormatting),x=0,m=!0,p=!1,E=this.getLineInfo(g);E?E.element.textContent="":(E={element:this.getSVGLineElement("",0),complex:!1},k.add(E.element));E.element.removeAttr("display");E.element.removeChildren();
this.textPathElement&&E.element.add(this.textPathElement);for(var r=0;r<l.length;r++){r&&(E.complex=!0);var t=l[r];if("format"===t.type)n=t.text;else if(!p){E.text=t.text;E.style=vb().translateStyleShortcuts(n);var A=this.getSvgElement(E.text,E.style);if(this.textPathElement?this.textPathElement.add(A):E.element.add(A),this.getLineBBox(E),E.bbox.width=Math.ceil(E.bbox.width),x<E.bbox.height&&(x=E.bbox.height),(this.wrap||this.truncate)&&E.bbox.width>b){this.isOversized=!0;var A=E.element.textContent,
u=E.bbox.width/A.length,v=ba(Math.ceil((E.bbox.width-b)/u),A.length);if(this.truncate){if(m=!1,(A=E.element.node)&&A.childNodes)for(t=E.element.node.childNodes.length-1;0<=t;t--){var w=E.element.node.childNodes[t];if(m&&E.bbox.width<=b&&(w.textContent+=" "+this.ellipsis,E.bbox=E.element.getBBox(),E.bbox.width=Math.floor(E.bbox.width),E.bbox.width<=b))break;for(var m=!1,G=w.textContent,A=E.element.textContent,v=ba(Math.ceil((E.bbox.width-b)/u),A.length);E.bbox.width>b&&v<=A.length&&0<v;)1>=(p=T(G.length-
v-this.ellipsis.length,1))&&(v=0,0<t&&(m=!0,E.element.node.removeChild(w))),(G=Td(G,p,this.ellipsis,this.fullWords,this.rtl)).length>p&&this.fullWords&&(G=Td(G,p,this.ellipsis,!1,this.rtl)),w.textContent=G,E.bbox=E.element.getBBox(),E.bbox.width=Math.floor(E.bbox.width),v=Math.ceil(1.1*v);p=!0}}else if(E.element.node){for(var F=E.element.node.lastChild,u=void 0;E.bbox.width>b&&v<=A.length&&0<v;)p=T(t.text.length-v,1),m?u=Rd(t.text,p,!0,this.rtl):((u=Rd(t.text,p,!0,this.rtl))[0].length>p||1===p)&&
(E.element.node.removeChild(F),v=0),0<v&&(F.textContent=vb().cleanUp(pf(u.shift()))),E.bbox=E.element.getBBox(),E.bbox.width=Math.floor(E.bbox.width),v=Math.ceil(1.1*v);if(0<u.length){A="";null!=u&&(this.rtl?A+=u.join("")+n:A+=n+u.join(""));for(u=r+1;u<l.length;u++)A+=l[u].text;q.splice(g+1,0,A)}p=!0}}this.bbox.width<E.bbox.width&&(this.bbox.width=E.bbox.width);this.bbox.height=f+x;this.textPathElement?E.element.attr({dy:-this.paddingBottom.toString()}):E.element.attr({x:"0",y:f+x,dy:D(this.baseLineRatio*
x,3).toString()});m=!1}}(l=E.element.node)&&(F=l.lastChild)&&(F.textContent=this.rtl?Lh(F.textContent):Kh(F.textContent));f+=x;this.addLineInfo(E,g)}else x=this.getSVGLineElement("",0),x.add(this.getSvgElement(".",vb().translateStyleShortcuts(n))),k.add(x),E=Math.ceil(x.getBBox().height),0<E&&(f+=E),k.removeElement(x)}this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),
this.isOversized=!1));this._measuredWidth=T(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight);this._measuredHeight=T(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);this.alignSVGText();this.bbox.width=this._measuredWidth;this.bbox.height=this._measuredHeight;d==this._measuredHeight&&a==this._measuredWidth||this.dispatch("transformed");this.hideUnused(q.length)}else this.element.removeAttr("display"),this.resetBBox(),(k=this.element).removeChildren(),
a=this.paper.foreignObject(),k.add(a),d=this.getHTMLLineElement(n),a.node.appendChild(d),d.style.display="inline-block",F=d.clientWidth,q=d.clientHeight,d.style.display="block",this._bbox={x:0,y:0,width:F,height:q},a.attr({width:F,height:q}),this._measuredWidth=T(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=T(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,
this.truncate&&(d.style.overflow="hidden"),(F>b||q>f)&&(this.isOversized=!0);this.setStyles();this.updateCenter();this.updateBackground();"none"==h&&this.group.attr({display:"none"});this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:"none"})}}else b.events.once("maxsizechanged",this.hardInvalidate,this,!1)},b.prototype.alignSVGText=function(){var a=this.element;if((a=a.node.children||a.node.childNodes)&&(!a||0!=a.length)){var b=this._measuredWidth,c=this._measuredHeight;
this.pixelPaddingLeft;this.pixelPaddingRight;this.pixelPaddingTop;this.pixelPaddingBottom;for(var f=a.length-1;0<=f;f--){var h=a[f];if(h.setAttribute("text-anchor",this.textAlign),this.textPathElement)h.removeAttribute("x"),h.removeAttribute("y");else{switch(this.textAlign){case "middle":h.setAttribute("x",(b/2).toString()+"px");break;case "end":this.rtl||h.setAttribute("x",b.toString());break;default:this.rtl?h.setAttribute("x",b.toString()):h.removeAttribute("text-anchor")}var k=R(h.getAttribute("y"));
switch(this.textValign){case "middle":h.setAttribute("y",(k+(c-this.bbox.height)/2).toString());break;case "bottom":h.setAttribute("y",(k+c-this.bbox.height).toString());break;default:h.setAttribute("y",k.toString())}}}}},b.prototype.getSVGLineElement=function(a,b){var d=this.paper.addGroup("text");return d.textContent=a,d.attr({x:"0"}),null!=b&&d.attr({y:b.toString()}),(this.truncate||this.wrap)&&d.attr({overflow:"hidden"}),this.rtl&&d.attr({direction:"rtl"}),d},b.prototype.resetBBox=function(){this._bbox=
{x:0,y:0,width:0,height:0}},b.prototype.getHTMLLineElement=function(a){var b=document.createElement("div");switch(b.innerHTML=a,this.textAlign){case "middle":b.style.textAlign="center";break;case "end":b.style.textAlign="right"}return this.wrap?b.style.wordWrap="break-word":b.style.whiteSpace="nowrap",this.rtl&&(b.style.direction="rtl"),null!=this.fill&&(b.style.color=this.fill.toString()),b},b.prototype.setStyles=function(){var a=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?
a.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(a.removeStyle("webkitUserSelect"),a.removeStyle("msUserSelect"))},b.prototype.hideUnused=function(a){this.initLineCache();var b=this.getCache("lineInfo");if(b.length>=a)for(;a<b.length;a++){var c=b[a];c&&c.element&&c.element.attr({display:"none"})}},Object.defineProperty(b.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(a){this.setPropertyValue("text",a,!0)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(a){this.setPropertyValue("path",a,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:a}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS("http://www.w3.org/1999/xlink",
"xlink:href","#text-path-"+this.uid),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(a){this.setPropertyValue("locationOnPath",a);this.textPathElement&&this.textPathElement.attr({startOffset:100*a+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},
set:function(a){this.setPropertyValue("baseLineRatio",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(a){this.resetBBox();this.setPropertyValue("wrap",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(a){this.resetBBox();this.setPropertyValue("truncate",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(a){this.setPropertyValue("fullWords",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(a){this.setPropertyValue("ellipsis",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(a){this.setPropertyValue("selectable",
a,!0);this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(a){this.setPropertyValue("textAlign",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(a){this.setPropertyValue("textValign",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"html",{get:function(){return this.getPropertyValue("html")},
set:function(a){this.setPropertyValue("html",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(a){this.setPropertyValue("hideOversized",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(a){this.setPropertyValue("ignoreFormatting",a,!0)},enumerable:!0,configurable:!0}),
b.prototype.measureElement=function(){},b.prototype.getLineInfo=function(a){this.initLineCache();var b=this.getCache("lineInfo");return b.length>a?b[a]:void 0},b.prototype.addLineInfo=function(a,b){this.initLineCache();this.getCache("lineInfo")[b]=a},b.prototype.initLineCache=function(){null!=this.getCache("lineInfo")||this.setCache("lineInfo",[],0)},b.prototype.setDataItem=function(a){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose();a&&(this._sourceDataItemEvents=new ja([a.events.on("valuechanged",
this.invalidate,this,!1),a.events.on("workingvaluechanged",this.invalidate,this,!1),a.events.on("calculatedvaluechanged",this.invalidate,this,!1),a.events.on("propertychanged",this.invalidate,this,!1)]));c.prototype.setDataItem.call(this,a)},Object.defineProperty(b.prototype,"availableWidth",{get:function(){return null!=this.maxWidth?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"availableHeight",{get:function(){return null!=this.maxHeight?this.maxHeight:
this.pixelHeight},enumerable:!0,configurable:!0}),b.prototype.getSvgElement=function(a,b){var d=this.paper.add("tspan");return d.textContent=a,b&&d.node.setAttribute("style",b),d},b.prototype.deepInvalidate=function(){c.prototype.deepInvalidate.call(this);this.hardInvalidate()},b}(I);p.registeredClasses.Label=Ua;Ba.push({relevant:Ha.heightXS,state:function(c,b){return c instanceof Ua&&c.parent&&c.parent.isBaseSprite?(c=c.states.create(b),c.properties.disabled=!0,c):null}});var rb=function(c){function b(){var a=
c.call(this)||this;return a.className="RoundedRectangle",a.element=a.paper.add("path"),a.cornerRadius(3,3,3,3),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.innerWidth,b=this.innerHeight;if(l(a)&&l(b)){var e=ba(a,b)/2,f=fa(this.cornerRadiusTopLeft,e),h=fa(this.cornerRadiusTopRight,e),k=fa(this.cornerRadiusBottomRight,e),e=fa(this.cornerRadiusBottomLeft,e),n=ba(Math.abs(a/2),Math.abs(b/2)),f=B(f,0,n),h=B(h,0,n),k=B(k,0,n),e=B(e,0,n);this.path="M"+
f+",0 L"+(a-h)+",0"+(" a"+h+","+h+" 0 0 1 "+h+","+h)+(" L"+a+","+(b-k))+(" a"+k+","+k+" 0 0 1 -"+k+","+k)+(" L"+e+","+b)+(" a"+e+","+e+" 0 0 1 -"+e+",-"+e)+(" L0,"+f)+(" a"+f+","+f+" 0 0 1 "+f+",-"+f)+" Z"}},b.prototype.cornerRadius=function(a,b,c,f){this.cornerRadiusTopLeft=a;this.cornerRadiusTopRight=b;this.cornerRadiusBottomLeft=c;this.cornerRadiusBottomRight=f},Object.defineProperty(b.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(a){this.setPercentProperty("cornerRadiusTopLeft",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(a){this.setPercentProperty("cornerRadiusTopRight",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(a){this.setPercentProperty("cornerRadiusBottomRight",a,!0)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(a){this.setPercentProperty("cornerRadiusBottomLeft",a,!0)},enumerable:!0,configurable:!0}),b.prototype.measureElement=function(){},Object.defineProperty(b.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),
b}(M);p.registeredClasses.RoundedRectangle=rb;var fc=function(c){function b(){var a=c.call(this)||this;a.className="Button";a.tooltipY=0;a.iconPosition="left";a.layout="horizontal";a.contentAlign="center";a.contentValign="middle";a.padding(8,16,8,16);var b=new W,e=a.background;e.fill=b.getFor("secondaryButton");e.stroke=b.getFor("secondaryButtonStroke");e.fillOpacity=1;e.strokeOpacity=1;e.cornerRadius(3,3,3,3);a.label=new Ua;a.label.fill=b.getFor("secondaryButtonText");var f=e.states.create("hover");
f.properties.fillOpacity=1;f.properties.fill=b.getFor("secondaryButtonHover");e=e.states.create("down");return e.transitionDuration=100,e.properties.fill=b.getFor("secondaryButtonDown"),e.properties.fillOpacity=1,a.role="button",a.focusable=!0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"icon",{get:function(){return this.getPropertyValue("icon")},set:function(a){var b=this.getPropertyValue("icon");b&&(b.parent=void 0);a&&(this.setPropertyValue("icon",a),a.parent=this,a.interactionsEnabled=
!1,this.iconPosition=this.iconPosition,this._disposers.push(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(a){this.setPropertyValue("iconPosition",a);this.icon&&("left"==a?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"label",{get:function(){return this._label},set:function(a){this._label&&this.removeDispose(this._label);(this._label=
a)&&(a.parent=this,a.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),b.prototype.createBackground=function(){return new rb},b}(I);p.registeredClasses.Button=fc;var gc=function(c){function b(){var a=c.call(this)||this;return a.className="Circle",a.element=a.paper.add("circle"),a.setPercentProperty("radius",t(100)),a.setPropertyValue("horizontalCenter","middle"),a.setPropertyValue("verticalCenter","middle"),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);
this.element.attr({r:this.pixelRadius})},Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelRadius",{get:function(){return fa(this.radius,ba(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),b.prototype.measureElement=function(){var a=this.pixelRadius;this._bbox={x:-a,y:-a,width:2*a,height:2*a}},
b}(M);p.registeredClasses.Circle=gc;var ne=function(c){function b(){var a=c.call(this)||this;return a.className="Ellipse",a.element=a.paper.add("ellipse"),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);this.element.attr({rx:this.radius});this.element.attr({ry:this.radiusY})},Object.defineProperty(b.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(a){this.height=2*a;this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"radius",{get:function(){return this.innerWidth/2},set:function(a){this.width=2*a;this.invalidate()},enumerable:!0,configurable:!0}),b}(gc);p.registeredClasses.Ellipse=ne;var pi=function(c){function b(){var a=c.call(this)||this;return a.className="Image",a.element=a.paper.add("image"),a.applyTheme(),a.width=50,a.height=50,a}return m(b,c),b.prototype.draw=function(){if(c.prototype.draw.call(this),this.href){var a=this.innerWidth,b=this.innerHeight;l(this.widthRatio)&&(a=b*this.widthRatio,this.width=
a);l(this.heightRatio)&&(b=a*this.heightRatio,this.height=b);this.element.attr({width:a,height:b});this.element.attrNS("http://www.w3.org/1999/xlink","xlink:href",this.href)}},Object.defineProperty(b.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(a){this.setPropertyValue("href",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(a){this.setPropertyValue("widthRatio",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(a){this.setPropertyValue("heightRatio",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),b}(M);p.registeredClasses.Image=pi;var hb=function(c){function b(){var a=c.call(this)||this;return a.className=
"Line",a.element=a.paper.add("line"),a.fill=L(),a.x1=0,a.y1=0,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1;this.x1=this.x1;this.x2=this.x2;this.y1=this.y1;this.y2=this.y2},Object.defineProperty(b.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(a){l(a)||(a=0);var b=0;this.pixelPerfect&&this.stroke instanceof bb&&(b=1E-5);this.setPropertyValue("x1",a,
!0);this.element.attr({x1:a+b})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"x2",{get:function(){var a=this.getPropertyValue("x2");return l(a)||(a=this.pixelWidth),a},set:function(a){l(a)||(a=0);this.setPropertyValue("x2",a,!0);this.element.attr({x2:a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(a){l(a)||(a=0);var b=0;this.pixelPerfect&&this.stroke instanceof bb&&(b=1E-5);this.setPropertyValue("y1",
a,!0);this.element.attr({y1:a+b})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"y2",{get:function(){var a=this.getPropertyValue("y2");return l(a)||(a=this.pixelHeight),a},set:function(a){l(a)||(a=0);this.setPropertyValue("y2",a,!0);this.element.attr({y2:a})},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){var b={x:this.x1,y:this.y1},c={x:this.x2,y:this.y2};a=Mc(b,c,a);b=Ea(b,c);return{x:a.x,y:a.y,angle:b}},b}(M);p.registeredClasses.Line=hb;var ri=function(c){function b(){var a=
c.call(this)||this;return a.className="PointedShape",a.pointerBaseWidth=15,a.pointerLength=10,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);l(this.pointerX)||(this.pointerX=this.pixelWidth/2);l(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(b.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(a){this.setPropertyValue("pointerBaseWidth",a,!0)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(a){this.setPropertyValue("pointerLength",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(a){this.setPropertyValue("pointerX",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(a){this.setPropertyValue("pointerY",
a,!0)},enumerable:!0,configurable:!0}),b}(M),qi=function(c){function b(){var a=c.call(this)||this;return a.className="PointedRectangle",a.element=a.paper.add("path"),a.cornerRadius=0,a.cornerRadius=6,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.cornerRadius,b=this.innerWidth,e=this.innerHeight;if(0<b&&0<e){var f,h,k=this.pointerX,n=this.pointerY,q=this.pointerBaseWidth/2,g=ba(b/2,e/2),x=B(a,0,g),l=B(a,0,g),m=B(a,0,g),a=B(a,0,g),p=g=void 0,E=void 0,
r=void 0,p=(k-0)*(e-0)-(n-0)*(b-0),t=(k-0)*(0-e)-(n-e)*(b-0),g=0<p&&0<t?"M"+x+",0 L"+((f=B(k,x+q,b-q-l))-q)+",0 L"+k+","+(n=B(n,-1/0,0))+" L"+(f+q)+",0 L"+(b-l)+",0":"M"+x+",0 L"+(b-l)+",0",E=0>p&&0>t?" L"+(b-m)+","+e+" L"+((f=B(k,a+q,b-q-m))+q)+","+e+" L"+k+","+(n=B(n,e,1/0))+" L"+(f-q)+","+e+" L"+a+","+e:" L"+a+","+e,r=0>p&&0<t?" L0,"+(e-a)+" L0,"+((h=B(n,x+q,e-a-q))+q)+" L"+(k=B(k,-1/0,0))+","+n+" L0,"+(h-q)+" L0,"+x:" L0,"+x,p=0<p&&0>t?" L"+b+","+l+" L"+b+","+((h=B(n,l+q,e-q-m))-q)+" L"+(k=B(k,
b,1/0))+","+n+" L"+b+","+(h+q)+" L"+b+","+(e-m):" L"+b+","+(e-m);this.path=g+(" a"+l+","+l+" 0 0 1 "+l+","+l)+p+(" a"+m+","+m+" 0 0 1 -"+m+","+m)+E+(" a"+a+","+a+" 0 0 1 -"+a+",-"+a)+r+(" a"+x+","+x+" 0 0 1 "+x+",-"+x)}},Object.defineProperty(b.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(a){this.setPropertyValue("cornerRadius",a,!0)},enumerable:!0,configurable:!0}),b}(ri),xc=function(c){function b(){var a=c.call(this)||this;return a._distance=
0,a.className="Polyline",a.element=a.paper.add("path"),a.shapeRendering="auto",a.fill=L(),a.strokeOpacity=1,a.applyTheme(),a}return m(b,c),b.prototype.makePath=function(){this._distance=0;var a=this.segments;if(a&&0<a.length){for(var b="",c=0,f=a.length;c<f;c++){var h=a[c];if(0<h.length)for(var b=b+z(h[0]),k=1;k<h.length;k++){var n=h[k],b=b+u(n);this._distance+=Z(h[k-1],n)}}this.path=b}this._realSegments=a},Object.defineProperty(b.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},
set:function(a){this.setPropertyValue("segments",a);this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){var b=0;0>a&&(a=Math.abs(a),b=180);var c=this._realSegments;if(c){for(var f=this.distance,h=0,k=0,n=0,q=void 0,g=void 0,x=0;x<c.length;x++){var l=c[x];if(1<l.length)for(var m=1;m<l.length;m++){if(k=h/f,n=(h+=Z(q=l[m-1],g=l[m]))/f,k<=a&&n>a){x=c.length;
break}}else 1==l.length&&(q=l[0],g=l[0],k=0,n=1)}if(q&&g)return a=Mc(q,g,(a-k)/(n-k)),{x:a.x,y:a.y,angle:b+Ea(q,g)}}return{x:0,y:0,angle:0}},b}(M);p.registeredClasses.Polyline=xc;var si=function(c){function b(){var a=c.call(this)||this;return a.className="Polyarc",a.controlPointDistance=.5,a.controlPointPosition=.5,a.applyTheme(),a}return m(b,c),b.prototype.makePath=function(){this._distance=0;var a=this.segments;if(a&&0<a.length){var b="";this._realSegments=[];for(var c=0,f=a.length;c<f;c++){var h=
a[c],k=[];if(this._realSegments.push(k),0<h.length)for(var b=b+z(h[0]),n=1;n<h.length;n++){var q=h[n-1],g=h[n],x=Z(g,q),l=x*this.controlPointDistance,m=this.controlPointPosition,p=-Ea(q,g),r={x:q.x+(g.x-q.x)*m*.5-l*G(p),y:q.y+(g.y-q.y)*m*.5-l*F(p)},l={x:q.x+(g.x-q.x)*m*1.5-l*G(p),y:q.y+(g.y-q.y)*m*1.5-l*F(p)},b=b+ed(g,r,l),x=Math.ceil(x),m=q;if(0<x)for(p=0;p<=x;p++){var t=Te(q,g,r,l,p/x);k.push(t);this._distance+=Z(m,t);m=t}else k.push(q)}}this.path=b}},Object.defineProperty(b.prototype,"controlPointPosition",
{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(a){this.setPropertyValue("controlPointPosition",a);this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(a){this.setPropertyValue("controlPointDistance",a);this.makePath()},enumerable:!0,configurable:!0}),b}(xc);p.registeredClasses.Polyarc=si;var Oi=function(c){function b(a){var b=c.call(this)||
this;return b._bboxes=[],b.morphDuration=800,b.morphEasing=ac,b.morphToSingle=!0,b.scaleRatio=1,b.className="Morpher",b.morphable=a,b.applyTheme(),b}return m(b,c),b.prototype.morphToPolygon=function(a,b,c){var d=this.morphable.currentPoints;if(d&&a)return this.sortPoints(d),this.sortPoints(a),this._morphFromPointsReal=[],this._morphToPointsReal=[],null!=b||(b=this.morphDuration),null!=c||(c=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(a,d),this._morphToPointsReal=this.normalizePoints(d,
a),this.morphable.currentPoints=this._morphFromPointsReal,a=new ib(this,{property:"morphProgress",from:0,to:1},b,c),this._disposers.push(a),a.start(),a},b.prototype.normalizePoints=function(a,b){for(var d=0,c=a.length;d<c;d++){var h=a[d][0],k=a[d][1],n=ca(mc(h)),g=n.x+n.width,n=n.y+n.height;if(b[d]||(b[d]=[]),h&&!b[d][0]&&(b[d][0]=[{x:g,y:n},{x:g,y:n}]),b[d][0]){b[d][0]=this.addPoints(b[d][0],h.length);for(var y=1/0,x=0,l=0;l<b[d][0].length;l++){var m=Z(b[d][0][l],h[0]);m<y&&(x=l,y=m)}h=b[d][0].slice(0,
x);x=b[d][0].slice(x);b[d][0]=x.concat(h)}k&&(b[d][1]||(b[d][1]=[{x:g,y:n},{x:g,y:n}]),b[d][1]=this.addPoints(b[d][1],k.length))}return b},b.prototype.sortPoints=function(a){a.sort(function(a,b){a=ca(mc(a[0]));b=ca(mc(b[0]));return a.width*a.height>b.width*b.height?-1:1});for(var b=[],c=0,f=a.length;c<f;c++){var h=a[c][0];h&&b.push(ca(mc(h)))}return nc(b)},b.prototype.morphToCircle=function(a,b,c){var d=this.morphable.points,e=this.sortPoints(d);this._morphFromPointsReal=[];this._morphToPointsReal=
[];null!=b||(b=this.morphDuration);null!=c||(c=this.morphEasing);for(var k=0,n=d.length;k<n;k++){var g=d[k][0],y=d[k][1];if(this._morphFromPointsReal[k]=[],this._morphToPointsReal[k]=[],g){var x=g,m=g,x=ca(mc(m));this.morphToSingle&&(x=ca(e));var p=x.x+x.width/2,r=x.y+x.height/2,E=a;l(E)||(E=Math.min(x.width/2,x.height/2));var x=[],t=Ea({x:p,y:r},g[0]),u=100;g.length>u&&(u=g.length);for(var g=360/((u=(m=this.addPoints(g,u)).length)-1),A=0;A<u;A++){var v=g*A+t,v={x:p+E*F(v),y:r+E*G(v)};x[A]=v}if(y&&
0<y.length)for(E=0,y=y.length;E<y;E++)x.push({x:p,y:r});this._morphFromPointsReal[k][0]=m;this._morphToPointsReal[k][0]=x}}this.morphable.currentPoints=this._morphFromPointsReal;a=new ib(this,{property:"morphProgress",from:0,to:1},b,c);return this._disposers.push(a),a.start(),a},b.prototype.addPoints=function(a,b){for(var d=Math.round(b/a.length),c=[],h=0,k=a.length;h<k;h++){var n=a[h],g=void 0,g=h==a.length-1?a[0]:a[h+1];c.push(n);for(var y=1;y<d;y++){var l=y/d;c.push({x:n.x+(g.x-n.x)*l,y:n.y+(g.y-
n.y)*l})}c.length+a.length-h==b&&(d=0)}if(c.length<b&&0<a.length)for(a=a[a.length-1],y=c.length;y<b;y++)c.push({x:a.x,y:a.y});return c},b.prototype.morphToRectangle=function(a,b,c,f){var d=this.morphable.points;this.sortPoints(d);this._morphFromPointsReal=[];this._morphToPointsReal=[];null!=c||(c=this.morphDuration);null!=f||(f=this.morphEasing);for(var e=0,n=d.length;e<n;e++){var g=d[e][0],y=d[e][1];if(this._morphFromPointsReal[e]=[],this._morphToPointsReal[e]=[],g){var x=g,m=g,p=this._bboxes[e];
this.morphToSingle;var r=p.x,E=p.y,t=a,u=b;if(l(t)||(t=p.width),l(u)||(u=p.height),x=[{x:r,y:E},{x:r+t,y:E},{x:r+t,y:E+u},{x:r,y:E+u}],x=this.addPoints(x,g.length),4>g.length)for(r=g.length;4>r;r++)x.push({x:g[r].x,y:g[r].y});if(y&&0<y.length)for(g=p.x+p.width/2,p=p.y+p.height/2,r=0,y=y.length;r<y;r++)x.push({x:g,y:p});this._morphFromPointsReal[e][0]=m;this._morphToPointsReal[e][0]=x}}this.morphable.currentPoints=this._morphFromPointsReal;a=new ib(this,{property:"morphProgress",from:0,to:1},c,f);
return this._disposers.push(a),a.start(),a},Object.defineProperty(b.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(a){this._morphProgress=a;var b=[];if(null!=a){var c=this._morphFromPointsReal,f=this._morphToPointsReal;if(null!=c&&null!=f)for(var h=0,k=c.length;h<k;h++){var n=[];b.push(n);var g=c[h][0],y=c[h][1],l=f[h][0],m=f[h][1];if(g&&0<g.length&&l&&0<l.length){for(var p=[],r=0,t=g.length;r<t;r++){var u=g[r],v=l[r],u={x:u.x+(v.x*this.scaleRatio-u.x)*a,y:u.y+
(v.y*this.scaleRatio-u.y)*a};p.push(u)}n[0]=p}if(y&&0<y.length&&m&&0<m.length){g=[];l=0;for(p=y.length;l<p;l++)u=y[l],v=m[l],u={x:u.x+(v.x*this.scaleRatio-u.x)*a,y:u.y+(v.y*this.scaleRatio-u.y)*a},g.push(u);n[1]=g}}}this.morphable.currentPoints=b},enumerable:!0,configurable:!0}),b.prototype.morphBack=function(a,b){this._morphToPointsReal=this._morphFromPointsReal;this._morphFromPointsReal=this.morphable.currentPoints;null!=a||(a=this.morphDuration);null!=b||(b=this.morphEasing);a=new ib(this,{property:"morphProgress",
from:0,to:1},a,b);return this._disposers.push(a),a.start(),a},Object.defineProperty(b.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hc(this._animations))),this._animations},enumerable:!0,configurable:!0}),b}(La),ti=function(c){function b(){var a=c.call(this)||this;return a.className="Polygon",a.element=a.paper.add("path"),a.shapeRendering="auto",a._currentPoints=[],a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"points",
{get:function(){var a=this.getPropertyValue("points"),b=this.path;if(b&&(!a||0==a.length)){for(var b=b.slice(1,b.length-1).split("ZM"),c=0;c<b.length;c++){var f=b[c];if(0<f.length){var h=f.split("M"),f=h[0],k=h[1];if(f&&0<f.length){var n=f.split("L");if(0<n.length){var g=[],f=[g];a.push(f);for(h=0;h<n.length;h++){var y=n[h].split(",");g.push({x:Number(y[0]),y:Number(y[1])})}if(k&&0<k.length&&(k=k.split("L"),0<k.length))for(n=[],f.push(n),h=k.length-1;0<=h;h--)y=k[h].split(","),n.push({x:Number(y[0]),
y:Number(y[1])})}}}}this.setPropertyValue("points",a);this._currentPoints=a}return a},set:function(a){this.setPropertyValue("points",a,!0);this._currentPoints=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(a){this._currentPoints!=a&&(this._currentPoints=a,this.draw())},enumerable:!0,configurable:!0}),b.prototype.draw=
function(){var a,b,e,f,h="",k=this._currentPoints;if(0<k.length){for(var n=0,g=k.length;n<g;n++){var y=k[n][0],x=k[n][1];if(y&&0<y.length)for(var h=h+z(p=y[0]),m=0;m<y.length;m++)h+=u(p=y[m]),(!l(b)||b<p.x)&&(b=p.x),(!l(a)||a>p.x)&&(a=p.x),(!l(e)||e>p.y)&&(e=p.y),(!l(f)||f<p.y)&&(f=p.y);if(x&&0<x.length)for(var p,h=h+z(p=x[0]),y=0,m=x.length;y<m;y++)h+=u(p=x[y])}h&&(h+=" Z");this.bbox.x=a;this.bbox.y=e;this.bbox.width=b-a;this.bbox.height=f-e;c.prototype.setPath.call(this,h)}},b.prototype.setPath=
function(a){return!!c.prototype.setPath.call(this,a)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},b.prototype.measureElement=function(){},Object.defineProperty(b.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Oi(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),
b}(M);p.registeredClasses.Polygon=ti;var ld=function(c){function b(){var a=c.call(this)||this;return a.className="Polyspline",a.tensionX=.5,a.tensionY=.5,a.applyTheme(),a}return m(b,c),b.prototype.makePath=function(){this._distance=0;var a=this.segments,b=this.tensionX,c=this.tensionY;if(a&&0<a.length){var f="";this._realSegments=[];for(var h=0,k=a.length;h<k;h++){var n=a[h],g=[];if(this._realSegments.push(g),0<n.length)for(var f=f+z(n[0]),y=0;y<n.length-1;y++){var l=n[y-1],m=n[y],p=n[y+1],r=n[y+
2];0===y?l=n[y]:y==n.length-2&&(r=n[y+1]);r||(r=p);var t=Ue(l,m,p,0,b,c),r=Ve(0,m,p,r,b,c),f=f+ed(p,t,r),u=Math.ceil(Z(m,p))/2,v=m;if(0<u)for(l=0;l<=u;l++){var A=Te(m,p,t,r,l/u);g.push(A);this._distance+=Z(v,A);v=A}else g.push(l)}}this.path=f}},Object.defineProperty(b.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(a){this.setPropertyValue("tensionX",a);this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},
set:function(a){this.setPropertyValue("tensionY",a,!0);this.makePath()},enumerable:!0,configurable:!0}),b}(xc);p.registeredClasses.Polyspline=ld;var Mb=function(c){function b(){var a=c.call(this)||this;return a.className="Slice",a.setPropertyValue("cornerRadius",0),a.setPropertyValue("startAngle",0),a.setPercentProperty("innerRadius",0),a.setPercentProperty("radius",0),a.setPropertyValue("arc",0),a.setPropertyValue("shiftRadius",0),a.strokeOpacity=1,a.setPropertyValue("layout","none"),a.slice=a.createChild(M),
a.slice.isMeasured=!1,a._disposers.push(a.slice),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.radiusY;0<this.radius&&0==a&&(a=.01);this.slice.path=cc(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,a,this.cornerRadius,this.innerCornerRadius);this.slice.invalidate();this.shiftRadius=this.shiftRadius;this.realFill instanceof Db&&this.updateGradient(this.realFill);this.realStroke instanceof Db&&this.updateGradient(this.realStroke)},b.prototype.updateGradient=
function(a){a.element.attr({gradientUnits:"userSpaceOnUse"});a.element.attr({r:this.radius});a.cx=0;a.cy=0;a.element.attr({radius:this.radius})},Object.defineProperty(b.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?nc([kb(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),kb(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},
set:function(a){this.setPropertyValue("startAngle",Hb(a),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(a){l(a)||(a=0);this.setPropertyValue("arc",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){var a=this.getPropertyValue("radius");return l(a)||(a=0),a},set:function(a){this.setPropertyValue("radius",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"radiusY",{get:function(){var a=this.getPropertyValue("radiusY");return l(a)||(a=this.radius),a},set:function(a){this.setPropertyValue("radiusY",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelInnerRadius",{get:function(){return fa(this.innerRadius,this.radius)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(a){this.setPropertyValue("cornerRadius",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(a){this.setPropertyValue("innerCornerRadius",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shiftRadius",
{get:function(){return this.getPropertyValue("shiftRadius")},set:function(a){this.setPropertyValue("shiftRadius",a);this.dx=a*this.radius*this.ix;this.dy=a*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ix",{get:function(){return F(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iy",{get:function(){return this.radius,G(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"middleAngle",{get:function(){return this.startAngle+
this.arc/2},enumerable:!0,configurable:!0}),b.prototype.getTooltipX=function(){var a=this.getPropertyValue("tooltipX");l(a)||(a=fa(this.innerRadius,this.radius),a=this.ix*(a+(this.radius-a)/2));return a},b.prototype.getTooltipY=function(){var a=this.getPropertyValue("tooltipY");l(a)||(a=fa(this.innerRadius,this.radius),a=this.iy*(a+(this.radius-a)/2));return a},b}(I);p.registeredClasses.Slice=Mb;var Lf=function(c){function b(){var a=c.call(this)||this;a.className="Preloader";a.width=t(100);a.height=
t(100);var b=new W,e=a.createChild(I);e.shouldClone=!1;var f=e.createChild(Mb);f.shouldClone=!1;f.radius=53;f.arc=360;f.fill=b.getFor("fill");f.fillOpacity=.8;f.innerRadius=42;f.isMeasured=!1;a.backgroundSlice=f;f=e.createChild(Mb);f.shouldClone=!1;f.radius=50;f.innerRadius=45;f.fill=b.getFor("alternativeBackground");f.fillOpacity=.2;f.isMeasured=!1;a.progressSlice=f;f=e.createChild(Ua);return f.shouldClone=!1,f.horizontalCenter="middle",f.verticalCenter="middle",f.isMeasured=!1,f.fill=b.getFor("text"),
f.align="center",f.valign="middle",f.fillOpacity=.4,a.label=f,a.background.opacity=1,a.background.fill=b.getFor("background"),a.contentAlign="center",a.contentValign="middle",a.delay=300,a.states.create("hidden").properties.opacity=0,a.visible=!1,a.hide(0),a.__disabled=!0,a._disposers.push(a.backgroundSlice),a._disposers.push(a.progressSlice),a._disposers.push(a.label),a._disposers.push(e),a}return m(b,c),Object.defineProperty(b.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},
set:function(a){var b=this;this.__disabled=!1;this.validateLayout();this.setPropertyValue("progress",a);this.progressSlice.arc=360*a;this.label&&(this.label.text=Math.round(100*a)+"%");1<=a?(this._started&&(this._started=void 0),p.events.once("enterframe",function(){var a=b.hide();a&&!a.isFinished()?a.events.once("animationended",function(){b.__disabled=!0}):b.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):0<a&&(this.delay?this._started?this._started+this.delay<=
(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(a){this.setPropertyValue("delay",a)},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.Preloader=Lf;var oe=function(c){function b(){var a=c.call(this)||this;a.className="ResizeButton";
a.orientation="horizontal";a.layout="absolute";a.horizontalCenter="middle";a.verticalCenter="middle";a.draggable=!0;a.padding(8,8,8,8);a.background.cornerRadius(20,20,20,20);var b=new M;b.element=a.paper.add("path");var e=z({x:-2,y:-6});return e+=u({x:-2,y:6}),e+=z({x:2,y:-6}),e+=u({x:2,y:6}),b.path=e,b.pixelPerfect=!0,b.padding(0,4,0,4),b.stroke=(new W).getFor("alternativeText"),b.strokeOpacity=.7,a.icon=b,a.label.dispose(),a.label=void 0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,
"orientation",{set:function(a){var b=this.icon;b&&(b.rotation="horizontal"==a?0:-90)},enumerable:!0,configurable:!0}),b}(fc);p.registeredClasses.ResizeButton=oe;var pe=function(c){function b(){var a=c.call(this)||this;a._prevStart=0;a._prevEnd=1;a._isBusy=!1;a._skipRangeEvents=!1;a.updateWhileMoving=!0;a.className="Scrollbar";a.minHeight=12;a.minWidth=12;a.animationDuration=0;a.animationEasing=ac;a.margin(10,10,10,10);var b=new W,e=a.background;return e.cornerRadius(10,10,10,10),e.fill=b.getFor("fill"),
e.fillOpacity=.5,a.startGrip=new oe,a.endGrip=new oe,a.events.on("transformed",a.updateThumb,a,!1),a.start=0,a.end=1,a.role="scrollbar",a.thumb.role="slider",a.thumb.readerLive="polite",a.startGrip.role="slider",a.endGrip.role="slider",a.events.once("inited",function(){a._previousStart=void 0;a.dispatchRangeChange()},void 0,!1),a.hideGrips=!1,a.orientation="horizontal",a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);"horizontal"===
this.orientation?(null!=this.readerTitle||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),null!=this.thumb.readerDescription||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),null!=this.startGrip.readerDescription||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),null!=this.endGrip.readerDescription||(this.endGrip.readerDescription=
this.language.translate("Use left and right arrows to move right selection"))):(null!=this.readerTitle||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),null!=this.thumb.readerDescription||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),null!=this.startGrip.readerDescription||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),
null!=this.endGrip.readerDescription||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")))},b.prototype.validateLayout=function(){this.updateSize();c.prototype.validateLayout.call(this);this.updateExtremes()},b.prototype.processBackground=function(){c.prototype.processBackground.call(this);var a=this.background;a.clickable=!0;a.events.on("hit",this.handleBgHit,this,void 0)},b.prototype.handleBgHit=function(a){this.makeBusy();var b=a.spritePoint,
b=Ab(b,this.background,this);a=this.thumb;"horizontal"==this.orientation?(b=b.x-a.pixelWidth/2,b=B(b,0,this.innerWidth-a.pixelWidth),this._thumbAnimation=a.animate({property:"x",to:b},this.animationDuration,this.animationEasing)):(b=b.y-a.pixelHeight/2,b=B(b,0,this.innerHeight-a.pixelHeight),this._thumbAnimation=a.animate({property:"y",to:b},this.animationDuration,this.animationEasing));0<this.animationDuration?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),
this.makeUnbusy())},b.prototype.makeBusy=function(){this._isBusy=!0;this._skipRangeEvents=!1;this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout);this._unbusyTimeout=void 0;this.stopAnimations()},b.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0);this._zoomAnimation&&this._zoomAnimation.stop(!0)},b.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},b.prototype.makeUnbusyReal=
function(){this._usingGrip=void 0;this._isBusy=!1;this.updateWhileMoving||this.dispatchRangeChange()},b.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},b.prototype.updateThumb=function(){if(this.parent){var a=this.thumb,b=this.start,c=this.end,f=this.startGrip,h=this.endGrip;if("horizontal"==this.orientation){var k=this.innerWidth;a.width=k*(c-b);a.maxX=
k-a.pixelWidth;a.x=b*k;f.moveTo({x:a.pixelX,y:0},void 0,void 0,!0);h.moveTo({x:a.pixelX+a.pixelWidth,y:0},void 0,void 0,!0);f.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*b)+"%",position:b}).value);h.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*c)+"%",position:c}).value)}else k=this.innerHeight,a.height=k*(c-b),a.maxY=k-a.pixelHeight,a.y=(1-c)*k,f.moveTo({x:0,y:a.pixelY+
a.pixelHeight},void 0,void 0,!0),h.moveTo({x:0,y:a.pixelY},void 0,void 0,!0),f.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-b))+"%",position:1-b}).value),h.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-c))+"%",position:1-c}).value);a.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*b)+"%",position:b}).value,
this.adapter.apply("positionValue",{value:Math.round(100*c)+"%",position:c}).value);!this._skipRangeEvents&&this.updateWhileMoving&&this.dispatchRangeChange()}},b.prototype.updateExtremes=function(){var a=0,b=0,c=0,f=0;"horizontal"==this.orientation?(c=this.innerWidth,b=f=this.innerHeight/2):(f=this.innerHeight,a=c=this.innerWidth/2);var h=this.startGrip;h.minX=a;h.maxX=c;h.minY=b;h.maxY=f;h=this.endGrip;h.minX=a;h.maxX=c;h.minY=b;h.maxY=f;h=this.thumb;h.minX=a;h.maxX=c;h.minY=b;h.maxY=f},b.prototype.updateSize=
function(){var a=this.orientation,b=this.startGrip;b&&(b.orientation=a);this.endGrip&&(this.endGrip.orientation=a);(b=this.thumb)&&("horizontal"==a?(l(this._pixelWidth)||(this.width=t(100)),null!=this.percentHeight&&(this.height=this.minHeight),b.height=this.innerHeight,b.verticalCenter="middle",b.horizontalCenter="left"):(l(this._pixelHeight)||(this.height=t(100)),null!=this.percentWidth&&(this.width=this.minWidth),b.width=this.innerWidth,b.verticalCenter="top",b.horizontalCenter="middle"))},Object.defineProperty(b.prototype,
"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(a){this._isBusy||(this.__start=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"__start",{get:function(){return this._start},set:function(a){this._start=this.getPosition(a);this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(a){this._isBusy||
(this.__end=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"__end",{get:function(){return this._end},set:function(a){this._end=this.getPosition(a);this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),b.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},b.prototype.fixRange=function(a){a.start==D(this._start,
2)&&a.end==D(this._end,2)||(this._start=a.start,this._end=a.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},b.prototype.getPosition=function(a){return B(D(a,4),0,1)},Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(a){this.setPropertyValue("orientation",a)&&("horizontal"===a?(this.startGrip.cursorOverStyle=Aa.horizontalResize,this.endGrip.cursorOverStyle=
Aa.horizontalResize):(this.startGrip.cursorOverStyle=Aa.verticalResize,this.endGrip.cursorOverStyle=Aa.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),b.prototype.updateByOrientation=function(){},Object.defineProperty(b.prototype,"startGrip",{get:function(){return this._startGrip},set:function(a){this._startGrip&&this.removeDispose(this._startGrip);this._startGrip=a;this.processGrip(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"endGrip",{get:function(){return this._endGrip},set:function(a){this._endGrip&&this.removeDispose(this._endGrip);this._endGrip=a;this.processGrip(a)},enumerable:!0,configurable:!0}),b.prototype.processGrip=function(a){a.parent=this;a.isMeasured=!1;a.focusable=!0;a.shouldClone=!1;a.showSystemTooltip=!0;a.zIndex=100;a.events.on("drag",this.handleGripDrag,this,!1);a.events.on("dragstop",this.makeUnbusy,this,!1);a.events.on("down",this.makeBusy,this,!1);this._disposers.push(a)},b.prototype.handleGripDrag=
function(a){this.makeBusy();a.target===this._startGrip?this._usingGrip="start":this._usingGrip="end";"horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight);this.updateThumb()},Object.defineProperty(b.prototype,"thumb",{get:function(){if(!this._thumb){var a=new fc;a.background.cornerRadius(10,10,10,10);a.padding(0,0,0,0);this.thumb=
a}return this._thumb},set:function(a){var b=this;a&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=a,a.parent=this,a.isMeasured=!1,a.inert=!0,a.draggable=!0,a.clickable=!0,a.hoverable=!0,a.focusable=!0,a.shouldClone=!1,a.zIndex=0,a.cursorOverStyle=Aa.grab,a.cursorDownStyle=Aa.grabbing,a.events.on("dragstart",this.makeBusy,this,!1),a.events.on("dragstop",this.makeUnbusy,this,!1),a.events.on("positionchanged",this.handleThumbPosition,this,!1),a.events.on("sizechanged",this.handleThumbPosition,
this,!1),a.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(C().body.events.on("keyup",function(a){wb.isKey(a.event,["space","enter"])&&b.thumb.isFocused&&(a.event.preventDefault(),b.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),b.prototype.handleDoubleClick=function(){this.makeBusy();var a=0,b=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(a=this._prevStart,b=this._prevEnd);(a=this.animate([{property:"__start",
to:a},{property:"__end",to:b}],this.animationDuration,this.animationEasing))&&!a.isFinished()?(a.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=a):this.makeUnbusy()},b.prototype.handleThumbPosition=function(){var a=this.thumb;if("horizontal"==this.orientation){var b=this.innerWidth,c=a.innerWidth,a=a.pixelX;this._start=a/b;this._end=(a+c)/b}else b=this.innerHeight,c=a.pixelY,this._start=1-(c+a.innerHeight)/b,this._end=1-c/b;this.updateThumb()},b.prototype.createBackground=
function(){return new rb},Object.defineProperty(b.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(a){var b=this;this._hideGrips=a;this._overDisposer&&this.removeDispose(this._overDisposer);this._outDisposer&&this.removeDispose(this._outDisposer);a?(this._overDisposer=this.events.on("over",function(){b.startGrip.show();b.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){b.startGrip.hide();b.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):
(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(a){this.setPropertyValue("animationDuration",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(a){this.setPropertyValue("animationEasing",a)},enumerable:!0,configurable:!0}),
b}(I);p.registeredClasses.Scrollbar=pe;var ui=function(c){function b(){var a=c.call(this)||this;return a.className="Slider",a.thumb.opacity=0,a.thumb.interactionsEnabled=!1,a.endGrip.opacity=0,a.endGrip.interactionsEnabled=!1,a.startGrip.events.on("drag",function(){a.endGrip.x=a.startGrip.x;a.endGrip.y=a.startGrip.y}),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"__end",{get:function(){return this._start},set:function(a){},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"end",{get:function(){return this._start},set:function(a){},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"start",{get:function(){return this._start},set:function(a){this._isBusy||(this.__start=a)},enumerable:!0,configurable:!0}),b}(pe);p.registeredClasses.Slider=ui;var qe=function(c){function b(){var a=c.call(this)||this;a.className="TextLink";a.selectable=!0;var b=new W;return a.fill=b.getFor("primaryButton").brighten(.3),a.states.create("hover").properties.fill=b.getFor("primaryButtonHover").brighten(.3),
a.states.create("down").properties.fill=b.getFor("primaryButtonDown").brighten(.3),a.cursorOverStyle=Aa.pointer,a.applyTheme(),a}return m(b,c),b}(Ua);p.registeredClasses.TextLink=qe;var hc=function(c){function b(){var a=c.call(this)||this;return a.properties={},a.isTemplate=!1,a._scale=1,a._nonScaling=!0,a.className="Filter",a.filterPrimitives=new S,a.filterPrimitives.events.on("inserted",function(b){a._disposers.push(b.newValue)}),a.width=120,a.height=120,a.applyTheme(),a}return m(b,c),b.prototype.appendPrimitives=
function(a){v(this.filterPrimitives.iterator(),function(b){a.add(b)})},b.prototype.animate=function(a,b,c){return(new ib(this,a,b,c)).start()},Object.defineProperty(b.prototype,"width",{get:function(){return this.properties.width},set:function(a){this.properties.width=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.properties.height},set:function(a){this.properties.height=a},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var b=
this;c.prototype.copyFrom.call(this,a);K(a.properties,function(a,d){b[a]=d})},Object.defineProperty(b.prototype,"paper",{get:function(){return this._paper?this._paper:uc()},set:function(a){this._paper!=a&&(this._paper=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hc(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"scale",
{get:function(){return this._scale},set:function(a){this._scale=a;this.updateScale()},enumerable:!0,configurable:!0}),b.prototype.updateScale=function(){},Object.defineProperty(b.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(a){(this._nonScaling=a)||(this._scale=1);this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sprite",{set:function(a){this.setSprite(a)},enumerable:!0,configurable:!0}),b.prototype.setSprite=function(a){this._sprite&&
this._sprite!=a&&this._sprite.filters.removeValue(this);this._sprite=a},b}(La),Vf=function(c){function b(){var a=c.call(this)||this;return a.className="DropShadowFilter",a.color=L("#000"),a.feGaussianBlur=a.paper.add("feGaussianBlur"),a.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),a.filterPrimitives.push(a.feGaussianBlur),a.feOffset=a.paper.add("feOffset"),a.feOffset.attr({result:"offsetBlur"}),a.filterPrimitives.push(a.feOffset),a.feFlood=a.paper.add("feFlood"),a.feFlood.attr({"flood-color":a.color}),
a.filterPrimitives.push(a.feFlood),a.feComposite=a.paper.add("feComposite"),a.feComposite.attr({in2:"offsetBlur",operator:"in"}),a.filterPrimitives.push(a.feComposite),a.feMerge=a.paper.addGroup("feMerge"),a.feMerge.add(a.paper.add("feMergeNode")),a.feMerge.add(a.paper.add("feMergeNode").attr({in:"SourceGraphic"})),a.filterPrimitives.push(a.feMerge),a.width=200,a.height=200,a.blur=1.5,a.dx=3,a.dy=3,a.opacity=.5,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"color",{get:function(){return this.properties.color},
set:function(a){this.properties.color=a;this.feFlood&&this.feFlood.attr({"flood-color":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(a){this.properties.opacity=a;this.feFlood.attr({"flood-opacity":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dx",{get:function(){return this.properties.dx},set:function(a){this.properties.dx=a;this.feOffset.attr({dx:a/this.scale})},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"dy",{get:function(){return this.properties.dy},set:function(a){this.properties.dy=a;this.feOffset.attr({dy:a/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"blur",{get:function(){return this.properties.blur},set:function(a){this.properties.blur=a;this.feGaussianBlur.attr({stdDeviation:a/this.scale})},enumerable:!0,configurable:!0}),b.prototype.updateScale=function(){this.dx=this.dx;this.dy=this.dy;this.blur=this.blur},
b}(hc);p.registeredClasses.DropShadowFilter=Vf;var gd=function(c){function b(){var a=c.call(this)||this;a._boundingRect={x:-4E4,y:-4E4,width:8E4,height:8E4};a._pointTo={x:0,y:0};a.fitPointerToBounds=!1;a._verticalOrientation="up";a.className="Tooltip";a.isMeasured=!1;a.getFillFromObject=!0;a.margin(5,5,5,5);a.defaultState.transitionDuration=1;a.hiddenState.transitionDuration=1;var b=a.background;b.interactionsEnabled=!1;b.fillOpacity=.9;b.strokeWidth=1;b.strokeOpacity=1;b.stroke=L("#ffffff");b.cornerRadius=
3;b.pointerLength=6;b.pointerBaseWidth=10;var e=new Vf;e.dy=1;e.dx=1;e.opacity=.5;b.filters.push(e);a.autoTextColor=!0;b=a.createChild(Ua);return b.shouldClone=!1,a.label=b,b.padding(7,12,4,12),b.interactionsEnabled=!1,b.horizontalCenter="middle",b.fill=L("#ffffff"),a._disposers.push(b),a.label.events.on("sizechanged",a.drawBackground,a),a.label.zIndex=1,a.pointerOrientation="vertical",a.animationDuration=0,a.animationEasing=ac,a.role="tooltip",a.visible=!1,a.opacity=0,a.x=0,a.y=0,a.events.on("visibilitychanged",
a.handleVisibility,a),a.applyTheme(),a}return m(b,c),b.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(b.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(a){this.setPropertyValue("getStrokeFromObject",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(a){this.setPropertyValue("autoTextColor",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(a){var b=this;this.setPropertyValue("keepTargetHover",a,!0)&&a&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(a){b.targetSprite&&b.targetSprite.hoverable&&(b.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(a){b.targetSprite&&b.targetSprite.hoverable&&
(b.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(a){this.setPropertyValue("getFillFromObject",a,!0)},enumerable:!0,configurable:!0}),b.prototype.createBackground=function(){return new qi},Object.defineProperty(b.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(a){this.setPropertyValue("pointerOrientation",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(a){this.setPropertyValue("animationDuration",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(a){this.setPropertyValue("animationEasing",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"html",
{get:function(){return this.label.html},set:function(a){this.label.html!=a&&(this.label.html=a,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"text",{get:function(){return this.label.text},set:function(a){this.label.text!=a&&(this.label.text=a,this.invalidate())},enumerable:!0,configurable:!0}),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.label;a.invalid&&a.validate();var b,e,f=this._pointTo.x,h=this._pointTo.y,k=this._boundingRect,n=a.measuredWidth,
g=a.measuredHeight,y=this.background.pointerLength;if(n>k.width){$d({x:k.x,y:k.y},this.parent);var l=$d({x:k.x+k.width,y:k.y+k.height},this.parent),m=document.body.offsetWidth;document.body.offsetHeight;l.x>m/2?k.x=k.width-n:k.width=k.x+n}"horizontal"==this.pointerOrientation?(e=-g/2,b=f>k.x+k.width/2?-n/2-y:n/2+y):(b=B(0,k.x-f+n/2,k.x-f+k.width-n/2),h>k.y+g+y?(e=-g-y,this._verticalOrientation="up"):(e=y,this._verticalOrientation="down"));e=B(e,k.y-h,k.y+k.height-g-h);a.x=b;a.y=e;this.drawBackground()},
b.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},b.prototype.drawBackground=function(){var a=this.label,b=this.background,c=a.measuredWidth,f=a.measuredHeight,h=this._boundingRect,k=a.pixelY,n=h.x-this._pointTo.x,g=n+h.width,y=h.y-this._pointTo.y,h=y+h.height;b.x=a.pixelX-c/2;b.y=k;b.width=c;b.height=f;this.fitPointerToBounds?(b.pointerX=B(-b.x,n-b.x,g-b.x),b.pointerY=B(-b.y,y-b.y,h-b.y)):(b.pointerX=-b.x,b.pointerY=-b.y);b.validate()},b.prototype.pointTo=function(a,
b){this._pointTo.x==a.x&&this._pointTo.y==a.y||(this._pointTo=a,this.invalidate(),!this.visible||b?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=(new ib(this,[{property:"x",to:a.x,from:this.pixelX},{property:"y",to:a.y,from:this.pixelY}],this.animationDuration,this.animationEasing)).start()))},b.prototype.setBounds=function(a){var b=this._boundingRect;b.x==a.x&&
b.y==a.y&&b.width==a.width&&b.height==a.height||(this._boundingRect=a,this.invalidate())},Object.defineProperty(b.prototype,"boundingContainer",{set:function(a){this._boundingContainer=a;a.events.on("sizechanged",this.updateBounds,this);a.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),b.prototype.updateBounds=function(){var a=this._boundingContainer,a=tf({x:a.pixelX,y:a.pixelY,width:a.maxWidth,height:a.maxHeight},a);this.setBounds(a)},Object.defineProperty(b.prototype,
"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.label.copyFrom(a.label)},b}(I);p.registeredClasses.Tooltip=gd;var Qf=function(c){function b(){var a=c.call(this)||this;return a.className="Trapezoid",a.element=a.paper.add("path"),a.topSide=t(100),a.bottomSide=t(100),a.leftSide=t(100),
a.rightSide=t(100),a.isMeasured=!1,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.pixelWidth,b=this.pixelHeight,e=fa(this.topSide,a),f=fa(this.bottomSide,a),h=fa(this.leftSide,b),k=fa(this.rightSide,b),n=(a-e)/2,g=(b-h)/2,e=a-(a-e)/2,y=(b-k)/2,l=a-(a-f)/2,k=b-(b-k)/2,f=(a-f)/2,h=b-(b-h)/2,m="",p="",r="",t="";null!=this.horizontalNeck&&(r=this.horizontalNeck.value,m=u({x:a*r,y:Math.max(g,y)}),r=u({x:a*r,y:Math.min(k,h)}));null!=this.verticalNeck&&
(a=this.verticalNeck.value,p=u({x:Math.min(e,l),y:b*a}),t=u({x:Math.max(n,f),y:b*a}));this.path=z({x:n,y:g})+m+u({x:e,y:y})+p+u({x:l,y:k})+r+u({x:f,y:h})+t},Object.defineProperty(b.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(a){this.setPercentProperty("topSide",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(a){this.setPercentProperty("bottomSide",
a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(a){this.setPercentProperty("leftSide",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(a){this.setPercentProperty("rightSide",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"horizontalNeck",
{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(a){this.setPropertyValue("horizontalNeck",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(a){this.setPropertyValue("verticalNeck",a,!0)},enumerable:!0,configurable:!0}),b}(M);p.registeredClasses.Trapezoid=Qf;var re=function(c){function b(){var a=c.call(this)||this;return a.className="Triangle",a.element=a.paper.add("path"),
a.direction="top",a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a,b=this.pixelWidth,e=this.pixelHeight;switch(this.direction){case "right":a=z({x:0,y:0})+u({x:b,y:e/2})+u({x:0,y:e})+" Z";break;case "left":a=z({x:b,y:0})+u({x:0,y:e/2})+u({x:b,y:e})+" Z";break;case "bottom":a=z({x:0,y:0})+u({x:b,y:0})+u({x:b/2,y:e})+" Z";break;case "top":a=z({x:b/2,y:0})+u({x:b,y:e})+u({x:0,y:e})+" Z"}this.path=a},Object.defineProperty(b.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},
set:function(a){this.setPropertyValue("direction",a,!0)},enumerable:!0,configurable:!0}),b}(M);p.registeredClasses.Triangle=re;var Cb=function(){function c(b,a){this._tensionX=b;this._tensionY=a}return c.prototype.smooth=function(b){var a=this._tensionX,d=this._tensionY;if(3>b.length||1<=a&&1<=d)return vc(b);var c=b[0],f=b[b.length-1],h=!1;D(c.x,3)==D(f.x)&&D(c.y)==D(f.y)&&(h=!0);for(var c="",f=0,k=b.length-1;f<k;f++){var n=b[f-1],g=b[f],y=b[f+1],l=b[f+2];0===f?n=h?b[b.length-2]:b[f]:f==b.length-
2&&(l=h?b[1]:b[f+1]);c+=ed(y,Ue(n,g,y,0,a,d),Ve(0,g,y,l,a,d))}return c},c}(),jl=function(){function c(b){this._closed=b.closed}return c.prototype.smooth=function(b){var a=this,d=NaN,c=NaN,f=NaN,h=NaN,k=NaN,n=NaN,g=NaN,y=NaN,l=NaN,m=NaN,p=0,r="",t=function(a,b){r+=ed({x:(d+4*c+a)/6,y:(n+4*g+b)/6},{x:(2*d+c)/3,y:(2*n+g)/3},{x:(d+2*c)/3,y:(n+2*g)/3})},v=function(b){var e=b.x;b=b.y;switch(p){case 0:p=1;a._closed?(f=e,y=b):r+=u({x:e,y:b});break;case 1:p=2;a._closed&&(h=e,l=b);break;case 2:if(p=3,a._closed){k=
e;m=b;r+=z({x:(d+4*c+e)/6,y:(n+4*g+b)/6});break}r+=u({x:(5*d+c)/6,y:(5*n+g)/6});default:t(e,b)}d=c;c=e;n=g;g=b};if(J(b,v),this._closed)switch(p){case 1:r+=z({x:f,y:y});r+=" Z";break;case 2:r+=z({x:(f+2*h)/3,y:(y+2*l)/3});r+=u({x:(h+2*f)/3,y:(l+2*y)/3});r+=" Z";break;case 3:v({x:f,y:y}),v({x:h,y:l}),v({x:k,y:m})}else{switch(p){case 3:t(c,g);case 2:r+=u({x:c,y:g})}r+=" Z"}return r},c}(),nd=function(c){function b(){var a=c.call(this)||this;return a.className="WavedCircle",a.element=a.paper.add("path"),
a.waveLength=16,a.waveHeight=4,a.fill=void 0,a.fillOpacity=0,a.tension=.8,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){var a="",b=this.pixelRadius;0<b&&(a=z((c=this.getPoints(b))[0])+(new Cb(this.tension,this.tension)).smooth(c));var c,b=this.pixelInnerRadius;0<b&&((c=this.getPoints(b)).reverse(),a+=z(c[0])+(new Cb(this.tension,this.tension)).smooth(c));this.path=a},b.prototype.getPoints=function(a){for(var b=a*Math.PI*2,c=this.waveHeight/2,f=b/Math.round(b/this.waveLength),h=f/2,k=
[],n=b/f,g=0;g<=n;g++){var y=g*f/b*360,l=(g*f+h)/b*360;k.push({x:(a-c)*F(y),y:(a-c)*G(y)});k.push({x:(a+c)*F(l),y:(a+c)*G(l)})}return k.pop(),k},Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelInnerRadius",{get:function(){return fa(this.innerRadius,ba(this.innerWidth/2,this.innerHeight/
2))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(a){this.setPropertyValue("waveLength",a);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(a){this.setPropertyValue("waveHeight",a);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tension",
{get:function(){return this.getPropertyValue("tension")},set:function(a){this.setPropertyValue("tension",a);this.invalidate()},enumerable:!0,configurable:!0}),b}(gc);p.registeredClasses.WavedCircle=nd;var Nb=function(c){function b(){var a=c.call(this)||this;return a.className="WavedLine",a.element=a.paper.add("path"),a.waveLength=16,a.waveHeight=4,a.tension=.8,a.pixelPerfect=!1,a.fill=L(),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){var a={x:this.x1,y:this.y1},b={x:this.x2,y:this.y2};
this.path=z(a)+fd(a,b,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(b.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(a){this.setPropertyValue("waveLength",a);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(a){this.setPropertyValue("waveHeight",a);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"tension",{get:function(){return this.getPropertyValue("tension")},set:function(a){this.setPropertyValue("tension",a);this.invalidate()},enumerable:!0,configurable:!0}),b}(hb),Rf=function(c){function b(){var a=c.call(this)||this;return a._twaved=!0,a._rwaved=!0,a._bwaved=!0,a._lwaved=!0,a.className="WavedRectangle",a.element=a.paper.add("path"),a.waveLength=16,a.waveHeight=4,a.tension=.8,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.pixelWidth,b=
this._pixelHeight;if(0<a&&0<b){var e={x:0,y:0},f={x:a,y:0},a={x:a,y:b},b={x:0,y:b},h=this.waveLength,k=this.waveHeight,n="",g="",y="",l="";this._twaved&&(n=fd(e,f,h,k,this.tension,!0));this._rwaved&&(l=fd(f,a,h,k,this.tension,!0));this._bwaved&&(y=fd(a,b,h,k,this.tension,!0));this._rwaved&&(g=fd(b,e,h,k,this.tension,!0));this.path=z(e)+n+u(f)+l+u(a)+y+u(b)+g+"z"}},Object.defineProperty(b.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(a){this.setPropertyValue("waveLength",
a);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(a){this.setPropertyValue("waveHeight",a);this.invalidate()},enumerable:!0,configurable:!0}),b.prototype.setWavedSides=function(a,b,c,f){this._twaved=a;this._lwaved=b;this._bwaved=c;this._rwaved=f},Object.defineProperty(b.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(a){this.setPropertyValue("tension",
a);this.invalidate()},enumerable:!0,configurable:!0}),b}(md),Sf=function(c){function b(){var a=c.call(this)||this;a.className="ZoomOutButton";a.padding(9,9,9,9);a.showSystemTooltip=!0;var b=new W,e=a.background;e.cornerRadius(20,20,20,20);e.fill=b.getFor("primaryButton");e.stroke=b.getFor("primaryButtonStroke");e.strokeOpacity=0;e.states.getKey("hover").properties.fill=b.getFor("primaryButtonHover");e.states.getKey("down").properties.fill=b.getFor("primaryButtonActive");e=new M;e.element=a.paper.add("path");
var f=z({x:0,y:0});return f+=u({x:11,y:0}),e.path=f,e.pixelPerfect=!0,e.padding(8,3,8,3),e.stroke=b.getFor("primaryButtonText"),a.icon=e,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Zoom Out"))},b}(fc);p.registeredClasses.ZoomOutButton=Sf;var vi=function(c){function b(){var a=c.call(this)||this;a.className="PlayButton";a.padding(12,12,12,12);a.showSystemTooltip=
!0;var b=new W,e=a.background;e.cornerRadius(25,25,25,25);e.fill=b.getFor("primaryButton");e.stroke=b.getFor("primaryButtonStroke");e.strokeOpacity=0;e.states.getKey("hover").properties.fill=b.getFor("primaryButtonHover");e.states.getKey("down").properties.fill=b.getFor("primaryButtonActive");var f=new re;f.direction="right";f.width=9;f.height=11;f.marginLeft=1;f.marginRight=1;f.horizontalCenter="middle";f.verticalCenter="middle";f.stroke=b.getFor("primaryButtonText");f.fill=f.stroke;a.icon=f;e=new rb;
e.width=11;e.height=11;e.horizontalCenter="middle";e.verticalCenter="middle";e.cornerRadius(0,0,0,0);e.stroke=b.getFor("primaryButtonText");e.fill=f.stroke;a.togglable=!0;b=a.states.create("active");return b.transitionDuration=0,b.properties.icon=e,a.defaultState.transitionDuration=0,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Play"))},b}(fc);p.registeredClasses.PlayButton=
vi;var Uf=function(c){function b(){var a=c.call(this)||this;return a.className="ColorModifier",a.applyTheme(),a}return m(b,c),b.prototype.modify=function(a){return a},b}(La);p.registeredClasses.ColorModifier=Uf;var Qg=function(c){function b(){var a=c.call(this)||this;return a.lightnesses=[],a.brightnesses=[],a.opacities=[],a.offsets=[],a.className="GradientModifier",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(a){this._lightnesses=
a;this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(a){this._brightnesses=a;this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"opacities",{get:function(){return this._opacities},set:function(a){this._opacities=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"offsets",{get:function(){return this._offsets},set:function(a){this._offsets=
a},enumerable:!0,configurable:!0}),b.prototype.modify=function(a){this.gradient.clear();var b=0;this.opacities&&(b=T(b,this.opacities.length));this.lightnesses&&(b=T(b,this.lightnesses.length));this.brightnesses&&(b=T(b,this.brightnesses.length));for(var c,f,h=1,k=0;k<b;k++){var n=a;this.opacities&&l(this.opacities[k])&&(h=this.opacities[k]);this.lightnesses&&l(this.lightnesses[k])&&(c=this.lightnesses[k],f=void 0);this.brightnesses&&l(this.brightnesses[k])&&(f=this.brightnesses[k],c=void 0);l(f)?
n=a.brighten(this.brightnesses[k]):l(c)&&(n=a.lighten(this.lightnesses[k]));this.gradient.addColor(n,h,this.offsets[k])}return this.gradient},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this._offsets=a.offsets;this._brightnesses=a.brightnesses;this._lightnesses=a.lightnesses;this._opacities=a.opacities},b}(Uf);p.registeredClasses.GradientModifier=Qg;var pd=function(c){function b(){var a=c.call(this)||this;return a.className="LinearGradientModifier",a.gradient=new bb,a.applyTheme(),
a}return m(b,c),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.gradient=a.gradient.clone()},b}(Qg);p.registeredClasses.LinearGradientModifier=pd;var wi=function(c){function b(){var a=c.call(this)||this;return a.className="Cone",a.angle=30,a.radius=t(100),a.topRadius=t(100),a.top=a.createChild(ne),a.top.shouldClone=!1,a.bottom=a.createChild(ne),a.bottom.shouldClone=!1,a.body=a.createChild(M),a.body.shouldClone=!1,a.body.setElement(a.paper.add("path")),a.layout="none",a.bodyFillModifier=
new pd,a.bodyFillModifier.lightnesses=[0,-.25,0],a.body.fillModifier=a.bodyFillModifier,a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);ta(this,this.top,wa);ta(this,this.bottom,wa);ta(this,this.body,wa);var a,b,e,f=this.innerWidth,h=this.innerHeight,k=this.bottom,n=this.top,g=this.angle;"horizontal"==this.orientation?(a=h/2,k.y=h/2,n.y=h/2,n.x=f,b=(90-g)/90,e=0,this.bodyFillModifier.gradient.rotation=90):(b=0,e=(90-g)/90,a=f/2,k.y=h,k.x=f/2,n.x=f/2,this.bodyFillModifier.gradient.rotation=
0);g=this.radius.value*a;a*=this.topRadius.value;k.radius=g-g*b;k.radiusY=g-g*e;n.radius=a-a*b;n.radiusY=a-a*e;b="horizontal"==this.orientation?z({x:0,y:h/2-k.radiusY})+ra(-90,-180,k.radius,k.radiusY)+u({x:f,y:h/2+n.radiusY})+ra(90,180,n.radius,n.radiusY)+" Z":z({x:f/2-n.radius,y:0})+ra(180,-180,n.radius,n.radiusY)+u({x:f/2+k.radius,y:h})+ra(0,180,k.radius,k.radiusY)+" Z";this.body.path=b},Object.defineProperty(b.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(a){this.setPropertyValue("angle",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPropertyValue("radius",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(a){this.setPropertyValue("topRadius",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},
set:function(a){this.setPropertyValue("orientation",a,!0)},enumerable:!0,configurable:!0}),b}(I),te=function(c){function b(){var a=c.call(this)||this;return a.className="LightenFilter",a.feColorMatrix=a.paper.add("feColorMatrix"),a.feColorMatrix.attr({type:"matrix"}),a.filterPrimitives.push(a.feColorMatrix),a.lightness=0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(a){this.properties.lightness=a;a+=1;this.feColorMatrix.attr({values:a+
" 0 0 0 0 0 "+a+" 0 0 0 0 0 "+a+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),b}(hc);p.registeredClasses.LightenFilter=te;var xi=function(c){function b(){var a=c.call(this)||this;a.angle=30;a.depth=30;a.className="Rectangle3D";a.layout="none";var b=a.createChild(M);b.shouldClone=!1;b.setElement(a.paper.add("path"));b.isMeasured=!1;a.sideBack=b;a._disposers.push(a.sideBack);b=a.createChild(M);b.shouldClone=!1;b.setElement(a.paper.add("path"));b.isMeasured=!1;a.sideBottom=b;a._disposers.push(a.sideBottom);
b=a.createChild(M);b.shouldClone=!1;b.setElement(a.paper.add("path"));b.isMeasured=!1;a.sideLeft=b;a._disposers.push(a.sideLeft);b=a.createChild(M);b.shouldClone=!1;b.setElement(a.paper.add("path"));b.isMeasured=!1;a.sideRight=b;a._disposers.push(a.sideRight);b=a.createChild(M);b.shouldClone=!1;b.setElement(a.paper.add("path"));b.isMeasured=!1;a.sideTop=b;a._disposers.push(a.sideTop);b=a.createChild(M);return b.shouldClone=!1,b.setElement(a.paper.add("path")),b.isMeasured=!1,a.sideFront=b,a._disposers.push(a.sideFront),
a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.innerWidth,b=this.innerHeight,e=this.depth,f=this.angle,h=G(f),k=F(f),f={x:0,y:0},n={x:a,y:0},g={x:a,y:b},y={x:0,y:b},l={x:e*k,y:-e*h},m={x:e*k+a,y:-e*h},a={x:e*k+a,y:-e*h+b},b={x:e*k,y:-e*h+b};this.sideFront.path=z(f)+u(n)+u(g)+u(y)+" Z";this.sideBack.path=z(l)+u(m)+u(a)+u(b)+" Z";this.sideLeft.path=z(f)+u(l)+u(b)+u(y)+" Z";this.sideRight.path=z(n)+u(m)+u(a)+u(g)+" Z";this.sideBottom.path=z(y)+u(b)+
u(a)+u(g)+" Z";this.sideTop.path=z(f)+u(l)+u(m)+u(n)+" Z"},Object.defineProperty(b.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(a){this.setPropertyValue("depth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(a){this.setPropertyValue("angle",a,!0)},enumerable:!0,configurable:!0}),b.prototype.setFill=function(a){var b;if(c.prototype.setFill.call(this,a),a instanceof
U)b=a.hex;else if(a instanceof bb||a instanceof Db)b=a.stops.getIndex(0).color.hex;else{a=new te;a.lightness=-.2;this.sideBack.filters.push(a);var e=a.clone();e.lightness=-.4;this.sideLeft.filters.push(e);e=a.clone();e.lightness=-.2;this.sideRight.filters.push(e);e=a.clone();e.lightness=-.1;this.sideTop.filters.push(e);a=a.clone();a.lightness=-.5;this.sideBottom.filters.push(a)}b&&(this.sideBack.fill=L(b).lighten(-.2),this.sideLeft.fill=L(b).lighten(-.4),this.sideRight.fill=L(b).lighten(-.2),this.sideTop.fill=
L(b).lighten(-.1),this.sideBottom.fill=L(b).lighten(-.5))},b}(I),yi=function(c){function b(){var a=c.call(this)||this;a.className="Slice3D";a.layout="none";var b=a.createChild(M);a.edge=b;b.shouldClone=!1;b.isMeasured=!1;b.toBack();a.angle=30;a.depth=20;b=a.createChild(M);a.sideA=b;b.shouldClone=!1;b.isMeasured=!1;b=a.createChild(M);return a.sideB=b,b.shouldClone=!1,b.isMeasured=!1,a.applyTheme(),a}return m(b,c),b.prototype.setFill=function(a){var b;(c.prototype.setFill.call(this,a),a instanceof U)?
b=a.hex:a instanceof bb||a instanceof Db?b=a.stops.getIndex(0).color.hex:(a=new te,a.lightness=-.25,this.edge.filters.push(a),this.sideA.filters.push(a.clone()),this.sideB.filters.push(a.clone()));b&&(b=L(b).lighten(-.25),this.edge.fill=b,this.sideA.fill=b,this.sideB.fill=b,this.edge.stroke=b,this.sideA.stroke=b,this.sideB.stroke=b)},b.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,c.prototype.draw.call(this),0!==this.arc&&0<this.radius&&0<this.depth){this.sideB.show(0);
this.sideA.show(0);this.edge.show(0);for(var a=this.startAngle,b=this.arc,e=this.pixelInnerRadius||0,f=this.radiusY||0,h=this.radius,k=a+b,n=f/h*e,g={x:F(a)*e,y:G(a)*n},y={x:F(a)*h,y:G(a)*f},l={x:F(k)*h,y:G(k)*f},k={x:F(k)*e,y:G(k)*n},m=this.depth,p={x:g.x,y:g.y-m},r={x:y.x,y:y.y-m},t={x:l.x,y:l.y-m},v={x:k.x,y:k.y-m},w="",A=Math.ceil(b/5),b=b/A,D=a,C=r,Ia=0;Ia<A;Ia++){if(0<(D+=b)&&180>D)var w=w+z(C),B={x:F(D)*h,y:G(D)*f-m},w=w+u({x:C.x,y:C.y+m}),w=w+Xa({x:B.x,y:B.y+m},h,f,!0),w=w+u(B),w=w+Xa(C,h,
f);else w+=z(C),w+=Xa(B={x:F(D)*h,y:G(D)*f-m},h,f,!0),w+=u({x:B.x,y:B.y+m}),w+=Xa({x:C.x,y:C.y+m},h,f),w+=u(C);w+="z";C=B}C=p;D=a;for(Ia=0;Ia<A;Ia++)0<(D+=b)&&180>D?(w+=z(C),B={x:F(D)*e,y:G(D)*n-m},w+=u({x:C.x,y:C.y+m}),w+=Xa({x:B.x,y:B.y+m},e,n,!0),w+=u(B),w+=Xa(C,e,n)):(w+=z(C),w+=Xa(B={x:F(D)*e,y:G(D)*n-m},e,n,!0),w+=u({x:B.x,y:B.y+m}),w+=Xa({x:C.x,y:C.y+m},e,n),w+=u(C)),w+="z",C=B;this.edge.path=w;this.sideA.path=z(g)+u(y)+u(r)+u(p)+" Z";this.sideB.path=z(l)+u(k)+u(v)+u(t)+" Z";90>this.startAngle?
this.sideA.toBack():this.sideA.toFront();90<this.startAngle+this.arc?this.sideB.toBack():this.sideB.toFront();this.slice.dy=-m}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(b.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(a){this.setPropertyValue("depth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){var a=this.getPropertyValue("angle");return l(a)||(a=0),a},set:function(a){this.setPropertyValue("angle",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radiusY",{get:function(){var a=this.getPropertyValue("radiusY");return l(a)||(a=this.radius-this.radius*this.angle/90),a},set:function(a){this.setPropertyValue("radiusY",a,!0)},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.edge.copyFrom(a.edge);this.sideA.copyFrom(a.sideA);this.sideB.copyFrom(a.sideB)},b}(Mb),Gi=function(c){function b(){var a=c.call(this)||this;return a.className=
"RadialGradientModifier",a.gradient=new Db,a.applyTheme(),a}return m(b,c),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.gradient=a.gradient.clone()},b}(Qg);p.registeredClasses.RadialGradientModifier=Gi;var Hi=function(c){function b(){var a=c.call(this)||this;return a._line=a.paper.add("line"),a.addElement(a._line),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);this._line&&this._line.attr({x2:2*this.width})},b}(zc);p.registeredClasses.LinePattern=
Hi;var Ii=function(c){function b(){var a=c.call(this)||this;return a.rectHeight=1,a.rectWidth=1,a}return m(b,c),b.prototype.draw=function(){this._rect&&this.removeElement(this._rect);this._rect=this.paper.add("rect");this._rect.attr({width:this.rectWidth,height:this.rectHeight});this.addElement(this._rect);c.prototype.draw.call(this)},Object.defineProperty(b.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(a){this.properties.rectWidth=a;this.draw()},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(a){this.properties.rectHeight=a;this.draw()},enumerable:!0,configurable:!0}),b}(zc);p.registeredClasses.RectPattern=Ii;var Ji=function(c){function b(){var a=c.call(this)||this;return a.className="ColorizeFilter",a.feColorMatrix=a.paper.add("feColorMatrix"),a.feColorMatrix.attr({type:"matrix"}),a.filterPrimitives.push(a.feColorMatrix),a.intensity=1,a.applyTheme(),a}return m(b,
c),b.prototype.applyFilter=function(){var a,b,c,f=this.intensity,h=1-f,k=this.color;k&&k.rgb?(a=k.rgb.r/255*f,b=k.rgb.g/255*f,c=k.rgb.b/255*f):(a=0,b=0,c=0);this.feColorMatrix.attr({values:h+" 0 0 0 "+a+" 0 "+h+" 0 0 "+b+" 0 0 "+h+" 0 "+c+" 0 0 0 1 0"})},Object.defineProperty(b.prototype,"color",{get:function(){return this.properties.color},set:function(a){this.properties.color=a;this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"intensity",{get:function(){return this.properties.intensity},
set:function(a){this.properties.intensity=a;this.applyFilter()},enumerable:!0,configurable:!0}),b}(hc);p.registeredClasses.ColorizeFilter=Ji;var qd=function(c){function b(){var a=c.call(this)||this;return a.className="DesaturateFilter",a.feColorMatrix=a.paper.add("feColorMatrix"),a.feColorMatrix.attr({type:"saturate"}),a.filterPrimitives.push(a.feColorMatrix),a.width=120,a.height=120,a.saturation=0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"saturation",{get:function(){return this.properties.saturation},
set:function(a){this.properties.saturation=a;this.feColorMatrix.attr({values:a.toString()})},enumerable:!0,configurable:!0}),b}(hc);p.registeredClasses.DesaturateFilter=qd;var Ki=function(c){function b(){var a=c.call(this)||this;return a.className="BlurFilter",a.feGaussianBlur=a.paper.add("feGaussianBlur"),a.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),a.filterPrimitives.push(a.feGaussianBlur),a.width=200,a.height=200,a.blur=1.5,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,
"blur",{get:function(){return this.properties.blur},set:function(a){this.properties.blur=a;this.feGaussianBlur.attr({stdDeviation:a/this.scale})},enumerable:!0,configurable:!0}),b}(hc);p.registeredClasses.BlurFilter=Ki;var ii=function(c){function b(){var a=c.call(this)||this;return a.className="FocusFilter",a.feFlood=a.paper.add("feFlood"),a.feFlood.attr({"flood-color":(new W).getFor("primaryButtonHover"),result:"base"}),a.filterPrimitives.push(a.feFlood),a.feMorphology=a.paper.add("feMorphology"),
a.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),a.filterPrimitives.push(a.feMorphology),a.feColorMatrix=a.paper.add("feColorMatrix"),a.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),a.filterPrimitives.push(a.feColorMatrix),a.feComposite=a.paper.add("feComposite"),a.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),a.filterPrimitives.push(a.feComposite),a.feBlend=a.paper.add("feBlend"),
a.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),a.filterPrimitives.push(a.feBlend),a.width=130,a.height=130,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(a){this.properties.stroke=a;this.feFlood.attr({"flood-color":a})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(a){this.properties.strokeWidth=a;this.feMorphology.attr({radius:a})},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(a){this.properties.opacity=a;this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+a+" 0"})},enumerable:!0,configurable:!0}),b.prototype.setSprite=function(a){this._sprite&&this._sprite!=a&&this._sprite.group.removeStyle("outline");a.group.addStyle({outline:"none"});c.prototype.setSprite.call(this,a)},b}(hc),Bc=function(c){function b(){var a=c.call(this)||
this;return a._list=[],a._currentStep=0,a._currentPass=0,a.baseColor=new U({r:103,g:183,b:220}),a.stepOptions={},a.passOptions={brighten:-.2},a.step=1,a.minColors=20,a.minLightness=.2,a.maxLightness=.9,a.shuffle=!1,a.wrap=!0,a.reuse=!1,a.saturation=1,a.className="ColorSet",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(a){this._list=a;this.reset()},enumerable:!0,configurable:!0}),b.prototype.getReusableColor=
function(a){return 0==this._list.length?(this.generate(1),this.list[0]):this.list[a-Math.floor(a/this._list.length)*this.list.length]},b.prototype.next=function(){var a;return this.list.length<=this._currentStep?this.reuse?a=this.getReusableColor(this._currentStep):(this.generate(this.minColors),a=this.list[this._currentStep]):a=this.list[this._currentStep],this._currentStep+=this.step,a.saturate(this.saturation)},b.prototype.getIndex=function(a){var b;return this.list.length<=a?this.reuse?b=this.getReusableColor(a):
(this.generate(this.minColors),b=this.getIndex(a)):b=this.list[a],b.saturate(this.saturation)},b.prototype.reset=function(){this._currentStep=0},Object.defineProperty(b.prototype,"currentStep",{get:function(){return this._currentStep},set:function(a){this._currentStep=a},enumerable:!0,configurable:!0}),b.prototype.generate=function(a){var b=Uc(ca(this.currentColor.rgb)),c=null!=this.stepOptions.hue?this.stepOptions.hue:1/a,f={brighten:0,lighten:0,hue:b.h,lightness:b.l,saturation:b.s},h=[];if(this.reuse)for(var k=
0;k<a;k++)h.push(Uc(ca(this._list[k].rgb)).h);else for(k=0;k<a;k++){var n=b.h+c*k;this.wrap&&1<n&&--n;h.push(n)}this.shuffle&&h.sort(function(a,b){return Math.random()-.5});for(k=0;k<a;k++)this.reuse?b=Uc(ca(this._list[k].rgb)):b.h=h.shift(),this.applyStepOptions(b,f,k+1,this._currentPass),c=L(mf(b)),n=(this.stepOptions.brighten||0)*(k+1)+(this.passOptions.brighten||0)*this._currentPass,0!=n&&(n=this.wrap?Zd(n,this.minLightness,this.maxLightness):Yd(n,this.minLightness,this.maxLightness),c=c.brighten(n)),
n=(this.stepOptions.lighten||0)*(k+1)+(this.passOptions.lighten||0)*this._currentPass,0!=n&&(n=this.wrap?Zd(n,this.minLightness,this.maxLightness):Yd(n,this.minLightness,this.maxLightness),c=c.lighten(n)),this._list.push(c);this._currentPass++},Object.defineProperty(b.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),b.prototype.applyStepOptions=function(a,
b,c,f){a.l=b.lightness+(this.stepOptions.lightness||0)*c+(this.passOptions.lightness||0)*f;this.wrap?(1<a.l?a.l-=Math.floor(a.l):0>a.l&&(a.l=-(a.l-Math.floor(a.l))),a.l=Zd(a.l,this.minLightness,this.maxLightness)):(1<a.l?a.l=1:0>a.l&&(a.l=0),a.l=Yd(a.l,this.minLightness,this.maxLightness))},b.prototype.processConfig=function(a){if(a&&null!=a.list&&ya(a.list))for(var b=0,e=a.list.length;b<e;b++)a.list[b]instanceof U||(a.list[b]=L(a.list[b]));c.prototype.processConfig.call(this,a)},b}(La);p.registeredClasses.ColorSet=
Bc;var ml=function(){function c(){this._disposed=!1;this._disposers=[]}return c.prototype.init=function(){},c.prototype.isDisposed=function(){return this._disposed},c.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var b=this._disposers;for(this._disposers=null;0!==b.length;)b.shift().dispose()}},c}(),dl=function(c){function b(){var a=c.call(this)||this;a.className="AmChartsLogo";a.valign="bottom";a.opacity=.3;a.defaultState.properties.opacity=.4;a.url="https://www.amcharts.com/";
a.urlTarget="_blank";a.showSystemTooltip=!0;a.readerTitle="Chart created using amCharts library";a.width=66;a.height=21;a.background.opacity=0;var b=L("#474758");"#ffffff"==(new W).getFor("background").alternative.hex&&(b=L("#ffffff"));var e=new bb;e.addColor(b);e.addColor(b,1,.75);e.addColor(L("#3cabff"),1,.755);e.rotation=-10;b=a.createChild(ld);b.shouldClone=!1;b.isMeasured=!1;b.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]];b.strokeWidth=6*.3;
b.tensionX=.8;b.tensionY=1;b.stroke=L("#3cabff");b=a.createChild(ld);b.shouldClone=!1;b.isMeasured=!1;b.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*.3},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]];b.strokeWidth=6*.3;b.tensionX=.75;b.tensionY=1;b.stroke=e;a._disposers.push(b);e=new qd;a.filters.push(e);e=new qd;e.saturation=1;b=a.states.create("hover");return b.properties.opacity=1,b.filters.push(e),a.applyTheme(),a}return m(b,c),b}(I),zj=function(c){function b(){var a=c.call(this)||this;a.className="Grip";
var b=new W;a.layout="absolute";a.padding(10,10,10,10);a.margin(3,3,3,3);a.background.fillOpacity=.3;a.background.cornerRadius(10,10,10,10);var e=new M;e.element=a.paper.add("path");var f=z({x:-6,y:0});return f+=u({x:6,y:0}),f+=z({x:-8,y:-6}),f+=u({x:0,y:-12}),f+=u({x:8,y:-6}),f+=z({x:-8,y:6}),f+=u({x:0,y:12}),f+=u({x:8,y:6}),e.path=f,e.strokeWidth=2,e.fillOpacity=0,e.pixelPerfect=!0,e.padding(0,4,0,4),e.stroke=b.getFor("text"),e.strokeOpacity=.7,e.align="center",e.valign="middle",a.icon=e,a.label.dispose(),
a.label=void 0,a.position="right",a.autoHideDelay=3E3,a.events.on("shown",function(b){a._autoHideTimeout&&a._autoHideTimeout.dispose();a.autoHideDelay&&(a._autoHideTimeout=a.setTimeout(function(){a.hide()},a.autoHideDelay))}),a.events.on("down",function(b){a._autoHideTimeout&&a._autoHideTimeout.dispose()}),a.events.on("out",function(b){a.autoHideDelay&&(a._autoHideTimeout=a.setTimeout(function(){a.hide()},a.autoHideDelay))}),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"position",
{get:function(){return this.getPropertyValue("position")},set:function(a){if(this.setPropertyValue("position",a))switch(a){case "left":this.align="left";this.valign="middle";this.horizontalCenter="left";this.verticalCenter="middle";this.icon.rotation=0;this.width=void 0;this.height=t(30);break;case "right":this.align="right";this.valign="middle";this.horizontalCenter="right";this.verticalCenter="middle";this.icon.rotation=0;this.width=void 0;this.height=t(30);break;case "top":this.align="center";
this.valign="top";this.horizontalCenter="middle";this.verticalCenter="top";this.icon.rotation=90;this.width=t(30);this.height=void 0;break;case "bottom":this.align="center";this.valign="bottom";this.horizontalCenter="middle";this.verticalCenter="bottom";this.icon.rotation=90;this.width=t(30);this.height=void 0;break;default:this.align="center",this.verticalCenter=this.horizontalCenter=this.valign="middle",this.icon.rotation=90,this.width=t(30),this.height=void 0}},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(a){this.setPropertyValue("autoHideDelay",a)},enumerable:!0,configurable:!0}),b}(fc);p.registeredClasses.Grip=zj;var fg=function(c){function b(){var a=c.call(this)||this;return a.className="ChartDataItem",a.applyTheme(),a}return m(b,c),b}(Lb),Qb=function(c){function b(){var a=c.call(this)||this;a._legend=new sa;a.className="Chart";var b=new Ua;a.titles=new oa(b);a._disposers.push(new da(a.titles));
a._disposers.push(b);a.width=t(100);a.height=t(100);a.layout="vertical";b=a.createChild(I);b.shouldClone=!1;b.layout="vertical";b.width=t(100);b.height=t(100);a.chartAndLegendContainer=b;b=b.createChild(I);return b.shouldClone=!1,b.width=t(100),b.height=t(100),a.chartContainer=b,a.showOnInit=!0,a._disposers.push(a._legend),a.titles.events.on("inserted",function(b){a.processTitle(b);a.updateReaderTitleReferences()},a,!1),a.titles.events.on("removed",function(b){a.updateReaderTitleReferences()},a,!1),
a.role="region",a.defaultState.transitionDuration=1,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Chart"))},b.prototype.draw=function(){this.fixLayout();c.prototype.draw.call(this)},b.prototype.fixLayout=function(){var a=this.legend;if(a){var b=this.chartAndLegendContainer,c=this.chartContainer;switch(c.x=void 0,c.y=void 0,a.x=void 0,a.y=void 0,a.position){case "left":b.layout=
"horizontal";l(a.width)||(a.width=200);a.toBack();break;case "right":b.layout="horizontal";l(a.width)||(a.width=200);a.toFront();break;case "top":b.layout="vertical";a.maxWidth=void 0;a.width=t(100);a.toBack();break;case "bottom":b.layout="vertical",a.maxWidth=void 0,a.width=t(100),a.toFront()}}},b.prototype.feedLegend=function(){},b.prototype.processTitle=function(a){a=a.newValue;return a.parent=this,a.toBack(),a.shouldClone=!1,a.align="center",a.uidAttr(),a},b.prototype.updateReaderTitleReferences=
function(){if(this.titles.length){var a=[];v(this.titles.iterator(),function(b){a.push(b.uid)});this.setSVGAttribute({"aria-labelledby":a.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(b.prototype,"legend",{get:function(){return this._legend.get()},set:function(a){this.setLegend(a)},enumerable:!0,configurable:!0}),b.prototype.setLegend=function(a){var b=this;this._legend.get()!==a&&(a?(a.parent=this.chartAndLegendContainer,this._legend.set(a,a.events.on("propertychanged",
function(a){"position"!=a.property&&"width"!=a.property||b.fixLayout()},void 0,!1))):this._legend.reset(),this.feedLegend())},b.prototype.dispose=function(){this.legend&&this.legend.dispose();c.prototype.dispose.call(this)},b.prototype.processConfig=function(a){a&&null!=a.legend&&null==a.legend.type&&(a.legend.type="Legend");c.prototype.processConfig.call(this,a)},b.prototype.copyFrom=function(a){this.titles.copyFrom(a.titles);a.legend&&(this.legend=a.legend.clone(),this.legend.removeChildren());
c.prototype.copyFrom.call(this,a)},Object.defineProperty(b.prototype,"dragGrip",{get:function(){var a=this;if(!this._dragGrip){var b=this.tooltipContainer.createChild(zj);b.align="right";b.valign="middle";b.hide(0);b.events.on("down",function(b){b.touch&&(a.interactionsEnabled=!1)});b.events.on("up",function(b){a.interactionsEnabled=!0});this.events.on("down",function(a){a.touch&&b.show()});this._dragGrip=b}return this._dragGrip},set:function(a){this._dragGrip=a},enumerable:!0,configurable:!0}),b}(ec);
p.registeredClasses.Chart=Qb;Ba.push({relevant:Ha.widthXS,state:function(c,b){return c instanceof Qb?(b=c.states.create(b),10<c.pixelPaddingLeft&&(b.properties.paddingLeft=10),10<c.pixelPaddingRight&&(b.properties.paddingRight=10),b):null}});Ba.push({relevant:Ha.heightXS,state:function(c,b){return c instanceof Qb?(b=c.states.create(b),10<c.pixelPaddingTop&&(b.properties.paddingTop=10),10<c.pixelPaddingBottom&&(b.properties.paddingBottom=10),b):null}});Ba.push({relevant:Ha.widthXXS,state:function(c,
b){return c instanceof Qb?(c=c.states.create(b),c.properties.paddingLeft=0,c.properties.paddingRight=0,c):null}});Ba.push({relevant:Ha.heightXXS,state:function(c,b){return c instanceof Qb?(c=c.states.create(b),c.properties.paddingTop=0,c.properties.paddingBottom=0,c):null}});var ub=function(c){function b(){var a=c.call(this)||this;return a.className="Bullet",a.isMeasured=!1,a.tooltipX=0,a.tooltipY=0,a.layout="none",a.applyOnClones=!0,a.copyToLegendMarker=!0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,
"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(a){this.setPropertyValue("locationX",a,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(a){this.setPropertyValue("locationY",a,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(a){this.setPropertyValue("xField",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(a){this.setPropertyValue("yField",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(a){this.setPropertyValue("isDynamic",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},
set:function(a){this.setPropertyValue("copyToLegendMarker",a)},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.Bullet=ub;Ba.push({relevant:Ha.isXS,state:function(c,b){return c instanceof ub?(c=c.states.create(b),c.properties.disabled=!0,c):null}});var cj=function(c){function b(){var a=c.call(this)||this;return a.childrenCreated=!1,a.className="LegendDataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"label",{get:function(){var a=this;if(!this._label){var b=this.component.labels.create();
this._label=b;this.addSprite(b);this._disposers.push(b);b.parent=this.itemContainer;this._disposers.push(new X(function(){null!=a.component&&a.component.labels.removeValue(b)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"color",{get:function(){return this.properties.color},set:function(a){this.setProperty("color",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valueLabel",{get:function(){var a=this;if(!this._valueLabel){var b=this.component.valueLabels.create();
this._valueLabel=b;this.addSprite(b);this._disposers.push(b);b.parent=this.itemContainer;this._disposers.push(new X(function(){null!=a.component&&a.component.valueLabels.removeValue(b)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"itemContainer",{get:function(){var a=this;if(!this._itemContainer){var b=this.component,c=b.itemContainers.create();this._itemContainer=c;this.addSprite(c);this._disposers.push(c);c.togglable&&c.events.on("toggled",function(a){b.toggleDataItem(a.target.dataItem)},
void 0,!1);c.events.on("focus",function(a){b.focusedItem=a.target.dataItem},void 0,!1);c.events.on("blur",function(a){b.focusedItem=void 0},void 0,!1);this._disposers.push(new X(function(){null!=a.component&&a.component.itemContainers.removeValue(c)}));this.dataContext.uidAttr&&(c.readerControls=this.dataContext.uidAttr(),c.readerLabelledBy=this.dataContext.uidAttr());var f=this.dataContext;!f.isDisposed()&&(f instanceof Lb||f instanceof M)&&(c.addDisposer(f.events.on("visibilitychanged",function(a){c.readerChecked=
a.visible;c.events.disableType("toggled");c.isActive=!a.visible;c.events.enableType("toggled")},void 0,!1)),f.addDisposer(new X(function(){a.component&&a.component.dataItems.remove(a)})),f instanceof M&&(c.addDisposer(f.events.on("hidden",function(a){c.readerChecked=!1;c.events.disableType("toggled");c.isActive=!0;c.events.enableType("toggled")},void 0,!1)),c.addDisposer(f.events.on("shown",function(a){c.readerChecked=!0;c.events.disableType("toggled");c.isActive=!1;c.events.enableType("toggled")},
void 0,!1))))}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"marker",{get:function(){var a=this;if(!this._marker){var b=this.component.markers.create();this._marker=b;b.parent=this.itemContainer;this.addSprite(b);this._disposers.push(b);this._disposers.push(new X(function(){null!=a.component&&a.component.markers.removeValue(b)}))}return this._marker},enumerable:!0,configurable:!0}),b}(Lb),gg=function(){return function(){this.createMarker=!0}}(),sd=function(c){function b(){var a=
c.call(this)||this;a.className="Legend";a.layout="grid";a.setPropertyValue("useDefaultMarker",!1);a.setPropertyValue("contentAlign","center");var b=new I;b.applyOnClones=!0;b.padding(10,0,10,0);b.margin(0,10,0,0);b.layout="horizontal";b.clickable=!0;b.focusable=!0;b.role="switch";b.togglable=!0;b.cursorOverStyle=Aa.pointer;b.background.fillOpacity=0;a.itemContainers=new oa(b);a._disposers.push(new da(a.itemContainers));a._disposers.push(a.itemContainers.template);a._disposers.push(C().body.events.on("keyup",
function(b){wb.isKey(b.event,"enter")&&a.focusedItem&&a.toggleDataItem(a.focusedItem)},a));var e=new W,f=new I;f.width=23;f.height=23;f.interactionsEnabled=!1;f.applyOnClones=!0;f.setStateOnChildren=!0;f.background.fillOpacity=0;f.background.strokeOpacity=0;f.propertyFields.fill="fill";f.valign="middle";var h=e.getFor("disabledBackground");f.events.on("childadded",function(a){a=a.newValue.states.create("active");a.properties.stroke=h;a.properties.fill=h});a.markers=new oa(f);a._disposers.push(new da(a.markers));
a._disposers.push(a.markers.template);f=f.createChild(rb);f.width=t(100);f.height=t(100);f.applyOnClones=!0;f.propertyFields.fill="fill";f.strokeOpacity=0;f=new Ua;f.text="{name}";f.margin(0,5,0,5);f.valign="middle";f.applyOnClones=!0;f.states.create("active").properties.fill=e.getFor("disabledBackground");a.labels=new oa(f);a._disposers.push(new da(a.labels));a._disposers.push(a.labels.template);f.interactionsEnabled=!1;f=new Ua;return f.margin(0,5,0,0),f.valign="middle",f.width=50,f.align="right",
f.textAlign="end",f.applyOnClones=!0,f.states.create("active").properties.fill=e.getFor("disabledBackground"),f.interactionsEnabled=!1,a.valueLabels=new oa(f),a._disposers.push(new da(a.valueLabels)),a._disposers.push(a.valueLabels.template),a.position="bottom",b.states.create("active"),b.setStateOnChildren=!0,a.role="group",a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Legend"))},
b.prototype.createDataItem=function(){return new cj},b.prototype.validateDataElement=function(a){c.prototype.validateDataElement.call(this,a);var b=a.itemContainer,e=a.marker;a.label;var f=a.valueLabel;b.parent=this;b.readerChecked=a.dataContext.visible;a.dataContext.legendDataItem=a;var h=a.dataContext.legendSettings,k=a.dataContext;!k.createLegendMarker||this.useDefaultMarker&&k instanceof M||a.childrenCreated||(k.createLegendMarker(e),a.childrenCreated=!0);k.updateLegendValue&&k.updateLegendValue();
f.invalid&&f.validate();""==f.currentText||null==f.currentText?f.__disabled=!0:f.__disabled=!1;!h||null==h.itemValueText&&null==h.valueText||(f.__disabled=!1);e=a.dataContext.visible;void 0===e&&(e=!0);e=!!e;a.dataContext.visible=e;b.events.disableType("toggled");b.isActive=!e;b.events.enableType("toggled")},Object.defineProperty(b.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(a){this.setPropertyValue("position",a)&&("left"==a||"right"==a?(this.margin(10,
20,10,20),this.valign="middle",this.itemContainers.template.width=t(100),this.valueLabels.template.width=t(100),this.labels.template.truncate=!0,this.labels.template.fullWords=!1):(this.itemContainers.template.width=void 0,this.itemContainers.template.maxWidth=void 0,this.valueLabels.template.width=50,this.labels.template.truncate=!1,this.width=t(100)),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},
set:function(a){this.setPropertyValue("useDefaultMarker",a,!0)},enumerable:!0,configurable:!0}),b.prototype.toggleDataItem=function(a){var b=a.dataContext;!b.visible||b.isHiding||b instanceof M&&b.isHidden?(a.color=a.colorOrig,a.itemContainer.isActive=!1,!0===b.hidden&&(b.hidden=!1),b.show?b.show():b.visible=!0):(a.itemContainer.isActive=!0,b.hide?b.hide():b.visible=!1,a.color=(new W).getFor("disabledBackground"))},Object.defineProperty(b.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),
b.prototype.handleDataItemPropertyChange=function(a,b){a.valueLabel.invalidate();a.label.invalidate()},b}(ec);p.registeredClasses.Legend=sd;Ba.push({relevant:Ha.widthXS,state:function(c,b){return c instanceof sd&&("left"==c.position||"right"==c.position)?(c=c.states.create(b),c.properties.position="bottom",c):null}});Ba.push({relevant:Ha.heightXS,state:function(c,b){return c instanceof sd&&("top"==c.position||"bottom"==c.position)?(c=c.states.create(b),c.properties.position="right",c):null}});Ba.push({relevant:Ha.isXS,
state:function(c,b){return c instanceof sd?(c=c.states.create(b),c.properties.disabled=!0,c):null}});var td=function(c){function b(){var a=c.call(this)||this;return a.bullets=new ga,a.className="SeriesDataItem",a._disposers.push(new Ob(a.bullets)),a.values.value={},a.values.value={},a.applyTheme(),a}return m(b,c),b.prototype.dispose=function(){this.bullets.clear();c.prototype.dispose.call(this)},Object.defineProperty(b.prototype,"value",{get:function(){return this.values.value.value},set:function(a){this.setValue("value",
a)},enumerable:!0,configurable:!0}),b}(Lb),ud=function(c){function b(){var a=c.call(this)||this;a._ignoreMinMax=!1;a._showBullets=!0;a.legendSettings=new gg;a._tmin=new ga;a._tmax=new ga;a._smin=new ga;a._smax=new ga;a.dataItemsByAxis=new ga;a.skipFocusThreshold=20;a.calculatePercent=!1;a.autoDispose=!0;a.simplifiedProcessing=!1;a.className="Series";a.isMeasured=!1;a.layout="none";a.shouldClone=!1;a.setPropertyValue("hidden",!1);a.axisRanges=new S;a.axisRanges.events.on("inserted",a.processAxisRange,
a,!1);a.minBulletDistance=0;a.mainContainer=a.createChild(I);a.mainContainer.shouldClone=!1;a.mainContainer.mask=a.createChild(M);a._disposers.push(a.mainContainer);var b=a.mainContainer.createChild(I);return a._shouldBeReady.push(b),b.shouldClone=!1,b.layout="none",b.virtualParent=a,a._disposers.push(b),a.bulletsContainer=b,a.tooltip=new gd,a.tooltip.virtualParent=a,a._disposers.push(a.tooltip),a.hiddenState.transitionEasing=Xh,a.dataItem=a.createDataItem(),a._disposers.push(a.dataItem),a.dataItem.component=
a,a.role="group",a.applyTheme(),a}return m(b,c),b.prototype.applyTheme=function(){c.prototype.applyTheme.call(this);Ka.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Series"))},b.prototype.createDataItem=function(){return new td},Object.defineProperty(b.prototype,
"chart",{get:function(){return this._chart},set:function(a){this._chart=a},enumerable:!0,configurable:!0}),b.prototype.positionBullet=function(a){},b.prototype.processBullet=function(a){a=a.newValue;a.isTemplate=!0;this.itemsFocusable()&&(a.focusable=!0)},b.prototype.removeBullet=function(a){var b=a.oldValue;this.dataItems.each(function(a){(a=a.bullets.getKey(b.uid))&&a.dispose()});this.invalidate()},b.prototype.validateDataItems=function(){c.prototype.validateDataItems.call(this);this.processValues(!1)},
b.prototype.getFirstValue=function(a,b){for(0<b&&b<this.dataItems.length-1&&b++;0<=b;b--){var d=this.dataItems.getIndex(b).getActualWorkingValue(a);if(l(d))return d}return null},b.prototype.rangeChangeUpdate=function(){c.prototype.rangeChangeUpdate.call(this);this.processValues(!0)},b.prototype.processValues=function(a){var b=this;if(!this.simplifiedProcessing){var c=this.dataItems,f={},h={},k={},n={},g={},y={},m={},p={},r=T(0,this._workingStartIndex),r=ba(r,this.dataItems.length);a=ba(this._workingEndIndex,
this.dataItems.length);if(l(r)||(r=0),l(a)||(a=this.dataItems.length),0<r){var t=c.getIndex(r-1);K(t.values,function(a,b){b=t.getActualWorkingValue(a);l(b)&&(m[a]=b)})}for(var E=function(a){var d=c.getIndex(a);K(d.values,function(a,c){c=d.getActualWorkingValue(a);if(l(c)){l(f[a])||(f[a]=0);f[a]++;l(h[a])||(h[a]=0);h[a]+=c;l(g[a])||(g[a]=c);y[a]=c;l(k[a])?k[a]>c&&(k[a]=c):k[a]=c;l(n[a])?n[a]<c&&(n[a]=c):n[a]=c;l(p[a])||(p[a]=b.getFirstValue(a,r));d.setCalculatedValue(a,c-p[a],"change");d.setCalculatedValue(a,
(c-p[a])/p[a]*100,"changePercent");var e=m[a];l(e)||(e=c);d.setCalculatedValue(a,c-e,"previousChange");d.setCalculatedValue(a,(c-e)/e*100,"previousChangePercent");m[a]=c}})},u=r;u<a;u++)E(u);if(this.calculatePercent)for(E=function(a){var b=c.getIndex(a);K(b.values,function(a){var d=h[a],c=b.getActualWorkingValue(a);l(c)&&0<d&&(c==d&&(d=b.values[a].value),b.setCalculatedValue(a,c/d*100,"percent"))})},u=r;u<a;u++)E(u);if(0<r){var v=c.getIndex(r-1);K(v.values,function(a){var b=v.values[a].value;v.setCalculatedValue(a,
b-g[a],"change");v.setCalculatedValue(a,(b-g[a])/g[a]*100,"changePercent")})}var A=this.dataItem;K(A.values,function(a){A.setCalculatedValue(a,h[a],"sum");A.setCalculatedValue(a,h[a]/f[a],"average");A.setCalculatedValue(a,g[a],"open");A.setCalculatedValue(a,y[a],"close");A.setCalculatedValue(a,k[a],"low");A.setCalculatedValue(a,n[a],"high");A.setCalculatedValue(a,f[a],"count")})}},b.prototype.validate=function(){v(this.axisRanges.iterator(),function(a){a.validate()});c.prototype.validate.call(this);
var a=this.bulletsContainer;if(a.fill=this.fill,a.stroke=this.stroke,a.x=this.pixelX,a.y=this.pixelY,0<this.bulletsContainer.children.length){for(a=0;a<this.startIndex;a++)(b=this.dataItems.getIndex(a))&&b.bullets.each(function(a,b){b.__disabled=!0});for(a=this.dataItems.length-1;a>this.endIndex;a--){var b;(b=this.dataItems.getIndex(a))&&b.bullets.each(function(a,b){b.__disabled=!0})}}this.updateTooltipBounds()},b.prototype.updateTooltipBounds=function(){this.topParent&&this.tooltip.setBounds({x:0,
y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})},b.prototype.shouldCreateBullet=function(a,b){return!0},b.prototype.validateDataElement=function(a){var b=this;c.prototype.validateDataElement.call(this,a);this._showBullets?(this.bulletsContainer.visible=!0,this.bullets.each(function(d){var c=a.bullets.getKey(d.uid);if(b.shouldCreateBullet(a,d)){c||((c=d.clone()).shouldClone=!1,a.addSprite(c),b.visible&&!b.isHiding||c.hide(0));var e=c.dataItem;if(e!=a){e&&e.bullets.setKey(d.uid,
void 0);var k=b.itemReaderText;c instanceof ub&&(k||(k="{"+c.xField+"}: {"+c.yField+"}"),c.isDynamic&&(a.events.on("workingvaluechanged",c.deepInvalidate,c,!1),b.dataItem.events.on("workingvaluechanged",c.deepInvalidate,c,!1)),c.deepInvalidate());c.focusable&&(c.events.once("focus",function(a){c.readerTitle=b.populateString(k,c.dataItem)},void 0,!1),c.events.once("blur",function(a){c.readerTitle=""},void 0,!1));c.hoverable&&(c.events.once("over",function(a){c.readerTitle=b.populateString(k,c.dataItem)},
void 0,!1),c.events.once("out",function(a){c.readerTitle=""},void 0,!1))}c.parent=b.bulletsContainer;a.bullets.setKey(d.uid,c);c.maxWidth=a.itemWidth;c.maxHeight=a.itemHeight;c.__disabled=!1;b.positionBullet(c)}})):this.bulletsContainer.visible=!1},b.prototype.handleDataItemWorkingValueChange=function(a,b){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(b.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(a){this._ignoreMinMax=a;this.invalidateDataItems()},
enumerable:!0,configurable:!0}),b.prototype.createMask=function(){},b.prototype.processAxisRange=function(a){this.rangesContainer||(this.rangesContainer=this.createChild(I),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);(a=a.newValue)&&(a.contents.parent=this.rangesContainer,a.isRange=!0)},b.prototype.getAxisField=function(a){},b.prototype.showTooltipAtPosition=function(a,b){},Object.defineProperty(b.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},
set:function(a){this.setPropertyValue("minBulletDistance",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new oa(new ub),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new da(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),
b.prototype.createLegendMarker=function(a){},Object.defineProperty(b.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(a){this.setPropertyValue("hiddenInLegend",a)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(a){this.setPropertyValue("name",a);this.readerTitle=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"itemReaderText",{get:function(){var a=this._itemReaderText;return a||(this.tooltipText?a=Vd(this.tooltipText):this.tooltipHTML&&(a=Vd(this.tooltipHTML))),this.adapter.apply("itemReaderText",a)},set:function(a){this._itemReaderText=a},enumerable:!0,configurable:!0}),b.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(b.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(a){this._legendDataItem=a;this._legendDataItem.itemContainer.deepInvalidate()},
enumerable:!0,configurable:!0}),b.prototype.updateLegendValue=function(a){if(this.legendDataItem){var b=this.legendSettings,c=this.legendDataItem,f=c.label,c=c.valueLabel;a?(c&&(b.itemValueText&&(c.text=b.itemValueText),c.dataItem=a),f&&(b.itemLabelText&&(f.text=b.itemLabelText),f.dataItem=a)):(f&&((b.labelText||null!=b.itemLabelText)&&(f.text=b.labelText),f.dataItem=this.dataItem),c&&((b.valueText||null!=b.itemValueText)&&(c.text=b.valueText),c.dataItem=this.dataItem))}},b.prototype.copyFrom=function(a){this.bullets.copyFrom(a.bullets);
this.bulletsContainer.copyFrom(a.bulletsContainer);this.calculatePercent=a.calculatePercent;this.simplifiedProcessing=a.simplifiedProcessing;c.prototype.copyFrom.call(this,a)},b.prototype.raiseCriticalError=function(a){this._chart.modal.content=this._chart.adapter.apply("criticalError",a).message;this._chart.modal.closable=!1;this._chart.modal.open();this._chart.disabled=!0;Ka.verbose&&console.log(a)},b.prototype.applyFilters=function(){var a=this;c.prototype.applyFilters.call(this);this.bulletsContainer.filters.clear();
v(this.filters.iterator(),function(b){a.bulletsContainer.filters.push(b.clone())})},Object.defineProperty(b.prototype,"heatRules",{get:function(){var a=this;return this._heatRules||(this._heatRules=new S,this._heatRules.events.on("inserted",function(b){var d=b.newValue,c=d.target;if(c){var h=d.dataField;null!=h||(h="value");var k=d.min,n=d.max,g=a.dataItem,y=d.property;b=R(d.minValue);var m=R(d.maxValue);l(b)||l(m)||a.dataItem.events.on("calculatedvaluechanged",function(b){b.property==h&&v(a.dataItems.iterator(),
function(a){var b=!1;J(a.sprites,function(a){a.clonedFrom==c&&(a[y]=a[y],b=!0)});b||J(a.sprites,function(a){a instanceof I&&v(a.children.iterator(),function(a){a.className==c.className?a[y]=a[y]:a instanceof I&&a.deepInvalidate()})})})});a.dataItems.template.events.on("workingvaluechanged",function(a){if(a.property==h){a=a.target;var b=!1;J(a.sprites,function(a){a.clonedFrom==c&&(a[y]=a[y],b=!0)});b||J(a.sprites,function(a){a instanceof I&&v(a.children.iterator(),function(a){a.className==c.className?
a[y]=a[y]:a instanceof I&&a.deepInvalidate()})})}});c.adapter.add(y,function(a,b,c){var e=R(d.minValue),f=R(d.maxValue);if(b instanceof M&&(c=b.propertyFields[c])&&b.dataItem){var q=b.dataItem.dataContext;if(q&&null!=q[c])return a}b=b.dataItem;if((l(e)||(e=g.values[h].low),l(f)||(f=g.values[h].high),b)&&b.values[h]&&(b=b.getActualWorkingValue(h),null!=k&&null!=n&&l(e)&&l(f)&&l(b))){e=(b-e)/(f-e);if(l(b)&&!l(e)&&(e=.5),l(k))return k+(n-k)*e;if(k instanceof U)return new U(Sc(k.rgb,n.rgb,e))}return a})}})),
this._heatRules},enumerable:!0,configurable:!0}),b.prototype.processConfig=function(a){var b;if(a){if(null!=a.bullets&&ya(a.bullets))for(var e=0,f=a.bullets.length;e<f;e++){var h=a.bullets[e];null!=h.type||(h.type="Bullet")}null!=a.heatRules&&ya(a.heatRules)&&(b=a.heatRules,delete a.heatRules)}if(c.prototype.processConfig.call(this,a),b){e=0;for(f=b.length;e<f;e++){a=b[e];h=this;if(null!=a.target&&Y(a.target))if(this.map.hasKey(a.target))h=this.map.getKey(a.target);else for(var k=a.target.split("."),
n=0;n<k.length;n++)h=h instanceof S?h.getIndex(R(k[n]))||h[k[n]]:h[k[n]];a.target=h;null!=a.min&&(a.min=this.maybeColorOrPercent(a.min));null!=a.max&&(a.max=this.maybeColorOrPercent(a.max))}c.prototype.processConfig.call(this,{heatRules:b})}},b.prototype.configOrder=function(a,b){return a==b?0:"heatRules"==a?1:"heatRules"==b?-1:c.prototype.configOrder.call(this,a,b)},b}(ec);p.registeredClasses.Series=ud;p.registeredClasses.SeriesDataItem=td;var cg=function(c){function b(){var a=c.call(this)||this;
return a.className="SerialChartDataItem",a.applyTheme(),a}return m(b,c),b}(fg),we=function(c){function b(){var a=c.call(this)||this;a.className="SerialChart";a.colors=new Bc;var b=a.chartContainer.createChild(I);b.shouldClone=!1;b.width=t(100);b.height=t(100);b.isMeasured=!1;b.layout="none";b.zIndex=2;a.seriesContainer=b;b=a.chartContainer.createChild(I);return b.shouldClone=!1,b.width=t(100),b.height=t(100),b.isMeasured=!1,b.zIndex=3,b.layout="none",a.bulletsContainer=b,a.applyTheme(),a}return m(b,
c),b.prototype.dispose=function(){c.prototype.dispose.call(this);this.colors&&this.colors.dispose()},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(b.prototype,"series",{get:function(){var a=this;return this._series||(this._series=new oa(this.createSeries()),this._series.events.on("inserted",function(b){a.handleSeriesAdded(b)},void 0,!1),this._series.events.on("removed",
function(b){b=b.oldValue;a.dataUsers.removeValue(b);a.dataUsers.each(function(a){a.invalidateDataItems()});b.autoDispose&&b.dispose();a.feedLegend()},void 0,!1),this._disposers.push(new da(this._series)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),b.prototype.handleSeriesAdded=function(a){var b=this,c=a.newValue;c.isDisposed()||(c.chart=this,c.parent=this.seriesContainer,c.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(c),c.addDisposer(new X(function(){b.dataUsers.removeValue(c)})),
this.feedLegend())},b.prototype.feedLegend=function(){var a=this.legend;if(a){var b=[];v(this.series.iterator(),function(a){a.hiddenInLegend||b.push(a)});a.dataFields.name="name";a.data=b}},b.prototype.createSeries=function(){return new ud},Object.defineProperty(b.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(a){this.setPropertyValue("colors",a,!0)},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.series.copyFrom(a.series)},
b}(Qb);p.registeredClasses.SerialChart=we;var Bd=function(c){function b(){var a=c.call(this)||this;a._axis=new sa;a.dataItems=new S;a.className="AxisBreak";a.breakSize=.01;a.marginLeft=-5;a.marginRight=-5;a.marginTop=-5;a.marginBottom=-5;var b=new W,e=new Nb;e.fill=b.getFor("background");e.stroke=L();e.fillOpacity=.9;e.zIndex=0;a._fillShape=e;e=new Nb;e.fill=L();e.stroke=b.getFor("grid");e.strokeOpacity=.3;e.zIndex=1;a._startLine=e;b=new Nb;return b.fill=L(),b.stroke=L("#000000"),b.strokeOpacity=
.3,b.zIndex=2,a._endLine=b,a._disposers.push(a._axis),a.applyTheme(),a}return m(b,c),b.prototype.dispose=function(){c.prototype.dispose.call(this);this._fillShape&&this._fillShape.dispose();this._startLine&&this._startLine.dispose();this._endLine&&this._endLine.dispose()},Object.defineProperty(b.prototype,"startLine",{get:function(){return this._startLine},set:function(a){this._startLine&&this._startLine.dispose();this._startLine=a;this.addBreakSprite(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"endLine",{get:function(){return this._endLine},set:function(a){this._endLine&&this._endLine.dispose();this._endLine=a;this.addBreakSprite(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fillShape",{get:function(){return this._fillShape},set:function(a){this._fillShape&&this._fillShape.dispose();this._fillShape=a;this.addBreakSprite(a)},enumerable:!0,configurable:!0}),b.prototype.addBreakSprite=function(a){a.parent=this;a.isMeasured=!1;this._disposers.push(a)},Object.defineProperty(b.prototype,
"axis",{get:function(){return this._axis.get()},set:function(a){this._axis.get()!==a&&(this._axis.set(a,a.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),a.renderer.createBreakSprites(this),a=a.axisBreaks.template,this.startLine.copyFrom(a.startLine),this.endLine.copyFrom(a.endLine),this.fillShape.copyFrom(a.fillShape))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(a){this.setPropertyValue("breakSize",
a)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startPoint",{get:function(){var a=this.axis.renderer;if(a)return a.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endPoint",{get:function(){var a=this.axis.renderer;if(a)return a.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startPosition",{get:function(){},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),b.prototype.draw=function(){(c.prototype.draw.call(this),this.axis)&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(b.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(a){this.setPropertyValue("startValue",a)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(a){this.setPropertyValue("endValue",a)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.AxisBreak=Bd;var Aj,yd=function(c){function b(){var a=c.call(this)||this;return a.className="AxisDataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"grid",{get:function(){if(!this._grid){var a=this.component;
if(a){var b,c=void 0;if(this.isRange){if((c=a.axisRanges.template.grid).disabled)return;b=c.clone()}else{if((c=a.renderer.grid.template).disabled)return;b=a.renderer.grid.create();this._disposers.push(new X(function(){a.renderer.grid.removeValue(b)}))}this.grid=b;b.shouldClone=!1;this._disposers.push(b);b.axis=this.component}}return this._grid},set:function(a){this._grid&&this._grid!=a&&(N(this.sprites,this._grid),this._grid.dataItem=void 0);a&&(a.dataItem&&a.dataItem!=this&&(N(a.dataItem.sprites,
a),a.dataItem.grid=void 0),this.addSprite(a));this._grid=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tick",{get:function(){if(!this._tick){var a=this.component;if(a){var b,c=void 0;if(this.isRange){if((c=a.axisRanges.template.tick).disabled)return;b=c.clone()}else{if((c=a.renderer.ticks.template).disabled)return;b=a.renderer.ticks.create();this._disposers.push(new X(function(){a.renderer.ticks.removeValue(b)}))}this.tick=b;b.axis=this.component;b.shouldClone=!1;this._disposers.push(b)}}return this._tick},
set:function(a){this._tick&&this._tick!=a&&(N(this.sprites,this._tick),this._tick.dataItem=void 0);a&&(a.dataItem&&a.dataItem!=this&&(N(a.dataItem.sprites,a),a.dataItem.tick=void 0),this.addSprite(a));this._tick=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"label",{get:function(){if(!this._label){var a=this.component;if(a){var b,c=void 0;if(this.isRange){if((c=a.axisRanges.template.label).disabled)return;b=c.clone()}else{if((c=a.renderer.labels.template).disabled)return;b=
a.renderer.labels.create();this._disposers.push(new X(function(){a.renderer.labels.removeValue(b)}))}this._disposers.push(b);this.label=b;b.shouldClone=!1;b.axis=this.component;b.virtualParent=a}}return this._label},set:function(a){this._label&&this._label!=a&&(N(this.sprites,this._label),this._label.dataItem=void 0);a&&(a.dataItem&&a.dataItem!=this&&(N(a.dataItem.sprites,a),a.dataItem.label=void 0),this.addSprite(a));this._label=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"axisFill",{get:function(){if(!this._axisFill){var a=this.component;if(a){var b,c=void 0;if(this.isRange){if(c=a.axisRanges.template.axisFill,!this.isTemplate&&c.disabled)return;b=c.clone()}else{if((c=a.renderer.axisFills.template).disabled)return;b=a.renderer.axisFills.create();this._disposers.push(new X(function(){a.renderer.axisFills.removeValue(b)}))}this.axisFill=b;b.shouldClone=!1;this._disposers.push(b)}}return this._axisFill},set:function(a){this._axisFill&&this._axisFill!=a&&(N(this.sprites,
this._axisFill),this._axisFill.dataItem=void 0);a&&(a.dataItem&&a.dataItem!=this&&(N(a.dataItem.sprites,a),a.dataItem.axisFill=void 0),a.axis=this.component,this.addSprite(a));this._axisFill=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(a){this._text=a;this._label&&(this._label.text=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"contents",{get:function(){if(!this._contents){var a=new I;this.addSprite(a);a.isMeasured=!1;this._contents=a;var b=this.component;if(b){var c=b.renderer.createFill(this.component);c.disabled=!1;c.axis=b;this.addSprite(c);this._mask=c;a.mask=c}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(a){this._axisBreak&&this._axisBreak.dataItems.removeValue(this);a&&a.dataItems.push(this);
this._axisBreak=a},enumerable:!0,configurable:!0}),b.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},b.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},b.prototype.configOrder=function(a,b){return a==b?0:"language"==a?-1:"language"==b?1:"component"==a?-1:"component"==b?1:0},b.prototype.hasProperty=function(a){return"component"==a||c.prototype.hasProperty.call(this,a)},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,
a);this.text=a.text},b}(Lb);!function(c){c[c.Start=0]="Start";c[c.Middle=.5]="Middle";c[c.End=1]="End"}(Aj||(Aj={}));var zd=function(c){function b(){var a=c.call(this)||this;a._gridCount=10;a._series=new S;a.autoDispose=!0;a.className="Axis";a.shouldClone=!1;a.setPropertyValue("cursorTooltipEnabled",!0);var b=new W;a.title=new Ua;a.title.shouldClone=!1;a._disposers.push(a.title);a.setPropertyValue("startLocation",0);a.setPropertyValue("endLocation",1);a._dataItemsIterator=new hd(a.dataItems,function(){return a.dataItems.create()});
a._dataItemsIterator.createNewItems=!0;var e=new gd;a._disposers.push(e);e.label.padding(5,10,5,10);e.background.pointerLength=5;e.fitPointerToBounds=!0;e.background.filters.clear();e.virtualParent=a;var f=e.background;return f.cornerRadius=0,f.fill=b.getFor("alternativeBackground"),f.stroke=f.fill,f.strokeWidth=1,f.fillOpacity=1,e.label.fill=b.getFor("alternativeText"),a.tooltip=e,a.applyTheme(),a}return m(b,c),b.prototype.fillRule=function(a,b){l(b)||(b=a.index);b/2==Math.round(b/2)?(a.axisFill.__disabled=
!0,a.axisFill.opacity=0):(a.axisFill.opacity=1,a.axisFill.__disabled=!1)},b.prototype.createDataItem=function(){return new yd},b.prototype.invalidateLayout=function(){c.prototype.invalidateLayout.call(this);v(this.series.iterator(),function(a){a.invalidateLayout()})},b.prototype.invalidateSeries=function(){v(this.series.iterator(),function(a){a.invalidate()})},b.prototype.validateDataElements=function(){this.ghostLabel&&this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end)},b.prototype.updateGridCount=
function(){this.renderer&&(this._gridCount=this.axisLength/this.renderer.minGridDistance)},b.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start);c.prototype.validateLayout.call(this);this.updateGridCount();this.renderer.updateAxisLine();this.renderer.updateTooltip();this.renderer.updateBaseGridElement();this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},b.prototype.initRenderer=function(){},b.prototype.appendDataItem=
function(a){var b=this.renderer;a.tick&&(a.tick.parent=b.gridContainer);a.label&&(a.label.parent=b);a.grid&&(a.grid.parent=b.gridContainer);a.axisFill&&(a.axisFill.parent=b.gridContainer)},b.prototype.validate=function(){c.prototype.validate.call(this);this.validateLayout();this.renderer.updateGridContainer()},b.prototype.validateAxisRanges=function(){var a=this;v(this.axisRanges.iterator(),function(b){a.appendDataItem(b);a.validateDataElement(b);b.grid&&b.grid.validate();b.tick&&b.tick.validate();
b.axisFill&&b.axisFill.validate();b.label&&b.label.validate()})},b.prototype.validateBreaks=function(){v(this.axisBreaks.iterator(),function(a){a.invalidate()})},b.prototype.processBreak=function(a){a=a.newValue;a.parent=this.renderer.breakContainer;a.axis=this},b.prototype.registerSeries=function(a){var b=this;return this.series.moveValue(a),new ja([new X(function(){b.series.removeValue(a)}),this.events.on("lengthchanged",a.invalidate,a,!1),this.events.on("startchanged",a.invalidate,a,!1),this.events.on("endchanged",
a.invalidate,a,!1)])},Object.defineProperty(b.prototype,"renderer",{get:function(){return this._renderer},set:function(a){if(a!=this._renderer){this._renderer=a;a.chart=this.chart;a.axis=this;a.parent=this;this.title.parent=this;this.initRenderer();this._disposers.push(a.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var b=this.renderer.labels.create();this._disposers.push(b);b.dataItem=this.dataItems.template.clone();b.text="L";b.parent=this.renderer;b.shouldClone=!1;b.fillOpacity=
0;b.opacity=0;b.strokeOpacity=0;b.interactionsEnabled=!1;b.validate();this.ghostLabel=b;this.events.on("beforedatavalidated",function(){b.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),b.prototype.positionToAngle=function(a){return this.renderer.positionToAngle(a)},b.prototype.pointToPosition=function(a){return this.renderer.pointToPosition(a)},b.prototype.getAnyRangePath=function(a,b){return this.renderer.getPositionRangePath(a,b)},b.prototype.anyToPosition=function(a){return 0},b.prototype.anyToPoint=
function(a){return{x:0,y:0,angle:0}},b.prototype.getPositionRangePath=function(a,b){return this.renderer.getPositionRangePath(a,b)},Object.defineProperty(b.prototype,"axisLength",{get:function(){return this.renderer.axisLength},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(a){this.setPropertyValue("cursorTooltipEnabled",a)&&a&&this.renderer&&this.renderer.updateTooltip()},
enumerable:!0,configurable:!0}),b.prototype.showTooltipAtPosition=function(a,b){var d=this._tooltip;if(b||(a=this.toAxisPosition(a)),!l(a)||0>a||1<a)d.hide(0);else if(b=this.renderer,d&&0<this.dataItems.length){d&&!d.parent&&(d.parent=this.tooltipContainer);var c=b.tooltipLocation,h=this.getCellStartPosition(a),k=this.getCellEndPosition(a);"fixed"==this.tooltipPosition&&(a=h+(k-h)*c);a=B(a,this.start,this.end);c=b.positionToPoint(h);k=b.positionToPoint(k);this.currentItemStartPoint=c;this.currentItemEndPoint=
k;b.fullWidthTooltip&&(d.width=k.x-c.x,d.height=k.y-c.y);b=gb(b.positionToPoint(a),this.renderer.line);d.text=this.getTooltipText(a);d.text&&(d.pointTo(b),d.show());this.cursorTooltipEnabled||d.hide(0)}},b.prototype.toAxisPosition=function(a){if(null!=(a=this.renderer.toAxisPosition(a)))return a*=this.end-this.start,a=this.renderer.inversed?this.end-a:this.start+a},b.prototype.toGlobalPosition=function(a){return this.renderer.inversed?a=this.end-a:a-=this.start,a/(this.end-this.start)},b.prototype.getTooltipText=
function(a){},b.prototype.updateTooltip=function(a,b){var d=this._tooltip;d&&(d.pointerOrientation=a,d.setBounds(tf(b,this.renderer.line)))},b.prototype.roundPosition=function(a,b){return a},b.prototype.getCellStartPosition=function(a){return a},b.prototype.getCellEndPosition=function(a){return a},Object.defineProperty(b.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var a=this.createDataItem();a.isRange=!0;a.axisFill=this.renderer.axisFills.template.clone();a.grid=this.renderer.grid.template.clone();
a.tick=this.renderer.ticks.template.clone();a.label=this.renderer.labels.template.clone();a.isTemplate=!0;a.component=this;a.axisFill.disabled=!1;a.tick.disabled=!1;a.grid.disabled=!1;a.label.disabled=!1;this._axisRanges=new oa(a);this._axisRanges.events.on("inserted",this.processAxisRange,this,!1);this._disposers.push(new da(this._axisRanges));this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),b.prototype.processAxisRange=function(a){a=a.newValue;
a.component=this;a.isRange=!0},Object.defineProperty(b.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Qi(this.createAxisBreak(),function(a,b){return zb(a.adjustedStartValue,b.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new da(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),b.prototype.createAxisBreak=function(){return new Bd},
Object.defineProperty(b.prototype,"series",{get:function(){return this._series||(this._series=new S),this._series},enumerable:!0,configurable:!0}),b.prototype.processSeriesDataItems=function(){},b.prototype.processSeriesDataItem=function(a,b){},b.prototype.postProcessSeriesDataItems=function(){},b.prototype.postProcessSeriesDataItem=function(a){},b.prototype.updateAxisBySeries=function(){},b.prototype.hideUnusedDataItems=function(){var a=this,b=this._dataItemsIterator;b.createNewItems=!1;v(b.iterator(),
function(b){a.validateDataElement(b);b.__disabled=!0});b.clear();b.createNewItems=!0},b.prototype.getSeriesDataItem=function(a,b,c){},b.prototype.getAngle=function(a,b,c,f){},b.prototype.getX=function(a,b,c,f){},b.prototype.getY=function(a,b,c,f){},Object.defineProperty(b.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),b.prototype.dataChangeUpdate=function(){},b.prototype.seriesDataChangeUpdate=function(a){},b.prototype.adjustDifference=function(a,b){var d=b-
a;if(l(d))return $a(this.axisBreaks.iterator(),function(c){var e=c.adjustedStartValue,f=c.adjustedEndValue;if(l(e)&&l(f)){if(e>b)return!1;f>=a&&l(e)&&l(f)&&(c=c.breakSize,(e=Zg({start:e,end:f},{start:a,end:b}))&&(d-=(e.end-e.start)*(1-c)));return!0}}),d},b.prototype.isInBreak=function(a){return sh(this.axisBreaks.iterator(),function(b){return a>=b.adjustedStartValue&&a<=b.adjustedEndValue})},b.prototype.fixAxisBreaks=function(){var a=this,b=this.axisBreaks;if(0<b.length){J(qc(b.iterator()),function(b){var d=
ba(b.startValue,b.endValue),c=T(b.startValue,b.endValue);b.adjustedStartValue=d;b.adjustedEndValue=c;a.axisBreaks.update(b)});var b=b.first,c=Math.min(b.startValue,b.endValue);v(this.axisBreaks.iterator(),function(a){var b=a.adjustedStartValue,d=a.adjustedEndValue;b<c&&(b=c,d<c&&(d=c));a.adjustedStartValue=b;a.adjustedEndValue=d})}},Object.defineProperty(b.prototype,"startIndex",{get:function(){return 0},set:function(a){},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endIndex",
{get:function(){return this.dataItems.length},set:function(a){},enumerable:!0,configurable:!0}),b.prototype.getPositionLabel=function(a){return Math.round(100*a)+"%x"},Object.defineProperty(b.prototype,"chart",{get:function(){return this._chart},set:function(a){this._chart=a},enumerable:!0,configurable:!0}),b.prototype.createSeriesRange=function(a){var b=this.axisRanges.create();return b.component=this,b.axisFill=this.renderer.axisFills.template.clone(),b.axisFill.disabled=!1,b.axisFill.fillOpacity=
0,b.grid=this.renderer.grid.template.clone(),b.grid.disabled=!0,b.tick=this.renderer.ticks.template.clone(),b.tick.disabled=!0,b.label=this.renderer.labels.template.clone(),b.label.disabled=!0,a.axisRanges.push(b),b},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.renderer?this.renderer.copyFrom(a.renderer):a.renderer&&(this.renderer=a.renderer.clone());a.title&&(this.title=a.title.clone())},b.prototype.resetIterators=function(){this._dataItemsIterator.reset()},b.prototype.processConfig=
function(a){if(a&&null!=a.axisRanges&&ya(a.axisRanges))for(var b=0,e=a.axisRanges.length;b<e;b++){var f=a.axisRanges[b];null!=f.series&&Y(f.series)&&this.map.hasKey(f.series)&&(a.axisRanges[b]=this.createSeriesRange(this.map.getKey(f.series)),delete f.series,a.axisRanges[b].config=f)}c.prototype.processConfig.call(this,a)},Object.defineProperty(b.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(a){this.setPropertyValue("startLocation",a,!0)},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(a){this.setPropertyValue("endLocation",a,!0)},enumerable:!0,configurable:!0}),b}(ec);p.registeredClasses.Axis=zd;p.registeredClasses.AxisDataItem=yd;Ba.push({relevant:Ha.maybeXS,state:function(c,b){return c instanceof zd&&c.tooltip?(c=c.states.create(b),c.properties.cursorTooltipEnabled=!1,c):null}});var ug=function(c){function b(){var a=c.call(this)||this;a.className=
"AxisLine";a.element=a.paper.add("path");var b=new W;return a.stroke=b.getFor("grid"),a.strokeOpacity=.15,a.pixelPerfect=!0,a.fill=L(),a.applyTheme(),a.interactionsEnabled=!1,a}return m(b,c),b}(M);p.registeredClasses.AxisLine=ug;var Ke=function(c){function b(a){var b=c.call(this)||this;b.axis=a;b.element=b.paper.add("path");b.className="AxisFill";b.isMeasured=!1;b.location=0;a=new W;return b.fill=a.getFor("alternativeBackground"),b.fillOpacity=0,b.applyTheme(),b}return m(b,c),b.prototype.setDisabled=
function(a){a=c.prototype.setDisabled.call(this,a);return this.axis&&this.axis.invalidateDataItems(),a},b.prototype.draw=function(){c.prototype.draw.call(this);this.axis&&l(this.startPosition)&&l(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath)},Object.defineProperty(b.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(a){this.setPropertyValue("startPosition",a);this.invalidate()},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(a){this.setPropertyValue("endPosition",a);this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(a){this.setPropertyValue("location",a,!0)},enumerable:!0,configurable:!0}),b}(M);p.registeredClasses.AxisFill=Ke;var Dc=function(c){function b(){var a=
c.call(this)||this;a.className="Grid";a.element=a.paper.add("path");a.location=.5;a.isMeasured=!1;var b=new W;return a.stroke=b.getFor("grid"),a.pixelPerfect=!0,a.strokeOpacity=.15,a.fill=L(),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(a){this.setPropertyValue("location",a,!0)},enumerable:!0,configurable:!0}),b.prototype.setDisabled=function(a){a=c.prototype.setDisabled.call(this,a);return this.axis&&
this.axis.invalidateDataItems(),a},b}(M);p.registeredClasses.Grid=Dc;Ba.push({relevant:Ha.maybeXS,state:function(c,b){return c instanceof Dc?(c=c.states.create(b),c.properties.disabled=!0,c):null}});var Je=function(c){function b(){var a=c.call(this)||this;return a.className="AxisLabel",a.isMeasured=!1,a.padding(10,10,10,10),a.location=.5,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(a){this.setPropertyValue("location",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(a){this.setPropertyValue("inside",a,!0)},enumerable:!0,configurable:!0}),b.prototype.setDisabled=function(a){a=c.prototype.setDisabled.call(this,a);return this.axis&&this.axis.invalidateDataItems(),a},b}(Ua);p.registeredClasses.AxisLabel=Je;var Ec=function(c){function b(){var a=c.call(this)||this;a.className="Tick";var b=new W;return a.fillOpacity=
0,a.length=6,a.strokeOpacity=.2,a.stroke=b.getFor("grid"),a.isMeasured=!1,a.nonScalingStroke=!0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(a){this.setPropertyValue("length",a,!0)},enumerable:!0,configurable:!0}),b}(M);p.registeredClasses.Tick=Ec;var tg=function(c){function b(){var a=c.call(this)||this;return a.className="AxisTick",a.element=a.paper.add("path"),a.location=.5,a.isMeasured=
!1,a.pixelPerfect=!0,a.strokeOpacity=0,a.length=5,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(a){this.setPropertyValue("location",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(a){this.setPropertyValue("inside",a,!0)},enumerable:!0,configurable:!0}),b.prototype.setDisabled=function(a){a=c.prototype.setDisabled.call(this,
a);return this.axis&&this.axis.invalidateDataItems(),a},b}(Ec);p.registeredClasses.AxisTick=tg;var Ad=function(c){function b(){var a=c.call(this)||this;a._chart=new sa;a.className="AxisRenderer";a.minGridDistance=50;a.inside=!1;a.inversed=!1;a.tooltipLocation=.5;a.fullWidthTooltip=!1;a.cellStartLocation=0;a.cellEndLocation=1;a.minLabelPosition=0;a.maxLabelPosition=1;a.shouldClone=!1;var b=a.createChild(I);b.shouldClone=!1;b.layout="none";b.width=t(100);b.height=t(100);a.gridContainer=b;b.events.on("maxsizechanged",
function(){a.inited&&a.invalidateAxisItems()},a,!1);var e=a.createChild(I);e.shouldClone=!1;e.isMeasured=!1;e.layout="none";e.width=t(100);e.height=t(100);a.breakContainer=e;a.line=a.createChild(ug);a.line.shouldClone=!1;a.line.strokeOpacity=0;var f=a.createChild(Dc);f.shouldClone=!1;a.baseGrid=f;var h=a._disposers;return h.push(f),h.push(a.line),h.push(b),h.push(e),h.push(a._chart),a.ticks.template.disabled=!0,a.axisFills.template.disabled=!0,a.axisFills.template.interactionsEnabled=!1,a.applyTheme(),
a}return m(b,c),Object.defineProperty(b.prototype,"axis",{get:function(){return this._axis},set:function(a){this.setAxis(a)},enumerable:!0,configurable:!0}),b.prototype.setAxis=function(a){this._axis=a;this.baseGrid.parent=a;this.line.parent=a;this.gridContainer.bind("opacity",a)},b.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1);this.events.on("positionchanged",this.updateTooltip,this,!1);this.labels.template.inside=this.inside;this.ticks.template.inside=
this.inside},b.prototype.updateTooltip=function(){},Object.defineProperty(b.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),b.prototype.positionItem=function(a,b){a&&a.moveTo(b)},b.prototype.positionToPoint=function(a){return{x:0,y:0}},b.prototype.positionToAngle=function(a){return 0},b.prototype.positionToCoordinate=function(a){var b=this.axis,c=b.axisFullLength;return b.renderer.inversed?(b.end-a)*c:(a-b.start)*c},b.prototype.updateGridContainer=function(){},b.prototype.getHeight=
function(){var a=this.axis;return a&&a.chart&&(a=this.axis.chart,a.plotContainer)?a.plotContainer.pixelHeight||0:this.gridContainer.pixelHeight||0},b.prototype.getWidth=function(){var a=this.axis;return a&&a.chart&&(a=this.axis.chart,a.plotContainer)?a.plotContainer.pixelWidth||0:this.gridContainer.pixelWidth||0},b.prototype.coordinateToPosition=function(a){var b=this.axis,c=b.axisFullLength;return D(b.renderer.inversed?b.end-a/c:a/c+b.start,5)},b.prototype.pointToPosition=function(a){return 0},b.prototype.getPositionRangePath=
function(a,b){return""},b.prototype.invalidateAxisItems=function(){var a=this.axis;a&&a.invalidateDataItems()},b.prototype.updateGridElement=function(a,b,c){},b.prototype.updateTickElement=function(a,b,c){},b.prototype.updateLabelElement=function(a,b,c,f){},b.prototype.updateFillElement=function(a,b,c){a.startPosition=b;a.endPosition=c},b.prototype.updateAxisLine=function(){},b.prototype.updateBaseGridElement=function(){},b.prototype.updateBreakElement=function(a){this.positionItem(a.startLine,a.startPoint);
this.toggleVisibility(a.startLine,a.startPosition,0,1);this.positionItem(a.endLine,a.endPoint);this.toggleVisibility(a.endLine,a.endPosition,0,1)},Object.defineProperty(b.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(a){this.setPropertyValue("minGridDistance",a)&&this.axis&&this.axis.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"chart",{get:function(){return this._chart.get()},set:function(a){this._chart.set(a,
null)},enumerable:!0,configurable:!0}),b.prototype.toggleVisibility=function(a,b,c,f){var d=this.axis;c=d.start+(d.end-d.start)*(c-1E-4);f=d.start+(d.end-d.start)*(f+1E-4);a.disabled||(a.__disabled=b<c||b>f)},b.prototype.createBreakSprites=function(a){},Object.defineProperty(b.prototype,"axisFills",{get:function(){if(!this._axisFills){var a=this.createFill(this.axis);this._axisFills=new oa(a);a.applyOnClones=!0;a.events.on("enabled",this.invalidateAxisItems,this,!1);this._disposers.push(new da(this._axisFills));
this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),b.prototype.createFill=function(a){return new Ke(a)},Object.defineProperty(b.prototype,"grid",{get:function(){if(!this._grid){var a=this.createGrid();this._grid=new oa(a);a.applyOnClones=!0;a.events.on("enabled",this.invalidateAxisItems,this,!1);this._disposers.push(new da(this._grid));this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),b.prototype.createGrid=
function(){return new Dc},Object.defineProperty(b.prototype,"ticks",{get:function(){if(!this._ticks){var a=this.createTick();a.applyOnClones=!0;a.isMeasured=!1;a.events.on("enabled",this.invalidateAxisItems,this,!1);this._ticks=new oa(a);this._disposers.push(new da(this._ticks));this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),b.prototype.createTick=function(){return new tg},Object.defineProperty(b.prototype,"labels",{get:function(){if(!this._labels){var a=
this.createLabel();this._labels=new oa(a);a.applyOnClones=!0;a.events.on("enabled",this.invalidateAxisItems,this,!1);this._disposers.push(new da(this._labels));this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),b.prototype.createLabel=function(){return new Je},Object.defineProperty(b.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(a){this.setPropertyValue("inside",a)&&this.axis&&this.axis.invalidate();a?(this.width=
0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(a){this.setPropertyValue("opposite",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(a){this.setPropertyValue("fullWidthTooltip",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(a){this.setPropertyValue("tooltipLocation",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(a){this.setPropertyValue("cellStartLocation",a)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},
set:function(a){this.setPropertyValue("cellEndLocation",a)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(a){this.setPropertyValue("inversed",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(a){this.setPropertyValue("minLabelPosition",a,!0)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(a){this.setPropertyValue("maxLabelPosition",a,!0)},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.grid.template.copyFrom(a.grid.template);this.ticks.template.copyFrom(a.ticks.template);this.labels.template.copyFrom(a.labels.template);this.axisFills.template.copyFrom(a.axisFills.template);
this.line.copyFrom(a.line);this.baseGrid.copyFrom(a.baseGrid)},b.prototype.toAxisPosition=function(a){return a},b}(I);p.registeredClasses.AxisRenderer=Ad;var tb=function(c){function b(){var a=c.call(this)||this;return a.className="AxisRendererY",a.minGridDistance=40,a.opposite=!1,a.height=t(100),a.labels.template.verticalCenter="middle",a.applyTheme(),a}return m(b,c),b.prototype.setAxis=function(a){c.prototype.setAxis.call(this,a);a.layout="horizontal"},b.prototype.updateGridContainer=function(){var a=
this.axis;if(a){var b=this.gridContainer;b.y=a.pixelY;b.height=a.pixelHeight}},b.prototype.toAxisPosition=function(a){var b=this.axis,c=b.parent;return b&&c?1-(1-a-b.pixelY/c.innerHeight)/(b.pixelHeight/c.innerHeight):a},b.prototype.processRenderer=function(){c.prototype.processRenderer.call(this);var a=this.axis;if(a){var b=a.title;b.valign="middle";a.height instanceof ka||(a.height=t(100));this.opposite?(b.rotation=90,this.line.toBack(),b.toFront()):(b.rotation=-90,b.toBack(),this.line.toFront())}},
b.prototype.updateTooltip=function(){if(this.axis){var a=0,b=2E3,c=this.axisLength;this.opposite?this.inside&&(a=-2E3,b=2E3):this.inside||(a=-2E3,b=2E3);this.axis.updateTooltip("horizontal",{x:a,y:0,width:b,height:c})}},Object.defineProperty(b.prototype,"axisLength",{get:function(){var a=this.axis;return a.measuredHeight-a.pixelPaddingTop-a.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){return{x:0,y:this.positionToCoordinate(a)}},b.prototype.pointToPosition=
function(a){return this.coordinateToPosition(a.y)},b.prototype.getPositionRangePath=function(a,b){a=B(this.positionToCoordinate(a),0,this.axisLength);b=B(this.positionToCoordinate(b),0,this.axisLength);var d=Math.abs(b-a),c=this.getWidth();return Bb({x:0,y:Math.min(a,b),width:c,height:d},!0)},b.prototype.updateGridElement=function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);a.path=z({x:0,y:0})+u({x:this.getWidth(),y:0});this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.updateTickElement=
function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);var d=a.length;try{this.axis.title.measuredWidth}catch(h){}c.x=Ab({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x;this.opposite?d*=a.inside?-1:1:d*=a.inside?1:-1;a.path=z({x:0,y:0})+u({x:d,y:0});this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.updateAxisLine=function(){this.line.path=z({x:0,y:0})+u({x:0,y:this.axisLength})},b.prototype.updateBaseGridElement=function(){c.prototype.updateBaseGridElement.call(this);
var a=this.axis,b=this.getWidth(),e=this.pixelHeight,a=a.basePoint.y,f=this.baseGrid;-.2>a||a>e+.2?f.hide(0):(e=Ab({x:0,y:0},this.gridContainer,f.parent).x,f.path=z({x:0,y:0})+u({x:b,y:0}),f.moveTo({x:e,y:a}),f.show(0))},b.prototype.updateLabelElement=function(a,b,c,f){null!=f||(f=a.location);b+=(c-b)*f;a.isMeasured=!a.inside;var d;c=this.positionToPoint(b);f=0;this.opposite?(a.inside?(d="right","left"==a.align&&(f=-this.gridContainer.maxWidth,d="left")):d="left",c.x=0+f):(a.inside?(d="left","right"==
a.align&&(f=this.gridContainer.maxWidth,d="right")):d="right",c.x=this.measuredWidth+f);0==a.rotation&&(a.horizontalCenter=d);this.positionItem(a,c);this.toggleVisibility(a,b,this.minLabelPosition,this.maxLabelPosition)},b.prototype.updateBreakElement=function(a){c.prototype.updateBreakElement.call(this,a);var b=a.startLine,e=a.endLine,f=a.fillShape,h=a.startPoint,k=a.endPoint,n=a.pixelMarginLeft,g=this.getWidth()-a.pixelMarginLeft-a.pixelMarginRight;h.y=B(h.y,-1,this.pixelHeight+1);k.y=B(k.y,-1,
this.pixelHeight+1);h.y==k.y&&(0>h.y||h.y>this.pixelHeight)?a.fillShape.__disabled=!0:a.fillShape.__disabled=!1;a=Math.abs(g-n);b.x=n;b.height=0;b.width=a;e.x=n;e.height=0;e.width=a;f.width=a;f.height=Math.abs(k.y-h.y);f.x=n;f.y=k.y},b.prototype.createBreakSprites=function(a){a.startLine=new Nb;a.endLine=new Nb;var b=new Rf;b.setWavedSides(!0,!1,!0,!1);a.fillShape=b},b.prototype.positionToCoordinate=function(a){var b=this.axis,c=b.axisFullLength;return D(b.renderer.inversed?(a-b.start)*c:(b.end-a)*
c,1)},b}(Ad);p.registeredClasses.AxisRendererY=tb;Ba.push({relevant:Ha.widthS,state:function(c,b){return c instanceof tb?(c=c.states.create(b),c.properties.inside=!0,c.properties.maxLabelPosition=.9,c.properties.minLabelPosition=.1,c):null}});Ba.push({relevant:Ha.widthXS,state:function(c,b){return c instanceof tb?(c=c.states.create(b),c.properties.disabled=!0,c):null}});var Le=function(c){function b(){var a=c.call(this)||this;return a.className="ValueAxisBreak",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,
"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),b}(Bd);p.registeredClasses.ValueAxisBreak=Le;var Cd=function(c){function b(){var a=c.call(this)||this;return a.className="ValueAxisDataItem",a.values.value={},a.values.endValue={},a.applyTheme(),a}return m(b,
c),Object.defineProperty(b.prototype,"value",{get:function(){return this.values.value.value},set:function(a){this.setValue("value",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(a){this.setValue("endValue",a)},enumerable:!0,configurable:!0}),b}(yd),ma=function(c){function b(){var a=c.call(this)||this;return a._stepDecimalPlaces=0,a._baseValue=0,a._adjustedStart=0,a._adjustedEnd=1,a._extremesChanged=!1,
a._deltaMinMax=1,a.calculateTotals=!1,a.className="ValueAxis",a.axisFieldName="value",a.setPropertyValue("maxZoomFactor",1E3),a.setPropertyValue("extraMin",0),a.setPropertyValue("extraMax",0),a.setPropertyValue("strictMinMax",!1),a.setPropertyValue("maxPrecision",Number.MAX_VALUE),a.keepSelection=!1,a.applyTheme(),a}return m(b,c),b.prototype.fillRule=function(a){var b=a.value,c=a.component;a.axisFill.disabled||(D(b/c.step/2,5)==Math.round(b/c.step/2)?a.axisFill.__disabled=!0:a.axisFill.__disabled=
!1)},b.prototype.createDataItem=function(){return new Cd},b.prototype.createAxisBreak=function(){return new Le},b.prototype.dataChangeUpdate=function(){this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged"));this._maxZoomed=this._maxDefined;this._minZoomed=
this._minDefined;this._maxAdjusted=this._maxDefined;this._minAdjusted=this._minDefined},b.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var a=this.series.getIndex(0),b=a.startIndex;if(0<a.dataItems.length){0<b&&b--;var c=a.endIndex;c<a.dataItems.length&&c++;for(var a=function(a){var b={};v(f.series.iterator(),function(d){var c=d.dataItems.getIndex(a);c&&K(c.values,function(a){var d=c.values[a].workingValue;l(d)&&(l(b[a])?b[a]+=Math.abs(d):b[a]=Math.abs(d))})});v(f.series.iterator(),
function(d){var c=d.dataItems.getIndex(a);c&&K(c.values,function(a){var d=c.values[a].workingValue;l(d)&&(c.setCalculatedValue(a,b[a],"total"),c.setCalculatedValue(a,100*d/b[a],"totalPercent"))})})},f=this;b<c;++b)a(b)}}},b.prototype.validate=function(){0>=this.axisLength||(c.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},
b.prototype.calculateZoom=function(){if(l(this.min)&&l(this.max)){var a=this.positionToValue(this.start),b=this.positionToValue(this.end),c=this.adjustDifference(a,b),c=this.adjustMinMax(a,b,c,this._gridCount,!0),a=c.min,b=c.max;this._adjustedStart=D((a-this.min)/(this.max-this.min),5);this._adjustedEnd=D((b-this.min)/(this.max-this.min),5);this._step=c.step;this._stepDecimalPlaces=Qh(this._step);this._minZoomed==a&&this._maxZoomed==b||(this._minZoomed=a,this._maxZoomed=b,this.dispatchImmediately("selectionextremeschanged"))}else this._adjustedStart=
this.start,this._adjustedEnd=this.end},b.prototype.validateAxisElements=function(){var a=this;if(l(this.max)&&l(this.min)){var b=this.minZoomed-2*this._step;this.logarithmic?1<Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E?b=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(b=Math.floor(this.minZoomed/this._step)*this._step)&&(b=this.minZoomed):b=Math.floor(b/this._step)*this._step;var c=this._maxZoomed+this._step;this.resetIterators();for(var f=this._dataItemsIterator,h=0;b<=c;){if(!this.isInBreak(b)){var k=
f.find(function(a){return a.value===b});k.__disabled&&(k.__disabled=!1);this.appendDataItem(k);k.axisBreak=void 0;k.value!=b&&(k.value=b,k.text=this.formatLabel(b),k.label&&k.label.invalid&&k.label.validate(),k.value>this.min&&k.value<this.max&&k.label&&(k.label.measuredWidth>this.ghostLabel.measuredWidth||k.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=k.label.text));this.validateDataElement(k)}(h++,this.logarithmic)?1<Math.log(this.max)*Math.LOG10E-Math.log(this.min)*
Math.LOG10E?b=Math.pow(10,Math.log(this.min)*Math.LOG10E+h):b+=this._step:b+=this._step;k=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));1>k&&(b=D(b,Math.round(Math.abs(Math.log(Math.abs(k))*Math.LOG10E))+2))}var n=this.renderer;v(this.axisBreaks.iterator(),function(b){if(0<b.breakSize&&Z(b.startPoint,b.endPoint)>n.minGridDistance)for(var d=b.adjustedMin;d<=b.adjustedMax;){if(d>=b.adjustedStartValue&&d<=b.adjustedEndValue){var c=f.find(function(a){return a.value===d});c.__disabled&&
(c.__disabled=!1);a.appendDataItem(c);c.axisBreak=b;c.value!=d&&(c.value=d,c.text=a.formatLabel(d),c.label&&c.label.invalid&&c.label.validate());a.validateDataElement(c)}d+=b.adjustedStep}})}},b.prototype.validateDataElement=function(a){c.prototype.validateDataElement.call(this,a);var b=this.renderer,e=a.value,f=a.endValue,h=this.valueToPosition(e),k=a.position=h,e=this.valueToPosition(e+this._step);l(f)&&(e=k=this.valueToPosition(f));a.point=b.positionToPoint(h);(f=a.tick)&&!f.disabled&&b.updateTickElement(f,
h,k);(f=a.grid)&&!f.disabled&&b.updateGridElement(f,h,k);(f=a.label)&&!f.disabled&&b.updateLabelElement(f,h,k);(k=a.axisFill)&&!k.disabled&&(b.updateFillElement(k,h,e),a.isRange||this.fillRule(a));(a=a.mask)&&b.updateFillElement(a,h,e)},b.prototype.formatLabel=function(a){return this.numberFormatter.format(a)},Object.defineProperty(b.prototype,"basePoint",{get:function(){var a=this.valueToPosition(this._baseValue);return this.renderer.positionToPoint(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"baseValue",{get:function(){return this.logarithmic?this.min:this._baseValue},set:function(a){this._baseValue=a;this.invalidateLayout()},enumerable:!0,configurable:!0}),b.prototype.anyToPosition=function(a){return this.valueToPosition(a)},b.prototype.valueToPoint=function(a){var b=this.valueToPosition(a);a=this.renderer.positionToPoint(b);b=this.renderer.positionToAngle(b);return{x:a.x,y:a.y,angle:b}},b.prototype.anyToPoint=function(a){return this.valueToPoint(a)},b.prototype.valueToPosition=function(a){if(l(a)){var b=
this.min,c=this.max;if(l(b)&&l(c)){var f=this._difference,h=this.axisBreaks;0<h.length&&$a(h.iterator(),function(d){var e=d.adjustedStartValue,f=d.adjustedEndValue;if(l(e)&&l(f)){if(a<e)return!1;Kc({start:e,end:f},{start:b,end:c})&&(e=Math.max(e,b),f=Math.min(f,c),d=d.breakSize,a>f?b+=(f-e)*(1-d):a<e||(a=e+(a-e)*d))}return!0});return this.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E):(a-b)/f}}return 0},b.prototype.positionToValue=
function(a){a=D(a,10);var b=this.min,c=this.max;if(l(b)&&l(c)){var f=c-b,h=this.axisBreaks,k=null;return 0<h.length&&$a(h.iterator(),function(d){var e=d.startPosition,h=d.endPosition,g=d.adjustedStartValue,n=d.adjustedEndValue;if(l(g)&&l(n)){if(g>c)return!1;if(Kc({start:g,end:n},{start:b,end:c}))if(g=T(g,b),n=ba(n,c),d=d.breakSize,f-=(n-g)*(1-d),a>h)b+=(n-g)*(1-d);else if(!(a<e))return k=g+(a-e)/(h-e)*(n-g),!1;return!0}}),l(k)||(k=this.logarithmic?Math.pow(Math.E,(a*(Math.log(this.max)*Math.LOG10E-
Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):a*f+b),k}},b.prototype.xToValue=function(a){return this.positionToValue(this.pointToPosition({x:a,y:0}))},b.prototype.yToValue=function(a){return this.positionToValue(this.pointToPosition({x:0,y:a}))},b.prototype.pointToPosition=function(a){return this.renderer instanceof tb?1-this.renderer.pointToPosition(a):this.renderer.pointToPosition(a)},b.prototype.getMinMax=function(){var a=this;this.updateGridCount();var b=Number.POSITIVE_INFINITY,
c=Number.NEGATIVE_INFINITY;if(l(this._minDefined)&&l(this._maxDefined)||v(this.series.iterator(),function(d){if(!d.ignoreMinMax){var e=d.min(a);l(e)&&e<b&&(b=e);d=d.max(a);l(d)&&d>c&&(c=d)}}),this.logarithmic&&0>=b)throw Error("Logarithmic value axis can not have vales \x3c\x3d 0.");if(0==b&&0==c&&(c=.9,b=-.9),l(this._minDefined)&&(b=this._minDefined),l(this._maxDefined)&&(c=this._maxDefined),l(b)&&l(c)){this._minReal=b;this._maxReal=c;b==Number.POSITIVE_INFINITY&&(b=void 0);c==Number.NEGATIVE_INFINITY&&
(c=void 0);var f=this.adjustDifference(b,c),b=this.fixMin(b);1E-8>=(c=this.fixMax(c))-b&&(this._deltaMinMax=0!=c-b?1E-8:1,b-=this._deltaMinMax,c+=this._deltaMinMax);var b=b-(c-b)*this.extraMin,c=c+(c-b)*this.extraMax,h=this.strictMinMax;l(this._maxDefined)&&(h=!0);h=this.adjustMinMax(b,c,f,this._gridCount,h);if(b=h.min,f=(c=h.max)-b,h=this.adjustMinMax(b,c,c-b,this._gridCount,!0),b=h.min,c=h.max,this.strictMinMax&&(b=l(this._minDefined)?this._minDefined:this._minReal,1E-8>=(c=l(this._maxDefined)?
this._maxDefined:this._maxReal)-b&&(b-=this._deltaMinMax,c+=this._deltaMinMax)),(this._minAdjusted!=b||this._maxAdjusted!=c)&&l(b)&&l(c))if(f=this._minMaxAnimation,this._extremesChanged&&l(this._minAdjusted)&&l(this._maxAdjusted)&&this.inited){if(f&&!f.isFinished()&&this._finalMax==c&&this._finalMin==b)return;this._finalMin=b;this._finalMax=c;(f=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:b},{property:"_maxAdjusted",from:this._maxAdjusted,to:c}],this.rangeChangeDuration))&&!f.isFinished()?
(f.events.on("animationprogress",this.validateDataItems,this),f.events.on("animationended",function(){a.validateDataItems();a.series.each(function(a){a.validate()});a.handleSelectionExtremesChange()}),this._minMaxAnimation=f):this.series.each(function(a){a.validate()});this.validateDataItems();this.dispatchImmediately("extremeschanged");this.handleSelectionExtremesChange()}else{if(f&&!f.isFinished()&&this._finalMax==c&&this._finalMin==b)return;this._minAdjusted=b;this._maxAdjusted=c;this._finalMin=
b;this._finalMax=c;this.invalidateDataItems();this.dispatchImmediately("extremeschanged")}this._extremesChanged=!1;this._difference=this.adjustDifference(b,c)}},b.prototype.fixMin=function(a){return a},b.prototype.fixMax=function(a){return a},b.prototype.adjustMinMax=function(a,b,c,f,h){1>=f&&(f=1);f=Math.round(f);var d=a,e=b;0===c&&(c=Math.abs(b));var g=Math.log(Math.abs(c))*Math.LOG10E,g=Math.pow(10,Math.floor(g)),l=g/=10;h&&(l=0);this.logarithmic?(0>=a&&(a=this.baseValue),a==1/0&&(a=1),b==-1/0&&
(b=10),a=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E)),b=Math.pow(10,Math.ceil(Math.log(Math.abs(b))*Math.LOG10E))):(h?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):(a=Math.ceil(a/g)*g-l,b=Math.floor(b/g)*g+l),0>a&&0<=d&&(a=0),0<b&&0>=e&&(b=0));g=Math.log(Math.abs(c))*Math.LOG10E;g=Math.pow(10,Math.floor(g));g/=10;c=Math.ceil(c/f/g)*g;g=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E));f=Math.ceil(c/g);5<f?f=10:5>=f&&2<f&&(f=5);c=Math.ceil(c/(g*f))*g*f;this.maxPrecision<Number.MAX_VALUE&&
c!=Qe(c,this.maxPrecision)&&(c=Qe(c,this.maxPrecision));f=0;(1>g&&(c=D(c,f=Math.round(Math.abs(Math.log(Math.abs(g))*Math.LOG10E))+1)),this.logarithmic)||(g=Math.floor(a/c),a=D(c*g,f),l=void 0,(l=h?Math.floor(b/c):Math.ceil(b/c))==g&&l++,(b=D(c*l,f))<e&&(b+=c),a>d&&(a-=c));return{min:a,max:b,step:c}},Object.defineProperty(b.prototype,"min",{get:function(){var a=this._minAdjusted;return l(a)||(a=this._minDefined),a},set:function(a){this._minDefined!=a&&(this._minDefined=a,this.invalidate())},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(a){this.setPropertyValue("extraMin",a)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(a){this.setPropertyValue("extraMax",a)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"step",{get:function(){return this._step},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"max",{get:function(){var a=this._maxAdjusted;return l(a)||(a=this._maxDefined),a},set:function(a){this._maxDefined!=a&&(this._maxDefined=a,this.invalidate())},enumerable:!0,configurable:!0}),b.prototype.registerSeries=function(a){return new ja([c.prototype.registerSeries.call(this,a),a.events.on("extremeschanged",this.handleExtremesChange,this,!1),a.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",
a.invalidate,a,!1)])},b.prototype.handleSelectionExtremesChange=function(){var a,b,c=this,f=!0;if(v(this.series.iterator(),function(d){if(!d.ignoreMinMax&&!d.isHidden){d.visible&&!d.isHiding&&(f=!1);var e=d.selectionMin(c);d=d.selectionMax(c);l(e)&&(!l(a)||e<a)&&(a=e);l(d)&&(!l(b)||d>b)&&(b=d)}}),l(this._minDefined)?a=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(a=this._minReal),l(this._maxDefined)?b=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(b=this._maxReal),
a==b){--a;b+=1;var h=this.adjustMinMax(a,b,0,this._gridCount,this.strictMinMax);a=h.min;b=h.max}h=this.adjustDifference(a,b);h=this.adjustMinMax(a,b,h,this._gridCount);a=h.min;b=h.max;a-=(b-a)*this.extraMin;b+=(b-a)*this.extraMax;a=B(a,this.min,this.max);b=B(b,this.min,this.max);h=this.adjustDifference(a,b);h=this.adjustMinMax(a,b,h,this._gridCount,!0);a=h.min;b=h.max;this.strictMinMax&&(a=T(a,this._minDefined),b=ba(b,this._maxDefined));this._minZoomed=a;this._maxZoomed=b;this._step=h.step;var h=
this.valueToPosition(a),k=this.valueToPosition(b);f&&(h=0,k=1);this.keepSelection||this.zoom({start:h,end:k},!1,!1,0)},Object.defineProperty(b.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(a){this.setPropertyValue("strictMinMax",a)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(a){this.setPropertyValue("logarithmic",a)&&
this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(a){this.setPropertyValue("keepSelection",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(a){this.setPropertyValue("maxPrecision",a)&&this.invalidate()},enumerable:!0,configurable:!0}),b.prototype.handleExtremesChange=
function(){if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var a=this.min,b=this.max,c=0,c=l(a)&&l(b)&&a.toString().length>b.toString().length?a:b;this.ghostLabel.text=this.formatLabel(c)}},b.prototype.getX=function(a,b,c,f){b=a.getWorkingValue(b);null!=f||(f="valueX");a=a.getValue(f,"stack");return l(b)||(b=this.baseValue,this.logarithmic&&0<a&&(b=0)),this.renderer.positionToPoint(this.valueToPosition(b+a)).x},b.prototype.getY=function(a,b,c,f){b=a.getWorkingValue(b);null!=f||(f="valueY");
a=a.getValue(f,"stack");return l(b)||(b=this.baseValue,this.logarithmic&&0<a&&(b=0)),this.renderer.positionToPoint(this.valueToPosition(b+a)).y},b.prototype.getAngle=function(a,b,c,f){b=a.getWorkingValue(b);a=a.getValue(f,"stack");return l(b)||(b=this.baseValue),this.positionToAngle(this.valueToPosition(b+a))},b.prototype.getAnyRangePath=function(a,b,c){a=this.valueToPosition(a);b=this.valueToPosition(b);return this.getPositionRangePath(a,b)},b.prototype.getTooltipText=function(a){a=D(this.positionToValue(a),
this._stepDecimalPlaces);return this.adapter.apply("getTooltipText",this.tooltip.numberFormatter.format(a))},b.prototype.zoomToValues=function(a,b,c,f){this.zoom({start:(a-this.min)/(this.max-this.min),end:(b-this.min)/(this.max-this.min)},c,f)},Object.defineProperty(b.prototype,"minZoomed",{get:function(){return T(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxZoomed",{get:function(){return ba(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),
b.prototype.fixAxisBreaks=function(){var a=this;c.prototype.fixAxisBreaks.call(this);var b=this.axisBreaks;0<b.length&&b.each(function(b){var d=b.adjustedStartValue,c=b.adjustedEndValue,e=c-d,d=a.adjustMinMax(d,c,e,Math.ceil(e*b.breakSize)*a._gridCount/(a.max-a.min),!0);b.adjustedStep=d.step;b.adjustedMin=d.min;b.adjustedMax=d.max});this._difference=this.adjustDifference(this.min,this.max)},b.prototype.getPositionLabel=function(a){a=this.positionToValue(a);return this.numberFormatter.format(a)},b.prototype.showTooltipAt=
function(a){this.showTooltipAtPosition(this.valueToPosition(a))},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.min=a.min;this.max=a.max;this.calculateTotals=a.calculateTotals;this._baseValue=a.baseValue},b}(zd);p.registeredClasses.ValueAxis=ma;p.registeredClasses.ValueAxisDataItem=Cd;var yg=function(c){function b(){var a=c.call(this)||this;return a.className="DateAxisBreak",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},
set:function(a){this.setPropertyValue("startDate",a)&&(this.startValue=a.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(a){this.setPropertyValue("endDate",a)&&(this.endValue=a.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),b}(Le);p.registeredClasses.DateAxisBreak=
yg;var xg=function(c){function b(){var a=c.call(this)||this;return a.className="DateAxisDataItem",a.applyTheme(),a.values.date={},a.values.endDate={},a}return m(b,c),Object.defineProperty(b.prototype,"date",{get:function(){return this.dates.date},set:function(a){this.setDate("date",a);this.value=a.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(a){this.setDate("endDate",a);this.endValue=a.getTime()},enumerable:!0,
configurable:!0}),b}(Cd),sb=function(c){function b(){var a=c.call(this)||this;return a.gridIntervals=new S,a.dateFormats=new ga,a.periodChangeDateFormats=new ga,a._baseIntervalReal={timeUnit:"day",count:1},a._minDifference={},a.className="DateAxis",a.setPropertyValue("markUnitChange",!0),a.snapTooltip=!0,a.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",
count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",
count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1E3},{timeUnit:"year",count:2E3},{timeUnit:"year",count:5E3},{timeUnit:"year",count:1E4},{timeUnit:"year",count:1E5}]),a.axisFieldName="date",a.applyTheme(),
a}return m(b,c),b.prototype.fillRule=function(a){var b=a.value,c=a.component,f=c._gridInterval,f=Wa(f.timeUnit,f.count);Math.round((b-c.min)/f)/2==Math.round(Math.round((b-c.min)/f)/2)?a.axisFill.__disabled=!0:a.axisFill.__disabled=!1},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond"));this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",
this.language.translate("_date_second"));this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute"));this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour"));this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day"));this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day"));this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",
this.language.translate("_date_month"));this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year"));this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond"));this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second"));this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",
this.language.translate("_date_minute"));this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_hour"));this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day"));this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day"));this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",
this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},b.prototype.createDataItem=function(){return new xg},b.prototype.createAxisBreak=function(){return new yg},b.prototype.validateDataItems=function(){var a=this.start,b=this.end,e=(this.max-this.min)/this.baseDuration;c.prototype.validateDataItems.call(this);this.maxZoomFactor=(this.max-this.min)/this.baseDuration;this._deltaMinMax=this.baseDuration/2;a+=(b-a)*(1-e/((this.max-this.min)/this.baseDuration));this.zoom({start:a,
end:b},!1,!0)},b.prototype.handleSelectionExtremesChange=function(){},b.prototype.calculateZoom=function(){var a=this;c.prototype.calculateZoom.call(this);var b=this.chooseInterval(0,this.adjustDifference(this._minZoomed,this._maxZoomed),this._gridCount);Wa(b.timeUnit,b.count)<this.baseDuration&&(b=Gc({},this.baseInterval));this._gridInterval=b;this._gridDate=Ja(new Date(this.min),b.timeUnit,b.count,this.getFirstWeekDay(),this.dateFormatter.utc);this._nextGridUnit=Cf(b.timeUnit);this._intervalDuration=
Wa(b.timeUnit,b.count);var e=Math.ceil(this._difference/this._intervalDuration),e=Math.max(-5,Math.floor(this.start*e)-3);Ma(this._gridDate,b.timeUnit,e*b.count,this.dateFormatter.utc);v(this.series.iterator(),function(b){if(b.baseAxis==a){var d=b.getAxisField(a),c=Ja(new Date(a._minZoomed),a.baseInterval.timeUnit,a.baseInterval.count).getTime(),e=c.toString(),f=b.dataItemsByAxis.getKey(a.uid).getKey(e),e=0;0!=a.start&&(e=f?(f=a.findFirst(f,c,d)).index:b.dataItems.findClosestIndex(a._minZoomed,function(a){return a[d]},
"left"));var c=a.baseInterval,c=Ma(Ja(new Date(a._maxZoomed),c.timeUnit,c.count,a.getFirstWeekDay(),a.dateFormatter.utc),c.timeUnit,c.count,a.dateFormatter.utc).getTime(),f=c.toString(),f=b.dataItemsByAxis.getKey(a.uid).getKey(f),g=b.dataItems.length;1!=a.end&&(f?g=f.index:(--c,g=b.dataItems.findClosestIndex(c,function(a){return a[d]},"right")+1));b.startIndex=e;b.endIndex=g}})},b.prototype.findFirst=function(a,b,c){var d=a.index;if(0<d){var d=a.component.dataItems.getIndex(d-1),e=d[c];return!e||
e.getTime()<b?a:this.findFirst(d,b,c)}return a},b.prototype.validateData=function(){c.prototype.validateData.call(this);l(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(b.prototype,"minDifference",{get:function(){var a=this,b=Number.MAX_VALUE;return this.series.each(function(d){b>a._minDifference[d.uid]&&(b=a._minDifference[d.uid])}),b!=Number.MAX_VALUE&&0!=b||(b=Wa("day")),b},enumerable:!0,configurable:!0}),b.prototype.seriesDataChangeUpdate=function(a){this._minDifference[a.uid]=
Number.MAX_VALUE},b.prototype.postProcessSeriesDataItems=function(){var a=this;this.series.each(function(b){JSON.stringify(b._baseInterval[a.uid])!=JSON.stringify(a.baseInterval)&&(b.dataItems.each(function(b){a.postProcessSeriesDataItem(b)}),b._baseInterval[a.uid]=a.baseInterval)});this.addEmptyUnitsBreaks()},b.prototype.postProcessSeriesDataItem=function(a){var b=this,c=this.baseInterval,f=a.component.dataItemsByAxis.getKey(this.uid);K(a.dates,function(d){var e=a.getDate(d).getTime(),e=Ja(new Date(e),
c.timeUnit,c.count,b.getFirstWeekDay(),b.dateFormatter.utc).getTime(),h=Ma(new Date(e),c.timeUnit,c.count,b.dateFormatter.utc);a.setCalculatedValue(d,e,"open");a.setCalculatedValue(d,h.getTime(),"close");f.setKey(e.toString(),a)})},b.prototype.addEmptyUnitsBreaks=function(){var a=this;if(this.skipEmptyPeriods&&l(this.min)&&l(this.max)){var b=this.baseInterval.timeUnit,c=this.baseInterval.count;this.axisBreaks.clear();for(var f=Ja(new Date(this.min),b,c,this.getFirstWeekDay(),this.dateFormatter.utc),
h=void 0,k=function(){Ma(f,b,c,g.dateFormatter.utc);var d=f.getTime(),e=d.toString();hf(g.series.iterator(),function(b){return!!b.dataItemsByAxis.getKey(a.uid).getKey(e)})?h&&(h.endDate=new Date(d-1),h=void 0):h||((h=g.axisBreaks.create()).startDate=new Date(d))},g=this;f.getTime()<this.max-this.baseDuration;)k()}},b.prototype.fixAxisBreaks=function(){var a=this;c.prototype.fixAxisBreaks.call(this);var b=this.axisBreaks;0<b.length&&b.each(function(b){b.gridInterval=a.chooseInterval(0,b.adjustedEndValue-
b.adjustedStartValue,Math.ceil(a._gridCount*(Math.min(a.end,b.endPosition)-Math.max(a.start,b.startPosition))/(a.end-a.start)));var d=Ja(new Date(b.adjustedStartValue),b.gridInterval.timeUnit,b.gridInterval.count,a.getFirstWeekDay(),a.dateFormatter.utc);d.getTime()>b.startDate.getTime()&&Ma(d,b.gridInterval.timeUnit,b.gridInterval.count,a.dateFormatter.utc);b.gridDate=d})},b.prototype.getFirstWeekDay=function(){return this.dateFormatter?this.dateFormatter.firstDayOfWeek:1},b.prototype.getGridDate=
function(a,b){var d=this._gridInterval.timeUnit,c=this._gridInterval.count;Ja(a,d,1,this.getFirstWeekDay(),this.dateFormatter.utc);var h=a.getTime(),k=bc(a),g=Ma(k,d,b,this.dateFormatter.utc).getTime(),q=this.isInBreak(g);q&&(Ja(k=new Date(q.endDate.getTime()),d,c,this.getFirstWeekDay(),this.dateFormatter.utc),k.getTime()<q.endDate.getTime()&&Ma(k,d,c,this.dateFormatter.utc),g=k.getTime());h=this.adjustDifference(h,g);return Math.round(h/Wa(d))<c?this.getGridDate(a,b+c):k},b.prototype.getBreaklessDate=
function(a,b,c){var d=new Date(a.endValue);Ja(d,b,c,this.getFirstWeekDay(),this.dateFormatter.utc);Ma(d,b,c,this.dateFormatter.utc);var e=d.getTime();return(a=this.isInBreak(e))?this.getBreaklessDate(a,b,c):d},b.prototype.validateAxisElements=function(){var a=this;if(l(this.max)&&l(this.min)){this.calculateZoom();var b=this._gridDate.getTime(),c=this._gridInterval.timeUnit,f=this._gridInterval.count,h=bc(this._gridDate),k=this._dataItemsIterator;this.resetIterators();for(var g=function(){var a=q.getGridDate(bc(h),
f);b=a.getTime();var d=bc(a),d=Ma(d,c,f,q.dateFormatter.utc),e=q.dateFormats.getKey(c);q.markUnitChange&&h&&je(a,h,q._nextGridUnit,q.dateFormatter.utc)&&"year"!==c&&(e=q.periodChangeDateFormats.getKey(c));var g=q.dateFormatter.format(a,e),e=k.find(function(a){return a.text===g});e.__disabled&&(e.__disabled=!1);q.appendDataItem(e);e.axisBreak=void 0;e.date=a;e.endDate=d;e.text=g;h=a;q.validateDataElement(e)},q=this;b<=this._maxZoomed;)g();var y=this.renderer;v(this.axisBreaks.iterator(),function(b){if(0<
b.breakSize){var d=b.gridInterval.timeUnit,c=b.gridInterval.count;if(Z(b.startPoint,b.endPoint)>4*y.minGridDistance)for(var e,f=b.gridDate.getTime(),h=0,g=function(){var g=bc(b.gridDate);if(f=Ma(g,d,c*h,a.dateFormatter.utc).getTime(),h++,f>b.adjustedStartValue&&f<b.adjustedEndValue){var n=bc(g),n=Ma(n,d,c,a.dateFormatter.utc),q=a.dateFormats.getKey(d);a.markUnitChange&&e&&je(g,e,a._nextGridUnit,a.dateFormatter.utc)&&"year"!==d&&(q=a.periodChangeDateFormats.getKey(d));var l=a.dateFormatter.format(g,
q),q=k.find(function(a){return a.text===l});q.__disabled&&(q.__disabled=!1);a.appendDataItem(q);q.axisBreak=b;b.dataItems.moveValue(q);q.date=g;q.endDate=n;q.text=l;e=g;a.validateDataElement(q)}};f<=b.adjustedMax;)g()}})}},b.prototype.validateDataElement=function(a){if(l(this.max)&&l(this.min)){var b=this.renderer,c=a.value,f=a.endValue;l(f)||(f=c);var c=this.valueToPosition(c),h=f=this.valueToPosition(f);!a.isRange&&this._gridInterval.count>this.baseInterval.count&&(f=c+(f-c)/(this._gridInterval.count/
this.baseInterval.count));a.position=c;var k=a.tick;k&&!k.disabled&&b.updateTickElement(k,c,f);(k=a.grid)&&!k.disabled&&b.updateGridElement(k,c,f);(k=a.axisFill)&&!k.disabled&&(b.updateFillElement(k,c,h),a.isRange||this.fillRule(a));(h=a.mask)&&b.updateFillElement(h,c,f);(h=a.label)&&!h.disabled&&(k=h.location,0==k&&(k=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||a.isRange?0:.5),b.updateLabelElement(h,c,f,k))}},Object.defineProperty(b.prototype,"baseDuration",{get:function(){return Wa(this.baseInterval.timeUnit,
this.baseInterval.count)},enumerable:!0,configurable:!0}),b.prototype.adjustMinMax=function(a,b){return{min:a,max:b,step:this.baseDuration}},b.prototype.fixMin=function(a){a=Ja(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc).getTime();return a+(Ma(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this.dateFormatter.utc).getTime()-a)*this.startLocation},b.prototype.fixMax=function(a){a=Ja(new Date(a),this.baseInterval.timeUnit,
this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc).getTime();return a+(Ma(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this.dateFormatter.utc).getTime()-a)*this.endLocation},b.prototype.chooseInterval=function(a,b,c){var d=this.gridIntervals,e=d.getIndex(a),e=Wa(e.timeUnit,e.count),k=d.length-1;if(a>=k)return Gc({},d.getIndex(k));k=Math.ceil(b/e);return b<e&&0<a?Gc({},d.getIndex(a-1)):k<=c?Gc({},d.getIndex(a)):a+1<d.length?this.chooseInterval(a+1,b,c):Gc({},d.getIndex(a))},
b.prototype.formatLabel=function(a){return this.dateFormatter.format(a)},b.prototype.dateToPosition=function(a){return this.valueToPosition(a.getTime())},b.prototype.anyToPosition=function(a){return a instanceof Date?this.dateToPosition(a):this.valueToPosition(a)},b.prototype.dateToPoint=function(a){var b=this.dateToPosition(a);a=this.renderer.positionToPoint(b);b=this.renderer.positionToAngle(b);return{x:a.x,y:a.y,angle:b}},b.prototype.anyToPoint=function(a){return a instanceof Date?this.dateToPoint(a):
this.valueToPoint(a)},b.prototype.positionToDate=function(a){return new Date(this.positionToValue(a))},b.prototype.getX=function(a,b,c){a=this.getTimeByLocation(a,b,c);return l(a)||(a=this.baseValue),this.renderer.positionToPoint(this.valueToPosition(a)).x},b.prototype.getY=function(a,b,c){b=this.getTimeByLocation(a,b,c);a=a.getValue("valueX","stack");return l(b)||(b=this.baseValue),this.renderer.positionToPoint(this.valueToPosition(b+a)).y},b.prototype.getAngle=function(a,b,c,f){b=this.getTimeByLocation(a,
b,c);a=a.getValue(f,"stack");return l(b)||(b=this.baseValue),this.positionToAngle(this.valueToPosition(b+a))},b.prototype.getTimeByLocation=function(a,b,c){if(null!=b){l(c)||l(c=a.workingLocations[b])||(c=0);var d=a.values[b].open;a=a.values[b].close;return l(d)&&l(a)?d+(a-d)*c:void 0}},b.prototype.processSeriesDataItem=function(a,b){var d,c=a.component;if(d=a["date"+b]){d=d.getTime();var h,k=a["openDate"+b];b=this._prevSeriesTime;if(k&&(h=k.getTime()),l(h))h=Math.abs(d-h),this._minDifference[c.uid]>
h&&(this._minDifference[c.uid]=h);h=d-b;0<h&&this._minDifference[c.uid]>h&&(this._minDifference[c.uid]=h);this._prevSeriesTime=d;c._baseInterval[this.uid]?this.postProcessSeriesDataItem(a):this._baseInterval&&(c._baseInterval[this.uid]=this._baseInterval,this.postProcessSeriesDataItem(a))}},b.prototype.updateAxisBySeries=function(){c.prototype.updateAxisBySeries.call(this);var a=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Wa("day",27)&&"week"==a.timeUnit&&(a.timeUnit="month",a.count=
1);this.minDifference>=Wa("hour",23)&&"hour"==a.timeUnit&&(a.timeUnit="day",a.count=1);this.minDifference>=Wa("week",1)-Wa("hour",1)&&"day"==a.timeUnit&&(a.timeUnit="week",a.count=1);this.minDifference>=Wa("year",1)-Wa("day",1.01)&&"month"==a.timeUnit&&(a.timeUnit="year",a.count=1);this._baseIntervalReal=a},Object.defineProperty(b.prototype,"baseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(a){JSON.stringify(this._baseInterval)!=JSON.stringify(a)&&
(this._baseInterval=a,this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(a){if(this.setPropertyValue("skipEmptyPeriods",a)&&this.invalidateData(),a)a=this.axisBreaks.template,a.startLine.disabled=!0,a.endLine.disabled=!0,a.fillShape.disabled=!0,a.breakSize=0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipDateFormat",
{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(a){this.setPropertyValue("tooltipDateFormat",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(a){this.setPropertyValue("markUnitChange",a)&&this.invalidateData()},enumerable:!0,configurable:!0}),b.prototype.getTooltipText=function(a){var b=this.positionToDate(a);if(b=Ja(b,this.baseInterval.timeUnit,this.baseInterval.count,
this.getFirstWeekDay(),this.dateFormatter.utc),null!=this.tooltipDateFormat)a=this.dateFormatter.format(b,this.tooltipDateFormat);else{var c=this.dateFormats.getKey(this.baseInterval.timeUnit);a=c?this.dateFormatter.format(b,c):this.getPositionLabel(a)}return this.adapter.apply("getTooltipText",a)},b.prototype.roundPosition=function(a,b){var d=this.baseInterval,c=d.timeUnit,d=d.count;a=this.positionToDate(a);if(Ja(a,c,d,this.getFirstWeekDay(),this.dateFormatter.utc),0<b&&Ma(a,c,b*d,this.dateFormatter.utc),
this.isInBreak(a.getTime()))for(;a.getTime()<this.max&&(Ma(a,c,d,this.dateFormatter.utc),this.isInBreak(a.getTime())););return this.dateToPosition(a)},b.prototype.getCellStartPosition=function(a){return this.roundPosition(a,0)},b.prototype.getCellEndPosition=function(a){return this.roundPosition(a,1)},b.prototype.getSeriesDataItem=function(a,b,c){var d;b=this.positionToValue(b);b=Ja(new Date(b),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc);var e=
a.dataItemsByAxis.getKey(this.uid).getKey(b.getTime().toString());!e&&c&&(d="Y"==this.axisLetter?"dateY":"dateX",e=a.dataItems.getIndex(a.dataItems.findClosestIndex(b.getTime(),function(a){return a[d]?a[d].getTime():-1/0},"any")));return e},b.prototype.getPositionLabel=function(a){a=this.positionToDate(a);return this.dateFormatter.format(a,this.getCurrentLabelFormat())},b.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},
b.prototype.initRenderer=function(){c.prototype.initRenderer.call(this);var a=this.renderer;a&&(a.ticks.template.location=0,a.grid.template.location=0,a.labels.template.location=0,a.baseGrid.disabled=!0)},Object.defineProperty(b.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),b.prototype.zoomToDates=function(a,b,c,f){a=this.dateFormatter.parse(a);b=this.dateFormatter.parse(b);this.zoomToValues(a.getTime(),b.getTime(),c,f)},b.prototype.asIs=function(a){return"baseInterval"==
a||c.prototype.asIs.call(this,a)},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.dateFormats=a.dateFormats;this.periodChangeDateFormats=a.periodChangeDateFormats;a._baseInterval&&(this.baseInterval=a.baseInterval)},b.prototype.showTooltipAtPosition=function(a,b){var d=this;if(b||(a=this.toAxisPosition(a)),this.snapTooltip){var f,h=Ja(this.positionToDate(a),this.baseInterval.timeUnit,1,this.getFirstWeekDay(),this.dateFormatter.utc).getTime();if(this.series.each(function(b){if(b.baseAxis==
d){var c=d.getSeriesDataItem(b,a,!0);if(c){var e=void 0;b.xAxis==d&&(e=c.dateX);b.yAxis==d&&(e=c.dateY);f?Math.abs(f.getTime()-h)>Math.abs(e.getTime()-h)&&(f=e):f=e}}}),f){var k=f.getTime();f=Ja(new Date(k),this.baseInterval.timeUnit,this.baseInterval.count,this.getFirstWeekDay(),this.dateFormatter.utc);k=f.getTime();f=new Date(f.getTime()+this.baseDuration*this.renderer.tooltipLocation);a=this.dateToPosition(f);this.series.each(function(a){var b=a.dataItemsByAxis.getKey(d.uid).getKey(k.toString());
(b=a.showTooltipAtDataItem(b))?d.chart._seriesPoints.push({series:a,point:b}):(a.tooltipText||a.tooltipHTML)&&a.hideTooltip()})}}c.prototype.showTooltipAtPosition.call(this,a,!0)},Object.defineProperty(b.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(a){this.setPropertyValue("snapTooltip",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),
b.prototype.makeGap=function(a,b){var d=a.component;return a&&b&&!d.connect&&l(d.autoGapCount)&&d.baseAxis==this&&a.dates["date"+this.axisLetter].getTime()-b.dates["date"+this.axisLetter].getTime()>d.autoGapCount*this.baseDuration?!0:!1},b}(ma);p.registeredClasses.DateAxis=sb;p.registeredClasses.DateAxisDataItem=xg;var Sb=function(c){function b(){var a=c.call(this)||this;return a.className="AxisRendererX",a.minGridDistance=120,a.opposite=!1,a.rotation=0,a.width=t(100),a.labels.template.horizontalCenter=
"middle",a.applyTheme(),a}return m(b,c),b.prototype.setAxis=function(a){c.prototype.setAxis.call(this,a);a.layout="vertical"},b.prototype.updateGridContainer=function(){var a=this.axis;if(a){var b=this.gridContainer;b.x=a.pixelX;b.width=a.pixelWidth}},b.prototype.processRenderer=function(){c.prototype.processRenderer.call(this);var a=this.axis;a&&(a.width instanceof ka||(a.width=t(100)),this.line,a=a.title,a.rotation=0,a.align="center",this.opposite?(this.line.toFront(),a.toBack()):(a.toFront(),this.line.toBack()))},
b.prototype.updateTooltip=function(){if(this.axis){var a=this.line.pixelX,b=this.line.pixelY,c=this.axisLength,f=1E3;this.opposite?this.inside||(b=-1E3,f=1E3):this.inside&&(b=-1E3,f=1E3);this.axis.updateTooltip("vertical",{x:a,y:b,width:c,height:f})}},b.prototype.updateLabelElement=function(a,b,c,f){null!=f||(f=a.location);b+=(c-b)*f;c=this.positionToPoint(b);a.isMeasured=!a.inside;var d;f=0;this.opposite?(a.inside?(d="top","bottom"==a.valign&&(f=this.gridContainer.maxHeight,d="bottom")):d="bottom",
c.y=f):(a.inside?(d="bottom","top"==a.valign&&(f=-this.gridContainer.maxHeight,d="top")):d="top",c.y+=f);0==a.rotation&&(a.verticalCenter=d);this.positionItem(a,c);this.toggleVisibility(a,b,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(b.prototype,"axisLength",{get:function(){var a=this.axis;return a.measuredWidth-a.pixelPaddingRight-a.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){return{x:this.positionToCoordinate(a),y:0}},b.prototype.pointToPosition=
function(a){return this.coordinateToPosition(a.x)},b.prototype.getPositionRangePath=function(a,b){a=B(this.positionToCoordinate(a),0,this.axisLength);b=B(this.positionToCoordinate(b),0,this.axisLength);var d=Math.abs(b-a),c=this.getHeight();return Bb({x:Math.min(a,b),y:0,width:d,height:c},!0)},b.prototype.updateBreakElement=function(a){c.prototype.updateBreakElement.call(this,a);var b=a.startLine,e=a.endLine,f=a.fillShape,h=a.startPoint,k=a.endPoint,g=a.pixelMarginLeft,q=this.getHeight()-a.pixelMarginTop-
a.pixelMarginBottom;h.x=B(h.x,-1,this.pixelWidth+1);k.x=B(k.x,-1,this.pixelWidth+1);h.x==k.x&&(0>h.x||h.x>this.pixelWidth)?a.fillShape.__disabled=!0:a.fillShape.__disabled=!1;b.y=g;b.width=0;b.height=q;e.y=g;e.width=0;e.height=q;f.height=q;f.width=Math.abs(k.x-h.x);f.y=g;f.x=h.x},b.prototype.updateGridElement=function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);a.path=z({x:0,y:0})+u({x:0,y:this.getHeight()});this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.updateTickElement=
function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);var d=a.length;c.y=Ab({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y;this.opposite?d*=a.inside?1:-1:d*=a.inside?-1:1;a.path=z({x:0,y:0})+u({x:0,y:d});this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.updateAxisLine=function(){this.line.path=z({x:0,y:0})+u({x:this.axisLength,y:0})},b.prototype.updateBaseGridElement=function(){c.prototype.updateBaseGridElement.call(this);var a=this.axis,b=this.getHeight(),
e=this.pixelWidth,f=this.baseGrid,a=a.basePoint.x;-.2>a||a>e+.2?f.hide(0):(e=Ab({x:0,y:0},this.gridContainer,f.parent).y,f.path=z({x:0,y:0})+u({x:0,y:b}),f.moveTo({x:a,y:e}),f.show(0))},b.prototype.createBreakSprites=function(a){a.startLine=new Nb;a.endLine=new Nb;var b=new Rf;b.setWavedSides(!1,!0,!1,!0);a.fillShape=b},b.prototype.toAxisPosition=function(a){var b=this.axis,c=b.parent;return b&&c?(a-b.pixelX/c.innerWidth)/(b.pixelWidth/c.innerWidth):a},b}(Ad);p.registeredClasses.AxisRendererX=Sb;
Ba.push({relevant:Ha.heightXS,state:function(c,b){return c instanceof Sb?(c=c.states.create(b),c.properties.inside=!0,c.properties.maxLabelPosition=.9,c.properties.minLabelPosition=.1,c):null}});Ba.push({relevant:Ha.heightXXS,state:function(c,b){return c instanceof Sb?(c=c.states.create(b),c.properties.disabled=!0,c):null}});var wg=function(c){function b(){var a=c.call(this)||this;return a.className="CategoryAxisBreak",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"startPosition",
{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(a){this.setPropertyValue("startCategory",a)&&this.axis&&(this.axis.invalidateDataItems(),
this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(a){this.setPropertyValue("endCategory",a)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startValue",{get:function(){var a=this.getPropertyValue("startCategory");return a?this.axis.categoryToIndex(a):this.getPropertyValue("startValue")},
set:function(a){this.setPropertyValue("startValue",a)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endValue",{get:function(){var a=this.getPropertyValue("endCategory");return a?this.axis.categoryToIndex(a):this.getPropertyValue("endValue")},set:function(a){this.setPropertyValue("endValue",a)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),b}(Bd);
p.registeredClasses.CategoryAxisBreak=wg;var vg=function(c){function b(){var a=c.call(this)||this;return a.adapter=new Qa(a),a.seriesDataItems={},a.className="CategoryAxisDataItem",a.text="{category}",a.locations.category=0,a.locations.endCategory=1,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"category",{get:function(){return this.adapter.isEnabled("category")?this.adapter.apply("category",this.properties.category):this.properties.category},set:function(a){this.setProperty("category",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(a){this.setProperty("endCategory",a)},enumerable:!0,configurable:!0}),b}(yd),Ra=function(c){function b(){var a=c.call(this)||this;return a.dataItemsByCategory=new ga,a.className="CategoryAxis",a.axisFieldName="category",a._lastDataItem=a.createDataItem(),a._lastDataItem.component=a,a._disposers.push(a._lastDataItem),a.applyTheme(),a}return m(b,c),b.prototype.createDataItem=
function(){return new vg},b.prototype.createAxisBreak=function(){return new wg},b.prototype.processSeriesDataItem=function(a,b){c.prototype.processSeriesDataItem.call(this,a,b);if(b=this.dataItemsByCategory.getKey(a["category"+this.axisLetter])){var d=a.component.uid,f=b.seriesDataItems[d];f||(f=[],b.seriesDataItems[d]=f);f.push(a)}},b.prototype.validateDataRange=function(){var a=this;c.prototype.validateDataRange.call(this);v(this._series.iterator(),function(d){if(d.xAxis instanceof b&&d.yAxis instanceof
b)d.invalidateDataRange();else{var c=a.positionToIndex(a.start),f=a.positionToIndex(a.end);f>=a.dataItems.length&&f--;for(var h=d.uid,k=void 0,g=void 0;c<=f;c++){var q=a.dataItems.getIndex(c);if(q&&(q=q.seriesDataItems[h]))for(var y=0;y<q.length;y++){var m=q[y];m&&(m=m.index,(!l(k)||m<k)&&(k=m),(!l(g)||m>g)&&(g=m))}}l(k)?d.startIndex=k:d.start=a.start;l(g)?d.endIndex=g+1:d.end=a.end;0<a.axisBreaks.length&&d.invalidateDataRange()}})},b.prototype.validate=function(){var a=this;c.prototype.validate.call(this);
var b=this.dataItems.length,e=B(Math.floor(this.start*b-1),0,b),f=B(Math.ceil(this.end*b),0,b);this.renderer.invalid&&this.renderer.validate();f=Math.min(this.dataItems.length,Math.ceil((f-e)/(this.renderer.axisLength/this.renderer.minGridDistance)));if(this._startIndex=Math.floor(e/f)*f,this._endIndex=Math.ceil(this.end*b),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=f,!(0>=this.axisLength)){this.maxZoomFactor=this.dataItems.length;0>=this.dataItems.length&&
(this.maxZoomFactor=1);this.resetIterators();for(var e=T(0,this._startIndex-this._frequency),f=ba(this.dataItems.length,this._endIndex+this._frequency),h=b=0;h<e;h++)(g=this.dataItems.getIndex(h)).__disabled=!0;for(var h=f,k=this.dataItems.length;h<k;h++)(g=this.dataItems.getIndex(h)).__disabled=!0;for(h=e;h<f;h++)if(h<this.dataItems.length){var g=this.dataItems.getIndex(h);h/this._frequency==Math.round(h/this._frequency)?(this.isInBreak(h)||(this.appendDataItem(g),this.validateDataElement(g,b)),
b++):g.__disabled=!0}this.appendDataItem(this._lastDataItem);this.validateDataElement(this._lastDataItem,b+1,this.dataItems.length);this.axisBreaks.each(function(b){var d=b.adjustedStartValue,c=b.adjustedEndValue;if(Kc({start:d,end:c},{start:a._startIndex,end:a._endIndex})){b=B(Math.ceil(a._frequency/b.breakSize),1,c-d);for(var e=0;d<=c;d+=b){var f=a.dataItems.getIndex(d);a.appendDataItem(f);a.validateDataElement(f,e);e++}}});this.validateBreaks();this.validateAxisRanges();this.ghostLabel.invalidate();
this.renderer.invalidateLayout()}},b.prototype.validateDataElement=function(a,b,e){c.prototype.validateDataElement.call(this,a);var d=this.renderer;l(e)||(e=this.categoryToIndex(a.category));var h=this.categoryToIndex(a.endCategory);l(h)||(h=e);var k,g,q,y=this.indexToPosition(e,a.locations.category),m=this.indexToPosition(h,a.locations.endCategory);a.position=y;a.isRange&&(k=h,g=this.indexToPosition(e,a.locations.category),q=this.indexToPosition(k,a.locations.endCategory));a.point=d.positionToPoint(y);
(h=a.tick)&&!h.disabled&&d.updateTickElement(h,y,m);(h=a.grid)&&!h.disabled&&d.updateGridElement(h,y,m);(h=a.label)&&!h.disabled&&(a.isRange&&null!=h.text||(a.text=a.text),d.updateLabelElement(h,y,m),(a.label.measuredWidth>this.ghostLabel.measuredWidth||a.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=a.label.currentText));(y=a.axisFill)&&!y.disabled&&(a.isRange||(k=e+this._frequency,g=this.indexToPosition(e,y.location),q=this.indexToPosition(k,y.location)),d.updateFillElement(y,
g,q),a.isRange||this.fillRule(a,b));(a=a.mask)&&d.updateFillElement(a,g,q)},b.prototype.disposeData=function(){this.dataItemsByCategory.clear();c.prototype.disposeData.call(this)},b.prototype.processDataItem=function(a,b){c.prototype.processDataItem.call(this,a,b);this.dataItemsByCategory.setKey(a.category,a)},b.prototype.getDataItem=function(a){return this.dataItemsByCategory.getKey(a[this.dataFields.category])||this.dataItems.create()},b.prototype.indexToPosition=function(a,b){l(b)||(b=.5);var d=
this.startIndex,c=this.endIndex,h=this.adjustDifference(d,c),k=this.startLocation;return h-=k,h-=1-this.endLocation,$a(this.axisBreaks.iterator(),function(b){var e=b.adjustedStartValue,f=b.adjustedEndValue;if(a<d)return!1;Kc({start:e,end:f},{start:d,end:c})&&(e=Math.max(d,e),f=Math.min(c,f),b=b.breakSize,a>f?d+=(f-e)*(1-b):a<e||(a=e+(a-e)*b));return!0}),D((a+b-k-d)/h,5)},b.prototype.categoryToPosition=function(a,b){a=this.categoryToIndex(a);return this.indexToPosition(a,b)},b.prototype.categoryToPoint=
function(a,b){b=this.categoryToPosition(a,b);a=this.renderer.positionToPoint(b);b=this.renderer.positionToAngle(b);return{x:a.x,y:a.y,angle:b}},b.prototype.anyToPoint=function(a,b){return this.categoryToPoint(a,b)},b.prototype.anyToPosition=function(a,b){return this.categoryToPosition(a,b)},b.prototype.categoryToIndex=function(a){if(null!=a&&(a=this.dataItemsByCategory.getKey(a)))return a.index},b.prototype.zoomToCategories=function(a,b){this.zoomToIndexes(this.categoryToIndex(a),this.categoryToIndex(b)+
1)},b.prototype.getAnyRangePath=function(a,b,c,f){a=this.categoryToPosition(a,c);b=this.categoryToPosition(b,f);return this.getPositionRangePath(a,b)},b.prototype.roundPosition=function(a,b){a=this.positionToIndex(a);return this.indexToPosition(a,b)},b.prototype.getFirstSeriesDataItem=function(a,b){for(var d=0;d<a.dataItems.length;d++){var c=a.dataItems.getIndex(d);if(a.xAxis==this&&c.categoryX==b||a.yAxis==this&&c.categoryY==b)return c}},b.prototype.getLastSeriesDataItem=function(a,b){for(var d=
a.dataItems.length-1;0<=d;d--){var c=a.dataItems.getIndex(d);if(a.xAxis==this&&c.categoryX==b||a.yAxis==this&&c.categoryY==b)return c}},b.prototype.getSeriesDataItem=function(a,b,c){var d=this;if(l(b)){var e=this.positionToIndex(b);e>=this.dataItems.length&&e--;if(b=this.dataItems.getIndex(e)){var k,g=b.category;return(b=a.dataItems.getIndex(e))&&(a.xAxis==this&&b.categoryX==g||a.yAxis==this&&b.categoryY==g)?b:(a.dataItems.each(function(b){a.xAxis==d&&b.categoryX==g&&(k||(k=b),Math.abs(e-k.index)>
Math.abs(e-b.index)&&(k=b));a.yAxis==d&&b.categoryY==g&&(k||(k=b),Math.abs(e-k.index)>Math.abs(e-b.index)&&(k=b))}),k)}}},b.prototype.getX=function(a,b,c){var d;return null!=b&&(d=this.categoryToPosition(a.categories[b],c)),aa(d)?this.basePoint.x:this.renderer.positionToPoint(d).x},b.prototype.getY=function(a,b,c){var d;return null!=b&&(d=this.categoryToPosition(a.categories[b],c)),aa(d)?this.basePoint.y:this.renderer.positionToPoint(d).y},b.prototype.getAngle=function(a,b,c,f){return this.positionToAngle(this.categoryToPosition(a.categories[b],
c))},b.prototype.getCellStartPosition=function(a){return this.roundPosition(a,0)},b.prototype.getCellEndPosition=function(a){return this.roundPosition(a,1)},b.prototype.getTooltipText=function(a){if(a=this.dataItems.getIndex(this.positionToIndex(a)))return this.adapter.apply("getTooltipText",a.category)},b.prototype.positionToIndex=function(a){0>(a=D(a,10))&&(a=0);var b=this.startIndex,c=this.endIndex,f=c-b,h=null;return $a(this.axisBreaks.iterator(),function(d){var e=d.startPosition,k=d.endPosition,
g=d.adjustedStartValue,l=d.adjustedEndValue,g=T(g,b),l=ba(l,c);d=d.breakSize;if(f-=(l-g)*(1-d),a>k)b+=(l-g)*(1-d);else if(!(a<e))return h=g+Math.round((a-e)/(k-e)*(l-g)),!1;return!0}),l(h)||(h=Math.floor(a*f+b)),h},b.prototype.positionToCategory=function(a){return this.getPositionLabel(a)},b.prototype.getPositionLabel=function(a){if(a=this.dataItems.getIndex(this.positionToIndex(a)))return a.category},Object.defineProperty(b.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},
enumerable:!0,configurable:!0}),b.prototype.initRenderer=function(){c.prototype.initRenderer.call(this);this.renderer.baseGrid.disabled=!0},Object.defineProperty(b.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),b}(zd);p.registeredClasses.CategoryAxis=Ra;p.registeredClasses.CategoryAxisDataItem=vg;var vd=function(c){function b(){var a=c.call(this)||this;return a.className="XYSeriesDataItem",a.values.valueX={stack:0},a.values.valueY={stack:0},a.values.openValueX=
{},a.values.openValueY={},a.values.dateX={},a.values.dateY={},a.values.openDateX={},a.values.openDateY={},a.setLocation("dateX",.5,0),a.setLocation("dateY",.5,0),a.setLocation("categoryX",.5,0),a.setLocation("categoryY",.5,0),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(a){this.setValue("valueX",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valueY",{get:function(){return this.values.valueY.value},
set:function(a){this.setValue("valueY",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(a){this.setDate("dateX",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(a){this.setDate("dateY",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(a){this.setCategory("categoryX",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(a){this.setCategory("categoryY",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(a){this.setValue("openValueX",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(a){this.setValue("openValueY",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(a){this.setDate("openDateX",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(a){this.setDate("openDateY",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(a){this.setProperty("openCategoryX",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(a){this.setProperty("openCategoryY",a)},enumerable:!0,configurable:!0}),b.prototype.getMin=function(a,b,c){var d,e=this;return l(c)||(c=0),J(a,function(a){a=b?e.getWorkingValue(a):e.getValue(a);((a+=c)<d||!l(d))&&(d=a)}),d},b.prototype.getMax=function(a,b,c){var d,e=this;return l(c)||(c=0),J(a,function(a){a=b?e.getWorkingValue(a):e.getValue(a);((a+=
c)>d||!l(d))&&(d=a)}),d},b}(td),wd=function(c){function b(){var a=c.call(this)||this;return a._xAxis=new sa,a._yAxis=new sa,a._xValueFields=[],a._yValueFields=[],a._baseInterval={},a.className="XYSeries",a.isMeasured=!1,a.cursorTooltipEnabled=!0,a.cursorHoverEnabled=!0,a.mainContainer.mask=new M,a.mainContainer.mask.setElement(a.paper.add("path")),a.stacked=!1,a.snapTooltip=!1,a.tooltip.pointerOrientation="horizontal",a.tooltip.events.on("hidden",function(){a.returnBulletDefaultState()},void 0,!1),
a._disposers.push(a._xAxis),a._disposers.push(a._yAxis),a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("X/Y Series"))},b.prototype.createDataItem=function(){return new vd},b.prototype.dataChangeUpdate=function(){this._tmin.clear();this._tmax.clear();this._smin.clear();this._smax.clear();this.xAxis&&this.xAxis.seriesDataChangeUpdate(this);this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},
b.prototype.validateData=function(){if(this.defineFields(),0<this.data.length&&this.dataChangeUpdate(),c.prototype.validateData.call(this),this.updateItemReaderText(),null==this.dataFields[this._xField]||null==this.dataFields[this._yField])throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');},b.prototype.processDataItem=function(a,b){try{c.prototype.processDataItem.call(this,a,b),a.events.disable(),this.xAxis.processSeriesDataItem(a,"X"),this.yAxis.processSeriesDataItem(a,
"Y"),a.events.enable(),this.setInitialWorkingValues(a)}catch(e){this._chart.raiseCriticalError(e)}},b.prototype.updateDataItem=function(a){c.prototype.updateDataItem.call(this,a);this.xAxis.processSeriesDataItem(a,"X");this.yAxis.processSeriesDataItem(a,"Y")},b.prototype.setInitialWorkingValues=function(a){},b.prototype.disposeData=function(){if(c.prototype.disposeData.call(this),this.xAxis){var a=this.dataItemsByAxis.getKey(this.xAxis.uid);a&&a.clear();this.xAxis instanceof Ra&&this.clearCatAxis(this.xAxis)}this.yAxis&&
((a=this.dataItemsByAxis.getKey(this.yAxis.uid))&&a.clear(),this.yAxis instanceof Ra&&this.clearCatAxis(this.yAxis))},b.prototype.clearCatAxis=function(a){var b=this.uid;a.dataItems.each(function(a){a.seriesDataItems[b]&&(a.seriesDataItems[b]=[])})},b.prototype.defineFields=function(){var a=this.yAxis,b=this.xAxis.axisFieldName,c=b+"X",b="open"+Wc(b)+"X",f=a.axisFieldName,a=f+"Y",f="open"+Wc(f)+"Y";this._xField=c;this._yField=a;this.dataFields[b]&&(this._xOpenField=b);this.dataFields[f]&&(this._yOpenField=
f);this.dataFields[f]||this.baseAxis!=this.yAxis||(this._yOpenField=a);this.dataFields[b]||this.baseAxis!=this.xAxis||(this._xOpenField=c);this.stacked&&this.baseAxis==this.xAxis&&(this._xOpenField=c);this.stacked&&this.baseAxis==this.yAxis&&(this._yOpenField=a);this.xAxis instanceof Ra&&this.yAxis instanceof Ra&&(this._yOpenField||(this._yOpenField=a));this._xValueFields=[];this._yValueFields=[];this.addValueField(this.xAxis,this._xValueFields,this._xField);this.addValueField(this.xAxis,this._xValueFields,
this._xOpenField);this.addValueField(this.yAxis,this._yValueFields,this._yField);this.addValueField(this.yAxis,this._yValueFields,this._yOpenField)},b.prototype.addValueField=function(a,b,c){a instanceof ma&&null!=this.dataFields[c]&&-1==b.indexOf(c)&&b.push(c)},b.prototype.setCategoryAxisField=function(a,b){null!=this.dataFields[a]||(this.dataFields[a]=b.dataFields.category)},b.prototype.setDateAxisField=function(a,b){null!=this.dataFields[a]||(this.dataFields[a]=b.dataFields.date)},b.prototype.afterDraw=
function(){c.prototype.afterDraw.call(this);this.createMask()},b.prototype.createMask=function(){if(this.mainContainer.mask){var a=this.getMaskPath();v(this.axisRanges.iterator(),function(b){b.axisFill.fillPath&&(b.axisFill.validate(),a+=b.axisFill.fillPath)});this.mainContainer.mask.path=a}},b.prototype.getMaskPath=function(){return Bb({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength})},b.prototype.getAxisField=function(a){return a==this.xAxis?this.xField:a==this.yAxis?this.yField:
void 0},b.prototype.validateDataItems=function(){this.xAxis.updateAxisBySeries();this.yAxis.updateAxisBySeries();c.prototype.validateDataItems.call(this);this.xAxis.postProcessSeriesDataItems();this.yAxis.postProcessSeriesDataItems()},b.prototype.validateDataRange=function(){this.xAxis.dataRangeInvalid&&this.xAxis.validateDataRange();this.yAxis.dataRangeInvalid&&this.yAxis.validateDataRange();c.prototype.validateDataRange.call(this)},b.prototype.validate=function(){this.xAxis.invalid&&this.xAxis.validate();
this.yAxis.invalid&&this.yAxis.validate();this.y=this.yAxis.pixelY;this.x=this.xAxis.pixelX;this._showBullets=!0;var a=this.minBulletDistance;l(a)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<a&&(this._showBullets=!1);c.prototype.validate.call(this)},Object.defineProperty(b.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var a=this.chart.xAxes.getIndex(0);if(!a)throw Error("There are no X axes on chart.");this.xAxis=a}return this._xAxis.get()}},set:function(a){var b=
this._xAxis.get();b!=a&&(b&&(this.dataItemsByAxis.removeKey(b.uid),this._xAxis.dispose(),b.series.removeValue(this)),this._xAxis.set(a,a.registerSeries(this)),this.dataItemsByAxis.setKey(a.uid,new ga),this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var a=this.chart.yAxes.getIndex(0);if(!a)throw Error("There are no Y axes on chart.");this.yAxis=a}return this._yAxis.get()}},set:function(a){var b=
this._yAxis.get();b!=a&&(b&&(this.dataItemsByAxis.removeKey(b.uid),this._yAxis.dispose(),b.series.removeValue(this)),this._yAxis.set(a,a.registerSeries(this)),this.dataItemsByAxis.setKey(a.uid,new ga),this.invalidateData())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"baseAxis",{get:function(){return this._baseAxis||(this.yAxis instanceof sb&&(this._baseAxis=this.yAxis),this.xAxis instanceof sb&&(this._baseAxis=this.xAxis),this.yAxis instanceof Ra&&(this._baseAxis=this.yAxis),
this.xAxis instanceof Ra&&(this._baseAxis=this.xAxis),this._baseAxis||(this._baseAxis=this.xAxis)),this._baseAxis},set:function(a){this._baseAxis!=a&&(this._baseAxis=a,this.invalidate())},enumerable:!0,configurable:!0}),b.prototype.processValues=function(a){c.prototype.processValues.call(this,a);var b=this.dataItems,e=1/0,f=-1/0,h=1/0,k=-1/0,g=this.startIndex,q=this.endIndex;for(a||(g=0,q=this.dataItems.length);g<q;g++){var l=b.getIndex(g);this.getStackValue(l,a);var m=l.getValue("valueX","stack"),
p=l.getValue("valueY","stack"),e=ba(l.getMin(this._xValueFields,a,m),e),h=ba(l.getMin(this._yValueFields,a,p),h),f=T(l.getMax(this._xValueFields,a,m),f),k=T(l.getMax(this._yValueFields,a,p),k);this.stacked&&(this.baseAxis==this.xAxis&&(h=ba(h,p)),this.baseAxis==this.yAxis&&(e=ba(e,m)))}this.xAxis.processSeriesDataItems();this.yAxis.processSeriesDataItems();b=this.xAxis.uid;q=this.yAxis.uid;a||this._tmin.getKey(b)==e&&this._tmax.getKey(b)==f&&this._tmin.getKey(q)==h&&this._tmax.getKey(q)==k||(this._tmin.setKey(b,
e),this._tmax.setKey(b,f),this._tmin.setKey(q,h),this._tmax.setKey(q,k),this.stackedSeries&&this.stackedSeries.processValues(!1),this.dispatchImmediately("extremeschanged"));this._smin.getKey(b)==e&&this._smax.getKey(b)==f&&this._smin.getKey(q)==h&&this._smax.getKey(q)==k||(this._smin.setKey(b,e),this._smax.setKey(b,f),this._smin.setKey(q,h),this._smax.setKey(q,k),(this.appeared||0!=this.start||1!=this.end)&&this.dispatchImmediately("selectionextremeschanged"));!a&&this.stacked&&this.processValues(!0)},
b.prototype.hideTooltip=function(){c.prototype.hideTooltip.call(this);this.returnBulletDefaultState();this._prevTooltipDataItem=void 0},b.prototype.showTooltipAtPosition=function(a,b){var d;if(this.visible&&!this.isHiding&&!this.isShowing){var c=this._xAxis.get(),h=this._yAxis.get();c==this.baseAxis&&(d=c.getSeriesDataItem(this,c.toAxisPosition(a),this.snapTooltip));h==this.baseAxis&&(d=h.getSeriesDataItem(this,h.toAxisPosition(b),this.snapTooltip));if(a=this.showTooltipAtDataItem(d))return a;if(!this.tooltipText)return}this.hideTooltip()},
b.prototype.showTooltipAtDataItem=function(a){if(this.returnBulletDefaultState(a),a&&a.visible&&(this.updateLegendValue(a),this.cursorTooltipEnabled)){this.tooltipDataItem=a;var b=this.tooltipXField,c=this.tooltipYField;if(null!=a[b]&&null!=a[c]&&(b=this.getPoint(a,b,c,a.locations[b],a.locations[c]))){if(this.tooltipX=b.x,this.tooltipY=b.y,this._prevTooltipDataItem!=a&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:a}),this._prevTooltipDataItem=a),this.cursorHoverEnabled)try{for(var f=
jc(a.sprites),h=f.next();!h.done;h=f.next()){var k=h.value;!k.parent.visible||k.isHidden||k.__disabled||k.disabled||k.isHiding||(k.isHover=!0)}}catch(y){g={error:y}}finally{try{h&&!h.done&&(q=f.return)&&q.call(f)}finally{if(g)throw g.error;}}return this.showTooltip()?gb({x:b.x,y:b.y},this):void 0}}var g,q},b.prototype.returnBulletDefaultState=function(a){if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=a)try{for(var b=jc(this._prevTooltipDataItem.sprites),c=b.next();!c.done;c=b.next()){var f=
c.value;f.isDisposed()?this._prevTooltipDataItem=void 0:f.isHover=!1}}catch(n){h={error:n}}finally{try{c&&!c.done&&(k=b.return)&&k.call(b)}finally{if(h)throw h.error;}}var h,k},b.prototype.shouldCreateBullet=function(a,b){var d=b.xField;null!=d||(d=this.xField);b=b.yField;return null!=b||(b=this.yField),!(this.xAxis instanceof ma&&!a.hasValue([d])||this.yAxis instanceof ma&&!a.hasValue([b]))},b.prototype.positionBullet=function(a){c.prototype.positionBullet.call(this,a);var b=a.dataItem,e=a.xField;
null!=e||(e=this.xField);var f=a.yField;if(null!=f||(f=this.yField),this.xAxis instanceof ma&&!b.hasValue([e])||this.yAxis instanceof ma&&!b.hasValue([f]))a.visible=!1;else{var h=this.getBulletLocationX(a,e),k=this.getBulletLocationY(a,f);(f=this.getPoint(b,e,f,h,k))?(e=f.x,f=f.y,l(a.locationX)&&this.xOpenField!=this.xField&&(e-=(e-this.xAxis.getX(b,this.xOpenField))*a.locationX),l(a.locationY)&&this.yOpenField!=this.yField&&(f-=(f-this.yAxis.getY(b,this.yOpenField))*a.locationY),a.moveTo({x:e,y:f}),
a.visible=!0):a.visible=!1}},b.prototype.getBulletLocationX=function(a,b){var d=a.locationX;a=a.dataItem;return l(d)||(d=a.workingLocations[b]),d},b.prototype.getBulletLocationY=function(a,b){var d=a.locationY;a=a.dataItem;return l(d)||(d=a.workingLocations[b]),d},Object.defineProperty(b.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(a){this.setPropertyValue("stacked",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"snapTooltip",
{get:function(){return this.getPropertyValue("snapTooltip")},set:function(a){this.setPropertyValue("snapTooltip",a)},enumerable:!0,configurable:!0}),b.prototype.show=function(a){var b,e=this;this.xAxis instanceof ma&&this.xAxis!=this.baseAxis&&(b=this._xValueFields);this.yAxis instanceof ma&&this.yAxis!=this.baseAxis&&(b=this._yValueFields);var f,h=this.startIndex,k=this.endIndex,g=0,q=this.defaultState.transitionDuration;l(a)&&(q=a);v(Jb(this.dataItems.iterator()),function(a){var d=a[0];a=a[1];e.sequencedInterpolation&&
0<q&&(g=e.sequencedInterpolationDelay*d+q*(d-h)/(k-h));f=a.show(q,g,b)});a=c.prototype.show.call(this,a);return f&&!f.isFinished()&&(a=f),a},b.prototype.hide=function(a){var b,e,f=this,h=this.xAxis;h instanceof ma&&h!=this.baseAxis&&(b=this._xValueFields,e=this.stacked||0>h.minZoomed&&0<h.maxZoomed||this.stackedSeries?0:h.min);h=this.yAxis;h instanceof ma&&h!=this.baseAxis&&(b=this._yValueFields,e=this.stacked||0>h.minZoomed&&0<h.maxZoomed||this.stackedSeries?0:h.min);var k=this.startIndex,g=this.endIndex,
q=this.hiddenState.transitionDuration;l(a)&&(q=a);var m,p=0;v(Jb(this.dataItems.iterator()),function(a){var d=a[0];a=a[1];0==q?a.hide(0,0,e,b):(f.sequencedInterpolation&&0<q&&(p=f.sequencedInterpolationDelay*d+q*(d-k)/(g-k)),m=a.hide(q,p,e,b))});a=c.prototype.hide.call(this,q);return a&&!a.isFinished()&&a.delay(p),m&&!m.isFinished()&&(a=m),this.validateDataElements(),a},b.prototype.handleDataItemWorkingValueChange=function(a,b){c.prototype.handleDataItemWorkingValueChange.call(this,a,b);v(this.baseAxis.series.iterator(),
function(a){a.stacked&&a.invalidateProcessedData()})},b.prototype.getStackValue=function(a,b){var d=this;if(this.stacked){var c,h=this.chart,k=h.series.indexOf(this);this.xAxis!=this.baseAxis&&this.xAxis instanceof ma&&(c=this.xField);this.yAxis!=this.baseAxis&&this.yAxis instanceof ma&&(c=this.yField);a.setCalculatedValue(c,0,"stack");$a(h.series.range(0,k).backwards().iterator(),function(e){if(e.xAxis==d.xAxis&&e.yAxis==d.yAxis){e.stackedSeries=d;var f=e.dataItems.getIndex(a.index);if(f&&f.hasValue(d._xValueFields)&&
f.hasValue(d._yValueFields)){e=a.getValue(c);var h=void 0;if(h=b?f.getWorkingValue(c)+f.getValue(c,"stack"):f.getValue(c)+f.getValue(c,"stack"),0<=e&&0<=h||0>e&&0>h)return a.setCalculatedValue(c,h,"stack"),!1}else if(!e.stacked)return!1}return!0})}},Object.defineProperty(b.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(a){this._tooltipXField=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:
this._yField},set:function(a){this._tooltipYField=a},enumerable:!0,configurable:!0}),b.prototype.min=function(a){return this._tmin.getKey(a.uid)},b.prototype.max=function(a){return this._tmax.getKey(a.uid)},b.prototype.selectionMin=function(a){var b=this._smin.getKey(a.uid);return l(b)||(b=this.min(a)),b},b.prototype.selectionMax=function(a){var b=this._smax.getKey(a.uid);return l(b)||(b=this.max(a)),b},b.prototype.processConfig=function(a){if(a){if(null!=a.xAxis&&Y(a.xAxis)&&(this.map.hasKey(a.xAxis)?
a.xAxis=this.map.getKey(a.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+a.xAxis+'" found for `xAxis`.'),delete a.xAxis)),null!=a.yAxis&&Y(a.yAxis)&&(this.map.hasKey(a.yAxis)?a.yAxis=this.map.getKey(a.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+a.yAxis+'" found for `yAxis`.'),delete a.yAxis)),null!=a.axisRanges&&ya(a.axisRanges))for(var b=0,e=a.axisRanges.length;b<e;b++){var f=a.axisRanges[b];null!=
f.type||(f.type="AxisDataItem");null!=f.axis&&Y(f.axis)&&this.map.hasKey(f.axis)?f.component=this.map.getKey(f.axis):null!=f.component&&Y(f.component)&&this.map.hasKey(f.component)&&(f.component=this.map.getKey(f.component))}null!=a.dataFields&&pa(a.dataFields)||this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}c.prototype.processConfig.call(this,a)},b.prototype.getPoint=function(a,b,c,f,h,k,g){b=this.xAxis.getX(a,b,f);a=this.yAxis.getY(a,c,h);return{x:b=
B(b,-2E4,2E4),y:a=B(a,-2E4,2E4)}},b.prototype.updateItemReaderText=function(){var a="";K(this.dataFields,function(b,c){a+="{"+b+"} "});this.itemReaderText=a},Object.defineProperty(b.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(a){this.setPropertyValue("cursorTooltipEnabled",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},
set:function(a){this.setPropertyValue("cursorHoverEnabled",a)},enumerable:!0,configurable:!0}),b}(ud);p.registeredClasses.XYSeries=wd;p.registeredClasses.XYSeriesDataItem=vd;var Ng=function(c){function b(){var a=c.call(this)||this;a.point={x:0,y:0};a._stick="none";a.className="Cursor";a.width=t(100);a.height=t(100);a.shouldClone=!1;a.hide(0);a.trackable=!0;a.clickable=!0;a.isMeasured=!1;var b=C();return a._disposers.push(b.body.events.on("down",a.handleCursorDown,a)),a._disposers.push(b.body.events.on("up",
a.handleCursorUp,a)),a._disposers.push(b.body.events.on("track",a.handleCursorMove,a)),a.applyTheme(),a}return m(b,c),b.prototype.handleCursorMove=function(a){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&a.touch)){if(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||C().isLocalElement(a.pointer,this.paper.svg,this.uid))return a=$b(a.pointer.point,this),"hard"==this._stick&&this._stickPoint&&(a=this._stickPoint),"soft"==this._stick&&this._stickPoint&&
(this.fitsToBounds(a)||(a=this._stickPoint)),this.triggerMove(a),a;this.isHidden&&this.isHiding||this.hide()}},b.prototype.hideReal=function(a){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return c.prototype.hideReal.call(this,a)},b.prototype.triggerMove=function(a,b){a.x=D(a.x,1);a.y=D(a.y,1);b&&(this._stick=b);"hard"!=b&&"soft"!=b||(this._stickPoint=a);this.triggerMoveReal(a)},b.prototype.triggerMoveReal=function(a){this.point.x==a.x&&this.point.y==a.y||(this.point=a,this.invalidatePosition(),
this.fitsToBounds(a)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},b.prototype.triggerDown=function(a){this.triggerDownReal(a)},b.prototype.triggerDownReal=function(a){switch(this._generalBehavior){case "zoom":this.dispatchImmediately("zoomstarted");break;case "select":this.dispatchImmediately("selectstarted");break;case "pan":this.dispatchImmediately("panstarted"),C().setGlobalStyle(Aa.grabbing)}},b.prototype.triggerUp=function(a){this.triggerUpReal(a)},
b.prototype.triggerUpReal=function(a){this.updatePoint(this.upPoint);a=C();if(Z(this._upPointOrig,this._downPointOrig)>a.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case "zoom":this.dispatchImmediately("zoomended");break;case "select":this.dispatchImmediately("selectended");break;case "pan":this.dispatchImmediately("panended"),a.setGlobalStyle(Aa.default)}this.downPoint=void 0;this.updateSelection()}else this.dispatchImmediately("behaviorcanceled"),a.setGlobalStyle(Aa.default),
this.downPoint=void 0},b.prototype.updateSelection=function(){},b.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth;this.yPosition=1-this.point.y/this.innerHeight},b.prototype.handleCursorDown=function(a){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&a.touch)&&C().isLocalElement(a.pointer,this.paper.svg,this.uid)){var b=$b(a.pointer.point,this);this._downPointOrig={x:b.x,y:b.y};a.event.cancelable&&this.shouldPreventGestures(a.touch)&&this.fitsToBounds(b)&&
a.event.preventDefault();this.triggerMove(b);this.triggerDown(b)}},b.prototype.shouldPreventGestures=function(a){return!0},b.prototype.updatePoint=function(a){},b.prototype.handleCursorUp=function(a){this.interactionsEnabled&&(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||C().isLocalElement(a.pointer,this.paper.svg,this.uid))&&(a=$b(a.pointer.point,this),this._upPointOrig={x:a.x,y:a.y},this.triggerMove(a),this.triggerUp(a))},Object.defineProperty(b.prototype,"chart",
{get:function(){return this._chart},set:function(a){this._chart=a;null!=this._chart.plotContainer&&C().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.Cursor=Ng;var Oe=function(c){function b(){var a=c.call(this)||this;a._lineX=new sa;a._lineY=new sa;a._xAxis=new sa;a._yAxis=new sa;a.className="XYCursor";a.behavior="zoomX";a.maxPanOut=.1;var b=new W,e=a.createChild(M);e.shouldClone=!1;e.fillOpacity=.2;e.fill=b.getFor("alternativeBackground");
e.isMeasured=!1;e.interactionsEnabled=!1;a.selection=e;a._disposers.push(a.selection);e=a.createChild(M);e.shouldClone=!1;e.stroke=b.getFor("grid");e.fill=L();e.strokeDasharray="3,3";e.isMeasured=!1;e.strokeOpacity=.4;e.interactionsEnabled=!1;e.y=0;a.lineX=e;a._disposers.push(a.lineX);e=a.createChild(M);return e.shouldClone=!1,e.stroke=b.getFor("grid"),e.fill=L(),e.strokeDasharray="3,3",e.isMeasured=!1,e.strokeOpacity=.4,e.interactionsEnabled=!1,e.x=0,a.lineY=e,a._disposers.push(a.lineY),a.events.on("sizechanged",
a.updateSize,a,!1),a._disposers.push(a._lineX),a._disposers.push(a._lineY),a._disposers.push(a._xAxis),a._disposers.push(a._yAxis),a.mask=a,a.applyTheme(),a}return m(b,c),b.prototype.updateSize=function(){this.lineX&&(this.lineX.path=z({x:0,y:0})+u({x:0,y:this.innerHeight}));this.lineY&&(this.lineY.path=z({x:0,y:0})+u({x:this.innerWidth,y:0}))},b.prototype.updateSelection=function(){if(this._usesSelection){var a=this.downPoint;if(a){var b=this.point;this.lineX&&(b.x=this.lineX.pixelX);this.lineY&&
(b.y=this.lineY.pixelY);var c=this.selection,f=Math.min(b.x,a.x),h=Math.min(b.y,a.y),k=D(Math.abs(a.x-b.x),this._positionPrecision),a=D(Math.abs(a.y-b.y),this._positionPrecision);switch(this.behavior){case "zoomX":h=0;a=this.pixelHeight;break;case "zoomY":f=0;k=this.pixelWidth;break;case "selectX":h=0;a=this.pixelHeight;break;case "selectY":f=0,k=this.pixelWidth}c.x=f;c.y=h;c.path=le(k,a);c.validatePosition()}else this.selection.hide()}},b.prototype.fixPoint=function(a){return a.x=Math.max(0,a.x),
a.y=Math.max(0,a.y),a.x=Math.min(this.pixelWidth,a.x),a.y=Math.min(this.pixelHeight,a.y),a},b.prototype.triggerMoveReal=function(a){c.prototype.triggerMoveReal.call(this,a);this.snapToSeries&&!this.snapToSeries.isHidden||this.updateLinePositions(a);this.downPoint&&3<Z(this.downPoint,a)&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},b.prototype.updateLinePositions=function(a){a=this.fixPoint(this.point);this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=
a.x);this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=a.y);this.updateSelection()},b.prototype.triggerDownReal=function(a){if(this.visible&&!this.isHiding)if(this.fitsToBounds(a)){this.downPoint={x:a.x,y:a.y};this.updatePoint(a);this.point.x=this.downPoint.x;this.point.y=this.downPoint.y;var b=this.selection,e=this.downPoint.x,f=this.downPoint.y;this._usesSelection&&(b.x=e,b.y=f,b.path="",b.show());c.prototype.triggerDownReal.call(this,a)}else this.downPoint=void 0;else this.downPoint=void 0},
b.prototype.updatePoint=function(a){this.lineX&&(a.x=this.lineX.pixelX);this.lineY&&(a.y=this.lineY.pixelY)},b.prototype.triggerUpReal=function(a){Z(this._upPointOrig,this._downPointOrig)>C().getHitOption(this.interactions,"hitTolerance")?this.downPoint&&(this.upPoint=a,this.updatePoint(this.upPoint),this.getRanges(),"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide(),c.prototype.triggerUpReal.call(this,a)):(this.selection.hide(0),"pan"==this._generalBehavior&&
C().setGlobalStyle(Aa.default));this.downPoint=void 0},b.prototype.getPanningRanges=function(){var a=D(this.downPoint.x/this.innerWidth,5),b=D(this.downPoint.y/this.innerHeight,5),a=a-D(this.point.x/this.innerWidth,5),b=-b+D(this.point.y/this.innerHeight,5);this.xRange={start:a,end:1+a};this.yRange={start:b,end:1+b};"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1);"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},b.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=
this.lineX.pixelX);this.lineY&&(this.upPoint.y=this.lineY.pixelY);this.selection;var a=D(this.downPoint.x/this.innerWidth,5),b=D(this.upPoint.x/this.innerWidth,5),c=D(this.downPoint.y/this.innerHeight,5),f=D(this.upPoint.y/this.innerHeight,5);this.xRange={start:ba(a,b),end:T(a,b)};this.yRange={start:ba(c,f),end:T(c,f)}},Object.defineProperty(b.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(a){this.setPropertyValue("behavior",a,!0);this._usesSelection=!1;
-1!=a.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0);-1!=a.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0);-1!=a.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),b.prototype.shouldPreventGestures=function(a){return!(this.interactions.isTouchProtected&&a||"none"==this.behavior)},Object.defineProperty(b.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(a){this.setPropertyValue("fullWidthLineX",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(a){this.setPropertyValue("fullWidthLineY",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(a){this.setPropertyValue("maxPanOut",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"xAxis",{get:function(){return this._xAxis.get()},
set:function(a){this._xAxis.get()!=a&&this._xAxis.set(a,new ja([a.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(a){this._yAxis.get()!=a&&this._yAxis.set(a,new ja([a.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1)]))},enumerable:!0,configurable:!0}),b.prototype.handleXTooltipPosition=function(a){a=this.xAxis.tooltip;
var b=ab({x:a.pixelX,y:a.pixelY},this);a=b.x;if(this.lineX&&(this.lineX.x=a,this.fitsToBounds(b)||this.hide()),this.xAxis&&this.fullWidthLineX){var b=this.xAxis.currentItemStartPoint,c=this.xAxis.currentItemEndPoint;b&&c&&(this.lineX.x=a,a=c.x-b.x,this.lineX.path=le(a,this.innerHeight,-a/2))}},b.prototype.handleYTooltipPosition=function(a){a=this.yAxis.tooltip;var b=ab({x:a.pixelX,y:a.pixelY},this);a=b.y;if(this.lineY&&(this.lineY.y=a,this.fitsToBounds(b)||this.hide()),this.yAxis&&this.fullWidthLineY){var b=
this.yAxis.currentItemStartPoint,c=this.yAxis.currentItemEndPoint;b&&c&&(this.lineY.y=a,a=c.y-b.y,this.lineY.path=le(this.innerWidth,a,0,-a/2))}},Object.defineProperty(b.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(a){a?(a.setElement(this.paper.add("path")),this._lineX.set(a,a.events.on("positionchanged",this.updateSelection,this,!1)),a.interactionsEnabled=!1,a.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"lineY",{get:function(){return this._lineY.get()},
set:function(a){a?(a.setElement(this.paper.add("path")),this._lineY.set(a,a.events.on("positionchanged",this.updateSelection,this,!1)),a.parent=this,a.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"selection",{get:function(){return this._selection},set:function(a){(this._selection=a)&&(a.element=this.paper.add("path"),a.parent=this)},enumerable:!0,configurable:!0}),b.prototype.processConfig=function(a){a&&(null!=a.xAxis&&Y(a.xAxis)&&
(this.map.hasKey(a.xAxis)?a.xAxis=this.map.getKey(a.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+a.xAxis+'" found for `xAxis`'),delete a.xAxis)),null!=a.yAxis&&Y(a.yAxis)&&(this.map.hasKey(a.yAxis)?a.yAxis=this.map.getKey(a.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+a.yAxis+'" found for `yAxis`'),delete a.yAxis)),null!=a.snapToSeries&&Y(a.snapToSeries)&&(this.map.hasKey(a.snapToSeries)?a.snapToSeries=this.map.getKey(a.snapToSeries):(this.processingErrors.push('[XYCursor] No series with id "'+
a.snapToSeries+'" found for `series`'),delete a.snapToSeries)));c.prototype.processConfig.call(this,a)},Object.defineProperty(b.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(a){this.setPropertyValue("snapToSeries",a)&&(this._snapToDisposer&&this._snapToDisposer.dispose(),a&&(this._snapToDisposer=a.events.on("tooltipshownat",this.handleSnap,this,!1)))},enumerable:!0,configurable:!0}),b.prototype.handleSnap=function(){var a=this.snapToSeries,b=a.tooltipY,
c=a.tooltipX;this.xAxis&&this.xAxis.renderer.opposite&&(b-=this.pixelHeight);this.point={x:c,y:b};this.getPositions();var f=c,h=b,c=c-this.pixelWidth;this.yAxis&&this.yAxis.renderer.opposite&&(c+=this.pixelWidth);var k=a.tooltip,g=k.animationDuration,k=k.animationEasing;a.baseAxis==a.xAxis&&a.yAxis.showTooltipAtPosition(this.yPosition);a.baseAxis==a.yAxis&&a.xAxis.showTooltipAtPosition(this.xPosition);this.lineX.animate([{property:"y",to:b}],g,k);this.lineY.animate([{property:"x",to:c}],g,k);this.xAxis||
this.lineX.animate([{property:"x",to:f}],g,k);this.yAxis||this.lineY.animate([{property:"y",to:h}],g,k)},b.prototype.dispose=function(){this.hide(0);c.prototype.dispose.call(this)},b}(Ng);p.registeredClasses.XYCursor=Oe;var Fc=function(c){function b(){var a=c.call(this)||this;a._chart=new sa;a.className="XYChartScrollbar";var b=new W;a.padding(0,0,0,0);var e=a.createChild(Pb);e.shouldClone=!1;e.margin(0,0,0,0);e.padding(0,0,0,0);e.interactionsEnabled=!1;a._scrollbarChart=e;a._disposers.push(a._scrollbarChart);
a.minHeight=60;a.minWidth=60;var f=a.createChild(M);f.shouldClone=!1;f.setElement(a.paper.add("path"));f.fill=b.getFor("background");f.fillOpacity=.8;f.interactionsEnabled=!1;f.isMeasured=!1;f.toBack();a._unselectedOverlay=f;a._disposers.push(a._unselectedOverlay);e.toBack();a.background.cornerRadius(0,0,0,0);e=a.thumb.background;e.cornerRadius(0,0,0,0);e.fillOpacity=0;e.fill=b.getFor("background");(b=e.states.getKey("hover"))&&(b.properties.fillOpacity=.2);b=e.states.getKey("down");return b&&(b.properties.fillOpacity=
.4),a._disposers.push(a._chart),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"series",{get:function(){return this._series||(this._series=new S,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),b.prototype.handleSeriesAdded=function(a){var b=a.newValue;a=this.scrollbarChart;a.zoomOutButton.disabled=!0;this.chart=
b.chart;var c=!0,f=!0;v(this.series.iterator(),function(a){a!=b&&(a.xAxis==b.xAxis&&(c=!1),a.yAxis==b.yAxis&&(f=!1))});var h=new W,k=b.clone();if(c){var g=b.xAxis.clone();a.xAxes.moveValue(g);g.title.disabled=!0;g.rangeChangeDuration=0;g.id=b.uid;(q=g.renderer).ticks.template.disabled=!0;q.inside=!0;q.labels.template.inside=!0;q.line.strokeOpacity=0;q.minLabelPosition=.02;q.maxLabelPosition=.98;q.line.disabled=!0;q.axisFills.template.disabled=!0;q.baseGrid.disabled=!0;q.grid.template.strokeOpacity=
.05;q.minWidth=void 0;q.minHeight=void 0;q.padding(0,0,0,0);q.chart=a;q.margin(0,0,0,0);q.labels.template.fillOpacity=.5;k.xAxis=g}if(f){var q,g=b.yAxis.clone();a.yAxes.moveValue(g);g.title.disabled=!0;g.rangeChangeDuration=0;(q=g.renderer).ticks.template.disabled=!0;q.inside=!0;q.labels.template.inside=!0;q.line.strokeOpacity=0;q.minLabelPosition=.02;q.maxLabelPosition=.98;q.line.disabled=!0;q.axisFills.template.disabled=!0;q.grid.template.stroke=h.getFor("background");q.baseGrid.disabled=!0;q.grid.template.strokeOpacity=
.05;q.minWidth=void 0;q.minHeight=void 0;q.chart=a;q.padding(0,0,0,0);q.margin(0,0,0,0);q.labels.template.fillOpacity=.5;k.yAxis=g}k.rangeChangeDuration=0;k.interpolationDuration=0;k.defaultState.transitionDuration=0;k.showOnInit=!1;this._disposers.push(k.events.on("validated",this.zoomOutAxes,this,!1));this._disposers.push(b.events.on("datavalidated",function(){k.data!=b.data&&(k.data=b.data)},void 0,!1));k.defaultState.properties.visible=!0;k.filters.push(new qd);a.series.push(k);this.updateByOrientation()},
b.prototype.updateByOrientation=function(){var a=this;this._scrollbarChart&&(v(this._scrollbarChart.xAxes.iterator(),function(b){var d=b.renderer;"vertical"==a.orientation?(d.grid.template.disabled=!0,d.labels.template.disabled=!0,d.minGridDistance=10):(d.grid.template.disabled=!1,d.labels.template.disabled=!1,d.minGridDistance=b.clonedFrom.renderer.minGridDistance)}),v(this._scrollbarChart.yAxes.iterator(),function(b){var d=b.renderer;"horizontal"==a.orientation?(d.grid.template.disabled=!0,d.labels.template.disabled=
!0,d.minGridDistance=10):(d.grid.template.disabled=!1,d.labels.template.disabled=!1,d.minGridDistance=b.clonedFrom.renderer.minGridDistance)}))},b.prototype.handleSeriesRemoved=function(a){a.oldValue.events.off("validated",this.zoomOutAxes,this)},Object.defineProperty(b.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"chart",{get:function(){return this._chart.get()},set:function(a){this._chart.get()!==a&&(this._chart.set(a,
a.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=a)},enumerable:!0,configurable:!0}),b.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data&&(this.scrollbarChart.data=this.chart.data)},b.prototype.zoomOutAxes=function(){var a=this.scrollbarChart;v(a.xAxes.iterator(),function(a){a.zoom({start:0,end:1},!0,!0)});v(a.yAxes.iterator(),function(a){a.zoom({start:0,end:1},!0,!0)})},b.prototype.updateThumb=function(){if(c.prototype.updateThumb.call(this),
this._unselectedOverlay){var a=this.thumb,b=a.pixelX||0,e=a.pixelY||0,f=a.pixelWidth||0,a=a.pixelHeight||0,h="";"horizontal"==this.orientation?(h=Bb({x:-1,y:0,width:b,height:a}),h+=Bb({x:b+f,y:0,width:(this.pixelWidth||0)-b-f,height:a})):(h=Bb({x:0,y:0,width:f,height:e}),h+=Bb({x:0,y:e+a,width:f,height:(this.pixelHeight||0)-e-a}));this._unselectedOverlay.path=h}},b.prototype.processConfig=function(a){if(a&&null!=a.series&&ya(a.series))for(var b=0,e=a.series.length;b<e;b++){var f=a.series[b];if(null!=
f&&Y(f)){if(!this.map.hasKey(f))throw Error("XYChartScrollbar error: Series with id `"+f+"` does not exist.");a.series[b]=this.map.getKey(f)}}c.prototype.processConfig.call(this,a)},b}(pe);p.registeredClasses.XYChartScrollbar=Fc;var ve=function(c){function b(){var a=c.call(this)||this;return a.className="XYChartDataItem",a.applyTheme(),a}return m(b,c),b}(cg),Pb=function(c){function b(){var a=c.call(this)||this;a._axisRendererX=Sb;a._axisRendererY=tb;a._seriesPoints=[];a.className="XYChart";a.maskBullets=
!0;a.arrangeTooltips=!0;var b=a.chartContainer;b.layout="vertical";a.padding(15,15,15,15);var e=b.createChild(I);e.shouldClone=!1;e.layout="vertical";e.width=t(100);e.zIndex=1;a.topAxesContainer=e;e=b.createChild(I);e.shouldClone=!1;e.layout="horizontal";e.width=t(100);e.height=t(100);e.zIndex=0;a.yAxesAndPlotContainer=e;b=b.createChild(I);b.shouldClone=!1;b.width=t(100);b.layout="vertical";b.zIndex=1;a.bottomAxesContainer=b;b=e.createChild(I);b.shouldClone=!1;b.layout="horizontal";b.height=t(100);
b.contentAlign="right";b.events.on("transformed",a.updateXAxesMargins,a,!1);b.zIndex=1;a.leftAxesContainer=b;b=e.createChild(I);b.shouldClone=!1;b.height=t(100);b.width=t(100);b.background.fillOpacity=0;a.plotContainer=b;a.mouseWheelBehavior="none";a._cursorContainer=b;e=e.createChild(I);e.shouldClone=!1;e.layout="horizontal";e.height=t(100);e.zIndex=1;e.events.on("transformed",a.updateXAxesMargins,a,!1);a.rightAxesContainer=e;a.seriesContainer.parent=b;a.bulletsContainer.parent=b;e=b.createChild(Sf);
return e.shouldClone=!1,e.align="right",e.valign="top",e.zIndex=Number.MAX_SAFE_INTEGER,e.marginTop=5,e.marginRight=5,e.hide(0),a.zoomOutButton=e,a._bulletMask=a.plotContainer,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);this.zoomOutButton.exportable=!1;null!=this.readerTitle||(this.readerTitle=this.language.translate("X/Y chart"))},b.prototype.draw=function(){c.prototype.draw.call(this);this.seriesContainer.toFront();this.bulletsContainer.toFront();
this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask);this.updateSeriesLegend()},b.prototype.updatePlotElements=function(){v(this.series.iterator(),function(a){a.invalidate()})},b.prototype.validateData=function(){0==this._parseDataFrom&&(v(this.xAxes.iterator(),function(a){a.dataChangeUpdate()}),v(this.yAxes.iterator(),function(a){a.dataChangeUpdate()}),v(this.series.iterator(),function(a){a.dataChangeUpdate()}));c.prototype.validateData.call(this)},b.prototype.updateXAxesMargins=function(){var a=
this.leftAxesContainer.measuredWidth,b=this.rightAxesContainer.measuredWidth,c=this.bottomAxesContainer;c.paddingLeft==a&&c.paddingRight==b||(c.paddingLeft=a,c.paddingRight=b);c=this.topAxesContainer;c.paddingLeft==a&&c.paddingRight==b||(c.paddingLeft=a,c.paddingRight=b)},b.prototype.handleXAxisChange=function(a){this.updateXAxis(a.target)},b.prototype.handleYAxisChange=function(a){this.updateYAxis(a.target)},b.prototype.processXAxis=function(a){a=a.newValue;a.chart=this;a.renderer||(a.renderer=new this._axisRendererX,
a.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1));a.axisLetter="X";a.events.on("startendchanged",this.handleXAxisRangeChange,this,!1);a.dataProvider=this;this.updateXAxis(a.renderer);this.processAxis(a)},b.prototype.processYAxis=function(a){a=a.newValue;a.chart=this;a.renderer||(a.renderer=new this._axisRendererY,a.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1));a.axisLetter="Y";a.events.on("startendchanged",
this.handleYAxisRangeChange,this,!1);a.dataProvider=this;this.updateYAxis(a.renderer);this.processAxis(a)},b.prototype.handleXAxisRangeChange=function(){var a=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,a,!0);this.toggleZoomOutButton();this.updateScrollbar(this.scrollbarX,a)},b.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var a=!1;$a(this.xAxes.iterator(),function(b){return 0==D(b.start,3)&&1==D(b.end,3)||(a=!0,!1)});$a(this.yAxes.iterator(),function(b){return 0==
D(b.start,3)&&1==D(b.end,3)||(a=!0,!1)});this.seriesAppeared||(a=!1);a?this.zoomOutButton.show():this.zoomOutButton.hide()}},b.prototype.seriesAppeared=function(){var a=!1;return v(this.series.iterator(),function(b){if(!b.appeared)return a=!1,!1}),a},b.prototype.handleYAxisRangeChange=function(){var a=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,a,!0);this.toggleZoomOutButton();this.updateScrollbar(this.scrollbarY,a)},b.prototype.updateScrollbar=function(a,b){a&&(a.skipRangeEvents(),
a.start=b.start,a.end=b.end)},b.prototype.getCommonAxisRange=function(a){var b,c;return v(a.iterator(),function(a){var d=a.start,e=a.end;a.renderer.inversed&&(d=1-a.end,e=1-a.start);(!l(b)||d<b)&&(b=d);(!l(c)||e>c)&&(c=e)}),{start:b,end:c}},b.prototype.updateXAxis=function(a){var b=a.axis;a.opposite?(b.parent=this.topAxesContainer,b.toFront()):(b.parent=this.bottomAxesContainer,b.toBack());b.renderer&&b.renderer.processRenderer()},b.prototype.updateYAxis=function(a){var b=a.axis;a.opposite?(b.parent=
this.rightAxesContainer,b.toBack()):(b.parent=this.leftAxesContainer,b.toFront());b.renderer&&b.renderer.processRenderer()},b.prototype.processAxis=function(a){var b=this;a instanceof Ra&&this._dataUsers.moveValue(a);var c=a.renderer;c.gridContainer.parent=this.plotContainer;c.gridContainer.toBack();c.breakContainer.parent=this.plotContainer;c.breakContainer.toFront();c.breakContainer.zIndex=10;a.addDisposer(new X(function(){b.dataUsers.removeValue(a)}));this.plotContainer.events.on("maxsizechanged",
function(){b.inited&&(a.invalidateDataItems(),b.updateSeriesMasks())},a,!1)},b.prototype.updateSeriesMasks=function(){xf()&&this.series.each(function(a){var b=a.mainContainer.mask;a.mainContainer.mask=void 0;a.mainContainer.mask=b})},Object.defineProperty(b.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new S,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1)),this._xAxes},enumerable:!0,configurable:!0}),
b.prototype.handleAxisRemoval=function(a){a=a.oldValue;this.dataUsers.removeValue(a);a.autoDispose&&a.dispose()},Object.defineProperty(b.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new S,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1)),this._yAxes},enumerable:!0,configurable:!0}),b.prototype.handleSeriesAdded=function(a){try{c.prototype.handleSeriesAdded.call(this,a);var b=a.newValue;0!=this.xAxes.length&&
0!=this.yAxes.length||(p.removeFromInvalidComponents(b),b.dataInvalid=!1);b.xAxis;b.yAxis;null==b.fill&&(b.fill=this.colors.next());null==b.stroke&&(b.stroke=b.fill)}catch(e){this.raiseCriticalError(e)}},Object.defineProperty(b.prototype,"cursor",{get:function(){return this._cursor},set:function(a){this._cursor!=a&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=a,a&&(this._disposers.push(a),a.chart=this,a.shouldClone=!1,a.parent=this._cursorContainer,a.events.on("cursorpositionchanged",
this.handleCursorPositionChange,this,!1),a.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),a.events.on("zoomended",this.handleCursorZoomEnd,this,!1),a.events.on("panstarted",this.handleCursorPanStart,this,!1),a.events.on("panning",this.handleCursorPanning,this,!1),a.events.on("panended",this.handleCursorPanEnd,this,!1),a.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),a.events.on("hidden",this.handleHideCursor,this,!1),a.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&
this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),b.prototype.createCursor=function(){return new Oe},b.prototype.handleCursorPositionChange=function(){var a=this.cursor;if(a.visible&&!a.isHiding){var b=this.cursor.xPosition,c=this.cursor.yPosition;this.showSeriesTooltip({x:b,y:c});var f=void 0;(a=a.snapToSeries)&&(a.baseAxis==a.xAxis&&(f=a.yAxis),a.baseAxis==a.yAxis&&(f=a.xAxis));this._seriesPoints=[];this.showAxisTooltip(this.xAxes,b,f);this.showAxisTooltip(this.yAxes,
c,f);this.sortSeriesTooltips(this._seriesPoints)}},b.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes);this.hideObjectTooltip(this.yAxes);this.hideObjectTooltip(this.series);this.updateSeriesLegend()},b.prototype.updateSeriesLegend=function(){v(this.series.iterator(),function(a){a.updateLegendValue()})},b.prototype.hideObjectTooltip=function(a){v(a.iterator(),function(a){a.hideTooltip(0)})},b.prototype.showSeriesTooltip=function(a){var b=this;if(a){var c=[];this.series.each(function(d){if(!(d.xAxis instanceof
sb&&d.xAxis.snapTooltip||d.yAxis instanceof sb&&d.yAxis.snapTooltip)){var e=d.showTooltipAtPosition(a.x,a.y);e&&(d.tooltip.setBounds({x:0,y:0,width:b.pixelWidth,height:b.pixelHeight}),c.push({series:d,point:e}))}});this.arrangeTooltips&&this.sortSeriesTooltips(c)}else this.series.each(function(a){a.hideTooltip()})},b.prototype.sortSeriesTooltips=function(a){var b=gb({x:-.5,y:-.5},this.plotContainer),c=gb({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),
f=0,h=[];J(a,function(a){var d=a.point;d&&We(d,{x:b.x,y:b.y,width:c.x-b.x,height:c.y-b.y})&&(h.push({point:d,series:a.series}),f+=d.y)});(a=h).sort(function(a,b){return a.point.y>b.point.y?1:a.point.y<b.point.y?-1:0});var k=f/a.length,g=uf({x:0,y:0},this.svgContainer.SVGContainer).y;if(0<a.length){var q=b.y,l=c.y;$d({x:0,y:q},this);var m=!1;if(k>q+(l-q)/2)for(var p=l,r=a.length-1;0<=r;r--){var t=(v=a[r].series).tooltip,u=a[r].point.y;if(t.setBounds({x:0,y:-g,width:this.pixelWidth,height:p+g}),t.invalid&&
t.validate(),t.toBack(),(p=gb({x:0,y:t.label.pixelY-t.pixelY+u-t.pixelMarginTop},t).y)<-g){m=!0;break}}if(k<=q+(l-q)/2||m)for(k=q,g=(r=0,a.length);r<g;r++){var v=a[r].series,u=a[r].point.y;(t=v.tooltip).setBounds({x:0,y:k,width:this.pixelWidth,height:l});t.invalid&&t.validate();t.toBack();k=gb({x:0,y:t.label.pixelY+t.label.measuredHeight-t.pixelY+u+t.pixelMarginBottom},t).y}}},b.prototype.showAxisTooltip=function(a,b,c){var d=this;v(a.iterator(),function(a){a!=c&&(0<d.dataItems.length||0<a.dataItems.length)&&
a.showTooltipAtPosition(b)})},b.prototype.getUpdatedRange=function(a,b){if(a){var d,c,h=a.renderer.inversed;a.renderer instanceof tb&&(b=Lc(b));h?(Lc(b),d=1-a.end,c=1-a.start):(d=a.start,c=a.end);a=c-d;return{start:d+b.start*a,end:d+b.end*a}}},b.prototype.handleCursorZoomEnd=function(a){a=this.cursor;var b=a.behavior;if("zoomX"==b||"zoomXY"==b){var c=a.xRange;c&&0<this.xAxes.length&&((c=this.getUpdatedRange(this.xAxes.getIndex(0),c)).priority="start",this.zoomAxes(this.xAxes,c))}("zoomY"==b||"zoomXY"==
b)&&(a=a.yRange)&&0<this.yAxes.length&&((a=this.getUpdatedRange(this.yAxes.getIndex(0),a)).priority="start",this.zoomAxes(this.yAxes,a));this.handleHideCursor()},b.prototype.handleCursorPanStart=function(a){(a=this.xAxes.getIndex(0))&&(this._panStartXRange={start:a.start,end:a.end});(a=this.yAxes.getIndex(0))&&(this._panStartYRange={start:a.start,end:a.end})},b.prototype.handleCursorPanEnd=function(a){a=this.cursor.behavior;if(this._panEndXRange&&("panX"==a||"panXY"==a)){var b=0;0>(c=this._panEndXRange).start&&
(b=c.start);1<c.end&&(b=c.end-1);this.zoomAxes(this.xAxes,{start:c.start-b,end:c.end-b},!1,!0);this._panStartXRange=this._panEndXRange=void 0}if(this._panEndYRange&&("panY"==a||"panXY"==a)){var c,b=0;0>(c=this._panEndYRange).start&&(b=c.start);1<c.end&&(b=c.end-1);this.zoomAxes(this.yAxes,{start:c.start-b,end:c.end-b},!1,!0);this._panStartYRange=this._panEndYRange=void 0}},b.prototype.handleCursorCanceled=function(){this._panStartXRange=this._panEndXRange=void 0},b.prototype.handleCursorPanning=function(a){a=
this.cursor;var b=a.behavior,c=a.maxPanOut;if(this._panStartXRange&&("panX"==b||"panXY"==b)){var f=this._panStartXRange,h=a.xRange,k=this.getCommonAxisRange(this.xAxes),g=f.end-f.start,k=h.start*(k.end-k.start),h=Math.max(-c,k+f.start),f=Math.min(k+f.end,1+c);0>=h&&(f=h+g);1<=f&&(h=f-g);this._panEndXRange=g={start:h,end:f};this.zoomAxes(this.xAxes,g,!1,!1,a.maxPanOut)}!this._panStartYRange||"panY"!=b&&"panXY"!=b||(f=this._panStartYRange,h=a.yRange,k=this.getCommonAxisRange(this.yAxes),g=f.end-f.start,
k=h.start*(k.end-k.start),h=Math.max(-c,k+f.start),f=Math.min(k+f.end,1+c),0>=h&&(f=h+g),1<=f&&(h=f-g),this._panEndYRange=g={start:h,end:f},this.zoomAxes(this.yAxes,g,!1,!1,a.maxPanOut));this.handleHideCursor()},b.prototype.handleCursorZoomStart=function(a){},Object.defineProperty(b.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(a){var b=this;this._scrollbarX&&this.removeDispose(this._scrollbarX);(this._scrollbarX=a)&&(this._disposers.push(a),a.parent=this.topAxesContainer,
a.shouldClone=!1,a.startGrip.exportable=!1,a.endGrip.exportable=!1,a.toBack(),a.orientation="horizontal",a.events.on("rangechanged",this.handleXScrollbarChange,this,!1),a.adapter.add("positionValue",function(a){var d=b.xAxes.getIndex(0);return d&&(a.value=d.getPositionLabel(a.position)),a}))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(a){var b=this;this._scrollbarY&&this.removeDispose(this._scrollbarY);(this._scrollbarY=
a)&&(this._disposers.push(a),a.parent=this.rightAxesContainer,a.startGrip.exportable=!1,a.shouldClone=!1,a.endGrip.exportable=!1,a.toFront(),a.orientation="vertical",a.events.on("rangechanged",this.handleYScrollbarChange,this,!1),a.adapter.add("positionValue",function(a){var d=b.yAxes.getIndex(0);return d&&(a.value=d.getPositionLabel(a.position)),a}))},enumerable:!0,configurable:!0}),b.prototype.handleXScrollbarChange=function(a){if(this.inited){a=a.target;var b=a.range;1==b.end&&(b.priority="end");
0==b.start&&(b.priority="start");b=this.zoomAxes(this.xAxes,b);a.fixRange(b)}},b.prototype.handleYScrollbarChange=function(a){if(this.inited){a=a.target;var b=a.range;1==b.end&&(b.priority="end");0==b.start&&(b.priority="start");b=this.zoomAxes(this.yAxes,b);a.fixRange(b)}},b.prototype.zoomAxes=function(a,b,c,f,h){var d={start:0,end:1};return this.showSeriesTooltip(),this.dataInvalid||v(a.iterator(),function(a){a.renderer.inversed&&(b=Lc(b));a.hideTooltip(0);f&&(b.start=a.roundPosition(b.start+1E-4,
0),b.end=a.roundPosition(b.end+1E-4,0));var e=a.zoom(b,c,c,h);a.renderer.inversed&&(e=Lc(e));d=e}),d},Object.defineProperty(b.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(a){this.setPropertyValue("maskBullets",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(a){this.setPropertyValue("arrangeTooltips",a,!0)},enumerable:!0,configurable:!0}),
b.prototype.handleWheel=function(a){var b=this.plotContainer,c=ab(Zb(a.point,this.htmlContainer,this.svgContainer.cssScale),b);a=a.shift.y;var f=this.getCommonAxisRange(this.xAxes),h=this.getCommonAxisRange(this.yAxes),k=this.mouseWheelBehavior;if("panX"==k||"panXY"==k){var g=f.end-f.start,q=Math.max(-0,f.start+.05*a/100),l=Math.min(f.end+.05*a/100,1);0>=q&&(l=q+g);1<=l&&(q=l-g);this.zoomAxes(this.xAxes,{start:q,end:l})}if("panY"==k||"panXY"==k)a*=-1,g=h.end-h.start,q=Math.max(-0,h.start+.05*a/100),
l=Math.min(h.end+.05*a/100,1),0>=q&&(l=q+g),1<=l&&(q=l-g),this.zoomAxes(this.yAxes,{start:q,end:l});if("zoomX"==k||"zoomXY"==k)g=c.x/b.maxWidth,q=Math.max(-0,f.start-.05*a/100*g),q=Math.min(q,f.start+(f.end-f.start)*g-.05*.05),l=Math.min(f.end+.05*a/100*(1-g),1),l=Math.max(l,f.start+(f.end-f.start)*g+.05*.05),this.zoomAxes(this.xAxes,{start:q,end:l});if("zoomY"==k||"zoomXY"==k)b=c.y/b.maxHeight,q=Math.max(-0,h.start-.05*a/100*(1-b)),q=Math.min(q,h.start+(h.end-h.start)*b-.05*.05),l=Math.min(h.end+
.05*a/100*b,1),l=Math.max(l,h.start+(h.end-h.start)*b+.05*.05),this.zoomAxes(this.yAxes,{start:q,end:l})},Object.defineProperty(b.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(a){this.setPropertyValue("mouseWheelBehavior",a)&&("none"!=a?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=
!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),b.prototype.dataSourceDateFields=function(a){var b=this;return a=c.prototype.dataSourceDateFields.call(this,a),v(this.series.iterator(),function(d){a=b.populateDataSourceFields(a,d.dataFields,["dateX","dateY","openDateX","openDateY"])}),a},b.prototype.dataSourceNumberFields=function(a){var b=this;return a=c.prototype.dataSourceDateFields.call(this,a),v(this.series.iterator(),function(d){a=b.populateDataSourceFields(a,d.dataFields,
["valueX","valueY","openValueX","openValueY"])}),a},b.prototype.processConfig=function(a){if(a){var b=[],e=[];if(null!=a.xAxes&&ya(a.xAxes))for(var f=0,h=a.xAxes.length;f<h;f++){if(!a.xAxes[f].type)throw Error("[XYChart error] No type set for xAxes["+f+"].");null!=a.xAxes[f].axisRanges&&(b.push({axisRanges:a.xAxes[f].axisRanges,index:f}),delete a.xAxes[f].axisRanges)}if(null!=a.yAxes&&ya(a.yAxes))for(f=0,h=a.yAxes.length;f<h;f++){if(!a.yAxes[f].type)throw Error("[XYChart error] No type set for yAxes["+
f+"].");null!=a.yAxes[f].axisRanges&&(e.push({axisRanges:a.yAxes[f].axisRanges,index:f}),delete a.yAxes[f].axisRanges)}if(null!=a.series&&ya(a.series))for(f=0,h=a.series.length;f<h;f++)a.series[f].type=a.series[f].type||"LineSeries";if(null!=a.cursor&&null==a.cursor.type&&(a.cursor.type="XYCursor"),null!=a.scrollbarX&&null==a.scrollbarX.type&&(a.scrollbarX.type="Scrollbar"),null!=a.scrollbarY&&null==a.scrollbarY.type&&(a.scrollbarY.type="Scrollbar"),c.prototype.processConfig.call(this,a),e.length)for(f=
0,h=e.length;f<h;f++)this.yAxes.getIndex(e[f].index).config={axisRanges:e[f].axisRanges};if(b.length)for(f=0,h=b.length;f<h;f++)this.xAxes.getIndex(b[f].index).config={axisRanges:b[f].axisRanges}}},b.prototype.configOrder=function(a,b){return a==b?0:"scrollbarX"==a?1:"scrollbarX"==b?-1:"scrollbarY"==a?1:"scrollbarY"==b?-1:"cursor"==a?1:"cursor"==b?-1:"series"==a?1:"series"==b?-1:c.prototype.configOrder.call(this,a,b)},b.prototype.createSeries=function(){return new wd},Object.defineProperty(b.prototype,
"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(a){var b=this;(this._zoomOutButton=a)&&a.events.on("hit",function(){b.zoomAxes(b.xAxes,{start:0,end:1});b.zoomAxes(b.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){var b=this;a.xAxes.each(function(a){b.xAxes.push(a.clone())});a.yAxes.each(function(a){b.yAxes.push(a.clone())});c.prototype.copyFrom.call(this,a);a.cursor&&(this.cursor=a.cursor.clone());a.scrollbarX&&(this.scrollbarX=
a.scrollbarX.clone());a.scrollbarY&&(this.scrollbarY=a.scrollbarY.clone())},b.prototype.disposeData=function(){c.prototype.disposeData.call(this);var a=this.scrollbarX;a&&a instanceof Fc&&a.scrollbarChart.disposeData();(a=this.scrollbarY)&&a instanceof Fc&&a.scrollbarChart.disposeData();this.xAxes.each(function(a){a.disposeData()});this.yAxes.each(function(a){a.disposeData()})},b.prototype.addData=function(a,b){c.prototype.addData.call(this,a,b);this.scrollbarX instanceof Fc&&this.scrollbarX.scrollbarChart.addData(a,
b);this.scrollbarY instanceof Fc&&this.scrollbarY.scrollbarChart.addData(a,b)},b.prototype.setTapToActivate=function(a){c.prototype.setTapToActivate.call(this,a);this.cursor&&(this.cursor.interactions.isTouchProtected=a,this.plotContainer.interactions.isTouchProtected=a)},b.prototype.handleTapToActivate=function(){c.prototype.handleTapToActivate.call(this);this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},b.prototype.handleTapToActivateDeactivation=
function(){c.prototype.handleTapToActivateDeactivation.call(this);this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},b}(we);p.registeredClasses.XYChart=Pb;Ba.push({relevant:Ha.maybeXS,state:function(c,b){if(c instanceof Pb&&c.scrollbarX){var a=c.states.create(b);return c.scrollbarX.states.create(b).properties.disabled=!0,a}return null}});Ba.push({relevant:Ha.maybeXS,state:function(c,b){if(c instanceof Pb&&c.scrollbarY){var a=c.states.create(b);
return c.scrollbarY.states.create(b).properties.disabled=!0,a}return null}});var Ae=function(c){function b(){var a=c.call(this)||this;a.className="LineSeriesSegment";a.isMeasured=!1;a.interactionsEnabled=!1;a.layout="none";var b=a.createChild(M);a.fillSprite=b;b.shouldClone=!1;b.setElement(a.paper.add("path"));b.isMeasured=!1;a._disposers.push(b);b=a.createChild(M);return a.strokeSprite=b,b.shouldClone=!1,b.fill=L(),b.setElement(a.paper.add("path")),b.isMeasured=!1,a._disposers.push(b),a}return m(b,
c),b.prototype.drawSegment=function(a,b,c,f){if(!this.disabled)if(0<a.length&&0<b.length){var d=z({x:a[0].x-.2,y:a[0].y-.2})+z(a[0])+(new Cb(c,f)).smooth(a);0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=d);(0<this.fillOpacity||0<this.fillSprite.fillOpacity)&&(d+=u(b[0])+(new Cb(c,f)).smooth(b),d+=u(a[0]),d+=" Z",this.fillSprite.path=d)}else this.fillSprite.path="",this.strokeSprite.path=""},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);var b=
this.strokeSprite;ta(a,b.properties,wa);b.events.copyFrom(a.strokeSprite.events);b.fillOpacity=0;b=this.fillSprite;ta(a,b.properties,wa);b.events.copyFrom(a.fillSprite.events);b.strokeOpacity=0},b}(I);p.registeredClasses.LineSeriesSegment=Ae;var xd=function(c){function b(){var a=c.call(this)||this;return a.className="LineSeriesDataItem",a}return m(b,c),b}(vd),ze=function(c){function b(){var a=c.call(this)||this;return a.minDistance=.5,a.segments=new oa(a.createSegment()),a.segments.template.applyOnClones=
!0,a._disposers.push(new da(a.segments)),a._disposers.push(a.segments.template),a._segmentsIterator=new hd(a.segments,function(){return a.segments.create()}),a._segmentsIterator.createNewItems=!0,a.className="LineSeries",a.strokeOpacity=1,a.fillOpacity=0,a.connect=!0,a.tensionX=1,a.tensionY=1,a.autoGapCount=1.1,a.segmentsContainer=a.mainContainer.createChild(I),a.segmentsContainer.isMeasured=!1,a.bulletsContainer.toFront(),a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);
null!=this.readerTitle||(this.readerTitle=this.language.translate("Line Series"))},b.prototype.createSegment=function(){return new Ae},b.prototype.createDataItem=function(){return new xd},b.prototype.setInitialWorkingValues=function(a){var b=this._yAxis.get(),c=this._xAxis.get();if(this.appeared&&this.visible){var f=this.dataItems.getIndex(a.index-1);if(a.component=this,this.baseAxis==c&&b instanceof ma){var h=b.minZoomed;f&&(h=f.values.valueY.workingValue);a.setWorkingValue("valueY",h,0);a.setWorkingValue("valueY",
a.values.valueY.value);c instanceof sb&&(a.setWorkingLocation("dateX",a.locations.dateX-1,0),a.setWorkingLocation("dateX",a.locations.dateX))}this.baseAxis==b&&c instanceof ma&&(c=c.minZoomed,f&&(c=f.values.valueX.workingValue),a.setWorkingValue("valueX",c,0),a.setWorkingValue("valueX",a.values.valueX.value),b instanceof sb&&(a.setWorkingLocation("dateY",a.locations.dateX-1,0),a.setWorkingLocation("dateY",a.locations.dateY)))}else this.baseAxis==c&&b instanceof ma&&(c instanceof sb&&a.setWorkingLocation("dateX",
a.locations.dateX),c instanceof Ra&&a.setWorkingLocation("categoryX",a.locations.categoryX)),this.baseAxis==b&&c instanceof ma&&(b instanceof sb&&a.setWorkingLocation("dateY",a.locations.dateY),b instanceof Ra&&a.setWorkingLocation("categoryY",a.locations.categoryY))},b.prototype.updateLegendValue=function(a){c.prototype.updateLegendValue.call(this,a);a&&a.segment&&(this.tooltipColorSource=a.segment)},b.prototype.validate=function(){var a=this;c.prototype.validate.call(this);this._segmentsIterator.reset();
this.openSegmentWrapper(this._adjustedStartIndex);v(this.axisRanges.iterator(),function(b){a.openSegmentWrapper(a._adjustedStartIndex,b)});v(this._segmentsIterator.iterator(),function(a){a.__disabled=!0})},b.prototype.sliceData=function(){for(var a=this.startIndex,b=this.endIndex,c=this.startIndex-1;0<=c;c--)if((h=this.dataItems.getIndex(c))&&h.hasValue(this._xValueFields)&&h.hasValue(this._yValueFields)){a=c;break}this._adjustedStartIndex=this.findAdjustedIndex(a,"stroke strokeWidth strokeDasharray strokeOpacity fill fillOpacity opacity".split(" "));
for(var c=this.endIndex,f=this.dataItems.length;c<f;c++){var h;if((h=this.dataItems.getIndex(c))&&h.hasValue(this._xValueFields)&&h.hasValue(this._yValueFields)){b=c+1;break}}this._workingStartIndex=a;this._workingEndIndex=b},b.prototype.findAdjustedIndex=function(a,b){var d=this,c=this.propertyFields,h=a;return J(b,function(b){if(null!=c[b])for(var e=h;0<=e;e--){var f=d.dataItems.getIndex(e);if(f&&null!=f.properties[b]){a>e&&(a=e);break}}}),a},b.prototype.openSegmentWrapper=function(a,b){a={index:a,
axisRange:b};do a=this.openSegment(a.index,a.axisRange);while(a)},b.prototype.openSegment=function(a,b){var d=!1,c=[];a=Math.min(a,this.dataItems.length);var h,k=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var g=!1,q=this._segmentsIterator.getFirst();q.__disabled=!1;b?(q.parent=b.contents,ta(b.contents,q,wa)):(ta(this,q,wa),q.filters.clear(),q.parent=this.segmentsContainer);for(var l=a;l<k;l++){var m=this.dataItems.getIndex(l);
if(m.segment=q,m.hasProperties&&(l==a?this.updateSegmentProperties(m.properties,q):g=this.updateSegmentProperties(m.properties,q,!0)),m.hasValue(this._xValueFields)&&m.hasValue(this._yValueFields))this.addPoints(c,m,this.xField,this.yField);else{if(l==a)continue;if(!this.connect){h=l;break}}if(h=l,this.baseAxis instanceof sb){var p=this.dataItems.getIndex(l+1);if(p&&this.baseAxis.makeGap(p,m)){d=!0;break}}if(g)break}return this.closeSegment(q,c,a,h,b,d)},b.prototype.addPoints=function(a,b,c,f,h){c=
this.getPoint(b,c,f,b.workingLocations[c],b.workingLocations[f]);h||(b.point=c);a.push(c)},b.prototype.closeSegment=function(a,b,c,f,h,k){var d=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var e=f;e>=c;e--){var g=this.dataItems.getIndex(e);g.hasValue(this._xValueFields)&&g.hasValue(this._yValueFields)&&this.addPoints(d,g,this.xOpenField,this.yOpenField,!0)}else{c=this.baseAxis;var e=b.length,g=this.xAxis,l=this.yAxis;0<e&&(c==g?(d.push({x:b[e-1].x,y:l.basePoint.y}),
d.push({x:b[0].x,y:l.basePoint.y})):(d.push({x:g.basePoint.x,y:b[e-1].y}),d.push({x:g.basePoint.x,y:b[0].y})))}return this.drawSegment(a,b,d),k&&f++,f<this._workingEndIndex-1?{index:f,axisRange:h}:null},b.prototype.drawSegment=function(a,b,c){a.drawSegment(b,c,this.tensionX,this.tensionY)},b.prototype.updateSegmentProperties=function(a,b,c){var d=!1;return K(a,function(a,e){if(null!=e){var f=b[a],h=void 0;f&&(h=f.toString?f.toString():f);var k=void 0;e&&(k=e.toString?e.toString():e);f==e||null!=h&&
null!=k&&h==k||(c||(b[a]=e),d=!0)}}),d},Object.defineProperty(b.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(a){this.setPropertyValue("connect",a)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(a){this.setPropertyValue("tensionX",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},
set:function(a){this.setPropertyValue("tensionY",a,!0)},enumerable:!0,configurable:!0}),b.prototype.createLegendMarker=function(a){var b=this,c=a.pixelWidth,f=a.pixelHeight;a.disposeChildren();var h=a.createChild(hb);if(h.shouldClone=!1,ta(this,h,wa),h.x2=c,h.y=f/2,h.visible=!0,0<this.fillOpacity){var k=a.createChild(md);ta(this,k,wa);k.width=c;k.height=f;k.y=0;k.strokeOpacity=0;k.visible=!0;h.y=0}h=a.dataItem;h.color=this.stroke;h.colorOrig=this.fill;$a(this.bullets.iterator(),function(d){if(d instanceof
ub&&!d.copyToLegendMarker)return!1;var e=!1;if(d instanceof I&&v(d.children.iterator(),function(a){if(a instanceof Ua)return e=!0,!0}),!e)return d=d.clone(),d.parent=a,d.isMeasured=!0,d.tooltipText=void 0,d.x=c/2,0<b.fillOpacity?d.y=0:d.y=f/2,d.visible=!0,null!=d.fill||(d.fill=b.fill),null!=d.stroke||(d.stroke=b.stroke),!1})},b.prototype.disposeData=function(){c.prototype.disposeData.call(this);this.segments.clear()},Object.defineProperty(b.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},
set:function(a){this.setPropertyValue("autoGapCount",a,!0)},enumerable:!0,configurable:!0}),b}(wd);p.registeredClasses.LineSeries=ze;p.registeredClasses.LineSeriesDataItem=xd;var kg=function(c){function b(){var a=c.call(this)||this;return a.className="RadarSeriesDataItem",a.setLocation("dateX",0,0),a.setLocation("dateY",0,0),a.setLocation("categoryX",0,0),a.setLocation("categoryY",0,0),a.applyTheme(),a}return m(b,c),b}(xd),lg=function(c){function b(){var a=c.call(this)||this;return a.className="RadarSeries",
a.connectEnds=!0,a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){this.chart.invalid&&this.chart.validate();c.prototype.validate.call(this)},b.prototype.createDataItem=function(){return new kg},b.prototype.getPoint=function(a,b,c,f,h,k,g){k||(k="valueX");g||(g="valueY");c=Z({x:this.yAxis.getX(a,c,h,g),y:this.yAxis.getY(a,c,h,g)});0==c&&(c=1E-5);a=this.xAxis.getAngle(a,b,f,k);b=this.chart.endAngle;return a<this.chart.startAngle||a>b?void 0:{x:c*F(a),y:c*G(a)}},b.prototype.addPoints=function(a,
b,c,f,h){(b=this.getPoint(b,c,f,b.locations[c],b.locations[f]))&&a.push(b)},b.prototype.getMaskPath=function(){var a=this.yAxis.renderer;return cc(a.startAngle,a.endAngle-a.startAngle,a.pixelRadius,a.pixelInnerRadius)},b.prototype.drawSegment=function(a,b,e){var d=this.yAxis.renderer;this.connectEnds&&360==Math.abs(d.endAngle-d.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(b.push(b[0]),0<e.length&&e.unshift(e[e.length-1]));c.prototype.drawSegment.call(this,
a,b,e)},Object.defineProperty(b.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(a){this.setPropertyValue("connectEnds",a,!0)},enumerable:!0,configurable:!0}),b}(ze);p.registeredClasses.RadarSeries=lg;p.registeredClasses.RadarSeriesDataItem=kg;var Og=function(c){function b(){var a=c.call(this)||this;return a.className="RadarCursor",a.radius=t(100),a.innerRadius=t(0),a.applyTheme(),a.mask=void 0,a}return m(b,c),b.prototype.fitsToBounds=function(a){a=
Z(a);return a<this.truePixelRadius+1&&a>this.pixelInnerRadius-1},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",a,!0)},enumerable:!0,configurable:!0}),b.prototype.triggerMoveReal=function(a){this.xAxis&&
(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point);this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point);this.updateSelection();c.prototype.triggerMoveReal.call(this,a)},b.prototype.updateLineX=function(a){var b=this.pixelRadius,c=this.startAngle,f=this.endAngle,h=this.pixelInnerRadius;if(0<b&&l(c)&&l(f)&&l(h)){a=jb(Ea(a),c,f);var k=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,
y:0}),this.xAxis&&this.fullWidthLineX){var g=this.xAxis.currentItemStartPoint,q=this.xAxis.currentItemEndPoint;g&&q&&(k=jb(Ea(g),c,f),q=jb(Ea(q),c,f)-k,c<f?0>q&&(q+=360):0<q&&(q-=360),k=z({x:h*F(a-=q/2),y:h*G(a)})+u({x:b*F(a),y:b*G(a)})+ra(a,q,b)+u({x:h*F(a+q),y:h*G(a+q)})+ra(a+q,-q,h))}k||(k=z({x:h*F(a),y:h*G(a)})+u({x:b*F(a),y:b*G(a)}));this.lineX.path=k}}},b.prototype.updateLineY=function(a){if(this.lineY&&this.lineY.visible){var b=this.startAngle,c=this.endAngle,f=this.truePixelRadius;a=B(Z(a),
0,this.truePixelRadius);if(l(a)&&l(b)){this.lineY.moveTo({x:0,y:0});var h=void 0,k=c-b;if(this.yAxis&&this.fullWidthLineY){var g=this.yAxis.currentItemStartPoint,q=this.yAxis.currentItemEndPoint;g&&q&&(g=B(Z(g),0,f),h=z({x:(a=B(Z(q),0,f))*F(b),y:a*G(b)})+ra(b,k,a),h+=z({x:g*F(c),y:g*G(c)})+ra(c,-k,g))}h||(h=z({x:a*F(b),y:a*G(b)})+ra(b,c-b,a));this.lineY.path=h}}},b.prototype.updateSelection=function(){if(this._usesSelection){var a=this.downPoint;if(a){var b=this.point,c=this.pixelRadius,f=this.truePixelRadius,
h=this.pixelInnerRadius,k=Math.min(this.startAngle,this.endAngle),g=Math.max(this.startAngle,this.endAngle),q=jb(Ea(a),k,g),l=jb(Ea(b),k,g),a=Z(a);if(a<f){b=B(Z(b),0,f);this._prevAngle=l;var f=z({x:0,y:0}),m=G(q),p=F(q),r=G(l),t=F(l),E=this.behavior;"zoomX"==E||"selectX"==E?f+=u({x:c*p,y:c*m})+ra(q,l-q,c)+u({x:h*t,y:h*r})+ra(l,q-l,h):"zoomY"==E||"selectY"==E?f=z({x:b*F(k),y:b*G(k)})+ra(k,g-k,b)+u({x:a*F(g),y:a*G(g)})+ra(g,k-g,a)+" Z":"zoomXY"==E&&(f=z({x:b*F(q),y:b*G(q)})+ra(q,l-q,b)+u({x:a*F(l),
y:a*G(l)})+ra(l,q-l,a)+" Z");this.selection.path=f}this.selection.moveTo({x:0,y:0})}}},b.prototype.getPositions=function(){if(this.chart){var a=this.pixelInnerRadius,b=this.truePixelRadius-a,c=this.startAngle,f=this.endAngle;this.xPosition=(jb(Ea(this.point),c,f)-c)/(f-c);this.yPosition=B((Z(this.point)-a)/b,0,1)}},b.prototype.updatePoint=function(a){},b.prototype.handleXTooltipPosition=function(a){this.xAxis.cursorTooltipEnabled&&(a=this.xAxis.tooltip,this.updateLineX(ab({x:a.pixelX,y:a.pixelY},
this)))},b.prototype.handleYTooltipPosition=function(a){this.yAxis.cursorTooltipEnabled&&(a=this.yAxis.tooltip,this.updateLineY(ab({x:a.pixelX,y:a.pixelY},this)))},b.prototype.updateLinePositions=function(a){},b.prototype.getRanges=function(){var a=this.downPoint;if(a){var b=this.upPoint;if(this.chart){var c=this.pixelRadius,f=this.startAngle,h=this.endAngle,k=jb(Ea(a),this.startAngle,this.endAngle),g=jb(Ea(b),this.startAngle,this.endAngle),a=B(Z(a),0,c),b=B(Z(b),0,c),q=0,l=1,m=0,p=1,r=this.behavior;
if("zoomX"==r||"selectX"==r||"zoomXY"==r||"selectXY"==r)h-=f,q=D((k-f)/h,5),l=D((g-f)/h,5);"zoomY"!=r&&"selectY"!=r&&"zoomXY"!=r&&"selectXY"!=r||(m=D(a/c,5),p=D(b/c,5));this.xRange={start:Math.min(q,l),end:Math.max(q,l)};this.yRange={start:Math.min(m,p),end:Math.max(m,p)};"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},b.prototype.updateSize=function(){},Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},
set:function(a){this.setPercentProperty("radius",a,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelRadius",{get:function(){return ua(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"truePixelRadius",{get:function(){return fa(t(100),ba(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},
set:function(a){this.setPercentProperty("innerRadius",a,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelInnerRadius",{get:function(){var a=this.innerRadius;return a instanceof ka&&(a=t(100*a.value*this.chart.innerRadiusModifyer)),ua(a,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),b.prototype.fixPoint=function(a){return a},b}(Oe);p.registeredClasses.RadarCursor=Og;var Bg=function(c){function b(a){a=c.call(this,a)||this;return a.className="AxisFillCircular",
a.element=a.paper.add("path"),a.radius=t(100),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){if(c.prototype.draw.call(this),this.axis){var a=this.axis.renderer;this.path=this.fillPath=a.getPositionRangePath(this.startPosition,this.endPosition,this.radius,null!=this.innerRadius?this.innerRadius:a.innerRadius,this.cornerRadius)}},Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",
a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(a){this.setPropertyValue("cornerRadius",a,!0)},enumerable:!0,configurable:!0}),b}(Ke);p.registeredClasses.AxisFillCircular=Bg;var Cg=
function(c){function b(){var a=c.call(this)||this;return a.className="GridCircular",a.pixelPerfect=!1,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,
!1)},enumerable:!0,configurable:!0}),b}(Dc);p.registeredClasses.GridCircular=Cg;var Dd=function(c){function b(){var a=c.call(this)||this;return a.fdx=0,a.fdy=0,a.className="AxisLabelCircular",a.padding(0,0,0,0),a.location=.5,a.radius=0,a.isMeasured=!1,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(a){if(this.setPropertyValue("relativeRotation",a,!0),null==a)this.rotation=void 0,(a=this.dataItem)&&
a.component&&a.component.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(a){this.setPropertyValue("bent",a,!0);this.setPropertyValue("wrap",!1);this.setPropertyValue("horizontalCenter","none");
this.setPropertyValue("verticalCenter","none");a&&(this.textAlign="middle")},enumerable:!0,configurable:!0}),b.prototype.pixelRadius=function(a){var b=1;return this.inside&&(b=-1),fa(this.radius,a)*b},b.prototype.pixelRadiusY=function(a,b){var c=1;this.inside&&(c=-1);var d=this.radius;return l(d)?fa(d*=b/a,a)*c:fa(d,b)*c},b.prototype.fixPosition=function(a,b,c,f,h){l(c)||(c=b);l(f)||(f=0);l(h)||(h=0);var d={x:b*F(a),y:c*G(a)};this.invalid&&this.validate();var e=!1,g=this.radius;g instanceof ka&&0>
g.value?e=!0:0>g&&(e=!0);var m=this.relativeRotation,g=this.pixelRadius(b);if(this.bent)return f={x:b*F(a+180),y:c*G(a+180)},this.path=z(f)+ra(a+180,360,b+g,c+g*c/b),void(this.locationOnPath=.5);if(l(m)){this.verticalCenter=this.horizontalCenter="none";a=jb(a,-180,180);var e=this.bbox.width,p=this.bbox.height,r=this.pixelPaddingBottom,t=this.pixelPaddingTop,u=this.pixelPaddingLeft,E=this.pixelPaddingRight;90<a||-90>a?-90==m&&(m=90,e=0):(-90==m&&(p=-p),90==m&&(m=-90,e=-u-E,p=-p-t-r));this.rotation=
m+a+90;var v=G(m)/2,w=F(m)/2,A=this.rotation;this.dx=p*v*G(A)-e*w*F(A);this.dy=-p*v*F(A)-e*w*G(A);this.inside?90<a||-90>a?g-=(r+t)*F(m)+(u+E)*G(m):g+=(r+this.bbox.height+t)*F(m)+(u+E+this.bbox.width)*G(m):g+=(p+r+t)*F(m)+(e+u+E)*G(m);d.x+=F(a)*g;d.y+=G(a)*g*c/b}else this.verticalCenter=this.horizontalCenter="middle",e?(this.dx=0,this.dy=0,d.x=(b+g)*F(a),d.y=(c+g*c/b)*G(a)):(this.dy=this._measuredHeight/2*G(a),this.dx=this._measuredWidth/2*F(a),d.x+=F(a)*g,d.y+=G(a)*g*c/b);d.x+=f;d.y+=h;this.fdx=this.dx;
this.fdy=this.dy;this.moveTo(d)},b}(Je);p.registeredClasses.AxisLabelCircular=Dd;var Ag=function(c){function b(){var a=c.call(this)||this;return a.pixelRadiusReal=0,a.layout="none",a.className="AxisRendererCircular",a.isMeasured=!1,a.startAngle=-90,a.endAngle=270,a.useChartAngles=!0,a.radius=t(100),a.isMeasured=!1,a.grid.template.location=0,a.labels.template.location=0,a.labels.template.radius=15,a.ticks.template.location=0,a.ticks.template.pixelPerfect=!1,a.tooltipLocation=0,a.line.strokeOpacity=
0,a.applyTheme(),a}return m(b,c),b.prototype.setAxis=function(a){var b=this;c.prototype.setAxis.call(this,a);a.isMeasured=!1;a=a.tooltip;a.adapter.add("dx",function(a,c){a=ab({x:c.pixelX,y:c.pixelY},b);return b.pixelRadius*Math.cos(Math.atan2(a.y,a.x))-a.x});a.adapter.add("dy",function(a,c){a=ab({x:c.pixelX,y:c.pixelY},b);return b.pixelRadius*Math.sin(Math.atan2(a.y,a.x))-a.y})},b.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate();c.prototype.validate.call(this)},
Object.defineProperty(b.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelRadius",{get:function(){return ua(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(a){this.setPropertyValue("useChartAngles",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelInnerRadius",
{get:function(){return ua(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){a=this.positionToCoordinate(a);a=this.startAngle+(this.endAngle-this.startAngle)*a/this.axisLength;return{x:this.pixelRadius*F(a),y:this.pixelRadius*G(a)}},b.prototype.positionToAngle=function(a){var b=this.axis,c=(this.endAngle-this.startAngle)/(b.end-b.start);return D(b.renderer.inversed?this.startAngle+(b.end-a)*c:this.startAngle+(a-b.start)*c,3)},b.prototype.updateAxisLine=
function(){var a=this.pixelRadius,b=this.startAngle,c=this.endAngle-b;this.line.path=z({x:a*F(b),y:a*G(b)})+ra(b,c,a,a)},b.prototype.updateGridElement=function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);if(a.element){c=xb*Math.atan2(c.y,c.x);var d=ua(null!=a.radius?a.radius:t(100),this.pixelRadius),e=ua(a.innerRadius,this.pixelRadius);a.zIndex=0;e=ua(l(e)?e:this.innerRadius,this.pixelRadius,!0);a.path=z({x:e*F(c),y:e*G(c)})+u({x:d*F(c),y:d*G(c)})}this.toggleVisibility(a,b,0,1)},b.prototype.updateTickElement=
function(a,b,c){b+=(c-b)*a.location;var d=this.positionToPoint(b);if(a.element){c=this.pixelRadius;var d=xb*Math.atan2(d.y,d.x),e=a.length;a.inside&&(e=-e);a.zIndex=1;a.path=z({x:c*F(d),y:c*G(d)})+u({x:(c+e)*F(d),y:(c+e)*G(d)})}this.toggleVisibility(a,b,0,1)},b.prototype.updateLabelElement=function(a,b,c,f){null!=f||(f=a.location);b+=(c-b)*f;a.fixPosition(this.positionToAngle(b),this.pixelRadius);a.zIndex=2;this.toggleVisibility(a,b,this.minLabelPosition,this.maxLabelPosition)},b.prototype.fitsToBounds=
function(a){return!0},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",a)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",a)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},
enumerable:!0,configurable:!0}),b.prototype.getPositionRangePath=function(a,b,c,f,h){var d="";l(a)&&l(b)&&(null!=c||(c=this.radius),a=T(a,this.axis.start),(b=ba(b,this.axis.end))<a&&(b=a),c=ua(c,this.pixelRadius),f=ua(f,this.pixelRadius,!0),a=this.positionToAngle(a),d=cc(a,this.positionToAngle(b)-a,c,f,c,h));return d},b.prototype.createGrid=function(){return new Cg},b.prototype.createFill=function(a){return new Bg(a)},b.prototype.createLabel=function(){return new Dd},b.prototype.pointToPosition=function(a){a=
jb(Ea(a),this.startAngle,this.endAngle);return this.coordinateToPosition((a-this.startAngle)/360*this.axisLength)},b}(Ad);p.registeredClasses.AxisRendererCircular=Ag;var zg=function(c){function b(){var a=c.call(this)||this;return a._chart=new sa,a.pixelRadiusReal=0,a.className="AxisRendererRadial",a.isMeasured=!1,a.startAngle=-90,a.endAngle=270,a.minGridDistance=30,a.gridType="circles",a.axisAngle=-90,a.isMeasured=!1,a.layout="none",a.radius=t(100),a.line.strokeOpacity=0,a.labels.template.horizontalCenter=
"middle",a._disposers.push(a._chart),a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate();c.prototype.validate.call(this)},Object.defineProperty(b.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!1,!1,10,!1)},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"pixelRadius",{get:function(){return ua(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelInnerRadius",{get:function(){return ua(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"chart",{get:function(){return this._chart.get()},set:function(a){this._chart.set(a,null)},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){a=B(this.positionToCoordinate(a),0,1/0);return{x:a*F(this.axisAngle),y:a*G(this.axisAngle)}},b.prototype.updateAxisLine=function(){this.line.path=z({x:this.pixelInnerRadius*F(this.axisAngle),y:this.pixelInnerRadius*G(this.axisAngle)})+u({x:this.pixelRadius*F(this.axisAngle),y:this.pixelRadius*
G(this.axisAngle)});var a=this.axis.title;a.valign="none";a.horizontalCenter="middle";a.verticalCenter="bottom";a.y=-this.axisLength/2;var b=90;this.opposite?this.inside||(b=-90):this.inside&&(b=-90);a.rotation=b},b.prototype.updateGridElement=function(a,b,c){b+=(c-b)*a.location;var d;c=Z(this.positionToPoint(b));d=this.startAngle;var e=this.endAngle;if(l(c)&&a.element){var k=this.chart,g=k.xAxes.getIndex(0),q=k.dataItems.length,m=k.series.getIndex(0);if("polygons"==this.gridType&&0<q&&m&&g&&g instanceof
Ra){e=g.renderer.grid.template.location;q=g.getAngle(m.dataItems.getIndex(0),"categoryX",e);d=z({x:c*F(q),y:c*G(q)});for(var k=k.dataItems.length,p=1;p<k;p++)d+=u({x:c*F(q=g.getAngle(m.dataItems.getIndex(p),"categoryX",e)),y:c*G(q)});d+=u({x:c*F(q=g.getAngle(m.dataItems.getIndex(k-1),"categoryX",g.renderer.cellEndLocation)),y:c*G(q)})}else d=z({x:c*F(d),y:c*G(d)})+ra(d,e-d,c,c);a.path=d}this.toggleVisibility(a,b,0,1)},b.prototype.updateLabelElement=function(a,b,c,f){null!=f||(f=a.location);b+=(c-
b)*f;c=this.positionToPoint(b);this.positionItem(a,c);this.toggleVisibility(a,b,this.minLabelPosition,this.maxLabelPosition)},b.prototype.updateBaseGridElement=function(){},b.prototype.fitsToBounds=function(a){return!0},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",a)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},
set:function(a){this.setPropertyValue("endAngle",a)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(a){this.setPropertyValue("axisAngle",Hb(a));this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Ra?this.getPropertyValue("gridType"):"circles"},set:function(a){this.setPropertyValue("gridType",
a,!0)},enumerable:!0,configurable:!0}),b.prototype.getPositionRangePath=function(a,b){var c,d=this.pixelInnerRadius,h=this.axisLength+d;a=B(this.positionToCoordinate(a),d,h);b=B(this.positionToCoordinate(b),d,h);c=this.startAngle;var k=this.endAngle-c,g=this.chart,d=g.xAxes.getIndex(0),q=g.dataItems.length,h=g.series.getIndex(0);if("polygons"==this.gridType&&0<q&&h&&d&&d instanceof Ra){k=d.renderer.grid.template.location;q=d.getAngle(h.dataItems.getIndex(0),"categoryX",k);c=z({x:b*F(q),y:b*G(q)});
for(var g=g.dataItems.length,l=1;l<g;l++)c+=u({x:b*F(q=d.getAngle(h.dataItems.getIndex(l),"categoryX",k)),y:b*G(q)});c+=u({x:b*F(q=d.getAngle(h.dataItems.getIndex(g-1),"categoryX",d.renderer.cellEndLocation)),y:b*G(q)});c+=z({x:a*F(q),y:a*G(q)});for(l=g-1;0<=l;l--)c+=u({x:a*F(q=d.getAngle(h.dataItems.getIndex(l),"categoryX",k)),y:a*G(q)})}else c=cc(c,k,b,a);return c},b.prototype.updateBreakElement=function(a){var b=a.endLine,c=a.fillShape,f=a.startPoint,h=a.endPoint;a.startLine.radius=Math.abs(f.y);
b.radius=Math.abs(h.y);c.radius=Math.abs(h.y);c.innerRadius=Math.abs(f.y)},b.prototype.createBreakSprites=function(a){a.startLine=new nd;a.endLine=new nd;a.fillShape=new nd},b.prototype.updateTooltip=function(){if(this.axis){var a=this.axisAngle;0>a&&(a+=360);var b="vertical";(45<a&&135>a||225<a&&315>a)&&(b="horizontal");this.axis.updateTooltip(b,{x:-4E3,y:-4E3,width:8E3,height:8E3})}},b.prototype.updateTickElement=function(a,b){var c=this.positionToPoint(b);if(a.element){var d=Hb(this.axisAngle+
90);d/90!=Math.round(d/90)?a.pixelPerfect=!1:a.pixelPerfect=!0;var h=-a.length;a.inside&&(h*=-1);a.path=z({x:0,y:0})+u({x:h*F(d),y:h*G(d)})}this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.positionToCoordinate=function(a){var b=this.axis,c=b.axisFullLength,f=this.pixelInnerRadius;return D(b.renderer.inversed?(b.end-a)*c+f:(a-b.start)*c+f,1)},b.prototype.pointToPosition=function(a){a=Z(a)-this.pixelInnerRadius;return this.coordinateToPosition(a)},b}(tb);p.registeredClasses.AxisRendererRadial=
zg;var Si=function(c){function b(){var a=c.call(this)||this;return a.className="RadarChartDataItem",a.applyTheme(),a}return m(b,c),b}(ve),bg=function(c){function b(){var a=c.call(this)||this;a._axisRendererX=Ag;a._axisRendererY=zg;a.innerRadiusModifyer=1;a.className="RadarChart";a.startAngle=-90;a.endAngle=270;a.radius=t(80);a.innerRadius=0;var b=a.plotContainer.createChild(I);return b.shouldClone=!1,b.layout="absolute",b.align="center",b.valign="middle",a.seriesContainer.parent=b,a.radarContainer=
b,a.bulletsContainer.parent=b,a._cursorContainer=b,a._bulletMask=b.createChild(gc),a._bulletMask.shouldClone=!1,a._bulletMask.element=a.paper.add("path"),a._bulletMask.opacity=0,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Radar chart"))},b.prototype.processAxis=function(a){c.prototype.processAxis.call(this,a);var b=a.renderer;b.gridContainer.parent=b;b.breakContainer.parent=
b;a.parent=this.radarContainer;b.toBack()},b.prototype.handleXAxisRangeChange=function(){c.prototype.handleXAxisRangeChange.call(this);v(this.yAxes.iterator(),function(a){a.invalidate()})},b.prototype.handleYAxisRangeChange=function(){c.prototype.handleYAxisRangeChange.call(this);v(this.xAxes.iterator(),function(a){a.invalidate()})},b.prototype.createCursor=function(){return new Og},b.prototype.processConfig=function(a){if(a&&(null!=a.cursor&&null==a.cursor.type&&(a.cursor.type="RadarCursor"),null!=
a.series&&ya(a.series)))for(var b=0,e=a.series.length;b<e;b++)a.series[b].type=a.series[b].type||"RadarSeries";c.prototype.processConfig.call(this,a)},b.prototype.beforeDraw=function(){c.prototype.beforeDraw.call(this);var a=this.plotContainer,b=kb(this.startAngle,this.endAngle,1),e={x:0,y:0,width:0,height:0},f=a.innerWidth/b.width,h=a.innerHeight/b.height,k=this.innerRadius;if(k instanceof ka){var g=k.value,e=Math.min(f,h),g=Math.max(e*g,e-Math.min(a.innerHeight,a.innerWidth))/e,e=kb(this.startAngle,
this.endAngle,g);this.innerRadiusModifyer=g/k.value;k=t(100*g)}var b=nc([b,e]),q=2*ua(this.radius,Math.min(a.innerWidth/b.width,a.innerHeight/b.height))||0,l=q/2,m=this.startAngle,p=this.endAngle;this._pixelInnerRadius=ua(k,l);this._bulletMask.path=cc(m,p-m,l,this._pixelInnerRadius);v(this.xAxes.iterator(),function(a){a.renderer.useChartAngles&&(a.renderer.startAngle=m,a.renderer.endAngle=p);a.width=q;a.height=q;a.renderer.pixelRadiusReal=l;a.renderer.innerRadius=k});v(this.yAxes.iterator(),function(a){a.renderer.startAngle=
m;a.renderer.endAngle=p;a.width=q;a.height=q;a.renderer.pixelRadiusReal=l;a.renderer.innerRadius=k});(a=this.cursor)&&(a.width=q,a.height=q,a.startAngle=m,a.endAngle=p);this.radarContainer.definedBBox={x:l*b.x,y:l*b.y,width:l*b.width,height:l*b.height};this.radarContainer.validatePosition()},b.prototype.createSeries=function(){return new lg},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),b.prototype.updateXAxis=function(a){a&&a.processRenderer()},b.prototype.updateYAxis=function(a){a&&a.processRenderer()},b}(Pb);p.registeredClasses.RadarChart=bg;var Eg=function(c){function b(){var a=c.call(this)||this;a._axis=new sa;a.className="ClockHand";var b=
new W;a.fill=b.getFor("alternativeBackground");a.stroke=a.fill;b=new gc;b.radius=5;a.pin=b;a.isMeasured=!1;a.startWidth=5;a.endWidth=1;a.width=t(100);a.height=t(100);a.radius=t(100);a.innerRadius=t(0);b=new Qf;return a.hand=b,a._disposers.push(a._axis),a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){c.prototype.validate.call(this);var a=this.hand;a.width=this.pixelWidth;var b=Math.max(this.startWidth,this.endWidth);if(a.height=b,a.leftSide=t(this.startWidth/b*100),a.rightSide=t(this.endWidth/
b*100),this.axis){var e=this.axis.renderer,f=ua(this.innerRadius,e.pixelRadius),e=ua(this.radius,e.pixelRadius);a.x=f;a.y=-b/2;a.width=e-f}},Object.defineProperty(b.prototype,"pin",{get:function(){return this._pin},set:function(a){this._pin&&this.removeDispose(this._pin);a&&(this._pin=a,a.parent=this,this._disposers.push(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hand",{get:function(){return this._hand},set:function(a){this._hand&&this.removeDispose(this._hand);a&&(this._hand=
a,a.parent=this,this._disposers.push(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(a){this.setPropertyValue("startWidth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(a){this.setPropertyValue("endWidth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(a){this.setPropertyValue("rotationDirection",
a)},enumerable:!0,configurable:!0}),b.prototype.showValue=function(a,b,c){if(this._value=a,null!=a&&(l(b)||(b=0),this.axis)){a=this.axis.renderer.positionToAngle(this.axis.anyToPosition(a));var d=this.rotation;"clockWise"==this.rotationDirection&&a<d&&(this.rotation=d-360);"counterClockWise"==this.rotationDirection&&a>d&&(this.rotation=d+360);this.animate({property:"rotation",to:a},b,c)}},Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(a){this.showValue(a)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"axis",{get:function(){return this._axis.get()},set:function(a){if(this.axis!=a&&this._axis.set(a,new ja([a.events.on("datavalidated",this.updateValue,this,!1),a.events.on("datarangechanged",this.updateValue,this,!1),a.events.on("dataitemsvalidated",this.updateValue,this,!1),a.events.on("propertychanged",this.invalidate,this,!1)])),a){var b=a.chart;b&&(this.rotation=b.startAngle)}this.parent=a.renderer;this.zIndex=5},enumerable:!0,
configurable:!0}),b.prototype.updateValue=function(){this.value=this.value},b.prototype.processConfig=function(a){a&&null!=a.axis&&Y(a.axis)&&this.map.hasKey(a.axis)&&(a.axis=this.map.getKey(a.axis));c.prototype.processConfig.call(this,a)},b}(I);p.registeredClasses.ClockHand=Eg;var ol=function(c){function b(){var a=c.call(this)||this;return a.className="GaugeChartDataItem",a.applyTheme(),a}return m(b,c),b}(Si),Ri=function(c){function b(){var a=c.call(this)||this;return a.className="GaugeChart",a.startAngle=
180,a.endAngle=360,a.hands=new oa(new Eg),a.hands.events.on("inserted",a.processHand,a,!1),a._disposers.push(new da(a.hands)),a._disposers.push(a.hands.template),a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Gauge chart"))},b.prototype.processHand=function(a){a=a.newValue;a.axis||(a.axis=this.xAxes.getIndex(0))},b}(bg);p.registeredClasses.GaugeChart=Ri;var Pe=
function(c){function b(){var a=c.call(this)||this;return a.className="PercentSeriesDataItem",a.applyTheme(),a}return m(b,c),b.prototype.uidAttr=function(){return this.slice.uidAttr()},b.prototype.hide=function(a,b,e,f){return f||(f=["value"]),c.prototype.hide.call(this,a,b,0,f)},b.prototype.setVisibility=function(a,b){b||(a?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0));c.prototype.setVisibility.call(this,a,b)},b.prototype.show=function(a,b,e){return e||
(e=["value"]),c.prototype.show.call(this,a,b,e)},Object.defineProperty(b.prototype,"category",{get:function(){return this.properties.category},set:function(a){this.setProperty("category",a)},enumerable:!0,configurable:!0}),b.prototype.createLegendMarker=function(a){this.component.createLegendMarker(a,this)},Object.defineProperty(b.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(a){this._legendDataItem=a;a.label&&(a.label.dataItem=this);a.valueLabel&&(a.valueLabel.dataItem=
this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tick",{get:function(){var a=this;if(!this._tick){var b=this.component.ticks.create();this._tick=b;this._disposers.push(b);b.parent=this.component.ticksContainer;this._disposers.push(new X(function(){a.component&&a.component.ticks.removeValue(b)}));this.addSprite(b);b.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"label",{get:function(){var a=this;if(!this._label){var b=
this.component.labels.create();this._label=b;this._disposers.push(b);b.parent=this.component.labelsContainer;this._disposers.push(new X(function(){a.component&&a.component.labels.removeValue(b)}));this.addSprite(b);b.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"slice",{get:function(){var a=this;if(!this._slice){var b=this.component,c=b.slices.create();this._slice=c;this._disposers.push(c);c.parent=b.slicesContainer;this._disposers.push(new X(function(){b.slices.removeValue(c)}));
this.addSprite(c);c.visible=this.visible;b.itemsFocusable()?(c.role="menuitem",c.focusable=!0):(c.role="listitem",c.focusable=!1);c.focusable&&(c.events.once("focus",function(d){c.readerTitle=b.populateString(b.itemReaderText,a)},void 0,!1),c.events.once("blur",function(a){c.readerTitle=""},void 0,!1));c.hoverable&&(c.events.once("over",function(d){c.readerTitle=b.populateString(b.itemReaderText,a)},void 0,!1),c.events.once("out",function(a){c.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(a){this.setProperty("hiddenInLegend",a)},enumerable:!0,configurable:!0}),b}(td),Hd=function(c){function b(){var a=c.call(this)||this;a.className="PercentSeries";a._addAllDataItems=!1;a.colors=new Bc;a.colors.step=1;a.isMeasured=!0;a.calculatePercent=!0;var b=a.createChild(I);b.shouldClone=!1;b.isMeasured=!1;a.slicesContainer=b;b=a.createChild(I);b.shouldClone=!1;
b.isMeasured=!1;b.layout="none";a.ticksContainer=b;b=a.createChild(I);return b.shouldClone=!1,b.isMeasured=!1,b.layout="none",a.labelsContainer=b,a.alignLabels=!1,a.bulletsContainer.toFront(),a.skipFocusThreshold=50,a.defaultState.transitionEasing=Wh,a.itemReaderText="{category}: {value.percent.formatNumber('#.#')}%",a.applyTheme(),a}return m(b,c),b.prototype.createSlice=function(){return new M},b.prototype.createTick=function(){return new Ec},b.prototype.createLabel=function(){return new Ua},Object.defineProperty(b.prototype,
"slices",{get:function(){if(!this._slices){var a=this.createSlice();a.applyOnClones=!0;this._disposers.push(a);this.initSlice(a);this._slices=new oa(a);this._disposers.push(new da(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ticks",{get:function(){if(!this._ticks){var a=this.createTick();a.applyOnClones=!0;this._disposers.push(a);this.initTick(a);this._ticks=new oa(a);this._disposers.push(new da(this._ticks))}return this._ticks},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"labels",{get:function(){if(!this._labels){var a=this.createLabel();a.applyOnClones=!0;this._disposers.push(a);this.initLabel(a);this._labels=new oa(a);this._disposers.push(new da(this._labels))}return this._labels},enumerable:!0,configurable:!0}),b.prototype.createDataItem=function(){return new Pe},b.prototype.initSlice=function(a){},b.prototype.initLabel=function(a){a.text="{category}: {value.percent.formatNumber('#.0')}%";a.isMeasured=!1;a.padding(5,
5,5,5)},b.prototype.initTick=function(a){},b.prototype.validateDataElement=function(a){var b=a.slice;b&&(null==b.fill&&(b.fill=this.colors.getIndex(a.index*this.colors.step)),null==b.stroke&&(b.stroke=this.colors.getIndex(a.index*this.colors.step)));c.prototype.validateDataElement.call(this,a);b&&a.bullets.each(function(a,c){null==c.fill&&(c.fill=b.fill);null==c.stroke&&(c.stroke=b.stroke)})},b.prototype.validateData=function(){c.prototype.validateData.call(this);this.chart&&this.chart.feedLegend()},
b.prototype.arrangeLabels=function(a){for(var b=0,c=a.length;b<c;b++){var f=a[b].label;if(f){var h=this.getNextLabel(b+1,a);f.invalid&&f.validate();f=f.pixelY+f.measuredHeight;h&&h.y<f&&(h.y=f)}}},b.prototype.arrangeLabels2=function(a){for(var b=this.maxHeight/2,c=a.length-1;0<=c;c--){var f=a[c].label;f&&f.pixelY+f.measuredHeight>b&&(f.y=b-f.measuredHeight,b=f.y)}},b.prototype.getNextLabel=function(a,b){if(b.length>=a){var c=b[a];if(c)return c.label?c.label:this.getNextLabel(a+1,b)}},Object.defineProperty(b.prototype,
"colors",{get:function(){return this.getPropertyValue("colors")},set:function(a){this.setPropertyValue("colors",a,!0)},enumerable:!0,configurable:!0}),b.prototype.createLegendMarker=function(a,b){v(a.children.iterator(),function(c){var d=b.slice;c.defaultState.properties.fill=d.fill;c.defaultState.properties.stroke=d.stroke;c.defaultState.properties.fillOpacity=d.fillOpacity;c.defaultState.properties.strokeOpacity=d.strokeOpacity;c.fill=d.fill;c.stroke=d.stroke;c.fillOpacity=d.fillOpacity;c.strokeOpacity=
d.strokeOpacity;null==c.fill&&(c.__disabled=!0);var e=a.dataItem;e.color=d.fill;e.colorOrig=d.fill;c.addDisposer(d.events.on("propertychanged",function(a){"fill"==a.property&&(c.__disabled=!1,c.isActive||(c.fill=d.fill),c.defaultState.properties.fill=d.fill,e.color=d.fill,e.colorOrig=d.fill);"stroke"==a.property&&(c.isActive||(c.stroke=d.stroke),c.defaultState.properties.stroke=d.stroke)},void 0,!1))})},b.prototype.handleSliceScale=function(a){var b=this;v(a.target.dataItem.bullets.iterator(),function(a){b.positionBullet(a[1])})},
b.prototype.handleSliceMove=function(a){},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.slices.template.copyFrom(a.slices.template);this.labels.template.copyFrom(a.labels.template);this.ticks.template.copyFrom(a.ticks.template)},Object.defineProperty(b.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(a){this.setAlignLabels(a)},enumerable:!0,configurable:!0}),b.prototype.setAlignLabels=function(a){this.setPropertyValue("alignLabels",
a,!0)},b}(ud);p.registeredClasses.PercentSeries=Hd;p.registeredClasses.PercentSeriesDataItem=Pe;Ba.push({relevant:Ha.maybeXS,state:function(c,b){if(c instanceof Hd){var a=c.states.create(b);return c.labels.template.states.create(b).properties.disabled=!0,c.ticks.template.states.create(b).properties.disabled=!0,a}return null}});var Rg=function(c){function b(){var a=c.call(this)||this;return a.className="PercentChartDataItem",a.applyTheme(),a}return m(b,c),b}(cg),Sg=function(c){function b(){var a=c.call(this)||
this;return a.className="PercentChart",a.align="none",a.valign="none",a.chartContainer.minHeight=50,a.chartContainer.minWidth=50,a.applyTheme(),a}return m(b,c),b.prototype.validateData=function(){c.prototype.validateData.call(this);this.feedLegend()},b.prototype.feedLegend=function(){var a=this.legend;if(a){var b=[];v(this.series.iterator(),function(c){c.hiddenInLegend||v(c.dataItems.iterator(),function(d){d.hiddenInLegend||(b.push(d),(d=c.legendSettings)&&(d.labelText&&(a.labels.template.text=d.labelText),
d.itemLabelText&&(a.labels.template.text=d.itemLabelText),d.valueText&&(a.valueLabels.template.text=d.valueText),d.itemValueText&&(a.valueLabels.template.text=d.itemValueText)))})});a.data=b;a.dataFields.name="category"}},b.prototype.createSeries=function(){return new Hd},b.prototype.setLegend=function(a){c.prototype.setLegend.call(this,a);a&&(a.labels.template.text="{category}",a.valueLabels.template.text="{value.percent.formatNumber('#.0')}%",a.itemContainers.template.events.on("over",function(a){a=
a.target.dataItem.dataContext;a.visible&&!a.isHiding&&(a.slice.isHover=!0)}),a.itemContainers.template.events.on("out",function(a){a.target.dataItem.dataContext.slice.isHover=!1}))},b}(we);p.registeredClasses.PercentChart=Sg;p.registeredClasses.PercentChartDataItem=Rg;var pg=function(c){function b(){var a=c.call(this)||this;return a._label=new sa,a._slice=new sa,a.className="PieTick",a.element=a.paper.add("polyline"),a._disposers.push(a._label),a._disposers.push(a._slice),a.applyTheme(),a}return m(b,
c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.slice,b=this.label,e=a.dataItem.component;if(a&&0<a.radius&&b&&b.text){var f=a.dx+a.slice.dx+a.pixelX+a.ix*a.radius*a.scale,h=a.dy+a.slice.dy+a.pixelY+a.iy*a.radiusY*a.scale,k=void 0,g=void 0,q=void 0,l=void 0;e.alignLabels?(k=b.pixelX-this.length,g=b.pixelY,q=b.pixelX,l=g,"right"==b.horizontalCenter&&(q=(k+=2*this.length)-this.length)):(b=b.pixelRadius(a.radius),q=k=f+b*a.ix,l=g=h+b*a.iy);this.element.attr({points:[f,h,k,g,q,l]})}},
Object.defineProperty(b.prototype,"slice",{get:function(){return this._slice.get()},set:function(a){this._slice.set(a,new ja([a.events.on("transformed",this.invalidate,this),a.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"label",{get:function(){return this._label.get()},set:function(a){this._label.set(a,a.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),b}(Ec);p.registeredClasses.PieTick=pg;var Ce=
function(c){function b(){var a=c.call(this)||this;return a.className="PieSeriesDataItem",a.values.radiusValue={},a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(a){this.setValue("radiusValue",a)},enumerable:!0,configurable:!0}),b.prototype.hide=function(a,b,e,f){return c.prototype.hide.call(this,a,b,0,["value","radiusValue"])},b.prototype.show=function(a,b,e){return c.prototype.show.call(this,a,b,["value",
"radiusValue"])},b}(Pe),De=function(c){function b(){var a=c.call(this)||this;return a.className="PieSeries",a.alignLabels=!0,a.startAngle=-90,a.endAngle=270,a.layout="none",a.labels.template.radius=t(5),a.addDisposer(a.labels.template.events.on("enabled",a.invalidate,a,!1)),a.applyTheme(),a}return m(b,c),b.prototype.createSlice=function(){return new Mb},b.prototype.createTick=function(){return new pg},b.prototype.createLabel=function(){return new Dd},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);
null!=this.readerTitle||(this.readerTitle=this.language.translate("Pie Slice Series"))},b.prototype.createDataItem=function(){return new Ce},b.prototype.initSlice=function(a){a.isMeasured=!1;a.defaultState.properties.scale=1;a.observe("scale",this.handleSliceScale,this);a.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this);a.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})";a.states.create("hover").properties.scale=1.05;a.defaultState.properties.shiftRadius=
0;a.togglable=!0;a.events.on("toggled",function(a){a.target.hideTooltip()});a.states.create("active").properties.shiftRadius=.1},b.prototype.validate=function(){this._leftItems=[];this._rightItems=[];this._currentStartAngle=this.startAngle;this._arcRect=kb(this.startAngle,this.endAngle);this._maxRadiusPercent=0;for(var a=this.startIndex;a<this.endIndex;a++){var b=this.dataItems.getIndex(a).values.radiusValue.percent;b>this._maxRadiusPercent&&(this._maxRadiusPercent=b)}c.prototype.validate.call(this);
this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(a,b){a=(a.slice.middleAngle+360)%360;b=(b.slice.middleAngle+360)%360;return 270<a&&(a-=360),270<b&&(b-=360),a<b?-1:1}),this._leftItems.sort(function(a,b){return(a.slice.middleAngle+360)%360<(b.slice.middleAngle+360)%360?1:-1}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},
b.prototype.validateDataElement=function(a){if(0<this.pixelRadius){var b=a.slice;if(b.radius=this.pixelRadius,l(a.radiusValue)&&(b.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*a.values.radiusValue.percent/this._maxRadiusPercent),b.innerRadius instanceof ka||(b.innerRadius=this.pixelInnerRadius),b.startAngle=this._currentStartAngle,b.arc=a.values.value.percent*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var e=a.label,f=a.tick;f.slice=b;f.label=e;var h=
(b.middleAngle+360)%360,k=void 0;if(this.alignLabels){var k=e.pixelRadius(b.radius),g=f.length+k;e.dx=0;e.dy=0;e.verticalCenter="middle";var q=this._arcRect;270<=h||90>=h?(g+=(q.width+q.x)*this.pixelRadius,e.horizontalCenter="left",this._rightItems.push(a)):(g-=q.x*this.pixelRadius,e.horizontalCenter="right",this._leftItems.push(a),g*=-1);k={x:g,y:b.iy*(b.radius+f.length+k)};e.moveTo(k)}else f=b.depth,l(f)||(f=0),e.fixPosition(b.middleAngle,b.radius,b.radiusY,0,-f)}this._currentStartAngle+=b.arc;
c.prototype.validateDataElement.call(this,a)}},Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(a){this._pixelRadius!=a&&(this._pixelRadius=a,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(a){this._pixelInnerRadius!=a&&(this._pixelInnerRadius=a,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},
set:function(a){this.setPropertyValue("startAngle",Hb(a),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",a,!0)},enumerable:!0,configurable:!0}),b.prototype.positionBullet=function(a){c.prototype.positionBullet.call(this,a);var b=a.dataItem.slice,e=a.locationX;l(e)||(e=.5);var f=a.locationY;l(f)||(f=1);e=b.startAngle+b.arc*e;a.x=f*b.radius*F(e);a.y=f*b.radiusY*
G(e)},b.prototype.handleSliceMove=function(a){if(!this.alignLabels){a=a.target;var b=a.dataItem;b&&(b=b.label)&&(b.dx=b.fdx+a.dx+a.pixelX,b.dy=b.fdy+a.dy+a.pixelY)}},Object.defineProperty(b.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var a=this.chart;return a?kb(a.startAngle,a.endAngle,this.pixelRadius):kb(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),b}(Hd);p.registeredClasses.PieSeries=De;p.registeredClasses.PieSeriesDataItem=Ce;
var dg=function(c){function b(){var a=c.call(this)||this;return a.className="PieChartDataItem",a.applyTheme(),a}return m(b,c),b}(Rg),eg=function(c){function b(){var a=c.call(this)||this;a.className="PieChart";a.innerRadius=0;a.radius=t(80);a.align="none";a.valign="none";a.startAngle=-90;a.endAngle=270;var b=a.seriesContainer;return b.isMeasured=!0,b.valign="middle",b.align="center",b.layout="absolute",b.width=void 0,b.height=void 0,a.chartContainer.minHeight=50,a.chartContainer.minWidth=50,a.chartContainer.events.on("maxsizechanged",
a.updateRadius,a,!1),a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Pie chart"))},b.prototype.validateLayout=function(){c.prototype.validateLayout.call(this);this.updateRadius()},b.prototype.handleSeriesAdded=function(a){c.prototype.handleSeriesAdded.call(this,a);this._chartPixelRadius=void 0;this.updateSeriesAngles()},b.prototype.updateSeriesAngles=function(){var a=
this;this.series.each(function(b){b.startAngle=a.startAngle;b.endAngle=a.endAngle;b.defaultState.properties.startAngle=a.startAngle;b.defaultState.properties.endAngle=a.endAngle})},b.prototype.updateRadius=function(){var a=this.chartContainer,b=kb(this.startAngle,this.endAngle,1),c={x:0,y:0,width:0,height:0},f=this.innerRadius;f instanceof ka&&(c=kb(this.startAngle,this.endAngle,f.value));b=nc([b,c]);a=Math.min(a.innerWidth/b.width,a.innerHeight/b.height);l(a)||(a=0);var h=ua(this.radius,a),g=ua(this.innerRadius,
a),n=(h-g)/this.series.length;h==this._chartPixelRadius&&g==this._chartPixelInnerRadius||(this._chartPixelRadius=h,this._chartPixelInnerRadius=g,v(Jb(this.series.iterator()),function(a){var b=a[0];a=a[1];var c=g+ua(a.radius,h-g),d=g+ua(a.innerRadius,h-g);l(c)||(c=g+n*(b+1));l(d)||(d=g+n*b);a.pixelRadius=c;a.pixelInnerRadius=d}),this.seriesContainer.definedBBox={x:h*b.x,y:h*b.y,width:h*b.width,height:h*b.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,
this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),b.prototype.createSeries=
function(){return new De},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",a)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",a)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),
b}(Sg);p.registeredClasses.PieChart=eg;p.registeredClasses.PieChartDataItem=dg;var qg=function(c){function b(){var a=c.call(this)||this;return a.className="PieSeries3DDataItem",a.values.depthValue={},a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(a){this.setValue("depthValue",a)},enumerable:!0,configurable:!0}),b}(Ce),rg=function(c){function b(){var a=c.call(this)||this;return a.className="PieSeries3D",
a.applyTheme(),a}return m(b,c),b.prototype.createDataItem=function(){return new qg},b.prototype.createSlice=function(){return new yi},b.prototype.validateDataElement=function(a){var b=a.slice,e=this.depth;l(e)||(e=this.chart.depth);var f=a.values.depthValue.percent;l(f)||(f=100);b.depth=f*e/100;e=this.angle;l(e)||(e=this.chart.angle);b.angle=e;c.prototype.validateDataElement.call(this,a)},b.prototype.validate=function(){c.prototype.validate.call(this);for(var a=this._workingStartIndex;a<this._workingEndIndex;a++){var b=
this.dataItems.getIndex(a).slice,e=b.startAngle;-90<=e&&90>e?b.toFront():90<=e&&b.toBack()}},Object.defineProperty(b.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(a){this.setPropertyValue("depth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(a){this.setPropertyValue("angle",a)},enumerable:!0,configurable:!0}),b.prototype.positionBullet=function(a){c.prototype.positionBullet.call(this,
a);a.y=a.pixelY-a.dataItem.slice.depth},b}(De);p.registeredClasses.PieSeries3D=rg;p.registeredClasses.PieSeries3DDataItem=qg;var pl=function(c){function b(){var a=c.call(this)||this;return a.className="PieChart3DDataItem",a.applyTheme(),a}return m(b,c),b}(dg),Ti=function(c){function b(){var a=c.call(this)||this;return a.className="PieChart3D",a.depth=20,a.angle=10,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(a){this.setPropertyValue("depth",
a)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(a){a=B(a,0,90);this.setPropertyValue("angle",a)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),b.prototype.createSeries=function(){return new rg},b}(eg);p.registeredClasses.PieChart3D=Ti;var Vi=function(c){function b(){var a=c.call(this)||this;return a.className="SlicedChartDataItem",a.applyTheme(),a}return m(b,
c),b}(Rg),Ui=function(c){function b(){var a=c.call(this)||this;return a.className="SlicedChart",a.seriesContainer.layout="horizontal",a.padding(15,15,15,15),a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Sliced chart"))},b.prototype.validate=function(){c.prototype.validate.call(this)},b}(Sg);p.registeredClasses.SlicedChart=Ui;p.registeredClasses.SlicedChartDataItem=
Vi;var Ed=function(c){function b(){var a=c.call(this)||this;return a.legendSettings=new gg,a.className="FlowDiagramNode",a.isMeasured=!1,new W,a.draggable=!0,a.inert=!0,a.setStateOnChildren=!0,a.events.on("positionchanged",a.invalidateLinks,a,!1),a.events.on("sizechanged",a.invalidateLinks,a,!1),a}return m(b,c),b.prototype.handleHit=function(a){this.isHidden||this.isHiding?this.show():this.hide()},b.prototype.show=function(a){var b=c.prototype.show.call(this,a);return this.outgoingDataItems.each(function(b){(!b.toNode||
b.toNode&&!b.toNode.isHidden)&&b.setWorkingValue("value",b.getValue("value"),a)}),this.incomingDataItems.each(function(b){(!b.fromNode||b.fromNode&&!b.fromNode.isHidden)&&b.setWorkingValue("value",b.getValue("value"),a)}),b},b.prototype.hide=function(a){var b=c.prototype.hide.call(this,a);return this.outgoingDataItems.each(function(b){b.setWorkingValue("value",0,a)}),this.incomingDataItems.each(function(b){b.setWorkingValue("value",0,a)}),b},b.prototype.validate=function(){this.isDisposed()||(c.prototype.validate.call(this),
this.invalidateLinks())},b.prototype.invalidateLinks=function(){var a=this;this.outgoingDataItems.each(function(b){b=b.link;if("fromNode"==b.colorMode&&(b.fill=b.dataItem.fromNode.color),"gradient"==b.colorMode){b.fill=b.gradient;b.stroke=b.gradient;var c=b.gradient.stops.getIndex(0);c&&(c.color=a.color,b.gradient.validate())}});this.incomingDataItems.each(function(b){b=b.link;if("toNode"==b.colorMode&&(b.fill=b.dataItem.toNode.color),"gradient"==b.colorMode){b.fill=b.gradient;b.stroke=b.gradient;
var c=b.gradient.stops.getIndex(1);c&&(c.color=a.color,b.gradient.validate())}})},Object.defineProperty(b.prototype,"incomingDataItems",{get:function(){var a=this;if(!this._incomingDataItems){var b=new S;b.events.on("inserted",function(){"name"==a.chart.sortBy?a._incomingSorted=Yb(a._incomingDataItems.iterator(),function(a,b){return Nd(a.fromName,b.fromName)}):"value"==a.chart.sortBy?a._incomingSorted=Yb(a._incomingDataItems.iterator(),function(a,b){return Od(zb(a.value,b.value))}):a._incomingSorted=
a._incomingDataItems.iterator()},void 0,!1);this._incomingDataItems=b}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"outgoingDataItems",{get:function(){var a=this;if(!this._outgoingDataItems){var b=new S;b.events.on("inserted",function(){"name"==a.chart.sortBy?a._outgoingSorted=Yb(a._outgoingDataItems.iterator(),function(a,b){return Nd(a.fromName,b.fromName)}):"value"==a.chart.sortBy?a._outgoingSorted=Yb(a._outgoingDataItems.iterator(),function(a,
b){return Od(zb(a.value,b.value))}):a._outgoingSorted=a._outgoingDataItems.iterator()},void 0,!1);this._outgoingDataItems=b}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(a){this.setPropertyValue("name",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(a){this.setPropertyValue("total",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(a){this.setPropertyValue("totalIncoming",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(a){this.setPropertyValue("totalOutgoing",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"color",{get:function(){return this.getPropertyValue("color")},
set:function(a){this.setColorProperty("color",a);this._background&&(this._background.fill=a);this.fill=a},enumerable:!0,configurable:!0}),b.prototype.createLegendMarker=function(a){var b=a.pixelWidth,c=a.pixelHeight;a.removeChildren();var f=a.createChild(rb);f.shouldClone=!1;ta(this,f,wa);f.stroke=this.fill;f.copyFrom(this);f.padding(0,0,0,0);f.width=b;f.height=c;a=a.dataItem;a.color=f.fill;a.colorOrig=f.fill},Object.defineProperty(b.prototype,"legendDataItem",{get:function(){return this._legendDataItem},
set:function(a){this._legendDataItem=a;this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.FlowDiagramNode=Ed;var Fd=function(c){function b(){var a=c.call(this)||this;a.className="FlowDiagramLink";var b=new W;return a.maskBullets=!1,a.colorMode="fromNode",a.layout="none",a.isMeasured=!1,a.startAngle=0,a.endAngle=0,a.strokeOpacity=0,a.verticalCenter="none",a.horizontalCenter="none",a.tooltipText="{fromName}\u2192{toName}:{value.value}",a.tooltipLocation=
.5,a.link=a.createChild(M),a.link.shouldClone=!1,a.link.setElement(a.paper.add("path")),a.link.isMeasured=!1,a.fillOpacity=.2,a.fill=b.getFor("alternativeBackground"),a.applyTheme(),a}return m(b,c),b.prototype.positionBullets=function(){var a=this;v(this.bullets.iterator(),function(b){b.parent=a.bulletsContainer;b.maxWidth=a.maxWidth;b.maxHeight=a.maxHeight;a.positionBullet(b)})},Object.defineProperty(b.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var a=this.createChild(I);
a.shouldClone=!1;a.layout="none";this._bulletsContainer=a}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var a=this.createChild(M);a.shouldClone=!1;a.setElement(this.paper.add("path"));a.isMeasured=!1;this._bulletsMask=a}return this._bulletsMask},enumerable:!0,configurable:!0}),b.prototype.positionBullet=function(a){var b=a.locationX;l(b)||(b=a.locationY);l(b)||(b=.5);b=this.middleLine.positionToPoint(b);
a.moveTo(b);var c,f=a.propertyFields.rotation;a.dataItem&&(c=a.dataItem.dataContext[f]);l(c)||(c=b.angle);a.rotation=c},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",a,!0)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(a){if("gradient"==a){var b=this.fill;this.gradient.stops.clear();b instanceof U&&(this.gradient.addColor(b),this.gradient.addColor(b));this.stroke=this.fill=this.gradient}this.setPropertyValue("colorMode",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(a){this.setPropertyValue("maskBullets",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(a){this.setPropertyValue("tooltipLocation",a,!0)},enumerable:!0,configurable:!0}),b.prototype.setFill=function(a){c.prototype.setFill.call(this,a);var b=this._gradient;b&&a instanceof U&&(b.stops.clear(),b.addColor(a),b.addColor(a))},b.prototype.measureElement=function(){},Object.defineProperty(b.prototype,"bullets",{get:function(){var a=
this;return this._bullets||(this._bullets=new oa(new ub),this._disposers.push(new da(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(b){b.newValue.events.on("propertychanged",function(b){"locationX"!=b.property&&"locationY"!=b.property||a.positionBullet(b.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.bullets.copyFrom(a.bullets);var b=this.middleLine;
b&&(b instanceof hb&&a.middleLine instanceof hb&&b.copyFrom(a.middleLine),b instanceof xc&&a.middleLine instanceof xc&&b.copyFrom(a.middleLine));this.link.copyFrom(a.link)},b.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},b.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(b.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=
new bb),this._gradient},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.FlowDiagramLink=Fd;var xe=function(c){function b(){var a=c.call(this)||this;return a.className="FlowDiagramDataItem",a.values.value={},a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(a){this.setProperty("fromName",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"toName",{get:function(){return this.properties.toName},
set:function(a){this.setProperty("toName",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"color",{get:function(){return this.properties.color},set:function(a){this.setProperty("color",mb(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.values.value.value},set:function(a){this.setValue("value",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"link",{get:function(){var a=this;if(!this._link){var b=
this.component.links.create();this._link=b;this.addSprite(b);this._disposers.push(new X(function(){a.component&&a.component.links.removeValue(b)}))}return this._link},enumerable:!0,configurable:!0}),b}(fg),ye=function(c){function b(){var a=c.call(this)||this;a.colors=new Bc;a.className="FlowDiagram";a.nodePadding=20;a.sortBy="none";a.sequencedInterpolation=!0;a.colors.step=2;a.minNodeSize=.02;var b=a.chartContainer.createChild(I);b.shouldClone=!1;b.layout="none";b.isMeasured=!1;a.linksContainer=b;
b=a.chartContainer.createChild(I);return b.shouldClone=!1,b.layout="none",b.isMeasured=!1,a.nodesContainer=b,a.dataItem=a.createDataItem(),a.dataItem.component=a,a.applyTheme(),a}return m(b,c),b.prototype.dispose=function(){c.prototype.dispose.call(this);this.dataItem.dispose()},b.prototype.validateData=function(){var a=this;0==this._parseDataFrom&&this.nodes.clear();this.sortNodes();this.colors.reset();c.prototype.validateData.call(this);var b,e,f=0,h=0;v(this.dataItems.iterator(),function(c){var d=
c.fromName;d&&((g=a.nodes.getKey(d))||((g=a.nodes.create(d)).name=d,g.chart=a,g.dataItem=c),c.fromNode=g,c.fromNode.outgoingDataItems.push(c));var g;(d=c.toName)&&((g=a.nodes.getKey(d))||((g=a.nodes.create(d)).name=d,g.chart=a,g.dataItem=c),c.toNode=g,c.toNode.incomingDataItems.push(c));c.fromNode||(g=new pd,g.opacities=[0,1],c.link.strokeModifier=g);c.toNode||(g=new pd,g.opacities=[1,0],c.link.strokeModifier=g);c=c.value;l(c)&&(f+=c,h++,(b>c||!l(b))&&(b=c),(e<c||!l(e))&&(e=c))});this.dataItem.setCalculatedValue("value",
e,"high");this.dataItem.setCalculatedValue("value",b,"low");this.dataItem.setCalculatedValue("value",f,"sum");this.dataItem.setCalculatedValue("value",f/h,"average");this.dataItem.setCalculatedValue("value",h,"count");v(this.nodes.iterator(),function(b){b=b[1];b.fill instanceof U&&(b.color=b.fill);null==b.color&&(b.color=a.colors.next());null!=b.dataItem.color&&(b.color=b.dataItem.color);b.dataItem.visible||b.hide(0);a.getNodeValue(b)});this.sortNodes();this.feedLegend()},b.prototype.handleDataItemWorkingValueChange=
function(a,b){this.invalidate()},b.prototype.sortNodes=function(){"name"==this.sortBy?this._sorted=this.nodes.sortedIterator():"value"==this.sortBy?this._sorted=Yb(this.nodes.iterator(),function(a,b){return Od(zb(a[1].total,b[1].total))}):this._sorted=this.nodes.iterator()},b.prototype.getNodeValue=function(a){var b=0,c=0;v(a.incomingDataItems.iterator(),function(a){a=a.getWorkingValue("value");l(a)&&(b+=a)});v(a.outgoingDataItems.iterator(),function(a){a=a.getWorkingValue("value");l(a)&&(c+=a)});
a.total=b+c;a.totalIncoming=b;a.totalOutgoing=c},b.prototype.changeSorting=function(){this.sortNodes()},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Flow diagram"))},b.prototype.createDataItem=function(){return new xe},Object.defineProperty(b.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(a){this.setPropertyValue("nodePadding",a,!0)},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(a){this.setPropertyValue("sortBy",a);this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(a){this.setPropertyValue("minNodeSize",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nodes",{get:function(){if(!this._nodes){var a=
this.createNode();a.events.on("hit",function(a){a.target.handleHit(a)});this._nodes=new Cc(a);this._disposers.push(new Ob(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){var a=new Ed;return this._disposers.push(a),a},Object.defineProperty(b.prototype,"links",{get:function(){return this._links||(this._links=new oa(this.createLink()),this._disposers.push(new da(this._links))),this._links},enumerable:!0,configurable:!0}),b.prototype.createLink=function(){var a=
new Fd;return this._disposers.push(a),a},b.prototype.feedLegend=function(){var a=this.legend;if(a){var b=[];this.nodes.each(function(a,c){b.push(c)});a.data=b;a.dataFields.name="name"}},b.prototype.disposeData=function(){c.prototype.disposeData.call(this);this.nodes.clear()},b}(Qb);p.registeredClasses.FlowDiagram=ye;var Me=function(c){function b(){var a=c.call(this)||this;a.className="LabelBullet";var b=a.createChild(Ua);return b.shouldClone=!1,b.verticalCenter="middle",b.horizontalCenter="middle",
b.truncate=!0,b.hideOversized=!1,b.maxWidth=500,b.maxHeight=500,b.stroke=L(),b.strokeOpacity=0,b.fill=(new W).getFor("text"),a.events.on("maxsizechanged",a.handleMaxSize,a,!1),a.label=b,a.applyTheme(),a}return m(b,c),b.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth;this.label.maxHeight=this.maxHeight},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.label.copyFrom(a.label)},b}(ub);p.registeredClasses.LabelBullet=Me;var Fg=function(c){function b(){var a=
c.call(this)||this;a.nextInCoord=0;a.nextOutCoord=0;a.className="SankeyNode";a.width=10;a.height=10;var b=a.createChild(Me);b.shouldClone=!1;b.locationX=1;b.locationY=.5;b.label.text="{name}";b.width=150;b.height=150;b.label.horizontalCenter="left";b.label.padding(0,5,0,5);a.nameLabel=b;b=a.createChild(Me);b.shouldClone=!1;b.label.hideOversized=!1;b.locationX=.5;b.locationY=.5;b.width=150;b.height=150;b.label.horizontalCenter="middle";a.valueLabel=b;b=a.hiddenState;return b.properties.fill=(new W).getFor("disabledBackground"),
b.properties.opacity=.5,b.properties.visible=!0,a.background.hiddenState.copyFrom(b),a}return m(b,c),b.prototype.invalidateLinks=function(){var a=this;c.prototype.invalidateLinks.call(this);this.nextOutCoord=this.nextInCoord=0;var b=this.chart;if(b){var e=b.orientation;this._incomingSorted&&v(this._incomingSorted,function(c){var d=c.link,f=c.getWorkingValue("value");if(l(f)){d.parent=a.chart.linksContainer;var g=void 0,q=void 0,m=void 0;("horizontal"==e?(g=a.pixelX+a.dx,q=a.nextInCoord+a.pixelY+a.dy,
m=0):(q=a.pixelY+a.dy,g=a.nextInCoord+a.pixelX+a.dx,m=90),d.endX=g,d.endY=q,d.startAngle=m,d.endAngle=m,d.gradient.rotation=m,d.linkWidth=f*b.valueHeight,c.fromNode)||("horizontal"==e?(d.maxWidth=200,d.startX=a.pixelX+a.dx-d.maxWidth,d.startY=d.endY):(d.maxHeight=200,d.startX=d.endX,d.startY=a.pixelY+a.dy-d.maxHeight),d.gradient,d.fill=c.toNode.color,(c=d.gradient.stops.getIndex(0))&&("gradient"==d.colorMode&&(c.color=a.color),c.opacity=0,d.fill=d.gradient,d.stroke=d.gradient,d.gradient.validate()));
a.nextInCoord+=d.linkWidth}});this._outgoingSorted&&v(this._outgoingSorted,function(b){var c=b.link;c.parent=a.chart.linksContainer;var d=b.getWorkingValue("value");if(l(d)){var f=void 0,g=void 0,m=void 0;("horizontal"==e?(m=0,f=a.pixelX+a.pixelWidth+a.dx-1,g=a.nextOutCoord+a.pixelY+a.dy):(m=90,f=a.nextOutCoord+a.pixelX+a.dx,g=a.pixelY+a.pixelHeight+a.dy-1),c.startX=f,c.startY=g,c.startAngle=m,c.endAngle=m,c.gradient.rotation=m,c.linkWidth=d*a.chart.valueHeight,b.toNode)||("horizontal"==e?(c.maxWidth=
200,c.endX=a.pixelX+c.maxWidth+a.dx,c.endY=c.startY):(c.maxHeight=200,c.endX=c.startX,c.endY=a.pixelY+c.maxHeight+a.dy),c.opacity=a.opacity,(b=c.gradient.stops.getIndex(1))&&("gradient"==c.colorMode&&(b.color=a.color),b.opacity=0,c.fill=c.gradient,c.stroke=c.gradient,c.gradient.validate()));a.nextOutCoord+=c.linkWidth}})}this.positionBullet(this.nameLabel);this.positionBullet(this.valueLabel)},b.prototype.positionBullet=function(a){a&&(a.x=this.measuredWidth*a.locationX,a.y=this.measuredHeight*a.locationY)},
Object.defineProperty(b.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(a){this.setPropertyValue("level",a,!0)},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.nameLabel.copyFrom(a.nameLabel);this.valueLabel.copyFrom(a.valueLabel)},b}(Ed);p.registeredClasses.SankeyNode=Fg;var Gg=function(c){function b(){var a=c.call(this)||this;return a.className="SankeyLink",new W,a.tension=.8,a.controlPointDistance=.2,
a.startAngle=0,a.endAngle=0,a.linkWidth=0,a.startX=0,a.endX=0,a.startY=0,a.endY=0,a.middleLine=a.createChild(ld),a.middleLine.shouldClone=!1,a.middleLine.strokeOpacity=0,a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){if(c.prototype.validate.call(this),!this.isTemplate){var a=this.startX,b=this.startY,e=this.endX,f=this.endY;l(e)||(e=a);l(f)||(f=b);var h=this.startAngle,g=this.endAngle,n=this.linkWidth,q="",m=e,p=f,r=a+n*G(h),t=e+n*G(g),v=b+n*F(h),E=f+n*F(g),w=a+n/2*G(h),C=e+n/2*G(g),
A=b+n/2*F(h),B=f+n/2*F(g);this.zIndex=this.zIndex||this.dataItem.index;var H=this.tension+(1-this.tension)*G(h),J=this.tension+(1-this.tension)*F(h);if(this.middleLine.tensionX=H,this.middleLine.tensionY=J,l(n)&&l(a)&&l(e)&&l(b)&&l(f)){D(a,3)==D(m,3)&&(m+=.01);D(b,3)==D(p,3)&&(p+=.01);D(r,3)==D(t,3)&&(t+=.01);D(v,3)==D(E,3)&&(E+=.01);e=Math.min(r,t,a,m);f=Math.min(v,E,b,p);this._bbox={x:e,y:f,width:Math.max(r,t,a,m)-e,height:Math.max(v,E,b,p)-f};var I=this.controlPointDistance,e=a+(m-a)*I*F(h),f=
b+(p-b)*I*G(h),K=m-(m-a)*I*F(g),L=p-(p-b)*I*G(g),M=w+(C-w)*I*F(h),N=A+(B-A)*I*G(h),O=C-(C-w)*I*F(g),P=B-(B-A)*I*G(g),Q=Ea({x:e,y:f},{x:K,y:L}),R=(n/F(Q)-n)/Re(Q)*F(h),n=(n/G(Q)-n)*Re(Q)*G(h),Q=-R/2+r+(t-r)*I*F(h),h=-n/2+v+(E-v)*I*G(h),S=-R/2+t-(t-r)*I*F(g),g=-n/2+E-(E-v)*I*G(g);this.middleLine.segments=[[{x:w,y:A},{x:M,y:N},{x:O,y:P},{x:C,y:B}]];e+=R/2;f+=n/2;K+=R/2;L+=n/2;q+=z({x:a,y:b});q+=(new Cb(H,J)).smooth([{x:a,y:b},{x:e,y:f},{x:K,y:L},{x:m,y:p}]);q+=u({x:t,y:E});q+=(new Cb(H,J)).smooth([{x:t,
y:E},{x:S,y:g},{x:Q,y:h},{x:r,y:v}]);q+=" Z"}this.link.path=q;this.maskBullets&&(this.bulletsMask.path=q,this.bulletsContainer.mask=this.bulletsMask);this.positionBullets()}},Object.defineProperty(b.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(a){this.setPropertyValue("startX",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(a){this.setPropertyValue("endX",a,
!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(a){this.setPropertyValue("startY",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(a){this.setPropertyValue("endY",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},
set:function(a){this.setPropertyValue("linkWidth",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(a){this.setPropertyValue("controlPointDistance",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(a){this.setPropertyValue("tension",a,!0)},enumerable:!0,configurable:!0}),
b}(Fd);p.registeredClasses.SankeyLink=Gg;var Wi=function(c){function b(){var a=c.call(this)||this;return a.className="SankeyDiagramDataItem",a.applyTheme(),a}return m(b,c),b}(xe),Xi=function(c){function b(){var a=c.call(this)||this;return a.className="SankeyDiagram",a.orientation="horizontal",a.nodeAlign="middle",a.nodesContainer.width=t(100),a.nodesContainer.height=t(100),a.linksContainer.width=t(100),a.linksContainer.height=t(100),a.applyTheme(),a}return m(b,c),b.prototype.validateData=function(){var a=
this;c.prototype.validateData.call(this);this._levelCount=0;this.nodes.each(function(b,c){c.level=a.getNodeLevel(c,0);a._levelCount=T(a._levelCount,c.level)})},b.prototype.getNodeLevel=function(a,b){var c=this,d=[b];return v(a.incomingDataItems.iterator(),function(a){a.fromNode&&d.push(c.getNodeLevel(a.fromNode,b+1))}),Math.max.apply(Math,xa(d))},b.prototype.calculateValueHeight=function(){var a=this;this._levelSum={};this._levelNodesCount={};this.maxSum=0;var b,c,f=this.dataItem.values.value.sum;
v(this._sorted,function(b){a.getNodeValue(b[1])});this.nodes.each(function(b,c){b=c.level;c=Math.max(c.totalIncoming,c.totalOutgoing);c/f<a.minNodeSize&&(c=f*a.minNodeSize);l(a._levelSum[b])?a._levelSum[b]+=c:a._levelSum[b]=c;l(a._levelNodesCount[b])?a._levelNodesCount[b]++:a._levelNodesCount[b]=1});b="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1;K(this._levelSum,function(d,e){e=e*b/(b-(a._levelNodesCount[d]-1)*a.nodePadding);a.maxSum<e&&(a.maxSum=e,
c=R(d))});this._maxSumLevel=c;var h=(b-(this._levelNodesCount[this._maxSumLevel]-1)*this.nodePadding)/this.maxSum;if(l(this.valueHeight)){var g=void 0;try{g=this._heightAnimation.animationOptions[0].to}catch(n){}if(g!=h){g=this.interpolationDuration;try{g=this.nodes.template.states.getKey("active").transitionDuration}catch(n){}this._heightAnimation=(new ib(this,{property:"valueHeight",from:this.valueHeight,to:h},g)).start();this._disposers.push(this._heightAnimation)}}else this.valueHeight=h},b.prototype.validate=
function(){var a=this;c.prototype.validate.call(this);this.calculateValueHeight();var b=this.nodesContainer,e={},f=this._levelNodesCount[this._maxSumLevel],h=this.dataItem.values.value.sum;v(this._sorted,function(c){var d,g,k;c=c[1];var l=c.level;k=0;g=a._levelNodesCount[l];switch(a.nodeAlign){case "bottom":k=(a.maxSum-a._levelSum[l])*a.valueHeight-(g-f)*a.nodePadding;break;case "middle":k=(a.maxSum-a._levelSum[l])*a.valueHeight/2-(g-f)*a.nodePadding/2}c.parent=b;var m=Math.max(c.totalIncoming,c.totalOutgoing);
(m/h<a.minNodeSize&&(m=h*a.minNodeSize),"horizontal"==a.orientation)?(g=(d=(a.innerWidth-c.pixelWidth)/a._levelCount)*c.level,k=e[l]||k,m*=a.valueHeight,c.height=m,c.minX=g,c.maxX=g,e[l]=k+m+a.nodePadding):(d=(a.innerHeight-c.pixelHeight)/a._levelCount,g=e[l]||k,k=d*c.level,m*=a.valueHeight,c.width=m,c.minY=k,c.maxY=k,e[l]=g+m+a.nodePadding);c.x=g;c.y=k})},b.prototype.showReal=function(a){var b=this;if(0<this.interpolationDuration){var e=this.nodesContainer,f=0;v(this.links.iterator(),function(a){a.hide(0)});
v(this._sorted,function(a){var c;a=a[1];"horizontal"==b.orientation?(a.dx=-(e.pixelWidth-a.pixelWidth)/b._levelCount,c="dx"):(a.dy=-(e.pixelHeight-a.pixelHeight)/b._levelCount,c="dy");var d=0,h=b.interpolationDuration;b.sequencedInterpolation&&(d=b.sequencedInterpolationDelay*f+h*f/ph(b.nodes.iterator()));a.opacity=0;a.invalidateLinks();a.animate([{property:"opacity",from:0,to:1},{property:c,to:0}],b.interpolationDuration,b.interpolationEasing).delay(d);v(a.outgoingDataItems.iterator(),function(a){(a=
a.link.show(b.interpolationDuration))&&!a.isFinished()&&a.delay(d)});v(a.incomingDataItems.iterator(),function(a){a.fromNode||(a=a.link.show(b.interpolationDuration))&&!a.isFinished()&&a.delay(d)});f++})}return c.prototype.showReal.call(this)},b.prototype.changeSorting=function(){var a=this;this.sortNodes();var b={};v(this._sorted,function(c){var d,e;c=c[1];var g=c.level,n=(a.maxSum-a._levelSum[g])*a.valueHeight/2;"horizontal"==a.orientation?(d="y",e=c.pixelHeight):(d="x",e=c.pixelWidth);c.animate({property:d,
to:b[g]||n},a.interpolationDuration,a.interpolationEasing);b[g]=(b[g]||n)+e+a.nodePadding;c.invalidateLinks()})},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Sankey diagram"))},b.prototype.createDataItem=function(){return new Wi},Object.defineProperty(b.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(a){this.setPropertyValue("nodeAlign",a);this.changeSorting()},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(a){this.setPropertyValue("orientation",a,!0);var b=this.nodes.template.nameLabel;"vertical"==a?(this.nodes.template.width=void 0,b.label.horizontalCenter="middle",b.locationX=.5):(this.nodes.template.height=void 0,b.label.horizontalCenter="left",b.locationX=1)},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){var a=new Fg;return this._disposers.push(a),
a},b.prototype.createLink=function(){var a=new Gg;return this._disposers.push(a),a},Object.defineProperty(b.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(a){a!=this._valueHeight&&(this._valueHeight=a,this.invalidate())},enumerable:!0,configurable:!0}),b.prototype.disposeData=function(){c.prototype.disposeData.call(this);this._sorted=this.nodes.iterator()},b}(ye);p.registeredClasses.SankeyDiagram=Xi;var Hg=function(c){function b(){var a=c.call(this)||this;a.className=
"ChordNode";var b=a.createChild(Dd);b.location=.5;b.radius=5;b.text="{name}";b.zIndex=1;b.shouldClone=!1;a.label=b;a.layout="none";a.events.on("positionchanged",a.updateRotation,a,!1);a.isMeasured=!1;a.slice=a.createChild(Mb);a.slice.isMeasured=!1;b=a.hiddenState;return b.properties.fill=(new W).getFor("disabledBackground"),b.properties.opacity=.5,b.properties.visible=!0,a.setStateOnChildren=!1,a.slice.hiddenState.properties.visible=!0,a.adapter.add("tooltipX",function(a,b){return b.slice.ix*(b.slice.radius-
(b.slice.radius-b.slice.pixelInnerRadius)/2)}),a.adapter.add("tooltipY",function(a,b){return b.slice.iy*(b.slice.radius-(b.slice.radius-b.slice.pixelInnerRadius)/2)}),a}return m(b,c),b.prototype.invalidateLinks=function(){var a=this;c.prototype.invalidateLinks.call(this);var b=this.label,e=this.slice,f=this.chart;if(f&&e){var h=this.total,g=e.arc,n=e.startAngle;this.children.each(function(a){if(a instanceof ub){var b=a.locationX;l(b)||(b=.5);var c=a.locationY;l(c)||(c=1);b=n+g*b;c*=e.radius;a.x=c*
F(b);a.y=c*G(b)}});var q=n+g*b.location,h=n+(1-h/this.adjustedTotal)*g*.5;aa(h)&&(h=n);b.fixPosition(q,e.radius);this.nextAngle=h;this._outgoingSorted&&v(this._outgoingSorted,function(b){var c=b.link;c.parent=a.chart.linksContainer;var d=b.getWorkingValue("value");l(d)&&(f.nonRibbon?(d=c.percentWidth,l(d)||(d=5),d/=100,c.startAngle=n+g/2-g/2*d,c.arc=g*d):(c.arc=d*f.valueAngle,c.startAngle=a.nextAngle,a.nextAngle+=c.arc),b.toNode||(c.endAngle=c.startAngle),c.radius=e.pixelInnerRadius)});this._incomingSorted&&
v(this._incomingSorted,function(b){var c=b.link;if(c.radius=e.pixelInnerRadius,f.nonRibbon){var d=c.percentWidth;l(d)||(d=5);d/=100;c.endAngle=n+g/2-g/2*d;c.arc=g*d}else c.endAngle=a.nextAngle,d=b.getWorkingValue("value"),l(d)&&(c.arc=d*f.valueAngle,a.nextAngle+=c.arc);b.fromNode||(c.startAngle=c.endAngle)})}},b.prototype.updateRotation=function(){var a=this.slice,b=this.trueStartAngle+a.arc/2,c=a.radius,f=c*F(b),c=c*G(b),f=Ea({x:f+this.pixelX,y:c+this.pixelY});a.startAngle=this.trueStartAngle+(f-
b);this.dx=-this.pixelX;this.dy=-this.pixelY},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.label.copyFrom(a.label);this.slice.copyFrom(a.slice)},b}(Ed);p.registeredClasses.ChordNode=Hg;var vl=function(c){function b(){var a=c.call(this)||this;return a.className="QuadraticCurve",a.element=a.paper.add("path"),a.pixelPerfect=!1,a.fill=L(),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){if(l(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var a={x:this.x2,y:this.y2},
b={x:this.cpx,y:this.cpy};this.path=z({x:this.x1,y:this.y1})+Kb(a,b)}},Object.defineProperty(b.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(a){this.setPropertyValue("cpx",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(a){this.setPropertyValue("cpy",a,!0)},enumerable:!0,configurable:!0}),b.prototype.positionToPoint=function(a){var b={x:this.x1,y:this.y1},c={x:this.cpx,
y:this.cpy},f={x:this.x2,y:this.y2},h=Se(b,f,c,a);a=Se(b,f,c,a+.001);return{x:h.x,y:h.y,angle:Ea(h,a)}},b}(hb),Ig=function(c){function b(){var a=c.call(this)||this;return a.className="ChordLink",a.middleLine=a.createChild(vl),a.middleLine.shouldClone=!1,a.middleLine.strokeOpacity=0,a.applyTheme(),a}return m(b,c),b.prototype.validate=function(){if(c.prototype.validate.call(this),!this.isTemplate){var a=this.startAngle,b=this.endAngle,e=this.arc,f=this.radius,h=this.dataItem.fromNode,g=this.dataItem.toNode,
n=0,l=0;h&&(n=h.pixelX+h.dx,l=h.pixelY+h.dy);var m=h=0;if(g&&(h=g.pixelX+g.dx,m=g.pixelY+g.dy),0<f){var g=f*F(a)+n,p=f*G(a)+l,r=f*F(b)+h,t=f*G(b)+m,u={x:0,y:0},v=z({x:g,y:p}),v=v+ra(a,e,f),v=v+Kb({x:r,y:t},u),v=v+ra(b,e,f),v=v+Kb({x:g,y:p},u);this.link.path=0<e?v:"";this.maskBullets&&(this.bulletsMask.path=v,this.bulletsContainer.mask=this.bulletsMask);a+=e/2;b+=e/2;e=this.middleLine;e.x1=f*F(a)+n;e.y1=f*G(a)+l;e.x2=f*F(b)+h;e.y2=f*G(b)+m;e.cpx=0;e.cpy=0;e.stroke=this.fill;this.positionBullets()}}},
Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPropertyValue("radius",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(a){this.setPropertyValue("arc",a,!0)},enumerable:!0,configurable:!0}),b}(Fd);p.registeredClasses.ChordLink=Ig;var Yi=function(c){function b(){var a=c.call(this)||this;return a.className="ChordDiagramDataItem",a.applyTheme(),
a}return m(b,c),b}(xe),Zi=function(c){function b(){var a=c.call(this)||this;a.valueAngle=0;a.className="ChordDiagram";a.startAngle=-90;a.endAngle=270;a.radius=t(80);a.innerRadius=-15;a.nodePadding=5;var b=a.chartContainer.createChild(I);return b.align="center",b.valign="middle",b.shouldClone=!1,b.layout="absolute",a.chordContainer=b,a.nodesContainer.parent=b,a.linksContainer.parent=b,a.chartContainer.events.on("maxsizechanged",a.invalidate,a,!1),a.applyTheme(),a}return m(b,c),b.prototype.validate=
function(){var a=this,b=this.chartContainer,e=this.endAngle,f=this.startAngle+this.nodePadding/2,h=kb(this.startAngle,this.endAngle,1),h=nc([h,{x:0,y:0,width:0,height:0}]),b=Math.min(b.innerWidth/h.width,b.innerHeight/h.height);l(b)||(b=0);var g=ua(this.radius,b),n=ua(this.innerRadius,g,!0),q=this.dataItem.values.value.sum,m=0,p=0;v(this._sorted,function(b){b=b[1];a.getNodeValue(b);m++;var c=b.total;b.total/q<a.minNodeSize&&(c=q*a.minNodeSize);p+=c});this.valueAngle=(e-this.startAngle-this.nodePadding*
m)/p;v(this._sorted,function(b){b=b[1];var c=b.slice;c.radius=g;c.innerRadius=n;var d;d=b.total;b.total/q<a.minNodeSize&&(d=q*a.minNodeSize);b.adjustedTotal=d;d=a.nonRibbon?(e-a.startAngle)/m-a.nodePadding:a.valueAngle*d;c.arc=d;c.startAngle=f;b.trueStartAngle=f;b.parent=a.nodesContainer;b.validate();f+=d+a.nodePadding});this.chordContainer.definedBBox={x:g*h.x,y:g*h.y,width:g*h.width,height:g*h.height};this.chordContainer.invalidateLayout();c.prototype.validate.call(this)},b.prototype.applyInternalDefaults=
function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Chord diagram"))},b.prototype.createDataItem=function(){return new Yi},Object.defineProperty(b.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(a){this.setPropertyValue("startAngle",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(a){this.setPropertyValue("endAngle",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(a){this.setPercentProperty("radius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(a){this.setPercentProperty("innerRadius",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},
set:function(a){this.setPropertyValue("nonRibbon",a,!0);this.links.template.middleLine.strokeOpacity=1;this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){var a=new Hg;return this._disposers.push(a),a},b.prototype.createLink=function(){var a=new Ig;return this._disposers.push(a),a},b}(ye);p.registeredClasses.ChordDiagram=Zi;var Tb=function(c){function b(){var a=c.call(this)||this;return a.className="Column",a.width=t(80),a.height=t(80),a.applyOnClones=
!0,a.strokeOpacity=1,a.layout="none",a.createAssets(),a.events.on("childadded",a.handleKidAdded,a,!1),a}return m(b,c),b.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},b.prototype.createAssets=function(){this.column=this.createChild(rb);this.column.shouldClone=!1;this.column.cornerRadius(0,0,0,0);this._disposers.push(this.column)},b.prototype.validate=function(){c.prototype.validate.call(this);var a=this.column;a&&(a.width=ba(this.pixelWidth,this.maxWidth),a.height=
ba(this.pixelHeight,this.maxHeight),a.invalid&&a.validate())},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.column&&this.column.copyFrom(a.column)},Object.defineProperty(b.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:ba(this.pixelWidth,this.maxWidth),height:ba(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),b}(I);p.registeredClasses.Column=
Tb;var Gb=function(c){function b(){var a=c.call(this)||this;return a.className="ColumnSeriesDataItem",a.locations.dateX=.5,a.locations.dateY=.5,a.locations.categoryX=.5,a.locations.categoryY=.5,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"column",{get:function(){return this._column},set:function(a){this.setColumn(a)},enumerable:!0,configurable:!0}),b.prototype.setColumn=function(a){var b=this;if(this._column&&a!=this._column&&N(this.sprites,this._column),this._column=a,a){var c=
a.dataItem;c&&c!=this&&(c.column=void 0);this.addSprite(a);this._disposers.push(new X(function(){b.component&&b.component.columns.removeValue(a)}))}},Object.defineProperty(b.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new ga),this._rangesColumns},enumerable:!0,configurable:!0}),b}(vd),Rb=function(c){function b(){var a=c.call(this)||this;a._startLocation=0;a._endLocation=1;a.className="ColumnSeries";a.width=t(100);a.height=t(100);a.strokeOpacity=0;a.fillOpacity=
1;a.clustered=!0;var b=a.mainContainer.createChild(I);return b.shouldClone=!1,b.isMeasured=!1,b.layout="none",a._columnsContainer=b,a.columns.template.pixelPerfect=!1,a.tooltipColorSource=a.columns.template,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=
this.language.translate("Column Series"))},b.prototype.createDataItem=function(){return new Gb},b.prototype.validate=function(){var a=this,d=0,e=0;v(this.chart.series.iterator(),function(c){c instanceof b&&a.baseAxis==c.baseAxis&&((!c.stacked&&c.clustered||0===d)&&d++,c==a&&(e=d-1))});var f=this.baseAxis.renderer,h=f.cellStartLocation,f=f.cellEndLocation;this._startLocation=h+e/d*(f-h);this._endLocation=h+(e+1)/d*(f-h);c.prototype.validate.call(this);for(h=0;h<this.startIndex;h++)f=this.dataItems.getIndex(h),
this.disableUnusedColumns(f);for(h=this.dataItems.length-1;h>this.endIndex;h--)f=this.dataItems.getIndex(h),this.disableUnusedColumns(f)},b.prototype.validateDataElement=function(a){this.validateDataElementReal(a);c.prototype.validateDataElement.call(this,a)},b.prototype.getStartLocation=function(a){var b=this._startLocation;return this.baseAxis==this.xAxis?b+=a.locations[this.xOpenField]-.5:b+=a.locations[this.yOpenField]-.5,b},b.prototype.handleDataItemWorkingValueChange=function(a,b){this.simplifiedProcessing?
this.validateDataElement(a):c.prototype.handleDataItemWorkingValueChange.call(this,a,b)},b.prototype.getEndLocation=function(a){var b=this._endLocation;return this.baseAxis==this.xAxis?b+=a.locations[this.xField]-.5:b+=a.locations[this.yField]-.5,b},b.prototype.validateDataElementReal=function(a){var b,c,f,h,g=this,n=this.getStartLocation(a);h=this.getEndLocation(a);c=this.xField;b=this.xOpenField;var l=this.yField;f=this.yOpenField;var m=this.columns.template,p=m.percentWidth,r=m.percentHeight,t=
m.pixelWidth,u=m.pixelHeight,E=m.maxWidth,w=m.maxHeight,C=m.pixelPaddingLeft,A=m.pixelPaddingRight,F=m.pixelPaddingTop,G=m.pixelPaddingBottom,m=!1;if(this.xAxis instanceof Ra&&this.yAxis instanceof Ra){if(!a.hasValue(this._xValueFields)||!a.hasValue(this._yValueFields))return;(n=0,h=1,aa(p))||(n+=B=D((h-n)*(1-p/100)/2,5),h-=B);if(b=this.xAxis.getX(a,b,n),c=this.xAxis.getX(a,c,h),aa(p))b+=B=(c-b-t)/2,c-=B;aa(E)||(b+=B=(c-b-E)/2,c-=B);(n=0,h=1,aa(r))||(n+=B=D((1-r/100)/2,5),h-=B);if(f=this.yAxis.getY(a,
f,n),h=this.yAxis.getY(a,l,h),aa(r))h+=B=(h-f-u)/2,f-=B;aa(w)||(h+=B=(h-f-w)/2,f-=B);c=this.fixHorizontalCoordinate(c);b=this.fixHorizontalCoordinate(b);f=this.fixVerticalCoordinate(f);h=this.fixVerticalCoordinate(h)}else if(this.baseAxis==this.xAxis){if(!a.hasValue(this._yValueFields))return;aa(p)||(n+=B=D((h-n)*(1-p/100)/2,5),h-=B);if(b=this.xAxis.getX(a,b,n),c=this.xAxis.getX(a,c,h),aa(p))b+=B=(c-b-t)/2,c-=B;aa(E)||(b+=B=(c-b-E)/2,c-=B);G=a.locations[f];F=a.locations[l];this.yAxis instanceof ma&&
this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(G=0,F=0);h=this.yAxis.getY(a,f,G);f=this.yAxis.getY(a,l,F);l=Math.ceil(this.yAxis.axisLength);(0>f&&0>h||f>l&&h>l)&&(m=!0);f=this.fixVerticalCoordinate(f);h=this.fixVerticalCoordinate(h);0==Math.abs(c-b)-C-A&&(m=!0)}else{if(!a.hasValue(this._xValueFields))return;var B;aa(r)||(n+=B=D((h-n)*(1-r/100)/2,5),h-=B);if(f=this.yAxis.getY(a,f,n),h=this.yAxis.getY(a,l,h),aa(r))h-=B=(h-f-u)/2,f+=B;aa(w)||(h-=B=(h-f-w)/2,f+=B);A=a.locations[c];
C=a.locations[b];this.xAxis instanceof ma&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(A=0,C=0);c=this.xAxis.getX(a,c,A);b=this.xAxis.getX(a,b,C);l=Math.ceil(this.xAxis.axisLength);(0>c&&0>b||c>l&&b>l)&&(m=!0);c=this.fixHorizontalCoordinate(c);b=this.fixHorizontalCoordinate(b);0==Math.abs(f-h)-F-G&&(m=!0)}var z,H=Math.abs(c-b),I=Math.abs(h-f),J=Math.min(b,c),K=Math.min(f,h);m?this.disableUnusedColumns(a):(a.column?z=a.column:(ta(this,z=this.columns.create(),wa),ta(this.columns.template,
z,wa),a.addSprite(z),a.column=z,this.itemsFocusable()?(z.role="menuitem",z.focusable=!0):(z.role="listitem",z.focusable=!1),z.focusable&&(z.events.once("focus",function(b){z.readerTitle=g.populateString(g.itemReaderText,a)},void 0,!1),z.events.once("blur",function(a){z.readerTitle=""},void 0,!1)),z.hoverable&&(z.events.once("over",function(b){z.readerTitle=g.populateString(g.itemReaderText,a)},void 0,!1),z.events.once("out",function(a){z.readerTitle=""},void 0,!1))),z.width=H,z.height=I,z.x=J,z.y=
K,z.realX=b,z.realY=f,z.realWidth=c-b,z.realHeight=h-f,z.parent=this.columnsContainer,z.virtualParent=this,this.setColumnStates(z),z.invalid&&z.validate(),z.__disabled=!1,v(this.axisRanges.iterator(),function(b){var c=a.rangesColumns.getKey(b.uid);c||(c=g.columns.create(),ta(b.contents,c,wa),a.addSprite(c),a.rangesColumns.setKey(b.uid,c));c.parent=b.contents;c.width=H;c.height=I;c.x=J;c.y=K;g.setColumnStates(c);c.invalid&&c.validate();c.__disabled=!1}));a.itemWidth=H;a.itemHeight=I},b.prototype.disableUnusedColumns=
function(a){a&&(a.column&&(a.column.width=0,a.column.height=0,a.column.__disabled=!0),v(this.axisRanges.iterator(),function(b){(b=a.rangesColumns.getKey(b.uid))&&(b.width=0,b.height=0,b.__disabled=!0)}))},b.prototype.setColumnStates=function(a){var b=a.dataItem;if(this.xAxis instanceof ma||this.yAxis instanceof ma){var c,f=void 0,h=void 0;this.baseAxis==this.yAxis?this.xOpenField&&this.xField&&this.xAxis instanceof ma&&(c=b.getValue(this.xOpenField),f=b.getValue(this.xField),h=b.getValue(this.xAxis.axisFieldName+
"X","previousChange")):this.yOpenField&&this.yField&&this.yAxis instanceof ma&&(c=b.getValue(this.yOpenField),f=b.getValue(this.yField),h=b.getValue(this.yAxis.axisFieldName+"Y","previousChange"));f<c?(b.droppedFromOpen=!0,a.defaultState.copyFrom(this._dropFromOpenState),a.setState(this._dropFromOpenState,0)):(b.droppedFromOpen=!1,a.defaultState.copyFrom(this._riseFromOpenState),a.setState(this._riseFromOpenState,0));0>h?(b.droppedFromPrevious=!0,a.defaultState.copyFrom(this._dropFromPreviousState),
a.setState(this._dropFromPreviousState,0)):(b.droppedFromPrevious=!1,a.defaultState.copyFrom(this._riseFromPreviousState),a.setState(this._riseFromPreviousState,0))}},Object.defineProperty(b.prototype,"columns",{get:function(){return this._columns||(this._columns=new oa(this.createColumnTemplate()),this._disposers.push(new da(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),b.prototype.createColumnTemplate=function(){return new Tb},Object.defineProperty(b.prototype,
"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(a){this.setPropertyValue("clustered",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=
this.states.create("dropFromPreviousState")),this._dropFromPreviousState},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),
this._riseFromPreviousState},enumerable:!0,configurable:!0}),b.prototype.updateLegendValue=function(a){var b=this;if(c.prototype.updateLegendValue.call(this,a),this.legendDataItem){var e,f,h=this.legendDataItem.marker;a&&(e=a.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,f=a.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState);v(h.children.iterator(),function(c){a?(c.setState(f),c.setState(e)):(c.setState(b._riseFromPreviousState),c.setState(b._riseFromOpenState))})}},
b.prototype.createLegendMarker=function(a){var b=a.pixelWidth,c=a.pixelHeight;a.removeChildren();var f=a.createChild(rb);f.shouldClone=!1;ta(this,f,wa);f.copyFrom(this.columns.template);f.padding(0,0,0,0);f.width=b;f.height=c;a=a.dataItem;a.color=this.fill;a.colorOrig=this.fill},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.columns.template.copyFrom(a.columns.template)},b.prototype.getBulletLocationX=function(a,b){return this.baseAxis==this.xAxis?(this._startLocation+this._endLocation)/
2:c.prototype.getBulletLocationX.call(this,a,b)},b.prototype.getBulletLocationY=function(a,b){return this.baseAxis==this.yAxis?(this._startLocation+this._endLocation)/2:c.prototype.getBulletLocationY.call(this,a,b)},b.prototype.fixVerticalCoordinate=function(a){return B(a,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+this.columns.template.pixelPaddingBottom)},b.prototype.fixHorizontalCoordinate=function(a){return B(a,-this.columns.template.pixelPaddingLeft,this.xAxis.axisLength+this.columns.template.pixelPaddingRight)},
b.prototype.disposeData=function(){c.prototype.disposeData.call(this);this.columns.clear()},b}(wd);p.registeredClasses.ColumnSeries=Rb;p.registeredClasses.ColumnSeriesDataItem=Gb;var sg=function(c){function b(){var a=c.call(this)||this;return a.className="TreeMapSeriesDataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"parentName",{get:function(){var a=this.treeMapDataItem;if(a&&a.parent)return a.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"value",{get:function(){var a=this.treeMapDataItem;if(a)return a.value},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),b}(Gb),He=function(c){function b(){var a=c.call(this)||this;a.className="TreeMapSeries";a.applyTheme();a.fillOpacity=1;a.strokeOpacity=1;a.minBulletDistance=0;a.columns.template.tooltipText="{parentName} {name}: {value}";a.columns.template.configField="config";var b=new W;
return a.stroke=b.getFor("background"),a.dataFields.openValueX="x0",a.dataFields.valueX="x1",a.dataFields.openValueY="y0",a.dataFields.valueY="y1",a.sequencedInterpolation=!1,a.showOnInit=!1,a.columns.template.pixelPerfect=!1,a}return m(b,c),b.prototype.processDataItem=function(a,b){b.seriesDataItem=a;c.prototype.processDataItem.call(this,a,b)},b.prototype.createDataItem=function(){return new sg},b.prototype.show=function(a){var b=this.defaultState.transitionDuration;return l(a)&&(b=a),this.dataItems.each(function(a){a.treeMapDataItem.setWorkingValue("value",
a.treeMapDataItem.values.value.value)}),c.prototype.showReal.call(this,b)},b.prototype.hide=function(a){var b=this.defaultState.transitionDuration;l(a)&&(b=a);a=c.prototype.hideReal.call(this,b);return this.dataItems.each(function(a){a.treeMapDataItem.setWorkingValue("value",0)}),a},b.prototype.processValues=function(){},b.prototype.dataChangeUpdate=function(){},b.prototype.processConfig=function(a){a&&(null!=a.dataFields&&pa(a.dataFields)||(a.dataFields={}));c.prototype.processConfig.call(this,a)},
b.prototype.createLegendMarker=function(a){var b=a.pixelWidth,c=a.pixelHeight;a.removeChildren();var f=a.createChild(rb);f.shouldClone=!1;ta(this,f,wa);f.padding(0,0,0,0);f.width=b;f.height=c;a=a.dataItem;a.color=f.fill;a.colorOrig=f.fill},b}(Rb);p.registeredClasses.TreeMapSeries=He;p.registeredClasses.TreeMapSeriesDataItem=sg;var $i=function(c){function b(){var a=c.call(this)||this;return a.rows=[],a.className="TreeMapDataItem",a.values.value={},a.values.x0={},a.values.y0={},a.values.x1={},a.values.y1=
{},a.hasChildren.children=!0,a.applyTheme(),a}return m(b,c),b.prototype.getDuration=function(){return 0},Object.defineProperty(b.prototype,"value",{get:function(){var a=0;return this.children&&0!=this.children.length?v(this.children.iterator(),function(b){b=b.value;l(b)&&(a+=b)}):a=this.values.value.workingValue,a},set:function(a){this.setValue("value",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:
100},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"x0",{get:function(){return this.values.x0.value},set:function(a){this.setValue("x0",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"x1",{get:function(){return this.values.x1.value},set:function(a){this.setValue("x1",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"y0",{get:function(){return this.values.y0.value},set:function(a){this.setValue("y0",a)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"y1",{get:function(){return this.values.y1.value},set:function(a){this.setValue("y1",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this.properties.name},set:function(a){this.setProperty("name",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"children",{get:function(){return this.properties.children},set:function(a){this.setProperty("children",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"color",{get:function(){var a=this.properties.color;return null==a&&this.parent&&(a=this.parent.color),null==a&&this.component&&(a=this.component.colors.getIndex(this.component.colors.step*this.index)),a},set:function(a){this.setProperty("color",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"series",{get:function(){return this._series},set:function(a){a!=
this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=a,this._disposers.push(a))},enumerable:!0,configurable:!0}),b}(ve),aj=function(c){function b(){var a=c.call(this)||this;a.layoutAlgorithm=a.squarify;a.zoomable=!0;a.className="TreeMap";a.maxLevels=2;a.currentLevel=0;a.colors=new Bc;a.sorting="descending";var b=a.xAxes.push(new ma);b.title.disabled=!0;b.strictMinMax=!0;var e=b.renderer;e.inside=!0;e.labels.template.disabled=!0;e.ticks.template.disabled=
!0;e.grid.template.disabled=!0;e.axisFills.template.disabled=!0;e.minGridDistance=100;e.line.disabled=!0;e.baseGrid.disabled=!0;e=a.yAxes.push(new ma);e.title.disabled=!0;e.strictMinMax=!0;var f=e.renderer;f.inside=!0;f.labels.template.disabled=!0;f.ticks.template.disabled=!0;f.grid.template.disabled=!0;f.axisFills.template.disabled=!0;f.minGridDistance=100;f.line.disabled=!0;f.baseGrid.disabled=!0;f.inversed=!0;a.xAxis=b;a.yAxis=e;b=new He;return a.seriesTemplates=new Cc(b),a._disposers.push(new Ob(a.seriesTemplates)),
a._disposers.push(b),a.zoomOutButton.events.on("hit",function(){a.zoomToChartDataItem(a._homeDataItem)},void 0,!1),a.seriesTemplates.events.on("insertKey",function(a){a.newValue.isTemplate=!0},void 0,!1),a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(a){var b=this;this._navigationBar!=a&&(this._navigationBar=a,a.parent=this,a.toBack(),a.links.template.events.on("hit",function(a){a=a.target.dataItem.dataContext;
a.isDisposed()||(b.zoomToChartDataItem(a),b.createTreeSeries(a))},void 0,!0),this._disposers.push(a))},enumerable:!0,configurable:!0}),b.prototype.validateData=function(){this.series.clear();this._tempSeries=[];c.prototype.validateData.call(this);this._homeDataItem&&this._homeDataItem.dispose();var a=this.dataItems.template.clone();this._homeDataItem=a;v(this.dataItems.iterator(),function(b){b.parent=a});a.children=this.dataItems;a.x0=0;a.y0=0;a.name=this._homeText;var b=10*Math.round(1E3*this.pixelHeight/
this.pixelWidth/10)||1E3;a.x1=1E3;a.y1=b;this.xAxis.min=0;this.xAxis.max=1E3;this.xAxis.getMinMax();this.yAxis.min=0;this.yAxis.max=b;this.yAxis.getMinMax();this.layoutItems(a);this.createTreeSeries(a)},b.prototype.layoutItems=function(a,b){if(a){var c=a.children;b||(b=this.sorting);"ascending"==b&&c.values.sort(function(a,b){return a.value-b.value});"descending"==b&&c.values.sort(function(a,b){return b.value-a.value});this._updateDataItemIndexes(0);this.layoutAlgorithm(a);a=0;for(b=c.length;a<b;a++){var d=
c.getIndex(a);d.children&&this.layoutItems(d)}}},b.prototype.createTreeSeries=function(a){var b=this;this._tempSeries=[];for(var c=[a],f=a.parent;null!=f;)this.initSeries(f),c.push(f),f=f.parent;c.reverse();this.navigationBar&&(this.navigationBar.data=c);this.createTreeSeriesReal(a);J(this._tempSeries,function(a){-1==b.series.indexOf(a)&&b.series.push(a);a.zIndex=a.level})},b.prototype.createTreeSeriesReal=function(a){if(a.children&&a.level<this.currentLevel+this.maxLevels){this.initSeries(a);for(var b=
0;b<a.children.length;b++){var c=a.children.getIndex(b);c.children&&this.createTreeSeriesReal(c)}}},b.prototype.setData=function(a){this.currentLevel=0;this.currentlyZoomed=void 0;this.xAxis.start=0;this.xAxis.end=1;this.yAxis.start=0;this.yAxis.end=1;c.prototype.setData.call(this,a)},b.prototype.seriesAppeared=function(){return!0},b.prototype.initSeries=function(a){var b=this;if(!a.series){var c=void 0,c=this.seriesTemplates.getKey(a.level.toString());(c=c?c.clone():this.series.create()).dataItem.dataContext=
a;c.name=a.name;c.parentDataItem=a;a.series=c;c.level=a.level;var f=a.dataContext;f&&(c.config=f.config);this.dataUsers.removeValue(c);c.data=a.children.values;c.fill=a.color;c.columnsContainer.hide(0);c.bulletsContainer.hide(0);c.columns.template.adapter.add("fill",function(a,b){if(a=b.dataItem)if(a=a.treeMapDataItem)return b.fill=a.color,b.adapter.remove("fill"),a.color});this.zoomable&&(a.level>this.currentLevel||a.children&&0<a.children.length)&&(c.columns.template.cursorOverStyle=Aa.pointer,
this.zoomable&&c.columns.template.events.on("hit",function(c){c=c.target.dataItem;a.level>b.currentLevel?b.zoomToChartDataItem(c.treeMapDataItem.parent):b.zoomToSeriesDataItem(c)},this,void 0))}this._tempSeries.push(a.series)},b.prototype.toggleBullets=function(a){var b=this;v(this.series.iterator(),function(c){-1==b._tempSeries.indexOf(c)?(c.columnsContainer.hide(),c.bulletsContainer.hide(a)):(c.columnsContainer.show(),c.bulletsContainer.show(a),c.level<b.currentLevel&&c.bulletsContainer.hide(a))})},
b.prototype.zoomToSeriesDataItem=function(a){this.zoomToChartDataItem(a.treeMapDataItem)},b.prototype.zoomToChartDataItem=function(a){var b=this;a&&a.children&&(this.xAxis.zoomToValues(a.x0,a.x1),this.yAxis.zoomToValues(a.y0,a.y1),this.currentLevel=a.level,this.currentlyZoomed=a,this.createTreeSeries(a),a=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation,!a||a.isDisposed()||a.isFinished()?this.toggleBullets():(this._dataDisposers.push(a),a.events.once("animationended",function(){b.toggleBullets()})))},
b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("TreeMap chart"))},b.prototype.createDataItem=function(){return new $i},Object.defineProperty(b.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(a){this.setPropertyValue("maxLevels",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},
set:function(a){this.setPropertyValue("currentLevel",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(a){this.setPropertyValue("sorting",a,!0)},enumerable:!0,configurable:!0}),b.prototype.createSeries=function(){return new He},Object.defineProperty(b.prototype,"homeText",{get:function(){return this._homeText},set:function(a){this._homeText=a;this._homeDataItem&&(this._homeDataItem.name=this._homeText)},
enumerable:!0,configurable:!0}),b.prototype.processConfig=function(a){if(a){if(null!=a.layoutAlgorithm&&Y(a.layoutAlgorithm))switch(a.layoutAlgorithm){case "squarify":a.layoutAlgorithm=this.squarify;break;case "binaryTree":a.layoutAlgorithm=this.binaryTree;break;case "slice":a.layoutAlgorithm=this.slice;break;case "dice":a.layoutAlgorithm=this.dice;break;case "sliceDice":a.layoutAlgorithm=this.sliceDice;break;default:delete a.layoutAlgorithm}null!=a.navigationBar&&null==a.navigationBar.type&&(a.navigationBar.type=
"NavigationBar");c.prototype.processConfig.call(this,a)}},b.prototype.validateLayout=function(){c.prototype.validateLayout.call(this);this.layoutItems(this.currentlyZoomed)},b.prototype.validateDataItems=function(){c.prototype.validateDataItems.call(this);this.layoutItems(this._homeDataItem);v(this.series.iterator(),function(a){a.validateRawData()});this.zoomToChartDataItem(this._homeDataItem)},b.prototype.binaryTree=function(a){var b,c,f=a.children,h=f.length,g=Array(h+1);for(g[0]=c=b=0;b<h;++b)g[b+
1]=c+=f.getIndex(b).value;!function q(a,b,c,d,e,h,k){if(a>=b-1)return a=f.getIndex(a),a.x0=d,a.y0=e,a.x1=h,void(a.y1=k);for(var l=g[a],m=c/2+l,p=a+1,r=b-1;p<r;){var t=p+r>>>1;g[t]<m?p=t+1:r=t}m-g[p-1]<g[p]-m&&a+1<p&&--p;l=g[p]-l;m=c-l;h-d>k-e?(c=(d*m+h*l)/c,q(a,p,l,d,e,c,k),q(p,b,m,c,e,h,k)):(c=(e*m+k*l)/c,q(a,p,l,d,e,h,c),q(p,b,m,d,c,h,k))}(0,h,a.value,a.x0,a.y0,a.x1,a.y1)},b.prototype.slice=function(a){for(var b=a.x0,c=a.x1,f=a.y0,h=a.y1,g=a.children,n=-1,l=g.length,h=a.value&&(h-f)/a.value;++n<
l;)(a=g.getIndex(n)).x0=b,a.x1=c,a.y0=f,f+=a.value*h,a.y1=f},b.prototype.dice=function(a){for(var b=a.x0,c=a.x1,f=a.y0,h=a.y1,g=a.children,n=-1,l=g.length,c=a.value&&(c-b)/a.value;++n<l;)(a=g.getIndex(n)).y0=f,a.y1=h,a.x0=b,b+=a.value*c,a.x1=b},b.prototype.sliceDice=function(a){1&a.level?this.slice(a):this.dice(a)},b.prototype.squarify=function(a){for(var b,c,f,h,g,n,l,m,p,r=(1+Math.sqrt(5))/2,t=a.x0,u=a.x1,v=a.y0,w=a.y1,B=a.children,A=0,C=0,D=B.length,z=a.value;A<D;){a=u-t;c=w-v;do f=B.getIndex(C++).value;
while(!f&&C<D);h=g=f;p=f*f*(m=Math.max(c/a,a/c)/(z*r));for(l=Math.max(g/p,p/h);C<D;++C){if(f+=b=B.getIndex(C).value,b<h&&(h=b),b>g&&(g=b),p=f*f*m,(n=Math.max(g/p,p/h))>l){f-=b;break}l=n}h=this.dataItems.template.clone();h.value=f;h.dice=a<c;h.children=B.slice(A,C);h.x0=t;h.y0=v;h.x1=u;h.y1=w;h.dice?(h.y1=z?v+=c*f/z:w,this.dice(h)):(h.x1=z?t+=a*f/z:u,this.slice(h));z-=f;A=C}},b.prototype.handleDataItemValueChange=function(a,b){"value"==b&&this.invalidateDataItems()},b.prototype.handleDataItemWorkingValueChange=
function(a,b){"value"==b&&this.invalidateDataItems()},b.prototype.feedLegend=function(){var a=this.legend;if(a){var b=[];v(this.series.iterator(),function(a){1==a.level&&(a.hiddenInLegend||b.push(a))});a.dataFields.name="name";a.data=b}},b.prototype.disposeData=function(){c.prototype.disposeData.call(this);this._homeDataItem=void 0;this.series.clear();this.navigationBar&&this.navigationBar.disposeData();this.xAxis.disposeData();this.yAxis.disposeData()},b}(Pb);p.registeredClasses.TreeMap=aj;var Dg=
function(c){function b(){var a=c.call(this)||this;return a._chart=new sa,a.className="AxisRendererX3D",a._disposers.push(a._chart),a.applyTheme(),a}return m(b,c),b.prototype.updateGridElement=function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);if(a.element){var d=this.chart.dx3D||0,e=this.chart.dy3D||0,g=this.getHeight();a.path=z({x:d,y:e})+u({x:d,y:g+e})+u({x:0,y:g})}this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.updateBaseGridElement=function(){c.prototype.updateBaseGridElement.call(this);
var a=this.getHeight();this.baseGrid.path=z({x:this.chart.dx3D||0,y:this.chart.dy3D||0})+u({x:0,y:0})+u({x:0,y:a})},Object.defineProperty(b.prototype,"chart",{get:function(){return this._chart.get()},set:function(a){a&&this._chart.set(a,a.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),b.prototype.handle3DChanged=function(a){"depth"!=a.property&&"angle"!=a.property||this.invalidate()},b}(Sb);p.registeredClasses.AxisRendererX3D=Dg;var qj=function(c){function b(){var a=
c.call(this)||this;return a._chart=new sa,a.className="AxisRendererY3D",a._disposers.push(a._chart),a.applyTheme(),a}return m(b,c),b.prototype.updateGridElement=function(a,b,c){b+=(c-b)*a.location;c=this.positionToPoint(b);if(a.element){var d=this.chart.dx3D||0,e=this.chart.dy3D||0,g=this.getWidth();a.path=z({x:0,y:0})+u({x:d,y:e})+u({x:g+d,y:e})}this.positionItem(a,c);this.toggleVisibility(a,b,0,1)},b.prototype.updateBaseGridElement=function(){c.prototype.updateBaseGridElement.call(this);var a=this.chart.dx3D||
0,b=this.chart.dy3D||0,e=this.getWidth();this.baseGrid.path=z({x:0,y:0})+u({x:e,y:0})+u({x:e+a,y:b})},Object.defineProperty(b.prototype,"chart",{get:function(){return this._chart.get()},set:function(a){a&&this._chart.set(a,a.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),b.prototype.handle3DChanged=function(a){"depth"!=a.property&&"angle"!=a.property||this.invalidate()},b}(tb),Kg=function(c){function b(){var a=c.call(this)||this;return a.className="Column3D",
a}return m(b,c),b.prototype.createAssets=function(){this.column3D=this.createChild(xi);this.column3D.shouldClone=!1;this.column3D.strokeOpacity=0;this.column=this.column3D},b.prototype.validate=function(){c.prototype.validate.call(this);this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.column3D&&this.column3D.copyFrom(a.column3D)},b.prototype.setFill=
function(a){c.prototype.setFill.call(this,a);this.column.fill=a},b}(Tb);p.registeredClasses.Column3D=Kg;var jj=function(c){function b(){var a=c.call(this)||this;return a.className="ColumnSeries3DDataItem",a.applyTheme(),a}return m(b,c),b}(Gb),Ie=function(c){function b(){var a=c.call(this)||this;return a.className="ColumnSeries3D",a.columns.template.column3D.applyOnClones=!0,a.columns.template.hiddenState.properties.visible=!0,a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"columnsContainer",
{get:function(){return this.chart&&this.chart.columnsContainer?this.chart.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),b.prototype.validateDataElementReal=function(a){c.prototype.validateDataElementReal.call(this,a);a.column&&(a.column.dx=this.dx,a.column.dy=this.dy)},b.prototype.validateDataElements=function(){c.prototype.validateDataElements.call(this);this.chart&&this.chart.invalidateLayout()},b.prototype.createColumnTemplate=function(){return new Kg},Object.defineProperty(b.prototype,
"depth",{get:function(){return this.getPropertyValue("depth")},set:function(a){this.setPropertyValue("depth",a,!0);this.columns.template.column3D.depth=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(a){this.setPropertyValue("angle",a);this.columns.template.column3D.angle=a},enumerable:!0,configurable:!0}),b}(Rb);p.registeredClasses.ColumnSeries3D=Ie;p.registeredClasses.ColumnSeries3DDataItem=jj;var ql=
function(c){function b(){var a=c.call(this)||this;return a.className="XYChart3DDataItem",a.applyTheme(),a}return m(b,c),b}(ve),bj=function(c){function b(){var a=c.call(this)||this;a._axisRendererX=Dg;a._axisRendererY=qj;a.className="XYChart3D";a.depth=30;a.angle=30;var b=a.seriesContainer.createChild(I);return b.shouldClone=!1,b.isMeasured=!1,b.layout="none",a.columnsContainer=b,a.columnsContainer.mask=a.createChild(M),a.applyTheme(),a}return m(b,c),b.prototype.updateSeriesMasks=function(){if(c.prototype.updateSeriesMasks.call(this),
xf()){var a=this.columnsContainer,b=a.mask;a.mask=void 0;a.mask=b}},Object.defineProperty(b.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(a){this.setPropertyValue("depth",a);this.fixLayout();this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(a){this.setPropertyValue("angle",a);this.fixLayout();this.invalidateDataUsers()},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"dx3D",{get:function(){return F(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dy3D",{get:function(){return-G(this.angle)*this.depth},enumerable:!0,configurable:!0}),b.prototype.validateLayout=function(){c.prototype.validateLayout.call(this);this.fixColumns()},b.prototype.fixLayout=function(){this.chartContainer.marginTop=-this.dy3D;this.chartContainer.paddingRight=this.dx3D;this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,
this.scrollbarX.dx=this.dx3D);this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D);this.fixColumns();c.prototype.fixLayout.call(this)},b.prototype.fixColumns=function(){var a=this,b=1,c=0;v(this.series.iterator(),function(a){a instanceof Ie&&(!a.clustered&&0<c&&b++,a.depthIndex=b-1,c++)});var f=0;v(this.series.iterator(),function(c){if(c instanceof Ie){c.depth=a.depth/b;c.angle=a.angle;c.dx=a.depth/b*F(a.angle)*c.depthIndex;c.dy=-a.depth/b*G(a.angle)*c.depthIndex;var d=!1;
(c.baseAxis==c.xAxis&&c.xAxis.renderer.inversed||c.baseAxis==c.yAxis&&c.yAxis.renderer.inversed)&&(d=!0);var e=1;c.columns.each(function(a){a.zIndex=d?1E3*(1E3-e)+f-100*c.depthIndex:1E3*e+f-100*c.depthIndex;e++});f++}});this.maskColumns()},b.prototype.processConfig=function(a){if(a&&null!=a.series&&ya(a.series))for(var b=0,e=a.series.length;b<e;b++)a.series[b].type=a.series[b].type||"ColumnSeries3D";c.prototype.processConfig.call(this,a)},b.prototype.maskColumns=function(){var a=this.plotContainer.pixelWidth,
b=this.plotContainer.pixelHeight,c=this.dx3D,f=this.dy3D,a=z({x:0,y:0})+u({x:c,y:f})+u({x:a+c,y:f})+u({x:a+c,y:b+f})+u({x:a,y:b})+u({x:a,y:b})+u({x:0,y:b})+" Z";(b=this.columnsContainer)&&b.mask&&(b.mask.path=a)},b}(Pb);p.registeredClasses.XYChart3D=bj;var dj=function(c){function b(){var a=c.call(this)||this;a.className="HeatLegend";a.markerContainer=a.createChild(I);a.markerContainer.shouldClone=!1;a.markerCount=1;var b=new rb;return b.minHeight=20,b.minWidth=20,b.interactionsEnabled=!1,b.fillOpacity=
1,b.cornerRadius(0,0,0,0),a.markerContainer.minHeight=20,a.markerContainer.minWidth=20,a.orientation="horizontal",a.markers=new oa(b),a._disposers.push(new da(a.markers)),a._disposers.push(a.markers.template),a.applyTheme(),a}return m(b,c),b.prototype.getMinFromRules=function(a){var b,c=this.series;if(c)return $a(c.heatRules.iterator(),function(c){return c.property!=a||(b=c.min,!1)}),b},b.prototype.getMaxFromRules=function(a){var b,c=this.series;if(c)return v(c.heatRules.iterator(),function(c){return c.property!=
a||(b=c.max,!1)}),b},b.prototype.validate=function(){c.prototype.validate.call(this);var a=this.series,b=this.minColor,e=this.maxColor;if(null!=b||(b=mb(this.getMinFromRules("fill"))),null!=e||(e=mb(this.getMaxFromRules("fill"))),a)a=a.fill,null==b&&a instanceof U&&(b=a),null==e&&a instanceof U&&(e=a);null!=e||(e=mb(this.getMaxFromRules("fill")));var f=R(this.getMinFromRules("fillOpacity"));l(f)||(f=1);var h=R(this.getMaxFromRules("fillOpacity"));l(h)||(h=1);var g=R(this.getMinFromRules("strokeOpacity"));
l(g)||(g=1);var n=R(this.getMaxFromRules("strokeOpacity"));l(n)||(n=1);for(var m=mb(this.getMinFromRules("stroke")),p=mb(this.getMaxFromRules("stroke")),a=0;a<this.markerCount;a++){var r=this.markers.getIndex(a);if(r||((r=this.markers.create()).parent=this.markerContainer,r.height=t(100),r.width=t(100)),1==this.markerCount){var u=new bb;if(u.addColor(b,f),u.addColor(e,h),"vertical"==this.orientation&&(u.rotation=-90),r.fill=u,null!=m&&null!=p)u=new bb,u.addColor(m,g),u.addColor(p,n),"vertical"==this.orientation&&
(u.rotation=-90),r.stroke=u}else if(u=new U(Sc(b.rgb,e.rgb,a/this.markerCount)),r.fill=u,r.fillOpacity=f+(h-f)*a/this.markerCount,null!=m&&null!=p)u=new U(Sc(m.rgb,p.rgb,a/this.markerCount)),r.stroke=u,r.strokeOpacity=g+(n-g)*a/this.markerCount}b=this.valueAxis.renderer;1<this.markerCount&&("horizontal"==this.orientation?b.minGridDistance=this.measuredWidth/this.markerCount:b.minGridDistance=this.measuredHeight/this.markerCount);this.valueAxis.invalidate();a=this.markerCount;for(b=this.markers.length;a<
b;a++)this.markers.getIndex(a).parent=void 0},Object.defineProperty(b.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(a){a instanceof U||(a=mb(a));this.setColorProperty("minColor",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(a){pa(a)||(a=mb(a));this.setColorProperty("maxColor",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(a){this.setPropertyValue("markerCount",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(a){this.setPropertyValue("minValue",a);this.valueAxis.min=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(a){this.setPropertyValue("maxValue",
a);this.valueAxis.max=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(a){this.setPropertyValue("orientation",a,!0);var b=this.markerContainer,c=this.valueAxis;"horizontal"==a?(null!=this.width||(this.width=200),this.height=void 0,c.width=t(100),c.height=void 0,c.tooltip.pointerOrientation="vertical",this.layout="vertical",b.width=t(100),b.height=void 0,c.renderer instanceof Sb||(c.renderer=
new Sb)):(null!=this.height||(this.height=200),this.width=void 0,this.layout="horizontal",b.width=void 0,b.height=t(100),c.height=t(100),c.width=void 0,c.tooltip.pointerOrientation="horizontal",c.renderer instanceof tb||(c.renderer=new tb),c.renderer.inside=!0,c.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);b=c.renderer;b.grid.template.disabled=!0;b.axisFills.template.disabled=!0;b.baseGrid.disabled=!0;b.labels.template.padding(2,3,2,3);b.minHeight=void 0;b.minWidth=void 0;
this.markerContainer.layout=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(ma),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(a){this._valueAxis=a;a.parent=this;a.strictMinMax=!0;this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"series",{get:function(){return this._series},set:function(a){var b=this;this._series=a;var c="value";
try{var f=a.heatRules.getIndex(0).dataField;f&&(c=f)}catch(h){}this.updateMinMax(a.dataItem.values[c].low,a.dataItem.values[c].high);a.dataItem.events.on("calculatedvaluechanged",function(d){b.updateMinMax(a.dataItem.values[c].low,a.dataItem.values[c].high)},void 0,!1);a.heatRules.events.on("inserted",this.invalidate,this,!1);a.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),b.prototype.updateMinMax=function(a,b){var c=this.valueAxis;l(this.minValue)||(c.min=
a,c.invalidate());l(this.maxValue)||(c.max=b,c.invalidate())},b.prototype.processConfig=function(a){if(a&&null!=a.series&&Y(a.series)&&Y(a.series))if(this.map.hasKey(a.series))a.series=this.map.getKey(a.series);else{var b=a.series,e=this.map.events.on("insertKey",function(a){a.key==b&&(this.series=a.newValue,e.dispose())},this);this._disposers.push(e);delete a.series}c.prototype.processConfig.call(this,a)},b}(I);p.registeredClasses.HeatLegend=dj;var Gd=function(c){function b(){var a=c.call(this)||
this;return a.className="Candlestick",a.layout="none",a}return m(b,c),b.prototype.createAssets=function(){c.prototype.createAssets.call(this);this.lowLine=this.createChild(hb);this.lowLine.shouldClone=!1;this.highLine=this.createChild(hb);this.highLine.shouldClone=!1},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.lowLine&&this.lowLine.copyFrom(a.lowLine);this.highLine&&this.highLine.copyFrom(a.highLine)},b}(Tb);p.registeredClasses.Candlestick=Gd;var Be=function(c){function b(){var a=
c.call(this)||this;return a.values.lowValueX={},a.values.lowValueY={},a.values.highValueX={},a.values.highValueY={},a.className="CandlestickSeriesDataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(a){this.setValue("lowValueX",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(a){this.setValue("lowValueY",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(a){this.setValue("highValueX",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(a){this.setValue("highValueY",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(a){this.setValue("valueX",
a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(a){this.setValue("valueY",a)},enumerable:!0,configurable:!0}),b}(Gb),hg=function(c){function b(){var a=c.call(this)||this;a.className="CandlestickSeries";a.strokeOpacity=1;var b=new W,e=b.getFor("positive"),b=b.getFor("negative");return a.dropFromOpenState.properties.fill=b,a.dropFromOpenState.properties.stroke=b,a.riseFromOpenState.properties.fill=e,a.riseFromOpenState.properties.stroke=
e,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Candlestick Series"))},b.prototype.createDataItem=function(){return new Be},b.prototype.validateDataElementReal=function(a){c.prototype.validateDataElementReal.call(this,a);this.validateCandlestick(a)},b.prototype.validateCandlestick=function(a){var b=a.column;if(b){var c=b.lowLine,f=b.highLine;if(this.baseAxis==
this.xAxis){var g=b.pixelWidth/2;c.x=g;f.x=g;var g=a.getWorkingValue(this.yOpenField),k=a.getWorkingValue(this.yField),n=this.yAxis.getY(a,this.yOpenField),l=this.yAxis.getY(a,this.yField),m=this.yAxis.getY(a,this.yLowField),p=this.yAxis.getY(a,this.yHighField),r=b.pixelY;c.y1=m-r;f.y1=p-r;g<k?(c.y2=n-r,f.y2=l-r):(c.y2=l-r,f.y2=n-r)}this.baseAxis==this.yAxis&&(g=b.pixelHeight/2,c.y=g,f.y=g,g=a.getWorkingValue(this.xOpenField),k=a.getWorkingValue(this.xField),n=this.xAxis.getX(a,this.xOpenField),l=
this.xAxis.getX(a,this.xField),m=this.xAxis.getX(a,this.xLowField),p=this.xAxis.getX(a,this.xHighField),b=b.pixelX,c.x1=m-b,f.x1=p-b,g<k?(c.x2=n-b,f.x2=l-b):(c.x2=l-b,f.x2=n-b));v(this.axisRanges.iterator(),function(b){if(b=a.rangesColumns.getKey(b.uid)){var d=b.lowLine;d.x=c.x;d.y=c.y;d.x1=c.x1;d.x2=c.x2;d.y1=c.y1;d.y2=c.y2;b=b.highLine;b.x=f.x;b.y=f.y;b.x1=f.x1;b.x2=f.x2;b.y1=f.y1;b.y2=f.y2}})}},Object.defineProperty(b.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),b.prototype.defineFields=function(){if(c.prototype.defineFields.call(this),this.baseAxis==this.xAxis){var a=Wc(this.yAxis.axisFieldName);
this._yLowField="low"+a+"Y";this._yHighField="high"+a+"Y"}this.baseAxis==this.yAxis&&(a=Wc(this.xAxis.axisFieldName),this._xLowField="low"+a+"X",this._xHighField="high"+a+"X");this.addValueField(this.xAxis,this._xValueFields,this._xLowField);this.addValueField(this.xAxis,this._xValueFields,this._xHighField);this.addValueField(this.yAxis,this._yValueFields,this._yLowField);this.addValueField(this.yAxis,this._yValueFields,this._yHighField)},b.prototype.createLegendMarker=function(a){var b=a.pixelWidth,
c=a.pixelHeight;a.removeChildren();var f,g,k=a.createChild(Gd);k.shouldClone=!1;k.copyFrom(this.columns.template);var n=k.lowLine,l=k.highLine;this.baseAxis==this.yAxis?(f=b/3,g=c,n.y=c/2,l.y=c/2,n.x2=b/3,l.x2=b/3,l.x=b/3*2,k.column.x=b/3):(f=b,g=c/3,n.x=b/2,l.x=b/2,n.y2=c/3,l.y2=c/3,l.y=c/3*2,k.column.y=c/3);k.width=f;k.height=g;ta(this,a,wa);ta(this.columns.template,k,wa);k.stroke=this.riseFromOpenState.properties.stroke;k.fill=k.stroke;a=a.dataItem;a.color=k.fill;a.colorOrig=k.fill},b.prototype.createColumnTemplate=
function(){return new Gd},b}(Rb);p.registeredClasses.CandlestickSeries=hg;p.registeredClasses.CandlestickSeriesDataItem=Be;var Ne=function(c){function b(){var a=c.call(this)||this;return a.className="OHLC",a.layout="none",a}return m(b,c),b.prototype.createAssets=function(){this.openLine=this.createChild(hb);this.openLine.shouldClone=!1;this.highLowLine=this.createChild(hb);this.highLowLine.shouldClone=!1;this.closeLine=this.createChild(hb);this.closeLine.shouldClone=!1},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,
a);this.openLine&&this.openLine.copyFrom(a.openLine);this.highLowLine&&this.highLowLine.copyFrom(a.highLowLine);this.closeLine&&this.closeLine.copyFrom(a.closeLine)},b}(Gd);p.registeredClasses.OHLC=Ne;var ig=function(c){function b(){var a=c.call(this)||this;return a.className="OHLCSeriesDataItem",a.applyTheme(),a}return m(b,c),b}(Be),ej=function(c){function b(){var a=c.call(this)||this;return a.className="OHLCSeries",a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);
null!=this.readerTitle||(this.readerTitle=this.language.translate("OHLC Series"))},b.prototype.createDataItem=function(){return new ig},b.prototype.validateCandlestick=function(a){var b=a.column;if(b){var c=b.openLine,f=b.highLowLine,g=b.closeLine;if(this.baseAxis==this.xAxis){var k=b.pixelWidth/2;f.x=k;a.getWorkingValue(this.yOpenField);a.getWorkingValue(this.yField);var n=this.yAxis.getY(a,this.yOpenField),l=this.yAxis.getY(a,this.yField),m=this.yAxis.getY(a,this.yLowField),p=this.yAxis.getY(a,
this.yHighField),r=b.pixelY;c.y1=n-r;c.y2=n-r;c.x1=0;c.x2=k;g.y1=l-r;g.y2=l-r;g.x1=k;g.x2=2*k;f.y1=p-r;f.y2=m-r}this.baseAxis==this.yAxis&&(k=b.pixelHeight/2,f.y=k,a.getWorkingValue(this.xOpenField),a.getWorkingValue(this.xField),n=this.xAxis.getX(a,this.xOpenField),l=this.xAxis.getX(a,this.xField),m=this.xAxis.getX(a,this.xLowField),p=this.xAxis.getX(a,this.xHighField),b=b.pixelX,c.x1=n-b,c.x2=n-b,c.y1=k,c.y2=2*k,g.x1=l-b,g.x2=l-b,g.y1=0,g.y2=k,f.x1=p-b,f.x2=m-b);v(this.axisRanges.iterator(),function(b){if(b=
a.rangesColumns.getKey(b.uid)){var d=b.openLine;d.x=c.x;d.y=c.y;d.x1=c.x1;d.x2=c.x2;d.y1=c.y1;d.y2=c.y2;d=b.closeLine;d.x=g.x;d.y=g.y;d.x1=g.x1;d.x2=g.x2;d.y1=g.y1;d.y2=g.y2;b=b.highLowLine;b.x=f.x;b.y=f.y;b.x1=f.x1;b.x2=f.x2;b.y1=f.y1;b.y2=f.y2}})}},b.prototype.createLegendMarker=function(a){var b=a.pixelWidth,c=a.pixelHeight;a.removeChildren();var f,g,k=a.createChild(Ne);k.shouldClone=!1;k.copyFrom(this.columns.template);var n=k.openLine,l=k.closeLine,m=k.highLowLine;this.baseAxis==this.yAxis?(f=
b/3,g=c,m.y=c/2,m.x2=b,n.x=b/3*2,n.y2=c/2,l.x=b/3,l.y2=c,l.y1=c/2):(f=b,g=c/3,m.x=b/2,m.y2=c,n.y=c/3*2,n.x2=b/2,l.y=c/3,l.x2=b,l.x1=b/2);k.width=f;k.height=g;ta(this,a,wa);ta(this.columns.template,k,wa);k.stroke=this.riseFromOpenState.properties.stroke;a=a.dataItem;a.color=k.stroke;a.colorOrig=k.stroke},b.prototype.createColumnTemplate=function(){return new Ne},b}(hg);p.registeredClasses.OHLCSeries=ej;p.registeredClasses.OHLCSeriesDataItem=ig;var Bj=function(c){function b(){var a=c.call(this)||this;
return a.className="StepLineSeriesSegment",a}return m(b,c),b.prototype.drawSegment=function(a,b,c,f,g,k){if(0<a.length&&0<b.length)if(g){c=z(a[0]);if(0<a.length)for(f=1;f<a.length;f++)g=a[f],f/2==Math.round(f/2)?c+=z(g):c+=u(g);this.strokeSprite.path=c;(0<this.fillOpacity||0<this.fillSprite.fillOpacity)&&(c=z(a[0])+vc(a),c+=u(b[0])+vc(b),c+=u(a[0]),c+=" Z",this.fillSprite.path=c)}else c=z(a[0])+vc(a),this.strokeSprite.path=c,(0<this.fillOpacity||0<this.fillSprite.fillOpacity)&&(c+=u(b[0])+vc(b),c+=
u(a[0]),c+=" Z",this.fillSprite.path=c)},b}(Ae);p.registeredClasses.StepLineSeriesSegment=Bj;var jg=function(c){function b(){var a=c.call(this)||this;return a.className="StepLineSeriesDataItem",a.applyTheme(),a}return m(b,c),b}(xd),fj=function(c){function b(){var a=c.call(this)||this;return a.className="StepLineSeries",a.applyTheme(),a.startLocation=0,a.endLocation=1,a}return m(b,c),b.prototype.createDataItem=function(){return new jg},b.prototype.addPoints=function(a,b,c,f,g){var d=this.startLocation,
e=this.endLocation,h=this.xAxis.getX(b,c,d),d=this.yAxis.getY(b,f,d);c=this.xAxis.getX(b,c,e);b=this.yAxis.getY(b,f,e);if(h=B(h,-2E4,2E4),d=B(d,-2E4,2E4),c=B(c,-2E4,2E4),b=B(b,-2E4,2E4),!this.noRisers&&this.connect&&1<a.length)f=a[a.length-1],this.baseAxis==this.xAxis&&(g?a.push({x:f.x,y:b}):a.push({x:h,y:f.y})),this.baseAxis==this.yAxis&&(g?a.push({x:c,y:f.y}):a.push({x:f.x,y:d}));h={x:h,y:d};d={x:c,y:b};g?a.push(d,h):a.push(h,d)},b.prototype.drawSegment=function(a,b,c){var d=!1;this.yAxis==this.baseAxis&&
(d=!0);a.drawSegment(b,c,this.tensionX,this.tensionY,this.noRisers,d)},b.prototype.createSegment=function(){return new Bj},Object.defineProperty(b.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(a){this.setPropertyValue("noRisers",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(a){this.setPropertyValue("startLocation",a,!0)},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(a){this.setPropertyValue("endLocation",a,!0)},enumerable:!0,configurable:!0}),b}(ze);p.registeredClasses.StepLineSeries=fj;p.registeredClasses.StepLineSeriesDataItem=jg;var Jg=function(c){function b(){var a=c.call(this)||this;return a.className="RadarColumn",a}return m(b,c),b.prototype.createAssets=function(){this.radarColumn=this.createChild(Mb);this.radarColumn.shouldClone=
!1;this.radarColumn.strokeOpacity=void 0;this.column=this.radarColumn},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.radarColumn&&this.radarColumn.copyFrom(a.radarColumn)},b.prototype.getTooltipX=function(){var a=this.getPropertyValue("tooltipX");return l(a)||(a=this.radarColumn.tooltipX),a},b.prototype.getTooltipY=function(){var a=this.getPropertyValue("tooltipX");return l(a)||(a=this.radarColumn.tooltipY),a},b}(Tb);p.registeredClasses.RadarColumn=Jg;var gj=function(c){function b(){var a=
c.call(this)||this;return a.className="ColumnSeriesDataItem",a.applyTheme(),a}return m(b,c),b}(Gb),hj=function(c){function b(){var a=c.call(this)||this;return a.className="RadarColumnSeries",a.applyTheme(),a}return m(b,c),b.prototype.createColumnTemplate=function(){return new Jg},b.prototype.validate=function(){this.chart.invalid&&this.chart.validate();c.prototype.validate.call(this)},b.prototype.validateDataElementReal=function(a){var b,c,f,g,k=this,n=this.chart.startAngle,l=this.chart.endAngle,
m=this.yField,p=this.yOpenField,r=this.xField,t=this.xOpenField,u=this.getStartLocation(a),w=this.getEndLocation(a),C=(l-n)/(this.dataItems.length*(this.end-this.start)),z=this.columns.template.percentWidth;aa(z)&&(z=100);z=D((w-u)*(1-z/100)/2,5);if(u+=z,w-=z,this.baseAxis==this.xAxis?(f=Z({x:this.yAxis.getX(a,m,a.locations[m],"valueY"),y:this.yAxis.getY(a,m,a.locations[m],"valueY")}),g=Z({x:this.yAxis.getX(a,p,a.locations[p],"valueY"),y:this.yAxis.getY(a,p,a.locations[p],"valueY")}),b=this.xAxis.getAngle(a,
t,u,"valueX"),c=this.xAxis.getAngle(a,r,w,"valueX"),n+=u*C,l-=(1-w)*C):(f=Z({x:this.yAxis.getX(a,m,u,"valueY"),y:this.yAxis.getY(a,m,u,"valueY")}),g=Z({x:this.yAxis.getX(a,p,w,"valueY"),y:this.yAxis.getY(a,p,w,"valueY")}),b=this.xAxis.getAngle(a,r,a.locations[r],"valueX"),c=this.xAxis.getAngle(a,t,a.locations[t],"valueX")),c<b)b=c=b;b=B(b,n,l);c=B(c,n,l);var A=a.column;A||(A=this.columns.create(),a.column=A,ff(this.columns.template,A,wa),a.addSprite(A),this.setColumnStates(A));n=A.radarColumn;n.startAngle=
b;var F=c-b;0<F?(n.arc=F,n.radius=f,n.innerRadius=g,A.__disabled=!1,A.parent=this.columnsContainer,v(this.axisRanges.iterator(),function(c){var d=a.rangesColumns.getKey(c.uid);d||(d=k.columns.create(),ff(k.columns.template,d,wa),ta(c.contents,d,wa),d.dataItem&&N(d.dataItem.sprites,d),a.addSprite(d),k.setColumnStates(d),a.rangesColumns.setKey(c.uid,d));c=A.radarColumn;c.startAngle=b;c.arc=F;c.radius=f;c.innerRadius=g;c.invalid&&c.validate();d.__disabled=!1;d.parent=k.columnsContainer})):this.disableUnusedColumns(a)},
b.prototype.getPoint=function(a,b,c,f,g,k,l){k||(k="valueX");l||(l="valueY");c=Z({x:this.yAxis.getX(a,c,g,l),y:this.yAxis.getY(a,c,g,l)});0==c&&(c=1E-5);a=this.xAxis.getAngle(a,b,f,k);return{x:c*F(a),y:c*G(a)}},b.prototype.getMaskPath=function(){var a=this.yAxis.renderer;return cc(a.startAngle,a.endAngle-a.startAngle,a.pixelRadius,a.pixelInnerRadius)},b}(Rb);p.registeredClasses.RadarColumnSeries=hj;p.registeredClasses.RadarColumnSeriesDataItem=gj;var Ge=function(c){function b(){var a=c.call(this)||
this;return a.slice=a.createChild(M),a.slice.shouldClone=!1,a.slice.setElement(a.paper.add("path")),a.slice.isMeasured=!1,a.orientation="vertical",a.bottomWidth=t(100),a.topWidth=t(100),a.isMeasured=!1,a.width=10,a.height=10,a.expandDistance=0,a.className="FunnelSlice",a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);var a=this.pixelPaddingTop,b=this.pixelPaddingLeft,e=this.pixelWidth-this.pixelPaddingRight-b,f=this.pixelHeight-a-this.pixelPaddingBottom,g=this.expandDistance,
k="";if("vertical"==this.orientation){var k={x:(e-(l=fa(this.topWidth,e)))/2+b,y:a},l={x:(e+l)/2+b,y:a},m={x:(e+(p=fa(this.bottomWidth,e)))/2+b,y:a+f},p={x:(e-p)/2+b,y:a+f},a={x:l.x+(m.x-l.x)/2+g*f,y:l.y+.5*f},e={x:k.x+(p.x-k.x)/2-g*f,y:k.y+.5*f},f=u(m),b="";0!=g&&(f=Kb(m,a),b=Kb(k,e));k=z(k)+u(l)+f+u(p)+b;this.tickPoint={x:l.x+(m.x-l.x)/2,y:l.y+(m.y-l.y)/2}}else{var l,p,k={x:b,y:(f-(l=fa(this.topWidth,f)))/2+a};l={x:b,y:(f+l)/2+a};m={x:b+e,y:(f-(p=fa(this.bottomWidth,f)))/2+a};p={x:b+e,y:(f+p)/2+
a};a={y:k.y+(m.y-k.y)/2-g*e,x:k.x+.5*e};e={y:l.y+(p.y-l.y)/2+g*e,x:l.x+.5*e};f=u(m);b="";0!=g&&(f=Kb(m,a),b=Kb(l,e));k=z(l)+u(k)+f+u(p)+b;this.tickPoint={y:l.y+(p.y-l.y)/2,x:l.x+(p.x-l.x)/2}}this.slice.path=k;this.invalidateLayout()},b.prototype.getPoint=function(a,b){var c=this.pixelPaddingTop,d=this.pixelPaddingLeft,g=this.pixelWidth-this.pixelPaddingRight-d,k=this.pixelHeight-c-this.pixelPaddingBottom;if("vertical"==this.orientation){var l=(g-(r=fa(this.topWidth,g)))/2+d,m=(g+r)/2+d,p=(g+(r=fa(this.bottomWidth,
g)))/2+d,d=l+((g-r)/2+d-l)*b;return{x:d+(m+(p-m)*b-d)*a,y:c+(c+k-c)*b}}var r,l=(k-(r=fa(this.topWidth,k)))/2+c,m=(k+r)/2+c,g=d+g,p=(k-(r=fa(this.bottomWidth,k)))/2+c,l=l+(p-l)*a;return{y:l+(m+((k+r)/2+c-m)*a-l)*b,x:d+(g-d)*a}},Object.defineProperty(b.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(a){this.setPercentProperty("bottomWidth",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},
set:function(a){this.setPercentProperty("topWidth",a,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(a){this.setPropertyValue("orientation",a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(a){this.setPropertyValue("expandDistance",a,!0)},enumerable:!0,configurable:!0}),
b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.slice&&this.slice.copyFrom(a.slice)},b}(I);p.registeredClasses.FunnelSlice=Ge;var Cj=function(c){function b(){var a=c.call(this)||this;return a._label=new sa,a._slice=new sa,a.className="FunnelTick",a.element=a.paper.add("path"),a._disposers.push(a._label),a._disposers.push(a._slice),a.setPropertyValue("locationX",0),a.setPropertyValue("locationY",0),a.applyTheme(),a}return m(b,c),b.prototype.draw=function(){c.prototype.draw.call(this);
var a=this.slice,b=a.getPoint(this.locationX,this.locationY);if(b){var e=this.label,f=a.dataItem.component;if("vertical"==f.orientation){var g=e.pixelX,k=e.pixelY;f.labelsOpposite||(g+=e.maxRight)}else g=e.pixelX,k=e.pixelY,f.labelsOpposite||(k+=e.maxBottom);a=Ab(b,a,this.parent);e=Ab({x:g,y:k},e.parent,this.parent);this.path=z(a)+u(e)}},Object.defineProperty(b.prototype,"slice",{get:function(){return this._slice.get()},set:function(a){this._slice.set(a,new ja([a.events.on("transformed",this.invalidate,
this,!1),a.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"label",{get:function(){return this._label.get()},set:function(a){this._label.set(a,a.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(a){this.setPropertyValue("locationX",a,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(a){this.setPropertyValue("locationY",a,!1,!0)},enumerable:!0,configurable:!0}),b}(Ec);p.registeredClasses.FunnelTick=Cj;var Ee=function(c){function b(){var a=c.call(this)||this;return a.className="FunnelSeriesDataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"sliceLink",{get:function(){var a=this;if(!this._sliceLink){var b=this.component.sliceLinks.create();this._sliceLink=b;this._disposers.push(b);
b.parent=this.component.slicesContainer;this._disposers.push(new X(function(){a.component&&a.component.sliceLinks.removeValue(b)}));this.addSprite(b);b.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),b}(Pe),mg=function(c){function b(){var a=c.call(this)||this;return a._nextY=0,a.className="FunnelSeries",a.orientation="vertical",a.width=t(100),a.height=t(100),a.slicesContainer.width=t(100),a.slicesContainer.height=t(100),a._disposers.push(a.slicesContainer.events.on("maxsizechanged",
a.invalidateDataItems,a,!1)),a.labelsOpposite=!0,a.labelsContainer.layout="absolute",a.bottomRatio=0,a.applyTheme(),a}return m(b,c),b.prototype.createSlice=function(){return new Ge},b.prototype.createTick=function(){return new Cj},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Funnel Series"))},b.prototype.createDataItem=function(){return new Ee},b.prototype.initSlice=function(a){a.isMeasured=
!1;a.defaultState.properties.scale=1;a.observe("scale",this.handleSliceScale,this);a.observe(["dx","dy","x","y"],this.handleSliceMove,this);a.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})";a.states.create("hover").properties.expandDistance=.2},b.prototype.initLabel=function(a){c.prototype.initLabel.call(this,a);a.verticalCenter="middle";a.horizontalCenter="middle";a.isMeasured=!0;a.padding(5,5,5,5)},b.prototype.validate=function(){c.prototype.validate.call(this);this._nextY=
0},b.prototype.validateDataElements=function(){var a=this.slicesContainer,b=this.labelsContainer,e=this.labels.template;this.alignLabels?(e.interactionsEnabled=!0,a.isMeasured=!0,b.isMeasured=!0):(e.interactionsEnabled=!1,a.isMeasured=!1,b.isMeasured=!1);var f=0,g=0;this.dataItems.each(function(a){null!=a.value&&(g++,0<a.value?f+=a.getWorkingValue("value")/a.value:f+=1)});this._total=1/g*f;this._count=g;c.prototype.validateDataElements.call(this);this.arrangeLabels()},b.prototype.getNextValue=function(a){var b=
a.index;a=a.getWorkingValue("value");return b<this.dataItems.length-1&&(b=this.dataItems.getIndex(b+1),a=b.getWorkingValue("value"),!b.visible||b.isHiding)?this.getNextValue(b):a},b.prototype.formDataElement=function(){},b.prototype.validateDataElement=function(a){if(null!=a.value){var b=a.slice;b.orientation=this.orientation;var e=a.sliceLink;e.orientation=this.orientation;var f=a.tick,g=a.label;f.slice=b;f.label=g;this.decorateSlice(a);e.fill=b.fill;a.index==this.dataItems.length-1&&(e.disabled=
!0);c.prototype.validateDataElement.call(this,a)}},b.prototype.decorateSlice=function(a){var b=a.slice,c=a.sliceLink,f=a.label,g=a.tick,k=this.slicesContainer.innerWidth,l=this.slicesContainer.innerHeight,m=this.getNextValue(a),p=a.getWorkingValue("value"),r=this.bottomRatio,t=1;(0<a.value&&(t=p/a.value),"vertical"==this.orientation)?(a=c.pixelHeight*t,b.topWidth=p/this.dataItem.values.value.high*k,b.bottomWidth=(p-(p-m)*r)/this.dataItem.values.value.high*k,c.topWidth=b.bottomWidth,c.bottomWidth=
(p-(p-m))/this.dataItem.values.value.high*k,b.y=this._nextY,b.height=T(0,(l+a)/this._count*t/this._total-a),b.x=k/2,this.alignLabels?f.x=void 0:f.x=b.x,f.y=b.pixelY+b.pixelHeight*g.locationY,this._nextY+=b.pixelHeight+a,c.y=this._nextY-a,c.x=b.x):(a=c.pixelWidth*t,b.topWidth=p/this.dataItem.values.value.high*l,b.bottomWidth=(p-(p-m)*r)/this.dataItem.values.value.high*l,c.topWidth=b.bottomWidth,c.bottomWidth=(p-(p-m))/this.dataItem.values.value.high*l,b.x=this._nextY,b.width=(k+a)/this._count*t*1/
this._total-a,b.y=l/2,this.alignLabels?f.y=this.labelsContainer.measuredHeight:f.y=b.y,f.x=b.pixelX+b.pixelWidth*g.locationX,this._nextY+=b.pixelWidth+a,c.x=this._nextY-a,c.y=b.y)},b.prototype.arrangeLabels=function(){if(this.alignLabels){var a=this.labels.length;if(1<a){var b=this.labels.getIndex(a-1),c=b.pixelY,b=b.pixelX;if(1<a){for(var f=a-2;0<=f;f--)(g=this.labels.getIndex(f)).visible&&(g.invalid&&g.validate(),"vertical"==this.orientation?g.pixelY+g.measuredHeight>c&&(g.y=c-g.measuredHeight):
g.pixelX+g.measuredWidth>b&&(g.x=b-g.measuredWidth),c=g.pixelY,b=g.pixelX);for(f=b=c=0;f<a;f++){var g;(g=this.labels.getIndex(f)).visible&&(g.invalid&&g.validate(),"vertical"==this.orientation?g.pixelY<c&&(g.y=c):g.pixelX<b&&(g.x=b),c+=g.measuredHeight,b+=g.measuredWidth)}}}}},b.prototype.positionBullet=function(a){c.prototype.positionBullet.call(this,a);var b=a.dataItem.slice,e=a.locationX;l(e)||(e=.5);var f=a.locationY;l(f)||(f=1);a.x=b.pixelX+b.measuredWidth*e;a.y=b.pixelY+b.measuredHeight*f},
Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(a){this.setPropertyValue("orientation",a)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==a?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(a){this.setPropertyValue("bottomRatio",a)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var a=new Ge;a.applyOnClones=!0;a.fillOpacity=.5;a.expandDistance=-.3;a.hiddenState.properties.opacity=0;this._disposers.push(a);this._sliceLinks=new oa(a);this._disposers.push(new da(this._sliceLinks))}return this._sliceLinks},
enumerable:!0,configurable:!0}),b.prototype.show=function(a){var b=this,e=this.startIndex,f=this.endIndex,g=this.defaultState.transitionDuration;l(a)&&(g=a);var k=0;return v(Jb(this.dataItems.iterator()),function(a){var c=a[0];a=a[1];b.sequencedInterpolation&&(k=b.sequencedInterpolationDelay*c+g*(c-e)/(f-e));a.show(g,k,["value"])}),c.prototype.show.call(this,a)},b.prototype.hide=function(a){var b=this,e=["value"],f=this.startIndex,g=this.endIndex,k=0,n=this.hiddenState.transitionDuration;l(a)&&(n=
a);v(Jb(this.dataItems.iterator()),function(a){var c=a[0];a=a[1];b.sequencedInterpolation&&(k=b.sequencedInterpolationDelay*c+n*(c-f)/(g-f));a.hide(n,k,0,e)});a=c.prototype.hide.call(this,a);return a&&!a.isFinished()&&a.delay(k),a},b.prototype.setAlignLabels=function(a){c.prototype.setAlignLabels.call(this,a);this.ticks.template.disabled=!a;var b=this.labelsContainer;b&&(a?(b.height=void 0,b.width=void 0,b.margin(10,10,10,10)):(b.width=t(100),b.height=t(100)));this.labelsOpposite=this.labelsOpposite},
Object.defineProperty(b.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(a){this.setPropertyValue("labelsOpposite",a);var b=this.labels.template,c="none",f="none";this.alignLabels?a?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,b.horizontalCenter="left",c="right"):(this.ticks.template.locationY=1,b.horizontalCenter="right",f="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?
(this.ticks.template.locationX=0,c="left"):(f="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?c="center":f="middle";b.align=c;b.valign=f;this.validateLayout();this.ticks.each(function(a){a.invalidate()});this.invalidateDataItems()},enumerable:!0,configurable:!0}),b}(Hd);p.registeredClasses.FunnelSeries=mg;p.registeredClasses.FunnelSeriesDataItem=Ee;var Fe=function(c){function b(){var a=c.call(this)||this;return a.className="PyramidSeriesDataItem",a.applyTheme(),a}return m(b,c),
b}(Ee),ng=function(c){function b(){var a=c.call(this)||this;return a.className="PyramidSeries",a.topWidth=t(0),a.bottomWidth=t(100),a.pyramidHeight=t(100),a.valueIs="area",a.sliceLinks.template.width=0,a.sliceLinks.template.height=0,a.applyTheme(),a}return m(b,c),b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Pyramid Series"))},b.prototype.createDataItem=function(){return new Fe},b.prototype.validate=
function(){c.prototype.validate.call(this);this._nextWidth=void 0},b.prototype.getNextValue=function(a){var b=a.index;a=a.getWorkingValue("value");b<this.dataItems.length-1&&(a=this.dataItems.getIndex(b+1).getWorkingValue("value"));return 0==a&&(a=1E-6),a},b.prototype.validateDataElements=function(){var a=this,b=this.slicesContainer.innerWidth,e=this.slicesContainer.innerHeight;if(this.dataItems.each(function(c){var d=c.getWorkingValue("value")/c.value;c=c.sliceLink;"vertical"==a.orientation?e-=c.pixelHeight*
d:b-=c.pixelWidth*d}),this._pyramidHeight=fa(this.pyramidHeight,e),this._pyramidWidth=fa(this.pyramidHeight,b),"vertical"==this.orientation){var f=(e-this._pyramidHeight)/2;this.slicesContainer.y=f;this.labelsContainer.y=f;this.ticksContainer.y=f}else f=(b-this._pyramidWidth)/2,this.slicesContainer.x=f,this.labelsContainer.x=f,this.ticksContainer.x=f;c.prototype.validateDataElements.call(this)},b.prototype.decorateSlice=function(a){var b=this.dataItem.values.value.sum;if(0!=b){var c=a.slice,f=a.sliceLink,
g=a.label,k=a.tick;this.getNextValue(a);var n=a.getWorkingValue("value");0==n&&(n=1E-6);var m=this._pyramidWidth,p=this._pyramidHeight,r=this.slicesContainer.innerWidth,t=this.slicesContainer.innerHeight,u=f.pixelWidth,v=f.pixelHeight;if("vertical"==this.orientation){var w=fa(this.topWidth,r);l(this._nextWidth)||(this._nextWidth=w);var B=fa(this.bottomWidth,r),z=this._nextWidth,A=Math.atan2(p,w-B);0==(D=Math.tan(Math.PI/2-A))&&(D=1E-8);A=m=void 0;if("area"==this.valueIs)var C=(w+B)/2*p*n/b,A=(2*C-
(m=(z-Math.sqrt(Math.abs(z*z-2*C*D)))/D)*z)/m;else A=z-(m=p*n/this.dataItem.values.value.sum)*D;c.height=m;c.width=r;c.bottomWidth=A;c.topWidth=z;f.topWidth=c.bottomWidth;f.bottomWidth=c.bottomWidth;c.y=this._nextY;this.alignLabels?g.x=0:g.x=r/2;g.y=c.pixelY+c.pixelHeight*k.locationY+c.dy;this._nextY+=c.pixelHeight+v*n/a.value;f.y=this._nextY-v;f.x=r/2}else{w=fa(this.topWidth,t);l(this._nextWidth)||(this._nextWidth=w);var D,B=fa(this.bottomWidth,t),z=this._nextWidth,A=Math.atan2(m,w-B);0==(D=Math.tan(Math.PI/
2-A))&&(D=1E-8);A=b=void 0;A="area"==this.valueIs?(2*(C=(w+B)/2*m*n/this.dataItem.values.value.sum)-(b=(z-Math.sqrt(z*z-2*C*D))/D)*z)/b:z-(b=m*n/this.dataItem.values.value.sum)*D;c.width=b;c.height=t;c.bottomWidth=A;c.topWidth=z;f.topWidth=c.bottomWidth;f.bottomWidth=c.bottomWidth;c.x=this._nextY;this.alignLabels?g.y=this.labelsContainer.measuredHeight:g.y=t/2;g.x=c.pixelX+c.pixelWidth*k.locationX+c.dx;this._nextY+=c.pixelWidth+u*n/a.value;f.x=this._nextY-u;f.y=t/2}this._nextWidth=c.bottomWidth}},
Object.defineProperty(b.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(a){this.setPercentProperty("topWidth",a,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(a){this.setPercentProperty("pyramidHeight",a,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bottomWidth",
{get:function(){return this.getPropertyValue("bottomWidth")},set:function(a){this.setPercentProperty("bottomWidth",a,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(a){this.setPropertyValue("valueIs",a)&&this.invalidate()},enumerable:!0,configurable:!0}),b}(mg);p.registeredClasses.PyramidSeries=ng;p.registeredClasses.PyramidSeriesDataItem=Fe;var og=function(c){function b(){var a=
c.call(this)||this;return a.className="PictorialStackedSeriesDataItem",a.applyTheme(),a}return m(b,c),b}(Fe),ij=function(c){function b(){var a=c.call(this)||this;return a.className="PictorialStackedSeries",a.topWidth=t(100),a.bottomWidth=t(100),a.valueIs="height",a.applyTheme(),a.startLocation=0,a.endLocation=1,a._maskSprite=a.slicesContainer.createChild(M),a._maskSprite.visible=!1,a._maskSprite.zIndex=100,a._maskSprite.shouldClone=!1,a}return m(b,c),b.prototype.validateDataElements=function(){var a=
this.slicesContainer.maxWidth,b=this.slicesContainer.maxHeight,e=this._maskSprite,f=e.measuredWidth/e.scale,g=e.measuredHeight/e.scale,k=ba(b/g,a/f);k==1/0&&(k=1);var k=T(.001,k),l=this.startLocation,m=this.endLocation,f=ba(a,f*k),g=ba(b,g*k);(e.scale=k,"vertical"==this.orientation?(this.topWidth=f+4,this.bottomWidth=f+4,this.pyramidHeight=g*(m-l),e.x=a/2,e.y=g/2):(this.topWidth=g+4,this.bottomWidth=g+4,this.pyramidHeight=f*(m-l),e.valign="middle",e.x=f/2,e.y=b/2),e.verticalCenter="middle",e.horizontalCenter=
"middle",c.prototype.validateDataElements.call(this),"vertical"==this.orientation)?(a=(b-g)/2,this.slicesContainer.y=a,this.labelsContainer.y=a,this.ticksContainer.y=a,this.slices.template.dy=l*g):(a=(a-f)/2,this.slicesContainer.x=a,this.labelsContainer.x=a,this.ticksContainer.x=a,this.slices.template.dx=l*f);this.slicesContainer.mask=this._maskSprite},b.prototype.applyInternalDefaults=function(){c.prototype.applyInternalDefaults.call(this);null!=this.readerTitle||(this.readerTitle=this.language.translate("Pyramid Series"))},
b.prototype.createDataItem=function(){return new og},Object.defineProperty(b.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),b.prototype.initSlice=function(a){c.prototype.initSlice.call(this,a);(a=a.states.getKey("hover"))&&(a.properties.expandDistance=0)},Object.defineProperty(b.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(a){this.setPropertyValue("startLocation",a)&&this.invalidateDataItems()},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(a){this.setPropertyValue("endLocation",a)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),b}(ng);p.registeredClasses.PictorialStackedSeries=ij;p.registeredClasses.PictorialStackedSeriesDataItem=og;var Lg=function(c){function b(){var a=c.call(this)||this;return a.className="ConeColumn",a}return m(b,c),b.prototype.createAssets=function(){this.coneColumn=
this.createChild(wi);this.coneColumn.shouldClone=!1;this.column=this.coneColumn},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.coneColumn&&this.coneColumn.copyFrom(a.coneColumn)},b}(Tb);p.registeredClasses.ConeColumn=Lg;var kj=function(c){function b(){var a=c.call(this)||this;return a.className="ConeSeriesDataItem",a.applyTheme(),a}return m(b,c),b}(Gb),lj=function(c){function b(){var a=c.call(this)||this;return a.className="ConeSeries",a.applyTheme(),a}return m(b,c),b.prototype.createColumnTemplate=
function(){return new Lg},b.prototype.getMaskPath=function(){var a=0,b=0,c=this.columns.getIndex(0);if(c)return this.baseAxis==this.xAxis?b=c.coneColumn.bottom.radiusY+1:a=c.coneColumn.bottom.radiusY+1,Bb({x:-a,y:0,width:this.xAxis.axisLength+a,height:this.yAxis.axisLength+b})},b.prototype.validateDataElementReal=function(a){if(c.prototype.validateDataElementReal.call(this,a),a.column){var b=a.column.coneColumn;b.fill=a.column.fill;this.baseAxis==this.yAxis?b.orientation="horizontal":b.orientation=
"vertical"}},b}(Rb);p.registeredClasses.ConeSeries=lj;p.registeredClasses.ConeSeriesDataItem=kj;var Mg=function(c){function b(){var a=c.call(this)||this;return a.className="CurvedColumn",a}return m(b,c),b.prototype.createAssets=function(){this.curvedColumn=this.createChild(M);this.curvedColumn.shouldClone=!1;this.setPropertyValue("tension",.7);this.width=t(120);this.height=t(120);this.column=this.curvedColumn},b.prototype.draw=function(){c.prototype.draw.call(this);var a,b=this.realWidth,e=this.realHeight,
f=this.realX-this.pixelX,g=this.realY-this.pixelY;this.width;var k=1,l=1;"vertical"==this.orientation?(k=this.tension,a=[{x:0,y:e+g},{x:b/2,y:g},{x:b,y:e+g}]):(l=this.tension,a=[{x:f,y:0},{x:f+b,y:e/2},{x:f,y:e}]);a=z(a[0])+(new Cb(k,l)).smooth(a);this.column.path=a},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.curvedColumn&&this.curvedColumn.copyFrom(a.curvedColumn)},Object.defineProperty(b.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(a){this.setPropertyValue("tension",
a,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(a){this.setPropertyValue("orientation",a,!0)},enumerable:!0,configurable:!0}),b}(Tb);p.registeredClasses.CurvedColumn=Mg;var nj=function(c){function b(){var a=c.call(this)||this;return a.className="CurvedColumnSeriesDataItem",a.applyTheme(),a}return m(b,c),b}(Gb),mj=function(c){function b(){var a=c.call(this)||this;return a.className="CurvedColumnSeries",
a.applyTheme(),a}return m(b,c),b.prototype.createColumnTemplate=function(){return new Mg},b.prototype.validateDataElementReal=function(a){var b=a.column;b&&(a.column.curvedColumn.fill=a.column.fill,this.baseAxis==this.yAxis?b.orientation="horizontal":b.orientation="vertical");c.prototype.validateDataElementReal.call(this,a)},b}(Rb);p.registeredClasses.CurvedColumnSeries=mj;p.registeredClasses.CurvedColumnSeriesDataItem=nj;var oj=function(c){function b(){var a=c.call(this)||this;return a.className=
"DurationAxisDataItem",a.applyTheme(),a}return m(b,c),b}(Cd),pj=function(c){function b(){var a=c.call(this)||this;return a._baseUnit="second",a.className="DurationAxis",a.setPropertyValue("maxZoomFactor",1E6),a.applyTheme(),a}return m(b,c),b.prototype.formatLabel=function(a,b){return this.durationFormatter.format(a,b||this.axisDurationFormat)},b.prototype.adjustMinMax=function(a,b,e,f,g){var d,h,l=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==l||"second"==l||"minute"==l||
"hour"==l){1>=f&&(f=1);f=Math.round(f);var m=a,p=b;0===e&&(e=Math.abs(b));var r;r=[60,30,20,15,10,2,1];var t=1;"hour"==l&&(r=[24,12,6,4,2,1]);try{for(var u=jc(r),v=u.next();!v.done;v=u.next()){var w=v.value;if(e/w>f){t=w;break}}}catch($k){d={error:$k}}finally{try{v&&!v.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error;}}e=Math.ceil((b-a)/t/f);f=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10;r=t*(e=Yg(r,e/f)*f);this.durationFormatter.getValueUnit(r,this.baseUnit);a=Math.floor(a/
r)*r;b=Math.ceil(b/r)*r;g&&(0>(a-=r)&&0<=m&&(a=0),0<(b+=r)&&0>=p&&(b=0));a={min:a,max:b,step:r}}else a=c.prototype.adjustMinMax.call(this,a,b,e,f,g);return this.axisDurationFormat=this.durationFormatter.getFormat(a.step,a.max,this.baseUnit),a},Object.defineProperty(b.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(a){this._tooltipDurationFormat=a},enumerable:!0,configurable:!0}),b.prototype.getTooltipText=function(a){a=D(this.positionToValue(a),this._stepDecimalPlaces);
return this.adapter.apply("getTooltipText",this.formatLabel(a,this.tooltipDurationFormat))},Object.defineProperty(b.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(a){this._baseUnit!=a&&(this._baseUnit=a,this.durationFormatter.baseUnit=a,this.invalidate())},enumerable:!0,configurable:!0}),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.baseUnit=a.baseUnit},b}(ma);p.registeredClasses.DurationAxis=pj;p.registeredClasses.DurationAxisDataItem=oj;var rj=
function(c){function b(){var a=c.call(this)||this;a.className="CircleBullet";var b=a.createChild(gc);return b.shouldClone=!1,b.radius=5,b.isMeasured=!1,a.circle=b,a.applyTheme(),a}return m(b,c),b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.circle.copyFrom(a.circle)},b}(ub);p.registeredClasses.CircleBullet=rj;var sj=function(c){function b(){var a=c.call(this)||this;return a.className="ErrorBullet",a.errorLine=a.createChild(M),a.errorLine.shouldClone=!1,a.width=20,a.height=
20,a.strokeOpacity=1,a.isDynamic=!0,a}return m(b,c),b.prototype.validatePosition=function(){c.prototype.validatePosition.call(this);var a=this.pixelWidth/2,b=this.pixelHeight/2;this.errorLine.path=z({x:-a,y:-b})+u({x:a,y:-b})+z({x:0,y:-b})+u({x:0,y:b})+z({x:-a,y:b})+u({x:a,y:b})},b.prototype.copyFrom=function(a){c.prototype.copyFrom.call(this,a);this.errorLine.copyFrom(a.errorLine)},b}(ub);p.registeredClasses.ErrorBullet=sj;var tj=function(c){function b(){var a=c.call(this)||this;return a.className=
"NavigationBarDataItem",a.applyTheme(),a}return m(b,c),Object.defineProperty(b.prototype,"name",{get:function(){return this.properties.name},set:function(a){this.setProperty("name",a)},enumerable:!0,configurable:!0}),b}(Lb),uj=function(c){function b(){var a=c.call(this)||this;a.className="NavigationBar";var b=new W,e=new qe;e.valign="middle";e.paddingTop=8;e.paddingBottom=8;a.paddingBottom=2;a.links=new oa(e);a._disposers.push(new da(a.links));a._disposers.push(e);a._linksIterator=new hd(a.links,
function(){return a.links.create()});a._linksIterator.createNewItems=!0;var f=new re;f.direction="right";f.width=8;f.height=12;f.fill=b.getFor("alternativeBackground");f.fillOpacity=.5;f.valign="middle";f.marginLeft=10;f.marginRight=10;a.separators=new oa(f);a._disposers.push(new da(a.separators));a._disposers.push(f);b=new qe;return a.activeLink=b,b.copyFrom(e),b.valign="middle",b.fontWeight="bold",a.width=t(100),a.layout="grid",a.dataFields.name="name",a.applyTheme(),a}return m(b,c),b.prototype.validateDataElements=
function(){this.removeChildren();this._linksIterator.reset();c.prototype.validateDataElements.call(this)},b.prototype.validateDataElement=function(a){var b;if(c.prototype.validateDataElement.call(this,a),a.index<this.dataItems.length-1){(b=this._linksIterator.getLast()).parent=this;var e=this.separators.create();e.parent=this;e.valign="middle"}else(b=this.activeLink).events.copyFrom(this.links.template.events),b.hide(0),b.show(),b.parent=this;b.dataItem=a;b.text=a.name;b.validate()},b}(ec);p.registeredClasses.NavigationBar=
uj;p.registeredClasses.NavigationBarDataItem=tj;var wl=function(c){Ta(c,"SpriteState")&&(c.transitionDuration=400);Ta(c,"Component")&&(c.rangeChangeDuration=700,c.interpolationDuration=700,c.sequencedInterpolation=!1,Ta(c,"SankeyDiagram")&&(c.sequencedInterpolation=!0),Ta(c,"FunnelSeries")&&(c.sequencedInterpolation=!0));Ta(c,"Chart")&&(c.defaultState.transitionDuration=2E3,c.hiddenState.transitionDuration=1E3);Ta(c,"Tooltip")&&(c.animationDuration=400,c.defaultState.transitionDuration=400,c.hiddenState.transitionDuration=
400);Ta(c,"Scrollbar")&&(c.animationDuration=700);Ta(c,"Series")&&(c.defaultState.transitionDuration=1E3,c.hiddenState.transitionDuration=700,c.hiddenState.properties.opacity=1,c.showOnInit=!0);Ta(c,"MapSeries")&&(c.hiddenState.properties.opacity=0);Ta(c,"PercentSeries")&&(c.hiddenState.properties.opacity=0);Ta(c,"FunnelSlice")&&(c.defaultState.transitionDuration=800,c.hiddenState.transitionDuration=1E3,c.hiddenState.properties.opacity=1);Ta(c,"Slice")&&(c.defaultState.transitionDuration=700,c.hiddenState.transitionDuration=
1E3,c.hiddenState.properties.opacity=1);Ta(c,"Preloader")&&(c.hiddenState.transitionDuration=2E3);Ta(c,"Column")&&(c.defaultState.transitionDuration=700,c.hiddenState.transitionDuration=1E3,c.hiddenState.properties.opacity=1);Ta(c,"Column3D")&&(c.hiddenState.properties.opacity=0)};g.d(Ya,"am4core",function(){return r});g.d(Ya,"am4charts",function(){return w});g.d(Ya,"am4themes_animated",function(){return wl});Ka.commercialLicense=!0}])});