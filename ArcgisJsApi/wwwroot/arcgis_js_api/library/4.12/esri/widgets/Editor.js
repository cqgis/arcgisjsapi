// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/FeatureForm":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/date/locale ../moment ../core/accessorSupport/decorators ../layers/support/domains ../layers/support/fieldUtils ./Widget ./FeatureForm/FeatureFormViewModel ./support/widget".split(" "),function(F,y,w,l,r,d,h,p,I,z,x,C,v){var H={datePattern:"M/d/y",timePattern:"h:mm:ss a"};return function(x){function g(q){q=x.call(this)||
this;q._fieldFocusNeeded=!1;q._activeDateEdit=null;q._activeInputName=null;q.feature=null;q.fieldConfig=null;q.groupDisplay="all";q.layer=null;q.strict=null;q.viewModel=new C;q._handleFormKeyDown=q._handleFormKeyDown.bind(q);q._handleInputBlur=q._handleInputBlur.bind(q);q._handleInputFocus=q._handleInputFocus.bind(q);q._handleNumberInputMouseDown=q._handleNumberInputMouseDown.bind(q);q._handleInputKeyDown=q._handleInputKeyDown.bind(q);q._handleOptionChange=q._handleOptionChange.bind(q);q._handleGroupClick=
q._handleGroupClick.bind(q);q._handleSubmit=q._handleSubmit.bind(q);q._afterScrollerCreateOrUpdate=q._afterScrollerCreateOrUpdate.bind(q);return q}l(g,x);g.prototype.postInitialize=function(){var q=this;this.own(this.watch("feature",function(){var g=q._getFocusableInput("forward");q._activeInputName=g&&g.name;q._fieldFocusNeeded=!0}),this.on("submit",function(g){0<g.invalid.length&&(q._activeInputName=g.invalid[0],q._fieldFocusNeeded=!0,q.scheduleRender())}))};g.prototype.getValues=function(){return null};
g.prototype.submit=function(){return null};g.prototype.render=function(){var q=this.viewModel.state;return v.tsx("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===q?this.renderForm():null)};g.prototype.renderForm=function(){return v.tsx("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,onkeydown:this._handleFormKeyDown},this.renderFields())};g.prototype.renderFields=function(){var q=this;return this.viewModel.inputFields.map(function(g,
d){return g&&g.inputFields?q.renderGroup(g,d):q.renderLabeledField(g)})};g.prototype.renderGroup=function(q,g){var E=this,d=q.description,h=q.label,p=q.inputFields,n=this.viewModel.findField(this._activeInputName),n=n&&n.group===q,J=this.id+"_group_"+g,x=this.id+"_group-label_"+g,l=this.id+"_group-description_"+g,r=d?v.tsx("p",{class:this.classes("esri-feature-form__group-description","esri-feature-form__description-text"),id:l},d):null,D="sequential"===this.groupDisplay,z=D?n?"true":"false":void 0;
return v.tsx("fieldset",{class:this.classes("esri-feature-form__group",D?"esri-feature-form__group--sequential":null,!D||n?null:"esri-feature-form__group--collapsed",n?"esri-feature-form__group--active":null),"aria-expanded":z,"aria-labelledby":x,"aria-describedby":d?l:"","data-group":q,id:J,key:g,onclick:this._handleGroupClick},v.tsx("div",{class:"esri-feature-form__group-label",id:x},h),r,p.map(function(q){return E.renderLabeledField(q)}))};g.prototype._getFocusableInput=function(q,g){var E=this.viewModel._allInputFields;
q="forward"===q?E:E.slice().reverse();for(g=g?q.indexOf(g)+1:0;g<q.length;g++)if(E=q[g],E.visible&&E.editable)return E;return null};g.prototype.renderLabeledField=function(g){return v.tsx("label",{key:g.layer.id+"-"+g.name,class:"esri-feature-form__label"},[g.label,"unsupported"!==g.type?this.renderInputField(g):this.renderUnsupportedField(g),this.renderAuxiliaryText(g)])};g.prototype.renderInputField=function(g){var q=g.domain,d=g.editable,h=g.type,p=this.viewModel.getValue(g.name),d=!d,x=this.getCommonInputProps(g);
return q&&"coded-value"===q.type&&!d?this.renderSelectInputField(p,q.codedValues.map(function(g){return{value:g.code,name:g.name}}),x):"text"===h&&"text-area"===g.editorType||"rich-text"===g.editorType?v.tsx("textarea",w({},x)):"date"===h?this.renderDateInputField(p,x):v.tsx("input",w({type:"text"===h?"text":"number"},x))};g.prototype.renderDateInputField=function(g,E){var q=this._formatDate(0),d=q.date,q=q.time,h=this.id+"-"+E.key,p=h+"-date",h=h+"-time",n=E["data-field"];return v.tsx("div",{key:E.key+
"-date",class:"esri-feature-form__date-input-container"},v.tsx("div",{class:"esri-feature-form__date-input-part"},v.tsx("input",w({"aria-label":n.label,"aria-describedby":p,type:"text"},E,{"data-date-part":"date",class:this.classes(E.class,"esri-feature-form__input--date"),value:this._formatDate(g).date})),v.tsx("div",{class:"esri-feature-form__date-format-hint",id:p},d)),v.tsx("div",{class:"esri-feature-form__date-input-part"},v.tsx("input",w({"aria-describedby":h,"aria-label":n.label,type:"text"},
E,{"data-date-part":"time",class:this.classes(E.class,"esri-feature-form__input--time"),value:this._formatDate(g).time})),v.tsx("div",{class:"esri-feature-form__date-format-hint",id:h},q)))};g.prototype.renderUnsupportedField=function(g){g=this.viewModel.getValue(g.name);return v.tsx("input",{class:this.classes("esri-input","esri-feature-form__input","esri-feature-form__input--disabled"),disabled:!0,type:"text",value:""+g})};g.prototype.renderSelectInputField=function(g,E,d){var q=!1;E=E.map(function(d){d.value===
g&&(q=!0);return v.tsx("option",{value:""+d.value,key:d.name},d.name)});null==g||""===g||q||E.unshift(v.tsx("option",{value:""+g,key:"outlier-option"},g));var h=d["data-field"];h.required||null!=h.value||E.unshift(v.tsx("option",{value:"",key:"empty-option"}));return v.tsx("select",w({},d,{class:this.classes(d.class,"esri-select"),onchange:this._handleOptionChange}),E)};g.prototype.renderAuxiliaryText=function(g){if(!g.valid)return v.tsx("div",{key:"error-message"},v.tsx("span",{class:this.classes("esri-feature-form__input-icon--invalid",
"esri-icon-notice-triangle")}),v.tsx("div",{class:"esri-feature-form__field-error-message"},g.errorMessage));if(g.valid&&g.description)return v.tsx("div",{key:"description",class:"esri-feature-form__description-text"},g.description)};g.prototype.getCommonInputProps=function(g){var q=g.editable,d=g.name,h=g.required,v=g.maxLength,p=g.hint,n=g.type,x=g.valid,l=this.viewModel.getValue(d),q=!q;return w({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,"aria-invalid":x?
"false":"true",class:this.classes("esri-input","esri-feature-form__input",q?"esri-feature-form__input--disabled":null,x?null:"esri-feature-form__input--invalid"),key:d,maxlength:-1<v?""+v:""},this._getNumberFieldConstraints(g),{disabled:q,value:null==l?"":""+l,"data-field":g,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,onkeydown:this._handleInputKeyDown,onmousedown:"number"===n?this._handleNumberInputMouseDown:null,required:h,title:p})};g.prototype._handleNumberInputMouseDown=function(g){g=
g.target;g.disabled||g.focus();this.scheduleRender()};g.prototype._getNumberFieldConstraints=function(g){return(g=I.getDomainRange(g.domain)||z.getFieldRange(g.field))&&g.max!==Number.MAX_VALUE&&g.min!==Number.MIN_VALUE?g:{min:null,max:null}};g.prototype._afterScrollerCreateOrUpdate=function(g){var q=g["data-field"],d=this.viewModel.findField(this._activeInputName);q.editable&&this._fieldFocusNeeded&&d===q&&(this._fieldFocusNeeded=!1,g.focus())};g.prototype._handleInputFocus=function(g){this._activeInputName=
g.target["data-field"].name};g.prototype._handleInputBlur=function(g){var q,d=g.target,h=d["data-field"],v=(g=g.relatedTarget)&&g["data-field"];if("date"===h.type){var p=d.getAttribute("data-date-part");this._activeDateEdit=w({},this._activeDateEdit,(q={},q[p]={value:d.value,input:d},q))}v&&"date"===h.type&&"date"===v.type&&h.field===v.field?""!==d.value&&""===g.value&&(p=g.getAttribute("data-date-part"),g.value=this._formatDate(Date.now())[p]):(this._commitValue(d),this.scheduleRender())};g.prototype._commitValue=
function(g){var q=g["data-field"];if(this._activeDateEdit){var d=this._activeDateEdit;g=d.date;var d=d.time,h=this._getDateEditValue(q,"date"),q=this._getDateEditValue(q,"time"),v=""===h||""===q;g&&(g=g.input,g.value=v?"":h,this._updateFieldValue(g));d&&(g=d.input,g.value=v?"":q,this._updateFieldValue(g));this._activeDateEdit=null}else this._updateFieldValue(g)};g.prototype._getDateEditValue=function(g,d){var q=this._activeDateEdit[d];if(q)return""===q.value?"":(q=this._parseDate(q.value,d))?this._formatDate(q.getTime())[d]:
this._formatDate(g.value)[d]};g.prototype._handleInputKeyDown=function(g){var q=g.key,d=g.altKey,h=g.ctrlKey,v=g.metaKey,p=g.shiftKey;if("Tab"===q){var n=g.target,x=n["data-field"],q=p?"backward":"forward",d=n.getAttribute("data-date-part");"backward"===q&&"time"===d||"forward"===q&&"date"===d||(this._commitValue(n),d=this.viewModel.findField(x.name),this._activeInputName=(q=this._getFocusableInput(q,d))&&q.name,q?(g.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())}else"Enter"!==q?(n=
g.target,x=n["data-field"],x=x.field.type,n="single"===x||"double"===x,"integer"!==x&&"small-integer"!==x&&!n||d||h||v||1!==q.length||(d=Number(q),h=["-","+"],v=["e","."],h=n?h.concat(v):h,isNaN(d)&&-1===h.indexOf(q)&&g.preventDefault())):(this._updateFieldValue(g.target),this.scheduleRender())};g.prototype._updateFieldValue=function(g){this.viewModel.setValue(g["data-field"].name,this._parseValue(g))};g.prototype._parseValue=function(g){var q=g["data-field"],d=g.value,v=q.type;if(!q.required&&""===
d)return null;if("number"===v)return parseFloat(d);if("date"===v){if(!d)return null;g=g.getAttribute("data-date-part");v=Number(d);if(!isNaN(v))return v;d=this._parseDate(d,g);if(!d)return null;var d=h(d),p=q.domain,x=h(),v=x;p&&"range"===p.type&&(p=h(p.maxValue),x.isAfter(p)||(v=p));q=this.viewModel.getValue(q.name);q=h(null!=q?q:v);"date"===g?(d.hour(q.hour()),d.minutes(q.minutes()),d.seconds(q.seconds())):(d.date(q.date()),d.month(q.month()),d.year(q.year()));return d.valueOf()}return d};g.prototype._handleOptionChange=
function(g){this._updateFieldValue(g.target);this.scheduleRender()};g.prototype._handleGroupClick=function(g){g=g.currentTarget;"false"===g.getAttribute("aria-expanded")&&(this._activeInputName=g["data-group"].inputFields[0].name,this._fieldFocusNeeded=!0,this.scheduleRender())};g.prototype._handleSubmit=function(g){g.preventDefault()};g.prototype._handleFormKeyDown=function(g){"Enter"===g.key&&this.viewModel.submit()};g.prototype._formatDate=function(g){if(null==g)return{date:"",time:""};g=new Date(g);
return{date:d.format(g,w({selector:"date"},H)),time:d.format(g,w({selector:"time"},H))}};g.prototype._parseDate=function(g,h){return null==g||""===g?null:d.parse(g,w({selector:h},H))};r([p.aliasOf("viewModel.feature")],g.prototype,"feature",void 0);r([p.aliasOf("viewModel.fieldConfig")],g.prototype,"fieldConfig",void 0);r([p.property(),v.renderable()],g.prototype,"groupDisplay",void 0);r([p.aliasOf("viewModel.layer")],g.prototype,"layer",void 0);r([p.aliasOf("viewModel.strict")],g.prototype,"strict",
void 0);r([p.property(),v.renderable(["viewModel.inputFields","viewModel.state"]),v.vmEvent(["value-change","submit"])],g.prototype,"viewModel",void 0);r([p.aliasOf("viewModel.getValues")],g.prototype,"getValues",null);r([p.aliasOf("viewModel.submit")],g.prototype,"submit",null);return g=r([p.subclass("esri.widgets.FeatureForm")],g)}(p.declared(x))})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(F,y,w,l,r,d,h,p,I){function z(g,d,p,x){return x.replace(/([a-z])\1*/ig,function(q){var E,n,J=q.charAt(0);q=q.length;var r=["abbr","wide","narrow"];switch(J){case "G":E=d[4>q?"eraAbbr":"eraNames"][0>g.getFullYear()?0:1];break;case "y":E=g.getFullYear();switch(q){case 1:break;case 2:if(!p.fullYear){E=String(E);E=E.substr(E.length-2);break}default:n=!0}break;case "Q":case "q":E=Math.ceil((g.getMonth()+1)/3);n=!0;break;case "M":case "L":E=g.getMonth();3>q?(E+=1,n=!0):(J=["months","L"==J?"standAlone":
"format",r[q-3]].join("-"),E=d[J][E]);break;case "w":E=v._getWeekOfYear(g,0);n=!0;break;case "d":E=g.getDate();n=!0;break;case "D":E=v._getDayOfYear(g);n=!0;break;case "e":case "c":if(E=g.getDay(),2>q){E=(E-l.getFirstDayOfWeek(p.locale)+8)%7;break}case "E":E=g.getDay();3>q?(E+=1,n=!0):(J=["days","c"==J?"standAlone":"format",r[q-3]].join("-"),E=d[J][E]);break;case "a":J=12>g.getHours()?"am":"pm";E=p[J]||d["dayPeriods-format-wide-"+J];break;case "h":case "H":case "K":case "k":n=g.getHours();switch(J){case "h":E=
n%12||12;break;case "H":E=n;break;case "K":E=n%12;break;case "k":E=n||24}n=!0;break;case "m":E=g.getMinutes();n=!0;break;case "s":E=g.getSeconds();n=!0;break;case "S":E=Math.round(g.getMilliseconds()*Math.pow(10,q-3));n=!0;break;case "v":case "z":if(E=v._getZone(g,!0,p))break;q=4;case "Z":J=v._getZone(g,!1,p);J=[0>=J?"+":"-",h.pad(Math.floor(Math.abs(J)/60),2),h.pad(Math.abs(J)%60,2)];4==q&&(J.splice(0,0,"GMT"),J.splice(3,0,":"));E=J.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
x);}n&&(E=h.pad(E,q));return E})}function x(g,d,h,v){var q=function(g){return g};d=d||q;h=h||q;v=v||q;var E=g.match(/(''|[^'])+/g),n="'"==g.charAt(0);y.forEach(E,function(g,q){g?(E[q]=(n?h:d)(g.replace(/''/g,"'")),n=!n):E[q]=""});return v(E.join(""))}function C(g,E,h,v){v=d.escapeString(v);h.strict||(v=v.replace(" a"," ?a"));return v.replace(/([a-z])\1*/ig,function(q){var d;d=q.charAt(0);var n=q.length,v="",p="";h.strict?(1<n&&(v="0{"+(n-1)+"}"),2<n&&(p="0{"+(n-2)+"}")):(v="0?",p="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":2<n?(d=E["months-"+("L"==d?"standAlone":"format")+"-"+H[n-3]].slice(0).join("|"),h.strict||(d=d.replace(/\./g,""),d="(?:"+d+")\\.?")):d="1[0-2]|"+v+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+v+"[1-9][0-9]|"+p+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+v+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+v+"[1-9]";break;case "E":case "e":case "c":d=".+?";break;case "h":d="1[0-2]|"+v+"[1-9]";break;case "k":d="1[01]|"+v+"\\d";break;case "H":d="1\\d|2[0-3]|"+
v+"\\d";break;case "K":d="1\\d|2[0-4]|"+v+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+n+"}";break;case "a":n=h.am||E["dayPeriods-format-wide-am"];v=h.pm||E["dayPeriods-format-wide-pm"];d=n+"|"+v;h.strict||(n!=n.toLowerCase()&&(d+="|"+n.toLowerCase()),v!=v.toLowerCase()&&(d+="|"+v.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}g&&g.push(q);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var v={};F.setObject(I.id.replace(/\//g,
"."),v);v._getZone=function(g,d,h){return d?w.getTimezoneName(g):g.getTimezoneOffset()};v.format=function(g,d){d=d||{};var q=r.normalizeLocale(d.locale),E=d.formatLength||"short",q=v._getGregorianBundle(q),h=[];g=F.hitch(this,z,g,q,d);if("year"==d.selector)return x(q["dateFormatItem-yyyy"]||"yyyy",g);var p;"date"!=d.selector&&(p=d.timePattern||q["timeFormat-"+E])&&h.push(x(p,g));"time"!=d.selector&&(p=d.datePattern||q["dateFormat-"+E])&&h.push(x(p,g));return 1==h.length?h[0]:q["dateTimeFormat-"+E].replace(/\'/g,
"").replace(/\{(\d+)\}/g,function(g,q){return h[q]})};v.regexp=function(g){return v._parseInfo(g).regexp};v._parseInfo=function(g){g=g||{};var q=r.normalizeLocale(g.locale),q=v._getGregorianBundle(q),d=g.formatLength||"short",h=g.datePattern||q["dateFormat-"+d],p=g.timePattern||q["timeFormat-"+d],d="date"==g.selector?h:"time"==g.selector?p:q["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(g,q){return[p,h][q]}),l=[];return{regexp:x(d,F.hitch(this,C,l,q,g)),tokens:l,bundle:q}};v.parse=function(g,
d){var q=/[\u200E\u200F\u202A\u202E]/g,h=v._parseInfo(d),E=h.tokens,p=h.bundle;g=(new RegExp("^"+h.regexp.replace(q,"")+"$",h.strict?"":"i")).exec(g&&g.replace(q,""));if(!g)return null;var n=["abbr","wide","narrow"],x=[1970,0,1,0,0,0,0],l="";g=y.every(g,function(g,q){if(!q)return!0;var h=E[q-1];q=h.length;h=h.charAt(0);switch(h){case "y":if(2!=q&&d.strict)x[0]=g;else if(100>g)g=Number(g),h=""+(new Date).getFullYear(),q=100*h.substring(0,2),h=Math.min(Number(h.substring(2,4))+20,99),x[0]=g<h?q+g:q-
100+g;else{if(d.strict)return!1;x[0]=g}break;case "M":case "L":if(2<q){if(q=p["months-"+("L"==h?"standAlone":"format")+"-"+n[q-3]].concat(),d.strict||(g=g.replace(".","").toLowerCase(),q=y.map(q,function(g){return g.replace(".","").toLowerCase()})),g=y.indexOf(q,g),-1==g)return!1}else g--;x[1]=g;break;case "E":case "e":case "c":q=p["days-"+("c"==h?"standAlone":"format")+"-"+n[q-3]].concat();d.strict||(g=g.toLowerCase(),q=y.map(q,function(g){return g.toLowerCase()}));g=y.indexOf(q,g);if(-1==g)return!1;
break;case "D":x[1]=0;case "d":x[2]=g;break;case "a":q=d.am||p["dayPeriods-format-wide-am"];h=d.pm||p["dayPeriods-format-wide-pm"];if(!d.strict){var v=/\./g;g=g.replace(v,"").toLowerCase();q=q.replace(v,"").toLowerCase();h=h.replace(v,"").toLowerCase()}if(d.strict&&g!=q&&g!=h)return!1;l=g==h?"p":g==q?"a":"";break;case "K":24==g&&(g=0);case "h":case "H":case "k":if(23<g)return!1;x[3]=g;break;case "m":x[4]=g;break;case "s":x[5]=g;break;case "S":x[6]=g}return!0});q=+x[3];"p"===l&&12>q?x[3]=q+12:"a"===
l&&12==q&&(x[3]=0);q=new Date(x[0],x[1],x[2],x[3],x[4],x[5],x[6]);d.strict&&q.setFullYear(x[0]);var r=E.join(""),h=-1!=r.indexOf("d"),r=-1!=r.indexOf("M");if(!g||r&&q.getMonth()>x[1]||h&&q.getDate()>x[2])return null;if(r&&q.getMonth()<x[1]||h&&q.getDate()<x[2])q=w.add(q,"hour",1);return q};var H=["abbr","wide","narrow"],D=[],g={};v.addCustomFormats=function(q,d){D.push({pkg:q,name:d});g={}};v._getGregorianBundle=function(q){if(g[q])return g[q];var d={};y.forEach(D,function(g){g=r.getLocalization(g.pkg,
g.name,q);d=F.mixin(d,g)},this);return g[q]=d};v.addCustomFormats(I.id.replace(/\/date\/locale$/,".cldr"),"gregorian");v.getNames=function(g,d,h,p){var q;p=v._getGregorianBundle(p);g=[g,h,d];"standAlone"==h&&(h=g.join("-"),q=p[h],1==q[0]&&(q=void 0));g[1]="format";return(q||p[g.join("-")]).concat()};v.isWeekend=function(g,d){d=l.getWeekend(d);g=(g||new Date).getDay();d.end<d.start&&(d.end+=7,g<d.start&&(g+=7));return g>=d.start&&g<=d.end};v._getDayOfYear=function(g){return w.difference(new Date(g.getFullYear(),
0,1,g.getHours()),g)+1};v._getWeekOfYear=function(g,d){1==arguments.length&&(d=0);var q=(new Date(g.getFullYear(),0,1)).getDay(),h=(q-d+7)%7,h=Math.floor((v._getDayOfYear(g)+h-1)/7);q==d&&h++;return h};return v})},"dojo/date":function(){define(["./has","./_base/lang"],function(F,y){var w={getDaysInMonth:function(l){var r=l.getMonth();return 1==r&&w.isLeapYear(l)?29:[31,28,31,30,31,30,31,31,30,31,30,31][r]},isLeapYear:function(l){l=l.getFullYear();return!(l%400)||!(l%4)&&!!(l%100)},getTimezoneName:function(l){var r=
l.toString(),d="",h=r.indexOf("(");if(-1<h)d=r.substring(++h,r.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,r=r.match(h))d=r[1];else if(r=l.toLocaleString(),h=/ ([A-Z\/]+)$/,r=r.match(h))d=r[1];return"AM"==d||"PM"==d?"":d},compare:function(l,r,d){l=new Date(+l);r=new Date(+(r||new Date));"date"==d?(l.setHours(0,0,0,0),r.setHours(0,0,0,0)):"time"==d&&(l.setFullYear(0,0,0),r.setFullYear(0,0,0));return l>r?1:l<r?-1:0},add:function(l,r,d){var h=new Date(+l),p=!1,I="Date";switch(r){case "day":break;case "weekday":var z;
(r=d%5)?z=parseInt(d/5):(r=0<d?5:-5,z=0<d?(d-5)/5:(d+5)/5);var x=l.getDay(),C=0;6==x&&0<d?C=1:0==x&&0>d&&(C=-1);x+=r;if(0==x||6==x)C=0<d?2:-2;d=7*z+r+C;break;case "year":I="FullYear";p=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":p=!0;I="Month";break;default:I="UTC"+r.charAt(0).toUpperCase()+r.substring(1)+"s"}if(I)h["set"+I](h["get"+I]()+d);p&&h.getDate()<l.getDate()&&h.setDate(0);return h},difference:function(l,r,d){r=r||new Date;d=d||"day";var h=r.getFullYear()-l.getFullYear(),
p=1;switch(d){case "quarter":l=l.getMonth();r=r.getMonth();p=Math.floor(r/3)+1+4*h-(Math.floor(l/3)+1);break;case "weekday":h=Math.round(w.difference(l,r,"day"));d=parseInt(w.difference(l,r,"week"));if(0==h%7)h=5*d;else{var p=0,I=l.getDay(),z=r.getDay();d=parseInt(h/7);r=h%7;l=new Date(l);l.setDate(l.getDate()+7*d);l=l.getDay();if(0<h)switch(!0){case 6==I:p=-1;break;case 0==I:p=0;break;case 6==z:p=-1;break;case 0==z:p=-2;break;case 5<l+r:p=-2}else if(0>h)switch(!0){case 6==I:p=0;break;case 0==I:p=
1;break;case 6==z:p=2;break;case 0==z:p=1;break;case 0>l+r:p=2}h=h+p-2*d}p=h;break;case "year":p=h;break;case "month":p=r.getMonth()-l.getMonth()+12*h;break;case "week":p=parseInt(w.difference(l,r,"day")/7);break;case "day":p/=24;case "hour":p/=60;case "minute":p/=60;case "second":p/=1E3;case "millisecond":p*=r.getTime()-l.getTime()}return Math.round(p)}};y.mixin(y.getObject("dojo.date",!0),w);return w})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(F,y){var w={};
F.setObject("dojo.cldr.supplemental",w);w.getFirstDayOfWeek=function(l){l={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[w._region(l)];return void 0===l?
1:l};w._region=function(l){l=y.normalizeLocale(l);l=l.split("-");var r=l[1];r?4==r.length&&(r=l[2]):r={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",
ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",
no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",
ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",
ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",
kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",
pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",
twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[l[0]];return r};w.getWeekend=function(l){var r=w._region(l);l={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[r];r={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[r];void 0===l&&(l=6);void 0===r&&(r=0);return{start:l,end:r}};
return w})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(F,y){var w={};y.setObject("dojo.regexp",w);w.escapeString=function(l,r){return l.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(d){return r&&-1!=r.indexOf(d)?d:"\\"+d})};w.buildGroupRE=function(l,r,d){if(!(l instanceof Array))return r(l);for(var h=[],p=0;p<l.length;p++)h.push(r(l[p]));return w.group(h.join("|"),d)};w.group=function(l,r){return"("+(r?"?:":"")+l+")"};return w})},"dojo/string":function(){define(["./_base/kernel",
"./_base/lang"],function(F,y){var w=/[&<>'"\/]/g,l={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},r={};y.setObject("dojo.string",r);r.escape=function(d){return d?d.replace(w,function(d){return l[d]}):""};r.rep=function(d,h){if(0>=h||!d)return"";for(var p=[];;){h&1&&p.push(d);if(!(h>>=1))break;d+=d}return p.join("")};r.pad=function(d,h,p,l){p||(p="0");d=String(d);h=r.rep(p,Math.ceil((h-d.length)/p.length));return l?d+h:h+d};r.substitute=function(d,
h,p,l){l=l||F.global;p=p?y.hitch(l,p):function(d){return d};return d.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(d,x,r){if(""==x)return"$";d=y.getObject(x,!1,h);r&&(d=y.getObject(r,!1,l).call(l,d,x));r=p(d,x);if("undefined"===typeof r)throw Error('string.substitute could not find key "'+x+'" in template');return r.toString()})};r.trim=String.prototype.trim?y.trim:function(d){d=d.replace(/^\s+/,"");for(var h=d.length-1;0<=h;h--)if(/\S/.test(d.charAt(h))){d=d.substring(0,h+1);break}return d};
return r})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(F,y,w){return w})},"esri/plugins/moment":function(){define(["require","exports","../intl/moment"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.load=function(l,r,d){w.loadMoment().then(function(h){d(h)})}})},"esri/intl/moment":function(){define("require exports ../core/tsSupport/awaiterHelper ../core/tsSupport/generatorHelper @dojo/framework/shim/Set ./locale @dojo/framework/shim/Promise".split(" "),
function(F,y,w,l,r,d){Object.defineProperty(y,"__esModule",{value:!0});var h=new r.default("ar ar-dz ar-kw ar-ly ar-ma ar-sa ar-tn bs ca cs da de de-at de-ch el en-au en-ca en-gb en-ie en-il en-nz es es-do es-us et fi fr fr-ca fr-ch he hi hr hu id it it-ch ja ko lt lv nb nl nl-be pl pt pt-br ro ru sl sr sr-cyrl sv th tr uk vi zh-cn zh-hk zh-tw".split(" "));y.loadMoment=function(p){void 0===p&&(p=d.getLocale());return w(this,void 0,void 0,function(){var d,r,x;return l(this,function(l){switch(l.label){case 0:return[4,
new Promise(function(d,h){F(["moment/moment"],d,h)})];case 1:return d=l.sent(),r=h.has(p),r||(x=p.split("-"),1<x.length&&h.has(x[0])&&(p=x[0],r=!0)),r?[4,new Promise(function(d,h){F(["moment/locale/"+p],d,h)})]:[3,3];case 2:return l.sent(),[3,4];case 3:p="en",l.label=4;case 4:return p!==d.locale()&&d.locale(p),[2,d]}})})}})},"esri/widgets/FeatureForm/FeatureFormViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/arrayUtils ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/ReentrantObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ../../support/arcadeOnDemand ./FieldConfig ./FieldGroupConfig ./InputField ./InputFieldGroup".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v,H,D,g,q,E,N,T){function M(g){return!!g.fieldConfig}return function(h){function n(g){g=h.call(this)||this;g._arcade=null;g._fieldPool=new C.ReentrantObjectPool(N);g._fieldGroupPool=new C.ReentrantObjectPool(T);g._featureClone=null;g._needsArcade=!1;g.fieldConfig=null;g.strict=!1;return g}w(n,h);n.prototype.initialize=function(){var n=this,q=v.init(this,"fieldConfig",function(h){return d(n,void 0,void 0,function(){var n,d,v,E,p;return r(this,function(x){switch(x.label){case 0:return n=
[],h&&h.forEach(function(g){g.visibilityExpression&&n.push(g.visibilityExpression);g.fieldConfig&&g.fieldConfig.forEach(function(g){(g=g.visibilityExpression)&&n.push(g)})}),(d=0<n.length)?[4,g.loadArcade()]:[3,4];case 1:return v=x.sent(),E=v.arcadeUtils,(p=n.some(function(g){return E.hasGeometryOperations(g)}))?[4,E.enableGeometryOperations()]:[3,3];case 2:x.sent(),q.remove(),x.label=3;case 3:this._arcade=v,this.notifyChange("inputFields"),x.label=4;case 4:return this._needsArcade=d,[2]}})})});this.handles.add(q)};
n.prototype.destroy=function(){this.layer=this.feature=this.fieldConfig=null;this._fieldPool.destroy();this._fieldGroupPool.destroy()};Object.defineProperty(n.prototype,"_allInputFields",{get:function(){return this.inputFields.reduce(function(g,n){return n.inputFields?g.concat(n.inputFields):g.concat([n])},[])},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"_inputFieldCache",{get:function(){var g=this,n=this._get("_inputFieldCache")||new Map;n.forEach(function(n){return g._disposeInputOrGroup(n)});
n.clear();(this.get("layer.fields")||[]).forEach(function(q){return n.set(q,g._fieldPool.acquire())});return n},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"_inputFieldGroupCache",{get:function(){var g=this,n=this._get("_inputFieldGroupCache")||new Map;n.forEach(function(n){return g._disposeInputOrGroup(n)});n.clear();(this.fieldConfig||[]).filter(M).forEach(function(q){return n.set(q,g._fieldGroupPool.acquire())});return n},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,
"feature",{get:function(){return this._get("feature")},set:function(g){this._featureClone=g?g.clone():null;this._set("feature",g)},enumerable:!0,configurable:!0});n.prototype.castFieldConfig=function(g){return g?g.map(function(g){return g instanceof q||g instanceof E?g:g.fieldConfig?new E(g):new q(g)}):null};Object.defineProperty(n.prototype,"inputFields",{get:function(){var g=this,n=this._arcade,q=this._inputFieldCache,d=this._inputFieldGroupCache,h=this._featureClone,v=this._needsArcade,E=this.layer,
x=this.state,l=h&&h.clone();if("ready"!==x||v&&!n)return[];var r=this.get("layer.fields")||[],h=this.fieldConfig||[];return(0!==h.length?h.map(function(h){if(h.fieldConfig){var v=d.get(h),e=h.fieldConfig.map(function(e){var b=p.find(r,function(a){return a.name===e.name}),a=q.get(b);a.set({arcade:n,field:b,config:e,feature:l,group:v,layer:E,value:g.getValue(b.name)});return a}).filter(function(e){return e.visible});v.set({arcade:n,config:h,feature:l,inputFields:e});return v}var e=p.find(r,function(e){return e.name===
h.name}),G=q.get(e);G.set({arcade:n,field:e,config:h,feature:l,group:null,layer:E,value:g.getValue(e.name)});return G}):r.map(function(d){var h=q.get(d);h.set({arcade:n,config:null,field:d,feature:l,group:null,layer:E,value:g.getValue(d.name)});return h})).filter(function(g){return g.visible})},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"layer",{get:function(){return this.get("feature.layer")},set:function(g){g?this._override("layer",g):this._clearOverride("layer")},enumerable:!0,
configurable:!0});Object.defineProperty(n.prototype,"state",{get:function(){return this.get("layer.loaded")&&this.feature?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"valid",{get:function(){var g=this._allInputFields;return 0<g.length&&g.every(function(g){return g.valid})},enumerable:!0,configurable:!0});n.prototype.findField=function(g){return p.find(this._allInputFields,function(n){return n.name===g})};n.prototype.getValue=function(g){var n=this._featureClone;
return n&&n.get("attributes."+g)};n.prototype.setValue=function(g,n){var q=this,d=this._featureClone,h=this.strict;if(d&&d.attributes){var v=this.findField(g);if(v&&d.attributes[g]!==n){v.value=n;if(this.get("layer.typeIdField")===v.name){var E=new Set;this.layer.types.forEach(function(g){return Object.keys(g.domains).forEach(function(g){return E.add(g)})});E.forEach(function(g){(g=q.findField(g))&&g.notifyChange("domain")})}if(!h||v.valid)d.attributes[g]=n,this.notifyChange("inputFields"),this._emitChangeEvent(v)}}};
n.prototype.getValues=function(){var g=this._featureClone;return g&&x.clone(g.attributes)||null};n.prototype.submit=function(){var g=this._allInputFields,n=g.filter(function(g){return g.valid}).map(function(g){return g.name}),g=g.filter(function(g){return!g.valid}).map(function(g){return g.name}),q=this.getValues();this.emit("submit",{valid:n,invalid:g,values:q})};n.prototype._disposeInputOrGroup=function(g){g.inputFields?this._disposeGroup(g):this._disposeInput(g)};n.prototype._disposeGroup=function(g){var n=
this;g.inputFields.forEach(function(g){return n._disposeInput(g)});this._fieldGroupPool.release(g)};n.prototype._disposeInput=function(g){this._fieldPool.release(g)};n.prototype._emitChangeEvent=function(g){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:g.name,value:g.value,valid:g.valid})};l([H.property({readOnly:!0,dependsOn:["inputFields"]})],n.prototype,"_allInputFields",null);l([H.property({dependsOn:["layer.fields"],readOnly:!0})],n.prototype,"_inputFieldCache",null);
l([H.property({dependsOn:["fieldConfig"],readOnly:!0})],n.prototype,"_inputFieldGroupCache",null);l([H.property()],n.prototype,"feature",null);l([H.property()],n.prototype,"fieldConfig",void 0);l([D.cast("fieldConfig")],n.prototype,"castFieldConfig",null);l([H.property({readOnly:!0,dependsOn:["feature","fieldConfig","layer.fields","layer.loaded"]})],n.prototype,"inputFields",null);l([H.property({dependsOn:["feature.layer"]})],n.prototype,"layer",null);l([H.property({dependsOn:["layer.loaded","feature"]})],
n.prototype,"state",null);l([H.property()],n.prototype,"strict",void 0);l([H.property({dependsOn:["_allInputFields"]})],n.prototype,"valid",null);l([H.property()],n.prototype,"getValues",null);l([H.property()],n.prototype,"submit",null);return n=l([H.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],n)}(H.declared(h,I,z))})},"esri/widgets/FeatureForm/FieldConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./Format".split(" "),
function(F,y,w,l,r,d,h){return function(p){function r(d){d=p.call(this)||this;d.description=null;d.domain=null;d.editable=!0;d.editorType=null;d.format=null;d.hint=null;d.label=null;d.maxLength=-1;d.name=null;d.required=!1;d.visibilityExpression=null;return d}w(r,p);l([d.property()],r.prototype,"description",void 0);l([d.property()],r.prototype,"domain",void 0);l([d.property()],r.prototype,"editable",void 0);l([d.property()],r.prototype,"editorType",void 0);l([d.property({type:h})],r.prototype,"format",
void 0);l([d.property()],r.prototype,"hint",void 0);l([d.property()],r.prototype,"label",void 0);l([d.property()],r.prototype,"maxLength",void 0);l([d.property()],r.prototype,"name",void 0);l([d.property()],r.prototype,"required",void 0);l([d.property()],r.prototype,"visibilityExpression",void 0);return r=l([d.subclass("esri.widgets.FeatureForm.FieldConfig")],r)}(d.declared(r))})},"esri/widgets/FeatureForm/Format":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d,h){return function(d){function p(h){h=d.call(this)||this;h.digitSeparator=!1;h.format=null;h.places=null;return h}w(p,d);l([h.property()],p.prototype,"digitSeparator",void 0);l([h.property({json:{read:{source:"dateFormat",reader:r.fromJSON}}})],p.prototype,"format",void 0);l([h.property()],p.prototype,"places",void 0);return p=l([h.subclass("esri.widgets.FeatureForm.Format")],p)}(h.declared(d))})},"esri/widgets/FeatureForm/FieldGroupConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig".split(" "),
function(F,y,w,l,r,d,h,p){return function(r){function z(d){d=r.call(this)||this;d.description=null;d.fieldConfig=null;d.label=null;d.visibilityExpression=null;return d}w(z,r);z.prototype.castFieldConfig=function(d){return d?d.map(function(d){return d.declaredClass?d:new p(d)}):null};l([d.property()],z.prototype,"description",void 0);l([d.property()],z.prototype,"fieldConfig",void 0);l([h.cast("fieldConfig")],z.prototype,"castFieldConfig",null);l([d.property()],z.prototype,"label",void 0);l([d.property()],
z.prototype,"visibilityExpression",void 0);return z=l([d.subclass("esri.widgets.FeatureForm.FieldGroupConfig")],z)}(d.declared(r))})},"esri/widgets/FeatureForm/InputField":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/i18n!./nls/FeatureForm ../../intl ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/CodedValueDomain ../../layers/support/domains ../../layers/support/fieldUtils".split(" "),function(F,
y,w,l,r,d,h,p,I,z,x){var C={type:"number"},v={type:"date",intlOptions:{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}};return function(h){function D(g){g=h.call(this)||this;g.arcade=null;g.config=null;g.feature=null;g.field=null;g.layer=null;g.description=null;g.editorType=null;g.error=null;g.format=null;g.group=null;g.hint=null;g.name=null;return g}w(D,h);Object.defineProperty(D.prototype,"compiledFunc",{get:function(){var g=this.arcade;return g&&g.arcadeUtils.createFunction(this.get("config.visibilityExpression"))},
enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"evaluatedVisibility",{get:function(){var g=this.compiledFunc;if(g){var q=this.arcade;return q.arcadeUtils.executeFunction(g,q.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"domain",{get:function(){var g=this.layer.typeIdField,q=g===this.name,d=this.get("field.domain");if(q&&!d)return new I({name:"__internal-type-based-coded-value-domain__",codedValues:this.layer.types.map(function(g){return{code:g.id,
name:g.name}})});q=this.feature;g=g&&this.layer.getFieldDomain(this.name,{feature:q})||d;d=this.get("config.domain");return this._isDomainCompatible(d)?d:g},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"editable",{get:function(){return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==this.get("config.editable")},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"errorMessage",{get:function(){return this._toErrorMessage()},enumerable:!0,
configurable:!0});Object.defineProperty(D.prototype,"label",{get:function(){return this.get("config.label")||this.field.alias||this.field.name},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"maxLength",{get:function(){if("date"===this.type)return-1;var g=this.get("field.length"),q=this.get("config.maxLength");return!isNaN(q)&&-1<=q&&(-1===g||q<=g)?q:g},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"required",{get:function(){var g=this.get("field.nullable"),
q=this.get("config.required");return this.editable&&(!g||!0===q)},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"type",{get:function(){var g=this.field;return x.isNumericField(g)?"number":x.isStringField(g)?"text":x.isDateField(g)?"date":"unsupported"},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"valid",{get:function(){var g=this.editable?this._validate():null;this._set("error",g);return null===g},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,
"value",{get:function(){return this._get("value")},set:function(g){this.notifyChange("evaluatedVisibility");this._set("value",g)},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"visible",{get:function(){return this._isEditorField()?!1:"boolean"===typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault()},enumerable:!0,configurable:!0});D.prototype._isDomainCompatible=function(g){var q=this.field;if(g&&"coded-value"===g.type){var d=typeof g.codedValues[0].code;
if("string"===d&&x.isStringField(q)||"number"===d&&x.isNumericField(q))return!0}return g&&"range"===g.type&&x.isNumericField(q)?!0:!1};D.prototype._validate=function(){var g=this.domain,q=this.field,d=this.value;return g?null!==d||this.required?z.validateDomainValue(g,d):null:x.validateFieldValue(q,d)};D.prototype._shownByDefault=function(){var g=this.get("field.type");return"oid"!==g&&"global-id"!==g&&!this._isGeometryField()};D.prototype._isEditorField=function(){return-1<x.getFeatureEditFields(this.layer).indexOf(this.name)};
D.prototype._isGeometryField=function(){return-1<x.getFeatureGeometryFields(this.layer).indexOf(this.name)};D.prototype._toErrorMessage=function(){var g=this.domain,q=this.field,h=this.value,p=this.type,l=this.error;return this.required&&null===h?r.validationErrors.cannotBeNull:l===z.DomainValidationError.VALUE_OUT_OF_RANGE||l===x.NumericRangeValidationError.OUT_OF_RANGE?(g=z.getDomainRange(g)||x.getFieldRange(q),d.substitute(r.validationErrors.outsideRange,{min:g.min,max:g.max},{format:{max:"date"===
p?v:C,min:"date"===p?v:C}})):l===z.DomainValidationError.INVALID_CODED_VALUE?r.validationErrors.invalidCodedValue:l===x.TypeValidationError.INVALID_TYPE?r.validationErrors.invalidType:null};l([p.property()],D.prototype,"arcade",void 0);l([p.property({dependsOn:["arcade","config.visibilityExpression"]})],D.prototype,"compiledFunc",null);l([p.property({dependsOn:["compiledFunc","feature"]})],D.prototype,"evaluatedVisibility",null);l([p.property()],D.prototype,"config",void 0);l([p.property()],D.prototype,
"feature",void 0);l([p.property()],D.prototype,"field",void 0);l([p.property()],D.prototype,"layer",void 0);l([p.property({aliasOf:"config.description"})],D.prototype,"description",void 0);l([p.property({dependsOn:["config","feature","field","layer"]})],D.prototype,"domain",null);l([p.property({dependsOn:["config","field","layer"]})],D.prototype,"editable",null);l([p.property({aliasOf:"config.editorType"})],D.prototype,"editorType",void 0);l([p.property({readOnly:!0})],D.prototype,"error",void 0);
l([p.property({dependsOn:["error","value"]})],D.prototype,"errorMessage",null);l([p.property({aliasOf:"config.format"})],D.prototype,"format",void 0);l([p.property()],D.prototype,"group",void 0);l([p.property({aliasOf:"config.hint"})],D.prototype,"hint",void 0);l([p.property({dependsOn:["field","config"]})],D.prototype,"label",null);l([p.property({dependsOn:["field.length","config"]})],D.prototype,"maxLength",null);l([p.property({aliasOf:"field.name"})],D.prototype,"name",void 0);l([p.property({dependsOn:["field",
"config"]})],D.prototype,"required",null);l([p.property({dependsOn:["field"]})],D.prototype,"type",null);l([p.property({dependsOn:["config","domain","field","layer","value"]})],D.prototype,"valid",null);l([p.property({value:null})],D.prototype,"value",null);l([p.property({dependsOn:["config","evaluatedVisibility","field","layer"]})],D.prototype,"visible",null);return D=l([p.subclass("esri.widgets.FeatureForm.InputField")],D)}(p.declared(h))})},"esri/widgets/FeatureForm/InputFieldGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d,h){return function(d){function p(h){h=d.call(this)||this;h.arcade=null;h.config=null;h.description=null;h.feature=null;h.label=null;h.visibilityExpression=null;return h}w(p,d);Object.defineProperty(p.prototype,"compiledFunc",{get:function(){var d=this.arcade;return d&&d.arcadeUtils.createFunction(this.visibilityExpression)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"evaluatedVisibility",{get:function(){var d=this.compiledFunc;if(d){var h=this.arcade;return h.arcadeUtils.executeFunction(d,
h.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"inputFields",{get:function(){return this._get("inputFields")},set:function(d){var h=this;this.handles.removeAll();d&&this.handles.add(d.map(function(d){return d.watch("visible",h._dirtyEvaluatedVisibility)}));this._set("inputFields",d)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"visible",{get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some(function(d){return d.visible})},
enumerable:!0,configurable:!0});p.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")};l([h.property()],p.prototype,"arcade",void 0);l([h.property({dependsOn:["arcade","visibilityExpression"]})],p.prototype,"compiledFunc",null);l([h.property()],p.prototype,"config",void 0);l([h.property({dependsOn:["compiledFunc","feature"]})],p.prototype,"evaluatedVisibility",null);l([h.property({aliasOf:"config.description"})],p.prototype,"description",
void 0);l([h.property()],p.prototype,"feature",void 0);l([h.property()],p.prototype,"inputFields",null);l([h.property({aliasOf:"config.label"})],p.prototype,"label",void 0);l([h.property({aliasOf:"config.visibilityExpression"})],p.prototype,"visibilityExpression",void 0);l([h.property({dependsOn:["evaluatedVisibility","inputFields"]})],p.prototype,"visible",null);return p=l([h.subclass("esri.widgets.FeatureForm.InputFieldGroup")],p)}(h.declared(r,d))})},"esri/widgets/FeatureTemplates":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper @dojo/framework/shim/IntersectionObserver dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./FeatureTemplates/FeatureTemplatesViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v,H){function D(g){return g.items?g.uid:g.layer.id}return function(g){function q(q){q=g.call(this)||this;q._iconIntersectionObserver=new d.default(function(g,q){g.forEach(function(g){if(g.isIntersecting){var d=g.target;if(!d["data-has-icon"]){d["data-has-icon"]=!0;var n=d["data-item"];n.fetchThumbnail().then(function(){n.thumbnail&&d.appendChild(n.thumbnail)})}q.unobserve(d)}})});q.filterEnabled=!0;q.filterFunction=null;q.filterText="";q.groupBy=null;q.layers=null;
q.viewModel=new C;q.renderItemIcon=q.renderItemIcon.bind(q);q._afterItemCreateOrUpdate=q._afterItemCreateOrUpdate.bind(q);q._afterItemRemoved=q._afterItemRemoved.bind(q);return q}l(q,g);q.prototype.postInitialize=function(){var g=this,q=function(q){q=q.label;return!g.filterText||-1<q.toLowerCase().indexOf(g.filterText.toLowerCase())};this.own(I.init(this,"viewModel",function(d,h){d&&!d.filterFunction&&(g.filterFunction=q);h&&h!==d&&h.filterFunction===q&&(h.filterFunction=null)}))};q.prototype.destroy=
function(){this._iconIntersectionObserver&&(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)};q.prototype.render=function(){var g=this,q=this.filterText,d=this.filterEnabled,p=this.viewModel,x=p.items,p=p.state;return H.tsx("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":h.widgetLabel},"loading"===p?this.renderLoader():"ready"===p?v.ItemList({id:this.id,identify:D,filterText:q,items:x,messages:{filterPlaceholder:h.filterPlaceholder,noItems:h.noItems,
noMatches:h.noMatches},filterEnabled:d,onItemSelect:function(n){g.viewModel.select(n)},onFilterChange:function(n){g.filterText=n;g.viewModel.refresh()},renderIcon:this.renderItemIcon}):null)};q.prototype.renderItemIcon=function(g){return H.tsx("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":g.item,"data-has-icon":!1})};q.prototype.renderLoader=function(){return H.tsx("div",
{class:"esri-feature-templates__loader",key:"loader"})};q.prototype._afterItemCreateOrUpdate=function(g){this._iconIntersectionObserver.observe(g)};q.prototype._afterItemRemoved=function(g){this._iconIntersectionObserver.unobserve(g)};r([z.property(),H.renderable()],q.prototype,"filterEnabled",void 0);r([z.aliasOf("viewModel.filterFunction")],q.prototype,"filterFunction",void 0);r([z.property(),H.renderable()],q.prototype,"filterText",void 0);r([z.aliasOf("viewModel.groupBy")],q.prototype,"groupBy",
void 0);r([z.aliasOf("viewModel.layers")],q.prototype,"layers",void 0);r([z.property(),H.renderable(["viewModel.items","viewModel.state"]),H.vmEvent("select")],q.prototype,"viewModel",void 0);return q=r([z.subclass("esri.widgets.FeatureTemplates")],q)}(z.declared(x,p))})},"@dojo/framework/shim/IntersectionObserver":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define(["require",
"exports","./global","intersection-observer"],F)})(function(F,y){Object.defineProperty(y,"__esModule",{value:!0});var w=F("./global");"!has('build-elide')";F("intersection-observer");y.default=w.default.IntersectionObserver})},"intersection-observer/intersection-observer":function(){define(["dojo","dijit","dojox"],function(F,y,w){(function(l,r){function d(g){this.time=g.time;this.target=g.target;this.rootBounds=g.rootBounds;this.boundingClientRect=g.boundingClientRect;this.intersectionRect=g.intersectionRect||
C();this.isIntersecting=!!g.intersectionRect;g=this.boundingClientRect;g=g.width*g.height;var q=this.intersectionRect,q=q.width*q.height;this.intersectionRatio=g?Number((q/g).toFixed(4)):this.isIntersecting?1:0}function h(g,q){q=q||{};if("function"!=typeof g)throw Error("callback must be a function");if(q.root&&1!=q.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=p(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=g;this._observationTargets=
[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(q.rootMargin);this.thresholds=this._initThresholds(q.threshold);this.root=q.root||null;this.rootMargin=this._rootMarginValues.map(function(g){return g.value+g.unit}).join(" ")}function p(g,q){var d=null;return function(){d||(d=setTimeout(function(){g();d=null},q))}}function I(g,q,d,h){"function"==typeof g.addEventListener?g.addEventListener(q,d,h||!1):"function"==typeof g.attachEvent&&g.attachEvent("on"+q,d)}function z(g,q,d,h){"function"==
typeof g.removeEventListener?g.removeEventListener(q,d,h||!1):"function"==typeof g.detatchEvent&&g.detatchEvent("on"+q,d)}function x(g){var q;try{q=g.getBoundingClientRect()}catch(E){}if(!q)return C();q.width&&q.height||(q={top:q.top,right:q.right,bottom:q.bottom,left:q.left,width:q.right-q.left,height:q.bottom-q.top});return q}function C(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function v(g,q){for(;q;){if(q==g)return!0;q=H(q)}return!1}function H(g){return(g=g.parentNode)&&11==g.nodeType&&
g.host?g.host:g}if("IntersectionObserver"in l&&"IntersectionObserverEntry"in l&&"intersectionRatio"in l.IntersectionObserverEntry.prototype)"isIntersecting"in l.IntersectionObserverEntry.prototype||Object.defineProperty(l.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var D=[];h.prototype.THROTTLE_TIMEOUT=100;h.prototype.POLL_INTERVAL=null;h.prototype.USE_MUTATION_OBSERVER=!0;h.prototype.observe=function(g){if(!this._observationTargets.some(function(q){return q.element==
g})){if(!g||1!=g.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:g,entry:null});this._monitorIntersections();this._checkForIntersections()}};h.prototype.unobserve=function(g){this._observationTargets=this._observationTargets.filter(function(q){return q.element!=g});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};h.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();
this._unregisterInstance()};h.prototype.takeRecords=function(){var g=this._queuedEntries.slice();this._queuedEntries=[];return g};h.prototype._initThresholds=function(g){g=g||[0];Array.isArray(g)||(g=[g]);return g.sort().filter(function(g,d,h){if("number"!=typeof g||isNaN(g)||0>g||1<g)throw Error("threshold must be a number between 0 and 1 inclusively");return g!==h[d-1]})};h.prototype._parseRootMargin=function(g){g=(g||"0px").split(/\s+/).map(function(g){g=/^(-?\d*\.?\d+)(px|%)$/.exec(g);if(!g)throw Error("rootMargin must be specified in pixels or percent");
return{value:parseFloat(g[1]),unit:g[2]}});g[1]=g[1]||g[0];g[2]=g[2]||g[0];g[3]=g[3]||g[1];return g};h.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(I(l,"resize",this._checkForIntersections,!0),I(r,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in l&&(this._domObserver=new MutationObserver(this._checkForIntersections),
this._domObserver.observe(r,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};h.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,z(l,"resize",this._checkForIntersections,!0),z(r,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};h.prototype._checkForIntersections=function(){var g=this._rootIsInDom(),
q=g?this._getRootRect():C();this._observationTargets.forEach(function(h){var v=h.element,p=x(v),E=this._rootContainsTarget(v),r=h.entry,n=g&&E&&this._computeTargetAndRootIntersection(v,q);h=h.entry=new d({time:l.performance&&performance.now&&performance.now(),target:v,boundingClientRect:p,rootBounds:q,intersectionRect:n});r?g&&E?this._hasCrossedThreshold(r,h)&&this._queuedEntries.push(h):r&&r.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this);this._queuedEntries.length&&
this._callback(this.takeRecords(),this)};h.prototype._computeTargetAndRootIntersection=function(g,q){if("none"!=l.getComputedStyle(g).display){var d=x(g);g=H(g);for(var h=!1;!h;){var v=null,p=1==g.nodeType?l.getComputedStyle(g):{};if("none"==p.display)return;g==this.root||g==r?(h=!0,v=q):g!=r.body&&g!=r.documentElement&&"visible"!=p.overflow&&(v=x(g));if(v){var p=Math.max(v.top,d.top),D=Math.min(v.bottom,d.bottom),n=Math.max(v.left,d.left),d=Math.min(v.right,d.right),v=d-n,C=D-p,d=0<=v&&0<=C&&{top:p,
bottom:D,left:n,right:d,width:v,height:C};if(!d)break}g=H(g)}return d}};h.prototype._getRootRect=function(){var g;if(this.root)g=x(this.root);else{g=r.documentElement;var q=r.body;g={top:0,left:0,right:g.clientWidth||q.clientWidth,width:g.clientWidth||q.clientWidth,bottom:g.clientHeight||q.clientHeight,height:g.clientHeight||q.clientHeight}}return this._expandRectByRootMargin(g)};h.prototype._expandRectByRootMargin=function(g){var q=this._rootMarginValues.map(function(q,d){return"px"==q.unit?q.value:
q.value*(d%2?g.width:g.height)/100}),q={top:g.top-q[0],right:g.right+q[1],bottom:g.bottom+q[2],left:g.left-q[3]};q.width=q.right-q.left;q.height=q.bottom-q.top;return q};h.prototype._hasCrossedThreshold=function(g,q){g=g&&g.isIntersecting?g.intersectionRatio||0:-1;q=q.isIntersecting?q.intersectionRatio||0:-1;if(g!==q)for(var d=0;d<this.thresholds.length;d++){var h=this.thresholds[d];if(h==g||h==q||h<g!==h<q)return!0}};h.prototype._rootIsInDom=function(){return!this.root||v(r,this.root)};h.prototype._rootContainsTarget=
function(g){return v(this.root||r,g)};h.prototype._registerInstance=function(){0>D.indexOf(this)&&D.push(this)};h.prototype._unregisterInstance=function(){var g=D.indexOf(this);-1!=g&&D.splice(g,1)};l.IntersectionObserver=h;l.IntersectionObserverEntry=d}})(window,document)})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./has!host-browser?./_base/browser require".split(" "),
function(F,y,w,l,r,d,h,p){h.isDebug&&w(["./_firebug/firebug"]);return F})},"dijit/main":function(){define(["dojo/_base/kernel"],function(F){return F.dijit})},"dojox/main":function(){define(["dojo/_base/kernel"],function(F){return F.dojox})},"esri/widgets/FeatureTemplates/FeatureTemplatesViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/ObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ./TemplateItem ./TemplateItemGroup".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C){var v=function(d){d=d.layer;return{key:d,label:d.title}},H=function(d){return d.layer.geometryType};return function(d){function g(g){g=d.call(this)||this;g._templateToLayer=new Map;g._itemPool=new p(x);g._groupPool=new p(C);g.filterFunction=null;g.groupBy="layer";return g}w(g,d);g.prototype.destroy=function(){this._templateToLayer.clear();this._templateToLayer=null};Object.defineProperty(g.prototype,"layers",{get:function(){return this._get("layers")},set:function(g){var q=
this;this.handles.removeAll();if(g){var d=function(){return q.notifyChange("state")};this.handles.add(g.map(function(g){return I.when(g,"loadStatus",d)}))}this._set("layers",g)},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"state",{get:function(){var g=this.layers;return g&&0!==g.length?g.some(function(g){return"loading"===g.loadStatus||"not-loaded"===g.loadStatus})?"loading":"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"items",{get:function(){var g=
this,d=this.layers;this._destroyItems(this._get("items"));if(!d||0===d.length)return[];this._templateToLayer.clear();var d=d.filter(function(g){var n=g.capabilities;return g.loaded&&n.operations.supportsEditing&&n.operations.supportsAdd}).map(function(q){var n=g._getTemplatesForLayer(q);if(0<n.length)return n.forEach(function(n){return g._templateToLayer.set(n,q)}),n}).filter(function(g){return null!=g}),h=this.groupBy;if("none"===h)return d.map(function(q){return q.filter(function(n){n=n.name;return!g.filterFunction||
g.filterFunction({label:n})})}).map(function(q){return q.map(function(n){return g._createItem(n)})}).reduce(function(g,n){return g.concat(n)},[]);d=d.reduce(function(q,n){n.forEach(function(n){var d=("layer"===h?v:"geometry"===h?H:h)({template:n,layer:g._templateToLayer.get(n)});if(d){var p="string"===typeof d?d:d.key,d="string"===typeof d?d:d.label;q.has(p)||q.set(p,{label:d,templates:[]});q.get(p).templates.push(n)}});return q},new Map);if(0===d.size)return[];var p=[],x=this.filterFunction;d.forEach(function(q){var n=
q.label,d=q.templates;!x||g.filterFunction(q)?p.push(g._createGroup(n,d.map(function(n){return g._createItem(n)}))):(q=d.filter(function(n){return g.filterFunction({label:n.name})}).map(function(n){return g._createItem(n)}),0<q.length&&p.push(g._createGroup(n,q)))});return p},enumerable:!0,configurable:!0});g.prototype.refresh=function(){this.notifyChange("items")};g.prototype.select=function(g){g=g.clone();this.emit("select",{item:g,template:g.template})};g.prototype._getTemplatesForLayer=function(g){var q=
g.templates||[];g=(g.types||[]).map(function(g){return g.templates}).reduce(function(g,q){return g.concat(q)},[]);return q.concat(g)};g.prototype._createItem=function(g){var q=this._itemPool.acquire();q.set({template:g,layer:this._templateToLayer.get(g)});return q};g.prototype._createGroup=function(g,d){var q=this._groupPool.acquire();q.set("label",g);q.items=d;return q};g.prototype._destroyItems=function(g){var q=this;g&&(g[0]instanceof x?g.forEach(function(g){return q._destroyItem(g)}):g.forEach(function(g){return q._destroyGroup(g)}))};
g.prototype._destroyGroup=function(g){var q=this;g.items.forEach(function(g){return q._itemPool.release(g)});g.items.length=0;this._groupPool.release(g)};g.prototype._destroyItem=function(g){this._itemPool.release(g)};l([z.property()],g.prototype,"filterFunction",void 0);l([z.property()],g.prototype,"groupBy",void 0);l([z.property()],g.prototype,"layers",null);l([z.property({dependsOn:["layers"]})],g.prototype,"state",null);l([z.property({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],
g.prototype,"items",null);return g=l([z.subclass("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],g)}(z.declared(r,h,d))})},"esri/widgets/FeatureTemplates/TemplateItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../symbols/support/symbolUtils".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(p){function D(g){g=p.call(this)||this;g.description=null;g.label=null;g.layer=null;g.template=null;g.thumbnail=null;return g}w(D,p);g=D;D.prototype.initialize=function(){var g=this;this.handles.add(x.init(this,["layer.renderer","template"],function(){return g._set("thumbnail",null)}))};D.prototype.clone=function(){var q=this.thumbnail?this.thumbnail.cloneNode(!0):null,d=new g({layer:this.layer,template:this.template});d._set("thumbnail",q);return d};
D.prototype.fetchThumbnail=function(){return d(this,void 0,void 0,function(){var g,d;return r(this,function(q){switch(q.label){case 0:return this._get("thumbnail")?[2,z.resolve()]:[4,this._getPreviewSymbol()];case 1:return g=q.sent(),[4,v.renderPreviewHTML(g,{maxSize:36})];case 2:return d=q.sent(),this._set("thumbnail",d),[2]}})})};D.prototype._getPreviewSymbol=function(){return d(this,void 0,void 0,function(){var g,d,v,p,x,l;return r(this,function(n){switch(n.label){case 0:g=this;d=g.layer;v=g.template;
p=g.layer.renderer;if(!p)return[3,2];x=new h({attributes:v.prototype.attributes});return[4,p.getSymbolAsync(x)];case 1:if(l=n.sent())return[2,l];n.label=2;case 2:return[2,this._getFallbackSymbolFromGeometry(d)]}})})};D.prototype._getFallbackSymbolFromGeometry=function(g){g=g.geometryType;if("point"===g||"multipoint"===g)return z.create(function(g){return F(["../../symbols/SimpleMarkerSymbol"],g)}).then(function(g){return new g});if("polyline"===g)return z.create(function(g){return F(["../../symbols/SimpleLineSymbol"],
g)}).then(function(g){return new g});if("polygon"===g||"mesh"===g||"multipatch"===g)return z.create(function(g){return F(["../../symbols/SimpleFillSymbol"],g)}).then(function(g){return new g})};var g;l([C.property({aliasOf:"template.description"})],D.prototype,"description",void 0);l([C.property({aliasOf:"template.name"})],D.prototype,"label",void 0);l([C.property()],D.prototype,"layer",void 0);l([C.property()],D.prototype,"template",void 0);l([C.property({readOnly:!0})],D.prototype,"thumbnail",void 0);
return D=g=l([C.subclass("esri.widgets.FeatureTemplates.TemplateItem")],D)}(C.declared(p,I))})},"esri/symbols/support/symbolUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/compilerUtils ../../core/maybe ../../core/promiseUtils ./previewSymbol2D ./previewSymbol3D ./previewWebStyleSymbol ./utils".split(" "),function(F,y,w,l,r,d,h,p,I,z,x){function C(d,g){switch(d.type){case "web-style":return z.previewWebStyleSymbol(d,C,g);
case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return I.previewSymbol3D(d,g);case "simple-marker":case "simple-line":case "simple-fill":case "picture-marker":case "picture-fill":case "text":case "cim":return p.previewSymbol2D(d,g);default:r.neverReached(d)}}function v(d){return d&&"opacity"in d?d.opacity*v(d.parent):1}Object.defineProperty(y,"__esModule",{value:!0});var H=null;y.renderDotDensityPreview=function(d,g,q){var h=d.backgroundColor,v=d.outline;d=d.dotSize;
var p=q&&q.swatchSize||22,x=Math.round(p*p/Math.pow(d,2)*.8),l=window.devicePixelRatio;q=document.createElement("canvas");var n=p*l;q.width=n;q.height=n;q.style.width=q.width/l+"px";q.style.height=q.height/l+"px";var r=q.getContext("2d");h&&(r.fillStyle=h.toCss(!0),r.fillRect(0,0,n,n),r.fill());r.fillStyle=g.toCss(!0);if(H&&H.length/2===x)for(g=0;g<2*x;g+=2){var h=H[g],C=H[g+1];r.fillRect(h,C,d*l,d*l);r.fill()}else for(H=[],g=0;g<2*x;g+=2)h=Math.floor(Math.random()*(n-0+1)+0),C=Math.floor(Math.random()*
(n-0+1)+0),H.push(h,C),r.fillRect(h,C,d*l,d*l),r.fill();v&&(v.color&&(r.strokeStyle=v.color.toCss(!0)),r.lineWidth=v.width,r.strokeRect(0,0,n,n));v=new Image(p,p);v.src=q.toDataURL();return v};y.renderPreviewHTML=C;y.getDisplayedSymbol=function(p,g){return l(this,void 0,void 0,function(){var q,l,r,C,D,z,n,H,I,y,R,S,V,da,U,Z;return w(this,function(E){switch(E.label){case 0:if(!p)return[2];q=v(p.layer||p.sourceLayer);if(d.isSome(p.symbol))return l=p.symbol.clone(),x.applyColorToSymbol(l,null,q),[2,
l];r=p.get("layer.renderer")||p.get("sourceLayer.renderer");return[4,r.getSymbolAsync(p)];case 1:C=E.sent();if(!C)return[2];C=C.clone();return!("visualVariables"in r)||"visualVariables"in r&&!r.visualVariables||"visualVariables"in r&&r.visualVariables&&!r.visualVariables.length?[2,C]:[4,h.create(function(g){return F(["../../renderers/visualVariables/support/visualVariableUtils"],g)})];case 2:D=E.sent();z=[];n=[];H=[];I=[];y=0;for(R=r.visualVariables;y<R.length;y++)switch(S=R[y],S.type){case "color":z.push(S);
break;case "opacity":n.push(S);break;case "rotation":I.push(S);break;case "size":H.push(S)}da=(V=!!z.length&&z[z.length-1])?D.getColor(V,p,g):null;Z=(U=!!n.length&&n[n.length-1])?D.getOpacity(U,p,g):null;null!=q&&(Z=null!=Z?Z*q:q);x.applyColorToSymbol(C,da,Z);H.forEach(function(n){return x.applySizeToSymbol(C,D.getSize(n,p,g),n.axis)});I.forEach(function(n){return x.applyRotationToSymbol(C,D.getRotationAngle(n,p,g),n.axis)});return[2,C]}})})}})},"esri/symbols/support/previewSymbol2D":function(){define("require exports ../../core/Error ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./previewUtils ./renderUtils".split(" "),
function(F,y,w,l,r,d,h,p){function I(d,h){var g=x.getContext("2d"),q=[];h&&(h.weight&&q.push(h.weight),h.size&&q.push(h.size+"px"),h.family&&q.push(h.family));g.font=q.join(" ");return g.measureText(d).width}function z(d){if(0===d.length)return 0;if(2<d.length){var h=r.px2pt(1),g=parseFloat(d);switch(d.slice(-2)){case "px":return g;case "pt":return g*h;case "in":return 72*g*h;case "pc":return 12*g*h;case "mm":return g*C*h;case "cm":return g*v*h}}return parseFloat(d)}Object.defineProperty(y,"__esModule",
{value:!0});var x=document.createElement("canvas"),C=7.2/2.54,v=72/2.54;y.previewSymbol2D=function(v,x){var g=x&&x.size?r.pt2px(x.size):null,q=x&&x.maxSize?r.pt2px(x.maxSize):null,E=x&&null!=x.opacity?x.opacity:null,C=x&&null!=x.rotation?x.rotation:null,D=d.getStroke(v),H={shape:null,fill:null,stroke:D};D&&D.width&&(D.width=Math.min(D.width,80));var y=0,n=0,J=D&&D.width||0,L=!1;switch(v.type){case "simple-marker":D=v.style;n=y=g=Math.min(g||r.pt2px(v.size),q||120);switch(D){case "circle":H.shape=
{type:"circle",cx:0,cy:0,r:.5*g};break;case "cross":H.shape={type:"path",path:[{command:"M",values:[0,.5*n]},{command:"L",values:[y,.5*n]},{command:"M",values:[.5*y,0]},{command:"L",values:[.5*y,n]},{command:"E",values:[]}]};break;case "diamond":H.shape={type:"path",path:[{command:"M",values:[0,.5*n]},{command:"L",values:[.5*y,0]},{command:"L",values:[y,.5*n]},{command:"L",values:[.5*y,n]},{command:"Z",values:[]}]};break;case "square":H.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",
values:[y,0]},{command:"L",values:[y,n]},{command:"L",values:[0,n]},{command:"Z",values:[]}]};break;case "triangle":H.shape={type:"path",path:[{command:"M",values:[.5*y,0]},{command:"L",values:[y,n]},{command:"L",values:[0,n]},{command:"Z",values:[]}]};break;case "x":H.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[y,n]},{command:"M",values:[y,0]},{command:"L",values:[0,n]},{command:"E",values:[]}]};break;case "path":L=!0,H.shape={type:"path",path:v.path||""}}break;case "simple-line":J=
Math.min(g||J,q||80);y=22<J?2*J:40;n=J;D.width=J;J=0;H.shape={type:"path",path:[{command:"M",values:[0,.5*n]},{command:"L",values:[y,.5*n]},{command:"E",values:[]}]};break;case "picture-fill":case "simple-fill":n=y=g=Math.min(g,q||120);L=!0;H.shape=h.shapes.fill[0];break;case "picture-marker":var q=q||120,D=r.pt2px(v.width),O=r.pt2px(v.height),g=Math.min(g||Math.max(D,O),q),O=D/O,D=1>=O?Math.ceil(g*O):g,O=1>=O?g:Math.ceil(g/O),y=D,n=O;H.shape={type:"image",x:-Math.round(D/2),y:-Math.round(O/2),width:D,
height:O,src:v.url||""};break;case "text":var D=v.text||"Aa",O=v.font,g=Math.min(g||r.pt2px(O.size),q||120),F=I(D,{weight:O.weight,size:g,family:O.family}),y=(q=/[\uE600-\uE6FF]/.test(D))?g:F,n=g,F=.25*z((O?g:0).toString());q&&(F+=5);H.shape={type:"text",text:D,x:0,y:F,align:"middle",decoration:O&&O.decoration,rotated:v.rotated,kerning:v.kerning};H.font=O&&{size:g,style:O.style,decoration:O.decoration,weight:O.weight,family:O.family}}if(!H.shape)return l.reject(new w("symbolPreview: renderPreviewHTML2D",
"symbol not supported."));var y=(y||22)+J+1,n=(n||22)+J+1,S=d.getFill(v),J=v.color,g=null;S&&"pattern"===S.type&&J&&"picture-fill"!==v.type?g=d.getPatternUrlWithColor(S.src,J.toCss(!0)).then(function(g){S.src=g;H.fill=S;return H}):(H.fill=S,g=l.resolve(H));return g.then(function(g){return p.renderSymbol([[g]],[y,n],{node:x&&x.node,scale:L,opacity:E,rotation:C})})}})},"esri/symbols/support/gfxUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../Color ../../request ../../core/ItemCache ../../core/promiseUtils ../../core/screenUtils".split(" "),
function(F,y,w,l,r,d,h,p){function I(g){if(!g)return null;var d,h=p.pt2px(g.width);switch(g.type){case "simple-fill":case "picture-fill":case "simple-marker":d=I(g.outline);break;case "simple-line":"none"!==g.style&&0!==h&&(d={color:g.color,style:D(g.style),width:h,cap:g.cap,join:"miter"===g.join?p.pt2px(g.miterLimit):g.join});break;default:d=null}return d}Object.defineProperty(y,"__esModule",{value:!0});var z=F.toUrl("../../symbols/patterns/"),x={type:"pattern",x:0,y:0,width:0,height:0,src:""},C=
{left:"start",center:"middle",right:"end",justify:"start"},v={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},H=new d(1E3);y.getSVGAlign=function(g){return g=(g=g.horizontalAlignment)&&C[g.toLowerCase()]||"middle"};y.getSVGBaseline=function(g){return(g=g.verticalAlignment)&&v[g.toLowerCase()]||"alphabetic"};y.getSVGBaselineShift=function(g){return"bottom"===g.verticalAlignment?"super":null};y.getFill=function(g){var d=g.style,h=null;if(g)switch(g.type){case "simple-marker":"cross"!==
d&&"x"!==d&&(h=g.color);break;case "simple-fill":"solid"===d?h=g.color:"none"!==d&&(h=w({},x,{src:z+d+".png",width:8,height:8}));break;case "picture-fill":h=w({},x,{src:g.url,width:p.pt2px(g.width)*g.xscale,height:p.pt2px(g.height)*g.yscale,x:p.pt2px(g.xoffset),y:p.pt2px(g.yoffset)});break;case "text":h=g.color}return h};y.getPatternUrlWithColor=function(g,d){var q=g+"-"+d;return void 0!==H.get(q)?h.resolve(H.get(q)):r(g,{responseType:"image"}).then(function(g){g=g.data;var h=g.naturalWidth,v=g.naturalHeight,
p=document.createElement("canvas");p.width=h;p.height=v;var n=p.getContext("2d");n.fillStyle=d;n.fillRect(0,0,h,v);n.globalCompositeOperation="destination-in";n.drawImage(g,0,0);g=p.toDataURL();H.put(q,g);return g})};y.getStroke=I;y.create2DColorRamp=function(g){var d=g.colors,h=g.numClasses,v=g.size;g=g.surface.createGroup();for(var v=(v||75)/h,p=0;p<h;p++)for(var x=p*v,l=0;l<h;l++){var n=d[p][l];g.createRect({x:l*v,y:x,width:v,height:v}).setFill(n).setStroke(null)}return g};var D=function(){var g=
{};return function(d){if(g[d])return g[d];var q=d.replace(/-/g,"");return g[d]=q}}();y.defaultThematicColor=new l([128,128,128])})},"esri/core/ItemCache":function(){define(["require","exports","./MemCache"],function(F,y,w){return function(){function l(l,d){this._storage=new w.MemCacheStorage;this._storage.maxSize=l;d&&this._storage.registerRemoveFunc("",d)}l.prototype.put=function(l,d){this._storage.put(l,d,1,1)};l.prototype.pop=function(l){return this._storage.pop(l)};l.prototype.get=function(l){return this._storage.get(l)};
l.prototype.clear=function(){this._storage.clearAll()};l.prototype.destroy=function(){this._storage.clearAll()};return l}()})},"esri/core/MemCache":function(){define(["require","exports","./iteratorUtils","./PooledArray","./string"],function(F,y,w,l,r){Object.defineProperty(y,"__esModule",{value:!0});F=function(){function d(d,p,l){this._namespace=d;this._storage=p;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";l&&(this._storage.registerRemoveFunc(this._namespace,
l),this._removeFunc=!0)}Object.defineProperty(d.prototype,"namespace",{get:function(){return this._namespace.slice(0,-1)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"hitRate",{get:function(){return this._hit/(this._hit+this._miss)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"size",{get:function(){return this._storage.size},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"maxSize",{get:function(){return this._storage.maxSize},enumerable:!0,
configurable:!0});d.prototype.resetHitRate=function(){this._hit=this._miss=0};d.prototype.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this)};d.prototype.put=function(d,p,l,r){void 0===r&&(r=1);this._storage.put(this._namespace+d,p,l,r)};d.prototype.get=function(d){d=this._storage.get(this._namespace+d);void 0===d?++this._miss:++this._hit;return d};d.prototype.pop=function(d){d=this._storage.pop(this._namespace+
d);void 0===d?++this._miss:++this._hit;return d};d.prototype.clear=function(){this._storage.clear(this._namespace)};d.prototype.clearAll=function(){this._storage.clearAll()};d.prototype.getStats=function(){return this._storage.getStats()};d.prototype.resetStats=function(){this._storage.resetStats()};return d}();y.MemCache=F;F=function(){function d(d){void 0===d&&(d=10485760);this._maxSize=d;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=[];this._users=new l}d.prototype.register=
function(d){this._users.push(d)};d.prototype.deregister=function(d){this._users.removeUnordered(d)};d.prototype.registerRemoveFunc=function(d,p){this._removeFuncs.push([d,p])};d.prototype.deregisterRemoveFunc=function(d){this._removeFuncs=this._removeFuncs.filter(function(h){return h[0]!==d})};Object.defineProperty(d.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"maxSize",{get:function(){return this._maxSize},set:function(d){this._maxSize=
Math.max(d,0);this._size>this._maxSize&&this._removeEntries()},enumerable:!0,configurable:!0});d.prototype.put=function(d,p,l,r){if(this._db.has(d)){var h=this._db.get(d);this._size-=h.size;this._db.delete(d);this._notifyRemoved(d,h.entry)}l>this._maxSize?this._notifyRemoved(d,p):void 0===p?console.warn("Refusing to cache undefined entry "):!l||0>l?console.warn("Refusing to cache entry with invalid size "+l):(this._db.set(d,{entry:p,size:l,lifetime:r,lives:r}),this._size+=l,this._size>this._maxSize&&
this._removeEntries())};d.prototype.pop=function(d){if(this._db.has(d)){var h=this._db.get(d);this._size-=h.size;this._db.delete(d);++this._hit;return h.entry}++this._miss};d.prototype.get=function(d){var h=this._db.get(d);if(void 0===h)++this._miss;else return this._db.delete(d),h.lives=h.lifetime,this._db.set(d,h),++this._hit,h.entry};d.prototype.getStats=function(){var d=this,p={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+
"%",Entries:this._db.size.toString()},l={},z=[];this._db.forEach(function(h,v){var g=h.lifetime;z[g]=(z[g]||0)+1;d._users.forEach(function(g){g=g.namespace;if(r.startsWith(v,g))return l[g]=(l[g]||0)+h.size,!1})});var x={};this._users.forEach(function(d){var h=d.namespace;!isNaN(d.hitRate)&&0<d.hitRate?(l[h]=l[h]||0,x[h]=Math.round(100*d.hitRate)+"%"):x[h]="0%"});var C=Object.keys(l);C.forEach(function(h){return l[h]=l[h]/d._size*100});C.sort(function(d,h){return l[h]-l[d]});C.forEach(function(d){return p[d]=
Math.round(l[d])+"% / "+x[d]});for(C=0;C<z.length;++C){var v=z[C];v&&(p["Lifetime "+C]=Math.round(v/this._db.size*100)+"%")}return p};d.prototype.resetStats=function(){this._hit=this._miss=0;this._users.forEach(function(d){return d.resetHitRate()})};d.prototype.clear=function(d){var h=this;this._db.forEach(function(p,l){r.startsWith(l,d)&&(h._size-=p.size,h._db.delete(l),h._notifyRemoved(l,p.entry))})};d.prototype.clearAll=function(){var d=this;this._db.forEach(function(h,l){d._notifyRemoved(l,h.entry)});
this._size=0;this._db.clear()};d.prototype._getHitRate=function(){return this._hit/(this._hit+this._miss)};d.prototype._notifyRemoved=function(d,p){this._removeFuncs.forEach(function(h){if(r.startsWith(d,h[0]))h[1](p)})};d.prototype._removeEntries=function(){var d=this;w.everyMap(this._db,function(h,l){d._db.delete(l);1>=h.lives?(d._size-=h.size,d._notifyRemoved(l,h.entry)):(--h.lives,d._db.set(l,h));return d._size>.9*d.maxSize})};return d}();y.MemCacheStorage=F})},"esri/core/iteratorUtils":function(){define(["require",
"exports"],function(F,y){Object.defineProperty(y,"__esModule",{value:!0});y.everyMap=Map.prototype.entries?function(w,l){w=w.entries();for(var r=w.next();!r.done;r=w.next())if(!1===l(r.value[1],r.value[0]))return!1;return!0}:function(w,l){var r=!0;w.forEach(function(d,h){r&&(r=!1!==l(d,h))});return r}})},"esri/core/PooledArray":function(){define(["require","exports","./tsSupport/generatorHelper","./arrayUtils","./HeapSort"],function(F,y,w,l,r){return function(){function d(d){var h=this;this.data=
[];this._length=0;this._allocator=null;this._deallocator=function(){};this._shrink=function(){};this._hint=new l.RemoveHint;d&&(d.initialSize&&(this.data=Array(d.initialSize)),d.allocator?(this._allocator=d.allocator,this._deallocator=d.deallocator):"deallocator"in d&&(this._deallocator=d.deallocator),d.shrink&&(this._shrink=function(){h.data.length>1.5*h.length&&(h.data.length=Math.floor(1.1*h.length))}))}d.prototype.toArray=function(){return this.data.slice(0,this.length)};Object.defineProperty(d.prototype,
"length",{get:function(){return this._length},set:function(d){if(d>this._length)if(this._allocator)for(;this._length<d;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=d;else{if(this._deallocator)for(var h=d;h<this._length;++h)this.data[h]=this._deallocator(this.data[h]);this._length=d;this._shrink()}},enumerable:!0,configurable:!0});d.prototype.clear=function(){this.length=0};d.prototype.prune=function(){this.clear();this.data=[]};d.prototype.equal=function(d){return l.equals(this.data,
d.data)};d.prototype.push=function(d){return this.data[this._length++]=d};d.prototype.pushArray=function(d,p){void 0===p&&(p=d.length);for(var h=0;h<p;h++)this.data[this._length++]=d[h];return this.back()};d.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));++this._length;return this.back()};d.prototype.pop=function(){if(0!==this.length){var d=this.data[this.length-1];--this.length;this._shrink();return d}};d.prototype.removeMany=function(d){var h=
this,l=[];this.data=this.data.filter(function(p,x){if(x>=h.length)return!1;if(0>d.indexOf(p))return!0;l.push(p);return!1});this._length=this.data.length;return l};d.prototype.iterableRemoveMany=function(d,p){var h,l;return w(this,function(x){switch(x.label){case 0:h=[],l=0,x.label=1;case 1:if(!(l<this.length)||l>=this.length)return[3,4];0>d.indexOf(this.data[l])&&h.push(this.data[l]);return p()?[4]:[3,3];case 2:x.sent(),x.label=3;case 3:return++l,[3,1];case 4:return this.data=h,this._length=this.data.length,
[2]}})};d.prototype.removeUnordered=function(d){d=l.removeUnordered(this.data,d,this.length,this._hint);void 0!==d&&--this.length;return d};d.prototype.removeUnorderedIndex=function(d){if(!(d>=this.length||0>d))return this.swapElements(d,this.length-1),this.pop()};d.prototype.removeUnorderedMany=function(d,p,r){void 0===p&&(p=d.length);this.length=l.removeUnorderedMany(this.data,d,this.length,p,this._hint,r)};d.prototype.front=function(){if(0!==this.length)return this.data[0]};d.prototype.back=function(){if(0!==
this.length)return this.data[this.length-1]};d.prototype.swapElements=function(d,p){var h;d>=this.length||p>=this.length||d===p||(h=[this.data[p],this.data[d]],this.data[d]=h[0],this.data[p]=h[1])};d.prototype.sort=function(d){r.sort(this.data,0,this.length,d)};d.prototype.iterableSort=function(d,p){return r.iterableSort(this.data,0,this.length,d,p)};d.prototype.some=function(d,p){for(var h=0;h<this.length;++h)if(d.call(p,this.data[h],h,this.data))return!0;return!1};d.prototype.find=function(d,p){for(var h=
0;h<this.length;++h){var l=this.data[h];if(d.call(p,l,h,this.data))return l}};d.prototype.filterInPlace=function(d,p){for(var h=0,l=0;l<this._length;++l){var x=this.data[l];d.call(p,x,l,this.data)&&(this.data[l]=this.data[h],this.data[h]=x,h++)}if(this._deallocator)for(l=h;l<this._length;l++)this.data[l]=this._deallocator(this.data[l]);this._length=h;return this};d.prototype.forEach=function(d,p){for(var h=this.length,l=0;l<Math.min(this.length,h);++l)d.call(p,this.data[l],l,this.data)};d.prototype.iterableForEach=
function(){var d;return w(this,function(h){switch(h.label){case 0:d=0,h.label=1;case 1:return d<this.length?[4,this.data[d]]:[3,4];case 2:h.sent(),h.label=3;case 3:return++d,[3,1];case 4:return[2]}})};d.prototype.map=function(d,p){for(var h=Array(this.length),l=0;l<this.length;++l)h[l]=d.call(p,this.data[l],l,this.data);return h};return d}()})},"esri/core/HeapSort":function(){define(["require","exports","./tsSupport/generatorHelper"],function(F,y,w){var l;(function(l){function d(d,h,l,x){for(var p=
h,v=l>>>1,r=d[p-1];h<=v;){h=p<<1;h<l&&0>x(d[h-1],d[h])&&++h;var D=d[h-1];if(0>=x(D,r))break;d[p-1]=D;p=h}d[p-1]=r}function h(d,h){return d<h?-1:d>h?1:0}l.sort=function(l,r,z,x){void 0===r&&(r=0);void 0===z&&(z=l.length);void 0===x&&(x=h);for(var p=z>>>1;p>r;p--)d(l,p,z,x);for(var v=r+1,p=z-1;p>r;p--)z=l[r],l[r]=l[p],l[p]=z,d(l,v,p,x)};l.iterableSort=function(l,r,z,x,C){var v,p,D;return w(this,function(g){switch(g.label){case 0:void 0===r&&(r=0),void 0===z&&(z=l.length),void 0===x&&(x=h),v=z>>>1,g.label=
1;case 1:if(!(v>r))return[3,4];d(l,v,z,x);return C&&C()?[4]:[3,3];case 2:g.sent(),g.label=3;case 3:return v--,[3,1];case 4:p=r+1,v=z-1,g.label=5;case 5:if(!(v>r))return[3,8];D=l[r];l[r]=l[v];l[v]=D;d(l,p,v,x);return C&&C()?[4]:[3,7];case 6:g.sent(),g.label=7;case 7:return v--,[3,5];case 8:return[2]}})}})(l||(l={}));return l})},"esri/symbols/support/previewUtils":function(){define(["require","exports"],function(F,y){Object.defineProperty(y,"__esModule",{value:!0});y.shapes={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],
pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],
invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",
path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],
tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};y.getPathSymbolShapes=function(w){var l=22,r=22;1>w?l*=.75:1<w&&(r*=1.25);return[{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[19.25,0]},{command:"L",values:[0,r-11]},{command:"L",values:[l-11,r-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[22,2.75]},{command:"L",
values:[l-11,22]},{command:"L",values:[l-11,r-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l-11,r-11]},{command:"L",values:[0,r-11]},{command:"L",values:[0,22]},{command:"L",values:[l-11,22]},{command:"Z",values:[]}]}]};y.getExtrudeSymbolShapes=function(w){w*=.5;return[{type:"path",path:[{command:"M",values:[0,.7*11]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+w]},{command:"L",values:[0,22*.7+w-.7*11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+w]},{command:"L",values:[22,w]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[0,.7*11]},{command:"Z",values:[]}]}]};y.getWaterSymbolShapes=function(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},
{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},
{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]};
y.getCubeShapes=function(w,l){var r=l?20:w,d=l?4:6,d=r=22>=r?r-.5*d:r-d;l=l?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[d,.5*l]},{command:"L",values:[.5*d,l]},{command:"L",values:[0,.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*l]},{command:"L",values:[.5*d,l]},{command:"L",values:[.5*d,w]},{command:"L",values:[0,w-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*d,l]},{command:"L",values:[.5*d,
w]},{command:"L",values:[d,w-.5*l]},{command:"L",values:[d,.5*l]},{command:"Z",values:[]}]}]};y.getCylinderShapes=function(w,l){var r=l?20:w;l=l?4:6;r=22>=r?r-.5*l:r-l;l=.5*r;var d=.15*r;w-=d;return[{type:"ellipse",cx:.5*r,cy:w,rx:l,ry:d},{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[0,w]},{command:"L",values:[r,w]},{command:"L",values:[r,d]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:d,rx:l,ry:d}]};y.getConeShapes=function(w,l){var r=l?20:w;l=l?4:6;r=22>=r?r-.5*l:r-
l;l=.15*r;var d=r;w-=l;return[{type:"ellipse",cx:.5*r,cy:w,rx:.5*r,ry:l},{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[d,w]},{command:"L",values:[0,w]},{command:"Z",values:[]}]}]};y.getInvertedConeShapes=function(w){var l=w,l=22>l?l-3:l-6,r=.15*l,d=l;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[d,0]},{command:"L",values:[.5*d,w-r]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*l,cy:0,rx:.5*l,ry:r}]};y.getDiamondShapes=function(w){var l=w,l=22>
l?l-2:l-4,r=Math.floor(w/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*l,0]},{command:"L",values:[l,.5*w-r]},{command:"L",values:[.45*l-r,.5*w+r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*l,0]},{command:"L",values:[.45*l-r,.5*w+r]},{command:"L",values:[0,.5*w-r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*w-r]},{command:"L",values:[.45*l-r,.5*w+r]},{command:"L",values:[.45*l,w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[.45*l,w]},{command:"L",values:[l,.5*w-r]},{command:"L",values:[.45*l-r,.5*w+r]},{command:"Z",values:[]}]}]};y.getTetrahedronShapes=function(w){var l=w,l=22>l?l-1:l-2;return[{type:"path",path:[{command:"M",values:[.45*w,0]},{command:"L",values:[w,l]},{command:"L",values:[.45*w,.6*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*w,0]},{command:"L",values:[.45*w,.6*l]},{command:"L",values:[0,l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,l]},
{command:"L",values:[.45*w,.6*l]},{command:"L",values:[w,l]},{command:"Z",values:[]}]}]}})},"esri/symbols/support/renderUtils":function(){define("require exports dojox/gfx dojox/gfx/matrix ../../kernel ../../request ../../core/colorUtils ../../core/Error ../../core/has ../../core/promiseUtils".split(" "),function(F,y,w,l,r,d,h,p,I,z){function x(d){return d.map(function(d){return d.command+" "+d.values.join(",")}).join(" ").trim()}function C(d,h,g,q){var v=q&&q.node||document.createElement("div"),
p=w.createSurface(v,h,g);null!=q.opacity&&(v.style.opacity=q.opacity.toString());try{d.forEach(function(d){var v=p.createGroup(),r=0;d.forEach(function(g){var d=g.shape,n=g.fill,q=g.stroke;r+=q&&q.width||0;var h=null;d&&("path"===d.type&&"string"!==typeof d.path&&(d.path=x(d.path)),h=v.createShape(d).setFill(n).setStroke(q?q:{width:0}),"text"===d.type&&h.setFont(g.font))});d=h/2;var n=g/2,E=v.getBoundingBox(),C=E.width,D=E.height,z=!1;if(q.scale&&0!==E.width&&0!==E.height){var H=E.width/E.height,
z=(h>g?h:g)-2*r,N=1,w=1;isNaN(z)||(1<H?(N=z/E.width,w=z/H/E.height):(w=z/E.height,N=z*H/E.width));v.applyTransform(l.scaleAt(N,w,d,n));z=!0}H=E.x+C/2;E=E.y+D/2;v.applyTransform(l.translate(d-H,n-E));!z&&(C>h||D>g)&&(z=C/h>D/g,C=((z?h:g)-5)/(z?C:D),v.applyTransform(l.scaleAt(C,C,d,n)));q.rotation&&v.applyTransform(l.rotategAt(q.rotation,H,E))})}catch(T){return p.clear(),p.destroy(),null}return v}function v(h,v,g){return h?d(h,{responseType:"image"}).then(function(d){d=d.data;var q=d.width,h=d.height,
l=q/h,p=v;g&&(p=Math.min(p,Math.max(q,h)));return{image:d,width:1>=l?Math.ceil(p*l):p,height:1>=l?p:Math.ceil(p/l)}}):z.reject(new p("renderUtils: imageDataSize","href not provided."))}Object.defineProperty(y,"__esModule",{value:!0});y.renderSymbol=function(d,h,g){var q=Math.ceil(h[0]);h=Math.ceil(h[1]);return d.some(function(g){return!!g.length})?C(d,q,h,g):null};y.tintImageWithColor=function(d,l,g,q,p){return v(d,l,p).then(function(v){var p=v.width?v.width:l,x=v.height?v.height:l,E;if(E=v.image)E=
g&&"ignore"!==q?"multiply"===q&&255===g.r&&255===g.g&&255===g.b&&1===g.a?!1:!0:!1;if(E){var n=v.image.width,C=v.image.height;(I("edge")||I("ie"))&&/\.svg$/i.test(d)&&(--n,--C);var D,z;D=Math.ceil(p);z=Math.ceil(x);E=document.createElement("canvas");E.width=D;E.height=z;E.style.width=D+"px";E.style.height=z+"px";E=E.getContext("2d");E.clearRect(0,0,D,z);E.drawImage(v.image,0,0,n,C,0,0,p,x);v=E.getImageData(0,0,p,x);n=[g.r/255,g.g/255,g.b/255,g.a];C=h.toHSV(g);for(D=0;D<v.data.length;D+=4){z=v.data;
var H=D,N=n,w=C;switch(q){case "multiply":z[H+0]*=N[0];z[H+1]*=N[1];z[H+2]*=N[2];z[H+3]*=N[3];break;default:var y=h.toHSV({r:z[H+0],g:z[H+1],b:z[H+2]});y.h=w.h;y.s=w.s;y.v=y.v/100*w.v;w=h.toRGB(y);z[H+0]=w.r;z[H+1]=w.g;z[H+2]=w.b;z[H+3]*=N[3]}}E.putImageData(v,0,0);d=E.canvas.toDataURL("image/png")}else(E=r.id&&r.id.findCredential(d))&&E.token&&(v=-1===d.indexOf("?")?"?":"\x26",d=""+d+v+"token\x3d"+E.token);return{url:d,width:p,height:x}}).catch(function(){return{url:d,width:l,height:l}})}})},"dojox/gfx":function(){define(["dojo/_base/lang",
"./gfx/_base","./gfx/renderer!"],function(F,y,w){y.switchTo(w);return y})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(F,y,w,l,r,d,h,p,I){var z=y.getObject("dojox.gfx",!0),x=z._base={};z._hasClass=function(g,d){return(g=g.getAttribute("className"))&&0<=(" "+g+" ").indexOf(" "+d+" ")};z._addClass=function(g,d){var q=g.getAttribute("className")||
"";(!q||0>(" "+q+" ").indexOf(" "+d+" "))&&g.setAttribute("className",q+(q?" ":"")+d)};z._removeClass=function(g,d){var q=g.getAttribute("className");q&&g.setAttribute("className",q.replace(new RegExp("(^|\\s+)"+d+"(\\s+|$)"),"$1$2"))};x._getFontMeasurements=function(){var g={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},d,h;l("ie")&&(h=r.doc.documentElement.style.fontSize||"",h||(r.doc.documentElement.style.fontSize="100%"));
var v=p.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},r.body());for(d in g)v.style.fontSize=d,g[d]=16*Math.round(12*v.offsetHeight/16)/12/1E3;l("ie")&&(r.doc.documentElement.style.fontSize=h);r.body().removeChild(v);return g};var C=null;x._getCachedFontMeasurements=function(g){if(g||!C)C=x._getFontMeasurements();return C};var v=null,H={};x._getTextBox=function(g,d,
h){var q,l,x=arguments.length,n;v||(v=p.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},r.body()));q=v;q.className="";l=q.style;l.borderWidth="0";l.margin="0";l.padding="0";l.outline="0";if(1<x&&d)for(n in d)n in H||(l[n]=d[n]);2<x&&h&&(q.className=h);q.innerHTML=g;q.getBoundingClientRect?(l=q.getBoundingClientRect(),l={l:l.left,t:l.top,w:l.width||l.right-l.left,h:l.height||l.bottom-l.top}):l=I.getMarginBox(q);q.innerHTML="";return l};x._computeTextLocation=
function(g,d,h,v){var q={};switch(g.align){case "end":q.x=g.x-d;break;case "middle":q.x=g.x-d/2;break;default:q.x=g.x}q.y=g.y-h*(v?.75:1);return q};x._computeTextBoundingBox=function(g){if(!z._base._isRendered(g))return{x:0,y:0,width:0,height:0};var d;d=g.getShape();var q=g.getFont()||z.defaultFont;g=g.getTextWidth();q=z.normalizedLength(q.size);d=x._computeTextLocation(d,g,q,!0);return{x:d.x,y:d.y,width:g,height:q}};x._isRendered=function(g){for(g=g.parent;g&&g.getParent;)g=g.parent;return null!==
g};var D=0;x._getUniqueId=function(){var g;do g=F._scopeName+"xUnique"+ ++D;while(h.byId(g));return g};var g=l("pointer-events")?"touchAction":null;x._fixMsTouchAction=g?function(d){d.rawNode.style[g]="none"}:function(){};y.mixin(z,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,
y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",
cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var g={};return function(d){var q=g[d];if(q)return new q;q=g[d]=new Function;q.prototype=z["default"+d];return new q}}(),normalizeColor:function(g){return g instanceof w?g:new w(g)},normalizeParameters:function(g,d){var q;if(d){var h={};for(q in g)q in
d&&!(q in h)&&(g[q]=d[q])}return g},makeParameters:function(g,d){var q=null;if(!d)return y.delegate(g);var h={};for(q in g)q in h||(h[q]=y.clone(q in d?d[q]:g[q]));return h},formatNumber:function(g,d){var q=g.toString();if(0<=q.indexOf("e"))q=g.toFixed(4);else{var h=q.indexOf(".");0<=h&&5<q.length-h&&(q=g.toFixed(4))}return 0>g?q:d?" "+q:q},makeFontString:function(g){return g.style+" "+g.variant+" "+g.weight+" "+g.size+" "+g.family},splitFontString:function(g){var d=z.getDefault("Font");g=g.split(/\s+/);
if(!(5>g.length)){d.style=g[0];d.variant=g[1];d.weight=g[2];var q=g[3].indexOf("/");d.size=0>q?g[3]:g[3].substring(0,q);var h=4;0>q&&("/"==g[4]?h=6:"/"==g[4].charAt(0)&&(h=5));h<g.length&&(d.family=g.slice(h).join(" "))}return d},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return z._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(g){return g*z.px_in_pt()},px2pt:function(g){return g/z.px_in_pt()},normalizedLength:function(g){if(0===g.length)return 0;if(2<g.length){var d=z.px_in_pt(),
q=parseFloat(g);switch(g.slice(-2)){case "px":return q;case "pt":return q*d;case "in":return 72*q*d;case "pc":return 12*q*d;case "mm":return q*z.mm_in_pt*d;case "cm":return q*z.cm_in_pt*d}}return parseFloat(g)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(g,d){return g&&d&&g===d},switchTo:function(g){var q="string"==typeof g?z[g]:g;q&&(d.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
function(g){z[g]=q[g]}),"string"==typeof g?z.renderer=g:d.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(g){return z.renderer=z[g]&&z[g].Surface===z.Surface?g:null}))}});return z})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(F,y,w,l,r){var d=null;w.add("vml",function(d,l,r){r.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';d="adj"in r.firstChild;r.innerHTML="";return d});return{load:function(h,
p,I){function z(){p(["dojox/gfx/"+x],function(h){F.renderer=x;d=h;I(h)})}if(d&&"force"!=h)I(d);else{var x=r.forceGfxRenderer;h=!x&&(y.isString(r.gfxRenderer)?r.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var C,v;!x&&h.length;)switch(h.shift()){case "svg":"SVGAngle"in l.global&&(x="svg");break;case "vml":w("vml")&&(x="vml");break;case "silverlight":try{w("ie")?(C=new ActiveXObject("AgControl.AgControl"),C.IsVersionSupported("1.0"))&&(v=!0):navigator.plugins["Silverlight Plug-In"]&&(v=
!0)}catch(H){v=!1}finally{C=null}v&&(x="silverlight");break;case "canvas":l.global.CanvasRenderingContext2D&&(x="canvas")}"canvas"===x&&!1!==r.canvasEvents&&(x="canvasWithEvents");r.isDebug&&console.log("gfx renderer \x3d "+x);"svg"==x&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(z):z()}}}})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(F,y){var w=F.matrix={},l={};w._degToRad=function(r){return l[r]||(l[r]=Math.PI*r/180)};w._radToDeg=function(l){return l/
Math.PI*180};w.Matrix2D=function(l){if(l)if("number"==typeof l)this.xx=this.yy=l;else if(l instanceof Array){if(0<l.length){for(var d=w.normalize(l[0]),h=1;h<l.length;++h){var p=d,r=w.normalize(l[h]),d=new w.Matrix2D;d.xx=p.xx*r.xx+p.xy*r.yx;d.xy=p.xx*r.xy+p.xy*r.yy;d.yx=p.yx*r.xx+p.yy*r.yx;d.yy=p.yx*r.xy+p.yy*r.yy;d.dx=p.xx*r.dx+p.xy*r.dy+p.dx;d.dy=p.yx*r.dx+p.yy*r.dy+p.dy}y.mixin(this,d)}}else y.mixin(this,l)};y.extend(w.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});y.mixin(w,{identity:new w.Matrix2D,
flipX:new w.Matrix2D({xx:-1}),flipY:new w.Matrix2D({yy:-1}),flipXY:new w.Matrix2D({xx:-1,yy:-1}),translate:function(l,d){return 1<arguments.length?new w.Matrix2D({dx:l,dy:d}):new w.Matrix2D({dx:l.x,dy:l.y})},scale:function(l,d){return 1<arguments.length?new w.Matrix2D({xx:l,yy:d}):"number"==typeof l?new w.Matrix2D({xx:l,yy:l}):new w.Matrix2D({xx:l.x,yy:l.y})},rotate:function(l){var d=Math.cos(l);l=Math.sin(l);return new w.Matrix2D({xx:d,xy:-l,yx:l,yy:d})},rotateg:function(l){return w.rotate(w._degToRad(l))},
skewX:function(l){return new w.Matrix2D({xy:Math.tan(l)})},skewXg:function(l){return w.skewX(w._degToRad(l))},skewY:function(l){return new w.Matrix2D({yx:Math.tan(l)})},skewYg:function(l){return w.skewY(w._degToRad(l))},reflect:function(l,d){1==arguments.length&&(d=l.y,l=l.x);var h=l*l,p=d*d,r=h+p,z=2*l*d/r;return new w.Matrix2D({xx:2*h/r-1,xy:z,yx:z,yy:2*p/r-1})},project:function(l,d){1==arguments.length&&(d=l.y,l=l.x);var h=l*l,p=d*d,r=h+p,z=l*d/r;return new w.Matrix2D({xx:h/r,xy:z,yx:z,yy:p/r})},
normalize:function(l){return l instanceof w.Matrix2D?l:new w.Matrix2D(l)},isIdentity:function(l){return 1==l.xx&&0==l.xy&&0==l.yx&&1==l.yy&&0==l.dx&&0==l.dy},clone:function(l){var d=new w.Matrix2D,h;for(h in l)"number"==typeof l[h]&&"number"==typeof d[h]&&d[h]!=l[h]&&(d[h]=l[h]);return d},invert:function(l){l=w.normalize(l);var d=l.xx*l.yy-l.xy*l.yx;return l=new w.Matrix2D({xx:l.yy/d,xy:-l.xy/d,yx:-l.yx/d,yy:l.xx/d,dx:(l.xy*l.dy-l.yy*l.dx)/d,dy:(l.yx*l.dx-l.xx*l.dy)/d})},_multiplyPoint:function(l,
d,h){return{x:l.xx*d+l.xy*h+l.dx,y:l.yx*d+l.yy*h+l.dy}},multiplyPoint:function(l,d,h){l=w.normalize(l);return"number"==typeof d&&"number"==typeof h?w._multiplyPoint(l,d,h):w._multiplyPoint(l,d.x,d.y)},multiplyRectangle:function(l,d){var h=w.normalize(l);d=d||{x:0,y:0,width:0,height:0};if(w.isIdentity(h))return{x:d.x,y:d.y,width:d.width,height:d.height};l=w.multiplyPoint(h,d.x,d.y);var p=w.multiplyPoint(h,d.x,d.y+d.height),r=w.multiplyPoint(h,d.x+d.width,d.y);d=w.multiplyPoint(h,d.x+d.width,d.y+d.height);
var h=Math.min(l.x,p.x,r.x,d.x),z=Math.min(l.y,p.y,r.y,d.y);return{x:h,y:z,width:Math.max(l.x,p.x,r.x,d.x)-h,height:Math.max(l.y,p.y,r.y,d.y)-z}},multiply:function(l){for(var d=w.normalize(l),h=1;h<arguments.length;++h){var p=d,r=w.normalize(arguments[h]),d=new w.Matrix2D;d.xx=p.xx*r.xx+p.xy*r.yx;d.xy=p.xx*r.xy+p.xy*r.yy;d.yx=p.yx*r.xx+p.yy*r.yx;d.yy=p.yx*r.xy+p.yy*r.yy;d.dx=p.xx*r.dx+p.xy*r.dy+p.dx;d.dy=p.yx*r.dx+p.yy*r.dy+p.dy}return d},_sandwich:function(l,d,h){return w.multiply(w.translate(d,
h),l,w.translate(-d,-h))},scaleAt:function(l,d,h,p){switch(arguments.length){case 4:return w._sandwich(w.scale(l,d),h,p);case 3:return"number"==typeof h?w._sandwich(w.scale(l),d,h):w._sandwich(w.scale(l,d),h.x,h.y)}return w._sandwich(w.scale(l),d.x,d.y)},rotateAt:function(l,d,h){return 2<arguments.length?w._sandwich(w.rotate(l),d,h):w._sandwich(w.rotate(l),d.x,d.y)},rotategAt:function(l,d,h){return 2<arguments.length?w._sandwich(w.rotateg(l),d,h):w._sandwich(w.rotateg(l),d.x,d.y)},skewXAt:function(l,
d,h){return 2<arguments.length?w._sandwich(w.skewX(l),d,h):w._sandwich(w.skewX(l),d.x,d.y)},skewXgAt:function(l,d,h){return 2<arguments.length?w._sandwich(w.skewXg(l),d,h):w._sandwich(w.skewXg(l),d.x,d.y)},skewYAt:function(l,d,h){return 2<arguments.length?w._sandwich(w.skewY(l),d,h):w._sandwich(w.skewY(l),d.x,d.y)},skewYgAt:function(l,d,h){return 2<arguments.length?w._sandwich(w.skewYg(l),d,h):w._sandwich(w.skewYg(l),d.x,d.y)}});F.Matrix2D=w.Matrix2D;return w})},"esri/core/colorUtils":function(){define(["require",
"exports"],function(F,y){function w(d,h){var l=[],p,x;if(d[0].length!==h.length)throw"dimensions do not match";var g=d.length,q=d[0].length,r=0;for(p=0;p<g;p++){for(x=r=0;x<q;x++)r+=d[p][x]*h[x];l.push(r)}return l}function l(d){d=[d.r/255,d.g/255,d.b/255].map(function(d){return.04045>=d?d/12.92:Math.pow((d+.055)/1.055,2.4)});d=w(I,d);return{x:100*d[0],y:100*d[1],z:100*d[2]}}function r(d){d=w(z,[d.x/100,d.y/100,d.z/100]).map(function(d){return Math.min(1,Math.max(.0031308>=d?12.92*d:1.055*Math.pow(d,
1/2.4)-.055,0))});return{r:Math.round(255*d[0]),g:Math.round(255*d[1]),b:Math.round(255*d[2])}}function d(d){d=[d.x/95.047,d.y/100,d.z/108.883].map(function(d){return d>Math.pow(6/29,3)?Math.pow(d,1/3):1/3*Math.pow(29/6,2)*d+4/29});return{l:116*d[1]-16,a:500*(d[0]-d[1]),b:200*(d[1]-d[2])}}function h(d){var h=d.l;d=[(h+16)/116+d.a/500,(h+16)/116,(h+16)/116-d.b/200].map(function(d){return d>6/29?Math.pow(d,3):3*Math.pow(6/29,2)*(d-4/29)});return{x:95.047*d[0],y:100*d[1],z:108.883*d[2]}}function p(d){if("r"in
d&&"g"in d&&"b"in d)return d;if("l"in d&&"c"in d&&"h"in d){var l=d.c,v=d.h;return r(h({l:d.l,a:l*Math.cos(v),b:l*Math.sin(v)}))}if("l"in d&&"a"in d&&"b"in d)return r(h(d));if("x"in d&&"y"in d&&"z"in d)return r(d);if("h"in d&&"s"in d&&"v"in d){v=(d.h+360)%360/60;l=d.v/100*255;d=d.s/100*l;var p=d*(1-Math.abs(v%2-1));switch(Math.floor(v)){case 0:v={r:d,g:p,b:0};break;case 1:v={r:p,g:d,b:0};break;case 2:v={r:0,g:d,b:p};break;case 3:v={r:0,g:p,b:d};break;case 4:v={r:p,g:0,b:d};break;case 5:case 6:v={r:d,
g:0,b:p};break;default:v={r:0,g:0,b:0}}v.r=Math.round(v.r+l-d);v.g=Math.round(v.g+l-d);v.b=Math.round(v.b+l-d);return v}}Object.defineProperty(y,"__esModule",{value:!0});var I=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],z=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];y.toRGB=p;y.toHSV=function(d){if("h"in d&&"s"in d&&"v"in d)return d;var h=p(d);d=h.r;var l=h.g,h=h.b,x=Math.max(d,l,h),r=x-Math.min(d,l,h),g;0===r?g=0:x===d?g=(l-h)/r%6:x===l?g=(h-d)/r+2:x===h&&
(g=(d-l)/r+4);0>g&&(g+=6);return{h:60*g,s:100*(0===r?0:r/x),v:100/255*x}};y.toLAB=function(h){return"l"in h&&"a"in h&&"b"in h?h:d(l(p(h)))};y.toLCH=function(h){if(!("l"in h&&"c"in h&&"h"in h)){var x=d(l(p(h)));h=x.l;var v=x.a,r=x.b,x=Math.sqrt(v*v+r*r),v=Math.atan2(r,v),v=0<v?v:v+2*Math.PI;h={l:h,c:x,h:v}}return h};y.toXYZ=function(d){return"x"in d&&"y"in d&&"z"in d?d:l(p(d))}})},"esri/symbols/support/previewSymbol3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/colorUtils ../../core/compilerUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./IconSymbol3DLayerResource ./ObjectSymbol3DLayerResource ./previewUtils ./renderUtils ./styleUtils ./utils".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v,H,D,g,q){function E(g){var d=g.outline,e=p.isSome(g.material)?g.material.color:null,e=p.isSome(e)?e.toRgba().toString():null;if(p.isNone(d))return"fill"===g.type&&"255,255,255,1"===e?{color:"#bdc3c7",width:.75}:null;g=z.pt2px(d.size)||0;return{color:"rgba("+(p.isSome(d.color)?d.color.toRgba():"255,255,255,1")+")",width:Math.min(g,80)}}function N(d,n){var e=n&&n.resource,e=e&&e.href;return d.thumbnail&&d.thumbnail.url?I.resolve(d.thumbnail.url):e&&"object"!==n.type?
I.resolve(q.getIconHref(d,n)):d.styleOrigin&&(d.styleOrigin.styleName||d.styleOrigin.styleUrl)?g.resolveWebStyleSymbol(d.styleOrigin,{portal:d.styleOrigin.portal},"webRef").catch(function(e){return e}).then(function(e){return e&&e.thumbnail&&e.thumbnail.url||Z}):I.resolve(Z)}function T(g,d){void 0===d&&(d=1);var e=g.a;g=l.toHSV(g);d=l.toRGB({h:g.h,s:g.s/d,v:100-(100-g.v)/d});return[d.r,d.g,d.b,e]}function M(g,d){return Math.round(Math.min(Math.max(g+191.25*d,0),255))}function K(g){return"water"===
g.type?p.isNone(g.color)?null:g.color:p.isNone(g.material)||p.isNone(g.material.color)?null:g.material.color}function n(g,d){void 0===d&&(d=0);g=K(g);if(!g)return d=M(x.defaultThematicColor.r,d),[d,d,d,100];g=g.toRgba();for(var e=0;3>e;e++)g[e]=M(g[e],d);return g}function J(g){return g.outline?E(g):{color:"rgba(0, 0, 0, 1)",width:1.5}}function L(g,d){g=K(g);if(!g)return null;var e;e="rgba("+(M(g.r,d)+",");e+=M(g.g,d)+",";e+=M(g.b,d)+",";return e+g.a+");"}function O(g,d){d=L(g,d);if(!d)return{};g=
Math.min(g.size?z.pt2px(g.size):.75,80);return{color:d,width:g}}function R(g,d,e){e*=.75;return{type:"linear",x1:e?.25*e:0,y1:e?.5*e:0,x2:e||4,y2:e?.5*e:4,colors:[{color:g,offset:0},{color:d,offset:1}]}}function S(g){var d=g.depth,e=g.height;return(g=g.width)&&d&&e&&g===d&&g<e}function V(g,d,e){var q=[];if(!g)return q;switch(g.type){case "icon":var t=g.resource&&g.resource.primitive||C.defaultPrimitive;switch(t){case "circle":q.push({shape:{type:"circle",cx:0,cy:0,r:.5*d},fill:n(g,0),stroke:E(g)});
break;case "square":q.push({shape:{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[0,0]},{command:"L",values:[d,0]},{command:"L",values:[d,d]},{command:"Z",values:[]}]},fill:n(g,0),stroke:E(g)});break;case "triangle":q.push({shape:{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[.5*d,0]},{command:"L",values:[d,d]},{command:"Z",values:[]}]},fill:n(g,0),stroke:E(g)});break;case "cross":q.push({shape:{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[.5*
d,d]},{command:"M",values:[0,.5*d]},{command:"L",values:[d,.5*d]},{command:"E",values:[]}]},stroke:J(g)});break;case "x":q.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[d,d]},{command:"M",values:[d,0]},{command:"L",values:[0,d]},{command:"E",values:[]}]},stroke:J(g)});break;case "kite":q.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[.5*d,0]},{command:"L",values:[d,.5*d]},{command:"L",values:[.5*d,d]},{command:"Z",values:[]}]},fill:n(g,
0),stroke:E(g)});break;default:r.neverReached(t)}break;case "object":switch(t=g.resource&&g.resource.primitive||v.defaultPrimitive,t){case "cone":t=n(g,0);g=n(g,-.6);g=R(t,g,e?20:d);d=H.getConeShapes(d,e);q.push({shape:d[0],fill:g});q.push({shape:d[1],fill:g});break;case "inverted-cone":e=n(g,0);g=n(g,-.6);g=R(e,g,d);d=H.getInvertedConeShapes(d);q.push({shape:d[0],fill:g});q.push({shape:d[1],fill:e});break;case "cube":d=H.getCubeShapes(d,e);q.push({shape:d[0],fill:n(g,0)});q.push({shape:d[1],fill:n(g,
-.3)});q.push({shape:d[2],fill:n(g,-.5)});break;case "cylinder":var t=n(g,0),b=n(g,-.6),t=R(t,b,e?20:d);d=H.getCylinderShapes(d,e);q.push({shape:d[0],fill:t});q.push({shape:d[1],fill:t});q.push({shape:d[2],fill:n(g,0)});break;case "diamond":d=H.getDiamondShapes(d);q.push({shape:d[0],fill:n(g,-.3)});q.push({shape:d[1],fill:n(g,0)});q.push({shape:d[2],fill:n(g,-.3)});q.push({shape:d[3],fill:n(g,-.7)});break;case "sphere":e=n(g,0);g=n(g,-.6);g=R(e,g);g.x1=0;g.y1=0;g.x2=.25*d;g.y2=.25*d;q.push({shape:{type:"circle",
cx:0,cy:0,r:.5*d},fill:g});break;case "tetrahedron":d=H.getTetrahedronShapes(d);q.push({shape:d[0],fill:n(g,-.3)});q.push({shape:d[1],fill:n(g,0)});q.push({shape:d[2],fill:n(g,-.6)});break;default:r.neverReached(t)}}return q}function da(g,d){var e=d&&d.size?z.pt2px(d.size):null,n=d&&d.maxSize?z.pt2px(d.maxSize):null,t=d&&d.disableUpsampling,b=g.symbolLayers,a=[],c=0,f=0,k=b.getItemAt(b.length-1),m;k&&"icon"===k.type&&(m=k.size&&z.pt2px(k.size));b.forEach(function(b,k){if("icon"===b.type||"object"===
b.type){k="icon"===b.type?b.size&&z.pt2px(b.size):0;var u=e||k?Math.ceil(Math.min(e||k,n||120)):22,A="icon"===b.type?E(b):null,Y=A?A.width:0;b&&b.resource&&b.resource.href?(k=N(g,b).then(function(a){var c=b.get("material.color"),f;f="icon"===b.type?"multiply":"tint";return D.tintImageWithColor(a,u,c,f,t)}).then(function(a){var b=a.width,k=a.height;c=Math.max(c,b+Y+1);f=Math.max(f,k+Y+1);return[{shape:{type:"image",x:0,y:0,width:b,height:k,src:a.url},fill:null,stroke:null}]}),a.unshift(k)):(A=u,"icon"===
b.type&&m&&e&&(A=k/m*u),k=d&&"tall"===d.symbolConfig||("object"===b.type?S(b):!1),c=Math.max(c,k?20:A+Y+1),f=Math.max(f,A+Y+1),a.unshift(I.resolve(V(b,A,k))))}});return I.eachAlways(a).then(function(a){var b=[];a.forEach(function(a){a.value?b.push(a.value):a.error&&W.warn("error while building swatchInfo!",a.error)});return D.renderSymbol(b,[c,f],{node:d&&d.node,scale:!1,opacity:d&&d.opacity})})}function U(g,d){var e=g.symbolLayers,h=[];g=q.isVolumetricSymbol(g);var t=d&&d.size?z.pt2px(d.size):null,
b=(d&&d.maxSize?z.pt2px(d.maxSize):null)||80,a=0,c=0,f;e.forEach(function(k,m){if(k&&("line"===k.type||"path"===k.type)){var e=[];switch(k.type){case "line":var A=O(k,0),B=A&&A.width||0;0===m&&(f=B);var P=Math.min(t||B,b);m=0===m?P:t?B/f*P:P;c=Math.max(c,m);a=Math.max(a,22<m?m+1:40);A.width=m;e.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[a,.5*c]},{command:"E",values:[]}]},stroke:A});break;case "path":m=Math.min(t||22,b);B=n(k,0);P=n(k,-.2);A=(A=L(k,-.4))?{color:A,
width:1}:{};if("quad"===k.profile){var g=k.width||k.size;k=k.height||k.size;k=H.getPathSymbolShapes(g&&k?g/k:1);g=w({},A,{join:"bevel"});e.push({shape:k[0],fill:P,stroke:g});e.push({shape:k[1],fill:P,stroke:g});e.push({shape:k[2],fill:B,stroke:g})}else e.push({shape:H.shapes.pathSymbol3DLayer[0],fill:P,stroke:A}),e.push({shape:H.shapes.pathSymbol3DLayer[1],fill:B,stroke:A});a=c=Math.max(c,m+(A.width||0)+1)}h.push(e)}});return I.resolve(D.renderSymbol(h,[a,c],{node:d&&d.node,scale:g,opacity:d&&d.opacity}))}
Object.defineProperty(y,"__esModule",{value:!0});var Z=F.toUrl("../../images/Legend/legend3dsymboldefault.png"),W=h.getLogger("esri.symbols.support.previewSymbol3D");y.getSymbolLayerFill=n;y.previewSymbol3D=function(g,q){if(0===g.symbolLayers.length)return I.reject(new d("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var e=null;switch(g.type){case "point-3d":e=da(g,q);break;case "line-3d":e=U(g,q);break;case "polygon-3d":case "mesh-3d":e="mesh-3d"===g.type;g=g.symbolLayers;
for(var h=q&&q.size?z.pt2px(q.size):null,t=q&&q.maxSize?z.pt2px(q.maxSize):null,h=h||22,b=[],a=0,c=0,f=!1,k=0;k<g.length;k++){var m=g.getItemAt(k),u=[];if(!e||"fill"===m.type){var A=H.shapes.fill[0];switch(m.type){case "fill":var B=E(m),f=B&&B.width||0,P=Math.min(h,t||120),a=Math.max(a,P+f),c=Math.max(c,P+f),f=!0;u.push({shape:A,fill:n(m,0),stroke:B});break;case "line":m=(B=O(m,0))&&B.width||0;A={stroke:B,shape:A};a=Math.max(a,22+m);c=Math.max(c,22+m);u.push(A);break;case "extrude":var B=w({join:"round"},
O(m,-.4)),A=n(m,0),m=n(m,-.2),P=Math.min(h,t||120),Y=H.getExtrudeSymbolShapes(P);B.width=1;u.push({shape:Y[0],fill:m,stroke:B});u.push({shape:Y[1],fill:m,stroke:B});u.push({shape:Y[2],fill:A,stroke:B});A=22*.7+.5*P;a=Math.max(a,22+B.width+1);c=Math.max(c,A+B.width+1);break;case "water":f=K(m),A=T(f),m=T(f,2),B=T(f,3),P=H.getWaterSymbolShapes(),f=!0,u.push({shape:P[0],fill:A}),u.push({shape:P[1],fill:m}),u.push({shape:P[2],fill:B}),P=Math.min(h,t||120),a=Math.max(a,P),c=Math.max(c,P)}b.push(u)}}e=
I.resolve(D.renderSymbol(b,[a,c],{node:q&&q.node,scale:f,opacity:q&&q.opacity}))}return e?e:I.reject(new d("symbolPreview: swatchInfo3D","symbol not supported."))}})},"esri/symbols/support/utils":function(){define("require exports ../../Color ../../symbols ../../core/compilerUtils ../../core/has ../../core/Logger ../../core/maybe ../../core/screenUtils ./gfxUtils ./Symbol3DMaterial".split(" "),function(F,y,w,l,r,d,h,p,I,z,x){function C(g,d){if(null==d)return g;g=g.toRgba();g[3]*=d;return new w(g)}
function v(g,d,h){if(g=g.symbolLayers){var l=function(g){g=p.isSome(g)?g:null;d=d||g||null!=h&&q;return C(d,h)};g.forEach(function(g){if("water"===g.type)g.color=l(g.color);else{var d=p.isSome(g.material)?g.material.color:null,d=l(d);p.isNone(g.material)?g.material=new x.default({color:d}):g.material.color=d;null!=h&&"outline"in g&&p.isSome(g.outline)&&p.isSome(g.outline.color)&&(g.outline.color=C(g.outline.color,h))}})}}function H(g,d,q){(g=g.symbolLayers)&&g.forEach(function(g){if(g)switch(g.type){case "icon":case "line":case "path":case "extrude":case "text":g.size=
d;break;case "object":switch(q){case "width":g.width=d;break;case "depth":g.depth=d;break;case "height":g.height=d;break;case "width-and-depth":g.width=d;g.depth=d;break;default:g.width=d,g.depth=d,g.height=d}break;default:D.warn("symbolUtils: applySizeToSymbol","symbolLayer not supported")}})}Object.defineProperty(y,"__esModule",{value:!0});var D=h.getLogger("esri.symbols.support.utils"),g=/\/resource\/(.*?)\.svg$/,q=new w("white");y.getSymbolOutlineSize=function(g){if(!g)return 0;if(l.isSymbol3D(g)){var d=
g.symbolLayers&&g.symbolLayers.length;d?(g=g.symbolLayers.getItemAt(d-1),g="outline"in g?p.get(g,"outline","size"):void 0):g=void 0;return p.isSome(g)?g:0}return(g=z.getStroke(g))&&I.px2pt(g.width)||0};y.isVolumetricSymbol=function(g){if(!g||!g.symbolLayers)return!1;switch(g.type){case "point-3d":return g.symbolLayers.some(function(g){return"object"===g.type});case "line-3d":return g.symbolLayers.some(function(g){return"path"===g.type});case "polygon-3d":return g.symbolLayers.some(function(g){return"object"===
g.type||"extrude"===g.type});default:return!1}};y.getIconHref=function(q,h){h=h.resource.href;return!d("esri-canvas-svg-support")&&q.styleOrigin&&g.test(h)?h.replace(g,"/resource/png/$1.png"):h};y.applyOpacityToColor=C;y.applyColorToSymbol=function(g,d,q){if(g&&(d||null!=q))if(d&&(d=new w(d)),l.isSymbol3D(g))v(g,d,q);else if(l.isSymbol2D(g)){if(d=d||g.color)g.color=C(d,q);null!=q&&"outline"in g&&g.outline&&g.outline.color&&(g.outline.color=C(g.outline.color,q))}};y.applySizeToSymbol=function(g,d,
q){if(g&&null!=d)if(l.isSymbol3D(g))H(g,d,q);else if(l.isSymbol2D(g))switch(g.type){case "simple-marker":g.size=d;break;case "picture-marker":q=g.width/g.height;1<q?(g.width=d,g.height=d*q):(g.width=d*q,g.height=d);break;case "simple-line":g.width=d;break;case "text":g.font.size=d;break;case "simple-fill":case "picture-fill":break;case "cim":break;default:r.neverReached(g)}};y.applyRotationToSymbol=function(g,d,q){g&&null!=d&&(l.isSymbol3D(g)?(g=g.symbolLayers)&&g.forEach(function(g){if(g&&"object"===
g.type)switch(q){case "tilt":g.tilt=d;break;case "roll":g.roll=d;break;default:g.heading=d}}):!l.isSymbol2D(g)||"simple-marker"!==g.type&&"picture-marker"!==g.type&&"text"!==g.type||(g.angle=d))}})},"esri/symbols/support/previewWebStyleSymbol":function(){define(["require","exports","../../request","../../core/screenUtils"],function(F,y,w,l){Object.defineProperty(y,"__esModule",{value:!0});y.previewWebStyleSymbol=function(r,d,h){var p=r.thumbnail&&r.thumbnail.url;return p?w(p,{responseType:"image"}).then(function(d){d=
d.data;var p=!/\\.svg$/i.test(d.src)&&h&&h.disableUpsampling,x=Math.max(d.width,d.height),r=h&&null!=h.maxSize?l.pt2px(h.maxSize):120;p&&(r=Math.min(x,r));p=Math.min(r,h&&null!=h.size?l.pt2px(h.size):x);p!==x&&(x=0!==d.width&&0!==d.height?d.width/d.height:1,1<=x?(d.width=p,d.height=p/x):(d.width=p*x,d.height=p));return h&&h.node?(h.node.appendChild(d),h.node):d}):r.fetchSymbol().then(function(l){return d(l,h)})}})},"esri/widgets/FeatureTemplates/TemplateItemGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d,h){return function(d){function p(h){h=d.call(this)||this;h.items=null;h.label=null;return h}w(p,d);l([h.property()],p.prototype,"items",void 0);l([h.property()],p.prototype,"label",void 0);return p=l([h.subclass("esri.widgets.FeatureTemplates.TemplateItemGroup")],p)}(h.declared(r,d.Identifiable))})},"esri/widgets/FeatureTemplates/ItemList":function(){define(["require","exports","../../core/tsSupport/assignHelper","../support/jsxFactory","../support/widgetUtils"],function(F,y,
w,l,r){function d(d){var h=d.identify,C=d.items,D=d.renderIcon,g=d.filterText,q=d.onItemMouseLeave,z=d.onItemMouseEnter,w=d.onItemSelect;return 0===C.length?l.tsx("div",{class:x.noMatchesMessage,key:"no-matches"},d.messages.noMatches):C[0].items?l.tsx("div",{class:x.scroller,key:"item-container"},C.map(function(d){return I({group:d,filterText:g,identify:h,renderIcon:D,onItemMouseLeave:q,onItemMouseEnter:z,onItemSelect:w})})):l.tsx("ul",{class:r.classes(x.list,x.scroller),key:"item-container"},C.map(function(d){return p({item:d,
identify:h,grouped:!0,onItemMouseLeave:q,onItemMouseEnter:z,onItemSelect:w,renderIcon:D,filterText:g})}))}function h(d){var h=d.id+"-placeholder";return l.tsx("div",{class:x.filterContainer,key:"filter"},l.tsx("input",{"aria-labelledby":h,class:r.classes(x.input,x.filterInput),oninput:function(h){h=h.currentTarget;d.onFilterChange&&d.onFilterChange(h.value)},value:d.filterText,type:"search"}),d.filterText?null:l.tsx("div",{class:x.filterPlaceholder,id:h,key:"placeholder"},l.tsx("span",{class:x.searchIcon,
"aria-hidden":"true"}),l.tsx("div",{class:x.filterPlaceholderText},d.messages.filterPlaceholder)))}function p(d){var h=d.identify,p=d.item,r=d.grouped,g=d.filterText,q=d.onItemSelect,C=d.onItemMouseEnter,w=d.onItemMouseLeave;d=d.renderIcon;h=(h&&h(p)||p.id)+"__"+p.label;return l.tsx("li",{"aria-level":r?"2":"",class:x.item,"data-item":p,key:h,onclick:function(g){g=g.currentTarget["data-item"];q&&q(g)},onmouseenter:function(g){g=g.currentTarget["data-item"];C&&C(g)},onkeydown:function(g){if("Enter"===
g.key||"Space"===g.key)g=g.currentTarget["data-item"],q&&q(g)},onmouseleave:function(g){g=g.currentTarget["data-item"];w&&w(g)},tabIndex:0},l.tsx("div",{class:x.itemContainer},d&&d({item:p}),z({text:p.label,match:g})))}function I(d){var h=d.group,C=d.identify,D=d.onItemMouseLeave,g=d.onItemMouseEnter,q=d.onItemSelect,E=d.filterText,w=d.renderIcon;d=(C&&C(h)||h.id)+"-heading";return l.tsx("section",{"aria-labelledby":d,class:x.group,key:h.label},l.tsx("h4",{"aria-level":"1",id:d,class:r.classes(x.groupHeader)},
z({text:h.label,match:E})),l.tsx("ul",{class:x.list},h.items.map(function(d){return p({item:d,identify:C,grouped:!0,onItemMouseLeave:D,onItemMouseEnter:g,onItemSelect:q,renderIcon:w,filterText:E})})))}function z(d){var h=d.match;d=d.text;var p=null;if(h){var p=d.toLowerCase(),r=h.toLowerCase(),g=p.indexOf(r);-1===g?p=d:(p=d.substring(0,g),r=d.substr(g,h.length),h=d.substring(g+h.length),p=l.tsx("span",null,p,l.tsx("strong",null,r),h))}else p=d;return l.tsx("span",{class:x.itemLabel},p)}Object.defineProperty(y,
"__esModule",{value:!0});var x={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",
filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};y.ItemList=function(p){var v=p.id,z=p.identify,D=p.filterEnabled,D=void 0===D?!0:D,g=p.items,q=p.messages,C=p.filterText,C=void 0===C?"":C,w=p.onFilterChange,y=p.renderIcon,M=p.onItemMouseLeave,I=p.onItemMouseEnter;p=p.onItemSelect;return l.tsx("div",
{class:r.classes(x.base,x.widget)},D?h({filterText:C,messages:q,onFilterChange:w,id:v}):null,d({identify:z,items:g,messages:q,filterText:C,renderIcon:y,onItemMouseLeave:M,onItemMouseEnter:I,onItemSelect:p}))};y.renderItem=p;y.renderGroup=I;y.renderLabel=z})},"esri/widgets/Spinner":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/promiseUtils ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./Spinner/SpinnerViewModel ./support/widget".split(" "),
function(F,y,w,l,r,d,h,p,I,z){return function(p){function x(d){d=p.call(this)||this;d._animationDelay=500;d._animationPromise=null;d.location=null;d.view=null;d.viewModel=new I;d.visible=!1;return d}w(x,p);x.prototype.postInitialize=function(){var h=this;this.own([d.watch(this,"visible",function(d){return h._visibleChange(d)})])};x.prototype.destroy=function(){this._animationPromise=null};x.prototype.show=function(d){var h=this,l=d.location;d=d.promise;l&&(this.viewModel.location=l);this.visible=
!0;l=function(){return h.hide()};d&&d.catch(function(){}).then(l)};x.prototype.hide=function(){this.visible=!1};x.prototype.render=function(){var d,h=this.visible,l=!!this.viewModel.screenLocation,h=(d={},d["esri-spinner--start"]=h&&l,d["esri-spinner--finish"]=!h&&l,d);d=this._getPositionStyles();return z.tsx("div",{class:this.classes("esri-spinner",h),styles:d})};x.prototype._visibleChange=function(d){var h=this;if(d)this.viewModel.screenLocationEnabled=!0;else{var l=r.after(this._animationDelay);
this._animationPromise=l;l.catch(function(){}).then(function(){h._animationPromise===l&&(h.viewModel.screenLocationEnabled=!1,h._animationPromise=null)})}};x.prototype._getPositionStyles=function(){var d=this.viewModel,h=d.screenLocation,d=d.view;if(!d||!h)return{};d=d.padding;return{left:h.x-d.left+"px",top:h.y-d.top+"px"}};l([h.aliasOf("viewModel.location")],x.prototype,"location",void 0);l([h.aliasOf("viewModel.view")],x.prototype,"view",void 0);l([h.property({type:I}),z.renderable(["viewModel.screenLocation",
"viewModel.screenLocationEnabled"])],x.prototype,"viewModel",void 0);l([h.aliasOf("viewModel.visible")],x.prototype,"visible",void 0);return x=l([h.subclass("esri.widgets.Spinner")],x)}(h.declared(p))})},"esri/widgets/Spinner/SpinnerViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../support/AnchorElementViewModel".split(" "),function(F,y,w,l,r,d){return function(d){function h(h){h=d.call(this,
h)||this;h.visible=!1;return h}w(h,d);l([r.property()],h.prototype,"visible",void 0);return h=l([r.subclass("esri.widgets.CompassViewModel")],h)}(r.declared(d))})},"esri/widgets/support/AnchorElementViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/watchUtils ../../core/accessorSupport/decorators".split(" "),function(F,y,w,l,r,d,h,p,I,
z){return function(d){function x(l){var p=d.call(this)||this;p._anchorHandles=new h;p.location=null;p.screenLocation=null;p.screenLocationEnabled=!1;p.view=null;p._anchorHandles.add([I.watch(p,["screenLocationEnabled","location","view.size","view.stationary"],function(){return p._updateScreenPointAndHandle()}),I.watch(p,["view","view.ready"],function(){return p._wireUpView()})]);return p}w(x,d);x.prototype.destroy=function(){this.view=null;this._anchorHandles&&this._anchorHandles.destroy();this._viewpointHandle=
this._anchorHandles=null};x.prototype._wireUpView=function(){var d=this;this._anchorHandles.remove("view");this._viewpointHandle=null;if(this.get("view.ready")){this._setScreenLocation();var h=this.view,h=p.pausable(h,"3d"===h.type?"camera":"viewpoint",function(){return d._viewpointChange()});this._anchorHandles.add(h,"view");this._viewpointHandle=h;this._toggleWatchingViewpoint()}};x.prototype._viewpointChange=function(){this._setScreenLocation();this.emit("view-change")};x.prototype._updateScreenPointAndHandle=
function(){this._setScreenLocation();this._toggleWatchingViewpoint()};x.prototype._toggleWatchingViewpoint=function(){var d=this._viewpointHandle,h=this.screenLocationEnabled;d&&(this.location&&h?d.resume():d.pause())};x.prototype._setScreenLocation=function(){var d=this.location,h=this.view,l=this.screenLocationEnabled,g=this.get("view.ready"),d=l&&d&&g?h.toScreen(d):null;this._set("screenLocation",d)};l([z.property()],x.prototype,"location",void 0);l([z.property({readOnly:!0})],x.prototype,"screenLocation",
void 0);l([z.property()],x.prototype,"screenLocationEnabled",void 0);l([z.property()],x.prototype,"view",void 0);return x=l([z.subclass("esri.widgets.support.AnchorElementViewModel")],x)}(z.declared(r,d))})},"esri/widgets/Editor/EditorViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/AbortController ../../core/Accessor ../../core/arrayUtils ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/GraphicsLayer ../../layers/graphics/editingSupport ../../layers/support/fieldUtils ../../renderers/support/clickToleranceUtils ../../symbols/support/symbolUtils ../../views/2d/layers/support/popupUtils2D ../../views/support/layerViewUtils ./CreateWorkflowData ./Edits ./UpdateWorkflowData ./Workflow ../FeatureForm/FeatureFormViewModel ../FeatureTemplates/FeatureTemplatesViewModel ../Sketch/SketchViewModel ../Spinner/SpinnerViewModel".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v,H,D,g,q,E,N,T,M,K,n,J,L,O,R,S,V,da,U,Z){function W(a,f,b){c.error(new C(a,f,b))}function fa(a){return a&&N.isEditableLayer(a.layer)}function aa(a,c){return a&&z.find(a,function(a){return a.layer===c})}function e(a,c){var f=a.layer,b=f.createQuery();b.objectIds=[a.getAttribute(f.objectIdField)];b.outFields=["*"];b.outSpatialReference=c.spatialReference;return f.queryFeatures(b).then(function(a){return a.features[0]})}function G(a,c,f,b,k){a.create(c.layer.geometryType);
var m=a.on("create",function(f){var m=f.state;f=f.graphic;if("cancel"===m)k();else if("complete"===m){var e=f.clone();e.attributes=r({},c.template.prototype.attributes);e.layer=c.layer;a.layer.remove(f);var u=e.symbol;e.symbol=null;K.getDisplayedSymbol(e).then(function(a){e.symbol=a||u;b(e)})}});f.map.add(a.layer);return{remove:function(){m.remove();f.map.remove(a.layer);a.cancel()}}}function t(a,c,f,b){var k=a.clone();c.layer.add(k);var m=function(){var c=a.layer;if("graphics"===c.type)return{remove:function(){}};
var b=a.attributes[c.objectIdField];f.whenLayerView(a.layer).then(function(a){return a.setVisibility(b,!1)});return{remove:function(){f.whenLayerView(a.layer).then(function(a){return a.setVisibility(b,!0)})}}}(),e={multipleSelectionEnabled:!1};c.update(k,e);var u=c.on("update",function(a){var f=a.graphics[0];"cancel"===a.state?c.update(f,e):b(f.clone())});f.map.add(c.layer);return{remove:function(){m.remove();u.remove();f.map.remove(c.layer);c.cancel();c.layer.removeAll()}}}function b(a){if(1===a.length)if(a=
a[0],"items"in a){if(1===a.items.length)return a.items[0]}else return a}var a=this,c=H.getLogger("esri.widgets.Editor.EditorViewModel"),f=["create","update"],k=function(c,f,b){return h(a,void 0,void 0,function(){var a,k;return d(this,function(m){switch(m.label){case 0:return 0===c.length?[2]:[4,f.hitTest(b)];case 1:a=m.sent();if(0===a.results.length)return[2];k=a.results.map(function(a){return a.graphic.layer});return[2,D.eachAlways(c.items.filter(function(a){var c=a.layer;return-1<a.supports.indexOf("update")&&
-1<k.indexOf(c)}).map(function(a){a=a.layer;var c=M.calculateTolerance(a.renderer),c=n.createQueryGeometry(b.mapPoint,c,f),k=a.displayField,m=[a.objectIdField];T.hasField(a.fields,k)&&m.push(k);return a.queryFeatures({geometry:c,outFields:m}).then(function(a){return a.features})}))]}})})};return function(a){function c(c){c=a.call(this,c)||this;c._sketchGraphicsLayer=new E({listMode:"hide"});c.activeWorkflow=null;c.activityQueue=[];c.failures=[];c.featureFormViewModel=new V;c.featureTemplatesViewModel=
new da;c.layerInfos=null;c.sketchViewModel=new U({layer:c._sketchGraphicsLayer});c.spinnerViewModel=new Z;return c}w(c,a);c.prototype.initialize=function(){var a=this;this.handles.add([g.on(this,"view.allLayerViews","change",function(){return a.notifyChange("editableItems")}),g.watch(this,"editableItems",function(){var c=a.activeWorkflow;if(c){var f=c.stepId;"create"===c.type?(a.updateCreationTemplates(),"awaiting-feature-creation-info"!==f||a.canCreate||a._cancelWorkflow()):"update"===c.type&&("awaiting-feature-to-update"===
f&&!a.canUpdate||"awaiting-update-feature-candidate"===f&&!c.data.candidates.some(function(c){var f=a.editableItems.find(function(a){return a.layer===c.layer});return f&&-1<f.supports.indexOf("update")}))&&a._cancelWorkflow()}})])};c.prototype.destroy=function(){this.view=null;this._cancelWorkflow()};Object.defineProperty(c.prototype,"allowedWorkflows",{get:function(){return this._get("allowedWorkflows")},set:function(a){a&&0!==a.length||(a=f.slice());this._set("allowedWorkflows",a)},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"canCreate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("create")})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"canUpdate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("update")})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"editableItems",{get:function(){var a=this,c=this.get("view.allLayerViews");if(!c)return new x;
this.handles.remove("layer-view-property-watchers");var f=function(){return a.notifyChange("editableItems")};return c.filter(fa).map(function(c){a.handles.add(g.watch(c,"suspended",f),"layer-view-property-watchers");var b=c.layer;c=c.suspended;var k=[],m=a.allowedWorkflows,e=b.capabilities.operations,u=aa(a.layerInfos,b),m=m.filter(function(a){return u?!1!==u.enabled&&("create"===a&&!1!==u.addEnabled||"update"===a&&!1!==u.updateEnabled):!0});!c&&z.find(m,function(a){return"create"===a})&&e.supportsAdd&&
k.push("create");!c&&z.find(m,function(a){return"update"===a})&&e.supportsUpdate&&k.push("update");!c&&!1!==(u&&u.deleteEnabled)&&e.supportsDelete&&k.push("delete");return{layer:b,supports:k}}).reverse()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var a=this.activeWorkflow;return a?a.stepId:"ready"},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"syncing",{get:function(){return 0<
this.activityQueue.length},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"view",{set:function(a){a&&"2d"!==a.type?W("editing:unsupported-view","SceneView is not supported"):(this.sketchViewModel.view=a,this.spinnerViewModel.view=a,this._set("view",a))},enumerable:!0,configurable:!0});c.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return h(this,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:
(W("editing:unsupported-workflow","Create workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createCreateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",a),[2]}})})};c.prototype.startCreateWorkflowAtFeatureCreation=function(a){return h(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(W("editing:unsupported-workflow","Update workflow is unsupported or disabled."),
[2]);case 1:return f.sent(),c=this._createCreateWorkflow("awaiting-feature-to-create"),c.data.creationInfo=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};c.prototype.startCreateWorkflowAtFeatureEdit=function(a){return h(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(W("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createCreateWorkflow("editing-new-feature"),
c.data.edits.feature=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};c.prototype.startUpdateWorkflowAtFeatureSelection=function(){return h(this,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(W("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createUpdateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",
a),[2]}})})};c.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(a){return h(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(W("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createUpdateWorkflow("awaiting-update-feature-candidate"),c.data.candidates=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};c.prototype.startUpdateWorkflowAtFeatureEdit=
function(a){return h(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(W("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createUpdateWorkflow("editing-existing-feature"),c.data.edits.feature=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};c.prototype.deleteFeatureFromWorkflow=function(){return h(this,void 0,void 0,function(){var a;
return d(this,function(c){switch(c.label){case 0:a=this.activeWorkflow;if(!a||"create"===a.type)return W("editing:unsupported-workflow","Deleting requires an active update workflow."),[2];this._delete(a.data.edits.feature);return[4,a.reset()];case 1:return c.sent(),[2]}})})};c.prototype.cancelWorkflow=function(a){return h(this,void 0,void 0,function(){return d(this,function(c){switch(c.label){case 0:return[4,this._cancelWorkflow(r({warn:!0},a))];case 1:return c.sent(),[2]}})})};c.prototype.updateCreationTemplates=
function(){this.featureTemplatesViewModel.layers=this.editableItems.filter(function(a){return-1<a.supports.indexOf("create")}).map(function(a){return a.layer}).toArray()};c.prototype._highlight=function(a){var c=a&&z.find(this.view.allLayerViews.items,function(c){return c.layer===a.layer});J.hasHighlight(c)&&this.handles.add(c.highlight(a),"candidate-highlight")};c.prototype._unhighlight=function(){this.handles.remove("candidate-highlight")};c.prototype._cancelWorkflow=function(a){return h(this,void 0,
void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return c=this.activeWorkflow,c?[4,c.cancel(a)]:(a&&a.warn&&W("editing:no-active-workflow","There is no active workflow to cancel."),[2]);case 1:return f.sent(),this._set("activeWorkflow",null),[2]}})})};c.prototype._createCreateWorkflow=function(a){var c=this,f=this.handles,b=new L({edits:new O,viewModel:this});return new S({type:"create",data:b,steps:this._createWorkflowStepCreator(b,a),commit:function(){f.remove(c.activeWorkflow.stepId);
return c._create(b.edits.feature)}})};c.prototype._createWorkflowStepCreator=function(a,c){void 0===c&&(c="awaiting-feature-creation-info");var f=a.viewModel.handles,k={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",setUp:function(){return h(this,void 0,void 0,function(){return d(this,function(c){a.creationInfo=null;f.add(a.viewModel.featureTemplatesViewModel.on("select",function(c){c=c.item;a.creationInfo={layer:c.layer,template:c.template};a.viewModel.activeWorkflow.next()}),
this.id);return[2]})})},tearDown:function(){return h(this,void 0,void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",setUp:function(){return h(this,void 0,void 0,function(){var c,b=this;return d(this,function(k){c=function(){f.add(G(a.viewModel.sketchViewModel,a.creationInfo,a.viewModel.view,function(c){a.edits.feature=c;a.viewModel.activeWorkflow.next()},function(){f.remove(b.id);c()}),b.id)};
c();return[2]})})},tearDown:function(){return h(this,void 0,void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"editing-new-feature":function(){return{id:"editing-new-feature",setUp:function(){return h(this,void 0,void 0,function(){var c,b,k;return d(this,function(m){c=a.edits.feature;k=(b=aa(a.viewModel.layerInfos,c.layer))&&b.fieldConfig;a.viewModel.featureFormViewModel.set({feature:c,fieldConfig:k});f.add([a.viewModel.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(a.viewModel.featureFormViewModel.getValues())}),
t(c,a.viewModel.sketchViewModel,a.viewModel.view,function(c){return a.edits.updateGeometry(c.geometry)})],this.id);return[2]})})},tearDown:function(){return h(this,void 0,void 0,function(){return d(this,function(c){a.edits.feature=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});f.remove(this.id);return[2]})})}}}},m=!1,e=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter(function(a){return m?!0:m=a===c}).map(function(a){return k[a]()});
a.viewModel.updateCreationTemplates();var u=b(a.viewModel.featureTemplatesViewModel.items);"awaiting-feature-creation-info"===e[0].id&&u&&(a.creationInfo={layer:u.layer,template:u.template},e.shift());return e};c.prototype._createUpdateWorkflow=function(a){var c=this,f=this.handles,b=new R({edits:new O,viewModel:this});return new S({type:"update",data:b,steps:this._updateWorkflowStepCreator(b,a),commit:function(){var a;f.remove(c.activeWorkflow.stepId);var k=b.edits.feature,m=k.clone();if(!b.edits.attributesModified){var e=
k.layer.objectIdField;m.attributes=(a={},a[e]=k.getAttribute(e),a)}b.edits.geometryModified||(m.geometry=null);return c._update(m)}})};c.prototype._updateWorkflowStepCreator=function(a,c){void 0===c&&(c="awaiting-feature-to-update");var f=a.viewModel.handles,b={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){return h(this,void 0,void 0,function(){var c,b,m,e,u;return d(this,function(A){c=a.viewModel;b=c.spinnerViewModel;m=c.view;e=null;f.add({remove:function(){e&&
(e.abort(),e=null)}},this.id);a.edits.feature=null;u=m.on("click",function(c){c.stopPropagation();b.location=c.mapPoint;b.visible=!0;e&&e.abort();var f=a.viewModel.editableItems;e=new p.default;D.create(function(a,b){D.onAbort(e.signal,function(){return b(D.createAbortError())});a(k(f,m,c))}).then(function(c){a.viewModel.spinnerViewModel.visible=!1;D.throwIfAborted(e);a.candidates=c.reduce(function(a,c){return c.error?a:a.concat(c.value)},[]);0!==a.candidates.length&&(1===a.candidates.length?(a.edits.feature=
a.candidates[0],a.viewModel.activeWorkflow.go("editing-existing-feature")):a.viewModel.activeWorkflow.next())})});f.add(u,this.id);return[2]})})},tearDown:function(){return h(this,void 0,void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){return h(this,void 0,void 0,function(){var c,b;return d(this,function(k){c=a.edits;b=a.viewModel;c.feature=null;f.add(g.watch(c,
"feature",function(a){b._unhighlight();b._highlight(a)}),this.id);return[2]})})},tearDown:function(){return h(this,void 0,void 0,function(){return d(this,function(c){a.viewModel._unhighlight();f.remove(this.id);return[2]})})}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){return h(this,void 0,void 0,function(){var c,b,k=this;return d(this,function(m){c=a.edits.feature;b=a.viewModel;a.editableItem=b.editableItems.find(function(a){return a.layer===c.layer});
return[2,e(c,b.view).then(function(c){a.edits.updateGeometry(c.geometry);a.edits.updateAttributes(c.attributes);a.edits.trackChanges();var m=c.layer,e=aa(b.layerInfos,m);b.featureFormViewModel.set({feature:c,fieldConfig:e&&e.fieldConfig});e=[b.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(b.featureFormViewModel.getValues())})];m.capabilities.editing.supportsGeometryUpdate?e.push(t(c,b.sketchViewModel,b.view,function(c){return a.edits.updateGeometry(c.geometry)})):b._highlight(c);
f.add(e,k.id)})]})})},tearDown:function(){return h(this,void 0,void 0,function(){return d(this,function(c){a.editableItem=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});f.remove(this.id);a.viewModel._unhighlight();return[2]})})}}}},m=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature"].filter(function(a){return m?!0:m=a===c}).map(function(a){return b[a]()})};c.prototype._create=function(a){return this._queueOperation(function(){return a.layer.applyEdits({addFeatures:[a]})})};
c.prototype._delete=function(a){return this._queueOperation(function(){return a.layer.applyEdits({deleteFeatures:[a]})})};c.prototype._update=function(a){return this._queueOperation(function(){return a.layer.applyEdits({updateFeatures:[a]})}).then()};c.prototype._queueOperation=function(a){var c=this;this.activityQueue.push(a);this.notifyChange("syncing");var f=function(a,c){a=c.indexOf(a);-1<a&&c.splice(a,1)};return a().then(function(a){var c=a.deleteFeatureResults,f=a.updateFeatureResults;if(a=
z.find(a.addFeatureResults,function(a){return!!a.error})||z.find(f,function(a){return!!a.error})||z.find(c,function(a){return!!a.error}))throw a.error;}).catch(function(b){W("editing:operation-error","An error ocurred.",{error:b});var k={error:b,retry:function(){f(k,c.failures);c._queueOperation(a)},cancel:function(){return f(k,c.failures)}};c._set("failures",c.failures.concat([k]))}).then(function(){f(a,c.activityQueue);c.notifyChange("syncing")})};l([q.property({readOnly:!0})],c.prototype,"activeWorkflow",
void 0);l([q.property({readOnly:!0})],c.prototype,"activityQueue",void 0);l([q.property({value:f.slice()})],c.prototype,"allowedWorkflows",null);l([q.property({readOnly:!0,dependsOn:["editableItems"]})],c.prototype,"canCreate",null);l([q.property({readOnly:!0,dependsOn:["editableItems"]})],c.prototype,"canUpdate",null);l([q.property({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],readOnly:!0})],c.prototype,"editableItems",null);l([q.property({readOnly:!0})],c.prototype,
"failures",void 0);l([q.property()],c.prototype,"featureFormViewModel",void 0);l([q.property()],c.prototype,"featureTemplatesViewModel",void 0);l([q.property()],c.prototype,"layerInfos",void 0);l([q.property()],c.prototype,"sketchViewModel",void 0);l([q.property()],c.prototype,"spinnerViewModel",void 0);l([q.property({dependsOn:["editableItems","activeWorkflow.stepId","view.ready"]})],c.prototype,"state",null);l([q.property({readOnly:!0})],c.prototype,"syncing",null);l([q.property()],c.prototype,
"view",null);l([q.property()],c.prototype,"startCreateWorkflowAtFeatureTypeSelection",null);l([q.property()],c.prototype,"startCreateWorkflowAtFeatureCreation",null);l([q.property()],c.prototype,"startCreateWorkflowAtFeatureEdit",null);l([q.property()],c.prototype,"startUpdateWorkflowAtFeatureSelection",null);l([q.property()],c.prototype,"startUpdateWorkflowAtMultipleFeatureSelection",null);l([q.property()],c.prototype,"startUpdateWorkflowAtFeatureEdit",null);l([q.property()],c.prototype,"deleteFeatureFromWorkflow",
null);l([q.property()],c.prototype,"cancelWorkflow",null);return c=l([q.subclass("esri.widgets.Editor.EditorViewModel")],c)}(q.declared(I,v))})},"esri/layers/GraphicsLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/promiseUtils ../core/accessorSupport/decorators ./Layer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(x){function r(g){g=x.call(this)||this;g.elevationInfo=null;g.graphics=new C.default;g.screenSizePerspectiveEnabled=!0;g.type="graphics";return g}w(r,x);r.prototype.destroy=function(){this.removeAll()};r.prototype.add=function(g){this.graphics.add(g);return this};r.prototype.addMany=function(g){this.graphics.addMany(g);return this};r.prototype.removeAll=function(){this.graphics.removeAll();return this};r.prototype.remove=function(g){this.graphics.remove(g)};
r.prototype.removeMany=function(g){this.graphics.removeMany(g)};r.prototype.importLayerViewModule=function(g){return h(this,void 0,void 0,function(){return d(this,function(d){switch(g.type){case "2d":return[2,p.create(function(g){return F(["../views/2d/layers/GraphicsLayerView2D"],g)})];case "3d":return[2,p.create(function(g){return F(["../views/3d/layers/GraphicsLayerView3D"],g)})]}return[2]})})};r.prototype.graphicChanged=function(g){this.emit("graphic-update",g)};l([I.property({type:v})],r.prototype,
"elevationInfo",void 0);l([I.property(C.graphicsCollectionProperty)],r.prototype,"graphics",void 0);l([I.property({type:["show","hide"]})],r.prototype,"listMode",void 0);l([I.property()],r.prototype,"screenSizePerspectiveEnabled",void 0);l([I.property({readOnly:!0})],r.prototype,"type",void 0);return r=l([I.subclass("esri.layers.GraphicsLayer")],r)}(I.declared(z,x))})},"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(F,y){function w(d,h){return h&&h.xoffset?
Math.max(d,Math.abs(h.xoffset)):h&&h.yoffset?Math.max(d,Math.abs(h.yoffset)):d}function l(d,h){if("number"===typeof d)return d;if(d&&d.stops&&d.stops.length){d=d.stops;for(var l=h=0,r=0;r<d.length;r++){var z=d[r].size;"number"===typeof z&&(h+=z,l++)}return h/l}return h}function r(d,h){if(!h)return d;h=h.filter(function(d){return"size"===d.type}).map(function(h){var p=h.minSize;return(l(h.maxSize,d)+l(p,d))/2});for(var p=0,r=h.length,z=0;z<r;z++)p+=h[z];return Math.max(Math.floor(p/r),d)}Object.defineProperty(y,
"__esModule",{value:!0});y.calculateTolerance=function(d){if(!d)return 6;var h="visualVariables"in d?r(6,d.visualVariables):6;if("simple"===d.type)return w(h,d.symbol);if("unique-value"===d.type){var l=h;d.uniqueValueInfos.forEach(function(d){l=w(l,d.symbol)});return l}if("class-breaks"===d.type){var y=h;d.classBreakInfos.forEach(function(d){y=w(y,d.symbol)});return y}return h}})},"esri/views/2d/layers/support/popupUtils2D":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper",
"../../../../core/tsSupport/decorateHelper","../../../../geometry/Extent"],function(F,y,w,l,r){Object.defineProperty(y,"__esModule",{value:!0});y.createQueryGeometry=function(d,h,l){var p=l.get("state.resolution"),p=h*("number"===typeof p?p:1);h=d.clone().offset(-p,-p);d=d.clone().offset(p,p);return new r({xmin:Math.min(h.x,d.x),ymin:Math.min(h.y,d.y),xmax:Math.max(h.x,d.x),ymax:Math.max(h.y,d.y),spatialReference:l.spatialReference})}})},"esri/views/support/layerViewUtils":function(){define(["require",
"exports","../../core/maybe"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.hasHighlight=function(l){return l&&"function"===typeof l.highlight};y.scaleBoundsPredicate=function(l,r,d){return w.isNone(l)||l>d&&(0===r||l<r)};y.extractSafeScaleBounds=function(l){return{minScale:l.minScale||0,maxScale:l.maxScale||0}}})},"esri/widgets/Editor/CreateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d){return function(h){function p(){var d=null!==h&&h.apply(this,arguments)||this;d.creationInfo=null;d.edits=null;d.viewModel=null;return d}w(p,h);l([d.property()],p.prototype,"creationInfo",void 0);l([d.property()],p.prototype,"edits",void 0);l([d.property()],p.prototype,"viewModel",void 0);return p=l([d.subclass("esri.widgets.Editor.CreateWorkflowData")],p)}(d.declared(r))})},"esri/widgets/Editor/Edits":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d,h,p){function I(d){return h.isNone(d)?null:JSON.stringify(d)}return function(d){function h(h){h=d.call(this,h)||this;h._baselineAttributesJSON=null;h._baselineGeometryJSON=null;return h}w(h,d);Object.defineProperty(h.prototype,"attributesModified",{get:function(){var d=this._baselineAttributesJSON,h=this.feature;return!(!h||d===I(h.attributes))},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"geometryModified",{get:function(){var d=this._baselineGeometryJSON,
h=this.feature;return!(!h||d===I(h.geometry))},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"modified",{get:function(){return this.attributesModified||this.geometryModified},enumerable:!0,configurable:!0});h.prototype.trackChanges=function(){this.feature&&(this._baselineAttributesJSON=I(this.feature.attributes),this._baselineGeometryJSON=I(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))};h.prototype.updateAttributes=function(d){this.feature.attributes=
d;this.notifyChange("attributesModified")};h.prototype.updateGeometry=function(d){this.feature.geometry=d;this.notifyChange("geometryModified")};l([p.property()],h.prototype,"attributesModified",null);l([p.property()],h.prototype,"feature",void 0);l([p.property()],h.prototype,"geometryModified",null);l([p.property({dependsOn:["attributesModified","geometryModified"]})],h.prototype,"modified",null);return h=l([p.subclass("esri.widgets.Editor.Edits")],h)}(p.declared(r,d))})},"esri/widgets/Editor/UpdateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d){return function(h){function p(){var d=null!==h&&h.apply(this,arguments)||this;d.candidates=null;d.editableItem=null;d.edits=null;d.viewModel=null;return d}w(p,h);l([d.property()],p.prototype,"candidates",void 0);l([d.property()],p.prototype,"editableItem",void 0);l([d.property()],p.prototype,"edits",void 0);l([d.property()],p.prototype,"viewModel",void 0);return p=l([d.subclass("esri.widgets.Editor.UpdateWorkflowData")],p)}(d.declared(r))})},"esri/widgets/Editor/Workflow":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Accessor ../../core/arrayUtils ../../core/Error ../../core/Evented ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(p){function r(g){g=p.call(this,g)||this;g._indexHistory=[];g._lastStepIndex=-1;g._stepIndex=-1;g.data=null;g.started=!1;g.steps=null;g.type=null;return g}w(r,p);Object.defineProperty(r.prototype,"hasNextStep",{get:function(){return!!(this.steps&&this._stepIndex<this.steps.length-1)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"hasPreviousStep",{get:function(){return 0<this._stepIndex},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,
"stepId",{get:function(){var g=this.steps;return(g=g&&g[this._stepIndex])&&g.id},enumerable:!0,configurable:!0});r.prototype.cancel=function(g){void 0===g&&(g={force:!0});return h(this,void 0,void 0,function(){var q=this;return d(this,function(d){return!1!==g.force?[2,this._cancel()]:[2,C.create(function(g,d){q.emit("cancel-request",{controller:{allow:function(){return q._cancel().then(g)},deny:function(){return d(new z("workflow:cancel-denied","Request to cancel workflow was denied."))}}})})]})})};
r.prototype.commit=function(){return h(this,void 0,void 0,function(){return d(this,function(g){return[2]})})};r.prototype.go=function(g){return h(this,void 0,void 0,function(){var q,h;return d(this,function(d){switch(d.label){case 0:return q=this.steps,h=I.findIndex(q,function(d){return d.id===g}),this._indexHistory.push(this._stepIndex),[4,this._go(h)];case 1:return d.sent(),[2]}})})};r.prototype.next=function(){return h(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return this._indexHistory.push(this._stepIndex),
[4,this._go(this._stepIndex+1)];case 1:return g.sent(),[2]}})})};r.prototype.previous=function(){return h(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return[4,this._go(this._indexHistory.pop())];case 1:return g.sent(),[2]}})})};r.prototype.reset=function(){return h(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return[4,this._cancel()];case 1:return g.sent(),[4,this.start()];case 2:return g.sent(),[2]}})})};r.prototype.start=function(){return h(this,
void 0,void 0,function(){var g;return d(this,function(d){switch(d.label){case 0:return this._set("started",!0),g=-1===this._stepIndex?0:this._stepIndex,[4,this._go(g)];case 1:return d.sent(),[2]}})})};r.prototype._cancel=function(){return h(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return this.started?[4,this.steps[this._stepIndex].tearDown()]:[3,2];case 1:g.sent(),g.label=2;case 2:return this._set("started",!1),this._resetIndexing(),[2]}})})};r.prototype._go=
function(g){void 0===g&&(g=-1);return h(this,void 0,void 0,function(){return d(this,function(d){switch(d.label){case 0:return-1>=g||g>=this.steps.length?[2]:this.started?-1<this._lastStepIndex?[4,this.steps[this._lastStepIndex].tearDown()]:[3,2]:(this._stepIndex=g,this._notifyStepProps(),[2]);case 1:d.sent(),d.label=2;case 2:return[4,this.steps[g].setUp()];case 3:return d.sent(),this._stepIndex=this._lastStepIndex=g,this._notifyStepProps(),[2]}})})};r.prototype._resetIndexing=function(){this._lastStepIndex=
this._stepIndex=-1;this._indexHistory.length=0;this._notifyStepProps()};r.prototype._notifyStepProps=function(){this.notifyChange("stepId");this.notifyChange("hasPreviousStep");this.notifyChange("hasNextStep")};l([v.property()],r.prototype,"data",void 0);l([v.property()],r.prototype,"hasNextStep",null);l([v.property()],r.prototype,"hasPreviousStep",null);l([v.property()],r.prototype,"started",void 0);l([v.property({readOnly:!0,dependsOn:["steps"]})],r.prototype,"stepId",null);l([v.property()],r.prototype,
"steps",void 0);l([v.property()],r.prototype,"type",void 0);l([v.property()],r.prototype,"commit",null);return r=l([v.subclass("esri.widgets.Editor.Workflow")],r)}(v.declared(p,x))})},"esri/widgets/Sketch/SketchViewModel":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../geometry ../../Graphic ../../symbols ../../core/Accessor ../../core/Collection ../../core/compilerUtils ../../core/Error ../../core/Evented ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/coordsUtils ../../layers/GraphicsLayer ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../symbols/SimpleMarkerSymbol ../../views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic ../../views/draw/Draw ../../views/draw/support/createUtils ./support/OperationHandle".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v,H,D,g,q,E,N,T,M,K,n,J,L,O,R,S,V,da,U,Z){function W(a,c){var f=a.history.undo.pop().updates,b=[];c.forEach(function(a,c){c=f[c];var k={};null!=c&&(E.isSome(c.geometry)&&(k.geometry=a.geometry,a.geometry=c.geometry),E.isSome(c.symbol)&&(k.symbol=a.symbol,a.symbol=c.symbol),b.push(k))});a.history.redo.push({updates:b})}function fa(a,c){var f=a.history.redo.pop().updates,b=[];c.forEach(function(a,c){c=f[c];var k={};null!=c&&(E.isSome(c.geometry)&&(k.geometry=a.geometry,
a.geometry=c.geometry),E.isSome(c.symbol)&&(k.symbol=a.symbol,a.symbol=c.symbol),b.push(k))});a.history.undo.push({updates:b})}function aa(a){return{updates:a.map(function(a){return{geometry:a.geometry}})}}function e(a){return{updates:a.map(function(a){return{symbol:a.symbol}})}}function G(a){a.canUndo()?a.complete():a.cancel()}var t=q.getLogger("esri.widgets.Sketch.SketchViewModel"),b=["Backspace","Delete"];return function(a){function c(c){c=a.call(this,c)||this;c._activeFillGraphic=null;c._activeLineGraphic=
null;c._centerIndicatorGraphic=null;c._centerSymbol=new R({style:"cross",size:6,color:[255,255,255]});c._defaultSegmentOffset=48;c._handles=new g;c._internalGraphicsLayer=new J({listMode:"hide"});c._lineGraphic=null;c._operationHandle=null;c._vertexGraphics=[];c._viewHandles=new g;c._highlightHandlesByGraphic=new g;c._doUnnormalization=!1;c.activeFillSymbol=new L({style:"solid",color:[150,150,150,.2],outline:{color:[0,0,0,0]}});c.activeLineSymbol=new O({color:[12,207,255,1],width:2,style:"dash"});
c.activePointSymbol=new R({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});c.activeVertexSymbol=new R({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});c.createGraphic=null;c.defaultUpdateOptions={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform"};c.layer=null;c.pointSymbol=new R({style:"circle",size:6,color:[255,255,255],
outline:{color:[50,50,50],width:1}});c.polygonSymbol=new L({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}});c.polylineSymbol=new O({color:[130,130,130,1],width:2});c.updateGraphics=new C;c.updateOnGraphicClick=!0;c.updatePointSymbol=new R({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}});c.updatePolygonSymbol=new L({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}});c.updatePolylineSymbol=new O({color:[12,207,255],width:2});c.vertexSymbol=new R({style:"circle",
size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});return c}l(c,a);c.prototype.initialize=function(){var a=this;this._handles.add([M.watch(this,"layer",function(){return a.cancel()}),M.on(this,"view.map.layers","change",function(c){0<=c.removed.indexOf(a.layer)&&a.cancel()}),M.on(this,"layer.graphics","change",function(c){if(E.isSome(a._operationHandle)){var f=0;for(c=c.removed;f<c.length;f++){var b=c[f];a.updateGraphics.includes(b)&&(1<a.updateGraphics.length?a._operationHandle.removeFromSelection(b):
G(a._operationHandle))}}})].concat(this._generateSceneViewHighlightHandles()))};c.prototype.destroy=function(){this.cancel();this._handles.removeAll();this._handles=null;this._viewHandles.removeAll();this._viewHandles=null;this._highlightHandlesByGraphic.removeAll();this._highlightHandlesByGraphic=null;this._removeDefaultLayer();this._draw&&this._draw.destroy();this._set("view",null);this.emit("destroy")};Object.defineProperty(c.prototype,"_defaultUpdateTool",{get:function(){return"3d"===this.view.type?
"move":"transform"},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"_draw",{get:function(){return"ready"===this.state||"active"===this.state?new da({view:this.view}):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"activeTool",{get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"activeComponent",{get:function(){return this._operationHandle?
this._operationHandle.activeComponent:null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"state",{get:function(){var a=!(!this.get("view.ready")||!this.layer),c=this._operationHandle;return a&&c?"active":a?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"view",{get:function(){return this._get("view")},set:function(a){var c=this,f=this._get("view");if(f){var b=f.map;f.container&&(f.cursor=null);b&&b.remove(this._internalGraphicsLayer);this._viewHandles.removeAll();
this.cancel()}this._doUnnormalization=null!=a&&"3d"===a.type&&"global"===a.viewingMode;this._handles.remove("view-ready");a&&this._handles.add(M.when(a,"ready",function(f){c._viewHandles.removeAll();f&&c._viewHandles.add(c._generateViewHandles(a))},!0),"view-ready");this._set("view",a)},enumerable:!0,configurable:!0});c.prototype.cancel=function(){this._operationHandle&&this._operationHandle.cancel()};c.prototype.complete=function(){this._operationHandle&&this._operationHandle.complete()};c.prototype.create=
function(a,c){var f=this;if("disabled"===this.state)this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel.");else if(this.cancel(),a){var b=this._setupCreateOperation(a,c);b&&(this.view.map.add(this._internalGraphicsLayer),c=function(){if(b===f._operationHandle){var c=b.cancelled?"cancel":"complete",k=f.createGraphic;f._operationHandle.destroy();f._operationHandle=
null;f._set("createGraphic",null);f.view&&f.view.map&&f.view.map.remove(f._internalGraphicsLayer);b.cancelled||f.layer.add(k);f._emitCreateEvent({graphic:k,state:c,tool:a,toolEventInfo:null})}},b.on("complete",c),b.on("cancel",c),this._operationHandle=b)}else this._logError("sketch:missing-parameter","Missing parameter 'tool'.")};c.prototype.reset=function(){t.warn("reset() is deprecated, use cancel() instead.");this._reset();this._emitResetEvent()};c.prototype.update=function(a,c){return h(this,
void 0,void 0,function(){var f,b,k,e,t,g,X,Q=this;return d(this,function(m){switch(m.label){case 0:f=this;b=f.layer;k=f.state;e=f.view;if("disabled"===k)return b||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),e||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),[2];this.cancel();t=Array.isArray(a)?a:[a];return t&&t.length?(g=t.some(function(a){if(a.layer!==b)return Q._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),
!0;if(E.isNone(a.geometry))return Q._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0;if("2d"===e.type&&!e.spatialReference.equals(a.geometry.spatialReference))return Q._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0}))?[2]:[4,this._setupUpdateOperation(t,c)]:(this._logError("sketch:missing-parameter","Missing parameter 'graphics'."),
[2]);case 1:X=m.sent();if(!X)return[2];this.view.map.add(this._internalGraphicsLayer);this._emitUpdateEvent({graphics:t,state:"start",tool:X.tool,toolEventInfo:null});this._setUpdateOperationHandle(X);return[2]}})})};c.prototype.undo=function(){this.canUndo()&&this._operationHandle.undo()};c.prototype.redo=function(){this.canRedo()&&this._operationHandle.redo()};c.prototype.canUndo=function(){return!(!this._operationHandle||!this._operationHandle.canUndo())};c.prototype.canRedo=function(){return!(!this._operationHandle||
!this._operationHandle.canRedo())};c.prototype.toggleUpdateTool=function(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()};c.prototype._reset=function(){this._removeCreateOperationGraphics();this.cancel();this._displayDefaultCursor();this._draw&&this._draw.reset()};c.prototype._hitTest=function(a){return h(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return[4,this.view.hitTest(a)];case 1:return c=f.sent(),"2d"===
this.view.type?[2,c]:0<c.results.length?[2,{screenPoint:a,results:[c.results[0]]}]:[2,{screenPoint:a,results:[]}]}})})};c.prototype._generateViewHandles=function(a){var c=this;return[a.on("click",function(a){if(!c.view.toolViewManager.handlesClickEvent(a)){var f=c._operationHandle,b=c.defaultUpdateOptions,k=c.layer,m=c.state,e=c.updateGraphics,t=c.updateOnGraphicClick,f="active"===m&&"create"===f.type;"disabled"!==m&&!f&&t&&c._hitTest(T.createScreenPointFromEvent(a)).then(function(a){a=a.results;
a.length?a.some(function(a){if(a.graphic){a=a.graphic;if(-1<e.indexOf(a))return!0;if(a.layer===k)return c.update([a],w({},b)),!0}}):"active"===m&&c.cancel()})}})]};c.prototype._setupCreateOperation=function(a,c){if(a){var f;switch(a){case "point":f=this._setupCreatePointOperation(a,c);break;case "multipoint":f=this._setupCreateMultipointOperation(a,c);break;case "polygon":case "polyline":f=this._setupCreatePolyOperation(a,c);break;case "rectangle":f=this._setupCreateRectangleOperation(a,c);break;
case "circle":f=this._setupCreateCircleOperation(a,c)}return f}};c.prototype._setupCreatePointOperation=function(a,c){var f=this;c=this._draw.create(a,c);var b=[c.on("cursor-update",function(a){E.isSome(a.coordinates)?f._displayCrosshairCursor():f._displayDefaultCursor()}),c.on("draw-complete",function(a){a=a.coordinates;a=new p.Point(a[0],a[1],f.view.spatialReference);a=new I(a,f.pointSymbol);f._set("createGraphic",a);e&&e.complete()})],k=[this.view.on("key-down",function(a){"Escape"===a.key&&e&&
e.cancel()})],e=this._operationHandleForCreateAction(c,b.concat(k),a);return e};c.prototype._setupCreateMultipointOperation=function(a,c){var f=this;c=this._draw.create(a,c);var b=null,k=[],e=this._operationHandleForCreateAction(c,k,a);k.push(c.on("vertex-add",function(c){var k=c.type,m=c.vertices,e=m[c.vertexIndex];b=c;f._drawMultipointGraphic(m,!0);f._emitCreateEvent({graphic:f.createGraphic,state:1===m.length?"start":"active",tool:a,toolEventInfo:{added:e,type:k}})}),c.on("vertex-remove",function(c){var k=
c.type,m=c.vertices,e=m[c.vertexIndex];b=c;f._drawMultipointGraphic(m,!0);f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{removed:e,type:k}})}),c.on("vertex-update",function(c){var k=c.type,m=c.vertices,e=m[c.vertexIndex];b=c;f._drawMultipointGraphic(m,!0);f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{type:k,updated:e}})}),c.on("cursor-update",function(a){b=a}),c.on("draw-complete",function(a){a=a.vertices.slice(0);(a=U.createMultipoint(a,
f.view.spatialReference))?(f.createGraphic&&(f.createGraphic.geometry=a),e&&e.complete()):e&&e.cancel()}),c.on("undo",function(a){a=a.vertices;var c=b&&"cursor-update"!==b.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,c)}),c.on("redo",function(a){a=a.vertices;var c=b&&"cursor-update"!==b.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,c)}));k.push(this.view.on("pointer-move",function(a){return f._displayCrosshairCursor()}),this.view.on("key-down",
function(a){return f._getCommonUpdateOperationKeyDownHandlers(e,a)}));return e};c.prototype._setupCreatePolyOperation=function(a,c){var f=this,b=null;"polyline"===a?b=this._draw.create(a,c):"polygon"===a&&(b=this._draw.create(a,c));var k=new p.Point,e=null,t=!1;c=[b.on("vertex-add",function(c){var b=c.type,k=c.vertices,m=k[c.vertexIndex];f._snap(a,k,t);e=c;f._drawVertexGraphics(a,k,{userClicked:!0});f._emitCreateEvent({graphic:f.createGraphic,state:1===k.length?"start":"active",tool:a,toolEventInfo:{added:m,
type:b}})}),b.on("vertex-remove",function(c){var b=c.type,k=c.vertices,m=k[c.vertexIndex];f._snap(a,k,t);e=c;f._drawVertexGraphics(a,k,{userClicked:!0});f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{removed:m,type:b}})}),b.on("vertex-update",function(c){var b=c.type,k=c.vertices,m=k[c.vertexIndex];f._snap(a,k,t);e=c;f._drawVertexGraphics(a,k,{userClicked:!0});f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{type:b,updated:m}})}),b.on("cursor-update",
function(c){var b=c.type,m=c.vertices;c.mapPoint&&(f._snap(a,m,t),e=c,k=c.mapPoint,f._drawVertexGraphics(a,m,{userClicked:!1}),1<m.length&&f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:m[m.length-1],type:b}}))}),b.on("draw-complete",function(c){c=c.vertices.slice(0);var b=null;"polyline"===a?b=U.createPolyline([c],f.view.spatialReference,f._doUnnormalization):"polygon"===a&&(b=U.createPolygon([c],f.view.spatialReference,f._doUnnormalization,!0));b?(f.createGraphic.geometry=
b,n&&n.complete()):n&&n.cancel()}),b.on("undo",function(c){c=c.vertices;var b=e&&"cursor-update"!==e.type;f._resetCreateOperationGraphics();f._snap(a,c,t);c.length&&f._drawVertexGraphics(a,c,{userClicked:b})}),b.on("redo",function(c){c=c.vertices;var b=e&&"cursor-update"!==e.type;f._resetCreateOperationGraphics();f._snap(a,c,t);c.length&&f._drawVertexGraphics(a,c,{userClicked:b})})];var g=[this.view.on("pointer-move",function(a){f.view.toMap(T.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():
f._displayDefaultCursor()}),this.view.on("key-down",function(c){var k=b.vertices.slice(0),m=e&&"cursor-update"!==e.type;"Control"!==c.key||t||"2d"!==f.view.type?"z"===c.key&&n&&n.canUndo()?(c.stopPropagation(),n.undo()):"r"===c.key&&n&&n.canRedo()?(c.stopPropagation(),n.redo()):"Escape"===c.key&&n&&n.cancel():(t=!0,f._snap(a,k,!m),f._drawVertexGraphics(a,k,{userClicked:m}))}),this.view.on("key-up",function(c){var m=b.vertices.slice(0),u=e&&"cursor-update"!==e.type;"Control"===c.key&&t&&(u||(m.pop(),
m.push([k.x,k.y]),f._drawVertexGraphics(a,m,{userClicked:u})),t=!1)})];if("polygon"===a){var d=function(a,c,b){if(!a||!a.layer||!a.visible)return!1;a=f.view.toScreen(a.geometry);return f._isWithinScreenDistance(a,c,b)},Q=function(a){if(!(2>=f._vertexGraphics.length))return d(f._vertexGraphics[0],a,f._getVertexIntersectDistance())};g.push(this.view.on("pointer-move",function(a){var c=Q(a);f._highlightHandlesByGraphic.forEach(function(a){return c?a.pause():a.resume()})}),this.view.on("pointer-down",
function(a){Q(a)?(a.stopPropagation(),b.complete()):f._vertexGraphics.some(function(c){return d(c,a,f._getVertexIntersectDistance())})&&a.stopPropagation()}))}var n=this._operationHandleForCreateAction(b,c.concat(g),a);return n};c.prototype._setupCreateCircleOperation=function(a,c){var f=this,b=this._draw.create(a,c),k=!1,e=!0;c=[b.on("vertex-add",function(c){var b=c.type,m=c.vertices;c=m[c.vertexIndex];f._drawSegmentGraphic(a,m,{centered:e,constrained:k});f._emitCreateEvent({graphic:f.createGraphic,
state:1===m.length?"start":"active",tool:a,toolEventInfo:{added:c,type:b}})}),b.on("cursor-update",function(c){var b=c.type;c=c.vertices;f._drawSegmentGraphic(a,c,{centered:e,constrained:k});2===c.length&&f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:c[c.length-1],type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var c=null,c=U.createViewAlignedCoordinateSystem(f.view,a[0]);1===a.length?(a.push([a[0][0]+f._defaultSegmentOffset*f.view.resolution,
a[0][1]]),c=U.createCircle(a,c,!0)):c=k?U.createEllipse(a,c,e):U.createCircle(a,c,e);f.createGraphic?f.createGraphic.geometry=c:(f._removeCreateGraphic(),f._set("createGraphic",new I(c,f.polygonSymbol)));g&&g.complete()})];var t=[this.view.on("pointer-move",function(a){f.view.toMap(T.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()}),this.view.on("key-down",function(c){"Control"!==c.key||k?"Alt"===c.key&&e?(e=!1,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k})):
"Escape"===c.key&&g&&g.cancel():(k=!0,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k}))}),this.view.on("key-up",function(c){"Control"===c.key?(k=!1,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k})):"Alt"===c.key&&(e=!0,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k}))})],g=this._operationHandleForCreateAction(b,c.concat(t),a);return g};c.prototype._setupCreateRectangleOperation=function(a,c){var f=this,b=this._draw.create(a,c),k=!1,e=!1;c=[b.on("vertex-add",
function(c){var b=c.type,m=c.vertices;c=m[c.vertexIndex];f._drawSegmentGraphic(a,m,{centered:e,constrained:k});f._emitCreateEvent({graphic:f.createGraphic,state:1===m.length?"start":"active",tool:a,toolEventInfo:{added:c,type:b}})}),b.on("cursor-update",function(c){var b=c.type;c=c.vertices;f._drawSegmentGraphic(a,c,{centered:e,constrained:k});2===c.length&&f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:c[c.length-1],type:b}})}),b.on("draw-complete",function(a){a=
a.vertices.slice(0);var c=null,c=U.createViewAlignedCoordinateSystem(f.view,a[0]);1===a.length&&(e=k=!1);c=k?U.createSquare(a,c,e):U.createRectangle(a,c,e);f.createGraphic?f.createGraphic.geometry=c:(f._removeCreateGraphic(),f._set("createGraphic",new I(c,f.polygonSymbol)));g&&g.complete()})];var t=[this.view.on("pointer-move",function(a){f.view.toMap(T.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()}),this.view.on("key-down",function(c){"Control"!==c.key||k?"Alt"!==
c.key||e?"Escape"===c.key&&g&&g.cancel():(e=!0,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k})):(k=!0,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k}))}),this.view.on("key-up",function(c){"Control"===c.key?(k=!1,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k})):"Alt"===c.key&&(e=!1,f._drawSegmentGraphic(a,b.vertices,{centered:e,constrained:k}))})],g=this._operationHandleForCreateAction(b,c.concat(t),a);return g};c.prototype._setupUpdateOperation=function(a,
c){return h(this,void 0,void 0,function(){var f,b,k,e,t,g,X,Q,n,q,h;return d(this,function(m){f=this;b=f._defaultUpdateTool;k=f.defaultUpdateOptions;e=f.layer;t=f.view;g=w({},k,c);X=g.tool||b;Q=0;for(n=a;Q<n.length;Q++)q=n[Q],e.remove(q),e.add(q);if("3d"===t.type){a=a.filter(function(a){return E.isSome(a.geometry)&&!a.geometry.hasZ&&"mesh"!==a.geometry.type});if("reshape"===X&&1<a.length)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null];
if("move"===X||1<a.length)return[2,this._setupMoveOrTransform3DOperation(a,g,t)];if(1===a.length){q=a[0];h=E.get(q.geometry,"type");if("point"===h)return[2,V.isSupportedGraphic(q)?this._setupPointTransform3DOperation(q,g,t):this._setupMoveOrTransform3DOperation(a,g,t)];if("reshape"===X&&S.isSupportedGraphic(q))return[2,this._setupReshape3DOperation(q,g,t)];if("transform"===X)return[2,this._setupMoveOrTransform3DOperation(a,g,t,"transform")]}return[2,null]}if("move"===X)return[2,this._setupMoveOperation(a,
g,t)];if(1<a.length)return"reshape"===X?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null]):[2,this._setupTransformOrReshapeOperation(a,X,g,t)];if(1===a.length){q=a[0];h=E.get(q.geometry,"type");if("point"===h||"multipoint"===h)return[2,this._setupMoveOperation(a,g,t)];if("transform"===X||"reshape"===X)return[2,this._setupTransformOrReshapeOperation(a,X,g,t)]}return[2,null]})})};c.prototype._setupMoveOrTransform3DOperation=function(a,c,b,e,
A){void 0===e&&(e="move");void 0===A&&(A=!1);return h(this,void 0,void 0,function(){var f,k,m,u,t=this;return d(this,function(B){switch(B.label){case 0:return[4,N.create(function(a){F(["../../views/3d/interactive/editingTools"],a)})];case 1:return f=B.sent().GraphicMove3DTool,k=new f({view:b}),this.view.tools.add(k),k.graphics.addMany(a),A||this.updateGraphics.addMany(a),m=[],u=new Z.OperationHandle({activeComponent:k,tool:e,type:"update",onEnd:function(){m.forEach(function(a){return a.remove()});
m.length=0;t.view.tools.remove(k);k.destroy()},undo:function(){W(u,t.updateGraphics.toArray());t._emitUndoEvent({graphics:t.updateGraphics.toArray(),tool:e})},redo:function(){fa(u,t.updateGraphics.toArray());t._emitRedoEvent({graphics:t.updateGraphics.toArray(),tool:e})},addToSelection:function(a){t.updateGraphics.push(a);k.graphics.push(a);t._emitUpdateEvent({graphics:t.updateGraphics.toArray(),state:"active",tool:t.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=
t.updateGraphics.indexOf(a);u.history.undo.forEach(function(a){return a.updates.splice(c,1)});u.history.redo.forEach(function(a){return a.updates.splice(c,1)});t.updateGraphics.remove(a);0===t.updateGraphics.length?G(u):k.graphics.remove(a)},toggleTool:function(){return h(t,void 0,void 0,function(){var a,f;return d(this,function(k){switch(k.label){case 0:if(1!==this.updateGraphics.length||!1===c.toggleToolOnClick||"transform"!==e)return[2];a=this.updateGraphics.getItemAt(0);return S.isSupportedGraphic(a)?
[4,this._setupReshape3DOperation(a,c,b,!0)]:[2];case 1:return f=k.sent(),u.onEnd(),u.destroy(),this._setUpdateOperationHandle(f),[2]}})})}}),m.push.apply(m,this._getHandlesForComponent(u).concat([this.view.on("click",function(a){return t._getCommonUpdateOperationClickHandlers(u,a)}),this.view.on("key-down",function(a){return t._getCommonUpdateOperationKeyDownHandlers(u,a)})])),[2,u]}})})};c.prototype._setupPointTransform3DOperation=function(a,c,b){return h(this,void 0,void 0,function(){var f,k,m,
e,t,g,Q,n=this;return d(this,function(u){switch(u.label){case 0:return f="transform",k=c.enableRotation,m=c.enableScaling,[4,N.create(function(a){F(["../../views/3d/interactive/editingTools"],a)})];case 1:return e=u.sent().GraphicTransform3DTool,t=new e({view:b,enableRotation:k,enableScaling:m}),this.view.tools.add(t),t.graphic=a,this.updateGraphics.add(a),g=[],Q=new Z.OperationHandle({activeComponent:t,tool:f,type:"update",onEnd:function(){g.forEach(function(a){return a.remove()});g.length=0;n.view.tools.remove(t);
t.destroy()},undo:function(){W(Q,n.updateGraphics.toArray());n._emitUndoEvent({graphics:n.updateGraphics.toArray(),tool:f})},redo:function(){fa(Q,n.updateGraphics.toArray());n._emitRedoEvent({graphics:n.updateGraphics.toArray(),tool:f})}}),g.push.apply(g,this._getHandlesForComponent(Q).concat([this.view.on("click",function(a){return n._getCommonUpdateOperationClickHandlers(Q,a)}),this.view.on("key-down",function(a){return n._getCommonUpdateOperationKeyDownHandlers(Q,a)})])),[2,Q]}})})};c.prototype._setupMoveOperation=
function(a,c,b){return h(this,void 0,void 0,function(){var f,k,m,e,t,g,Q=this;return d(this,function(u){switch(u.label){case 0:return f=[],k="move",a.forEach(function(a){f.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=Q._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),m=[b.on("click",function(a){return Q._getCommonUpdateOperationClickHandlers(t,a,c)}),b.on("key-down",function(a){return Q._getCommonUpdateOperationKeyDownHandlers(t,a)}),b.on("key-down",function(a){"Control"!==
a.key||a.repeat||(e.enableMoveAllGraphics=!e.enableMoveAllGraphics)}),b.on("key-up",function(a){"Control"===a.key&&(e.enableMoveAllGraphics=!e.enableMoveAllGraphics)})],[4,this._getGraphicMover(a,c,b)];case 1:return e=u.sent(),t=new Z.OperationHandle({activeComponent:e,tool:k,type:"update",onEnd:function(){g.forEach(function(a){return a.remove()});m.forEach(function(a){return a.remove()});g=[];m=[];e.destroy();Q._internalGraphicsLayer&&Q._internalGraphicsLayer.removeMany(Q.updateGraphics.toArray());
Q.updateGraphics.forEach(function(a,c){a.symbol=f[c].symbol})},undo:function(){W(t,Q.updateGraphics.toArray());Q._emitUndoEvent({graphics:Q.updateGraphics.toArray(),tool:k})},redo:function(){fa(t,Q.updateGraphics.toArray());Q._emitRedoEvent({graphics:Q.updateGraphics.toArray(),tool:k})},addToSelection:function(a){f.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=Q._getUpdateSymbol(a.geometry);Q.updateGraphics.push(a);e.graphics=Q.updateGraphics.toArray();Q._emitUpdateEvent({graphics:Q.updateGraphics.toArray(),
state:"active",tool:Q.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=Q.updateGraphics.indexOf(a);t.history.undo.forEach(function(a){return a.updates.splice(c,1)});t.history.redo.forEach(function(a){return a.updates.splice(c,1)});var b=f.splice(c,1)[0];a.symbol=b.symbol;Q.updateGraphics.remove(a);0===Q.updateGraphics.length?G(t):e.graphics=Q.updateGraphics.toArray()}}),g=this._getHandlesForComponent(t),[2,t]}})})};c.prototype._setupReshape3DOperation=
function(a,c,b,e){void 0===e&&(e=!1);return h(this,void 0,void 0,function(){var f,k,m,u,t,g=this;return d(this,function(A){switch(A.label){case 0:return f="reshape",[4,N.create(function(a){F(["../../views/3d/interactive/editingTools"],a)})];case 1:return k=A.sent().GraphicReshape3DTool,m=new k({view:b,graphic:a}),b.tools.add(m),e||this.updateGraphics.add(a),u=[],t=new Z.OperationHandle({activeComponent:m,tool:f,type:"update",onEnd:function(){u.forEach(function(a){return a.remove()});u.length=0;b.tools.remove(m);
m.destroy()},undo:function(){W(t,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:f})},redo:function(){fa(t,g.updateGraphics.toArray());g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:f})},toggleTool:function(){return h(g,void 0,void 0,function(){var a;return d(this,function(f){switch(f.label){case 0:return!1===c.toggleToolOnClick?[2]:[4,this._setupMoveOrTransform3DOperation(this.updateGraphics.toArray(),c,b,"transform",!0)];case 1:return a=f.sent(),
t.onEnd(),t.destroy(),this._setUpdateOperationHandle(a),[2]}})})}}),u.push.apply(u,this._getHandlesForComponent(t).concat([b.on("click",function(a){return g._getCommonUpdateOperationClickHandlers(t,a)}),b.on("key-down",function(a){return g._getCommonUpdateOperationKeyDownHandlers(t,a)})])),[2,t]}})})};c.prototype._setupTransformOrReshapeOperation=function(a,c,b,e){return h(this,void 0,void 0,function(){var f,k,m,u,t,g,n,q,l,p,v=this;return d(this,function(A){switch(A.label){case 0:return f=b.multipleSelectionEnabled,
k=void 0===f?!0:f,m=b.toggleToolOnClick,u=void 0===m?!0:m,t=[],a.forEach(function(a){t.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=v._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),g=[e.on("click",function(a){v._hitTest(T.createScreenPointFromEvent(a)).then(function(c){if(l)if(c=c.results,c.length){var f=l.activeComponent,b=a.native&&a.native.shiftKey;c.some(function(a){if(a.graphic){a=a.graphic;if(k&&b&&f&&"box"===f.type&&!f.isUIGraphic(a))return l.addToSelection(a),!0;if(f&&
"box"===f.type&&f.isUIGraphic(a))return!1!==u&&1===v.updateGraphics.length&&(a=v.updateGraphics.getItemAt(0).geometry,"extent"===E.get(a,"type")?v._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."):l.toggleTool()),!0;if(f&&"reshape"===f.type){if(a===f.graphic)return!1!==u&&l.toggleTool(),!0;if(f.isUIGraphic(a)||a.layer===v._internalGraphicsLayer)return!0}else a.layer===v.layer&&G(l)}})?a.stopPropagation():G(l)}else G(l)})}),e.on("key-down",
function(a){return v._getCommonUpdateOperationKeyDownHandlers(l,a)}),e.on("key-down",function(a){"Control"===a.key&&!a.repeat&&l&&(a=l.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)}),e.on("key-up",function(a){"Control"===a.key&&l&&(a=l.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)})],"transform"!==c?[3,2]:[4,this._getBox(a,b,e)];case 1:return q=A.sent(),[3,4];case 2:return[4,this._getReshape(a,b,e)];case 3:q=A.sent(),A.label=4;
case 4:return n=q,l=new Z.OperationHandle({activeComponent:n,type:"update",onEnd:function(){p.forEach(function(a){return a.remove()});g.forEach(function(a){return a.remove()});p=[];g=[];l.activeComponent.destroy();v._internalGraphicsLayer.removeMany(v.updateGraphics.toArray());v.updateGraphics.forEach(function(a,c){t[c]&&t[c].symbol&&(a.symbol=t[c].symbol)})},undo:function(){W(l,v.updateGraphics.toArray());l.refreshComponent();v._emitUndoEvent({graphics:v.updateGraphics.toArray(),tool:l.tool})},redo:function(){fa(l,
v.updateGraphics.toArray());l.refreshComponent();v._emitRedoEvent({graphics:v.updateGraphics.toArray(),tool:l.tool})},addToSelection:function(a){var c=l.activeComponent;t.push(new I(a.geometry,a.symbol,a.attributes));a.symbol=v._getUpdateSymbol(a.geometry);v.updateGraphics.add(a);c.graphics=v.updateGraphics.toArray();c.refresh();l.resetHistory();v._emitUpdateEvent({graphics:v.updateGraphics.toArray(),state:"active",tool:v.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=
l.activeComponent,f=v.updateGraphics.indexOf(a);l.history.undo.forEach(function(a){return a.updates.splice(f,1)});l.history.redo.forEach(function(a){return a.updates.splice(f,1)});var b=t.splice(f,1)[0];a.symbol=b.symbol;v.updateGraphics.remove(a);0===v.updateGraphics.length?G(l):c.graphics=v.updateGraphics.toArray()},toggleTool:function(){return h(v,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:if(1<this.updateGraphics.length)return[2];c=null;return"transform"!==
l.tool?[3,2]:[4,this._getReshape(a,b,e)];case 1:return c=f.sent(),[3,4];case 2:return"reshape"!==l.tool?[3,4]:[4,this._getBox(a,b,e)];case 3:c=f.sent(),f.label=4;case 4:return l.activeComponent.destroy(),l.activeComponent=c,l.activeComponent&&(p.forEach(function(a){return a.remove()}),p=this._getHandlesForComponent(l)),[2]}})})}}),p=this._getHandlesForComponent(l),[2,l]}})})};c.prototype._getGraphicMover=function(a,c,b){return h(this,void 0,void 0,function(){var f,k,m,e=this;return d(this,function(u){switch(u.label){case 0:return f=
c.enableMoveAllGraphics,k=void 0===f?!0:f,[4,N.create(function(a){return F(["../../views/draw/support/GraphicMover"],a)})];case 1:return m=u.sent(),[2,new m({enableMoveAllGraphics:k,graphics:a,view:b,callbacks:{onGraphicMoveStart:function(a){var c=a.dx,f=a.dy;a=a.graphic;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move-start"}})},onGraphicMove:function(a){var c=a.dx,f=a.dy;a=a.graphic;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),
state:"active",tool:e.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move"}})},onGraphicMoveStop:function(a){var c=a.dx,f=a.dy;a=a.graphic;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move-stop"}})},onGraphicPointerOver:function(a){return e._displayDefaultCursor()},onGraphicPointerOut:function(a){return e._displayDefaultCursor()}}})]}})})};c.prototype._getBox=function(a,c,b){return h(this,void 0,void 0,function(){var f,
k,m,e,t,g,Q,n=this;return d(this,function(u){switch(u.label){case 0:return f=c.enableRotation,k=void 0===f?!0:f,m=c.enableScaling,e=void 0===m?!0:m,t=c.preserveAspectRatio,g=void 0===t?!1:t,[4,N.create(function(a){return F(["../../views/draw/support/Box"],a)})];case 1:return Q=u.sent(),[2,new Q({graphics:a,enableRotation:k,enableScaling:e,preserveAspectRatio:g,layer:this._internalGraphicsLayer,view:b,callbacks:{onMoveStart:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),
state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onMove:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onMoveStop:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onScaleStart:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onScale:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),
state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onScaleStop:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onRotateStart:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onRotate:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),state:"active",tool:n.activeTool,toolEventInfo:w({},a)})},onRotateStop:function(a){return n._emitUpdateEvent({graphics:n.updateGraphics.toArray(),
state:"active",tool:n.activeTool,toolEventInfo:w({},a)})}}})]}})})};c.prototype._getReshape=function(a,c,b){return h(this,void 0,void 0,function(){var f,k,m,e=this;return d(this,function(u){switch(u.label){case 0:return f=c.enableMidpoints,k=void 0===f?!0:f,[4,N.create(function(a){return F(["../../views/draw/support/Reshape"],a)})];case 1:return m=u.sent(),[2,new m({enableMidpoints:k,graphic:a[0],layer:this._internalGraphicsLayer,view:b,callbacks:{onReshapeStart:function(a){return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),
state:"active",tool:e.activeTool,toolEventInfo:w({},a)})},onReshape:function(a){return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:w({},a)})},onReshapeStop:function(a){var c=a.mover;a=a.type;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{mover:c,type:a}})},onMoveStart:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),
state:"active",tool:e.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onMove:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onMoveStop:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onVertexAdd:function(a){var c=
a.type;a=a.added.map(function(a){return n.geometryToCoordinates(a.geometry)});e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{added:a,type:c}})},onVertexRemove:function(a){var c=a.type;a=a.removed.map(function(a){return n.geometryToCoordinates(a.geometry)});e._emitUpdateEvent({graphics:e.updateGraphics.toArray(),state:"active",tool:e.activeTool,toolEventInfo:{removed:a,type:c}})}}})]}})})};c.prototype._getHandlesForComponent=function(a){var c=
this,f=a.activeComponent;switch(f.type){case "graphic-mover":return[f.on("graphic-move-start",function(c){return a.addToHistory(aa(c.allGraphics))})];case "box":return[f.on("move-start",function(c){return a.addToHistory(aa(c.graphics))}),f.on("rotate-start",function(c){return a.addToHistory(aa(c.graphics))}),f.on("scale-start",function(c){return a.addToHistory(aa(c.graphics))})];case "reshape":return[f.on("move-start",function(c){return a.addToHistory(aa([c.mover]))}),f.on("reshape-start",function(c){return a.addToHistory(aa([c.graphic]))}),
f.on("vertex-add",function(c){return a.addToHistory(aa([c.oldGraphic]))}),f.on("vertex-remove",function(c){return a.addToHistory(aa([c.oldGraphic]))})];case "move-3d":return[f.on("graphic-move-start",function(f){a.addToHistory(aa(f.allGraphics));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<f.allGraphics.length?f.allGraphics[0]:null,type:"move-start"}})}),f.on("graphic-move",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:{dx:a.dx,dy:a.dy,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move"}})}),f.on("graphic-move-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-stop"}})}),f.on("click",function(){return a.toggleTool()})];case "transform-3d":return[f.on("graphic-translate-start",function(f){a.addToHistory(aa([f.graphic]));
c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:f.graphic,dx:0,dy:0,type:"move-start"}})}),f.on("graphic-translate-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:0,dy:0,type:"move-stop"}})}),f.on("graphic-rotate-start",function(f){a.addToHistory(e([f.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,
toolEventInfo:{mover:f.graphic,angle:0,type:"rotate-start"}})}),f.on("graphic-rotate-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,angle:0,type:"rotate-stop"}})}),f.on("graphic-scale-start",function(f){a.addToHistory(e([f.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:f.graphic,xScale:1,yScale:1,type:"scale-start"}})}),f.on("graphic-scale-stop",
function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,xScale:1,yScale:1,type:"scale-stop"}})}),f.on("graphic-translate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dx,dy:a.dy,type:"move"}})}),f.on("graphic-rotate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,
angle:a.angle,type:"rotate"}})}),f.on("graphic-scale",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale"}})})];case "reshape-3d":return[f.on("reshape-start",function(f){a.addToHistory(aa([f.graphic]));f.isDragging&&(f=f.fromTranslation?{mover:f.graphic,dx:0,dy:0,type:"move-start"}:{mover:f.graphic,type:"reshape-start"},c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:f}))}),f.on("vertex-move",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,type:"reshape"}})}),f.on("translate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move"}})}),f.on("reshape-stop",function(a){a.isDragging&&(a=a.fromTranslation?{mover:a.graphic,
dx:0,dy:0,type:"move-stop"}:{mover:a.graphic,type:"reshape-stop"},c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:a}))}),f.on("vertex-add",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{added:a.coords,type:"vertex-add"}})}),f.on("vertex-remove",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{removed:a.coords,
type:"vertex-remove"}})}),f.on("click",function(){return a.toggleTool()})];case "draw":return null;default:v.neverReached(f)}};c.prototype._setUpdateOperationHandle=function(a){var c=this;this._operationHandle=a;var f=this.view,b=f.map,e=f.popup,B=!0;e&&(B=e.autoOpenEnabled,e.autoOpenEnabled=!1);f=function(){if(a===c._operationHandle){var f=a.cancelled?"cancel":"complete",k=c.updateGraphics.toArray(),m=c._operationHandle.tool;c._operationHandle.destroy();c._operationHandle=null;c._internalGraphicsLayer.removeMany(c.updateGraphics.toArray());
c.updateGraphics.removeAll();b&&b.remove(c._internalGraphicsLayer);e&&(e.autoOpenEnabled=B);c._emitUpdateEvent({graphics:k,state:f,tool:m,toolEventInfo:null})}};a.on("complete",f);a.on("cancel",f)};c.prototype._getCommonUpdateOperationClickHandlers=function(a,c,b){var f=this,k=T.createScreenPointFromEvent(c),m=this.view.toolViewManager.handlesClickEvent(c);this._hitTest(k).then(function(k){k=k.results;if(k.length||m){var e=c.native&&c.native.shiftKey,u=b?!!b.multipleSelectionEnabled:!0;k.some(function(c){if(c.graphic&&
(c=c.graphic,u&&e&&c.layer===f.layer))return-1===f.updateGraphics.indexOf(c)?a.addToSelection(c):a.removeFromSelection(c),!0})?c.stopPropagation():m||(k.some(function(a){return a.graphic&&-1<f.updateGraphics.indexOf(a.graphic)})?c.stopPropagation():G(a))}else G(a)})};c.prototype._getCommonUpdateOperationKeyDownHandlers=function(a,c){if(a){var f=c.key;"z"===f&&a.canUndo()?(c.stopPropagation(),a.undo()):"r"===f&&a.canRedo()?(c.stopPropagation(),a.redo()):"Escape"===f?G(a):0<=b.indexOf(f)&&this._onDeleteKey()}};
c.prototype._onDeleteKey=function(){if(this._operationHandle&&"update"===this._operationHandle.type){var a=this.activeComponent;a&&"reshape"!==a.type&&"reshape-3d"!==a.type&&(a=this.updateGraphics.toArray(),this.layer.removeMany(a),this._emitDeleteEvent({graphics:a,tool:this.activeTool}))}};c.prototype._getCreateSymbol=function(a,c){void 0===c&&(c=!1);c="3d"!==this.view.type&&c;switch(a.type){case "point":case "multipoint":return c?this.activePointSymbol:this.pointSymbol;case "polyline":return c?
this.activeLineSymbol:this.polylineSymbol;case "polygon":return c?this.activeFillSymbol:this.polygonSymbol}return null};c.prototype._getUpdateSymbol=function(a){if(E.isNone(a))return null;switch(a.type){case "point":case "multipoint":return this.updatePointSymbol;case "polyline":return this.updatePolylineSymbol;case "polygon":case "extent":return this.updatePolygonSymbol}return null};c.prototype._drawMultipointGraphic=function(a,c){var f=null;!c&&1<a.length?(f=a.slice(0),f.pop(),f=U.createMultipoint(f,
this.view.spatialReference)):f=U.createMultipoint(a,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=f:this._set("createGraphic",new I(f,this.pointSymbol));c&&1===a.length&&this._internalGraphicsLayer.add(this.createGraphic)};c.prototype._drawVertexGraphics=function(a,c,b){b=!(!b||!b.userClicked);var f="polygon"===a,k=f?this.polygonSymbol:this.polylineSymbol;if(1===c.length){this._removeLineGraphic();this._removeActiveLineGraphic();a=c[0];var m=a[0],e=a[1],t=new p.Point(m,
e,this.view.spatialReference),f=f?U.createPolygon([c],this.view.spatialReference,this._doUnnormalization,!0):U.createPolyline([c],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length?this._vertexGraphics[0].geometry=t:this._vertexGraphics.push(new I(t,this.activeVertexSymbol));this.createGraphic?this.createGraphic.geometry=f:this._set("createGraphic",new I(f,k));b&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===c.length)k=c[1],m=k[0],e=k[1],a=new p.Point(m,
e,this.view.spatialReference),m=this.vertexSymbol,k=U.createPolyline([c],this.view.spatialReference,this._doUnnormalization),f=f?U.createPolygon([c],this.view.spatialReference,this._doUnnormalization,!0):U.createPolyline([c],this.view.spatialReference,this._doUnnormalization),this._vertexGraphics.length||(c=c[0],t=new p.Point(c[0],c[1],this.view.spatialReference),c=new I(t,m),this._vertexGraphics.push(c)),1===this._vertexGraphics.length?(c=this._vertexGraphics[0],a=new I(a,m),this._removeLineGraphic(),
this._removeActiveFillGraphic(),this._vertexGraphics.push(a),this._internalGraphicsLayer.remove(c),this._internalGraphicsLayer.add(c)):this._vertexGraphics[1].geometry=a,this._showActiveLineGraphic(k),c=this._vertexGraphics[0],b&&(this._activeLineGraphic.symbol=this.polylineSymbol,c.symbol=this.vertexSymbol,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?this.createGraphic.geometry=f:this._set("createGraphic",new I(f,this.polygonSymbol)),this._internalGraphicsLayer.remove(c),
this._internalGraphicsLayer.add(c);else if(2<c.length){f=f?U.createPolygon([c],this.view.spatialReference,this._doUnnormalization,!0):U.createPolyline([c],this.view.spatialReference,this._doUnnormalization);"polygon"===a&&this._showFillGraphic(f);a=c.map(function(a){return[a[0],a[1]]});m=a.pop();t=[a[a.length-1],m];m=U.createPolyline([a],this.view.spatialReference,this._doUnnormalization);t=U.createPolyline([t],this.view.spatialReference,this._doUnnormalization);this._showLineGraphic(m);this._showActiveLineGraphic(t);
for(t=0;t<a.length;t++)(m=this._vertexGraphics[t])?m.symbol=b||t!==this._vertexGraphics.length-1?this.vertexSymbol:this.activeVertexSymbol:(e=c[t],m=e[0],e=e[1],this._showVertexGraphic(new p.Point(m,e,this.view.spatialReference)));b?(this._activeLineGraphic.symbol=this.polylineSymbol,b=c[c.length-1],m=b[0],e=b[1],this._showVertexGraphic(new p.Point(m,e,this.view.spatialReference))):this._activeLineGraphic.symbol=this.activeLineSymbol;this.createGraphic?this.createGraphic.geometry=f:(this._removeCreateGraphic(),
this._set("createGraphic",new I(f,k)));b=0;for(f=this._vertexGraphics;b<f.length;b++)c=f[b],this._internalGraphicsLayer.remove(c),this._internalGraphicsLayer.add(c)}};c.prototype._drawSegmentGraphic=function(a,c,b){if(c.length){var f=U.createViewAlignedCoordinateSystem(this.view,c[0]),k=!(!b||!b.centered);b=!(!b||!b.constrained);var m=null;1===c.length?this._removeCenterIndicatorGraphic():("rectangle"===a?m=b?U.createSquare(c,f,k):U.createRectangle(c,f,k):"circle"===a&&(m=b?U.createEllipse(c,f,k):
U.createCircle(c,f,k)),m.extent&&m.extent.center&&this._showCenterIndicatorGraphic(m.extent.center));m?this.createGraphic?this.createGraphic.geometry=m:(this._removeCreateGraphic(),this._set("createGraphic",new I(m,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}};c.prototype._showCenterIndicatorGraphic=function(a){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=a:(this._centerIndicatorGraphic=new I(a,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))};
c.prototype._removeCenterIndicatorGraphic=function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)};c.prototype._showActiveLineGraphic=function(a){this._activeLineGraphic?this._activeLineGraphic.geometry=a:(this._activeLineGraphic=new I(a,this.activeLineSymbol),this._internalGraphicsLayer.graphics.add(this._activeLineGraphic,0))};c.prototype._showFillGraphic=function(a){this._activeFillGraphic?
this._activeFillGraphic.geometry=a:(this._activeFillGraphic=new I(a,this._getCreateSymbol(a,!0)),this._internalGraphicsLayer.add(this._activeFillGraphic))};c.prototype._showLineGraphic=function(a){this._lineGraphic?this._lineGraphic.geometry=a:(this._lineGraphic=new I(a,this.polylineSymbol),this._internalGraphicsLayer.graphics.add(this._lineGraphic,0))};c.prototype._showVertexGraphic=function(a,c){a=new I(a,c?this.activeVertexSymbol:this.vertexSymbol);this._vertexGraphics.push(a);this._internalGraphicsLayer.add(a)};
c.prototype._resetCreateOperationGraphics=function(){this._removeActiveFillGraphic();this._removeLineGraphic();this._removeActiveLineGraphic();this._removeVertexGraphics()};c.prototype._removeCreateGraphic=function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))};c.prototype._removeCreateOperationGraphics=function(){this._removeCenterIndicatorGraphic();this._removeActiveLineGraphic();this._removeActiveFillGraphic();this._removeLineGraphic();
this._removeVertexGraphics()};c.prototype._removeActiveLineGraphic=function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)};c.prototype._removeActiveFillGraphic=function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=null)};c.prototype._removeLineGraphic=function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),
this._lineGraphic.destroy(),this._lineGraphic=null)};c.prototype._removeVertexGraphics=function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach(function(a){return a.destroy()}),this._vertexGraphics=[])};c.prototype._removeDefaultLayer=function(){this._internalGraphicsLayer&&(this.view&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)};c.prototype._operationHandleForCreateAction=
function(a,c,b){var f=this;return new Z.OperationHandle({activeComponent:this._draw,tool:b,type:"create",onEnd:function(){c.forEach(function(a){return a.remove()});c.length=0;f._removeCreateOperationGraphics();f._internalGraphicsLayer&&f._internalGraphicsLayer.remove(f.createGraphic);f._displayDefaultCursor()},undo:function(){a.undo();f._emitUndoEvent({graphics:[f.createGraphic],tool:b})},redo:function(){a.redo();f._emitRedoEvent({graphics:[f.createGraphic],tool:b})},canUndo:function(){return a&&
a.canUndo()},canRedo:function(){return a&&a.canRedo()}})};c.prototype._snap=function(a,c,b){b&&this._snapLastVertexToAxis(c);"polygon"===a&&this._snapLastPolygonVertexToFirst(c)};c.prototype._snapLastPolygonVertexToFirst=function(a){if(!(2>=a.length)){var c=a[0];a=a[a.length-1];var f=this.view.toScreen(new p.Point(c[0],c[1],this.view.spatialReference)),b=this.view.toScreen(new p.Point(a[0],a[1],this.view.spatialReference));this._isWithinScreenDistance(f,b,this._getVertexIntersectDistance())&&(a[0]=
c[0],a[1]=c[1])}};c.prototype._getVertexIntersectDistance=function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?T.pt2px(this.vertexSymbol.size)/2+3:3};c.prototype._isWithinScreenDistance=function(a,c,b){var f=a.x-c.x;a=a.y-c.y;return Math.sqrt(f*f+a*a)<=b};c.prototype._snapLastVertexToAxis=function(a){if(!(2>a.length)){var c=a.pop(),f=a[a.length-1],b=U.createViewAlignedCoordinateSystem(this.view,f),f=b.mapToLocal(f),c=b.mapToLocal(c),e=Math.abs(c.x-f.x),B=Math.abs(c.y-f.y),
b=b.localToMap(U.makeSurfacePoint(e>B?c.x:f.x,e>B?f.y:c.y));a.push(b)}};c.prototype._displayCrosshairCursor=function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")};c.prototype._displayDefaultCursor=function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)};c.prototype._logError=function(a,c,b){t.error(new H(a,c,b))};c.prototype._generateSceneViewHighlightHandles=function(){var a=this,c=function(c,f){var b=a.view;
if(b&&"2d"!==b.type){var k=b.allLayerViews.find(function(a){return a.layer.uid===f.uid});k&&(c.added&&c.added.forEach(function(c){a._highlightHandlesByGraphic.add(k.highlight(c),c.uid)}),c.removed&&c.removed.forEach(function(c){a._highlightHandlesByGraphic.remove(c.uid)}))}};return[this.updateGraphics.on("after-add",function(f){c({added:[f.item]},a.layer)}),this.updateGraphics.on("after-remove",function(f){c({removed:[f.item]},a.layer)}),this._internalGraphicsLayer.graphics.on("after-add",function(f){c({added:[f.item]},
a._internalGraphicsLayer)}),this._internalGraphicsLayer.graphics.on("after-remove",function(f){c({removed:[f.item]},a._internalGraphicsLayer)}),M.on(this,"view.allLayerViews","change",function(f){if(f.added){var b=0;for(f=f.added;b<f.length;b++){var k=f[b];k.layer===a.layer?c({added:a.updateGraphics.toArray(),removed:[]},k.layer):k.layer===a._internalGraphicsLayer&&c({added:a._internalGraphicsLayer.graphics.toArray(),removed:[]},k.layer)}}})]};c.prototype._emitCreateEvent=function(a){this.emit("create",
w({},a,{type:"create"}))};c.prototype._emitUpdateEvent=function(a){this.emit("update",w({},a,{type:"update"}))};c.prototype._emitResetEvent=function(){this.emit("reset",{type:"reset"})};c.prototype._emitUndoEvent=function(a){this.emit("undo",w({},a,{type:"undo"}))};c.prototype._emitRedoEvent=function(a){this.emit("redo",w({},a,{type:"redo"}))};c.prototype._emitDeleteEvent=function(a){this.emit("delete",w({},a,{type:"delete"}))};r([K.property({dependsOn:["state"],readOnly:!0})],c.prototype,"_draw",
null);r([K.property()],c.prototype,"_operationHandle",void 0);r([K.property({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],c.prototype,"activeTool",null);r([K.property()],c.prototype,"activeFillSymbol",void 0);r([K.property()],c.prototype,"activeLineSymbol",void 0);r([K.property()],c.prototype,"activePointSymbol",void 0);r([K.property()],c.prototype,"activeVertexSymbol",void 0);r([K.property({readOnly:!0})],c.prototype,"createGraphic",void 0);r([K.property()],c.prototype,"defaultUpdateOptions",
void 0);r([K.property()],c.prototype,"layer",void 0);r([K.property({types:z.symbolTypes})],c.prototype,"pointSymbol",void 0);r([K.property({types:z.symbolTypes})],c.prototype,"polygonSymbol",void 0);r([K.property({types:z.symbolTypes})],c.prototype,"polylineSymbol",void 0);r([K.property({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],c.prototype,"state",null);r([K.property({readOnly:!0})],c.prototype,"updateGraphics",void 0);r([K.property()],c.prototype,"updateOnGraphicClick",
void 0);r([K.property({types:z.symbolTypes})],c.prototype,"updatePointSymbol",void 0);r([K.property({types:z.symbolTypes})],c.prototype,"updatePolygonSymbol",void 0);r([K.property({types:z.symbolTypes})],c.prototype,"updatePolylineSymbol",void 0);r([K.property({types:z.symbolTypes})],c.prototype,"vertexSymbol",void 0);r([K.property({value:null})],c.prototype,"view",null);r([K.property()],c.prototype,"cancel",null);r([K.property()],c.prototype,"complete",null);r([K.property()],c.prototype,"create",
null);r([K.property()],c.prototype,"reset",null);r([K.property()],c.prototype,"update",null);r([K.property()],c.prototype,"undo",null);r([K.property()],c.prototype,"redo",null);r([K.property()],c.prototype,"canUndo",null);r([K.property()],c.prototype,"canRedo",null);r([K.property()],c.prototype,"toggleUpdateTool",null);return c=r([K.subclass("esri.widgets.Sketch.SketchViewModel")],c)}(K.declared(x,D))})},"esri/views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic":function(){define(["require",
"exports","../../../../../core/maybe"],function(F,y,w){function l(l){return w.isSome(l)&&("polygon"===l.type||"polyline"===l.type)}Object.defineProperty(y,"__esModule",{value:!0});y.isSupportedGeometry=l;y.isSupportedGraphic=function(r){return l(r.geometry)}})},"esri/views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic":function(){define(["require","exports","../../../../../core/maybe"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.isSupportedGraphic=function(l){var r=
w.isSome(l.symbol)&&"point-3d"===l.symbol.type&&l.symbol.symbolLayers;return!!r&&0<r.length&&r.some(function(d){return"object"===d.type})&&w.isSome(l.geometry)&&"point"===l.geometry.type&&"graphics"===l.layer.type}})},"esri/views/draw/Draw":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/accessorSupport/decorators ./MultipointDrawAction ./PointDrawAction ./PolygonDrawAction ./PolylineDrawAction ./SegmentDrawAction".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C){return function(d){function v(){var h=null!==d&&d.apply(this,arguments)||this;h.activeAction=null;h.type="draw";h.view=null;return h}w(v,d);v.prototype.destroy=function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)};v.prototype.create=function(d,g){this.reset();g=r({view:this.view},g);switch(d){case "point":this.activeAction=new I(g);break;case "polygon":this.activeAction=new z(g);break;case "polyline":this.activeAction=new x(g);break;
case "multipoint":this.activeAction=new p(g);break;case "rectangle":case "circle":case "ellipse":case "triangle":this.activeAction=new C(g)}return this.activeAction};v.prototype.complete=function(){this.activeAction&&this.activeAction.complete();this.activeAction=null};v.prototype.reset=function(){this.activeAction&&this.activeAction.destroy();this.activeAction=null};l([h.property()],v.prototype,"activeAction",void 0);l([h.property({readOnly:!0})],v.prototype,"type",void 0);l([h.property()],v.prototype,
"view",void 0);return v=l([h.subclass("esri.views.draw.Draw")],v)}(h.declared(d))})},"esri/views/draw/MultipointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(d){function r(g){g=
d.call(this,g)||this;g._cursorMoved=!1;g._cursorScreenPoint=null;g._dragEnabled=!0;g._pointerDownEvent=null;g._viewHandles=new h;g.vertices=[];g.view=null;return g}w(r,d);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};r.prototype.addVertex=function(g,d){var q=this;isNaN(d)?(d=this.vertices.length,this.vertices.push(g)):this.vertices.splice(d,0,g);this.history.push({vertex:g,vertexIndex:d,
undo:function(){return q._undoVertexAdd(null,g,d)},redo:function(){return q._redoVertexAdd(null,g,d)}});this._set("redoHistory",[]);var h=new C.VertexAddEvent(this.view,null,d,this.vertices);this.emit("vertex-add",h);h.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};r.prototype.removeVertex=function(g){var d=this,h=this.vertices.splice(g,1)[0];this.history.push({vertex:h,vertexIndex:g,undo:function(){return d._undoVertexRemove(null,h,g)},redo:function(){return d._redoVertexRemove(null,
h,g)}});this._set("redoHistory",[]);this.emit("vertex-remove",new C.VertexRemoveEvent(this.view,null,g,this.vertices))};r.prototype.updateVertex=function(g,d){var h=this,q=this.vertices[d];this.vertices[d]=g;this.history.push({vertex:g,vertexIndex:d,undo:function(){return h._undoVertexUpdate(null,q,d)},redo:function(){return h._redoVertexUpdate(null,g,d)}});this._set("redoHistory",[]);this.emit("vertex-update",new C.VertexUpdateEvent(this.view,null,d,this.vertices))};r.prototype.complete=function(){this._completeDrawing()};
r.prototype._addViewHandles=function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(g){g.stopPropagation()}),this.view.on("pointer-down",function(d){g._cursorMoved&&g.vertices.pop();g._pointerDownEvent=d;g._cursorMoved=!1;g._cursorScreenPoint=I.createScreenPointFromEvent(d)}),this.view.on("pointer-move",function(d){g._cursorMoved&&g.vertices.pop();g._cursorMoved=!0;g._cursorScreenPoint=I.createScreenPointFromEvent(d);g._cursorUpdateHandler(d)}),this.view.on("pointer-up",
function(d){g._pointerDownEvent&&(g._cursorMoved?(g.vertices.pop(),g._cursorMoved=!1):(g._pointerDownEvent=null,g._vertexAddHandler(d)))}),this.view.on("drag",function(d){g._dragEnabled&&g._pointerDownEvent&&d.stopPropagation()}),this.view.on("drag",["Shift"],function(g){g.stopPropagation()}),this.view.on("double-click",function(d){d.stopPropagation();g._drawCompleteHandler(d)}),this.view.on("double-click",["Control"],function(d){d.stopPropagation();g._drawCompleteHandler(d)}),this.view.on("key-down",
function(d){d.key===v.KEYS.vertexAddKey&&!d.repeat&&g._cursorScreenPoint?(g._cursorMoved&&(g.vertices.pop(),g._cursorMoved=!1),g._vertexAddHandler(d)):d.key===v.KEYS.drawCompleteKey&&!d.repeat&&g._cursorScreenPoint?(g._cursorMoved&&(g.vertices.pop(),g._cursorMoved=!1),g._vertexAddHandler(d),g._drawCompleteHandler(d)):d.key!==v.KEYS.undoKey||d.repeat?d.key!==v.KEYS.redoKey||d.repeat||g.redo():g.undo()})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=
function(g,d){var h=this;this.vertices.push(g);var q=this.vertices.indexOf(g);this.history.push({vertex:g,vertexIndex:q,undo:function(){return h._undoVertexAdd(d,g,q)},redo:function(){return h._redoVertexAdd(d,g,q)}});this._set("redoHistory",[]);var l=new C.VertexAddEvent(this.view,d,q,this.vertices);this.emit("vertex-add",l);l.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};r.prototype._updateCursor=function(g,d){this.vertices.push(g);g=this.vertices.indexOf(g);d=new C.CursorUpdateEvent(this.view,
d,g,this.vertices);this.emit("cursor-update",d)};r.prototype._completeDrawing=function(g){this._cursorMoved=!1;this._pointerDownEvent=null;1>this.vertices.length||(g=new C.DrawCompleteEvent(g,this.vertices),this.emit("draw-complete",g),g.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles())};r.prototype._undoVertexAdd=function(g,d,h){this.vertices.splice(h,1);this.emit("undo",new C.VertexRemoveEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexAdd=function(g,d,h){this.vertices.splice(h,
0,d);this.emit("redo",new C.VertexAddEvent(this.view,g,h,this.vertices))};r.prototype._undoVertexRemove=function(g,d,h){this.vertices.splice(h,0,d);this.emit("undo",new C.VertexAddEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexRemove=function(g,d,h){this.vertices.splice(h,1);this.emit("redo",new C.VertexRemoveEvent(this.view,g,h,this.vertices))};r.prototype._undoVertexUpdate=function(g,d,h){this.vertices[h]=d;this.emit("undo",new C.VertexUpdateEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexUpdate=
function(g,d,h){this.vertices[h]=d;this.emit("redo",new C.VertexUpdateEvent(this.view,g,h,this.vertices))};r.prototype._vertexAddHandler=function(g){var d=this.getCoordsFromScreenPoint(this._cursorScreenPoint);p.isSome(d)&&this._addVertex(d,g.native)};r.prototype._cursorUpdateHandler=function(g){var d=this.getCoordsFromScreenPoint(this._cursorScreenPoint);p.isSome(d)&&this._updateCursor(d,g.native)};r.prototype._drawCompleteHandler=function(g){this._completeDrawing(g.native)};l([z.property({readOnly:!0})],
r.prototype,"vertices",void 0);l([z.property()],r.prototype,"view",void 0);return r=l([z.subclass("esri.views.draw.MultipointDrawAction")],r)}(z.declared(x,r,d))})},"esri/views/draw/DrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/accessorSupport/decorators".split(" "),function(F,y,w,l,r,d,h){return function(d){function p(){var h=null!==d&&d.apply(this,arguments)||this;h.history=
[];h.redoHistory=[];h.view=null;return h}w(p,d);p.prototype.canUndo=function(){return 0<this.history.length};p.prototype.canRedo=function(){return 0<this.redoHistory.length};p.prototype.undo=function(){if(this.canUndo()){var d=this.history.pop();d.undo();this.redoHistory.push(d)}};p.prototype.redo=function(){if(this.canRedo()){var d=this.redoHistory.pop();d.redo();this.history.push(d)}};p.prototype.getCoordsFromScreenPoint=function(d){return(d=this.view.toMap(d))?[d.x,d.y]:null};p.prototype.isDuplicateVertex=
function(d,h){if(d.length){d=d[d.length-1];var l=d[1];return d[0]===h[0]&&l===h[1]}return!1};l([h.property({readOnly:!0})],p.prototype,"history",void 0);l([h.property({readOnly:!0})],p.prototype,"redoHistory",void 0);l([h.property()],p.prototype,"view",void 0);return p=l([h.subclass("esri.views.draw.DrawAction")],p)}(h.declared(r,d))})},"esri/views/draw/input/DrawEvents":function(){define(["require","exports","../../../core/tsSupport/declareExtendsHelper"],function(F,y,w){Object.defineProperty(y,
"__esModule",{value:!0});F=function(){function l(l,d,h,p){this.view=l;this.native=d;this.vertexIndex=h;this.vertices=p;this.defaultPrevented=!1;this.type="vertex-add"}l.prototype.preventDefault=function(){this.defaultPrevented=!0};return l}();y.VertexAddEvent=F;F=function(){function l(l,d,h,p){this.view=l;this.native=d;this.vertexIndex=h;this.vertices=p;this.defaultPrevented=!1;this.type="vertex-update"}l.prototype.preventDefault=function(){this.defaultPrevented=!0};return l}();y.VertexUpdateEvent=
F;F=function(){function l(l,d,h,p){this.view=l;this.native=d;this.vertexIndex=h;this.vertices=p;this.defaultPrevented=!1;this.type="vertex-remove"}l.prototype.preventDefault=function(){this.defaultPrevented=!0};return l}();y.VertexRemoveEvent=F;F=function(){function l(l,d,h,p,w){void 0===w&&(w=null);this.view=l;this.native=d;this.vertexIndex=h;this.vertices=p;this.mapPoint=w;this.defaultPrevented=!1;this.type="cursor-update"}l.prototype.preventDefault=function(){this.defaultPrevented=!0};return l}();
y.CursorUpdateEvent=F;F=function(){function l(l,d){this.native=l;this.vertices=d;this.defaultPrevented=!1;this.type="draw-complete"}l.prototype.preventDefault=function(){this.defaultPrevented=!0};return l}();y.DrawCompleteEvent=F})},"esri/views/draw/input/Keys":function(){define(["require","exports"],function(F,y){Object.defineProperty(y,"__esModule",{value:!0});y.KEYS={drawCompleteKey:"c",redoKey:"r",undoKey:"z",vertexAddKey:"f",panKey:" "}})},"esri/views/draw/PointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/Keys ../input/recognizers/PointerClickHoldAndDrag".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){var H=function(){function g(g,d,h){this.view=g;this.native=d;this.coordinates=h;this.defaultPrevented=!1;this.type="cursor-update"}g.prototype.preventDefault=function(){this.defaultPrevented=!0};return g}(),D=function(){function g(g,d){this.native=g;this.coordinates=d;this.defaultPrevented=!1;this.type="draw-complete"}g.prototype.preventDefault=function(){this.defaultPrevented=!0};return g}();return function(g){function d(d){d=g.call(this,d)||this;d._clickDelay=
v.DefaultParameters.maximumClickDelay;d._cursorMoved=!1;d._cursorScreenPoint=null;d._pointerDownEvent=null;d._viewHandles=new h;d.coordinates=[];d.view=null;return d}w(d,g);d.prototype.initialize=function(){this._addViewHandles()};d.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};d.prototype.complete=function(){if(this._cursorScreenPoint){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);p.isSome(g)&&(this._set("coordinates",g),this._completeDrawing())}};
d.prototype._addViewHandles=function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(d){d.stopPropagation();var h=g.getCoordsFromScreenPoint(d.screenPoint);p.isSome(h)&&(g._set("coordinates",h),g._drawCompleteHandler(d))}),this.view.on("pointer-down",function(d){g._pointerDownEvent=d;g._cursorMoved=!1}),this.view.on("pointer-move",function(d){g._cursorMoved=!0;g._cursorScreenPoint=I.createScreenPointFromEvent(d);g._cursorUpdateHandler(d)}),this.view.on("pointer-up",
function(d){if(g._pointerDownEvent&&!g._cursorMoved&&d.timestamp-g._pointerDownEvent.timestamp>g._clickDelay){g._cursorScreenPoint=I.createScreenPointFromEvent(d);var h=g.getCoordsFromScreenPoint(g._cursorScreenPoint);p.isSome(h)&&(g._set("coordinates",h),g._drawCompleteHandler(d))}}),this.view.on("key-down",function(d){if(d.key===C.KEYS.drawCompleteKey&&g._cursorScreenPoint){var h=g.getCoordsFromScreenPoint(g._cursorScreenPoint);p.isSome(h)&&(g._set("coordinates",h),g._drawCompleteHandler(d))}})])};
d.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};d.prototype._updateCursor=function(g,d){this.emit("cursor-update",new H(this.view,d,g))};d.prototype._completeDrawing=function(g){this._cursorMoved=!1;this._pointerDownEvent=null;g=new D(g,this.coordinates);this.emit("draw-complete",g);g.defaultPrevented||this._removeViewHandles()};d.prototype._cursorUpdateHandler=function(g){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),g.native)};d.prototype._drawCompleteHandler=
function(g){this._completeDrawing(g.native)};l([z.property({readOnly:!0})],d.prototype,"coordinates",void 0);l([z.property()],d.prototype,"view",void 0);return d=l([z.subclass("esri.views.draw.PointDrawAction")],d)}(z.declared(x,r,d))})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/clock ../InputHandler ./support".split(" "),function(F,y,w,l,r,d){Object.defineProperty(y,"__esModule",{value:!0});y.DefaultParameters=
{maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilTouchDrag:6,holdDelay:500};F=function(h){function p(d,p,r,w,v){void 0===d&&(d=y.DefaultParameters.maximumClickDelay);void 0===p&&(p=y.DefaultParameters.movementUntilMouseDrag);void 0===r&&(r=y.DefaultParameters.movementUntilTouchDrag);void 0===w&&(w=y.DefaultParameters.holdDelay);void 0===v&&(v=l.default);var x=h.call(this,!1)||this;x.maximumClickDelay=d;x.movementUntilMouseDrag=p;x.movementUntilTouchDrag=r;x.holdDelay=w;x._clock=v;x._pointerState=
new Map;x._pointerDrag=x.registerOutgoing("pointer-drag");x._immediateClick=x.registerOutgoing("immediate-click");x._pointerHold=x.registerOutgoing("hold");x.registerIncoming("pointer-down",x._handlePointerDown.bind(x));x.registerIncoming("pointer-up",function(d){x._handlePointerLoss(d,"pointer-up")});x.registerIncoming("pointer-capture-lost",function(d){x._handlePointerLoss(d,"pointer-capture-lost")});x.registerIncoming("pointer-cancel",function(d){x._handlePointerLoss(d,"pointer-cancel")});x._moveHandle=
x.registerIncoming("pointer-move",x._handlePointerMove.bind(x));x._moveHandle.pause();return x}w(p,h);p.prototype.onUninstall=function(){this._pointerState.forEach(function(d){null!=d.holdTimeout&&(d.holdTimeout.remove(),d.holdTimeout=null)});h.prototype.onUninstall.call(this)};p.prototype._handlePointerDown=function(d){var h=this,l=d.data,p=l.native.pointerId,v=null;0===this._pointerState.size&&(v=this._clock.setTimeout(function(){var l=h._pointerState.get(p);l&&(l.isDragging||(h._pointerHold.emit(l.previousEvent,
void 0,d.modifiers),l.holdEmitted=!0),l.holdTimeout=null)},this.holdDelay));v={startEvent:l,previousEvent:l,startTimestamp:d.timestamp,isDragging:!1,downButton:l.native.button,holdTimeout:v,modifiers:new Set};this._pointerState.set(p,v);this.startCapturingPointer(l.native);this._moveHandle.resume();1<this._pointerState.size&&this.startDragging(d)};p.prototype._createPointerDragData=function(d,h,l){return{action:d,startEvent:h.startEvent,previousEvent:h.previousEvent,currentEvent:l}};p.prototype._handlePointerMove=
function(h){var l=h.data,p=this._pointerState.get(l.native.pointerId);p&&(p.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",p,l),void 0,p.modifiers):d.euclideanDistance(l,p.startEvent)>("touch"===l.native.pointerType?this.movementUntilTouchDrag:this.movementUntilMouseDrag)&&this.startDragging(h),p.previousEvent=l)};p.prototype.startDragging=function(d){var h=this,l=d.data,p=l.native.pointerId;this._pointerState.forEach(function(v){null!=v.holdTimeout&&(v.holdTimeout.remove(),
v.holdTimeout=null);v.isDragging||(v.modifiers=d.modifiers,v.isDragging=!0,p===v.startEvent.native.pointerId?h._pointerDrag.emit(h._createPointerDragData("start",v,l)):h._pointerDrag.emit(h._createPointerDragData("start",v,v.previousEvent),d.timestamp))})};p.prototype._handlePointerLoss=function(d,h){var l=d.data,p=l.native.pointerId,v=this._pointerState.get(p);v&&(null!=v.holdTimeout&&(v.holdTimeout.remove(),v.holdTimeout=null),v.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",
v,"pointer-up"===h?l:v.previousEvent),void 0,v.modifiers):"pointer-up"===h&&v.downButton===l.native.button&&d.timestamp-v.startTimestamp<=this.maximumClickDelay&&!v.holdEmitted&&this._immediateClick.emit(l),this._pointerState.delete(p),this.stopCapturingPointer(l.native),0===this._pointerState.size&&this._moveHandle.pause())};return p}(r.InputHandler);y.PointerClickHoldAndDrag=F})},"esri/core/clock":function(){define(["require","exports","./global"],function(F,y,w){function l(l){return{setTimeout:function(d,
h){var p=l.setTimeout(d,h);return{remove:function(){return l.clearTimeout(p)}}}}}Object.defineProperty(y,"__esModule",{value:!0});y.wrap=l;y.default=l(w)})},"esri/views/input/recognizers/support":function(){define(["require","exports","../../../core/screenUtils"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.manhattanDistance=function(l,r){return Math.abs(r.x-l.x)+Math.abs(r.y-l.y)};y.euclideanDistance=function(l,r){var d=r.x-l.x;l=r.y-l.y;return Math.sqrt(d*d+l*l)};y.fitCircleLSQ=
function(l,r){r?(r.radius=0,r.center.x=0,r.center.y=0):r={radius:0,center:w.createScreenPoint()};if(0===l.length)return r;if(1===l.length)return r.center.x=l[0].x,r.center.y=l[0].y,r;if(2===l.length){var d=l[0];l=l[1];var h=[l.x-d.x,l.y-d.y],p=h[0],h=h[1];r.radius=Math.sqrt(p*p+h*h)/2;r.center.x=(d.x+l.x)/2;r.center.y=(d.y+l.y)/2;return r}for(var y=0,z=0,x=0;x<l.length;x++)y+=l[x].x,z+=l[x].y;for(var y=y/l.length,z=z/l.length,C=l.map(function(g){return g.x-y}),v=l.map(function(g){return g.y-z}),H=
d=r=0,D=0,g=p=0,x=h=0;x<C.length;x++){var q=C[x],E=v[x],N=q*q,T=E*E;r+=N;d+=T;H+=q*E;D+=N*q;p+=T*E;g+=q*T;h+=E*N}x=r;C=H;v=d;D=.5*(D+g);p=.5*(p+h);h=x*v-H*C;g=(D*v-p*C)/h;p=(x*p-H*D)/h;h=w.createScreenPoint(g+y,p+z);return{radius:Math.sqrt(g*g+p*p+(r+d)/l.length),center:h}}})},"esri/views/draw/PolygonDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(d){function r(g){g=d.call(this,g)||this;g._cursorScreenPoint=null;g._panEnabled=!1;g._cursorVertexAdded=!1;g._popVertexOnPointerMove=!1;g._addVertexOnPointerUp=!1;g._activePointerId=null;g._viewHandles=new h;g.mode="hybrid";g.vertices=[];g.view=null;return g}w(r,d);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(r.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});r.prototype.addVertex=function(g,d){var h=this;this.vertices.splice(d,0,g);this.history.push({vertex:g,vertexIndex:d,undo:function(){return h._undoVertexAdd(null,g,d)},redo:function(){return h._redoVertexAdd(null,g,d)}});this._set("redoHistory",
[]);var l=new C.VertexAddEvent(this.view,null,d,this.vertices);this.emit("vertex-add",l);l.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};r.prototype.removeVertex=function(g){var d=this,h=this.vertices.splice(g,1)[0];this.history.push({vertex:h,vertexIndex:g,undo:function(){return d._undoVertexRemove(null,h,g)},redo:function(){return d._redoVertexRemove(null,h,g)}});this._set("redoHistory",[]);this.emit("vertex-remove",new C.VertexRemoveEvent(this.view,null,g,this.vertices))};
r.prototype.updateVertex=function(g,d){var h=this,l=this.vertices[d];this.vertices[d]=g;this.history.push({vertex:g,vertexIndex:d,undo:function(){return h._undoVertexUpdate(null,l,d)},redo:function(){return h._redoVertexUpdate(null,g,d)}});this._set("redoHistory",[]);this.emit("vertex-update",new C.VertexUpdateEvent(this.view,null,d,this.vertices))};r.prototype.complete=function(){this._completeDrawing()};r.prototype._addViewHandles=function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(g){g.stopPropagation()}),this.view.on("pointer-down",function(d){g._shouldHandlePointerEvent(d)&&!g._panEnabled&&(g._activePointerId=d.pointerId,g._addVertexOnPointerUp=!0,g._cursorScreenPoint=I.createScreenPointFromEvent(d),"touch"===d.pointerType&&g._updateCursor(d.native))}),this.view.on("pointer-move",function(d){g._popVertexOnPointerMove&&(g.vertices.pop(),g._popVertexOnPointerMove=!1);g._cursorScreenPoint=I.createScreenPointFromEvent(d);"touch"!==d.pointerType&&g._updateCursor(d.native)}),
this.view.on("pointer-drag",function(d){g._shouldHandlePointerEvent(d)&&(g._cursorScreenPoint=I.createScreenPointFromEvent(d),g._dragEnabled&&!g._panEnabled?g._vertexAddHandler(d):g._addVertexOnPointerUp=!1)}),this.view.on("pointer-up",function(d){g._shouldHandlePointerEvent(d)&&(g._activePointerId=null,g._addVertexOnPointerUp?g._clickEnabled?g._vertexAddHandler(d):(1===g.vertices.length&&g.vertices.pop(),g._drawCompleteHandler(d)):g._updateCursor(d.native,"touch"===d.pointerType))}),this.view.on("drag",
function(d){g._dragEnabled&&p.isSome(g._activePointerId)&&!g._panEnabled&&d.stopPropagation()}),this.view.on("drag",["Shift"],function(g){g.stopPropagation()}),this.view.on("double-click",function(d){d.stopPropagation();g._drawCompleteHandler(d)}),this.view.on("double-click",["Control"],function(d){d.stopPropagation();g._drawCompleteHandler(d)}),this.view.on("key-down",function(d){var h=d.key,l=d.repeat;h===v.KEYS.vertexAddKey&&!l&&g._cursorScreenPoint?g._vertexAddHandler(d):h===v.KEYS.drawCompleteKey&&
!l&&g._cursorScreenPoint&&2<g.vertices.length?(g._vertexAddHandler(d),g._drawCompleteHandler(d)):h!==v.KEYS.undoKey||l?h!==v.KEYS.redoKey||l?h!==v.KEYS.panKey||l||(g._panEnabled=!0):g.redo():g.undo()}),this.view.on("key-up",function(d){d.key===v.KEYS.panKey&&(g._panEnabled=!1)})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=function(g,d){var h=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,g)){var l=this.vertices.length;this.vertices.push(g);
this.history.push({vertex:g,vertexIndex:l,undo:function(){return h._undoVertexAdd(d,g,l)},redo:function(){return h._redoVertexAdd(d,g,l)}});this._set("redoHistory",[]);var q=new C.VertexAddEvent(this.view,d,l,this.vertices);this.emit("vertex-add",q);q.defaultPrevented&&this.history.pop()}};r.prototype._updateCursor=function(g,d){void 0===d&&(d=!1);this._popCursorVertex();var h=this.view.toMap(this._cursorScreenPoint),l=null;h&&!d&&(l=this._pushCursorVertex([h.x,h.y]));g=new C.CursorUpdateEvent(this.view,
g,l,this.vertices,h);this.emit("cursor-update",g)};r.prototype._completeDrawing=function(g){this._activePointerId=null;this._popCursorVertex();3>this.vertices.length||(g=new C.DrawCompleteEvent(g,this.vertices),this.emit("draw-complete",g),g.defaultPrevented||this._removeViewHandles())};r.prototype._undoVertexAdd=function(g,d,h){this.vertices.splice(h,1);this.emit("undo",new C.VertexRemoveEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexAdd=function(g,d,h){this.vertices.splice(h,0,d);this.emit("redo",
new C.VertexAddEvent(this.view,g,h,this.vertices))};r.prototype._undoVertexRemove=function(g,d,h){this.vertices.splice(h,0,d);this.emit("undo",new C.VertexAddEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexRemove=function(g,d,h){this.vertices.splice(h,1);this.emit("redo",new C.VertexRemoveEvent(this.view,g,h,this.vertices))};r.prototype._undoVertexUpdate=function(g,d,h){this.vertices[h]=d;this.emit("undo",new C.VertexUpdateEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexUpdate=
function(g,d,h){this.vertices[h]=d;this.emit("redo",new C.VertexUpdateEvent(this.view,g,h,this.vertices))};r.prototype._pushCursorVertex=function(g){this._popCursorVertex();this.vertices.push(g);this._cursorVertexAdded=!0;return this.vertices.length-1};r.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};r.prototype._shouldHandlePointerEvent=function(g){return("mouse"!==g.pointerType||0===g.button)&&(p.isNone(this._activePointerId)||this._activePointerId===
g.pointerId)};r.prototype._vertexAddHandler=function(g){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],g.native);else{var d=this.getCoordsFromScreenPoint(this._cursorScreenPoint);p.isSome(d)&&this._addVertex(d,g.native)}};r.prototype._drawCompleteHandler=function(g){this._completeDrawing(g.native)};l([z.property({dependsOn:["mode"]})],r.prototype,"_clickEnabled",null);l([z.property({dependsOn:["mode"]})],r.prototype,"_dragEnabled",null);l([z.property({cast:function(g){return-1===
["hybrid","freehand","click"].indexOf(g)?"hybrid":g}})],r.prototype,"mode",void 0);l([z.property({readOnly:!0})],r.prototype,"vertices",void 0);l([z.property()],r.prototype,"view",void 0);return r=l([z.subclass("esri.views.draw.PolygonDrawAction")],r)}(z.declared(x,r,d))})},"esri/views/draw/PolylineDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(d){function r(g){g=d.call(this,g)||this;g._cursorScreenPoint=null;g._panEnabled=!1;g._cursorVertexAdded=!1;g._popVertexOnPointerMove=!1;g._addVertexOnPointerUp=!1;g._activePointerId=null;g._viewHandles=new h;g.mode="hybrid";g.vertices=[];g.view=null;return g}w(r,d);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(r.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});r.prototype.addVertex=function(g,d){var h=this;this.vertices.splice(d,0,g);this.history.push({vertex:g,vertexIndex:d,undo:function(){return h._undoVertexAdd(null,g,d)},redo:function(){return h._redoVertexAdd(null,g,d)}});this._set("redoHistory",
[]);var l=new C.VertexAddEvent(this.view,null,d,this.vertices);this.emit("vertex-add",l);l.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};r.prototype.removeVertex=function(g){var d=this,h=this.vertices.splice(g,1)[0];this.history.push({vertex:h,vertexIndex:g,undo:function(){return d._undoVertexRemove(null,h,g)},redo:function(){return d._redoVertexRemove(null,h,g)}});this._set("redoHistory",[]);this.emit("vertex-remove",new C.VertexRemoveEvent(this.view,null,g,this.vertices))};
r.prototype.updateVertex=function(g,d){var h=this,l=this.vertices[d];this.vertices[d]=g;this.history.push({vertex:g,vertexIndex:d,undo:function(){return h._undoVertexUpdate(null,l,d)},redo:function(){return h._redoVertexUpdate(null,g,d)}});this._set("redoHistory",[]);this.emit("vertex-update",new C.VertexUpdateEvent(this.view,null,d,this.vertices))};r.prototype.complete=function(){this._completeDrawing()};r.prototype._addViewHandles=function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(g){g.stopPropagation()}),this.view.on("pointer-down",function(d){g._shouldHandlePointerEvent(d)&&!g._panEnabled&&(g._activePointerId=d.pointerId,g._addVertexOnPointerUp=!0,g._cursorScreenPoint=I.createScreenPointFromEvent(d),"touch"===d.pointerType&&g._updateCursor(d.native))}),this.view.on("pointer-move",function(d){g._popVertexOnPointerMove&&(g.vertices.pop(),g._popVertexOnPointerMove=!1);g._cursorScreenPoint=I.createScreenPointFromEvent(d);"touch"!==d.pointerType&&g._updateCursor(d.native)}),
this.view.on("pointer-drag",function(d){g._shouldHandlePointerEvent(d)&&(g._cursorScreenPoint=I.createScreenPointFromEvent(d),g._dragEnabled&&!g._panEnabled?g._vertexAddHandler(d):g._addVertexOnPointerUp=!1)}),this.view.on("pointer-up",function(d){g._shouldHandlePointerEvent(d)&&(g._activePointerId=null,g._addVertexOnPointerUp?g._clickEnabled?g._vertexAddHandler(d):(1===g.vertices.length&&g.vertices.pop(),g._drawCompleteHandler(d)):g._updateCursor(d.native,"touch"===d.pointerType))}),this.view.on("drag",
function(d){g._dragEnabled&&p.isSome(g._activePointerId)&&!g._panEnabled&&d.stopPropagation()}),this.view.on("drag",["Shift"],function(g){g.stopPropagation()}),this.view.on("double-click",function(d){d.stopPropagation();g._drawCompleteHandler(d)}),this.view.on("double-click",["Control"],function(d){d.stopPropagation();g._drawCompleteHandler(d)}),this.view.on("key-down",function(d){var h=d.key,l=d.repeat;h===v.KEYS.vertexAddKey&&!l&&g._cursorScreenPoint?g._vertexAddHandler(d):h===v.KEYS.drawCompleteKey&&
!l&&g._cursorScreenPoint&&1<g.vertices.length?(g._vertexAddHandler(d),g._drawCompleteHandler(d)):h!==v.KEYS.undoKey||l?h!==v.KEYS.redoKey||l?h!==v.KEYS.panKey||l||(g._panEnabled=!0):g.redo():g.undo()}),this.view.on("key-up",function(d){d.key===v.KEYS.panKey&&(g._panEnabled=!1)})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=function(g,d){var h=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,g)){this.vertices.push(g);var l=
this.vertices.length-1;this.history.push({vertex:g,vertexIndex:l,undo:function(){return h._undoVertexAdd(d,g,l)},redo:function(){return h._redoVertexAdd(d,g,l)}});this._set("redoHistory",[]);var q=new C.VertexAddEvent(this.view,d,l,this.vertices);this.emit("vertex-add",q);q.defaultPrevented&&this.history.pop()}};r.prototype._updateCursor=function(g,d){void 0===d&&(d=!1);this._popCursorVertex();var h=this.view.toMap(this._cursorScreenPoint),l=null;h&&!d&&(l=this._pushCursorVertex([h.x,h.y]));g=new C.CursorUpdateEvent(this.view,
g,l,this.vertices,h);this.emit("cursor-update",g)};r.prototype._completeDrawing=function(g){this._activePointerId=null;this._popCursorVertex();2>this.vertices.length||(g=new C.DrawCompleteEvent(g,this.vertices),this.emit("draw-complete",g),g.defaultPrevented||this._removeViewHandles())};r.prototype._undoVertexAdd=function(g,d,h){this.vertices.splice(h,1);this.emit("undo",new C.VertexRemoveEvent(this.view,g,h,this.vertices))};r.prototype._redoVertexAdd=function(d,h,l){this.vertices.splice(l,0,h);this.emit("redo",
new C.VertexAddEvent(this.view,d,l,this.vertices))};r.prototype._undoVertexRemove=function(d,h,l){this.vertices.splice(l,0,h);this.emit("undo",new C.VertexAddEvent(this.view,d,l,this.vertices))};r.prototype._redoVertexRemove=function(d,h,l){this.vertices.splice(l,1);this.emit("redo",new C.VertexRemoveEvent(this.view,d,l,this.vertices))};r.prototype._undoVertexUpdate=function(d,h,l){this.vertices[l]=h;this.emit("undo",new C.VertexUpdateEvent(this.view,d,l,this.vertices))};r.prototype._redoVertexUpdate=
function(d,h,l){this.vertices[l]=h;this.emit("redo",new C.VertexUpdateEvent(this.view,d,l,this.vertices))};r.prototype._pushCursorVertex=function(d){this._popCursorVertex();this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};r.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};r.prototype._shouldHandlePointerEvent=function(d){return("mouse"!==d.pointerType||0===d.button)&&(p.isNone(this._activePointerId)||this._activePointerId===
d.pointerId)};r.prototype._vertexAddHandler=function(d){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],d.native);else{var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);p.isSome(g)&&this._addVertex(g,d.native)}};r.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};l([z.property({dependsOn:["mode"]})],r.prototype,"_clickEnabled",null);l([z.property({dependsOn:["mode"]})],r.prototype,"_dragEnabled",null);l([z.property({cast:function(d){return-1===
["hybrid","freehand","click"].indexOf(d)?"hybrid":d}})],r.prototype,"mode",void 0);l([z.property({readOnly:!0})],r.prototype,"vertices",void 0);l([z.property()],r.prototype,"view",void 0);return r=l([z.subclass("esri.views.draw.PolylineDrawAction")],r)}(z.declared(x,r,d))})},"esri/views/draw/SegmentDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Evented ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v){return function(d){function r(g){g=d.call(this,g)||this;g._isDragging=!1;g._panEnabled=!1;g._cursorScreenPoint=null;g._viewHandles=new h;g._cursorVertexAdded=!1;g._activePointerId=null;g.mode="freehand";g.vertices=[];g.view=null;return g}w(r,d);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};r.prototype.complete=function(){this._completeDrawing()};
r.prototype._addViewHandles=function(){this._removeViewHandles();"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())};r.prototype._getDragModeViewHandles=function(){var d=this;return[this.view.on("click",function(g){g.stopPropagation();g.mapPoint&&!d._panEnabled&&(d._set("vertices",[[g.mapPoint.x,g.mapPoint.y]]),d._drawCompleteHandler(g))}),this.view.on("pointer-down",function(g){d._shouldHandlePointerEvent(g)&&!d._panEnabled&&
(d._cursorScreenPoint=I.createScreenPointFromEvent(g),d._set("vertices",[]),d._activePointerId=g.pointerId,d._vertexAddHandler(g),d._isDragging=!1,"touch"===g.pointerType&&d._cursorUpdateHandler(g))}),this.view.on("pointer-move",function(g){d._cursorScreenPoint=I.createScreenPointFromEvent(g);p.isNone(d._activePointerId)&&"touch"!==g.pointerType&&0===d.vertices.length&&d._cursorUpdateHandler(g)}),this.view.on("pointer-drag",function(g){d._shouldHandlePointerEvent(g)&&(d._isDragging=!0,d._cursorScreenPoint=
I.createScreenPointFromEvent(g),d._cursorUpdateHandler(g))}),this.view.on("pointer-up",function(g){d._shouldHandlePointerEvent(g)&&(d._activePointerId=null,d._popCursorVertex(),d._isDragging&&!d._panEnabled&&(d._vertexAddHandler(g),d._drawCompleteHandler(g)),d._isDragging=!1)}),this.view.on("key-down",function(g){g.key===v.KEYS.drawCompleteKey&&d._cursorScreenPoint?d._drawCompleteHandler(g):g.key===v.KEYS.panKey&&(d._panEnabled=!0)}),this.view.on("key-up",function(g){g.key===v.KEYS.panKey&&(d._panEnabled=
!1)}),this.view.on("drag",function(g){p.isSome(d._activePointerId)&&g.stopPropagation()}),this.view.on("drag",["Shift"],function(d){d.stopPropagation()})]};r.prototype._getClickModeViewHandles=function(){var d=this;return[this.view.on("click",function(d){d.stopPropagation()}),this.view.on("pointer-down",function(g){d._cursorScreenPoint=I.createScreenPointFromEvent(g);d._activePointerId=g.pointerId;d._isDragging=!1;"touch"===g.pointerType&&d._cursorUpdateHandler(g)}),this.view.on("pointer-move",function(g){d._cursorScreenPoint=
I.createScreenPointFromEvent(g);p.isNone(d._activePointerId)&&"touch"!==g.pointerType&&d._cursorUpdateHandler(g)}),this.view.on("pointer-drag",function(g){d._shouldHandlePointerEvent(g)&&(d._isDragging=!0)}),this.view.on("pointer-up",function(g){d._shouldHandlePointerEvent(g)&&(d._activePointerId=null,d._isDragging||d._vertexAddHandler(g),2!==d.vertices.length||d._isDragging||d._drawCompleteHandler(g),d._isDragging=!1)}),this.view.on("key-down",function(g){g.key===v.KEYS.vertexAddKey&&d._cursorScreenPoint&&
(d._vertexAddHandler(g),2===d.vertices.length&&d._drawCompleteHandler(g));g.key===v.KEYS.drawCompleteKey&&d._cursorScreenPoint&&2===d.vertices.length&&d._drawCompleteHandler(g)})]};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};r.prototype._addVertex=function(d,h){this._popCursorVertex();this.isDuplicateVertex(this.vertices,d)||(this.vertices.push(d),d=this.vertices.indexOf(d),h=new C.VertexAddEvent(this.view,h,d,this.vertices),this.emit("vertex-add",h))};r.prototype._updateCursor=
function(d,h){var g=null;p.isSome(d)&&(g=this._pushCursorVertex(d));d=new C.CursorUpdateEvent(this.view,h,g,this.vertices);this.emit("cursor-update",d)};r.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();this._isDragging=!1;this._cursorScreenPoint=null;1>this.vertices.length||(d=new C.DrawCompleteEvent(d,this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};r.prototype._pushCursorVertex=function(d){this._popCursorVertex();
this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};r.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};r.prototype._shouldHandlePointerEvent=function(d){return("mouse"!==d.pointerType||0===d.button)&&(p.isNone(this._activePointerId)||this._activePointerId===d.pointerId)};r.prototype._vertexAddHandler=function(d){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);p.isSome(g)&&this._addVertex(g,d.native)};
r.prototype._cursorUpdateHandler=function(d){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(g,d.native)};r.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};l([z.property({cast:function(d){return-1===["freehand","click"].indexOf(d)?"freehand":d}})],r.prototype,"mode",void 0);l([z.property({readOnly:!0})],r.prototype,"vertices",void 0);l([z.property()],r.prototype,"view",void 0);return r=l([z.subclass("esri/views/2d/engine/markup/SegmentDrawAction")],
r)}(z.declared(x,r,d))})},"esri/views/draw/support/createUtils":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../geometry ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C,v,H,D,g){function q(d,g){return{x:d,y:g}}function E(d,h,n,l){void 0===l&&(l=!0);d=d.map(function(d){return Array.apply([],d)});d.forEach(function(d,g){d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]||d.push(d[0])});var p=new r.Polygon({rings:d,spatialReference:h});p.rings.forEach(function(d){p.isClockwise(d)||d.reverse()});n&&D.unnormalizeGeometryOnDatelineCrossing(p);l&&p.isSelfIntersecting&&g.isValid(h)&&(p=H.simplify(p));return p}Object.defineProperty(y,
"__esModule",{value:!0});y.makeMapPoint=function(d,g){return[d,g]};y.makeSurfacePoint=q;F=function(){function d(d){this.spatialReference=d}d.prototype.mapToLocalMultiple=function(d){var g=this;return d.map(function(d){return g.mapToLocal(d)})};Object.defineProperty(d.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!0,configurable:!0});return d}();var N=function(d){function g(g,l){l=d.call(this,l)||this;l.transform=p.mat2df64.create();l.transformInv=p.mat2df64.create();l.transform=
p.mat2df64.clone(g);h.mat2d.invert(l.transformInv,l.transform);return l}w(g,d);g.prototype.mapToLocal=function(d){return q(this.transform[0]*d[0]+this.transform[2]*d[1]+this.transform[4],this.transform[1]*d[0]+this.transform[3]*d[1]+this.transform[5])};g.prototype.localToMap=function(d){return[this.transformInv[0]*d.x+this.transformInv[2]*d.y+this.transformInv[4],this.transformInv[1]*d.x+this.transformInv[3]*d.y+this.transformInv[5]]};return g}(F);y.AffineCoordinateSystem=N;var T=function(d){function g(g,
h){var n=d.call(this,g.spatialReference)||this;n.view=g;n.pWS=C.vec3f64.create();n.tangentFrameUpWS=C.vec3f64.create();n.tangentFrameRightWS=C.vec3f64.create();n.tangentFrameForwardWS=C.vec3f64.create();n.localFrameRightWS=C.vec3f64.create();n.localFrameUpWS=C.vec3f64.create();n.worldToLocalTransform=z.quatf64.create();n.localToWorldTransform=z.quatf64.create();n.scale=1;n.scale=g.resolution;n.pMS=h;g=g.state.camera.viewRight;n.view.renderCoordsHelper.toRenderCoords(n.pMS,n.pWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,
0,n.tangentFrameRightWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,1,n.tangentFrameUpWS);n.view.renderCoordsHelper.worldBasisAtPosition(n.pWS,2,n.tangentFrameForwardWS);h=C.vec3f64.create();x.vec3.scale(h,n.tangentFrameForwardWS,x.vec3.dot(g,n.tangentFrameForwardWS));x.vec3.subtract(n.localFrameRightWS,g,h);x.vec3.normalize(n.localFrameRightWS,n.localFrameRightWS);x.vec3.cross(n.localFrameUpWS,n.tangentFrameForwardWS,n.localFrameRightWS);I.quat.rotationTo(n.worldToLocalTransform,n.localFrameRightWS,
n.tangentFrameRightWS);I.quat.invert(n.localToWorldTransform,n.worldToLocalTransform);return n}w(g,d);Object.defineProperty(g.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!0,configurable:!0});g.prototype.mapToLocal=function(d){var g=C.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new r.Point({x:d[0],y:d[1],spatialReference:this.spatialReference}),g);x.vec3.transformQuat(g,g,this.worldToLocalTransform);d=this.view.renderCoordsHelper.fromRenderCoords(g,
this.view.spatialReference);return q(d.x/this.scale,d.y/this.scale)};g.prototype.localToMap=function(d){var g=C.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new r.Point({x:d.x*this.scale,y:d.y*this.scale,spatialReference:this.spatialReference}),g);x.vec3.transformQuat(g,g,this.localToWorldTransform);d=this.view.renderCoordsHelper.fromRenderCoords(g,this.view.spatialReference);return[d.x,d.y]};return g}(F);y.SceneViewCoordinateSystem=T;y.createViewAlignedCoordinateSystem=function(d,
g){return"2d"===d.type?new N(d.state.transform,d.spatialReference):"3d"===d.type?new T(d,new r.Point({x:g[0],y:g[1],spatialReference:d.spatialReference})):null};y.createPoint=function(d,g){return new r.Point({x:d[0],y:d[1],spatialReference:g})};y.createMultipoint=function(d,g){return new r.Multipoint({points:d,spatialReference:g})};y.createPolyline=function(d,g,h){d=new r.Polyline({paths:d,spatialReference:g});h&&D.unnormalizeGeometryOnDatelineCrossing(d);return d};y.createPolygon=E;y.createTriangleMS=
function(d,g,h,l){var n=g.mapToLocalMultiple(d);d=n[0];var p=n[1],v=Math.round(p.x-d.x),r=Math.round(p.y-d.y),x=n=null,z=null;h&&l?(h=Math.sqrt(v*v+r*r),n=q(-.8660254037844386*h+d.x,.5*h+d.y),x=q(.8660254037844386*h+d.x,.5*h+d.y),z=q(d.x,d.y-h)):h?(n=q(0<r?p.x:d.x,d.y+r),x=q(d.x-v,0<r?p.y:d.y-r),z=q(0<r?d.x:p.x,d.y-r)):l?(h=Math.max(Math.abs(v),Math.abs(r)),l=h*Math.sqrt(3)/2,n=q(d.x,0<r?d.y+h:d.y),x=q(0<v?d.x+h:d.x-h,0<r?d.y+h:d.y),z=q(0<v?d.x+h/2:d.x-h/2,0<r?d.y+h-l:d.y-l)):(n=q(0<r?d.x+v/2:p.x,
d.y),x=q(0<r?d.x:d.x+v/2,p.y),z=q(0<r?p.x:d.x,0<r?p.y:d.y));return E([[n,z,x].map(function(d){return g.localToMap(d)})],g.spatialReference,g.doUnnormalization,!0)};y.createSquare=function(d,g,h){var n=g.mapToLocalMultiple(d);d=[];var l=n[0].x,p=n[0].y,v=Math.round(n[1].x-l),r=Math.round(n[1].y-p),n=Math.max(Math.abs(v),Math.abs(r));h?(h=l+n,v=p+n,l-=n,p-=n,d.push(q(h,p),q(l,p),q(l,v),q(h,v))):(h=0<v?l+n:l-n,n=0<r?p+n:p-n,d.push(q(l,p),q(h,p),q(h,n),q(l,n)));return E([d.map(function(d){return g.localToMap(d)})],
g.spatialReference,g.doUnnormalization,!0)};y.createRectangle=function(d,g,h){var n=g.mapToLocalMultiple(d);1===n.length&&(d=n[0],n=[q(d.x-48,d.y+48),q(d.x+48,d.y-48),q(d.x+48,d.y-48),q(d.x-48,d.y+48)]);d=[];var l=n[0].x,p=n[0].y,v=n[1].x,n=n[1].y;if(h){h=Math.round(v-l);var r=Math.round(n-p);d.push(q(l-h,p-r),q(v,p-r),q(v,n),q(l-h,n))}else d.push(q(l,p),q(v,p),q(v,n),q(l,n));return E([d.map(function(d){return g.localToMap(d)})],g.spatialReference,g.doUnnormalization,!0)};y.createCircle=function(g,
h,n){var l=h.mapToLocalMultiple(g),p=g=null;n?(g=l[0],p=l[1]):(g=l[0],l=l[1],n=Math.round(l.x-g.x),l=Math.round(l.y-g.y),p=Math.max(Math.abs(n),Math.abs(l)),g=q(0<n?g.x+p/2:g.x-p/2,0<l?g.y+p/2:g.y-p/2),p=q(Math.abs(n)>Math.abs(l)?g.x-p/2:g.x,Math.abs(n)>Math.abs(l)?g.y:g.y-p/2));g=h.localToMap(g);n=h.localToMap(p);h.doUnnormalization&&D.unnormalizeVerticesOnDatelineCrossing([[g,n]],h.spatialReference);g=new r.Point({x:g[0],y:g[1],spatialReference:h.spatialReference});n=new r.Point({x:n[0],y:n[1],
spatialReference:h.spatialReference});n=d.getMetersPerUnitForSR(h.spatialReference)*H.distance(g,n,null);h=new v({center:g,radius:n,radiusUnit:"meters",spatialReference:h.spatialReference});return E(h.rings,h.spatialReference,!1)};y.createEllipse=function(d,g,h){var n=g.mapToLocalMultiple(d);d=n[0];var l=n[1],n=Math.round(l.x-d.x),l=Math.round(l.y-d.y);d=q(h?d.x:d.x+n/2,h?d.y:d.y+l/2);n=h?n:n/2;h=h?l:l/2;for(var l=[],p=2*Math.PI/60,v=0;60>v;v++){var r=q(n*Math.cos(v*p)+d.x,h*Math.sin(v*p)+d.y);l.push(r)}l.push(l[0]);
return E([l.map(function(d){return g.localToMap(d)})],g.spatialReference,g.doUnnormalization,!1)}})},"esri/core/libs/gl-matrix-2/mat2d":function(){define(["require","exports","./math/mat2d"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.mat2d=w})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["require","exports","./common"],function(F,y,w){function l(d,h,l){var p=h[0],r=h[1],x=h[2],w=h[3],v=h[4];h=h[5];var y=l[0],D=l[1],g=l[2],q=l[3],E=l[4];l=l[5];d[0]=p*y+x*D;d[1]=
r*y+w*D;d[2]=p*g+x*q;d[3]=r*g+w*q;d[4]=p*E+x*l+v;d[5]=r*E+w*l+h;return d}function r(d,h,l){d[0]=h[0]-l[0];d[1]=h[1]-l[1];d[2]=h[2]-l[2];d[3]=h[3]-l[3];d[4]=h[4]-l[4];d[5]=h[5]-l[5];return d}Object.defineProperty(y,"__esModule",{value:!0});y.copy=function(d,h){d[0]=h[0];d[1]=h[1];d[2]=h[2];d[3]=h[3];d[4]=h[4];d[5]=h[5];return d};y.identity=function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d};y.set=function(d,h,l,r,z,x,w){d[0]=h;d[1]=l;d[2]=r;d[3]=z;d[4]=x;d[5]=w;return d};y.invert=function(d,
h){var l=h[0],r=h[1],w=h[2],x=h[3],y=h[4];h=h[5];var v=l*x-r*w;if(!v)return null;v=1/v;d[0]=x*v;d[1]=-r*v;d[2]=-w*v;d[3]=l*v;d[4]=(w*h-x*y)*v;d[5]=(r*y-l*h)*v;return d};y.determinant=function(d){return d[0]*d[3]-d[1]*d[2]};y.multiply=l;y.rotate=function(d,h,l){var p=h[0],r=h[1],x=h[2],w=h[3],v=h[4];h=h[5];var y=Math.sin(l);l=Math.cos(l);d[0]=p*l+x*y;d[1]=r*l+w*y;d[2]=p*-y+x*l;d[3]=r*-y+w*l;d[4]=v;d[5]=h;return d};y.scale=function(d,h,l){var p=h[1],r=h[2],x=h[3],w=h[4],v=h[5],y=l[0];l=l[1];d[0]=h[0]*
y;d[1]=p*y;d[2]=r*l;d[3]=x*l;d[4]=w;d[5]=v;return d};y.translate=function(d,h,l){var p=h[0],r=h[1],x=h[2],w=h[3],v=h[4];h=h[5];var y=l[0];l=l[1];d[0]=p;d[1]=r;d[2]=x;d[3]=w;d[4]=p*y+x*l+v;d[5]=r*y+w*l+h;return d};y.fromRotation=function(d,h){var l=Math.sin(h);h=Math.cos(h);d[0]=h;d[1]=l;d[2]=-l;d[3]=h;d[4]=0;d[5]=0;return d};y.fromScaling=function(d,h){d[0]=h[0];d[1]=0;d[2]=0;d[3]=h[1];d[4]=0;d[5]=0;return d};y.fromTranslation=function(d,h){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=h[0];d[5]=h[1];return d};
y.str=function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"};y.frob=function(d){return Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2)+Math.pow(d[2],2)+Math.pow(d[3],2)+Math.pow(d[4],2)+Math.pow(d[5],2)+1)};y.add=function(d,h,l){d[0]=h[0]+l[0];d[1]=h[1]+l[1];d[2]=h[2]+l[2];d[3]=h[3]+l[3];d[4]=h[4]+l[4];d[5]=h[5]+l[5];return d};y.subtract=r;y.multiplyScalar=function(d,h,l){d[0]=h[0]*l;d[1]=h[1]*l;d[2]=h[2]*l;d[3]=h[3]*l;d[4]=h[4]*l;d[5]=h[5]*l;return d};y.multiplyScalarAndAdd=
function(d,h,l,r){d[0]=h[0]+l[0]*r;d[1]=h[1]+l[1]*r;d[2]=h[2]+l[2]*r;d[3]=h[3]+l[3]*r;d[4]=h[4]+l[4]*r;d[5]=h[5]+l[5]*r;return d};y.exactEquals=function(d,h){return d[0]===h[0]&&d[1]===h[1]&&d[2]===h[2]&&d[3]===h[3]&&d[4]===h[4]&&d[5]===h[5]};y.equals=function(d,h){var l=d[0],r=d[1],z=d[2],x=d[3],y=d[4];d=d[5];var v=h[0],H=h[1],D=h[2],g=h[3],q=h[4];h=h[5];return Math.abs(l-v)<=w.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(r-H)<=w.EPSILON*Math.max(1,Math.abs(r),Math.abs(H))&&Math.abs(z-D)<=
w.EPSILON*Math.max(1,Math.abs(z),Math.abs(D))&&Math.abs(x-g)<=w.EPSILON*Math.max(1,Math.abs(x),Math.abs(g))&&Math.abs(y-q)<=w.EPSILON*Math.max(1,Math.abs(y),Math.abs(q))&&Math.abs(d-h)<=w.EPSILON*Math.max(1,Math.abs(d),Math.abs(h))};y.mul=l;y.sub=r})},"esri/core/libs/gl-matrix-2/mat2df64":function(){define(["require","exports","./factories/mat2df64"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.mat2df64=w})},"esri/core/libs/gl-matrix-2/factories/mat2df64":function(){define(["require",
"exports"],function(F,y){Object.defineProperty(y,"__esModule",{value:!0});y.create=function(){return[1,0,0,1,0,0]};y.clone=function(w){return[w[0],w[1],w[2],w[3],w[4],w[5]]};y.fromValues=function(w,l,r,d,h,p){return[w,l,r,d,h,p]};y.createView=function(w,l){return new Float64Array(w,l,6)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.quat=w})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(F,y,w,l,r,d,h,p){function I(d,g,h){h*=.5;var l=Math.sin(h);d[0]=l*g[0];d[1]=l*g[1];d[2]=l*g[2];d[3]=Math.cos(h);return d}function z(d,g,h){var l=g[0],n=g[1],p=g[2];g=g[3];var q=h[0],v=h[1],r=h[2];h=h[3];d[0]=l*h+g*q+n*r-p*v;d[1]=n*h+g*v+p*q-l*r;d[2]=p*h+g*r+l*v-n*q;d[3]=g*h-l*q-n*v-p*r;return d}function x(g,h,l,p){var n=h[0],q=h[1],v=h[2];h=h[3];var r=l[0],x=l[1],w=l[2];l=l[3];var y,z,C;z=n*r+q*x+v*w+h*l;0>z&&(z=-z,r=-r,x=-x,w=-w,l=-l);1-z>d.EPSILON?(y=Math.acos(z),C=Math.sin(y),z=Math.sin((1-
p)*y)/C,p=Math.sin(p*y)/C):z=1-p;g[0]=z*n+p*r;g[1]=z*q+p*x;g[2]=z*v+p*w;g[3]=z*h+p*l;return g}function C(d,g){var h=g[0]+g[4]+g[8];if(0<h)h=Math.sqrt(h+1),d[3]=.5*h,h=.5/h,d[0]=(g[5]-g[7])*h,d[1]=(g[6]-g[2])*h,d[2]=(g[1]-g[3])*h;else{var l=0;g[4]>g[0]&&(l=1);g[8]>g[3*l+l]&&(l=2);var n=(l+1)%3,p=(l+2)%3,h=Math.sqrt(g[3*l+l]-g[3*n+n]-g[3*p+p]+1);d[l]=.5*h;h=.5/h;d[3]=(g[3*n+p]-g[3*p+n])*h;d[n]=(g[3*n+l]+g[3*l+n])*h;d[p]=(g[3*p+l]+g[3*l+p])*h}return d}Object.defineProperty(y,"__esModule",{value:!0});
y.identity=function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;return d};y.setAxisAngle=I;y.getAxisAngle=function(g,h){var l=2*Math.acos(h[3]),p=Math.sin(l/2);p>d.EPSILON?(g[0]=h[0]/p,g[1]=h[1]/p,g[2]=h[2]/p):(g[0]=1,g[1]=0,g[2]=0);return l};y.multiply=z;y.rotateX=function(d,g,h){h*=.5;var l=g[0],n=g[1],p=g[2];g=g[3];var q=Math.sin(h);h=Math.cos(h);d[0]=l*h+g*q;d[1]=n*h+p*q;d[2]=p*h-n*q;d[3]=g*h-l*q;return d};y.rotateY=function(d,g,h){h*=.5;var l=g[0],n=g[1],p=g[2];g=g[3];var q=Math.sin(h);h=Math.cos(h);d[0]=
l*h-p*q;d[1]=n*h+g*q;d[2]=p*h+l*q;d[3]=g*h-n*q;return d};y.rotateZ=function(d,g,h){h*=.5;var l=g[0],n=g[1],p=g[2];g=g[3];var q=Math.sin(h);h=Math.cos(h);d[0]=l*h+n*q;d[1]=n*h-l*q;d[2]=p*h+g*q;d[3]=g*h-p*q;return d};y.calculateW=function(d,g){var h=g[0],l=g[1];g=g[2];d[0]=h;d[1]=l;d[2]=g;d[3]=Math.sqrt(Math.abs(1-h*h-l*l-g*g));return d};y.slerp=x;y.random=function(g){var h=d.RANDOM(),l=d.RANDOM(),p=d.RANDOM(),n=Math.sqrt(1-h),h=Math.sqrt(h);g[0]=n*Math.sin(2*Math.PI*l);g[1]=n*Math.cos(2*Math.PI*l);
g[2]=h*Math.sin(2*Math.PI*p);g[3]=h*Math.cos(2*Math.PI*p);return g};y.invert=function(d,g){var h=g[0],l=g[1],n=g[2];g=g[3];var p=h*h+l*l+n*n+g*g,p=p?1/p:0;d[0]=-h*p;d[1]=-l*p;d[2]=-n*p;d[3]=g*p;return d};y.conjugate=function(d,g){d[0]=-g[0];d[1]=-g[1];d[2]=-g[2];d[3]=g[3];return d};y.fromMat3=C;y.fromEuler=function(d,g,h,l){var n=.5*Math.PI/180;g*=n;h*=n;l*=n;n=Math.sin(g);g=Math.cos(g);var p=Math.sin(h);h=Math.cos(h);var q=Math.sin(l);l=Math.cos(l);d[0]=n*h*l-g*p*q;d[1]=g*p*l+n*h*q;d[2]=g*h*q-n*
p*l;d[3]=g*h*l+n*p*q;return d};y.str=function(d){return"quat("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"};y.copy=p.copy;y.set=p.set;y.add=p.add;y.mul=z;y.scale=p.scale;y.dot=p.dot;y.lerp=p.lerp;y.length=p.length;y.len=y.length;y.squaredLength=p.squaredLength;y.sqrLen=y.squaredLength;y.normalize=p.normalize;y.exactEquals=p.exactEquals;y.equals=p.equals;y.rotationTo=function(d,g,l){var p=h.dot(g,l);if(-.999999>p)return h.cross(v,H,g),1E-6>h.len(v)&&h.cross(v,D,g),h.normalize(v,v),I(d,v,Math.PI),d;if(.999999<
p)return d[0]=0,d[1]=0,d[2]=0,d[3]=1,d;h.cross(v,g,l);d[0]=v[0];d[1]=v[1];d[2]=v[2];d[3]=1+p;return y.normalize(d,d)};var v=r.create(),H=r.fromValues(1,0,0),D=r.fromValues(0,1,0);y.sqlerp=function(d,h,l,p,n,v){x(g,h,n,v);x(q,l,p,v);x(d,g,q,2*v*(1-v));return d};var g=l.create(),q=l.create();y.setAxes=function(d,g,h,l){var n=E;n[0]=h[0];n[3]=h[1];n[6]=h[2];n[1]=l[0];n[4]=l[1];n[7]=l[2];n[2]=-g[0];n[5]=-g[1];n[8]=-g[2];return y.normalize(d,C(d,n))};var E=w.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(F,y){Object.defineProperty(y,"__esModule",{value:!0});y.create=function(){return[1,0,0,0,1,0,0,0,1]};y.clone=function(w){return[w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8]]};y.fromValues=function(w,l,r,d,h,p,y,z,x){return[w,l,r,d,h,p,y,z,x]};y.createView=function(w,l){return new Float64Array(w,l,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(F,y){Object.defineProperty(y,"__esModule",{value:!0});y.create=function(){return[0,
0,0,1]};y.clone=function(w){return[w[0],w[1],w[2],w[3]]};y.fromValues=function(w,l,r,d){return[w,l,r,d]};y.createView=function(w,l){return new Float64Array(w,l,4)}})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(F,y,w){function l(d,h,l){d[0]=h[0]-l[0];d[1]=h[1]-l[1];d[2]=h[2]-l[2];d[3]=h[3]-l[3];return d}function r(d,h,l){d[0]=h[0]*l[0];d[1]=h[1]*l[1];d[2]=h[2]*l[2];d[3]=h[3]*l[3];return d}function d(d,h,l){d[0]=h[0]/l[0];d[1]=h[1]/l[1];d[2]=h[2]/
l[2];d[3]=h[3]/l[3];return d}function h(d,h){var l=h[0]-d[0],p=h[1]-d[1],r=h[2]-d[2];d=h[3]-d[3];return Math.sqrt(l*l+p*p+r*r+d*d)}function p(d,h){var l=h[0]-d[0],p=h[1]-d[1],r=h[2]-d[2];d=h[3]-d[3];return l*l+p*p+r*r+d*d}function I(d){var h=d[0],l=d[1],p=d[2];d=d[3];return Math.sqrt(h*h+l*l+p*p+d*d)}function z(d){var h=d[0],l=d[1],p=d[2];d=d[3];return h*h+l*l+p*p+d*d}Object.defineProperty(y,"__esModule",{value:!0});y.copy=function(d,h){d[0]=h[0];d[1]=h[1];d[2]=h[2];d[3]=h[3];return d};y.set=function(d,
h,l,p,r){d[0]=h;d[1]=l;d[2]=p;d[3]=r;return d};y.add=function(d,h,l){d[0]=h[0]+l[0];d[1]=h[1]+l[1];d[2]=h[2]+l[2];d[3]=h[3]+l[3];return d};y.subtract=l;y.multiply=r;y.divide=d;y.ceil=function(d,h){d[0]=Math.ceil(h[0]);d[1]=Math.ceil(h[1]);d[2]=Math.ceil(h[2]);d[3]=Math.ceil(h[3]);return d};y.floor=function(d,h){d[0]=Math.floor(h[0]);d[1]=Math.floor(h[1]);d[2]=Math.floor(h[2]);d[3]=Math.floor(h[3]);return d};y.min=function(d,h,l){d[0]=Math.min(h[0],l[0]);d[1]=Math.min(h[1],l[1]);d[2]=Math.min(h[2],
l[2]);d[3]=Math.min(h[3],l[3]);return d};y.max=function(d,h,l){d[0]=Math.max(h[0],l[0]);d[1]=Math.max(h[1],l[1]);d[2]=Math.max(h[2],l[2]);d[3]=Math.max(h[3],l[3]);return d};y.round=function(d,h){d[0]=Math.round(h[0]);d[1]=Math.round(h[1]);d[2]=Math.round(h[2]);d[3]=Math.round(h[3]);return d};y.scale=function(d,h,l){d[0]=h[0]*l;d[1]=h[1]*l;d[2]=h[2]*l;d[3]=h[3]*l;return d};y.scaleAndAdd=function(d,h,l,p){d[0]=h[0]+l[0]*p;d[1]=h[1]+l[1]*p;d[2]=h[2]+l[2]*p;d[3]=h[3]+l[3]*p;return d};y.distance=h;y.squaredDistance=
p;y.length=I;y.squaredLength=z;y.negate=function(d,h){d[0]=-h[0];d[1]=-h[1];d[2]=-h[2];d[3]=-h[3];return d};y.inverse=function(d,h){d[0]=1/h[0];d[1]=1/h[1];d[2]=1/h[2];d[3]=1/h[3];return d};y.normalize=function(d,h){var l=h[0],p=h[1],r=h[2];h=h[3];var g=l*l+p*p+r*r+h*h;0<g&&(g=1/Math.sqrt(g),d[0]=l*g,d[1]=p*g,d[2]=r*g,d[3]=h*g);return d};y.dot=function(d,h){return d[0]*h[0]+d[1]*h[1]+d[2]*h[2]+d[3]*h[3]};y.lerp=function(d,h,l,p){var r=h[0],g=h[1],q=h[2];h=h[3];d[0]=r+p*(l[0]-r);d[1]=g+p*(l[1]-g);
d[2]=q+p*(l[2]-q);d[3]=h+p*(l[3]-h);return d};y.random=function(d,h){h=h||1;var l,p,r,g,q,x;do l=2*w.RANDOM()-1,p=2*w.RANDOM()-1,q=l*l+p*p;while(1<=q);do r=2*w.RANDOM()-1,g=2*w.RANDOM()-1,x=r*r+g*g;while(1<=x);q=Math.sqrt((1-q)/x);d[0]=h*l;d[1]=h*p;d[2]=h*r*q;d[3]=h*g*q;return d};y.transformMat4=function(d,h,l){var p=h[0],r=h[1],g=h[2];h=h[3];d[0]=l[0]*p+l[4]*r+l[8]*g+l[12]*h;d[1]=l[1]*p+l[5]*r+l[9]*g+l[13]*h;d[2]=l[2]*p+l[6]*r+l[10]*g+l[14]*h;d[3]=l[3]*p+l[7]*r+l[11]*g+l[15]*h;return d};y.transformQuat=
function(d,h,l){var p=h[0],r=h[1],g=h[2],q=l[0],v=l[1],x=l[2];l=l[3];var w=l*p+v*g-x*r,z=l*r+x*p-q*g,y=l*g+q*r-v*p,p=-q*p-v*r-x*g;d[0]=w*l+p*-q+z*-x-y*-v;d[1]=z*l+p*-v+y*-q-w*-x;d[2]=y*l+p*-x+w*-v-z*-q;d[3]=h[3];return d};y.str=function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"};y.exactEquals=function(d,h){return d[0]===h[0]&&d[1]===h[1]&&d[2]===h[2]&&d[3]===h[3]};y.equals=function(d,h){var l=d[0],p=d[1],r=d[2];d=d[3];var g=h[0],q=h[1],x=h[2];h=h[3];return Math.abs(l-g)<=w.EPSILON*Math.max(1,
Math.abs(l),Math.abs(g))&&Math.abs(p-q)<=w.EPSILON*Math.max(1,Math.abs(p),Math.abs(q))&&Math.abs(r-x)<=w.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(d-h)<=w.EPSILON*Math.max(1,Math.abs(d),Math.abs(h))};y.sub=l;y.mul=r;y.div=d;y.dist=h;y.sqrDist=p;y.len=I;y.sqrLen=z})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(F,y,w){Object.defineProperty(y,"__esModule",{value:!0});y.quatf64=w})},"esri/geometry/Circle":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(F,y,w,l,r,d,h,p,I,z,x,C){return function(v){function y(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];d=v.apply(this,d)||this;d.center=null;d.geodesic=!1;d.numberOfPoints=60;d.radius=1E3;d.radiusUnit="meters";return d}l(y,v);D=y;y.prototype.normalizeCtorArgs=function(d,h){var g;if(d&&d.center)g=d;else{if(d&&d.rings)return this.inherited(arguments);g={center:d}}return w({},this.inherited(arguments,[]),g,h)};y.prototype.initialize=function(){var g=this.center,h=this.numberOfPoints;
this.hasZ=g&&g.hasZ;if(0===this.rings.length&&g){var l=d.convertUnit(this.radius,this.radiusUnit,"meters"),p=g.spatialReference,r="geographic";if(p.isWebMercator)r="webMercator";else if(null!=C[p.wkid]||p.wkt&&0===p.wkt.indexOf("PROJCS"))r="projected";if(this.geodesic){p=void 0;switch(r){case "webMercator":p=x.webMercatorToGeographic(g);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":p=
g}g=this._createGeodesicCircle(p,l,h);"webMercator"===r&&(g=x.geographicToWebMercator(g))}else p=void 0,"webMercator"===r||"projected"===r?p=l/this._convert2Meters(1,g.spatialReference):"geographic"===r&&(p=d.lengthToDegrees(l,"meters")),g=this._createPlanarCircle(g,p,h);this.spatialReference=g.spatialReference;this.addRing(g.rings[0])}};y.prototype.clone=function(){var d=this.numberOfPoints,h=this.radius,l=this.radiusUnit,p=this.geodesic;return new D({center:this.center.clone(),numberOfPoints:d,
radius:h,radiusUnit:l,geodesic:p})};y.prototype._createGeodesicCircle=function(d,h,l){for(var g=0,p=[];g<2*Math.PI;){var r=[0,0];z.directGeodeticSolver(r,[d.x,d.y],g,h);this.hasZ&&r.push(d.z);p.push(r);g+=Math.PI/(l/2)}p.push(p[0]);return new I(p)};y.prototype._createPlanarCircle=function(d,h,l){for(var g=0,p=[];g<2*Math.PI;){var r=[d.x+Math.cos(-g)*h,d.y+Math.sin(-g)*h];this.hasZ&&r.push(d.z);p.push(r);g+=Math.PI/(l/2)}p.push(p[0]);return new I({spatialReference:d.spatialReference,rings:[p]})};y.prototype._convert2Meters=
function(d,h){if(null!=C[h.wkid])h=C.values[C[h.wkid]];else{h=h.wkt;var g=h.lastIndexOf(",")+1,l=h.lastIndexOf("]]");h=parseFloat(h.substring(g,l))}return d*h};var D;r([h.property({type:p})],y.prototype,"center",void 0);r([h.property()],y.prototype,"geodesic",void 0);r([h.property()],y.prototype,"numberOfPoints",void 0);r([h.property()],y.prototype,"radius",void 0);r([h.property()],y.prototype,"radiusUnit",void 0);return y=D=r([h.subclass("esri.geometry.Circle")],y)}(h.declared(I))})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/Logger ../../core/unitUtils".split(" "),
function(F,y,w,l,r,d,h){function p(d){if(!d||!d.isGeographic)return null;if(d.wkid){var g=N[d.wkid];if(g)return g}if(d.wkt){d=E.exec(d.wkt);if(!d||2!==d.length)return null;g=d[1].split(",");if(!g||3!==g.length)return null;d=parseFloat(g[1]);g=parseFloat(g[2]);return isNaN(d)||isNaN(g)?null:{a:d,f:0===g?0:1/g}}return null}function I(d){d=p(d||q);if("b"in d&&"eSq"in d&&"radius"in d)return d;var g=d.a*(1-d.f);return w.assign(d,{b:g,eSq:1-Math.pow(g/d.a,2),radius:(2*d.a+g)/3})}function z(d,h,l){var n=
I(l);l=n.a;var n=n.eSq,p=Math.sqrt(n),r=Math.sin(h[1]*g);h=l*h[0]*g;l=0<n?l*(1-n)*(r/(1-n*r*r)-1/(2*p)*Math.log((1-p*r)/(1+p*r)))*.5:l*r;d[0]=h;d[1]=l;return d}function x(d){return null!==p(d)}function C(d,g){if("polyline"!==d.type&&"polygon"!==d.type)throw D.error("invalid geometry: the input geometry is neither polyline nor polygon"),new r("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var h=d.spatialReference;if(!x(h))throw D.error("invalid spatialreference: the input geometry spatialreference is not supported"),
new r("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var n=I(h).radius/1E4;g<n&&(g=n);for(var n=[],p=[0,0],q={distance:null},w=0,y="polyline"===d.type?d.paths:d.rings;w<y.length;w++){var z=y[w],C=[];n.push(C);C.push([z[0][0],z[0][1]]);for(var E=z[0][0],F=z[0][1],M=void 0,T=void 0,N=0;N<z.length-1;N++)if(M=z[N+1][0],T=z[N+1][1],E!==M||F!==T){var aa=[E,F];H(q,[E,F],[M,T],h);E=q.azimuth;F=q.distance;M=F/g;if(1<M){for(T=1;T<=M-1;T++)v(p,aa,E,T*g,
h),C.push(p.slice(0));v(p,aa,E,(F+Math.floor(M-1)*g)/2,h);C.push(p.slice(0))}v(p,aa,E,F,h);C.push(p.slice(0));E=p[0];F=p[1]}}return"polyline"===d.type?new l.Polyline({paths:n,spatialReference:h}):new l.Polygon({rings:n,spatialReference:h})}function v(d,h,l,n,p){var r=h[0]*g,q=h[1]*g;h=l*g;p=I(p);var v=p.a,x=p.b;p=p.f;l=Math.sin(h);h=Math.cos(h);for(var w=(1-p)*Math.tan(q),q=1/Math.sqrt(1+w*w),y=w*q,z=Math.atan2(w,h),w=q*l,J=w*w,D=1-J,v=D*(v*v-x*x)/(x*x),C=1+v/16384*(4096+v*(-768+v*(320-175*v))),E=
v/1024*(256+v*(-128+v*(74-47*v))),v=n/(x*C),e=2*Math.PI,G,t,b,a;1E-12<Math.abs(v-e);)b=Math.cos(2*z+v),G=Math.sin(v),t=Math.cos(v),a=E*G*(b+E/4*(t*(-1+2*b*b)-E/6*b*(-3+4*G*G)*(-3+4*b*b))),e=v,v=n/(x*C)+a;n=y*G-q*t*h;x=p/16*D*(4+p*(4-3*D));n=Math.atan2(y*t+q*G*h,(1-p)*Math.sqrt(J+n*n))/g;r=(r+(Math.atan2(G*l,q*t-y*G*h)-(1-x)*p*w*(v+x*G*(b+x*t*(-1+2*b*b)))))/g;d.splice(0,d.length);d.push(r,n);return d}function H(d,h,l,n){var p=h[0]*g;h=h[1]*g;var r=l[0]*g;l=l[1]*g;var q=I(n),v=q.a;n=q.b;var x=q.f,w=
q.radius,y=r-p,z=Math.atan((1-x)*Math.tan(h)),D=Math.atan((1-x)*Math.tan(l)),q=Math.sin(z),z=Math.cos(z),C=Math.sin(D),D=Math.cos(D),E=1E3,F=y,e,G,t,b,a,c,f,k;do{b=Math.sin(F);a=Math.cos(F);t=Math.sqrt(D*b*D*b+(z*C-q*D*a)*(z*C-q*D*a));if(0===t)return{distance:0};a=q*C+z*D*a;c=Math.atan2(t,a);f=z*D*b/t;G=1-f*f;b=a-2*q*C/G;isNaN(b)&&(b=0);k=x/16*G*(4+x*(4-3*G));e=F;F=y+(1-k)*x*f*(c+k*t*(b+k*a*(-1+2*b*b)))}while(1E-12<Math.abs(F-e)&&0<--E);if(0===E)return d=r-p,{azimuth:Math.atan2(Math.sin(d)*Math.cos(l),
Math.cos(h)*Math.sin(l)-Math.sin(h)*Math.cos(l)*Math.cos(d))/g,distance:Math.acos(Math.sin(h)*Math.sin(l)+Math.cos(h)*Math.cos(l)*Math.cos(r-p))*w};p=G*(v*v-n*n)/(n*n);h=p/1024*(256+p*(-128+p*(74-47*p)));r=Math.atan2(z*Math.sin(F),z*C*Math.cos(F)-q*D);d.azimuth=Math.atan2(D*Math.sin(F),z*C-q*D*Math.cos(F))/g;d.distance=n*(1+p/16384*(4096+p*(-768+p*(320-175*p))))*(c-h*t*(b+h/4*(a*(-1+2*b*b)-h/6*b*(-3+4*t*t)*(-3+4*b*b))));d.reverseAzimuth=r/g;return d}Object.defineProperty(y,"__esModule",{value:!0});
var D=d.getLogger("esri.geometry.support.geodesicUtils"),g=Math.PI/180,q=l.SpatialReference.WGS84,E=/SPHEROID\[([^\]]+)]/i,N={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,
f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,
f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},
104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};y.isSupported=x;y.geodesicAreas=function(d,g){void 0===g&&(g="square-meters");if(d.some(function(d){return!x(d.spatialReference)}))throw D.error("invalid spatialreference: the input geometries spatialreference is not supported"),
new r("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var l=[],n=0;n<d.length;n++){var p=d[n],q=p.spatialReference,q=.0015696101447650193*I(q).radius;l.push(C(p,q))}d=[];for(var n=[0,0],p=[0,0],v=0;v<l.length;v++){for(var q=l[v],w=q.rings,q=q.spatialReference,y=0,E=0;E<w.length;E++){var F=w[E];z(n,F[0],q);z(p,F[F.length-1],q);for(var H=p[0]*n[1]-n[0]*p[1],T=0;T<F.length-1;T++)z(n,F[T+1],q),z(p,F[T],q),H+=p[0]*n[1]-n[0]*p[1];y+=H}y=h.convertUnit(y,
"square-meters",g);d.push(y/-2)}return d};y.geodesicLengths=function(d,g){void 0===g&&(g="meters");if(!d&&!d)throw D.error("invalid geometry type: the input geometries type is not supported"),new r("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(d.some(function(e){return!x(e.spatialReference)}))throw D.error("invalid spatialreference: the input geometries spatialreference is not supported"),new r("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");
for(var l=[],n=0;n<d.length;n++){for(var p=d[n],q=p.spatialReference,p="polyline"===p.type?p.paths:p.rings,v=0,w=0;w<p.length;w++){for(var y=p[w],z=0,C=1;C<y.length;C++){var E=y[C-1][0],F=y[C][0],I=y[C-1][1],T=y[C][1];if(I!==T||E!==F){var M={distance:null};H(M,[E,I],[F,T],q);z+=M.distance}}v+=z}v=h.convertUnit(v,"meters",g);l.push(v)}return l};y.geodesicDensify=C;y.directGeodeticSolver=v;y.inverseGeodeticSolver=H;y.geodesicDistance=function(d,g,l){void 0===l&&(l="meters");if(!d||!g)throw d="one or both input parameters are missing",
D.error("missing-parameters: "+d),new r("geodesic-distance:missing-parameters",d);if(!d.spatialReference||!g.spatialReference)throw d="one or both input points do not have a spatial reference",D.error("invalid-parameters: "+d),new r("geodesic-distance:invalid-parameters",d);if(!d.spatialReference.equals(g.spatialReference))throw d="spatial references of input parameters do not match",D.error("invalid-parameters: "+d),new r("geodesic-distance:invalid-parameters",d);var n=d.spatialReference;if(!x(n))throw d=
"spatial references is not supported",D.error("not-supported: "+d),new r("geodesic-distance:not-supported",d);if(d.equals(g))return{distance:0,azimuth:0,reverseAzimuth:0};var p={distance:null};H(p,[d.x,d.y],[g.x,g.y],n);p.distance=h.convertUnit(p.distance,"meters",l);return p};y.pointFromDistance=function(d,g,h){if(!d||null==g||null==h)throw d="one or more input parameters are missing or undefined",D.error("missing-parameters: "+d),new r("point-from-distance:missing-parameters",d);if(0>h||360<h)throw d=
"azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees",D.error("out-of-bounds: "+d),new r("point-from-distance:-of-bounds",d);if(!d.spatialReference)throw d="the input point must have a spatial reference",D.error("missing-spatial-reference: "+d),new r("point-from-distance:missing-spatial-reference",d);var n=d.spatialReference;if(!x(n))throw d="spatial references is not supported",D.error("not-supported: "+d),new r("geodesic-distance:not-supported",d);var p=[0,0];v(p,
[d.x,d.y],h,g,n);return new l.Point({x:p[0],y:p[1],spatialReference:n})}})},"esri/geometry/geometryEngine":function(){define("require exports esri/kernel esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint dojo/_base/lang".split(" "),function(F,y,w,l,r,d,h,p,I,z){function x(e){if(void 0===h.fromJson){if(void 0!==e.x&&void 0!==e.y)return new h(e);if(void 0!==e.paths)return new d(e);if(void 0!==e.rings)return new r(e);
if(void 0!==e.points)return new I(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new p(e)}else{if(void 0!==e.x&&void 0!==e.y)return h.fromJson(e);if(void 0!==e.paths)return d.fromJson(e);if(void 0!==e.rings)return r.fromJson(e);if(void 0!==e.points)return I.fromJson(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return p.fromJson(e)}}function C(e){if(void 0===h.fromJson){if(void 0!==e.x&&void 0!==e.y)return new h(e);if(void 0!==e.paths)return new d(e);
if(void 0!==e.rings)return new r(e);if(void 0!==e.points)return new I(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new p(e)}else{if(void 0!==e.x&&void 0!==e.y)return h.fromJSON(e);if(void 0!==e.paths)return d.fromJSON(e);if(void 0!==e.rings)return r.fromJSON(e);if(void 0!==e.points)return I.fromJSON(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return p.fromJSON(e)}}function v(e,d){var t;if(null==e||void 0===e||"number"===typeof e)return e;
var b=e.toString();if(""===b)return null;if(2==d){if(t=Z[b],void 0!==t)return t}else if(0==d){t=U[b];if(void 0!==t)return t;t=W[e];if(void 0!==t)return t}else if(3==d&&(t=U[b],void 0!==t))return t;if(1==d&&(t=W[e],void 0!==t))return t;if(!0===/^\d+$/.test(b))return parseInt(b);throw Error("Unrecognised Unit Type");}function H(e){if(void 0!==e&&null!==e)switch(e){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function D(e,
l){if(null===e||void 0===e||e.u())return null;switch(e.G()){case n.Fj.Point:var t=new h(e.Be(),e.nf(),l);if(V){var b=e.hasAttribute(n.Wc.M);e.hasAttribute(n.Wc.Z)&&t.set("z",e.rH());b&&t.set("m",e.aH())}return t;case n.Fj.Polygon:var t=e.hasAttribute(n.Wc.Z),b=e.hasAttribute(n.Wc.M),a=g(e,t,b),t=new r({rings:a,hasZ:t,hasM:b});V?t.set("spatialReference",l):t.setSpatialReference(l);t.setCacheValue("_geVersion",e);return t;case n.Fj.Polyline:return t=e.hasAttribute(n.Wc.Z),b=e.hasAttribute(n.Wc.M),a=
g(e,t,b),t=new d({paths:a,hasZ:t,hasM:b}),V?t.set("spatialReference",l):t.setSpatialReference(l),t.setCacheValue("_geVersion",e),t;case n.Fj.MultiPoint:var t=e.hasAttribute(n.Wc.Z),b=e.hasAttribute(n.Wc.M),c=a=null;t&&(a=e.Pa(n.Wc.Z));b&&(c=e.Pa(n.Wc.M));var f=new n.b,k=e.D();l=new I(l);V&&(l.set("hasZ",t),l.set("hasM",b));for(var m=0;m<k;m++){e.w(m,f);var u=[f.x,f.y];t&&u.push(a.get(m));b&&u.push(c.get(m));l.addPoint(u)}l.setCacheValue("_geVersion",e);return l;case n.Fj.Envelope:return a=e.hasAttribute(n.Wc.Z),
t=e.hasAttribute(n.Wc.M),b=new p(e.R.o,e.R.A,e.R.v,e.R.B,l),V&&(a&&(a=e.xf(n.Wc.Z,0),b.set("zmin",a.ca),b.set("zmax",a.ha)),t&&(a=e.xf(n.Wc.M,0),b.set("mmin",a.ca),b.set("mmax",a.ha))),b.setCacheValue("_geVersion",e),b}return null}function g(e,d,t){var b=[],a=e.aa(),c=null,f=null;d&&(c=e.Pa(n.Wc.Z));t&&(f=e.Pa(n.Wc.M));for(var k=new n.b,m=0;m<a;m++){for(var u=e.wa(m),A=e.La(m),B=0,g=0,Y=NaN,h=NaN,l=NaN,ea=NaN,p=e.Qb(m),r=[],q=u;q<u+A;q++){e.w(q,k);var ea=l=NaN,G=[k.x,k.y];d&&(l=c.get(q),G.push(l));
t&&(ea=f.get(q),G.push(ea));q==u&&p&&(B=k.x,g=k.y,Y=l,h=ea);r.push(G)}!p||B==k.x&&g==k.y&&(!d||isNaN(Y)&&isNaN(l)||Y==l)&&(!t||isNaN(h)&&isNaN(ea)||h==ea)||r.push(r[0].slice(0));b.push(r)}return b}function q(e){var d=e._geVersion;if(null==d||void 0==d){if(Object.freeze&&Object.isFrozen(e))return 102100===e.wkid?aa:4326===e.wkid?fa:d=n.Sd.create(e.wkid);-1!=e.wkid&&null!==e.wkid&&void 0!==e.wkid?(d=n.Sd.create(e.wkid),e._geVersion=d):""!==e.wkt&&void 0!==e.wkt&&null!==e.wkt&&(d=n.Sd.oR(e.wkt),e._geVersion=
d)}return d}function E(e){if(null==e)return null;if(void 0===e.getCacheValue){var d=e._geVersion;if(null==d||void 0==d)d=n.cc.cG(e),e._geVersion=d}else if(d=e.getCacheValue("_geVersion"),null==d||void 0==d)d=n.cc.cG(e),e.setCacheValue("_geVersion",d);return d}function N(e){return null===e.spatialReference?null:q(e.spatialReference)}function T(e){return"[object Array]"===Object.prototype.toString.call(e)}function M(e){if(null===e||void 0===e||e.u())return null;switch(e.G()){case n.Fj.Point:var d={};
d.x=e.Be();d.y=e.nf();if(V){var t=e.hasAttribute(n.Wc.M);e.hasAttribute(n.Wc.Z)&&(d.z=e.rH());t&&(d.m=e.aH())}return d;case n.Fj.Polygon:return d=e.hasAttribute(n.Wc.Z),t=e.hasAttribute(n.Wc.M),{rings:g(e,d,t),hasZ:d,hasM:t};case n.Fj.Polyline:return d=e.hasAttribute(n.Wc.Z),t=e.hasAttribute(n.Wc.M),{paths:g(e,d,t),hasZ:d,hasM:t};case n.Fj.MultiPoint:var d=e.hasAttribute(n.Wc.Z),t=e.hasAttribute(n.Wc.M),b=null,a=null;d&&(b=e.Pa(n.Wc.Z));t&&(a=e.Pa(n.Wc.M));var c=new n.b,f=e.D(),k={points:[]};V&&(k.hasZ=
d,k.hasM=t);for(var m=0;m<f;m++){e.w(m,c);var u=[c.x,c.y];d&&u.push(b.get(m));t&&u.push(a.get(m));k.points.push(u)}return k;case n.Fj.Envelope:return b=e.hasAttribute(n.Wc.Z),d=e.hasAttribute(n.Wc.M),t={},t.xmin=e.R.o,t.ymin=e.R.A,t.xmax=e.R.v,t.ymax=e.R.B,V&&(b&&(b=e.xf(n.Wc.Z,0),t.zmin=b.ca,t.zmax=b.ha),d&&(b=e.xf(n.Wc.M,0),t.mmin=b.ca,t.mmax=b.ha)),t}return null}var K=this&&this.__extends||function(e,d){function t(){this.constructor=e}for(var b in d)d.hasOwnProperty(b)&&(e[b]=d[b]);e.prototype=
null===d?Object.create(d):(t.prototype=d.prototype,new t)},n;(function(e){var d=function(){function b(){}b.Bm=!1;b.jw=!1;b.yz="";return b}();e.Xh=d;if("undefined"!==typeof window)e.Xh.yz="browser","Float64Array"in window&&(e.Xh.jw=!0),"ArrayBuffer"in window&&(e.Xh.Bm=!0);else if("undefined"!==typeof process)d.yz="node",e.Xh.Bm=!0,e.Xh.jw=!0;else{d.yz="browser";try{var t=new ArrayBuffer(0);new Uint8Array(t);e.Xh.Bm=!0;e.Xh.jw=!0}catch(b){e.Xh.Bm=!1}}})(n||(n={}));(function(e){(function(e){e[e.Unknown=
0]="Unknown";e[e.Point=33]="Point";e[e.Line=322]="Line";e[e.Envelope=197]="Envelope";e[e.MultiPoint=550]="MultiPoint";e[e.Polyline=1607]="Polyline";e[e.Polygon=1736]="Polygon"})(e.Fj||(e.Fj={}));(function(e){e[e.enumMild=0]="enumMild";e[e.enumMedium=1]="enumMedium";e[e.enumHot=2]="enumHot"})(e.tM||(e.tM={}));var d=function(){function d(){this.description=null;this.BB=0}d.prototype.G=function(){return 0};d.prototype.tb=function(){return-1};d.prototype.Fg=function(b){this.Bc();b!=this.description&&
this.mo(b)};d.prototype.mo=function(){};d.prototype.om=function(b){this.Bc();b!=this.description&&(b=e.ye.vT(this.description,b),b!=this.description&&this.mo(b))};d.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};d.prototype.Ud=function(b){this.Bc();this.description.hasAttribute(b)||(b=e.ye.uT(this.description,b),this.mo(b))};d.prototype.xf=function(){return null};d.prototype.Qn=function(){};d.prototype.s=function(){};d.prototype.Cp=function(){};d.prototype.ac=function(b){this.s(b)};
d.prototype.u=function(){return!0};d.prototype.Oa=function(){};d.prototype.Xc=function(){};d.prototype.Ka=function(){return null};d.prototype.copyTo=function(){};d.prototype.hf=function(){return 0};d.prototype.Rb=function(){return 0};d.prototype.uH=function(){return this.hasAttribute(1)};d.lf=function(b){return((b&192)>>6)+1>>1};d.Jo=function(b){return 0!=(b&32)};d.l_=function(b){return 0!=(b&64)};d.OU=function(b){return 0!=(b&128)};d.Oc=function(b){return 0!=(b&256)};d.gh=function(b){return 0!=(b&
512)};d.Ic=function(b){return 0!=(b&1024)};d.prototype.Vf=function(){var b=this.Ka();this.copyTo(b);return b};d.prototype.Gg=function(){return null};d.oe=function(b){var a=b.Ka();b.copyTo(a);return a};d.prototype.Bc=function(){0<=this.BB&&(this.BB+=2147483649)};d.gy=function(b){var a=b.G();if(d.gh(a))return b.D();if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(d.Oc(a))return 2;throw e.g.X("missing type");};return d}();e.T=d})(n||(n={}));(function(e){var d=function(){function d(){this.y=
this.x=0}d.pa=function(b,a){var c=new d;c.x=b;c.y=a;return c};d.El=function(b){var a=new d;a.x=b.x;a.y=b.y;return a};d.prototype.ka=function(b,a){this.x=b;this.y=a};d.prototype.L=function(b){this.x=b.x;this.y=b.y};d.prototype.Uq=function(b,a){return this.x===b&&this.y===a};d.prototype.wA=function(b){return 2.220446049250313E-16>=Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};d.prototype.ub=function(b){return this.x===b.x&&this.y===b.y};d.prototype.Eb=function(b){return b==this?
!0:b instanceof d?this.x==b.x&&this.y==b.y:!1};d.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};d.prototype.zc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};d.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=b.x,this.y+=b.y)};d.prototype.Lr=function(){this.x=-this.x;this.y=-this.y};d.prototype.bu=function(b){this.x=-b.x;this.y=-b.y};d.prototype.IU=function(b,a,c){this.x=b.x*(1-c)+a.x*c;this.y=b.y*(1-c)+a.y*c};d.prototype.ru=function(b,a){this.x=this.x*b+a.x;this.y=
this.y*b+a.y};d.prototype.EX=function(b,a,c){this.x=a.x*b+c.x;this.y=a.y*b+c.y};d.prototype.scale=function(b){this.x*=b;this.y*=b};d.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};d.prototype.normalize=function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};d.prototype.qk=function(){return this.x*this.x+this.y*this.y};d.Cb=function(b,a){return Math.sqrt(this.sc(b,
a))};d.xz=function(b,a,c,f){b-=c;a-=f;return Math.sqrt(b*b+a*a)};d.prototype.oi=function(b){return this.x*b.x+this.y*b.y};d.prototype.yE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};d.prototype.Ui=function(b){return this.x*b.y-this.y*b.x};d.prototype.qu=function(b,a){var c=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;this.y=c};d.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};d.prototype.aI=function(b){this.x=-b.y;this.y=b.x};d.prototype.Ur=function(){var b=this.x;this.x=
this.y;this.y=-b};d.prototype.dv=function(){this.y=this.x=NaN};d.prototype.Hy=function(){return isNaN(this.x)};d.prototype.$u=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};d.vs=function(b,a){var c=b.$u(),f=a.$u();return f==c?(c=b.Ui(a),0>c?1:0<c?-1:0):c<f?-1:1};d.AZ=function(b,a){return d.vs(b,a)};d.sc=function(b,a){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b};d.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};d.prototype.$c=function(){this.y=this.x=NaN};d.prototype.isNaN=
function(){return isNaN(this.x)||isNaN(this.y)};d.prototype.RO=function(){return this.Hy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};d.prototype.offset=function(b,a){var c=d.Cb(b,a),f=d.pa(this.x,this.y);if(0==c)return d.Cb(f,b);var k=new d;k.L(a);k.sub(b);f.sub(b);return f.Ui(k)/c};d.zp=function(b,a,c){var f=new e.Xb;f.set(a.x);f.sub(b.x);var k=new e.Xb;k.set(c.y);k.sub(b.y);var m=new e.Xb;m.set(a.y);m.sub(b.y);var u=new e.Xb;u.set(c.x);u.sub(b.x);f.Vg(k);m.Vg(u);
f.sub(m);if(!f.lt())return c=f.value(),0>c?-1:0<c?1:0;f=new e.Tp(a.x);k=new e.Tp(b.x);m=new e.Tp(b.y);f=f.Zt(k);b=new e.Tp(c.y);b=b.Zt(m);a=new e.Tp(a.y);a=a.Zt(m);c=new e.Tp(c.x);c=c.Zt(k);f=f.ds(b);a=a.ds(c);f=f.ds(a);return f.oV()?-1:f.$T()?1:0};d.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return d}();e.b=d})(n||(n={}));(function(e){var d=function(){function e(b){this.kz=this.Au=0;this.HY=b}e.prototype.reset=function(){this.kz=this.Au=0};e.prototype.add=function(b){b-=this.kz;var a=this.Au+
b;this.kz=a-this.Au-b;this.Au=a};e.prototype.sub=function(b){this.add(-b)};e.prototype.en=function(){return this.HY+this.Au};return e}();e.ry=d;d=function(){function e(){}e.Fl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};e.sign=function(b){return 0>b?-1:0<b?1:0};e.gM=function(b){return b-360*Math.floor(b/360)};e.round=function(b){return Math.floor(b+.5)};e.Yx=function(b){return b*b};e.Xq=function(b,a,c){var f;.5>=c?f=b+(a-b)*c:f=a-(a-b)*(1-c);return f};e.cI=function(b,a,c,f){.5>=c?(f.x=b.x+
(a.x-b.x)*c,f.y=b.y+(a.y-b.y)*c):(f.x=a.x-(a.x-b.x)*(1-c),f.y=a.y-(a.y-b.y)*(1-c))};e.mV=function(b,a,c,f,k,m){.5>=k?(m.x=b+(c-b)*k,m.y=a+(f-a)*k):(m.x=c-(c-b)*(1-k),m.y=f-(f-a)*(1-k))};return e}();e.Ub=d})(n||(n={}));(function(e){var d=function(d){function b(){d.call(this);this.oa=this.sa=this.ra=this.ua=0;this.la=null}K(b,d);b.prototype.ec=function(){return e.b.pa(this.ua,this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Mc=function(a){this.Qm(0,a)};b.prototype.wC=function(a,
c){this.Qm(0,e.b.pa(a,c))};b.prototype.Dp=function(a){this.AE(0,a)};b.prototype.setStart=function(a){this.KE(0,a)};b.prototype.dt=function(a,c){return this.ae(0,a,c)};b.prototype.Tx=function(a,c,f){this.oo(0,a,c,f)};b.prototype.Cc=function(){return e.b.pa(this.sa,this.oa)};b.prototype.Ps=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Zc=function(a){this.Qm(1,a)};b.prototype.vm=function(a,c){this.Qm(1,e.b.pa(a,c))};b.prototype.Bp=function(a){this.AE(1,a)};b.prototype.setEnd=function(a){this.KE(1,
a)};b.prototype.Os=function(a,c){return this.ae(1,a,c)};b.prototype.Lx=function(a,c,f){this.oo(1,a,c,f)};b.prototype.tb=function(){return 1};b.prototype.u=function(){return this.Hc()};b.prototype.Oa=function(){};b.prototype.hf=function(){return 0};b.prototype.Ma=function(a,c,f,b,m){return this.PO(a,c,f,b,m)};b.prototype.Yb=function(a,c){return 0!=this.ys(a,c,!1)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.av=function(){return null};b.prototype.Hc=function(){return!1};b.prototype.Jy=
function(a){this.Bc();if(null==this.la&&0<a)this.la=e.J.gf(2*a);else if(null!=this.la&&this.la.length<2*a){for(var c=this.la.slice(0),f=this.la.length;f<2*a;f++)c[f]=0;this.la=c}};b.bX=function(a,c,f){if(0<f)var b=0;for(var m=0;m<f;m++)c[0+b]=a[0],b++};b.prototype.Qm=function(a,c){0!=a?(this.sa=c.x,this.oa=c.y):(this.ua=c.x,this.ra=c.y)};b.prototype.mo=function(a){if(null!=this.la){for(var c=e.ye.vx(a,this.description),f=[],k=b.vl(this.description,0),m=b.vl(this.description,1),u=b.vl(a,0),A=b.vl(a,
1),d=0,g=1,t=a.Ga;g<t;g++){var h=a.rd(g),l=e.ma.Xa(h);if(-1==c[g])for(var n=e.ma.de(h),h=0;h<l;h++)f[u+d]=n,f[A+d]=n,d++;else for(n=this.description.xk(c[g])-2,h=0;h<l;h++)f[u+d]=this.la[k+n],f[A+d]=this.la[m+n],d++,n++}this.la=f}this.description=a};b.prototype.AE=function(a,c){if(this.Hc())throw e.g.X("empty geometry");c.Fg(this.description);c.Hc()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Td(f),m=0,u=e.ma.Xa(b);m<u;m++){var A=this.ae(a,b,m);c.setAttribute(b,m,A)}};
b.prototype.KE=function(a,c){this.Bc();if(c.Hc())throw e.g.X("empty geometry");for(var f=c.description,b=0,m=f.Ga;b<m;b++)for(var u=f.Td(b),A=e.ma.Xa(u),d=0;d<A;d++){var g=c.Yc(u,d);this.oo(a,u,d,g)}};b.prototype.ae=function(a,c,f){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=f?this.oa:this.sa:0!=f?this.ra:this.ua;if(f>=e.ma.Xa(c))throw e.g.wd();var k=this.description.mg(c);return 0<=k?(null!=this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,
a)+this.description.xk(k)-2+f]):e.ma.de(c)};b.prototype.oo=function(a,c,f,k){this.Bc();if(f>=e.ma.Xa(c))throw e.g.wd();var m=this.description.mg(c);0>m&&(this.Ud(c),m=this.description.mg(c));0==c?0!=a?0!=f?this.oa=k:this.sa=k:0!=f?this.ra=k:this.ua=k:(null==this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,a)+this.description.xk(m)-2+f]=k)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.description=this.description;a.Jy(this.description.af.length-2);b.bX(this.la,
a.la,2*(this.description.af.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.Bc();this.iq(a)};b.prototype.xf=function(a,c){var f=new e.Ac;if(this.Hc())return f.Oa(),f;f.ca=this.ae(0,a,c);f.ha=f.ca;f.ml(this.ae(1,a,c));return f};b.prototype.SJ=function(a){this.Hc()?a.Oa():(a.ca=this.ae(0,0,0),a.ha=a.ca,a.ml(this.ae(1,0,0)))};b.prototype.Fx=function(a,c){c.Fg(this.description);c.rb(this.gc(a));for(var f=1,b=this.description.Ga;f<b;f++)for(var m=this.description.Td(f),u=e.ma.Xa(m),A=
0;A<u;A++){var d=this.Yc(a,m,A);c.setAttribute(m,A,d)}};b.prototype.MO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var c=0;c<2*(this.description.af.length-2);c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.OH=function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,c=this.description.Ga;a<c;a++)for(var f=
this.description.rd(a),b=0,m=e.ma.Xa(f);b<m;b++){var u=this.ae(0,f,b),A=this.ae(1,f,b);this.oo(0,f,b,A);this.oo(1,f,b,u)}};b.prototype.ys=function(a,c,f){var b=a.G();switch(this.G()){case 322:if(322==b)return e.Hb.QO(this,a,c,f);throw e.g.za();default:throw e.g.za();}};b.prototype.PO=function(a,c,f,b,m){var k=a.G();switch(this.G()){case 322:if(322==k)return e.Hb.Gy(this,a,c,f,b,m);throw e.g.za();default:throw e.g.za();}};b.prototype.Cy=function(){return null};b.vl=function(a,c){return c*(a.af.length-
2)};b.prototype.gc=function(a,c){if(void 0===c)return c=new e.b,this.gc(a,c),c;e.Ub.mV(this.ua,this.ra,this.sa,this.oa,a,c)};b.prototype.pe=function(){return null};b.prototype.qH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.fh=function(){return null};b.prototype.Go=function(){return null};b.prototype.Eg=function(){return null};b.prototype.Dy=function(a,c){return void 0!==c?this.cy(c)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Hl=function(){return null};
b.prototype.yh=function(){};b.prototype.Yc=function(){return null};b.prototype.pf=function(){return null};b.prototype.cy=function(){return null};b.prototype.bI=function(){return null};b.prototype.Cb=function(a,c){if(!c&&0!=this.ys(a,0,!1))return 0;c=1.7976931348623157E308;var f,b;f=this.ec();b=a.pe(f,!1);f.sub(a.gc(b));f=f.length();f<c&&(c=f);f=this.Cc();b=a.pe(f,!1);f.sub(a.gc(b));f=f.length();f<c&&(c=f);f=a.ec();b=this.pe(f,!1);f.sub(this.gc(b));f=f.length();f<c&&(c=f);f=a.Cc();b=this.pe(f,!1);
f.sub(this.gc(b));f=f.length();f<c&&(c=f);return c};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};return b}(e.T);e.cE=d})(n||(n={}));new n.b;(function(e){(function(e){e[e.Unknown=-1]="Unknown";e[e.Not=0]="Not";e[e.Weak=1]="Weak";e[e.Strong=2]="Strong"})(e.vM||(e.vM={}));(function(e){e[e.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";e[e.IsWeakSimple=2]="IsWeakSimple";e[e.IsStrongSimple=4]="IsStrongSimple";e[e.DirtyOGCFlags=8]="DirtyOGCFlags";e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";
e[e.DirtyExactIntervals=64]="DirtyExactIntervals";e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals";e[e.DirtyIntervals=192]="DirtyIntervals";e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope";e[e.DirtyLength2D=512]="DirtyLength2D";e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D";e[e.DirtyCoordinates=1993]="DirtyCoordinates";e[e.DirtyAllInternal=65535]="DirtyAllInternal";e[e.DirtyAll=16777215]="DirtyAll"})(e.$L||(e.$L={}));var d=function(d){function b(){d.call(this);this.tn=65535;this.qa=0;this.lh=-1;this.ob=
null}K(b,d);b.prototype.iq=function(){};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return 0==this.qa};b.prototype.yk=function(a){return 0!=(this.tn&a)};b.prototype.lg=function(a,c){this.tn=c?this.tn|a:this.tn&~a};b.prototype.wc=function(){this.yk(32)&&this.ZO()};b.prototype.Cu=function(){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");};b.prototype.Ae=
function(a,c){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");this.wc();c.Fg(this.description);c.u()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Td(f),m=0,u=e.ma.Xa(b);m<u;m++){var A=this.ya[f].Of(u*a+m);c.setAttribute(b,m,A)}};b.prototype.vu=function(a,c){this.wc();for(var f=c.description,b=0;b<f.Ga;b++)for(var m=f.Td(b),u=e.ma.Xa(m),A=0;A<u;A++){var d=c.Yc(m,A);this.setAttribute(m,a,A,d)}};b.prototype.w=function(a,c){if(0>a||a>=this.D())throw e.g.wd();this.wc();
this.ya[0].fc(2*a,c)};b.prototype.Ba=function(a){var c=new e.b;this.w(a,c);return c};b.prototype.Nc=function(a,c){this.ya[0].fc(2*a,c)};b.prototype.rb=function(a,c,f){if(0>a||a>=this.qa)throw e.g.wd();this.wc();var b=this.ya[0];void 0!==f?(b.write(2*a,c),b.write(2*a+1,f)):b.fo(2*a,c);this.Dc(1993)};b.prototype.lA=function(a){if(0>a||a>=this.D())throw e.g.wd();this.wc();var c=this.ya[0],f=new e.qd;f.x=c.read(2*a);f.y=c.read(2*a+1);f.z=this.hasAttribute(1)?this.ya[1].Of(a):e.ma.de(1);return f};b.prototype.BC=
function(a,c){if(0>a||a>=this.D())throw e.g.wd();this.Ud(1);this.wc();this.Dc(1993);var f=this.ya[0];f.write(2*a,c.x);f.write(2*a+1,c.y);this.ya[1].Dm(a,c.z)};b.prototype.Yc=function(a,c,f){if(0>c||c>=this.qa)throw e.g.wd();var b=e.ma.Xa(a);if(f>=b)throw e.g.wd();this.wc();var m=this.description.mg(a);return 0<=m?this.ya[m].Of(c*b+f):e.ma.de(a)};b.prototype.KG=function(a,c,f){return this.Yc(a,c,f)};b.prototype.setAttribute=function(a,c,f,b){if(0>c||c>=this.qa)throw e.g.wd();var k=e.ma.Xa(a);if(f>=
k)throw e.g.wd();this.Ud(a);this.wc();a=this.description.mg(a);this.Dc(1993);this.ya[a].Dm(c*k+f,b)};b.prototype.Pa=function(a){this.Cu();this.Ud(a);this.wc();return this.ya[this.description.mg(a)]};b.prototype.Yn=function(a,c){if(null!=c&&e.ma.si(a)!=c.si())throw e.g.F();this.Ud(a);a=this.description.mg(a);null==this.ya&&(this.ya=e.Uc.IB(this.description.Ga));this.ya[a]=c;this.Dc(16777215)};b.prototype.mo=function(a){var c=null;if(null!=this.ya)for(var f=e.ye.vx(a,this.description),c=[],b=0,m=a.Ga;b<
m;b++)-1!=f[b]&&(c[b]=this.ya[f[b]]);this.description=a;this.ya=c;this.lh=-1;this.Dc(16777215)};b.prototype.PE=function(a){this.fv(!0);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.YO=function(a){this.fv(!1);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.Qn=function(a){this.fv(!0);this.R.copyTo(a)};b.prototype.s=function(a){this.PE(a)};b.prototype.Cp=function(a){this.PE(a)};b.prototype.ac=function(a){this.YO(a)};b.prototype.xf=function(a,c){var f=new e.Ac;if(this.Hc())return f.Oa(),
f;this.fv(!0);return this.R.xf(a,c)};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=this.D(),f=0,b=this.description.Ga;f<b;f++)a=this.ya[f].Ak(a,0,c*e.ma.Xa(this.description.Td(f)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||this.Hc()!=a.Hc())return!1;if(this.Hc())return!0;var c=this.D();if(c!=a.D())return!1;for(var f=0;f<this.description.Ga;f++){var k=this.description.rd(f),m=this.Pa(k),u=a.Pa(k);
if(!m.Eb(u,0,c*e.ma.Xa(k)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();this.xE(a)};b.prototype.xE=function(a){this.wc();a.description=this.description;a.ya=null;var c=this.description.Ga,f=null;if(null!=this.ya)for(var f=[],b=0;b<c;b++)null!=this.ya[b]&&(f[b]=this.ya[b].Tr(this.D()*e.ma.Xa(this.description.Td(b))));null!=this.R?(a.R=this.R.Ka(),this.R.copyTo(a.R)):a.R=null;a.qa=this.qa;a.tn=this.tn;a.ya=f;try{this.iq(a)}catch(m){throw a.Oa(),e.g.TN();}};b.prototype.ME=
function(){this.qa=0;this.lh=-1;this.ya=null;this.Dc(16777215)};b.prototype.Dc=function(a){16777215==a&&(this.lh=-1,this.Iy());this.tn|=a;this.DO();this.Bc()};b.prototype.fv=function(a){this.wc();if(this.yk(192))if(null==this.R?this.R=new e.ci(this.description):this.R.Fg(this.description),this.u())this.R.Oa();else{this.Oy(a);for(var c=1;c<this.description.Ga;c++)for(var f=this.description.Td(c),b=e.ma.Xa(f),m=this.ya[c],u=0;u<b;u++){var A=new e.Ac;A.Oa();for(var d=0;d<this.qa;d++){var g=m.Of(d*b+
u);A.Nb(g)}this.R.setInterval(f,u,A)}a&&this.lg(192,!1)}};b.prototype.Oy=function(){this.R.Oa();for(var a=this.ya[0],c=new e.b,f=0;f<this.qa;f++)a.fc(2*f,c),this.R.Nb(c)};b.prototype.uo=function(a){a.Oa();for(var c=this.ya[0],f=new e.b,b=0;b<this.qa;b++)c.fc(2*b,f),a.Nb(f)};b.prototype.ZO=function(){if(this.lh<this.qa){null==this.ya&&(this.ya=e.Uc.IB(this.description.Ga));this.lh=2147483647;for(var a=0;a<this.description.Ga;a++){var c=this.description.Td(a);if(null!=this.ya[a]){var f=e.ma.Xa(c),b=
e.J.truncate(this.ya[a].size/f);b<this.qa&&(b=e.J.truncate(this.lh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*f,e.ma.de(c)));b<this.lh&&(this.lh=b)}else this.ya[a]=e.Uc.qz(c,this.qa),this.lh=this.qa}}this.Py();this.lg(32,!1)};b.prototype.zl=function(a){if(0>a)throw e.g.F();a!=this.qa&&(this.qa=a,this.Dc(65535))};b.prototype.Lk=function(a){if(!this.yk(1)){if(!this.yk(2))return 0;if(this.OV>=a)return this.yk(8)?1:2}return-1};b.prototype.Zg=function(a,c){this.OV=c;if(-1==a)this.lg(1,!0),
this.lg(8,!0);else if(this.lg(1,!1),this.lg(8,!0),0==a)this.lg(2,!1),this.lg(4,!1);else if(1==a)this.lg(2,!0),this.lg(4,!1);else if(2==a)this.lg(2,!0),this.lg(4,!0);else throw e.g.X("internal error.");};b.prototype.DO=function(){null!=this.ob&&(this.ob=null)};b.prototype.DE=function(a,c,f,b){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");if(0>c||c>=this.qa)throw e.g.X("index out of bounds");this.wc();b.Fg(this.description);b.u()&&b.nq();for(var k=0;k<this.description.Ga;k++)for(var u=this.description.Td(k),
A=0,d=e.ma.Xa(u);A<d;A++){var g=this.ya[k].Of(d*a+A),t=this.ya[k].Of(d*c+A);b.setAttribute(u,A,e.Ub.Xq(g,t,f))}};b.prototype.xs=function(a,c){var f=this.ya[0].f,b=f[2*a]-f[2*c],f=f[2*a+1]-f[2*c+1];return Math.sqrt(b*b+f*f)};b.prototype.Yh=function(a,c){if(0>a||a>=this.qa)throw e.g.wd();if(c.u())throw e.g.F();this.wc();for(var f=c.description,b=0;b<f.Ga;b++)for(var m=f.rd(b),u=e.ma.Xa(m),A=0;A<u;A++){var d=c.Yc(m,A);this.setAttribute(m,a,A,d)}};b.prototype.Xu=function(){return null};b.prototype.Hj=
function(){return null};return b}(e.T);e.Mu=d})(n||(n={}));(function(e){var d=function(){function d(){this.pb=this.Oo=null;this.Gn=124234251;this.Dw=!0;this.qf=-1;this.pb=new e.ad(7);this.Oo=null}d.prototype.Ep=function(b){this.Oo=b};d.prototype.OR=function(){this.Dw=!1};d.prototype.Qe=function(b){this.pb.Qe(b)};d.prototype.Ks=function(b){var a=this.pb.Pe();this.mY(a);this.pY(b,a);return a};d.prototype.IR=function(b){this.pb.kd(b)};d.prototype.addElement=function(b,a){var c;-1==a?(-1==this.qf&&(this.qf=
this.Ks(-1)),c=this.qf):c=a;return this.WE(b,0,c)};d.prototype.$E=function(b){-1==this.qf&&(this.qf=this.Ks(-1));return this.WE(b,1,this.qf)};d.prototype.ro=function(b){var a;-1==this.qf&&(this.qf=this.Ks(-1));a=this.qf;var c=this.pb.f;if(-1==a||-1==c[7*a])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),c=this.pb.f,c[7*a]=b,this.pq(-1,b,a,c),b;var f=-1==a?-1:c[7*a+2];b=this.pb.nl([-1,-1,f,b,this.Ll(),-1,-1]);c=this.pb.f;c[7*f+1]=b;this.Vy(b,c);-1===c[7*b+2]&&(c[7*a]=b);this.pq(-1,b,a,c);return b};
d.prototype.jv=function(b,a,c,f){var k=-1;-1==k&&(-1==this.qf&&(this.qf=this.Ks(-1)),k=this.qf);var m=this.pb.f;if(-1==k||-1==m[7*k])return c=this.pb.nl([-1,-1,-1,c,this.Ll(),-1,-1]),m=this.pb.f,m[7*k]=c,this.pq(-1,c,k,m),c;var u;f?(f=-1!=a?this.Oo.compare(this,c,a):-1,u=-1!=b?this.Oo.compare(this,c,b):1):(f=-1,u=1);if(0==f||0==u)return m[7*k+3]=0==f?a:b,-1;(-1!=a&&-1!=b?this.Gn>e.J.HB(this.Gn)>>1:-1!=a)?b=a:f=u;for(a=!0;;){if(0>f)if(u=m[7*b],-1!=u)b=u;else{f=b;c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,
-1]);m=this.pb.f;m[7*b]=c;break}else if(u=m[7*b+1],-1!=u)b=u;else{f=m[7*b+6];c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,-1]);m=this.pb.f;m[7*b+1]=c;break}a&&(f*=-1,a=!1)}this.Vy(c,m);-1===m[7*c+2]&&(m[7*k]=c);this.pq(f,c,k,m);return c};d.prototype.QG=function(){return this.$S(this.qf)};d.prototype.Kd=function(b,a){a=-1==a?this.qf:a;this.Dw?this.HR(b,a):this.fZ(b,a)};d.prototype.search=function(b,a){for(a=this.fw(a);-1!=a;){var c=this.Oo.compare(this,b,a);if(0==c)return a;a=0>c?this.Pl(a):this.Nq(a)}return-1};
d.prototype.HX=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?a=this.Pl(a):(c=a,a=this.Nq(a))}return c};d.prototype.lK=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?(c=a,a=this.Pl(a)):a=this.Nq(a)}return c};d.prototype.ja=function(b){return this.pb.S(b,3)};d.prototype.Pl=function(b){return this.pb.S(b,0)};d.prototype.Nq=function(b){return this.pb.S(b,1)};d.prototype.getParent=function(b){return this.pb.S(b,
2)};d.prototype.nb=function(b){return this.pb.S(b,6)};d.prototype.Ve=function(b){return this.pb.S(b,5)};d.prototype.xc=function(b){return-1==b?this.Ol(this.qf):this.Ol(b)};d.prototype.Fc=function(b){return-1==b?this.Zs(this.qf):this.Zs(b)};d.prototype.ST=function(b){return-1==b?this.nH(this.qf):this.nH(b)};d.prototype.kk=function(b,a){this.nC(b,a)};d.prototype.fw=function(b){return-1==b?this.iH(this.qf):this.iH(b)};d.prototype.clear=function(){this.pb.Vi(!1);this.qf=-1};d.prototype.size=function(b){return-1==
b?this.kH(this.qf):this.kH(b)};d.prototype.OP=function(b,a){for(var c=a[7*b],f=a[7*b+1],k=a[7*b+4];-1!=c||-1!=f;){var m=-1!=c?a[7*c+4]:2147483647,f=-1!=f?a[7*f+4]:2147483647;if(k<=Math.min(m,f))break;m<=f?this.iK(c,a):this.hK(b,a);c=a[7*b];f=a[7*b+1]}};d.prototype.Vy=function(b,a){if(this.Dw)for(var c=a[7*b+4],f=a[7*b+2];-1!=f&&a[7*f+4]>c;)a[7*f]==b?this.iK(b,a):this.hK(f,a),f=a[7*b+2]};d.prototype.hK=function(b,a){var c=a[7*b+1],f;a[7*c+2]=a[7*b+2];a[7*b+2]=c;f=a[7*c];a[7*b+1]=f;-1!=f&&(a[7*f+2]=
b);a[7*c]=b;f=a[7*c+2];-1!=f&&(a[7*f]==b?a[7*f]=c:a[7*f+1]=c)};d.prototype.iK=function(b,a){var c=a[7*b+2],f;a[7*b+2]=a[7*c+2];a[7*c+2]=b;f=a[7*b+1];a[7*c]=f;-1!=f&&(a[7*f+2]=c);a[7*b+1]=c;f=a[7*b+2];-1!=f&&(a[7*f]===c?a[7*f]=b:a[7*f+1]=b)};d.prototype.sl=function(b,a){this.pb.P(b,2,a)};d.prototype.rC=function(b,a){this.pb.P(b,0,a)};d.prototype.vC=function(b,a){this.pb.P(b,1,a)};d.prototype.uC=function(b,a){this.pb.P(b,5,a)};d.prototype.Qx=function(b,a){this.pb.P(b,6,a)};d.prototype.OK=function(b,
a){this.pb.P(a,0,b)};d.prototype.mY=function(b){this.pb.P(b,4,0)};d.prototype.pY=function(b,a){this.pb.P(a,5,b)};d.prototype.iH=function(b){return-1==b?-1:this.pb.S(b,0)};d.prototype.Ol=function(b){return-1==b?-1:this.pb.S(b,1)};d.prototype.Zs=function(b){return-1==b?-1:this.pb.S(b,2)};d.prototype.$S=function(b){return-1==b?-1:this.pb.S(b,3)};d.prototype.kH=function(b){return-1==b?0:this.pb.S(b,4)};d.prototype.nH=function(b){return this.pb.S(b,5)};d.prototype.Bx=function(b){return this.pb.nl([-1,
-1,-1,b,this.Ll(),-1,-1])};d.prototype.Kl=function(b){-1!=b&&this.pb.kd(b)};d.prototype.Ll=function(){this.Gn=e.J.HB(this.Gn);return this.Gn&1073741823};d.prototype.WE=function(b,a,c){var f=this.pb.f;if(-1==c||-1==f[7*c])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),f=this.pb.f,f[7*c]=b,this.pq(-1,b,c,f),b;for(var k=-1==c?-1:f[7*c];;){var m=-1==a?1:this.Oo.compare(this,b,k);if(0>m)if(m=this.Pl(k),-1!=m)k=m;else{a=k;b=this.pb.nl([-1,-1,k,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*k]=b;break}else{if(1==
a&&0==m)return f[7*c+3]=k,-1;m=f[7*k+1];if(-1!=m)k=m;else{a=f[7*k+6];b=this.pb.nl([-1,-1,k,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*k+1]=b;break}}}this.Vy(b,f);-1===f[7*b+2]&&(f[7*c]=b);this.pq(a,b,c,f);return b};d.prototype.pq=function(b,a,c,f){var k;-1!=b?(k=f[7*b+5],f[7*b+5]=a):k=-1==c?-1:f[7*c+2];f[7*a+5]=k;-1!=k&&(f[7*k+6]=a);f[7*a+6]=b;b==(-1==c?-1:f[7*c+1])&&(f[7*c+1]=a);-1==b&&(f[7*c+2]=a);f[7*c+4]=(-1==c?0:f[7*c+4])+1};d.prototype.$B=function(b,a){var c=this.pb.f,f=c[7*b+5];b=c[7*b+6];-1!=f?c[7*
f+6]=b:c[7*a+1]=b;-1!=b?c[7*b+5]=f:c[7*a+2]=f;c[7*a+4]=-1===a?-1:c[7*a+4]-1};d.prototype.fZ=function(b,a){this.$B(b,a);var c=this.Pl(b),f=this.Nq(b),k=this.getParent(b),m=b;if(-1!=c&&-1!=f){this.Gn=e.J.HB(this.Gn);var u;u=1073741823<this.Gn?this.nb(b):this.Ve(b);var A=this.getParent(u)==b;this.pb.ay(b,u,0);this.pb.ay(b,u,1);this.pb.ay(b,u,2);-1!=k?this.Pl(k)==b?this.rC(k,u):this.vC(k,u):this.OK(u,a);A?(c==u?(this.rC(u,b),this.sl(f,u)):f==u&&(this.vC(u,b),this.sl(c,u)),this.sl(b,u),k=u):(this.sl(c,
u),this.sl(f,u),k=this.getParent(b),m=u);c=this.Pl(b);f=this.Nq(b);-1!=c&&this.sl(c,b);-1!=f&&this.sl(f,b)}c=-1!=c?c:f;-1==k?this.OK(c,a):this.Pl(k)==m?this.rC(k,c):this.vC(k,c);-1!=c&&this.sl(c,k);this.Kl(b,a)};d.prototype.HR=function(b,a){var c=this.pb.f;c[7*b+4]=2147483647;var f=-1,k=-1,m=-1===a?-1:c[7*a],e=m==b;e&&(f=c[7*m],k=c[7*m+1],-1==f&&-1==k)?(this.$B(m,a),this.Kl(m,a),c[7*a]=-1):(this.OP(b,c),m=c[7*b+2],-1!=m&&(c[7*m]==b?c[7*m]=-1:c[7*m+1]=-1),this.$B(b,a),this.Kl(b,a),e&&(c[7*a]=-1==f||
-1!=c[7*f+2]?k:f))};d.prototype.nC=function(b,a){this.pb.P(b,3,a)};return d}();e.uk=d})(n||(n={}));(function(e){var d=function(){function d(b,a){void 0!==b&&this.I(b,a)}d.prototype.I=function(b,a){this.ca=b;this.ha=a;this.normalize()};d.prototype.Yb=function(b){return this.ca<=b.ca?this.ha>=b.ca:b.ha>=this.ca};d.prototype.move=function(b){this.u()||(this.ca+=b,this.ha+=b)};d.prototype.normalize=function(){if(!isNaN(this.ca)){if(this.ca>this.ha){var b=this.ca;this.ca=this.ha;this.ha=b}isNaN(this.ha)&&
this.Oa()}};d.prototype.Oa=function(){this.ha=this.ca=NaN};d.prototype.u=function(){return isNaN(this.ca)};d.prototype.Nb=function(b){"number"===typeof b?this.u()?this.ha=this.ca=b:this.ml(b):b.u()||(this.u()?(this.ca=b.ca,this.ha=b.ha):(this.ca>b.ca&&(this.ca=b.ca),this.ha<b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa()))};d.prototype.ml=function(b){b<this.ca?this.ca=b:b>this.ha&&(this.ha=b)};d.prototype.contains=function(b){return"number"===typeof b?b>=this.ca&&b<=this.ha:b.ca>=this.ca&&b.ha<=this.ha};
d.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ca<b.ca&&(this.ca=b.ca),this.ha>b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa())};d.prototype.O=function(b){this.u()||(this.ca-=b,this.ha+=b,this.ha<this.ca&&this.Oa())};d.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ca)+Math.abs(this.ha)+1)};d.prototype.kC=function(b,a){b>a?(this.ca=a,this.ha=b):(this.ca=b,this.ha=a)};d.prototype.wu=function(b){return e.J.pk(b,this.ca,this.ha)};d.prototype.N=
function(){return this.ha-this.ca};d.prototype.Wf=function(){return.5*(this.ca+this.ha)};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?this.u()&&b.u()?!0:this.ca!=b.ca||this.ha!=b.ha?!1:!0:!1};d.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return d}();e.Ac=d})(n||(n={}));(function(e){var d=new e.Ac,g=new e.Ac,b=function(){return function(){this.Le=null;this.qb=-1;this.wb=new e.Hb;this.YA=55555555;this.Fw=this.Iw=!1;this.rg=new e.Ac;this.rg.kC(0,0)}}();e.k_=b;var a=function(){function a(a,
c,m){this.a=a;this.il=NaN;this.aJ=this.Ar=0;this.bJ=NaN;this.ta=c;this.Dr=10*c;this.cJ=this.dJ=NaN;this.Ng=!1;this.rn=this.Yt=this.vp=this.St=this.Rt=-1;this.PA=m;this.zB=new b;this.kJ=new b;e.J.truncate(3*a.vd/2)}a.prototype.AH=function(a,c,b,e){a.Le=null===e?null:e[b[5*c]];a.Fw=null!=a.Le;a.Fw||(e=b[5*c+2],-1!==e&&this.a.gX(b[5*c],b[5*e],a.wb),a.Le=a.wb,a.rg.kC(a.wb.ua,a.wb.sa),a.rg.ha+=this.ta,a.wb.BJ(),a.Iw=a.wb.oa==a.wb.ra,a.Iw||(a.YA=(a.wb.sa-a.wb.ua)/(a.wb.oa-a.wb.ra)))};a.prototype.RQ=function(a,
c){var f=a.ys(c,this.ta,!0);if(0!=f)return 2==f?this.Az():this.Wi();a.Oq(L);a.Ps(O);c.Oq(R);c.Ps(S);J.ka(this.Ar,this.il);L.ub(R)&&this.il==L.y?0>O.compare(S)?J.L(O):J.L(S):L.ub(S)&&this.il==L.y?0>O.compare(R)?J.L(O):J.L(R):R.ub(O)&&this.il==R.y?0>L.compare(S)?J.L(L):J.L(S):O.ub(S)&&this.il==O.y&&(0>L.compare(R)?J.L(L):J.L(R));return a.pf(J.y,J.x)<c.pf(J.y,J.x)?-1:1};a.prototype.PQ=function(a,c){if(a.wb.ra==c.wb.ra&&a.wb.ua==c.wb.ua)return a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa?this.PA?this.Az():0:this.VF(a,
c);if(a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa)return this.UF(a,c);var f=this.UF(a,c);a=this.VF(a,c);return 0>f&&0>a?-1:0<f&&0<a?1:this.Wi()};a.prototype.LQ=function(a,c){if(a.sa>c.sa){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.sa-a.ua)<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 1};a.prototype.MQ=function(a,c){if(a.ua<c.ua){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-
c.ua)*(a.ua-a.sa)<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi();return-1};a.prototype.NQ=function(a,c){var f=new e.b;f.zc(c.Cc(),c.ec());f.Ur();f.normalize();var b=new e.b;b.zc(a.ec(),c.ec());var k=new e.b;k.zc(a.Cc(),c.ec());var b=b.oi(f),f=k.oi(f),k=Math.abs(b),d=Math.abs(f);if(k<d){if(k<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi()}else if(d<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 0>b&&0>f?-1:0<b&&0<f?1:this.Wi()};a.prototype.TF=function(a,c){return a.ra==c.ra&&a.ua==c.ua?
this.LQ(a,c):a.oa==c.oa&&a.sa==c.sa?this.MQ(a,c):this.NQ(a,c)};a.prototype.OQ=function(a,c){return a.oa==c.oa&&a.sa==c.sa&&a.ra==c.ra&&a.ua==c.ua?this.PA?this.Az():0:this.Wi()};a.prototype.UF=function(a,c){var f=1;if(a.wb.ra<c.wb.ra){var f=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var k=b.ua-a.ua;c=c.YA*(b.ra-a.ra);var e=this.Dr;return k<c-e?-f:k>c+e?f:a.Si(b.ua,b.ra,this.ta)?this.Wi():k<c?-f:f};a.prototype.VF=function(a,c){var f=1;if(c.wb.oa<a.wb.oa){var f=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var k=b.sa-a.ua;c=c.YA*
(b.oa-a.ra);var e=this.Dr;return k<c-e?-f:k>c+e?f:a.Si(b.sa,b.oa,this.ta)?this.Wi():k<c?-f:f};a.prototype.Az=function(){this.Ng=!0;this.mj=new e.$d(5,this.vp,this.Yt);return-1};a.prototype.Wi=function(){this.Ng=!0;this.PA?this.mj=new e.$d(4,this.vp,this.Yt):this.Yt=this.vp=this.St=this.Rt=-1;return-1};a.prototype.QQ=function(a,c,b,e){if(this.Ng)return-1;var f=this.bJ==this.il&&this.aJ==this.Ar,k;f&&a==this.Rt?k=this.cJ:(k=NaN,this.Rt=-1);f&&c==this.St?f=this.dJ:(f=NaN,this.St=-1);b.Le.SJ(d);e.Le.SJ(g);
if(d.ha<g.ca)return-1;if(g.ha<d.ca)return 1;this.bJ=this.il;this.aJ=this.Ar;isNaN(k)&&(this.Rt=a,this.cJ=k=a=b.Le.pf(this.il,this.Ar));isNaN(f)&&(this.St=c,this.dJ=f=a=e.Le.pf(this.il,this.Ar));return Math.abs(k-f)<=this.ta?this.RQ(b.Le,e.Le):k<f?-1:k>f?1:0};a.prototype.Gs=function(){this.Ng=!1};a.prototype.en=function(){return this.mj};a.prototype.QK=function(a,c){this.il=a;this.Ar=c;this.Yt=this.vp=this.St=this.Rt=-1};a.prototype.compare=function(a,c,b){if(this.Ng)return-1;a=a.ja(b);this.rn=b;return this.XF(c,
c,a,a)};a.prototype.XF=function(a,c,b,e){var f;this.vp==c?f=this.zB:(this.vp=c,f=this.zB,this.zB.qb=a,this.AH(f,c,this.a.Dd.f,this.a.wf));var k;null==k&&(this.Yt=e,k=this.kJ,this.kJ.qb=b,this.AH(k,e,this.a.Dd.f,this.a.wf));if(f.Fw||k.Fw)return this.QQ(c,e,f,k);if(f.rg.ha<k.rg.ca)return-1;if(k.rg.ha<f.rg.ca)return 1;a=f.Iw?1:0;a|=k.Iw?2:0;return 0==a?this.PQ(f,k):1==a?this.TF(f.wb,k.wb):2==a?-1*this.TF(k.wb,f.wb):this.OQ(f.wb,k.wb)};return a}();e.fE=a})(n||(n={}));(function(e){var d=function(){function d(b,
a){this.a=b;this.ta=a;this.Ng=!1;this.vp=-1;this.rg=new e.Ac;this.wr=new e.b;this.wr.$c();this.Fe=new e.Hb;this.rn=-1;this.hB=1.7976931348623157E308}d.prototype.Gs=function(){this.Ng=!1;this.hB=1.7976931348623157E308};d.prototype.Yh=function(b){this.wr.L(b)};d.prototype.compare=function(b,a){return this.YF(a,b.ja(a))};d.prototype.YF=function(b,a){var c=null!=this.a.ic(a);c||(this.a.pd(a,this.Fe),this.rg.kC(this.Fe.ua,this.Fe.sa));if(c)throw e.g.X("not implemented");if(this.wr.x+this.ta<this.rg.ca)return-1;
if(this.wr.x-this.ta>this.rg.ha)return 1;if(this.Fe.ra==this.Fe.oa)return this.rn=b,this.Ng=!0,0;this.Fe.BJ();a=this.Fe.ec();c=new e.b;c.zc(this.Fe.Cc(),a);c.Ur();var f=new e.b;f.zc(this.wr,a);a=c.oi(f);a/=c.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Fe.mt(this.wr,this.ta)&&(c=Math.abs(a),c<this.hB&&(this.rn=b,this.hB=c),this.Ng=!0,c<.25*this.ta)?0:0>a?-1:1};return d}();e.aO=d})(n||(n={}));(function(e){function d(b,a,c,f){c=new Float64Array(b.subarray(c,f));b.set(c,a)}var g=function(){function b(a){this.xa=
this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};
b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.oX=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-
1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=c;this.f=f}this.size=a};b.prototype.yf=function(a){(null==
this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Sq=function(a,
c,f,b,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;u-=a;for(var k=this.f.slice(a,a+u),d=0;d<u;d++)this.f[a+2*b+d]=k[d];if(m)for(m=0;m<b;m++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else for(m=0,k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--};b.prototype.Rk=function(a,c,f,b,m,u,A){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();var k=this.size-A;k<b&&this.resize(this.size+b-k);for(k=0;k<A-a;k++)this.f[a+
b+k]=this.f[a+k];this.f==c.f&&a<f&&(f+=b);if(m)for(k=0;k<b;k++)this.f[k+a]=c.f[f+k];else for(m=b,A=0;A<b;A+=u)for(m-=u,k=0;k<u;k++)this.f[a+A+k]=c.f[f+m+k]};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;for(var k=this.f.slice(a,a+b),u=0;u<b;u++)this.f[a+f+u]=k[u];for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();for(var b=this.f.slice(a,a+(f-a)),m=0;m<f-a;m++)this.f[m+a+2]=b[m];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,f,b,m){if(0>
a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)for(m=0;m<c;m++)this.f[a+m]=f[b+m];else for(m||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,m,u){if(0>a||0>c||0>b)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-u,1==u)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,
b--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var k=0;k<u;k++)this.f[a+k]=f.f[b+k];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<f-(a+c)){f-=a+c;for(var b=this.f.slice(a+c,a+f+c),m=0;m<f;m++)this.f[a+m]=b[m]}this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,m=0;m<b;m+=f){c-=f;for(var u=0;u<f;u++){var A=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=A}}};b.prototype.Zh=
function(a,c,f){if(0>c||0>f||0>c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,m){if(!b||a!=f){for(var k=0;k<c;k++)this.f[a+k]=this.f[f+k];if(!b)for(f=a,a=a+c-m,b=0,c=e.J.truncate(c/2);b<c;b++){for(k=0;k<m;k++){var A=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=A}f+=m;a-=m}}};b.prototype.ks=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,
this.f[a+1]=f[b].y,a+=m};b.prototype.hy=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=m};b.prototype.pl=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)f[b+m]=this.f[a+m];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],b--};b.prototype.Hx=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(m||(a+=c-1),
m=m?2:-2,c=b+c;b<c;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=m};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){var b=this.f.slice(0,a),m=this.f.slice(c);a=this.f.slice(a,c).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(m))};b.prototype.si=function(){return 1};b.Bb=0;return b}();e.Rd=g;g=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Float64Array(c);
this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==c)for(var m=0;m<a;m++)k[m]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Float64Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Float64Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,
c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=
function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=new Float64Array(this.f,0,a);this.f=f}}else{a>this.f.length&&
(f=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),f=new Float64Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==
a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,f,b,m,u,A){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();var k=this.size-A;k<b&&this.resize(this.size+b-k);d(this.f,a+b,a,a+(A-a));this.f==c.f&&a<f&&(f+=b);if(m)this.f.set(c.f.subarray(f,f+b),a);else for(m=b,A=0;A<b;A+=u)for(m-=u,k=0;k<u;k++)this.f[a+A+k]=c.f[f+m+k]};b.prototype.Sq=function(a,c,f,b,m,u){if(this.xa)throw e.g.Da();
0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;d(this.f,a+2*b,a,a+(u-a));if(m)for(m=0;m<b;m++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else{m=0;for(var k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--}};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;d(this.f,a+b,a,a+b);for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(f-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,
c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)this.f.set(f.subarray(b,c),a);else for(m||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,m,u){if(0>a||0>c||0>b)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-u,1==u)for(m=0;m<c;m++)this.f[a]=f.f[b],
a++,b--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var k=0;k<u;k++)this.f[a+k]=f.f[b+k];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<f-(a+c)&&d(this.f,a,a+c,a+(f-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,m=0;m<b;m+=f){c-=f;for(var u=0;u<f;u++){var A=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=A}}};b.prototype.Zh=function(a,c,f){if(0>c||0>f||0>
c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,m){if(!b||a!=f)if(this.f.set(this.f.subarray(f,f+c),a),!b)for(f=a,a=a+c-m,b=0,c=e.J.truncate(c/2);b<c;b++){for(var k=0;k<m;k++){var A=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=A}f+=m;a-=m}};b.prototype.ks=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=m};b.prototype.hy=
function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=m};b.prototype.pl=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)f[b+m]=this.f[a+m];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],b--};b.prototype.Hx=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(m||(a+=c-1),m=m?2:-2,c=b+c;b<c;b++)f[b][0]=this.f[a],
f[b][1]=this.f[a+1],a+=m};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){Array.prototype.sort.call(this.f.subarray(a,c),f)};b.prototype.si=function(){return 1};return b}();e.KL=g})(n||(n={}));!0===n.Xh.Bm&&!0===n.Xh.jw&&(n.Rd=n.KL);(function(e){function d(b,a,c,f){c=new Int32Array(b.subarray(c,f));b.set(c,a)}e.BZ=function(){return function(){this.random=1973}}();var g=function(){function b(a){this.xa=this.Ce=
!1;this.f=[];var c=a;2>c&&(c=2);this.f=this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};
b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};
b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=c;this.f=f}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");
this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,f,b,m,u,A){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();for(var k=0;k<A-a;k++)this.f[a+b+k]=this.f[a+k];this.f==
c.f&&a<f&&(f+=b);if(m)for(k=0;k<b;k++)this.f[k+a]=c.f[f+k];else for(m=b,A=0;A<b;A+=u)for(m-=u,k=0;k<u;k++)this.f[a+A+k]=c.f[f+m+k]};b.prototype.Sq=function(a,c,f,b,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;u-=a;for(var k=this.f.slice(a,a+u),d=0;d<u;d++)this.f[a+2*b+d]=k[d];if(m)for(m=0;m<b;m++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else for(m=0,k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--};b.prototype.Vj=
function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;for(var k=this.f.slice(a,a+b),u=0;u<b;u++)this.f[a+f+u]=k[u];for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();for(var b=this.f.slice(a,a+(f-a)),m=0;m<f-a;m++)this.f[m+a+2]=b[m];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)for(m=0;m<c;m++)this.f[a+m]=f[b+m];else for(m||(a+=c-1),c=b+c;b<
c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,m,u){if(0>a||0>c||0>b)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-u,1==u)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var k=0;k<u;k++)this.f[a+k]=f.f[b+k];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();
if(0<f-(a+c)){f-=a+c;for(var b=this.f.slice(a+c,a+f+c),m=0;m<f;m++)this.f[a+m]=b[m]}this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,m=0;m<b;m+=f){c-=f;for(var u=0;u<f;u++){var A=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=A}}};b.prototype.Zh=function(a,c,f){if(0>c||0>f||0>c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,m){if(!b||a!=f){for(var k=0;k<c;k++)this.f[a+k]=this.f[f+
k];if(!b)for(f=a,a=a+c-m,b=0,c=e.J.truncate(c/2);b<c;b++){for(k=0;k<m;k++){var A=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=A}f+=m;a-=m}}};b.prototype.ks=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=m};b.prototype.pl=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)f[b+m]=this.f[a+m];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],
b--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var f=this.f.slice(0,a),m=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(m))};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-
1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.nA=function(a){return 0<=this.Ov(a)};b.Bb=0;return b}();e.ia=g;g=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Int32Array(c);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,
b-a,1))};b.zd=function(a,c){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==c)for(var m=0;m<a;m++)k[m]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Int32Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int32Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=
a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=
function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,k=this.size;k<a;k++)b[k]=c}this.size=a};b.prototype.yf=
function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=
function(a,c,b,k,m,u,A){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=k%u))throw e.g.F();d(this.f,a+k,a,a+(A-a));this.f==c.f&&a<b&&(b+=k);if(m)this.f.set(c.f.subarray(b,b+k),a);else for(m=k,A=0;A<k;A+=u){m-=u;for(var f=0;f<u;f++)this.f[a+A+f]=c.f[b+m+f]}};b.prototype.Sq=function(a,c,b,k,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;d(this.f,a+2*k,a,a+(u-a));if(m)for(m=0;m<k;m++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else{m=0;
for(var f=k-1;m<k;++m)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--}};b.prototype.Vj=function(a,c,b,k){if(this.xa)throw e.g.Da();k-=a;d(this.f,a+k,a,a+k);for(k=0;k<b;k++)this.f[a+k]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(b.length<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)this.f.set(b.subarray(k,c),a);else for(m||(a+=c-1),c=k+c;k<c;k++)this.f[a]=
b[k],a--};b.prototype.ho=function(a,c,b,k,m,u){if(0>a||0>c||0>k)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(b.size<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,k,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k++;else if(k=k+c-u,1==u)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var f=0;f<u;f++)this.f[a+f]=b.f[k+f];a+=u;k-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();
0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,m=0;m<f;m+=b){c-=b;for(var u=0;u<b;u++){var A=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=A}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,k,m){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!k)for(b=a,a=a+c-m,k=0,c=e.J.truncate(c/
2);k<c;k++){for(var f=0;f<m;f++){var A=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=A}b+=m;a-=m}};b.prototype.ks=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=k;k<c;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=m};b.prototype.pl=function(a,c,b,k,m){if(0>a||0>c||0>k||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)b[k+m]=this.f[a+m];else for(k=k+c-1;a<c;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):
this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){10>c-a?b.ul(this.f,a,c,f):b.Oi(this.f,a,c-1,f)};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==
a)return c;return-1};b.prototype.nA=function(a){return 0<=this.Ov(a)};b.ul=function(a,c,b,k){for(var f=c;f<b;f++){for(var e=a[f],A=f-1;A>=c&&0<k(a[A],e);)a[A+1]=a[A],A--;a[A+1]=e}};b.Wg=function(a,c,b){var f=a[b];a[b]=a[c];a[c]=f};b.Oi=function(a,c,f,k){if(!(c>=f))for(;;){if(9>f-c){b.ul(a,c,f+1,k);break}var m=a[c];b.Wg(a,c,f);for(var e=c,A=c;A<f;A++)0>=k(a[A],m)&&(b.Wg(a,e,A),e+=1);b.Wg(a,e,f);e-c<f-e?(b.Oi(a,c,e-1,k),c=e+1):(b.Oi(a,e+1,f,k),f=e-1)}};return b}();e.jy=g})(n||(n={}));!0===n.Xh.Bm&&
(n.ia=n.jy);(function(e){function d(b,a,c,f){c=new Int8Array(b.subarray(c,f));b.set(c,a)}var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=
function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};
b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),k=this.f.length;k<
a;k++)b[k]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=
a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,k,m,u,A){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=k%u))throw e.g.F();for(var f=0;f<A-a;f++)this.f[a+k+f]=this.f[a+f];this.f==c.f&&a<b&&(b+=k);if(m)for(f=0;f<k;f++)this.f[f+a]=c.f[b+f];else for(m=k,A=0;A<k;A+=u)for(m-=u,f=0;f<u;f++)this.f[a+A+f]=c.f[b+m+f]};b.prototype.Sq=function(a,c,b,k,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;u-=a;for(var f=this.f.slice(a,a+
u),d=0;d<u;d++)this.f[a+2*k+d]=f[d];if(m)for(m=0;m<k;m++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else for(m=0,f=k-1;m<k;++m)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--};b.prototype.Vj=function(a,c,b,k){if(this.xa)throw e.g.Da();k-=a;for(var f=this.f.slice(a,a+k),u=0;u<k;u++)this.f[a+b+u]=f[u];for(k=0;k<b;k++)this.f[a+k]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),m=0;m<b-a;m++)this.f[m+a+2]=f[m];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,
c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(b.length<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)for(m=0;m<c;m++)this.f[a+m]=b[k+m];else for(m||(a+=c-1),c=k+c;k<c;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,c,b,k,m,u){if(0>a||0>c||0>k)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(b.size<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,k,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k++;else if(k=k+c-u,1==u)for(m=0;m<c;m++)this.f[a]=
b.f[k],a++,k--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var f=0;f<u;f++)this.f[a+f]=b.f[k+f];a+=u;k-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<b-(a+c)){b-=a+c;for(var f=this.f.slice(a+c,a+b+c),m=0;m<b;m++)this.f[a+m]=f[m]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,m=0;m<f;m+=b){c-=b;for(var u=0;u<b;u++){var A=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=
A}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,k,m){if(!k||a!=b){for(var f=0;f<c;f++)this.f[a+f]=this.f[b+f];if(!k)for(b=a,a=a+c-m,k=0,c=e.J.truncate(c/2);k<c;k++){for(f=0;f<m;f++){var A=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=A}b+=m;a-=m}}};b.prototype.ks=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=k;k<
c;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=m};b.prototype.pl=function(a,c,b,k,m){if(0>a||0>c||0>k||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)b[k+m]=this.f[a+m];else for(k=k+c-1;a<c;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var f=this.f.slice(0,a),m=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(m))};b.prototype.si=function(){return 1};
b.prototype.iC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.Bb=0;return b}();e.Fm=g;g=function(){function b(a){this.f=null;var c=a;2>c&&(c=2);this.f=new Int8Array(c);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),
this.Zd(a,b-a,1))};b.zd=function(a,c){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==c)for(var m=0;m<a;m++)k[m]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Int8Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int8Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),
this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=
function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,k=this.size;k<a;k++)b[k]=c}this.size=a};b.prototype.yf=
function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=
function(a,c,b,k,m,u,A){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=k%u))throw e.g.F();d(this.f,a+k,a,a+(A-a));this.f==c.f&&a<b&&(b+=k);if(m)this.f.set(c.f.subarray(b,b+k),a);else for(m=k,A=0;A<k;A+=u){m-=u;for(var f=0;f<u;f++)this.f[a+A+f]=c.f[b+m+f]}};b.prototype.Vj=function(a,c,b,k){if(this.xa)throw e.g.Da();k-=a;d(this.f,a+k,a,a+k);for(k=0;k<b;k++)this.f[a+k]=c};b.prototype.Sq=function(a,c,b,k,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*
k):this.size+=2*k;d(this.f,a+2*k,a,a+(u-a));if(m)for(m=0;m<k;m++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else{m=0;for(var f=k-1;m<k;++m)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--}};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(b.length<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)this.f.set(b.subarray(k,c),a);else for(m||(a+=c-1),c=k+c;k<c;k++)this.f[a]=
b[k],a--};b.prototype.ho=function(a,c,b,k,m,u){if(0>a||0>c||0>k)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(b.size<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,k,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k++;else if(k=k+c-u,1==u)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var f=0;f<u;f++)this.f[a+f]=b.f[k+f];a+=u;k-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();
0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,m=0;m<f;m+=b){c-=b;for(var u=0;u<b;u++){var A=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=A}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,k,m){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!k)for(b=a,a=a+c-m,k=0,c=e.J.truncate(c/
2);k<c;k++){for(var f=0;f<m;f++){var A=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=A}b+=m;a-=m}};b.prototype.ks=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=k;k<c;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=m};b.prototype.pl=function(a,c,b,k,m){if(0>a||0>c||0>k||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)b[k+m]=this.f[a+m];else for(k=k+c-1;a<c;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):
this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){c=this.f.subarray(a,c);Array.prototype.sort.call(c,b);this.f.set(c,a)};b.prototype.iC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.prototype.si=function(){return 1};return b}();e.ky=g})(n||(n={}));!0===n.Xh.Bm&&(n.Fm=n.ky);(function(e){var d=
function(){function d(){}d.vq=function(b,a){return e.Fm.zd(b,a)};d.Um=function(b,a){return e.Rd.zd(b,a)};d.pz=function(b,a,c){switch(b){case 1:b=e.Rd.zd(a,c);break;case 2:b=e.ia.zd(a,c);break;case 4:b=e.Fm.zd(a,c);break;default:throw e.g.za();}return b};d.qz=function(b,a){return d.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};d.wh=function(b,a){return e.ia.zd(b,a)};d.IB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);return c};return d}();e.Uc=d})(n||(n={}));(function(e){var d=function(){function d(){}
d.vq=function(b,a){return e.ky.zd(b,a)};d.Um=function(b,a){return e.Rd.zd(b,a)};d.pz=function(b,a,c){switch(b){case 1:b=e.Rd.zd(a,c);break;case 2:b=e.jy.zd(a,c);break;case 4:b=e.ky.zd(a,c);break;default:throw e.g.za();}return b};d.qz=function(b,a){return e.Uc.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};d.wh=function(b,a){return e.jy.zd(b,a)};d.IB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);return c};return d}();e.LL=d})(n||(n={}));!0===n.Xh.Bm&&(n.Uc=n.LL);(function(e){e.ea=function(){return function(e){void 0===
e&&(e=0);this.j=e}}()})(n||(n={}));(function(e){var d=function(){function d(){}d.bind=function(b){e.Vc=b.PeDefs;e.Tf=b.PeFactory;e.QD=b.PeVertcs;e.ND=b.PeCoordsys;e.fi=b.PeCSTransformations;e.PD=b.PeGTTransformations;e.yN=b.PeGeogtran;e.xN=b.PeFactoryCodechange;e.OD=b.PeGCSExtent;e.Bg=b.PePCSInfo;e.zN=b.PeHorizon;e.ND=b.PeCoordsys;e.fq=b.PeGTlistExtended;e.fq.PE_GTLIST_OPTS_USE_DEFAULT=128;e.Tf.initialize(null);e.wy=b.PeGTlistExtendedEntry;d.QY=e.Tf.fromString(e.Vc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};
d.w_=function(){};d.QY=null;return d}();e.AN=d;e.Tf=null;e.QD=null;e.ND=null;e.zN=null;e.Bg=null;e.fq=null;e.wy=null;e.OD=null;e.xN=null;e.yN=null;e.Vc=null;e.PD=null;e.fi=null})(n||(n={}));(function(e){var d=function(){function b(){}b.Ab=function(a,c){return 0<=c?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Qi=function(a){return 3.552713678800501E-15>a};b.MD=function(a,c,f){return b.K(a-c)<=f*(1+(b.K(a)+b.K(c))/2)};b.W=function(a,c){return b.MD(a,c,3.552713678800501E-15)};b.jW=function(a){return 3.552713678800501E-15>=
b.K(a)};b.xd=function(a){return b.jW(a)};return b}();e.l=d;var g=function(){function b(){}b.Sp=function(a,c){a=d.K(a);c=d.K(c);var b=0;0!=a+c&&(a>c?(b=c/a,b=a*Math.sqrt(1+b*b)):(b=a/c,b=c*Math.sqrt(1+b*b)));return b};b.Or=function(a,c,f,k,m){for(var e=[0,0,0],A=[0,0,0],B=0;2>=B;B++)c[B]-=a[B],f[B]-=c[B];f=e[1]*A[2]-e[2]*A[1];c=e[2]*A[0]-e[0]*A[2];e=e[0]*A[1]-e[1]*A[0];a=-1*(f*a[0]+c*a[1]+e*a[2]);k[0]=f;k[1]=c;k[2]=e;k[3]=a;A=b.eo(k);k[0]/=A;k[1]/=A;k[2]/=A;k[3]/=A;0!=m&&(A=d.xd(e)?d.xd(a)?d.Ab(1,
c):-d.Ab(1,a):d.Ab(1,e),A*=d.Ab(1,m),k[0]*=A,k[1]*=A,k[2]*=A,k[3]*=A)};b.fy=function(a,c,b){b[0]=a[1]*c[2]-c[1]*a[2];b[1]=a[2]*c[0]-c[2]*a[0];b[2]=a[0]*c[1]-c[0]*a[1]};b.Eu=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.eo=function(a){return b.Sp(b.Sp(a[0],a[1]),a[2])};b.Dk=function(a,c,f,k,m,e,A,d){a=b.n(a,c,f);var u=Math.cos(f);e.j=(a+m)*u*Math.cos(k);A.j=(a+m)*u*Math.sin(k);d.j=(a*(1-c)+m)*Math.sin(f)};b.jQ=function(a,c,f,k,m,e,A){var u=b.Sp(c,f),g=1*Math.sqrt(1-a),t=g/1;if(d.W(u,0))e.j=
0,m.j=d.Ab(1.570796326794897,k),A.j=d.K(k)-g;else{e.j=Math.atan2(f,c);f=Math.atan2(1*k,g*u);e=Math.cos(f);var h=Math.sin(f);c=g*a/(1-a);a*=1;f=Math.atan2(k+c*h*h*h,u-a*e*e*e);3.141592653589793<d.K(f)&&(f=d.Ab(3.141592653589793,f)-f);f=Math.atan(t*Math.tan(f));h=Math.sin(f);e=Math.cos(f);m.j=Math.atan2(k+c*h*h*h,u-a*e*e*e);1.570796326794897<d.K(m.j)&&(m.j=d.Ab(3.141592653589793,m.j)-m.j);f=Math.atan(t*Math.tan(m.j));h=Math.sin(f);e=Math.cos(f);A.j=(k-g*h)*Math.sin(m.j)+(u-1*e)*Math.cos(m.j)}};b.n=
function(a,c,b){b=Math.sin(b);return a/Math.sqrt(1-c*b*b)};b.du=function(a,c){return Math.atan2(Math.sin(c)*(1-a),Math.cos(c))};b.ik=function(a,c){return Math.atan2(Math.sin(c),Math.cos(c)*(1-a))};b.xp=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var f,k,m,e,A,B,g,t,h;if(.006884661117170036>a){e=Math.sqrt(1-a);A=(1-e)/(1+e);B=A*A;g=A*B;t=A*g;f=A*t;h=A*f;k=A*h;m=1.572916666666667*g-3.2578125*f+4.295068359375*k;e=2.142578125*t-6.071484375*h;a=3.129296875*f-11.249837239583334*
k;var l=4.775276692708333*h,n=7.958636765252976*k,p=Math.cos(2*c);return c+Math.sin(2*c)*(1.5*A-.84375*g+.525390625*f-.2688395182291667*k-m+a-n+p*(2*(1.3125*B-1.71875*t+1.650146484375*h)-4*e+6*l+p*(4*m-12*a+24*n+p*(8*e-32*l+p*(16*a-80*n+p*(32*l+64*p*n))))))}e=1-a;A=a/2;B=d.K(c);g=B*b.Tu(a)/(1.570796326794897*e);t=9999;h=B;for(B=0;1E-16<t&&50>B;B++)k=b.Cm(a,h),f=(b.EG(h,a)-A*Math.sin(2*h)/k)/e-g,k=1/(k*k*k),m=f/k,f=h-m,t=d.K(m),h=f;return 0<=c?h:-h};b.pX=function(a,c){return d.Qi(c)?a:a*b.Tu(c)/1.570796326794897};
b.da=function(a){a=b.qG(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>d.K(a)||d.W(d.K(a),3.141592653589793)?a:a-6.283185307179586};b.qG=function(a,c){return a-Math.floor(a/c)*c};b.Yg=function(a,c){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var f=c*c,k=f*f;return a/(1+c)*(1+.25*f+.015625*k+.00390625*f*k)*1.570796326794897}return a*b.Tu(c)};b.Nr=function(a,c){var f=d.Ab(1,Math.sin(c));c=d.K(b.qG(c,3.141592653589793));c=1.570796326794897>=c?c:3.141592653589793-c;
var k;d.W(c,1.570796326794897)?k=c:k=Math.atan(Math.sqrt(1-a)*Math.tan(c));return k*f};b.q=function(a,c,f){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var k=c*c,m=c*k,e=c*m,A=c*e,d=c*A,g=c*d,t=-.7291666666666666*m+.2278645833333333*A+.03987630208333334*g,h=.615234375*e-.21533203125*d,l=-.54140625*A+.20302734375*g,n=.48876953125*d,p=-.4488699776785715*g,r=Math.cos(2*f);return a/(1+c)*((1+.25*k+.015625*e+.00390625*d)*f+Math.sin(2*f)*(-1.5*c+.1875*m+.0234375*A+.00732421875*g-t+l-p+r*(2*
(.9375*k-.234375*e-.03662109375*d)-4*h+6*n+r*(4*t-12*l+24*p+r*(8*h-32*n+r*(16*l-80*p+r*(32*n+64*r*p)))))))}return a*(b.EG(f,c)-.5*c*Math.sin(2*f)/b.Cm(c,f))};b.Cm=function(a,c){c=Math.sin(c);return Math.sqrt(1-a*c*c)};b.Tu=function(a){return d.MD(a,1,2.220446049250313E-16)?1:1>a?b.Lv(0,1-a)-a/3*b.Iv(0,1-a):NaN};b.EG=function(a,c){var f=d.Ab(1,a);a=d.K(a);var k=Math.floor(a/1.570796326794897),m;if(1<c)m=0==a?0:NaN;else if(d.xd(k))m=b.sin(a),m=m*b.Lv(1-m*m,1-c*m*m)-c/3*m*m*m*b.Iv(1-m*m,1-c*m*m);else{m=
e.J.truncate(k%2);var u=b.Tu(c);0<m?(m=Math.sin(1.570796326794897*(k+1)-a),m=m*b.Lv(1-m*m,1-c*m*m)-c/3*m*m*m*b.Iv(1-m*m,1-c*m*m),m=u*(k+1)-m):(m=Math.sin(a-1.570796326794897*k),m=m*b.Lv(1-m*m,1-c*m*m)-c/3*m*m*m*b.Iv(1-m*m,1-c*m*m),m=u*k+m)}return m*f};b.sin=function(a){a=b.da(a);var c=d.Ab(1,a);a=d.K(a);return d.W(a,3.141592653589793)?0:d.W(a,1.570796326794897)?1*c:Math.sin(a)*c};b.Iv=function(a,c){for(var b=1,k=0,m=1,e,A,B,g;;){e=.2*(a+c+3*b);A=(e-a)/e;B=(e-c)/e;g=(e-b)/e;if(1E-4>d.K(A)&&1E-4>d.K(B)&&
1E-4>d.K(g))break;g=Math.sqrt(c);e=Math.sqrt(b);g=Math.sqrt(a)*(g+e)+g*e;k+=m/(e*(b+g));m*=.25;a=.25*(a+g);c=.25*(c+g);b=.25*(b+g)}a=A*B;b=g*g;c=a-b;b=a-6*b;A=b+c+c;return 3*k+m*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*g*A)+g*(.1666666666666667*A+g*(-.4090909090909091*c+.1153846153846154*g*a)))/(e*Math.sqrt(e))};b.Lv=function(a,c){for(var b,k,m,e,A=1;;A=.25*(A+b)){b=(a+c+A)/3;k=2-(b+a)/b;m=2-(b+c)/b;e=2-(b+A)/b;if(1E-4>d.K(k)&&1E-4>d.K(m)&&1E-4>d.K(e))break;b=Math.sqrt(c);k=
Math.sqrt(A);b=Math.sqrt(a)*(b+k)+b*k;a=.25*(a+b);c=.25*(c+b)}a=k*m-e*e;c=k*m*e;return(1+(.04166666666666666*a-.1-.06818181818181818*c)*a+.07142857142857142*c)/Math.sqrt(b)};b.Cx=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,k,m;if(.006884661117170036>a){b=a*a;k=a*b;m=a*k;var e=a*m,A=a*e,B=a*A,g=-(.02708333333333333*k+.03430059523809524*m+.03149181547619048*e+.02634359154541446*A+.02156896735835538*B),t=.007669890873015873*m+.01299603174603175*e+.0148051353064374*A+
.01454454953803912*B,h=-(.002275545634920635*e+.004830845032667949*A+.006558395368616723*B),l=6.957236677288761E-4*A+.001775193002406544*B,n=-(2.17324089394402E-4*B),p=Math.cos(2*c);return c+Math.sin(2*c)*(-(.5*a+.2083333333333333*b+.09375*k+.04878472222222222*m+.02916666666666667*e+.01938905423280423*A+.01388255931712963*B)-g+h-n+p*(2*(.1041666666666667*b+.0875*k+.06050347222222222*m+.04151785714285714*e+.02958958540013228*A+.02203667534722222*B)-4*t+6*l+p*(4*g-12*h+24*n+p*(8*t-32*l+p*(16*h-80*n+
p*(32*l+64*p*n))))))}0==c||d.W(d.K(c),1.570796326794897)?b=c:(k=Math.sqrt(a),m=k*Math.sin(c),b=Math.tan(.7853981633974483+c/2)*Math.pow((1-m)/(1+m),k/2),b=2*Math.atan(b)-1.570796326794897);return b};b.BQ=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,k;if(.006884661117170036>a){p=a*a;h=a*p;l=a*h;b=a*l;n=a*b;k=a*n;var m=.05833333333333333*h+.07232142857142858*l+.05634300595238095*b+.0355325796406526*n+.020235546186067*k,e=.02653149801587302*l+.04379960317460317*b+.0429211791776896*
n+.03255384637546096*k,A=.01294022817460318*b+.02668104344536636*n+.03155651254609588*k,B=.00659454790965208*n+.0163075268674227*k,g=.003463473736911237*k,t=Math.cos(2*c);return c+Math.sin(2*c)*(.5*a+.2083333333333333*p+.08333333333333333*h+.03611111111111111*l+.01875*b+.01195601851851852*n+.008863673941798942*k-m+A-g+t*(2*(.1458333333333333*p+.1208333333333333*h+.07039930555555556*l+.03616071428571429*b+.01839451058201058*n+.01017113095238095*k)-4*e+6*B+t*(4*m-12*A+24*g+t*(8*e-32*B+t*(16*A-80*g+
t*(32*B+64*t*g))))))}for(var h=Math.sqrt(a),l=h/2,n=Math.tan(.7853981633974483+c/2),m=0,e=1,p=c;0!=e;p=k)if(b=h*Math.sin(p),k=n*Math.pow((1+b)/(1-b),l),k=2*Math.atan(k)-1.570796326794897,m++,d.W(k,p)||3E4<m)e=0;return p};return b}();e.C=g})(n||(n={}));(function(e){var d=function(){function d(b){this.Zl=this.Pt=null;this.vw=!1;this.mB=this.nB=0;this.kB=new e.b;this.xB=new e.b;this.ix=!1;this.kr=new e.h;this.II=this.fx=0;this.gx=null;this.al=!1;this.Fr=null;this.KA=0;this.uf=b;this.wt=e.Ib.iw(this.uf,
0,!0);this.kB.$c();this.xB.$c();this.eJ=NaN;var a=b.getCode();0<a?(this.ll=a,e.Tf.getCode(b)):this.ll=e.Tf.getCode(b);0>this.ll&&(this.ll=0);var c=this.uf.getType();this.vI=c==e.Vc.PE_TYPE_PROJCS?2:1;if(c==e.Vc.PE_TYPE_PROJCS&&!b.loadConstants())throw e.g.F("PeProjcs.loadConstants failed");a=c==e.Vc.PE_TYPE_GEOGCS?this.uf:this.uf.getGeogcs();c!=e.Vc.PE_TYPE_GEOGCS&&e.Tf.getCode(a);this.Fr=b.getUnit();this.eJ=a.getPrimem().getLongitude();this.II=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>
Math.abs(b-1)&&(b=1);this.mB=b;0!=(c&e.Vc.PE_TYPE_PROJCS)?(a=this.uf,this.nB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.uf.getUnit().getUnitFactor(),this.gx=e.Bg.generate(a,e.Bg.PE_PCSINFO_OPTION_NONE),this.al=this.gx.isPannableRectangle(),this.KA=e.Ib.qP(this.gx.getCentralMeridian(),this.mB)):(this.ix=this.al=!0,this.nB=0,c=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*c,this.KA=0);this.al&&(this.dy(),this.uL(),this.vL(),this.tL(),this.iZ(),this.jZ())}d.prototype.$s=
function(){return this.ll};d.prototype.Sj=function(){return this.gx};d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.ll&&0==a.ll?b.wt===a.wt:!1};d.prototype.Jc=function(){return this.al};d.prototype.Bh=function(b){b.I(this.gp)};d.prototype.bw=function(){return this.gp.o};d.prototype.aw=function(){return this.gp.v};d.prototype.zT=function(b){b.I(this.hx)};d.prototype.iZ=function(){var b=this.uf.getType();if(b==e.Vc.PE_TYPE_PROJCS){var b=this.uf,a=this.Sj().getCentralMeridian(),c=b.getGeogcs();
if(null==c)throw e.g.X("internal error");c=1/c.getUnit().getUnitFactor()*Math.PI;a=[[a+c,0]];e.fi.geogToProj(b,1,a);var a=a[0][0],c=b.getParameters()[e.Vc.PE_PARM_X0].getValue(),f=this.Mk(),b=new e.h;f.s(b);var f=Math.abs(a-c),a=f+c,c=-1*f+c,f=b.B,b=b.A,k=new e.h;k.I(c,b,a,f);null==this.gp&&(this.gp=k)}else if(b==e.Vc.PE_TYPE_GEOGCS)c=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-c,-c/2,c,c/2),null==this.gp&&(this.gp=b);else throw e.g.X("internal error");};d.prototype.jZ=function(){var b=
this.uf.getType();if(b==e.Vc.PE_TYPE_PROJCS){var a=this.uf,b=this.Sj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw e.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,c=this.Vs(),f=new e.h;c.s(f);c=new e.h;c.I(b-a,f.A,b+a,f.B);null==this.hx&&(this.hx=c)}else if(b==e.Vc.PE_TYPE_GEOGCS)a=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);else throw e.g.X("internal error");};d.prototype.ee=function(){return this.mB};d.prototype.bn=
function(){return this.nB};d.prototype.Vs=function(){if(this.al)return this.Zl;var b=this.Zl;if(null!=b)return b;this.dy();return this.Zl};d.prototype.Ws=function(){if(this.al)return null;if(null!=this.Zl)return this.hI;this.dy();return this.hI};d.prototype.dy=function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b;b=this.uf;var a=b.getGeogcs(),c=b.horizonGcsGenerate();if(null!=c){var f=c[0].getNump(),k=c[0].getKind();b=0<c[0].getInclusive();var m=this.ee(),u=90*m,A=360*m,d=370*m,g=180*m*e.Vc.PE_HORIZON_DELTA/
Math.PI,t=new e.h,h=null;if(1<f)for(var l=1;l<f;l++)if(c[l].getKind()==e.Vc.PE_HORIZON_LINE){null==h&&(h=new e.Ua);var n=c[l].getCoord();h.$x(n[0][0],n[0][1]);h.Xj(n[1][0],n[1][1])}if(k==e.Vc.PE_HORIZON_RECT)c=c[0].getCoord(),t.I(c[0][0],c[0][1]),t.Nb(c[1][0],c[1][1]),Math.abs(t.B-u)<1E-7*g&&(t.B=u),Math.abs(t.A+u)<1E-7*g&&(t.A=-u),t.N()>d&&(c=-400*m,t.I(c,t.A,c+5*A,t.B)),c=new e.ci(t),null==this.Zl&&(this.Zl=c,this.vw=b);else{d=new e.Ja;A=this.Sj().isGcsHorizonMultiOverlap();t=e.Ou.iG(a,e.ts.Integer64);
if(A){d=new e.QM;g=e.ei.local().V(d,t,null);for(l=0;l<f;l++)if(c[l].getKind()==e.Vc.PE_HORIZON_POLY){a=c[l].getSize();m=c[l].getCoord();k=[];for(u=0;u<a;u++)k[u]=e.b.pa(m[u][0],m[u][1]);c[l].getInclusive();A&&(m=new e.Ja,m.Bl(k,a-1),d.SY(m),g.Re())}d=g.next()}else for(l=0;l<f;l++)if(c[l].getKind()==e.Vc.PE_HORIZON_POLY){a=c[l].getSize();m=c[l].getCoord();A=[];for(u=0;u<a;u++)A[u]=e.b.pa(m[u][0],m[u][1]);c[l].getInclusive();d.Bl(A,a-1)}b?e.tk.local().qo(d,t,1):e.cq.local().qo(d,t,1);e.Gj.local().qo(d,
t,1);null==this.Zl&&(this.Zl=d,this.vw=b,this.hI=h)}}}};d.prototype.Uv=function(){if(this.al)return this.vw;null==this.Zl&&this.dy();return this.vw};d.prototype.uL=function(){if(2==this.vI){var b=this.uf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var c=b[0].getNump(),f=!1;if(a==e.Vc.PE_HORIZON_RECT)b=b[0].getCoord(),c=new e.h,c.I(b[0][0],b[0][1]),c.Nb(b[1][0],b[1][1]),b=new e.ci(c);else{a=-1;for(f=0;f<c;f++)b[f].getKind()==e.Vc.PE_HORIZON_POLY&&(a=f);f=b[a].getSize()-
1;b=b[a].getCoord();c=[];for(a=0;a<f;a++)c[a]=e.b.pa(b[a][0],b[a][1]);b=a=new e.Ja;a.Bl(c,f);f=!0}this.Sj().isDensificationNeeded()&&(c=1E5*this.bn(),b=e.Jm.local().V(b,c,null));f&&(f=new e.ci,b.Qn(f),b.hf(),b.Rb(),b.gT(),e.tk.local().qo(b,null,1));null==this.Pt&&(this.Pt=b)}}};d.prototype.Mk=function(){if(this.al)return this.Pt;var b=this.Pt;if(null!=b)return b;this.uL();return this.Pt};d.prototype.vL=function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b=90*this.ee(),b=[[0,b],[0,-b]];e.fi.geogToProj(this.uf,
2,b);var a=this.Sj(),c=a.getNorthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(c&&this.kB.ka(b[0][0],b[0][1]),a&&this.xB.ka(b[1][0],b[1][1]))}this.ix=!0};d.prototype.dA=function(b,a){this.al||this.ix||this.vL();b?a.L(this.xB):a.L(this.kB)};d.prototype.tL=function(){if(1==this.vI){var b=400*this.ee();this.kr.I(-b,-b,b,b)}else b=e.Bg.generate(this.uf,e.Bg.PE_PCSINFO_OPTION_DOMAIN),b=e.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),
b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};d.prototype.ZS=function(b){this.al&&b.I(this.kr);this.kr.u()&&this.tL();b.I(this.kr)};d.prototype.dn=function(){return this.eJ};d.prototype.pi=function(){return this.KA};d.prototype.Nd=function(){return this.Fr};d.prototype.Xs=function(){return this.II};return d}();e.TD=d})(n||(n={}));(function(e){var d=function(){function d(b){this.IV=b;this.wt=e.Ib.iw(b,0,!0);var a=b.getCode();this.nt=0<a?a:e.Tf.getCode(b);0>this.nt&&(this.nt=0);this.Fr=a=this.IV.getUnit();
this.XI=1/a.getUnitFactor();e.Tf.getCode(b)}d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nt&&0==a.nt?b.wt===a.wt:!1};d.prototype.$s=function(){return this.nt};return d}();e.FN=d})(n||(n={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,k,m,u,A){if(null!=m||null!=u||null!=A){f=e.C.da(f);a=e.C.da(a);c=e.C.da(c);k=e.C.da(k);1.570796326794897<e.l.K(c)&&(c=e.l.Ab(3.141592653589793,c)-c,a=e.C.da(a+3.141592653589793));1.570796326794897<e.l.K(k)&&(k=e.l.Ab(3.141592653589793,
k)-k,f=e.C.da(f+3.141592653589793));var d=e.C.da(f-a);if(e.l.W(c,k)&&(e.l.W(a,f)||e.l.W(e.l.K(c),1.570796326794897)))null!=m&&(m.j=0),null!=u&&(u.j=0),null!=A&&(A.j=0);else{if(e.l.W(c,-k)){if(e.l.W(e.l.K(c),1.570796326794897)){null!=m&&(m.j=3.141592653589793*b);null!=u&&(u.j=0<c?e.C.da(3.141592653589793-e.C.da(f)):e.C.da(f));null!=A&&(A.j=0<c?e.C.da(f):e.C.da(3.141592653589793-e.C.da(f)));return}if(e.l.W(e.l.K(d),3.141592653589793)){null!=m&&(m.j=3.141592653589793*b);null!=u&&(u.j=0);null!=A&&(A.j=
0);return}}var g=1.570796326794897==e.l.K(c)?0:Math.cos(c),t=Math.sin(c),h=1.570796326794897==e.l.K(k)?0:Math.cos(k),l=Math.sin(k),n=1.570796326794897==e.l.K(d)?0:Math.cos(d),p=3.141592653589793==e.l.K(d)?0:Math.sin(d);if(null!=m){var r=Math.sin((k-c)/2),d=Math.sin(d/2);m.j=2*Math.asin(Math.sqrt(r*r+g*h*d*d))*b}null!=u&&(e.l.W(e.l.K(c),1.570796326794897)?u.j=0>c?f:e.C.da(3.141592653589793-f):u.j=Math.atan2(h*p,g*l-t*h*n));null!=A&&(e.l.W(e.l.K(k),1.570796326794897)?A.j=0>k?a:e.C.da(3.141592653589793-
a):(A.j=Math.atan2(g*p,l*g*n-h*t),A.j=e.C.da(A.j+3.141592653589793)))}}};d.Uf=function(b,a,c,f,k,m,u){if(null!=m||null!=u){a=e.C.da(a);c=e.C.da(c);1.570796326794897<e.l.K(c)&&(c=e.l.Ab(3.141592653589793,c)-c,a=e.C.da(a+3.141592653589793));e.l.W(e.l.K(c),1.570796326794897)&&(a=0);k=e.C.da(k);var A=e.l.W(e.l.K(k),1.570796326794897)?0:Math.cos(k),d=e.l.W(e.l.K(k),3.141592653589793)?0:Math.sin(k),g=e.l.W(e.l.K(c),1.570796326794897)?0:Math.cos(c),t=Math.sin(c);b=f/b;f=e.l.W(e.l.K(b),1.570796326794897)?
0:Math.cos(b);var h=e.l.W(e.l.K(b),3.141592653589793)?0:Math.sin(b),l=Math.asin(t*f+g*h*A);null!=u&&(u.j=l);null!=m&&(m.j=e.l.W(e.l.K(l),1.570796326794897)?e.l.W(c,-l)?0>l?k:e.C.da(3.141592653589793-k):a:e.l.W(e.l.K(c),1.570796326794897)&&e.l.W(b,3.141592653589793)?0>c?k:e.C.da(3.141592653589793-k):e.C.da(a+Math.atan2(h*d,g*f-t*h*A)))}};return d}();e.vh=d})(n||(n={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,k,m,u,A,d){var B=new e.ea(0),g=new e.ea(0),t=[0,0,0],h=[0,0,0],l=
[0,0,0],n=new e.ea(0),p=new e.ea(0),r=new e.ea(0),q=new e.ea(0),v=new e.ea(0);if(null!=u||null!=A||null!=d)if(e.l.Qi(a))e.vh.Cb(b,c,f,k,m,u,A,d);else{k=e.C.da(k);c=e.C.da(c);var G=e.C.da(k-c);if(e.l.W(f,m)&&(e.l.W(c,k)||e.l.W(e.l.K(f),1.570796326794897)))null!=u&&(u.j=0),null!=A&&(A.j=0),null!=d&&(d.j=0);else{if(e.l.W(f,-m)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=u&&(u.j=2*e.C.Yg(b,a));null!=A&&(A.j=0<f?e.C.da(3.141592653589793-e.C.da(k)):e.C.da(k));null!=d&&(d.j=0<f?e.C.da(k):e.C.da(3.141592653589793-
e.C.da(k)));return}e.l.W(e.l.K(G),3.141592653589793)&&(null!=u&&(u.j=2*e.C.Yg(b,a)),null!=A&&(A.j=0),null!=d&&(d.j=0))}else if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(m),1.570796326794897))e.l.W(e.l.K(f),1.570796326794897)?c=k:k=c;var w=0,x;0>G&&(w=1,x=c,c=k,k=x,x=f,f=m,m=x);var G=e.C.du(a,f),y=e.C.du(a,m);if(null!=A||null!=d)e.vh.Cb(b,c,G,k,y,null,B,g),B=Math.atan2(Math.sin(B.j)*Math.cos(f-G),Math.cos(B.j)),g=Math.atan2(Math.sin(g.j)*Math.cos(m-y),Math.cos(g.j)),0!=w&&(x=B,B=g,g=x),null!=
A&&(A.j=B),null!=d&&(d.j=g);null!=u&&(e.C.Dk(1,a,f,c,0,r,q,v),t[0]=r.j,t[1]=q.j,t[2]=v.j,e.C.Dk(1,a,m,k,0,r,q,v),h[0]=r.j,h[1]=q.j,h[2]=v.j,l[0]=t[1]*h[2]-h[1]*t[2],l[1]=-(t[0]*h[2]-h[0]*t[2]),l[2]=t[0]*h[1]-h[0]*t[1],a=1-e.C.Cm(a,e.C.Nr(a,e.C.ik(a,Math.acos(l[2]/Math.sqrt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]))))),a*=2-a,A=Math.atan2(-l[1],-l[0]),l=e.C.da(A-1.570796326794897),A=e.C.da(A+1.570796326794897),l=e.l.K(e.C.da(c-l))<=e.l.K(e.C.da(c-A))?l:A,e.vh.Cb(1,l,0,c,G,n,null,null),e.vh.Cb(1,l,0,k,y,p,null,
null),3.141592653589793<n.j+p.j&&(l=e.C.da(l+3.141592653589793),e.vh.Cb(1,l,0,c,G,n,null,null),e.vh.Cb(1,l,0,k,y,p,null,null)),n.j*=e.l.Ab(1,f),p.j*=e.l.Ab(1,m),n.j=e.C.ik(a,n.j),p.j=e.C.ik(a,p.j),c=e.C.q(b,a,n.j),b=e.C.q(b,a,p.j),u.j=e.l.K(b-c))}}};d.Uf=function(b,a,c,f,k,m,u,A){var d=0,g=new e.ea(0),t=new e.ea(0),h=[0,0,0],l=[0,0,0],n=new e.ea(0),p=new e.ea(0),r=new e.ea(0);if(null!=u||null!=A)if(e.l.Qi(a))e.vh.Uf(b,c,f,k,m,u,A);else if(e.l.xd(k))null!=u&&(u.j=c),null!=A&&(A.j=f);else{m=e.C.da(m);
0>k&&(k=e.l.K(k),m=e.C.da(m+3.141592653589793));c=e.C.da(c);f=e.C.da(f);1.570796326794897<e.l.K(f)&&(c=e.C.da(c+3.141592653589793),f=e.l.Ab(3.141592653589793,f)-f);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);var q;if(e.l.xd(f))q=e.l.K(1.570796326794897-e.l.K(m)),q=e.C.ik(a,q),q=1-e.C.Cm(a,e.C.Nr(a,q)),q*=2-q,b=k/e.C.Yg(b,q)*1.570796326794897,b=e.C.xp(q,b),b=e.C.du(q,b),e.vh.Uf(1,c,f,b,m,u,g),null!=A&&(d=g.j),null!=A&&(A.j=e.C.ik(a,d));else if(e.l.W(e.l.K(f),1.570796326794897))d=e.C.Yg(b,a),g=2*d,b=e.l.Ab(1.570796326794897,
f),m=0<b?e.C.da(3.141592653589793-m):m,f=d-k,e.l.K(f)<=d?null!=u&&(u.j=m):(f=Math.floor(k/g),0==e.J.truncate(f%2)?(null!=u&&(u.j=m),f=d-(k-f*g)):(null!=u&&(u.j=e.C.da(m+3.141592653589793)),f=d-((f+1)*g-k))),null!=A&&(A.j=e.C.xp(a,f/d*b));else{q=e.C.du(a,f);m=Math.atan2(Math.sin(m),Math.cos(m)*Math.cos(f-q));var v=e.J.truncate(e.l.Ab(1,q))*(1.570796326794897>=e.l.K(m)?1:-1);m=e.C.da(c+Math.atan(Math.tan(m)*-Math.sin(q)));e.vh.Cb(b,m,0,c,q,null,t,null);q=e.l.K(1.570796326794897-e.l.K(t.j));q=e.C.ik(a,
q);q=1-e.C.Cm(a,e.C.Nr(a,q));q*=2-q;e.C.Dk(1,a,0,m,0,n,p,r);h[0]=n.j;h[1]=p.j;h[2]=r.j;e.C.Dk(1,a,f,c,0,n,p,r);l[0]=n.j;l[1]=p.j;l[2]=r.j;f=Math.acos((h[0]*l[0]+h[1]*l[1]+h[2]*l[2])/Math.sqrt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]));f=e.C.ik(q,f);f=e.C.q(b,q,f)+k*v;k=0<f?t.j:e.C.da(t.j+3.141592653589793);b=e.l.K(f)/e.C.Yg(b,q)*1.570796326794897;b=e.C.xp(q,b);b=e.C.du(q,b);e.vh.Uf(1,m,0,b,k,u,g);null!=A&&(d=g.j);null!=A&&(A.j=e.C.ik(a,d))}}};return d}();e.yl=d})(n||(n={}));(function(e){var d=function(){function d(){}
d.Cb=function(b,a,c,f,k,m,u,A,d){var B=0,g=0,t=0;if(null!=u||null!=A||null!=d)if(e.l.Qi(a))e.vh.Cb(b,c,f,k,m,u,A,d);else{var h=e.C.da(k-c);if(e.l.W(f,m)&&(e.l.xd(h)||e.l.W(e.l.K(f),1.570796326794897)))null!=u&&(u.j=0),null!=A&&(A.j=0),null!=d&&(d.j=0);else{if(e.l.W(f,-m)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=u&&(u.j=2*e.C.Yg(b,a));null!=A&&(A.j=0<f?e.C.da(3.141592653589793-e.C.da(k)):e.C.da(k));null!=d&&(d.j=0<f?e.C.da(k):e.C.da(3.141592653589793-e.C.da(k)));return}e.l.W(e.l.K(h),3.141592653589793)&&
(null!=u&&(u.j=2*e.C.Yg(b,a)),null!=A&&(A.j=0),null!=d&&(d.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(m),1.570796326794897)){e.yl.Cb(b,a,c,f,k,m,u,A,d);return}if(e.l.xd(h)||e.l.W(e.l.K(h),3.141592653589793)){e.yl.Cb(b,a,c,f,k,m,u,A,d);return}}var l=1-Math.sqrt(1-a),n=a/(1-a),p=b*(1-l);b=e.C.Nr(a,f);var r=e.C.Nr(a,m);a=1.570796326794897==e.l.K(b)?0:Math.cos(b);var q=Math.sin(b),v=1.570796326794897==e.l.K(r)?0:Math.cos(r),G=Math.sin(r),x=h,w=Math.cos(x),y=Math.sin(x),z=1,D=0,C,E,J,
F,L;do{C=x;E=Math.sqrt(Math.pow(v*y,2)+Math.pow(a*G-q*v*w,2));J=q*G+a*v*w;F=Math.atan2(E,J);if(0==E){z=0;break}L=a*v*y/E;B=Math.cos(Math.asin(L));B*=B;g=J-2*q*G/B;1<e.l.K(g)&&(g=e.l.Ab(1,g));t=g*g;x=l/16*B*(4+l*(4-3*B));x=h+(1-x)*l*L*(F+x*E*(g+x*J*(2*t-1)));w=Math.cos(x);y=Math.sin(x);D++;if(3.141592653589793<e.l.K(x)&&30<D){z=0;break}}while(5E3>=D&&!e.l.W(C,x));if(0!=z)n*=B,l=n*(256+n*(-128+n*(74-47*n)))/1024,null!=u&&(u.j=p*(1+n*(4096+n*(-768+n*(320-175*n)))/16384)*(F-l*E*(g+l/4*(J*(2*t-1)-l/6*
g*(4*E*E-3)*(4*t-3))))),null!=A&&(e.l.W(e.l.K(f),1.570796326794897)?A.j=0>f?k:e.C.da(3.141592653589793-k):A.j=Math.atan2(v*y,a*G-q*v*w)),null!=d&&(e.l.W(e.l.K(m),1.570796326794897)?d.j=0>m?c:e.C.da(3.141592653589793-c):(d.j=Math.atan2(a*y,a*G*w-q*v),d.j=e.C.da(d.j+3.141592653589793)));else{x=e.l.Ab(3.141592653589793,h);J=q*G-a*v;F=Math.acos(J);E=Math.sin(F);B=1;D=L=0;do t=L,B*=B,w=B*B,L=l*B*(1+l+l*l),g=l*l*w*(1+2.25*l),z=l*l*l*w*B,w=1-.25*L+.1875*g-.1953125*z,L=.25*L-.25*g+.29296875*z,y=.03125*g-
.05859375*z,z*=.00651041666666667,g=J-2*q*G/B,1<e.l.K(g)&&(g=e.l.Ab(1,g)),B=Math.acos(g),J=Math.cos(2*B),C=Math.cos(3*B),L=e.l.W(f,-m)?e.C.da(3.141592653589793-h)/(3.141592653589793*l*w):e.C.da(x-h)/(l*(w*F+L*E*g+y*Math.sin(2*F)*J+z*Math.sin(3*F)*C)),y=L*E/(a*v),x=1.570796326794897<e.l.K(h)?e.l.Ab(3.141592653589793,y)-Math.asin(y):Math.asin(y),w=Math.cos(x),E=Math.sqrt(Math.pow(v*y,2)+Math.pow(a*G-q*v*w,2)),F=3.141592653589793-Math.asin(e.l.K(E)),J=Math.cos(F),B=Math.cos(Math.asin(L)),D++;while(70>=
D&&!e.l.W(t,L));null!=u&&(B*=B,n*=B,w=1+n*(4096+n*(-768+n*(320-175*n)))/16384,e.l.W(f,-m)?u.j=3.141592653589793*p*w:(g=J-2*q*G/B,B=Math.acos(g),J=Math.cos(2*B),C=Math.cos(3*B),u.j=p*(w*F+n*(-512+n*(128+n*(-60+35*n)))/2048*E*g+n*(-4+5*n)/6144*n*n*Math.sin(2*F)*J+z*Math.sin(3*F)*C+-7.62939453125E-5*n*n*n*n*Math.sin(4*F)*Math.cos(4*B))));null!=A&&(e.l.xd(f)&&e.l.xd(m)?(B=Math.sqrt(1-L*L),A.j=Math.acos(B),0>h&&(A.j*=-1)):e.l.W(e.l.K(f),1.570796326794897)?A.j=0>f?k:e.C.da(3.141592653589793-k):(u=L/a,p=
Math.sqrt(1-u*u),0>a*G-q*v*Math.cos(x)&&(p*=-1),A.j=Math.atan2(u,p),e.l.W(f,-m)&&e.l.K(e.C.da(c-k))>3.141592653589793*(1-l*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(A.j)||0>f&&1.570796326794897<e.l.K(A.j))&&(A.j=e.l.Ab(3.141592653589793,A.j)-A.j)));if(null!=d)if(e.l.xd(f)&&e.l.xd(m))B=Math.sqrt(1-L*L),d.j=Math.acos(B),0<=h&&(d.j*=-1);else if(e.l.W(e.l.K(m),1.570796326794897))d.j=0>m?c:e.C.da(3.141592653589793-c);else if(h=L/v,u=Math.sqrt(1-h*h),p=Math.sin(x/2),0>Math.sin(r-b)-2*a*G*p*p&&(u*=-1),
d.j=Math.atan2(h,u),d.j=e.C.da(d.j+3.141592653589793),e.l.W(f,-m)&&!e.l.xd(f)&&!e.l.W(e.l.K(f),1.570796326794897)&&e.l.K(e.C.da(c-k))>3.141592653589793*(1-l*Math.cos(f))&&(null!=A?p=A.j:(u=L/a,p=Math.sqrt(1-u*u),0>a*G-q*v*Math.cos(x)&&(p*=-1),p=Math.atan2(u,p),e.l.W(f,-m)&&e.l.K(e.C.da(c-k))>3.141592653589793*(1-l*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(p)||0>f&&1.570796326794897<e.l.K(p))&&(p=e.l.Ab(3.141592653589793,p)-p)),1.570796326794897>=e.l.K(p)&&1.570796326794897<e.l.K(d.j)||1.570796326794897<=
e.l.K(p)&&1.570796326794897>e.l.K(d.j)))d.j=-1*e.C.da(d.j+3.141592653589793)}}}};d.Uf=function(b,a,c,f,k,m,u,d){if(null!=u||null!=d)if(e.l.Qi(a))e.vh.Uf(b,c,f,k,m,u,d);else if(m=e.C.da(m),e.l.W(e.l.K(f),1.570796326794897)||e.l.xd(m)||e.l.W(e.l.K(m),3.141592653589793))e.yl.Uf(b,a,c,f,k,m,u,d);else{var A=1.570796326794897==e.l.K(m)?0:Math.cos(m),g=3.141592653589793==e.l.K(m)?0:Math.sin(m);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);m=1-Math.sqrt(1-a);var t=e.C.Nr(a,f);f=1.570796326794897==e.l.K(t)?0:Math.cos(t);
var h=Math.sin(t),t=Math.atan2(Math.tan(t),A),l=f*g,n=l*l,p=1-n,q=a/(1-a)*p;a=q*(256+q*(-128+q*(74-47*q)))/1024;var r=a/4,v=a/6,G=k/(b*(1-m)*(1+q*(4096+q*(-768+q*(320-175*q)))/16384)),x=G,w;do{w=x;k=1.570796326794897==e.l.K(x)?0:Math.cos(x);var q=3.141592653589793==e.l.K(x)?0:Math.sin(x),y=q*q;b=Math.cos(2*t+x);x=b*b;x=a*q*(b+r*(k*(2*x-1)-v*b*(4*y-3)*(4*x-3)))+G}while(!e.l.W(w,x));k=1.570796326794897==e.l.K(x)?0:Math.cos(x);q=3.141592653589793==e.l.K(x)?0:Math.sin(x);null!=u&&(g=Math.atan2(q*g,f*
k-h*q*A),p=m/16*p*(4+m*(4-3*p)),b=Math.cos(2*t+x),u.j=e.C.da(c+(g-(1-p)*m*l*(x+p*q*(b+p*k*(2*b*b-1))))));null!=d&&(p=h*q-f*k*A,p=(1-m)*Math.sqrt(n+p*p),d.j=Math.atan2(h*k+f*q*A,p))}};return d}();e.Nu=d})(n||(n={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,k,m,u,d,B){var A=e.C.da(k-c),g=e.l.W(e.l.K(f),1.570796326794897),t=e.l.W(e.l.K(m),1.570796326794897);if(e.l.W(f,m)&&(e.l.xd(A)||g))null!=u&&(u.j=0),null!=d&&(d.j=0),null!=B&&(B.j=0);else{var h,l;e.l.Qi(a)?(h=Math.sin(f),
l=Math.sin(m),h=Math.sqrt((1+h)/(1-h)),l=Math.sqrt((1+l)/(1-l)),h=Math.log(l)-Math.log(h),h=Math.atan2(A,h),null!=u&&(u.j=e.l.W(f,m)?e.l.K(b*Math.cos(f)*A):e.l.K((b*m-b*f)/Math.cos(h)))):(l=e.C.Cx(a,m),h=Math.sin(e.C.Cx(a,f)),l=Math.sin(l),h=Math.sqrt((1+h)/(1-h)),l=Math.sqrt((1+l)/(1-l)),h=Math.log(l)-Math.log(h),h=Math.atan2(A,h),null!=u&&(e.l.W(f,m)?u.j=e.l.K(b*A*Math.cos(f)/e.C.Cm(a,f)):(A=e.C.q(b,a,f),b=e.C.q(b,a,m),u.j=e.l.K((b-A)/Math.cos(h)))));if(null!=d||null!=B)u=e.C.da(h+3.141592653589793),
g&&t||!g&&!t||(g?h=0>f?k:e.C.da(3.141592653589793-k):t&&(u=0>m?c:e.C.da(3.141592653589793-c))),null!=d&&(d.j=h),null!=B&&(B.j=u)}};d.Uf=function(b,a,c,f,k,m,u,d){m=e.C.da(m);0>k&&(k=e.l.K(k),m=e.C.da(m+3.141592653589793));e.l.Qi(a)?e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?m:e.C.da(3.141592653589793-m),m=k/b%6.283185307179586,3.141592653589793>=m?b=f-e.l.Ab(m,f):(c=e.C.da(c+3.141592653589793),b=-f+e.l.Ab(m-3.141592653589793,f))):e.l.W(e.l.K(m),1.570796326794897)?(c=e.C.da(c+e.l.Ab(k,m)/(b*Math.cos(f))),
b=f):(b=f+k*Math.cos(m)/b,1.570796326794897<e.l.K(b)&&(b=1.570796326794897),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(m)||e.l.W(e.l.K(m),3.141592653589793))||(1.570796316258184<e.l.K(b)&&(b=e.l.Ab(1.570796316258184,b)),a=Math.sin(f),f=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.da(c+Math.tan(m)*a))):e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?m:e.C.da(3.141592653589793-m),m=k/e.C.pX(b,a),m%=6.283185307179586,3.141592653589793>=m?(b=f-e.l.Ab(m,f),b=e.C.xp(a,
b)):(c=e.C.da(c+3.141592653589793),b=-f+e.l.Ab(m-3.141592653589793,f),b=e.C.xp(a,b))):e.l.W(e.l.K(m),1.570796326794897)?(c=e.C.da(c+e.l.Ab(k,m)*e.C.Cm(a,f)/(b*Math.cos(f))),b=f):(b=1.570796326794897*(k*Math.cos(m)+e.C.q(b,a,f))/e.C.Yg(b,a),1.570796326794897<e.l.K(b)&&(b=e.l.Ab(1.570796326794897,b)),b=e.C.xp(a,b),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(m)||e.l.W(e.l.K(m),3.141592653589793))||(k=e.C.Cx(a,f),f=e.C.Cx(a,b),1.570796316258184<e.l.K(f)&&(f=e.l.Ab(1.570796316258184,b),b=e.C.BQ(a,f)),a=
Math.sin(k),f=Math.sin(f),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.da(c+Math.tan(m)*a)));null!=u&&(u.j=c);null!=d&&(d.j=b)};return d}();e.UD=d})(n||(n={}));(function(e){var d=function(){function d(){}d.Fz=function(b,a,c,f,k,m,u){e.Nu.Cb(b,a,c,f,k,m,null,u,null)};d.Xi=function(b,a,c,f,k,m,u,d){e.Nu.Uf(b,a,c,f,k,m,u,d)};d.Ld=function(b,a,c,f,k,m,u,d,B,g){switch(g){case 2:e.yl.Cb(b,a,c,f,k,m,u,d,B);break;case 3:e.VD.Cb(b,a,c,f,k,m,u,d,B);break;case 1:e.UD.Cb(b,
a,c,f,k,m,u,d,B);break;default:e.Nu.Cb(b,a,c,f,k,m,u,d,B)}};d.Oj=function(b,a,c,f,k,m,u,d,B){switch(B){case 2:e.yl.Uf(b,a,c,f,k,m,u,d);break;case 3:e.VD.Uf(b,a,c,f,k,m,u,d);break;case 1:e.UD.Uf(b,a,c,f,k,m,u,d);break;default:e.Nu.Uf(b,a,c,f,k,m,u,d)}};return d}();e.mb=d})(n||(n={}));(function(e){var d=function(){function a(){this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);return b};a.aG=function(c,b){var f=new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;
f.y.set(b);return f};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()};a.prototype.value=function(){return e.b.pa(this.x.value(),this.y.value())};return a}();e.IZ=d;var g=function(){function a(){this.z=this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);b.z=new e.Xb;b.z.set(c.z);return b};a.aG=function(c,b,k){var f=new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;f.y.set(b);f.z=new e.Xb;f.z.set(k);return f};a.prototype.Lg=function(){return this.x.Lg()&&
this.y.Lg()&&this.z.Lg()};a.prototype.value=function(){return new e.qd(this.x.value(),this.y.value(),this.z.value())};a.prototype.oi=function(a){var c=new e.Xb,b=new e.Xb,m=new e.Xb;c.pm(this.x,a.x);b.pm(this.y,a.y);m.pm(this.z,a.z);a=new e.Xb;a.bP(c,b);a.add(m);return a};a.prototype.jG=function(c){var b=new a;b.x.pm(this.y,c.z);b.y.pm(this.z,c.x);b.z.pm(this.x,c.y);var k=new e.Xb,m=new e.Xb,u=new e.Xb;k.pm(this.z,c.y);m.pm(this.x,c.z);u.pm(this.y,c.x);b.x.sub(k);b.y.sub(m);b.z.sub(u);return b};return a}();
e.JZ=g;var b=function(){function a(){}a.pO=function(c,b,k){var f=b.x;b=b.y;a.Dk(1,c,Math.cos(f),Math.sin(f),Math.cos(b),Math.sin(b),k)};a.mO=function(c,b){var f=new e.qd;a.pO(c,b,f);return f};a.HZ=function(c,b,k,m,u,d){var f=new e.qd;a.Dk(c,b,k,m,u,d,f);return f};a.Dk=function(a,b,k,m,e,d,B){a/=Math.sqrt(1-b*d*d);B.I(a*e*k,a*e*m,a*(1-b)*d)};a.Su=function(a,b){var c=new e.Xb,f=new e.Xb,u=new e.Xb,d=new e.Xb;c.cos(b.x);f.sin(b.x);u.cos(b.y);d.sin(b.y);b=new e.Xb;b.set(d);b.Vg(d);b.yp(a);b.yp(-1);b.iP();
b.sqrt();var B=new e.Xb;B.set(1);B.Wm(b);b=new e.Xb;b.set(B);b.Vg(u);b.Vg(c);c=new e.Xb;c.set(B);c.Vg(u);c.Vg(f);f=new e.Xb;f.set(B);f.yp(1-a);f.Vg(d);return g.aG(b,c,f)};a.LN=function(a,b,k){var c=b.x,f=b.y;k.ka(Math.atan2(f,c),Math.atan2(b.z,(1-a)*Math.sqrt(c*c+f*f)))};a.Y_=function(c,b,k){c=new e.b;a.LN(b,k,c);return c};a.MU=function(c,b,k,m){if(Math.abs(b.x-k.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(k.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(k.y)==.5*Math.PI)&&b.x!=k.x)return NaN;
m=a.RC(m,Math.min(b.x,k.x),Math.max(b.x,k.x));if(!(new e.Ac(b.x,k.x)).contains(m))return NaN;var f=d.pa(b);k=d.pa(k);f=a.Su(c,f);k=a.Su(c,k);k=f.jG(k);if(k.z.Lg())return b=b.y;var A=new e.Xb;A.set(k.x);A.Wm(k.z);A.yp(-1);var B=new e.Xb;B.set(k.y);B.Wm(k.z);B.yp(-1);var g=new e.Xb;g.set(B);g.Vg(B);f=new e.Xb;f.set(A);f.Vg(A);f.add(g);f.sqrt();if(f.Lg()||A.Lg()&&B.Lg())return b=b.y;b=Math.atan2(B.value(),A.value());b=Math.atan2(f.value()*Math.cos(b-m),1-c);m=a.mO(c,e.b.pa(m,b));c=new e.qd(m.x,m.y,-m.z);
m=k.value().oi(m);c=k.value().oi(c);Math.abs(c)<Math.abs(m)&&(b=-b);return b};a.uA=function(c,b,k,m,u,A){A[0]=NaN;A[1]=NaN;if(Math.abs(k.x-m.x)>Math.PI||Math.abs(k.y)>.5*Math.PI||Math.abs(m.y)>.5*Math.PI||(Math.abs(k.y)==.5*Math.PI||Math.abs(m.y)==.5*Math.PI)&&k.x!=m.x||Math.abs(u)>=.5*Math.PI||0<k.y&&0<m.y&&k.y>u&&m.y>u||0>k.y&&0>m.y&&k.y<u&&m.y<u)return 0;var f=d.pa(k);c=d.pa(m);f=a.Su(b,f);c=a.Su(b,c);var g=f.jG(c);if(g.z.Lg())return(new e.Ac(k.y,m.y)).contains(u)?(A[0]=k.x,1):0;c=new e.Xb;c.set(g.x);
c.Wm(g.z);c.yp(-1);f=new e.Xb;f.set(g.y);f.Wm(g.z);f.yp(-1);g=new e.Xb;g.set(f);g.Vg(f);var t=new e.Xb;t.set(c);t.Vg(c);t.add(g);t.sqrt();if(t.Lg()||c.Lg()&&f.Lg())return 0==u?(A[0]=k.x,A[1]=m.x,2):0;b=(1-b)*Math.tan(u)/t.value();if(1<Math.abs(b))return 0;b=Math.acos(b);g=Math.atan2(f.value(),c.value());c=Math.min(k.x,m.x);f=Math.max(k.x,m.x);m=a.RC(g-b,c,f);b=0!=u?a.RC(g+b,c,f):m;u=0;c<=m&&m<=f&&(A[u]=m,u++);b!=m&&c<=b&&b<=f&&(A[u]=b,u++,2==u&&Math.abs(A[0]-k.x)>Math.abs(A[1]-k.x)&&(k=A[0],A[0]=
A[1],A[1]=k));return u};a.RC=function(a,b,k){a>k?(b=Math.ceil((a-k)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.KB=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();e.yy=b})(n||(n={}));(function(e){var d=function(){function d(){}d.TY=function(b,a){var c=8;0>c&&(c=8);var f=[0,0,0,0],k=new e.b;k.L(a);k.scale(9102==e.fb.kc(b).Nd().yc()?1:e.fb.kc(b).Nd().Ai/3.141592653589793*
180);-180>k.x?(k.x-=k.x%360,-180>k.x&&(k.x+=360)):180<k.x&&(k.x-=k.x%360,180<k.x&&(k.x-=360));90<k.y&&(k.y=90);-90>k.y&&(k.y=-90);b=5*c;a=(b+31)/32;for(var m=-180,u=180,A=b-1,B=a-1;0<=B;B--)for(var g=A-32*B,t=Math.min(32,b-32*B),h=1;h<t;h+=2){var l=.5*(u+m);k.x>=l?(f[B]|=1<<g,m=l):u=l;g-=2;A-=2}m=-90;u=90;A=b-2;for(B=a-1;0<=B;B--)for(g=A-32*B,t=Math.min(32,b-32*B),h=0;h<t;h+=2)l=.5*(u+m),k.y>=l?(f[B]|=1<<g,m=l):u=l,g-=2,A-=2;return d.vO(f,c,c)};d.vO=function(b,a,c){for(var f=[],k=0;k<a;k++)f[k]="";
for(var m=k=0,e=0;e<a;e++){var d=b[k]>>m&31,m=m+5;if(31<m){var B=37-m,d=d&(1<<B)-1,m=m-32;k++;d|=(b[k]&(1<<m)-1)<<B}f[a-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[d]}if(c>a)for(e=0;e<c-a;e++)f.push("0");else c<a&&(f.length=c);return f.join("")};return d}();e.sM=d})(n||(n={}));(function(e){var d={gcstol:[0,1E-8,1,1.11111E-8,2,1.68845E-8,3,2.17661E-8,4,2.22508E-8,5,2.34848E-8,6,2.37811E-8,7,2.88455E-8,8,3.1456E-8,9,3.29779E-8,10,3.66789E-8,11,4.23597E-8,12,4.79463E-8,13,6.45223E-8,14,7.26274E-8,
15,7.49945E-8,16,7.52506E-8,17,7.97991E-8,18,9.66202E-8,19,9.79918E-8,20,9.89735E-8,21,1.02314E-7,22,1.08146E-7,23,2.29734E-7,24,2.42985E-7,25,2.7546E-7,26,3.37034E-7,27,4.30795E-7,28,5.20871E-7,29,5.50921E-7,30,6.74068E-7,31,6.86177E-7,32,7.25263E-7,33,7.44101E-7,34,7.74267E-7,35,9.62954E-7,36,1.06103E-6,37,1.14363E-6,38,1.16219E-6,39,1.36419E-6,40,1.36744E-6,41,1.43239E-6,42,1.73624E-6,43,1.84825E-6,44,1.90986E-6,45,1.97572E-6,46,2.12207E-6,47,2.72837E-6,48,3.1831E-6,49,3.58099E-6,50,3.81972E-6,
51,4.09256E-6,52,4.40737E-6,53,4.77465E-6,54,5.16178E-6,55,5.20871E-6,56,5.72958E-6,57,6.03113E-6,58,6.98729E-6,59,9.24125E-6,60,1.14592E-5],pcstol:[0,6.66667E-9,1,2E-8,2,4.97098E-5,3,.001,4,.00109362,5,.00328087,6,.00497101],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,
102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,
102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,
102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,
102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,
3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,
29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077],pcsid:[2066,6,2136,5,2155,5,2157,3,2158,3,2159,5,2160,5,2219,3,2220,3,2244,5,2245,5,2256,5,2265,5,2266,5,2269,5,2270,5,2273,5,2290,3,2291,3,2294,3,
2295,3,2313,3,2314,5,2964,5,2967,5,2968,5,2991,3,2992,5,2993,3,2994,5,3073,3,3076,3,3079,3,3091,5,3106,3,3108,3,3109,3,3141,3,3142,3,3167,2,3337,3,3347,3,3348,3,3359,5,3360,3,3361,5,3362,3,3363,5,3364,3,3365,5,3366,5,3402,3,3403,3,3405,3,3406,3,3439,3,3440,3,3447,3,3449,3,3450,3,3453,5,3454,5,3460,3,3479,5,3480,3,3481,5,3482,3,3483,5,3484,3,3485,5,3486,3,3487,5,3488,3,3489,3,3490,5,3491,3,3492,5,3493,3,3494,5,3495,3,3496,5,3497,3,3498,5,3499,3,3500,5,3501,3,3502,5,3503,3,3504,5,3505,3,3506,5,3507,
3,3508,5,3509,3,3510,5,3511,3,3512,5,3513,3,3514,3,3515,5,3516,3,3517,5,3518,3,3519,5,3520,3,3521,5,3522,3,3523,5,3524,3,3525,5,3526,3,3527,5,3528,3,3529,5,3530,3,3531,5,3532,3,3533,5,3534,3,3535,5,3536,3,3537,5,3538,3,3539,5,3540,3,3541,5,3542,3,3543,5,3544,3,3545,5,3546,3,3547,5,3548,3,3549,5,3550,3,3551,5,3552,3,3553,5,3582,5,3583,3,3584,5,3585,3,3586,5,3587,3,3588,5,3589,3,3590,5,3591,3,3592,3,3593,5,3598,5,3599,3,3600,5,3605,5,3606,3,3607,3,3608,5,3609,3,3610,5,3611,3,3612,5,3613,3,3614,5,3615,
3,3616,5,3617,3,3618,5,3619,3,3620,5,3621,3,3622,5,3623,3,3624,5,3625,3,3626,5,3627,3,3628,5,3629,3,3630,5,3631,3,3632,5,3633,3,3634,5,3635,3,3636,5,3640,5,3641,3,3642,5,3643,3,3644,5,3645,3,3646,5,3647,3,3648,5,3649,3,3650,5,3651,3,3652,5,3653,3,3654,5,3655,3,3656,5,3657,3,3658,5,3659,3,3660,5,3661,3,3662,5,3663,3,3664,5,3668,5,3669,3,3670,5,3671,3,3672,5,3673,3,3674,5,3675,3,3676,5,3677,5,3678,3,3679,5,3680,5,3681,3,3682,5,3683,5,3684,3,3685,3,3686,5,3687,3,3688,5,3689,3,3690,5,3691,3,3692,5,3696,
5,3697,3,3698,5,3699,3,3700,5,3740,3,3749,3,3783,3,3784,3,3793,3,3794,3,3802,3,3816,3,3829,3,3854,3,3920,3,3978,3,3979,3,3991,5,3992,5,4026,3,4037,3,4038,3,4217,5,4438,5,4439,5,4467,3,4471,3,4474,3,4559,3,4839,3,5018,3,5048,3,5167,3,5168,3,5223,3,5234,3,5235,3,5243,3,5266,3,5316,3,5320,3,5321,3,5330,3,5331,3,5337,3,5361,3,5362,3,5382,3,5383,3,5396,3,5456,3,5457,3,5469,3,5472,4,5490,3,5518,3,5523,3,5559,3,5588,5,5589,5,5596,3,5627,3,5629,3,5641,3,5643,3,5644,3,5654,5,5655,5,5659,3,5700,3,5825,3,5836,
3,5837,3,5842,3,5844,3,5880,3,5887,3,5890,3,20499,3,20538,3,20539,3,20790,3,20791,3,21291,3,21292,3,21500,3,21817,3,21818,3,22032,3,22033,3,22091,3,22092,3,22332,3,22391,3,22392,3,22700,3,22770,3,22780,3,22832,3,23090,3,23095,3,23239,3,23240,3,23433,3,23700,3,24047,3,24048,3,24100,5,24200,3,24305,3,24306,3,24382,4,24383,3,24500,3,24547,3,24548,3,24571,2,24600,3,25E3,3,25231,3,25884,3,25932,3,26237,3,26331,3,26332,3,26591,3,26592,3,26632,3,26692,3,26855,5,26856,5,27120,3,27200,3,27291,4,27292,4,27429,
3,27492,3,27500,3,27700,3,28232,3,28600,3,28991,3,28992,3,29100,3,29220,3,29221,3,29333,3,29635,3,29636,3,29701,3,29738,3,29739,3,29849,3,29850,3,29871,2,29872,5,29873,3,29900,3,29901,3,29903,3,30200,6,30339,3,30340,3,30591,3,30592,3,30791,3,30792,3,31028,3,31121,3,31154,3,31170,3,31171,3,31370,3,31528,3,31529,3,31600,3,31700,3,31838,3,31839,3,31901,3,32061,3,32062,3,32098,3,32099,5,32100,3,32104,3,32161,3,32766,3,53034,3,53048,3,53049,3,54034,3,65061,5,65062,5,65161,3,65163,3,102041,5,102064,4,102068,
1,102069,0,102217,5,102218,3,102219,5,102220,5,102378,5,102379,5,102380,3,102381,5,102589,5,102599,5,102600,5,102604,5,102605,3,102606,3,102647,3,102704,5,102705,5,102733,5,102761,5,102762,3,102763,5,102764,3,102765,3,102766,5,102970,5,102974,5,102993,3,102994,3,102995,5,102996,5,103015,3,103016,5,103017,3,103018,5,103025,3,103026,3,103027,5,103028,5,103035,3,103036,3,103037,5,103038,5,103039,3,103040,3,103041,5,103042,5,103043,3,103044,3,103045,5,103046,5,103047,3,103048,3,103049,5,103050,5,103051,
3,103052,5,103053,3,103054,5,103055,3,103056,5,103057,3,103058,3,103059,5,103060,5,103061,3,103062,3,103063,5,103064,5,103069,5,103070,3,103071,3,103072,5,103073,5,103086,3,103087,3,103088,5,103089,5,103094,5,103095,3,103096,5,103103,3,103104,5,103105,3,103106,5,103121,3,103122,5,103123,3,103124,3,103125,5,103126,5,103127,3,103128,3,103129,5,103130,5,103131,3,103132,3,103133,5,103134,5,103135,3,103136,3,103137,5,103138,5,103139,3,103140,5,103141,3,103142,5,103143,3,103144,5,103145,3,103146,5,103147,
3,103148,3,103149,5,103150,5,103151,3,103152,5,103172,3,103173,5,103174,3,103175,3,103176,5,103177,5,103178,3,103179,3,103180,5,103181,5,103182,3,103183,3,103184,5,103185,5,103228,3,103229,3,103230,5,103231,5,103250,3,103251,5,103252,3,103253,5,103260,3,103261,3,103262,5,103263,5,103270,3,103271,3,103272,5,103273,5,103274,3,103275,3,103276,5,103277,5,103278,3,103279,3,103280,5,103281,5,103282,3,103283,3,103284,5,103285,5,103286,3,103287,5,103288,3,103289,5,103290,3,103291,5,103292,3,103293,3,103294,
5,103295,5,103296,3,103297,3,103298,5,103299,5,103376,5,103377,3,103378,3,103379,5,103380,5,103393,3,103394,3,103395,5,103396,5,103472,3,103473,5,103474,3,103475,5,103482,3,103483,5,103484,3,103485,5,103500,3,103501,5,103502,3,103503,3,103504,5,103505,5,103506,3,103507,3,103508,5,103509,5,103510,3,103511,3,103512,5,103513,5,103514,3,103515,5,103516,3,103517,5,103518,3,103519,5,103520,3,103521,5,103522,3,103523,3,103524,5,103525,5,103526,3,103527,5,103561,5,103562,5,103563,3,103564,3,103565,5,103566,
5,103567,3,103568,3,103569,5,103570,5,103585,5,103695,5],pcsidc:[[2E3,2045,3],[2056,2065,3],[2067,2135,3],[2137,2153,3],[2161,2170,3],[2172,2193,3],[2196,2198,3],[2200,2203,3],[2206,2217,3],[2222,2224,5],[2251,2253,5],[2280,2282,5],[2308,2311,3],[2315,2325,3],[2327,2394,3],[2400,2462,3],[2523,2576,3],[2578,2693,3],[2695,2758,3],[2867,2888,5],[2891,2930,5],[2931,2941,3],[2969,2973,3],[2975,2982,3],[2984,2988,3],[2995,3002,3],[3006,3051,3],[3054,3059,3],[3061,3066,3],[3068,3071,3],[3084,3087,3],[3112,
3118,3],[3120,3138,3],[3146,3151,3],[3153,3157,3],[3161,3166,3],[3168,3172,3],[3174,3203,3],[3294,3313,3],[3315,3335,3],[3339,3345,3],[3350,3358,3],[3367,3369,3],[3374,3399,3],[3408,3416,3],[3425,3432,5],[3441,3446,5],[3456,3459,5],[3465,3478,3],[3554,3559,3],[3561,3565,5],[3568,3570,5],[3571,3581,3],[3594,3597,3],[3601,3604,3],[3637,3639,3],[3665,3667,3],[3693,3695,3],[3701,3727,3],[3728,3733,5],[3744,3747,3],[3753,3758,5],[3761,3763,3],[3765,3769,3],[3779,3781,3],[3788,3791,3],[3797,3799,3],[3832,
3841,3],[3844,3852,3],[3873,3885,3],[3890,3893,3],[3907,3912,3],[3942,3950,3],[3968,3970,3],[3973,3976,3],[3986,3989,3],[3994,3997,3],[4399,4413,5],[4418,4433,5],[4491,4554,3],[5069,5072,3],[5105,5130,3],[5180,5184,3],[5253,5259,3],[5269,5275,3],[5292,5311,3],[5343,5349,3],[5355,5357,3],[5387,5389,3],[5459,5463,3],[5479,5482,3],[5530,5539,3],[5550,5552,3],[5562,5583,3],[5623,5625,5],[5631,5639,3],[5649,5653,3],[5663,5680,3],[5682,5685,3],[5875,5877,3],[20002,20032,3],[20062,20092,3],[20135,20138,
3],[20248,20258,3],[20348,20358,3],[20436,20440,3],[20822,20824,3],[20934,20936,3],[21035,21037,3],[21095,21097,3],[21148,21150,3],[21413,21423,3],[21473,21483,3],[21780,21782,3],[21891,21894,3],[22171,22177,3],[22181,22187,3],[22191,22197,3],[22234,22236,3],[22521,22525,3],[22991,22994,3],[23028,23038,3],[23830,23853,3],[23866,23872,3],[23877,23884,3],[23886,23894,3],[23946,23948,3],[24311,24313,3],[24342,24347,3],[24370,24374,4],[24375,24381,3],[24718,24721,3],[24817,24821,3],[24877,24882,3],[24891,
24893,3],[25391,25395,3],[25828,25838,3],[26191,26195,3],[26391,26393,3],[26703,26722,3],[26729,26760,5],[26766,26798,5],[26860,26870,5],[26891,26899,3],[26903,26923,3],[26929,26946,3],[26948,26998,3],[27037,27040,3],[27205,27232,3],[27258,27260,3],[27391,27398,3],[27561,27564,3],[27571,27574,3],[27581,27584,3],[27591,27594,3],[28191,28193,3],[28348,28358,3],[28402,28432,3],[28462,28492,3],[29118,29122,3],[29177,29185,3],[30161,30179,3],[30491,30494,3],[30729,30732,3],[31251,31259,3],[31265,31268,
3],[31275,31278,3],[31288,31297,3],[31461,31465,3],[31491,31495,3],[31917,31922,3],[31965,31985,3],[31992,32E3,3],[32001,32003,5],[32005,32031,5],[32033,32060,5],[32074,32077,5],[32081,32086,3],[32107,32130,3],[32133,32158,3],[32164,32167,5],[32180,32199,3],[32201,32260,3],[32301,32360,3],[32601,32662,3],[32664,32667,5],[32701,32761,3],[53001,53004,3],[53008,53019,3],[53021,53032,3],[53042,53046,3],[54001,54004,3],[54008,54019,3],[54021,54032,3],[54042,54046,3],[54048,54053,3],[102001,102040,3],[102042,
102063,3],[102065,102067,3],[102070,102112,3],[102114,102117,3],[102118,102121,5],[102122,102208,3],[102210,102216,3],[102221,102300,3],[102304,102377,3],[102382,102388,3],[102389,102391,5],[102401,102444,3],[102450,102452,3],[102461,102468,5],[102469,102492,3],[102500,102519,5],[102530,102549,3],[102570,102588,3],[102590,102598,3],[102601,102603,3],[102608,102628,3],[102629,102646,5],[102648,102672,5],[102675,102700,5],[102701,102703,3],[102707,102730,5],[102735,102758,5],[102767,102798,3],[102962,
102969,3],[102971,102973,3],[102975,102989,3],[102990,102992,5],[102997,103002,3],[103003,103008,5],[103009,103011,3],[103012,103014,5],[103019,103021,3],[103022,103024,5],[103029,103031,3],[103032,103034,5],[103065,103068,3],[103074,103076,3],[103077,103079,5],[103080,103082,3],[103083,103085,5],[103090,103093,3],[103097,103099,3],[103100,103102,5],[103107,103109,3],[103110,103112,5],[103113,103116,3],[103117,103120,5],[103153,103157,3],[103158,103162,5],[103163,103165,3],[103166,103171,5],[103186,
103188,3],[103189,103191,5],[103192,103195,3],[103196,103199,5],[103200,103224,3],[103225,103227,5],[103232,103237,3],[103238,103243,5],[103244,103246,3],[103247,103249,5],[103254,103256,3],[103257,103259,5],[103264,103266,3],[103267,103269,5],[103300,103375,3],[103381,103383,3],[103384,103386,5],[103387,103389,3],[103390,103392,5],[103397,103399,3],[103400,103471,5],[103476,103478,3],[103479,103481,5],[103486,103488,3],[103489,103491,5],[103492,103495,3],[103496,103499,5],[103539,103543,3],[103544,
103548,5],[103549,103551,3],[103552,103557,5],[103558,103560,3],[103571,103573,3],[103574,103576,5],[103577,103580,3],[103581,103583,5],[103600,103694,3],[103700,103793,5],[103794,103799,3]],gcsid:[4042,0,4075,0,4081,0,4168,0,4170,0,4188,0,4261,1,4262,0,4263,0,4288,0,4289,0,4305,1,4322,0,4324,0,4326,0,4466,0,4469,0,4475,0,4483,0,4490,0,4555,0,4558,0,4614,0,4619,0,4657,0,4670,0,4671,0,4674,0,4682,0,4683,0,4718,0,4720,0,4721,0,4723,0,4726,0,4737,0,4738,0,4759,0,4761,0,4807,1,4808,0,4809,0,4816,1,4817,
0,4818,0,4819,1,4820,0,4821,1,4823,0,4824,0,4901,1,4902,1,4903,0,4904,0,5228,0,5229,0,5233,0,5252,0,5264,0,5340,0,5354,0,5360,0,5371,0,5373,0,5381,0,5393,0,5464,0,5467,0,5489,0,5524,0,5527,0,5546,0,5561,0,5593,0,5681,0,5886,0,37225,1,37235,0,37257,0,37259,0,37260,0,104020,0,104139,1,104140,1,104223,0,104286,0,104287,0,104304,0,104305,0,104896,0,104900,5,104901,0,104902,0,104903,9,104904,2,104905,2,104906,59,104907,54,104908,0,104909,58,104910,31,104911,56,104912,6,104913,50,104914,41,104915,10,104916,
3,104917,30,104918,8,104919,60,104920,53,104921,44,104922,48,104923,51,104924,38,104925,0,104926,49,104927,57,104928,21,104929,23,104930,35,104931,49,104932,27,104933,17,104934,13,104935,7,104936,56,104937,40,104938,28,104939,37,104940,15,104941,55,104942,22,104943,4,104944,0,104945,20,104946,42,104947,47,104948,52,104949,43,104950,46,104951,39,104952,24,104953,16,104954,50,104955,36,104956,33,104957,46,104958,14,104959,19,104960,0,104961,34,104962,32,104963,29,104964,45,104965,26,104966,25,104967,
41,104968,11,104969,12,104970,18],gcsidc:[[4001,4016,0],[4018,4025,0],[4027,4029,0],[4031,4036,0],[4044,4047,0],[4052,4054,0],[4120,4166,0],[4172,4176,0],[4178,4185,0],[4190,4196,0],[4198,4216,0],[4218,4222,0],[4224,4232,0],[4234,4260,0],[4265,4267,0],[4269,4286,0],[4291,4303,0],[4306,4319,0],[4600,4610,0],[4621,4625,0],[4627,4633,0],[4636,4639,0],[4641,4646,0],[4659,4667,0],[4676,4680,0],[4686,4697,0],[4699,4706,0],[4740,4757,0],[4763,4765,0],[4801,4806,0],[4810,4812,1],[4813,4815,0],[37001,37008,
0],[37201,37208,0],[37211,37224,0],[37226,37233,0],[37237,37243,0],[37245,37247,0],[37249,37255,0],[104100,104138,0],[104141,104145,0],[104256,104261,0],[104700,104786,0],[104990,104992,0]]},g={c:[[2E3,2045,9001],[2056,2065,9001],[2067,2135,9001],[2137,2153,9001],[2161,2170,9001],[2172,2193,9001],[2196,2198,9001],[2200,2203,9001],[2206,2217,9001],[2222,2224,9002],[2251,2253,9002],[2280,2282,9002],[2308,2311,9001],[2315,2325,9001],[2327,2394,9001],[2400,2462,9001],[2523,2576,9001],[2578,2693,9001],
[2695,2758,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2941,9001],[2969,2973,9001],[2975,2982,9001],[2984,2988,9001],[2995,3002,9001],[3006,3051,9001],[3054,3059,9001],[3061,3066,9001],[3068,3071,9001],[3084,3087,9001],[3112,3118,9001],[3120,3138,9001],[3146,3151,9001],[3153,3157,9001],[3161,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3335,9001],[3339,3345,9001],[3350,3358,
9001],[3367,3369,9001],[3374,3399,9001],[3408,3416,9001],[3425,3432,9003],[3441,3446,9003],[3456,3459,9003],[3465,3478,9001],[3554,3559,9001],[3561,3565,9003],[3568,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3733,9003],[3744,3747,9001],[3753,3758,9003],[3761,3763,9001],[3765,3769,9001],[3779,3781,9001],[3788,3791,9001],[3797,3799,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3907,
3912,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4052,4054,9102],[4120,4166,9102],[4172,4176,9102],[4178,4185,9102],[4190,4196,9102],[4198,4216,9102],[4218,4222,9102],[4224,4232,9102],[4234,4260,9102],[4265,4267,9102],[4269,4286,9102],[4291,4303,9102],[4306,4319,9102],[4399,4413,9003],[4418,4433,9003],[4491,4554,9001],[4600,4610,9102],[4621,4625,9102],[4627,4633,9102],
[4636,4639,9102],[4641,4646,9102],[4659,4667,9102],[4676,4680,9102],[4686,4697,9102],[4699,4706,9102],[4740,4757,9102],[4763,4765,9102],[4801,4806,9102],[4810,4812,9105],[4813,4815,9102],[5069,5072,9001],[5105,5130,9001],[5180,5184,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5343,5349,9001],[5355,5357,9001],[5387,5389,9001],[5459,5463,9001],[5479,5482,9001],[5530,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,
9001],[5875,5877,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21891,21894,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,
23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26703,26722,9001],[26729,26760,9003],[26766,26798,9003],[26860,26870,9003],[26891,26899,9001],[26903,26923,9001],[26929,26946,9001],[26948,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],
[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29118,29122,9001],[29177,29185,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31278,9001],[31288,31297,9001],[31461,31465,9001],[31491,31495,9001],[31917,31922,9001],[31965,31985,9001],[31992,32E3,9001],[32001,32003,9003],[32005,32031,9003],[32033,32060,9003],[32074,32077,9003],[32081,32086,9001],[32107,32130,
9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37001,37008,9102],[37201,37208,9102],[37211,37224,9102],[37226,37233,9102],[37237,37243,9102],[37245,37247,9102],[37249,37255,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53042,53046,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[102001,102040,9001],[102042,102063,9001],
[102065,102067,9001],[102070,102112,9001],[102114,102117,9001],[102122,102208,9001],[102210,102216,9001],[102221,102300,9001],[102304,102377,9001],[102382,102388,9001],[102389,102391,9003],[102401,102444,9001],[102450,102452,9001],[102461,102468,9003],[102469,102492,9001],[102500,102519,9002],[102530,102549,9001],[102570,102588,9001],[102590,102598,9001],[102601,102603,9001],[102608,102628,9001],[102629,102646,9003],[102648,102672,9003],[102675,102700,9003],[102701,102703,9001],[102707,102730,9003],
[102735,102758,9003],[102767,102798,9001],[102962,102969,9001],[102971,102973,9001],[102975,102989,9001],[102990,102992,9002],[102997,103002,9001],[103003,103008,9003],[103009,103011,9001],[103012,103014,9003],[103019,103021,9001],[103022,103024,9003],[103029,103031,9001],[103032,103034,9003],[103065,103068,9001],[103074,103076,9001],[103077,103079,9002],[103080,103082,9001],[103083,103085,9003],[103090,103093,9001],[103097,103099,9001],[103100,103102,9003],[103107,103109,9001],[103110,103112,9003],
[103113,103116,9001],[103117,103120,9003],[103153,103157,9001],[103158,103162,9003],[103163,103165,9001],[103166,103168,9002],[103169,103171,9003],[103186,103188,9001],[103189,103191,9003],[103192,103195,9001],[103196,103199,9003],[103200,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103300,103375,9001],[103381,103383,9001],[103384,103386,9002],
[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103400,103471,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103600,103694,9001],[103700,103793,9003],[103794,103799,9001],[104100,104138,9102],
[104141,104145,9102],[104256,104261,9102],[104700,104786,9102],[104900,104970,9102],[104990,104992,9102]],nc:[2066,9039,2136,9094,2155,9003,2157,9001,2158,9001,2159,9094,2160,9094,2219,9001,2220,9001,2244,9003,2245,9003,2256,9002,2265,9002,2266,9002,2269,9002,2270,9002,2273,9002,2290,9001,2291,9001,2294,9001,2295,9001,2313,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2964,9003,2967,9003,2968,9003,2991,9001,2992,9002,2993,9001,2994,9002,3073,
9001,3076,9001,3079,9001,3091,9003,3106,9001,3108,9001,3109,9001,3141,9001,3142,9001,3167,9301,3337,9001,3347,9001,3348,9001,3359,9003,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3366,9005,3402,9001,3403,9001,3405,9001,3406,9001,3439,9001,3440,9001,3447,9001,3449,9001,3450,9001,3453,9003,3454,9003,3460,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,
3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,
9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,
3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,
9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3740,9001,3749,9001,3783,9001,3784,9001,3793,9001,3794,9001,3802,9001,3816,9001,3829,9001,3854,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4075,9102,4081,9102,4168,9102,4170,9102,4188,9102,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4305,9105,4322,9102,4324,9102,4326,9102,4438,9003,4439,9003,4466,9102,4467,9001,4469,9102,4471,9001,4474,9001,4475,9102,4483,9102,
4490,9102,4555,9102,4558,9102,4559,9001,4614,9102,4619,9102,4657,9102,4670,9102,4671,9102,4674,9102,4682,9102,4683,9102,4718,9102,4720,9102,4721,9102,4723,9102,4726,9102,4737,9102,4738,9102,4759,9102,4761,9102,4807,9105,4808,9102,4809,9102,4816,9105,4817,9102,4818,9102,4819,9105,4820,9102,4821,9105,4823,9102,4824,9102,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5018,9001,5048,9001,5167,9001,5168,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5252,9102,5264,9102,5266,
9001,5316,9001,5320,9001,5321,9001,5330,9001,5331,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5393,9102,5396,9001,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5518,9001,5523,9001,5524,9102,5527,9102,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,
5842,9001,5844,9001,5880,9001,5886,9102,5887,9001,5890,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23433,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,
9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,26855,9003,26856,9003,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27492,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29100,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,29900,9001,29901,9001,29903,9001,30200,9039,30339,9001,30340,9001,30591,9001,30592,
9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37225,9105,37235,9102,37257,9102,37259,9102,37260,9102,53034,9001,53048,9001,53049,9001,54034,9001,65061,9003,65062,9003,65161,9001,65163,9001,102041,9003,102064,9085,102068,109030,102069,109031,102118,9003,102119,9002,102120,9003,102121,9003,
102217,9003,102218,9001,102219,9003,102220,9003,102378,9002,102379,9002,102380,9001,102381,9002,102589,9003,102599,9003,102600,9003,102604,9003,102605,9001,102606,9001,102647,9001,102704,9003,102705,9003,102733,9003,102761,9003,102762,9001,102763,9003,102764,9001,102765,9001,102766,9003,102970,9002,102974,9003,102993,9001,102994,9001,102995,9003,102996,9003,103015,9001,103016,9003,103017,9001,103018,9003,103025,9001,103026,9001,103027,9003,103028,9003,103035,9001,103036,9001,103037,9003,103038,9003,
103039,9001,103040,9001,103041,9003,103042,9003,103043,9001,103044,9001,103045,9003,103046,9003,103047,9001,103048,9001,103049,9003,103050,9003,103051,9001,103052,9003,103053,9001,103054,9003,103055,9001,103056,9003,103057,9001,103058,9001,103059,9003,103060,9003,103061,9001,103062,9001,103063,9003,103064,9003,103069,9003,103070,9001,103071,9001,103072,9003,103073,9003,103086,9001,103087,9001,103088,9003,103089,9003,103094,9002,103095,9001,103096,9003,103103,9001,103104,9003,103105,9001,103106,9003,
103121,9001,103122,9003,103123,9001,103124,9001,103125,9002,103126,9002,103127,9001,103128,9001,103129,9003,103130,9003,103131,9001,103132,9001,103133,9003,103134,9003,103135,9001,103136,9001,103137,9002,103138,9002,103139,9001,103140,9003,103141,9001,103142,9003,103143,9001,103144,9003,103145,9001,103146,9002,103147,9001,103148,9001,103149,9003,103150,9003,103151,9001,103152,9003,103172,9001,103173,9003,103174,9001,103175,9001,103176,9003,103177,9003,103178,9001,103179,9001,103180,9003,103181,9003,
103182,9001,103183,9001,103184,9003,103185,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,
103296,9001,103297,9001,103298,9003,103299,9003,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,
103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103695,9003,104020,9102,104139,9105,104140,9105,104223,9102,104286,9102,104287,9102,104304,9102,104305,9102,104896,9102]},b=function(){function a(){}a.xG=function(c){!1===a.ul&&a.hq();var b=a.eU(c);if(-1==b){var k=a.Qv(c);k!=c&&(b=a.xG(k))}return b};a.eU=function(c){return void 0!==a.hv[c]?
a.hv[c]:-1};a.uS=function(c){!1===a.ul&&a.hq();var b=a.KF(c);if(1E38==b){var k=a.Qv(c);k!=c&&(b=a.KF(k));if(1E38==b)return 1E-10}return b};a.SU=function(c){if(void 0!==a.$p[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.$p[b]?!0:!1};a.UU=function(c){if(void 0!==a.Dj[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.Dj[b]?!0:!1};a.KF=function(c){!1===a.ul&&a.hq();return void 0!==a.$p[c]?a.$p[c]:void 0!==a.Dj[c]?a.Dj[c]:1E38};a.sZ=function(c){!1===a.ul&&a.hq();return void 0!==a.HC[c]?a.HC[c]:c};
a.Qv=function(c){!1===a.ul&&a.hq();return void 0!==a.PC[c]?a.PC[c]:c};a.hq=function(){for(var c=d,b,k=0;k<c.pcsid.length;k+=2)a.Dj[c.pcsid[k]]=c.pcstol[2*c.pcsid[k+1]+1];for(k=0;k<c.pcsidc.length;k+=1){b=c.pcsidc[k];for(var m=b[0];m<=b[1];m++)a.Dj[m]=c.pcstol[2*b[2]+1]}for(k=0;k<c.gcsid.length;k+=2)a.$p[c.gcsid[k]]=c.gcstol[2*c.gcsid[k+1]+1];for(k=0;k<c.gcsidc.length;k+=1)for(b=c.gcsidc[k],m=b[0];m<=b[1];m++)a.Dj[m]=c.gcstol[2*b[2]+1];for(k=0;k<g.c.length;k+=1)for(b=g.c[k],m=b[0];m<=b[1];m++)a.hv[m]=
b[2];for(k=0;k<g.nc.length;k+=2)a.hv[g.nc[k]]=g.nc[k+1];g=null;for(k=0;k<c.newtoold.length;k+=2)a.HC[c.newtoold[k+1]]=c.newtoold[k],a.PC[c.newtoold[k]]=c.newtoold[k+1];d=null;a.ul=!0};a.ul=!1;a.$p=[];a.Dj=[];a.HC=[];a.PC=[];a.hv=[];return a}();e.us=b})(n||(n={}));(function(e){function d(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var g=[],b=function(){function a(){}a.wS=function(c){try{for(var b=0;b<g.length;b++)if(g[b].wkttext===c)return g[b].unit;for(var k,
m=b="",u=!1,A=0;A<c.length;A++){var B=c[A];!0===u?'"'==B?'"'==c[A+1]?b+=B:u=!1:b+=B:/[\s]/.test(B)||(","==B?(m=""!==b?m+(d(b)+","):m+",",b=""):")"==B||"]"==B?(m=""!==b?m+(d(b)+"]}"):m+"]}",b=""):"("==B||"["==B?(m+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==B?(u=!0,b=""):b+=B)}k=JSON.parse(m);var t=a.pF(k);if(null===t)return null;k=null;for(B=0;B<t.values.length;B++)if("object"===typeof t.values[B]&&"UNIT"===t.values[B].entity){k=t.values[B];break}if(null===k)return null;var h=
e.oc.bR("GEOGCS"===t.entity?1:0,k.values[1],k.values[2]);g.push({wkttext:c,unit:h});10<g.length&&g.shift();return h}catch(X){return null}};a.pF=function(c){if(null===c)return null;if("GEOGCS"===c.entity||"PROJCS"===c.entity)return c;for(var b=[],k=0;k<c.values.length;k++)if("object"===typeof c.values[k]&&void 0!==c.values[k].entity){if("GEOGCS"===c.values[k].entity||"PROJCS"==c.values[k].entity)return c.values[k];b.push(c.values[k])}for(c=0;c<b.length;c++)if(k=a.pF(b[c]),null!==k)return k;return null};
a.vS=function(a){var c=-1;if(null!=a&&0<a.length){var b,m;b=a.indexOf("PROJCS");if(0<=b){var e=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,m=a.indexOf("]",b+1),0<m)))try{e=parseFloat(a.substring(b,m))}catch(B){e=0}0<e&&(c=.001/e)}else if(b=a.indexOf("GEOGCS"),0<=b){var d=0,e=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;m=a.indexOf(",",b+1);if(0<m)try{d=parseFloat(a.substring(b,m))}catch(B){d=0}if(0<d&&(b=a.indexOf("UNIT",m+1),0<=b&&(b=a.indexOf(",",
b+4),0<b&&(b++,m=a.indexOf("]",b+1),0<m))))try{e=parseFloat(a.substring(b,m))}catch(B){e=0}}0<d&&0<e&&(c=.001/(d*e))}}return c};return a}();e.oE=b})(n||(n={}));(function(e){(function(e){e[e.NONE=0]="NONE";e[e.LINEAR=1]="LINEAR";e[e.ANGULAR=2]="ANGULAR"})(e.FM||(e.FM={}));(function(e){e[e.enumFloat=0]="enumFloat";e[e.enumDouble=1]="enumDouble";e[e.enumInt32=2]="enumInt32";e[e.enumInt64=3]="enumInt64";e[e.enumInt8=4]="enumInt8";e[e.enumInt16=5]="enumInt16"})(e.GN||(e.GN={}));(function(e){e[e.POSITION=
0]="POSITION";e[e.Z=1]="Z";e[e.M=2]="M";e[e.ID=3]="ID";e[e.NORMAL=4]="NORMAL";e[e.TEXTURE1D=5]="TEXTURE1D";e[e.TEXTURE2D=6]="TEXTURE2D";e[e.TEXTURE3D=7]="TEXTURE3D";e[e.ID2=8]="ID2";e[e.MAXSEMANTICS=10]="MAXSEMANTICS"})(e.Wc||(e.Wc={}));var d=function(){function d(b,a){this.Qt=this.af=null;this.Er=this.Ga=0;this.Sh=this.wg=null;this.bm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.wg=a.wg.slice(0);this.Sh=a.Sh.slice(0);this.bm=a.bm;this.Qt=[];for(a=b=0;a<this.Ga;a++)this.Qt[a]=b,b+=d.Xa(this.wg[a]);
this.Er=b;this.af=[];for(a=0;a<this.Ga;a++){b=d.Xa(this.rd(a));for(var c=d.de(this.rd(a)),f=0;f<b;f++)this.af[this.Qt[a]+f]=c}}else this.Er=this.Ga=0}d.prototype.rd=function(b){if(0>b||b>this.Ga)throw e.g.F();return this.wg[b]};d.prototype.mg=function(b){return this.Sh[b]};d.Wz=function(b){return d.tc[b]};d.si=function(b){return d.bd[b]};d.Mg=function(b){return d.fe[b]};d.Cj=function(b){return d.Mg(d.si(b))*d.Xa(b)};d.Xa=function(b){return d.Bb[b]};d.Wg=function(b){return 2>b};d.rk=function(b){return d.Wg(d.si(b))};
d.prototype.hasAttribute=function(b){return 0<=this.Sh[b]};d.prototype.uH=function(){return this.hasAttribute(1)};d.de=function(b){return d.$[b]};d.prototype.ET=function(b){return this.Qt[b]};d.PH=function(b,a){return d.$[b]===a};d.Oi=function(b){if(4==b)return 2;if(8==b)return 3;throw e.g.F();};d.prototype.Eb=function(b){return this===b};d.prototype.Ak=function(){for(var b=e.J.dh(this.wg[0]),a=1;a<this.Ga;a++)b=e.J.dh(this.wg[a],b);return b};d.prototype.xk=function(b){return this.Qt[b]};d.prototype.jc=
function(){return this.bm};d.prototype.Td=function(b){return this.wg[b]};d.$=[0,0,NaN,0,0,0,0,0,0];d.tc=[1,1,1,0,2,1,1,1,0];d.bd=[1,1,1,2,0,0,0,0,2];d.fe=[4,8,4,8,1,2];d.Bb=[2,1,1,1,3,1,2,3,2];return d}();e.ma=d})(n||(n={}));(function(e){function d(a,b,k,m){var c=a.Jd,f=a.e+b+1;1===k?m=5<=c[f]:2===k?m=5<c[f]||5==c[f]&&(m||0>f||void 0!==c[f+1]||c[f-1]&1):3===k?m=m||void 0!==c[f]||0>f:(m=!1,0!==k&&g("!Big.RM!"));if(1>f||!c[0])m?(a.e=-b,a.Jd=[1]):a.Jd=[a.e=0];else{c.length=f--;if(m)for(;9<++c[f];)c[f]=
0,f--||(++a.e,c.unshift(1));for(f=c.length;!c[--f];c.pop());}}function g(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(c){if(c instanceof a)this.me=c.me,this.e=c.e,this.Jd=c.Jd.slice();else{var f,m,e;0===c&&0>1/c?c="-0":b.test(c+="")||g(NaN);this.me="-"==c.charAt(0)?(c=c.slice(1),-1):1;-1<(f=c.indexOf("."))&&(c=c.replace(".",""));0<(m=c.search(/e/i))?(0>f&&(f=m),f+=+c.slice(m+1),c=c.substring(0,m)):0>f&&(f=c.length);for(m=0;"0"==c.charAt(m);m++);
if(m==(e=c.length))this.Jd=[this.e=0];else{for(;"0"==c.charAt(--e););this.e=f-m-1;this.Jd=[];for(f=0;m<=e;this.Jd[f++]=+c.charAt(m++));}}}a.prototype.abs=function(){var c=new a(this);c.me=1;return c};a.prototype.RF=function(){var c=0,b=this.Jd,m=(c=new a(c)).Jd,e=this.me,d=c.me,B=this.e,g=c.e;if(!b[0]||!m[0])return b[0]?e:m[0]?-d:0;if(e!=d)return e;c=0>e;if(B!=g)return B>(g^c)?1:-1;e=-1;for(d=(B=b.length)<(g=m.length)?B:g;++e<d;)if(b[e]!=m[e])return b[e]>(m[e]^c)?1:-1;return B==g?0:B>(g^c)?1:-1};
a.prototype.Wm=function(c){var b=this.Jd,f=(c=new a(c)).Jd,e=this.me==c.me?1:-1,A=a.bd;(A!==~~A||0>A||1E6<A)&&g("!Big.DP!");if(!b[0]||!f[0])return b[0]==f[0]&&g(NaN),f[0]||g(e/0),new a(0*e);var B,t,h,l,n=f.slice(),p=B=f.length,q=b.length,r=b.slice(0,B),v=r.length,G=c,x=G.Jd=[],w=0,y=A+(G.e=this.e-c.e)+1;G.me=e;e=0>y?0:y;for(n.unshift(0);v++<B;r.push(0));do{for(t=0;10>t;t++){if(B!=(v=r.length))h=B>v?1:-1;else for(l=-1,h=0;++l<B;)if(f[l]!=r[l]){h=f[l]>r[l]?1:-1;break}if(0>h){for(c=v==B?f:n;v;){if(r[--v]<
c[v]){for(l=v;l&&!r[--l];r[l]=9);--r[l];r[v]+=10}r[v]-=c[v]}for(;!r[0];r.shift());}else break}x[w++]=h?t:++t;r[0]&&h?r[v]=b[p]||0:r=[b[p]]}while((p++<q||void 0!==r[0])&&e--);x[0]||1==w||(x.shift(),G.e--);w>y&&d(G,A,a.Mg,void 0!==r[0]);return G};a.prototype.$T=function(){return 0<this.RF()};a.prototype.oV=function(){return 0>this.RF()};a.prototype.Zt=function(c){var b,f,e=this.me,d=(c=new a(c)).me;if(e!=d)return c.me=-d,this.EJ(c);var B=this.Jd.slice();f=this.e;var g=c.Jd,t=c.e;if(!B[0]||!g[0])return g[0]?
(c.me=-d,c):new a(B[0]?this:0);if(e=f-t){(b=0>e)?(e=-e,f=B):(t=f,f=g);f.reverse();for(d=e;d--;f.push(0));f.reverse()}else for(f=((b=B.length<g.length)?B:g).length,e=d=0;d<f;d++)if(B[d]!=g[d]){b=B[d]<g[d];break}b&&(f=B,B=g,g=f,c.me=-c.me);if(0<(d=(f=g.length)-(b=B.length)))for(;d--;B[b++]=0);for(d=b;f>e;){if(B[--f]<g[f]){for(b=f;b&&!B[--b];B[b]=9);--B[b];B[f]+=10}B[f]-=g[f]}for(;0==B[--d];B.pop());for(;0==B[0];)B.shift(),--t;B[0]||(c.me=1,B=[t=0]);c.Jd=B;c.e=t;return c};a.prototype.EJ=function(c){var b,
f=this.me;b=(c=new a(c)).me;if(f!=b)return c.me=-b,this.Zt(c);b=this.e;var e=this.Jd,d=c.e,B=c.Jd;if(!e[0]||!B[0])return B[0]?c:new a(e[0]?this:0*f);e=e.slice();if(f=b-d){0<f?(d=b,b=B):(f=-f,b=e);for(b.reverse();f--;b.push(0));b.reverse()}0>e.length-B.length&&(b=B,B=e,e=b);f=B.length;for(b=0;f;)b=(e[--f]=e[f]+B[f]+b)/10|0,e[f]%=10;b&&(e.unshift(b),++d);for(f=e.length;0==e[--f];e.pop());c.Jd=e;c.e=d;return c};a.prototype.pow=function(c){var b=this,f=new a(1),e=f,d=0>c;(c!==~~c||-1E6>c||1E6<c)&&g("!pow!");
for(c=d?-c:c;;){c&1&&(e=e.ds(b));c>>=1;if(!c)break;b=b.ds(b)}return d?f.Wm(e):e};a.prototype.round=function(c,b){var f=this;null==c?c=0:(c!==~~c||0>c||1E6<c)&&g("!round!");d(f=new a(f),c,null==b?a.Mg:b);return f};a.prototype.sqrt=function(){var c,b,e;b=this.Jd;c=this.me;e=this.e;var u=new a("0.5");if(!b[0])return new a(this);0>c&&g(NaN);c=Math.sqrt(this.toString());0==c||c==1/0?(c=b.join(""),c.length+e&1||(c+="0"),b=new a(Math.sqrt(c).toString()),b.e=((e+1)/2|0)-(0>e||e&1)):b=new a(c.toString());
c=b.e+(a.bd+=4);do e=b,b=u.ds(e.EJ(this.Wm(e)));while(e.Jd.slice(0,c).join("")!==b.Jd.slice(0,c).join(""));d(b,a.bd-=4,a.Mg);return b};a.prototype.ds=function(c){var b,f=this.Jd,e=(c=new a(c)).Jd,d=f.length,B=e.length,g=this.e,t=c.e;c.me=this.me==c.me?1:-1;if(!f[0]||!e[0])return new a(0*c.me);c.e=g+t;d<B&&(b=f,f=e,e=b,t=d,d=B,B=t);for(b=Array(t=d+B);t--;b[t]=0);for(g=B;g--;){B=0;for(t=d+g;t>g;)B=b[t]+e[g]*f[t-g-1]+B,b[t--]=B%10,B=B/10|0;b[t]=(b[t]+B)%10}B&&++c.e;b[0]||b.shift();for(g=b.length;!b[--g];b.pop());
c.Jd=b;return c};a.prototype.toString=function(){var a=this.e,c=this.Jd.join(""),b=c.length;if(-7>=a||21<=a)c=c.charAt(0)+(1<b?"."+c.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;c="0"+c);c="0."+c}else if(0<a)if(++a>b)for(a-=b;a--;c+="0");else a<b&&(c=c.slice(0,a)+"."+c.slice(a));else 1<b&&(c=c.charAt(0)+"."+c.slice(1));return 0>this.me&&this.Jd[0]?"-"+c:c};a.bd=20;a.Mg=1;return a}();e.Tp=a})(n||(n={}));(function(e){var d=function(){function b(a){this.Nf=a}b.prototype.hs=function(a,c,b){var f=
new e.b,m=new e.b,u=this.Nf;b.Gd(a,c,function(a,c){u.fc(2*a,f);u.fc(2*c,m);return f.compare(m)})};b.prototype.Qq=function(a){return this.Nf.read(2*a+1)};return b}(),g=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var c=a.G();return 1736==c?0==a.hf()?!1:!0:1607==c?(c=[!1],b.mE(a,!0,c),c[0]):197==c||e.T.Oc(c)&&!a.OH()?!0:!1};b.Rm=function(a){var c=a.G();if(1736==c)return c=new e.Ua(a.description),a.u()||a.xE(c),c;if(1607==c)return b.mE(a,!1,null);if(197==c)return c=new e.Ua(a.description),
a.u()||c.jd(a,!1),c;if(e.T.Oc(c)){c=new e.Ed(a.description);if(!a.u()&&!a.OH()){var f=new e.Wa;a.Dp(f);c.add(f);a.Bp(f);c.add(f)}return c}if(e.T.Jo(c))return null;throw e.g.F();};b.mE=function(a,c,b){null!=b&&(b[0]=!1);var f=null;c||(f=new e.Ed(a.description));if(!a.u()){var m=new e.ia(0);m.yb(2*a.aa());for(var u=0,A=a.aa();u<A;u++)if(0<a.La(u)&&!a.Eo(u)){var B=a.wa(u);m.add(B);B=a.Gc(u)-1;m.add(B)}if(0<m.size){A=new e.Hu;u=a.Pa(0);A.sort(m,0,m.size,new d(u));A=new e.b;u.fc(2*m.get(0),A);for(var B=
0,g=1,t=new e.Wa,h=new e.b,l=1,n=m.size;l<n;l++)if(u.fc(2*m.get(l),h),h.ub(A))m.get(B)>m.get(l)?(m.set(B,2147483647),B=l):m.set(l,2147483647),g++;else{if(0==(g&1))m.set(B,2147483647);else if(c)return null!=b&&(b[0]=!0),null;A.L(h);B=l;g=1}if(0==(g&1))m.set(B,2147483647);else if(c)return null!=b&&(b[0]=!0),null;if(!c)for(m.Gd(0,m.size,function(a,c){return a-c}),l=0,n=m.size;l<n&&2147483647!=m.get(l);l++)a.Ae(m.get(l),t),f.add(t)}}return c?null:f};return b}();e.Pi=g})(n||(n={}));(function(e){var d=
function(){function d(){this.ag=new e.ia(0);this.ut=new e.ia(0);this.UI=1;this.At=NaN}d.prototype.sort=function(b,a,c,f){if(32>c-a)f.hs(a,c,b);else{var k=!0;try{for(var e=Infinity,u=-Infinity,d=a;d<c;d++){var B=f.Qq(b.get(d));B<e&&(e=B);B>u&&(u=B)}if(this.reset(c-a,e,u,c-a)){for(d=a;d<c;d++){var g=b.get(d),B=f.Qq(g),t=this.LG(B);this.ag.set(t,this.ag.get(t)+1);this.ut.write(d-a,g)}var h=this.ag.get(0);this.ag.set(0,0);for(var d=1,l=this.ag.size;d<l;d++){var n=this.ag.get(d);this.ag.set(d,h);h+=n}for(d=
a;d<c;d++){var g=this.ut.read(d-a),B=f.Qq(g),t=this.LG(B),p=this.ag.get(t);b.set(p+a,g);this.ag.set(t,p+1)}k=!1}}catch(ha){this.ag.resize(0),this.ut.resize(0)}if(k)f.hs(a,c,b);else{d=c=0;for(l=this.ag.size;d<l;d++)k=c,c=this.ag.get(d),c>k&&f.hs(a+k,a+c,b);100<this.ag.size&&(this.ag.resize(0),this.ut.resize(0))}}};d.prototype.reset=function(b,a,c,f){if(2>b||c==a)return!1;b=Math.min(d.QV,b);this.ag.yb(b);this.ag.resize(b);this.ag.Zh(0,0,this.ag.size);this.UI=a;this.ut.resize(f);this.At=(c-a)/(b-1);
return!0};d.prototype.LG=function(b){return e.J.truncate((b-this.UI)/this.At)};d.QV=65536;return d}();e.Hu=d})(n||(n={}));(function(e){var d;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(d||(d={}));var g=function(){function a(){}a.Ev=function(c,b,f,k,d,g){var m=new a;m.un=new e.b;m.In=new e.b;m.Ow=new e.b;m.un.L(c);m.In.L(b);m.Ow.L(f);m.qp=k;m.Nh=d;m.Qh=g;return m};
a.pa=function(c,b,f,k){var m=new a;m.un=new e.b;m.In=new e.b;m.Ow=new e.b;m.un.L(c);m.In.L(b);m.Ow.$c();m.qp=4;m.Nh=f;m.Qh=k;return m};return a}(),b=function(){function a(a,c,b,f,k,e){this.Lw=null;this.Ca=0;this.jB=a;this.oJ=this.mJ=0;this.Qa=c;this.fk=b;this.Xk=f;this.tr=k;this.lc=e}a.prototype.next=function(){for(var a=new e.Wa;;){if(this.Ca==this.jB.D())return null;this.jB.Ae(this.Ca,a);this.Ca++;if(!a.u())break}var c=!1;null==this.Lw&&(this.mJ=a.Be(),this.oJ=a.nf(),this.Lw=f.buffer(a,this.Qa,
this.fk,this.Xk,this.tr,this.lc),c=!0);var b;this.Ca<this.jB.D()?(b=new e.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!c){var c=new e.Hd,k=a.Be()-this.mJ,a=a.nf()-this.oJ;c.Ag(k,a);b.Xc(c)}return b};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),a=function(){function a(a,c){this.$a=a;this.Ca=0;this.dr=c}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;this.Ca++;if(!a.Eo(c))for(var b=a.Ba(a.Gc(c)-1);this.Ca<a.aa();){var f=a.Ba(a.wa(this.Ca));
if(a.Eo(this.Ca))break;if(f!=b)break;b=a.Ba(a.Gc(this.Ca)-1);this.Ca++}if(1==this.Ca-c)return this.$a.xF(this.$a.Y,c,this.dr);b=new e.Ua(this.$a.Y.description);b.Ti(this.$a.Y,c,!0);for(c+=1;c<this.Ca;c++)b.Bs(this.$a.Y,c,0,a.ew(c),!1);return this.$a.xF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),c=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;a.Sm(this.Ca);
for(this.Ca++;this.Ca<a.aa()&&!(0<a.Sm(this.Ca));)this.Ca++;return 0==c&&this.Ca==a.aa()?this.$a.Wy(a,0,a.aa()):this.$a.Wy(a,c,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),f=function(){function f(a){this.Ft=this.Zw=this.Gt=this.Wd=null;this.te=[];this.lc=a;this.vb=this.xw=this.HV=this.Qa=this.ZA=this.Vt=this.ta=0;this.WA=this.Xk=-1;this.dr=!0}f.buffer=function(a,c,b,k,d,g){if(null==a)throw e.g.F();if(0>k)throw e.g.F();if(a.u())return new e.Ja(a.description);
var m=new e.h;a.ac(m);0<c&&m.O(c,c);g=new f(g);g.fk=b;g.Y=a;g.ta=e.na.be(b,m,!0);g.Vt=e.na.be(null,m,!0);g.Qa=c;g.HV=a.G();0>=d&&(d=96);g.vb=Math.abs(g.Qa);g.xw=0!=g.vb?1/g.vb:0;isNaN(k)||0==k?k=1E-5*g.vb:k>.5*g.vb&&(k=.5*g.vb);12>d&&(d=12);a=Math.abs(c)*(1-Math.cos(Math.PI/d));a>k?k=a:(a=Math.PI/Math.acos(1-k/Math.abs(c)),a<d-1&&(d=e.J.truncate(a),12>d&&(d=12,k=Math.abs(c)*(1-Math.cos(Math.PI/d)))));g.Xk=k;g.tr=d;g.ZA=Math.min(g.Vt,.25*k);return g.yF()};f.prototype.Rv=function(){if(null==this.Wd)this.Wd=
[];else if(0!==this.Wd.length)return;var a=this.CF(),a=e.J.truncate((a+3)/4),c=.5*Math.PI/a;this.WA=c;for(var b=0;b<4*a;b++)this.Wd.push(null);for(var f=Math.cos(c),c=Math.sin(c),k=e.b.pa(0,1),b=0;b<a;b++)this.Wd[b+0*a]=e.b.pa(k.y,-k.x),this.Wd[b+1*a]=e.b.pa(-k.x,-k.y),this.Wd[b+2*a]=e.b.pa(-k.y,k.x),this.Wd[b+3*a]=k,k=e.b.pa(k.x,k.y),k.qu(f,c)};f.prototype.yF=function(){var a=this.Y.G();if(e.T.Oc(a))return a=new e.Ua(this.Y.description),a.dc(this.Y,!0),this.Y=a,this.yF();if(this.Qa<=this.ta)if(e.T.OU(a)){if(0>=
this.Qa&&(a=new e.h,this.Y.s(a),a.N()<=2*-this.Qa||a.fa()<=2*this.Qa))return new e.Ja(this.Y.description)}else return new e.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.SP();case 550:return this.RP();case 1607:return this.UP();case 1736:return this.TP();case 197:return this.PP();default:throw e.g.za();}};f.prototype.UP=function(){if(this.QH(this.Y)){var c=new e.Wa;this.Y.Ae(0,c);var b=new e.h;this.Y.s(b);c.rb(b.Wf());return this.rv(c)}this.Y=this.OW(this.Y);c=new a(this,this.dr);
return e.ei.local().V(c,this.fk,this.lc).next()};f.prototype.TP=function(){if(0==this.Qa)return this.Y;var a=e.Km.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.lc);if(0>this.Qa){var b=this.Y,b=this.Wy(b,0,b.aa());return a.V(b,this.fk,!1,this.lc)}if(this.QH(this.Y))return a=new e.Wa,this.Y.Ae(0,a),b=new e.h,this.Y.s(b),a.rb(b.Wf()),this.rv(a);a=new c(this);return e.ei.local().V(a,this.fk,this.lc).next()};f.prototype.Wy=function(a,c,b){for(var k=new e.Ja(a.description);c<b;c++)if(!(1>a.La(c))){var m=
a.Sm(c),u=new e.h;a.jk(c,u);if(0<this.Qa)if(0<m)if(this.RH(a,c))m=new e.Wa,a.Ae(a.wa(c),m),m.rb(u.Wf()),this.iv(k,m);else{var d=m=new e.Ua(a.description),d=e.Ju.VH(this.Y,c)||2==this.to(this.Y,c,d,!0,1)?this.wF(a,c):this.so(m);k.add(d,!1)}else{if(!(u.N()+this.ta<=2*this.vb||u.fa()+this.ta<=2*this.vb||(d=m=new e.Ua(a.description),this.to(this.Y,c,d,!0,1),m.u()))){var A=new e.h;A.I(u);A.O(this.vb,this.vb);d.oq(A);d=this.so(m);u=1;for(m=d.aa();u<m;u++)k.Ti(d,u,!0)}}else if(0<m){if(!(u.N()+this.ta<=2*
this.vb||u.fa()+this.ta<=2*this.vb||(d=m=new e.Ua(a.description),this.to(this.Y,c,d,!0,-1),m.u())))for(A=new e.h,d.ac(A),A.O(this.vb,this.vb),d.oq(A),d=this.so(m),u=1,m=d.aa();u<m;u++)k.Ti(d,u,!0)}else for(d=m=new e.Ua(a.description),this.to(this.Y,c,d,!0,-1),d=this.so(m),u=0,m=d.aa();u<m;u++)k.Ti(d,u,!0)}if(0<this.Qa)return 1<k.aa()?k=this.so(k):f.We(k);a=new e.h;k.ac(a);if(k.u())return f.We(k);a.O(this.vb,this.vb);k.oq(a);k=this.so(k);a=new e.Ja(k.description);u=1;for(m=k.aa();u<m;u++)a.Ti(k,u,
!1);return f.We(a)};f.prototype.SP=function(){return this.rv(this.Y)};f.prototype.rv=function(a){var c=new e.Ja(this.Y.description);this.iv(c,a);return this.nY(c)};f.prototype.RP=function(){var a=new b(this.Y,this.Qa,this.fk,this.Xk,this.tr,this.lc);return e.ei.local().V(a,this.fk,this.lc).next()};f.prototype.PP=function(){var a=new e.Ja(this.Y.description);if(0>=this.Qa){if(0==this.Qa)a.jd(this.Y,!1);else{var c=new e.ci;this.Y.Qn(c);c.O(this.Qa,this.Qa);a.jd(c,!1)}return a}a.jd(this.Y,!1);this.Y=
a;return this.wF(a,0)};f.prototype.wF=function(a,c){this.Rv();var b=new e.Ja(a.description),k=new e.b,m=new e.b,u=new e.b,d=new e.b,g=new e.b,t=new e.b,h=new e.b,l=new e.b,n=a.La(c),p=a.wa(c),r=0;for(c=a.La(c);r<c;r++){a.w(p+r,m);a.w(p+(r+1)%n,d);a.w(p+(r+2)%n,t);h.zc(d,m);if(0==h.length())throw e.g.za();h.uw();h.normalize();h.scale(this.vb);k.add(h,m);u.add(h,d);0==r?b.zu(k):b.aj(k);b.aj(u);l.zc(t,d);if(0==l.length())throw e.g.za();l.uw();l.normalize();l.scale(this.vb);g.add(l,d);this.XE(b,d,u,g,
!1)}return f.We(b)};f.prototype.xF=function(a,c,b){this.Rv();if(1>a.La(c))return null;if(this.RH(a,c)&&0<this.Qa){b=new e.Wa;a.Ae(a.wa(c),b);var f=new e.h;a.jk(c,f);b.rb(f.Wf());return this.rv(b)}f=new e.Ua(a.description);if(a.Eo(c))this.to(a,c,f,b,1),this.to(a,c,f,b,-1);else{var k=new e.Ua(a.description);k.Ti(a,c,!1);k.Bs(a,c,0,a.ew(c),!1);this.to(k,0,f,b,1)}return this.so(f)};f.prototype.Pr=function(){this.kx++};f.prototype.so=function(a){return e.Dg.ol(a,this.Vt,!0,!0,this.lc)};f.prototype.CF=
function(){if(0==this.Xk)return this.tr;var a=1-this.Xk*Math.abs(this.xw),c;-1>a?c=4:c=2*Math.PI/Math.acos(a)+.5;4>c?c=4:c>this.tr&&(c=this.tr);return e.J.truncate(c)};f.prototype.XE=function(a,c,b,f,k){this.Rv();var m=new e.b;m.zc(b,c);m.scale(this.xw);var u=new e.b;u.zc(f,c);u.scale(this.xw);m=Math.atan2(m.y,m.x)/this.WA;0>m&&(m=this.Wd.length+m);m=this.Wd.length-m;u=Math.atan2(u.y,u.x)/this.WA;0>u&&(u=this.Wd.length+u);u=this.Wd.length-u;u<m&&(u+=this.Wd.length);var d=e.J.truncate(u),u=e.J.truncate(Math.ceil(m)),
m=new e.b;m.L(this.Wd[u%this.Wd.length]);m.ru(this.vb,c);var A=10*this.ta;m.sub(b);m.length()<A&&(u+=1);m.L(this.Wd[d%this.Wd.length]);m.ru(this.vb,c);m.sub(f);m.length()<A&&--d;b=d-u;b++;d=0;for(u%=this.Wd.length;d<b;d++,u=(u+1)%this.Wd.length)m.L(this.Wd[u]),m.ru(this.vb,c),a.aj(m),this.Pr();k&&a.aj(f)};f.prototype.to=function(a,c,b,f,k){var m=new e.fd,u=m.kP(a,c);m.zq(this.ZA,!1,!1);if(2>m.D(u)){if(0>k)return 1;k=a;m=new e.Wa;k.Ae(k.wa(c),m);this.iv(b,m);return 1}var d=m.Ba(m.cb(m.Pb(u))),A=new e.Hd;
A.Ag(-d.x,-d.y);m.Xc(A);if(f&&(this.oS(m,u,k),2>m.D(u))){if(0>k)return 1;k=a;m=new e.Wa;k.Ae(k.wa(c),m);this.iv(b,m);return 1}this.te.length=0;var B=m.Pb(u);c=m.cb(B);var t=1==k?m.Ra(c):m.U(c);a=1==k?m.U(c):m.Ra(c);var P=!0;f=new e.b;for(var u=new e.b,h=new e.b,l=new e.b,n=new e.b,p=new e.b,r=new e.b,q=new e.b,v=new e.b,G=new e.b,x=this.vb,B=m.La(B),w=0;w<B;w++)m.w(a,u),P&&(m.w(c,f),m.w(t,h),q.zc(f,h),q.normalize(),G.aI(q),G.scale(x),l.add(G,f)),r.zc(u,f),r.normalize(),v.aI(r),v.scale(x),n.add(f,
v),t=q.Ui(r),P=q.oi(r),0>t||0>P&&0==t?this.te.push(g.Ev(l,n,f,2,this.te.length+1,this.te.length-1)):l.ub(n)||(this.te.push(g.pa(l,f,this.te.length+1,this.te.length-1,"dummy")),this.te.push(g.pa(f,n,this.te.length+1,this.te.length-1,"dummy"))),p.add(u,v),this.te.push(g.Ev(n,p,f,1,this.te.length+1,this.te.length-1)),l.L(p),G.L(v),h.L(f),f.L(u),q.L(r),t=c,c=a,P=!1,a=1==k?m.U(c):m.Ra(c);this.te[this.te.length-1].Nh=0;this.te[0].Qh=this.te.length-1;this.QW(b);A.Ag(d.x,d.y);b.kF(A,b.aa()-1);return 1};f.prototype.QW=
function(a){for(var c=this.CQ(),b=!0,f=c+1,k=c;f!=c;k=f){var e=this.te[k],f=-1!=e.Nh?e.Nh:(k+1)%this.te.length;0!=e.qp&&(b&&a.zu(e.un),2==e.qp?this.XE(a,e.Ow,e.un,e.In,!0):a.aj(e.In),b=!1)}};f.prototype.CQ=function(){null==this.Ft&&(this.Ft=[null,null,null,null,null,null,null,null,null]);for(var a=0,c=0,b=this.te.length;c<b;){var f=this.te[c];if(0!=(f.qp&3)){a=c;break}c=f.Nh}b=a+1;for(c=a;b!=a;c=b){for(var f=this.te[c],b=f.Nh,k=1,d=null;b!=c;){d=this.te[b];if(0!=(d.qp&3))break;b=d.Nh;k++}1!=k&&1==
(f.qp&d.qp)&&(null==this.Gt&&(this.Gt=new e.Hb,this.Zw=new e.Hb),this.Gt.Mc(f.un),this.Gt.Zc(f.In),this.Zw.Mc(d.un),this.Zw.Zc(d.In),1==this.Gt.Ma(this.Zw,this.Ft,null,null,this.Vt)&&(f.In.L(this.Ft[0]),d.un.L(this.Ft[0]),f.Nh=b,d.Qh=c))}return a};f.prototype.sw=function(a,c,b){var f=new e.b;f.zc(b,a);b=f.length();b=this.vb*this.vb-b*b*.25;if(0<b){b=Math.sqrt(b);f.normalize();f.Ur();var k=new e.b;k.zc(c,a);if(k.oi(f)+b>=this.vb)return!0}return!1};f.prototype.oS=function(a,c,b){for(var f=0;1>f;f++){var k=
!1,m=a.Pb(c),u=a.La(m);if(0==u)break;var d=u;if(3>u)break;!a.Qb(m)&&(d=u-1);for(var m=a.cb(m),u=0<b?a.Ra(m):a.U(m),A=0<b?a.U(m):a.Ra(m),g=u,t=!0,h=new e.b,l=new e.b,n=new e.b,p=new e.b,r=new e.b,q=e.b.pa(0,0),v=new e.b,G=new e.b,x=new e.b,w=new e.b,y=this.vb,z=0,D=0;D<d;){a.w(A,l);t&&(a.w(m,h),a.w(u,n),g=u);G.zc(h,n);G.normalize();v.zc(l,h);v.normalize();if(g==A)break;var C=G.Ui(v),E=G.oi(v),J=!0;0>C||0>E&&0==C||!this.sw(n,h,l)||(q.L(l),J=!1,++z,k=!0);if(J){if(0<z)for(;;){C=0<b?a.Ra(g):a.U(g);if(C==
m)break;a.w(C,p);if(this.sw(p,n,q))n.L(p),g=C,J=!1,++z;else{C!=A&&this.sw(p,n,l)&&this.sw(p,h,l)&&(n.L(p),g=C,J=!1,++z);break}}if(!J)continue;if(0<z){g=0<b?a.Ra(u):a.U(u);for(t=1;t<z;t++)J=0<b?a.Ra(g):a.U(g),a.ud(g,!0),g=J;x.zc(h,n);z=x.length();z=y*y-z*z*.25;z=Math.sqrt(z);y-z>.5*this.Xk?(r.add(n,h),r.scale(.5),x.normalize(),x.Ur(),w.L(x),w.scale(y-z),r.add(w),a.Qf(u,r)):a.ud(u,!0);z=0}n.L(h);g=m}h.L(l);u=m;m=A;A=0<b?a.U(m):a.Ra(m);D++;t=!1}if(0<z){g=0<b?a.Ra(u):a.U(u);for(t=1;t<z;t++)J=0<b?a.Ra(g):
a.U(g),a.ud(g,!0),g=J;r.add(n,h);r.scale(.5);x.zc(h,n);z=x.length();z=y*y-z*z*.25;z=Math.sqrt(z);x.normalize();x.Ur();w.L(x);w.scale(y-z);r.add(w);a.Qf(u,r)}a.zq(this.ZA,!1,!1);if(!k)break}};f.prototype.RH=function(a,c){if(1==a.La(c))return!0;var b=new e.h;a.jk(c,b);return Math.max(b.N(),b.fa())<.5*this.Xk?!0:!1};f.prototype.QH=function(a){var c=new e.h;a.s(c);return Math.max(c.N(),c.fa())<.5*this.Xk?!0:!1};f.prototype.OW=function(a){a=e.GD.local().V(a,.25*this.Xk,!1,this.lc);for(var c=0,b=0,f=a.aa();b<
f;b++)c=Math.max(a.La(b),c);if(32>c)return this.dr=!1,a;this.dr=!0;return e.Dg.ol(a,this.Vt,!1,!0,this.lc)};f.prototype.iv=function(a,c){c=c.w();if(null!=this.Wd&&0!==this.Wd.length){var b=new e.b;b.L(this.Wd[0]);b.ru(this.vb,c);a.zu(b);for(var f=1,k=this.Wd.length;f<k;f++)b.L(this.Wd[f]),b.ru(this.vb,c),a.aj(b)}else for(var f=this.CF(),b=e.J.truncate((f+3)/4),f=.5*Math.PI/b,k=Math.cos(f),m=Math.sin(f),u=new e.b,d=3;0<=d;d--){u.ka(0,this.vb);switch(d){case 0:for(f=0;f<b;f++)a.Xj(u.x+c.x,u.y+c.y),
u.qu(k,m);break;case 1:for(f=0;f<b;f++)a.Xj(-u.y+c.x,u.x+c.y),u.qu(k,m);break;case 2:for(f=0;f<b;f++)a.Xj(-u.x+c.x,-u.y+c.y),u.qu(k,m);break;default:for(a.$x(u.y+c.x,-u.x+c.y),f=1;f<b;f++)u.qu(k,m),a.Xj(u.y+c.x,-u.x+c.y)}this.Pr()}};f.We=function(a){a.Zg(1,0);return a};f.prototype.nY=function(a){a.Zg(2,this.ta);a.Al();return a};return f}();e.PL=f})(n||(n={}));(function(e){var d=function(){function d(b){this.Ha=b;this.a=new e.fd;this.od=new e.ia(0)}d.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<
c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};d.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,k=new e.h,m=new e.b,u=new e.b,d=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0];new e.Cg;var t=
new e.Hb,h=new e.ia(0);h.yb(Math.min(100,b.D()));for(var l=!1,n=0;!l&&4>n;n++){var p=!1,r=0!=(n&1),q=0;switch(n){case 0:q=this.Ha.o;p=a.o<=q&&a.v>=q;break;case 1:q=this.Ha.A;p=a.A<=q&&a.B>=q;break;case 2:q=this.Ha.v;p=a.o<=q&&a.v>=q;break;case 3:q=this.Ha.B,p=a.A<=q&&a.B>=q}if(p)for(l=!0,p=this.a.Pb(this.Y);-1!=p;){var v=-1,G=-1,x=this.a.cb(p),w=x;do{var y=this.a.ic(w);null==y&&(y=t,this.a.w(w,m),y.Mc(m),this.a.w(this.a.U(w),u),y.Zc(u));y.s(f);var z=this.ji(f,n,q),D=0,C=-1;if(-1==z){y=y.Tq(r,q,d,
g);0<y?D=this.a.zm(w,g,y):D=0;for(var D=D+1,J=w,E=this.a.U(J),y=0;y<D;y++){this.a.w(J,m);this.a.w(E,u);C=this.a.ic(J);null==C&&(C=t,C.Mc(m),C.Zc(u));C.s(k);C=this.ji(k,n,q);if(-1==C){if(r)C=Math.abs(m.y-q),F=Math.abs(u.y-q),C<F?(m.y=q,this.a.Qf(J,m)):(u.y=q,this.a.Qf(E,u));else{var C=Math.abs(m.x-q),F=Math.abs(u.x-q);C<F?(m.x=q,this.a.Qf(J,m)):(u.x=q,this.a.Qf(E,u))}C=this.a.ic(J);null==C&&(C=t,C.Mc(m),C.Zc(u));C.s(k);C=this.ji(k,n,q)}F=v;v=C;-1==G&&(G=v);if(0!=F||1!=v)1==F&&0==v||0!=F||0!=v||h.add(J);
1==v&&(l=!1);C=J=E;E=this.a.U(E)}}if(0==D){F=v;v=z;-1==G&&(G=v);if(0!=F||1!=v)1==F&&0==v||0!=F||0!=v||h.add(w);1==v&&(l=!1);C=this.a.U(w)}w=C}while(w!=x);0==G&&0==v&&h.add(x);y=0;for(v=h.size;y<v;y++)G=h.get(y),this.a.ud(G,!1);h.clear(!1);p=3>this.a.La(p)?this.a.Rr(p):this.a.Sb(p)}}if(l)return b.Ka();this.fC();0<c&&this.vz(c);return this.a.Se(this.Y)};d.prototype.jz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0],m=new e.Cg,u=b,d=new e.h;b.ac(d);for(var g=0;4>g;g++){var t=
!1,h=0!=(g&1),l=0;switch(g){case 0:l=this.Ha.o;t=d.o<=l&&d.v>=l;break;case 1:l=this.Ha.A;t=d.A<=l&&d.B>=l;break;case 2:l=this.Ha.v;t=d.o<=l&&d.v>=l;break;case 3:l=this.Ha.B,t=d.A<=l&&d.B>=l}if(t){t=u;u=b.Ka();t=t.Fa();t.yj();for(var n,p=new e.b;t.Ya();)for(var q,r=!0;t.Ea();){var v=t.ba();v.s(a);var G=this.ji(a,g,l);if(-1==G){if(G=v.Tq(h,l,f,k),0<G){var x=0;n=v.ec();for(var w=0;w<=G;w++)if(q=w<G?k[w]:1,x!=q){v.yh(x,q,m);var y=m.get();y.Mc(n);w<G&&(h?(p.x=f[w],p.y=l):(p.x=l,p.y=f[w]),y.Zc(p));y.s(c);
var z=this.ji(c,g,l);if(-1==z){n=y.ec();x=y.Cc();if(h)z=Math.abs(n.y-l),C=Math.abs(x.y-l),z<C?(n.y=l,y.Mc(n)):(x.y=l,y.Zc(x));else{var z=Math.abs(n.x-l),C=Math.abs(x.x-l);z<C?(n.x=l,y.Mc(n)):(x.x=l,y.Zc(x))}y.s(c);z=this.ji(c,g,l)}n=y.Cc();x=q;q=z;1==q?(u.dc(y,r),r=!1):r=!0}}}else q=G,1==q?(u.dc(v,r),r=!1):r=!0}}}return u};d.prototype.fC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();
for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,k=this.a.La(a);f<k;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Cz()};d.prototype.vz=function(b){for(var a=new e.b,c=new e.b,f=e.J.gf(2048,0),k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k)){var m=this.a.cb(k),u=m;do{var d=this.a.U(u);
this.a.w(u,a);var g=-1;a.x==this.Ha.o?(this.a.w(d,c),c.x==this.Ha.o&&(g=1)):a.x==this.Ha.v&&(this.a.w(d,c),c.x==this.Ha.v&&(g=1));a.y==this.Ha.A?(this.a.w(d,c),c.y==this.Ha.A&&(g=0)):a.y==this.Ha.B&&(this.a.w(d,c),c.y==this.Ha.B&&(g=0));if(-1!=g&&(g=e.b.Cb(a,c),g=e.J.truncate(Math.min(Math.ceil(g/b),2048)),!(1>=g))){for(var t=1;t<g;t++)f[t-1]=1*t/g;this.a.zm(u,f,g-1)}u=d}while(u!=m)}};d.prototype.Am=function(b,a){var c=this.a.Vd(),f=new e.b,k=new e.ia(0);k.yb(100);for(var m=this.a.Pb(this.Y);-1!=
m;m=this.a.Sb(m))for(var u=this.a.cb(m),d=0,g=this.a.La(m);d<g;d++){var t=this.a.U(u);this.a.w(u,f);if(b?f.y==a:f.x==a)if(this.a.w(t,f),b?f.y==a:f.x==a)1!=this.a.Sa(u,c)&&(k.add(u),this.a.Va(u,c,1)),1!=this.a.Sa(t,c)&&(k.add(t),this.a.Va(t,c,1));u=t}this.a.le(c);if(!(3>k.size)){var h=this;k.Gd(0,k.size,function(a,c){return h.ki(a,c)});c=new e.b;m=new e.b;u=new e.b;m.$c();for(var l=-1,d=new e.ia(0),g=new e.ia(0),t=this.a.Vd(),n=this.a.Vd(),p=0,q=k.size;p<q;p++){var r=k.get(p);this.a.w(r,f);if(!f.ub(m)){if(-1!=
l){for(var v=l;v<p;v++){var l=k.get(v),G=this.a.U(l),r=this.a.Ra(l),x=!1;0>this.ki(l,G)&&(this.a.w(G,c),b?c.y==a:c.x==a)&&(d.add(l),x=!0,this.a.Va(l,n,1));0>this.ki(l,r)&&(this.a.w(r,c),b?c.y==a:c.x==a)&&(x||d.add(l),this.a.Va(l,t,1))}v=0;for(x=d.size;v<x;v++){l=d.get(v);r=this.a.Sa(l,t);G=this.a.Sa(l,n);if(1==r){r=this.a.Ra(l);this.a.w(r,u);var w=[0];w[0]=0;if(!u.ub(f)){var y=e.b.Cb(m,u);w[0]=e.b.Cb(u,f)/y;0==w[0]?w[0]=2.220446049250313E-16:1==w[0]&&(w[0]=.9999999999999998);this.a.zm(r,w,1);r=this.a.Ra(l);
this.a.Qf(r,f);g.add(r);this.a.Va(r,t,1);this.a.Va(r,n,-1)}}1==G&&(G=this.a.U(l),this.a.w(G,u),w=[0],w[0]=0,u.ub(f)||(y=e.b.Cb(m,u),w[0]=e.b.Cb(m,f)/y,0==w[0]?w[0]=2.220446049250313E-16:1==w[0]&&(w[0]=.9999999999999998),this.a.zm(l,w,1),r=this.a.U(l),this.a.Qf(r,f),g.add(r),this.a.Va(r,t,-1),this.a.Va(r,n,1)))}l=d;d=g;g=l;g.clear(!1)}l=p;m.L(f)}}this.a.le(t);this.a.le(n)}};d.prototype.sm=function(b,a){var c=new e.b,f=new e.ia(0);f.yb(100);for(var k=this.a.Vd(),m=0,u=this.od.size;m<u;m++){var d=this.od.get(m);
if(-1!=d){var g=this.a.U(d);this.a.w(d,c);if(b?c.y==a:c.x==a)if(this.a.w(g,c),b?c.y==a:c.x==a)-2!=this.a.Sa(d,k)&&(f.add(d),this.a.Va(d,k,-2)),-2!=this.a.Sa(g,k)&&(f.add(g),this.a.Va(g,k,-2))}}if(0!=f.size){var t=this;f.Gd(0,f.size,function(a,c){return t.ki(a,c)});m=0;for(u=f.size;m<u;m++){var h=f.get(m);this.a.Va(h,k,m)}d=new e.b;g=new e.b;g.$c();for(var l=-1,m=0,u=f.size;m<u;m++)if(h=f.get(m),-1!=h&&(this.a.w(h,c),!c.ub(g))){if(-1!=l)for(;;){for(var h=!1,n=1<m-l?m-1:m,p=l;p<n;p++){var r=f.get(p);
if(-1!=r){var q=-1,v=this.a.U(r);0>this.ki(r,v)&&(this.a.w(v,d),b?d.y==a:d.x==a)&&(q=v);var v=-1,G=this.a.Ra(r);0>this.ki(r,G)&&(this.a.w(G,d),b?d.y==a:d.x==a)&&(v=G);if(-1!=q&&-1!=v)this.ii(r,f,k),this.a.ud(r,!1),this.ii(q,f,k),this.a.ud(q,!1),h=!0;else if(-1!=q||-1!=v){for(G=p+1;G<m;G++){var x=f.get(G);if(-1!=x){var w=this.a.U(x),y=-1;0>this.ki(x,w)&&(this.a.w(w,d),b?d.y==a:d.x==a)&&(y=w);var w=this.a.Ra(x),z=-1;0>this.ki(x,w)&&(this.a.w(w,d),b?d.y==a:d.x==a)&&(z=w);if(-1!=y&&-1!=z){this.ii(x,f,
k);this.a.ud(x,!1);this.ii(y,f,k);this.a.ud(y,!1);h=!0;break}if(-1!=q&&-1!=z){this.ou(f,r,q,x,z,k);h=!0;break}else if(-1!=v&&-1!=y){this.ou(f,x,y,r,v,k);h=!0;break}}}if(h)break}}}if(!h)break}l=m;g.L(c)}}this.a.le(k)};d.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};d.prototype.ou=function(b,a,c,f,k,e){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(c,k);this.a.Kc(k,c);this.ii(f,b,
e);this.a.Mi(f,!1);this.ii(k,b,e);this.a.Mi(k,!0)};d.prototype.Cz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);-1!=c&&this.a.Aj(c,-1)}for(var f=0,k=0,e=this.a.Pb(this.Y);-1!=e;){var u=this.a.cb(e);if(-1==u||e!=this.a.ld(u)){var d=e,e=this.a.Sb(e);this.a.jg(d,-1);this.a.Sr(d)}else{c=u;d=0;do this.a.Aj(c,e),d++,c=this.a.U(c);while(c!=u);2>=d?(c=this.a.Sa(u,this.Ki),this.od.set(c,-1),u=this.a.ud(u,!1),2==d&&(c=this.a.Sa(u,this.Ki),this.od.set(c,-1),this.a.ud(u,!1)),d=e,e=this.a.Sb(e),
this.a.jg(d,-1),this.a.Sr(d)):(this.a.Np(e,!1),this.a.sh(e,this.a.Ra(u)),this.a.nk(e,d),k+=d,f++,e=this.a.Sb(e))}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(e=this.a.ld(c),-1==e)){e=this.a.Yf(this.Y,-1);d=0;u=c;do this.a.Aj(c,e),d++,c=this.a.U(c);while(c!=u);2>=d?(c=this.a.Sa(u,this.Ki),this.od.set(c,-1),u=this.a.ud(u,!1),2==d&&(c=this.a.Sa(u,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(u,!1)),d=e,this.a.jg(d,-1),this.a.Sr(d)):(this.a.$n(e,!0),this.a.nk(e,d),this.a.jg(e,u),this.a.sh(e,
this.a.Ra(u)),this.a.Np(e,!1),k+=d,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,k);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.zC(b)};d.Hm=function(b,a,c,f){return(new d(a)).hz(b,c,f)};d.clip=function(b,a,c,f){if(b.u())return b;if(a.u())return b.Ka();var k=b.G();if(33==k)return c=b.w(),a.contains(c)?b:b.Ka();if(197==k)return c=new e.h,b.s(c),c.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(c),a):b.Ka();var m=new e.h;b.ac(m);if(a.contains(m))return b;if(!a.Yb(m))return b.Ka();m=b.ob;if(null!=m&&
(m=m.Hi,null!=m)){m=m.Rn(a);if(1==m){if(1736!=k)throw e.g.za();b=new e.Ja(b.description);b.oq(a);return b}if(0==m)return b.Ka()}switch(k){case 550:f=null;for(var k=b.D(),m=b.Pa(0),u=0,A=0;A<k;A++)c=new e.b,m.fc(2*A,c),a.contains(c)||(0==u&&(f=b.Ka()),u<A&&f.Id(b,u,A),u=A+1);0<u&&f.Id(b,u,k);return 0==u?b:f;case 1736:case 1607:return d.Hm(b,a,c,f);default:throw e.g.za();}};d.prototype.ki=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.ne=d})(n||
(n={}));(function(e){var d=function(){function d(b,a){this.Ha=b;this.a=new e.fd;this.od=new e.ia(0);this.ke=a}d.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};d.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==
this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,k=new e.h,m=new e.b,u=new e.b,d=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],t=new e.Hb,h=new e.ia(0);h.yb(256);for(var l=!1,n=0;!l&&4>n;n++){var p=!1,r=0!=(n&1),q=0;switch(n){case 0:q=this.Ha.o;p=a.o<=q&&a.v>=q;break;case 1:q=this.Ha.A;p=a.A<=q&&a.B>=q;break;case 2:q=this.Ha.v;p=a.o<=q&&a.v>=q;break;case 3:q=this.Ha.B,p=a.A<=q&&a.B>=q}if(p)for(l=!0,p=this.a.Pb(this.Y);-1!=p;){var v=!0,G=-1,x=-1,w=this.a.cb(p),y=w;do{var z=
this.a.ic(y);null==z&&(z=t,this.a.w(y,m),z.Mc(m),this.a.w(this.a.U(y),u),z.Zc(u));z.s(f);var C=this.ji(f,n,q),D=0,J=-1;if(-1==C){z=z.Tq(r,q,d,g);0<z?D=this.a.EY(y,g,z):D=0;for(var D=D+1,E=y,F=this.a.U(E),z=0;z<D;z++){this.a.w(E,m);this.a.w(F,u);J=this.a.ic(E);null==J&&(J=t,J.Mc(m),J.Zc(u));J.s(k);J=this.ji(k,n,q);if(-1==J){if(r)J=Math.abs(m.y-q),L=Math.abs(u.y-q),J<L?(m.y=q,this.a.Qf(E,m)):(u.y=q,this.a.Qf(F,u));else{var J=Math.abs(m.x-q),L=Math.abs(u.x-q);J<L?(m.x=q,this.a.Qf(E,m)):(u.x=q,this.a.Qf(F,
u))}J=this.a.ic(E);null==J&&(J=t,J.Mc(m),J.Zc(u));J.s(k);J=this.ji(k,n,q)}L=G;G=J;-1==x&&(x=G);if(0!=L||1!=G)1==L&&0==G||0!=L||0!=G||h.add(E);1==G&&(v=l=!1);J=E=F;F=this.a.U(F)}}if(0==D){L=G;G=C;-1==x&&(x=G);if(0!=L||1!=G)1==L&&0==G||0!=L||0!=G||h.add(y);1==G&&(v=l=!1);J=this.a.U(y)}y=J;if(256<=h.size){z=1;for(C=h.size-1;z<C;z++)D=h.get(z),this.a.ud(D,!1);h.set(1,h.Fc());h.yf(2)}}while(y!=w);if(!v)for(0==x&&0==G&&h.add(w),z=0,C=h.size;z<C;z++)D=h.get(z),this.a.ud(D,!1);h.clear(!1);p=v||0==this.a.La(p)?
this.a.Rr(p):this.a.Sb(p)}}if(l)return b.Ka();this.fC();0<c&&this.vz(c);return this.a.Se(this.Y)};d.prototype.jz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0],m=new e.Cg,u=b,d=new e.h;b.ac(d);for(var g=new e.b,t=new e.b,h=null,l=null,n=0;4>n;n++){var p=!1,q=0!=(n&1),r=0;switch(n){case 0:r=this.Ha.o;p=d.o<=r&&d.v>=r;break;case 1:r=this.Ha.A;p=d.A<=r&&d.B>=r;break;case 2:r=this.Ha.v;p=d.o<=r&&d.v>=r;break;case 3:r=this.Ha.B,p=d.A<=r&&d.B>=r}if(p)for(p=u,u=b.Ka(),p=
p.Fa(),p.yj();p.Ya();)for(var v,G=!0;p.Ea();){var x=p.ba();x.s(a);var w=this.ji(a,n,r);if(-1==w){if(w=x.Tq(q,r,f,k),0<w){var y=0;x.Oq(g);for(var z=0;z<=w;z++)if(v=z<w?k[z]:1,y!=v){x.yh(y,v,m);var C=m.get();C.Mc(g);z<w&&(q?(t.x=f[z],t.y=r):(t.x=r,t.y=f[z]),C.Zc(t));C.s(c);var D=this.ji(c,n,r);-1==D&&(null==h&&(h=new e.b),null==l&&(l=new e.b),C.Oq(h),C.Ps(l),q?(y=Math.abs(h.y-r),D=Math.abs(l.y-r),y<D?(h.y=r,C.Mc(h)):(l.y=r,C.Zc(l))):(y=Math.abs(h.x-r),D=Math.abs(l.x-r),y<D?(h.x=r,C.Mc(h)):(l.x=r,C.Zc(l))),
C.s(c),D=this.ji(c,n,r));C.Ps(g);y=v;v=D;1==v?(u.dc(C,G),G=!1):G=!0}}}else v=w,1==v?(u.dc(x,G),G=!1):G=!0}}return u};d.prototype.fC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,k=this.a.La(a);f<k;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,
this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Cz()};d.prototype.vz=function(b){for(var a=new e.b,c=new e.b,f=null,k=null,m=e.J.gf(2048,0),u=this.a.Pb(this.Y);-1!=u;u=this.a.Sb(u)){var d=this.a.cb(u),g=d;do{var t=this.a.U(g);this.a.w(g,a);var h=-1;a.x==this.Ha.o?(this.a.w(t,c),c.x==this.Ha.o&&(h=1)):a.x==this.Ha.v&&(this.a.w(t,c),c.x==this.Ha.v&&(h=1));a.y==this.Ha.A?(this.a.w(t,c),c.y==this.Ha.A&&(h=0)):a.y==this.Ha.B&&
(this.a.w(t,c),c.y==this.Ha.B&&(h=0));if(-1!=h){null==f&&(f=new e.b);null==k&&(k=new e.b);f.L(a);k.ka(0,0);if(0==h){var l=a.x-this.Ha.o;k.x=e.Ub.sign(c.x-a.x);f.x=b*e.Ub.Fl(Math.floor(Math.abs(l/b)),l)+this.Ha.o;0>f.x&&(f.x+=b)}else l=a.y-this.Ha.A,k.y=e.Ub.sign(c.y-a.y),f.y=b*e.Ub.Fl(Math.floor(Math.abs(l/b)),l)+this.Ha.A,0>f.y&&(f.y+=b);var l=0!=h?c.y-a.y:c.x-a.x,n=Math.abs(l);if(65536<n/b)throw e.g.X("internal error");if(0<n){n=e.J.truncate(n/b)+2;m.length<n&&(m=e.J.gf(n));for(var p=n=0;;p++){var r=
new e.b;r.x=f.x+k.x*p*b;r.y=f.y+k.y*p*b;r=(0!=h?r.y-a.y:r.x-a.x)/l;if(1<=r)break;0>=r||(m[n]=r,n++)}0!=n&&this.a.zm(g,m,n)}}g=t}while(g!=d)}};d.prototype.Am=function(b,a){for(var c=-1,f=new e.b,k=null,m=this.a.Pb(this.Y);-1!=m;m=this.a.Sb(m))for(var u=this.a.cb(m),d=0,g=this.a.La(m);d<g;d++){var t=this.a.U(u);this.a.w(u,f);if(b?f.y==a:f.x==a)if(this.a.w(t,f),b?f.y==a:f.x==a)-1==c&&(c=this.a.Vd()),null==k&&(k=new e.ia(0),k.yb(100)),1!=this.a.Sa(u,c)&&(k.add(u),this.a.Va(u,c,1)),1!=this.a.Sa(t,c)&&
(k.add(t),this.a.Va(t,c,1));u=t}-1!=c&&this.a.le(c);if(!(null==k||3>k.size)){var h=this;k.Gd(0,k.size,function(a,c){return h.ki(a,c)});c=new e.b;m=new e.b;u=new e.b;m.$c();for(var l=-1,d=new e.ia(0),g=new e.ia(0),t=null,n=this.a.Vd(),p=this.a.Vd(),r=0,q=k.size;r<q;r++){var v=k.get(r);this.a.w(v,f);if(!f.ub(m)){if(-1!=l){for(var G=l;G<r;G++){var l=k.get(G),x=this.a.U(l),v=this.a.Ra(l),w=!1;this.a.w(x,c);0>m.compare(c)&&(b?c.y==a:c.x==a)&&(d.add(l),w=!0,this.a.Va(l,p,1));this.a.w(v,c);0>m.compare(c)&&
(b?c.y==a:c.x==a)&&(w||d.add(l),this.a.Va(l,n,1))}G=0;for(w=d.size;G<w;G++){l=d.get(G);v=this.a.Sa(l,n);x=this.a.Sa(l,p);if(1==v&&(v=this.a.Ra(l),this.a.w(v,u),!u.ub(f))){null==t&&(t=[]);var y=e.b.Cb(m,u);t[0]=e.b.Cb(u,f)/y;0==t[0]?t[0]=2.220446049250313E-16:1==t[0]&&(t[0]=.9999999999999998);this.a.zm(v,t,1);v=this.a.Ra(l);this.a.Qf(v,f);g.add(v);this.a.Va(v,n,1);this.a.Va(v,p,-1)}1==x&&(x=this.a.U(l),this.a.w(x,u),u.ub(f)||(null==t&&(t=[]),y=e.b.Cb(m,u),t[0]=e.b.Cb(m,f)/y,0==t[0]?t[0]=2.220446049250313E-16:
1==t[0]&&(t[0]=.9999999999999998),this.a.zm(l,t,1),v=this.a.U(l),this.a.Qf(v,f),g.add(v),this.a.Va(v,n,-1),this.a.Va(v,p,1)))}l=d;d=g;g=l;g.clear(!1)}l=r;m.L(f)}}this.a.le(n);this.a.le(p)}};d.prototype.sm=function(b,a){for(var c=new e.b,f=null,k=-1,m=0,u=this.od.size;m<u;m++){var d=this.od.get(m);if(-1!=d){var g=this.a.U(d);this.a.w(d,c);if(b?c.y==a:c.x==a)if(this.a.w(g,c),b?c.y==a:c.x==a)-1==k&&(k=this.a.Vd()),null==f&&(f=new e.ia(0),f.yb(100)),-2!=this.a.Sa(d,k)&&(f.add(d),this.a.Va(d,k,-2)),-2!=
this.a.Sa(g,k)&&(f.add(g),this.a.Va(g,k,-2))}}if(null==f)-1!=k&&this.a.le(k);else{var t=this;f.Gd(0,f.size,function(a,c){return t.ki(a,c)});m=0;for(u=f.size;m<u;m++){var h=f.get(m);this.a.Va(h,k,m)}d=new e.b;g=new e.b;g.$c();for(var l=-1,m=0,u=f.size;m<u;m++)if(h=f.get(m),-1!=h&&(this.a.w(h,c),!c.ub(g))){if(-1!=l)for(;;){for(var h=!1,n=1<m-l?m-1:m,p=l;p<n;p++){var r=f.get(p);if(-1!=r){var q=-1,v=this.a.U(r);this.a.w(v,d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(q=v);var v=-1,G=this.a.Ra(r);this.a.w(G,
d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(v=G);if(-1!=q&&-1!=v)this.ii(r,f,k),this.a.ud(r,!1),this.ii(q,f,k),this.a.ud(q,!1),h=!0;else if(-1!=q||-1!=v){for(G=p+1;G<m;G++){var x=f.get(G);if(-1!=x){var w=this.a.U(x),y=-1;this.a.w(w,d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(y=w);var w=this.a.Ra(x),z=-1;this.a.w(w,d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(z=w);if(-1!=y&&-1!=z){this.ii(x,f,k);this.a.ud(x,!1);this.ii(y,f,k);this.a.ud(y,!1);h=!0;break}if(-1!=q&&-1!=z){this.ou(f,r,q,x,z,k);h=!0;break}else if(-1!=
v&&-1!=y){this.ou(f,x,y,r,v,k);h=!0;break}}}if(h)break}}}if(!h)break}l=m;g.L(c)}this.a.le(k)}};d.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};d.prototype.ou=function(b,a,c,f,k,e){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(c,k);this.a.Kc(k,c);this.ii(f,b,e);this.a.Mi(f,!1);this.ii(k,b,e);this.a.Mi(k,!0)};d.prototype.Cz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);
-1!=c&&this.a.Aj(c,-1)}for(var f=0,k=0,e=this.a.Pb(this.Y);-1!=e;){var u=this.a.cb(e);if(-1==u||e!=this.a.ld(u)){var d=e,e=this.a.Sb(e);this.a.jg(d,-1);this.a.Sr(d)}else{c=u;d=0;do this.a.Aj(c,e),d++,c=this.a.U(c);while(c!=u);this.a.Np(e,!1);this.a.sh(e,this.a.Ra(u));this.a.nk(e,d);k+=d;f++;e=this.a.Sb(e)}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(e=this.a.ld(c),-1==e)){e=this.a.Yf(this.Y,-1);d=0;u=c;do this.a.Aj(c,e),d++,c=this.a.U(c);while(c!=u);2>=d?(c=this.a.Sa(u,this.Ki),this.od.set(c,
-1),u=this.a.ud(u,!1),2==d&&(c=this.a.Sa(u,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(u,!1)),d=e,this.a.jg(d,-1),this.a.Sr(d)):(this.a.$n(e,!0),this.a.nk(e,d),this.a.jg(e,u),this.a.sh(e,this.a.Ra(u)),this.a.Np(e,!1),k+=d,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,k);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.zC(b)};d.We=function(b,a,c,f,k){return(new d(a,k)).hz(b,c,f)};d.clip=function(b,a,c,f,k){return d.rq(b,a,null,c,f,k)};d.rq=function(b,a,c,f,k,m){var u=b.G();if(33==u)return k=
b.w(),a.contains(k)?b:b.Ka();if(197==u)return k=new e.h,b.s(k),k.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(k),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var A=new e.h;b.ac(A);if(a.contains(A))return b;if(!a.Yb(A))return b.Ka();if(null!=c||isNaN(f))f=e.na.Zy(c,a,!1);if(!e.T.gh(u))throw e.g.F();c=b.ob;if(null!=c&&(c=c.Hi,null!=c)){c=c.Rn(a);if(1==c){if(1736!=u)throw e.g.X("internal error");b=new e.Ja(b.description);b.oq(a);return b}if(0==c)return b.Ka()}switch(u){case 550:m=null;u=b.D();f=b.Pa(0);
c=0;k=new e.b;for(A=0;A<u;A++)f.fc(2*A,k),a.contains(k)||(0==c&&(m=b.Ka()),c<A&&m.Id(b,c,A),c=A+1);0<c&&m.Id(b,c,u);return 0==c?b:m;case 1736:case 1607:return d.We(b,a,f,k,m);default:throw e.g.X("internal error");}};d.prototype.ki=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.uh=d})(n||(n={}));(function(e){var d=new e.b,g=function(){function a(a,b,k,m,u){this.Cn=new e.b;this.fl=new e.b;this.oj=new e.b;this.a=a;this.px=k;this.ap=m;this.Cn=b;this.dm=
u;this.fl.$c();this.oj.$c()}a.prototype.GF=function(a){this.a.w(a,this.fl);a=e.J.truncate((this.fl.x-this.Cn.x)*this.ap+.5);var c=e.J.truncate((this.fl.y-this.Cn.y)*this.ap+.5);return b.vH(a,c)};a.prototype.Vz=function(a){return this.a.Sa(a,this.dm)};a.prototype.zz=function(a,f){this.a.w(a,this.fl);this.a.w(f,this.oj);return b.pw(this.fl.x,this.fl.y,this.oj.x,this.oj.y,this.px)};return a}();e.EZ=function(){return function(){}}();var b=function(){function a(){this.Cn=new e.b;this.er=[0,0,0,0];this.tt=
[0,0,0,0];this.ep=this.dm=-1}a.bS=function(c,b){var f=new a;f.a=c;f.ta=b;f.px=b*b;f.Nw=2*b;f.ap=1/f.Nw;return f.EQ()};a.pw=function(a,b,k,e,u){a-=k;b-=e;return a*a+b*b<=u};a.vH=function(a,b){return e.J.dh(b,e.J.dh(a))};a.prototype.GQ=function(c,b){this.a.Nc(c,d);for(var f=(d.y-this.Cn.y)*this.ap,m=e.J.truncate((d.x-this.Cn.x)*this.ap),u=e.J.truncate(f),A=f=0;1>=A;A+=1)for(var g=0;1>=g;g+=1){var t=a.vH(m+A,u+g),h=this.cm.hT(t);-1!=h&&(this.er[f]=h,this.tt[f]=t,f++)}for(m=f-1;1<=m;m--)for(h=this.er[m],
u=m-1;0<=u;u--)if(h==this.er[u]){this.tt[u]=-1;f--;m!=f&&(this.tt[m]=this.tt[f],this.er[m]=this.er[f]);break}for(u=0;u<f;u++)this.HQ(c,this.tt[u],d,this.er[u],b)};a.prototype.HQ=function(c,b,k,m,u){for(var f=new e.b;-1!=m;m=this.cm.xT(m)){var d=this.cm.ja(m);c==d||-1!=b&&this.a.Sa(d,this.dm)!=b||(this.a.Nc(d,f),a.pw(k.x,k.y,f.x,f.y,this.px)&&u.add(m))}};a.prototype.Ln=function(a,b,k){var c=this.a.Sa(a,this.ep),f=this.a.Sa(b,this.ep);-1==c&&(c=this.Od.mi(),this.Od.addElement(c,a),this.a.Va(a,this.ep,
c));-1==f?this.Od.addElement(c,b):this.Od.mz(c,f);this.a.Va(b,this.ep,-2);b=this.WV(a,b);k&&(k=this.Yw.GF(a),this.a.Va(a,this.dm,k));return b};a.VV=function(c,b,k){c.Eb(b);k=c;var f=new e.b;a.FX(c.w(),b.w(),f);k.rb(f)};a.FX=function(a,b,k){var c=a.x;a.x!=b.x&&(c=(1*a.x+1*b.x)/2);var f=a.y;a.y!=b.y&&(f=(1*a.y+1*b.y)/2);k.ka(c,f)};a.prototype.WV=function(a,b){var c=new e.b;this.a.w(a,c);var f=new e.b;this.a.w(b,f);var u=this.a.oH(a);b=this.a.oH(b);var d=u+b,g=0,t=c.x;c.x!=f.x&&(t=(c.x*u+f.x*b)/d,g++);
var h=c.y;c.y!=f.y&&(h=(c.y*u+f.y*b)/d,g++);0<g&&this.a.rb(a,t,h);this.a.qY(a,d);return 0!=g};a.prototype.EQ=function(){var a=this.a.vd,b=this.a.TG();this.Cn=b.Yz();b=Math.max(b.fa(),b.N())/2147483646;this.Nw<b&&(this.Nw=b,this.ap=1/this.Nw);this.Od=new e.Lu;this.Od.pu(e.J.truncate(this.a.vd/3+1));this.Od.Vn(e.J.truncate(this.a.vd/3+1));this.dm=this.a.Vd();this.ep=this.a.Vd();this.Yw=new g(this.a,this.Cn,this.px,this.ap,this.dm);this.cm=new e.EM(e.J.truncate(4*a/3),this.Yw);this.cm.xX(this.a.vd);
a=!1;for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(var k=this.a.Pb(b);-1!=k;k=this.a.Sb(k))for(var m=this.a.cb(k),u=0,d=this.a.La(k);u<d;u++){var B=this.Yw.GF(m);this.a.Va(m,this.dm,B);this.cm.addElement(m,B);m=this.a.U(m)}var t=new e.ia(0);t.yb(10);for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(k=this.a.Pb(b);-1!=k;k=this.a.Sb(k))for(m=this.a.cb(k),u=0,d=this.a.La(k);u<d;u++){if(-2!=this.a.Sa(m,this.ep))for(B=this.a.Sa(m,this.dm),this.cm.kd(m,B);;){this.GQ(m,t);if(0==t.size)break;for(var B=!1,h=0,l=t.size;h<
l;h++){var n=t.get(h),p=this.cm.ja(n);this.cm.Kd(n);B=this.Ln(m,p,h+1==l)||B}a=a||B;t.clear(!1);if(!B)break}m=this.a.U(m)}a&&this.xP();this.Yw=this.cm=null;this.a.le(this.dm);this.a.le(this.ep);return a};a.prototype.xP=function(){for(var a=new e.b,b=this.Od.Ge;-1!=b;b=this.Od.bA(b)){var k=this.Od.xc(b);this.a.w(this.Od.ja(k),a);for(k=this.Od.nb(k);-1!=k;k=this.Od.nb(k))this.a.Qf(this.Od.ja(k),a)}};return a}();e.Iu=b})(n||(n={}));(function(e){var d=function(){function d(b){void 0===b&&(b=null);this.Oe=
null;this.xa=!1;null===b?this.Oe=[]:this.Oe=b}d.prototype.copyTo=function(b){if(b.xa)throw e.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Oe.length;a++)b.Oe.push(this.Oe[a].Vf())};d.prototype.count=function(){return this.Oe.length};d.prototype.jT=function(b){return this.Oe[b]};d.prototype.add=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.push(b.Vf())};d.prototype.clear=function(){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");
this.Oe.length=0};d.prototype.remove=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.splice(b,1)};d.prototype.Wv=function(){for(var b=this.oe(),a=0;a<b.count();a++)b.jT(a).kt();b.Oe=b.Oe.reverse();return b};d.prototype.oe=function(){var b=new d;this.copyTo(b);return b};d.prototype.Vf=function(){return this.oe()};d.prototype.transform=function(b,a,c,f){if(b.length<a)throw e.g.X("invalid Argument");var k=c;for(c=0;c<this.Oe.length;c++){var m=this.Oe[c];if(null!=
m.cn()){var u=m.nn,d=u?1:0,g=u?m.cn().getGeogcs2():m.cn().getGeogcs1(),g=g.getUnit().getUnitFactor(),g=k/g;if(3.552713678800501E-15<Math.abs(g-1))for(k=0;k<a;k++)b[k][0]*=g,b[k][1]*=g;e.PD.geogToGeog(m.cn(),a,b,null,d);k=(u?m.cn().getGeogcs1():m.cn().getGeogcs2()).getUnit().getUnitFactor()}}g=k/f;if(3.552713678800501E-15<Math.abs(g-1))for(k=0;k<a;k++)b[k][0]*=g,b[k][1]*=g;return a};d.prototype.getName=function(){if(0==this.Oe.length)return"";for(var b="",a=0,c=this.Oe.length;a<c;++a)""!==b&&(b+=" + "),
b+=this.Oe[a].getName();return b};d.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof d)||this.Oe.length!=b.Oe.length)return!1;for(var a=0;a<this.Oe.length;a++)if(!this.Oe[a].Eb(b.Oe[a]))return!1;return!0};d.prototype.Mp=function(){this.xa=!0};d.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};d.create=function(){return new d};d.aq=function(b,a){var c=new d;c.add(e.io.create(b,a));return c};d.bq=function(b,
a){var c=new d;c.add(e.io.fG(b,a));return c};return d}();e.ny=d})(n||(n={}));(function(e){var d=Math.PI,g=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.WQ=function(c,b){var f=new a;f.x=c;f.y=b;f.type=0;f.ui=0;return f};a.El=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=0;b.ui=0;return b};a.VQ=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=c.type;b.ui=c.ui;return b};a.ce=function(c,b,f){var k=new a;k.x=c.x+b*Math.cos(f);k.y=c.y+b*Math.sin(f);k.type=c.type;k.ui=c.ui;return k};a.Dv=function(c,
b){var f=new a;f.x=.5*(c.x+b.x);f.y=.5*(c.y+b.y);f.type=c.type;f.ui=c.ui;return f};a.ZF=function(c,b){var f=new a;f.x=c.x+.001*(b.x-c.x);f.y=c.y+.001*(b.y-c.y);f.type=c.type;f.ui=c.ui;return f};return a}(),c=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(e.JM||(e.JM={}));var f=function(){function f(a){this.sB=this.$b=this.Sg=null;this.ke=a}f.V=function(a,c,b,k,d,g){if(null==a)throw e.g.F();if(1>a.tb())throw e.g.F();
if(0==c||a.u())return a;g=new f(g);g.Yo=a;g.Qa=c;g.ta=d;g.jj=b;g.iB=k;return g.Ay()};f.prototype.zO=function(){var a=this.Yo,c=a.ec(),b=a.Cc(),f=new e.b;f.zc(b,c);f.normalize();f.uw();f.scale(this.Qa);c.add(f);b.add(f);f=a.Ka();a.Mc(c);a.Zc(b);return f};f.prototype.yO=function(){var a=this.Yo;if(0<this.Qa&&2!=this.jj){var c=new e.Ja;c.jd(a,!1);this.Yo=c;return this.Ay()}a=new e.ci(a.R);a.O(this.Qa,this.Qa);return a};f.prototype.kK=function(a,c,b,f){return(c.x-a.x)*(f.x-b.x)+(c.y-a.y)*(f.y-b.y)};f.prototype.pc=
function(c,f){if(void 0===f)this.$b.push(c),this.Kf++;else if(0==this.Kf)this.pc(c);else{var k=this.qx,e,m;e=this.Sg[0==f?k-1:f-1];m=this.Sg[f];var u=this.kK(e,m,this.$b[this.Kf-1],c);0<u?this.pc(c):0>u&&(0<this.kK(e,m,m,this.$b[this.Kf-1])?(m=this.Sg[0==f?k-2:1==f?k-1:f-2],k=a.ce(e,this.Qa,Math.atan2(e.y-m.y,e.x-m.x)-b),this.$b[this.Kf-1]=k,1==this.jj||2==this.jj?(k=a.Dv(k,e),this.pc(k),k=a.ce(e,this.Qa,this.ww+b),e=a.Dv(k,e),e.type|=256,this.pc(e)):(k=a.ce(e,this.Qa,this.ww+b),k.type|=256),this.pc(k),
this.pc(c,f)):(k=a.ce(m,this.Qa,this.ww+b),this.pc(k),1==this.jj||2==this.jj?(k=a.Dv(k,m),this.pc(k),k=a.ce(m,this.Qa,this.JA-b),e=a.Dv(k,m),e.type|=256,this.pc(e)):(k=a.ce(m,this.Qa,this.JA-b),k.type|=256),this.pc(k)))}};f.prototype.zF=function(){var c,f,k,B,t,h,l=this.qx;this.Kf=0;var n=.5*this.ta,p=0,r=0;for(c=0;c<l;c++){B=this.Sg[c];t=0==c?this.Sg[l-1]:this.Sg[c-1];h=c==l-1?this.Sg[0]:this.Sg[c+1];var q=t.x-B.x,v=t.y-B.y,G=h.x-B.x,x=h.y-B.y;f=Math.atan2(v,q);k=Math.atan2(x,G);this.ww=f;this.JA=
k;0==c&&(p=f,r=k);q=q*x-G*v;v=k;k<f&&(k+=g);if(0<q*this.Qa)1==this.jj||2==this.jj?(f=a.ce(B,this.Qa,f+b),this.pc(f),f=a.ZF(B,f),this.pc(f),f=a.ce(B,this.Qa,k-b),B=a.ZF(B,f),B.type|=256,this.pc(B),this.pc(f)):(q=.5*(k-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(B,q,.5*(f+k)),this.pc(f,c));else if(0!=(B.type&512)){q=1-n/Math.abs(this.Qa);t=1;h=0>this.Qa?-d:d;-1<q&&1>q&&(v=2*Math.acos(q),.017453292519943295>v&&(v=.017453292519943295),t=e.J.truncate(d/v+1.5),1<t&&(h/=t));v=f+b;f=a.ce(B,this.Qa,v);0==c&&
(f.type|=1024);this.pc(f,c);q=this.Qa/Math.cos(h/2);v+=h/2;f=a.ce(B,q,v);f.type|=1024;for(this.pc(f);0<--t;)v+=h,f=a.ce(B,q,v),f.type|=1024,this.pc(f);f=a.ce(B,this.Qa,k-b);f.type|=1024;this.pc(f)}else if(1==this.jj)f=a.ce(B,this.Qa,f+b),this.pc(f,c),f=a.ce(B,this.Qa,k-b),this.pc(f);else if(0==this.jj)for(q=1-n/Math.abs(this.Qa),t=1,h=k-b-(f+b),-1<q&&1>q&&(v=2*Math.acos(q),.017453292519943295>v&&(v=.017453292519943295),t=e.J.truncate(Math.abs(h)/v+1.5),1<t&&(h/=t)),q=this.Qa/Math.cos(.5*h),v=f+b+
.5*h,f=a.ce(B,q,v),this.pc(f,c);0<--t;)v+=h,f=a.ce(B,q,v),this.pc(f);else 2==this.jj?(q=t.x-B.x,v=t.y-B.y,G=h.x-B.x,x=h.y-B.y,t=(q*G+v*x)/Math.sqrt(q*q+v*v)/Math.sqrt(G*G+x*x),.99999999<t?(f=a.ce(B,1.4142135623730951*this.Qa,k-.25*d),this.pc(f,c),f=a.ce(B,1.4142135623730951*this.Qa,k+.25*d),this.pc(f)):(t=Math.abs(this.Qa/Math.sin(.5*Math.acos(t))),h=Math.abs(this.iB*this.Qa),t>h?(q=.5*(k-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(B,q,.5*(f+k)),k=e.b.pa(f.x,f.y),f=e.b.pa(B.x,B.y),B=new e.b,B.zc(k,
f),k=new e.b,k.EX(h/B.length(),B,f),f=(t-h)*Math.abs(this.Qa)/Math.sqrt(t*t-this.Qa*this.Qa),0<this.Qa?B.uw():B.Ur(),B.scale(f/B.length()),f=new e.b,f.add(k,B),t=new e.b,t.zc(k,B),f=a.El(f),this.pc(f,c),f=a.El(t),this.pc(f)):(q=.5*(k-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(B,q,.5*(f+k)),this.pc(f,c)))):(k=v,0<this.Qa?(k>f&&(k-=g),t=f-k<b):(k<f&&(k+=g),t=k-f<b),t?(q=1.4142135623730951*this.Qa,v=0>q?f+.25*d:f+.75*d,f=a.ce(B,q,v),this.pc(f,c),v=0>q?k-.25*d:k-.75*d,f=a.ce(B,q,v),this.pc(f)):(q=.5*(k-
f),q=this.Qa/Math.abs(Math.sin(q)),k<f&&(k+=g),f=a.ce(B,q,(f+k)/2),this.pc(f,c)))}this.ww=p;this.JA=r;this.pc(this.$b[0],0);B=a.VQ(this.$b[this.Kf-1]);this.$b[0]=B;return this.tX()};f.prototype.kv=function(a,c){if(!(2>c))for(var b=0;b<c;b++){var f=this.$b[a+b];0!=b?this.sB.aj(e.b.pa(f.x,f.y)):this.sB.zu(e.b.pa(f.x,f.y))}};f.prototype.AO=function(c,b,f){var k=c.wa(b),e=c.Gc(b);this.$b=[];this.sB=f;if(c.Qb(b)){for(b=c.Ba(k);c.Ba(e-1).ub(b);)e--;if(2<=e-k){this.qx=e-k;this.Sg=[];for(b=k;b<e;b++)this.Sg.push(a.El(c.Ba(b)));
this.zF()&&this.kv(0,this.Kf-1)}}else{for(b=c.Ba(k);k<e&&c.Ba(k+1).ub(b);)k++;for(b=c.Ba(e-1);k<e&&c.Ba(e-2).ub(b);)e--;if(2<=e-k){this.qx=2*(e-k)-2;this.Sg=[];f=a.El(c.Ba(k));f.type|=1536;this.Sg.push(f);for(b=k+1;b<e-1;b++)f=a.El(c.Ba(b)),this.Sg.push(f);f=a.El(c.Ba(e-1));f.type|=512;this.Sg.push(f);for(b=e-2;b>=k+1;b--)f=a.El(c.Ba(b)),f.type|=1024,this.Sg.push(f);if(this.zF())if(2<=this.$b.length){c=-1;(e=0!=(this.$b[this.Kf-1].type&1024))||(c=0);for(b=1;b<this.Kf;b++)(k=0!=(this.$b[b].type&1024))?
e||(e=b-1,1<e-c+1&&this.kv(c,e-c+1)):e&&(c=b-1),e=k;e||(e=this.Kf-1,1<e-c+1&&this.kv(c,e-c+1))}else c=0,e=this.Kf-1,0<=c&&1<=e-c&&this.kv(c,e-c+1)}}this.Sg=null;this.qx=0;this.$b=null;this.Kf=0};f.prototype.tX=function(){for(var a=!1,c=0;c<this.Kf;c++){var b=this.$b[c];b.Nh=c+1;b.Qh=c-1;this.$b[c]=b}b=this.$b[0];b.Qh=this.Kf-2;this.$b[0]=b;b=this.$b[this.Kf-2];b.Nh=0;this.$b[this.Kf-2]=b;for(c=b=0;c<this.Kf;c++)if(0!=(this.$b[b].type&256)){var f=this.CR(b);if(-1!=f)b=f;else{a=!0;break}}else b=this.$b[b].Nh;
if(a)return!1;this.TQ(b);return!0};f.prototype.CR=function(a){for(var c=this.Kf-1,b=a,f,k,e=1;e<=c-2;e++){f=b=this.$b[b].Nh;k=a;for(var m=1;m<=e;m++){k=this.$b[k].Qh;if(0==(this.$b[k].type&256)&&0==(this.$b[f].type&256)){var d=this.aU(k,f);if(-1!=d)return d}f=this.$b[f].Qh}}return-1};f.prototype.aU=function(a,b){var f,k,m,u;f=this.$b[this.$b[a].Qh];k=this.$b[a];m=this.$b[this.$b[b].Qh];u=this.$b[b];if(!this.IX(f,k,m,u))return-1;var d=new c;return this.pS(f,k,m,u,d)&&!d.oF&&e.J.SK((k.x-f.x)*(u.y-m.y)-
(k.y-f.y)*(u.x-m.x))!=e.J.SK(this.Qa)?(f=this.$b[a].Qh,d.Pn.type=k.type,d.Pn.Nh=b,d.Pn.Qh=f,this.$b[a]=d.Pn,d.Pn=this.$b[b],d.Pn.Qh=a,this.$b[b]=d.Pn,b):-1};f.prototype.IX=function(a,c,b,f){return Math.max(a.x,c.x)>=Math.min(b.x,f.x)&&Math.max(b.x,f.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,f.y)&&Math.max(b.y,f.y)>=Math.min(a.y,c.y)};f.prototype.pS=function(c,b,f,k,e){e.oF=!1;var m,u,d;m=(b.y-c.y)*(k.x-f.x)-(b.x-c.x)*(k.y-f.y);u=(f.y-c.y)*(b.x-c.x)-(f.x-c.x)*(b.y-c.y);m=0==m?2:u/m;return 0<=
m&&1>=m&&(d=m,m=(k.y-f.y)*(b.x-c.x)-(k.x-f.x)*(b.y-c.y),u=(c.y-f.y)*(k.x-f.x)-(c.x-f.x)*(k.y-f.y),m=0==m?2:u/m,0<=m&&1>=m)?(e.Pn=a.WQ(c.x+m*(b.x-c.x),c.y+m*(b.y-c.y)),e.Pn.ui=f.ui+d*(k.ui-f.ui),0!=d&&1!=d||0!=m&&1!=m||(e.oF=!0),e.N_=m,e.O_=d,(0==d||1==d)&&0<m&&1>m||(0==m||1==m)&&0<d&&1>d?!1:!0):!1};f.prototype.TQ=function(a){for(;this.$b[a].Qh<a;)a=this.$b[a].Qh;var c=0,b=a;do b=this.$b[b],this.$b[c]=b,b=b.Nh,c++;while(b!=a);this.$b[c]=this.$b[0];this.Kf=c+1};f.prototype.vE=function(a){var c=this.Yo,
b=c.Fa();if(null!=b){b.yj();for(var f=-1;b.Ya();)f++,this.AO(c,f,a)}};f.prototype.Ay=function(){var a=this.Yo.G();return 322==a?this.zO():197==a?this.yO():e.T.Oc(a)?(a=new e.Ua,a.dc(this.Yo,!0),this.Yo=a,this.Ay()):1607==a?(a=new e.Ua,this.vE(a),a):1736==a?(a=new e.Ja,this.vE(a),a):null};return f}();e.TL=f})(n||(n={}));(function(e){var d=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.a.w(a,c)};a.prototype.Kd=function(a){var c=this.Sk.Na.ja(a);this.Sk.Na.Kd(a,-1);this.Sk.a.ud(c,
!1)};return a}(),g=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.GV.w(a,c)};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),b=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){c.L(this.Sk.JV[a])};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new e.uk,this.Na.Qe(20),this.a=new e.fd,this.xV=this.a.bh(550),this.Nt=this.a.Yf(this.xV,-1),this.wi=new d(this)):a instanceof Array?(this.Na=new e.uk,
this.Na.Qe(20),this.JV=a,this.wi=new b(this)):(this.Na=new e.uk,this.Na.Qe(20),this.GV=a,this.wi=new g(this))}a.prototype.Jb=function(a){var c=a.G();if(e.Mu.gh(c))this.hP(a);else if(e.xl.Oc(c))this.oP(a);else if(197==c)this.eP(a);else if(33==c)this.lP(a);else throw e.g.F("invalid shape type");};a.prototype.US=function(){var a=new e.Wa,c=this.Na.xc(-1),b=new e.Ja(this.a.Hr);this.a.wj(this.Na.ja(c),a);b.Rf(a);for(c=this.Na.nb(c);-1!=c;c=this.Na.nb(c))this.a.wj(this.Na.ja(c),a),b.lineTo(a);return b};
a.UQ=function(c){var b=new a(c),f=c.D(),u=1,d=new e.b,g=new e.b,t=new e.b;for(c.w(0,d);;){c.w(u,g);if(!(g.wA(d)&&u<f-1))break;u++}b.Na.addElement(0,-1);b.Na.ro(u);for(f=u+1;f<c.D();f++)c.w(f,t),u=b.OC(t),-1!=u&&b.Na.kk(u,f);t=new e.Wa;u=b.Na.xc(-1);f=new e.Ja(c.description);c.Ae(b.Na.ja(u),t);f.Rf(t);for(u=b.Na.nb(u);-1!=u;u=b.Na.nb(u))c.Ae(b.Na.ja(u),t),f.lineTo(t);return f};a.pa=function(c,b,e){for(var f=new a(c),k=1,m=c[0];c[k].wA(m)&&k<b-1;)k++;f.Na.addElement(0,-1);f.Na.ro(k);for(k+=1;k<b;k++)m=
f.OC(c[k]),-1!=m&&f.Na.kk(m,k);c=0;for(b=f.Na.xc(-1);-1!=b;b=f.Na.nb(b))e[c++]=f.Na.ja(b);return c};a.VH=function(c,b){var f=c.wa(b),k=c.Gc(b);b=!c.Qb(b)&&c.Eo(b);c=c.Pa(0);f*=2;k*=2;b&&(k-=2);if(6>k-f)return!0;b=new e.b;var d=new e.b,g=new e.b;c.fc(f,b);c.fc(f+2,d);c.fc(f+4,g);var t=a.fe(d,g,b);if(t.lt()||!a.tc(t.value()))return!1;for(var h=e.b.pa(d.x,d.y),l=new e.b,f=f+6;f<k;f+=2){l.L(d);d.L(g);c.fc(f,g);t=a.fe(d,g,b);if(t.lt()||!a.tc(t.value()))return!1;t=a.fe(h,g,b);if(t.lt()||!a.tc(t.value()))return!1;
t=a.fe(d,g,l);if(t.lt()||!a.tc(t.value()))return!1}return!0};a.prototype.hP=function(a){for(var c=new e.Wa,b=new e.b,f=0;f<a.D();f++){a.w(f,b);var d=this.As(b);if(-1!=d){a.Ae(f,c);var g=this.a.pc(this.Nt,c);this.Na.kk(d,g)}}};a.prototype.eP=function(a){for(var c=new e.Wa,b=new e.b,f=0;4>f;f++){a.Gx(f,b);var d=this.As(b);if(-1!=d){a.ig(f,c);var g=this.a.pc(this.Nt,c);this.Na.kk(d,g)}}};a.prototype.oP=function(a){var c=new e.Wa,b=a.ec(),b=this.As(b);if(-1!=b){a.Dp(c);var f=this.a.pc(this.Nt,c);this.Na.kk(b,
f)}b=a.Cc();b=this.As(b);-1!=b&&(a.Bp(c),a=this.a.pc(this.Nt,c),this.Na.kk(b,a))};a.prototype.lP=function(a){var c=a.w(),c=this.As(c);-1!=c&&(a=this.a.pc(this.Nt,a),this.Na.kk(c,a))};a.prototype.As=function(a){var c=-1;if(0==this.Na.size(-1))return c=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ja(this.Na.xc(-1)));a.wA(b)||(c=this.Na.ro(-5));return c}return c=this.OC(a)};a.prototype.OC=function(c){var b=-1,f=this.Na.xc(-1),d=this.Na.Fc(-1),A=this.Na.ja(f),g=this.Na.ja(d),
t=new e.b,h=new e.b;this.wi.w(A,t);this.wi.w(g,h);A=e.b.zp(h,c,t);if(a.tc(A))b=this.Na.ro(-1),t=this.MC(c,d,f),t!=f&&this.NC(c,f,this.Na.Ve(t));else if(a.vl(A)){for(var h=this.Na.fw(-1),l=this.Na.xc(-1),n=this.Na.Fc(-1),p,A=new e.b,g=new e.b;l!=this.Na.Ve(n);)p=this.Na.ja(h),this.wi.w(p,A),p=e.b.zp(A,c,t),a.vl(p)?(n=h,h=this.Na.Pl(h)):(l=h,h=this.Na.Nq(h));h=n;t=l;p=this.Na.ja(h);l=this.Na.ja(t);this.wi.w(p,A);this.wi.w(l,g);if(t==f||(A=e.b.zp(g,c,A),a.tc(A)))b=this.Na.jv(t,h,-2,!1),this.NC(c,h,d),
this.MC(c,t,f)}else null==this.wb&&(this.wb=new e.Hb),this.wb.Mc(h),this.wb.Zc(t),t=this.wb.pe(c,!0),0>t?(t=this.Na.Ve(d),this.Na.Kd(d,-1),b=this.Na.ro(-3),this.MC(c,t,f)):1<t&&(t=this.Na.nb(f),this.Na.Kd(f,-1),b=this.Na.jv(-1,t,-3,!1),this.NC(c,t,d));return b};a.prototype.NC=function(c,b,m){if(b!=m){var f=this.Na.ja(b),k=this.Na.nb(b),d=new e.b,g=new e.b;for(this.wi.w(f,d);b!=m&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(k),g);f=e.b.zp(g,c,d);if(a.tc(f))break;f=b;b=k;d.L(g);k=this.Na.nb(b);this.wi.Kd(f)}}};
a.prototype.MC=function(c,b,m){if(b==m)return m;var f=this.Na.ja(b),k=this.Na.Ve(b),d=new e.b,g=new e.b;for(this.wi.w(f,d);b!=m&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(k),g);f=e.b.zp(d,c,g);if(a.tc(f))break;f=b;b=k;d.L(g);k=this.Na.Ve(b);this.wi.Kd(f)}return b};a.fe=function(a,c,b){var f=new e.Xb;f.set(c.x);f.sub(a.x);var k=new e.Xb;k.set(b.y);k.sub(a.y);var m=new e.Xb;m.set(c.y);m.sub(a.y);c=new e.Xb;c.set(b.x);c.sub(a.x);f.Vg(k);m.Vg(c);f.sub(m);return f};a.tc=function(a){return 0>a};a.vl=function(a){return 0<
a};a.hq=function(a){return 0==a};return a}();e.Ju=a})(n||(n={}));(function(e){var d=function(){function d(b){this.ke=this.a=null;this.FI=!0;this.ke=b}d.yJ=function(b,a,c){b=e.na.Cs(b);return e.Iu.pw(a.Be(),a.nf(),c.Be(),c.nf(),e.Ub.Yx(b))};d.FQ=function(b,a){var c=new e.Wa;e.Iu.VV(b,a,c);return c};d.V=function(b,a,c,f){c=new d(c);c.a=b;c.ta=a;c.FI=f;return c.LO()};d.prototype.FO=function(b){return e.Iu.bS(this.a,b)};d.prototype.IO=function(b){return e.Ku.V(this.a,b,this.ke)};d.prototype.LO=function(){for(var b=
this.ta,a=e.na.Cs(b),b=e.na.rP(b),c=1.00001*b,b=1.000001*b,f=!1,k=30<this.a.vd+10?1E3:(this.a.vd+10)*(this.a.vd+10),m=0,d=this.a.dU();;m++){if(m>k)throw e.g.X("Internal Error: max number of iterations exceeded");var A=this.FO(a),f=f||A;this.FI&&(A=0!=this.a.zq(a,!0,!1),f=f||A);A=!1;if(0==m||d||e.Ku.tJ(!0,this.a,b,null,this.ke))A=this.IO(c),f=f||A;if(!A)break}return f};return d}();e.sk=d})(n||(n={}));(function(e){var d=function(){function b(a){this.we=this.Tc=null;this.kx=0;this.lc=a;this.LA=!0}b.prototype.gw=
function(a,c){var b=this.a.ic(a);if(null==b){if(!this.a.pd(a,c))return null;b=c}return b};b.prototype.Pr=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.mR=function(){var a=this.a.Qr(!1),c=!1,b=new e.Hb,k=new e.Hb,m=new e.h;m.Oa();var d=new e.h;d.Oa();for(var A=new e.Wa,g=new e.dE,t=a.next();-1!=t;t=a.next()){var h=null,l=!1;if(!e.T.Jo(this.a.hc(a.Ck))){h=this.gw(t,b);if(null==h)continue;h.s(m);m.O(this.ta,this.ta);if(h.fh(this.ta))if(h.fh(0))l=!0,h=null;else continue}var n=
this.a.Qr(a),p=n.next();for(-1!=p&&(p=n.next());-1!=p;p=n.next()){var q=null,r=!1;if(!e.T.Jo(this.a.hc(n.Ck))){q=this.gw(p,k);if(null==q)continue;q.s(d);if(q.fh(this.ta))if(q.fh(0))r=!0,q=null;else continue}var v=0,G=0;if(null!=h&&null!=q)m.TH(d)&&(g.Ap(h),g.Ap(q),g.Ma(this.ta,!1),v=g.Rl(0),G=g.Rl(1),0<v+G&&(this.a.bs(t,g,0,!0),this.a.bs(p,g,1,!0)),g.clear());else if(null!=h){var x=new e.b;this.a.w(p,x);if(m.contains(x)){g.Ap(h);this.a.wj(p,A);g.sA(this.ta,A,!1);v=g.Rl(0);if(0<v)if(this.a.bs(t,g,
0,!0),r){r=-1;for(x=this.a.U(p);-1!=x&&x!=p&&(q=this.gw(x,k),r=x,null!=q&&q.fh(0));x=this.a.U(x));for(x=p;-1!=x&&(this.a.Yh(x,g.cg),x!=r);x=this.a.U(x));}else this.a.Yh(p,g.cg);g.clear()}}else if(null!=q){if(x=new e.b,this.a.w(t,x),d.O(this.ta,this.ta),d.contains(x)){g.Ap(q);this.a.wj(t,A);g.sA(this.ta,A,!1);G=g.Rl(0);if(0<G)if(this.a.bs(p,g,0,!0),l){r=-1;for(x=this.a.U(t);-1!=x&&x!=t&&(q=this.gw(x,k),r=x,null!=q&&q.fh(0));x=this.a.U(x));for(x=t;-1!=x&&(this.a.Yh(x,g.cg),x!=r);x=this.a.U(x));}else this.a.Yh(t,
g.cg);g.clear()}}else continue;if(0!=v+G){if(0!=v){h=this.a.ic(t);if(null==h){if(!this.a.pd(t,b))continue;h=b;b.s(m)}else h.s(m);if(h.fh(this.ta))break}c=!0}}}return c};b.prototype.nR=function(){return this.DW()};b.prototype.DW=function(){return(new e.WD).IY(this.a,this.ta)};b.prototype.uJ=function(){var a=!1,c,b;null==this.Tc&&(this.Tc=new e.uk);var k=new e.ia(0);k.yb(this.a.vd+1);for(var m=this.a.Qr(),d=m.next();-1!=d;d=m.next())k.add(d);this.a.Xx(k,k.size);k.add(-1);m=this.a.Vd();d=this.a.Vd();
this.we=new e.fE(this.a,this.ta,!this.LA);this.Tc.Ep(this.we);var g=new e.ia(0),B=new e.ia(0),t=0;new e.b;var h=this.a.Dd;this.a.xb.wc();for(var l=this.a.xb.ya[0].f,n,p,q=k.get(t++);-1!=q;){p=h.S(q,0);n=l[2*p];p=l[2*p+1];var r=n,v=p;do{var G=h.S(q,2),x=h.S(q,1);-1!=G&&(c=h.S(G,0),b=l[2*c],c=l[2*c+1],0>(v<c?-1:v>c?1:r<b?-1:r>b?1:0)&&(B.add(q),B.add(G)));-1!=x&&(c=h.S(x,0),b=l[2*c],c=l[2*c+1],0>(v<c?-1:v>c?1:r<b?-1:r>b?1:0)&&(B.add(x),B.add(x)));b=this.a.Sa(q,m);-1!=b&&(g.add(b),this.a.Va(q,m,-1));
b=this.a.Sa(q,d);-1!=b&&(g.add(b),this.a.Va(q,d,-1));q=k.get(t++);-1!==q&&(v=h.S(q,0),r=l[2*v],v=l[2*v+1])}while(-1!=q&&r===n&&v===p);r=1==g.size&&2==B.size;b=v=-1;G=0;for(x=g.size;G<x;G++){c=g.get(G);var w=this.Tc.Ve(c);-1==w||g.nA(w)||(v=w);c=this.Tc.nb(c);-1==c||g.nA(c)||(b=c);if(-1!=v&&-1!=b)break}this.we.QK(p,n);G=0;for(x=g.size;G<x;G++)c=g.get(G),this.Tc.Kd(c,-1);g.clear(!1);if(!r&&-1!=v&&-1!=b&&this.tQ(v,b)){a=!0;this.mj=this.we.en();break}G=0;for(x=B.size;G<x;G+=2){p=B.get(G);n=B.get(G+1);
r?(p=this.Tc.jv(v,b,p,!0),r=!1):p=this.Tc.addElement(p,-1);if(this.we.Ng){this.mj=this.we.en();a=!0;break}-1==this.a.Sa(n,m)?this.a.Va(n,m,p):this.a.Va(n,d,p)}if(a)break;B.yf(0)}this.a.le(m);this.a.le(d);return a};b.prototype.tQ=function(a,c){this.we.compare(this.Tc,this.Tc.ja(a),c);a=this.we.Ng;this.we.Gs();return a};b.Cj=function(a){for(var c=a.sd;-1!=c;c=a.Ue(c))if(e.T.Ic(a.hc(c)))return!0;return!1};b.Gm=function(a,c,f,k){if(!b.Cj(a))return!1;c=new b(k);c.a=a;c.ta=f;if(15>a.vd)a=c.mR();else return c.nR();
return a};b.V=function(a,c,f){return b.Gm(a,a.TG(),c,f)};b.tJ=function(a,c,f,k,m){if(!b.Cj(c))return!1;var d=new b(m);d.a=c;d.ta=f;d.LA=a;if(d.uJ())return null!=k&&k.ms(d.mj),!0;var g=new e.Hd;g.xC();c.Xc(g);d=new b(m);d.a=c;d.ta=f;d.LA=a;a=d.uJ();g.xC();c.Xc(g);return a?(null!=k&&k.ms(d.mj),!0):!1};b.qm=function(a,c){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*c<1*a*c};b.kR=function(a,c,f,k){if(e.T.Ic(c.G()))return(new b(k)).lR(a,c,f);throw e.g.X("crack_A_with_B");};b.prototype.lR=
function(a,c,f){var k=new e.h;a.ac(k);var m=new e.h;c.ac(m);m.O(f,f);if(!m.Yb(k))return a;var d=a.ob,A=null;null!=d&&(A=d.Mb);b.qm(a,a.D())&&(A=e.na.Lj(a,m));var B=null!=A?A.mf():null,t=c.Fa();c=a.Fa();for(var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=[];t.Ya();)for(;t.Ea();){var l=t.ba();if(null!=A)for(B.Wn(l,f),d=B.next();-1!=d;d=B.next()){if(this.Pr(),c.Tb(A.ja(d),-1),c.Ea())for(var d=c.ba(),n=d.Ma(l,null,h,null,f),d=0;d<n;++d){var p=h[d];if(0!=p&&1!=p){var q=c.Db(),r=new g;r.t=p;r.index=q;m.push(r)}}}else{var v=
new e.h;l.ac(v);v.O(f,f);if(k.Yb(v))for(c.yj();c.Ya();)for(;c.Ea();)if(this.Pr(),d=c.ba(),p=new e.h,d.ac(p),p.Yb(v))for(n=d.Ma(l,null,h,null,f),d=0;d<n;++d)p=h[d],0!=p&&1!=p&&(q=c.Db(),r=new g,r.t=p,r.index=q,m.push(r))}}if(0==m.length)return a;m=m.sort(g.Hs);a=a.Ka();for(c.yj();c.Ya()&&!c.Ea(););f=c.ba();k=new e.Cg;A=-1;d=0;for(B=m.length;d<B;){h=m[d].index;for(t=d+1;t<B&&m[t].index==h;)++t;for(;c.Db()<h;){this.Pr();l=c.Ea();p=c.Ta;(v=l||!c.Fo()||c.Go())&&a.dc(f,A!=p);A=p;if(!l)for(;c.Ya()&&!c.Ea(););
f=c.ba()}for(h=0;d<t;d++)p=m[d].t,p!=h&&(f.yh(h,p,k),h=p,p=c.Ta,a.dc(k.get(),A!=p),A=p);if(v=(l=c.Ea())||!c.Fo()||c.Go())f.yh(h,1,k),a.dc(k.get(),!1);if(l)f=c.ba();else{for(;c.Ya()&&!c.Ea(););c.Ea()?f=c.ba():f=null}d=t}null!=f&&(p=c.Ta,(v=(l=c.Ea())||!c.Fo()||c.Go())&&a.dc(f,A!=p),A=p);for(l=c.Ea();;){if(!l){for(;c.Ya()&&!(l=c.Ea()););if(!l)break}f=c.ba();p=c.Ta;(v=(l=c.Ea())||!c.Fo()||c.Go())&&a.dc(f,A!=p);A=p}return a};return b}();e.Ku=d;var g=function(){function b(){}b.Hs=function(a,c){return a.index==
c.index?a.t>c.t?1:a.t<c.t?-1:0:a.index>c.index?1:-1};return b}()})(n||(n={}));(function(e){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(e.VL||(e.VL={}));var d=function(){return function(a,b,k,e,d,g,B,t,h,l,n){this.Y=a;this.nx=b;this.It=k;this.Pg=e;this.yn=l;this.em=n}}();e.GZ=d;var g=function(){function a(a,c){this.YI=a;this.gj=c}a.prototype.HO=function(a,c){var b=new e.b;this.gj.w(a,b);var f=new e.b;this.gj.w(c,
f);b=b.compare(f);if(0!=b)return b;b=this.gj.Sa(a,this.YI);f=this.gj.Sa(c,this.YI);return b<f?-1:b==f?0:1};return a}(),b=function(){return function(a,b,k,e,d,g,B,t,h){this.Pg=a;this.It=b;this.tB=k;this.hJ=e;this.dj=d;this.em=g;this.yn=B;this.iJ=t;this.MV=h}}();e.FZ=b;var a=function(){function a(){}a.UL=function(c,b,m,u,g,B){if(b.u())c=new d(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),g.push(c);else{var f=new e.fd;f.Jb(b);f.Jb(m);e.sk.V(f,u,B,!0);b=0;m=f.Vd();for(u=f.sd;-1!=u;u=f.Ue(u))for(B=f.Pb(u);-1!=
B;B=f.Sb(B))for(var k=f.cb(B),A=0,t=f.La(B);A<t;k=f.U(k),A++)f.Va(k,m,b++);b=a.lM(m,f);a.tW(c,b,f,g)}};a.lM=function(c,b){for(var f=b.vd,k=new e.ia(0),d=b.sd;-1!=d;d=b.Ue(d))for(var B=b.Pb(d);-1!=B;B=b.Sb(B))for(var t=b.cb(B),h=0,l=b.La(B);h<l;t=b.U(t),h++)k.add(t);var n=new g(c,b);k.Gd(0,f,function(a,c){return n.HO(a,c)});c=[];var p=[],q=b.Vd(),r=b.Vd(),d=b.sd,B=b.Ue(d),l=new e.b,v=new e.b,G=k.get(0),x=b.ld(G),w=b.ng(x);b.w(G,l);for(var y=1,t=0;y<f-1;){for(var z=!1,h=y;h<f;h++)if(h!=t){var C=k.get(h),
D=b.ld(C),J=b.ng(D);b.w(C,v);if(l.ub(v))w==d&&J==B&&(z=a.nZ(q,r,b,c,p,x,G,D,C));else break}if(z||t==y-1){z&&t==y-1&&y--;if(++t==f)break;G=k.get(t);x=b.ld(G);w=b.ng(x);b.w(G,l)}z||(y=t+1)}f=[];for(d=b.sd;-1!=d;d=b.Ue(d))for(B=b.Pb(d);-1!=B;B=b.Sb(B))for(k=b.cb(B),h=0,l=b.La(B);h<l;k=b.U(k),h++){t=b.Sa(k,r);if(0<=t)for(;t<p.length&&p[t].Pg==k;)f.push(p[t++]);t=b.Sa(k,q);if(0<=t)for(;t<c.length&&c[t].Pg==k;)f.push(c[t++])}b.le(q);b.le(r);return f};a.nZ=function(c,b,e,d,g,B,t,h,l){var f=e.Rj(B),k=e.Rj(h),
m=e.cb(B),u=e.cb(h),A=e.Ra(t),P=e.Ra(l),n=!1,p=!1,Y=!1,q=!1;t!=m&&(l!=u&&(n=a.tZ(c,e,d,B,A,h,P)),l!=k&&(p=a.vZ(c,e,d,B,A,h,l)));t!=f&&(l!=u&&(Y=a.xZ(b,e,g,B,t,h,P,m)),l!=k&&(q=a.GL(b,e,g,B,t,h,l,m)));n&&p&&Y?(c=d.length-1,2==g[q?g.length-2:g.length-1].dj&&(d[c-1]=d[c],--d.length)):n&&p&&q&&2==g[g.length-1].dj&&(g=d[d.length-1],--d.length,e.Sa(g.Pg,c)==d.length&&e.Va(g.Pg,c,-1));return n||p||Y||q};a.tZ=function(a,c,m,d,g,B,t){var f,k;k=new e.Hb;var u=new e.Hb,A=[0,0],h=[0,0];f=c.ic(g);null==f&&(c.pd(g,
k),f=k);k=c.ic(t);null==k&&(c.pd(t,u),k=u);f=f.Ma(k,null,A,h,0);2>f&&(d=new b(g,d,A[0],NaN,f,t,B,h[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1));return!0};a.vZ=function(a,c,m,d,g,B,t){var f,k;k=new e.Hb;var u=new e.Hb,A=[0,0],h=[0,0];f=c.ic(g);null==f&&(c.pd(g,k),f=k);k=c.ic(t);null==k&&(c.pd(t,u),k=u);f=f.Ma(k,null,A,h,0);return 2>f?(d=new b(g,d,A[0],NaN,f,t,B,h[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),!0):!1};a.xZ=function(a,c,m,d,g,B,t,h){var f,k;k=new e.Hb;var u=new e.Hb,
A=[0,0],l=[0,0];f=c.ic(g);null==f&&(c.pd(g,k),f=k);k=c.ic(t);null==k&&(c.pd(t,u),k=u);f=f.Ma(k,null,A,l,0);if(2==f)return d=new b(g,d,A[0],A[1],f,t,B,l[0],l[1]),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),!0;u=!1;g==h&&(d=new b(g,d,A[0],NaN,f,t,B,l[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),u=!0);return u};a.GL=function(a,c,m,d,g,B,t,h){var f,k;k=new e.Hb;var u=new e.Hb,A=[0,0],l=[0,0];f=c.ic(g);null==f&&(c.pd(g,k),f=k);k=c.ic(t);null==k&&(c.pd(t,u),k=u);f=f.Ma(k,null,A,l,0);if(2==
f)return d=new b(g,d,A[0],A[1],f,t,B,l[0],l[1]),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),!0;u=!1;g==h&&(d=new b(g,d,A[0],NaN,f,t,B,l[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),u=!0);return u};a.tW=function(c,b,m,u){var f,k=[];k[0]=new e.b;k[1]=new e.b;k[2]=new e.b;k[3]=new e.b;var g=new e.b,t=new e.b,h=new e.b,l=new e.b,n=null;null!=u&&(n=new e.Cg,n.Js());var p,q=0,r=null,v=new e.Hb;new e.Hb;for(var G=m.Pb(m.sd);-1!=G;G=m.Sb(G)){var x,w=4,y=-1,z,C,D,J=-1,E,F,L,H,I=-1,O=-1,R=NaN;
x=!0;var K=!1,N=!0,M=!0,U=!0,S=0;D=G;E=0;for(var V=m.cb(G),T=m.La(G),Z=0;Z<T;V=m.U(V),Z++){p=m.ic(V);if(null==p){if(!m.pd(V,v))continue;p=v}-1==J&&(J=V);for(var ca=0;q<b.length&&V==b[q].Pg;){y=b[q].It;z=b[q].Pg;C=b[q].tB;F=b[q].yn;L=b[q].em;H=b[q].iJ;if(2==b[q].dj){if(K||(D=y,J=z,E=C,I=F,O=L,R=H,w=2,null!=u?r=new e.Ua:S=0,U=!1,M=!0),C=b[q].hJ,H=b[q].MV,null!=u?(p.yh(ca,b[q].hJ,n),r.dc(n.get(),M)):S++,ca=C,K=!0,M=x=!1,q+1==b.length||2!=b[q+1].dj||b[q+1].Pg==z&&b[q+1].tB!=ca)null!=u?(f=new d(r,2,y,
z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):null.add(S),D=y,J=z,E=C,I=F,O=L,R=H,w=2,K=x=!1,M=U=!0}else{var W=m.U(z);if(q<b.length-1&&b[q+1].Pg==W&&b[q+1].em==L&&2==b[q+1].dj)C!=ca&&(U&&(null!=u?r=new e.Ua:S=0),x=0<q&&b[q-1].It==y?1==w?0:0==w?1:3:3,null!=u?(p.yh(ca,C,n),r.dc(n.get(),M),f=new d(r,x,y,z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):(S++,null.add(S)),ca=C,D=y,J=z,E=C,I=F,O=L,R=H,w=x,x=N=!1,M=U=!0);else if(!a.aM(c,m,b,q,g,t)){a.ML(m,b,q,G,V,h,l);var ba=!1,W=!1;f=!0;if(!(g.ub(h)||t.ub(h)||g.ub(l)||t.ub(l))){k[0].L(g);
k[1].L(t);k[2].L(h);k[3].L(l);k.sort(e.b.vs);var da=k[0],aa=k[1],fa=k[2],ga=k[3];da.ub(g)?aa.ub(t)?c?(W=ba=!0,f=!1):ba=!1:ga.ub(t)?c?f=W=ba=!0:ba=!1:(ba=!0,f=aa.ub(h)):aa.ub(g)?fa.ub(t)?c?(W=ba=!0,f=!1):ba=!1:da.ub(t)?c?f=W=ba=!0:ba=!1:(ba=!0,f=fa.ub(h)):fa.ub(g)?ga.ub(t)?c?(W=ba=!0,f=!1):ba=!1:aa.ub(t)?c?f=W=ba=!0:ba=!1:(ba=!0,f=ga.ub(h)):da.ub(t)?c?(W=ba=!0,f=!1):ba=!1:fa.ub(t)?c?f=W=ba=!0:ba=!1:(ba=!0,f=da.ub(h))}if(ba){ba=V==z;if(C!=ca||ba&&0==ca)U&&(null!=u?r=new e.Ua:S=0),null!=u?(p.yh(ca,C,
n),r.dc(n.get(),M)):S++;if(f)if(1!=w){if(C!=ca||ba&&0==ca)null!=u?(f=new d(r,1,y,z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):null.add(S);if(!W)w=1;else if(q==b.length-2||b[q+2].It!=y)w=0}else{if(C!=ca||ba&&0==ca)null!=u?(f=new d(r,3,y,z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):null.add(S);w=1}else if(0!=w){if(C!=ca||ba&&0==ca)null!=u?(f=new d(r,0,y,z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):null.add(S);if(!W)w=0;else if(q==b.length-2||b[q+2].It!=y)w=1}else{if(C!=ca||ba&&0==ca)null!=u?(f=new d(r,3,y,z,C,w,D,J,E,F,L,H,I,
O,R),u.push(f)):null.add(S);w=0}if(C!=ca||ba&&0==ca)ca=C,D=y,J=z,E=C,I=F,O=L,R=H,x=N=!1,M=U=!0}}}q++}1!=ca&&(U&&(null!=u?r=new e.Ua:S=0),null!=u?(p.yh(ca,1,n),r.dc(n.get(),M)):S++,M=U=!1,N=!0)}N&&(C=1,z=m.Rj(G),z=m.Ra(z),L=F=-1,H=NaN,x?null!=u?(f=new d(r,4,y,z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):null.add(S):(x=1==w?0:0==w?1:3,null!=u?(f=new d(r,x,y,z,C,w,D,J,E,F,L,H,I,O,R),u.push(f)):null.add(S)))}};a.aM=function(c,b,m,d,g,B){var f=m[d].iJ;if(1==f)return a.QL(c,b,m,d,g,B);if(0==f)return a.XL(c,b,m,
d,g,B);throw e.g.za();};a.QL=function(a,c,b,d,g,B){var f=new e.Hb,k=b[d].Pg,m=b[d].yn,u=b[d].em,A=-1,t=-1,h=-1,l=-1;if(!a&&0<d)var n=b[d-1],A=n.Pg,t=n.yn,h=n.em,l=n.dj;var p=-1,q=-1,r=-1,v=-1;d<b.length-1&&(n=b[d+1],p=n.Pg,q=n.yn,r=n.em,v=n.dj);var G=c.U(k),n=c.U(u);if(!a)return 0<d&&A==k&&t==m&&h==n&&2==l||d<b.length-1&&p==G&&q==m&&r==n&&2==v?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),B.L(a.Eg(1)),g.bu(B),B.normalize(),g.normalize(),!1):d<b.length-1&&p==k&&q==m&&r==n?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),
g.L(a.Eg(1)),a=c.ic(n),null==a&&(c.pd(n,f),a=f),B.L(a.Eg(0)),g.Lr(),B.normalize(),g.normalize(),!1):!0;if(d==b.length-1||p!=k||q!=m||r!=n||2==v)return a=c.ic(u),null==a&&(c.pd(u,f),a=f),B.L(a.Eg(1)),g.bu(B),B.normalize(),g.normalize(),!1;a=c.ic(u);null==a&&(c.pd(u,f),a=f);g.L(a.Eg(1));a=c.ic(n);null==a&&(c.pd(n,f),a=f);B.L(a.Eg(0));g.Lr();B.normalize();g.normalize();return!1};a.XL=function(a,c,b,d,g,B){var f=new e.Hb,k=b[d].Pg,m=b[d].yn,u=b[d].em,A=-1,t=-1,h=-1,l=-1;if(!a&&d<b.length-1)var n=b[d+
1],A=n.Pg,t=n.yn,h=n.em,l=n.dj;var p=-1,q=-1,r=-1,n=-1;0<d&&(n=b[d-1],p=n.Pg,q=n.yn,r=n.em,n=n.dj);var v=c.U(k),G=c.Ra(u);return a?0==d||p!=k||q!=m||r!=G||2==n?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),B.L(a.Eg(0)),g.bu(B),B.normalize(),g.normalize(),!1):!0:0<d&&p==k&&q==m&&r==G&&2==n||d<b.length-1&&A==v&&t==m&&h==G&&2==l?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),B.L(a.Eg(0)),g.bu(B),B.normalize(),g.normalize(),!1):!0};a.ML=function(a,c,b,d,g,B,t){var f=new e.Hb,k=a.ic(g);null==k&&(a.pd(g,f),k=f);b=c[b];c=b.Pg;
b=b.tB;g=a.U(c);if(1==b)B.L(k.Eg(1)),-1!=g&&g!=a.Rj(d)?(k=a.ic(g),null==k&&(a.pd(g,f),k=f),t.L(k.Eg(0)),k=a.ic(c),null==k&&a.pd(c,f)):t.L(B),B.Lr(),t.normalize(),B.normalize();else if(0==b)t.L(k.Eg(b)),B.bu(t),t.normalize(),B.normalize();else throw e.g.za();};return a}();e.WL=a})(n||(n={}));(function(e){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(e.iO||(e.iO={}));var d=function(){function a(a,c,b){this.nd=c;this.Ai=b;this.bB=a}a.prototype.Eb=function(c){return c instanceof
a?this.Ai===c.Ai:!1};a.lH=function(c){return 0!==c.nd?null:-1===c.bB?new a(-1,2,c.Ai*c.Ai):a.ze(f[c.bB])};a.ze=function(a){a=c[a];return void 0===a?null:a};a.bR=function(c,b,f){var k=null;if(void 0!==f&&null!==f)try{"EPSG"===f.values[0]&&(k=a.ze(parseInt(f.values[1])))}catch(Y){}null===k&&(k=new a(-1,c,b));return k};a.prototype.yc=function(){return this.bB};a.prototype.OG=function(a){if(a.nd!=this.nd)throw e.g.Da();return this.Ai/a.Ai};a.li=function(a,c,b){return c.OG(b)*a};a.dG=function(a,c,b,f,
k){b=b.OG(f);for(f=0;f<c;f++)k[f]=a[f]*b};return a}();e.oc=d;for(var g=[109402,4046.8564224,109403,4046.87260987425,109463,100,109401,1E4,109461,225E8,109460,25E8,109451,1E-4,109444,404.68564224000005,109424,404.6849341289498,109428,404.68493792602754,109416,404.67838076760535,109420,404.68423895571647,109448,404.683871963536,109411,404.6872609874253,109450,.01,109408,3.34450944,109405,.09290304,109430,.09290354800069446,109423,.0929028774400711,109427,.09290287831176021,109441,.09290349665192114,
109407,.09290137299531805,109440,.09290286332673177,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109419,.09290271785025629,109447,.0929026336004445,109406,.09290341161327487,109453,6.4516E-4,109454,6.451625806477421E-4,109414,1E6,109445,.04046856422400001,109425,.04046849341289498,109429,.04046849379260275,109417,.04046783807676053,109421,.04046842389557164,109449,.0404683871963536,109412,.04046872609874253,109404,1,109410,1.000027193184865,109413,
2589998.4703195216,109452,1E-6,109409,3429904,109458,3434290.937856,109457,3434528.1495040003,109464,1.244521604938272E-7,109455,25.292852640000003,109456,25.29295381171408,109459,2.89612324,109439,2589988.110336,109462,.7168473118308245,109442,.83612736,109422,.83612589696064,109426,.836125904805842,109415,.8361123569578626,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109418,.8361244606523066,109446,.8361237024040001,109443,.8361307045194736],b=
[9103,2.908882086657216E-4,9104,4.84813681109536E-6,9102,.0174532925199433,9106,.01570796326794897,9105,.01570796326794897,9109,1E-6,9114,9.817477042468104E-4,1031,4.84813681109536E-9,9112,1.570796326794897E-4,9101,1,9113,1.570796326794897E-6],a=[109031,15E4,109461,109030,5E4,109460,1033,.01,109451,9097,20.1168,109444,9052,20.1167824,109424,9062,20.116782494375872,109428,9038,20.1166195164,109416,9042,20.116765121552632,109420,9301,20.116756,109448,9033,20.11684023368047,109411,109005,.1,109450,9014,
1.8288,109408,9002,.3048,109405,9070,.3048008333333334,109430,9051,.3047997333333333,109423,9061,.3047997347632708,109427,9095,.3048007491,109441,9005,.3047972654,109407,9094,.3047997101815088,109440,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9041,.304799471538676,109419,9300,.3047993333333334,109447,9003,.3048006096012192,109406,109008,.0254,109453,109009,.0254000508001016,109454,9036,1E3,109414,9098,.201168,109445,9053,.201167824,109425,9063,.2011678249437587,
109429,9039,.201166195164,109417,9043,.2011676512155263,109421,9302,.20116756,109449,9034,.2011684023368047,109412,9001,1,109404,9031,1.0000135965,109410,9035,1609.3472186944375,109413,1025,.001,109452,9030,1852,109409,109013,1853.184,109458,109012,1853.248,109457,109016,3.527777777777778E-4,109464,109010,5.0292,109455,109011,5.029210058420118,109456,109014,1.7018,109459,9093,1609.344,109439,109015,.8466683600033867,109462,9096,.9144,109442,9050,.9143992,109422,9060,.9143992042898124,109426,9037,
.9143917962000001,109415,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9040,.9143984146160287,109418,9099,.914398,109446,109002,.9144018288036576,109443,109001,.9144,109442,109003,20.1168,109444,109004,.201168,109445,109006,.01,109451,109007,.001,109452],c=[],f=[],k=0;k<g.length;k+=2)c[g[k]]=new d(g[k],2,g[k+1]);g=null;for(k=0;k<b.length;k+=2)c[b[k]]=new d(b[k],1,b[k+1]);b=null;for(k=0;k<a.length;k+=3)c[a[k]]=new d(a[k],0,a[k+1]),f[a[k]]=a[k+2];a=null})(n||
(n={}));(function(e){var d=function(){function e(){this.Gb=this.qb=0}e.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};e.prototype.value=function(){return this.qb};e.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.iP=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=a};e.prototype.bP=function(b,a){this.qb=
b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};e.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.Vg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.yp=function(b){var a=this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*
Math.abs(a);this.qb=a};e.prototype.pm=function(b,a){var c=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(c);this.qb=c};e.prototype.Wm=function(b){var a=Math.abs(b.qb),c=this.qb/b.qb,f=(this.Gb+Math.abs(c)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,f*=1+(1+b)*b);this.qb=c;this.Gb=f+2.220446049250313E-16*Math.abs(c)};e.prototype.sqrt=function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-
this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};e.prototype.sin=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(c)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};e.prototype.cos=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=c;c=Math.abs(c);this.Gb=(Math.abs(a)+.5*c*b.Gb)*b.Gb+2.220446049250313E-16*c};e.prototype.Lg=function(){return Math.abs(this.qb)<=
this.Gb};e.prototype.lt=function(){return this.Lg()&&0!=this.Gb};return e}();e.Xb=d})(n||(n={}));var J=new n.b,L=new n.b,O=new n.b,R=new n.b,S=new n.b;(function(e){var d;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(d||(d={}));var g=function(){function b(a,c,b,k,e,d,g){void 0!==c?(this.bb=a,this.Ck=c,this.Gl=b,this.Ji=k,this.Ca=d,this.QA=g,this.Uw=e):(this.bb=a.bb,this.Ck=a.Ck,this.Gl=a.Gl,this.Ji=a.Ji,this.Ca=a.Ca,this.QA=a.QA,
this.Uw=a.Uw);this.nI=!0}b.prototype.next=function(){return this.nI?(this.nI=!1,this.Ji):-1!=this.Ji?(this.Ji=this.bb.U(this.Ji),this.Ca++,-1!=this.Ji&&this.Ji!=this.Uw?this.Ji:this.YV()):-1};b.prototype.YV=function(){this.Gl=this.bb.Sb(this.Gl);for(this.Ca=0;-1!=this.Ck;){for(;-1!=this.Gl;this.Gl=this.bb.Sb(this.Gl))if(this.Uw=this.Ji=this.bb.cb(this.Gl),-1!=this.Ji)return this.Ji;this.Ck=this.bb.Ue(this.Ck);if(-1==this.Ck)break;if(!this.QA||e.T.Ic(this.bb.hc(this.Ck)))this.Gl=this.bb.Pb(this.Ck)}return-1};
b.xR=function(a,c,f,k,e,d,g){return new b(a,c,f,k,e,d,g)};return b}();e.MZ=g;d=function(){function b(){this.Xo=this.on=this.Yk=this.md=this.el=this.jp=this.nj=this.td=this.Bi=this.ph=this.wf=this.Hr=this.Kr=this.xb=this.nm=null;this.cx=this.sd=-1;this.vd=0;this.OA=!1;this.Hr=this.Kr=this.xb=null}b.prototype.ti=function(a){return null!=this.wf?this.wf[a]:null};b.prototype.th=function(a,c){if(null==this.wf){if(null==c)return;this.wf=[];for(var b=0,k=this.xb.D();b<k;b++)this.wf.push(null)}this.wf[a]=
c};b.prototype.Lp=function(a,c){this.td.P(a,1,c)};b.prototype.Kp=function(a,c){this.td.P(a,2,c)};b.prototype.tC=function(a,c){this.td.P(a,6,c)};b.prototype.Lq=function(a){return this.td.S(a,6)};b.prototype.Rx=function(a,c){this.td.P(a,7,c)};b.prototype.dw=function(a){return this.td.S(a,0)};b.prototype.FK=function(a,c){this.md.P(a,1,c)};b.prototype.JK=function(a,c){this.md.P(a,0,c)};b.prototype.UG=function(a){return this.md.S(a,7)};b.prototype.Ip=function(a,c){this.md.P(a,3,c)};b.prototype.Jp=function(a,
c){this.md.P(a,4,c)};b.prototype.eW=function(a){null==this.md&&(this.md=new e.ad(8));var c=this.md.Pe();this.md.P(c,2,a);this.md.P(c,5,0);this.md.P(c,6,0);this.md.P(c,7,c);return c};b.prototype.CS=function(a){this.md.kd(a)};b.prototype.gW=function(a){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));var c=this.td.Pe();this.td.P(c,0,c);this.td.P(c,3,0);this.td.P(c,6,0);this.Rx(c,a);c>=this.nj.size&&(a=16>c?16:e.J.truncate(3*c/2),this.nj.resize(a),this.jp.resize(a));
this.nj.set(c,0);this.jp.set(c,0);return c};b.prototype.DG=function(a){this.td.kd(a)};b.prototype.Dz=function(a){this.Dd.kd(a);this.vd--};b.prototype.xJ=function(a){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));var c=this.Dd.Pe(),b=0<=a?a:c;this.Dd.P(c,0,b);if(0>a){if(b>=this.xb.D()){a=16>b?16:e.J.truncate(3*b/2);this.xb.resize(a);if(null!=this.wf)for(var k=0;k<a;k++)this.wf.push(null);null!=this.ph&&this.ph.resize(a);this.Kr=this.xb.Pa(0)}this.xb.rb(b,
-1E38,-1E38);null!=this.wf&&(this.wf[b]=null);null!=this.ph&&this.ph.write(b,1)}this.Dd.P(c,4,2*b);this.vd++;return c};b.prototype.Wj=function(a,c,b){var f=-1!=c?this.Ra(c):this.Rj(a),e=-1!=f?this.U(f):-1,d=this.xJ(null==b?this.vd:-1),g=this.Za(d);null!=b&&this.xb.vu(g,b);this.Aj(d,a);this.Kc(d,e);this.Lc(d,f);-1!=e&&this.Lc(e,d);-1!=f&&this.Kc(f,d);b=this.Qb(a);f=this.cb(a);-1==c&&this.sh(a,d);c==f&&this.jg(a,d);b&&-1==e&&(this.Kc(d,d),this.Lc(d,d));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,
this.D(a)+1);return d};b.prototype.an=function(){null==this.Xo&&(this.Xo=new e.Wa(this.xb.description));return this.Xo};b.prototype.Hp=function(a,c){this.md.P(a,2,this.md.S(a,2)&-134217729||(1==c?134217728:0))};b.prototype.xo=function(a){return 0!=(this.md.S(a,2)&134217728)?1:0};b.prototype.fP=function(a){var c=this.bh(a.G(),a.description);1736==a.G()&&this.Hp(c,a.xo());this.gF(c,a);return c};b.prototype.gP=function(a){var c=this.bh(a.G(),a.description);this.hF(c,a);return c};b.prototype.PW=function(a,
c){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));this.td.Qe(this.td.yd+a);this.Dd.Qe(this.Dd.yd+c);this.nj.yb(this.nj.size+a);this.jp.yb(this.jp.size+a)};b.prototype.gF=function(a,c){this.PW(c.aa(),c.D());this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);for(var b=null!=this.wf&&null!=c.cf,k=0,m=c.aa();k<m;k++)if(!(2>c.La(k))){var d=this.Yf(a,-1);this.$n(d,c.Qb(k));for(var g=c.wa(k),B=c.Gc(k);g<B;g++){var t=this.Wj(d,-1,null);if(b)if(t=this.Za(t),0!=(c.jH(g)&
1))this.th(t,null);else{var h=new e.Cg;c.ic(g,h,!0);this.th(t,h.get())}}}};b.prototype.hF=function(a,c){this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);a=this.Yf(a,-1);var b=0;for(c=c.D();b<c;b++)this.Wj(a,-1,null)};b.prototype.GY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var m=this.an(),d=this.ld(a),g=0,B=c.Rl(b);g<B;g++){var t=this.Za(a),h=this.U(a),l=c.Mq(b,g);0==g&&(l.Dp(m),this.Yh(a,m));322==l.G()?this.th(t,null):this.th(t,e.T.oe(l));l.Bp(m);g<B-1?a=this.Wj(d,h,m):this.Yh(f,m)}};
b.prototype.FY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var m=this.an(),d=this.ld(a),g=0,B=c.Rl(b);g<B;g++){var t=this.Za(a),h=this.U(a),l=c.Mq(b,B-g-1);0==g&&(l.Bp(m),this.Yh(a,m));322==l.G()?this.th(t,null):this.th(t,e.T.oe(l));l.Dp(m);g<B-1?a=this.Wj(d,h,m):this.Yh(f,m)}};b.prototype.TG=function(){var a=new e.h;a.Oa();for(var c=this.Qr(),b=new e.b,k=!0,m=c.next();-1!=m;m=c.next())this.w(m,b),k?a.Nb(b.x,b.y):a.ml(b.x,b.y),k=!1;return a};b.prototype.Jb=function(a){var c=a.G();
if(e.T.Ic(c))return this.fP(a);if(550==c)return this.gP(a);throw e.g.za();};b.prototype.wP=function(a,c){var b=c.G();if(e.T.Ic(b))this.gF(a,c);else if(550==b)this.hF(a,c);else throw e.g.za();};b.prototype.kP=function(a,c){var b=this.bh(1736,a.description);if(2>a.La(c))return b;this.nm.Id(a,a.wa(c),a.Gc(c));this.Kr=this.xb.Pa(0);var k=this.Yf(b,-1);this.$n(k,a.Qb(c)||!0);var m=null!=this.wf&&null!=a.cf,d=a.wa(c);for(c=a.Gc(c);d<c;d++){var g=this.Wj(k,-1,null);if(m)if(g=this.Za(g),0!=(a.jH(d)&1))this.th(g,
null);else{var B=new e.Cg;a.ic(d,B,!0);this.th(g,B.get())}}return b};b.prototype.Se=function(a){var c=this.hc(a),b=e.uM.bh(c,this.nm.description),k=this.D(a);if(0==k)return b;if(e.T.Ic(c)){for(var c=this.aa(a),m=e.Uc.wh(c+1),d=e.Uc.vq(c+1,0),g=b.description,B=0,t=g.Ga;B<t;B++){for(var h=g.rd(B),l=e.ma.Xa(h),n=e.Uc.qz(h,k),p=this.xb.Pa(h),q=0,r=0,v=0,G=this.Pb(a);-1!=G;G=this.Sb(G)){var x=0;this.Qb(G)&&(x|=1);this.RU(G)&&(x|=4);0!=x&&d.iC(r,x);var w=this.La(G);m.write(r++,v);v+=w;if(0==h)for(var w=
p,y=n,z=new e.b,x=this.cb(G);q<v;x=this.U(x),q++){var C=this.Za(x);w.fc(2*C,z);y.fo(2*q,z)}else for(x=this.cb(G);q<v;x=this.U(x),q++)for(C=this.Za(x),y=0;y<l;y++)z=p.Of(C*l+y),n.Dm(q*l+y,z)}b.Yn(h,n);m.write(c,k)}b.GK(d);b.HK(m);b.Dc(16777215)}else if(550==c){g=b.description;b.resize(k);B=0;for(t=g.Ga;B<t;B++){h=g.rd(B);l=e.ma.Xa(h);n=b.Pa(h);p=this.xb.Pa(h);q=0;G=this.Pb(a);w=this.La(G);for(x=this.cb(G);q<w;x=this.U(x),q++)for(C=this.Za(x),y=0;y<l;y++)z=p.Of(C*l+y),n.Dm(q*l+y,z);b.Yn(h,n)}b.Dc(16777215)}return b};
b.prototype.aC=function(a){for(var c=this.Pb(a);-1!=c;c=this.Rr(c));var c=this.IT(a),b=this.Ue(a);-1!=c?this.FK(c,b):this.sd=b;-1!=b?this.JK(b,c):this.cx=c;this.CS(a)};b.prototype.bh=function(a,c){return void 0===c?this.gG(a,e.ye.Ig()):this.gG(a,c)};b.prototype.gG=function(a,c){a=this.eW(a);null==this.xb?this.xb=this.nm=new e.Ed(c):this.nm.om(c);this.Hr=this.nm.description;this.OA=1<this.Hr.Ga;-1==this.sd?this.sd=a:(this.JK(a,this.cx),this.FK(this.cx,a));return this.cx=a};b.prototype.Ue=function(a){return this.md.S(a,
1)};b.prototype.IT=function(a){return this.md.S(a,0)};b.prototype.hc=function(a){return this.md.S(a,2)&2147483647};b.prototype.xK=function(a,c,b){c=this.Yk[c];a=this.UG(a);a>=c.size&&c.resize(Math.max(e.J.truncate(1.25*a),16),-1);c.write(a,b)};b.prototype.VG=function(a,c){a=this.UG(a);c=this.Yk[c];return a<c.size?c.read(a):-1};b.prototype.hG=function(){null==this.Yk&&(this.Yk=[]);for(var a=0;a<this.Yk.length;a++)if(null==this.Yk[a])return this.Yk[a]=e.Uc.wh(0),a;this.Yk.push(e.Uc.wh(0));return this.Yk.length-
1};b.prototype.uX=function(a){this.Yk[a]=null};b.prototype.Pb=function(a){return this.md.S(a,3)};b.prototype.Xv=function(a){return this.md.S(a,4)};b.prototype.D=function(a){return this.md.S(a,5)};b.prototype.aa=function(a){return this.md.S(a,6)};b.prototype.zq=function(a,c,b){for(var f=0,m=this.sd;-1!=m;m=this.Ue(m)){var d=this.hc(m);if(e.T.Ic(d)&&(!b||1736==d))for(var d=1736==this.hc(m),g=this.Pb(m);-1!=g;){for(var t=0,h=this.cb(g);t<e.J.truncate(this.La(g)/2);){var l=this.U(h);if(-1==l)break;var n=
this.Za(h),p=this.ti(n);null!=p?n=p.Rb():(p=this.Za(l),n=this.xb.xs(n,p));n<=a?(0==n?0==f&&(f=-1):f=1,l!=this.Rj(g)&&(this.JC(l,h),this.ud(l,!0))):h=this.U(h);t++}t=this.cb(g);for(h=this.Qb(g)?t:this.Rj(g);0<this.La(g);)if(l=this.Ra(h),-1!=l){var q=this.Za(l),p=this.ti(q);null!=p?n=p.Rb():(n=this.Za(h),n=this.xb.xs(n,q));if(n<=a)0==n?0==f&&(f=-1):f=1,this.JC(l,h),this.ud(l,!1),t==l&&(t=this.cb(g));else if(h=this.Ra(h),h==t)break}else{this.ud(h,!0);0==f&&(f=-1);break}h=this.La(g);c&&(d?3>h:2>h)?(g=
this.Rr(g),f=0<h?1:0==f?-1:f):g=this.Sb(g)}}return f};b.prototype.JC=function(a,c){var b=this.Za(a),k=this.Za(c);null!=this.ph&&(b=this.ph.read(b),this.ph.write(k,b));if(null!=this.Bi)for(k=0,b=this.Bi.length;k<b;k++)if(null!=this.Bi[k]){var e=this.Sa(a,k);-1!=e&&this.Va(c,k,e)}};b.prototype.zm=function(a,c,b){var f=0,m=this.U(a);if(-1==m)throw e.g.za();for(var d=this.Za(a),g=this.Za(m),t=this.ti(d),h=null==t?this.xb.xs(d,g):t.Rb(),l=0;l<b;l++){var n=c[l];if(0<n&&1>n){var p=n;null!=t&&(p=0<h?t.Dy(n)/
h:0);this.xb.DE(d,g,p,this.an());var q=this.Wj(this.ld(a),m,this.an());f++;if(null!=t){var r=t.Hl(0,n),p=this.Za(this.Ra(q));this.th(p,r);this.Qf(q,r.Cc());if(l==b-1||1==c[l+1])n=t.Hl(n,1),this.th(p,n)}}}return f};b.prototype.EY=function(a,c,b){var f=0,m=this.U(a);if(-1==m)throw e.g.X("internal error");var d=this.Za(a),g=this.Za(m),t=this.ti(d),h=null==t?this.xb.xs(d,g):t.Rb(),l=0;a=this.ld(a);for(var n=0;n<b;n++){var p=c[n];if(l<p&&1>p){var q=p;null!=t&&(q=0<h?t.Dy(p)/h:0);this.xb.DE(d,g,q,this.an());
q=this.tU(a,m,this.an());f++;if(null!=t){var l=t.Hl(l,p),r=this.Za(this.Ra(q));this.th(r,l);this.rb(q,l.sa,l.oa);if(n==b-1||1==c[n+1])l=t.Hl(p,1),q=this.Za(q),this.th(q,l)}}l=p}return f};b.prototype.tU=function(a,c,b){var f=-1!=c?this.Ra(c):this.Rj(a),e=-1!=f?this.U(f):-1,d=this.xJ(null==b?this.vd:-1),g=this.Za(d);null!=b&&this.xb.vu(g,b);this.Aj(d,a);this.Kc(d,e);this.Lc(d,f);-1!=e&&this.Lc(e,d);-1!=f&&this.Kc(f,d);b=this.Qb(a);f=this.cb(a);-1==c&&this.sh(a,d);c==f&&(b&&-1!=f||this.jg(a,d));b&&-1==
e&&(this.Kc(d,d),this.Lc(d,d));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return d};b.prototype.EF=function(a,c,b){var f=this.Za(c),m=this.Za(b);if(0>f||m>this.vd-1)throw e.g.F("invalid call");if(f>m&&!this.Qb(a))throw e.g.F("cannot iterate across an open path");for(a=0;c!=b;c=this.U(c))f=this.Za(c),m=this.ti(f),null!=m?a+=m.Rb():(m=this.Za(this.U(c)),a+=this.xb.xs(f,m));return a};b.prototype.Yh=function(a,c){var b=this.Za(a);this.xb.vu(b,c);b=this.ti(b);null!=b&&b.setStart(c);a=
this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&b.setEnd(c))};b.prototype.wj=function(a,c){a=this.Za(a);this.xb.Ae(a,c)};b.prototype.Qf=function(a,c){this.rb(a,c.x,c.y)};b.prototype.rb=function(a,c,b){var f=this.Za(a);this.xb.rb(f,c,b);f=this.ti(f);null!=f&&f.wC(c,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&f.vm(c,b))};b.prototype.w=function(a,c){this.xb.w(this.Dd.S(a,0),c)};b.prototype.Nc=function(a,c){this.xb.ya[0].fc(2*this.Dd.S(a,0),c)};b.prototype.Ba=function(a){var c=new e.b;this.xb.w(this.Dd.S(a,
0),c);return c};b.prototype.pH=function(a,c){this.Kr.fc(2*a,c)};b.prototype.Yc=function(a,c,b){return this.xb.Yc(a,this.Za(c),b)};b.prototype.setAttribute=function(a,c,b,e){this.xb.setAttribute(a,this.Za(c),b,e)};b.prototype.Za=function(a){return this.Dd.S(a,0)};b.prototype.nf=function(a){var c=new e.b;this.w(a,c);return c.y};b.prototype.Uq=function(a,c){a=this.Za(a);c=this.Za(c);var b=this.xb.ya[0].f;return b[2*a]===b[2*c]&&b[2*a+1]===b[2*c+1]};b.prototype.qw=function(a,c){a=this.Za(a);var b=this.xb.ya[0].f;
return b[2*a]===c.x&&b[2*a+1]===c.y};b.prototype.qY=function(a,c){1>c&&(c=1);if(null==this.ph){if(1==c)return;this.ph=e.Uc.Um(this.xb.D(),1)}a=this.Za(a);a>=this.ph.size&&this.ph.resize(a+1,1);this.ph.write(a,c)};b.prototype.oH=function(a){a=this.Za(a);return null==this.ph||a>=this.ph.size?1:this.ph.read(a)};b.prototype.Va=function(a,c,b){c=this.Bi[c];a=this.Za(a);c.size<this.xb.D()&&c.resize(this.xb.D(),-1);c.write(a,b)};b.prototype.Sa=function(a,c){a=this.Za(a);c=this.Bi[c];return a<c.size?c.read(a):
-1};b.prototype.Vd=function(){null==this.Bi&&(this.Bi=[]);for(var a=0;a<this.Bi.length;a++)if(null==this.Bi[a])return this.Bi[a]=e.Uc.wh(0,-1),a;this.Bi.push(e.Uc.wh(0,-1));return this.Bi.length-1};b.prototype.le=function(a){this.Bi[a]=null};b.prototype.ic=function(a){return null!=this.wf?(a=this.Za(a),this.wf[a]):null};b.prototype.pd=function(a,c){var b=this.Dd.S(a,2);if(-1==b)return!1;if(this.OA){var k=new e.Wa;this.wj(a,k);c.setStart(k);this.wj(b,k);c.setEnd(k)}else this.xb.Nc(this.Dd.S(a,0),J),
c.Qm(0,J),this.xb.Nc(this.Dd.S(b,0),J),c.Qm(1,J);return!0};b.prototype.gX=function(a,c,b){if(this.OA){var f=new e.Wa;this.wj(a,f);b.setStart(f);this.wj(c,f);b.setEnd(f)}else this.xb.Nc(a,J),b.Qm(0,J),this.xb.Nc(c,J),b.Qm(1,J)};b.prototype.Yf=function(a,c){var b;if(-1!=c){if(a!=this.ng(c))throw e.g.za();b=this.ct(c)}else b=this.Xv(a);var k=this.gW(a);-1!=c&&this.Lp(c,k);this.Kp(k,c);this.Lp(k,b);-1!=b?this.Kp(b,k):this.Ip(a,k);-1==c&&this.Jp(a,k);this.wm(a,this.aa(a)+1);return k};b.prototype.BH=function(a,
c,b,e){a=this.Yf(a,-1);for(var f=0,k=c,d=!1;k==b&&(d=!0),this.Aj(k,a),f++,k=this.U(k),k!=c;);this.$n(a,!0);this.nk(a,f);d&&(c=b);this.jg(a,c);this.sh(a,this.Ra(c));this.Np(a,!1);null!=e&&(e[0]=d);return a};b.prototype.Rr=function(a){var c=this.ct(a),b=this.Sb(a),e=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(e,b);-1!=b?this.Lp(b,c):this.Jp(e,c);this.DQ(a);this.wm(e,this.aa(e)-1);this.DG(a);return b};b.prototype.DQ=function(a){var c=this.cb(a);if(-1!=c){for(var b=0,e=this.La(a);b<e;b++){var m=c,c=this.U(c);
this.Dz(m)}c=this.ng(a);this.lk(c,this.D(c)-this.La(a))}this.nk(a,0)};b.prototype.Sb=function(a){return this.td.S(a,2)};b.prototype.ct=function(a){return this.td.S(a,1)};b.prototype.La=function(a){return this.td.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.$n=function(a,c){if(this.Qb(a)!=c){if(0<this.La(a)){var b=this.cb(a),e=this.Rj(a);c?(this.Kc(e,b),this.Lc(b,e)):(this.Kc(e,-1),this.Lc(b,-1));b=this.Za(e);this.th(b,null)}this.tC(a,(this.Lq(a)|1)-1|(c?1:0))}};b.prototype.ng=
function(a){return this.td.S(a,7)};b.prototype.RU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.oC=function(a,c){this.tC(a,(this.Lq(a)|2)-2|(c?2:0))};b.prototype.gA=function(a){if(this.XU(a))return this.nj.get(this.dw(a));var c=new e.Hb,b=this.cb(a);if(-1==b)return 0;var k=new e.b;this.w(b,k);for(var m=0,d=0,g=this.La(a);d<g;d++,b=this.U(b)){var t=this.ic(b);if(null==t){if(!this.pd(b,c))continue;t=c}m+=t.Cy(k.x,k.y)}this.Np(a,!0);this.nj.set(this.dw(a),m);return m};b.prototype.$r=function(a,c,
b){c=this.el[c];a=this.dw(a);c.size<this.nj.size&&c.resize(this.nj.size,-1);c.write(a,b)};b.prototype.Tj=function(a,c){a=this.dw(a);c=this.el[c];return a<c.size?c.read(a):-1};b.prototype.rz=function(){null==this.el&&(this.el=[]);for(var a=0;a<this.el.length;a++)if(null==this.el[a])return this.el[a]=e.Uc.wh(0),a;this.el.push(e.Uc.wh(0));return this.el.length-1};b.prototype.bC=function(a){this.el[a]=null};b.prototype.XV=function(a,c,b){if(-1==b)throw e.g.F();if(c!=b){var f=this.Sb(b),m=this.ct(b),d=
this.ng(b);-1==m?this.Ip(d,f):this.Kp(m,f);-1==f?this.Jp(d,m):this.Lp(f,m);this.lk(d,this.D(d)-this.La(b));this.wm(d,this.aa(d)-1);m=-1==c?this.Xv(a):this.ct(c);this.Lp(b,m);this.Kp(b,c);-1==c?this.Jp(a,b):this.Lp(c,b);-1==m?this.Ip(a,b):this.Kp(m,b);this.lk(a,this.D(a)+this.La(b));this.wm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Kj=function(a,c){this.xb.Ae(this.Za(c),this.an());this.Wj(a,-1,this.an())};b.prototype.ud=function(a,c){var b=this.ld(a),k=this.Ra(a),m=this.U(a);-1!=k&&this.Kc(k,m);var d=
this.La(b);a==this.cb(b)&&this.jg(b,1<d?m:-1);-1!=m&&this.Lc(m,k);a==this.Rj(b)&&this.sh(b,1<d?k:-1);if(-1!=k&&-1!=m){var k=this.Za(k),g=this.Za(m);c?(c=this.ti(k),null!=c&&(k=new e.b,this.xb.w(g,k),c.Zc(k))):(g=this.Za(a),c=this.ti(g),this.th(k,c),null!=c&&(k=this.xb.Ba(k),c.Mc(k)))}this.nk(b,d-1);b=this.ng(b);this.lk(b,this.D(b)-1);this.Dz(a);return m};b.prototype.cb=function(a){return this.td.S(a,4)};b.prototype.Rj=function(a){return this.td.S(a,5)};b.prototype.U=function(a){return this.Dd.S(a,
2)};b.prototype.Ra=function(a){return this.Dd.S(a,1)};b.prototype.ld=function(a){return this.Dd.S(a,3)};b.prototype.pc=function(a,c){return this.Wj(a,-1,c)};b.prototype.Qr=function(a){if(void 0===a)return this.Qr(!1);if(a instanceof g)return new g(a);var c,b=-1,k=-1,m=-1,d=0,A=!1;for(c=this.sd;-1!=c;c=this.Ue(c))if(!a||e.T.Ic(this.hc(c))){for(b=this.Pb(c);-1!=b;b=this.Sb(b))if(m=k=this.cb(b),d=0,-1!=k){A=!0;break}if(A)break}return g.xR(this,c,b,k,m,d,a)};b.prototype.Xc=function(a){this.nm.Xc(a);if(null!=
this.wf)for(var c=0,b=this.wf.length;c<b;c++)null!=this.wf[c]&&this.wf[c].Xc(a)};b.prototype.bs=function(a,c,b,e){e?this.GY(a,c,b):this.FY(a,c,b)};b.prototype.Lc=function(a,c){this.Dd.P(a,1,c)};b.prototype.Kc=function(a,c){this.Dd.P(a,2,c)};b.prototype.Aj=function(a,c){this.Dd.P(a,3,c)};b.prototype.nk=function(a,c){this.td.P(a,3,c)};b.prototype.jg=function(a,c){this.td.P(a,4,c)};b.prototype.sh=function(a,c){this.td.P(a,5,c)};b.prototype.wm=function(a,c){this.md.P(a,6,c)};b.prototype.lk=function(a,
c){this.md.P(a,5,c)};b.prototype.fK=function(a){var c=a;do{var b=this.U(c);this.Kc(c,this.Ra(c));this.Lc(c,b);c=b}while(c!=a)};b.prototype.zC=function(a){this.vd=a};b.prototype.Sr=function(a){var c=this.ct(a),b=this.Sb(a),e=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(e,b);-1!=b?this.Lp(b,c):this.Jp(e,c);this.jg(a,-1);this.sh(a,-1);this.DG(a)};b.prototype.Mi=function(a,c){var b=this.Ra(a),k=this.U(a);-1!=b&&this.Kc(b,k);-1!=k&&this.Lc(k,b);if(-1!=b&&-1!=k)if(b=this.Za(b),k=this.Za(k),c){if(c=this.ti(b),
null!=c){var m=new e.b;this.xb.w(k,m);c.Zc(m)}}else k=this.Za(a),c=this.ti(k),this.th(b,c),null!=c&&(m=new e.b,this.xb.w(b,m),c.Mc(m));this.Dz(a)};b.prototype.XU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Np=function(a,c){this.tC(a,(this.Lq(a)|4)-4|(c?4:0))};b.prototype.Xx=function(a,c){var b=this.Dd.f;this.xb.wc();var e=this.xb.ya[0].f;a.Gd(0,c,function(a,c){a=b[5*a];c=b[5*c];var f=e[2*a];a=e[2*a+1];var k=e[2*c];c=e[2*c+1];return a<c?-1:a>c?1:f<k?-1:f>k?1:0})};b.prototype.dU=function(){for(var a=
this.sd;-1!=a;a=this.Ue(a))if(!e.T.Ic(this.hc(a)))return!0;return!1};b.prototype.EC=function(a,c){for(var b=this.Pb(a),e=this.Pb(c),m=this.Xv(a),d=this.Xv(c),g=this.Pb(a);-1!=g;g=this.Sb(g))this.Rx(g,c);for(g=this.Pb(c);-1!=g;g=this.Sb(g))this.Rx(g,a);this.Ip(a,e);this.Ip(c,b);this.Jp(a,d);this.Jp(c,m);b=this.D(a);e=this.aa(a);m=this.aa(c);this.lk(a,this.D(c));this.lk(c,b);this.wm(a,m);this.wm(c,e);b=this.md.S(a,2);this.md.P(a,2,this.md.S(c,2));this.md.P(c,2,b)};return b}();e.fd=d})(n||(n={}));(function(e){var d=
function(d){function b(a,c,b,k){d.call(this);this.R=new e.h;void 0===a?this.$F():"number"===typeof a?this.YQ(a,c,b,k):a instanceof e.Wa?void 0!==c?this.Ev(a,c,b):this.ZQ(a):a instanceof e.ma?void 0!==c?this.aR(a,c):this.$Q(a):a instanceof e.h?this.XQ(a):this.$F()}K(b,d);b.prototype.Ev=function(a,c,b){this.description=e.ye.Ig();this.R.Oa();a.u()||this.cv(a,c,b)};b.prototype.XQ=function(a){this.description=e.ye.Ig();this.R.I(a);this.R.normalize()};b.prototype.$Q=function(a){if(null==a)throw e.g.F();
this.description=a;this.R.Oa()};b.prototype.aR=function(a,c){if(null==a)throw e.g.F();this.description=a;this.R.I(c);this.R.normalize()};b.prototype.$F=function(){this.description=e.ye.Ig();this.R.Oa()};b.prototype.ZQ=function(a){this.description=e.ye.Ig();this.R.Oa();a.u()||this.cv(a)};b.prototype.YQ=function(a,c,b,k){this.description=e.ye.Ig();this.I(a,c,b,k)};b.prototype.I=function(a,c,b,e){this.Bc();if("number"===typeof a)this.R.I(a,c,b,e);else for(this.Oa(),c=0,b=a.length;c<b;c++)this.Nb(a[c])};
b.prototype.Gp=function(a){this.Bc();if(!a.ZU())throw e.g.F();this.R.I(a)};b.prototype.Oa=function(){this.Bc();this.R.Oa()};b.prototype.u=function(){return this.R.u()};b.prototype.N=function(){return this.R.N()};b.prototype.fa=function(){return this.R.fa()};b.prototype.Hk=function(){return this.R.Hk()};b.prototype.Cq=function(){return this.R.Cq()};b.prototype.Bq=function(){return this.R.Wf()};b.prototype.Nb=function(a){if(a instanceof e.b)this.Bc(),this.R.Nb(a);else if(a instanceof e.h)this.Bc(),
this.R.Nb(a);else if(a instanceof e.Wa){if(this.Bc(),!a.Hc()){var c=a.description;this.description!=c&&this.om(c);if(this.u())this.cv(a);else{this.R.Nb(a.w());for(var f=1,k=c.Ga;f<k;f++)for(var m=c.Td(f),d=e.ma.Xa(m),g=0;g<d;g++){var t=a.Yc(m,g),h=this.xf(m,g);h.Nb(t);setInterval(m,g,h)}}}}else if(a instanceof b&&!a.u())for(c=a.description,c!=this.description&&this.om(c),this.R.Nb(a.R),f=1,k=c.Ga;f<k;f++)for(m=c.rd(f),d=e.ma.Xa(m),g=0;g<d;g++)t=a.xf(m,g),h=this.xf(m,g),h.Nb(t),setInterval(m,g,h)};
b.prototype.cv=function(a,c,b){if(void 0!==c){this.R.I(a.w(),c,b);c=a.description;b=1;for(var f=c.Ga;b<f;b++)for(var m=c.Td(b),d=e.ma.Xa(m),g=0;g<d;g++){var t=a.Yc(m,g);this.setInterval(m,g,t,t)}}else for(this.R.I(a.la[0],a.la[1]),c=a.description,b=1,f=c.Ga;b<f;b++)for(m=c.Td(b),d=e.ma.Xa(m),g=0;g<d;g++)t=a.Yc(m,g),this.setInterval(m,g,t,t)};b.prototype.setInterval=function(a,c,b,k){var f=null;"number"===typeof b?f=new e.Ac(b,k):f=b;this.Bc();if(0==a)if(0==c)this.R.o=f.ca,this.R.v=f.ha;else if(1==
c)this.R.A=f.ca,this.R.B=f.ha;else throw e.g.wd();else this.LE(0,a,c,f.ca),this.LE(1,a,c,f.ha)};b.prototype.O=function(a,c){this.Bc();this.R.O(a,c)};b.prototype.Xc=function(a){if(a instanceof e.Hd)this.Bc(),a.KC(this.R);else if(this.Bc(),!this.R.u()){var c=new e.dM;this.Cp(c);c.QU()?c.Oa():a.KC(c)}};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.Bc();a.description=this.description;a.R.I(this.R);a.la=null;if(null!=this.la){a.Yu();for(var c=0;c<2*(this.description.af.length-2);c++)a.la[c]=
this.la[c]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.hf=function(){return this.R.IG()};b.prototype.Rb=function(){return this.R.ZG()};b.prototype.G=function(){return 197};b.prototype.tb=function(){return 2};b.prototype.Qn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B};b.prototype.Cp=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B;a.I(this.R.o,this.R.A,this.ae(0,1,0),this.R.v,this.R.B,this.ae(1,
1,0))};b.prototype.xf=function(a,c){var b=new e.Ac;b.I(this.ae(0,a,c),this.ae(1,a,c));return b};b.prototype.ig=function(a,c){c.Fg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(0,k,d));c.rb(this.R.o,this.R.A);break;case 1:for(a=0;a<b;a++)for(k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(1,k,d));c.rb(this.R.o,this.R.B);break;case 2:for(a=0;a<b;a++)for(k=
this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(0,k,d));c.rb(this.R.v,this.R.B);break;case 3:for(a=0;a<b;a++)for(k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(1,k,d));c.rb(this.R.v,this.R.A);break;default:throw e.g.wd();}};b.prototype.Gx=function(a,c){a=this.R.Gx(a);c.ka(a.x,a.y)};b.prototype.bT=function(a,c){return c*(a.Er-2)};b.prototype.JG=function(a,c,b){if(this.R.u())throw e.g.X("empty geometry");if(0==c)return 0!=a?0!=b?this.R.B:this.R.v:
0!=b?this.R.A:this.R.o;if(b>=e.ma.Xa(c))throw e.g.F();var f=this.description.mg(c);this.Yu();return 0<=f?this.la[this.bT(this.description,a)+this.description.ET(f)-2+b]:e.ma.de(c)};b.prototype.Yu=function(){this.Bc();if(null==this.la&&2<this.description.af.length){this.la=[];for(var a=b.$(this.description,0),c=b.$(this.description,1),f=0,k=1,m=this.description.Ga;k<m;k++)for(var d=this.description.rd(k),g=e.ma.Xa(d),d=e.ma.de(d),t=0;t<g;t++)this.la[a+f]=d,this.la[c+f]=d,f++}};b.prototype.mo=function(a){if(null!=
this.la)if(2<a.af.length){for(var c=e.ye.vx(a,this.description),f=[],k=b.$(this.description,0),m=b.$(this.description,1),d=b.$(a,0),g=b.$(a,1),t=0,h=1,l=a.Ga;h<l;h++){var n=a.rd(h),p=e.ma.Xa(n);if(-1==c[h])for(var q=e.ma.de(n),n=0;n<p;n++)f[d+t]=q,f[g+t]=q,t++;else for(q=this.description.xk(c[h])-2,n=0;n<p;n++)f[d+t]=this.la[k+q],f[g+t]=this.la[m+q],t++,q++}this.la=f}else this.la=null;this.description=a};b.prototype.ae=function(a,c,f){if(this.R.u())throw e.g.X("This operation was performed on an Empty Geometry.");
if(0==c)return 0!=a?0!=f?this.R.B:this.R.v:0!=f?this.R.A:this.R.o;if(f>=e.ma.Xa(c))throw e.g.wd();var k=this.description.mg(c);return 0<=k?(this.Yu(),this.la[b.$(this.description,a)+this.description.xk(k)-2+f]):e.ma.de(c)};b.prototype.LE=function(a,c,f,k){this.Bc();if(0==c)0!=a?0!=f?this.R.B=k:this.R.v=k:0!=f?this.R.A=k:this.R.o=k;else{if(f>=e.ma.Xa(c))throw e.g.wd();if(!this.hasAttribute(c)){if(e.ma.PH(c,k))return;this.Ud(c)}c=this.description.mg(c);this.Yu();this.la[b.$(this.description,a)+this.description.xk(c)-
2+f]=k}};b.$=function(a,c){return c*(a.af.length-2)};b.prototype.Ma=function(a){this.Bc();var c=new e.h;a.s(c);return this.R.Ma(c)};b.prototype.Yb=function(a){return a instanceof e.h?this.R.Yb(a):this.R.Yb(a.R)};b.prototype.xv=function(a,c,b){this.Bc();a.u()?this.Oa():void 0!==c?this.cv(a,c,b):this.R.xv(a.Be(),a.nf())};b.prototype.offset=function(a,c){this.Bc();this.R.offset(a,c)};b.prototype.normalize=function(){this.Bc();this.R.normalize()};b.prototype.Wf=function(a){if(void 0!==a)if(a.Fg(this.description),
this.u())a.Oa();else{for(var c=this.description.Ga,b=1;b<c;b++)for(var k=this.description.rd(b),m=e.ma.Xa(k),d=0;d<m;d++){var g=.5*(this.JG(0,k,d)+this.JG(1,k,d));a.setAttribute(k,d,g)}a.rb(this.R.Wf())}else{a=new e.Wa(this.description);if(this.u())return a;c=this.description.Ga;for(b=1;b<c;b++)for(k=this.description.Td(b),m=e.ma.Xa(k),d=0;d<m;d++)g=.5*(this.ae(0,k,d)+this.ae(1,k,d)),a.setAttribute(k,d,g);a.rb(this.R.Hk(),this.R.Cq());return a}};b.prototype.Yz=function(){return new e.Wa(this.R.Yz())};
b.prototype.contains=function(a){return a instanceof e.Wa?a.u()?!1:this.R.contains(a.Be(),a.nf()):this.R.contains(a.R)};b.prototype.gR=function(a){return this.R.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.R.Eb(a.R))return!1;for(var c=0,f=2*(this.description.af.length-2);c<f;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc(),a=e.J.dh(a,
this.R.jc());if(!this.u()&&null!=this.la)for(var c=0,b=2*(this.description.af.length-2);c<b;c++)a=e.J.dh(a,this.la[c]);return a};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.R.o+", "+this.R.A+", "+this.R.v+", "+this.R.B+"]"};return b}(e.T);e.ci=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=c,this.B=f)}d.pa=function(b,a,c,f){var e=new d;e.o=b;e.A=
a;e.v=c;e.B=f;return e};d.prototype.I=function(b,a,c,f){"number"===typeof b?void 0!==c?(this.o=b,this.A=a,this.v=c,this.B=f,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof e.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof d?this.I(b.o,b.A,b.v,b.B):b instanceof e.Ac&&(b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha))};d.prototype.nT=function(b,a){var c=
new d;c.I(this.o,this.A,this.v,this.B);c.O(b,a);return c};d.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var c=1;c<a;c++){var f=b[c];f.x<this.o?this.o=f.x:f.x>this.v&&(this.v=f.x);f.y<this.A?this.A=f.y:f.y>this.B&&(this.B=f.y)}}else if(null==b||0==b.length)this.Oa();else for(f=b[0],this.I(f.x,f.y),c=1;c<b.length;c++)f=b[c],this.ml(f.x,f.y)};d.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};
d.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof e.b?this.Nb(b.x,b.y):b instanceof e.qd?this.Nb(b.x,b.y):b instanceof d&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};d.prototype.ml=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};d.prototype.O=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>
this.v||this.A>this.B)&&this.Oa())};d.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};d.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.TH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);
b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};d.prototype.Gx=function(b){switch(b){case 0:return e.b.pa(this.o,this.A);case 1:return e.b.pa(this.o,this.B);case 2:return e.b.pa(this.v,this.B);case 3:return e.b.pa(this.v,this.A);default:throw e.g.wd();}};d.prototype.PB=function(b){if(null==b||4>b.length)throw e.g.F();null!=b[0]?b[0].ka(this.o,this.A):b[0]=e.b.pa(this.o,this.A);null!=b[1]?b[1].ka(this.o,this.B):b[1]=e.b.pa(this.o,this.B);null!=b[2]?b[2].ka(this.v,this.B):
b[2]=e.b.pa(this.v,this.B);null!=b[3]?b[3].ka(this.v,this.A):b[3]=e.b.pa(this.v,this.A)};d.prototype.IG=function(){return this.u()?0:this.N()*this.fa()};d.prototype.ZG=function(){return this.u()?0:2*(this.N()+this.fa())};d.prototype.Hk=function(){return(this.v+this.o)/2};d.prototype.Cq=function(){return(this.B+this.A)/2};d.prototype.N=function(){return this.v-this.o};d.prototype.fa=function(){return this.B-this.A};d.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};
d.prototype.xv=function(b,a){if(void 0!==a)this.move(b-this.Hk(),a-this.Cq());else if(b instanceof e.b)this.xv(b.x,b.y);else if(b instanceof e.Wa){a=(this.v-this.o)/2;var c=(this.B-this.A)/2;this.o=b.Be()-a;this.v=b.Be()+a;this.A=b.nf()-c;this.B=b.nf()+c}else throw e.g.F();};d.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};d.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,
this.B);this.A=b;this.B=a}};d.prototype.Tn=function(b){b.ka(this.o,this.A)};d.prototype.TJ=function(b){b.ka(this.v,this.A)};d.prototype.WJ=function(b){b.ka(this.o,this.B)};d.prototype.Un=function(b){b.ka(this.v,this.B)};d.prototype.ZU=function(){return this.u()||this.o<=this.v&&this.A<=this.B};d.prototype.Wf=function(){return e.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};d.prototype.Yz=function(){return e.b.pa(this.o,this.A)};d.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&
a>=this.A&&a<=this.B;if(b instanceof e.Wa)return this.contains(b.Be(),b.nf());if(b instanceof e.b)return this.contains(b.x,b.y);if(b instanceof d)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw e.g.F();};d.prototype.Tm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof e.b)return this.Tm(b.x,b.y);if(b instanceof d)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw e.g.F();};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?
this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};d.prototype.jc=function(){var b=this.o,b=e.J.truncate(b^b>>>32),a=e.J.dh(b),b=this.v,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.A,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.B,b=e.J.truncate(b^b>>>32);return a=e.J.dh(b,a)};d.prototype.Ny=function(b){var a=new e.b;a.L(b);if(a.Hy())return a;if(this.u())return a.dv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;
b=this.Wf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};d.prototype.Wu=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,c=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+c+this.B-b.y:b.y==this.A?2*a+c+this.v-b.x:this.Wu(this.Ny(b))};d.prototype.zE=function(b){if(this.u())return-1;b=this.Wu(b);var a=this.B-this.A,c=this.v-this.o;return b<a?0:(b-=a)<c?1:b-c<a?2:3};d.prototype.no=
function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};d.prototype.gz=function(b,a){var c=this.wk(b),f=this.wk(a);if(0!=(c&f))return 0;if(0==(c|f))return 4;var e=(0!=c?1:0)|(0!=f?2:0);do{var m=a.x-b.x,u=a.y-b.y;m>u?0!=(c&d.bd)?(0!=(c&d.Bb)?(b.y+=u*(this.o-b.x)/m,b.x=this.o):(b.y+=u*(this.v-b.x)/m,b.x=this.v),c=this.wk(b)):0!=(f&d.bd)?(0!=(f&d.Bb)?(a.y+=u*(this.o-a.x)/m,a.x=this.o):(a.y+=u*(this.v-a.x)/m,a.x=this.v),
f=this.wk(a)):0!=c?(0!=(c&d.tc)?(b.x+=m*(this.A-b.y)/u,b.y=this.A):(b.x+=m*(this.B-b.y)/u,b.y=this.B),c=this.wk(b)):(0!=(f&d.tc)?(a.x+=m*(this.A-a.y)/u,a.y=this.A):(a.x+=m*(this.B-a.y)/u,a.y=this.B),f=this.wk(a)):0!=(c&d.fe)?(0!=(c&d.tc)?(b.x+=m*(this.A-b.y)/u,b.y=this.A):(b.x+=m*(this.B-b.y)/u,b.y=this.B),c=this.wk(b)):0!=(f&d.fe)?(0!=(f&d.tc)?(a.x+=m*(this.A-a.y)/u,a.y=this.A):(a.x+=m*(this.B-a.y)/u,a.y=this.B),f=this.wk(a)):0!=c?(0!=(c&d.Bb)?(b.y+=u*(this.o-b.x)/m,b.x=this.o):(b.y+=u*(this.v-b.x)/
m,b.x=this.v),c=this.wk(b)):(0!=(f&d.Bb)?(a.y+=u*(this.o-a.x)/m,a.x=this.o):(a.y+=u*(this.v-a.x)/m,a.x=this.v),f=this.wk(a));if(0!=(c&f))return 0}while(0!=(c|f));return e};d.prototype.wk=function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};d.prototype.fh=function(b){return!this.u()&&(this.N()<=b||this.fa()<=b)};d.prototype.Cb=function(b){return b instanceof e.b?Math.sqrt(this.ZK(b)):Math.sqrt(this.Zx(b))};d.prototype.Zx=function(b){var a=0,c=0,f;f=this.o-
b.v;f>a&&(a=f);f=this.A-b.B;f>c&&(c=f);f=b.o-this.v;f>a&&(a=f);f=b.A-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.ZK=function(b){var a=0,c=0,f;f=this.o-b.x;f>a&&(a=f);f=this.A-b.y;f>c&&(c=f);f=b.x-this.v;f>a&&(a=f);f=b.y-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.Sn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};d.CO=function(b,a,c,f){var e=1;isNaN(b)||(e+=Math.abs(b));isNaN(a)||(e+=Math.abs(a));isNaN(c)||(e+=Math.abs(c));isNaN(f)||(e+=Math.abs(f));return 2.220446049250313E-14*e};d.Bb=1;d.tc=
4;d.bd=3;d.fe=12;return d}();e.h=d})(n||(n={}));(function(e){var d;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=
12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(d||(d={}));var g=function(){function b(a,c){this.Ci=a;this.pI=c}b.prototype.hs=function(a,c,b){this.Ci.DY(b,a,c,this.pI)};b.prototype.Qq=function(a){return this.Ci.Ms(a,this.pI)};return b}();d=function(){function b(){this.ax=this.bp=this.If=this.Bd=null;this.lr=new e.h;this.on=this.ck=this.dk=this.Qd=this.fg=this.Yd=
this.Qw=this.Uo=this.Ad=this.Lb=null;this.Zb=-1;this.ta=0;this.ql()}b.prototype.cs=function(){this.ql();this.Bw=!0;null==this.Lb?(this.Uo=new e.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.jd=function(a,c){if(!this.Bw)throw e.g.Da();var b=new e.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw e.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Pc=!1)};b.prototype.bL=function(){this.ql();this.Aw=!0;null==this.Lb?(this.Uo=new e.ia(0),
this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.ZE=function(a,c){if(!this.Aw)throw e.g.Da();var b=new e.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.tG=function(){if(!this.Aw)throw e.g.Da();this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Pc=!1)};b.prototype.aL=function(){this.ql();this.zw=!0;null==this.Ad?(this.Qw=new e.ia(0),this.Ad=[]):(this.Qw.yf(0),this.Ad.length=0)};b.prototype.VE=
function(a,c){if(!this.zw)throw e.g.Da();var b=new e.h;b.I(c);this.Qw.add(a);this.Ad.push(b)};b.prototype.sG=function(){if(!this.zw)throw e.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Pc=!1)};b.prototype.next=function(){if(this.Pc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.qA();break;case 1:a=this.mU();break;case 2:a=this.jU();break;case 3:a=this.lU();break;case 4:a=this.NY();
break;case 5:a=this.JY();break;case 6:a=this.KY();break;case 7:a=this.LY();break;case 8:a=this.by();break;case 9:a=this.FC();break;case 10:a=this.CA();break;case 11:a=this.cV();break;case 12:a=this.$U();break;case 13:a=this.aV();break;case 14:a=this.bV();break;case 15:a=this.$J();break;case 16:a=this.ZJ();break;default:throw e.g.za();}return this.Pc?!1:!0};b.prototype.yC=function(a){this.ta=a};b.prototype.eA=function(a){return this.Lb[a]};b.prototype.Iz=function(a){return this.Ad[a]};b.prototype.Ql=
function(a){return this.Uo.read(a)};b.prototype.Ml=function(a){return this.Qw.read(a)};b.JB=function(a){return 1==(a&1)};b.Gm=function(a){return 0==(a&1)};b.prototype.ql=function(){this.Bw=this.zw=this.Aw=!1;this.dg=this.eg=this.nh=this.Ne=-1;this.Pc=!0};b.prototype.qA=function(){this.bg=this.sg=-1;if(10>this.Lb.length)return this.Ne=this.Lb.length,this.Zb=5,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];
this.Bd.zs(c.o,c.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,2*this.Lb.length,!0);this.Ne=2*this.Lb.length;this.Zb=4;return!0};b.prototype.mU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();
this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,this.Yd.size,!0);this.Ne=this.Yd.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Zb=7;return this.ZJ()};b.prototype.jU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.If&&(this.If=new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.If.cs();for(var a=0;a<this.Ad.length;a++){var c=this.Ad[a];
this.If.zs(c.o,c.v)}this.If.yq();this.fg.yb(2*this.Ad.length);this.fg.resize(0);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.fg,this.fg.size,!1);this.nh=this.fg.size;-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return this.$J()};b.prototype.lU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));null==this.If&&(this.If=
new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.If.cs();for(a=0;a<this.Ad.length;a++)c=this.Ad[a],this.If.zs(c.o,c.v);this.If.yq();this.Yd.yb(2*this.Lb.length);this.fg.yb(2*this.Ad.length);this.Yd.resize(0);this.fg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.Yd,this.Yd.size,!0);this.yu(this.fg,this.fg.size,!1);this.Ne=this.Yd.size;
this.nh=this.fg.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return!0};b.prototype.NY=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;this.bp.dC(this.Lb[c].o,this.Lb[c].v,this.ta);this.sg=c;this.Zb=10;return!0};b.prototype.JY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.nh=this.sg=this.Ne;this.Zb=
13;return!0};b.prototype.KY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.sg=this.Ne;this.nh=this.Ad.length;this.Zb=14;return!0};b.prototype.LY=function(){var a=this.Yd.get(this.Ne-1),c=this.fg.get(this.nh-1),f=this.Ms(a,!0),e=this.Ms(c,!1);return f>e?this.by():f<e?this.FC():b.JB(a)?this.by():b.JB(c)?this.FC():this.by()};b.prototype.by=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return-1!=this.eg&&-1!=this.dk.get(c)?(this.Qd.kd(this.eg,this.dk.get(c)),this.dk.set(c,
-1)):this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.dg&&0<this.Qd.at(this.dg))for(a=this.Qd.xc(this.dg);-1!=a;){var f=this.Qd.getData(a);this.If.eh(f);this.ck.set(f,-1);f=this.Qd.nb(a);this.Qd.kd(this.dg,a);a=f}0<this.If.size()?(this.ax.dC(this.Lb[c].o,this.Lb[c].v,this.ta),this.sg=c,this.Zb=12):(-1==this.eg&&(null==this.Qd&&(this.Qd=new e.Xp),this.dk=new e.ia(0),this.dk.resize(this.Lb.length,-1),this.dk.Zh(-1,0,this.Lb.length),this.eg=this.Qd.mi(1)),this.dk.set(c,
this.Qd.addElement(this.eg,c)),this.Zb=7);return!0};b.prototype.FC=function(){var a=this.fg.get(--this.nh),c=a>>1;if(b.Gm(a))return-1!=this.dg&&-1!=this.ck.get(c)?(this.Qd.kd(this.dg,this.ck.get(c)),this.ck.set(c,-1)):this.If.remove(c),0==this.nh?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.eg&&0<this.Qd.at(this.eg))for(a=this.Qd.xc(this.eg);-1!=a;){var f=this.Qd.getData(a);this.Bd.eh(f);this.dk.set(f,-1);f=this.Qd.nb(a);this.Qd.kd(this.eg,a);a=f}0<this.Bd.size()?(this.bp.dC(this.Ad[c].o,this.Ad[c].v,
this.ta),this.bg=c,this.Zb=11):(-1==this.dg&&(null==this.Qd&&(this.Qd=new e.Xp),this.ck=new e.ia(0),this.ck.resize(this.Ad.length,-1),this.ck.Zh(-1,0,this.Ad.length),this.dg=this.Qd.mi(0)),this.ck.set(c,this.Qd.addElement(this.dg,c)),this.Zb=7);return!0};b.prototype.CA=function(){this.bg=this.bp.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=4;return!0};b.prototype.cV=function(){this.sg=this.bp.next();if(-1!=this.sg)return!1;this.bg=this.sg=-1;var a=this.fg.get(this.nh)>>
1;this.If.eh(a);this.Zb=7;return!0};b.prototype.$U=function(){this.bg=this.ax.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=7;return!0};b.prototype.aV=function(){if(-1==--this.nh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Lb[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.bV=function(){if(-1==--this.nh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Ad[this.nh];this.lr.O(this.ta,this.ta);
return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.$J=function(){if(null==this.Bd)return this.Pc=!0,!1;this.Ne=this.Yd.size;0<this.Bd.size()&&this.Bd.reset();-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Pc=!1;return!0};b.prototype.ZJ=function(){if(null==this.If)return this.Pc=!0,!1;this.nh=this.fg.size;0<this.If.size()&&this.If.reset();-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Pc=!1;return!0};b.prototype.yu=function(a,c,b){null==this.on&&(this.on=
new e.Hu);b=new g(this,b);this.on.sort(a,0,c,b)};b.prototype.DY=function(a,c,f,e){var k=this;a.Gd(c,f,function(a,c){var f=k.Ms(a,e),m=k.Ms(c,e);return f<m||f==m&&b.Gm(a)&&b.JB(c)?-1:1})};b.prototype.Ms=function(a,c){var f=.5*this.ta;if(c)return c=this.Lb[a>>1],f=b.Gm(a)?c.A-f:c.B+f;c=this.Ad[a>>1];return f=b.Gm(a)?c.A-f:c.B+f};return b}();e.fD=d})(n||(n={}));(function(e){var d=function(){function d(){}d.pa=function(b,a,c,f,e,m){var k=new d;k.o=b;k.A=a;k.Bf=c;k.v=f;k.B=e;k.$g=m;return k};d.prototype.Oa=
function(){this.Bf=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};d.prototype.QU=function(){return isNaN(this.Bf)};d.prototype.I=function(b,a,c,f,e,m){void 0!==f?"number"===typeof b?(this.o=b,this.A=a,this.Bf=c,this.v=f,this.B=e,this.$g=m):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.Bf=b.z-.5*f,this.$g=this.Bf+f):(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c)};d.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.Bf+=b.z;this.v+=b.x;this.B+=b.y;
this.$g+=b.z};d.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};d.prototype.ml=function(b,a,c){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.Bf)?this.Bf>c?this.Bf=c:this.$g<c&&(this.$g=c):this.$g=this.Bf=c};d.prototype.Nb=function(b,a,c,f,k,m){if("number"===typeof b)f?(this.Nb(b,a,c),this.Nb(f,k,m)):this.u()?(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c):this.ml(b,a,c);else if(b instanceof e.qd)this.Nb(b.x,b.y,b.z);
else if(b instanceof d)b.u()||(this.Nb(b.o,b.A,b.Bf),this.Nb(b.v,b.B,b.$g));else throw e.g.F();};d.prototype.pa=function(b,a,c){b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha,this.Bf=c.ca,this.$g=c.ha)};d.prototype.PB=function(b){if(null==b||8>b.length)throw e.g.F();b[0]=new e.qd(this.o,this.A,this.Bf);b[1]=new e.qd(this.o,this.B,this.Bf);b[2]=new e.qd(this.v,this.B,this.Bf);b[3]=new e.qd(this.v,this.A,this.Bf);b[4]=new e.qd(this.o,this.A,this.$g);b[5]=new e.qd(this.o,this.B,
this.$g);b[6]=new e.qd(this.v,this.B,this.$g);b[7]=new e.qd(this.v,this.A,this.$g)};d.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var c=b[a];this.ml(c.x,c.y,c.z)}}};return d}();e.dM=d})(n||(n={}));(function(e){(function(e){e.za=function(){var e=Error();e.message="Internal Error";return e};e.df=function(){var e=Error();e.message="Not Implemented";return e};e.vk=function(){var e=Error();e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";
return e};e.Da=function(){var e=Error();e.message="Invalid Call";return e};e.F=function(e){var b=Error();b.message="Illegal Argument Exception";void 0!==e&&(b.message+=": "+e);return b};e.TN=function(){var e=Error();e.message="Runtime Exception.";return e};e.X=function(e){var b=Error();b.message="Geometry Exception: "+e;return b};e.JL=function(){var e=Error();e.message="Assert Failed Exception";return e};e.wd=function(){var e=Error();e.message="IndexOutOfBoundsException";return e};e.n_=function(e){e.message=
"UserCancelException";return e}})(e.g||(e.g={}))})(n||(n={}));(function(e){e=e.Om||(e.Om={});e[e.forward=0]="forward";e[e.reverse=1]="reverse"})(n||(n={}));(function(e){var d=function(){function a(a,b){this.$a=a;this.VI=b;this.ZI=-1;this.Wl=!1}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(++this.ZI==this.VI.D())return null;var a=this.VI.Ba(this.ZI);a.scale(this.$a.mc);var b=new e.Ja;this.$a.Yy(a,this.Wl,b);return b};a.prototype.Ia=function(){return 0};return a}(),g=function(){function a(a,
b,k){this.$a=a;this.ex=b;this.Mo=!1;this.So=k;this.Pw=[0];this.Uk=[0];this.gk=[0];this.Ct=[0];this.Wl=!1;this.fr=new e.Ja;this.Wk=[]}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(this.Mo){this.Mo=!1;this.Cd.ba();var a=e.T.oe(this.fr);return a=e.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)}null==this.Cd&&(this.Cd=this.ex.Fa(),this.Cd.Ya(),null!=this.So&&this.So.Bl(null,0));if(!this.Cd.Ea()){if(!this.Cd.Ya())return null;null!=this.So&&this.So.Bl(null,0)}a=null;this.Uk[0]=0;this.lB=this.Pw[0]=
0;this.Di=NaN;this.Mo=!1;for(var f=this.Wk.length=0,k=new e.b,m=new e.b,d=[0];this.Cd.Ea()&&8>this.lB;){var g=this.Cd.ba();k.L(g.ec());m.L(g.Cc());k.scale(this.$a.mc);m.scale(this.$a.mc);e.Ej.Bv(k,m)?k.x=m.x:e.Ej.zv(k,m)&&(m.x=k.x);this.Wk.length=0;e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,k,m,this.$a.vB,this.$a.Tt,d,this.gk,this.Ct,this.Wk,this.Pw);null!=this.So&&(g=this.Wk.slice(0),this.So.EH(this.So.aa()-1,g,g.length-1));e.Ej.Av(k,m)?(this.fr.Oa(),this.$a.Yy(k,this.Wl,this.fr),this.Mo=!0):(this.fr.Oa(),
this.Mo=this.dz(d[0],this.fr));if(this.Mo){this.Cd.Li();if(this.Cd.oA()){this.Cd.Li();this.Cd.ba();break}this.Cd.zX();break}null==a&&(a=new e.Ja,a.Bl(null,0));this.dF(a);f++}this.Pw[0]=0;if(0<f){for(d=this.Cd.Db();0<f;)this.Cd.Li(),k.L(this.ex.Ba(this.Cd.Db())),m.L(this.ex.Ba(this.Cd.Jk())),k.scale(this.$a.mc),m.scale(this.$a.mc),this.Wl&&(e.Ej.Bv(k,m)?k.x=m.x:e.Ej.zv(k,m)&&(m.x=k.x)),this.Wk.length=0,e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,m,k,this.$a.vB,this.$a.Tt,null,this.gk,this.Ct,this.Wk,
this.Pw),this.dF(a),f--;k.L(this.ex.Ba(this.Cd.Db()));k.scale(this.$a.mc);b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,k,this.Di+1.570796326794897,this.Di+4.71238898038469,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN);this.Cd.Tb(d);this.Cd.ba();f=e.na.ah(null,a,!0);return a=e.Dg.ol(a,f,!0,!0,this.$a.lc)}this.Mo=!1;this.Cd.ba();a=e.T.oe(this.fr);return a=e.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)};a.prototype.dF=function(a){var c=this.Wk[0],k,m=this.gk[0]-1.570796326794897,d=this.Ct[0]+1.570796326794897,g;
if(!isNaN(this.Di)){this.Di>=this.gk[0]?(k=this.Di+1.570796326794897,m=k+3.141592653589793-(this.Di-this.gk[0])):(k=this.Di+1.570796326794897,m=k+3.141592653589793-(6.283185307179586-(this.gk[0]-this.Di)));g=this.Di>=this.gk[0]&&3.141592653589793>=this.Di-this.gk[0]?!1:this.Di<this.gk[0]&&3.141592653589793<=this.gk[0]-this.Di?!1:!0;var B=!1;if(Math.abs(m-k)<=.5*this.$a.Qo)if(g){var t=a.Ba(a.D()-2);t.scale(this.$a.mc);var h=new e.ea(0);e.mb.Fz(this.$a.Vb,this.$a.rc,c.x,c.y,t.x,t.y,h);for(t=h.j;t<=
k;)t+=6.283185307179586;for(;t>k;)t-=6.283185307179586;t<m&&(B=!0)}else B=!0;B?(a.cC(0,a.D()-1),this.Wl||(c=new e.b,c.L(a.Ba(a.D()-1)),c.scale(this.$a.mc),-3.141592653589793>c.x-this.Uk[0]?this.Uk[0]-=6.283185307179586:3.141592653589793<c.x-this.Uk[0]&&(this.Uk[0]+=6.283185307179586)),g||(m=.5*(m+k))):(g?(k=new e.b,k.L(c),k.scale(1/this.$a.mc),a.Zf(0,-1,k)):b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,this.Wk[0],k,m,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN),this.lB+=1)}b.Xy(this.$a.Vb,this.$a.rc,
this.$a.mc,this.$a.vb,this.$a.$e,this.Wk,m,d,this.Wl,this.Uk,a);this.Di=this.Ct[0]};a.prototype.dz=function(a,b){return this.$a.dz(this.Wk,a,this.gk[0],this.Ct[0],this.Wl,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(c,b,k,m,d,g){if(null==c)throw e.g.F("Geometry::Geodesic_bufferer::buffer");if(c.u())return new e.Ja(c.description);var f=new a;f.mh=b;f.Qc=e.fb.kc(b);var u=e.fb.hw(f.Qc);f.lc=g;f.Vb=e.fb.Sv(f.Qc);f.rc=u*(2-u);f.mc=f.Qc.Nd().Ai;f.ta=f.mh.Bo();
f.pr=f.Qc.Bo();f.Tt=f.pr*f.mc;f.or=1.570796326794897/f.mc;f.E_=3.141592653589793/f.mc;f.Et=6.283185307179586/f.mc;f.F_=f.Et/6;f.qB=0;f.D_=1.5707963267948966*f.Vb/f.qB;4==k?(f.$e=2,f.Jw=!0):(f.$e=k,f.Jw=!1);f.Qa=m;f.vb=Math.abs(m);isNaN(d)||.001>d?f.sY():f.Po=d;k=c.G();e.T.Oc(k)?(k=new e.Ua(c.description),k.dc(c,!0),c=k,k=1607):197==k&&(k=new e.h,c.s(k),k.N()<=f.ta||k.fa()<=f.ta?(k=new e.Ua(c.description),k.jd(c,!1),c=k,k=1607):(k=new e.Ja(c.description),k.jd(c,!1),c=k,k=1736));f.tY();e.T.Jo(k)||f.uY();
if(f.vb<=.5*f.Po)return 1736!=k?new e.Ja(c.description):f.Jw?c:e.Ej.Ls(c,f.mh,f.$e,f.vB,-1,g);if(0>f.Qa&&1736!=k)return new e.Ja(c.description);f.Jw&&e.T.Ic(k)?(b=e.Ej.Ls(c,b,4,NaN,f.Po,g),c=e.fb.Xg(b,f.mh,f.Qc,g)):c=e.fb.Xg(c,f.mh,f.Qc,g);c=e.gi.Mj(c,f.Qc);if(c.u())return new e.Ja(c.description);!f.Jw&&e.T.Ic(k)&&(c=e.Ej.zJ(f.mc,c));c=a.mQ(c,f.Qc);switch(k){case 1736:g=f.XP(c);break;case 1607:g=f.YP(c);break;case 550:g=f.VP(c);break;case 33:g=f.WP(c);break;default:throw e.g.X("corrupted_geometry");
}f=e.fb.Xg(g,f.Qc,f.mh,f.lc);f.om(c.description);return f};a.prototype.XP=function(a){var c=new e.Ja;a=new g(this,a,c);a=e.ei.local().V(a,this.Qc,this.lc).next();a=e.Vp.Nj(a,this.Qc,2);var b=new e.Hd;b.scale(1/this.mc,1/this.mc);c.Xc(b);c=e.Vp.Nj(c,this.Qc,2);return 0<=this.Qa?e.ei.local().V(c,a,this.Qc,this.lc):e.cq.local().V(c,a,this.Qc,this.lc)};a.prototype.YP=function(a){a=new g(this,a,null);a=e.ei.local().V(a,this.Qc,this.lc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.VP=function(a){a=
new d(this,a);a=e.ei.local().V(a,this.Qc,this.lc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.WP=function(a){a=a.w();a.scale(this.mc);var c=new e.Ja;this.Yy(a,!1,c);return c=e.Vp.Nj(c,this.Qc,2)};a.prototype.dz=function(c,b,k,m,d,g){var f=c[0],u=c[c.length-1],A=f.y>u.y?f.y:u.y,t=e.C.q(this.Vb,this.rc,f.y<u.y?f.y:u.y),A=e.C.q(this.Vb,this.rc,A);if(.001<this.qB-(t+b+this.vb)&&.001<this.qB+(A-b-this.vb))return!1;b=k-1.570796326794897;k=m+1.570796326794897;var t=b-3.141592653589793,A=b+3.141592653589793,
h=k+3.141592653589793,l=[NaN],n=[NaN],p=[NaN],q=[NaN];m=!1;a.zD(this.Vb,this.rc,this.vb,f,b,t,u,k,l,n);a.zD(this.Vb,this.rc,this.vb,u,h,k,f,t,p,q);k<l[0]&&l[0]<h?m=!0:k<n[0]&&n[0]<h&&(m=!0);m||(t<p[0]&&p[0]<b?m=!0:t<q[0]&&q[0]<b&&(m=!0));if(!m&&d)return!1;for(var r=[],v=c.length-1;0<=v;v--)r.push(c[v]);g.Oa();g.Bl(null,0);v=[0];a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,c,b,k,d,v,g);a.Fs(this.Vb,this.rc,this.mc,this.vb,u,k,h,this.Qo,d,v,g,l[0],n[0]);a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,
r,h,A,d,v,g);a.Fs(this.Vb,this.rc,this.mc,this.vb,f,t,b,this.Qo,d,v,g,p[0],q[0]);c=!1;d||(c=this.OF(this.mc,g));return m||c};a.prototype.Yy=function(c,b,e){e.Oa();e.Bl(null,0);a.Fs(this.Vb,this.rc,this.mc,this.vb,c,-this.Qo,6.283185307179586,this.Qo,b,[0],e,NaN,NaN);b||this.OF(this.mc,e)};a.prototype.OF=function(a,b){var c=this.yQ(a,b);a=this.zQ(a,b);return c||a};a.prototype.yQ=function(a,b){var c=b.D(),f=!1,d=new e.h;b.s(d);if(!e.l.W(d.B*a,1.570796326794897)&&!e.l.W(d.A*a,-1.570796326794897))return!1;
for(var g=new e.b,c=c-1;0<=c;c--)b.w(c,g),g.y==d.B&&e.l.W(g.y*a,1.570796326794897)?(f=!0,this.IJ(g,c,b)):g.y==d.A&&e.l.W(g.y*a,-1.570796326794897)&&(f=!0,this.IJ(g,c,b));return f};a.prototype.zQ=function(a,b){var c=b.Ba(0),f=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(c.x-f.x)*a?(this.NW(b),!0):this.xQ(b)};a.prototype.xQ=function(a){return 0>a.hf()?(this.MW(a),!0):!1};a.prototype.IJ=function(a,b,k){var c=k.D(),f=0<b?b-1:c-1,c=k.Ba(b<c-1?b+1:0),f=k.Ba(f);if(!e.l.W(c.y,a.y)&&!e.l.W(c.x,a.x)){var d=
new e.b;d.ka(c.x,a.y);k.rb(b,d)}e.l.W(f.y,a.y)||e.l.W(f.x,a.x)||(c=new e.b,c.ka(f.x,a.y),k.Zf(0,b,c))};a.prototype.NW=function(a){var c=new e.Ja,b=new e.Ja,m=new e.Hd,d=a.Ba(0),g=a.Ba(a.D()-1),t=new e.b;d.x>g.x?(g=this.or,m.Ag(-this.Et,0)):(g=-this.or,m.Ag(this.Et,0));c.add(a,!1);a.Oa();b.add(c,!1);b.Xc(m);d=new e.h;b.s(d);d.O((this.Et-d.N())/2,0);d.A=-this.or;d.B=this.or;for(var h=0;h<b.D();h++)b.w(h,t),c.Zf(0,-1,t);b.Xc(m);for(h=0;h<b.D();h++)b.w(h,t),c.Zf(0,-1,t);b=c.Ba(0);m=c.Ba(c.D()-1);t.ka(m.x,
g);c.Zf(0,-1,t);t.ka(.5*(m.x+b.x),g);c.Zf(0,-1,t);t.ka(b.x,g);c.Zf(0,-1,t);c=e.gi.ht(c,this.Qc,2,!0,d.o);c=e.gi.ht(c,this.Qc,2,!0,d.v);c=e.ne.clip(c,d,this.pr,NaN);a.add(c,!1)};a.prototype.MW=function(a){var c=new e.h;a.s(c);c.O((this.Et-c.N())/2,0);c.A=-this.or;c.B=this.or;a.Bl(null,0);var b=new e.b;b.ka(c.o,c.A);a.Zf(1,-1,b);b.ka(c.o,c.B);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.B);a.Zf(1,-1,b);b.ka(c.v,c.B);a.Zf(1,-1,b);b.ka(c.v,c.A);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.A);a.Zf(1,-1,b)};a.Xy=function(c,b,
k,m,d,g,t,h,l,n,p){var f=null;l||(f=new e.b,f.$c(),0<p.D()&&(f.L(p.Ba(p.D()-1)),f.scale(k)));var u=new e.ea(0),A=new e.ea(0),B=new e.ea(0),P=new e.b,q=new e.b,Y=g[g.length-1];k=1/k;for(var r=0;r<g.length;r++){var v=g[r],X;0==r?X=t:r==g.length-1?X=h:(e.mb.Ld(c,b,Y.x,Y.y,v.x,v.y,null,null,u,d),X=u.j-1.570796326794897);e.mb.Xi(c,b,v.x,v.y,m,X,A,B);l?q.ka(A.j,B.j):(P.ka(A.j,B.j),a.LF(v.x,P.x,f.x,n),q.ka(n[0]+P.x,P.y),f.L(q));q.scale(k);p.Zf(0,-1,q)}};a.Fs=function(c,b,k,m,d,g,t,h,l,n,p,q,r){if(!(t-g<
h)){var f=new e.ea(0),u=new e.ea(0),A=new e.b,B=new e.b,P=null;l||(P=new e.b,P.$c(),0<p.D()&&(P.L(p.Ba(p.D()-1)),P.scale(k)));var Y=e.J.truncate(Math.ceil(g/h)),v=Y++*h;v==g&&(v=Y++*h);for(k=1/k;v<t+h;){g<q&&q<v?(v=q,Y--):g<r&&r<v&&(v=r,Y--);if(v>=t)break;e.mb.Xi(c,b,d.x,d.y,m,v,f,u);l?B.ka(f.j,u.j):(A.ka(f.j,u.j),a.LF(d.x,A.x,P.x,n),B.ka(n[0]+A.x,A.y),P.L(B));B.scale(k);p.Zf(0,-1,B);g=v;v=Y++*h}}};a.zD=function(a,b,k,m,d,g,t,h,l,n){var c=new e.b,f=new e.b,u=new e.ea(0),A=new e.ea(0);e.mb.Xi(a,b,
m.x,m.y,k,d,u,A);c.ka(u.j,A.j);e.mb.Xi(a,b,m.x,m.y,k,g,u,A);f.ka(u.j,A.j);k=new e.ea(0);e.mb.Fz(a,b,t.x,t.y,c.x,c.y,k);l[0]=k.j;e.mb.Fz(a,b,t.x,t.y,f.x,f.y,k);for(n[0]=k.j;l[0]<=n[0];)l[0]+=6.283185307179586;for(;l[0]>n[0];)l[0]-=6.283185307179586;for(;l[0]>=h;)l[0]-=6.283185307179586,n[0]-=6.283185307179586;for(;l[0]<h;)l[0]+=6.283185307179586,n[0]+=6.283185307179586};a.LF=function(a,b,e,m){if(isNaN(e)){for(;3.141592653589793<m[0]+b-a;)m[0]-=6.283185307179586;for(;3.141592653589793<a-(m[0]+b);)m[0]+=
6.283185307179586}else 3.141592653589793<m[0]+b-e?m[0]-=6.283185307179586:3.141592653589793<e-(m[0]+b)&&(m[0]+=6.283185307179586)};a.mQ=function(a,b){var c=a.G(),f;e.T.Ic(c)?f=a.aa():550==c?f=a.D():f=1;if(1==f)return a;var d=new e.ia(0);d.resize(f);for(var g=[],t=new e.h,h=0;h<f;h++){d.write(h,h);var l;e.T.Ic(c)?(a.jk(h,t),l=t.Wf()):l=a.Ba(h);l=e.sM.TY(b,l);g[h]=l}d.Gd(0,d.size,function(a,c){return g[a]<g[c]?-1:g[a]>g[c]?1:0});t=a.Ka();for(h=0;h<f;h++)l=d.read(h),e.T.Ic(c)?t.Ti(a,l,!0):t.Id(a,l,l+
1);return t};a.prototype.tY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b;b.ka(0,10*this.mc);var k=45*this.mc,m=new e.ea(0),d=new e.ea(0),g=new e.ea(0),t=new e.ea(0),h=new e.ea(0),l=new e.ea(0),n=new e.ea(0),p=new e.ea(0),q=new e.b,r=new e.b,v=new e.b,G=new e.b;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,0,m,d);q.ka(m.j,d.j);e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k,g,t);r.ka(g.j,t.j);for(var m=new e.ea(0),d=new e.ea(0),x=new e.ea(0);;){e.mb.Xi(this.Vb,
this.rc,b.x,b.y,a,.5*(0+k),h,l);v.ka(h.j,l.j);e.mb.Ld(this.Vb,this.rc,q.x,q.y,r.x,r.y,m,d,null,2);e.mb.Oj(this.Vb,this.rc,q.x,q.y,.5*m.j,d.j,n,p,2);G.ka(n.j,p.j);e.mb.Ld(this.Vb,this.rc,v.x,v.y,G.x,G.y,x,null,null,2);if(x.j<=this.Po)break;k*=.9;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k,g,t);r.ka(g.j,t.j)}this.Qo=6.283185307179586/Math.ceil(6.283185307179586/(k-0))};a.prototype.uY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b,k=new e.b;
b.ka(0,10*this.mc);k.ka(10*this.mc,10*this.mc);var m=new e.ea(0),d=new e.ea(0),g=new e.ea(0);e.mb.Ld(this.Vb,this.rc,b.x,b.y,k.x,k.y,g,m,d,this.$e);var t=new e.ea(0),h=new e.ea(0),l=new e.ea(0),n=new e.ea(0),p=new e.b,q=new e.ea(0),r=new e.ea(0),v=new e.ea(0),G=new e.ea(0),x=new e.ea(0),w=new e.ea(0),y=new e.ea(0),z=new e.ea(0),C=new e.ea(0),D=new e.b,J=new e.b,E=new e.b,F=new e.b,L=1,m=m.j,d=d.j+1.570796326794897,g=g.j;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,m-1.570796326794897,r,v);D.ka(r.j,v.j);e.mb.Xi(this.Vb,
this.rc,k.x,k.y,a,d,G,x);J.ka(G.j,x.j);for(var r=new e.ea(0),v=new e.ea(0),d=new e.ea(0),H=new e.ea(0);;){e.mb.Oj(this.Vb,this.rc,b.x,b.y,.5*(0+L)*g,m,t,h,this.$e);p.ka(t.j,h.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,p.x,p.y,null,null,q,this.$e);e.mb.Xi(this.Vb,this.rc,p.x,p.y,a,q.j+1.570796326794897,w,y);E.ka(w.j,y.j);e.mb.Ld(this.Vb,this.rc,D.x,D.y,J.x,J.y,r,v,null,2);e.mb.Oj(this.Vb,this.rc,D.x,D.y,.5*r.j,v.j,z,C,2);F.ka(z.j,C.j);e.mb.Ld(this.Vb,this.rc,E.x,E.y,F.x,F.y,d,null,null,2);if(d.j<=this.Po)break;
L*=.9;e.mb.Oj(this.Vb,this.rc,b.x,b.y,L*g,m,l,n,this.$e);k.ka(l.j,n.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,k.x,k.y,null,null,H,this.$e);e.mb.Xi(this.Vb,this.rc,k.x,k.y,a,H.j+1.570796326794897,G,x);J.ka(G.j,x.j)}a=L*g;1E5<a&&(a=1E5);this.vB=a};a.prototype.sY=function(){var a;a=5E4<this.vb?100:1E4<this.vb?10:1;500>this.vb/a&&(a=this.vb/500);.01>a&&(a=.01);this.Po=a};return a}();e.rM=b})(n||(n={}));(function(e){var d=function(){function d(){}d.tc=function(b,a){var c=new e.b;c.L(a);b.push(c)};d.rk=function(b,
a){b.add(a.x);b.add(a.y)};d.YC=function(b){b.yf(b.size-2)};d.oy=function(b,a){a.ka(b.get(b.size-2),b.get(b.size-1))};d.Ls=function(b,a,c,f,k,m){if(null==b)throw e.g.F();var u=b.G();if(b.u()||e.T.Jo(u))return b;var g=new d;g.mh=a;g.Qc=e.fb.kc(a);var t=e.fb.hw(g.Qc);g.lc=m;g.Vb=e.fb.Sv(g.Qc);g.rc=t*(2-t);g.mc=g.Qc.Nd().Ai;g.pr=g.Qc.Bo();g.Tt=g.pr*g.mc;g.gB=f;g.fB=k;g.$e=c;197==u?(c=new e.Ja(b.description),c.jd(b,!1)):e.T.Oc(u)?(c=new e.Ua(b.description),c.dc(b,!0)):c=b;if(4!=g.$e){a=0==g.mh.Eb(g.Qc)?
e.fb.Xg(c,g.mh,g.Qc,m):e.gi.Mj(c,g.Qc);if(a.u())return a;a=d.zJ(g.mc,a);a=g.Gz(a);a=e.Vp.Nj(a,g.Qc,g.$e);g=e.fb.Xg(a,g.Qc,g.mh,m)}else{2==e.Sd.Fb(a)?(b=e.fb.Mk(a),m=e.tk.local().V(c,b,a,m),m==b&&(m=new e.Ja,b.copyTo(m))):m=e.gi.Mj(c,g.Qc);a=m;if(a.u())return a;g=g.wY(a)}return g};d.zJ=function(b,a){var c=new e.h;a.ac(c);if(3.141592653589793>c.N()*b)return a;for(var f=!1,c=a.Fa(),k=new e.b,m=new e.b;c.Ya();)for(;c.Ea();){var u=c.ba();k.L(u.ec());m.L(u.Cc());k.scale(b);m.scale(b);if(3.141592653589793<
Math.abs(k.x-m.x)){var g=d.Av(k,m);if(!g){f=!0;break}if(6.283185307179586<Math.abs(k.x-m.x)){f=!0;break}}}if(!f)return a;var f=a.Ka(),t=1<a.description.Ga,h=new e.b,l=new e.b,n=new e.b,p=new e.b,q=new e.Wa;for(c.yj();c.Ya();)for(var r=NaN,v=[0];c.Ea();){u=c.ba();k.L(u.ec());m.L(u.Cc());k.scale(b);m.scale(b);isNaN(r)?(d.fe(k.x,NaN,v),l.L(k)):l.L(n);r=l.x;if(g=d.Av(k,m)){if(6.283185307179586<m.x-k.x)for(;6.283185307179586<m.x-k.x;)m.x-=6.283185307179586;if(-6.283185307179586>m.x-k.x)for(;-6.283185307179586>
m.x-k.x;)m.x+=6.283185307179586;d.fe(m.x,NaN,v);n.L(m)}else h.L(m),d.VM(h),d.fe(h.x,r,v),n.ka(v[0]+h.x,h.y);.5>Math.abs(n.x-m.x)&&n.L(m);t?(u.Fx(0,q),p.L(l),p.scale(1/b),q.rb(p),(g=c.jn())?f.Rf(q):f.lineTo(q),c.Io()&&!a.Qb(c.Ta)&&(u.Fx(1,q),p.L(n),p.scale(1/b),q.rb(p),f.lineTo(q))):((g=c.jn())&&f.rA(null,0),u=f.aa()-1,p.L(l),p.scale(1/b),f.Zf(u,-1,p),c.Io()&&!a.Qb(c.Ta)&&(p.L(n),p.scale(1/b),f.Zf(u,-1,p)))}return f};d.GG=function(b,a,c,f,k,m,u,g,t,h,l,n){var A=new e.b,B=new e.b,p=0<f.compare(k);d.qF(p,
f,k,A,B);d.vG(b,a,c,A,B,m,NaN,u,g,t,h,null,l,n);p&&d.qy(t,h,null,l)};d.prototype.Gz=function(b){var a=b.Ka(),c=b.Fa(),f=[],k=null,m=null,u=1<b.description.Ga;u&&(k=new e.Rd(0),m=new e.Cg);for(var g=[0],t=new e.b,h=new e.b,l=new e.b,n=new e.b;c.Ya();)for(g[0]=0;c.Ea();){var p=c.ba();t.L(p.ec());h.L(p.Cc());t.scale(this.mc);h.scale(this.mc);var q=0<t.compare(h);d.qF(q,t,h,l,n);f.length=0;null!=k&&k.yf(0);0<this.gB?d.vG(this.Vb,this.rc,this.$e,l,n,this.gB,this.fB,this.Tt,null,null,null,u?k:null,f,g):
d.RV(this.Vb,this.rc,this.$e,l,n,this.fB,this.Tt,u?k:null,f,g);q&&d.qy(null,null,u?k:null,f);f[0].L(p.ec());f[f.length-1].L(p.Cc());for(var r=1;r<f.length-1;r++)f[r].scale(1/this.mc);u?(q=d.SE(q,p,m),d.iE(c.jn(),c.Io()&&!b.Qb(c.Ta),p,q,k,f,a)):d.gE(c.jn(),c.Io()&&!b.Qb(c.Ta),f,a)}return a};d.prototype.wY=function(b){var a=b.Ka(),c=b.Fa(),f=[],k=null,m=new e.Cg,u=1<b.description.Ga;for(u&&(k=new e.Rd(0));c.Ya();)for(;c.Ea();){var g=c.ba(),t=g.ec(),h=g.Cc(),t=0<t.compare(h),h=d.SE(t,g,m);f.length=0;
null!=k&&k.yf(0);d.FL(this.Vb,this.rc,this.mc,h,this.mh,this.gB,this.fB,u?k:null,f);t&&d.qy(null,null,u?k:null,f);u?d.iE(c.jn(),c.Io()&&!b.Qb(c.Ta),g,h,k,f,a):d.gE(c.jn(),c.Io()&&!b.Qb(c.Ta),f,a)}return a};d.gE=function(b,a,c,f){b&&f.rA(null,0);b=f.aa()-1;var e=c.slice(0);f.EH(b,e,e.length-1);a&&f.Zf(b,-1,c[c.length-1])};d.iE=function(b,a,c,f,k,m,d){var u=new e.Wa;c.Dp(u);b?d.Rf(u):d.lineTo(u);if(2<m.length){b=f.Rb();for(var g=1;g<m.length-1;g++){var t=f.bI(k.get(g)*b);f.Fx(t,u);u.rb(m[g]);d.lineTo(u)}}a&&
(c.Bp(u),d.lineTo(u))};d.vG=function(b,a,c,f,k,m,u,g,t,h,l,n,p,q){var A=new e.ea(0),B=new e.ea(0),P=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,k.x,k.y,P,A,B,c);var P=P.j,r=A=A.j,B=B.j;0>r&&(r+=6.283185307179586);0>B&&(B+=6.283185307179586);null!=t&&(t[0]=P);null!=h&&(h[0]=r);null!=l&&(l[0]=B);h=t=NaN;null!=n&&(h=e.C.Yg(b,a),l=e.C.q(b,a,f.y),t=(h-l)/P,h=(h+l)/P);l=d.Bv(f,k);var B=d.zv(f,k),r=l||B,Y=d.tE(f,k,g),v=new e.ea(0),X=new e.ea(0),Q=new e.b,G=new e.b,x=new e.b;d.fe(f.x,NaN,q);var ea=[q[0]];if(P<=m)d.tc(p,
f),d.fe(k.x,NaN,q),null!=n&&n.add(0),r?(l&&d.my(f,k,n,p),B&&d.iy(f,k,n,p)):Y?d.ly(f,k,A,t,h,n,p):0<u&&(G.ka(f.x-ea[0],f.y),Q.ka(k.x-q[0],k.y),d.FA(b,a,c,f,P,A,G,Q,0,1,u,n,p,ea)),d.tc(p,k);else{m=1+e.J.truncate(Math.ceil(P/m));var w=P/(m-1),y=new e.b,z=0;d.tc(p,f);y.L(f);G.ka(f.x-q[0],f.y);null!=n&&n.add(0);for(var C=1;C<m;C++){var D;C<m-1?(e.mb.Oj(b,a,f.x,f.y,C*w,A,v,X,c),Q.ka(v.j,X.j),d.fe(Q.x,y.x,q),x.ka(q[0]+Q.x,Q.y),D=C/(m-1)):(d.fe(k.x,NaN,q),Q.ka(k.x-q[0],k.y),x.L(k),D=1);r?(1==C&&l&&d.my(f,
x,n,p),C==m-1&&B&&d.iy(y,k,n,p)):Y?d.rE(y,x,g)&&(f.x<k.x?y.x>x.x&&(q[0]+=6.283185307179586,x.ka(q[0]+Q.x,Q.y)):y.x<x.x&&(q[0]-=6.283185307179586,x.ka(q[0]+Q.x,Q.y)),d.ly(y,x,A,t,h,n,p)):0<u&&d.FA(b,a,c,f,P,A,G,Q,z,D,u,n,p,ea);d.tc(p,x);null!=n&&n.add(D);y.L(x);G.L(Q);ea[0]=q[0];z=D}}};d.RV=function(b,a,c,f,k,m,u,g,t,h){var A=new e.ea(0),B=new e.ea(0),l=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,k.x,k.y,l,A,B,c);var B=l.j,A=A.j,n=l=NaN;if(null!=g)var n=e.C.Yg(b,a),p=e.C.q(b,a,f.y),l=(n-p)/B,n=(n+p)/B;var p=d.Bv(f,
k),P=d.zv(f,k),q=p||P;u=d.tE(f,k,u);var r=d.Av(f,k),r=q||u||r;d.fe(f.x,NaN,h);var v=new e.b;d.tc(t,f);v.L(f);null!=g&&g.add(0);r?(q?(p&&d.my(f,k,g,t),P&&d.iy(f,k,g,t)):u&&d.ly(f,k,A,l,n,g,t),d.fe(k.x,NaN,h),d.tc(t,k)):B<=m?(d.fe(k.x,NaN,h),d.tc(t,k)):(l=new e.b,u=new e.b,l.L(f),u.L(k),l.x-=h[0],u.x-=h[0],-3.141592653589793>u.x?u.x+=6.283185307179586:3.141592653589793<u.x&&(u.x-=6.283185307179586),d.FA(b,a,c,f,B,A,l,u,0,1,m,g,t,h),d.tc(t,k),d.fe(k.x,NaN,h));null!=g&&g.add(1)};d.FA=function(b,a,c,f,
k,m,u,g,t,h,l,n,p,q){var A=new e.b,B=new e.b;A.ka(u.x+q[0],u.y);new e.ea(0);new e.ea(0);new e.ea(0);new e.ea(0);var P=new e.ea(0),r=new e.ea(0),Y=new e.ea(0),v=new e.b,X=new e.b,Q=new e.b,G=new e.b;v.L(u);X.L(g);u=new e.Rd(0);g=new e.Rd(0);d.rk(u,X);g.add(h);var x=new e.b,ea=new e.Hb,w=[];for(d.rG(4,w);0<u.size;){for(var y=!1,z,C=NaN,D=0;3>D;D++)if(z=w[D]*h+(1-w[D])*t,e.mb.Oj(b,a,f.x,f.y,z*k,m,P,r,c),Q.ka(P.j,r.j),0==D&&(C=z,G.L(Q)),d.xO(v,Q,X,ea),ea.gc(ea.pe(Q,!0),x),e.mb.Ld(b,a,Q.x,Q.y,x.x,x.y,
Y,null,null,2),Y.j>l){y=!0;break}y?(X.L(G),h=C,d.rk(u,X),g.add(h)):(d.YC(u),g.Fk(g.size-1,1,g.size-1),0<u.size&&(d.fe(X.x,A.x,q),B.ka(q[0]+X.x,X.y),d.tc(p,B),A.L(B),null!=n&&n.add(h),v.L(X),t=h,d.oy(u,X),h=g.get(g.size-1)))}};d.FL=function(b,a,c,f,k,m,u,g,t){var A=new e.b,B=new e.b,h=new e.b,l=new e.b,n=new e.b,p=new e.b,q=new e.b,r=new e.b,v=new e.b,G=new e.b,x=new e.ea(0),w=new e.ea(0),y=new e.b,z=[[],[]],C=1==e.Sd.Fb(k);k=k.re(0);var D=f.ec(),J=f.Cc();C?(p.ka(D.x*c,D.y*c),q.ka(J.x*c,J.y*c)):(z[0][0]=
D.x,z[0][1]=D.y,z[1][0]=J.x,z[1][1]=J.y,e.fb.lu(),p.x=z[0][0]*c,p.y=z[0][1]*c,q.x=z[1][0]*c,q.y=z[1][1]*c);var E=0,F=0,L=1,H=f.Go();A.L(D);B.L(J);var J=new e.Rd(0),I=new e.Rd(0),O=new e.Rd(0);d.rk(J,B);d.rk(I,q);O.add(L);d.tc(t,A);null!=g&&g.add(F);var R=[],M;M=0<u?H?5:3:H?5:1;d.rG(M,R);for(var K=new e.ea(0),N=new e.ea(0),S=new e.ea(0),U=new e.ea(0),V=new e.ea(0),T=new e.ea(0),W=new e.ea(0);0<I.size;){var Z=!1,da,aa=NaN;e.mb.Ld(b,a,p.x,p.y,q.x,q.y,K,N,null,2);for(D=0;D<M;D++){if(0==D){if(!H&&0>=u&&
K.j<=m&&3.141592653589793>Math.abs(p.x-q.x))break;if(f.Dy(F,L)<=k)break}da=R[D]*L+(1-R[D])*F;f.gc(da,h);C?r.ka(h.x*c,h.y*c):(z[0][0]=h.x,z[0][1]=h.y,e.fb.lu(),r.x=z[0][0]*c,r.y=z[0][1]*c);if(0==D&&(aa=da,n.L(h),G.L(r),0<m&&(K.j>m||3.141592653589793<=Math.abs(p.x-q.x)))){Z=!0;break}if(H&&0<m){if(e.mb.Ld(b,a,p.x,p.y,r.x,r.y,S,null,null,2),S.j>m||3.141592653589793<=Math.abs(p.x-r.x)){Z=!0;break}}else if(0<u)if(H?(l.IU(A,B,R[D]),C?v.ka(l.x*c,l.y*c):(z[0][0]=l.x,z[0][1]=l.y,e.fb.lu(),v.x=z[0][0]*c,v.y=
z[0][1]*c)):(l.L(h),v.L(r)),e.mb.Ld(b,a,p.x,p.y,v.x,v.y,U,null,null,2),U.j<=K.j){e.mb.Oj(b,a,p.x,p.y,U.j,N.j,x,w,2);y.ka(x.j,w.j);e.mb.Ld(b,a,y.x,y.y,r.x,r.y,V,null,null,2);if(V.j>u){Z=!0;break}if(H){e.mb.Ld(b,a,y.x,y.y,v.x,v.y,T,null,null,2);if(T.j>u){Z=!0;break}e.mb.Ld(b,a,v.x,v.y,r.x,r.y,W,null,null,2);if(W.j>u){Z=!0;break}}}else{Z=!0;break}}Z?(B.L(n),q.L(G),L=aa,d.rk(J,B),d.rk(I,q),O.add(L)):(d.YC(J),d.YC(I),O.Fk(O.size-1,1,O.size-1),d.tc(t,B),E+=K.j,null!=g&&g.add(E),0<I.size&&(A.L(B),p.L(q),
F=L,d.oy(J,B),d.oy(I,q),L=O.get(O.size-1)))}if(null!=g)for(b=1/E,D=0;D<g.size;D++)g.write(D,g.read(D)*b)};d.qy=function(b,a,c,f){f.reverse();null!=c&&c.Zd(0,c.size,1);c=null!=b?b[0]:NaN;f=null!=a?a[0]:NaN;null!=b&&(b[0]=f);null!=a&&(a[0]=c)};d.qF=function(b,a,c,f,e){b?(f.L(c),e.L(a)):(f.L(a),e.L(c))};d.SE=function(b,a,c){if(!b)return a;c.create(a.G());a.copyTo(c.get());c.get().reverse();return c.get()};d.fe=function(b,a,c){if(isNaN(a)){for(;3.141592653589793<c[0]-b;)c[0]-=6.283185307179586;for(;3.141592653589793<
b-c[0];)c[0]+=6.283185307179586}else 3.141592653589793<c[0]+b-a?c[0]-=6.283185307179586:3.141592653589793<a-(c[0]+b)&&(c[0]+=6.283185307179586)};d.xO=function(b,a,c,f){3.141592653589793>Math.abs(a.x-b.x)?(f.Mc(b),3.141592653589793<=c.x-b.x?f.vm(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?f.vm(c.x+6.283185307179586,c.y):f.vm(c.x,c.y)):(f.Mc(c),3.141592653589793<=b.x-c.x?f.vm(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?f.vm(b.x+6.283185307179586,b.y):f.vm(b.x,b.y))};d.rG=function(b,
a){for(var c=0;c<b;c++){var f=Math.ceil(c/2)/(b+1);0!=c%2&&(f=-f);a[c]=.5+f}};d.Bv=function(b,a){return e.l.W(b.y,1.570796326794897)&&!e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&!e.l.W(a.y,-1.570796326794897)?!0:!1};d.zv=function(b,a){return e.l.W(a.y,1.570796326794897)&&!e.l.W(b.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)&&!e.l.W(b.y,-1.570796326794897)?!0:!1};d.tE=function(b,a,c){return!d.rE(b,a,c)||e.l.W(b.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)||e.l.W(a.y,
1.570796326794897)||e.l.W(a.y,-1.570796326794897)?!1:!0};d.rE=function(b,a,c){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=c?!0:!1};d.Av=function(b,a){return e.l.W(b.y,1.570796326794897)&&e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&e.l.W(a.y,-1.570796326794897)?!0:!1};d.my=function(b,a,c,f){if(0<b.y){var k=new e.b;k.ka(a.x,1.570796326794897)}else k=new e.b,k.ka(a.x,-1.570796326794897);e.l.W(b.x,k.x)||e.l.W(a.y,k.y)||(d.tc(f,k),null!=c&&c.add(0))};d.iy=function(b,a,c,f){if(0<
a.y){var k=new e.b;k.ka(b.x,1.570796326794897)}else k=new e.b,k.ka(b.x,-1.570796326794897);e.l.W(a.x,k.x)||e.l.W(b.y,k.y)||(d.tc(f,k),null!=c&&c.add(1))};d.ly=function(b,a,c,f,k,m,u){e.l.xd(c)?(0<1.570796326794897-b.y&&(c=new e.b,c.ka(b.x,1.570796326794897),d.tc(u,c),null!=m&&m.add(f)),0<1.570796326794897-a.y&&(c=new e.b,c.ka(a.x,1.570796326794897),d.tc(u,c),null!=m&&m.add(f))):(0<1.570796326794897+b.y&&(c=new e.b,c.ka(b.x,-1.570796326794897),d.tc(u,c),null!=m&&m.add(k)),0<1.570796326794897+a.y&&
(c=new e.b,c.ka(a.x,-1.570796326794897),d.tc(u,c),null!=m&&m.add(k)))};d.VM=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return d}();e.Ej=d})(n||(n={}));(function(e){var d=function(){function d(){}d.Nj=function(b,a,c){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=b,k=f.G();if(e.T.Ic(k)){f=e.gi.Mj(b,a);b=new e.h;f.s(b);for(var k=e.na.be(a,b,!1),m=e.fb.Bh(a),
u=Math.floor((b.o-m.o)/m.N())*m.N()+m.o;u<b.v;)u>b.o+k&&u<b.v-k&&(f=e.gi.ht(f,a,c,!0,u)),u+=m.N()}else{if(197==k)return b=new e.Ja(f.description),b.jd(f,!1),d.Nj(b,a,c);if(e.T.Oc(k))return b=new e.Ua(f.description),b.dc(f,!0),d.Nj(b,a,c)}return d.jV(f,a)};d.jV=function(b,a){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var c;c=b.G();197==c?(c=new e.Ja(b.description),c.jd(b,!1)):e.T.Oc(c)?(c=new e.Ua(b.description),c.dc(b,!0)):c=b;c=e.gi.Mj(c,a);return c.u()?c:1==e.Sd.Fb(a)?e.gi.Xm(c,
a,0,c!=b,0):d.dV(c,a,c!=b)};d.dV=function(b,a,c){if(!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=e.fb.ee(a),k=0-180*f,f=360*f;2==e.Sd.Fb(a)&&(k=e.fb.Bh(a),f=k.v,k=k.o,f-=k);return e.gi.Aq(b,k,f,a,c,0,!0)};return d}();e.Vp=d})(n||(n={}));(function(e){var d=function(){function d(){}d.fV=function(b,a){var c=Math.abs(b%a);return isNaN(c)||c==b||c<=Math.abs(a)/2?c:0>b?-1*(c-a):0<b?1*(c-a):0*(c-a)};d.K=function(b){return 0>b?-b:b};d.Ab=function(b,a){return 0<=a?d.K(b):-d.K(b)};d.W=function(b,a){return b==
a||d.K(b-a)<=d.gD*(1+(d.K(b)+d.K(a))/2)};d.xd=function(b){return 0==b||d.K(b)<=d.gD};d.Fu=function(b){b=d.fV(b,d.mA);return d.K(b)<=d.Oi?b:0>b?b+d.mA:b-d.mA};d.KB=function(b,a){b.j=d.Fu(b.j);a.j=d.Fu(a.j);d.K(a.j)>d.ss&&(b.j=d.Fu(b.j+d.Oi),a.j=d.Ab(d.Oi,a.j)-a.j)};d.Yg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var c=a*a;return b/(1+a)*(1+c*(.25+c*(.015625+1/256*c)))*d.ss};d.SS=function(b,a,c,f,k){var m,u,g,B,t,h,l,n=0,p=h=0,q=0,r=0,v=0;t=0;var G,x,y;l=0;var w,z,C;y=new e.ea;m=new e.ea;if(null!=
k)if(y.j=b,m.j=a,d.KB(y,m),b=y.j,a=m.j,y.j=c,m.j=f,d.KB(y,m),c=y.j,f=m.j,c=d.Fu(c-b),d.W(a,f)&&(d.xd(c)||d.W(d.K(a),d.ss)))null!=k&&(k.j=0);else{if(d.W(a,-f)){if(d.W(d.K(a),d.ss)){null!=k&&(k.j=2*d.Yg(6378137,.0066943799901413165));return}if(d.W(d.K(c),d.Oi)){null!=k&&(k.j=2*d.Yg(6378137,.0066943799901413165));return}}if(d.xd(.0066943799901413165))r=Math.cos(a),v=Math.cos(f),null!=k&&(n=Math.sin((f-a)/2),h=Math.sin(c/2),l=2*Math.asin(Math.sqrt(n*n+r*v*h*h)),k.j=6378137*l);else{y=1-Math.sqrt(.9933056200098587);
b=1-y;m=Math.atan(b*Math.tan(a));a=Math.sin(m);m=Math.cos(m);u=Math.atan(b*Math.tan(f));f=Math.sin(u);u=Math.cos(u);B=g=c;z=0;C=1;w=c;for(x=!0;1==x;)z+=1,1==C&&(t=Math.sin(w),h=Math.cos(w),n=u*t,l=m*f-a*u*h,n=Math.sqrt(n*n+l*l),h=a*f+m*u*h,l=Math.atan2(n,h),p=1E-15>d.K(n)?m*u*t/d.Ab(1E-15,n):m*u*t/n,q=1-p*p,r=1E-15>d.K(q)?h-a*f/d.Ab(1E-15,q)*2:h-a*f/q*2,v=r*r,t=((-3*q+4)*y+4)*q*y/16),G=(1-t)*y*(l+t*n*(r+h*t*(2*v-1))),1==C?(w=c+G*p,1E-14>d.K(w-B)?x=!1:d.K(w)>d.Oi?(C=2,w=d.Oi,0>c&&(w=-w),p=0,q=1,g=
B=2,l=d.Oi-d.K(Math.atan(a/m)+Math.atan(f/u)),n=Math.sin(l),h=Math.cos(l),t=((-3*q+4)*y+4)*q*y/16,1E-14>d.K(p-g)?x=!1:(r=1E-15>d.K(q)?h-a*f/d.Ab(1E-15,q)*2:h-a*f/q*2,v=r*r)):(0>(w-B)*(B-g)&&5<z&&(w=(2*w+3*B+g)/6),g=B,B=w)):(p=(w-c)/G,0>(p-B)*(B-g)&&5<z&&(p=(2*p+3*B+g)/6),g=B,B=p,q=1-p*p,t=p*n/(m*u),h=-Math.sqrt(d.K(1-t*t)),w=Math.atan2(t,h),n=u*t,l=m*f-a*u*h,n=Math.sqrt(n*n+l*l),h=a*f+m*u*h,l=Math.atan2(n,h),t=((-3*q+4)*y+4)*q*y/16,1E-14>d.K(p-g)?x=!1:(r=1E-15>d.K(q)?h-a*f/d.Ab(1E-15,q)*2:h-a*f/q*
2,v=r*r));null!=k&&(p=Math.sqrt(1+(1/(b*b)-1)*q),p=(p-1)/(p+1),q=p*(1-.375*p*p),k.j=(1+p*p/4)/(1-p)*b*6378137*(l-q*n*(r+q/4*(h*(-1+2*v)-q/6*r*(-3+4*n*n)*(-3+4*v)))))}}};d.Oi=3.141592653589793;d.ss=1.5707963267948966;d.mA=6.283185307179586;d.gD=3.552713678800501E-15;return d}();e.pM=d})(n||(n={}));(function(e){var d=function(){return function(b){this.ue=b;this.ll=this.ue.getCode();0>this.ll&&(this.ll=0)}}();e.SZ=d;var g=function(){function b(a){void 0===a&&(a=null);this.Kh=null;this.nn=!1;null!==a&&
(this.Kh=new d(a))}b.prototype.yc=function(){return null!=this.Kh?this.Kh.ll:0};b.prototype.Vf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Kh=this.Kh;a.nn=this.nn};b.prototype.Wv=function(){var a=this.Vf();a.kt();return a};b.prototype.kt=function(){this.nn=!this.nn};b.prototype.cn=function(){return null!=this.Kh?this.Kh.ue:null};b.prototype.BK=function(a){if(0>=a)throw e.g.F();if(a!=this.yc()){a=e.Tf.geogtran(a);if(null==a)throw e.g.F("Geogtran not found.");this.Kh=
new d(a)}};b.prototype.mH=function(){return null==this.Kh?null:this.Kh.ue.toString()};b.prototype.getName=function(){if(null==this.Kh||null==this.Kh.ue)return"";var a="";this.nn&&(a+="~");return a+=this.Kh.ue.getName()};b.prototype.oY=function(a){if(null==a)throw e.g.F();var c=null;try{c=e.Tf.fromString(e.Vc.PE_TYPE_GEOGTRAN,a)}catch(f){throw e.g.F();}this.Kh=new d(c)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.yc()||this.yc()!=a.yc())||this.cn().isEqual(a.cn()))?this.nn==
a.nn:!1};b.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,c){var f=new b;f.BK(a);c&&f.kt();return f};b.fG=function(a,c){var f=new b;f.oY(a);c&&f.kt();return f};return b}();e.io=g})(n||(n={}));(function(e){var d=function(){function b(){}b.pa=function(a,c,f,e){var k=new b;k.vn=a;k.wn=c;k.MI=f;k.NI=e;return k};b.Hs=function(a,c){return a.vn==c.vn?a.wn==c.wn?0:a.wn<c.wn?-1:1:a.vn<c.vn?-1:1};return b}(),
g=function(){function b(){this.Hw=!1;this.OI=[];this.$A=[];this.jI=this.Hw=this.iI=!1;this.kq()}b.zo=function(){null==b.FG&&(b.FG=new b);return b.FG};b.c_=function(){return b.zo().Hw};b.f_=function(){return b.zo().jI};b.z_=function(a,c){if(a==c)return null;var f=b.zo();if(f.iI){var e=b.EA(f.$A,a,c);return null!=e?e:null}e=b.EA(f.$A,a,c);return null!=e?e:b.EA(f.OI,a,c)};b.fO=function(a,c,b,k,m){var f=e.ny.create();if(0<a)try{var d=e.io.create(a,c);if(0==d.yc())return null;f.add(d);if(0<b){var g=e.io.create(b,
k);if(0==g.yc())return null;f.add(g)}m&&(f=f.Wv())}catch(P){f=null}return f};b.EA=function(a,c,f){if(c==f||0==a.length)return null;for(var e=d.pa(c,f,0,0),m=!1,u=!1,g=0,t=0,h=-1,l=0;l<a.length;l++)if(0===d.Hs(e,a[l])){h=l;break}if(0>h||a[h].vn!=e.vn||a[h].wn!=e.wn){e=d.pa(f,c,0,0);c=-1;for(l=0;l<a.length;l++)if(0===d.Hs(e,a[l])){c=l;break}0<=c&&a[c].vn==e.vn&&a[c].wn==e.wn&&(g=a[c].MI,t=a[c].NI,u=m=!0)}else g=a[h].MI,t=a[h].NI,m=!1,u=!0;if(!u)return null;0==g&&(g=t,t=0);e=a=!1;0>g&&(g=-g,a=!0);0>
t&&(t=-t,e=!0);return b.fO(g,a,t,e,m)};b.prototype.kq=function(){this.BE(this.OI)&&(this.Hw=!0);this.BE(this.$A)&&(this.jI=!0);this.iI=!this.Hw};b.prototype.BE=function(a){try{for(var c=[],c=c.sort(d.Hs),b=0;b<c.length;b++)a.push(c[b])}catch(k){}return!0};b.Q_=function(){return null};return b}();e.RZ=g})(n||(n={}));(function(e){var d=function(){function e(){}e.prototype.My=function(b){this.Hi=b};e.prototype.NE=function(b){this.Mb=b};e.prototype.OE=function(b){this.np=b};e.JF=function(b){return b.u()||
1607!=b.G()&&1736!=b.G()?!1:!0};e.HF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};e.IF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return e}();e.wl=d})(n||(n={}));(function(e){var d=function(){function d(){}d.mX=function(b){var a=new e.Ja;a.$x(b.R.o,b.R.A);a.Xj(b.R.o,b.R.B);a.Xj(b.R.v,b.R.B);a.Xj(b.R.v,b.R.A);return a};d.Xg=function(b,a){return null===b?null:e.os.local().V(b,a,null)};d.gZ=function(b,a){var c=e.ei.local();b=new e.hd(b);return c.V(b,a,
null).next()};d.Vm=function(b,a,c){return e.cq.local().V(b,a,c,null)};d.Pp=function(b,a,c){return e.uy.local().V(b,a,c,null)};d.OY=function(b,a,c){var f=e.uy.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Eb=function(b,a,c){return e.Gj.local().V(3,b,a,c,null)};d.QR=function(b,a,c){return e.Gj.local().V(4,b,a,c,null)};d.LU=function(b,a,c){var f=e.tk.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);
return f};d.NR=function(b,a,c){var f=e.cq.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Ma=function(b,a,c){return e.tk.local().V(b,a,c,null)};d.rZ=function(b,a,c){return e.Gj.local().V(2,b,a,c,null)};d.contains=function(b,a,c){return e.Gj.local().V(1,b,a,c,null)};d.yR=function(b,a,c){return e.Gj.local().V(16,b,a,c,null)};d.touches=function(b,a,c){return e.Gj.local().V(8,b,a,c,null)};d.oW=function(b,a,c){return e.Gj.local().V(32,b,a,c,null)};
d.NU=function(b,a,c){return e.Gj.local().V(1073741824,b,a,c,null)};d.YB=function(b,a,c,f){return e.pN.local().V(b,a,c,f,null)};d.Cb=function(b,a,c,f){var k=null;if(null!=c){if(k=c.Nd(),null!=f&&k.yc()!=f.yc()&&k.nd!=f.nd)throw e.g.vk();}else if(null!=f)throw e.g.F();b=e.hN.local().V(b,a,null);null!==k&&null!==f&&(b=e.oc.li(b,k,f));return b};d.clip=function(b,a,c){return e.bN.local().V(b,e.h.pa(a.R.o,a.R.A,a.R.v,a.R.B),c,null)};d.Hl=function(b,a,c){if(null==b||null==a)return null;b=e.dN.local().V(!0,
b,a,c,null);for(a=[];null!=(c=b.next());)c.u()||a.push(c);return a.slice(0)};d.QP=function(b,a,c,f,k,m,u,g){if(!0===k)return d.YM(b,a,c,f,m,u,g);k=c;if(null!=a){if(u=a.Nd(),null!=f&&u.yc()!=f.yc()){if(u.nd!=f.nd)throw e.g.vk();k=[];e.oc.dG(c,c.length,f,u,k)}}else if(null!=f)throw e.g.F();c=e.CD.local();if(m){b=new e.hd(b);a=c.V(b,a,k,m,null);for(b=[];null!=(m=a.next());)b.push(m);m=b.slice(0)}else for(m=[],f=0;f<b.length;f++)m[f]=c.V(b[f],a,k[f],null);return m};d.YM=function(b,a,c,f,k,m,d){if(null===
a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.yc()?a.Nd():e.oc.ze(9001);if(0!==f.nd)throw e.g.F();e.oc.dG(c,c.length,f,e.oc.ze(9001),c);f=e.HD.local();if(k){b=new e.hd(b);a=f.V(b,a,m,c,d,!1,k,null);for(c=[];null!=(m=a.next());)c.push(m);k=c.slice(0)}else{k=[];for(var u=0;u<b.length;u++)k[u]=f.V(b[u],a,m,c[u],d,!1,null)}return k};d.buffer=function(b,a,c,f,k,m,d){var u=c;if(!1===k){if(null!=a){if(k=a.Nd(),null!=f&&k.yc()!=f.yc()){if(k.nd!=f.nd)throw e.g.vk();u=e.oc.li(c,f,k)}}else if(null!=f)throw e.g.F();
b=e.CD.local().V(b,a,u,null)}else{if(null===a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.yc()?a.Nd():e.oc.ze(9001);if(0!==f.nd)throw e.g.F();u=e.oc.li(c,f,e.oc.ze(9001));b=e.HD.local().V(b,a,m,u,d,!1,null)}return b};d.mW=function(b,a,c,f,k,m,d){if(null!=a){var u=a.Nd();if(null!=d&&u.yc()!=d.yc()){if(u.nd!=d.nd)throw e.g.vk();c=e.oc.li(c,d,u)}}else if(null!=d)throw e.g.F();b=new e.hd(b);a=e.LD.local().V(b,a,c,f,k,m,null);for(c=[];null!=(f=a.next());)c.push(f);return c.slice(0)};d.offset=function(b,
a,c,f,k,m,d){if(null!=a){var u=a.Nd();if(null!=d&&u.yc()!=d.yc()){if(u.nd!=d.nd)throw e.g.vk();c=e.oc.li(c,d,u)}}else if(null!=d)throw e.g.F();return e.LD.local().V(b,a,c,f,k,m,null)};d.hR=function(b){return e.ED.local().V(b,null)};d.iR=function(b,a){var c=e.ED.local();b=new e.hd(b);c=c.V(b,a,null);for(b=[];null!=(a=c.next());)b.push(a);return b};d.Zz=function(b,a,c){return e.sy.local().Zz(b,a,c)};d.$z=function(b,a){return e.sy.local().$z(b,a)};d.aA=function(b,a,c,f){return e.sy.local().aA(b,a,c,
f)};d.CC=function(b,a){return e.Km.local().V(b,a,!1,null)};d.YU=function(b,a){return e.Km.local().Wq(b,a,null)};d.GS=function(b,a,c,f,k){var m=e.GD.local();if(null!=a){if(a=a.Nd(),null!=k&&a.yc()!=k.yc()){if(a.nd!=k.nd)throw e.g.vk();c=e.oc.li(c,k,a)}}else if(null!=k)throw e.g.F();return m.V(b,c,f,null)};d.Ls=function(b,a,c,f){var k=e.Jm.local();if(null!=a){if(a=a.Nd(),null!=f&&a.yc()!=f.yc()){if(a.nd!=f.nd)throw e.g.vk();c=e.oc.li(c,f,a)}}else if(null!=f)throw e.g.F();return k.V(b,c,null)};d.Ez=
function(b,a,c,f,k){void 0===k&&(k=0);var m=e.jN.local();if(4==k)throw e.g.df();if(0!==k)throw e.g.df();if(null!=a){var d=a.Nd();if(null!=f&&d.yc()!=f.yc()){if(d.nd!=f.nd)throw e.g.vk();c=e.oc.li(c,f,d)}}else if(null!=f)throw e.g.F();return m.V(b,c,a,k,null)};d.MS=function(b,a,c,f){if(null===b)return 0;if(4==f)throw e.g.df();if(0!==f)throw e.g.df();if(197==b.G())b=d.mX(b);else if(1736!=b.G())return 0;f=e.fb.kc(a);b=e.fb.Xg(b,a,f,null);b=e.qM.NS([b])[0];if(null!==c){if(2!==c.nd)throw e.g.F("Unit must be a area unit type");
b=e.oc.li(b,e.oc.ze(109404),c)}return b};d.QS=function(b,a,c,f){b=e.lN.local().V(b,a,f,null);if(null!==c){if(0!==c.nd)throw e.g.F("Unit must be a linear unit type");b=e.oc.li(b,e.oc.ze(9001),c)}return b};d.wW=function(b,a,c){if(null===b)return 0;var f=null;if(null!=a){f=a.Nd();if(0==f.nd&&(f=e.oc.lH(f),null==f&&null!==c))throw e.g.F();if(null!=c&&f.yc()!=c.yc()&&f.nd!=c.nd)throw e.g.vk();}else if(null!=c)throw e.g.F();return 1736==b.G()||197==b.G()?(b=b.hf(),null!==c?e.oc.li(b,f,c):b):0};d.xW=function(b,
a,c){if(null===b||b.u()||1>b.tb())return 0;var f=null;if(null!=a){if(f=a.Nd(),null!=c&&f.yc()!=c.yc()&&f.nd!=c.nd)throw e.g.vk();}else if(null!=c)throw e.g.F();1736==b.G()||197==b.G()?a=b.Gg():e.T.Oc(b.G())?(a=new e.Ua(b.description),a.dc(b,!0)):a=b;b=0;a=a.Fa();for(var k=new e.b,m=new e.b;a.Ya();)for(;a.Ea();){var d=a.ba();d.Oq(k);d.Ps(m);b+=e.b.Cb(k,m)}null!==f&&null!==c&&(b=e.oc.li(b,f,c));return b};d.$Z=function(b,a){return e.Sd.PS(b,a)};d.cG=function(b){return void 0!==b.points?d.kW(b,void 0===
b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?d.wH(b.rings,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?d.wH(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?d.uW(b):void 0!==b.xmin?d.cW(b):null};d.uW=function(b){if(null==b.x||"NaN"==b.x)return new e.Wa;var a=new e.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.rY(b.z);void 0!==b.m&&null!==b.m&&a.bY(b.m);return a};d.cW=function(b){if(null==b.xmin||"NaN"==b.xmin)return new e.ci;var a=
new e.ci(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};d.kW=function(b,a,c){var f=0,k=new e.Ed,m=3*b.points.length;0!=m%2&&m++;2>m&&(m=2);var d=e.J.truncate(3*b.points.length/2);4>d?d=4:16>d&&(d=16);for(var m=e.Uc.Um(m,0),g=e.Uc.Um(d),d=e.Uc.Um(d),h=0;h<b.points.length;h++)m.write(2*h,b.points[h][0]),m.write(2*h+1,b.points[h][1]),g.write(h,a||c?b.points[h][2]:NaN),d.write(h,c&&
a?b.points[h][3]:NaN),f++;0!=f&&(k.resize(f),k.Yn(0,m));a&&(k.Ud(1),k.Yn(1,g));c&&(k.Ud(2),k.Yn(2,0==a?g:d));k.Dc(16777215);return k};d.wH=function(b,a,c,f){var k,m=0,d=2;"P"==f?(k=new e.Ja,m=1,d=3):k=new e.Ua;for(var g=e.Uc.wh(0),h=e.Uc.vq(0),t=0,l=0,n=[],p=[],q=0;q<b.length;q++){var r=b[q].length;n[q]=!1;if("P"===f&&b[q][0][0]===b[q][b[q].length-1][0]&&b[q][0][1]===b[q][b[q].length-1][1]){var v=0==c?!0:b[q][0][3]===b[q][b[q].length-1][3]||void 0===b[q][0][3]&&void 0===b[q][b[q].length-1][3];(0==
a||b[q][0][2]===b[q][b[q].length-1][2]||void 0===b[q][0][2]&&void 0===b[q][b[q].length-1][2])&&v&&(n[q]=!0,--r)}r>=d?(p[q]=!1,l+=1,g.add(t),h.add(m),t+=r):p[q]=!0}f=3*t;0!=f%2&&f++;2>f&&(f=2);q=e.J.truncate(3*t/2);4>q?q=4:16>q&&(q=16);f=e.Uc.Um(f,0);m=e.Uc.Um(q);d=e.Uc.Um(q);for(q=r=0;q<b.length;q++)if(!1===p[q])for(v=0;v<b[q].length;v++){var G=!1;v===b[q].length-1&&!0===n[q]&&(G=!0);G||(f.write(2*r,b[q][v][0]),f.write(2*r+1,b[q][v][1]),m.write(r,a||c?b[q][v][2]:NaN),d.write(r,c&&a?b[q][v][3]:NaN),
r++)}0!=t&&(b=k,g.resize(l),h.resize(l),0<t&&(g.add(t),h.add(0)),b.Yn(0,f),b.GK(h),b.HK(g));a&&(k.Ud(1),k.Yn(1,m));c&&(k.Ud(2),k.Yn(2,0==a?m:d));k.Dc(16777215);return k};return d}();e.cc=d})(n||(n={}));(function(e){var d=function(){function e(){}e.Hm=function(b){var a=0,c,f=b.length,e=b[0],m;for(c=0;c<f-1;c++)m=b[c+1],a+=(m[0]-e[0])*(m[1]+e[1]),e=m;return 0<=a};e.rotate=function(b,a,c){a=a*Math.PI/180;var f=Math.cos(a),k=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var m=0;m<b.paths.length;m++){for(var d=
b.paths[m],g=[],h=0;h<d.length;h++){var t=d[h].slice(0);g.push(t);var l=f*(d[h][0]-c.x)-k*(d[h][1]-c.y)+c.x,n=k*(d[h][0]-c.x)+f*(d[h][1]-c.y)+c.y;t[0]=l;t[1]=n}a.paths.push(g)}return a}if(void 0!==b.rings){a={rings:[]};for(m=0;m<b.rings.length;m++){for(var d=b.rings[m],g=[],p=e.Hm(d),h=0;h<d.length;h++)t=d[h].slice(0),g.push(t),l=f*(d[h][0]-c.x)-k*(d[h][1]-c.y)+c.x,n=k*(d[h][0]-c.x)+f*(d[h][1]-c.y)+c.y,t[0]=l,t[1]=n;e.Hm(g)!==p&&g.reverse();a.rings.push(g)}return a}if(void 0!==b.x)return a={x:f*(b.x-
c.x)-k*(b.y-c.y)+c.x,y:k*(b.x-c.x)+f*(b.y-c.y)+c.y},void 0!==b.z&&(a.z=b.z),void 0!==b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(h=0;h<b.length;h++)m=b[h].slice(0),m[0]=f*(b[h][0]-c.x)-k*(b[h][1]-c.y)+c.x,m[1]=k*(b[h][0]-c.x)+f*(b[h][1]-c.y)+c.y,a.points.push(m);return a}return null};e.zG=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var k=0;k<b.paths.length;k++){for(var m=b.paths[k],d=[],g=0;g<m.length;g++){var h=m[g].slice(0);d.push(h);f=a.x-m[g][0];h[0]=m[g][0]+
2*f}c.paths.push(d)}return c}if(void 0!==b.rings){c={rings:[]};for(k=0;k<b.rings.length;k++){for(var m=b.rings[k],t=e.Hm(m),d=[],g=0;g<m.length;g++)h=m[g].slice(0),d.push(h),f=a.x-m[g][0],h[0]=m[g][0]+2*f;e.Hm(d)!==t&&d.reverse();c.rings.push(d)}return c}if(void 0!==b.x)return f=a.x-b.x,c={x:b.x+2*f,y:b.y},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};k=b.points;for(g=0;g<k.length;g++)m=k[g].slice(0),f=a.x-m[0],m[0]+=2*f,c.points.push(m);return c}return void 0!==
b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.x-b.xmin,c.xmax=b.xmin+2*f,f=a.x-b.xmax,c.xmin=b.xmax+2*f,c):null};e.AG=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var k=0;k<b.paths.length;k++){for(var m=b.paths[k],d=[],g=0;g<m.length;g++){var h=m[g].slice(0);d.push(h);f=a.y-m[g][1];h[1]=m[g][1]+2*f}c.paths.push(d)}return c}if(void 0!==b.rings){c={rings:[]};for(k=0;k<b.rings.length;k++){for(var m=
b.rings[k],t=e.Hm(m),d=[],g=0;g<m.length;g++)h=m[g].slice(0),d.push(h),f=a.y-m[g][1],h[1]=m[g][1]+2*f;e.Hm(d)!==t&&d.reverse();c.rings.push(d)}return c}if(void 0!==b.x)return f=a.y-b.y,c={y:b.y+2*f,x:b.x},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};k=b.points;for(g=0;g<k.length;g++)m=k[g].slice(0),f=a.y-m[1],m[1]+=2*f,c.points.push(m);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==
b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.y-b.ymin,c.ymax=b.ymin+2*f,f=a.y-b.ymax,c.ymin=b.ymax+2*f,c):null};return e}();e.Wp=d})(n||(n={}));(function(e){var d=function(){function d(){}d.bh=function(b,a){null==a&&(a=e.ye.Ig());switch(b){case 33:return new e.Wa(a);case 322:return new e.Hb(a);case 197:return new e.ci(a);case 550:return new e.Ed(a);case 1607:return new e.Ua(a);case 1736:return new e.Ja(a);default:throw e.g.X("invalid argument.");}};return d}();e.uM=d})(n||(n={}));(function(e){var d=
function(){function d(b,a){this.tf=e.ia.zd(b,-1);this.va=new e.Lu;this.bm=a}d.prototype.xX=function(b){this.va.pu(Math.min(this.tf.size,b));this.va.Vn(b)};d.prototype.addElement=function(b,a){if(void 0===a)return this.cP(b);a=e.J.truncate(a%this.tf.size);var c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,b)};d.prototype.cP=function(b){var a=this.bm.Vz(b),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,
b)};d.prototype.kd=function(b,a){if(void 0===a)this.GR(b);else{a=e.J.truncate(a%this.tf.size);var c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),k=-1;-1!=f;){var m=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(c,k,f),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):k=f;f=m}}};d.prototype.GR=function(b){var a=this.bm.Vz(b),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),k=-1;-1!=f;){var m=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(c,
k,f),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):k=f;f=m}};d.prototype.hT=function(b){b=e.J.truncate(b%this.tf.size);b=this.tf.get(b);return-1==b?-1:this.va.xc(b)};d.prototype.xT=function(b){return this.va.nb(b)};d.prototype.Kd=function(b){var a=this.bm.Vz(this.ja(b)),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),k=-1;-1!=f;){if(f==b){this.va.kd(c,k,f);-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1));return}k=f;f=this.va.nb(f)}throw e.g.F();
};d.prototype.ja=function(b){return this.va.ja(b)};d.prototype.clear=function(){this.tf=e.ia.zd(this.tf.size,-1);this.va.clear()};d.prototype.size=function(){return this.va.eH()};return d}();e.EM=d})(n||(n={}));(function(e){var d=function(){function d(){this.kj=new e.ad(3);this.va=new e.ad(6);this.sV=!1;this.Ge=-1}d.prototype.Kl=function(b){this.kj.kd(b)};d.prototype.Bx=function(){return this.kj.Pe()};d.prototype.Pv=function(b){this.va.kd(b)};d.prototype.FB=function(){return this.va.Pe()};d.prototype.uC=
function(b,a){this.kj.P(b,1,a)};d.prototype.Qx=function(b,a){this.kj.P(b,2,a)};d.prototype.aY=function(b,a){this.kj.P(b,3,a)};d.prototype.sC=function(b,a){this.va.P(b,4,a)};d.prototype.dY=function(b,a){this.va.P(b,3,a)};d.prototype.KK=function(b,a){this.va.P(b,2,a)};d.prototype.mi=function(b){var a=this.FB();this.va.P(a,3,this.Ge);this.va.P(a,4,0);this.va.P(a,5,b);-1!=this.Ge&&this.KK(this.Ge,a);return this.Ge=a};d.prototype.zh=function(b){this.QF(b);var a=this.va.S(b,2),c=this.va.S(b,3);-1!=a?this.dY(a,
c):this.Ge=c;-1!=c&&this.KK(c,a);this.Pv(b);return c};d.prototype.pu=function(b){this.va.Qe(b)};d.prototype.$G=function(b){return this.va.S(b,5)};d.prototype.$X=function(b,a){this.va.P(b,5,a)};d.prototype.addElement=function(b,a){return this.oU(b,a)};d.prototype.oU=function(b,a){var c=this.Bx();this.Qx(c,-1);-1==this.va.S(b,0)&&this.va.P(b,0,c);var f=this.va.S(b,1);this.uC(c,f);-1!=f&&this.Qx(f,c);this.va.P(b,1,c);this.setData(c,a);this.sC(b,this.at(b)+1);this.sV&&this.aY(c,b);return c};d.prototype.kd=
function(b,a){var c=this.Ve(a),f=this.nb(a);-1!=c?this.Qx(c,f):this.va.P(b,0,f);-1!=f?this.uC(f,c):this.va.P(b,1,c);this.Kl(a);this.sC(b,this.at(b)-1);return f};d.prototype.Vn=function(b){this.kj.Qe(b)};d.prototype.getData=function(b){return this.kj.S(b,0)};d.prototype.setData=function(b,a){this.kj.P(b,0,a)};d.prototype.nb=function(b){return this.kj.S(b,2)};d.prototype.Ve=function(b){return this.kj.S(b,1)};d.prototype.xc=function(b){return this.va.S(b,0)};d.prototype.Fc=function(b){return this.va.S(b,
1)};d.prototype.clear=function(){for(var b=this.Ge;-1!=b;)b=this.zh(b)};d.prototype.QF=function(b){for(var a=this.Fc(b);-1!=a;){var c=a,a=this.Ve(c);this.Kl(c)}this.va.P(b,0,-1);this.va.P(b,1,-1);this.sC(b,0)};d.prototype.u=function(){return 0==this.kj.size};d.prototype.eH=function(){return this.kj.size};d.prototype.at=function(b){return this.va.S(b,4)};d.prototype.bA=function(b){return this.va.S(b,3)};return d}();e.Xp=d})(n||(n={}));(function(e){var d=function(){function d(b){void 0===b?(this.Qg=
new e.ad(2),this.va=new e.ad(4),this.Ge=-1,this.Cw=!0):(this.Qg=new e.ad(2),this.va=new e.ad(b?4:2),this.Ge=-1,this.Cw=b)}d.prototype.Kl=function(b){this.Qg.kd(b)};d.prototype.Bx=function(){return this.Qg.Pe()};d.prototype.Pv=function(b){this.va.kd(b)};d.prototype.FB=function(){return this.va.Pe()};d.prototype.mi=function(){var b=this.FB();this.Cw&&(this.va.P(b,3,this.Ge),-1!=this.Ge&&this.va.P(this.Ge,2,b),this.Ge=b);return b};d.prototype.zh=function(b){for(var a=this.xc(b);-1!=a;){var c=a,a=this.nb(a);
this.Kl(c)}this.Cw&&(a=this.va.S(b,2),c=this.va.S(b,3),-1!=a?this.va.P(a,3,c):this.Ge=c,-1!=c&&this.va.P(c,2,a));this.Pv(b)};d.prototype.pu=function(b){this.va.Qe(b)};d.prototype.addElement=function(b,a){var c=this.va.S(b,1),f=this.Bx();-1!=c?this.Qg.P(c,1,f):this.va.P(b,0,f);this.va.P(b,1,f);this.Qg.P(f,0,a);return f};d.prototype.Vn=function(b){this.Qg.Qe(b)};d.prototype.kd=function(b,a,c){-1!=a?(this.Qg.P(a,1,this.Qg.S(c,1)),this.va.S(b,1)==c&&this.va.P(b,1,a)):(this.va.P(b,0,this.Qg.S(c,1)),this.va.S(b,
1)==c&&this.va.P(b,1,-1));this.Kl(c)};d.prototype.mz=function(b,a){var c=this.va.S(b,1),f=this.va.S(a,0);-1!=f&&(-1!=c?this.Qg.P(c,1,f):this.va.P(b,0,f),this.va.P(b,1,this.va.S(a,1)));this.Cw&&(c=this.va.S(a,2),f=this.va.S(a,3),-1!=c?this.va.P(c,3,f):this.Ge=f,-1!=f&&this.va.P(f,2,c));this.Pv(a)};d.prototype.ja=function(b){return this.Qg.S(b,0)};d.prototype.kk=function(b,a){this.Qg.P(b,0,a)};d.prototype.nb=function(b){return this.Qg.S(b,1)};d.prototype.xc=function(b){return this.va.S(b,0)};d.prototype.yo=
function(b){return this.ja(this.xc(b))};d.prototype.clear=function(){this.Qg.Vi(!0);this.va.Vi(!0);this.Ge=-1};d.prototype.u=function(b){return void 0===b?0==this.Qg.size:-1==this.va.S(b,0)};d.prototype.eH=function(){return this.Qg.size};d.prototype.bA=function(b){return this.va.S(b,3)};return d}();e.Lu=d})(n||(n={}));(function(e){var d=function(){function d(){}d.ZD=function(b,a,c,f,k,m,u){var g=new e.b;g.L(b);b=new e.b;b.L(a);k.Ny(g);k.Ny(b);a=k.Wu(g);var h=k.Wu(b);0==h&&(h=k.ZG());if(g.x!=b.x&&
(g.y!=b.y||g.y!=k.A&&g.y!=k.B)||h>a!=m){a=k.zE(g);var h=k.zE(b),l,t=m?1:3;do a=a+t&3,l=k.Gx(a),0!=u&&(f=d.ZD(g,l,c,f,k,m,u)),c[f++].ka(l.x,l.y),g=l;while((a&3)!=h);0!=u&&(f=d.ZD(g,b,c,f,k,m,u))}else if(k=new e.b,k.ka(b.x-g.x,b.y-g.y),0!=u&&(u=e.J.truncate(k.RO()/u),0<u))for(k.scale(1/(u+1)),m=0;m<u;m++)g.add(k),c[f++].ka(g.x,g.y);return f};d.be=function(b,a,c){a=a.no();b=null!=b&&void 0!==b.re?b.re(0):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.Cs=function(b){return 2*Math.sqrt(2)*b};d.rP=function(b){return Math.sqrt(2)*
b};d.ah=function(b,a,c){var f=new e.h;a.s(f);return d.be(b,f,c)};d.FF=function(b,a,c){a=a.xf(1,0).no();b=null!=b?b.re(1):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.a_=function(b,a){var c=new e.h;b.ac(c);c.Nb(a);return c};d.Zv=function(b,a){var c=new e.h;b.ac(c);b=new e.h;a.ac(b);c.Nb(b);return c};d.j_=function(b,a){var c=b.mT(a),f=b.wa(a),k=b.Gc(a),d=b.Ba(c);c==f?(k=b.Ba(k-1),c=b.Ba(f+1)):c==k-1?(k=b.Ba(c-1),c=b.Ba(f)):(k=b.Ba(c-1),c=b.Ba(c+1));d=e.b.zp(k,d,c);return 0==d?0<b.Sm(a):-1==d};d.aQ=function(b){var a=
new e.h;b.ac(a);if(a.u())return null;var c=new e.gq(a,8),f=-1,k=new e.h,d=!1;do for(var u=0,g=b.aa();u<g;u++)if(b.jk(u,k),f=c.lw(u,k,f),-1==f){if(d)throw e.g.X("internal error");b.uo(a,!1);d=!0;c.reset(a,8);break}else d=!1;while(d);return c};d.AF=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=-1,k=b.Fa(),d=new e.h,u=!1;k.Ya();)for(;k.Ea();){var g=k.ba(),h=k.Db();g.s(d);f=c.lw(h,d,f);if(-1==f){if(u)throw e.g.za();b.uo(a,!1);u=!0;c.reset(a,8);k.yj();break}}return c};d.Lj=function(b,a){var c=
new e.h;b.ac(c);for(var f=new e.gq(c,8),k=-1,d=new e.h,u=b.Fa(),g=!1;u.Ya();)for(;u.Ea();){var h=u.ba(),l=u.Db();h.s(d);if(d.Yb(a)&&(k=f.lw(l,d,k),-1==k)){if(g)throw e.g.X("internal error.");b.uo(c,!1);g=!0;f.reset(c,8);u.yj();break}}return f};d.S_=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=new e.b,k=new e.h,d=!1,u=0;u<b.D();u++)if(b.w(u,f),k.I(f),-1==c.eh(u,k)){if(d)throw e.g.za();b.uo(a,!1);d=!0;c.reset(a,8);u=-1}return c};d.BF=function(b,a){for(var c=new e.gq(a,8),f=new e.b,k=
!1,d=new e.h,u=0;u<b.D();u++)if(b.w(u,f),a.contains(f)&&(d.I(f),-1==c.eh(u,d))){if(k)throw e.g.za();k=!0;u=new e.h;b.uo(u,!1);c.reset(u,8);u=-1}return c};d.cT=function(b,a,c){var f=new e.h,k=new e.h;b.ac(f);a.ac(k);f.O(c,c);k.O(c,c);var d=new e.h;d.I(f);d.Ma(k);b=b.Fa();a=a.Fa();var u=new e.fD;u.yC(c);var g=!1;for(u.bL();b.Ya();)for(;b.Ea();)b.ba().s(f),f.Yb(d)&&(g=!0,c=new e.h,c.I(f),u.ZE(b.Db(),c));u.tG();if(!g)return null;f=!1;for(u.aL();a.Ya();)for(;a.Ea();)a.ba().s(k),k.Yb(d)&&(f=!0,c=new e.h,
c.I(k),u.VE(a.Db(),c));u.sG();return f?u:null};d.dT=function(b,a,c,f,k){var d=b.G(),u=a.G(),g=new e.h,h=new e.h;b.ac(g);a.ac(h);g.O(c,c);h.O(c,c);var l=new e.h;l.I(g);l.Ma(h);var t=new e.fD;t.yC(c);var n=!1;t.bL();var p=0;for(c=b.aa();p<c;p++)if(!f||1736!=d||b.rw(p))b.jk(p,g),g.Yb(l)&&(n=!0,t.ZE(p,g));t.tG();if(!n)return null;b=!1;t.aL();f=0;for(c=a.aa();f<c;f++)if(!k||1736!=u||a.rw(f))a.jk(f,h),h.Yb(l)&&(b=!0,t.VE(f,h));t.sG();return b?t:null};d.o_=function(b,a){return 0<b.Lk(a)};d.R_=function(b,
a){var c=new e.h;b.hX(a,c);var c=new e.gq(c,8),f=-1,k=new e.h;b=b.Fa();b.eC(a);if(b.Ya())for(;b.Ea();){a=b.ba();var d=b.Db();a.ac(k);f=c.lw(d,k,f);if(-1==f)throw e.g.X("internal error");}return c};d.Fv=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=e.b.El(a[f]):b[f].L(a[f])};d.oz=function(b,a,c,f){var e=0;for(f+=0;e<f;c++,e++)null==b[e]&&(b[e]=[0,0]),b[e][0]=a[c].x,b[e][1]=a[c].y};d.nz=function(b,a,c,f){var k=a,d=0;for(a=f+a;k<a;d++,k++)null==b[k]?b[k]=e.b.pa(c[d][0],c[d][1]):b[k].ka(c[d][0],
c[d][1])};d.jR=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=new e.Wa(a[f]):a[f].copyTo(b[f])};d.EP=function(b,a,c,f){var e=f.ca;f=f.ha;for(var d=0;d<a;d+=c){var u=b.read(d);u<e?b.write(d,e):u>f&&b.write(d,f)}};d.uP=function(b,a,c,f){var e=f.ca;f=f.ha;for(var d=0;d<a;d+=c){var u=b.read(d);u<e?b.write(d,e):u>f&&b.write(d,f)}};d.UK=function(b,a,c){if(b.hasAttribute(c)){var f=b.G();if(e.T.gh(f)){var k=e.ma.si(c),f=e.ma.Xa(c),m=b.D();if(1==k){b=b.Pa(c);d.EP(b,m*f,f,a);return}if(2==k){b=
b.Pa(c);d.uP(b,m*f,f,a);return}throw e.g.X("snap_coordinate not implemented");}if(197==f)m=b.xf(c,0),f=!1,m.ca<a.ca&&(f=!0,m.ca=a.ca),m.ha>a.ha&&(f=!0,m.ha=a.ha),f&&b.setInterval(c,0,m);else if(33==f)m=b.Yc(c,0),f=!1,m<a.ca&&(f=!0,m=a.ca),m>a.ha&&(f=!0,m=a.ha),f&&b.setAttribute(c,0,m);else if(e.T.Oc(f))m=b.dt(c,0),f=!1,m<a.ca&&(f=!0,m=a.ca),m>a.ha&&(f=!0,m=a.ha),f&&b.Tx(c,0,m),m=b.Os(c,0),m<a.ca&&(f=!0,m=a.ca),m>a.ha&&(f=!0,m=a.ha),f&&b.Lx(c,0,m);else throw e.g.X("snap_coordinate not implemented");
}};d.jo=function(b,a,c,f,e){var k=0;null!=a&&(k=a.re(b),e&&!f||null==a||(k+=1.01*a.fA(b)));f&&(c*=4,k*=1.01);return Math.max(k,c)};d.T_=function(b,a,c,f){a=e.h.CO(a.Be(),a.nf(),c.Be(),c.nf());return d.jo(0,b,a,f,!1)};d.Zy=function(b,a,c){a=a.no();return d.jo(0,b,a,c,!1)};d.U_=function(b,a,c){a=a.no();return d.jo(1,b,a,c,!1)};d.gQ=function(b,a){var c=new e.h;a.s(c);return d.Zy(b,c,!0)};d.$y=function(b,a){a=a.no();return d.jo(0,b,a,!1,!0)};d.V_=function(b,a,c){a=a.no();return d.jo(1,b,a,c,!0)};d.vv=
function(b,a){var c=new e.h;a.s(c);return d.$y(b,c)};d.NH=function(b,a,c,f){f*=f;var k=new e.b;k.zc(b,a);b=new e.b;b.zc(c,a);a=k.qk();c=b.qk();if(a<=f&&c<=f)return!0;var d=e.Ub.Yx(k.Ui(b));return d<=f*a||d<=f*c?0<=k.oi(b):!1};d.VK=function(b,a,c,f){for(var k=0;k<a;k++){var d=b[k].y,u=e.J.pk(d,c,f);u!=d&&(b[k].y=u)}};return d}();e.na=d})(n||(n={}));(function(e){var d=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,f){a=a.ja(f);f=this.ab.Pk(b);var e=this.ab.Pk(a);return f<e?-1:f==
e?c.Vq(b)&&c.tw(a)?-1:c.Vq(a)&&c.tw(b)?1:0:1};return a}(),g=function(){function a(a){this.ab=a}a.prototype.hs=function(a,c,b){this.ab.AY(b,a,c)};a.prototype.Qq=function(a){return this.ab.Pk(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.pj=new e.Ac;this.oh=new e.ia(0);this.Og=[0,0]}a.prototype.Ni=function(a,
c){this.pj.ca=a.ca-c;this.pj.ha=a.ha+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.dC=function(a,c,b){if(a>c)throw e.g.F();this.pj.ca=a-b;this.pj.ha=c+b;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.Wn=function(a,c){this.pj.ca=a-c;this.pj.ha=a+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw e.g.Da();if(0>this.Ee)return-1;for(var a=!0;a;)switch(this.Og[this.Ee]){case 1:a=this.pW();break;case 2:a=this.qW();break;case 3:a=this.rW();break;
case 4:a=this.sW();break;case 5:a=this.CX();break;case 6:a=this.lV();break;case 7:a=this.vP();break;case 0:a=this.qA();break;default:throw e.g.za();}return-1!=this.jh?this.Gq()>>1:-1};a.CZ=function(c,b,f){var e=new a;e.ab=c;e.oh.yb(20);e.Ni(b,f);return e};a.DZ=function(c,b,f){var e=new a;e.ab=c;e.oh.yb(20);e.Wn(b,f);return e};a.pa=function(c){var b=new a;b.ab=c;b.oh.yb(20);b.Ee=-1;return b};a.prototype.qA=function(){this.jh=this.HI=this.lj=this.Sc=-1;if(null!=this.ab.Je&&0<this.ab.Je.size)return this.Og[0]=
1,this.lj=this.ab.Mf,!0;this.Ee=-1;return!1};a.prototype.pW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.jh=this.Ee=-1,!1;var a=this.ab.Hq(this.Sc);if(this.pj.ha<a)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Qj(this.Sc),-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6),!0;if(a<this.pj.ca)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Nk(this.Sc),-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5),!0;this.Og[this.Ee]=2;this.HI=this.Sc;a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=
a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);return!0};a.prototype.qW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=3,this.lj=this.ab.Nk(this.HI),!0;if(this.ab.Hq(this.Sc)<this.pj.ca){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Nk(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.rW=function(){this.Sc=
this.lj;if(-1==this.Sc)return this.Og[this.Ee]=4,!0;if(this.pj.ha<this.ab.Hq(this.Sc)){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Qj(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.sW=function(){if(0==this.oh.size)return this.jh=this.Ee=-1,!1;this.Sc=this.oh.get(this.oh.size-1);this.oh.resize(this.oh.size-1);var a=
this.ab.Ok(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);-1!=this.ab.Qj(this.Sc)&&this.oh.add(this.ab.Qj(this.Sc));-1!=this.ab.Nk(this.Sc)&&this.oh.add(this.ab.Nk(this.Sc));return!0};a.prototype.lV=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq())&&this.ab.Pk(this.Gq())<=this.pj.ha)return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.CX=function(){this.jh=this.Ei;if(-1!=this.jh&&c.tw(this.Gq())&&this.ab.Pk(this.Gq())>=this.pj.ca)return this.Ei=this.JT(),!1;this.Ee--;
return!0};a.prototype.vP=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq()))return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.dH=function(){return this.ab.pg?this.ab.vg.nb(this.jh):this.ab.sj.nb(this.jh)};a.prototype.JT=function(){return this.ab.pg?this.ab.vg.Ve(this.jh):this.ab.sj.Ve(this.jh)};a.prototype.Gq=function(){return this.ab.pg?this.ab.vg.ja(this.jh):this.ab.sj.getData(this.jh)};return a}();e.WZ=a;var c=function(){function c(a){this.on=this.zi=this.vg=this.sj=this.xn=this.ak=
this.Je=this.bk=null;this.pg=a;this.ar=this.Ew=!1}c.prototype.cs=function(){this.ql(!0)};c.prototype.zs=function(a,c){if(!this.Ew)throw e.g.Da();this.bk.push(new e.Ac(a,c))};c.prototype.yq=function(){if(!this.Ew)throw e.g.X("invalid call");this.Ew=!1;this.ar=!0;this.pg||(this.qU(),this.Mw=this.bk.length)};c.prototype.eh=function(a){if(!this.pg||!this.ar)throw e.g.F("invalid call");if(-1==this.Mf){var c=this.bk.length;if(this.RA){var b=new e.ia(0);b.yb(2*c);this.VJ(b);this.zi.yb(2*c);this.zi.resize(0);
this.UJ(b);this.xn.resize(c,-1);this.xn.Zh(-1,0,c);this.RA=!1}else this.xn.Zh(-1,0,c);this.Mf=this.Hv()}c=this.DH(a<<1,this.Mf);b=this.vg.addElement((a<<1)+1,this.hA(c));this.MK(c,b);this.xn.set(a,c);this.Mw++};c.prototype.remove=function(a){if(!this.pg||!this.ar)throw e.g.X("invalid call");var c=this.xn.get(a);if(-1==c)throw e.g.F("the interval does not exist in the interval tree");this.xn.set(a,-1);this.Mw--;var b=this.hA(c),f;f=this.vg.ST(b);this.vg.Kd(this.qT(c),b);this.vg.Kd(this.MT(c),b);a=
this.vg.size(b);0==a&&(this.vg.IR(b),this.PK(f,-1));this.ak.kd(c);for(var b=this.fH(f),k=this.Qj(f),d=this.Nk(f),c=0;!(0<a||f==this.Mf||-1!=k&&-1!=d);)f==this.Qj(b)?-1!=k?(this.rl(b,k),this.mk(k,b),this.rl(f,-1)):-1!=d?(this.rl(b,d),this.mk(d,b),this.tl(f,-1)):this.rl(b,-1):-1!=k?(this.tl(b,k),this.mk(k,b),this.rl(f,-1)):-1!=d?(this.tl(b,d),this.mk(d,b),this.tl(f,-1)):this.tl(b,-1),this.mk(f,-1),c++,f=b,b=this.Ok(f),a=-1!=b?this.vg.size(b):0,k=this.Qj(f),d=this.Nk(f),b=this.fH(f)};c.prototype.reset=
function(){if(!this.pg||!this.ar)throw e.g.F("invalid call");this.ql(!1)};c.prototype.size=function(){return this.Mw};c.prototype.mf=function(){return a.pa(this)};c.prototype.VJ=function(a){for(var c=this.bk.length,b=0;b<2*c;b++)a.add(b);this.BY(a,2*c)};c.prototype.UJ=function(a){for(var c=NaN,b=0;b<a.size;b++){var f=a.get(b),e=this.Pk(f);e!=c&&(this.zi.add(f),c=e)}};c.prototype.qU=function(){var a=this.bk.length,c=new e.ia(0);c.yb(2*a);this.VJ(c);this.zi.yb(2*a);this.zi.resize(0);this.UJ(c);this.ak.Qe(a);
this.sj.Vn(2*a);var b=e.Uc.wh(a);b.Zh(-1,0,a);this.Mf=this.Hv();for(a=0;a<c.size;a++){var f=c.get(a),d=b.get(f>>1);-1!=d?this.MK(d,this.sj.addElement(this.hA(d),f)):(d=this.DH(f,this.Mf),b.set(f>>1,d))}};c.prototype.DH=function(a,c){var b=c,f=c,k,d=-1,m=0,g=this.zi.size-1,h=0,l=a>>1,t=NaN,n=NaN;k=!0;for(var p=this.wT(l),l=this.tT(l);k;){m<g?(h=m+e.J.truncate((g-m)/2),-1==this.Pz(b)&&this.vK(b,this.zi.get(h),this.zi.get(h+1))):-1==this.Pz(b)&&this.vK(b,this.zi.get(m),this.zi.get(m));var q=this.Hq(b);
if(l<q)-1!=c&&(c==b?(f=b,t=q,c=this.Qj(b),-1!=c?n=this.Hq(c):n=NaN):n>q&&(q<t?this.rl(f,b):this.tl(f,b),this.tl(b,c),this.pg&&(this.mk(b,f),this.mk(c,b)),f=b,t=q,c=-1,n=NaN)),g=this.rT(b),-1==g&&(g=this.Hv(),this.YX(b,g)),b=g,g=h;else if(p>q)-1!=c&&(c==b?(f=b,t=q,c=this.Nk(b),-1!=c?n=this.Hq(c):n=NaN):n<q&&(q<t?this.rl(f,b):this.tl(f,b),this.rl(b,c),this.pg&&(this.mk(b,f),this.mk(c,b)),f=b,t=q,c=-1,n=NaN)),m=this.NT(b),-1==m&&(m=this.Hv(),this.iY(b,m)),b=m,m=h+1;else{k=this.Ok(b);-1==k&&(k=this.wR(b),
this.PK(b,k));var r=this.dP(k,a),d=this.uR();this.lY(d,k);this.XX(d,r);b!=c&&(q<t?this.rl(f,b):this.tl(f,b),this.pg&&this.mk(b,f),-1!=c&&(n<q?this.rl(b,c):this.tl(b,c),this.pg&&this.mk(c,b)));k=!1}}return d};c.prototype.Hv=function(){return this.Je.Pe()};c.prototype.wR=function(a){return this.pg?this.vg.Ks(a):this.sj.mi(a)};c.prototype.uR=function(){return this.ak.Pe()};c.prototype.ql=function(a){a?(this.Ew=this.RA=!0,this.ar=!1,null==this.zi?this.zi=e.Uc.wh(0):this.zi.resize(0),null==this.bk?this.bk=
[]:this.bk.length=0):this.RA=!1;this.pg?null==this.xn?(this.xn=e.Uc.wh(0),this.vg=new e.uk,this.vg.Ep(new d(this))):this.vg.clear():null==this.sj?this.sj=new e.Xp:this.sj.clear();null==this.Je?(this.ak=new e.ad(3),this.Je=new e.ad(this.pg?8:7)):(this.ak.Vi(!1),this.Je.Vi(!1));this.Mf=-1;this.Mw=0};c.prototype.vK=function(a,c,b){this.SX(a,c);this.TX(a,b)};c.prototype.Hq=function(a){var c=this.Pz(a);if(-1==c)return NaN;c=this.Pk(c);a=this.Pk(this.YS(a));return c==a?c:.5*(c+a)};c.prototype.SX=function(a,
c){this.Je.P(a,0,c)};c.prototype.TX=function(a,c){this.Je.P(a,1,c)};c.prototype.YX=function(a,c){this.Je.P(a,3,c)};c.prototype.iY=function(a,c){this.Je.P(a,4,c)};c.prototype.PK=function(a,c){this.Je.P(a,2,c)};c.prototype.rl=function(a,c){this.Je.P(a,5,c)};c.prototype.tl=function(a,c){this.Je.P(a,6,c)};c.prototype.mk=function(a,c){this.Je.P(a,7,c)};c.prototype.lY=function(a,c){this.ak.P(a,0,c)};c.prototype.dP=function(a,c){return this.pg?this.vg.addElement(c,a):this.sj.addElement(a,c)};c.prototype.XX=
function(a,c){this.ak.P(a,1,c)};c.prototype.MK=function(a,c){this.ak.P(a,2,c)};c.prototype.Ol=function(a){return this.pg?this.vg.xc(a):this.sj.xc(a)};c.prototype.Zs=function(a){return this.pg?this.vg.Fc(a):this.sj.Fc(a)};c.Vq=function(a){return 0==(a&1)};c.tw=function(a){return 1==(a&1)};c.prototype.Pz=function(a){return this.Je.S(a,0)};c.prototype.YS=function(a){return this.Je.S(a,1)};c.prototype.Ok=function(a){return this.Je.S(a,2)};c.prototype.rT=function(a){return this.Je.S(a,3)};c.prototype.NT=
function(a){return this.Je.S(a,4)};c.prototype.Qj=function(a){return this.Je.S(a,5)};c.prototype.Nk=function(a){return this.Je.S(a,6)};c.prototype.fH=function(a){return this.Je.S(a,7)};c.prototype.hA=function(a){return this.ak.S(a,0)};c.prototype.qT=function(a){return this.ak.S(a,1)};c.prototype.MT=function(a){return this.ak.S(a,2)};c.prototype.wT=function(a){return this.bk[a].ca};c.prototype.tT=function(a){return this.bk[a].ha};c.prototype.BY=function(a,c){null==this.on&&(this.on=new e.Hu);var b=
new g(this);this.on.sort(a,0,c,b)};c.prototype.AY=function(a,b,f){var e=this;a.Gd(b,f,function(a,b){var f=e.Pk(a),k=e.Pk(b);return f<k||f==k&&c.Vq(a)&&c.tw(b)?-1:1})};c.prototype.Pk=function(a){var b=this.bk[a>>1];return c.Vq(a)?b.ca:b.ha};return c}();e.ns=c})(n||(n={}));(function(e){var d=function(){function d(b){if(null==b)throw e.g.X("Invalid arguement");this.Ke=b;var a=b.eT();a.bU()?b.je.UH()?this.Zo=e.di.PannableFold:this.Zo=e.di.Clip:this.Zo=e.di.DontClip;a.cU()?b.He.UH()?this.Dn=e.di.PannableFold:
this.Dn=e.di.Clip:this.Dn=e.di.DontClip;this.pn=a.yv;this.yI=a.uz;b=this.Ke.EI;this.mI=b.et(2147483648);this.Gw=b.et(1073741824)}d.Xg=function(b,a,c){return a.xr.Xg(b,c)};d.gs=function(b,a,c,f){return b.xr.gs(a,c,f)};d.Du=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.gs(a,c,f);if(b==c)return b;for(var e=a=0;e<c;e++){var d=f[e];d.isNaN()||(a<e&&f[a].L(d),a++)}for(;a<c;a++)f[a].$c();return b};d.LC=function(b,a,c,f){return b.xr.LC(a,c,f)};d.iL=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.LC(a,c,f);if(b==c)return b;
for(var e=a=0;e<c;e++){var d=f[e];isNaN(d.x)||(a<e&&f[a].I(d.x,d.y,d.z),a++)}for(;a<c;a++)f[a].dv();return b};d.transform=function(b,a,c,f,k){if(b.Ho())return e.na.jR(f,a,c),c;for(var m=[],u=0,g=0;g<c;){for(var h=Math.min(m.length,c-g),l=g,t=0;l<h;l++,t++)null==m[t]?m[t]=a[l].w():a[l].w(m[t]);var n;n=k?d.Du(b,m,h,m):d.gs(b,m,h,m);for(t=l=0;l<n;l++,t++)null==f[g]&&(f[g]=new e.Wa(a[g])),f[g].rb(m[t]);g+=h;u+=n}return u};d.jL=function(b,a,c){if(0==c)return[];var f=new e.Ed;f.nP(a,2*c);a=this.Xg(f,b,
null);b=a.Pa(0);a=2*a.D();c=e.J.gf(a);b.pl(0,a,c,0,!0);return c};d.prototype.gs=function(b,a,c){if(this.Ke.Ho())return b!=c&&e.na.Fv(c,b,a),a;var f=this.Ke.je,k=this.Ke.He,d=f.Fb(),u=k.Fb();if(0==d&&d===u){var g=f.Yi(),k=k.Yi(),k=g/k,g=new e.Hd;g.Op(k,k);g.ZY(b,a,c);return a}g=e.J.qv(Math.min(a,64));if(3==d){var h;h=f.ij;f=h.Gk();d=f.Fb();c!=b&&e.na.Fv(c,b,a);e.Ib.Dl(h,c,a,!0);h.Du(e.Om.forward,c,a);e.Ib.Cl(h,c,a,!0)}if(3==d||3===u)throw e.g.X("image: transform_in_place_");if(2==d)this.Zo==e.di.Clip?
(c!=b&&e.na.Fv(c,b,a),b=f.Mk(),e.Ib.JU(b,f,c,a)):(c!=b&&e.na.Fv(c,b,a),f.Jc()&&(d=f.re(0),h=f.qe(),e.Ib.yY(c,a,h,d),e.Ib.BG(c,a,f,0))),e.Ib.wN(f,c,a,g);else for(d=f.re(0),h=f.qe(),f=0;f<a;f++)e.Ib.zY(b[f],h,d,c[f]);e.Ib.uN(this.Ke,c,a,g);b=0;(u=2==u)?b=k.pi():isNaN(this.pn)||(b=this.pn);u&&this.Dn!=e.di.Clip||e.Ib.BG(c,a,k.kc(),b);u&&(e.Ib.LH(c,a,k,this.Dn),e.Ib.vN(k,c,a,g));b=a;for(f=0;f<a;++f)c[f].isNaN()&&b--;return b};d.prototype.LC=function(b,a,c){a=0>a?b.length:a;if(this.Ke.Ho()){for(var f=
0;f<a;++f)null==c[f]&&(c[f]=new e.qd),c[f].I(b[f].x,b[f].y,b[f].z);return a}var k=this.Ke.je,f=this.Ke.He,d=k.Fb(),u=f.Fb();if(0==d&&d==u)return k=k.Yi(),f=f.Yi(),f=k/f,k=new e.eO,k.Op(f,f,f),k.transform(b,a,c),a;d=new e.Ed;d.Ud(1);d.Ud(3);d.mP(b);b=d.Pa(3);f=0;for(k=a;f<k;f++)b.write(f,f);d=this.Xg(d,null);for(f=0;f<a;++f)null==c[f]?c[f]=e.qd.pa(NaN,NaN,NaN):c[f].dv();if(null==d)return 0;b=d.Pa(3);var u=d.Pa(0),g=d.Pa(1);d.fX(c,a);f=0;for(k=d.D();f<k;f++)a=b.read(f),u.oX(2*f,c[a]),c[a].z=g.read(f);
return d.D()};d.prototype.Xg=function(b,a){if(this.Ke.Ho()||b.u())return b;if(33==b.G())return this.PJ(b);var c=this.Ke.je,f=this.Ke.He,k=c.Fb(),d=f.Fb();if(0==k&&k==d)return c=c.Yi(),f=f.Yi(),c/=f,f=new e.Hd,f.Op(c,c),c=e.T.oe(b),c.Xc(f),c;switch(b.G()){case 1607:case 1736:f=this.NJ(b,a);break;case 550:f=this.WW(b,a);break;case 197:f=this.VW(b,a);break;default:throw e.g.X("");}return f};d.prototype.PJ=function(b){var a=b.w(),c=[];c[0]=a;this.gs(c,1,c);b=new e.Wa(b);b.rb(c[0]);return b};d.prototype.NJ=
function(b,a){if(b.hn())throw e.g.X("curves not supported");var c=b.G();if(1736==c)return this.XW(b,a);if(1607==c)return this.YW(b,a);throw e.g.X("projectMultiPath");};d.prototype.XW=function(b,a){var c=this.Ke.je,f=this.Ke.He,k=c.Fb(),m=f.Fb(),u=e.J.qv(Math.min(b.D(),64));b=e.Ja.oe(b);if(3==k){var g=c.ij,c=g.Gk(),k=c.Fb();b=g.Dl(b,!0);this.qq(g,e.Om.forward,b);b=g.Cl(b,!0)}g=null;3==m&&(g=f.ij,f=g.Gk(),m=f.Fb());var h=2==k,l=2==m,t=l?f.kc():f,n=!l&&!this.Gw,m=!1,p=b;if(h){if(p=e.Ib.MJ(p,c,this.Zo,
a),p.u())return p}else{b=new e.h;p.ac(b);k=c.qe();if(b.A<k.A||b.B>k.B){var q=e.h.pa(b.o-1,k.A,b.v+1,k.B),p=e.uh.rq(p,q,c,NaN,0,a);if(p.u())return p}b.N()>2*k.N()&&(p=e.Ib.Aq(p,-2*k.N(),2*k.N(),c,!0,0,!0,a))}b=this.yI;(k=!isNaN(b))&&(p=e.Jm.local().V(p,b,a));var q=l?f.Sj():null,r=NaN;h&&(r=c.pi());var v=null!=f.Ws();if(this.mI)h&&(e.Ib.qs(c,r,p,u),k&&(h=c.Ch(),r=c.kc().Ch(),b*=r/h)),e.Ib.ps(this.Ke,p,n,u),k&&(h=c.kc().Ch(),r=f.kc().Ch(),b*=r/h),c=p;else{var G=new e.Ua(p.description);G.UE(p);h&&(e.Ib.qs(c,
r,G,u),k&&(h=c.Ch(),r=c.kc().Ch(),b*=r/h));e.Ib.ps(this.Ke,G,n,u);k&&(h=c.kc().bn(),r=f.kc().bn(),b*=r/h);n=NaN;l?(q=f.Sj(),n=f.pi()):isNaN(this.pn)||(n=this.pn);h=d.se(c)|d.se(f);r=10*t.re(0);this.Gw&&(h=3,r=0);c=e.Ib.KS(p,c,G,t,n,a,h,r)}v&&(c=e.Ib.jF(c,f,a));l&&(m||(l=t.qe().N(),c.xf(0,0).N()>=l-t.re(0)&&(t=q.getNorthPoleLocation(),l=q.getSouthPoleLocation(),p=q.getNorthPoleGeometry(),q=q.getSouthPoleGeometry(),n=0,p==e.Bg.PE_POLE_POINT&&t!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(n=1),q==e.Bg.PE_POLE_POINT&&
l!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(n|=2),0!==n&&(m=!0))),c=e.Ib.tA(c,f,this.Dn,a),k&&(c=e.Jm.local().V(c,b,a)),e.Ib.vy(f,c,u));if(c.u())return c;m&&(c=e.Km.local().V(c,f,!1,a));null!=g&&(c=g.Cl(c,!1),this.qq(g,e.Om.reverse,c),c=g.Dl(c,!1));return c};d.se=function(b){if(2!=b.Fb())return 0;var a=0,c=b.Sj();b=c.getNorthPoleLocation();var f=c.getSouthPoleLocation(),k=c.getNorthPoleGeometry(),c=c.getSouthPoleGeometry();k==e.Bg.PE_POLE_POINT&&b!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);c==e.Bg.PE_POLE_POINT&&
f!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};d.prototype.YW=function(b,a){var c=this.Ke.je,f=this.Ke.He,k=c.Fb(),m=f.Fb(),u=e.J.qv(Math.min(b.D(),64));b=e.Ua.oe(b);if(3==k){var g=c.ij,c=g.Gk(),k=c.Fb();b=g.Dl(b,!0);this.qq(g,e.Om.forward,b);b=g.Cl(b,!0)}g=null;3==m&&(g=f.ij,f=g.Gk(),m=f.Fb());var h=2==k,k=(m=2==m)?f.kc():f,l=!m&&!this.Gw;if(h){if(b=e.Ib.MJ(b,c,this.Zo,a),b.u())return b}else{var t=new e.h;b.ac(t);var n=c.qe();if(t.A<n.A||t.B>n.B)if(t=e.h.pa(t.o-1,n.A,t.v+1,n.B),b=e.uh.rq(b,t,
c,NaN,0,a),b.u())return b}var p=NaN;h&&(p=c.pi());var t=null!=f.Ws(),n=this.yI,q=!isNaN(n);q&&(b=e.Jm.local().V(b,n,a));if(this.mI)h&&e.Ib.qs(c,p,b,u),q&&(h=c.Ch(),p=c.kc().Ch(),n*=p/h),e.Ib.ps(this.Ke,b,l,u),q&&(h=c.kc().Ch(),p=f.kc().Ch(),n*=p/h),c=b;else{var r=new e.Ua(b.description);r.UE(b);h&&(e.Ib.qs(c,p,r,u),q&&(h=c.Ch(),p=c.kc().Ch(),n*=p/h));e.Ib.ps(this.Ke,r,l,u);q&&(h=c.kc().Ch(),p=f.kc().Ch(),n*=p/h);l=NaN;m?l=f.pi():isNaN(this.pn)||(l=this.pn);h=d.se(c)|d.se(f);p=10*k.re(0);this.Gw&&
(h=3,p=0);c=e.Ib.LS(b,c,r,k,l,a,h,p)}t&&(c=e.Ib.jF(c,f,a));m&&(c=e.Ib.tA(c,f,this.Dn,a),q&&(c=e.Jm.local().V(c,n,a)),e.Ib.vy(f,c,u));if(c.u())return c;null!=g&&(c=g.Cl(c,!1),this.qq(g,e.Om.reverse,c),c=g.Dl(c,!1));return c};d.prototype.VW=function(b,a){var c=(b.fa()+b.N())/400;if(0!=c){var f=e.Jm.local().V(b,c,a),f=this.NJ(f,a),c=b.Ka();f.Qn(c)}else c=new e.Wa(b.Bq()),f=this.PJ(c),c=b.Ka(),f.u()?c.Oa():(b.copyTo(c),f=f.w(),c.I(f.x,f.y,f.x,f.y));return c};d.prototype.WW=function(b,a){b=e.T.oe(b);var c=
this.Ke.je,f=this.Ke.He,k=c.Fb(),d=f.Fb(),u=e.J.qv(Math.min(b.D(),64));if(3==k){var g=c.ij,c=g.Gk(),k=c.Fb();b=g.Cl(b,!0);this.qq(g,e.Om.forward,b);b=g.Dl(b,!0)}if(2==k){this.Zo==e.di.Clip?b=e.tk.local().V(b,c.Mk(),c,a):c.Jc()&&(k=new e.h,b.ac(k),c.qe().contains(k)||(this.Zo==e.di.PannableFold&&(b=e.Ib.Mj(b,c)),e.Ib.xu(b,c.qe(),c.re(0),!0),b=e.Ib.Xm(b,c,0,!0,0,a)));if(b.u())return b;e.Ib.qs(c,0,b,u)}else e.Ib.xu(b,c.qe(),c.re(0),!0);e.Ib.ps(this.Ke,b,!1,u);c=0;k=!1;g=null;3==d&&(k=!0,g=f.ij,f=g.Gk(),
d=f.Fb());(d=2==d)?c=f.pi():isNaN(this.pn)||(c=this.pn);d&&this.Dn!=e.di.Clip||(b=e.Ib.Xm(b,f.kc(),c,!1,0,a));if(d&&(b=e.Ib.tA(b,f,this.Dn,a),e.Ib.vy(f,b,u),b.u()))return b;k&&(b=g.Cl(b,!0),this.qq(g,e.Om.reverse,b),b=g.Dl(b,!0));return b};d.prototype.qq=function(b,a,c){var f=c.D();if(0!=f){for(var k=c.Pa(0),d=e.J.gf(200,0),u=[],g=0;g<f;){var h=Math.min(100,f-g);k.pl(2*g,2*h,d,2,!0);for(var l=0;l<h;++l)u[l]=e.b.pa(d[2*g],d[2*g+1]);b.Du(a,u,h);g+=h}c.Dc(1993)}};d.rk=function(b,a,c){if(null==b||null==
a||!a.Jc())throw e.g.X("Invalid Arguement");if(b.u())return b;var f;f=b.G();197==f?(f=new e.Ja(b.description),f.jd(b,!1)):e.T.Oc(f)?(f=new e.Ua(b.description),f.dc(b,!0)):f=b;f=e.Ib.Mj(f,a);return f.u()?f:e.Ib.Xm(f,a,0,f!=b,0,c)};d.Nj=function(b,a,c,f){if(null==b||null==a||!a.Jc())throw e.g.X("Invalid Arguement");if(b.u())return b;var k=b.G();if(e.T.Ic(k)){b=e.Ib.Mj(b,a);k=new e.h;b.s(k);for(var m=e.na.Zy(a,k,!1),u=a.Bh(),g=Math.floor((k.o-u.o)/u.N())*u.N()+u.o;g<k.v;)g>k.o+m&&g<k.v-m&&(b=e.Ib.pU(b,
a,c,g)),g+=u.N()}else{if(197==k)return k=new e.Ja(b.description),k.jd(b,!1),d.Nj(k,a,c,f);if(e.T.Oc(k))return k=new e.Ua(b.description),k.dc(b,!0),d.Nj(k,a,c,f)}return d.rk(b,a,f)};d.Yp=function(b,a,c,f){var k=a.Fb(),m=new e.eE;a.iX(m);if(0==k)return d.Dj(b,m,a,c);f==e.Up.foldAndClipWithHorizon&&a.Jc()&&(b=d.rk(b,a,c));b=d.Dj(b,m,a,c);if(f==e.Up.clipToDomainOnly||b.u())return b;if(1==k)return f==e.Up.clipWithHorizon?(f=new e.h,b.ac(f),k=a.qe(),m=.01*k.N(),f.A=k.A,f.B=k.B,f.o-=m,f.v+=m,e.uh.rq(b,f,
a,NaN,0,c)):b;if(2==k)return k=a.Mk(),f==e.Up.clipWithHorizon||f==e.Up.foldAndClipWithHorizon?(a=e.tk.local().V(b,k,a,c),a==k?e.T.oe(a):a):b;if(3==k)return b;throw e.g.X("missing implementation");};d.Dj=function(b,a,c,f){var k=a.WT(),d=b.hasAttribute(1),u=b.hasAttribute(2),g=new e.Ac;g.Oa();var h=new e.Ac;h.Oa();d&&(g=a.XT());u&&(h=a.sT());a=e.uh.rq(b,k,c,NaN,0,f);d&&(d=a.xf(1,0),g.contains(d)||(b==a&&(a=e.T.oe(a)),e.na.UK(a,g,1)));u&&(d=a.xf(2,0),h.contains(d)||(b==a&&(a=e.T.oe(a)),e.na.UK(a,h,2)));
return a};return d}();e.ko=d})(n||(n={}));(function(e){var d=function(d){function b(a,c,b,k){d.call(this);void 0===a?this.description=e.ye.Ig():void 0===b?this.description=a:(this.description=e.ye.Ig(),this.wC(a,c),this.vm(b,k))}K(b,d);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,c=this.ra-this.oa;return Math.sqrt(a*a+c*c)};b.prototype.fh=function(a){var c=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(c*c+b*b)<=a};b.prototype.Go=function(){return!1};b.prototype.Eg=
function(){var a=new e.b;a.zc(this.Cc(),this.ec());return a};b.fR=function(a,c){return new b(a.x,a.y,c.x,c.y)};b.prototype.Qn=function(a){a.Oa();a.Fg(this.description);var c=new e.h;this.s(c);a.Gp(c);for(var c=1,b=this.description.Ga;c<b;c++)for(var k=this.description.rd(c),d=e.ma.Xa(k);c<d;c++){var u=this.xf(k,0);a.setInterval(k,0,u)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Cp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.ae(0,1,0));a.Nb(this.sa,
this.oa,this.ae(1,1,0))};b.prototype.Xc=function(a){if(a instanceof e.Hd){this.Bc();var c=new e.b;c.x=this.ua;c.y=this.ra;a.$h(c,c);this.ua=c.x;this.ra=c.y;c.x=this.sa;c.y=this.oa;a.$h(c,c);this.sa=c.x;this.oa=c.y}else this.Bc(),c=new e.qd,c.x=this.ua,c.y=this.ra,c.z=this.ae(0,1,0),c=a.Rp(c),this.ua=c.x,this.ra=c.y,this.oo(0,1,0,c.z),c.x=this.sa,c.y=this.oa,c.z=this.ae(1,1,0),c=a.Rp(c),this.sa=c.x,this.oa=c.y,this.oo(1,1,0,c.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.Cy=
function(a,c){return(this.sa-a-(this.ua-a))*(this.oa-c+(this.ra-c))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.bI=function(a){return a/this.Rb()};b.prototype.PG=function(a){return e.Ub.Xq(this.ua,this.sa,a)};b.prototype.XS=function(a){return e.Ub.Xq(this.ra,this.oa,a)};b.prototype.Hl=function(a,c){var b=new e.Cg;this.yh(a,c,b);return b.get()};b.prototype.yh=function(a,c,b){if(null==b)throw e.g.F();b.Js();b=b.get();b.Fg(this.description);var f=new e.b;this.gc(a,f);b.wC(f.x,f.y);
this.gc(c,f);b.vm(f.x,f.y);for(var f=1,d=this.description.Ga;f<d;f++)for(var u=this.description.Td(f),g=e.ma.Xa(u),h=0;h<g;h++){var l=this.Yc(a,u,h);b.Tx(u,h,l);l=this.Yc(c,u,h);b.Lx(u,h,l)}};b.prototype.Yc=function(a,c,b){if(0==c)return 0==b?this.gc(a).x:this.gc(a).y;switch(e.ma.Wz(c)){case 0:return.5>a?this.dt(c,b):this.Os(c,b);case 1:var f=this.dt(c,b);c=this.Os(c,b);return e.Ub.Xq(f,c,a);case 2:throw e.g.X("not implemented");}throw e.g.za();};b.prototype.pe=function(a,c){var b=this.sa-this.ua,
e=this.oa-this.ra,d=b*b+e*e;if(0==d)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*e)/d;c||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,c,b,e){if(a){a=this.oa-this.ra;if(0==a)return c==this.oa?-1:0;c=(c-this.ra)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.PG(c))}else{a=this.sa-this.ua;if(0==a)return c==this.sa?-1:0;c=(c-this.ua)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.XS(c))}null!=e&&(e[0]=c);return 1};b.prototype.pf=function(a,c){var b=this.oa-this.ra;if(0==b)return a==this.oa?c:NaN;b=(a-
this.ra)/b;a=this.PG(b);1==b&&(a=this.sa);return a};b.prototype.av=function(a,c,b){return 0<=this.lq(a.x,a.y,c,b)};b.prototype.Si=function(a,c,b){return 0<=this.lq(a,c,b,!0)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.BJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,c=this.description.Er-2;a<c;a++){var b=this.la[a];this.la[a]=this.la[a+c];this.la[a+c]=b}}};b.prototype.ev=
function(a,c){a=e.b.pa(a,c);a.sub(this.ec());c=new e.b;c.zc(this.Cc(),this.ec());var b=c.Ui(a);a=8.881784197001252E-16*(Math.abs(c.x*a.y)+Math.abs(c.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,c,b,k){var f=this.ua,d=this.ra,g=a-f,h=c-d,g=Math.sqrt(g*g+h*h);if(g<=Math.max(b,6.661338147750939E-16*g))return k&&0==g?NaN:0;g=a-this.sa;h=c-this.oa;g=Math.sqrt(g*g+h*h);if(g<=Math.max(b,6.661338147750939E-16*g))return k&&0==g?NaN:1;g=this.sa-this.ua;h=this.oa-this.ra;k=Math.sqrt(g*g+h*h);if(0<
k){var l=1/k,g=g*l,h=h*l,t=a-f,n=c-d,p=t*g+n*h,q=1.7763568394002505E-15*(Math.abs(t*g)+Math.abs(n*h)),r=g,g=-h,h=r,q=Math.max(b,q);if(p<-q||p>k+q)return NaN;if(Math.abs(t*g+n*h)<=Math.max(b,1.7763568394002505E-15*(Math.abs(t*g)+Math.abs(n*h)))&&(g=e.J.pk(p*l,0,1),.5>=g?(h=this.ua+(this.sa-this.ua)*g,k=this.ra+(this.oa-this.ra)*g):(h=this.sa-(this.sa-this.ua)*(1-g),k=this.oa-(this.oa-this.ra)*(1-g)),e.b.xz(h,k,a,c)<=b)){if(.5>g){if(e.b.xz(h,k,f,d)<=b)return 0}else if(e.b.xz(h,k,this.sa,this.oa)<=b)return 1;
return g}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.MO(a)};b.prototype.IE=function(a,c,b){var f=b?this.ua:this.sa;b=b?this.ra:this.oa;var d=new e.b;d.x=a.sa-f;d.y=a.oa-b;return c.oi(d)>6.661338147750939E-16*c.yE(d)?(d.x=a.ua-f,d.y=a.ra-b,c.oi(d)<=6.661338147750939E-16*c.yE(d)):!0};b.prototype.HE=function(a){var c=new e.b;c.x=this.sa-this.ua;c.y=this.oa-this.ra;if(!this.IE(a,c,!1))return!1;c.Lr();return this.IE(a,c,!0)?!0:!1};b.We=
function(a,c){var b=a.ev(c.ua,c.ra),e=a.ev(c.sa,c.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=c.ev(a.ua,a.ra);e=c.ev(a.sa,a.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=a.Rb();e=c.Rb();return b>e?a.HE(c):c.HE(a)};b.se=function(a,c,b){var f=e.b.pa(NaN,NaN),d=a.sa-a.ua,g=a.oa-a.ra,h=c.sa-c.ua,l=c.oa-c.ra,t=h*g-d*l;if(0==t)return f;var n=8.881784197001252E-16*(Math.abs(h*g)+Math.abs(d*l)),p=c.ua-a.ua,q=c.ra-a.ra,r=h*q-p*l,v=r/t,G=Math.abs(t),h=(8.881784197001252E-16*(Math.abs(h*q)+Math.abs(p*l))*G+n*Math.abs(r))/(t*
t)+2.220446049250313E-16*Math.abs(v);if(v<-h||v>1+h)return f;l=d*q-p*g;h=l/t;d=(8.881784197001252E-16*(Math.abs(d*q)+Math.abs(p*g))*G+n*Math.abs(l))/(t*t)+2.220446049250313E-16*Math.abs(h);if(h<-d||h>1+d)return f;v=e.J.pk(v,0,1);d=e.J.pk(h,0,1);g=a.gc(v);t=c.gc(d);n=new e.b;n.zc(g,t);if(n.length()>b&&(n.add(g,t),n.scale(.5),v=a.pe(n,!1),d=c.pe(n,!1),a=a.gc(v),c=c.gc(d),a.sub(c),a.length()>b))return f;f.ka(v,d);return f};b.QO=function(a,c,f,e){var k=0;if(a.ua==c.ua&&a.ra==c.ra||a.ua==c.sa&&a.ra==c.oa)if(k++,
!e)return 1;if(a.sa==c.ua&&a.oa==c.ra||a.sa==c.sa&&a.oa==c.oa){k++;if(2==k)return 2;if(!e)return 1}return c.Si(a.ua,a.ra,f)||c.Si(a.sa,a.oa,f)||a.Si(c.ua,c.ra,f)||a.Si(c.sa,c.oa,f)?1:e&&0!=k?0:0==b.We(a,c)?0:1};b.Gy=function(a,c,f,k,d,g){var m=0,u=a.lq(c.ua,c.ra,g,!1),h=a.lq(c.sa,c.oa,g,!1),l=c.lq(a.ua,a.ra,g,!1),t=c.lq(a.sa,a.oa,g,!1);isNaN(u)||(null!=k&&(k[m]=u),null!=d&&(d[m]=0),null!=f&&(f[m]=e.b.pa(c.ua,c.ra)),m++);isNaN(h)||(null!=k&&(k[m]=h),null!=d&&(d[m]=1),null!=f&&(f[m]=e.b.pa(c.sa,c.oa)),
m++);2==m||isNaN(l)||0==u&&0==l||0==h&&1==l||(null!=k&&(k[m]=0),null!=d&&(d[m]=l),null!=f&&(f[m]=e.b.pa(a.ua,a.ra)),m++);2==m||isNaN(t)||1==u&&0==t||1==h&&1==t||(null!=k&&(k[m]=1),null!=d&&(d[m]=t),null!=f&&(f[m]=e.b.pa(c.sa,c.oa)),m++);if(0<m)return 2==m&&null!=k&&k[0]>k[1]&&(a=k[0],k[0]=k[1],k[1]=a,null!=d&&(k=d[0],d[0]=d[1],d[1]=k),null!=f&&(d=e.b.pa(f[0].x,f[0].y),f[0]=f[1],f[1]=d)),m;m=b.se(a,c,g);if(isNaN(m.x))return 0;null!=f&&(f[0]=a.gc(m.x));null!=k&&(k[0]=m.x);null!=d&&(d[0]=m.y);return 1};
b.prototype.qH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+"]"};return b}(e.cE);e.Hb=d})(n||(n={}));(function(e){var d=function(){function e(){this.am=[];this.Ca=-1}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){if(null!=this.am&&0!=this.am.length){this.Ca++;var b=this.am[0];1>=this.am.length?this.am=[]:this.am=this.am.slice(1);return b}return this.am=
null};e.prototype.SY=function(b){this.am.push(b)};e.prototype.Re=function(){return!0};return e}();e.QM=d})(n||(n={}));(function(e){(function(e){e[e.enumFillRuleOddEven=0]="enumFillRuleOddEven";e[e.enumFillRuleWinding=1]="enumFillRuleWinding"})(e.IN||(e.IN={}));var d=function(d){function b(a,c){d.call(this);this.$f=!1;this.ur=null;this.gr=this.hr=0;this.bj=null;this.hh=!1;this.Xd=this.tj=this.cf=this.jb=this.kb=null;this.mr=this.Ta=this.ir=0;if(void 0===c)this.$f=a,this.hh=!1,this.qa=this.gr=this.hr=
this.ir=0,this.description=e.ye.Ig();else{if(null==c)throw e.g.F();this.$f=a;this.hh=!1;this.qa=this.gr=this.hr=this.ir=0;this.description=c}this.bj=null;this.Ta=0}K(b,d);b.prototype.hn=function(){return 0<this.ir};b.prototype.Fy=function(){this.Bc();null==this.ur?this.ur=new e.Wa(this.description):this.ur.Fg(this.description)};b.prototype.$x=function(a,c){var b=new e.b;b.x=a;b.y=c;this.zu(b)};b.prototype.zu=function(a){this.Fy();this.ur.rb(a);this.hh=!0};b.prototype.Rf=function(a){if(a.u())throw e.g.F();
this.om(a.description);this.Fy();a.copyTo(this.ur);this.hh=!0};b.prototype.By=function(){var a=1;this.hh&&(this.Fy(),null==this.kb?(this.kb=e.Uc.wh(2),this.kb.write(0,0),this.jb=e.Uc.vq(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.$f&&this.jb.write(this.jb.size-2,1),a++);var c=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.zl(c+a);this.jb.write(this.kb.size-1,0);this.hh&&(this.vu(c,this.ur),this.hh=!1)};b.prototype.Xj=function(a,c){this.By();this.rb(this.qa-
1,a,c)};b.prototype.aj=function(a){this.By();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.By();this.vu(this.qa-1,a)};b.prototype.nW=function(a){this.Bc();if(this.$f)throw e.g.za();var c=this.aa();if(a>c)throw e.g.za();if(this.Qb(a)){if(null==this.jb)throw e.g.za();var b=this.qa,k=this.wa(a),d=this.Gc(a);this.zl(this.qa+1);this.wc();for(var g=0,h=this.description.Ga;g<h;g++)if(null!=this.ya[g]){var l=e.ma.Xa(this.description.Td(g));this.ya[g].Rk(l*d,this.ya[g],l*k,l,!0,1,l*b)}for(;c>a;c--)b=
this.kb.read(c),this.kb.write(c,b+1);this.jb.fz(a,1)}};b.prototype.sq=function(){var a;this.Cu();void 0===a&&(this.hh=!1,a=this.aa()-1);var c=this.jb.read(a);this.jb.write(a,c|1);null!=this.cf&&(a=this.Gc(a)-1,this.cf.write(a,1),this.tj.write(a,-1))};b.Dj=function(a){return b.se[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Eo=function(a){if(this.Qb(a))return!0;var c=this.wa(a);a=this.Gc(a)-1;if(c>a)return!1;c=this.Ba(c);a=this.Ba(a);return c.ub(a)};b.prototype.ft=function(a){return 0!=
(this.jb.read(a)&2)};b.prototype.dc=function(a,c){this.om(a.description);if(322==a.G()){var b=new e.Wa;if(c||this.u())a.Dp(b),this.Rf(b);a.Bp(b);this.lineTo(b)}else throw e.g.za();};b.prototype.oq=function(a){var c=0==this.qa;this.$x(a.o,a.A);this.Xj(a.o,a.B);this.Xj(a.v,a.B);this.Xj(a.v,a.A);this.sq();this.hh=!1;c&&this.lg(256,!1)};b.prototype.jd=function(a,c){if(!a.u()){for(var b=0==this.qa,k=new e.Wa(this.description),d=0;4>d;d++)a.ig(c?4-d-1:d,k),0==d?this.Rf(k):this.lineTo(k);this.sq();this.hh=
!1;b&&!c&&this.lg(256,!1)}};b.prototype.add=function(a,c){for(var b=0;b<a.aa();b++)this.Ti(a,b,!c)};b.prototype.Ti=function(a,c,b){this.Yf(-1,a,c,b)};b.prototype.Bl=function(a,c){this.rA(a,c)};b.prototype.Bs=function(a,c,b,k,d){d||0!=this.aa()||(d=!0);0>c&&(c=a.aa()-1);if(c>=a.aa()||0>b||0>k||k>a.ew(c))throw e.g.X("index out of bounds");if(0!=k){var f=a.Qb(c)&&b+k==a.ew(c);if(!f||1!=k){this.hh=!1;this.om(a.description);b=a.wa(c)+b+1;d&&(k++,b--);f&&k--;f=this.qa;this.zl(this.qa+k);this.wc();if(d){if(0==
k)return;this.kb.add(this.qa);d=a.jb.read(c);d&=-5;this.$f&&(d|=1);this.jb.write(this.jb.size-1,d);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);d=0;for(var m=this.description.Ga;d<m;d++){var g=this.description.rd(d),h=e.ma.Xa(g),l=a.description.mg(g);0>l||null==a.ya[l]?this.ya[d].Vj(h*f,e.ma.de(g),k*h,h*f):this.ya[d].Rk(h*f,a.ya[l],h*b,k*h,!0,h,h*f)}if(this.hn())throw e.g.za();if(a.ft(c))throw e.g.za();this.Dc(1993)}}};b.prototype.eK=function(){for(var a=0,c=this.aa();a<c;a++)this.BX(a)};
b.prototype.BX=function(a){this.wc();if(a>=this.aa())throw e.g.F();var c=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var k=0,d=this.description.Ga;k<d;k++)if(null!=this.ya[k]){var g=e.ma.Xa(this.description.Td(k));this.ya[k].Zd(g*(c+a),g*(b-a),g)}this.Dc(1993)};b.prototype.Rr=function(a){this.wc();var c=this.aa();0>a&&(a=c-1);if(a>=c)throw e.g.F();for(var b=this.wa(a),k=this.La(a),d=0,g=this.description.Ga;d<g;d++)if(null!=this.ya[d]){var h=e.ma.Xa(this.description.Td(d));this.ya[d].Fk(h*b,h*k,h*
this.qa)}for(b=a+1;b<=c;b++)d=this.kb.read(b),this.kb.write(b-1,d-k);if(null==this.jb)for(b=a+1;b<=c;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(c);this.jb.resize(c);this.qa-=k;this.lh-=k;this.Dc(1993)};b.prototype.Yf=function(a,c,b,k){if(c==this)throw e.g.F();if(b>=c.aa())throw e.g.F();var f=this.aa();if(a>f)throw e.g.F();0>a&&(a=f);0>b&&(b=c.aa()-1);this.hh=!1;this.om(c.description);c.wc();var d=c.wa(b),g=c.La(b),h=this.qa,l=c.Qb(b)&&!k?1:0;this.zl(this.qa+g);this.wc();for(var t=a<
f?this.wa(a):h,n=0,p=this.description.Ga;n<p;n++){var q=this.description.Td(n),r=c.description.mg(q),v=e.ma.Xa(q);0<=r&&null!=c.ya[r]?(0!=l&&this.ya[n].Rk(t*v,c.ya[r],v*d,v,!0,v,v*h),this.ya[n].Rk((t+l)*v,c.ya[r],v*(d+l),v*(g-l),k,v,v*(h+l))):this.ya[n].Vj(t*v,e.ma.de(q),v*g,v*h)}this.kb.add(h+g);for(k=f;k>=a+1;k--)d=this.kb.read(k-1),this.kb.write(k,d+g);c.ft(b);this.jb.add(0);for(k=f-1;k>=a+1;k--)f=this.jb.read(k),f&=-5,this.jb.write(k+1,f);f=c.CT().read(b);f&=-5;this.$f&&(f|=1);this.jb.write(a,
f)};b.prototype.rA=function(a,c){var b=-1,k=this.aa();if(b>k)throw e.g.F();0>b&&(b=k);this.hh=!1;var d=this.qa;this.zl(this.qa+c);this.wc();var g=b<k?this.wa(b):d;null!=a?this.ya[0].Sq(2*g,a,0,c,!0,2*d):(a=e.ma.de(0),this.ya[0].Vj(2*g,a,2*c,2*d));for(var h=1,l=this.description.Ga;h<l;h++){a=this.description.rd(h);var t=e.ma.Xa(a);a=e.ma.de(a);this.ya[h].Vj(g*t,a,t*c,t*d)}this.kb.add(this.qa);for(d=k;d>=b+1;d--)g=this.kb.read(d-1),this.kb.write(d,g+c);this.jb.add(0);for(d=k-1;d>=b+1;d--)k=this.jb.read(d),
k&=-5,this.jb.write(d+1,k);this.$f&&this.jb.write(b,1)};b.prototype.EH=function(a,c,b){var f=-1;0>a&&(a=this.aa());if(a>this.aa()||f>this.La(a)||b>c.length)throw e.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>f&&(f=this.La(a));this.wc();var d=this.qa;this.zl(this.qa+b);this.wc();for(var g=0,h=this.description.Ga;g<h;g++){var l=this.description.Td(g),t=e.ma.Xa(l);this.ya[g].ho(t*(this.wa(a)+f+b),(d-this.wa(a)-f)*t,this.ya[g],t*(this.wa(a)+
f),!0,t);0==g?this.ya[g].ks(t*(this.wa(a)+f),b,c,0,!0):this.ya[g].Zh(e.ma.de(l),(this.wa(a)+f)*t,b*t)}this.hn()&&(this.cf.ho(this.wa(a)+f+b,d-this.wa(a)-f,this.cf,this.wa(a)+f,!0,1),this.tj.ho(this.wa(a)+f+b,d-this.wa(a)-f,this.tj,this.wa(a)+f,!0,1),this.cf.Zh(1,this.wa(a)+f,b),this.tj.Zh(-1,this.wa(a)+f,b));a+=1;for(c=this.aa();a<=c;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Zf=function(a,c,b){var f=this.aa();0>a&&(a=this.aa());if(a>=f||c>this.La(a))throw e.g.X("index out of bounds");a==
this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>c&&(c=this.La(a));var d=this.qa;this.zl(this.qa+1);this.wc();var g=this.wa(a);this.ya[0].eh(2*(g+c),b,2*d);b=1;for(var h=this.description.Ga;b<h;b++){var l=this.description.Td(b),t=e.ma.Xa(l);this.ya[b].Vj(t*(g+c),e.ma.de(l),t,t*d)}for(a+=1;a<=f;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.cC=function(a,c){var b=this.aa();0>a&&(a=b-1);if(a>=b||c>=this.La(a))throw e.g.X("index out of bounds");this.wc();var k=this.wa(a);
0>c&&(c=this.La(a)-1);k+=c;c=0;for(var d=this.description.Ga;c<d;c++)if(null!=this.ya[c]){var g=e.ma.Xa(this.description.Td(c));this.ya[c].Fk(g*k,g,g*this.qa)}for(;b>=a+1;b--)k=this.kb.read(b),this.kb.write(b,k-1);this.qa--;this.lh--;this.Dc(1993)};b.prototype.EF=function(a,c,b,k){a=this.wa(a)+c;b=this.wa(b)+k;if(b<a||0>a||b>this.D()-1)throw e.g.F();k=this.Fa();c=0;k.Tb(a);do{for(;k.Ea();){a=k.ba();if(k.Db()==b)break;a=a.Rb();c+=a}if(k.Db()==b)break}while(k.Ya());return c};b.prototype.fQ=function(a,
c,b){c=this.wa(a)+c;b=this.wa(a)+b;if(0>c||b>this.D()-1)throw e.g.F();var f=this.Fa();if(c>b){if(!this.Qb(a))throw e.g.F("cannot iterate across an open path");f.jC()}var d=a=0;f.Tb(c);do d+=a,a=f.ba().Rb();while(f.Db()!=b);return d};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.FU=function(a,c,b,k){for(var f=a;f<b-1;f++)if(this.Qb(f))throw e.g.F("cannot interpolate across closed paths");f=this.description.Ga;if(1!=f){var d=this.EF(a,c,b,k);if(0!=d)for(var g=1;g<f;g++){var h=this.description.rd(g);
if(2!=e.ma.Wz(h))for(var l=e.ma.Xa(h),t=0;t<l;t++)this.HU(h,a,c,b,k,d,t)}}};b.prototype.EU=function(a,c,b){var f=this.description.Ga;if(1!=f){var d=this.fQ(a,c,b);if(0!=d)for(var g=1;g<f;g++){var h=this.description.rd(g);if(2!=e.ma.Wz(h))for(var l=e.ma.Xa(h),t=0;t<l;t++)this.GU(h,a,c,b,d,t)}}};b.prototype.HU=function(a,c,b,k,d,g,h){var f=this.Fa();c=this.wa(c)+b;k=this.wa(k)+d;d=this.Yc(a,c,h);b=this.Yc(a,k,h);var m=d,u=0;f.Tb(c);do if(f.Ea()){f.ba();if(f.Db()==k)break;this.setAttribute(a,f.Db(),
h,m);f.Li();do{c=f.ba();if(f.Jk()==k)return;c=c.Rb();u+=c;m=e.Ub.Xq(d,b,u/g);f.Fo()||this.setAttribute(a,f.Jk(),h,m)}while(f.Ea())}while(f.Ya())};b.prototype.GU=function(a,c,b,k,d,g){var f=this.Fa(),m=this.wa(c)+b;c=this.wa(c)+k;if(c!=m){k=this.Yc(a,m,g);b=this.Yc(a,c,g);var u=0;f.Tb(m);f.jC();m=k;do{var h=f.ba();this.setAttribute(a,f.Db(),g,m);m=h.Rb();u+=m;m=e.Ub.Xq(k,b,u/d)}while(f.Jk()!=c)}};b.prototype.Oa=function(){this.ir=0;this.hh=!1;this.Xd=this.cf=this.tj=this.jb=this.kb=null;this.ME()};
b.prototype.Xc=function(a){a instanceof e.Hd?this.kF(a,-1):this.yP(a)};b.prototype.kF=function(a,c){if(!this.u()&&!a.Ho()){this.wc();var b=this.ya[0],k=new e.b,d=new e.b,g,h,l;for(0>c?(g=this.hn(),h=0,l=this.qa):(g=this.ft(c),h=this.wa(c),l=this.Gc(c));h<l;h++){k.x=b.read(2*h);k.y=b.read(2*h+1);if(g&&(c=this.tj.read(h),0<=c))switch(this.cf.read(h)&7){case 2:d.x=this.Xd.read(c);d.y=this.Xd.read(c+1);a.$h(d,d);this.Xd.write(c,d.x);this.Xd.write(c+1,d.y);d.x=this.Xd.read(c+3);d.y=this.Xd.read(c+4);a.$h(d,
d);this.Xd.write(c+3,d.x);this.Xd.write(c+4,d.y);break;case 4:throw e.g.za();}a.$h(k,k);b.write(2*h,k.x);b.write(2*h+1,k.y)}this.Dc(1993)}};b.prototype.yP=function(a){if(!this.u()){this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],k=new e.qd,d=new e.qd,g=this.hn(),h=0;h<this.qa;h++){k.x=c.read(2*h);k.y=c.read(2*h+1);k.z=b.read(h);if(g){var l=this.tj.read(h);if(0<=l)switch(this.cf.read(h)&7){case 2:d.x=this.Xd.read(l);d.y=this.Xd.read(l+1);d.z=this.Xd.read(l+2);d=a.Rp(d);this.Xd.write(l,d.x);
this.Xd.write(l+1,d.y);this.Xd.write(l+1,d.z);d.x=this.Xd.read(l+3);d.y=this.Xd.read(l+4);d.z=this.Xd.read(l+5);d=a.Rp(d);this.Xd.write(l+3,d.x);this.Xd.write(l+4,d.y);this.Xd.write(l+5,d.z);break;case 4:throw e.g.za();}}k=a.Rp(k);c.write(2*h,k.x);c.write(2*h+1,k.y);b.write(h,k.z)}this.Dc(1993)}};b.prototype.Py=function(){null==this.kb&&(this.kb=e.Uc.wh(1,0),this.jb=e.Uc.vq(1,0));null!=this.cf&&(this.cf.resize(this.lh,1),this.tj.resize(this.lh,-1))};b.prototype.iq=function(a){a.hh=!1;a.ir=this.ir;
a.mr=this.mr;null!=this.kb?a.kb=e.ia.Bk(this.kb):a.kb=null;null!=this.jb?a.jb=e.Fm.Bk(this.jb):a.jb=null;null!=this.tj?a.tj=e.ia.Bk(this.tj):a.tj=null;null!=this.cf?a.cf=e.Fm.Bk(this.cf):a.cf=null;null!=this.Xd?a.Xd=e.Rd.Bk(this.Xd):a.Xd=null;a.hr=this.hr;a.gr=this.gr;this.yk(1024)?a.bj=null:a.bj=this.bj};b.prototype.Rb=function(){if(!this.yk(512))return this.hr;for(var a=this.Fa(),c=new e.ry(0);a.Ya();)for(;a.Ea();)c.add(a.ba().Rb());this.hr=c.en();this.lg(512,!1);return c.en()};b.prototype.Eb=function(a){if(a==
this)return!0;if(!(a instanceof b&&d.prototype.Eb.call(this,a)))return!1;var c=this.aa();return c!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,c+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,c)?!1:d.prototype.Eb.call(this,a)};b.prototype.Fa=function(){return new e.YN(this)};b.prototype.Oy=function(a){d.prototype.Oy.call(this,a);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.uo=function(a,c){d.prototype.uo.call(this,a,c);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};
b.prototype.Iy=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.hf=function(){if(!this.$f)return 0;this.gv();return this.gr};b.prototype.rw=function(a){if(!this.$f)return!1;if(!this.yk(8))return 0!=(this.jb.read(a)&4);this.gv();return 0<this.bj.read(a)};b.prototype.Sm=function(a){if(!this.$f)return 0;this.gv();return this.bj.read(a)};b.prototype.gv=function(){if(this.yk(1024)){var a=this.aa();null==this.bj?this.bj=new e.Rd(a):this.bj.size!=a&&this.bj.resize(a);
for(var a=new e.ry(0),c=new e.ry(0),b=new e.b,k=0,d=this.Fa();d.Ya();){c.reset();for(this.w(this.wa(d.Ta),b);d.Ea();)c.add(d.ba().Cy(b.x,b.y));a.add(c.en());var g=k++;this.bj.write(g,c.en())}this.gr=a.en();this.lg(1024,!1)}};b.prototype.yT=function(){if(this.$f){this.Al();for(var a=0,c=this.aa(),b=0;b<c;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Al=function(){if(this.yk(8)){this.gv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=e.Uc.vq(a+1);for(var c=1,b=0;b<a;b++){var k=this.bj.read(b);
0==b&&(c=0<k?1:-1);0<k*c?this.jb.iC(b,4):this.jb.fz(b,4)}this.lg(8,!1)}};b.prototype.cw=function(a){var c=this.Ta,b=this.aa();if(0<=c&&c<b){if(a<this.Gc(c)){if(a>=this.wa(c))return c;c--}else c++;if(0<=c&&c<b&&a>=this.wa(c)&&a<this.Gc(c))return this.Ta=c}if(5>b){for(c=0;c<b;c++)if(a<this.Gc(c))return this.Ta=c;throw e.g.X("corrupted geometry");}c=0;for(--b;b>c;){var k=c+(b-c>>1),d=this.wa(k);if(a<d)b=k-1;else if(c=this.Gc(k),a>=c)c=k+1;else return this.Ta=k}return this.Ta=c};b.prototype.mT=function(a){var c=
this.Pa(0);this.DT();var b=this.Gc(a),k=this.wa(a);a=-1;var d=new e.b,g=new e.b;d.y=-Infinity;d.x=-Infinity;for(k+=0;k<b;k++)c.fc(2*k,g),-1==d.compare(g)&&(a=k,d.L(g));return a};b.prototype.iA=function(){var a=this.D();if(!this.$f)for(var a=a-this.aa(),c=0,b=this.aa();c<b;c++)this.Qb(c)&&a++;return a};b.prototype.ew=function(a){var c=this.La(a);this.Qb(a)||c--;return c};b.prototype.Ka=function(){return new b(this.$f,this.description)};b.prototype.tb=function(){return this.$f?2:1};b.prototype.G=function(){return this.$f?
1736:1607};b.prototype.DT=function(){this.Cu()};b.prototype.HK=function(a){this.kb=a;this.Dc(16777215)};b.prototype.OT=function(){this.Cu();return this.cf};b.prototype.CT=function(){this.Cu();return this.jb};b.prototype.GK=function(a){this.jb=a;this.Dc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Gc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};
b.prototype.Xu=function(a,c){null==this.ob&&(this.ob=new e.wl);c=e.xy.kX(c);var b=this.ob.Hi;if(null!=b)if(b.jl<a||c>b.KT())this.ob.My(null);else return!0;b=e.xy.create(this,a,c);this.ob.My(b);return!0};b.prototype.jc=function(){var a=d.prototype.jc.call(this);if(!this.Hc()){var c=this.aa();null!=this.kb&&this.kb.Ak(a,0,c+1);null!=this.jb&&this.jb.Ak(a,0,c)}return a};b.prototype.jH=function(a){return null!=this.cf?this.cf.read(a):1};b.prototype.ic=function(a,c,b){var f=this.cw(a);if(a==this.Gc(f)-
1&&!this.Qb(f))throw e.g.X("index out of bounds");this.wc();var d=this.cf,g=1;null!=d&&(g=d.read(a)&7);switch(g){case 1:c.Js();break;case 2:throw e.g.za();case 4:throw e.g.za();default:throw e.g.za();}c=c.get();b?c.Fg(e.ye.Ig()):c.Fg(this.description);f=a==this.Gc(f)-1&&this.Qb(f)?this.wa(f):a+1;d=new e.b;this.w(a,d);c.Mc(d);this.w(f,d);c.Zc(d);if(!b)for(b=1,d=this.description.Ga;b<d;b++)for(var g=this.description.Td(b),h=e.ma.Xa(g),l=0;l<h;l++){var t=this.Yc(g,a,l);c.Tx(g,l,t);t=this.Yc(g,f,l);c.Lx(g,
l,t)}};b.prototype.jk=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw e.g.X("not implemented");var b=this.Pa(0),d=new e.b,m=new e.h;m.Oa();var g=this.wa(a);for(a=this.Gc(a);g<a;g++)b.fc(2*g,d),m.Nb(d);c.I(m)}};b.prototype.hX=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw e.g.X("not implemented");var b=this.Pa(0),d=new e.b,m=new e.h;m.Oa();var g=this.wa(a);for(a=this.Gc(a);g<a;g++)b.fc(2*g,d),m.Nb(d);c.I(m)}};b.prototype.Hj=
function(a){null==this.ob&&(this.ob=new e.wl);if(0==a||16>this.D())return!1;a=e.na.AF(this);this.ob.NE(a);return!0};b.prototype.BO=function(){null==this.ob&&(this.ob=new e.wl);if(null!=this.ob.np)return!0;this.ob.OE(null);var a=e.na.aQ(this);this.ob.OE(a);return!0};b.prototype.Hp=function(a){this.mr=a};b.prototype.xo=function(){return this.mr};b.prototype.UE=function(a){if(this==a)throw e.g.X("MultiPathImpl.add");for(var c=this.aa(),b=0;b<a.aa();b++)this.Ti(a,b,!0),this.nW(c),c++};b.prototype.nQ=
function(a){var c=this.cw(a),b=this.wa(c);if(b!=a){c=this.Gc(c);if(a>=c||a<b)throw e.g.X("change_ring_start_point");for(var d=0,m=this.description.Ga;d<m;d++){var g=this.description.rd(d),g=e.ma.Xa(g);this.ya[d].rotate(b*g,a*g,c*g)}}};b.se=[0,0,6,0,8,0];return b}(e.Mu);e.xl=d})(n||(n={}));(function(e){var d=function(d){function b(a){d.call(this);if(void 0!==a){if(null==a)throw e.g.F();this.description=a}else this.description=e.ye.Ig();this.qa=0}K(b,d);b.prototype.Ka=function(){return new b(this.description)};
b.prototype.add=function(a){this.resize(this.qa+1);this.Yh(this.qa-1,a)};b.prototype.lv=function(a,c){this.resize(this.qa+1);var b=new e.b;b.ka(a,c);this.rb(this.qa-1,b)};b.prototype.Id=function(a,c,b){b=0>b?a.D():b;if(0>c||c>a.D()||b<c)throw e.g.F();if(c!=b){this.om(a.description);b-=c;var f=this.qa;this.resize(this.qa+b);this.wc();for(var d=0,g=a.description.Ga;d<g;d++){var h=a.description.Td(d),l=e.ma.Xa(h),t=this.Pa(h),h=a.Pa(h);t.Rk(f*l,h,c*l,b*l,!0,1,f*l)}}};b.prototype.YE=function(a,c){var b=
a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;c=this.qa;this.resize(this.qa+b);for(var d=0;d<b;d++)this.rb(c+d,a[0+d])}};b.prototype.cC=function(a){if(0>a||a>=this.D())throw e.g.X("index out of bounds");this.wc();for(var c=0,b=this.description.Ga;c<b;c++)if(null!=this.ya[c]){var d=e.ma.Xa(this.description.Td(c));this.ya[c].Fk(d*a,d,d*this.qa)}this.qa--;this.lh--;this.Dc(1993)};b.prototype.resize=function(a){this.zl(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){d.prototype.ME.call(this)};
b.prototype.Xc=function(a){if(a instanceof e.Hd){if(!this.u()){this.wc();for(var c=this.ya[0],b=new e.b,d=0;d<this.qa;d++)b.x=c.read(2*d),b.y=c.read(2*d+1),a.$h(b,b),c.write(2*d,b.x),c.write(2*d+1,b.y);this.Dc(1993)}}else if(!this.u()){this.wc();this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],m=new e.qd,d=0;d<this.qa;d++){m.x=c.read(2*d);m.y=c.read(2*d+1);m.z=b.read(d);var g=a.Rp(m);c.write(2*d,g.x);c.write(2*d+1,g.y);b.write(d,g.z)}this.Dc(1993)}};b.prototype.tb=function(){return 0};b.prototype.G=
function(){return 550};b.prototype.hf=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?d.prototype.Eb.call(this,a):!1};b.prototype.mP=function(a){var c=a.length,b=c;if(0>c||0>c||0>b)throw e.g.F();this.Ud(1);if(0!=b){c=b-0;b=this.qa;this.aK(this.qa+c);for(var d=this.Pa(0),m=0;m<c;m++){var g=a[0+m].y;d.write(2*(b+m),a[0+m].x);d.write(2*(b+m)+1,g)}d=this.Pa(1);for(m=0;m<c;m++)d.write(b+m,a[0+m].z);this.Dc(1993)}};b.prototype.nP=function(a,
c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;if(0!=(b&1))throw e.g.F();c=this.qa;this.aK(this.qa+b/2);this.ya[0].js(2*c,b,a,0,!0)}};b.prototype.aK=function(a){var c=this.qa;this.zl(a);if(this.qa>c){a=1;for(var b=this.description.Ga;a<b;a++){var d=this.description.rd(a),m=e.ma.Xa(d);this.ya[a].Vj(m*c,e.ma.de(d),m*(this.qa-c),m*c)}}};b.prototype.eX=function(a,c){var b=this.qa,b=Math.min(b,c+1E3);if(0>c||c>=this.qa||b<c||1E3!=a.length)throw e.g.F();var d=this.Pa(0),m=b-c,g=[];
d.pl(2*c,2*m,g,0,!0);for(d=0;d<m;d++)a[d]=e.b.pa(g[2*d],g[2*d+1]);return b};b.prototype.fX=function(a,c){var b=this.qa,b=Math.min(b,0+c);if(0>=this.qa||0>b||a.length!=c)throw e.g.F();c=this.Pa(0);var d=null,m=e.ma.de(1),g=this.hasAttribute(1);g&&(d=this.Pa(1));var b=b-0,h=[],l=[];c.pl(0,2*b,h,0,!0);d.pl(0,b,l,0,!0);for(c=0;c<b;c++)a[c]=new e.qd(h[2*c],h[2*c+1],g?l[c]:m)};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.Xu=function(){return!1};b.prototype.Hj=function(){return!1};
b.prototype.Gg=function(){return null};return b}(e.Mu);e.Ed=d})(n||(n={}));(function(e){(function(e){e[e.NotDetermined=0]="NotDetermined";e[e.Structure=1]="Structure";e[e.DegenerateSegments=2]="DegenerateSegments";e[e.Clustering=3]="Clustering";e[e.Cracking=4]="Cracking";e[e.CrossOver=5]="CrossOver";e[e.RingOrientation=6]="RingOrientation";e[e.RingOrder=7]="RingOrder";e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";e[e.OGCDisconnectedInterior=
10]="OGCDisconnectedInterior"})(e.XM||(e.XM={}));var d=function(){function e(b,a,c){void 0===b?(this.Ii=0,this.mm=this.lm=-1):(this.Ii=b,this.lm=a,this.mm=c)}e.prototype.ms=function(b){this.Ii=b.Ii;this.lm=b.lm;this.mm=b.mm};return e}();e.$d=d})(n||(n={}));(function(e){var d=function(){function d(){}d.YZ=function(b){if(!1===b)throw e.g.JL();};d.SK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};d.qv=function(b){var a;void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=d.gf(2,a);return c};d.gf=function(b,
a){void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=a;return c};d.Nv=function(b,a){var c,f;void 0===c&&(c=0);for(void 0===f&&(f=b.length-1);c<=f;c++)b[c]=a};d.pk=function(b,a,c){return b<a?a:b>c?c:b};d.t_=function(){return 4};d.dh=function(b,a){var c=5381;void 0!==a?c=(a<<5)+a+(b&255):c=(c<<5)+c+(b&255);c=(c<<5)+c+(b>>8&255);c=(c<<5)+c+(b>>16&255);return(c<<5)+c+(b>>24&255)&2147483647};d.Zi=function(){throw Error("Not Implemented");};d.p_=function(){return-Infinity};d.r_=function(){return Infinity};
d.h_=function(){return 2147483647};d.UZ=function(){return 2.220446049250313E-16};d.VZ=function(){return 1.7976931348623157E308};d.HB=function(b){return d.dZ(b)+12345&2147483647};d.gI=function(b){var a=32,c=b%d.pA|0,f=b/d.pA|0;if(0===(a&=63))return b;32>a?(b=c>>>a|f<<32-a,a=f>>a):(b=f>>a-32,a=0<=f?0:-1);return a*d.pA+(b>>>0)};d.dZ=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};d.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};d.gV=Math.pow(2,53)-1;d.XZ=-d.gV;d.iD=
65536;d.K_=16777216;d.pA=d.iD*d.iD;return d}();e.J=d})(n||(n={}));(function(e){(function(e){e[e.Project=0]="Project";e[e.Union=1]="Union";e[e.Difference=2]="Difference";e[e.Proximity2D=3]="Proximity2D";e[e.Relate=4]="Relate";e[e.Equals=5]="Equals";e[e.Disjoint=6]="Disjoint";e[e.Intersects=7]="Intersects";e[e.Within=8]="Within";e[e.Contains=9]="Contains";e[e.Crosses=10]="Crosses";e[e.Touches=11]="Touches";e[e.Overlaps=12]="Overlaps";e[e.Buffer=13]="Buffer";e[e.Distance=14]="Distance";e[e.Intersection=
15]="Intersection";e[e.Clip=16]="Clip";e[e.Cut=17]="Cut";e[e.DensifyByLength=18]="DensifyByLength";e[e.DensifyByAngle=19]="DensifyByAngle";e[e.LabelPoint=20]="LabelPoint";e[e.GeodesicBuffer=21]="GeodesicBuffer";e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";e[e.ShapePreservingDensify=23]="ShapePreservingDensify";e[e.GeodeticLength=24]="GeodeticLength";e[e.GeodeticArea=25]="GeodeticArea";e[e.Simplify=26]="Simplify";e[e.SimplifyOGC=27]="SimplifyOGC";e[e.Offset=28]="Offset";e[e.Generalize=
29]="Generalize";e[e.SymmetricDifference=30]="SymmetricDifference";e[e.ConvexHull=31]="ConvexHull";e[e.Boundary=32]="Boundary";e[e.SimpleRelation=33]="SimpleRelation"})(e.sN||(e.sN={}));var d=function(){function d(){}d.prototype.G=function(){return null};d.prototype.qo=function(){return!1};d.prototype.wv=function(){return!1};d.NZ=function(b){e.T.gh(b.G())&&(b=b.ob,null!=b&&(b.My(null),b.NE(null)))};return d}();e.ef=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}
K(b,d);b.prototype.G=function(){return 13};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d,m){return a instanceof e.T?(m=new e.hd(a),this.V(m,c,[b],!1,d).next()):!0===d?(b=new e.DD(a,c,b,!1,m),e.ei.local().V(b,c,m)):new e.DD(a,c,b,!1,m)};b.$=null;return b}(e.ef);e.CD=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f,d){this.Ca=-1;this.ie=b;this.IA=a;this.yt=c;this.tV=new e.h;this.tV.Oa();this.To=-1;this.lc=d}d.prototype.next=function(){for(var b;null!=
(b=this.ie.next());)return this.Ca=this.ie.Ia(),this.To+1<this.yt.length&&this.To++,this.buffer(b,this.yt[this.To]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.buffer=function(b,a){return e.PL.buffer(b,a,this.IA,NaN,96,this.lc)};d.prototype.Re=function(){return!0};return d}();e.DD=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 16};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,
c,b,d){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d).next()):new e.cN(a,c,b,d)};b.$=null;return b}(e.ef);e.bN=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c){this.Ca=-1;if(null==b)throw e.g.F();this.R=a;this.$k=b;this.ta=e.na.be(c,a,!1)}d.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),e.ne.clip(b,this.R,this.ta,0)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.cN=d})(n||(n={}));(function(e){var d=
function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 31};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof e.T?e.FD.DF(a):new e.FD(c,a,b)};b.$=null;return b}(e.ef);e.ED=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c){this.aB=new e.Ju;this.Ca=-1;if(null==a)throw e.g.F();this.oI=b;this.Pc=!1;this.$k=a;this.lc=c}d.prototype.next=function(){if(this.oI){if(!this.Pc){var b=this.eQ(this.$k);this.Pc=!0;
return b}return null}if(!this.Pc){b=this.$k.next();if(null!=b)return this.Ca=this.$k.Ia(),d.DF(b);this.Pc=!0}return null};d.prototype.Ia=function(){return this.Ca};d.prototype.eQ=function(b){for(var a;null!=(a=b.next());)this.aB.Jb(a);return this.aB.US()};d.prototype.Re=function(){if(this.Pc)return!0;if(!this.oI)throw e.g.X("Invalid call for non merging convex hull.");var b=this.$k.next();if(null!=b)return this.aB.Jb(b),!0;throw e.g.X("Expects a non-null geometry.");};d.DF=function(b){if(d.Wg(b))return b;
var a=b.G();if(e.xl.Oc(a))return a=new e.Ua(b.description),a.dc(b,!0),a;if(550==a&&2==b.D()){var c=new e.Wa,a=new e.Ua(b.description);b.Ae(0,c);a.Rf(c);b.Ae(1,c);a.lineTo(c);return a}return e.Ju.UQ(b)};d.Wg=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:e.xl.Oc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:e.Ju.VH(b,0)};return d}();e.FD=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=
function(){return 17};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d,m){return new e.eN(a,c,b,d,m)};b.$=null;return b}(e.ef);e.dN=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f,d){this.qg=null;if(null==a||null==c)throw e.g.X("invalid argument");this.qV=b;this.VA=a;this.xI=c;b=e.na.Zv(a,c);this.ta=e.na.be(f,b,!0);this.wI=-1;this.ke=d}d.prototype.Ia=function(){return 0};d.prototype.next=function(){this.HS();return++this.wI<this.qg.length?this.qg[this.wI]:
null};d.prototype.HS=function(){if(null==this.qg)switch(this.qg=[],this.VA.G()){case 1607:this.JS();break;case 1736:this.IS()}};d.prototype.JS=function(){var b=new e.Ua,a=new e.Ua,c=new e.Ua;this.qg.push(b);this.qg.push(a);var f=[];e.WL.UL(this.qV,this.VA,this.xI,this.ta,f,this.ke);for(var d=0;d<f.length;d++){var m=f[d];0==m.nx?b.add(m.Y,!1):1==m.nx||2==m.nx?a.add(m.Y,!1):3==m.nx?this.qg.push(m.Y):c.add(m.Y,!1)}c.u()||b.u()&&a.u()&&!(3<=this.qg.length)||this.qg.push(c);b.u()&&a.u()&&3>this.qg.length&&
(this.qg.length=0)};d.prototype.IS=function(){var b=new e.ia(0),a=new e.fd,c=a.hG(),f=a.Jb(this.VA),d=a.Jb(this.xI),m=new e.Dg;try{m.Xr(a,this.ta,this.ke);m.Hl(c,f,d,b);var g=a.Se(f),h=new e.Ja,l=new e.Ja;this.qg.length=0;this.qg.push(h);this.qg.push(l);for(f=0;f<b.size;f++){var t,n=new e.fd,p=n.Jb(g),q=n.Jb(a.Se(b.get(f)));m.Wr(n,this.ke);var r=m.nw(p,q);t=n.Se(r);if(!t.u()){var v=a.VG(b.get(f),c);2==v?h.add(t,!1):1==v?l.add(t,!1):this.qg.push(t);var x=new e.fd,p=x.Jb(g),q=x.Jb(a.Se(b.get(f)));m.Wr(x,
this.ke);g=x.Se(m.Vm(p,q))}}!g.u()&&0<b.size&&this.qg.push(g);h.u()&&l.u()&&(this.qg.length=0)}finally{m.qh()}};d.prototype.Re=function(){return!0};return d}();e.eN=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){if(a instanceof e.T)return a=new e.hd(a),this.V(a,c,b).next();if(0>=c)throw e.g.F();return new e.fN(a,c,b)};b.$=null;return b}(e.ef);
e.Jm=d})(n||(n={}));(function(e){var d=function(){function d(b,a){this.Ca=-1;this.ie=b;this.Kt=a}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),this.JR(b)):null};d.prototype.JR=function(b){if(b.u()||1>b.tb())return b;var a=b.G();if(1736==a||1607==a)return this.wz(b);if(e.T.Oc(a))return this.LR(b);if(197==a)return this.KR(b);throw e.g.za();};d.prototype.LR=function(b){if(b.Rb()<=this.Kt)return b;var a=new e.Ua(b.description);
a.dc(b,!0);return this.wz(a)};d.prototype.KR=function(b){var a=new e.Ja(b.description);a.jd(b,!1);var c=new e.h;b.s(c);b=c.fa();return c.N()<=this.Kt&&b<=this.Kt?a:this.wz(a)};d.prototype.wz=function(b){for(var a=b.Ka(),c=b.Fa();c.Ya();)for(var f=!0;c.Ea();){var d=c.ba();if(322!=d.G())throw e.g.X("not implemented");var m=c.Fo(),g=d.Rb();if(g>this.Kt){var h=Math.ceil(g/this.Kt),g=new e.Wa(b.description);f&&(d.Dp(g),a.Rf(g));for(var l=f=1/h,t=0,h=h-1;t<h;t++)d.Fx(l,g),a.lineTo(g),l+=f;m?a.sq():(d.Bp(g),
a.lineTo(g))}else m?a.sq():a.dc(d,f);f=!1}return a};d.prototype.Re=function(){return!0};return d}();e.fN=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 2};b.prototype.V=function(a,c,b,d){return a instanceof e.T?(a=new e.hd(a),c=new e.hd(c),this.V(a,c,b,d).next()):new e.gN(a,c,b,d)};b.Vm=function(a,c,f,d){if(a.u()||c.u())return a;var k=a.tb(),g=c.tb();if(k>g)return a;var h=
a.G(),l=c.G(),t=new e.h,n=new e.h,p=new e.h;a.s(t);c.s(n);p.I(t);p.Nb(n);var p=e.na.be(f,p,!1),q=p*Math.sqrt(2)*1.00001,r=new e.h;r.I(t);r.O(q,q);if(!r.Yb(n))return a;if(1==k&&2==g)return b.SL(a,c,l,f,d);if(33==h)switch(e.xl.Oc(l)?(f=new e.Ua(c.description),f.dc(c,!0)):f=c,l){case 1736:return b.gO(a,f,p);case 1607:return b.kO(a,f,p);case 550:return b.VN(a,f,p);case 197:return b.PN(a,f,p);case 33:return b.cO(a,f,p);default:throw e.g.F();}else if(550==h)switch(l){case 1736:return b.CM(a,c,p);case 197:return b.mM(a,
c,p);case 33:return b.xM(a,c,p)}return e.Dg.Vm(a,c,f,d)};b.gO=function(a,c,b){return 0==e.gd.WH(c,a,b)?a:a.Ka()};b.kO=function(a,c,b){var f=a.w();c=c.Fa();for(var d=b*Math.sqrt(2)*1.00001,g=d*d,h=new e.h;c.Ya();)for(;c.Ea();){var l=c.ba();l.s(h);h.O(d,d);if(h.contains(f)){if(l.mt(f,b))return a.Ka();var t=l.ec();if(e.b.sc(f,t)<=g)return a.Ka();t=l.Cc();if(e.b.sc(f,t)<=g)return a.Ka()}}return a};b.VN=function(a,c,b){var f=c.Pa(0);c=c.D();var d=a.w(),g=new e.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var h=
0;h<c;h++)if(f.fc(2*h,g),e.b.sc(g,d)<=b)return a.Ka();return a};b.PN=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);c=a.w();return f.contains(c)?a.Ka():a};b.cO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var f=a.w();c=c.w();return e.b.sc(f,c)<=b?a.Ka():a};b.CM=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);for(var d=a.D(),g=!1,h=[],l=0;l<d;l++)h[l]=!1;for(var t=new e.b,l=0;l<d;l++)a.w(l,t),f.contains(t)&&0!=e.gd.ge(c,t,b)&&(g=!0,h[l]=!0);if(!g)return a;c=a.Ka();for(l=0;l<d;l++)h[l]||c.Id(a,l,l+1);
return c};b.mM=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);c=a.D();var d=!1;b=[];for(var g=0;g<c;g++)b[g]=!1;for(var h=new e.b,g=0;g<c;g++)a.w(g,h),f.contains(h)&&(d=!0,b[g]=!0);if(!d)return a;f=a.Ka();for(g=0;g<c;g++)b[g]||f.Id(a,g,g+1);return f};b.xM=function(a,c,b){var f=a.Pa(0),d=a.D(),g=c.w(),h=new e.b,l=!1;c=[];for(var t=0;t<d;t++)c[t]=!1;t=b*Math.sqrt(2)*1.00001;b=t*t;for(t=0;t<d;t++)f.fc(2*t,h),e.b.sc(h,g)<=b&&(l=!0,c[t]=!0);if(!l)return a;f=a.Ka();for(t=0;t<d;t++)c[t]||f.Id(a,t,t+1);return f};
b.SL=function(a,c,b,d,m){var f=new e.ci;a.Qn(f);var k=new e.h;c.s(k);f.Nb(k);f.O(.1*f.N(),.1*f.fa());k=new e.Ja;k.jd(f,!1);1736==b?k.add(c,!0):k.jd(c,!0);return e.tk.local().V(a,k,d,m)};b.$=null;return b}(e.ef);e.cq=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.IA=c;this.wV=a.next();this.lc=f}d.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),e.cq.Vm(b,this.wV,this.IA,this.lc)):
null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.gN=d})(n||(n={}));(function(e){var d=function(){function b(a){this.ke=a;this.Zj=new e.h;this.Zj.Oa();this.Jh=new e.h;this.Jh.Oa()}b.prototype.Bu=function(){var a;a=this.Zj.o;this.Zj.o=this.Jh.o;this.Jh.o=a;a=this.Zj.v;this.Zj.v=this.Jh.v;this.Jh.v=a;a=this.Zj.A;this.Zj.A=this.Jh.A;this.Jh.A=a;a=this.Zj.B;this.Zj.B=this.Jh.B;this.Jh.B=a};b.prototype.ZR=function(a,c){var b=!this.Zj.Yb(this.Jh);if(e.T.Ic(a.G())&&
e.T.Ic(c.G())){if(a.D()>c.D())return this.tF(a,c,b);this.Bu();b=this.tF(c,a,b);this.Bu();return b}if(550==a.G()&&e.T.Ic(c.G()))return b=this.uF(c,a,b),this.Bu(),b;if(550==c.G()&&e.T.Ic(a.G()))return this.uF(a,c,b);if(550==a.G()&&550==c.G()){if(a.D()>c.D())return this.vF(a,c);this.Bu();b=this.vF(c,a);this.Bu();return b}return 0};b.prototype.tF=function(a,c,b){var f=a.Fa(),d=c.Fa(),g=new e.h,h=new e.h,l=1.7976931348623157E308;if(!b&&this.qZ(a,c,f,d))return 0;for(;f.Ya();)for(;f.Ea();)if(a=f.ba(),a.s(g),
!(g.Zx(this.Jh)>l)){for(;d.Ya();)for(;d.Ea();)if(c=d.ba(),c.s(h),g.Zx(h)<l&&(c=a.Cb(c,b),c*=c,c<l)){if(0==c)return 0;l=c}d.yj()}return Math.sqrt(l)};b.prototype.uF=function(a,c,b){var f=a.Fa(),d=new e.h,g=1.7976931348623157E308,h=new e.b,l,t=c.D();for(b=!b&&1736==a.G();f.Ya();)for(;f.Ea();){var n=f.ba();n.s(d);if(!(1<t&&d.Zx(this.Jh)>g)){for(var p=0;p<t;p++){c.w(p,h);if(b&&0!=e.gd.ge(a,h,0))return 0;l=n.pe(h,!1);h.sub(n.gc(l));l=h.qk();if(l<g){if(0==l)return 0;g=l}}b=!1}}return Math.sqrt(g)};b.prototype.vF=
function(a,c){for(var b=1.7976931348623157E308,d=new e.b,m=new e.b,g,h=a.D(),l=c.D(),t=0;t<h;t++)if(a.w(t,d),!(1<l&&this.Jh.ZK(d)>b))for(var n=0;n<l;n++)if(c.w(n,m),g=e.b.sc(d,m),g<b){if(0==g)return 0;b=g}return Math.sqrt(b)};b.prototype.qZ=function(a,c,b,d){if(1736==a.G()){for(;d.Ya();)if(d.Ea()){var f=d.ba();if(0!=e.gd.ge(a,f.Cc(),0))return!0}d.yj()}if(1736==c.G()){for(;b.Ya();)if(b.Ea()&&(a=b.ba(),0!=e.gd.ge(c,a.Cc(),0)))return!0;b.yj()}return!1};b.prototype.Rm=function(a,c){if(a.u()||c.u())return NaN;
a.s(this.Zj);c.s(this.Jh);return this.ZR(a,c)};return b}(),g=function(b){function a(){b.apply(this,arguments)}K(a,b);a.prototype.V=function(a,b,k){if(null==a||null==b)throw e.g.F();if(a.u()||b.u())return NaN;var c,f;c=a.G();f=b.G();if(33==c){if(33==f)return e.b.Cb(a.w(),b.w());if(197==f)return k=new e.h,b.s(k),k.Cb(a.w());c=new e.Ed;c.add(a);a=c}else if(197==c){if(197==f)return f=new e.h,a.s(f),k=new e.h,b.s(k),k.Cb(f);c=new e.Ja;c.jd(a,!1);a=c}33==f?(f=new e.Ed,f.add(b),b=f):197==f&&(f=new e.Ja,
f.jd(b,!1),b=f);return(new d(k)).Rm(a,b)};a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 14};a.$=null;return a}(e.ef);e.hN=g})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f){this.LI=b;this.TI=a;this.ke=f;this.lI=c}d.prototype.next=function(){var b=this.LI.next();return null==b?null:this.kD(b)};d.prototype.Ia=function(){return this.LI.Ia()};d.prototype.kD=function(b){var a=b.G();if(e.T.Jo(a))return b;if(197==a)return a=new e.Ja(b.description),a.jd(b,
!1),this.kD(a);if(b.u())return b;if(null==b)throw e.g.za();for(var a=b.Ka(),c=new e.Hb,f=0,d=b.aa();f<d;f++)this.oM(b,f,a,c);return a};d.prototype.oM=function(b,a,c,f){if(!(2>b.La(a))){var d=b.wa(a),m=b.Gc(a)-1,g=b.Pa(0),h=b.Qb(a),l=new e.ia(0);l.yb(b.La(a)+1);var t=new e.ia(0);t.yb(b.La(a)+1);l.add(h?d:m);l.add(d);for(d=new e.b;1<l.size;){var n=l.Fc();l.Pf();var p=l.Fc();b.w(n,d);f.Mc(d);b.w(p,d);f.Zc(d);p=this.kM(f,d,g,n,p,m);0<=p?(l.add(p),l.add(n)):t.add(n)}h||t.add(l.get(0));if(t.size==l.size)c.Ti(b,
a,!0);else if(2<=t.size&&(!this.lI||2!=t.size||!(h||e.b.Cb(b.Ba(t.get(0)),b.Ba(t.get(1)))<=this.TI))){a=new e.Wa;f=0;for(m=t.size;f<m;f++)b.Ae(t.get(f),a),0==f?c.Rf(a):c.lineTo(a);h&&(this.lI||2!=t.size||c.lineTo(a),c.sq())}}};d.prototype.kM=function(b,a,c,f,e,d){var k=e-1;e<=f&&(k=d);d=e=-1;for(f+=1;f<=k;f++){c.fc(2*f,a);var m=a.x,g=a.y;b.gc(b.pe(a,!1),a);a.x-=m;a.y-=g;m=a.length();m>this.TI&&m>d&&(e=f,d=m)}return e};d.prototype.Re=function(){return!0};return d}();e.iN=d})(n||(n={}));(function(e){var d=
function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 29};b.prototype.V=function(a,c,b,d){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d).next()):new e.iN(a,c,b,d)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(e.ef);e.GD=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 21};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,
d,m,g,h,l){return a instanceof e.T?(l=new e.hd(a),this.V(l,c,b,[d],m,g,!1,h).next()):!0===h?(b=new e.JD(a,c,b,d,m,!1,!1,l),e.ei.local().V(b,c,l)):new e.JD(a,c,b,d,m,!1,!1,l)};b.$=null;return b}(e.ef);e.HD=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f,d,m,g,h){if(m)throw e.g.df();if(null==a)throw e.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.yt=f;this.Po=d;this.To=-1;this.lc=h;this.uV=new e.h;this.uV.Oa()}d.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=
this.Ht.Ia(),this.To+1<this.yt.length&&this.To++,this.RS(b,this.yt[this.To]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.RS=function(b,a){return e.rM.buffer(b,this.Rg,this.$e,a,this.Po,this.lc)};d.prototype.Re=function(){return!0};return d}();e.JD=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 24};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d){if(null==c)throw e.g.F();
if(a.u()||1>a.tb())return 0;if(4==b)throw e.g.df();var f=e.fb.kc(c),k=e.fb.hw(f),g=e.fb.Sv(f),k=k*(2-k),h=f.Nd().Ai,l=a.G(),t;1736==l||197==l?t=a.Gg():e.T.Oc(l)?(t=new e.Ua(a.description),t.dc(a,!0)):t=a;if(0==f.Eb(c)){if(e.fb.Jc(c)){t=e.gi.Mj(t,c);1607==l&&t==a&&(t=e.T.oe(a));a=new e.Ac;e.fb.Bh(c).Sn(a);for(var l=0,n=t.D();l<n;l++){var p=t.Ba(l);p.x=e.gi.Nn(p.x,a);t.rb(l,p)}}a=t.Ka();t=e.gi.OJ(c,f,t,a,d)?a:e.fb.Xg(t,c,f,d)}return this.aS(t,b,g,k,h)};b.prototype.aS=function(a,c,b,d,m){var f=new e.ea(0),
k=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var g=a.ba(),h=g.ec(),g=g.Cc();h.scale(m);g.scale(m);e.mb.Ld(b,d,h.x,h.y,g.x,g.y,f,null,null,c);k+=f.j}return k};b.$=null;return b}(e.ef);e.lN=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d,m){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d,m).next()):new e.kN(a,b,d,c,-1,-1,m)};b.$=null;return b}(e.ef);
e.jN=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f,d,m){if(0<m)throw e.g.df();if(4!=c&&0<d)throw e.g.df();if(null==a)throw e.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.BV=f;this.AV=d}d.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.Gz(b);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.Gz=function(b){return e.Ej.Ls(b,this.Rg,this.$e,this.BV,this.AV,this.lc)};d.prototype.Re=function(){return!0};return d}();
e.kN=d})(n||(n={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Contains=1]="Contains";e[e.Within=2]="Within";e[e.Equals=3]="Equals";e[e.Disjoint=4]="Disjoint";e[e.Touches=8]="Touches";e[e.Crosses=16]="Crosses";e[e.Overlaps=32]="Overlaps";e[e.NoThisRelation=64]="NoThisRelation";e[e.Intersects=1073741824]="Intersects";e[e.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(e.AM||(e.AM={}));var d=function(){function d(){}d.s_=function(b,a,c,f){if(a.u()||b.u())return 4;var k=b.G(),m=
a.G(),g;e.T.Oc(k)&&(b=g=new e.Ua(b.description),g.dc(b,!0));e.T.Oc(m)&&(a=g=new e.Ua(a.description),g.dc(a,!0));switch(k){case 33:switch(m){case 33:return d.EN(b,a,c);case 197:return d.se(d.BD(a,b,c));case 550:return d.se(d.$D(a,b,c));case 1607:return d.se(d.$C(a,b,c,f));case 1736:return d.se(d.nE(a,b,c))}throw e.g.za();case 197:switch(m){case 33:return d.BD(b,a,c);case 197:return d.IM(b,a,c);case 550:return d.se(d.SD(a,b,c,f));case 1607:return d.se(d.sE(a,b));case 1736:return d.se(d.jE(a,b))}throw e.g.za();
case 550:switch(m){case 33:return d.$D(b,a,c);case 197:return d.SD(b,a,c,f);case 550:return d.YD(b,a,c,f);case 1607:return d.se(d.uE(a,b));case 1736:return d.se(d.lE(a,b))}throw e.g.za();case 1607:switch(m){case 33:return d.$C(b,a,c,f);case 197:return d.sE(b,a);case 550:return d.uE(b,a);case 1607:return d.lO(b,a);case 1736:return d.se(d.qE(a,b))}throw e.g.za();case 1736:switch(m){case 33:return d.nE(b,a,c);case 197:return d.jE(b,a);case 550:return d.lE(b,a);case 1607:return d.qE(b,a);case 1736:return d.WN(b,
a)}throw e.g.za();default:throw e.g.za();}};d.EN=function(b,a,c){b=b.w();a=a.w();return d.hE(b,a,c)};d.hE=function(b,a,c){b.sub(a);return b.qk()<=c*c?3:4};d.BD=function(b,a,c){var f=new e.h;b.s(f);b=a.w();return d.PM(f,b,c)};d.PM=function(b,a,c){b.O(-c,-c);if(b.contains(a))return 1;b.O(c,c);return b.contains(a)?8:4};d.TM=function(b,a,c){return a.contains(c)?1:b.contains(c)?8:4};d.IM=function(b,a,c){var f=new e.h;b.s(f);b=new e.h;a.s(b);return d.MM(f,b,c)};d.MM=function(b,a,c){var f=0;b.contains(a)&&
(f|=1);a.contains(b)&&(f|=2);if(0!=f)return f;b.O(-c,-c);a.O(-c,-c);if(b.Yb(a))return f=b,f.O(c,c),f=f.contains(a)?1:0,a.O(c,c),f|=a.contains(b)?2:0,0!=f?f:32;f=b;f.O(c,c);a.O(c,c);return f.Yb(a)?8:4};d.$D=function(b,a,c){a=a.w();return d.bE(b,a,c)};d.bE=function(b,a,c){for(var f=0,e=b.D();f<e;f++){var m;m=b.Ba(f);m=d.hE(m,a,c);if(4!=m)return 0!=(m&2)&&1!=e?1:m}return 4};d.SD=function(b,a,c,f){var k=new e.h;a.s(k);return d.$M(b,k,c,f)};d.$M=function(b,a,c,f){a.O(-c,-c);a.O(c,c);for(var e=c=0,m=b.D();e<
m;e++){var g;g=b.Ba(e);g=d.se(d.TM(a,a,g));if(4!=g&&(c|=g,4==f))return 1073741824}return 0==c?4:2==c?c:32};d.YD=function(b,a,c,f){for(var e=0,m=0,g=a.D();m<g;m++){var h;h=a.Ba(m);h=d.bE(b,h,c);if(4!=h&&(e++,4==f))return 1073741824}return 0<e?e==a.D()?3==f?(h=d.YD(a,b,c,1),1==h?3:0):1:32:0};d.$C=function(b,a,c,f){a=a.w();return d.hO(b,a,c,f)};d.WM=function(b,a){var c=null;b=b.ob;null!=b&&(c=b.Hi);if(null!=c){c=c.rm(a.x,a.y);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};d.hO=function(b,
a,c,f){if(0==(f&1073741839))return 64;var k=d.WM(b,a);if(0<k)return k;c*=c;for(k=b.Fa();k.Ya();){var m=k.Ta;if(!b.Qb(m)){var g=b.La(m),m=b.wa(m);if(0==g)continue;if(e.b.sc(b.Ba(m),a)<=c||1<g&&e.b.sc(b.Ba(m+g-1),a)<=c)return 8}if(8!=f)for(;k.Ea();)if(g=k.ba(),g=g.gc(g.pe(a,!1)),e.b.sc(g,a)<=c)return 0!=(f&1073741828)?1073741824:1}return 0!=(f&1073741828)?4:64};d.sE=function(b,a){var c=new e.h;a.s(c);return d.dO(b,c)};d.dO=function(b,a){b=d.eq(b,a);return 0<b?b:0};d.eq=function(b,a){b=b.ob;if(null!=
b)b=b.Hi;else return-1;if(null!=b){b=b.Rn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};d.uE=function(b,a){var c=new e.h;a.s(c);c=d.eq(b,c);return 0<c?c:0};d.uv=function(b,a){var c=new e.h;a.s(c);c=d.eq(b,c);return 0<c?c:-1==c&&(c=new e.h,b.s(c),c=d.eq(a,c),0<c)?d.se(c):0};d.lO=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.nE=function(b,a,c){a=a.w();return d.QN(b,a,c)};d.QN=function(b,a,c){b=e.gd.ge(b,a,c);if(0==b)return 4;if(1==b)return 1;if(2==b)return 8;throw e.g.za();};d.jE=function(b,
a){var c=new e.h;a.s(c);return d.NN(b,c)};d.NN=function(b,a){b=d.eq(b,a);return 0<b?b:0};d.lE=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.qE=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.WN=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.jX=function(b,a){var c=b.G(),f=a.G(),d;if(e.T.gh(c)&&(d=b.ob,null!=d&&(d=d.Hi,null!=d))){if(33==f){var m=a.w();d=d.rm(m.x,m.y)}else m=new e.h,a.s(m),d=d.Rn(m);if(1==d)return 1;if(0==d)return 4}if(e.T.gh(f)&&(d=a.ob,null!=d&&(d=d.Hi,null!=d))){33==c?(c=b.w(),d=d.rm(c.x,
c.y)):(c=new e.h,b.s(c),d=d.Rn(c));if(1==d)return 2;if(0==d)return 4}return 0};d.se=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return d}();e.mN=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 15};b.prototype.V=function(a,c,b,d,m){return a instanceof e.T?(a=new e.hd(a),c=new e.hd(c),this.V(a,c,b,d,m).next()):void 0===m?new e.KD(a,c,b,d,-1):new e.KD(a,
c,b,d,m)};b.prototype.qo=function(a,c,b){if(!this.wv(a))return!1;c=e.na.ah(c,a,!1);var f=a.Hj(b);return f=f||a.Xu(c,b)};b.prototype.wv=function(a){return e.xy.bz(a)};b.$=null;return b}(e.ef);e.tk=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f,d){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.sf=a.next();this.$j=this.sf.G();this.lc=f;this.ej=d;if(-1!=this.ej&&(0>=this.ej||7<this.ej))throw e.g.F("bad dimension mask");}d.prototype.next=function(){if(this.ot)return null;var b;if(null!=
this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ie.next());){this.Ca=this.ie.Ia();if(-1==this.ej)return b=this.Ma(b);this.ox=this.KU(b);return b=this.ox.next()}return null};d.prototype.Ia=function(){return this.Ca};d.prototype.Ma=function(b){var a=this.oL(b);if(null!=a)return a;var a=e.na.Zv(this.sf,b),c=e.na.be(this.Rg,a,!0),a=new e.h;this.sf.s(a);var f=new e.h;b.s(f);a.O(2*c,2*c);a.Ma(f);a.O(100*c,100*c);c=e.ne.clip(this.sf,a,0,0);b=e.ne.clip(b,a,0,0);return e.Dg.nw(b,
c,this.Rg,this.lc)};d.prototype.JJ=function(b,a,c){var f=0;if(0!=(a&1))null==c[0]&&(c[0]=new e.Ed(b)),f++;else for(var d=0;d<c.length-1;d++)c[d]=c[d+1];if(0!=(a&2))null==c[f]&&(c[f]=new e.Ua(b)),f++;else for(d=f;d<c.length-1;d++)c[d]=c[d+1];if(0!=(a&4))null==c[f]&&(c[f]=new e.Ja(b)),f++;else for(d=f;d<c.length-1;d++)c[d]=c[d+1];if(3!=f){b=[];for(d=0;d<f;d++)b[d]=c[d];return new e.hd(b)}return new e.hd(c)};d.prototype.KU=function(b){var a=this.oL(b);if(null!=a){var c=[null,null,null];c[a.tb()]=a;return this.JJ(b.description,
this.ej,c)}a=e.na.Zv(this.sf,b);c=e.na.be(this.Rg,a,!0);a=new e.h;this.sf.s(a);a.O(2*c,2*c);var f=new e.h;b.s(f);a.Ma(f);a.O(100*c,100*c);c=e.ne.clip(this.sf,a,0,0);a=e.ne.clip(b,a,0,0);c=e.Dg.vA(a,c,this.Rg,this.lc);return this.JJ(b.description,this.ej,c)};d.prototype.oL=function(b){var a=e.na.Zv(b,this.sf),c=e.na.be(this.Rg,a,!1),a=b.G(),f=b.u(),k=this.sf.u(),k=f||k;if(!k){k=new e.h;b.s(k);var m=new e.h;this.sf.s(m);m.O(2*c,2*c);k=!k.Yb(m)}if(!k)if(m=e.mN.jX(this.sf,b),4==m)k=!0;else{if(0!=(m&2))return this.sf;
if(0!=(m&1))return b}if(k)return c=e.T.lf(a),k=e.T.lf(this.$j),c<k?d.$(b,f):c>k?this.dK():0==c?550==a&&33==this.$j?this.dK():d.$(b,f):d.$(b,f);if((-1==this.ej||4==this.ej)&&197==a&&197==this.$j)return c=this.sf,a=new e.h,b.s(a),f=new e.h,c.s(f),a.Ma(f),c=new e.ci,b.copyTo(c),c.Gp(a),c;if(197==a&&0==e.T.lf(this.$j)||197==this.$j&&0==e.T.lf(a))return f=197==a?b:this.sf,b=197==a?this.sf:b,a=new e.h,f.s(a),e.ne.clip(b,a,c,0);if(0==e.T.lf(a)&&0<e.T.lf(this.$j)||0<e.T.lf(a)&&0==e.T.lf(this.$j)){c=e.na.ah(this.Rg,
b,!1);if(550==a||33==a)return e.Dg.MH(b,this.sf,c);if(550==this.$j||33==this.$j)return e.Dg.MH(this.sf,b,c);throw e.g.za();}return-1!=this.ej&&2!=this.ej||1607!=a||1736!=this.$j?-1!=this.ej&&2!=this.ej||1736!=a||1607!=this.$j?null:this.lL(this.sf,b):this.lL(b,this.sf)};d.prototype.lL=function(b,a){var c=b,f=a,d=e.na.ah(this.Rg,a,!1),m=new e.h;f.s(m);var g=new e.h;c.s(g);g.O(2*d,2*d);m.Ma(g);m.O(10*d,10*d);var c=b=e.ne.clip(b,m,0,0),g=new e.ia(0),h=-1,l=f.ob;if(null!=l){var t=l.Hi;if(null!=t){h=0;
g.yb(c.D()+c.aa());for(var n=new e.h,p=c.Fa();p.Ya();)for(;p.Ea();){p.ba().s(n);var q=t.Rn(n);1==q?g.add(1):0==q?g.add(0):(g.add(-1),h++)}}}5<a.D()&&(f=a=e.ne.clip(a,m,0,0),l=f.ob);0>h&&(h=c.iA());m=c.D()+f.D();if(h*f.D()>Math.log(m)*m*4)return null;m=null;h=f.Fa();null!=l&&null!=l.Mb&&(m=l.Mb);null==m&&20<f.D()&&(m=e.na.AF(f));f=b.Ka();l=null;t=c.Fa();n=[0,0,0,0,0,0,0,0,0];p=new e.Rd(0);q=new e.Cg;b=-1;for(var r=0,v=0,x=0<g.size,G=-1;t.Ya();){var G=t.Ta,y=0;b=-1;for(r=0;t.Ea();){var w=x?e.J.truncate(g.get(v)):
-1;v++;var z=t.ba();if(0>w){if(null!=m)for(null==l?l=m.oT(z,d):l.Wn(z,d),w=l.next();-1!=w;w=l.next()){h.Tb(m.ja(w));for(var w=h.ba(),C=z.Ma(w,null,n,null,d),w=0;w<C;w++)p.add(n[w])}else for(h.yj();h.Ya();)for(;h.Ea();)for(w=h.ba(),C=z.Ma(w,null,n,null,d),w=0;w<C;w++)p.add(n[w]);if(0<p.size){p.Gd(0,p.size,function(a,c){return a-c});var D=0;p.add(1);for(var C=-1,w=0,J=p.size;w<J;w++){var E=p.get(w);if(E!=D){var F=!1;0!=D||1!=E?(z.yh(D,E,q),D=q.get()):(D=z,F=!0);if(2<=y){f.Bs(c,G,b,r,3==y);if(1!=this.eF(a,
D.ec(),d)&&1!=this.fF(a,D,d))return null;f.dc(D,!1);y=1;r=0}else switch(C=this.fF(a,D,d),C){case 1:F?2>y?(b=t.Db()-c.wa(G),r=1,y=0==y?3:2):r++:(f.dc(D,0==y),y=1);break;case 0:y=0;b=-1;r=0;break;default:return null}D=E}}}else{w=this.eF(a,z.ec(),d);if(0>w)return null;1==w?(2>y&&(b=t.Db()-c.wa(G),y=0==y?3:2),r++):(b=-1,r=0)}p.clear(!1)}else 0!=w&&1==w&&(0==y?(y=3,b=t.Db()-c.wa(G)):1==y?(y=2,b=t.Db()-c.wa(G)):r++)}2<=y&&(f.Bs(c,G,b,r,3==y),b=-1)}return f};d.prototype.eF=function(b,a,c){return e.ff.kn(b,
a,c)};d.prototype.fF=function(b,a,c){var f=a.ec();a=a.Cc();var d=e.ff.kn(b,f,c),m=e.ff.kn(b,a,c);if(1==d&&0==m||0==d&&1==m)return-1;if(0==d||0==m)return 0;if(1==d||1==m)return 1;d=new e.b;d.add(f,a);d.scale(.5);b=e.ff.kn(b,d,c);return 0==b?0:1==b?1:-1};d.$=function(b,a){return a?b:b.Ka()};d.prototype.dK=function(){null==this.KI&&(this.KI=this.sf.Ka());return this.KI};d.prototype.Re=function(){return!0};return d}();e.KD=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}
K(b,d);b.prototype.G=function(){return 28};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d,m,g,h){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d,m,g,h).next()):new e.nN(a,c,b,d,m,g,h)};b.$=null;return b}(e.ef);e.LD=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f,e,d,g){this.Ca=-1;this.ie=b;this.fk=a;this.Qa=c;this.jj=f;this.iB=e;this.GI=d;this.ke=g}d.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),this.aN(b)):
null};d.prototype.Ia=function(){return this.Ca};d.prototype.aN=function(b){var a;a=0>=this.GI?e.na.ah(this.fk,b,!1):this.GI;return e.TL.V(b,this.Qa,this.jj,this.iB,a,this.ke)};d.prototype.Re=function(){return!0};return d}();e.nN=d})(n||(n={}));(function(e){(function(e){e[e.clipToDomainOnly=1]="clipToDomainOnly";e[e.clipWithHorizon=2]="clipWithHorizon";e[e.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(e.Up||(e.Up={}));var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=
function(){return 0};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b).next()):new e.oN(a,c,b)};b.prototype.transform=function(a,c,b,d){return e.ko.transform(a,c,b,d,!0)};b.prototype.jL=function(a,c,b){return e.ko.jL(a,c,b)};b.prototype.Du=function(a,c,b,d){return e.ko.Du(a,c,b,d)};b.prototype.WY=function(a,c,b,d){return e.ko.gs(a,c,b,d)};b.prototype.iL=function(a,c,b,d){return e.ko.iL(a,c,b,d)};b.$=null;return b}(e.ef);
e.os=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c){this.Ca=-1;this.ie=b;this.KV=a;this.ke=c}d.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),e.ko.Xg(b,this.KV,this.ke)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.oN=d})(n||(n={}));(function(e){var d=function(){function b(){}b.prototype.reset=function(){this.Lh=this.Zk=-1;this.qt=this.$q=!1};b.prototype.sS=function(a,c,b){for(a.Tb(c,b);a.Ea();){var f=
a.ba(),f=f.Rb();if(0!=f)return a.Db()}for(a.Tb(c,b);a.oA();)if(f=a.Li(),f=f.Rb(),0!=f)return a.Db();return-1};b.prototype.tS=function(a,c){for(a.Tb(c,-1);a.oA();)if(0!=a.Li().Rb())return a.Db();return-1};b.prototype.rS=function(a,c){a.Tb(c,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.qS=function(a,c,b,d){this.Zk=this.sS(c,b,d);if(-1!=this.Zk){c.Tb(this.Zk,-1);var f=c.ba(),k=f.gc(f.pe(a,!1));b=e.b.sc(k,a);d=new e.b;d.L(k);d.sub(f.ec());k=new e.b;k.L(a);k.sub(f.ec());
this.$q=0>d.Ui(k);this.Lh=this.rS(c,this.Zk);if(-1!=this.Lh){c.Tb(this.Lh,-1);var f=c.ba(),g=f.pe(a,!1),g=f.gc(g),h=e.b.sc(g,a);h>b?this.Lh=-1:(d.L(g),d.sub(f.ec()),k.L(a),k.sub(f.ec()),this.qt=0>d.Ui(k))}-1==this.Lh&&(this.Lh=this.tS(c,this.Zk),-1!=this.Lh&&(c.Tb(this.Lh,-1),f=c.ba(),g=f.pe(a,!1),g=f.gc(g),h=e.b.sc(g,a),h>b?this.Lh=-1:(d.L(g),d.sub(f.ec()),k.L(a),k.sub(f.ec()),this.qt=0>d.Ui(k),a=this.Zk,this.Zk=this.Lh,this.Lh=a,a=this.$q,this.$q=this.qt,this.qt=a)))}};b.prototype.dQ=function(a,
c,b,e,d){b=b.Fa();this.qS(a,b,e,d);if(-1!=this.Zk&&-1==this.Lh)return this.$q;if(-1!=this.Zk&&-1!=this.Lh){if(this.$q==this.qt)return this.$q;b.Tb(this.Zk,-1);a=b.ba().Eg(1);b.Tb(this.Lh,-1);c=b.ba().Eg(0);return 0<=a.Ui(c)?!0:!1}return c};return b}(),g=function(b){function a(){b.apply(this,arguments)}K(a,b);a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 3};a.prototype.Zz=function(a,b,d,m){void 0===m&&(m=!1);if(a.u())return new e.Mm;b=b.w();var c=a,f=a.G();
197==f&&(c=new e.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(c,b);case 550:return this.rJ(c,b);case 1607:case 1736:return this.ZV(c,b,d,m);default:throw e.g.X("not implemented");}};a.prototype.$z=function(a,b){if(a.u())return new e.Mm;b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(c,b);case 550:case 1607:case 1736:return this.rJ(c,b);default:throw e.g.X("not implemented");}};a.prototype.aA=function(a,b,d,m){if(0>m)throw e.g.F();if(a.u())return[];
b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.EW(c,b,d,m);case 550:case 1607:case 1736:return this.bW(c,b,d,m);default:throw e.g.X("not implemented");}};a.prototype.ZV=function(a,b,k,m){if(1736==a.G()&&k&&(k=new e.h,a.s(k),k=e.na.be(null,k,!1),0!=(m?e.gd.ge(a,b,0):e.gd.ge(a,b,k)))){var c=new e.Mm(b,0,0);m&&c.NK(!0);return c}for(var f=a.Fa(),c=new e.b,g=k=-1,h=1.7976931348623157E308,l=0;f.Ya();)for(;f.Ea();){var t=f.ba(),t=t.gc(t.pe(b,!1)),n=e.b.sc(t,
b);n<h?(l=1,c=t,k=f.Db(),g=f.Ta,h=n):n==h&&l++}c=new e.Mm(c,k,Math.sqrt(h));m&&(f.Tb(k,g),t=f.ba(),m=0>e.b.zp(b,t.ec(),t.Cc()),1<l&&(l=new d,l.reset(),m=l.dQ(b,m,a,k,g)),c.NK(m));return c};a.prototype.FJ=function(a,b){a=a.w();b=e.b.Cb(a,b);return new e.Mm(a,0,b)};a.prototype.rJ=function(a,b){var c=a.Pa(0);a=a.D();for(var f=0,d=0,g=0,h=1.7976931348623157E308,l=0;l<a;l++){var t=new e.b;c.fc(2*l,t);var n=e.b.sc(t,b);n<h&&(d=t.x,g=t.y,f=l,h=n)}c=new e.Mm;c.Ly(d,g,f,Math.sqrt(h));return c};a.prototype.EW=
function(a,b,d,m){if(0==m)return d=[];d*=d;a=a.w();b=e.b.sc(a,b);b<=d?(d=[],m=new e.Mm,m.Ly(a.x,a.y,0,Math.sqrt(b)),d[0]=m):d=[];return d};a.prototype.bW=function(a,b,d,m){if(0==m)return m=[];var c=a.Pa(0),f=a.D();a=[];var k=0;d*=d;for(var g=0;g<f;g++){var h=c.read(2*g),l=c.read(2*g+1),t=b.x-h,n=b.y-l,t=t*t+n*n;t<=d&&(n=new e.Mm,n.Ly(h,l,g,Math.sqrt(t)),k++,a.push(n))}b=a.length;a.sort(function(a,c){return a.Qa<c.Qa?-1:a.Qa==c.Qa?0:1});if(m>=b)return a.slice(0);a.length=m;return a.slice(0)};a.$=null;
return a}(e.ef);e.sy=g})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 4};b.prototype.V=function(a,c,b,d,m){return e.Nm.YB(a,c,b,d,m)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return e.Gu.cz(a)};b.prototype.qo=function(a,c,b){return e.Gu.TE(a,c,b)};b.$=null;return b}(e.ef);e.pN=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 33};
b.prototype.V=function(a,c,b,d,m){return 1073741824===a?!e.Fd.ZB(c,b,d,4,m):e.Fd.ZB(c,b,d,a,m)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return e.Gu.cz(a)};b.prototype.qo=function(a,c,b){return e.Gu.TE(a,c,b)};b.$=null;return b}(e.ef);e.Gj=d})(n||(n={}));(function(e){var d=function(){function d(b,a,c,f){this.ke=f;this.rV=c;this.Ca=-1;if(null==b)throw e.g.F();this.$k=b;this.fk=a}d.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),
this.CC(b)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.CC=function(b){if(null==b)throw e.g.F();return e.ty.TK(b,this.fk,this.rV,this.ke)};d.prototype.Re=function(){return!0};return d}();e.qN=d})(n||(n={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}K(b,d);b.prototype.G=function(){return 26};b.prototype.V=function(a,c,b,d){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d).next()):new e.qN(a,c,b,d)};b.prototype.Wq=function(a,c,b,d,m){return 0<(void 0!==
d?e.ty.Wq(a,c,b,d,m):e.ty.Wq(a,c,!1,null,b))};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(e.ef);e.Km=d})(n||(n={}));(function(e){var d=function(){function a(){this.nr=0}a.prototype.hY=function(a){this.nr&=-2;this.nr|=a?1:0};a.prototype.fn=function(){return 0!=(this.nr&1)};a.prototype.hH=function(){return this.fn()?0:1};return a}();e.KZ=d;var g=function(){return function(){}}(),b=function(){return function(a,c,b,f){this.x=a;this.y=c;this.$i=b;this.ln=f}}(),a=function(){function a(a){this.bf=
a}a.prototype.compare=function(a,c,b){a=a.ja(b);c=this.bf.Nf.read(2*c);a=this.bf.Nf.read(2*a);c-=a;return 0>c?-1:0<c?1:0};return a}(),c=function(){function a(a){this.bf=a}a.prototype.compare=function(a,c,b){c=this.bf.ib[c];a=this.bf.ib[a.ja(b)];var f=c.fn(),e=a.fn();b=c.Le.pf(this.bf.wp,0);var d=a.Le.pf(this.bf.wp,0);b==d&&(b=Math.min(f?c.Le.ra:c.Le.oa,e?a.Le.ra:a.Le.oa),f=.5*(b-this.bf.wp)+this.bf.wp,f==this.bf.wp&&(f=b),b=c.Le.pf(f,0),d=a.Le.pf(f,0));return b<d?-1:b>d?1:0};return a}(),f=function(){function a(a,
c){this.QJ=new e.b;this.parent=a;this.YT=c}a.prototype.hs=function(a,c,b){var f=this.parent,e=this.YT;b.Gd(a,c,function(a,c){return f.ki(a,c,e)})};a.prototype.Qq=function(a){a=this.parent.Gi.get(a);this.parent.Nf.fc(2*(a>>1),this.QJ);return this.QJ.y+(0!=(a&1)?this.parent.hk:-this.parent.hk)};return a}(),k=function(){function k(a,c,b,f,d){this.zI=a.description;this.Y=a;this.mh=c;this.hk=e.na.ah(this.mh,a,!1);this.pp=e.na.ah(this.mh,a,!0);this.dB=b;this.pV=this.zI.Ga;this.ib=[];this.cp=[];this.Hh=
new e.Xp;this.hb=new e.uk;this.ve=new e.$d;this.kI=this.Ul=d}k.prototype.AA=function(){this.kI=!0;return(!e.T.Ic(this.Y.G())||this.NF()&&this.MF(!1))&&this.pQ()?e.T.Ic(this.Y.G())?this.sQ()?1607==this.Y.G()?this.uQ()?2:0:this.vQ()?this.wQ():0:0:2:0};k.prototype.IC=function(a,c){var b=this.Nf.read(2*a);a=this.Nf.read(2*a+1);var f=this.Nf.read(2*c);c=this.Nf.read(2*c+1);var d=!e.Iu.pw(b,a,f,c,this.hk*this.hk);return d?d:0==this.Y.tb()?!1:b==f&&a==c};k.prototype.NF=function(){for(var a=this.Y,c=a.$f?
3:2,b=0,f=a.aa();b<f;b++)if(a.La(b)<c)return this.ve=new e.$d(1,b,0),!1;return!0};k.prototype.MF=function(a){for(var c=this.Y,b=c.Fa(),f=c.hasAttribute(1),c=f?e.na.FF(this.mh,c,!1):0;b.Ya();)for(;b.Ea();){var d=b.ba();if(!(d.Rb()>this.hk)){if(a&&f){var k=d.dt(1,0),d=d.dt(1,0);if(Math.abs(d-k)>c)continue}this.ve=new e.$d(2,b.Db(),-1);return!1}}return!0};k.prototype.pQ=function(){var c=this.Y,b=null;e.T.Ic(this.Y.G())&&(b=this.Y);var d=(this.kI||this.Ul)&&null!=b,k=c.D();this.Nf=c.Pa(0);this.Gi=new e.ia(0);
this.Gi.yb(2*k);this.Fi=new e.ia(0);this.Fi.yb(2*k);d&&(null==this.im&&(this.im=new e.ia(0)),this.im.yb(k));for(var m=c=0;m<k;m++)if(this.Gi.add(2*m),this.Gi.add(2*m+1),this.Fi.add(2*m),this.Fi.add(2*m+1),d){for(;m>=b.Gc(c);)c++;this.im.add(c)}(new e.Hu).sort(this.Fi,0,2*k,new f(this,d));this.hb.clear();this.hb.Ep(new a(this));this.hb.Qe(k);b=0;for(k*=2;b<k;b++)if(d=this.Fi.get(b),c=this.Gi.get(d),d=c>>1,0==(c&1)){c=this.hb.addElement(d,-1);m=this.hb.Ve(c);if(-1!=m&&!this.IC(this.hb.ja(m),d))return this.ve=
new e.$d(3,d,this.hb.ja(m)),!1;var g=this.hb.nb(c);if(-1!=g&&!this.IC(this.hb.ja(g),d))return this.ve=new e.$d(3,d,this.hb.ja(g)),!1}else if(c=this.hb.search(d,-1),m=this.hb.Ve(c),g=this.hb.nb(c),this.hb.Kd(c,-1),-1!=m&&-1!=g&&!this.IC(this.hb.ja(m),this.hb.ja(g)))return this.ve=new e.$d(3,this.hb.ja(m),this.hb.ja(g)),!1;return!0};k.prototype.sQ=function(){return 10>this.Y.D()?this.qQ():this.rQ()};k.prototype.rQ=function(){var a=new e.fd;a.Jb(this.Y);var c=new e.$d;return e.Ku.tJ(!1,a,this.hk,c,this.ke)?
(c.lm=a.Za(c.lm),c.mm=a.Za(c.mm),this.ve.ms(c),!1):!0};k.prototype.qQ=function(){for(var a=this.Y,c=a.Fa(),a=a.Fa();c.Ya();)for(;c.Ea();){var b=c.ba();if(!c.Io()||!c.TU()){a.yX(c);do for(;a.Ea();){var f=a.ba(),f=b.ys(f,this.hk,!0);if(0!=f)return this.ve=new e.$d(2==f?5:4,c.Db(),a.Db()),!1}while(a.Ya())}}return!0};k.prototype.vQ=function(){var a=this.Y;this.ib.length=0;this.cp.length=0;this.ug=a.Fa();this.ug.jC();var c=new e.ia(0);c.yb(10);for(var b=NaN,f=0,d=0,a=2*a.D();d<a;d++){var k=this.Fi.get(d),
k=this.Gi.get(k);if(0==(k&1)){var k=k>>1,m=this.Nf.read(2*k),g=this.Nf.read(2*k+1);if(0!=c.size&&(m!=b||g!=f)){if(!this.KJ(c))return!1;null!=c&&c.clear(!1)}c.add(k);b=m;f=g}}return this.KJ(c)?!0:!1};k.prototype.uQ=function(){for(var a=this.Y,c=Array(a.aa()),b=0,f=a.aa();b<f;b++)c[b]=a.Eo(b);var f=new g,d,k,m,h=new e.b,b=this.Fi.get(0),b=this.Gi.get(b),l=b>>1;this.Nf.fc(2*l,h);b=this.im.get(l);d=c[b];k=a.wa(b);m=a.Gc(b)-1;f.Il=l==k||l==m;f.Uy=this.Ul?!d&&f.Il:f.Il;f.$i=b;f.x=h.x;f.y=h.y;f.ln=l;for(var n=
new g,t=1,p=this.Fi.size;t<p;t++)if(b=this.Fi.get(t),b=this.Gi.get(b),0==(b&1)){l=b>>1;this.Nf.fc(2*l,h);b=this.im.get(l);b!=f.$i&&(d=c[b],k=a.wa(b),m=a.Gc(b)-1);var q,r=l==k||l==m;q=this.Ul?!d&&f.Il:f.Il;n.x=h.x;n.y=h.y;n.$i=b;n.ln=l;n.Uy=q;n.Il=r;if(n.x==f.x&&n.y==f.y)if(this.Ul){if(!n.Uy||!f.Uy)if(n.$i!=f.$i||!n.Il&&!f.Il)return this.ve=new e.$d(8,n.ln,f.ln),!1}else if(!n.Il||!f.Il)return this.ve=new e.$d(5,n.ln,f.ln),!1;b=f;f=n;n=b}return!0};k.prototype.PF=function(){for(var a=this.Y,c=[],f=-1,
d=!1,k=0,m=a.aa();k<m;k++)a.rw(k)&&(d=!1,f++,k<m-1&&(a.rw(k+1)||(d=!0))),c[k]=d?f:-1;var d=new e.b,k=this.Fi.get(0),k=this.Gi.get(k),g=k>>1;this.Nf.fc(2*g,d);for(var k=this.im.get(g),f=new b(d.x,d.y,k,g,c[k]),a=[],h=1,m=this.Fi.size;h<m;h++)if(k=this.Fi.get(h),k=this.Gi.get(k),0==(k&1)){g=k>>1;this.Nf.fc(2*g,d);k=this.im.get(g);k=new b(d.x,d.y,k,g,c[k]);if(k.x==f.x&&k.y==f.y){if(k.$i==f.$i)return this.ve=new e.$d(9,k.ln,f.ln),!1;0<=c[k.$i]&&c[k.$i]==c[f.$i]&&(0!=a.length&&a[a.length-1]==f||a.push(f),
a.push(k))}f=k}if(0==a.length)return!0;k=new e.Xp(!0);e.J.Nv(c,-1);d=-1;h=new e.b;h.$c();f=0;for(m=a.length;f<m;f++){g=a[f];if(g.x!=h.x||g.y!=h.y)d=k.mi(0),h.x=g.x,h.y=g.y;var l=c[g.$i];-1==l&&(l=k.mi(2),c[g.$i]=l);k.addElement(l,d);k.addElement(d,l)}m=new e.ia(0);m.yb(10);for(f=k.Ge;-1!=f;f=k.bA(f))if(a=k.$G(f),0==(a&1)&&0!=(a&2)){a=-1;m.add(f);for(m.add(-1);0<m.size;){d=m.Fc();m.Pf();h=m.Fc();m.Pf();g=k.$G(h);if(0!=(g&1)){a=0==(g&2)?d:h;break}k.$X(h,g|1);for(g=k.xc(h);-1!=g;g=k.nb(g))l=k.getData(g),
l!=d&&(m.add(l),m.add(h))}if(-1!=a){k=-1;f=0;for(m=c.length;f<m;f++)if(c[f]==a){k=f;break}this.ve=new e.$d(10,k,-1);return!1}}return!0};k.prototype.wQ=function(){var a=this.Y;if(0>=a.hf())return this.ve=new e.$d(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Ul&&!this.PF()?0:2;this.hp=e.ia.zd(a.aa(),0);this.pB=e.ia.zd(a.aa(),-1);for(var b=-1,f=0,d=0,k=a.aa();d<k;d++){var m=a.Sm(d);this.hp.write(d,0>m?0:256);if(0<m)b=d,f=m;else{if(0==m)return this.ve=new e.$d(6,d,-1),0;if(0>b||f<Math.abs(m))if(this.ve=
new e.$d(7,d,-1),this.Ul)return 0;this.pB.write(d,b)}}this.Wt=a.aa();this.Bn=new e.ia(0);this.Bn.yb(10);k=a.D();this.wp=NaN;a=new e.ia(0);a.yb(10);this.Jr=e.ia.zd(k,-1);this.ux=e.ia.zd(k,-1);null!=this.Yj?this.Yj.clear(!1):this.Yj=new e.ia(0);this.Yj.yb(10);this.hb.clear();this.hb.Ep(new c(this));b=0;for(k*=2;0<this.Wt&&b<k;b++)if(f=this.Fi.get(b),f=this.Gi.get(f),0==(f&1)){f>>=1;d=this.Nf.read(2*f+1);if(d!=this.wp&&0!=a.size){if(!this.ju(a))return 0;null!=a&&a.clear(!1)}a.add(f);this.wp=d}return 0<
this.Wt&&!this.ju(a)?0:this.Ul?0==this.ve.Ii&&this.PF()?2:0:0==this.ve.Ii?2:1};k.prototype.KJ=function(a){if(1==a.size)return!0;for(var c=0,b=a.size;c<b;c++){var f=a.get(c);this.ug.Tb(f);var d=this.ug.Li();this.ib.push(this.Gv(d,f,this.ug.Ta,!0));this.ug.ba();d=this.ug.ba();this.ib.push(this.Gv(d,f,this.ug.Ta,!1))}var k=this;this.ib.sort(function(a,c){return k.UR(a,c)});f=this.Hh.Ge;-1==f&&(f=this.Hh.mi(0));this.Hh.Vn(this.ib.length);c=0;for(b=this.ib.length;c<b;c++)this.Hh.addElement(f,c);for(var c=
!0,m=b=-1;c;){c=!1;d=this.Hh.xc(f);if(-1==d)break;for(var g=this.Hh.nb(d);-1!=g;){b=this.Hh.getData(d);m=this.Hh.getData(g);b=this.ib[b].up;m=this.ib[m].up;if(b==m)if(c=!0,this.Hh.kd(f,d),d=this.Hh.Ve(g),g=this.Hh.kd(f,g),-1==g||-1==d)break;else continue;d=g;g=this.Hh.nb(d)}}c=this.Hh.at(f);this.Hh.QF(f);if(0<c)return this.ve=new e.$d(5,b,m),!1;c=0;for(b=a.size;c<b;c++)this.VB(this.ib[c]);this.ib.length=0;return!0};k.prototype.ju=function(a){for(var c=0,b=a.size;c<b;c++){var f=a.get(c),d=this.Jr.read(f);
if(-1!=d){var k=this.hb.ja(d);this.Yj.add(k);this.hb.Kd(d,-1);this.VB(this.ib[k]);this.ib[k]=null;this.Jr.write(f,-1)}d=this.ux.read(f);-1!=d&&(k=this.hb.ja(d),this.Yj.add(k),this.hb.Kd(d,-1),this.VB(this.ib[k]),this.ib[k]=null,this.ux.write(f,-1))}c=0;for(b=a.size;c<b;c++){f=a.get(c);this.ug.Tb(f);d=this.ug.Li();if(d.ra>d.oa){var m=this.ug.Db(),g=this.Gv(d,f,this.ug.Ta,!0);0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=g):(k=this.ib.length,this.ib.push(g));d=this.hb.addElement(k,-1);-1==
this.Jr.read(m)?this.Jr.write(m,d):this.ux.write(m,d);0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(d)}this.ug.ba();d=this.ug.ba();d.ra<d.oa&&(m=this.ug.Jk(),g=this.Gv(d,f,this.ug.Ta,!1),0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=g):(k=this.ib.length,this.ib.push(g)),d=this.hb.addElement(k,-1),-1==this.Jr.read(m)?this.Jr.write(m,d):this.ux.write(m,d),0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(d))}c=0;for(b=this.Bn.size;c<b&&0<this.Wt;c++)if(d=this.Bn.get(c),0==(this.hp.read(this.ib[this.hb.ja(d)].oB)&
3)){a=-1;for(var f=this.hb.Ve(d),u=d,g=null,k=-1,h=0;-1!=f;){k=this.hb.ja(f);g=this.ib[k];k=g.oB;h=this.hp.read(k);if(0!=(h&3))break;u=f;f=this.hb.Ve(f)}-1==f?(m=1,f=u):(a=1==(h&3)?k:this.pB.read(k),m=0!=g.hH()?0:1,f=this.hb.nb(f));do{k=this.hb.ja(f);g=this.ib[k];k=g.oB;u=this.hp.read(k);if(0==(u&3)){if(m!=g.hH())return this.ve=new e.$d(6,k,-1),!1;h=0==m||g.fn()?2:1;u=u&252|h;this.hp.write(k,h);if(2==h&&0==this.ve.Ii&&this.pB.read(k)!=a&&(this.ve=new e.$d(7,k,-1),this.Ul))return!1;this.Wt--;if(0==
this.Wt)return!0}1==(u&3)&&(a=k);u=f;f=this.hb.nb(f);m=0!=m?0:1}while(u!=d)}null!=this.Bn?this.Bn.clear(!1):this.Bn=new e.ia(0);return!0};k.prototype.Gv=function(a,c,b,f){if(322==a.G())a=this.rR(a);else throw e.g.za();a.up=c;a.oB=b;a.nr=0;a.hY(f);return a};k.prototype.rR=function(a){var c;0<this.cp.length?(c=this.cp[this.cp.length-1],--this.cp.length,a.copyTo(c.Le)):(c=new d,c.Le=e.cE.oe(a));return c};k.prototype.VB=function(a){322==a.Le.G()&&this.cp.push(a)};k.prototype.$V=function(){for(var a=this.Y.D(),
c=new e.ia(0),b=0;b<a;b++)c.add(b);var f=this;c.Gd(0,a,function(a,c){return f.Cv(a,c)});for(b=1;b<a;b++)if(0==this.Cv(c.get(b-1),c.get(b)))return this.ve=new e.$d(3,c.get(b-1),c.get(b)),0;return 2};k.prototype.JW=function(){return this.NF()?this.MF(!0)?2:0:0};k.prototype.HW=function(){return this.AA()};k.prototype.aW=function(){for(var a=this.Y.D(),c=new e.ia(0),b=0;b<a;b++)c.add(b);var f=this;c.Gd(0,a,function(a,c){return f.SQ(a,c)});var d=Array(a);e.J.Nv(d,!1);d[c.get(0)]=!0;for(b=1;b<a;b++){var k=
c.get(b-1),m=c.get(b);0==this.Cv(k,m)?d[m]=!1:d[m]=!0}for(var c=this.Y.Ka(),k=this.Y,m=0,g=1,b=0;b<a;b++)d[b]?g=b+1:(m<g&&c.Id(k,m,g),m=b+1);m<g&&c.Id(k,m,g);c.Zg(2,this.pp);return c};k.prototype.KW=function(){var a=this.Y,c=a.Fa(),b=a.Fa(),f=this.Y.Ka(),d=this.Y,k=a.hasAttribute(1),m=k?e.na.FF(this.mh,a,!0):0,g=new e.ia(0),h=new e.ia(0);g.yb(e.J.truncate(a.D()/2+1));for(h.yb(e.J.truncate(a.D()/2+1));c.Ya();)if(b.Ya(),!(2>a.La(c.Ta))){b.AX();for(var l,n,t=!0;c.Ea();){var p=c.ba(),q=b.Li();if(c.Db()>
b.Db())break;t&&(g.add(c.Db()),h.add(b.Jk()),t=!1);n=g.Fc();var r=c.Jk();if(1<r-n){var v=new e.b;v.zc(a.Ba(n),a.Ba(r));l=v.length()}else l=p.Rb();n=h.Fc();r=b.Db();1<r-n?(v=new e.b,v.zc(a.Ba(n),a.Ba(r)),n=v.length()):n=q.Rb();l>this.pp?g.add(c.Jk()):k&&(l=a.Yc(1,g.Fc(),0),p=p.Os(1,0),Math.abs(p-l)>m&&g.add(c.Jk()));n>this.pp?h.add(b.Db()):k&&(l=a.Yc(1,h.Fc(),0),p=q.Os(1,0),Math.abs(p-l)>m&&h.add(b.Db()))}g.Fc()<h.Fc()?g.size>h.size?g.Pf():h.Pf():(g.Fc()!=h.Fc()&&h.Pf(),h.Pf());if(2<=h.size+g.size){t=
new e.Wa;q=0;for(p=g.size;q<p;q++)d.Ae(g.get(q),t),0==q?f.Rf(t):f.lineTo(t);for(q=h.size-1;0<q;q--)d.Ae(h.get(q),t),f.lineTo(t);d.Qb(c.Ta)?f.sq():0<h.size&&(d.Ae(h.get(0),t),f.lineTo(t))}null!=g&&g.clear(!1);null!=h&&h.clear(!1)}f.Zg(2,this.pp);return f};k.prototype.IW=function(){return this.xY()};k.prototype.xY=function(){if(1736==this.Y.G()&&1==this.Y.xo())return e.Dg.ol(this.Y,this.pp,!0,!1,this.ke);this.gj=new e.fd;this.gj.Jb(this.Y);0!=this.gj.vd&&(1!=this.dB&&e.sk.V(this.gj,this.pp,this.ke,
!0),1736==this.Y.G()&&e.lo.V(this.gj,this.gj.sd,this.dB,!1,this.ke));this.Y=this.gj.Se(this.gj.sd);1736==this.Y.G()&&(this.Y.Al(),this.Y.Hp(0));this.Y.Zg(2,this.pp);return this.Y};k.tc=function(a,c,b){if(a.u())return 1;var f=a.G();if(33==f)return 1;if(197==f)return b=new e.h,a.s(b),b.fh(e.na.ah(c,a,!1))?0:1;if(e.T.Oc(f))throw e.g.za();if(!e.T.gh(f))throw e.g.za();var f=e.na.ah(c,a,!1),d=a.Lk(f);b=b?-1:d;if(-1!=b)return b;1==b&&(f=0);b=(new k(a,c,b,0,!1)).AA();a.Zg(b,f);return b};k.Wq=function(a,c,
b,f,d){null!=f&&(f.Ii=0,f.lm=-1,f.mm=-1);if(a.u())return 1;var m=a.G();if(33==m)return 1;var g=e.na.ah(c,a,!1);if(197==m)return c=new e.h,a.s(c),c.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(e.T.Oc(m))return g=new e.Ua(a.description),g.dc(a,!0),k.Wq(g,c,b,f,d);d=a.Lk(g);b=b?-1:d;if(-1!=b)return b;c=new k(a,c,b,0,!1);if(550==m)b=c.$V();else if(1607==m)b=c.JW();else if(1736==m)b=c.HW();else throw e.g.za();a.Zg(b,g);null!=f&&0==b&&f.ms(c.ve);return b};k.Bb=function(a,c,b,f,d){null!=f&&(f.Ii=0,f.lm=
-1,f.mm=-1);if(a.u())return 1;var m=a.G();if(33==m)return 1;var g=e.na.ah(c,a,!1);if(197==m)return c=new e.h,a.s(c),c.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(e.T.Oc(m))return m=new e.Ua(a.description),m.dc(a,!0),k.Wq(m,c,b,f,d);a=new k(a,c,-1,0,!0);if(550==m||1607==m||1736==m)c=a.AA();else throw e.g.za();null!=f&&f.ms(a.ve);return c};k.TK=function(a,c,b,f){if(a.u())return a;var d=a.G();if(33==d)return a;var m=e.na.ah(c,a,!1);if(197==d)return c=new e.h,a.s(c),c.fh(m)?a.Ka():a;if(e.T.Oc(d))return d=
new e.Ua(a.description),d.dc(a,!0),k.TK(d,c,b,f);f=a.Lk(m);b=b?-1:f;if(2==b)return a;a=new k(a,c,b,0,!1);if(550==d)a=a.aW();else if(1607==d)a=a.KW();else if(1736==d)a=a.IW();else throw e.g.za();return a};k.DC=function(a,c,b,f){if(a.u())return a;var d=a.G();if(33==d)return a;var m=e.na.ah(c,a,!1);if(197==d)return c=new e.h,a.s(c),c.fh(m)?a.Ka():a;if(e.T.Oc(d))return m=new e.Ua(a.description),m.dc(a,!0),k.DC(m,c,b,f);if(!e.T.gh(d))throw e.g.X("OGC simplify is not implemented for this geometry type "+
d);return e.Dg.DC(a,m,!1,f)};k.prototype.ki=function(a,c,b){if(a==c)return 0;a=this.Gi.get(a);var f=this.Gi.get(c);c=a>>1;var d=f>>1,k=new e.b,m=new e.b;this.Nf.fc(2*c,k);k.y+=0!=(a&1)?this.hk:-this.hk;this.Nf.fc(2*d,m);m.y+=0!=(f&1)?this.hk:-this.hk;a=k.compare(m);return 0==a&&b?(b=this.im.get(c)-this.im.get(d),0>b?-1:0<b?1:0):a};k.prototype.Cv=function(a,c){if(a==c)return 0;var b=this.Y,f=b.Ba(a),d=b.Ba(c);if(f.x<d.x)return-1;if(f.x>d.x)return 1;if(f.y<d.y)return-1;if(f.y>d.y)return 1;for(f=1;f<
this.pV;f++)for(var d=this.zI.rd(f),k=e.ma.Xa(d),m=0;m<k;m++){var g=b.Yc(d,a,m),u=b.Yc(d,c,m);if(g<u)return-1;if(g>u)return 1}return 0};k.prototype.SQ=function(a,c){var b=this.Cv(a,c);return 0==b?a<c?-1:1:b};k.prototype.UR=function(a,c){if(a===c)return 0;var b=a.Le.Eg(a.fn()?1:0);a.fn()&&b.Lr();a=c.Le.Eg(c.fn()?1:0);c.fn()&&a.Lr();c=b.$u();var f=a.$u();return f==c?(c=b.Ui(a),Math.abs(c)<=8.881784197001252E-16*(Math.abs(a.x*b.y)+Math.abs(a.y*b.x))&&(c--,c++),0>c?1:0<c?-1:0):c<f?-1:1};return k}();e.ty=
k})(n||(n={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}K(b,e);b.prototype.G=function(){return 30};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,e){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,e).next()):new d.rN(a,c,b,e)};b.Pp=function(a,c,f,e){var k=a.tb(),g=c.tb();if(a.u()&&c.u())return k>g?a:c;if(a.u())return c;if(c.u())return a;var h=new d.h,l=new d.h,n=new d.h;a.s(h);c.s(l);n.I(h);n.Nb(l);h=d.na.be(f,n,!1);
l=a.G();n=c.G();return 33==l&&33==n?b.nO(a,c,h):l!=n?0<k||0<g?k>g?a:c:550==l?b.XJ(a,c,h):b.XJ(c,a,h):d.Dg.Pp(a,c,f,e)};b.nO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var f=a.w(),e=c.w(),g=new d.Ed(a.description);d.b.sc(f,e)>b&&(g.add(a),g.add(c));return g};b.XJ=function(a,c,b){var f=a.Pa(0),e=a.D(),g=c.w(),h=a.Ka();b=b*Math.sqrt(2)*1.00001;var l=new d.h;a.s(l);l.O(b,b);if(l.contains(g)){b*=b;for(var l=!1,n=[],t=0;t<e;t++)n[t]=!1;for(t=0;t<e;t++){var p=f.read(2*t),q=f.read(2*t+1),p=p-g.x,q=q-g.y;
p*p+q*q<=b&&(l=!0,n[t]=!0)}if(l)for(t=0;t<e;t++)n[t]||h.Id(a,t,t+1);else h.Id(a,0,e),h.add(c)}else h.Id(a,0,e),h.add(c);return h};b.$=null;return b}(d.ef);d.uy=e})(n||(n={}));(function(d){var e=function(){function e(b,a,c,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.LV=a.next();this.lc=f}e.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),d.uy.Pp(b,this.LV,this.Rg,this.lc)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=
function(){return!0};return e}();d.rN=e})(n||(n={}));(function(d){var e=function(){function a(){}a.prototype.kw=function(){this.Hz=null;this.gy=-1;this.rL=!1};return a}(),g=function(){function a(){this.Es=0;this.Pj=[]}a.prototype.pP=function(a){this.Es+=a.gy;this.Pj.push(a)};a.prototype.LW=function(){this.Es-=this.Pj[this.Pj.length-1].gy;--this.Pj.length};a.prototype.Ty=function(){return this.Pj[this.Pj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,
d){this.Ca=-1;this.Pc=!1;this.QI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.SA=!1;this.bl=-1;this.Yq=0;this.Ro=-1;this.rp=[];this.ie=a;this.Rg=b;this.lc=d}a.tc=function(a){var c=[],b;for(b in a)c.push(Number(b));c.sort(function(a,c){return a-c});return c};a.prototype.sH=function(c){var b=this.rp[c],e=a.tc(b)[0],m=b[e],g=m.Ty().Hz,m=m.Ty().rL;delete b[e];m&&(g=d.Km.local().V(g,this.Rg,!1,this.lc),0==c&&33==g.G()&&(c=new d.Ed(g.description),g.u()||c.add(g),g=c));return g};a.prototype.next=function(){if(this.Pc&&
this.Ro==this.bl)return null;for(;!this.cL(););if(-1==this.bl)return null;if(this.SA){for(this.Ro++;;){if(this.Ro>this.bl||0>this.Ro)throw d.g.za();if(this.QI[this.Ro])break}this.Ca++;return this.sH(this.Ro)}this.Ca=0;this.Ro=this.bl;return this.sH(this.bl)};a.prototype.Ia=function(){return this.Ca};a.prototype.cL=function(){if(this.Pc)return!0;var a=null;null!=this.ie&&(a=this.ie.next(),null==a&&(this.Pc=!0,this.ie=null));if(null!=a){var b=a.tb();this.QI[b]=!0;b>=this.bl&&!this.SA&&(this.cF(b,!1,
a),b>this.bl&&!this.SA&&this.wX(b))}if(0<this.Yq)for(b=0;b<=this.bl;b++)for(;1<this.jr[b];)if(a=this.IQ(b),0!=a.length)a=d.Dg.RR(a,this.Rg,this.lc),this.cF(b,!0,a);else break;return this.Pc};a.prototype.IQ=function(c){for(var b=[],d=[],e=this.rp[c],g=a.tc(e),h=0;h<g.length;h++){var l=g[h],n=e[l];if(this.Pc||1E4<n.Es&&1<n.Pj.length){this.jr[c]-=n.Pj.length;for(this.Yq-=n.Pj.length;0<n.Pj.length;)b.push(n.Ty().Hz),n.LW();d.push(l)}}for(h=0;h<d.length;h++)delete e[d[h]];return b};a.prototype.wX=function(a){for(var c=
0;c<a;c++)this.rp[c]=[],this.Yq-=this.jr[c],this.jr[c]=0};a.prototype.cF=function(c,b,d){var f=new e;f.kw();f.Hz=d;d=a.Mg(d);f.gy=d;d=a.We(d);if(c+1>this.rp.length)for(var k=0,h=Math.max(2,c+1);k<h;k++)this.rp.push([]);k=this.rp[c][d];void 0===k&&(k=new g,this.rp[c][d]=k);f.rL=b;k.pP(f);this.jr[c]++;this.Yq++;this.bl=Math.max(this.bl,c)};a.We=function(a){return 0<a?d.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.Mg=function(a){var c=a.G();if(d.T.gh(c))return a.D();if(33==c)return 1;if(197==c)return 4;
if(d.T.Oc(c))return 2;throw d.g.za();};a.prototype.Re=function(){return this.cL()};return a}();d.tN=b})(n||(n={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}K(b,e);b.prototype.G=function(){return 1};b.prototype.V=function(a,c,b,e){return void 0===e?new d.tN(a,c,b):this.$R(a,c,b,e)};b.prototype.$R=function(a,c,b,e){a=new d.hd([a,c]);return this.V(a,b,e).next()};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.ei=e})(n||(n={}));(function(d){var e;
(function(d){d[d.nextPath=0]="nextPath";d[d.nextSegment=1]="nextSegment";d[d.iterate=2]="iterate"})(e||(e={}));e=function(){function e(b,a,c,f){this.Ot=new d.h;this.EV=b;this.FV=a;this.br=f;this.ip=-1;this.Vl=!1;var e=b.ob;null!=e&&(e=f?e.np:e.Mb,null!=e&&(this.Pc=!1,this.ta=c,this.Mb=e,this.lx=this.Mb.mf(),this.cr=this.Vl=!0,this.Zb=0,f?this.ip=a.aa():this.Cd=a.Fa()));this.Vl||(e=a.ob,null!=e&&(e=f?e.np:e.Mb,null!=e&&(this.Pc=!1,this.ta=c,this.Mb=e,this.lx=this.Mb.mf(),this.Vl=!0,this.cr=!1,this.Zb=
0,f?this.ip=b.aa():this.Cd=b.Fa())));this.Vl||(this.Ci=f?d.na.dT(b,a,c,1<=b.Lk(0),1<=a.Lk(0)):d.na.cT(b,a,c))}e.prototype.next=function(){if(this.Vl){if(this.Pc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.hW();break;case 1:b=this.iW();break;case 2:b=this.CA();break;default:throw d.g.X("internal error");}return this.Pc?!1:!0}return null==this.Ci?!1:this.Ci.next()};e.prototype.Ql=function(){return this.Vl?this.cr?this.Mb.ja(this.Bt):this.br?this.ip:this.Cd.Db():this.Ci.Ql(this.Ci.sg)};e.prototype.Ml=
function(){return this.Vl?this.cr?this.br?this.ip:this.Cd.Db():this.Mb.ja(this.Bt):this.Ci.Ml(this.Ci.bg)};e.prototype.eA=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Mb.RG(this.Bt):this.Ot:this.Ci.eA(this.Ci.sg)};e.prototype.Iz=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Ot:this.Mb.RG(this.Bt):this.Ci.Iz(this.Ci.bg)};e.prototype.hW=function(){if(!this.br){if(!this.Cd.Ya())return this.Pc=!0,!1;this.Zb=1;return!0}if(-1==--this.ip)return this.Pc=
!0,!1;this.cr?this.FV.jk(this.ip,this.Ot):this.EV.jk(this.ip,this.Ot);this.lx.Ni(this.Ot,this.ta);this.Zb=2;return!0};e.prototype.iW=function(){if(!this.Cd.Ea())return this.Zb=0,!0;var b=this.Cd.ba();this.lx.Wn(b,this.ta);this.Zb=2;return!0};e.prototype.CA=function(){this.Bt=this.lx.next();return-1==this.Bt?(this.Zb=this.br?0:1,!0):!1};return e}();d.Lm=e})(n||(n={}));(function(d){d=d.BN||(d.BN={});d[d.enumClosed=1]="enumClosed";d[d.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";d[d.enumOGCStartPolygon=
4]="enumOGCStartPolygon";d[d.enumCalcMask=4]="enumCalcMask"})(n||(n={}));(function(d){var e=function(){function e(){}e.Cb=function(b,a,c,f,k,m,g,h,l){var u=[0,0,0],n=[0,0,0],t=[0,0,0],A=[0,0,0,0],p=new d.ea(0),B=new d.ea(0),q=new d.ea(0);if(null!=g||null!=h||null!=l)if(d.l.Qi(a))d.vh.Cb(b,c,f,k,m,g,h,l);else{k=d.C.da(k);c=d.C.da(c);var r=d.C.da(k-c);if(d.l.W(f,m)&&(d.l.W(c,k)||d.l.W(d.l.K(f),1.570796326794897)))null!=g&&(g.j=0),null!=h&&(h.j=0),null!=l&&(l.j=0);else{if(d.l.W(f,-m)){if(d.l.W(d.l.K(f),
1.570796326794897)){null!=g&&(g.j=2*d.C.Yg(b,a));null!=h&&(h.j=0<f?d.C.da(3.141592653589793-d.C.da(k)):d.C.da(k));null!=l&&(l.j=0<f?d.C.da(k):d.C.da(3.141592653589793-d.C.da(k)));return}d.l.W(d.l.K(r),3.141592653589793)&&(null!=g&&(g.j=2*d.C.Yg(b,a)),null!=h&&(h.j=0),null!=l&&(l.j=0))}else{if(d.l.W(d.l.K(f),1.570796326794897)||d.l.W(d.l.K(m),1.570796326794897)){d.yl.Cb(b,a,c,f,k,m,g,h,l);return}if(d.l.W(c,k)||d.l.W(d.l.K(r),3.141592653589793)){d.yl.Cb(b,a,c,f,k,m,g,h,l);return}if(d.l.xd(f)){d.yl.Cb(b,
a,c,f,k,m,g,h,l);return}}var v=Math.sqrt(1-a);k=d.C.da(k-c);c=0;d.C.Dk(1,a,f,c,0,p,B,q);u[0]=p.j;u[1]=B.j;u[2]=q.j;d.C.Dk(1,a,m,k,0,p,B,q);n[0]=p.j;n[1]=B.j;n[2]=q.j;t[0]=0;t[1]=0;t[2]=-1*a*d.C.n(1,a,f)*Math.sin(f);0>k?d.C.Or(t,n,u,A,0):d.C.Or(t,u,n,A,0);for(var B=[0,0,0],q=[0,0,0],x=[0,0,0],u=[0,0,0],p=[0,0,0],w=Math.acos(A[2]/1),y=1-a,G=Math.tan(w),z=1+G*G/y,C=2*t[2]*G/y,G=Math.sqrt(C*C-4*z*(t[2]*t[2]/y-1)),z=2*z,y=(-C+G)/z,C=(-C-G)/z,G=Math.tan(w),z=G*y+t[2],w=(y+C)/2,t=(z+(G*C+t[2]))/2,G=d.C.Sp(y-
w,z-t),y=t/v*1.570796326794897,C=0;100>C;C++){z=d.C.Cm(a,y);z=z*z/Math.cos(y)*(Math.sin(y)-t*z/(1*(1-a)));if(d.l.xd(z))break;y-=z}var t=d.C.n(1,a,y)*Math.cos(y),t=Math.sqrt((t-w)*(t+w)),G=1-G/t,G=G*(2-G),z=d.C.eo(B),w=d.C.eo(q),y=d.C.eo(x),D=d.C.Eu(x,B),C=d.C.Eu(x,q);d.C.fy(x,B,u);d.C.fy(x,q,p);B=Math.acos(D/(y*z));q=Math.acos(C/(y*w));q*=d.l.Ab(1,d.C.Eu(u,p));if(1.570796326794897<=d.l.K(B)&&1.570796326794897<=d.l.K(q)||3.141592653589793<d.l.K(B-q))B=(3.141592653589793-d.l.K(B))*d.l.Ab(1,B),q=(3.141592653589793-
d.l.K(q))*d.l.Ab(1,q);u=d.C.ik(G,q);p=d.C.q(t,G,d.C.ik(G,B));u=d.C.q(t,G,u);u=d.l.K(u-p)*b;B=new d.ea(0);q=new d.ea(0);x=A[1]/1;x*=-d.l.Ab(1,r);p=Math.acos(x)*d.l.Ab(1,r);e.Uf(b,a,c,f,u,p,B,q);d.l.W(k,B.j)&&d.l.W(m,q.j)||(G=d.C.Sp(d.C.da(k-B.j),m-q.j),e.Uf(b,a,c,f,u,d.C.da(p+3.141592653589793),B,q),z=d.C.Sp(d.C.da(k-B.j),m-q.j),z<G&&(p=d.C.da(p+3.141592653589793)));B=[0,0,0,0];q=[0,0,0,0];t=[0,0,0];G=[0,0,0];b=[0,0,0];c=[0,0,0];f=[0,0,0];x=[0,0,0];t[0]=0;t[1]=0;t[2]=v;G[0]=0;G[1]=0;G[2]=0;d.C.Or(G,
t,n,B,0);d.l.xd(m)?(b[0]=n[0],b[1]=n[1],b[2]=1,c[0]=1*Math.cos(k)-1*Math.sin(k),c[1]=1*Math.sin(k)+1*Math.cos(k)):(a=d.C.n(1,a,m)*Math.cos(m),b[0]=0,b[1]=0,n[2]+=Math.tan(1.570796326794897-d.l.K(m))*a*d.l.Ab(1,m),c[0]=a*Math.cos(k)-a*Math.sin(k),c[1]=a*Math.sin(k)+a*Math.cos(k));c[2]=n[2];d.C.Or(n,c,b,q,1);d.C.fy(q,B,f);d.C.fy(q,A,x);x=d.C.Eu(f,x)/(d.C.eo(f)*d.C.eo(x));x*=d.l.Ab(1,r);k=Math.acos(x)*-d.l.Ab(1,r);0<p&&0<k?k=d.C.da(k+3.141592653589793):0>p&&0>k&&(k=d.C.da(k+3.141592653589793));null!=
g&&(g.j=u);null!=h&&(h.j=p);null!=l&&(l.j=k)}}};e.Uf=function(b,a,c,f,e,m,g,h){var k=[0,0,0],u=[0,0,0],l=[0,0,0],n=[0,0,0],t=[0,0,0],A=[0,0,0],p=[0,0,0],q=[0,0,0,0],r=new d.ea(0),v=new d.ea(0),x=new d.ea(0),y=new d.ea(0),w=new d.ea(0),G=new d.ea(0);if(null!=g&&null!=h)if(d.l.Qi(a))d.vh.Uf(b,c,f,e,m,g,h);else if(d.l.xd(e))null!=g&&(g.j=c),null!=h&&(h.j=f);else if(m=d.C.da(m),0>e&&(e=d.l.K(e),m=d.C.da(m+3.141592653589793)),c=d.C.da(c),f=d.C.da(f),1.570796326794897<d.l.K(f)&&(c=d.C.da(c+3.141592653589793),
f=d.l.Ab(3.141592653589793,f)-f),d.l.W(d.l.K(f),1.570796326794897)||d.l.xd(f)||d.l.xd(m)||d.l.W(d.l.K(m),3.141592653589793))d.yl.Uf(b,a,c,f,e,m,g,h);else{var z=Math.sqrt(1-a);b=e/b;d.C.Dk(1,a,f,0,0,y,w,G);k[0]=y.j;k[1]=w.j;k[2]=w.j;p[0]=0;p[1]=0;p[2]=-1*a*d.C.n(1,a,f)*Math.sin(f);y=d.C.n(1,a,f);w=d.C.da(1.570796326794897-m);G=Math.sin(w);e=Math.cos(f);f=Math.sin(f);t[0]=y*e-f*G;t[1]=Math.cos(w);t[2]=(1-a)*y*f+e*G;0>m?d.C.Or(p,t,k,q,0):d.C.Or(p,k,t,q,0);k=Math.acos(q[2]/1);q=Math.atan2(-q[1],-q[0]);
f=1-a;t=Math.tan(k);w=1+t*t/f;y=2*p[2]*t/f;t=Math.sqrt(y*y-4*w*(p[2]*p[2]/f-1));w*=2;f=(-y+t)/w;y=(-y-t)/w;t=Math.tan(k);w=t*f+p[2];k=(f+y)/2;p=(w+(t*y+p[2]))/2;t=d.C.Sp(f-k,w-p);z=p/z*1.570796326794897;for(f=0;100>f;f++){y=d.C.Cm(a,z);y=y*y/Math.cos(z)*(Math.sin(z)-p*y/(1*(1-a)));if(d.l.xd(y))break;z-=y}z=d.C.n(1,a,z)*Math.cos(z);z=Math.sqrt((z-k)*(z+k));p=1-t/z;p*=2-p;A=Math.acos(d.C.Eu(A,u)/(d.C.eo(A)*d.C.eo(u)));A*=d.l.Ab(1,u[0]);m=(d.C.q(z,p,d.C.ik(p,A))+b*d.l.Ab(1,m))/d.C.Yg(z,p);m=d.C.da(1.570796326794897*
m);m=d.C.xp(p,m);d.C.n(z,p,m);t=d.C.da(q+c);c=Math.cos(t);m=Math.sin(t);l[0]=n[0]*c+n[1]*-m;l[1]=n[0]*m+n[1]*c;l[2]=n[2];d.C.jQ(a,l[0],l[1],l[2],x,v,r);null!=g&&(g.j=v.j);null!=h&&(h.j=x.j)}};return e}();d.VD=e})(n||(n={}));(function(d){var e=function(){function a(a){this.ab=null;this.mu=new d.b;this.nu=new d.b;this.a=a}a.prototype.compare=function(a,c,b){this.a.Nc(c,this.mu);this.a.Nc(a.ja(b),this.nu);return this.mu.compare(this.nu)};return a}(),g=function(){function a(a){this.cg=new d.b;this.fl=
new d.b;this.a=a}a.prototype.Yh=function(a){this.cg.L(a)};a.prototype.compare=function(a,c){this.a.Nc(a.ja(c),this.fl);return this.cg.compare(this.fl)};return a}(),b=function(a){function c(c){a.call(this,c.a,c.ta,!1);this.bb=c}K(c,a);c.prototype.compare=function(a,c,b){if(this.Ng)return-1;var f=this.bb.he.yo(this.bb.ri(c));a=a.ja(b);var d=this.bb.he.yo(this.bb.ri(a));this.rn=b;return this.XF(c,f,a,d)};return c}(d.fE),a=function(a){function c(c){a.call(this,c.a,c.ta);this.bb=c}K(c,a);c.prototype.compare=
function(a,c){if(this.Ng)return-1;a=this.bb.he.yo(this.bb.ri(a.ja(c)));this.rn=c;return this.YF(c,a)};return c}(d.aO),c=function(){function c(){this.Tc=this.Hf=this.Xo=this.he=this.Gh=this.Od=this.ib=this.a=null;this.ih=!1;this.Th=this.An=this.Fe=this.hl=this.Ih=this.cl=this.gg=this.we=null;this.Vh=this.zr=this.AB=this.ta=0;this.Kw=this.Lo=!1;this.mp=new d.b;this.oj=new d.b;this.ib=new d.ad(8);this.Od=new d.ad(5);this.Gh=new d.Lu;this.he=new d.Lu;this.ih=!1;this.Th=new d.b;this.Th.ka(0,0);this.ta=
0;this.Vh=-1;this.Lo=!1;this.a=null;this.Hf=new d.uk;this.Tc=new d.uk;this.Ih=new d.ia(0);this.hl=new d.dE;this.gg=new d.ia(0);this.cl=new d.ia(0);this.Xo=new d.Wa}c.prototype.IY=function(a,c){var b=new d.Hd;b.xC();a.Xc(b);this.Yr(a);this.Lo=!1;this.ta=c;this.AB=c*c;c=this.GC();a.Xc(b);c||(this.lS(),c||this.GC());-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null;return this.Lo};c.prototype.MY=function(a,c){this.Yr(a);this.Lo=!1;this.ta=c;this.AB=c*c;this.ih=!1;this.GC();this.ih||(this.ih=1==
a.zq(c,!0,!1));-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null};c.prototype.Jg=function(a,c){return this.ib.S(a,0+c)};c.prototype.lC=function(a,c,b){this.ib.P(a,0+c,b)};c.prototype.ri=function(a){return this.ib.S(a,2)};c.prototype.UX=function(a,c){this.ib.P(a,2,c)};c.prototype.cH=function(a,c){return this.ib.S(a,3+c)};c.prototype.Jq=function(a){return this.ib.S(a,7)};c.prototype.um=function(a,c){this.ib.P(a,7,c)};c.prototype.Kq=function(a,c){return this.ib.S(a,3+this.Iq(a,c))};c.prototype.Zr=
function(a,c,b){this.ib.P(a,3+this.Iq(a,c),b)};c.prototype.GT=function(a,c){return this.ib.S(a,5+this.Iq(a,c))};c.prototype.as=function(a,c,b){this.ib.P(a,5+this.Iq(a,c),b)};c.prototype.Ns=function(a){return this.Od.S(a,0)};c.prototype.RX=function(a,c){this.Od.P(a,0,c)};c.prototype.Mz=function(a){return this.Od.S(a,4)};c.prototype.Vr=function(a,c){this.Od.P(a,4,c)};c.prototype.Nl=function(a){return this.Od.S(a,1)};c.prototype.ao=function(a,c){this.Od.P(a,1,c)};c.prototype.Lz=function(a){return this.Od.S(a,
3)};c.prototype.tu=function(a,c){this.Od.P(a,3,c)};c.prototype.Mn=function(a){var c=this.Od.Pe(),b=this.Gh.mi();this.RX(c,b);-1!=a?(this.Gh.addElement(b,a),this.a.Va(a,this.Vh,c),this.Vr(c,this.a.Za(a))):this.Vr(c,-1);return c};c.prototype.DR=function(a){this.Od.kd(a)};c.prototype.aF=function(a,c){this.Gh.addElement(this.Ns(a),c);this.a.Va(c,this.Vh,a)};c.prototype.cu=function(a){var c=this.ib.Pe(),b=this.he.mi();this.UX(c,b);-1!=a&&this.he.addElement(b,a);return c};c.prototype.bF=function(a,c){this.he.addElement(this.ri(a),
c)};c.prototype.Jv=function(a){this.ib.kd(a);a=this.Ih.Ov(a);0<=a&&this.Ih.HJ(a)};c.prototype.Jj=function(a,c){if(-1==this.Jg(a,0))this.lC(a,0,c);else if(-1==this.Jg(a,1))this.lC(a,1,c);else throw d.g.za();this.Ry(a,c)};c.prototype.Ry=function(a,c){var b=this.Nl(c);if(-1!=b){var f=this.Kq(b,c);this.as(f,c,a);this.Zr(a,c,f);this.Zr(b,c,a);this.as(a,c,b)}else this.as(a,c,a),this.Zr(a,c,a),this.ao(c,a)};c.prototype.Iq=function(a,c){return this.Jg(a,0)==c?0:1};c.prototype.Ln=function(a,c){var b=this.Lz(c);
-1!=b&&(this.Hf.Kd(b,-1),this.tu(c,-1));var f,b=this.Nl(c);if(-1!=b){var d=f=b,e;do{e=!1;var k=this.Iq(f,c),m=this.cH(f,k);if(this.Jg(f,k+1&1)==a){this.Kv(f);this.he.zh(this.ri(f));this.Jv(f);if(f==m){b=-1;break}b==f&&(b=this.Nl(c),d=m,e=!0)}f=m}while(f!=d||e);if(-1!=b){do k=this.Iq(f,c),m=this.cH(f,k),this.lC(f,k,a),f=m;while(f!=d);f=this.Nl(a);-1!=f?(d=this.Kq(f,a),e=this.Kq(b,a),d==f?(this.ao(a,b),this.Ry(f,a),this.ao(a,f)):e==b&&this.Ry(b,a),this.Zr(b,a,d),this.as(d,a,b),this.Zr(f,a,e),this.as(e,
a,f)):this.ao(a,b)}}b=this.Ns(a);f=this.Ns(c);for(d=this.Gh.xc(f);-1!=d;d=this.Gh.nb(d))this.a.Va(this.Gh.ja(d),this.Vh,a);this.Gh.mz(b,f);this.DR(c)};c.prototype.TV=function(a,c){var b=this.Jg(a,0),f=this.Jg(a,1),d=this.Jg(c,0),e=this.Jg(c,1);this.he.mz(this.ri(a),this.ri(c));c==this.Nl(b)&&this.ao(b,a);c==this.Nl(f)&&this.ao(f,a);this.Kv(c);this.Jv(c);b==d&&f==e||f==d&&b==e||(this.wo(b,this.mp),this.wo(d,this.oj),this.mp.ub(this.oj)?(b!=d&&this.Ln(b,d),f!=e&&this.Ln(f,e)):(f!=d&&this.Ln(f,d),b!=
e&&this.Ln(b,e)))};c.prototype.Kv=function(a){var c=this.Jg(a,1);this.lG(a,this.Jg(a,0));this.lG(a,c)};c.prototype.lG=function(a,c){var b=this.Kq(a,c),f=this.GT(a,c),d=this.Nl(c);b!=a?(this.Zr(f,c,b),this.as(b,c,f),d==a&&this.ao(c,b)):this.ao(c,-1)};c.prototype.iF=function(a,c,b){var f=this.he.xc(a),d=this.he.ja(f);a=this.jf(d);var e=this.jf(this.a.U(d));this.a.bs(d,c,b,!0);for(f=this.he.nb(f);-1!=f;f=this.he.nb(f)){var d=this.he.ja(f),k=this.jf(d)==a;this.a.bs(d,c,b,k)}f=c.Mq(b,0).ec();c=c.Mq(b,
c.Rl(b)-1).Cc();this.sL(a,f);this.sL(e,c)};c.prototype.eG=function(a,c,b){var f=this.ri(a),d=this.Jg(a,0),e=this.Jg(a,1),k=this.cu(-1);this.Ih.add(k);this.um(k,-3);this.gg.add(k);this.Jj(k,d);a=1;for(c=c.Rl(b);a<c;a++)b=this.Mn(-1),this.cl.add(b),this.gg.add(b),this.Jj(k,b),k=this.cu(-1),this.Ih.add(k),this.um(k,-3),this.gg.add(k),this.Jj(k,b);this.Jj(k,e);for(f=this.he.xc(f);-1!=f;f=this.he.nb(f))if(e=this.he.ja(f),this.jf(e)==d){a=0;do 0<a&&(k=this.gg.get(a-1),this.aF(k,e),-1==this.Mz(k)&&this.Vr(k,
this.a.Za(e))),k=this.gg.get(a),a+=2,this.bF(k,e),e=this.a.U(e);while(a<this.gg.size)}else{a=this.gg.size-1;do a<this.gg.size-2&&(k=this.gg.get(a+1),this.aF(k,e),0>this.Mz(k)&&this.Vr(k,this.a.Za(e))),k=this.gg.get(a),a-=2,this.bF(k,e),e=this.a.U(e);while(0<=a)}this.gg.clear(!1)};c.prototype.jf=function(a){return this.a.Sa(a,this.Vh)};c.prototype.LJ=function(a,c,b){var f=this.Jg(c,0),e=new d.b;this.wo(f,e);var k=new d.b,m=this.Jg(c,1);this.wo(m,k);var g=b.Rl(a),u=b.Mq(a,0),h=new d.b;u.Oq(h);if(!e.ub(h)){if(!this.ih){var l=
e.compare(this.Th),h=h.compare(this.Th);0>l*h&&(this.ih=!0)}this.HG(f,this.gg);this.cl.add(f)}!this.ih&&1<g&&(l=e.compare(k),u=u.Cc(),e.compare(u)!=l||u.compare(k)!=l?this.ih=!0:0>u.compare(this.Th)&&(this.ih=!0));u=b.Mq(a,g-1);a=u.Cc();k.ub(a)||(this.ih||(l=k.compare(this.Th),h=a.compare(this.Th),0>l*h&&(this.ih=!0)),this.HG(m,this.gg),this.cl.add(m));this.gg.add(c);k=0;for(m=this.gg.size;k<m;k++)a=this.gg.get(k),b=this.Jq(a),d.ad.BA(b)&&(this.Tc.Kd(b,-1),this.um(a,-1)),a!=c&&-3!=this.Jq(a)&&(this.Ih.add(a),
this.um(a,-3));this.gg.clear(!1)};c.prototype.oQ=function(a,c){this.we.compare(this.Tc,this.Tc.ja(a),c);this.we.Ng&&(this.we.Gs(),this.yG(a,c))};c.prototype.yG=function(a,c){this.Lo=!0;a=this.Tc.ja(a);c=this.Tc.ja(c);var b,f;f=this.he.yo(this.ri(a));var e=this.he.yo(this.ri(c));b=this.a.ic(f);null==b&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.pd(f,this.Fe),b=this.Fe);f=this.a.ic(e);null==f&&(null==this.An&&(this.An=new d.Hb),this.a.pd(e,this.An),f=this.An);this.hl.Ap(b);this.hl.Ap(f);this.hl.Ma(this.ta,
!0)&&(this.ih=!0);this.YK(a,c,-1,this.hl);this.hl.clear()};c.prototype.xS=function(a,c){this.Lo=!0;c=this.Tc.ja(c);var b,f=this.he.yo(this.ri(c));b=this.a.ic(f);null==b&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.pd(f,this.Fe),b=this.Fe);f=this.NG(a);this.hl.Ap(b);this.a.wj(f,this.Xo);this.hl.sA(this.ta,this.Xo,!0);this.YK(c,-1,a,this.hl);this.hl.clear()};c.prototype.sU=function(){if(0!=this.Ih.size)for(;0!=this.Ih.size;){if(this.Ih.size>Math.max(100,this.a.vd)){this.Ih.clear(!1);this.ih=!0;break}var a=
this.Ih.Fc();this.Ih.Pf();this.um(a,-1);-1!=this.PU(a)&&this.rU(a);this.Ko=!1}};c.prototype.rU=function(a){var c;this.Ko?(c=this.Tc.jv(this.$I,this.WI,a,!0),this.Ko=!1):c=this.Tc.$E(a);-1==c?this.TV(this.Tc.ja(this.Tc.QG()),a):(this.um(a,c),this.we.Ng&&(this.we.Gs(),this.yG(this.we.rn,c)))};c.prototype.PU=function(a){var c=this.Jg(a,0);a=this.Jg(a,1);this.wo(c,this.mp);this.wo(a,this.oj);if(d.b.sc(this.mp,this.oj)<=this.AB)return this.ih=!0,-1;var b=this.mp.compare(this.Th),f=this.oj.compare(this.Th);
return 0>=b&&0<f?a:0>=f&&0<b?c:-1};c.prototype.jS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var c=this.a.Qr(),b=c.next();-1!=b;b=c.next())-1!=this.a.Sa(b,this.Vh)&&a.add(b);this.a.Xx(a,a.size);this.kS(a)};c.prototype.kS=function(a){this.Hf.clear();this.Hf.Qe(a.size);this.Hf.Ep(new e(this.a));var c=new d.b;c.$c();for(var b=-1,f=new d.b,k=0,g=a.size;k<g;k++){var h=a.get(k);this.a.Nc(h,f);f.ub(c)?(h=this.a.Sa(h,this.Vh),this.Ln(b,h)):(b=this.jf(h),this.a.Nc(h,c),h=this.Hf.ro(h),this.tu(b,h))}};
c.prototype.lS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var c=this.Hf.xc(-1);-1!=c;c=this.Hf.nb(c))a.add(this.Hf.ja(c));this.Hf.clear();this.a.Xx(a,a.size);for(var c=0,b=a.size;c<b;c++){var f=a.get(c),e=this.jf(f),f=this.Hf.ro(f);this.tu(e,f)}};c.prototype.HG=function(a,c){var b=this.Nl(a);if(-1!=b){var f=b;do d.ad.BA(this.Jq(f))&&c.add(f),f=this.Kq(f,a);while(f!=b)}};c.prototype.sL=function(a,c){for(a=this.Gh.xc(this.Ns(a));-1!=a;a=this.Gh.nb(a))this.a.Qf(this.Gh.ja(a),c)};c.prototype.YK=
function(a,c,b,f){this.Kv(a);-1!=c&&this.Kv(c);this.LJ(0,a,f);-1!=c&&this.LJ(1,c,f);-1!=b&&(f.cg.w(this.mp),this.wo(b,this.oj),this.oj.ub(this.mp)||this.cl.add(b));b=0;for(var d=this.cl.size;b<d;b++){var e=this.cl.get(b),k=this.Lz(e);-1!=k&&(this.Hf.Kd(k,-1),this.tu(e,-1))}b=this.ri(a);d=-1!=c?this.ri(c):-1;this.iF(b,f,0);-1!=c&&this.iF(d,f,1);this.eG(a,f,0);-1!=c&&this.eG(c,f,1);this.he.zh(b);this.Jv(a);-1!=c&&(this.he.zh(d),this.Jv(c));b=0;for(d=this.cl.size;b<d;b++)e=this.cl.get(b),e==this.zr&&
(this.Kw=!0),k=this.Lz(e),-1==k&&(k=this.Hf.$E(this.NG(e)),-1==k?(a=this.jf(this.Hf.ja(this.Hf.QG())),this.Ln(a,e)):this.tu(e,k));this.cl.clear(!1)};c.prototype.wo=function(a,c){this.a.pH(this.Mz(a),c)};c.prototype.NG=function(a){return this.Gh.yo(this.Ns(a))};c.prototype.GC=function(){this.Kw=!1;this.zr=-1;null==this.we&&(this.Tc.Dw=!1,this.we=new b(this),this.Tc.Oo=this.we);var c=new d.ia(0),f=null,e=null,h=0;this.WI=this.$I=-1;this.Ko=!1;for(var l=this.Hf.xc(-1);-1!=l;){h++;this.Ko=!1;var n=this.Hf.ja(l);
this.zr=this.jf(n);this.a.Nc(n,this.Th);this.we.QK(this.Th.y,this.Th.x);var t,p=this.Nl(this.zr);t=-1==p;if(!t){n=p;do{var q=this.Jq(n);-1==q?(this.Ih.add(n),this.um(n,-3)):-3!=q&&c.add(q);n=this.Kq(n,this.zr)}while(n!=p)}if(0<c.size){this.Ko=1==c.size&&1==this.Ih.size;t=0;for(p=c.size;t<p;t++)n=this.Tc.ja(c.get(t)),this.um(n,-2);var r=-2,v=-2;t=0;for(p=c.size;t<p;t++){q=c.get(t);if(-2==r){var x=this.Tc.Ve(q);-1!=x?(n=this.Tc.ja(x),n=this.Jq(n),-2!=n&&(r=x)):r=-1}-2==v&&(q=this.Tc.nb(q),-1!=q?(n=
this.Tc.ja(q),n=this.Jq(n),-2!=n&&(v=q)):v=-1);if(-2!=r&&-2!=v)break}t=0;for(p=c.size;t<p;t++)q=c.get(t),n=this.Tc.ja(q),this.Tc.Kd(q,-1),this.um(n,-1);c.clear(!1);this.$I=-1!=r?r:-1;this.WI=-1!=v?v:-1;-1!=r&&-1!=v?this.Ko||this.oQ(r,v):-1==r&&-1==v&&(this.Ko=!1)}else t&&(null==f&&(f=new a(this)),f.Yh(this.Th),this.Tc.lK(f),f.Ng&&(f.Gs(),this.xS(this.zr,f.rn)));this.sU();this.Kw?(this.Kw=!1,null==e&&(e=new g(this.a)),e.Yh(this.Th),l=this.Hf.lK(e)):l=this.Hf.nb(l)}return this.Lo};c.prototype.Yr=function(a){this.a=
a;this.Vh=this.a.Vd();this.ib.Qe(a.vd+32);this.Od.Qe(a.vd);this.Gh.pu(a.vd);this.Gh.Vn(a.vd);this.he.pu(a.vd+32);this.he.Vn(a.vd+32);for(a=this.a.sd;-1!=a;a=this.a.Ue(a))if(d.T.Ic(this.a.hc(a)))for(h=this.a.Pb(a);-1!=h;h=this.a.Sb(h)){var c=this.a.La(h),b=this.a.cb(h),f=this.Mn(b),e=this.cu(b);this.Jj(e,f);l=this.a.U(b);b=0;for(c-=2;b<c;b++){var k=this.a.U(l),g=this.Mn(l);this.Jj(e,g);e=this.cu(l);this.Jj(e,g);l=k}this.a.Qb(h)?(g=this.Mn(l),this.Jj(e,g),e=this.cu(l),this.Jj(e,g),this.Jj(e,f)):(g=
this.Mn(l),this.Jj(e,g))}else for(var h=this.a.Pb(a);-1!=h;h=this.a.Sb(h))for(var l=this.a.cb(h),f=0,c=this.a.La(h);f<c;f++)this.Mn(l),l=this.a.U(l);this.jS()};return c}();d.WD=c})(n||(n={}));(function(d){var e=function(e){function b(a,c,f){e.call(this);if(void 0!==a)if(void 0!==f){this.description=d.ye.Ig();var k=new d.qd;k.I(a,c,f);this.BC(k)}else if(void 0!==c)this.description=d.ye.Ig(),this.rb(a,c);else if(a instanceof d.ma)this.description=a;else if(a instanceof d.b)this.description=d.ye.Ig(),
this.rb(a);else if(a instanceof b)this.description=a.description,this.rb(a.Be(),a.nf()),null!==a.la&&(this.la=a.la.slice(0));else throw d.g.F();else this.description=d.ye.Ig()}K(b,e);b.prototype.w=function(a){if(void 0!==a){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a.ka(this.la[0],this.la[1])}else{if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a=new d.b;a.ka(this.la[0],this.la[1]);return a}};b.prototype.rb=function(a,
c){"number"===typeof a?(this.Bc(),null==this.la&&this.nq(),this.la[0]=a,this.la[1]=c):(this.Bc(),this.rb(a.x,a.y))};b.prototype.lA=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");var a=new d.qd;a.x=this.la[0];a.y=this.la[1];this.description.uH()?a.z=this.la[2]:a.z=d.ma.de(1);return a};b.prototype.BC=function(a){this.Bc();var c=this.hasAttribute(1);c||d.ma.PH(1,a.z)||(this.Ud(1),c=!0);null==this.la&&this.nq();this.la[0]=a.x;this.la[1]=a.y;c&&(this.la[2]=
a.z)};b.prototype.Be=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[0]};b.prototype.AC=function(a){this.setAttribute(0,0,a)};b.prototype.nf=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[1]};b.prototype.RK=function(a){this.setAttribute(0,1,a)};b.prototype.rH=function(){return this.Yc(1,0)};b.prototype.rY=function(a){this.setAttribute(1,0,a)};b.prototype.aH=function(){return this.Yc(2,
0)};b.prototype.bY=function(a){this.setAttribute(2,0,a)};b.prototype.yc=function(){return this.KG(3,0)};b.prototype.BK=function(a){this.setAttribute(3,0,a)};b.prototype.Yc=function(a,c){var b=this.description.mg(a);return 0<=b?this.la[this.description.xk(b)+c]:d.ma.de(a)};b.prototype.KG=function(a,c){var b=this.description.mg(a);return 0<=b?this.la[this.description.xk(b)+c]:d.ma.de(a)};b.prototype.setAttribute=function(a,c,b){this.Bc();var f=this.description.mg(a);0>f&&(this.Ud(a),f=this.description.mg(a));
null==this.la&&this.nq();this.la[this.description.xk(f)+c]=b};b.prototype.G=function(){return 33};b.prototype.tb=function(){return 0};b.prototype.Oa=function(){this.Bc();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};b.prototype.mo=function(a){if(null!=this.la){for(var c=d.ye.vx(a,this.description),b=[],e=0,m=0,g=a.Ga;m<g;m++){var h=a.rd(m),l=d.ma.Xa(h);if(-1==c[m])for(var n=d.ma.de(h),h=0;h<l;h++)b[e]=n,e++;else for(n=this.description.xk(c[m]),h=0;h<l;h++)b[e]=this.la[n],e++,n++}this.la=b}this.description=
a};b.prototype.nq=function(){this.bK(this.description.af.length);b.Bb(this.description.af,this.la,this.description.af.length);this.la[0]=NaN;this.la[1]=NaN};b.prototype.Xc=function(a){if(a instanceof d.Hd){if(!this.Hc()){var c=this.w();a.$h(c,c);this.rb(c)}}else this.Hc()||(this.Ud(1),c=this.lA(),this.BC(a.Rp(c)))};b.prototype.copyTo=function(a){if(33!=a.G())throw d.g.F();a.Bc();null==this.la?(a.Oa(),a.la=null,a.Fg(this.description)):(a.Fg(this.description),a.bK(this.description.af.length),b.Bb(this.la,
a.la,this.description.af.length))};b.prototype.Ka=function(){return new b(this.description)};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};b.prototype.Qn=function(a){a.Oa();this.description!=a.description&&a.Fg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Hc()?a.Oa():(a.o=this.la[0],a.A=this.la[1],a.v=this.la[0],a.B=this.la[1])};b.prototype.Cp=function(a){if(this.Hc())a.Oa();else{var c=this.lA();a.o=
c.x;a.A=c.y;a.Bf=c.z;a.v=c.x;a.B=c.y;a.$g=c.z}};b.prototype.xf=function(a,c){var b=new d.Ac;if(this.Hc())return b.Oa(),b;a=this.Yc(a,c);b.ca=a;b.ha=a;return b};b.prototype.bK=function(a){if(null==this.la)this.la=d.J.gf(a);else if(this.la.length<a){for(var c=this.la.slice(0),b=this.la.length;b<a;b++)c[b]=0;this.la=c}};b.Bb=function(a,c,b){if(0<b)for(b=0;b<a.length;b++)c[b]=a[b]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Hc())return a.Hc()?
!0:!1;for(var c=0,f=this.description.af.length;c<f;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=0,b=this.description.af.length;c<b;c++)var e=this.la[c],e=d.J.truncate(e^e>>>32),a=d.J.dh(e,a);return a};b.prototype.Gg=function(){return null};return b}(d.T);d.Wa=e})(n||(n={}));(function(d){var e=function(){function d(b,a,c){void 0!==b&&(this.x=b,this.y=a,this.z=c)}d.pa=function(b,a,c){var f=new d;f.x=b;f.y=a;f.z=c;return f};
d.prototype.I=function(b,a,c){this.x=b;this.y=a;this.z=c};d.prototype.Vx=function(){this.z=this.y=this.x=0};d.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};d.prototype.sub=function(b){return new d(this.x-b.x,this.y-b.y,this.z-b.z)};d.prototype.Vg=function(b){return new d(this.x*b,this.y*b,this.z*b)};d.prototype.dv=function(){this.x=NaN};d.prototype.Hy=function(){return isNaN(this.x)};
d.prototype.oi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return d}();d.qd=e})(n||(n={}));(function(d){var e=function(){function e(b,a,c){this.tx=this.dx=null;this.tg=a;this.DV=a.y-c;this.CV=a.y+c;this.Ir=0;this.MA=b;this.ta=c;this.PV=c*c;this.NA=0!=c;this.yw=!1}e.prototype.result=function(){return 0!=this.Ir?1:0};e.prototype.XO=function(b){b=b.gc(b.pe(this.tg,!1));return d.b.sc(b,this.tg)<=this.PV?!0:!1};e.prototype.oG=function(b){if(!this.NA&&(this.MA&&this.tg.ub(b.ec())||this.tg.ub(b.Cc())))this.yw=
!0;else if(b.ra==this.tg.y&&b.ra==b.oa){if(this.MA&&!this.NA){var a=Math.max(b.ua,b.sa);this.tg.x>Math.min(b.ua,b.sa)&&this.tg.x<a&&(this.yw=!0)}}else{var c=!1,a=Math.max(b.ua,b.sa);this.tg.x>a?c=!0:this.tg.x>=Math.min(b.ua,b.sa)&&(c=0<b.Tq(!0,this.tg.y,this.tx,null)&&this.tx[0]<=this.tg.x);if(c){if(this.tg.y==b.ec().y){if(this.tg.y<b.Cc().y)return}else if(this.tg.y==b.Cc().y&&this.tg.y<b.ec().y)return;this.Ir=this.MA?this.Ir^1:this.Ir+(b.ec().y>b.Cc().y?1:-1)}}};e.prototype.ku=function(b){var a=
b.xf(0,1);if(a.ca>this.CV||a.ha<this.DV)return!1;if(this.NA&&this.XO(b))return!0;if(a.ca>this.tg.y||a.ha<this.tg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.qH(this.dx);if(0<a)for(b=0;b<a;b++){var c=this.dx[b].get();this.oG(c);if(this.yw)return!0}else if(this.oG(b),this.yw)return!0;return!1};e.$=function(b,a,c){a=new e(0==b.xo(),a,c);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(c=b.ba(),a.ku(c))return-1;return a.result()};e.bd=function(b,a,c,f){var k=
new d.h;b.ac(k);k.O(f,f);var m=new e(0==b.xo(),c,f);b=b.Fa();var g=new d.h;g.I(k);g.v=c.x+f;g.A=c.y-f;g.B=c.y+f;c=a.Xz(g,f);for(f=c.next();-1!=f;f=c.next())if(b.Tb(a.ja(f)),b.Ea()&&(f=b.ba(),m.ku(f)))return-1;return m.result()};e.kn=function(b,a,c){if(b.u())return 0;var f=new d.h;b.ac(f);f.O(c,c);if(!f.contains(a))return 0;f=b.ob;if(null!=f){var k=f.Hi;if(null!=k){k=k.rm(a.x,a.y);if(1==k)return 1;if(0==k)return 0}f=f.Mb;if(null!=f)return e.bd(b,f,a,c)}return e.$(b,a,c)};e.WU=function(b,a,c,f){if(b.u())return 0;
var k=new d.h;b.ac(k);k.O(f,f);if(!k.contains(a,c))return 0;k=b.ob;if(null!=k&&(k=k.Hi,null!=k)){k=k.rm(a,c);if(1==k)return 1;if(0==k)return 0}return e.$(b,d.b.pa(a,c),f)};e.VU=function(b,a,c){return a.u()?0:e.kn(b,a.w(),c)};e.yA=function(b,a,c,f,k){var m=new d.h;b.ac(m);m.O(f,f);if(!m.contains(c))return 0;var g=new e(!0,c,f);if(null!=k){var h=new d.h;h.I(m);h.v=c.x+f;h.A=c.y-f;h.B=c.y+f;b=b.Fa();f=k.Xz(h,f);for(h=f.next();-1!=h;h=f.next())if(b.Tb(k.ja(h),a),b.Ea()&&b.Ta==a&&(h=b.ba(),g.ku(h)))return-1}else if(b=
b.Fa(),b.eC(a),b.Ya())for(;b.Ea();)if(h=b.ba(),g.ku(h))return-1;return g.result()};e.xA=function(b,a,c){var f=new d.h;b.ac(f);f.O(c,c);if(!f.contains(a))return 0;a=new e(!1,a,c);for(c=b.Fa();c.Ya();)if(!(0>b.Sm(c.Ta))){for(a.Ir=0;c.Ea();)if(f=c.ba(),a.ku(f))return-1;if(0!=a.Ir)return 1}return a.result()};e.Oi=function(b,a,c,f,k){var m=b.Fa();m.eC(a);if(!m.Ya()||!m.Ea())throw d.g.X("corrupted geometry");for(a=2;2==a&&m.Ea();)a=m.ba().gc(.5),a=e.yA(b,c,a,f,k);if(2==a)throw d.g.X("internal error");return 1==
a?!0:!1};e.qm=function(b,a){b=b.D();return 16>b?!1:2*b+Math.log(b)/Math.log(2)*1*a<1*b*a};return e}();d.ff=e})(n||(n={}));(function(d){var e=function(d){function b(a){d.call(this,!0,a)}K(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.KH=function(a,c,b){this.EU(a,c,b)};b.prototype.gT=function(){this.yT()};return b}(d.xl);d.Ja=e})(n||(n={}));(function(d){(function(d){d[d.PiPOutside=0]="PiPOutside";
d[d.PiPInside=1]="PiPInside";d[d.PiPBoundary=2]="PiPBoundary"})(d.HN||(d.HN={}));var e=function(){function e(){}e.WH=function(b,a,c){b=d.ff.VU(b,a,c);return 0==b?0:1==b?1:2};e.ge=function(b,a,c){b=d.ff.kn(b,a,c);return 0==b?0:1==b?1:2};e.cX=function(b,a,c,f){b=d.ff.WU(b,a,c,f);return 0==b?0:1==b?1:2};e.m_=function(b,a,c,f){return 0==d.ff.yA(b,a,c,f,null)?0:1};e.xA=function(b,a,c){return 0==d.ff.xA(b,a,c)?0:1};e.MR=function(b,a,c,f,k){if(a.length<c||k.length<c)throw d.g.F();for(var m=0;m<c;m++)k[m]=
e.ge(b,a[m],f)};e.XR=function(b,a,c,f,k){if(a.length/2<c||k.length<c)throw d.g.F();for(var m=0;m<c;m++)k[m]=e.cX(b,a[2*m],a[2*m+1],f)};e.fL=function(b,a,c,f,k){if(1736==b.G())e.MR(b,a,c,f,k);else if(197==b.G()){var m=new d.h;b.s(m);e.NM(m,a,c,f,k)}else throw d.g.X("invalid_call");};e.v_=function(b,a,c,f,k){if(1736==b.G())e.XR(b,a,c,f,k);else if(197==b.G()){var m=new d.h;b.s(m);e.RM(m,a,c,f,k)}else throw d.g.Da();};e.NM=function(b,a,c,f,e){if(a.length<c||e.length<c)throw d.g.F();if(b.u())for(f=0;f<
c;f++)e[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<c;f++)b.contains(a[f])?e[f]=1:b.contains(a[f])?e[f]=2:e[f]=0};e.RM=function(b,a,c,f,e){if(a.length/2<c||e.length<c)throw d.g.F();if(b.u())for(f=0;f<c;f++)e[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<c;f++)b.contains(a[2*f],a[2*f+1])?e[f]=1:b.contains(a[2*f],a[2*f+1])?e[f]=2:e[f]=0};e.ZT=function(b,a,c,f,d){for(var e=0;e<c;e++)d[e]=b.mt(a[e],f)?2:0};e.iS=function(b,a,c,f,d){var e=b.ob,k=null;null!=e&&(k=e.Hi);for(var e=c,g=0;g<c;g++)if(d[g]=
1,null!=k){var h=a[g];0==k.rm(h.x,h.y)&&(d[g]=0,e--)}if(0!=e)for(b=b.Fa();b.Ya()&&0!=e;)for(;b.Ea()&&0!=e;)for(k=b.ba(),g=0;g<c&&0!=e;g++)1==d[g]&&k.mt(a[g],f)&&(d[g]=2,e--);for(g=0;g<c;g++)1==d[g]&&(d[g]=0)};e.gL=function(b,a,c,f,k){var m=b.G();if(1607==m)e.iS(b,a,c,f,k);else if(d.T.Oc(m))e.ZT(b,a,c,f,k);else throw d.g.X("Invalid call.");};return e}();d.gd=e})(n||(n={}));(function(d){var e=function(d){function b(a,c){2==arguments.length?(d.call(this,!1,a.description),this.Rf(a),this.lineTo(c)):d.call(this,
!1,a)}K(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.KH=function(a,c,b,d){this.FU(a,c,b,d)};return b}(d.xl);d.Ua=e})(n||(n={}));(function(d){var e=function(){function d(){}d.$_=function(){};return d}();d.d_=e})(n||(n={}));(function(d){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(d.eM||(d.eM={}));var e=function(){function a(){this.Jl=
3;this.uz=this.yv=NaN}a.prototype.bU=function(){return this.et(1)};a.prototype.cU=function(){return this.et(2)};a.prototype.et=function(a){return 0!=(this.Jl&a)};a.prototype.Vf=function(){var c=new a;c.yv=this.yv;c.uz=this.uz;c.Jl=this.Jl;return c};return a}();d.OZ=e;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(d.fM||(d.fM={}));var g=function(){function a(){this.Jl=0}a.prototype.et=function(a){return 0!=
(this.Jl&a)};a.oe=function(c){var b=new a;b.Jl=c.Jl;return b};a.prototype.EO=function(a){this.Jl=a.Jl};return a}();d.PZ=g;var b=function(){function a(a,b,e){this.je=a;this.He=b;this.rg=new d.h;this.rg.I(e);this.yV=a.jc()+b.jc()+this.rg.jc().toString()}a.prototype.jc=function(){return this.yV};a.prototype.Eb=function(a){return this==a||this.je.Eb(a.je)&&this.He.Eb(a.He)&&this.rg.Eb(a.rg)};return a}();d.e_=b;b=function(){function a(){this.He=this.je=null;this.DI=new e;this.EI=new g;this.xr=this.ue=
null;this.sr=this.Tl=!0}a.Is=function(c,b,d,e){var f;void 0===e&&(e=null);void 0===f&&(f=null);var k=new a;k.kq(c,b,d,e,f);return k};a.prototype.kq=function(a,b,e,m,g){if(null==a||null==b)throw d.g.X("invalidArgument");this.je=a;this.He=b;this.sr=this.Tl=!1;null!=m&&(this.DI=m.Vf());null!=g&&this.EI.EO(g);g=!1;1==b.Fb()&&null!=m&&(m=m.yv,isNaN(m)||0==m||(g=!0));if(a==b)this.Tl=!g,this.sr=!0;else{m=a.Fb();var c=b.Fb();if(0==m||0==c){if(null!=e)throw d.g.F();null!=a.Nd()&&null!=b.Nd()&&(this.Tl=a.Nd().Eb(b.Nd()))}else 3==
m||3==c?this.Tl=a.Eb(b):this.je.hU(this.He)?this.Tl=!g:this.Tl=!1,this.ue=e,null!=this.ue&&this.ue.Mp(),this.sr=(null==this.ue||0==this.ue.count())&&this.je.kc().Eb(this.He.kc())}this.wL()};a.prototype.Wv=function(){var c=new a;c.je=this.He;c.He=this.je;null!=this.ue&&(c.ue=this.ue.Wv());c.Tl=this.Tl;c.sr=this.sr;c.wL();return c};a.prototype.Ho=function(){return this.Tl};a.prototype.eT=function(){return this.DI.Vf()};a.prototype.Eb=function(c){return c==this?!0:c instanceof a&&this.je.Eb(c.je)&&this.He.Eb(c.He)?
this.ue==c.ue?!0:null!=this.ue&&null!=c.ue&&this.ue.Eb(c.ue)?!0:!1:!1};a.prototype.wL=function(){this.xr=new d.ko(this)};a.u_={};return a}();d.rs=b})(n||(n={}));(function(d){var e=function(){function b(){}b.uq=function(a){return a*b.oO};b.Wx=function(a,c){return b.UN(c-a)};b.bO=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=d.Ub.gM(a);0>a&&(a+=360);return a};b.UN=function(a){a=b.bO(a);180<a&&(a-=360);return a};b.QZ=.0174532925199433;b.oO=57.29577951308232;return b}();d.ls=e;
var g=function(){function b(){}b.Mj=function(a,c){var b=new d.h;a.s(b);var e=d.fb.Bh(c),m=new d.h;m.I(e);m.o=b.o;m.v=b.v;m.O(.01*m.fa(),0);e=d.na.be(c,b,!1);return m.contains(b)?a:d.ne.clip(a,m,e,0)};b.ht=function(a,c,f,e,m){if(!d.fb.Jc(c))throw d.g.F();var k=d.na.ah(c,a,!1),g=d.fb.Bh(c),h=d.fb.kc(c),l=h.Nd().Ai,n=d.fb.hw(h),h=d.fb.Sv(h),n=n*(2-n),t=new d.Ac;g.Sn(t);var p=[[0,0],[0,0]];2==d.Sd.Fb(c)?e?(p[0][0]=b.Nn(m,t),p[0][1]=g.Cq(),d.fb.lu(),g=p[0][0]*l):(p[0][0]=g.Hk(),p[0][1]=m,d.fb.lu(),g=p[0][1]*
l):g=m*l;if(!e&&0!=g)throw d.g.F();var q=new d.ea,r=new d.fd;a=r.Jb(a);for(var v=[0],x=new d.b,y=new d.b,w=new d.b,z=new d.b,G=new d.b,C=new d.b,D=r.Pb(a);-1!=D;D=r.Sb(D)){var J=r.cb(D);r.w(J,w);for(var E=!1,F=J=r.U(J);-1!=F;F=r.U(F)){if(F==J){if(E)break;E=!0}r.w(F,z);if(e&&k<m-w.x&&z.x-m>k||k<m-z.x&&w.x-m>k||!e&&k<-w.y&&z.y>k||k<-z.y&&w.y>k){do if(!(Math.abs(w.x-z.x)>=.5*t.N())){2==d.Sd.Fb(c)?(p[0][0]=b.Nn(w.x,t),p[0][1]=w.y,p[1][0]=b.Nn(z.x,t),p[1][1]=z.y,d.fb.UW(),G.x=p[0][0]*l,G.y=p[0][1]*l,C.x=
p[1][0]*l,C.y=p[1][1]*l):(G.x=w.x*l,G.y=w.y*l,C.x=z.x*l,C.y=z.y*l);C.x=6.283185307179586*(z.x-w.x)/t.N()+G.x;if(e){if(y.x=g,y.y=b.EB(h,n,G,C,g,f),isNaN(y.y))break}else{y.x=b.CB(h,n,G,C,f);if(isNaN(y.x))break;y.y=0}d.mb.Ld(h,n,G.x,G.y,C.x,C.y,q,null,null,f);var L=q.j;d.mb.Ld(h,n,G.x,G.y,y.x,y.y,q,null,null,f);var H=q.j;2==d.Sd.Fb(c)?(p[0][0]=y.x/l,p[0][1]=y.y/l,d.fb.TS(),e?(x.y=p[0][1],x.x=m):(x.x=b.Zp(p[0][0],w.x,z.x,t),x.y=m)):e?(x.x=m,x.y=y.y/l):(x.x=b.Zp(y.x/l,w.x,z.x,t),x.y=m);v[0]=0<L?d.J.pk(H/
L,0,1):.5;0!=v[0]&&1!=v[0]&&(L=r.Ra(F),r.zm(L,v,1),r.rb(r.U(L),x.x,x.y))}while(0)}w.L(z)}}return r.Se(a)};b.Xm=function(a,c,f,e,m){if(a.u())return a;var k=d.fb.ee(c);return b.Aq(a,f-180*k,360*k,c,e,m,!0)};b.EB=function(a,c,f,e,m,g){if(3.141592653589793<=Math.abs(f.x-e.x)||!b.Cj(f.x,e.x,m))return NaN;var k;f.x>e.x?k=e:(k=f,f=e);e=new d.ea(0);var h=new d.ea(0),u=new d.ea(0);d.mb.Ld(a,c,k.x,k.y,f.x,f.y,h,e,null,g);var l=h.j,n=0,t=1,p=new d.b;for(p.L(k);l*(t-n)>1E-12*a;){var q=.5*(n+t);d.mb.Oj(a,c,k.x,
k.y,l*q,e.j,h,u,g);p.x=h.j;p.y=u.j;if(p.x==m)break;if(b.Cj(k.x,p.x,m))t=q;else if(b.Cj(f.x,p.x,m))n=q;else return NaN}return p.y};b.Cj=function(a,c,b){a=e.uq(a);c=e.Wx(a,e.uq(c));b=e.Wx(a,e.uq(b));return 0==b||0<c&&0<b&&b<=c||0>c&&0>b&&b>=c?!0:!1};b.Nn=function(a,c){var b=c.ha-c.ca;return c.wu(a-Math.floor((a-c.ca)/b)*b)};b.Zp=function(a,c,b,e){var f=new d.Ac;f.I(c,b);b=e.N();a=Math.floor((a-c)/b)*b+a;for(f=f.Wf();Math.abs(a-f)>Math.abs(a+b-f);)a+=b;return a};b.CB=function(a,c,b,e,m){var f;b.y>e.y?
f=e:(f=b,b=e);e=new d.Ac;e.I(f.y,b.y);if(!e.contains(0)||3.141592653589793<=Math.abs(f.x-b.x))return NaN;if(f.x==b.x)return f.x;var k=new d.ea(0),g=new d.ea(0),h=new d.ea(0);d.mb.Ld(a,c,f.x,f.y,b.x,b.y,g,k,null,m);var l=g.j,n=0,t=1,p=new d.b;for(p.L(f);l*(t-n)>1E-12*a;){var q=.5*(n+t);d.mb.Oj(a,c,f.x,f.y,l*q,k.j,g,h,m);p.x=g.j;p.y=h.j;e.I(f.y,p.y);if(0==p.y)break;if(e.contains(0))t=q;else if(e.I(b.y,p.y),e.contains(0))n=q;else return NaN}return p.x};b.Aq=function(a,c,b,e,m,g,h){var f=new d.h;a.s(f);
if(f.u())return a;var k=new d.Ac;f.Sn(k);var u=new d.Ac;u.I(c,c+b);if(u.contains(k)&&u.ha!=k.ha)return a;var l=new d.h;l.I(f);var n=a.G();if(33==n){l=m?a:a.Vf();f=l.Be();if(f<u.ca||f>=u.ha||h&&f==u.ha)f+=Math.ceil((u.ca-f)/b)*b,f=u.wu(f),l.AC(f);return l}if(550==n){l=m?a:a.Vf();e=l.Pa(0);n=2*l.D();a=!1;for(m=0;m<n;m+=2)if(f=e.read(m),f<u.ca||f>=u.ha||h&&f==u.ha)a=!0,f+=Math.ceil((u.ca-f)/b)*b,f=u.wu(f),e.write(m,f);a&&l.Dc(1993);return l}if(u.contains(k))return a;if(197==n)return b=m?a:a.Vf(),f.Ma(l),
b.Gp(f),b;var t=.1*Math.max(f.fa(),f.N());l.O(0,t);h=a;u=e.re(0);a=d.ei.local();m=new d.Hd;for(var p=0;;){var A=Math.floor((k.ca-c)/b),q=Math.ceil((k.ha-c)/b);if(3<q-A){A=Math.floor(.5*(q+A));l.o=f.o-t;l.v=c+b*A;var r=d.ne.clip(h,l,u,g);l.o=l.v;l.v=f.v+t;var v=d.ne.clip(h,l,u,g);m.Ag((A-q)*b,0);v.Xc(m);1736==n?h=a.V(r,v,e,null):(h=r,h.add(v,!1));h.s(f);f.Sn(k);p++}else break}l.o=c;l.v=c+b;c=new d.h;c.I(l);c.O(u,0);c=Math.floor((f.o-l.o)/b)*b;0!=c?(l.move(c,0),m.Ag(-c,0)):m.pC();c=1607==n?new d.Ua(h.description):
new d.Ja(h.description);g=new d.h;for(k=new d.h;f.v>l.o;){t=d.ne.clip(h,l,u,0);t.s(k);if(1607==n?!t.u()&&(k.N()>u||k.fa()>u):!t.u()&&(1736!=n||k.N()>u))t.Xc(m),t.s(k),c.s(g),g.O(u,u),g.Yb(k)&&1736==n?c=a.V(c,t,e,null):c.add(t,!1);l.move(b,0);m.shift(-b,0)}return c};b.OJ=function(a,c,b,e,m){var f=new d.Ed(b.description);f.Id(b,0,-1);m=d.fb.Xg(f,a,c,m);f=b.D();e.Oa();if(!d.fb.Jc(a)||f!=m.D())return!1;var k=new d.h;b.s(k);var g=new d.h;m.s(g);k=k.N();g=g.N();if(0!=k&&0!=g){if(g/=k,a=d.fb.Bh(c).N()/d.fb.Bh(a).N(),
1E-10<Math.abs(g/a-1))return!1}else if(0!=k||0!=g)return!1;e.add(b,!1);for(b=0;b<f;b++)a=m.Ba(b),e.rb(b,a);return!0};b.uA=function(){throw d.g.df();};return b}();d.gi=g})(n||(n={}));(function(d){(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(d.di||(d.di={}));var e=d.di;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(d.lD||
(d.lD={}));var g=d.lD,b=function(){function a(){}a.iw=function(a,b,e){if(e||0<b){a=a.toString(d.Vc.PE_STR_NAME_CANON|d.Vc.PE_STR_AUTH_NONE);b=[];for(e=0;e<a.length;e++)b[e]="a"<=a[e]&&"z">=a[e]?b[e]=a[e].toUpperCase():a[e];return b.join()}return a.toString(d.Vc.PE_STR_AUTH_TOP)};a.qs=function(a,b,e,m){var c=m.length,f=e.D();if(0!=f){var k=e.Pa(0),g=Math.min(f,c),h=0,l=a.Kg();isNaN(b)&&(b=0);var n=a.Jc();a=n?a.kc().qe().N():0;for(var t=179*a/360;0<f;){k.Hx(h<<1,g,m,0,!0);d.fi.projToGeogCenter(l,g,
m,b);if(n)for(var p=0;p<g;p++){var q=m[p][0]-b,r=d.Ub.sign(q),v=k.read(2*(h+p));0>r*d.Ub.sign(v)&&Math.abs(q)>t&&(m[p][0]+=-r*a)}k.hy(h<<1,g,m,0,!0);h+=g;f-=g;g=Math.min(f,c)}e.Dc(1993)}};a.J_=function(a,b,e,m){var c=a.Kg();isNaN(b)&&(b=0);var f=e.Be();m[0][0]=f;m[0][1]=e.nf();d.fi.projToGeogCenter(c,1,m,b);a.Jc()&&(b=d.Ub.sign(m[0][0]-b),0>b*d.Ub.sign(f)&&(a=a.kc().qe().N(),Math.abs(m[0][0])>179*a/360&&(m[0][0]-=b*a)));e.rb(m[0][0],m[0][1])};a.wN=function(a,b,e,m){var c=0,f=a.Kg();isNaN(c)&&(c=0);
var k=a.Jc(),g=a.ee();a=360*g;for(var g=179*g,h=m.length,l=0;l<e;){for(var n=l;n<e&&b[n].isNaN();++n)l++;var t=Math.min(h,e-l);if(0<t){for(var n=1,p=l+1;n<t;++n,++p)if(b[p].isNaN()){t=n;break}d.na.oz(m,b,l,t);d.fi.projToGeogCenter(f,t,m,c);if(k)for(n=0,p=l;n<t;++n,++p){var q=b[p].x,r=m[n][0]-c,v=d.Ub.sign(r);0>v*d.Ub.sign(q)&&Math.abs(r)>g&&(m[n][0]-=v*a)}d.na.nz(b,l,m,t);l+=t}}};a.vy=function(a,b,e){var c=e.length,f=b.D();if(!(1>f)){var k=b.Pa(0),g=Math.min(f,c),h=0,l=a.Kg(),n=a.Jc(),t=n?a.qe().N():
0,p=179*t/360,q=0;for(n&&(q=a.pi());0<f;){k.Hx(h<<1,g,e,0,!0);d.fi.geogToProj(l,g,e);if(n)for(a=0;a<g;a++){var r=e[a][0],v=d.Ub.sign(r),x=k.read(2*(h+a))-q;0>v*d.Ub.sign(x)&&Math.abs(r)>p&&(e[a][0]+=-v*t)}k.hy(h<<1,g,e,0,!0);h+=g;f-=g;g=Math.min(f,c)}b.Dc(1993)}};a.B_=function(a,b,e){if(!b.u()){var c=a.Kg();e[0][0]=b.Be();e[0][1]=b.nf();d.fi.geogToProj(c,1,e);if(a.Jc()){var c=d.Ub.sign(e[0][0]),f=a.pi();0>c*d.Ub.sign(b.Be()-f)&&(a=a.qe().N(),Math.abs(e[0][0])>179*a/360&&(e[0][0]-=c*a))}b.rb(e[0][0],
e[0][1])}};a.vN=function(a,b,e,m){if(0!=e){var c=a.Kg(),f=a.Jc(),k=f?a.qe().N():0,g=179*k/360,h=0;f&&(h=a.pi());for(a=0;a<e;){for(var l=a;l<e&&b[l].isNaN();++l)a++;var n=Math.min(m.length,e-a);if(0<n){for(var l=1,t=a+1;l<n;++l,++t)if(b[t].isNaN()){n=l;break}d.na.oz(m,b,a,n);d.fi.geogToProj(c,n,m);if(f)for(l=0,t=a;l<n;l++){var p=m[l][0],q=d.Ub.sign(p);0>q*d.Ub.sign(b[t].x-h)&&Math.abs(p)>g&&(m[l][0]-=q*k)}d.na.nz(b,a,m,n);a+=n}}}};a.ps=function(a,b,e,m){var c=b.D();if(0!=c){var f=b.Pa(0),k=a.je,g=
a.He,h=k.kc().Yi(),l=g.kc().Yi(),n=k.ee(),t=g.ee();a=a.ue;if(null==a||0==a.count()){e=h/l;m=(k.dn()-g.dn())*t;l=-90*n;a=90*n;h=!1;t=1;for(k=2*c;t<k;)n=f.get(t),g=d.J.pk(n,l,a),g!=n&&(f.set(t,g),h=!0),t+=2;if(0!=m||1!=e)for(h=!0,l=new d.b,t=0;t<c;t++)f.fc(2*t,l),l.x*=e,l.x+=m,l.y*=e,f.fo(2*t,l);h&&b.Dc(1993)}else{var k=m.length,g=Math.min(c,k),p=d.J.gf(g),q=null,r=0,v=NaN,x=NaN,y=360*t,w=t/n;e&&(x=90*t,v=89.9*n,q=d.J.gf(g));for(var z=!0,G=0;0!=c;){n=!1;f.Hx(r<<1,g,m,0,!0);for(t=0;t<g;t++)p[t]=m[t][0];
if(e)for(t=0;t<g;t++){var C=Math.abs(m[t][1])-v;0<C&&(n=m[t][1],m[t][1]=d.Ub.Fl(v,n),q[t]=d.Ub.Fl(C,n),n=!0)}t=m[0][0];a.transform(m,g,h,l);z&&(G=m[0][0]-w*t,z=!1);for(t=0;t<g;t++)C=m[t][0]-p[t]*w-G,200<Math.abs(C)&&(m[t][0]=0<C?m[t][0]-y:m[t][0]+y);if(n){for(t=0;t<g;t++)0!=q[t]&&(m[t][1]+=w*q[t],m[t][1]>x?m[t][1]=x:m[t][1]<-x&&(m[t][1]=-x));for(n=0;n<g;n++)q[n]=0}f.hy(r<<1,g,m,0,!0);r+=g;c-=g;g=Math.min(c,k)}b.Dc(1993)}}};a.A_=function(a,b,e,m){if(b.u())return!1;var c=a.je,f=a.He,k=a.ue,g=c.kc().Yi(),
h=f.kc().Yi();m[0][0]=b.Be();m[0][1]=b.nf();if(null!=k&&0<k.count()){a=!0;var l=!1,n=NaN,t=0,p=1;e&&(e=c.ee(),n=f.ee(),p=n/e,n*=90,c=89.9*e,f=Math.abs(m[0][1])-c,0<f&&(l=m[0][1],m[0][1]=d.Ub.Fl(c,l),t=d.Ub.Fl(f,l),l=!0));k.transform(m,1,g,h);l&&0!=t&&(m[0][1]+=p*t,m[0][1]>n?m[0][1]=n:m[0][1]<-n&&(m[0][1]=-n));b.rb(m[0][0],m[0][1])}else{e=c.ee();a=d.J.pk(m[0][1],-90*e,90*e)!=m[0][1];n=f.ee();k=(c.dn()-f.dn())*n;g/=h;if(1!=g||0!=k)a=!0,m[0][0]*=g,m[0][0]+=k,m[0][1]*=g;a&&b.rb(m[0][0],m[0][1])}return a};
a.uN=function(a,b,e,m){var c;if(a.sr)m=90*a.je.ee(),d.na.VK(b,e,-m,m);else{var f=a.ue,k=a.je,g=a.He;a=k.Xs();var h=g.Xs(),l=k.ee(),n=90*l,t=g.ee();if(null==f||0==f.count()){if(m=a/h,f=(k.dn()-g.dn())*t,d.na.VK(b,e,-n,n),0!=f||1!=m)for(t=0;t<e;t++)b[t].x*=m,b[t].x+=f,b[t].y*=m}else for(var k=Math.min(e,m.length),n=d.J.gf(k),g=360*t,l=t/l,p=!0,q=0,r=0;0!=e;){for(t=0;t<k;t++)n[t]=b[t+r].x;t=b[0].x;d.na.oz(m,b,r,k);f.transform(m,k,a,h);d.na.nz(b,r,m,k);p&&(q=b[0].x-l*t,p=!1);for(t=0;t<k;t++)c=b[r+t].x-
n[t]*l-q,200<Math.abs(c)&&(b[r+t].x=0<c?b[r+t].x-g:b[r+t].x+g);r+=k;e-=k;k=Math.min(e,m.length)}}};a.ZZ=function(c,b,d,e){return a.Xm(c,b,isNaN(d)?0:d,!0,e,null)};a.Vu=function(a,b){a=a.Bh();isNaN(b)||a.xv(b,0);return a};a.KS=function(c,b,e,m,g,h,l,n){for(var f=a.Vu(m,g),k=f.N(),u=k/360,t=a.kE*u,p=c.Pa(0),q=b.Jc(),A=q?k/b.qe().N():0,B=!1,r=new d.Ja(e.description),v=0,x=e.aa();v<x;++v){var y=q,w=new d.Ua(e.description);w.Ti(e,v,!0);if(0!=l){var z=a.aE(!0,w,f.B-n,f.B,l);(B=B||z)&&(y=!1)}var G=-1;y&&
(G=c.wa(v));var P=w.Pa(0),C=w.D(),D=0,J=P.read(0),E=0,z=3*m.re(0),F=!1,L=new d.b;L.$c();var H=new d.b;H.$c();for(var I=!1,O=1;O<C;++O){var R=d.b.pa(P.Of(2*O),P.Of(2*O+1)),M=R.x,K=M+D,N=K-J;R.x=K;if(Math.abs(N)>t){if(y){var S=G+(O+1<C?O:0),U=p.read(2*(G+O-1)),S=(p.read(2*S)-U)*A;Math.abs(N-S)>1*u&&(y=!1)}y||(D-=d.Ub.Fl(k,K-J),K=M+D,++E,I=0!=D,R.x=K)}else F||d.na.NH(H,L,R,z)&&(F=!0);I&&P.write(2*O,K);J=K;H.L(L);L.L(R)}0<E&&w.Dc(1993);y=w.Ba(0);C=w.Ba(C-1);w=d.b.Cb(y,C)<z?a.TR(w,m,g,h,F):a.gS(c,v,w,
m,g);r.add(w,!1)}g=m.re(0);e=f.N()/180;a.xu(r,f,.1*g,!1);g=d.uh.clip(r,f,g,e,h);r=r!=g;c=c.hf();n=g.hf();l=0;0<n&&0>c?l=1:0>=n&&0<c&&(0==n?(n=NaN,2==b.Fb()?n=b.Mk().hf():1==b.Fb()&&(n=b.qe().IG()),c>.99*n&&(l=-1)):l=-1);0!=l&&(b=new d.Ja(g.description),b.oq(f),b=d.Jm.local().V(b,e,h),b.add(g,!1),r=!0,g=b);r&&(g=d.Km.local().V(g,m,!1,h));return g};a.gS=function(c,b,e,m,g){var f=e.D(),k=e.Ba(0),h=e.Ba(f-1);m=a.Vu(m,g);g=m.N();var k=d.Ub.sign(h.x-k.x),u=new d.h;e.ac(u);var l=m.Hk(),n,h=l-g,l=l+g;if(0<=
k){for(var t=Math.ceil((h-u.o)/g),t=t*g;h>u.o+t;)t+=g;for(;h<u.v+t;)t-=g;n=t;720<u.N()&&(l=h+360*Math.ceil(u.N()/360))}else{t=Math.ceil((l-u.v)/g);for(t*=g;l<u.v+t;)t-=g;for(;l>u.o+t;)t+=g;n=t;720<u.N()&&(h=l-360*Math.ceil(u.N()/360))}var t=k*g,p=d.h.pa(u.o,u.A,u.v,u.B);p.move(n,0);var q=new d.Hd;q.Ag(n,0);e.Xc(q);u=new d.Ua(e.description);u.add(e,!1);n=e.Ba(f-1);g=0;for(var r=u.Ba(0).x,v=0;0<k?p.v<l:p.o>h;)1024<=v&&(v=0),p.move(t,0),q.Wb=t,e.Xc(q),r+=t,m.o<=r&&m.v>=r&&(g=u.D()-1),e.rb(0,n),n=e.Ba(f-
1),u.Bs(e,0,0,f-1,!1);e=new d.Ja(u.description);f=0<c.Sm(b);e.add(u,!1);c=u.Ba(0);h=u.Ba(u.D()-1);b=e.aa()-1;(0>k?f:!f)?(k=d.b.pa(h.x,m.B),e.aj(k),k=d.b.pa(m.Hk(),m.B),e.aj(k),m=d.b.pa(c.x,m.B)):(k=d.b.pa(h.x,m.A),e.aj(k),k=d.b.pa(m.Hk(),m.A),e.aj(k),m=d.b.pa(c.x,m.A));e.aj(m);e.KH(0,b,0);e.nQ(g);return e};a.TR=function(c,b,e,m,g){var f=new d.Ja(c.description);f.add(c,!1);f.cC(0,f.D()-1);var k=new d.h;f.ac(k);e=a.Vu(b,e);for(var h=e.N(),u=Math.ceil((e.o-k.o)/h),u=u*h;e.o>k.o+u;)u+=h;for(;e.o<k.v+
u;)u-=h;u+=h;if(0!=u){k.move(u,0);var l=new d.Hd;l.Ag(u,0);f.Xc(l)}if(e.o<=k.o&&e.v>k.v)return g&&(g=f.hf(),f=d.Km.local().V(f,b,!0,m),b=f.hf(),(b=d.Ub.sign(g)!=d.Ub.sign(b))&&f.eK()),f;c=new d.Ja(c.description);c.add(f,!1);for(g=g||k.N()>h-b.re(0);k.o<e.v;)k.move(h,0),l=new d.Hd,l.Ag(h,0),f.Xc(l),c.add(f,!1);g&&(g=c.hf(),c.Hp(1),c=d.Km.local().V(c,b,!0,m),b=c.hf(),(b=d.Ub.sign(g)!=d.Ub.sign(b))&&c.eK());return c};a.aE=function(a,b,e,m,g){for(var c=b.Pa(0),f=b.D(),k=!1,h=0;h<f;h++){var u=d.b.pa(c.Of(2*
h),c.Of(2*h+1));if(0!=(g&1)&&u.y>=e){k=!0;break}if(0!=(g&2)&&u.y<=-e){k=!0;break}}if(!k)return!1;c=!1;a&&(c=b.Eo(0));a=new d.fd;var f=a.Jb(b),k=a.Pb(f),l=-1,n=!0,t=new d.b;t.$c();for(var h=new d.Wa,p=-1,q=a.cb(k);-1!=q;q=a.U(q)){var u=a.Ba(q),r=0!=(g&1)&&90<=u.y?1:0,r=r|(0!=(g&2)&&u.y<=-e?2:0);if(0<l&&l!=r){if(t.x!=u.x){t.x=u.x;a.wj(a.Ra(q),h);var v=a.Wj(k,q,h);a.Qf(v,t)}if(c)for(p=-1!=p?a.U(p):a.cb(k),v=a.Ra(q);p!=v;)p=a.ud(p,!1);p=-1}0<r&&(u.y=d.Ub.Fl(m,u.y),a.Qf(q,u),n||l==r||(u.x!=t.x?(a.wj(q,
h),v=a.Wj(k,q,h),a.rb(v,t.x,u.y),p=v):p=q));l=r;t=u;n=!1}if(c){if(-1!=p)for(p=a.U(p);-1!=p;)p=a.ud(p,!1);e=a.cb(k);a.Uq(e,a.Rj(k))||(a.wj(e,h),a.Wj(k,-1,h))}a.Se(f).copyTo(b);return!0};a.zZ=function(a,b){var c=0,f=a.La(b);b+=1;for(var d=a.aa();b<d&&!(0<a.Sm(b));++b)c++;return 64<f&&3<=c};a.tA=function(c,b,k,m){var f=c;if(f.u()||k==e.DontClip)return f;var g=f.G();if(33==g)return m=f,f=[m.w()],a.LH(f,1,b,k),f[0].isNaN()?m.Oa():m.rb(f[0]),c;c=b.kc();var h=c.ee(),l=90*h,n=180*h,t=360*h,p=b.pi(),q=.5*
h,r=new d.h;f.s(r);var v=b.Vs(),x=b.DS(),y=197==v.G();b=new d.h;v.s(b);k==e.PannableFold&&(k=c.qe().N(),b.o=p-.5*k,b.v=b.o+k);if(r.A<-l||r.B>l){(new d.h).I(r.o-h,-l,r.v+h,l);f=d.uh.rq(f,b,c,NaN,0,m);if(f.u())return f;f.s(r)}if(x&&(b.B<r.A||b.A>r.B))return f.Ka();r.N()>t&&(f=a.Aq(f,p-n,t,c,!0,0,!0,m),f.s(r));l=a.CN(r.o,r.v,b.o,b.v,t);0!=l&&r.move(l,0);if(r.v>b.v||r.o<b.o){if(r.v>b.v)for(;r.o>=b.v;)r.move(-t,0),l-=t;for(;r.o<b.v-t;)r.move(t,0),l+=t}k=d.na.vv(c,v);0!=l&&(h=new d.Hd,h.Ag(l,0),f.Xc(h));
if(x){if(y&&b.contains(r))return f;x=[null,null];for(l=0;2>l;l++){y?h=d.T.Ic(g)?d.uh.clip(f,b,k,q,m):d.uh.clip(f,b,k,0,m):(h=d.tk.local().V(f,v,c,m),h==v&&(h=d.T.oe(h)));if(b.o<=r.o&&b.v>=r.v||b.o>=r.o&&b.v<=r.v)return h;x[l]=h;0==l&&(r.move(-t,0),h=new d.Hd,h.Ag(-t,0),f.Xc(h))}if(550==g)x[0].Id(x[1],0,-1);else if(d.T.Ic(g))x[0].add(x[1],!1);else if(33==g)x[0].u()&&(x[0]=x[1]);else throw d.g.X("intersect_with_GCS_horizon: unexpected geometry type");return x[0]}if(b.B<r.A||b.A>r.B)return f;for(g=0;!f.u()&&
r.v>b.o;)0!=g&&(h=new d.Hd,h.Ag(g,0),f.Xc(h)),d.Gj.local().V(4,f,v,c,m)||(f=d.cq.local().V(f,v,c,m),v==f&&(f=d.T.oe(f))),0!=g&&(q=new d.Hd,q.Ag(-g,0),f.Xc(q)),g-=t,r.move(-t,0);return f};a.LH=function(c,b,k,m){if(0!=b&&m!=e.DontClip)if(m==e.PannableFold){m=k.AT();for(var f=b,g=0;g<b;g++)if(c[g].y>m.B||c[g].y<m.A)c[g].$c(),f--;0!=f&&a.Uu(c,b,m.o,m.N())}else{m=k.ee();var h=90*m,l=180*m;m*=360;f=b;for(g=0;g<b;g++)if(c[g].y>h||c[g].y<-h)c[g].$c(),f--;if(0!=f){f=new d.h;f.Mx(c,b);var h=k.Vs(),n=k.Uv(),
g=197==h.G(),t=new d.h;h.s(t);if(!n||!(t.B<f.A||t.A>f.B))if(n)if(a.Uu(c,b,t.Hk()-l,m),f=b,g)for(g=0;g<b;g++)t.contains(c[g])||(c[g].$c(),f--);else for(k=d.na.vv(k.kc(),h),g=0;g<b;g++)(l=0!=d.gd.ge(h,c[g],k))||(c[g].$c(),f--);else for(a.Uu(c,b,-l,m),f=b,k=d.na.vv(k.kc(),h),g=0;g<b;g++)if(l=c[g],l.isNaN()&&f--,n=a.pE(l.x,t.o,t.v,m),l.x+=n,l=0!=d.gd.ge(h,l,k))c[g].$c(),f--}}};a.b_=function(a,b,e){if(0<=b&&!a.Qb(b))return 0;var c=0;if(1==e.Fb())return b=90*e.ee(),b-=2*b/Math.PI*d.Vc.PE_HORIZON_DELTA,
e=new d.h,a.s(e),e.B>=b&&(c=1),e.A<=-b&&(c|=2),c;var f=e.Sj();if(null==f)return 0;var k=null;0<=b&&(k=a);for(var g=0;2>g;g++)if((0<g?f.getSouthPoleLocation():f.getNorthPoleLocation())!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY){var h=e.dA(0<g);h.isNaN()||(h=0>b?d.ff.xA(a,h,0):d.ff.yA(k,b,h,0,null),c|=h<<g)}return c};a.Aq=function(a,b,e,m,g,h,l,n){var c=a.G(),f=b+e;if(33===c){m=g?a:a.Vf();var k=m.Be();if(k<b||k>=f||l&&k==f)k+=Math.ceil((b-k)/e)*e,k=d.J.pk(k,b,f),m.AC(k);return m}if(a.u())return a;k=new d.h;a.s(k);
if(k.u())return a;var u=new d.Ac;k.Sn(u);var t=new d.Ac;t.I(b,f);if(t.contains(u))return a;f=new d.h;f.I(k);if(550===c){m=g?a:a.Vf();n=m.Pa(0);c=2*m.D();f=!1;for(b=0;b<c;b+=2)if(k=n.read(b),k<t.ca||k>=t.ha||l&&k==t.ha)f=!0,k+=Math.ceil((t.ca-k)/e)*e,k=t.wu(k),n.write(b,k);f&&m.Dc(1993);return m}if(197==c)return e=g?a:a.Vf(),k.Ma(f),e.Gp(k),e;var p=.1*Math.max(k.fa(),k.N());f.O(0,p);l=a;t=m.re(0);a=d.ei.local();for(g=new d.Hd;;){var q=Math.floor((u.ca-b)/e),A=Math.ceil((u.ha-b)/e);if(3<A-q){q=Math.floor(.5*
(A+q));f.o=k.o-p;f.v=b+e*q;var r=d.uh.clip(l,f,t,h,n);f.o=f.v;f.v=k.v+p;var B=d.uh.clip(l,f,t,h,n);g.Ag((q-A)*e,0);B.Xc(g);1736==c?l=a.V(r,B,m,null):(l=r,l.add(B,!1));l.s(k);k.Sn(u)}else break}f.o=b;f.v=b+e;b=new d.h;b.I(f);b.O(t,0);b=Math.floor((k.o-f.o)/e)*e;0!=b?(f.move(b,0),g.Ag(-b,0)):g.pC();b=1607==c?new d.Ua(l.description):new d.Ja(l.description);h=new d.h;for(u=new d.h;k.v>f.o;){p=d.uh.clip(l,f,t,0,n);p.s(u);if(1607==c?!p.u()&&(u.N()>t||u.fa()>t):!p.u()&&(1736!=c||u.N()>t))p.Xc(g),p.s(u),
b.s(h),h.O(t,t),h.Yb(u)&&1736==c?b=a.V(b,p,m,null):b.add(p,!1);f.move(e,0);g.shift(-e,0)}return b};a.Uu=function(a,b,e,m){for(var c=e+m,f=0;f<b;f++){var k=a[f].x;e<=k&&k<c||!(k<e||k>c||k==c)||(k+=Math.ceil((e-k)/m)*m,k=d.J.pk(k,e,c),a[f].x=k)}};a.Xm=function(c,b,e,m,g,h){if(!b.Jc())throw d.g.X("fold_into_360_degree_range");if(c.u())return c;var f;if(2==b.Fb())e=b.bw(),f=b.aw()-e;else{var k=b.ee();f=360*k;e-=180*k}return a.Aq(c,e,f,b,m,g,!0,h)};a.BG=function(c,b,d,e){if(2==d.Fb())e=d.bw(),d=d.aw()-
e;else{var f=d.ee();d=360*f;e-=180*f}a.Uu(c,b,e,d)};a.Mj=function(a,b){var c=b.qe();if(33==a.G()){var f=a.nf();return c.A<=f&&f<=c.B?a:a.Ka()}f=new d.h;a.s(f);var e=new d.h;e.I(c);e.o=f.o;e.v=f.v;e.O(.01*e.fa(),0);c=d.na.$y(b,f);return e.contains(f)?a:d.uh.clip(a,e,c,0,null)};a.Im=function(a,b,d){return a>b.v&&a-b.v<d?b.v:a<b.o&&b.o-a<d?b.o:a};a.zY=function(c,b,d,e){e.x=a.Im(c.x,b,d);e.y=c.y};a.yY=function(c,b,d,e){for(var f=0;f<b;f++)c[f].y<d.A||c[f].y>d.B?c[f].$c():c[f].x=a.Im(c[f].x,d,e)};a.xu=
function(c,b,e,m){if(!c.u()){var f=c.G();if(!m||1736!=f)if(d.T.gh(f)){m=c.Pa(0);for(var f=0,k=c.D();f<k;f++){var g=m.read(2*f),h=a.Im(g,b,e);h!=g&&m.write(2*f,h)}c.Dc(1993)}else if(197==f)m=new d.h,c.s(m),m.o=a.Im(m.o,b,e),m.v=a.Im(m.v,b,e),c.Gp(m);else if(33==f)c.AC(a.Im(c.Be(),b,e));else throw d.g.X("internal error");}};a.pU=function(b,f,e,m){var c=new d.fd,k=c.Jb(b);b=d.na.vv(f,b);a.ht(c,k,f,b,e,!0,m);return c.Se(k)};a.ht=function(b,f,e,m,h,l,n){if(!e.Jc())throw d.g.F("invalid call");var c=e.qe(),
k=e.kc(),u=k.Kg().getDatum().getSpheroid(),k=k.Nd().Ai,t=u.getFlattening(),u=u.getAxis(),t=t*(2-t),p=new d.Ac;c.Sn(p);var q=null,r=[[0,0],[0,0]];2==e.Fb()?(q=e.Kg(),l?(r[0][0]=a.Nn(n,p),r[0][1]=c.Cq(),d.fi.projToGeog(q,1,r),c=r[0][0]*k):(r[0][0]=c.Hk(),r[0][1]=n,d.fi.projToGeog(q,1,r),c=r[0][1]*k)):c=n*k;if(!l&&0!=c&&h!=g.GreatElliptic)throw d.g.X("invalid argument");var A=new d.ea,B=[0],v=new d.b,x=new d.b,y=new d.b,w=[null,null],z=new d.b,G=new d.b,C=new d.b,D=new d.b;for(f=b.Pb(f);-1!=f;f=b.Sb(f)){var J=
b.cb(f);b.w(J,z);for(var E=!1,F=J=b.U(J);-1!=F;F=b.U(F)){if(F==J){if(E)break;E=!0}b.w(F,G);if(l&&(m<n-z.x&&G.x-n>m||m<n-G.x&&z.x-n>m)||!l&&(0!=n||m<-z.y&&G.y>m||m<-G.y&&z.y>m)){do if(!(Math.abs(z.x-G.x)>=.5*p.N())){2==e.Fb()?(r[0][0]=a.Nn(z.x,p),r[0][1]=z.y,r[1][0]=a.Nn(G.x,p),r[1][1]=G.y,d.fi.projToGeogCenter(q,2,r,0),C.x=r[0][0]*k,C.y=r[0][1]*k,D.y=r[1][1]*k):(C.x=z.x*k,C.y=z.y*k,D.y=G.y*k);D.x=2*(G.x-z.x)*Math.PI/p.N()+C.x;var L;if(l){x.x=c;x.y=a.EB(u,t,C,D,c,h);if(isNaN(x.y))break;w[0]=x;L=1}else if(h==
g.GreatElliptic){var H=[0,0];L=d.yy.uA(u,t,C,D,c,H);if(0==L)break;x.x=H[0];x.y=c;w[0]=x;2==L&&(y.x=H[1],y.y=c,w[1]=y)}else{x.x=a.CB(u,t,C,D,h);if(isNaN(x.x))break;x.y=0;w[0]=x;L=1}for(var I=-1,H=0;H<L;H++){d.mb.Ld(u,t,C.x,C.y,D.x,D.y,A,null,null,h);var O=A.j;d.mb.Ld(u,t,C.x,C.y,w[H].x,w[H].y,A,null,null,h);var R=A.j;2==e.Fb()?(r[0][0]=w[H].x/k,r[0][1]=w[H].y/k,d.fi.geogToProj(q,1,r),l?(v.y=r[0][1],v.x=n):(v.x=a.Zp(r[0][0],z.x,G.x,p),v.y=n)):l?(v.x=n,v.y=w[H].y/k):(v.x=a.Zp(w[H].x/k,z.x,G.x,p),v.y=
n);B[0]=0<O?d.J.pk(R/O,0,1):.5;if(0==B[0]||1==B[0])break;I>B[0]||(I=b.Ra(F),b.zm(I,B,1),b.rb(b.U(I),v.x,v.y),I=B[0])}}while(0)}z.L(G)}}};a.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};a.Zp=function(a,b,e,m){var c=new d.Ac;c.I(b,e);e=m.N();a=Math.floor((a-b)/e)*e+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+e-c);)a+=e;return a};a.Cj=function(a,b,e){a=d.ls.uq(a);b=d.ls.Wx(a,d.ls.uq(b));e=d.ls.Wx(a,d.ls.uq(e));return 0==e||0<b&&0<e&&e<=b||0>b&&0>e&&e>=b?!0:!1};a.EB=function(b,
f,e,m,h,l){if(l==g.GreatElliptic)return d.yy.MU(f,e,m,h);if(Math.abs(e.x-m.x)>=Math.PI||!a.Cj(e.x,m.x,h))return NaN;var c;e.x>m.x?c=m:(c=e,e=m);m=new d.ea;var k=new d.ea,u=new d.ea;d.mb.Ld(b,f,c.x,c.y,e.x,e.y,k,m,null,l);var n=k.j,t=0,p=1,q=new d.b;for(q.L(c);n*(p-t)>1E-12*b;){var r=.5*(t+p);d.mb.Oj(b,f,c.x,c.y,n*r,m.j,k,u,l);q.x=k.j;q.y=u.j;if(q.x==h)break;if(a.Cj(c.x,q.x,h))p=r;else if(a.Cj(e.x,q.x,h))t=r;else return NaN}return q.y};a.CB=function(a,b,e,m,h){if(h==g.GreatElliptic)return h=[0,0],
d.yy.uA(a,b,e,m,0,h),h[0];var c;e.y>m.y?c=m:(c=e,e=m);m=new d.Ac;m.I(c.y,e.y);if(!m.contains(0)||Math.abs(c.x-e.x)>=Math.PI)return NaN;if(c.x==e.x)return c.x;var f=new d.ea,k=new d.ea,l=new d.ea;d.mb.Ld(a,b,c.x,c.y,e.x,e.y,k,f,null,h);var u=k.j,n=0,t=1,p=new d.b;for(p.L(c);u*(t-n)>1E-12*a;){var q=.5*(n+t);d.mb.Oj(a,b,c.x,c.y,u*q,f.j,k,l,h);p.x=k.j;p.y=l.j;m.I(c.y,p.y);if(0==p.y)break;if(m.contains(0))t=q;else if(m.I(e.y,p.y),m.contains(0))n=q;else return NaN}return p.x};a.x_=function(a,b,e,m,g,h){if(b==
g&&e!=h)throw d.g.F();if(0>=m)return 0;if(a.Ho()){h*=2;var c=2*e;a=2*m;for(e=0;e<a;e++)g[h+e]=b[c+e];return m}if(2>=m){h=[new d.b,new d.b];for(c=0;c<m;c++)h[c].ka(b[2*c],b[2*c+1]);b=d.os.local().WY(a,h,m,h);for(c=0;c<m;c++)g[2*c]=h[c].x,g[2*c+1]=h[c].y;return b}var f=a.je,c=a.He,k=f.Fb(),l=c.Fb();if(0==k&&k==l)return a=f.Yi(),c=c.Yi(),c=a/c,a=new d.Hd,a.Op(c,c),a.XY(b,e,g,h,m),m;k=new d.Ed;k.Ud(3);k.resize(m);for(var l=k.Pa(0),u=k.Pa(3),c=0,n=2*e,t=2*h;c<m;c++,t+=2){e=b[n++];var f=b[n++],p=t;if(isNaN(e)||
isNaN(f))f=e=0,p=-1;u.write(c,p);l.write(2*c,e);l.write(2*c+1,f)}k.Dc(1993);b=d.os.local().V(k,a,null);c=0;for(h*=2;c<m;c++,h+=2)g[h]=NaN,g[h+1]=NaN;if(b.u())return 0;h=b.Pa(3);a=b.Pa(0);c=k=0;for(m=b.D();c<m;c++)b=h.read(c),-1!=b&&(e=a.read(2*c),f=a.read(2*c+1),g[b]=e,g[b+1]=f,k++);return k};a.OJ=function(a,b,e,m){if(!a.je.Jc())return!1;var c=new d.Ed(b.description);c.Id(b,0,-1);m=d.os.local().V(c,a,m);c=b.D();e.Oa();if(c!=m.D())return!1;var f=new d.h;b.s(f);var k=new d.h;m.s(k);f=f.N();k=k.N();
if(0!=f&&0!=k){if(k/=f,a=a.He.Bh().N()/a.je.Bh().N(),1E-10<Math.abs(k/a-1))return!1}else if(0!=f||0!=k)return!1;e.add(b,!1);b=new d.b;for(a=0;a<c;a++)m.w(a,b),e.rb(a,b);return!0};a.qP=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.MJ=function(b,f,k,m){if(k==e.Clip){var c=f.Mk();197==c.G()?(k=new d.h,c.s(k),c=d.na.$y(f,k),b=d.uh.clip(b,k,c,5E4*f.bn(),m)):d.Gj.local().V(1,c,b,f,m)||(b=d.tk.local().V(b,c,f,m),b==c&&(b=d.xl.oe(b)))}else f.Jc()&&(m=new d.h,b.ac(m),f.qe().contains(m)||(a.xu(b,
f.qe(),f.re(0),!0),k==e.PannableFold&&(b=a.Mj(b,f)),b=a.Xm(b,f,0,!0,1E5*f.bn(),null)));return b};a.jF=function(a,b,e){var c=b.Ws();if(null==c)return a;b=b.kc();var f=b.qe().N(),k=new d.h;a.ac(k);var g=new d.Ac;k.Sn(g);for(var k=c.Fa(),c=null,h=new d.Hd;k.Ya();)for(;k.Ea();){var l=k.ba(),n=l.xf(0,0),t=new d.Ac;t.I(n.ca,n.ha);for(n=0;t.ha>g.ca;)t.move(-f),--n;for(;t.ca<=g.ha;){if(t.Yb(g)){null==c&&(c=new d.Ua);var p=d.Hb.fR(l.ec(),l.Cc());0!=n&&(h.Ag(n*f,0),p.Xc(h));c.dc(p,!0)}t.move(f);++n}}return null!=
c?(b=d.na.gQ(b,c),b=d.na.Cs(b),d.Ku.kR(a,c,b,e)):a};a.CN=function(b,f,d,e,g){return b>=d&&f<=e?0:a.pE(.5*(f+b),d,e,g)};a.pE=function(a,b,e,m){return d.Ub.round((.5*(e+b)-a)/m)*m};a.LS=function(b,f,e,m,g,h,l,n){var c=a.Vu(m,g),k=c.N(),u=k/360,t=a.kE*u,p=b.Pa(0),q=f.Jc(),r=q?k/f.qe().N():0,A;f=b.Ka();for(var B=0,v=e.aa();B<v;++B){var x=q,w=new d.Ua(e.description);w.Ti(e,B,!0);A=e.Qb(B);0!=l&&(A=a.aE(A,w,c.B-n,c.B,l))&&(x=!1);var y=-1;A=w.D();var z=!1;x&&(y=b.wa(B),z=b.Qb(B));var G=w.Pa(0),P=0,C=G.read(0),
D=0,J=3*m.re(0),E=!1,F=new d.b;F.$c();var L=new d.b;L.$c();for(var H=!1,I=1;I<A;++I){var O=d.b.pa(G.Of(2*I),G.Of(2*I+1)),R=O.x,K=R+P,M=K-C;O.x=K;if(Math.abs(M)>t){if(x){var N=y+I-1,S=y;if(!z||I+1<A)S+=I;N=p.read(2*N);S=(p.read(2*S)-N)*r;Math.abs(M-S)>1*u&&(q=!1)}x||(P-=d.Ub.Fl(k,K-C),K=R+P,++D,H=0!=P,O.x=K)}else E||d.na.NH(F,L,O,J)&&(E=!0);H&&G.write(2*I,K);C=K;F.L(L);L.L(O)}0!=D&&w.Dc(1993);x=w.Ba(0);A=w.Ba(A-1);d.b.Cb(x,A);w=a.ES(w,m,isNaN(g)?0:g,h);f.add(w,!1)}b=m.re(0);e=c.N()/180;a.xu(f,c,.1*
b,!1);return d.uh.clip(f,c,b,e,h)};a.ES=function(b,f,d,e){return a.Xm(b,f,d,!0,0,e)};a.JU=function(a,b,e,m){var c=a.G();if(1736==c)for(b=null!=b?b.re(0):0,c=0;c<m;c++)1!=d.gd.ge(a,e[c],b)&&e[c].$c();else if(197==c)for(c=0;c<m;c++)a.gR(e[c])||e[c].$c();else throw d.g.F();};a.Dl=function(a,b,e,m){if(32>e)for(var c=new d.Wa,f=0;f<e;f++)c.rb(b[f]),a.Dl(c,m).w(b[f]);else{var k=new d.Ed;k.Ud(3);k.YE(b,e);c=k.Pa(3);for(f=0;f<e;f++)c.write(f,f);f=a.Dl(k,m);a=f.Pa(0);c=f.Pa(3);m=d.b.pa(NaN,NaN);for(k=0;k<
e;k++)b[k]=m;e=f.D();for(f=0;f<e;f++)m=c.read(f),a.fc(2*f,b[m])}};a.Cl=function(a,b,e,m){if(32>e)for(var c=new d.Wa,f=0;f<e;f++)c.rb(b[f]),a.Cl(c,m).w(b[f]);else{var k=new d.Ed;k.Ud(3);k.YE(b,e);c=k.Pa(3);for(f=0;f<e;f++)c.write(f,f);f=a.Cl(k,m);a=f.Pa(0);c=f.Pa(3);m=d.b.pa(NaN,NaN);for(k=0;k<e;k++)b[k]=m;e=f.D();for(f=0;f<e;f++)m=c.read(f),a.fc(2*f,b[m])}};a.Z_="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.kE=210;return a}();d.Ib=b})(n||(n={}));(function(d){(function(d){d[d.rightSide=1]="rightSide"})(d.KN||(d.KN=
{}));var e=function(){function e(b,a,c){this.xt=new d.b;void 0===b?this.up=-1:(this.xt.L(b),this.up=a,this.Qa=c,this.$w=0)}e.prototype.NK=function(b){this.$w=b?this.$w|1:this.$w&-2};e.prototype.u=function(){return 0>this.up};e.prototype.Nz=function(){if(this.u())throw d.g.X("invalid call");return new d.Wa(this.xt.x,this.xt.y)};e.prototype.Za=function(){if(this.u())throw d.g.X("invalid call");return this.up};e.prototype.Qz=function(){if(this.u())throw d.g.X("invalid call");return this.Qa};e.prototype.zA=
function(){return 0!=(this.$w&1)};e.prototype.Ly=function(b,a,c,f){this.xt.x=b;this.xt.y=a;this.up=c;this.Qa=f};return e}();d.Mm=e})(n||(n={}));(function(d){var e=function(){function b(){}b.prototype.Wn=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;a.ac(this.gl);this.gl.O(b,b);this.gl.Yb(this.Mb.Ha)?((this.rt=d.T.Oc(a.G()))?(this.gJ=a.ec(),this.fJ=a.Cc(),this.ta=b):this.ta=NaN,this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf)):this.Lt=-1};b.prototype.Ni=
function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;this.gl.I(a);this.gl.O(b,b);this.ta=NaN;this.gl.Yb(this.Mb.Ha)?(this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf),this.rt=!1):this.Lt=-1};b.prototype.next=function(){if(0==this.Rh.size)return-1;this.Vk=this.Lt;var a=null,b=null,f,e=null,m=null;this.rt&&(a=new d.b,b=new d.b,e=new d.h);for(var h=!1;!h;){for(;-1!=this.Vk;){f=this.Mb.Jz(this.Mb.Tv(this.Vk));if(f.Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),
e.I(f),e.O(this.ta,this.ta),0<e.gz(a,b)){h=!0;break}}else{h=!0;break}this.Vk=this.Mb.$v(this.Vk)}if(-1==this.Vk){f=this.Rh.Fc();var l=this.hj[this.hj.length-1];null==m&&(m=[],m[0]=new d.h,m[1]=new d.h,m[2]=new d.h,m[3]=new d.h);g.uK(l,m);this.Rh.Pf();--this.hj.length;for(l=0;4>l;l++){var n=this.Mb.Eq(f,l);if(-1!=n&&0<this.Mb.PT(n)&&m[l].Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),e.I(m[l]),e.O(this.ta,this.ta),0<e.gz(a,b)){var t=new d.h;t.I(m[l]);this.Rh.add(n);this.hj.push(t)}}else t=new d.h,
t.I(m[l]),this.Rh.add(n),this.hj.push(t)}if(0==this.Rh.size)return-1;this.Vk=this.Mb.Us(this.Rh.get(this.Rh.size-1))}}this.Lt=this.Mb.$v(this.Vk);return this.Vk};b.eR=function(a,c,f){var e=new b;e.Mb=a;e.gl=new d.h;e.Rh=new d.ia(0);e.hj=[];e.Wn(c,f);return e};b.dR=function(a,c,f){var e=new b;e.Mb=a;e.gl=new d.h;e.Rh=new d.ia(0);e.hj=[];e.Ni(c,f);return e};b.cR=function(a){var c=new b;c.Mb=a;c.gl=new d.h;c.Rh=new d.ia(0);c.hj=[];return c};return b}();d.g_=e;var g=function(){function b(a,b){this.Lf=
new d.ad(11);this.yi=new d.ad(5);this.st=[];this.Ww=new d.ia(0);this.Ha=new d.h;this.ql(a,b)}b.prototype.reset=function(a,b){this.Lf.Vi(!1);this.yi.Vi(!1);this.st.length=0;this.Ww.clear(!1);this.ql(a,b)};b.prototype.eh=function(a,b){return this.mw(a,b,0,this.Ha,this.Mf,!1,-1)};b.prototype.lw=function(a,b,f){f=-1==f?this.Mf:this.gH(f);var c=this.fa(f),d=this.fT(f);return this.mw(a,b,c,d,f,!1,-1)};b.prototype.ja=function(a){return this.aT(a)};b.prototype.RG=function(a){return this.Jz(this.Tv(a))};b.prototype.fa=
function(a){return this.Vv(a)};b.prototype.fT=function(a){var b=new d.h;b.I(this.Ha);var f=this.Vv(a);a=this.bH(a);for(var e=0;e<2*f;e+=2){var m=d.J.truncate(3&a>>e);0==m?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==m?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==m?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.PT=function(a){return this.kA(a)};b.prototype.oT=function(a,b){return e.eR(this,a,b)};b.prototype.Xz=function(a,b){return e.dR(this,a,b)};b.prototype.mf=function(){return e.cR(this)};
b.prototype.ql=function(a,b){if(0>b||32<2*b)throw d.g.F("invalid height");this.zV=b;this.Ha.I(a);this.Mf=this.Lf.Pe();this.Ux(this.Mf,0);this.Ox(this.Mf,0);this.EK(this.Mf,0);this.AK(this.Mf,0)};b.prototype.mw=function(a,c,f,e,m,g,h){if(!e.contains(c))return 0==f?-1:this.mw(a,c,0,this.Ha,this.Mf,g,h);if(!g)for(var k=m;-1!=k;k=this.BT(k))this.Ux(k,this.kA(k)+1);k=new d.h;k.I(e);e=m;var l=[];l[0]=new d.h;l[1]=new d.h;l[2]=new d.h;for(l[3]=new d.h;f<this.zV&&this.iQ(e);f++){b.uK(k,l);for(var u=!1,n=
0;4>n;n++)if(l[n].contains(c)){var u=!0,t=this.Eq(e,n);-1==t&&(t=this.qR(e,n));this.Ux(t,this.kA(t)+1);e=t;k.I(l[n]);break}if(!u)break}return this.nU(a,c,f,k,e,g,m,h)};b.prototype.nU=function(a,b,f,d,e,g,h,l){var c=this.XG(e);if(g){if(e==h)return l;this.PR(l);g=l}else g=this.sR(),this.nC(g,a),this.JX(this.Tv(g),b);this.gY(g,e);-1!=c?(this.Sx(g,c),this.Px(c,g)):this.wK(e,g);this.qC(e,g);this.Ox(e,this.Yv(e)+1);this.hQ(e)&&this.BS(f,d,e);return g};b.prototype.PR=function(a){var b=this.gH(a),f=this.XG(b),
d=this.HT(a),e=this.$v(a);this.Us(b)==a?(-1!=e?this.Sx(e,-1):this.qC(b,-1),this.wK(b,e)):f==a?(this.Px(d,-1),this.qC(b,d)):(this.Sx(e,d),this.Px(d,e));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.uK=function(a,b){var c=.5*(a.o+a.v),d=.5*(a.A+a.B);b[0].I(c,d,a.v,a.B);b[1].I(a.o,d,c,a.B);b[2].I(a.o,a.A,c,d);b[3].I(c,a.A,a.v,d)};b.prototype.hQ=function(a){return 8==this.Yv(a)&&!this.tH(a)};b.prototype.BS=function(a,b,d){var c,f,e=this.Us(d);do f=this.Tv(e),c=this.yi.S(e,0),f=this.Jz(f),this.mw(c,
f,a,b,d,!0,e),e=c=this.$v(e);while(-1!=e)};b.prototype.iQ=function(a){return 8<=this.Yv(a)||this.tH(a)};b.prototype.tH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.qR=function(a,b){var c=this.Lf.Pe();this.NX(a,b,c);this.Ux(c,0);this.Ox(c,0);this.sl(c,a);this.AK(c,this.Vv(a)+1);this.EK(c,b<<2*this.Vv(a)|this.bH(a));return c};b.prototype.sR=function(){var a=this.yi.Pe(),b;0<this.Ww.size?(b=this.Ww.Fc(),this.Ww.Pf()):(b=this.st.length,this.st.push(new d.h));
this.KX(a,b);return a};b.prototype.Eq=function(a,b){return this.Lf.S(a,b)};b.prototype.NX=function(a,b,d){this.Lf.P(a,b,d)};b.prototype.Us=function(a){return this.Lf.S(a,4)};b.prototype.wK=function(a,b){this.Lf.P(a,4,b)};b.prototype.XG=function(a){return this.Lf.S(a,5)};b.prototype.qC=function(a,b){this.Lf.P(a,5,b)};b.prototype.bH=function(a){return this.Lf.S(a,6)};b.prototype.EK=function(a,b){this.Lf.P(a,6,b)};b.prototype.Yv=function(a){return this.Lf.S(a,7)};b.prototype.kA=function(a){return this.Lf.S(a,
8)};b.prototype.Ox=function(a,b){this.Lf.P(a,7,b)};b.prototype.Ux=function(a,b){this.Lf.P(a,8,b)};b.prototype.BT=function(a){return this.Lf.S(a,9)};b.prototype.sl=function(a,b){this.Lf.P(a,9,b)};b.prototype.Vv=function(a){return this.Lf.S(a,10)};b.prototype.AK=function(a,b){this.Lf.P(a,10,b)};b.prototype.aT=function(a){return this.yi.S(a,0)};b.prototype.nC=function(a,b){this.yi.P(a,0,b)};b.prototype.HT=function(a){return this.yi.S(a,1)};b.prototype.$v=function(a){return this.yi.S(a,2)};b.prototype.Sx=
function(a,b){this.yi.P(a,1,b)};b.prototype.Px=function(a,b){this.yi.P(a,2,b)};b.prototype.gH=function(a){return this.yi.S(a,3)};b.prototype.gY=function(a,b){this.yi.P(a,3,b)};b.prototype.Tv=function(a){return this.yi.S(a,4)};b.prototype.KX=function(a,b){this.yi.P(a,4,b)};b.prototype.Jz=function(a){return this.st[a]};b.prototype.JX=function(a,b){this.st[a].I(b)};return b}();d.gq=g})(n||(n={}));(function(d){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(d.zM||
(d.zM={}));var e=function(){function b(a,b){this.Dh=null;this.NV=b;this.Dh=a}b.prototype.Kx=function(a,b){this.uI!=b&&a.flush();this.uI=b};b.prototype.pG=function(a,b){for(var c=0;c<b;)for(var d=a[c++],e=a[c++],g=a[c++]*this.NV;d<e;d++)this.Dh[g+(d>>4)]|=this.uI<<2*(d&15)};return b}();d.i_=e;var g=function(){function b(a,b,d){this.Dh=null;this.yB=this.jl=this.pJ=this.nJ=this.At=this.CI=this.hg=this.Hn=0;this.qj=this.kl=this.$l=null;this.kw(a,b,d)}b.create=function(a,c,f){if(!b.bz(a))throw d.g.F();
return b.fe(a,c,f)};b.Cj=function(a,c,f){if(!b.bz(a))throw d.g.F();return b.se(a,c,f)};b.kX=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw d.g.X("Internal Error");}return a};b.bz=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.mS=function(a,b){b=b.Fa();for(var c=new d.b,e=new d.b;b.Ya();)for(;b.Ea();){var m=b.ba();if(322!=m.G())throw d.g.X("Internal Error");a.$h(m.ec(),c);a.$h(m.Cc(),e);this.qj.Qy(c.x,c.y,e.x,e.y)}this.qj.YJ(d.zy.py)};
b.prototype.nS=function(){throw d.g.X("Internal Error");};b.prototype.Bz=function(a,b){for(var c=1;4>c;c++)a.Qy(b[c-1].x,b[c-1].y,b[c].x,b[c].y);a.Qy(b[3].x,b[3].y,b[0].x,b[0].y);this.qj.YJ(d.zy.py)};b.prototype.dL=function(a,b,f){for(var c=[null,null,null,null],e=0;e<c.length;e++)c[e]=new d.b;b=b.Fa();f=this.kl.YY(f)+1.5;for(var e=new d.b,g=new d.b,h=new d.b,l=new d.b,n=new d.b,t=new d.h,p=new d.b;b.Ya();){var q=!1,r=!0;for(p.ka(0,0);b.Ea();){var v=b.ba();l.x=v.ua;l.y=v.ra;n.x=v.sa;n.y=v.oa;t.Oa();
t.Nb(l.x,l.y);t.ml(n.x,n.y);if(this.$l.TH(t)){this.kl.$h(n,n);r?(this.kl.$h(l,l),p.L(l),r=!1):l.L(p);e.zc(n,l);var v=e.length(),x=.5>v;0==v?e.ka(1,0):(x||p.L(n),e.scale(f/v),g.ka(-e.y,e.x),h.ka(e.y,-e.x),l.sub(e),n.add(e),c[0].add(l,g),c[1].add(l,h),c[2].add(n,h),c[3].add(n,g),x?q=!0:this.Bz(a,c))}else q&&(this.Bz(a,c),q=!1),r=!0}q&&this.Bz(a,c)}};b.prototype.UC=function(a){return d.J.truncate(a*this.CI+this.nJ)};b.prototype.VC=function(a){return d.J.truncate(a*this.At+this.pJ)};b.fe=function(a,c,
d){return new b(a,c,d)};b.se=function(a,c,d){return new b(a,c,d)};b.prototype.kw=function(a,b,f){this.hg=Math.max(d.J.truncate(2*Math.sqrt(f)+.5),64);this.Hn=d.J.truncate((2*this.hg+31)/32);this.$l=new d.h;this.jl=b;f=0;for(var c=this.hg,m=this.Hn;8<=c;)f+=c*m,c=d.J.truncate(c/2),m=d.J.truncate((2*c+31)/32);this.Dh=d.J.gf(f,0);this.qj=new d.zy;f=new e(this.Dh,this.Hn,this);this.qj.vY(this.hg,this.hg,f);a.s(this.$l);this.$l.O(b,b);var c=new d.h,m=d.h.pa(1,1,this.hg-2,this.hg-2),g=b*m.N();b*=m.fa();
c.I(this.$l.Wf(),Math.max(g,this.$l.N()),Math.max(b,this.$l.fa()));this.yB=this.jl;this.kl=new d.Hd;this.kl.kU(c,m);new d.Hd;switch(a.G()){case 550:f.Kx(this.qj,2);this.nS();break;case 1607:f.Kx(this.qj,2);this.dL(this.qj,a,this.yB);break;case 1736:f.Kx(this.qj,1),this.mS(this.kl,a),f.Kx(this.qj,2),this.dL(this.qj,a,this.yB)}this.CI=this.kl.lb;this.At=this.kl.gb;this.nJ=this.kl.Wb;this.pJ=this.kl.bc;this.$P()};b.prototype.$P=function(){this.qj.flush();for(var a=0,b=this.hg*this.Hn,f=this.hg,e=d.J.truncate(this.hg/
2),m=this.Hn,g=d.J.truncate((2*e+31)/32);8<f;){for(f=0;f<e;f++)for(var h=2*f,l=2*f+1,n=0;n<e;n++){var t=2*n,p=2*n+1,q=t>>4,t=2*(t&15),r=p>>4,p=2*(p&15),v=this.Dh[a+m*h+q]>>t&3,v=v|this.Dh[a+m*h+r]>>p&3,v=v|this.Dh[a+m*l+q]>>t&3,v=v|this.Dh[a+m*l+r]>>p&3;this.Dh[b+g*f+(n>>4)]|=v<<2*(n&15)}f=e;m=g;a=b;e=d.J.truncate(f/2);g=d.J.truncate((2*e+31)/32);b=a+m*f}};b.prototype.rm=function(a,b){if(!this.$l.contains(a,b))return 0;a=this.UC(a);b=this.VC(b);if(0>a||a>=this.hg||0>b||b>=this.hg)return 0;a=this.Dh[this.Hn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Rn=function(a){if(!a.Ma(this.$l))return 0;var b=this.UC(a.o),f=this.UC(a.v),e=this.VC(a.A);a=this.VC(a.B);0>b&&(b=0);0>e&&(e=0);f>=this.hg&&(f=this.hg-1);a>=this.hg&&(a=this.hg-1);if(b>f||e>a)return 0;for(var m=Math.max(f-b,1)*Math.max(a-e,1),g=0,h=this.Hn,l=this.hg,n=0;;){if(32>m||16>l){for(m=e;m<=a;m++)for(var t=b;t<=f;t++)if(n=this.Dh[g+h*m+(t>>4)]>>2*(t&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}g+=h*l;l=d.J.truncate(l/2);h=d.J.truncate((2*
l+31)/32);b=d.J.truncate(b/2);e=d.J.truncate(e/2);f=d.J.truncate(f/2);a=d.J.truncate(a/2);m=Math.max(f-b,1)*Math.max(a-e,1)}};b.prototype.KT=function(){return this.hg*this.Hn};return b}();d.xy=g})(n||(n={}));(function(d){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(d.RN||(d.RN={}));var e=
function(){function b(){}b.pa=function(a,c,d,e,m,g,h,l){var f=new b;f.bx=a;f.zn=c;f.ek=d;f.rj=e;f.RI=m;f.G_=g;f.H_=h;f.I_=l;return f};return b}(),g=function(){function b(){}b.TE=function(a,c,f){if(!b.cz(a))return!1;var e=d.na.ah(c,a,!1);c=!1;d.wl.JF(a)&&(c=c||a.Xu(e,f));e=a.G();1736!=e&&1607!=e||!d.wl.HF(a)||0==f||(c=c||a.Hj(f));1736!=e&&1607!=e||!d.wl.IF(a)||0==f||(c=c||a.BO());return c};b.cz=function(a){return d.wl.JF(a)||d.wl.HF(a)||d.wl.IF(a)};return b}();d.Gu=g;g=function(){function b(){this.Ph=
[]}b.ZB=function(a,c,f,e,m){var k=a.G(),g=c.G();if(197==k){if(197==g)return b.rO(a,c,f,e);if(33==g)return 2==e?e=1:1==e&&(e=2),b.kG(c,a,f,e)}else if(33==k){if(197==g)return b.kG(a,c,f,e);if(33==g)return b.uO(a,c,f,e)}if(a.u()||c.u())return 4==e?!0:!1;var h=new d.h;a.s(h);var l=new d.h;c.s(l);var n=new d.h;n.I(h);n.Nb(l);f=d.na.be(f,n,!1);if(b.Ek(h,l,f))return 4==e?!0:!1;h=!1;d.xl.Oc(k)&&(k=new d.Ua(a.description),k.dc(a,!0),a=k,k=1607);d.xl.Oc(g)&&(g=new d.Ua(c.description),g.dc(c,!0),c=g,g=1607);
if(197!=k&&197!=g){if(a.tb()<c.tb()||33==k&&550==g)2==e?e=1:1==e&&(e=2)}else 1736!=k&&197!=g&&(2==e?e=1:1==e&&(e=2));switch(k){case 1736:switch(g){case 1736:h=b.gu(a,c,f,e,m);break;case 1607:h=b.On(a,c,f,e,m);break;case 33:h=b.fu(a,c,f,e,m);break;case 550:h=b.eu(a,c,f,e,m);break;case 197:h=b.dD(a,c,f,e,m)}break;case 1607:switch(g){case 1736:h=b.On(c,a,f,e,m);break;case 1607:h=b.MB(a,c,f,e,m);break;case 33:h=b.iu(a,c,f,e,m);break;case 550:h=b.hu(a,c,f,e,m);break;case 197:h=b.rD(a,c,f,e)}break;case 33:switch(g){case 1736:h=
b.fu(c,a,f,e,m);break;case 1607:h=b.iu(c,a,f,e,m);break;case 550:h=b.au(c,a,f,e,m)}break;case 550:switch(g){case 1736:h=b.eu(c,a,f,e,m);break;case 1607:h=b.hu(c,a,f,e,m);break;case 550:h=b.DB(a,c,f,e,m);break;case 33:h=b.au(a,c,f,e,m);break;case 197:h=b.RJ(a,c,f,e)}break;case 197:switch(g){case 1736:h=b.dD(c,a,f,e,m);break;case 1607:h=b.rD(c,a,f,e);break;case 550:h=b.RJ(c,a,f,e)}}return h};b.rO=function(a,c,f,e){if(a.u()||c.u())return 4==e?!0:!1;var k=new d.h,g=new d.h,h=new d.h;a.s(k);c.s(g);h.I(k);
h.Nb(g);a=d.na.be(f,h,!1);switch(e){case 4:return b.Ek(k,g,a);case 2:return b.RE(g,k,a);case 1:return b.RE(k,g,a);case 3:return b.We(k,g,a);case 8:return b.CP(k,g,a);case 32:return b.$O(k,g,a);case 16:return b.DL(k,g,a)}return!1};b.kG=function(a,c,f,e){if(a.u()||c.u())return 4==e?!0:!1;a=a.w();var k=new d.h,g=new d.h;c.s(k);g.I(a);g.Nb(k);c=d.na.be(f,g,!1);switch(e){case 4:return b.Dx(a,k,c);case 2:return b.XC(a,k,c);case 1:return b.DN(a,k,c);case 3:return b.qL(a,k,c);case 8:return b.WC(a,k,c)}return!1};
b.uO=function(a,c,f,e){if(a.u()||c.u())return 4==e?!0:!1;a=a.w();c=c.w();var k=new d.h;k.I(a);k.Nb(c);f=d.na.be(f,k,!1);switch(e){case 4:return b.MN(a,c,f);case 2:return b.eL(c,a,f);case 1:return b.eL(a,c,f);case 3:return b.yL(a,c,f)}return!1};b.gu=function(a,c,d,e,g){switch(e){case 4:return b.hS(a,c,d);case 2:return b.Ex(c,a,d,g);case 1:return b.Ex(a,c,d,g);case 3:return b.iU(a,c,d);case 8:return b.lW(a,c,d);case 32:return b.hV(a,c,d,g)}return!1};b.On=function(a,c,d,e,g){switch(e){case 4:return b.FS(a,
c,d);case 1:return b.LB(a,c,d,g);case 8:return b.vW(a,c,d,g);case 16:return b.DP(a,c,d)}return!1};b.fu=function(a,c,d,e){switch(e){case 4:return b.WR(a,c,d);case 1:return b.wO(a,c,d);case 8:return b.dW(a,c,d)}return!1};b.eu=function(a,c,d,e){switch(e){case 4:return b.BR(a,c,d);case 1:return b.tO(a,c,d);case 8:return b.SV(a,c,d);case 16:return b.tP(a,c,d)}return!1};b.dD=function(a,c,d,e,g){if(b.lQ(a,c,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.dX(a,c,d);case 1:return b.qO(a,c,
d);case 3:return b.fU(a,c,d);case 8:return b.kV(a,c,d,g);case 32:return b.eV(a,c,d,g);case 16:return b.EL(a,c,d,g)}return!1};b.MB=function(a,c,d,e){switch(e){case 4:return b.yZ(a,c,d);case 2:return b.nD(c,a,d);case 1:return b.nD(a,c,d);case 3:return b.OL(a,c,d);case 8:return b.tD(a,c,d);case 32:return b.cM(a,c,d);case 16:return b.pD(a,c,d)}return!1};b.iu=function(a,c,d,e){switch(e){case 4:return b.wZ(a,c,d);case 1:return b.RY(a,c,d);case 8:return b.yM(a,c,d)}return!1};b.hu=function(a,c,d,e){switch(e){case 4:return b.uZ(a,
c,d);case 1:return b.GX(a,c,d);case 8:return b.nM(a,c,d);case 16:return b.mZ(a,c,d)}return!1};b.rD=function(a,c,d,e){if(b.pZ(a,c,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.DM(a,c,d);case 1:return b.nX(a,c,d);case 3:return b.IL(a,c,d);case 8:return b.jM(a,c,d);case 32:return b.ZL(a,c,d);case 16:return b.eZ(a,c,d)}return!1};b.DB=function(a,c,d,e){switch(e){case 4:return b.RL(a,c,d);case 2:return b.sJ(c,a,d);case 1:return b.sJ(a,c,d);case 3:return b.bM(a,c,d);case 32:return b.HM(a,
c,d)}return!1};b.au=function(a,c,d,e){switch(e){case 4:return b.AJ(a,c,d);case 2:return b.SM(a,c,d);case 1:return b.oZ(a,c,d);case 3:return b.zx(a,c,d)}return!1};b.RJ=function(a,c,d,e){switch(e){case 4:return b.NL(a,c,d);case 2:return b.OM(a,c,d);case 1:return b.lZ(a,c,d);case 3:return b.YL(a,c,d);case 8:return b.LM(a,c,d);case 16:return b.HL(a,c,d)}return!1};b.iU=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.We(e,g,f))return!1;e=b.vc(a,c,!1);if(4==e||1==e||2==e)return!1;if(b.qJ(a,c,
f))return!0;e=a.Rb();g=c.Rb();return Math.abs(e-g)>4*Math.max(a.D(),c.D())*f?!1:b.OB(a,c,f,!0)};b.hS=function(a,c,d){var f=b.vc(a,c,!0);return 4==f?!0:1==f||2==f||1073741824==f?!1:b.bD(a,c,d)};b.lW=function(a,c,d){var f=b.vc(a,c,!1);return 4==f||1==f||2==f?!1:b.hD(a,c,d,null)};b.hV=function(a,c,d,e){var f=b.vc(a,c,!1);return 4==f||1==f||2==f?!1:b.cD(a,c,d,e)};b.Ex=function(a,c,f,e){var k=new d.h,g=new d.h;a.s(k);c.s(g);if(!b.Ec(k,g,f))return!1;k=b.vc(a,c,!1);return 4==k||2==k?!1:1==k?!0:b.BL(a,c,
f,e)};b.FS=function(a,c,d){var f=b.vc(a,c,!0);return 4==f?!0:1==f||1073741824==f?!1:b.bD(a,c,d)};b.vW=function(a,c,d,e){var f=b.vc(a,c,!1);return 4==f||1==f?!1:b.jD(a,c,d,e)};b.DP=function(a,c,d){var f=b.vc(a,c,!1);return 4==f||1==f?!1:b.aD(a,c,d,null)};b.LB=function(a,c,f,e){var k=new d.h,g=new d.h;a.s(k);c.s(g);if(!b.Ec(k,g,f))return!1;k=b.vc(a,c,!1);return 4==k?!1:1==k?!0:b.CL(a,c,f,e)};b.WR=function(a,b,f){return 0==d.gd.WH(a,b,f)?!0:!1};b.dW=function(a,c,d){c=c.w();return b.eD(a,c,d)};b.wO=function(a,
c,d){c=c.w();return b.AL(a,c,d)};b.BR=function(a,c,f){var e=b.vc(a,c,!1);if(4==e)return!0;if(1==e)return!1;e=new d.h;a.s(e);e.O(f,f);for(var g=new d.b,h=0;h<c.D();h++)if(c.w(h,g),e.contains(g)){var l=d.gd.ge(a,g,f);if(1==l||2==l)return!1}return!0};b.SV=function(a,b,f){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;c=new d.h;a.s(c);c.O(f,f);var e,g=!1,h;h=a;for(var l=!1,n=0;n<b.D();n++){e=b.Ba(n);if(c.contains(e))if(e=d.gd.ge(h,e,f),2==e)g=!0;else if(1==e)return!1;l||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?h=a:(h=new d.Ja,a.copyTo(h),h.Hj(1)),l=!0)}return g?!0:!1};b.tP=function(a,b,f){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;var e=new d.h,c=new d.h,g=new d.h;a.s(e);b.s(g);c.I(e);c.O(f,f);var g=e=!1,h,l;l=a;for(var n=!1,t=0;t<b.D();t++){h=b.Ba(t);c.contains(h)?(h=d.gd.ge(l,h,f),0==h?g=!0:1==h&&(e=!0)):g=!0;if(e&&g)return!0;n||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(l=new d.Ja,a.copyTo(l),l.Hj(1)),n=!0)}return!1};b.tO=function(a,b,f){var c=new d.h,e=new d.h;a.s(c);b.s(e);
if(!this.Ec(c,e,f))return!1;e=this.vc(a,b,!1);if(4==e)return!1;if(1==e)return!0;var e=!1,g,h;h=a;for(var l=!1,n=0;n<b.D();n++){g=b.Ba(n);if(!c.contains(g))return!1;g=d.gd.ge(h,g,f);if(1==g)e=!0;else if(0==g)return!1;l||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?h=a:(h=new d.Ja,a.copyTo(h),h.Hj(1)),l=!0)}return e};b.fU=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.We(e,g,f))return!1;e=new d.Ja;e.jd(c,!1);return b.OB(a,e,f,!0)};b.lQ=function(a,c,f){var e=b.vc(a,c,!1);if(4==e)return!0;
if(1==e||2==e)return!1;var g=new d.h,e=new d.h;a.s(g);c.s(e);if(b.Ec(e,g,f))return!1;g=new d.b;e.Tn(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;e.TJ(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;e.Un(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;e.WJ(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;c=a.Pa(0);g=new d.h;g.I(e);g.O(f,f);for(var h=0,l=a.D();h<l;h++){var n=c.read(2*h),t=c.read(2*h+1);if(g.contains(n,t))return!1}return!b.XH(a,e,f)};b.kV=function(a,c,f,e){var k=b.vc(a,c,!1);if(4==k||1==k||2==k)return!1;var k=new d.h,g=new d.h;
a.s(k);c.s(g);if(b.Ec(g,k,f))return!1;if(g.N()<=f&&g.fa()<=f)return c=c.Bq(),b.eD(a,c,f);if(g.N()<=f||g.fa()<=f)return k=new d.Ua,g=new d.Wa,c.ig(0,g),k.Rf(g),c.ig(2,g),k.lineTo(g),b.jD(a,k,f,e);k=new d.Ja;k.jd(c,!1);return b.hD(a,k,f,e)};b.eV=function(a,c,f,e){var k=b.vc(a,c,!1);if(4==k||1==k||2==k)return!1;var k=new d.h,g=new d.h;a.s(k);c.s(g);if(b.Ec(g,k,f)||g.N()<=f||g.fa()<=f)return!1;k=new d.Ja;k.jd(c,!1);return b.cD(a,k,f,e)};b.dX=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(g,
e,f)};b.qO=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(e,g,f))return!1;e=b.vc(a,c,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(g.N()<=f&&g.fa()<=f)return c=c.Bq(),b.AL(a,c,f);if(g.N()<=f||g.fa()<=f)return g=new d.Ua,e=new d.Wa,c.ig(0,e),g.Rf(e),c.ig(2,e),g.lineTo(e),b.CL(a,g,f,null);g=new d.Ja;g.jd(c,!1);return b.BL(a,g,f,null)};b.EL=function(a,c,f,e){var k=new d.h,g=new d.h;a.s(k);c.s(g);if(b.Ec(g,k,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;k=new d.Ua;g=new d.Wa;c.ig(0,
g);k.Rf(g);c.ig(2,g);k.lineTo(g);return b.aD(a,k,f,e)};b.OL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.We(e,g,f)&&4!=b.vc(a,c,!1)?b.qJ(a,c,f)?!0:b.OB(a,c,f,!1):!1};b.yZ=function(a,b,f){return 4==this.vc(a,b,!1)?!0:(new d.Lm(a,b,f,!0)).next()?!this.fI(a,b,f):!1};b.tD=function(a,c,f){if(4==b.vc(a,c,!1))return!1;var e=new d.Rd(0);if(0!=b.RB(a,c,f,e))return!1;for(var g=new d.Ed,h=0;h<e.size;h+=2){var l=e.read(h),n=e.read(h+1);g.lv(l,n)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return b.yx(a,
g,f)};b.pD=function(a,c,f){if(4==b.vc(a,c,!1))return!1;var e=new d.Rd(0);if(0!=b.RB(a,c,f,e))return!1;for(var g=new d.Ed,h=0;h<e.size;h+=2){var l=e.read(h),n=e.read(h+1);g.lv(l,n)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return!b.yx(a,g,f)};b.cM=function(a,c,d){return 4==b.vc(a,c,!1)?!1:b.$H(a,c,d)};b.nD=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(e,g,f)&&4!=b.vc(a,c,!1)?b.Wg(c,a,f,!1):!1};b.wZ=function(a,c,d){if(4==b.vc(a,c,!1))return!0;c=c.w();return!b.HA(a,c,d)};b.yM=function(a,
c,d){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.gC(a,c,d)};b.RY=function(a,c,d){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.yH(a,c,d)};b.uZ=function(a,c,d){return 4==b.vc(a,c,!1)?!0:!b.ZH(a,c,d,!1)};b.nM=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),e=new d.h,g=new d.h,h=new d.h;a.s(e);b.s(g);e.O(f,f);g.O(f,f);h.I(e);h.Ma(g);var l,n,e=null;l=a.ob;null!=l?(n=l.Mb,e=l.np,null==n&&(n=l=d.na.Lj(a,h))):n=l=d.na.Lj(a,h);var t=n.mf(),p=null;null!=e&&(p=e.mf());var q=new d.b,r=new d.b,v=
!1,x=f*f,e=new d.Fm(b.D());for(l=0;l<b.D();l++)e.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,q),h.contains(q))if(g.I(q.x,q.y,q.x,q.y),null==p||(p.Ni(g,f),-1!=p.next())){t.Ni(g,f);for(var w=t.next();-1!=w;w=t.next())if(c.Tb(n.ja(w)),w=c.ba(),w.gc(w.pe(q,!1),r),d.b.sc(q,r)<=x){e.write(l,1);v=!0;break}}if(!v)return!1;a=a.Gg();c=new d.Ed;g=new d.b;for(l=0;l<b.D();l++)0!=e.read(l)&&(b.w(l,g),c.lv(g.x,g.y));return this.yx(a,c,f)};b.mZ=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),e=new d.h,g=
new d.h,h=new d.h;a.s(e);b.s(g);e.O(f,f);g.O(f,f);h.I(e);h.Ma(g);var l,n,e=null;l=a.ob;null!=l?(n=l.Mb,e=l.np,null==n&&(n=l=d.na.Lj(a,h))):n=l=d.na.Lj(a,h);var t=n.mf(),p=null;null!=e&&(p=e.mf());var q=new d.b,r=new d.b,v=!1,x=!1,w=f*f,e=new d.Fm(b.D());for(l=0;l<b.D();l++)e.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,q),h.contains(q))if(g.I(q.x,q.y,q.x,q.y),null!=p&&(p.Ni(g,f),-1==p.next()))x=!0;else{t.Ni(g,f);for(var y=!1,z=t.next();-1!=z;z=t.next())if(c.Tb(n.ja(z)),z=c.ba(),z.gc(z.pe(q,!1),r),d.b.sc(q,
r)<=w){e.write(l,1);y=v=!0;break}y||(x=!0)}else x=!0;if(!v||!x)return!1;a=a.Gg();c=new d.Ed;g=new d.b;for(l=0;l<b.D();l++)0!=e.read(l)&&(b.w(l,g),c.lv(g.x,g.y));return!this.yx(a,c,f)};b.GX=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(e,g,f)||4==b.vc(a,c,!1)||!b.ZH(a,c,f,!0))return!1;a=a.Gg();return!b.CJ(a,c,f)};b.IL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return g.fa()>f&&g.N()>f?!1:b.We(e,g,f)};b.pZ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(g,
e,f)?!1:!b.XH(a,g,f)};b.jM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(g.fa()<=f&&g.N()<=f)return g=c.Bq(),b.gC(a,g,f);if(g.fa()<=f||g.N()<=f)return g=new d.Ua,e=new d.Wa,c.ig(0,e),g.Rf(e),c.ig(2,e),g.lineTo(e),b.tD(a,g,f);a=a.Fa();c=new d.h;e=new d.h;c.I(g);e.I(g);c.O(-f,-f);e.O(f,f);for(var g=!1,h=new d.h,l=new d.h;a.Ya();)for(;a.Ea();){a.ba().s(h);l.I(c);l.Ma(h);if(!l.u()&&(l.fa()>f||l.N()>f))return!1;l.I(e);l.Ma(h);l.u()||(g=!0)}return g};b.ZL=function(a,c,f){var e=new d.h,g=new d.h;
a.s(e);c.s(g);if(b.Ec(e,g,f)||b.Ec(g,e,f)||b.Ec(g,e,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;e=new d.Ua;g=new d.Wa;c.ig(0,g);e.Rf(g);c.ig(2,g);e.lineTo(g);return b.$H(a,e,f)};b.DM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f)return b.Ec(g,e,f);a=a.Fa();c=new d.h;c.I(g);c.O(-f,-f);for(var g=!1,e=new d.h,h=new d.h;a.Ya();)for(;a.Ea();)a.ba().s(e),c.Tm(e)?g=!0:(h.I(c),h.Ma(e),!h.u()&&(h.fa()>f||h.N()>f)&&(g=!0));
return g};b.nX=function(a,c,f){var e=new d.h,g=new d.h;c.s(g);a.s(e);if(!b.Ec(e,g,f)||g.fa()>f&&g.N()>f)return!1;if(g.fa()<=f&&g.N()<=f)return c=c.Bq(),b.yH(a,c,f);e=new d.Ua;g=new d.Wa;c.ig(0,g);e.Rf(g);c.ig(2,g);e.lineTo(g);return b.Wg(e,a,f,!1)};b.eZ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f)return e=new d.Ua,g=new d.Wa,c.ig(0,g),e.Rf(g),c.ig(2,g),e.lineTo(g),b.pD(a,e,f);a=a.Fa();c=new d.h;e=new d.h;e.I(g);c.I(g);e.O(-f,
-f);c.O(f,f);for(var h=g=!1,l=new d.h,n=new d.h;a.Ya();)for(;a.Ea();)if(a.ba().s(l),h||c.contains(l)||(h=!0),g||(n.I(e),n.Ma(l),!n.u()&&(n.fa()>f||n.N()>f)&&(g=!0)),g&&h)return!0;return!1};b.bM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.We(e,g,f)?b.iM(a,c,f)?!0:b.QC(a,c,f,!1,!0,!1):!1};b.RL=function(a,c,d){return!b.CJ(a,c,d)};b.HM=function(a,c,d){return b.QC(a,c,d,!1,!1,!0)};b.sJ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(e,g,f)?b.QC(c,a,f,!0,!1,!1):!1};
b.yx=function(a,b,f){f*=f;for(var c=new d.b,e=new d.b,g=0;g<b.D();g++){b.w(g,e);for(var h=!1,l=0;l<a.D();l++)if(a.w(l,c),d.b.sc(c,e)<=f){h=!0;break}if(!h)return!1}return!0};b.zx=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.We(e,g,f)};b.AJ=function(a,c,d){c=c.w();return b.$t(a,c,d)};b.SM=function(a,c,d){return b.zx(a,c,d)};b.oZ=function(a,c,d){return!b.AJ(a,c,d)};b.YL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return g.fa()>f||g.N()>f?!1:b.We(e,g,f)};b.NL=function(a,c,
f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(b.Ec(g,e,f))return!1;c=new d.h;c.I(g);c.O(f,f);f=new d.b;for(g=0;g<a.D();g++)if(a.w(g,f),c.contains(f))return!1;return!0};b.LM=function(a,b,f){var c=new d.h,e=new d.h,g=new d.h;b.s(c);if(c.fa()<=f&&c.N()<=f)return!1;if(c.fa()<=f||c.N()<=f){b=new d.b;var h=!1;e.I(c);g.I(c);e.O(f,f);c.fa()>f?g.O(0,-f):g.O(-f,0);for(var l=0;l<a.D();l++)if(a.w(l,b),e.contains(b)){if(c.fa()>f){if(b.y>g.A&&b.y<g.B)return!1}else if(b.x>g.o&&b.x<g.v)return!1;h=!0}return h}e.I(c);
g.I(c);e.O(f,f);g.O(-f,-f);b=new d.b;h=!1;for(l=0;l<a.D();l++)if(a.w(l,b),e.contains(b)){if(g.Tm(b))return!1;h=!0}return h};b.OM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(g,e,f))return!1;if(g.fa()<=f&&g.N()<=f)return b.We(e,g,f);if(g.fa()<=f||g.N()<=f){c=!1;var e=new d.h,h=new d.h;e.I(g);h.I(g);g.fa()>f?e.O(0,-f):e.O(-f,0);h.O(f,f);for(var l=new d.b,n=0;n<a.D();n++){a.w(n,l);if(!h.contains(l))return!1;g.fa()>f?l.y>e.A&&l.y<e.B&&(c=!0):l.x>e.o&&l.x<e.v&&(c=!0)}return c}c=!1;e=
new d.h;h=new d.h;e.I(g);h.I(g);e.O(-f,-f);h.O(f,f);l=new d.b;for(n=0;n<a.D();n++){a.w(n,l);if(!h.contains(l))return!1;e.Tm(l)&&(c=!0)}return c};b.lZ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(e,g,f)||g.fa()>f||g.N()>f)return!1;c=c.Bq();return!b.$t(a,c,f)};b.HL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f){c=new d.h;e=new d.h;c.I(g);g.fa()>f?c.O(0,-f):c.O(-f,0);e.I(g);e.O(f,f);for(var h=new d.b,l=!1,n=
!1,t=0;t<a.D();t++)if(a.w(t,h),l||(g.fa()>f?h.y>c.A&&h.y<c.B&&(l=!0):h.x>c.o&&h.x<c.v&&(l=!0)),n||e.contains(h)||(n=!0),l&&n)return!0;return!1}c=new d.h;e=new d.h;c.I(g);c.O(-f,-f);e.I(g);e.O(f,f);h=new d.b;n=l=!1;for(t=0;t<a.D();t++)if(a.w(t,h),!l&&c.Tm(h)&&(l=!0),n||e.contains(h)||(n=!0),l&&n)return!0;return!1};b.yL=function(a,b,f){return d.b.sc(a,b)<=f*f?!0:!1};b.MN=function(a,b,f){return d.b.sc(a,b)>f*f?!0:!1};b.eL=function(a,c,d){return b.yL(a,c,d)};b.qL=function(a,c,f){var e=new d.h;e.I(a);
return b.We(e,c,f)};b.Dx=function(a,b,f){var c=new d.h;c.I(b);c.O(f,f);return!c.contains(a)};b.WC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!1;var c=new d.h,e=new d.h;c.I(b);c.O(f,f);if(!c.contains(a))return!1;if(b.fa()<=f||b.N()<=f){e.I(b);b.fa()>f?e.O(0,-f):e.O(-f,0);if(b.fa()>f){if(a.y>e.A&&a.y<e.B)return!1}else if(a.x>e.o&&a.x<e.v)return!1;return!0}e.I(b);e.O(-f,-f);return e.Tm(a)?!1:!0};b.XC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!0;if(b.fa()<=f||b.N()<=f){var c=new d.h;c.I(b);b.fa()>
f?c.O(0,-f):c.O(-f,0);var e=!1;b.fa()>f?a.y>c.A&&a.y<c.B&&(e=!0):a.x>c.o&&a.x<c.v&&(e=!0);return e}c=new d.h;c.I(b);c.O(-f,-f);return c.Tm(a)};b.DN=function(a,c,d){return b.qL(a,c,d)};b.We=function(a,c,d){return b.Ec(a,c,d)&&b.Ec(c,a,d)};b.Ek=function(a,b,f){var c=new d.h;c.I(b);c.O(f,f);return!a.Yb(c)};b.CP=function(a,c,f){if(a.fa()<=f&&a.N()<=f){var e=a.Wf();return b.WC(e,c,f)}if(c.fa()<=f&&c.N()<=f)return e=c.Wf(),b.WC(e,a,f);a.fa()>f&&a.N()>f&&(c.fa()<=f||c.N()<=f)?e=c:(e=a,a=c);if(e.fa()<=f||
e.N()<=f){if(a.fa()<=f||a.N()<=f){c=new d.Hb;var g=new d.Hb,h=[0,0],l=[0,0],n=new d.b;e.Tn(n);c.Mc(n);e.Un(n);c.Zc(n);a.Tn(n);g.Mc(n);a.Un(n);g.Zc(n);c.Ma(g,null,h,l,f);return 1!=c.Ma(g,null,null,null,f)?!1:0==h[0]||1==h[1]||0==l[0]||1==l[1]}c=new d.h;g=new d.h;c.I(a);c.O(-f,-f);g.I(c);g.Ma(e);return!g.u()&&(g.fa()>f||g.N()>f)?!1:!0}a.O(f,f);g=new d.h;g.I(e);g.Ma(a);return g.u()||!g.u()&&g.fa()>f&&g.N()>f?!1:!0};b.$O=function(a,c,f){if(b.Ec(a,c,f)||b.Ec(c,a,f)||a.fa()<=f&&a.N()<=f||c.fa()<=f&&c.N()<=
f)return!1;if(a.fa()<=f||a.N()<=f){if(c.fa()>f&&c.N()>f)return!1;var e=new d.Hb,g=new d.Hb,h=[0,0],l=[0,0],n=new d.b;a.Tn(n);e.Mc(n);a.Un(n);e.Zc(n);c.Tn(n);g.Mc(n);c.Un(n);g.Zc(n);e.Ma(g,null,h,l,f);return 2!=e.Ma(g,null,null,null,f)?!1:(0<h[0]||1>h[1])&&(0<l[0]||1>l[1])}if(c.fa()<=f||c.N()<=f)return!1;e=new d.h;e.I(a);e.Ma(c);return e.u()||e.fa()<=f||e.N()<=f?!1:!0};b.RE=function(a,c,f){if(!b.Ec(a,c,f))return!1;if(a.fa()<=f&&a.N()<=f)return a=a.Wf(),b.XC(a,c,f);if(c.fa()<=f&&c.N()<=f)return c=c.Wf(),
b.XC(c,a,f);if(a.fa()<=f||a.N()<=f)return b.Ec(a,c,f);if(c.fa()<=f||c.N()<=f){var e=new d.h;e.I(a);e.O(-f,-f);if(e.Tm(c))return!0;a=new d.h;a.I(e);a.Ma(c);return a.u()||a.fa()<=f&&a.N()<=f?!1:!0}return b.Ec(a,c,f)};b.DL=function(a,c,f){if(b.Ec(a,c,f)||b.Ec(c,a,f)||a.fa()<=f&&a.N()<=f||c.fa()<=f&&c.N()<=f||c.fa()>f&&c.N()>f&&a.fa()>f&&a.N()>f)return!1;var e;a.fa()>f&&a.N()>f?e=c:(e=a,a=c);if(a.fa()>f&&a.N()>f){c=new d.h;var g=new d.h;g.I(a);g.O(-f,-f);c.I(g);c.Ma(e);return c.u()||c.fa()<=f&&c.N()<=
f?!1:!0}c=new d.Hb;var g=new d.Hb,h=[0,0],l=[0,0],n=new d.b;e.Tn(n);c.Mc(n);e.Un(n);c.Zc(n);a.Tn(n);g.Mc(n);a.Un(n);g.Zc(n);c.Ma(g,null,h,l,f);return 1!=c.Ma(g,null,null,null,f)?!1:0<h[0]&&1>h[1]&&0<l[0]&&1>l[1]};b.bD=function(a,b,f){var c,e,g=new d.h,h=new d.h,l=new d.Lm(a,b,f,!0);if(!l.next())return!0;if(this.fI(a,b,f))return!1;var n;n=a;var t;t=null;1736==b.G()&&(t=b);var p=!1,q=!1;do{c=l.Ql();e=l.Ml();e=b.Ba(b.wa(e));g.I(l.eA());g.O(f,f);if(g.contains(e)&&(e=d.gd.ge(n,e,0),0!=e)||1736==b.G()&&
(c=a.Ba(a.wa(c)),h.I(l.Iz()),h.O(f,f),h.contains(c)&&(e=d.gd.ge(t,c,0),0!=e)))return!1;p||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?n=a:(n=new d.Ja,a.copyTo(n),n.Hj(1)),p=!0);1736!=b.G()||q||(q=b,!d.ff.qm(q,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?t=b:(t=new d.Ja,q.copyTo(t),t.Hj(1)),q=!0)}while(l.next());return!0};b.Ec=function(a,b,f){var c=new d.h;c.I(a);c.O(f,f);return c.contains(b)};b.Yp=function(a,b,f){var c=new d.h;c.I(b);c.O(f,f);b=new d.b;a.Tn(b);if(!c.contains(b))return!0;a.TJ(b);if(!c.contains(b))return!0;
a.WJ(b);if(!c.contains(b))return!0;a.Un(b);return c.contains(b)?!1:!0};b.qJ=function(a,b,f){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var c=new d.b,e=new d.b,g=!0;f*=f;for(var h=0;h<a.aa();h++){if(a.Gc(h)!=b.Gc(h)){g=!1;break}for(var l=a.wa(h);l<b.Gc(h);l++)if(a.w(l,c),b.w(l,e),d.b.sc(c,e)>f){g=!1;break}if(!g)break}return g?!0:!1};b.iM=function(a,b,f){if(a.D()!=b.D())return!1;var c=new d.b,e=new d.b,g=!0;f*=f;for(var h=0;h<a.D();h++)if(a.w(h,c),b.w(h,e),d.b.sc(c,e)>f){g=!1;break}return g?!0:!1};b.QC=
function(a,b,f,e,g,h){var c=!1,k;a.D()>b.D()?(e&&(e=!1,c=!0),k=b):(k=a,a=b);b=null;if(g||h||c){b=new d.Fm(a.D());for(var m=0;m<a.D();m++)b.write(m,0)}var m=new d.h,l=new d.h,u=new d.h;k.s(m);a.s(l);m.O(f,f);l.O(f,f);u.I(m);u.Ma(l);for(var l=new d.b,n=new d.b,t=!0,p=d.na.BF(a,u),q=p.mf(),r=f*f,v=0;v<k.D();v++)if(k.w(v,l),u.contains(l)){var x=!1;m.I(l.x,l.y,l.x,l.y);q.Ni(m,f);for(var w=q.next();-1!=w&&!(w=p.ja(w),a.w(w,n),d.b.sc(l,n)<=r&&((g||h||c)&&b.write(w,1),x=!0,e));w=q.next());if(!x&&(t=!1,g||
e))return!1}else{if(g||e)return!1;t=!1}if(h&&t)return!1;if(e)return!0;for(m=0;m<a.D();m++)if(1==b.read(m)){if(h)return!0}else if(g||c)return!1;return h?!1:!0};b.CJ=function(a,b,f){var c;a.D()>b.D()?c=b:(c=a,a=b);b=new d.h;var e=new d.h,g=new d.h;c.s(b);a.s(e);b.O(f,f);e.O(f,f);g.I(b);g.Ma(e);for(var e=new d.b,h=new d.b,l=f*f,n=d.na.BF(a,g),t=n.mf(),p=0;p<c.D();p++)if(c.w(p,e),g.contains(e)){b.I(e.x,e.y,e.x,e.y);t.Ni(b,f);for(var q=t.next();-1!=q;q=t.next())if(a.w(n.ja(q),h),d.b.sc(e,h)<=l)return!0}return!1};
b.OB=function(a,c,d,e){return b.Wg(a,c,d,e)&&b.Wg(c,a,d,e)};b.Wg=function(a,c,f,g){function k(a,b){return q.WF(a,b)}var h=!0,l=[0,0],n=[0,0],t=0,p=new d.ia(0),q=new b,r,v=new d.h,x=new d.h,w=new d.h;a.s(v);c.s(x);v.O(f,f);x.O(f,f);w.I(v);w.Ma(x);a=a.Fa();var x=c.Fa(),y=null,z=y=null,G=c.ob;null!=G?(y=G.Mb,z=G.np,null==y&&(y=d.na.Lj(c,w))):y=d.na.Lj(c,w);c=y.mf();G=null;for(null!=z&&(G=z.mf());a.Ya();)for(;a.Ea();){var C=!1,D=a.ba();D.s(v);if(!v.Yb(w))return!1;if(null!=G&&(G.Ni(v,f),-1==G.next()))return h=
!1;z=D.Rb();c.Wn(D,f);for(r=c.next();-1!=r;r=c.next()){x.Tb(y.ja(r));r=x.ba();var J=D.Ma(r,null,l,n,f);if(2==J&&(!g||n[0]<=n[1])){var J=l[0],E=l[1],F=n[0],L=n[1];if(J*z<=f&&(1-E)*z<=f){C=!0;t=0;p.resize(0);q.Ph.length=0;for(var H=a.Db(),F=!0;F;){if(a.Ea()){D=a.ba();z=D.Rb();J=D.Ma(r,null,l,n,f);if(2==J&&(!g||n[0]<=n[1])&&(J=l[0],E=l[1],J*z<=f&&(1-E)*z<=f)){H=a.Db();continue}if(x.Ea()&&(r=x.ba(),J=D.Ma(r,null,l,n,f),2==J&&(!g||n[0]<=n[1])&&(J=l[0],E=l[1],J*z<=f&&(1-E)*z<=f))){H=a.Db();continue}}F=
!1}H!=a.Db()&&(a.Tb(H),a.ba());break}else H=a.Db(),r=e.pa(H,a.Ta,J,E,x.Db(),x.Ta,F,L),q.Ph.push(r),p.add(p.size)}}if(!C){if(t==q.Ph.length)return!1;1<p.size-t&&p.Gd(t,p.size,k);for(C=0;t<q.Ph.length;t++)if(r=q.Ph[p.get(t)],!(r.ek<C&&r.rj<C)){if(z*(r.ek-C)>f)return!1;C=r.rj;if(z*(1-C)<=f||1==C)break}if(z*(1-C)>f)return!1;t=0;p.resize(0);q.Ph.length=0}}return h};b.$H=function(a,c,f){if(1>b.RB(a,c,f,null))return!1;var e=new d.h,g=new d.h;a.s(e);c.s(g);var h=b.Yp(e,g,f),e=b.Yp(g,e,f);return h&&e?!0:h&&
!e?!b.Wg(c,a,f,!1):e&&!h?!b.Wg(a,c,f,!1):!b.Wg(a,c,f,!1)&&!b.Wg(c,a,f,!1)};b.RB=function(a,c,f,g){function k(a,b){return x.WF(a,b)}var h,l;a.iA()>c.iA()?(h=c,l=a):(h=a,l=c);a=h.Fa();c=l.Fa();var n=[0,0],t=[0,0],p=-1,q=0,r,v=new d.ia(0),x=new b,w,y=new d.h,z=new d.h,G=new d.h;h.s(y);l.s(z);y.O(f,f);z.O(f,f);G.I(y);G.Ma(z);h=null;null!=g&&(h=new d.b);r=z=z=null;var C=l.ob;null!=C?(z=C.Mb,r=C.np,null==z&&(z=d.na.Lj(l,G))):z=d.na.Lj(l,G);l=z.mf();C=null;for(null!=r&&(C=r.mf());a.Ya();)for(r=0;a.Ea();){var D=
a.ba();D.s(y);if(y.Yb(G)&&(null==C||(C.Ni(y,f),-1!=C.next()))){var J=D.Rb();l.Wn(D,f);for(var E=l.next();-1!=E;E=l.next()){var F=z.ja(E);c.Tb(F);w=c.ba();var L=w.Rb(),H=D.Ma(w,null,n,t,f);if(0<H){var E=n[0],p=t[0],I=2==H?n[1]:NaN,O=2==H?t[1]:NaN;if(2==H){if(J*(I-E)>f)return p=1;var R=J*(I-E);if(c.Ea()){w=c.ba();H=D.Ma(w,null,n,null,f);if(2==H){var H=n[0],K=n[1],H=J*(K-H);if(R+H>f)return p=1}c.Tb(F);c.ba()}if(!c.jn()){c.Li();w=c.Li();H=D.Ma(w,null,n,null,f);if(2==H&&(H=n[0],K=n[1],H=J*(K-H),R+H>f))return p=
1;c.Tb(F);c.ba()}if(a.Ea()){F=a.Db();D=a.ba();H=D.Ma(w,null,n,null,f);if(2==H&&(H=n[0],K=n[1],H=J*(K-H),R+H>f))return p=1;a.Tb(F);a.ba()}if(!a.jn()){F=a.Db();a.Li();D=a.Li();H=D.Ma(w,null,n,null,f);if(2==H&&(H=n[0],K=n[1],H=L*(K-H),R+H>f))return p=1;a.Tb(F);a.ba()}w=e.pa(a.Db(),a.Ta,E,I,c.Db(),c.Ta,p,O);x.Ph.push(w);v.add(v.size)}p=0;null!=g&&(D.gc(E,h),g.add(h.x),g.add(h.y))}}if(q<x.Ph.length){v.Gd(q,v.size,k);D=0;for(E=x.Ph[v.get(q)].zn;q<x.Ph.length;q++)if(w=x.Ph[v.get(q)],!(w.ek<D&&w.rj<D))if(J*
(w.ek-D)>f)r=J*(w.rj-w.ek),D=w.rj,E=w.zn;else{w.zn!=E?(r=J*(w.rj-w.ek),E=w.zn):r+=J*(w.rj-w.ek);if(r>f)return p=1;D=w.rj;if(1==D)break}J*(1-D)>f&&(r=0);q=0;v.resize(0);x.Ph.length=0}}}return p};b.fI=function(a,b,f){var c=a.Fa(),e=b.Fa();for(a=new d.Lm(a,b,f,!1);a.next();){b=a.Ql();var g=a.Ml();c.Tb(b);e.Tb(g);b=c.ba();if(0<e.ba().Ma(b,null,null,null,f))return!0}return!1};b.ZH=function(a,b,f,e){var c=a.Fa(),g=new d.h,k=new d.h,h=new d.h;a.s(g);b.s(k);g.O(f,f);g.contains(k);k.O(f,f);h.I(g);h.Ma(k);
g=a.ob;null!=g?(g=g.Mb,null==g&&(g=d.na.Lj(a,h))):g=d.na.Lj(a,h);a=g.mf();for(var l=new d.b,n=new d.b,t=f*f,p=0;p<b.D();p++)if(b.w(p,l),h.contains(l)){k.I(l.x,l.y,l.x,l.y);a.Ni(k,f);for(var q=!1,r=a.next();-1!=r;r=a.next())if(c.Tb(g.ja(r)),r=c.ba(),r.gc(r.pe(l,!1),n),d.b.sc(n,l)<=t){q=!0;break}if(e){if(!q)return!1}else if(q)return!0}return e?!0:!1};b.HA=function(a,b,f){var c=new d.b,e=f*f,g=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var h=new d.h;h.I(b);f=a.Xz(h,f);for(h=f.next();-1!=h;h=f.next())if(g.Tb(a.ja(h)),
g.Ea()){var h=g.ba(),l=h.pe(b,!1);h.gc(l,c);if(d.b.sc(b,c)<=e)return!0}return!1}for(a=new d.h;g.Ya();)for(;g.Ea();)if(h=g.ba(),h.s(a),a.O(f,f),a.contains(b)&&(l=h.pe(b,!1),h.gc(l,c),d.b.sc(b,c)<=e))return!0;return!1};b.yH=function(a,c,d){return b.HA(a,c,d)&&!b.gC(a,c,d)};b.gC=function(a,c,d){a=a.Gg();return!b.$t(a,c,d)};b.XH=function(a,b,f){if(a.hn()){var c=new d.Hb(b.o,b.A,b.o,b.B),e=new d.Hb(b.o,b.B,b.v,b.B),g=new d.Hb(b.v,b.B,b.v,b.A);b=new d.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var h=
a.ba();if(h.Yb(c,f)||h.Yb(e,f)||h.Yb(g,f)||h.Yb(b,f))return!0}}else{c=new d.h;c.I(b);c.O(f,f);f=a.Pa(0);e=new d.b;g=new d.b;b=new d.b;for(var h=new d.b,l=0,n=a.aa();l<n;l++)for(var t=!0,p=a.wa(l),q=a.Gc(l);p<q;p++)if(t)f.fc(2*p,g),t=!1;else{f.fc(2*p,e);b.L(g);h.L(e);if(0!=c.gz(b,h))return!0;g.L(e)}}return!1};b.vc=function(a,c,f){var e=a.G(),g=c.G();if(d.T.gh(e)){var h=a.ob;if(null!=h&&(h=h.Hi,null!=h))if(33==g){var l=c.w(),l=h.rm(l.x,l.y);if(1==l)return 1;if(0==l)return 4}else{l=new d.h;c.s(l);l=
h.Rn(l);if(1==l)return 1;if(0==l)return 4;if(f&&d.T.gh(g)&&b.ZC(c,h))return 1073741824}}if(d.T.gh(g)&&(h=c.ob,null!=h&&(h=h.Hi,null!=h)))if(33==e){a=a.w();l=h.rm(a.x,a.y);if(1==l)return 2;if(0==l)return 4}else{c=new d.h;a.s(c);l=h.Rn(c);if(1==l)return 2;if(0==l)return 4;if(f&&d.T.gh(e)&&b.ZC(a,h))return 1073741824}return 0};b.ZC=function(a,b){for(var c=a.D(),e=new d.b,g=0;g<c;g++)if(a.w(g,e),1==b.rm(e.x,e.y))return!0;return!1};b.hD=function(a,b,f,e){for(var c=1<=a.Lk(0)&&1<=b.Lk(0),g=a.Fa(),k=b.Fa(),
h=[0,0],l=[0,0],n=new d.Lm(a,b,f,!1),t=!1;n.next();){var p=n.Ql(),q=n.Ml();g.Tb(p);k.Tb(q);p=g.ba();q=k.ba().Ma(p,null,l,h,f);if(2==q){t=h[0];q=h[1];p=p.Rb();if(c&&(q-t)*p>f)return!1;t=!0}else if(0!=q){t=h[0];p=l[0];if(0<t&&1>t&&0<p&&1>p)return!1;t=!0}}if(!t)return!1;g=new d.h;k=new d.h;c=new d.h;a.s(g);b.s(k);g.O(1E3*f,1E3*f);k.O(1E3*f,1E3*f);c.I(g);c.Ma(k);return 10<a.D()&&(a=d.ne.clip(a,c,f,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,f,0),b.u())?!1:d.Nm.gu(a,b,f,"F********",e)};b.cD=function(a,c,f,e){var g=
1<=a.Lk(0)&&1<=c.Lk(0),k=new d.h,h=new d.h,l=new d.h;a.s(k);c.s(h);for(var n=!1,t=b.Yp(k,h,f),p=b.Yp(h,k,f),q=a.Fa(),r=c.Fa(),v=[0,0],x=[0,0],w=new d.Lm(a,c,f,!1);w.next();){var y=w.Ql(),z=w.Ml();q.Tb(y);r.Tb(z);z=q.ba();y=r.ba().Ma(z,null,x,v,f);if(2==y){var y=v[0],G=v[1],z=z.Rb();if(g&&(G-y)*z>f&&(n=!0,t&&p))return!0}else if(0!=y&&(y=v[0],z=x[0],0<y&&1>y&&0<z&&1>z))return!0}g=new d.h;q=new d.h;g.I(k);g.O(1E3*f,1E3*f);q.I(h);q.O(1E3*f,1E3*f);l.I(g);l.Ma(q);k="";k=n?k+"**":k+"T*";if(t){if(10<c.D()&&
(c=d.ne.clip(c,l,f,0),c.u()))return!1;k+="****"}else k+="T***";if(p){if(10<a.D()&&(a=d.ne.clip(a,l,f,0),a.u()))return!1;k+="***"}else k+="T**";return d.Nm.gu(a,c,f,k.toString(),e)};b.BL=function(a,c,f,e){var g=[!1],k=b.zL(a,c,f,g);if(g[0])return k;g=new d.h;c.s(g);g.O(1E3*f,1E3*f);return 10<a.D()&&(a=d.ne.clip(a,g,f,0),a.u())?!1:d.Nm.Ex(a,c,f,e)};b.zL=function(a,b,f,e){e[0]=!1;for(var c=a.Fa(),g=b.Fa(),k=[0,0],h=[0,0],l=new d.Lm(a,b,f,!1),n=!1;l.next();){var t=l.Ql(),p=l.Ml();c.Tb(t,-1);g.Tb(p,-1);
t=c.ba();t=g.ba().Ma(t,null,h,k,f);if(0!=t&&(n=!0,1==t&&(t=k[0],p=h[0],0<t&&1>t&&0<p&&1>p)))return e[0]=!0,!1}if(!n){e[0]=!0;k=new d.h;a.s(k);k.O(f,f);l=a;n=!1;h=new d.h;e=0;for(c=b.aa();e<c;e++)if(0<b.La(e)){b.jk(e,h);if(k.Yb(h)){if(g=b.Ba(b.wa(e)),g=d.ff.kn(l,g,0),0==g)return!1}else return!1;n||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(g=new d.Ja,a.copyTo(g),g.Hj(1),l=g),n=!0)}if(1==a.aa()||1607==b.G())return!0;k=new d.h;b.s(k);k.O(f,f);h=b;l=!1;f=new d.h;e=0;for(c=a.aa();e<c;e++)if(0<
a.La(e)){a.jk(e,f);if(k.Yb(f)&&(g=a.Ba(a.wa(e)),g=d.ff.kn(h,g,0),1==g))return!1;l||(!d.ff.qm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?h=b:(g=new d.Ja,b.copyTo(g),g.Hj(1),h=g),l=!0)}return!0}return!1};b.jD=function(a,b,f,e){for(var c=a.Fa(),g=b.Fa(),k=[0,0],h=[0,0],l=new d.Lm(a,b,f,!1),n=!1;l.next();){var t=l.Ql(),p=l.Ml();c.Tb(t);g.Tb(p);t=c.ba();t=g.ba().Ma(t,null,h,k,f);if(2==t)n=!0;else if(0!=t){n=k[0];t=h[0];if(0<n&&1>n&&0<t&&1>t)return!1;n=!0}}if(!n)return!1;g=new d.h;k=new d.h;c=new d.h;a.s(g);
b.s(k);g.O(1E3*f,1E3*f);k.O(1E3*f,1E3*f);c.I(g);c.Ma(k);return 10<a.D()&&(a=d.ne.clip(a,c,f,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,f,0),b.u())?!1:d.Nm.On(a,b,f,"F********",e)};b.aD=function(a,c,f,e){for(var g=a.Fa(),k=c.Fa(),h=[0,0],l=[0,0],n=new d.Lm(a,c,f,!1),t=!1;n.next();){var p=n.Ql(),q=n.Ml();g.Tb(p);k.Tb(q);p=g.ba();p=k.ba().Ma(p,null,l,h,f);if(2==p)t=!0;else if(0!=p){t=h[0];p=l[0];if(0<t&&1>t&&0<p&&1>p)return!0;t=!0}}if(!t)return!1;k=new d.h;h=new d.h;l=new d.h;n=new d.h;g=new d.h;a.s(k);c.s(h);
return b.Yp(h,k,f)?(l.I(k),l.O(1E3*f,1E3*f),n.I(h),n.O(1E3*f,1E3*f),g.I(l),g.Ma(n),10<a.D()&&(a=d.ne.clip(a,g,f,0),a.u())||10<c.D()&&(c=d.ne.clip(c,g,f,0),c.u())?!1:f=d.Nm.On(a,c,f,"T********",e)):f=d.Nm.On(a,c,f,"T*****T**",e)};b.CL=function(a,c,f,e){var g=[!1],k=b.zL(a,c,f,g);if(g[0])return k;g=new d.h;c.s(g);g.O(1E3*f,1E3*f);return 10<a.D()&&(a=d.ne.clip(a,g,f,0),a.u())?!1:d.Nm.LB(a,c,f,e)};b.AL=function(a,b,f){return 1==d.gd.ge(a,b,f)?!0:!1};b.eD=function(a,b,f){return 2==d.gd.ge(a,b,f)?!0:!1};
b.$t=function(a,b,f){var c=new d.b;f*=f;for(var e=0;e<a.D();e++)if(a.w(e,c),d.b.sc(c,b)<=f)return!1;return!0};b.prototype.WF=function(a,b){a=this.Ph[a];b=this.Ph[b];return a.zn<b.zn||a.zn==b.zn&&(a.bx<b.bx||a.bx==b.bx&&(a.ek<b.ek||a.ek==b.ek&&(a.rj<b.rj||a.rj==b.rj&&a.RI<b.RI)))?-1:1};return b}();d.Fd=g})(n||(n={}));(function(d){var e;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]=
"BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(e||(e={}));var g;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";
b[b.PointPointPredicates=5]="PointPointPredicates"})(g||(g={}));e=function(){function b(){this.Ie=0;this.i=new d.Qu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.ga=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Fn=this.jx=-1}b.YB=function(a,b,f,e,g){if(9!=e.length)throw d.g.X("relation string length has to be 9 characters");for(var c=0;9>c;c++){var k=e.charAt(c);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw d.g.X("relation string");}c=this.FT(e,a.tb(),b.tb());if(0!=c)return d.Fd.ZB(a,
b,f,c,g);c=new d.h;a.s(c);k=new d.h;b.s(k);var m=new d.h;m.I(c);m.Nb(k);f=d.na.be(f,m,!1);a=this.bG(a,f);b=this.bG(b,f);if(a.u()||b.u())return this.sX(a,b,e);c=b.G();k=!1;switch(a.G()){case 1736:switch(c){case 1736:k=this.gu(a,b,f,e,g);break;case 1607:k=this.On(a,b,f,e,g);break;case 33:k=this.fu(a,b,f,e,g);break;case 550:k=this.eu(a,b,f,e,g)}break;case 1607:switch(c){case 1736:k=this.On(b,a,f,this.Pq(e),g);break;case 1607:k=this.MB(a,b,f,e,g);break;case 33:k=this.iu(a,b,f,e,g);break;case 550:k=this.hu(a,
b,f,e,g)}break;case 33:switch(c){case 1736:k=this.fu(b,a,f,this.Pq(e),g);break;case 1607:k=this.iu(b,a,f,this.Pq(e),g);break;case 33:k=this.GW(a,b,f,e);break;case 550:k=this.au(b,a,f,this.Pq(e),g)}break;case 550:switch(c){case 1736:k=this.eu(b,a,f,this.Pq(e),g);break;case 1607:k=this.hu(b,a,f,this.Pq(e),g);break;case 550:k=this.DB(a,b,f,e,g);break;case 33:k=this.au(a,b,f,e,g)}break;default:k=!1}return k};b.gu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.oK();var m=new d.h,h=new d.h;a.s(m);c.s(h);
e=!1;d.Fd.Ek(m,h,f)&&(k.mv(a,c),e=!0);e||(m=d.Fd.vc(a,c,!1),4==m?(k.mv(a,c),e=!0):1==m?(k.Sy(c),e=!0):2==m&&(k.lF(a),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.tq(a,c),k.i.qh());return b.zg(k.H,k.dd)};b.Ex=function(a,c,f,e){var g=new b;g.xj();g.Bj("T*****F**");g.oK();var k=new d.h,h=new d.h;a.s(k);c.s(h);var l=!1;d.Fd.Ek(k,h,f)&&(g.mv(a,c),l=!0);l||(k=d.Fd.vc(a,c,!1),4==k?(g.mv(a,c),l=!0):1==k?(g.Sy(c),l=!0):2==k&&(g.lF(a),l=!0));if(l)return k=this.zg(g.H,g.dd);l=new d.fd;a=l.Jb(a);k=
l.Jb(c);d.sk.V(l,f,e,!1);f=l.Se(k).Gg();l.zq(0,!0,!0);d.lo.V(l,a,-1,!1,e);if(0==l.D(a))return!1;d.lo.V(l,k,-1,!1,e);g.Yr(l,e);c=0==l.D(k);if(!c&&(g.tq(a,k),g.i.qh(),k=this.zg(g.H,g.dd),!k))return k;a=l.Se(a);l=new d.fd;a=l.Jb(a);k=l.Jb(f);g.Yr(l,e);g.Ie=0;g.xj();g.Bj(c?"T*****F**":"******F**");g.hC();g.tq(a,k);g.i.qh();return k=this.zg(g.H,g.dd)};b.On=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.hC();var m=new d.h,h=new d.h;a.s(m);c.s(h);e=!1;d.Fd.Ek(m,h,f)&&(k.nv(a,c),e=!0);e||(m=d.Fd.vc(a,c,
!1),4==m?(k.nv(a,c),e=!0):1==m&&(k.mF(c),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.Fh=k.i.wq(),b.pv(c,k.i,k.Fh),k.tq(a,c),k.i.xq(k.Fh),k.i.qh());return b.zg(k.H,k.dd)};b.LB=function(a,c,f,e){var g=new b;g.xj();g.Bj("T*****F**");g.hC();var k=new d.h,h=new d.h;a.s(k);c.s(h);var l=!1;d.Fd.Ek(k,h,f)&&(g.nv(a,c),l=!0);l||(k=d.Fd.vc(a,c,!1),4==k?(g.nv(a,c),l=!0):1==k&&(g.mF(c),l=!0));if(l)return f=this.zg(g.H,g.dd);l=new d.fd;a=l.Jb(a);c=l.Jb(c);g.Fp(l,f,e);if(0==l.D(a))return!1;g.tq(a,c);
g.i.qh();return f=this.zg(g.H,g.dd)};b.eu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.pK();var m=new d.h,h=new d.h;a.s(m);c.s(h);e=!1;d.Fd.Ek(m,h,f)&&(k.ov(a),e=!0);e||(m=d.Fd.vc(a,c,!1),4==m?(k.ov(a),e=!0):1==m&&(k.BP(),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.lz(a,c),k.i.qh());return b.zg(k.H,k.dd)};b.MB=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.ZX();e=new d.h;var m=new d.h;a.s(e);c.s(m);var h=!1;d.Fd.Ek(e,m,f)&&(k.dI(a,c),h=!0);h||4!=d.Fd.vc(a,c,!1)||(k.dI(a,c),h=!0);
h||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.xi=k.i.wq(),k.Fh=k.i.wq(),b.pv(a,k.i,k.xi),b.pv(c,k.i,k.Fh),k.tq(a,c),k.i.xq(k.xi),k.i.xq(k.Fh),k.i.qh());return b.zg(k.H,k.dd)};b.hu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.DK();e=new d.h;var m=new d.h;a.s(e);c.s(m);var h=!1;d.Fd.Ek(e,m,f)&&(k.GA(a),h=!0);h||4!=d.Fd.vc(a,c,!1)||(k.GA(a),h=!0);h||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.xi=k.i.wq(),b.pv(a,k.i,k.xi),k.lz(a,c),k.i.xq(k.xi),k.i.qh());return b.zg(k.H,k.dd)};b.DB=function(a,
c,f,e,g){var k=new b;k.xj();k.Bj(e);k.IK();e=new d.h;var m=new d.h;a.s(e);c.s(m);var h=!1;d.Fd.Ek(e,m,f)&&(k.GJ(),h=!0);h||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.lz(a,c),k.i.qh());return b.zg(k.H,k.dd)};b.fu=function(a,c,f,e){var g=new b;g.xj();g.Bj(e);g.pK();var k=new d.h;a.s(k);c=c.w();var h=!1;d.Fd.Dx(c,k,f)&&(g.ov(a),h=!0);h||(f=d.gd.ge(a,c,f),1==f?(g.H[0]=0,g.H[2]=2,g.H[3]=-1,g.H[5]=1,g.H[6]=-1):2==f?(g.H[6]=-1,0!=a.hf()?(g.H[0]=-1,g.H[3]=0,g.H[2]=2,g.H[5]=1):(g.H[0]=0,g.H[3]=-1,g.H[5]=
-1,f=new d.h,a.s(f),g.H[2]=0==f.fa()&&0==f.N()?-1:1)):g.ov(a));return this.zg(g.H,e)};b.iu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.DK();var m=new d.h;a.s(m);e=c.w();var h=!1;d.Fd.Dx(e,m,f)&&(k.GA(a),h=!0);if(!h){var m=null,l=h=!1;if(k.ga[0]||k.ga[6])d.Fd.HA(a,e,f)?(k.ga[0]&&(m=d.Pi.Rm(a,g),l=!d.Fd.$t(m,e,f),h=!0,k.H[0]=l?-1:0),k.H[6]=-1):(k.H[0]=-1,k.H[6]=0);k.ga[3]&&(null!=m&&m.u()?k.H[3]=-1:(h||(null==m&&(m=d.Pi.Rm(a,g)),l=!d.Fd.$t(m,e,f),h=!0),k.H[3]=l?0:-1));k.ga[5]&&(null!=m&&m.u()?
k.H[5]=-1:h&&!l?k.H[5]=0:(null==m&&(m=d.Pi.Rm(a,g)),g=d.Fd.zx(m,c,f),k.H[5]=g?-1:0));k.ga[2]&&(0!=a.Rb()?k.H[2]=1:(g=new d.Ed(a.description),g.Id(a,0,a.D()),a=d.Fd.zx(g,c,f),k.H[2]=a?-1:0))}return this.zg(k.H,k.dd)};b.au=function(a,c,f,e){var g=new b;g.xj();g.Bj(e);g.IK();var k=new d.h;a.s(k);c=c.w();var h=!1;d.Fd.Dx(c,k,f)&&(g.GJ(),h=!0);if(!h){k=!1;h=!0;f*=f;for(var l=0;l<a.D();l++){var n=a.Ba(l);d.b.sc(n,c)<=f?k=!0:h=!1;if(k&&!h)break}k?(g.H[0]=0,g.H[2]=h?-1:0,g.H[6]=-1):(g.H[0]=-1,g.H[2]=0,g.H[6]=
0)}return b.zg(g.H,e)};b.GW=function(a,c,f,e){a=a.w();c=c.w();for(var g=[],k=0;9>k;k++)g[k]=-1;d.b.sc(a,c)<=f*f?g[0]=0:(g[2]=0,g[6]=0);g[8]=2;return b.zg(g,e)};b.zg=function(a,b){for(var c=0;9>c;c++)switch(b.charAt(c)){case "T":if(-1==a[c])return!1;break;case "F":if(-1!=a[c])return!1;break;case "0":if(0!=a[c])return!1;break;case "1":if(1!=a[c])return!1;break;case "2":if(2!=a[c])return!1}return!0};b.sX=function(a,b,f){var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var e=0;9>e;e++)c[e]=-1;
return this.zg(c,f)}e=!1;a.u()&&(a=b,e=!0);c[0]=-1;c[1]=-1;c[3]=-1;c[4]=-1;c[6]=-1;c[7]=-1;c[8]=2;b=a.G();d.T.Ic(b)?1736==b?0!=a.hf()?(c[2]=2,c[5]=1):(c[5]=-1,b=new d.h,a.s(b),c[2]=0==b.fa()&&0==b.N()?0:1):(b=0!=a.Rb(),c[2]=b?1:0,c[5]=d.Pi.Rq(a)?0:-1):(c[2]=0,c[5]=-1);e&&this.kL(c);return this.zg(c,f)};b.FT=function(a,c,d){return b.kQ(a)?3:b.sO(a)?4:b.gU(a,c,d)?8:b.jO(a,c,d)?16:b.ON(a)?1:b.ZM(a,c,d)?32:0};b.kQ=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.sO=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.gU=function(a,b,d){if(0==b&&0==d)return!1;if(2!=b||2!=d)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==b&&1==d&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=d&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.jO=function(a,b,d){return b>d?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==d&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ON=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ZM=function(a,b,d){if(b==d){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.pv=function(a,b,d){a=b.Ia(a);for(var c=b.rf;-1!=c;c=b.og(c))if(0!=(b.Md(c)&a)){var f=b.kf(c);if(-1==f)b.co(c,d,0);else{var e=f,g=0;do 0!=(b.Ah(e)&a)&&g++,e=b.qc(b.Aa(e));while(e!=f);b.co(c,
d,g)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.xj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.kL=function(a){var b=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=d;a[7]=e};b.prototype.Bj=function(a){this.dd=a;for(a=0;9>a;a++)"*"!=this.dd.charAt(a)?(this.ga[a]=!0,this.Ie++):this.ga[a]=!1};b.prototype.LK=function(){for(var a=0;9>
a;a++)this.ga[a]&&-2==this.H[a]&&(this.H[a]=-1,this.ga[a]=!1)};b.prototype.uc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.ga[a]=!1,this.Ie--,!0;if("T"!=this.dd.charAt(a)&&"F"!=this.dd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.ga[a]=!1;this.Ie--;return!0}this.ga[a]=!1;this.Ie--;return!0};b.prototype.oK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=
!1,this.Ie--)};b.prototype.hC=function(){this.jx=1;this.Fn=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.ZX=function(){this.jx=2;this.Fn=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.pK=function(){this.Fn=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.DK=function(){this.Fn=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);
this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.IK=function(){this.Fn=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[3]&&(this.H[3]=-1,this.ga[3]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[5]&&(this.H[5]=-1,this.ga[5]=
!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.zP=function(a,b,d){var c=!0;this.ga[0]&&(this.xU(a,b,d),c=c&&this.uc(0));this.ga[1]&&(this.FH(a,b,1),c=c&&this.uc(1));this.ga[2]&&(this.GH(a,b,d,2),c=c&&this.uc(2));this.ga[3]&&(this.FH(a,d,3),c=c&&this.uc(3));this.ga[4]&&(this.FP(a,b,d),c=c&&this.uc(4));this.ga[5]&&(this.rF(a,d,5),c=c&&this.uc(5));this.ga[6]&&(this.GH(a,d,b,6),c=c&&this.uc(6));this.ga[7]&&(this.rF(a,b,7),
c=c&&this.uc(7));return c};b.prototype.mv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5));this.Ds(b,this.ga[6]?6:-1,this.dd.charAt(6),this.ga[7]?7:-1,this.dd.charAt(7))};b.prototype.Ds=function(a,b,f,e,g){if(-1!=b||-1!=e)("T"!=f&&"F"!=f&&-1!=b||"T"!=g&&"F"!=g&&-1!=e?0!=a.hf():1)?(-1!=b&&(this.H[b]=2),-1!=e&&(this.H[e]=1)):(-1!=e&&(this.H[e]=-1),-1!=b&&(f=new d.h,a.s(f),this.H[b]=0==f.fa()&&0==f.N()?0:
1))};b.prototype.Sy=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Ds(a,this.ga[0]?0:-1,this.dd.charAt(0),this.ga[1]?1:-1,this.dd.charAt(1))};b.prototype.lF=function(a){this.Sy(a);b.kL(this.H)};b.prototype.nv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[6]){var c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[6]=c?1:0}this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1);this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?
5:-1,this.dd.charAt(5))};b.prototype.mF=function(a){if(this.ga[0]){var b=this.dd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.ga[1]&&(a=d.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.ov=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.BP=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.dI=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[2]){var c=this.dd.charAt(2),c="T"!=c&&"F"!=c?0!=a.Rb():!0;this.H[2]=c?1:0}this.ga[5]&&(c=d.Pi.Rq(a),this.H[5]=c?0:-1);this.ga[6]&&(c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0,this.H[6]=c?1:0);this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1)};b.prototype.GA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.ga[2]){var b=this.dd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.ga[5]&&(a=d.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.GJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.AP=function(a,b,d){var c=!0;this.ga[0]&&(this.yU(a,b),c=c&&this.uc(0));this.ga[1]&&(this.uU(a,b,d,this.Fh),c=c&&this.uc(1));this.ga[2]&&(this.vU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.JP(a,b,d,this.Fh),c=c&&this.uc(3));this.ga[4]&&(this.GP(a,b,d,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.HP(a,b,d),c=c&&this.uc(5));this.ga[6]&&(this.dS(a,b),c=c&&this.uc(6));this.ga[7]&&(this.cS(a,b,d,this.Fh),c=c&&this.uc(7));
return c};b.prototype.nV=function(a,b,d){var c=!0;this.ga[0]&&(this.BU(a,b,d,this.xi,this.Fh),c=c&&this.uc(0));this.ga[1]&&(this.HH(a,b,d,this.xi,this.Fh,1),c=c&&this.uc(1));this.ga[2]&&(this.IH(a,b,d,2),c=c&&this.uc(2));this.ga[3]&&(this.HH(a,d,b,this.Fh,this.xi,3),c=c&&this.uc(3));this.ga[4]&&(this.LP(a,b,d,this.xi,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.sF(a,d,this.xi,5),c=c&&this.uc(5));this.ga[6]&&(this.IH(a,d,b,6),c=c&&this.uc(6));this.ga[7]&&(this.sF(a,b,this.Fh,7),c=c&&this.uc(7));return c};
b.prototype.nF=function(a,b,d){var c=!0;this.ga[0]&&(this.zU(a,b),c=c&&this.uc(0));this.ga[2]&&(this.wU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.KP(a,b,d),c=c&&this.uc(3));this.ga[5]&&(this.IP(a,b),c=c&&this.uc(5));this.ga[6]&&(this.eS(a,b),c=c&&this.uc(6));return c};b.prototype.eI=function(a,b,d){var c=!0;this.ga[0]&&(this.CU(a,b,d,this.xi),c=c&&this.uc(0));this.ga[2]&&(this.AU(a,d),c=c&&this.uc(2));this.ga[3]&&(this.NP(a,b,d,this.xi),c=c&&this.uc(3));this.ga[5]&&(this.MP(a,b,d,this.xi),c=c&&this.uc(5));
this.ga[6]&&(this.fS(a,b,d),c=c&&this.uc(6));return c};b.prototype.FW=function(a,b,d){var c=!0;this.ga[0]&&(this.DU(a,b,d),c=c&&this.uc(0));this.ga[2]&&(this.JH(a,b,d,2),c=c&&this.uc(2));this.ga[6]&&(this.JH(a,d,b,6),c=c&&this.uc(6));return c};b.prototype.xU=function(a,b,d){2!=this.H[0]&&(a=this.i.Ff(a),0!=(a&b)&&0!=(a&d)&&(this.H[0]=2))};b.prototype.FH=function(a,b,d){if(1!=this.H[d]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&b)&&0!=(c&b)&&(this.H[d]=1)}};b.prototype.GH=function(a,b,d,e){2!=
this.H[e]&&(a=this.i.Ff(a),0!=(a&b)&&0==(a&d)&&(this.H[e]=2))};b.prototype.FP=function(a,b,d){if(1!=this.H[4]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&d)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Md(this.i.Xf(a)),0!=(a&b)&&0!=(a&d)&&(this.H[4]=0))}};b.prototype.rF=function(a,b,d){if(1!=this.H[d]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[d]=1)}};b.prototype.yU=function(a,b){if(1!=this.H[0]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&
b)&&0!=(c&b)&&(this.H[0]=1)}};b.prototype.uU=function(a,b,d,e){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),f=this.i.Md(c);0==(f&b)&&0!=(this.i.Ff(a)&b)&&(a=this.i.Hg(c,e),0!=(f&d)&&0!=a%2&&(this.H[1]=0))}};b.prototype.vU=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.JP=function(a,b,d,e){if(1!=this.H[3]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&d)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(c=this.i.Xf(a),
a=this.i.Md(c),0!=(a&b)&&(b=this.i.Hg(c,e),0!=(a&d)&&0==b%2&&(this.H[3]=0)))}};b.prototype.GP=function(a,b,d,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a);a=this.i.Md(c);0!=(a&b)&&(b=this.i.Hg(c,e),0!=(a&d)&&0!=b%2&&(this.H[4]=0))}};b.prototype.HP=function(a,b,d){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&d)&&(this.H[5]=1))};b.prototype.dS=function(a,b){if(1!=this.H[6]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[6]=1)}};b.prototype.cS=
function(a,b,d,e){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),f=this.i.Md(c);0==(f&b)&&0==(this.i.Ff(a)&b)&&(a=this.i.Hg(c,e),0!=(f&d)&&0!=a%2&&(this.H[7]=0))}};b.prototype.BU=function(a,b,d,e,g){if(1!=this.H[0]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&d)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),c=this.i.Md(a),0!=(c&b)&&0!=(c&d)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0==b%2&&0==g%2&&(this.H[0]=0)))}};b.prototype.HH=function(a,
b,d,e,g,h){if(0!=this.H[h]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0==b%2&&0!=g%2&&(this.H[h]=0))}};b.prototype.IH=function(a,b,d,e){1!=this.H[e]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&d)&&(this.H[e]=1))};b.prototype.LP=function(a,b,d,e,g){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0!=b%2&&0!=g%2&&(this.H[4]=
0))}};b.prototype.sF=function(a,b,d,e){0!=this.H[e]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),0==(this.i.Md(a)&b)&&0!=this.i.Hg(a,d)%2&&(this.H[e]=0))};b.prototype.zU=function(a,b){0!=this.H[0]&&0==(this.i.Md(a)&b)&&0!=(this.i.Ik(this.i.Kz(a))&b)&&(this.H[0]=0)};b.prototype.wU=function(a,b){2!=this.H[2]&&0!=(this.i.Md(a)&b)&&(this.H[2]=2)};b.prototype.KP=function(a,b,d){0!=this.H[3]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&d)&&(this.H[3]=0))};b.prototype.IP=function(a,b){1!=this.H[5]&&
0!=(this.i.Md(a)&b)&&(this.H[5]=1)};b.prototype.eS=function(a,b){0!=this.H[6]&&0==(this.i.Md(a)&b)&&0==(this.i.Ik(this.i.Kz(a))&b)&&(this.H[6]=0)};b.prototype.CU=function(a,b,d,e){if(0!=this.H[0]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&0==this.i.Hg(a,e)%2&&(this.H[0]=0)}};b.prototype.AU=function(a,b){1!=this.H[2]&&(-1!=this.i.kf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Md(a)&b)&&(this.H[2]=0))};b.prototype.NP=function(a,b,d,e){if(0!=this.H[3]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&0!=this.i.Hg(a,
e)%2&&(this.H[3]=0)}};b.prototype.MP=function(a,b,d,e){if(0!=this.H[5]){var c=this.i.Md(a);0!=(c&b)&&0==(c&d)&&0!=this.i.Hg(a,e)%2&&(this.H[5]=0)}};b.prototype.fS=function(a,b,d){0!=this.H[6]&&(a=this.i.Md(a),0==(a&b)&&0!=(a&d)&&(this.H[6]=0))};b.prototype.DU=function(a,b,d){0!=this.H[0]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&d)&&(this.H[0]=0))};b.prototype.JH=function(a,b,d,e){0!=this.H[e]&&(a=this.i.Md(a),0!=(a&b)&&0==(a&d)&&(this.H[e]=0))};b.prototype.tq=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.vj=this.i.xh();for(var e=this.i.rf;-1!=e;e=this.i.og(e)){var g=this.i.kf(e);if(-1==g){if(-1!=this.Fn)switch(this.Fn){case 3:c=this.nF(e,a,b);break;case 4:c=this.eI(e,a,b);break;default:throw d.g.X("internal error");}}else{var h=g;do{var l=h;if(1!=this.i.Kb(l,this.vj)){do{switch(this.jx){case 0:c=this.zP(l,a,b);break;case 1:c=this.AP(l,a,b);break;case 2:c=this.nV(l,a,b);break;default:throw d.g.X("internal error");}if(c)break;this.i.Ob(l,this.vj,1);l=this.i.qc(l)}while(l!=h&&!c)}if(c)break;h=this.i.qc(this.i.Aa(l))}while(h!=
g);if(c)break}}c||this.LK();this.i.ni(this.vj)};b.prototype.lz=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var e=this.i.rf;-1!=e;e=this.i.og(e)){switch(this.Fn){case 3:c=this.nF(e,a,b);break;case 4:c=this.eI(e,a,b);break;case 5:c=this.FW(e,a,b);break;default:throw d.g.za();}if(c)break}c||this.LK()};b.prototype.Yr=function(a,b){this.i.Wr(a,b)};b.prototype.Fp=function(a,b,d){this.VR(a,b,d);this.Yr(a,d)};b.prototype.VR=function(a,b,f){d.sk.V(a,b,f,!1);a.zq(0,!0,!0);for(b=a.sd;-1!=b;b=a.Ue(b))1736==
a.hc(b)&&d.lo.V(a,b,-1,!1,f)};b.bG=function(a,b){var c=a.G();if(d.T.Oc(c))return c=new d.Ua(a.description),c.dc(a,!0),c;if(197==c){c=new d.h;a.s(c);if(c.fa()<=b&&c.N()<=b)return c=new d.Wa(a.description),a.Wf(c),c;if(c.fa()<=b||c.N()<=b)return c=new d.Ua(a.description),b=new d.Wa,a.ig(0,b),c.Rf(b),a.ig(2,b),c.lineTo(b),c;c=new d.Ja(a.description);c.jd(a,!1);return c}return a};return b}();d.Nm=e})(n||(n={}));(function(d){var e=function(){function a(a){this.sn=new d.ia(0);this.Rw=new d.ia(0);this.mu=
new d.b;this.nu=new d.b;this.a=a;this.Dt=-1}a.prototype.ic=function(a){return this.a.ic(this.jA(a))};a.prototype.ow=function(a){var b=this.Rz(a);a=this.SG(a);if(this.a.Ra(b)==a){var c=b,b=a;a=c}this.a.Nc(b,this.mu);this.a.Nc(a,this.nu);return this.mu.y<this.nu.y};a.prototype.jA=function(a){var b=this.Rz(a);a=this.SG(a);return this.a.U(b)==a?b:a};a.prototype.Rz=function(a){return this.sn.get(a)};a.prototype.SG=function(a){return this.Rw.get(a)};a.prototype.CG=function(a){this.sn.set(a,this.Dt);this.Dt=
a};a.prototype.wJ=function(a){if(-1!=this.Dt){var b=this.Dt;this.Dt=this.sn.get(b);this.sn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.sn&&(this.sn=new d.ia(0),this.Rw=new d.ia(0));b=this.sn.size;this.sn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.cA=function(a){return this.a.ld(this.Rz(a))};return a}();d.LZ=e;var g=function(){function a(a){this.bf=a;this.Fe=new d.Hb;this.An=new d.Hb;this.SI=0;this.op=null;this.eB=-1}a.prototype.compare=function(a,b,d){d=a.ja(d);var c=this.bf.ib,
f;this.eB==b?f=this.SI:(this.op=c.ic(b),null==this.op?(a=c.a,a.pd(c.jA(b),this.Fe),this.op=this.Fe,f=this.Fe.pf(this.bf.Wh,0)):f=this.op.pf(this.bf.Wh,0),this.SI=f,this.eB=b);a=c.ic(d);var e;null==a?(a=c.a,a.pd(c.jA(d),this.An),a=this.An,e=this.An.pf(this.bf.Wh,0)):e=a.pf(this.bf.Wh,0);f==e&&(b=c.ow(b),d=c.ow(d),d=Math.min(b?this.op.oa:this.op.ra,d?a.oa:a.ra),b=.5*(d+this.bf.Wh),b==this.bf.Wh&&(b=d),f=this.op.pf(b,0),e=a.pf(b,0));return f<e?-1:f>e?1:0};a.prototype.reset=function(){this.eB=-1};return a}(),
b=function(){function a(){this.Kn=this.jm=null;this.hb=new d.uk;this.hb.OR();this.we=new g(this);this.hb.Ep(this.we)}a.prototype.yS=function(){var a=!1;this.Vw&&(a=this.zS());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.gA(b);this.a.oC(b,!0);return 0>a?(a=this.a.cb(b),this.a.fK(a),this.a.sh(b,this.a.Ra(a)),!0):!1}this.hm=this.a.rz();this.kp=this.a.rz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.$r(b,this.hm,0),this.a.$r(b,this.kp,-1);b=new d.ia(0);this.Wh=NaN;var e=new d.b;this.Xt=
this.a.aa(this.Y);this.fp=this.a.Vd();this.Mt=this.a.Vd();for(var g=this.jm.xc(this.jm.Ge);-1!=g;g=this.jm.nb(g)){var h=this.jm.getData(g);this.a.Nc(h,e);e.y!=this.Wh&&0!=b.size&&(a=this.ju(b)||a,this.we.reset(),b.clear(!1));b.add(h);this.Wh=e.y;if(0==this.Xt)break}0<this.Xt&&(a=this.ju(b)||a,b.clear(!1));this.a.le(this.fp);this.a.le(this.Mt);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Tj(b,this.hm)){this.a.oC(b,!0);e=b;for(b=this.a.Tj(b,this.kp);-1!=b;)g=this.a.Tj(b,this.kp),this.a.XV(this.Y,this.a.Sb(e),
b),e=b,b=g;b=this.a.Sb(e)}else this.a.oC(b,!1),b=this.a.Sb(b);this.a.bC(this.hm);this.a.bC(this.kp);return a};a.prototype.ju=function(a){return this.SW(a)};a.prototype.SW=function(a){var b=!1;null==this.ib&&(this.ib=new e(this.a));null==this.Kn?(this.Kn=new d.ia(0),this.Kn.yb(16)):this.Kn.clear(!1);this.RW(a);for(var c=0,g=a.size;c<g;c++){var h=a.get(c);-1!=h&&this.CH(h,-1)}for(c=0;c<this.Kn.size&&0<this.Xt;c++)if(a=this.Kn.get(c),h=this.ib.cA(this.hb.ja(a)),g=-1,0==this.a.Tj(h,this.hm)){for(var h=
this.hb.Ve(a),l=a,n;-1!=h;){var t=this.hb.ja(h),p=this.ib.cA(t),q=this.a.Tj(p,this.hm);if(0!=q){g=p;break}l=h;h=this.hb.Ve(h)}-1==h?(n=!0,h=l):(t=this.hb.ja(h),n=this.ib.ow(t),h=this.hb.nb(h),n=!n);do{t=this.hb.ja(h);p=this.ib.cA(t);q=this.a.Tj(p,this.hm);if(0==q&&(n!=this.ib.ow(t)&&(b=this.a.cb(p),this.a.fK(b),this.a.sh(p,this.a.Ra(b)),b=!0),this.a.$r(p,this.hm,n?3:2),n||(l=this.a.Tj(g,this.kp),this.a.$r(g,this.kp,p),this.a.$r(p,this.kp,l)),this.Xt--,0==this.Xt))return b;g=p;l=h;h=this.hb.nb(h);
n=!n}while(l!=a)}return b};a.prototype.RW=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.a.Sa(d,this.fp),g=this.a.Sa(d,this.Mt);if(-1!=e){var h=this.hb.ja(e);this.ib.CG(h);this.a.Va(d,this.fp,-1)}-1!=g&&(h=this.hb.ja(g),this.ib.CG(h),this.a.Va(d,this.Mt,-1));h=-1;-1!=e&&-1!=g?(this.hb.Kd(e,-1),this.hb.Kd(g,-1),a.set(b,-1)):h=-1!=e?e:g;-1!=h&&(this.CH(d,h)||this.hb.Kd(h,-1),a.set(b,-1))}};a.prototype.CH=function(a,b){var c=new d.b,f=new d.b;this.a.Nc(a,c);var e=this.a.U(a);this.a.Nc(e,
f);var g=!1;if(c.y<f.y){var g=!0,h=this.ib.wJ(a),l;-1==b?l=this.hb.addElement(h,-1):(l=b,this.hb.kk(l,h));h=this.a.Sa(e,this.fp);-1==h?this.a.Va(e,this.fp,l):this.a.Va(e,this.Mt,l);e=this.a.ld(a);0==this.a.Tj(e,this.hm)&&this.Kn.add(l)}e=this.a.Ra(a);this.a.Nc(e,f);c.y<f.y&&(g=!0,h=this.ib.wJ(e),-1==b?l=this.hb.addElement(h,-1):(l=b,this.hb.kk(l,h)),h=this.a.Sa(e,this.fp),-1==h?this.a.Va(e,this.fp,l):this.a.Va(e,this.Mt,l),e=this.a.ld(a),0==this.a.Tj(e,this.hm)&&this.Kn.add(l));return g};a.V=function(b,
d,e,g){var c=new a;c.a=b;c.Y=d;c.jm=e;c.Vw=g;return c.yS()};a.prototype.zS=function(){var a=new d.ia(0),b=new d.ia(0),e=-1,g=-1,h=new d.b;h.$c();for(var l=-1,n=-1,t=-1,p=new d.b,q=this.jm.xc(this.jm.Ge);-1!=q;q=this.jm.nb(q)){var r=this.jm.getData(q);this.a.Nc(r,p);var v=this.a.ld(r);h.ub(p)&&n==v?(-1==g&&(e=this.a.rz(),g=this.a.Vd()),-1==t&&(t=b.size,this.a.Va(l,g,t),b.add(1),-1==this.a.Tj(v,e)&&(this.a.$r(v,e,l),a.add(v))),this.a.Va(r,g,t),b.CK(b.Fc()+1)):(t=-1,h.L(p));l=r;n=v}if(0==a.size)return!1;
h=new d.ia(0);l=new d.ia(0);n=0;for(t=a.size;n<t;n++){var v=a.get(n),x=this.a.Tj(v,e),r=this.a.Sa(x,g);h.clear(!1);l.clear(!1);h.add(x);l.add(r);for(r=this.a.U(x);r!=x;r=this.a.U(r)){var w=r,p=this.a.Sa(w,g);if(-1!=p)if(0==l.size)l.add(p),h.add(w);else if(l.Fc()==p){var q=h.Fc(),y=this.a.U(q),x=this.a.U(w);this.a.Kc(q,x);this.a.Lc(x,q);this.a.Kc(w,y);this.a.Lc(y,w);w=[!1];y=this.a.BH(this.Y,y,this.a.cb(v),w);this.a.Va(r,g,-1);w[0]&&this.a.jg(v,x);r=this.a.La(v);x=this.a.La(y);r-=x;this.a.nk(v,r);
b.set(p,b.get(p)-1);1==b.get(p)&&(b.set(p,0),l.Pf(),h.Pf());r=x=q}else h.add(r),l.add(p)}}this.a.bC(e);this.a.le(g);return!0};return a}();d.SN=b})(n||(n={}));(function(d){var e=function(){function e(){}e.prototype.Cg=function(){this.uB=this.wb=null};e.prototype.get=function(){return this.uB};e.prototype.set=function(b){this.uB=b;if(null!=b)throw 322==b.G()&&(this.wb=b),d.g.za();};e.prototype.create=function(b){if(322==b)this.Js();else throw d.g.X("Not Implemented");};e.prototype.Js=function(){null==
this.wb&&(this.wb=new d.Hb);this.uB=this.wb};return e}();d.Cg=e})(n||(n={}));(function(d){d=d.XN||(d.XN={});d[d.enumLineSeg=1]="enumLineSeg";d[d.enumBezierSeg=2]="enumBezierSeg";d[d.enumArcSeg=4]="enumArcSeg";d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";d[d.enumSegmentMask=7]="enumSegmentMask";d[d.enumDensified=8]="enumDensified"})(n||(n={}));(function(d){var e=function(){return function(b){this.zj=b;this.SC=this.TC=1;this.TB=this.SB=this.UB=0}}(),g=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.dl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cg=new d.Wa;this.ta=this.sx=0;this.$o=[];this.Ut=[];this.mx=[];this.yr=[];this.rB=[]}b.prototype.WB=function(a){if(null!=a){for(var b=0,d=a.length;b<d;b++)this.qX(a[b]);a.length=0}};b.prototype.qX=function(a){a.zj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new e(a);else b=this.yr[this.yr.length-1],b.zj=a,--this.yr.length;return b};b.prototype.LT=function(a,b){return 0==a?this.Ut[b]:this.mx[b]};
b.prototype.GB=function(){this.sx>=this.rB.length&&this.rB.push(new d.Cg);var a=this.rB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.WB(this.$o);this.WB(this.Ut);this.WB(this.mx);this.sx=0};b.prototype.Ap=function(a){this.$o.push(this.Ax(a))};b.prototype.Rl=function(a){return 0==a?this.Ut.length:this.mx.length};b.prototype.Mq=function(a,b){return this.LT(a,b).zj};b.prototype.Ma=function(a,b){if(2!=this.$o.length)throw d.g.za();this.ta=a;var c=d.Ub.Yx(.01*a),e=!1,g=this.$o[0],h=this.$o[1];
if(b||0!=(g.zj.ys(h.zj,a,!0)&5)){if(322==g.zj.G()&&(b=g.zj,322==h.zj.G())){var l=h.zj,n=d.Hb.Gy(b,l,null,this.vr,this.dl,a);if(0==n)throw d.Hb.Gy(b,l,null,this.vr,this.dl,a),d.g.za();a=Array(9);d.J.Nv(a,null);for(var t=0;t<n;t++){var p=this.vr[t],q=this.dl[t],r=g.TB,v=1;0==p?(r=g.UB,v=g.TC):1==p&&(r=g.SB,v=g.SC);var x=h.TB,w=1;0==q?(x=h.UB,w=h.TC):1==q&&(x=h.SB,w=h.SC);var y=new d.b;r==x?(r=new d.b,b.gc(p,r),p=new d.b,l.gc(q,p),q=v+w,w/=q,d.Ub.cI(r,p,w,y),d.b.sc(y,r)+d.b.sc(y,p)>c&&(e=!0)):r>x?(b.gc(p,
y),p=new d.b,l.gc(q,p),d.b.sc(y,p)>c&&(e=!0)):(l.gc(q,y),r=new d.b,b.gc(p,r),d.b.sc(y,r)>c&&(e=!0));a[t]=y}g=0;h=-1;for(t=0;t<=n;t++)w=t<n?this.vr[t]:1,w!=g&&(c=this.GB(),b.yh(g,w,c),-1!=h&&c.get().Mc(a[h]),t!=n&&c.get().Zc(a[t]),g=w,this.Ut.push(this.Ax(c.get()))),h=t;b=[0,0,0,0,0,0,0,0,0];for(t=0;t<n;t++)b[t]=t;1<n&&this.dl[0]>this.dl[1]&&(w=this.dl[0],this.dl[0]=this.dl[1],this.dl[1]=w,t=b[0],b[0]=b[1],b[1]=t);g=0;h=-1;for(t=0;t<=n;t++)w=t<n?this.dl[t]:1,w!=g&&(c=this.GB(),l.yh(g,w,c),-1!=h&&(g=
b[h],c.get().Mc(a[g])),t!=n&&(g=b[t],c.get().Zc(a[g])),g=w,this.mx.push(this.Ax(c.get()))),h=t;return e}throw d.g.za();}return!1};b.prototype.sA=function(a,b,f){b.copyTo(this.cg);if(1!=this.$o.length)throw d.g.za();this.ta=a;var c=this.$o[0];if(f||c.zj.av(b.w(),a,!0))if(322==c.zj.G()){a=c.zj;var e=a.pe(b.w(),!1);this.vr[0]=e;var g=c.TB;f=1;0==e?(g=c.UB,f=c.TC):1==e&&(g=c.SB,f=c.SC);c=new d.b;0==g?(g=new d.b,a.gc(e,g),b=b.w(),d.Ub.cI(g,b,1/(f+1),c)):0<g?(c=new d.b,a.gc(e,c)):c=b.w();f=0;e=-1;for(g=
0;1>=g;g++){b=1>g?this.vr[g]:1;if(b!=f){var h=this.GB();a.yh(f,b,h);-1!=e&&h.get().Mc(c);1!=g&&h.get().Zc(c);f=b;this.Ut.push(this.Ax(h.get()))}e=g}this.cg.rb(c)}else throw d.g.za();};return b}();d.dE=g})(n||(n={}));(function(d){var e=function(){function e(b){this.zt=this.Tk=this.wb=null;this.gm=this.vf=this.cd=this.Ze=this.Oh=this.Ta=0;this.bb=null;this.Sl=this.mn=!1;this.Ze=-1;this.Oh=this.cd=0;this.Ta=-1;this.bb=b;this.vf=this.ws(this.Oh);this.mn=!1;this.Tk=null;this.gm=-1;this.Sl=!1;this.zt=new d.b}
e.$p=function(b,a){if(0>a||a>=b.D())throw d.g.wd();var c=new e(b),f=b.cw(a);c.cd=a-b.wa(f);c.Oh=f+1;c.Ta=f;c.vf=c.ws(c.Ta);c.gm=c.bb.wa(c.Ta);c.Sl=c.bb.Qb(c.Ta);return c};e.Zp=function(b,a,c){if(0>a||a>=b.aa()||0>c)throw d.g.wd();var f=b.Qb(a)?0:1;if(c>=b.La(a)-f)throw d.g.wd();b=new e(b);b.Ze=-1;b.cd=c;b.Ta=a;b.Oh=b.cd+1;b.vf=b.ws(b.Oh);b.gm=b.bb.wa(b.Ta);b.Sl=b.bb.Qb(b.Ta);return b};e.prototype.yX=function(b){if(this.bb!=b.bb)throw d.g.Da();this.Ze=b.Ze;this.cd=b.cd;this.Ta=b.Ta;this.Oh=b.Oh;this.vf=
b.vf;this.mn=b.mn;this.gm=b.gm;this.Tk=null;this.Sl=b.Sl};e.prototype.ba=function(){this.Ze!=this.cd&&this.QE();if(this.mn)this.cd=(this.cd+1)%this.vf;else{if(this.cd==this.vf)throw d.g.wd();this.cd++}return this.Tk};e.prototype.Li=function(){if(this.mn)this.cd=(this.vf+this.cd-1)%this.vf;else{if(0==this.cd)throw d.g.wd();this.cd--}this.cd!=this.Ze&&this.QE();return this.Tk};e.prototype.zX=function(){this.Ze=-1;this.cd=0};e.prototype.AX=function(){this.cd=this.vf;this.Ze=-1};e.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.OO();if(b>=c&&b<this.bb.Gc(this.Ta)){this.Ze=-1;this.cd=b-c;return}}c=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Gc(a)?a:this.bb.cw(b);this.Oh=c+1;this.Ta=c;this.Ze=-1;this.cd=b-this.bb.wa(c);this.vf=this.ws(c);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta)};e.prototype.Ya=function(){this.Ta=this.Oh;if(this.Ta>=this.bb.aa())return!1;this.Ze=-1;this.cd=0;this.vf=this.ws(this.Ta);this.gm=this.bb.wa(this.Ta);this.Sl=
this.bb.Qb(this.Ta);this.Oh++;return!0};e.prototype.yj=function(){this.vf=this.cd=this.Ze=-1;this.Oh=0;this.Ta=-1;this.Sl=!1;this.gm=-1};e.prototype.eC=function(b){if(0>b)throw d.g.wd();this.Oh=b;this.gm=this.vf=this.cd=this.Ze=this.Ta=-1;this.Sl=!1};e.prototype.ws=function(b){if(this.bb.Hc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};e.prototype.Fo=function(){return this.Ze==this.vf-1&&this.bb.Qb(this.Ta)};e.prototype.jC=function(){this.mn=!0};e.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.Ze};e.prototype.OO=function(){return this.bb.wa(this.Ta)};e.prototype.Jk=function(){return this.Fo()?this.bb.wa(this.Ta):this.Db()+1};e.prototype.jn=function(){return 0==this.Ze};e.prototype.Io=function(){return this.Ze==this.vf-1};e.prototype.Ea=function(){return this.cd<this.vf};e.prototype.oA=function(){return 0<this.cd};e.prototype.Vf=function(){var b=new e(this.bb);b.Ze=this.Ze;b.cd=this.cd;b.vf=this.vf;b.Ta=this.Ta;b.Oh=this.Oh;b.bb=this.bb;b.mn=this.mn;return b};e.prototype.QE=function(){if(0>
this.cd||this.cd>=this.vf)throw d.g.wd();this.Ze=this.cd;var b=this.Db();this.bb.wc();var a=this.bb.cf,c=1;null!=a&&(c=a.read(b)&7);a=this.bb.description;switch(c){case 1:null==this.wb&&(this.wb=new d.Hb);this.Tk=this.wb;break;case 2:throw d.g.X("internal error");case 4:throw d.g.za();default:throw d.g.za();}this.Tk.Fg(a);c=this.Jk();this.bb.Nc(b,this.zt);this.Tk.Mc(this.zt);this.bb.Nc(c,this.zt);this.Tk.Zc(this.zt);for(var f=1,e=a.Ga;f<e;f++)for(var g=a.rd(f),h=d.ma.Xa(g),l=0;l<h;l++){var n=this.bb.Yc(g,
b,l);this.Tk.Tx(g,l,n);n=this.bb.Yc(g,c,l);this.Tk.Lx(g,l,n)}};e.prototype.TU=function(){return this.Ta==this.bb.aa()-1};e.prototype.Go=function(){var b=this.bb.OT();return null!=b?1!=(b.read(this.Ze)&7):!1};return e}();d.YN=e})(n||(n={}));(function(d){var e=function(){function e(b){b instanceof d.T?(this.JI=b,this.Ca=-1,this.dj=1):(this.vV=b.slice(0),this.Ca=-1,this.dj=b.length)}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){return this.Ca<this.dj-1?(this.Ca++,null!=this.JI?
this.JI:this.vV[this.Ca]):null};e.prototype.Re=function(){return!0};return e}();d.hd=e})(n||(n={}));(function(d){var e=function(){return function(){this.next=null}}(),g=function(){function b(){this.Mr=this.wx=this.xx=this.Qk=this.ai=0;this.uG=!1;this.XK=0;this.Xn=this.kg=this.Em=this.hi=null;this.tm=0;this.az=null;this.Qk=this.ai=-1}b.prototype.vY=function(a,b,f){this.ai=a;this.Qk=b;this.hi=this.Em=null;this.Mr=0;this.az=f;null==this.Xn&&(this.Xn=d.J.gf(384,0));this.$K()};b.prototype.N=function(){return this.ai};
b.prototype.fa=function(){return this.Qk};b.prototype.flush=function(){0<this.tm&&(this.az.pG(this.Xn,this.tm),this.tm=0)};b.prototype.$K=function(){if(0<this.Mr){for(var a=0;a<this.Qk;a++){for(var b=this.Em[a];null!=b;){var d=b,b=b.next;d.next=null}this.Em[a]=null}this.hi=null}this.xx=this.Qk;this.wx=-1;this.Mr=0};b.prototype.YJ=function(a){this.uG=a==b.py;for(a=this.xx;a<=this.wx;a++)this.sP(),this.jP(a),this.YR();this.$K()};b.prototype.Qy=function(a,b,f,g){if(b!=g){var c=1;b>g&&(c=a,a=f,f=c,c=
b,b=g,g=c,c=-1);if(!(0>g||b>=this.Qk)){0>a&&0>f?f=a=-1:a>=this.ai&&f>=this.ai&&(f=a=this.ai);var k=(f-a)/(g-b);g>this.Qk&&(g=this.Qk,f=k*(g-b)+a);0>b&&(a=k*(0-b)+a,b=0);var h=Math.max(this.ai+1,8388607);-8388607>a?(b=(0-a)/k+b,a=0):a>h&&(b=(this.ai-a)/k+b,a=this.ai);-8388607>f?g=(0-a)/k+b:f>h&&(g=(this.ai-a)/k+b);b=d.J.truncate(b);g=d.J.truncate(g);b!=g&&(f=new e,f.x=d.J.truncate(4294967296*a),f.y=b,f.B=g,f.SR=d.J.truncate(4294967296*k),f.dir=c,null==this.Em&&(this.Em=d.J.gf(this.Qk,null)),f.next=
this.Em[f.y],this.Em[f.y]=f,f.y<this.xx&&(this.xx=f.y),f.B>this.wx&&(this.wx=f.B),this.Mr++)}}};b.prototype.sP=function(){if(null!=this.hi){for(var a=!1,b=null,d=this.hi;null!=d;)if(d.y++,d.y==d.B){var e=d,d=d.next;null!=b?b.next=d:this.hi=d;e.next=null}else d.x+=d.SR,null!=b&&b.x>d.x&&(a=!0),b=d,d=d.next;a&&(this.hi=this.WK(this.hi))}};b.prototype.jP=function(a){if(!(a>=this.Qk)){var b=this.Em[a];if(null!=b){this.Em[a]=null;b=this.WK(b);this.Mr-=this.XK;a=this.hi;for(var d=!0,e=b,g=null;null!=a&&
null!=e;)a.x>e.x?(d&&(this.hi=e),d=e.next,e.next=a,null!=g&&(g.next=e),g=e,e=d):(d=a.next,a.next=e,null!=g&&(g.next=a),g=a,a=d),d=!1;null==this.hi&&(this.hi=b)}}};b.wG=function(a,b){return 0>a?0:a>b?b:a};b.prototype.YR=function(){if(null!=this.hi)for(var a=0,c=this.hi,f=d.J.truncate(d.J.gI(c.x)),e=c.next;null!=e;e=e.next)if(a=this.uG?a^1:a+e.dir,e.x>c.x){var g=d.J.truncate(d.J.gI(e.x));0!=a&&(c=b.wG(f,this.ai),f=b.wG(g,this.ai),f>c&&c<this.ai&&(this.Xn[this.tm++]=c,this.Xn[this.tm++]=f,this.Xn[this.tm++]=
e.y,this.tm==this.Xn.length&&(this.az.pG(this.Xn,this.tm),this.tm=0)));c=e;f=g}};b.prototype.WK=function(a){for(var c=0,f=a;null!=f;f=f.next)c++;this.XK=c;if(1==c)return a;null==this.kg?this.kg=d.J.gf(Math.max(c,16),null):this.kg.length<c&&(this.kg=d.J.gf(Math.max(c,2*this.kg.length),null));for(var e=0,f=a;null!=f;f=f.next)this.kg[e++]=f;2==c?this.kg[0].x>this.kg[1].x&&(a=this.kg[0],this.kg[0]=this.kg[1],this.kg[1]=a):b.UM(this.kg,c,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.kg[0];
this.kg[0]=null;f=a;for(e=1;e<c;e++)f.next=this.kg[e],f=this.kg[e],this.kg[e]=null;f.next=null;return a};b.UM=function(a,b,d){if(b==a.length)a.sort(d);else{var c=a.slice(0,0),f=a.slice(b);b=a.slice(0,b).sort(d);a.length=0;a.push.apply(a,c.concat(b).concat(f))}};b.py=0;b.L_=1;return b}();d.zy=g})(n||(n={}));(function(d){var e=function(){function e(){}e.prototype.Ri=function(b,a){var c=this.a.Sa(b,this.Gr);this.fm==c&&(this.fm=this.Me.nb(this.fm));this.Vo==c&&(this.Vo=this.Me.nb(this.Vo));this.Me.kd(this.wB,
c);this.zk(b);if(a&&(c=this.a.ld(b),-1!=c&&this.a.cb(c)==b)){a=this.a.U(b);if(a!=b){var d=this.a.ld(a);if(d==c){this.a.jg(c,a);return}a=this.a.Ra(b);if(a!=b&&(d=this.a.ld(a),d==c)){this.a.jg(c,a);return}}this.a.jg(c,-1);this.a.sh(c,-1)}};e.prototype.GE=function(){for(var b=!1,a=0,c=new d.b;;){a++;null==this.vi?(this.vi=new d.ia(0),this.vt=new d.ia(0),this.Xe=new d.ia(0)):(this.vi.clear(!1),this.vt.clear(!1),this.Xe.clear(!1));for(var f=this.Vo,e=0,g=!0;f!=this.fm;){var h=this.Me.getData(f),l=new d.b;
this.a.Nc(h,l);g&&(this.a.Nc(h,c),g=!1);var l=this.a.Ra(h),n=this.a.U(h);-559038737!=this.a.Sa(l,this.Ug)&&(this.vi.add(l),this.a.Va(l,this.Ug,-559038737),this.vt.add(h),this.Xe.add(e++));-559038737!=this.a.Sa(n,this.Ug)&&(this.vi.add(n),this.a.Va(n,this.Ug,-559038737),this.vt.add(h),this.Xe.add(e++));f=this.Me.nb(f)}if(2>this.vi.size)break;var t=this;this.Xe.Gd(0,this.Xe.size,function(a,b){return t.GO(a,b)});f=0;for(e=this.Xe.size;f<e;f++)g=this.Xe.get(f),g=this.vi.get(g),this.a.Va(g,this.Ug,f),
l=new d.b,this.a.Nc(g,l);l=this.SO(c);f=0;for(e=this.Xe.size;f<e;f++)g=this.Xe.get(f),-1!=g&&(g=this.vi.get(g),this.a.Va(g,this.Ug,-1));if(l)b=!0;else break}return b};e.prototype.SO=function(b){for(var a=!1,c=!0;c;){var c=!1,d=0;-1==this.Xe.get(d)&&(d=this.Pm(d));for(var e=this.Pm(d),g=0,h=this.Xe.size;g<h&&-1!=d&&-1!=e&&d!=e;g++){var l=this.Xe.get(d),e=this.Xe.get(e),l=this.vi.get(l),e=this.vi.get(e),n=this.a.U(l);this.a.qw(n,b)||(n=this.a.Ra(l));var t=this.a.U(e);this.a.qw(t,b)||(t=this.a.Ra(e));
var p=this.Zu(n,l),q=this.Zu(t,e),r=p?this.a.Ra(n):this.a.U(n),v=q?this.a.Ra(t):this.a.U(t),x=!1;this.mq(n)?x=!0:this.mq(t)?x=!0:this.mq(l)?x=!0:this.mq(e)?x=!0:this.mq(r)?x=!0:this.mq(v)&&(x=!0);!x&&this.a.Uq(l,e)&&(x=!0,this.JE(p,q,n,l,t,e));!x&&this.a.Uq(r,v)&&(x=!0,this.JE(!p,!q,n,r,t,v));x&&(a=!0);c=c||x;d=this.Pm(d);e=this.Pm(d)}}if(!a)for(d=0,-1==this.Xe.get(d)&&(d=this.Pm(d)),e=this.Pm(d),g=0,h=this.Xe.size;g<h&&-1!=d&&-1!=e&&d!=e;g++)l=this.Xe.get(d),e=this.Xe.get(e),l=this.vi.get(l),e=this.vi.get(e),
n=this.a.U(l),this.a.qw(n,b)||(n=this.a.Ra(l)),t=this.a.U(e),this.a.qw(t,b)||(t=this.a.Ra(e)),p=this.Zu(n,l),q=this.Zu(t,e),r=p?this.a.Ra(n):this.a.U(n),v=q?this.a.Ra(t):this.a.U(t),this.KO(p,q,l,n,r,e,t,v)&&(a=!0),d=this.Pm(d),e=this.Pm(d);return a};e.prototype.VO=function(){1736==this.a.hc(this.Y)&&1==this.a.xo(this.Y)&&(new d.Dg).yW(this.Vw,this.a,this.Y,this.ke);var b=!1,a=!0;this.Ug=this.Gr=-1;var c=this.a.D(this.Y),f=new d.ia(0);f.yb(c);for(var e=this.a.Pb(this.Y);-1!=e;e=this.a.Sb(e))for(var g=
this.a.cb(e),h=0,l=this.a.La(e);h<l;h++)f.add(g),g=this.a.U(g);var n=this.a.Dd.f,t=this.a.Dd.ed;this.a.xb.wc();var p=this.a.xb.ya[0].f;f.Gd(0,c,function(a,b){var c=n[t*a],d=n[t*b],f=p[2*c],c=p[2*c+1],e=p[2*d],d=p[2*d+1],f=c<d?-1:c>d?1:f<e?-1:f>e?1:0;0==f&&(f=n[t*a+3],d=n[t*b+3],f=f<d?-1:f==d?0:1);return f});this.Gr=this.a.Vd();this.Me=new d.Xp;this.wB=this.Me.mi(0);this.Me.Vn(c);for(e=0;e<c;e++)g=f.get(e),h=this.Me.addElement(this.wB,g),this.a.Va(g,this.Gr,h);this.Ug=this.a.Vd();this.fm=-1;for(this.wE()&&
(b=!0);a;){a=!1;c=0;f=!1;do{f=!1;this.Vo=-1;for(var l=0,e=new d.b,h=new d.b,q=this.Me.xc(this.wB);-1!=q;)g=this.Me.getData(q),-1!=this.Vo?(this.a.Nc(g,h),e.ub(h))?l++:(e.L(h),this.fm=q,0<l&&(g=this.GE())&&(f=!0,-1!=this.fm&&(g=this.Me.getData(this.fm),this.a.Nc(g,e))),this.Vo=q=this.fm,l=0):(this.Vo=q,this.a.Nc(this.Me.getData(q),e),l=0),-1!=q&&(q=this.Me.nb(q));this.fm=-1;0<l&&(g=this.GE())&&(f=!0);if(10<c++)throw d.g.za();f&&this.NO();this.wE()&&(f=!0);a=a||f&&!1;b=b||f}while(f)}this.a.le(this.Gr);
this.a.le(this.Ug);return b=d.SN.V(this.a,this.Y,this.Me,this.Vw)||b};e.prototype.Zu=function(b,a){return this.a.U(a)==b?!1:!0};e.prototype.KO=function(b,a,c,d,e,g,h,l){if(d==h)return this.zk(c),this.zk(g),!1;var f=this.a.Sa(c,this.Ug),k=this.a.Sa(e,this.Ug),m=this.a.Sa(g,this.Ug),n=this.a.Sa(l,this.Ug);c=[0,0,0,0,0,0,0,0];var t=[0,0,0,0];c[0]=0;t[0]=f;c[1]=0;t[1]=k;c[2]=1;t[2]=m;c[3]=1;t[3]=n;for(f=1;4>f;f++){k=t[f];m=c[f];for(n=f-1;0<=n&&t[n]>k;)t[n+1]=t[n],c[n+1]=c[n],n--;t[n+1]=k;c[n+1]=m}t=0;
0!=c[0]&&(t|=1);0!=c[1]&&(t|=2);0!=c[2]&&(t|=4);0!=c[3]&&(t|=8);if(5!=t&&10!=t)return!1;b==a?b?(this.a.Kc(l,d),this.a.Lc(d,l),this.a.Kc(e,h),this.a.Lc(h,e)):(this.a.Lc(l,d),this.a.Kc(d,l),this.a.Lc(e,h),this.a.Kc(h,e)):b?(this.a.Lc(d,g),this.a.Kc(g,d),this.a.Lc(h,e),this.a.Kc(e,h)):(this.a.Kc(d,g),this.a.Lc(g,d),this.a.Kc(h,e),this.a.Lc(e,h));return!0};e.prototype.JE=function(b,a,c,d,e,g){this.C_?this.UO():this.TO(b,a,c,d,e,g)};e.prototype.UO=function(){throw d.g.X("not implemented.");};e.prototype.TO=
function(b,a,c,d,e,g){if(b!=a)b?(this.a.Kc(c,e),this.a.Lc(e,c),this.a.Kc(g,d),this.a.Lc(d,g),this.po(e,c),this.Ri(e,!0),this.a.Mi(e,!0),this.zk(c),this.po(g,d),this.Ri(g,!0),this.a.Mi(g,!1)):(this.a.Kc(e,c),this.a.Lc(c,e),this.a.Kc(d,g),this.a.Lc(g,d),this.po(e,c),this.Ri(e,!0),this.a.Mi(e,!1),this.zk(c),this.po(g,d),this.Ri(g,!0),this.a.Mi(g,!0)),this.zk(d);else{var f=b?c:d,k=a?e:g;b=b?d:c;a=a?g:e;e=!1;this.a.Kc(f,k);this.a.Kc(k,f);this.a.Lc(b,a);this.a.Lc(a,b);for(g=a;g!=k;)c=this.a.Ra(g),d=this.a.U(g),
this.a.Lc(g,d),this.a.Kc(g,c),e=e||g==f,g=d;e||(c=this.a.Ra(k),d=this.a.U(k),this.a.Lc(k,d),this.a.Kc(k,c));this.po(k,f);this.Ri(k,!0);this.a.Mi(k,!1);this.zk(f);this.po(a,b);this.Ri(a,!0);this.a.Mi(a,!1);this.zk(b)}};e.prototype.wE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var c=this.a.cb(a),d=0,e=this.a.La(a);d<e&&1<e;){var g=this.a.Ra(c),h=this.a.U(c);this.a.Uq(g,h)?(b=!0,this.Ri(c,!1),this.a.ud(c,!0),this.Ri(h,!1),this.a.ud(h,!0),c=g,d=0,e=this.a.La(a)):(c=h,d++)}if(2>this.a.La(a)){b=
this.a.cb(a);d=0;for(e=this.a.La(a);d<e;d++)this.Ri(b,!1),b=this.a.U(b);a=this.a.Rr(a);b=!0}else a=this.a.Sb(a)}return b};e.prototype.mq=function(b){for(var a=!1;;){var c=this.a.U(b),d=this.a.Ra(b);if(c==b)return this.Ri(b,!0),this.a.Mi(b,!1),!0;if(!this.a.Uq(c,d))break;a=!0;this.zk(d);this.zk(c);this.Ri(b,!0);this.a.Mi(b,!1);this.po(c,d);this.Ri(c,!0);this.a.Mi(c,!0);if(c==d)break;b=d}return a};e.prototype.NO=function(){for(var b=0,a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a)){var c=this.Me.getData(a);
this.a.Aj(c,-1)}for(var d=0,e=this.a.Pb(this.Y);-1!=e;)if(a=this.a.cb(e),-1==a||-1!=this.a.ld(a))c=e,e=this.a.Sb(e),this.a.Sr(c);else{this.a.Aj(a,e);for(var g=1,c=this.a.U(a);c!=a;c=this.a.U(c))this.a.Aj(c,e),g++;this.a.Np(e,!1);this.a.nk(e,g);this.a.sh(e,this.a.Ra(a));d+=g;b++;e=this.a.Sb(e)}for(a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a))c=this.Me.getData(a),-1==this.a.ld(c)&&(e=this.a.BH(this.Y,c,c,null),d+=this.a.La(e),b++);this.a.wm(this.Y,b);this.a.lk(this.Y,d);b=0;for(d=this.a.sd;-1!=d;d=
this.a.Ue(d))b+=this.a.D(d);this.a.zC(b)};e.prototype.Pm=function(b){for(var a=0,c=this.Xe.size-1;a<c;a++)if(b=(b+1)%this.Xe.size,-1!=this.Xe.get(b))return b;return-1};e.prototype.po=function(b,a){var c=this.a.Sa(a,this.Gr),d=this.a.Sa(a,this.Ug);this.a.JC(b,a);this.a.Va(a,this.Gr,c);this.a.Va(a,this.Ug,d)};e.prototype.zk=function(b){var a=this.a.Sa(b,this.Ug);-1!=a&&(this.Xe.set(a,-1),this.a.Va(b,this.Ug,-1))};e.V=function(b,a,c,d,g){var f=new e;f.a=b;f.Y=a;f.dB=c;f.Vw=d;f.ke=g;return f.VO()};e.prototype.GO=
function(b,a){var c=this.vi.get(b),e=new d.b;this.a.Nc(c,e);var c=new d.b,g=this.vi.get(a);this.a.Nc(g,c);if(e.ub(c))return 0;b=this.vt.get(b);g=new d.b;this.a.Nc(b,g);a=this.vt.get(a);b=new d.b;this.a.Nc(a,b);a=new d.b;a.zc(e,g);e=new d.b;e.zc(c,b);return d.b.vs(a,e)};return e}();d.lo=e})(n||(n={}));(function(d){(function(d){d[d.Local=0]="Local";d[d.Geographic=1]="Geographic";d[d.Projected=2]="Projected";d[d.Image=3]="Image";d[d.Unknown=4]="Unknown"})(d.ZN||(d.ZN={}));(function(d){d[d.Integer32=
0]="Integer32";d[d.Integer64=1]="Integer64";d[d.FloatingPoint=2]="FloatingPoint"})(d.JN||(d.JN={}));var e=function(){function e(){this.jq="";this.bv=null;this.yg=0;this.lJ=this.tp=-1;this.Uh=null}e.prototype.yc=function(){return this.yg};e.prototype.Rs=function(){return 0};e.prototype.Ss=function(){return 0};e.prototype.Ts=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Tz=function(){return 5.7295779513082306E10};e.prototype.Uz=function(){return 1E3};e.prototype.Sz=function(){return 1E3};
e.prototype.bt=function(){return 1};e.prototype.re=function(){var b=.001;0!=this.yg?b=d.us.uS(this.yg):null!=this.Uh&&(b=d.oE.vS(this.Uh));return b};e.prototype.mH=function(){return this.Uh};e.prototype.Nd=function(){if(0!=this.yg)return d.oc.ze(d.us.xG(this.yg));if(null!=this.Uh)return d.oE.wS(this.Uh)};e.Fb=function(b){if(0!=b.yg){if(!0===d.us.SU(b.yg))return 1;if(!0===d.us.UU(b.yg))return 2}return 4};e.prototype.$s=function(){var b=this.yc();if(-1!=this.tp)return this.tp;this.tp=d.us.sZ(b);return-1!=
this.tp?this.tp:b};e.create=function(b){if(0>=b)throw d.g.F("Invalid or unsupported wkid: "+b);var a=new e;a.yg=b;return a};e.oR=function(b){if(null==b||0==b.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var a=new e;a.Uh=b;return a};e.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.yg!=b.yg||0==this.yg&&this.Uh!==b.Uh?!1:!0};e.PS=function(b,a){var c=Math.PI/180,e=new d.ea;d.pM.SS(b.w().x*c,b.w().y*c,a.w().x*c,a.w().y*c,e);return e.j};
e.prototype.toString=function(){return"[ tol: "+this.Bo()+"; wkid: "+this.yc()+"; wkt: "+this.mH()+"]"};e.prototype.jc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var c=0;c<b.length;c++)a=(a<<5)-a+b.charCodeAt(c),a&=a;return this.jq="S"+a};e.prototype.Bo=function(){return this.re(0)};e.prototype.Ao=function(){return null!==
this.bv?this.bv:this.bv=d.Ou.vR(this)};e.q_=!0;e.sv=2147483645;e.tv=9007199254740990;return e}();d.Sd=e})(n||(n={}));(function(d){var e=function(e){function b(){e.apply(this,arguments);this.ij=null;this.lp=new d.eE;this.Xw=this.Fr=null}K(b,e);b.vR=function(a){var c=new b;c.yg=a.yg;c.tp=a.tp;c.lJ=a.lJ;c.Uh=a.Uh;if(""!==c.Uh&&null!==c.Uh){a=b.PY(c.Uh);var f=b.lX(c.Uh);c.lp.Ey(a,f,d.ts.Integer64);c.Ky(a);c.yg=a.$s()}else a=b.DX(c.yg),c.Ky(a),c.lp.Ey(a,null,d.ts.Integer64);return c};b.prototype.re=function(a){return this.lp.Bo(a)};
b.lX=function(a){if(0>=a.length)throw d.g.F();var c=null;try{c=d.QD.fromString(a)}catch(f){c=null}return null==c?null:b.sD(c,!0)};b.prototype.Ky=function(a){this.Pd=a;this.Fr=this.Pd.Nd()};b.prototype.Jc=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Pd.Jc()};b.prototype.UH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.ij.Gk().Jc():this.Pd.Jc()};b.prototype.Kg=function(){return null!=this.Pd?this.Pd.uf:null};b.prototype.bn=function(){return this.Pd.bn()};b.prototype.ee=function(){return this.Pd.ee()};
b.prototype.Ch=function(){return null!=this.Pd?this.Pd.fx:NaN};b.prototype.dn=function(){return this.Pd.dn()};b.prototype.Ws=function(){return this.Pd.Ws()};b.prototype.Sj=function(){return this.Pd.Sj()};b.prototype.hU=function(a){return d.TD.zz(this.Pd,a.Pd)};b.prototype.Mk=function(){return this.Pd.Mk()};b.prototype.Vs=function(){return this.Pd.Vs()};b.prototype.pi=function(){return 3==this.Fb()?this.ij.Gk().pi():this.Pd.pi()};b.prototype.Bh=function(){if(!this.Jc())throw d.g.F("!isPannable()");
var a=new d.h;this.Pd.Bh(a);return a};b.prototype.qe=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.gp};b.prototype.AT=function(){if(!this.Jc())throw d.g.F("!isPannable()");var a=new d.h;this.Pd.zT(a);return a};b.prototype.bw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.bw()};b.prototype.aw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.aw()};b.prototype.Xs=function(){return null!=this.ij?this.ij.Gk().Xs():this.Pd.Xs()};b.prototype.DS=
function(){return this.Pd.Uv()};b.prototype.iX=function(a){a.assign(this.lp)};b.prototype.Yi=function(){return this.Fr.getUnitFactor()};b.prototype.fA=function(a){return this.lp.fA(a)};b.prototype.kc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.ij.Gk().kc();if(0==a)throw d.g.X("invalid call");if(4===a)throw d.g.X("invalid call");if(null!==this.Xw)return this.Xw;a=this.Kg().getGeogcs();if(null==a)throw d.g.za();return this.Xw=b.iG(a,this.lp.bt())};b.iG=function(a,c){if(null==
a)throw d.g.F("null pointer.");var f=new b;a=b.Pu(a,!0);f.lp.Ey(a,null,c);f.Ky(a);f.yg=a.$s();return f};b.prototype.Fb=function(){var a=this.Kg();if(null!=a)switch(a.getType()){case d.Vc.PE_TYPE_GEOGCS:return 1;case d.Vc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.dA=function(a){var b=new d.b;this.Pd.dA(a,b);return b};b.prototype.Uv=function(){return this.Pd.Uv()};b.Pu=function(a,c){var f=a.getCode();if(0>=f&&(f=d.Tf.getCode(a),0<f)){var e=d.Tf.coordsys(f);if(null==e)throw d.g.F("Text to wkid mapping had failed: "+
f);return b.Pu(e,c)}if(c&&0<f&&(e=b.Mv[f]))return e;e=d.Ib.iw(a,f,!1);if(c=b.zH[e])return c;c=0>=f?a:d.Tf.coordsys(f);c=new d.TD(c);b.zH[e]=c;0<f&&(b.Mv[f]=c);return c};b.DX=function(a){if(0>=a)throw d.g.F("Invalid or unsupported wkid: "+a);var c=b.Mv[a];if(null!=c)return c;c=d.Tf.coordsys(a);if(null==c)throw d.g.F("Invalid or unsupported wkid: "+a);c=b.Pu(c,!1);c.$s()!=a&&(b.Mv[a]=c);return c};b.PY=function(a){if(null==a||void 0===a||0==a.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");
var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_COORDSYS,a)}catch(f){throw d.g.F("Cannot create SpatialReference from text. "+f.message);}if(null===c)throw d.g.F("Cannot create SpatialReference from text. ");return b.Pu(c,!0)};b.sD=function(a,c){var e=a.getCode();if(0>=e&&(e=d.Tf.getCode(a),0<e)){e=d.Tf.vertcs(e);if(null===e)throw d.g.F();return b.sD(e,c)}if(c&&0<e&&(c=b.xH[e]))return c;a=d.Ib.iw(a,e,!1);if(c=b.YH[a])return c;var g;0>=e||(g=d.Tf.vertcs(e));if(null===g)throw d.g.F();c=new d.FN(g);b.YH[a]=
c;0<e&&(b.xH[e]=c);return c};b.jK=function(a,b){var c;if(null===b||b.u())return null;var e=new d.h,g;null!==b&&1!=a.Fb()?(c=a.kc(),g=c.Kg(),c=d.rs.Is(a,c,null,null),c=d.os.local().V(b,c,null),c.s(e)):(g=a.Kg(),b.s(e));c=g.getPrimem().getLongitude();g=g.getUnit().getUnitFactor();return new d.OD(e.o,e.A,e.v,e.B,c,g)};b.EE=function(a){var b={name:"",steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<a.length;d++){var e=a[d],g={y_:!1,X_:"",W_:-1,geogtran:null};0===e.getDirection()?g.isInverse=
!1:g.isInverse=!0;var h=e.getGeogtran().getCode();-1<h?g.wkid=h:g.wkt=e.getGeogtran().toString();b.steps.push(g)}return b};b.QT=function(a,c,e,g){void 0===e&&(e=null);e=b.jK(g,e);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,e,1);c=null;a&&0<a.length&&(c=this.EE(a[0]),d.wy.destroy(a));null!==e&&e.destroy();return c};b.RT=function(a,c,e,g){var f;void 0===e&&(e=null);void 0===g&&(g=null);void 0===f&&(f=30);e=b.jK(g,e);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,e,f);c=
[];if(a&&0<a.length){for(f=0;f<a.length;f++)c.push(this.EE(a[f]));d.wy.destroy(a)}null!==e&&e.destroy();return c};b.Mv={};b.zH={};b.xH={};b.YH={};return b}(d.Sd);d.Ou=e})(n||(n={}));(function(d){(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(d.ts||(d.ts={}));var e=d.ts,g=function(){function b(){this.kq()}b.prototype.assign=function(a){this.Xl=a.Xl;this.Yl=a.Yl;this.uj=a.uj;this.Tw=a.Tw;this.Jn=a.Jn;this.Sw=a.Sw;this.rx=a.rx;this.jl=a.jl;
this.Cr=a.Cr;this.Br=a.Br;this.En=a.En};b.prototype.Rs=function(){return this.Xl};b.prototype.Ss=function(){return this.Yl};b.prototype.Ts=function(){return this.Tw};b.prototype.Qs=function(){return this.Sw};b.prototype.Tz=function(){return this.uj};b.prototype.Uz=function(){return this.Jn};b.prototype.Sz=function(){return this.rx};b.prototype.bt=function(){return this.En};b.prototype.kq=function(){this.Yl=this.Xl=0;this.uj=1;this.Tw=0;this.Jn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.jl=2.220446049250313E-14;
this.En=e.FloatingPoint};b.prototype.Ey=function(a,b,f){this.kq();this.En=f;if(f!=e.FloatingPoint){var c=new d.h;a.ZS(c);this.Xl=c.o;this.Yl=c.A}else this.Yl=this.Xl=-1.7976931348623157E308;c=a.uf.getType();c==d.Vc.PE_TYPE_GEOGCS?(c=(f==e.Integer64?1E-9:1/18E5)*a.ee(),this.uj=1/c):c==d.Vc.PE_TYPE_PROJCS&&(c=(f==e.Integer64?1E-4:.001)*a.bn(),this.uj=1/c);null!=b?(c=(f==e.Integer32?.001:1E-4)*b.XI,this.Jn=1/c):this.Jn=1E4;this.rx=1E4;this.WO();this.jl=a.fx;this.Cr=null!=b?.001*b.XI:.001;this.Br=2.220446049250313E-14};
b.prototype.WO=function(){if(this.En!=e.FloatingPoint){var a=this.En==e.Integer64?d.Sd.tv:d.Sd.sv,b=a/this.uj,f=this.Xl+b,g=d.J.truncate((f-this.Xl)*this.uj);g>a&&(this.uj=a/(f-this.Xl));b=this.Yl+b;g=d.J.truncate((b-this.Yl)*this.uj);g>a&&(this.uj=a/(b-this.Yl))}};b.prototype.yC=function(a,b){switch(a){case 0:this.jl=b;case 1:this.Cr=b;case 2:this.Br=b}};b.prototype.Bo=function(a){switch(a){case 0:return this.jl;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.WT=function(){var a=
new d.h;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Tz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.Integer64:b=d.Sd.tv/this.Tz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.XT=function(){var a=new d.Ac;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Uz();a.I(this.Ts(),
this.Ts()+b);break;case e.Integer64:b=d.Sd.tv/this.Uz();a.I(this.Ts(),this.Ts()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.sT=function(){var a=new d.Ac;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Sz();a.I(this.Qs(),this.Qs()+b);break;case e.Integer64:b=d.Sd.tv/this.Sz();a.I(this.Qs(),this.Qs()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;
default:throw d.g.X("internal error");}return a};b.prototype.fA=function(a){if(this.En==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.uj;case 1:return 1/this.Jn;case 2:return 1/this.Jn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.jl.toString();a=a+";m_falseX: "+this.Xl.toString();a=a+";m_falseY: "+this.Yl.toString();a=a+";m_unitsXY: "+this.uj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Jn.toString();a=a+";m_falseM: "+
this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.En.toString();return a+"] "};return b}();d.eE=g})(n||(n={}));(function(d){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function g(a,b,c){a=a/6378137*57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:
[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var c=a.Vf();if(33===a.G()){var e=b(c.Be(),c.nf());c.rb(e[0],e[1])}else if(197===a.G())e=b(a.R.o,a.R.A,!0),a=b(a.R.v,a.R.B,!0),c.I(e[0],e[1],a[0],a[1]);else for(e=new d.b,a=0;a<c.D();a++){c.w(a,e);var f=b(e.x,e.y,!0);e.ka(f[0],f[1]);c.rb(a,e)}return c}function a(a){return b(a,g)}function c(a){return b(a,e)}var f=Math.PI/180,k=function(){function a(){}a.Ru=function(a){var b=Math.sqrt(.006694379990197414),
c=Math.sin(a.y*f);return d.b.pa(6378137*a.x*f,3167719.6636462314*(c/(1-.006694379990197414*c*c)-1/(2*b)*Math.log((1-b*c)/(1+b*c))))};a.DA=function(a,b,c,e){var g=1/298.257223563,k=Math.sin(c);c=Math.cos(c);var m=(1-g)*Math.tan(a);a=1/Math.sqrt(1+m*m);for(var h=m*a,l=Math.atan2(m,c),m=a*k,n=m*m,t=1-n,p=2.7233160610754688E11*t/4.040829998466145E13,u=1+p/16384*(4096+p*(-768+p*(320-175*p))),q=p/1024*(256+p*(-128+p*(74-47*p))),p=e/(6356752.31424518*u),r=2*Math.PI,v,x,w,y;1E-12<Math.abs(p-r);)w=Math.cos(2*
l+p),v=Math.sin(p),x=Math.cos(p),y=q*v*(w+q/4*(x*(-1+2*w*w)-q/6*w*(-3+4*v*v)*(-3+4*w*w))),r=p,p=e/(6356752.31424518*u)+y;e=h*v-a*x*c;t=g/16*t*(4+g*(4-3*t));return d.b.pa((b+(Math.atan2(v*k,a*x-h*v*c)-(1-t)*g*m*(p+t*v*(w+t*x*(-1+2*w*w)))))/f,Math.atan2(h*x+a*v*c,(1-g)*Math.sqrt(n+e*e))/f)};a.BM=function(a,b,c,d){var e=1/298.257223563,f=d-b,g=Math.atan((1-e)*Math.tan(a)),k=Math.atan((1-e)*Math.tan(c)),m=Math.sin(g),g=Math.cos(g),h=Math.sin(k),k=Math.cos(k),l=f,n,t=1E3,p,u,q,r,v,x,w;do{q=Math.sin(l);
r=Math.cos(l);u=Math.sqrt(k*q*k*q+(g*h-m*k*r)*(g*h-m*k*r));if(0===u)return 0;r=m*h+g*k*r;v=Math.atan2(u,r);x=g*k*q/u;p=1-x*x;q=r-2*m*h/p;isNaN(q)&&(q=0);w=e/16*p*(4+e*(4-3*p));n=l;l=f+(1-w)*e*x*(v+w*u*(q+w*r*(-1+2*q*q)))}while(1E-12<Math.abs(l-n)&&0<--t);if(0===t)return m=d-b,{azimuth:Math.atan2(Math.sin(m)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(m)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(d-b))};a=2.7233160610754688E11*
p/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(k*Math.sin(l),g*h-m*k*Math.cos(l)),OS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(v-b*u*(q+b/4*(r*(-1+2*q*q)-b/6*q*(-3+4*u*u)*(-3+4*q*q)))),P_:Math.atan2(g*Math.sin(l),g*h*Math.cos(l)-m*k)}};a.AR=function(a){var b=a.hasAttribute(1),c=a.hasAttribute(2),e=[],f=a.aa(),g=null,k=null;b&&(g=a.Pa(1));c&&(k=a.Pa(2));for(var m=new d.b,h=0;h<f;h++){for(var l=a.wa(h),n=a.La(h),t=0,p=0,u=NaN,q=NaN,r=NaN,v=NaN,
x=a.Qb(h),w=[],y=l;y<l+n;y++){a.w(y,m);var v=r=NaN,z=[m.x,m.y];b&&(r=g.get(y),z.push(r));c&&(f=k.get(y),z.push(v));y==l&&x&&(t=m.x,p=m.y,u=r,q=v);w.push(z)}!x||t==m.x&&p==m.y&&(!b||isNaN(u)&&isNaN(r)||u==r)&&(!c||isNaN(q)&&isNaN(v)||q==v)||w.push(w[0].slice(0));e.push(w)}return e};a.Ez=function(b,c){b=a.AR(b);637.100877141506>c&&(c=637.100877141506);for(var d=[],e,g=0;g<b.length;g++){var k=b[g];d.push(e=[]);e.push([k[0][0],k[0][1]]);var m,h,l,n,t,p;m=k[0][0]*f;h=k[0][1]*f;for(t=0;t<k.length-1;t++)if(l=
k[t+1][0]*f,n=k[t+1][1]*f,m!==l||h!==n){n=a.BM(h,m,n,l);l=n.azimuth;n=n.OS;var u=n/c;if(1<u){for(p=1;p<=u-1;p++){var q=a.DA(h,m,l,p*c);e.push([q.x,q.y])}p=a.DA(h,m,l,(n+Math.floor(u-1)*c)/2);e.push([p.x,p.y])}h=a.DA(h,m,l,n);e.push([h.x,h.y]);m=h.x*f;h=h.y*f}}return{gK:d}};a.NS=function(b){for(var c=[],e=0;e<b.length;e++){var f=b[e],f=a.Ez(f,1E4);c.push(f)}b=[];for(var g=0;g<c.length;g++){for(var f=c[g],k=0,e=0;e<f.gK.length;e++){var m=f.gK[e],h=a.Ru(d.b.pa(m[0][0],m[0][1])),l=a.Ru(d.b.pa(m[m.length-
1][0],m[m.length-1][1])),n=l.x*h.y-h.x*l.y,t;for(t=0;t<m.length-1;t++)h=a.Ru(d.b.pa(m[t+1][0],m[t+1][1])),l=a.Ru(d.b.pa(m[t][0],m[t][1])),n+=l.x*h.y-h.x*l.y;k+=n}k/=1;b.push(k/-2)}return b};return a}();d.qM=k;k=function(){function b(){}b.XB=function(a,c,d,e,f,g,k){b.uD[a.jc()]=c;0==isNaN(d)&&(b.wD[a.jc()]=d);0==isNaN(e)&&(b.XD[a.jc()]=e);0==isNaN(f)&&(b.oD[a.jc()]=f);b.yD[a.jc()]=g;null!==k&&(b.AD[a.jc()]=k)};b.Ix=function(a,c,d){b.RD[a.jc()+"-"+c.jc()]=d};b.kc=function(a){a=b.uD[a.jc()];if(void 0==
a)throw d.g.df();return a};b.ee=function(a){a=b.wD[a.jc()];if(void 0==a)throw d.g.df();return a};b.hw=function(a){a=b.XD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Sv=function(a){a=b.oD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Bh=function(a){a=b.AD[a.jc()];if(void 0==a)throw d.g.df();return d.h.pa(a[0],a[1],a[2],a[3])};b.Jc=function(a){a=b.yD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Xg=function(a,c,e){if(c.Eb(e))return a;var f=b.RD[c.jc()+"-"+e.jc()];if(void 0!==f)return f(a,c,
e);throw d.g.df();};b.lu=function(){throw d.g.df();};b.TS=function(){throw d.g.df();};b.UW=function(){throw d.g.df();};b.Mk=function(){throw d.g.df();};b.rX=function(){var b=d.Sd.create(102100),e=d.Sd.create(3857),f=d.Sd.create(4326);d.fb.XB(b,f,NaN,NaN,NaN,!1,null);d.fb.XB(f,f,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);d.fb.XB(e,f,NaN,NaN,NaN,!1,null);d.fb.Ix(b,f,a);d.fb.Ix(f,b,c);d.fb.Ix(e,f,a);d.fb.Ix(f,e,c)};b.uD=[];b.wD=[];b.XD=[];b.oD=[];b.yD=[];b.AD=[];b.RD=[];return b}();d.fb=k})(n||
(n={}));n.fb.rX();(function(d){var e=function(){function e(b){this.f=null;this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();
this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed+this.ed,c=b*this.ed;c<a;c++)this.f[c]=-1;return b};e.prototype.nl=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,e=this.ed,g=0;g<e;g++)this.f[c+g]=b[g];return a};e.prototype.Vi=function(b){this.kh=-1;
this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};e.Im=function(){return-2};e.jo=function(){return-3};e.BA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=[]);this.yd=b};return e}();d.ad=e;e=function(){function e(b){this.f=new Int32Array(0);this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<
this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed;a<b*this.ed+this.ed;a++)this.f[a]=-1;return b};e.prototype.nl=
function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,e=0;e<b.length;e++)this.f[c+e]=b[e];return a};e.prototype.Vi=function(b){this.kh=-1;this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*
a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};e.Im=function(){return-2};e.jo=function(){return-3};e.BA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.ed*b);a.set(this.f,0);this.f=a;this.yd=b};return e}();d.$N=e;!0===d.Xh.Bm&&(d.ad=d.$N)})(n||(n={}));(function(d){var e;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=
5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var g=function(){function a(a){this.bf=a;this.Wh=NaN;this.qI=new d.Cg;this.rI=new d.Cg;this.it=new d.Ac;this.jt=new d.Ac}a.prototype.compare=function(a,b,d){a=a.ja(d);this.bf.QB(b,this.qI);this.bf.QB(a,this.rI);b=this.qI.get();a=this.rI.get();this.it.I(b.ua,b.sa);this.jt.I(a.ua,a.sa);if(this.it.ha<this.jt.ca)return-1;if(this.it.ca>this.jt.ha)return 1;d=b.ra==b.oa;var c=a.ra==a.oa;if(d||
c){if(d&&c)return 0;if(b.ra==a.ra&&b.ua==a.ua)return d?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return d?-1:1}d=b.pf(this.Wh,this.it.ca);c=a.pf(this.Wh,this.jt.ca);d==c&&(d=Math.min(b.oa,a.oa),c=.5*(d+this.Wh),c==this.Wh&&(c=d),d=b.pf(c,this.it.ca),c=a.pf(c,this.jt.ca));return d<c?-1:d>c?1:0};a.prototype.RK=function(a){this.Wh=a};return a}(),b=function(){function a(a){this.bb=a;this.jJ=new d.Cg;this.cg=new d.b;this.cB=new d.Ac}a.prototype.eY=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.bb.QB(a.ja(b),
this.jJ);a=this.jJ.get();this.cB.I(a.ua,a.sa);if(this.cg.x<this.cB.ca)return-1;if(this.cg.x>this.cB.ha)return 1;a=a.pf(this.cg.y,this.cg.x);return this.cg.x<a?-1:this.cg.x>a?1:0};return a}();e=function(){function a(){this.tI=this.cj=this.fj=this.TA=this.No=this.Ye=this.Rc=this.Eh=this.De=null;this.sp=this.Tg=-1;this.sI=!0;this.XA=!1;this.UA=NaN;this.mj=new d.$d;this.cQ=2147483647;this.bQ=d.J.truncate(-2147483648);this.xg=this.xe=this.km=this.rr=this.qn=this.qr=this.Jt=this.rf=-1;this.qa=0}a.prototype.ez=
function(a){this.UA=a};a.prototype.Mn=function(){null==this.De&&(this.De=new d.ad(8));var a=this.De.Pe();this.De.P(a,1,0);return a};a.prototype.fW=function(){null==this.Rc&&(this.Rc=new d.ad(8));var a=this.Rc.Pe();this.Rc.P(a,2,0);this.Rc.P(a,3,0);var b=this.Rc.Pe();this.Rc.P(b,2,0);this.Rc.P(b,3,0);this.zK(a,b);this.zK(b,a);return a};a.prototype.vJ=function(){null==this.Ye&&(this.Ye=new d.ad(8));var a=this.Ye.Pe();this.Ye.P(a,2,0);return a};a.prototype.QX=function(a,b){this.De.P(a,7,b)};a.prototype.bo=
function(a,b){this.De.P(a,2,b)};a.prototype.PX=function(a,b){this.De.P(a,1,b)};a.prototype.fY=function(a,b){this.De.P(a,3,b)};a.prototype.cY=function(a,b){this.De.P(a,4,b)};a.prototype.Vr=function(a,b){this.De.P(a,5,b)};a.prototype.WS=function(a){return this.De.S(a,5)};a.prototype.OX=function(a,b){this.De.P(a,6,b)};a.prototype.aP=function(a,b){this.OX(b,a)};a.prototype.yK=function(a,b){this.Rc.P(a,1,b)};a.prototype.zK=function(a,b){this.Rc.P(a,4,b)};a.prototype.ym=function(a,b){this.Rc.P(a,5,b)};
a.prototype.xm=function(a,b){this.Rc.P(a,6,b)};a.prototype.VX=function(a,b){this.Rc.P(a,2,b)};a.prototype.Nx=function(a,b){this.Rc.P(a,3,b)};a.prototype.WG=function(a){return this.Rc.S(a,3)};a.prototype.uu=function(a,b){this.Rc.P(a,7,b)};a.prototype.xL=function(a,b){if(-1!=this.$m(a))for(b=b?-1:a,a=this.$m(a);-1!=a;a=this.gt(a))this.a.Va(this.Uj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.xL(a,b),this.xL(this.Aa(a),b))};a.prototype.su=function(a,b){this.Ye.P(a,1,b)};a.prototype.rh=function(a,
b){this.Ye.P(a,2,b)};a.prototype.Zn=function(a,b){this.Ye.P(a,3,b);this.MX(a,this.VS(b));this.LX(b,a)};a.prototype.LX=function(a,b){this.Ye.P(a,4,b)};a.prototype.MX=function(a,b){this.Ye.P(a,5,b)};a.prototype.tK=function(a,b){this.Ye.P(a,6,b)};a.prototype.rK=function(a,b){this.Ye.P(a,7,b)};a.prototype.qK=function(a,b){this.No.write(a,b)};a.prototype.sK=function(a,b){this.TA.write(a,b)};a.prototype.hZ=function(a){var b=0,c=0,e=this.MG(a),g=new d.b,h=new d.b,l=new d.b;this.Ys(e,g);h.L(g);var n=e;do this.Zm(n,
l),c+=d.b.Cb(h,l),this.Ef(this.Aa(n))!=a&&(b+=(l.x-g.x-(h.x-g.x))*(l.y-g.y+(h.y-g.y))*.5),h.L(l),n=this.qc(n);while(n!=e);this.No.write(a,b);this.TA.write(a,c)};a.prototype.BW=function(a){var c=new g(this),e=new d.uk;e.Qe(d.J.truncate(this.qa/2));e.Ep(c);for(var h=new d.ia(0),l=this.xh(),n=null,t=0,p=new d.b,q=this.rf;-1!=q;q=this.og(q)){t++;var r=this.kf(q);if(-1!=r){h.yf(0);if(!this.aZ(e,l,h,r)){this.w(q,p);c.RK(p.y);var v=r;do{var x=this.Kb(v,l);-1!=x&&(e.Kd(x,-1),this.Ob(v,l,-2));v=this.qc(this.Aa(v))}while(r!=
v);v=r;do x=this.Kb(v,l),-1==x&&(x=e.addElement(v,-1),h.add(x)),v=this.qc(this.Aa(v));while(r!=v)}for(r=h.size-1;0<=r;r--)x=h.get(r),v=e.ja(x),this.Ob(this.Aa(v),l,x),this.AW(e,x,a)}else-1==this.Kz(q)&&(null==n&&(n=new b(this)),this.w(q,p),n.eY(p),v=e.HX(n),r=this.km,-1!=v&&(x=e.ja(v),this.Ef(x)==this.Ef(this.Aa(x))&&(x=this.YG(e,v)),-1!=x&&(r=this.Ef(x))),this.aP(r,q))}this.ni(l)};a.prototype.AW=function(a,b,d){var c=a.ja(b),e=this.Ef(c);if(-1==this.vo(e)){var f=this.YG(a,b),g=this.Aa(c),k=this.Ef(g);
this.Dq(e);this.Dq(k);var h=this.vo(e),l=this.vo(k);-1==f&&-1==h&&(k==e?(this.Zn(k,this.km),h=l=this.km):(-1==l&&(this.Zn(k,this.km),l=this.km),this.Zn(e,k),h=k));if(-1!=f){var n=this.Ef(f);-1==l&&(0>=this.Dq(n)?(l=this.vo(n),this.Zn(k,l)):(this.Zn(k,n),l=n),k==e&&(h=l))}-1==h&&this.bZ(e,k);0==d?this.$W(a,b,c,f,e,k):5==d?this.aX(a,b,c,g,e,k):4==d&&this.ZW(c,f,e,k)}};a.prototype.$W=function(a,b,d,e,g,h){var c=this.Ik(g);if(-1!=e){var f=this.Ik(h),k=this.Ik(this.Ef(e));e=c&f&k;k^=k&this.Ah(d);k|=e;
0!=k&&(this.rh(h,f|k),this.rh(g,k|c),c=c||k)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ja(b);d=this.Ef(this.Aa(e));g=this.Ik(d);h=this.Ah(e);f=this.Ef(e);k=this.Ik(f);e=g&k&c;c^=c&h;c|=e;if(0==c)break;this.rh(d,g|c);this.rh(f,k|c)}};a.prototype.aX=function(a,b,e,g,h,l){if(h!=l){e=this.Kb(e,this.xg);e+=this.Kb(g,this.xg);g=0;var c=new d.ia(0),f=new d.ia(0);f.add(0);for(var k=a.xc(-1);k!=b;k=a.nb(k)){var m=a.ja(k),n=this.Aa(m),t=this.Ef(m),p=this.Ef(n);if(t!=p){m=this.Kb(m,this.xg);m+=this.Kb(n,this.xg);g+=
m;n=!1;0!=c.size&&c.Fc()==p&&(f.Pf(),c.Pf(),n=!0);if(-1==this.vo(p))throw d.g.za();n&&this.vo(p)==t||(f.add(g),c.add(t))}}g+=e;0!=c.size&&c.Fc()==l&&(f.Pf(),c.Pf());0!=g?0==f.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(h,a)):0!=f.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(h,a))}};a.prototype.ZW=function(a,b,d,e){var c=this.Ia(this.a.sd);if(-1==b)this.rh(e,this.sp),a=this.Kb(a,this.Tg),0!=(a&1)?this.rh(d,c):this.rh(d,this.sp);else{var f=this.Ik(e);0==f&&(f=this.Ik(this.Ef(b)),this.rh(e,f));a=this.Kb(a,this.Tg);
0!=(a&1)?this.rh(d,f==c?this.sp:c):this.rh(d,f)}};a.prototype.aZ=function(a,b,d,e){var c=e,f=-1,g=-1,k=0;do{if(2==k)return!1;var h=this.Kb(c,b);if(-1!=h){if(-1!=f)return!1;f=h}else{if(-1!=g)return!1;g=c}k++;c=this.qc(this.Aa(c))}while(e!=c);if(-1==g||-1==f)return!1;this.Ob(a.ja(f),b,-2);a.kk(f,g);d.add(f);return!0};a.prototype.bZ=function(a,b){var c=this.Dq(a);if(0!=c){var d=this.Dq(b);0<c&&0>d?this.Zn(a,b):0>c&&0<d?this.Zn(a,b):(c=this.vo(b),-1!=c&&this.Zn(a,c))}};a.prototype.tR=function(a,b){this.rr=
this.a.Vd();for(var c=0,e=b.size;c<e;c++){var f=b.get(c),g=this.a.Sa(f,this.qn),h=this.a.ng(this.a.ld(f)),l=this.a.hc(h);if(d.T.Ic(l)){var n=this.a.U(f);if(-1!=n){var t=this.a.Sa(n,this.qn);if(g!=t){var p=this.fW(),q=this.Aa(p),r=this.Eh.Pe();this.Eh.P(r,0,f);this.Eh.P(r,1,-1);this.uu(p,r);this.yK(p,g);r=this.kf(g);-1==r?(this.bo(g,p),this.ym(p,q),this.xm(q,p)):(g=this.Te(r),this.ym(r,q),this.xm(q,r),this.xm(g,p),this.ym(p,g));this.yK(q,t);g=this.kf(t);-1==g?(this.bo(t,q),this.xm(p,q),this.ym(q,p)):
(t=this.Te(g),this.ym(g,p),this.xm(p,g),this.xm(t,q),this.ym(q,t));h=this.Ia(h);0==a?(this.Ob(q,this.xe,0),this.Ob(p,this.xe,1736==l?h:0)):5==a?(t=new d.b,this.a.w(f,t),f=new d.b,this.a.w(n,f),g=n=0,0>t.compare(f)?n=1:g=-1,this.Ob(q,this.xe,0),this.Ob(p,this.xe,0),this.Ob(p,this.xg,n),this.Ob(q,this.xg,g)):7==a?(this.Ob(q,this.xe,this.sp),this.Ob(p,this.xe,1736==l?h:0)):4==a&&(this.Ob(q,this.xe,0),this.Ob(p,this.xe,0),this.Ob(p,this.Tg,1),this.Ob(q,this.Tg,1));l=1736==l?this.bQ:0;this.Nx(p,h|l);this.Nx(q,
h|l)}}}}};a.prototype.UV=function(a,b){var c=this.$m(b);if(-1!=c){var d=this.$m(a);this.Eh.P(c,1,d);this.uu(a,c);this.uu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.$m(b);-1!=c&&(d=this.$m(a),this.Eh.P(c,1,d),this.uu(a,c),this.uu(b,-1))};a.prototype.CY=function(a){function b(a,b){return e.KQ(a,b)}var c=new d.ia(0);c.yb(10);for(var e=this,g=this.rf;-1!=g;g=this.og(g)){c.clear(!1);var h=this.kf(g);if(-1!=h){var l=h;do c.add(l),l=this.qc(this.Aa(l));while(l!=h);if(1<c.size){l=!0;if(2<c.size)c.Gd(0,c.size,
b),c.add(c.get(0));else if(0<this.JQ(c.get(0),c.get(1))){var n=c.get(0);c.set(0,c.get(1));c.set(1,n)}else l=!1;for(var t=n=c.get(0),p=this.Xf(t),q=this.Aa(t),r=-1,v=1,x=c.size;v<x;v++){var w=c.get(v),y=this.Aa(w),z=this.Kk(y);if(z==p&&w!=t){if(0==a)r=this.WG(t)|this.WG(w),this.Nx(t,r),this.Nx(q,r),this.Ob(t,this.xe,this.Kb(t,this.xe)|this.Kb(w,this.xe)),this.Ob(q,this.xe,this.Kb(q,this.xe)|this.Kb(y,this.xe));else if(-1!=this.xg)r=this.Kb(t,this.xg)+this.Kb(w,this.xg),y=this.Kb(q,this.xg)+this.Kb(y,
this.xg),this.Ob(t,this.xg,r),this.Ob(q,this.xg,y);else{if(7==a){this.mj=new d.$d(5,g,-1);return}-1!=this.Tg&&(r=this.Kb(t,this.Tg)+this.Kb(w,this.Tg),y=this.Kb(q,this.Tg)+this.Kb(y,this.Tg),this.Ob(t,this.Tg,r),this.Ob(q,this.Tg,y))}this.UV(t,w);this.sz(w);r=t;c.set(v,-1);w==n&&(c.set(0,-1),n=-1)}else this.ey(r,!1),r=-1,t=w,p=z,q=y}this.ey(r,!1);r=-1;if(l){n=-1;v=0;for(x=c.size;v<x;v++)if(w=c.get(v),-1!=w)if(-1==n)t=n=w,p=this.Xf(t),q=this.Aa(t);else if(w!=t&&(y=this.Aa(w),z=this.Kk(y),this.xm(q,
w),this.ym(w,q),t=w,p=z,q=y,7==a&&(this.Kb(w,this.xe)|this.Kb(this.Te(w),this.xe))==(this.sp|1))){this.mj=new d.$d(5,g,-1);return}this.bo(g,n)}else{n=-1;v=0;for(x=c.size;v<x;v++)if(w=c.get(v),-1!=w){n=w;break}h!=n&&this.bo(g,n)}}}}};a.prototype.ZP=function(){for(var a=-1,b=this.xh(),e=this.rf;-1!=e;e=this.og(e)){var g=this.kf(e);if(-1!=g){var h=g;do{if(1!=this.Kb(h,b)){var l=this.vJ();this.su(l,h);this.rK(l,a);-1!=a&&this.tK(a,l);var a=l,n=0,t=h;do n|=this.Kb(t,this.xe),this.VX(t,l),this.Ob(t,b,1),
t=this.qc(t);while(t!=h);this.rh(l,n)}h=this.qc(this.Aa(h))}while(h!=g)}}l=this.vJ();this.su(l,-1);this.rK(l,a);-1!=a&&this.tK(a,l);this.km=l;this.No=d.Rd.zd(this.Ye.size,NaN);this.TA=d.Rd.zd(this.Ye.size,NaN);this.qK(this.km,Infinity);this.sK(this.km,Infinity);this.ni(b)};a.prototype.iT=function(a,b,d){b=-1!=b?b:this.kf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,d))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.vX=function(){for(var a=this.xh(),b=this.rf;-1!=b;b=this.og(b))for(var d=
-1;;){var e=this.iT(b,d,a);if(-1==e)break;for(var d=this.qc(this.Aa(e)),g=e;;){var h=this.qc(g),l=this.Te(g),n=this.Aa(g);if(l==n){this.ER(g);if(d==g||d==n)d=-1;if(g==e||l==e){e=h;if(g==e||l==e)break;g=h;continue}}else this.Ob(g,a,1);g=h;if(g==e)break}}};a.prototype.mC=function(a,b,e,g){this.qh();this.sI=g;this.a=a;this.qr=this.a.hG();a=new d.ia(0);a.yb(null!=e?this.a.D(e.get(0)):this.a.vd);var c=0,f=1,k=null!=e?e.get(0):this.a.sd;for(g=1;-1!=k;){this.a.xK(k,this.qr,f);for(var f=f<<1,h=this.a.Pb(k);-1!=
h;h=this.a.Sb(h))for(var m=this.a.cb(h),l=0,n=this.a.La(h);l<n;l++)a.add(m),m=this.a.U(m);d.T.Jo(this.a.hc(k))||(c+=this.a.aa(k));null!=e?(k=g<e.size?e.get(g):-1,g++):k=this.a.Ue(k)}this.sp=f;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Eh&&(this.Eh=new d.ad(2),this.De=new d.ad(8),this.Rc=new d.ad(8),this.Ye=new d.ad(8));this.Eh.Qe(this.qa);this.De.Qe(this.qa+10);this.Rc.Qe(2*this.qa+32);this.Ye.Qe(Math.max(32,c));this.qn=this.a.Vd();e=new d.b;g=0;c=new d.b;e.$c();for(f=0;f<=this.qa;f++)if(f<this.qa?
(m=a.get(f),this.a.w(m,c)):c.$c(),!e.ub(c)){if(g<f){m=this.Mn();for(n=l=-1;g<f;g++)n=a.get(g),this.a.Va(n,this.qn,m),k=this.Eh.Pe(),this.Eh.P(k,0,n),this.Eh.P(k,1,l),l=k,h=this.a.ld(n),k=this.a.ng(h),k=this.Ia(k),this.PX(m,this.Md(m)|k);this.QX(m,l);this.Vr(m,this.a.Za(n));-1!=this.Jt&&this.cY(this.Jt,m);this.fY(m,this.Jt);this.Jt=m;-1==this.rf&&(this.rf=m)}g=f;e.L(c)}this.xe=this.xh();5==b&&(this.xg=this.xh());4==b&&(this.Tg=this.xh());this.tR(b,a);0==this.mj.Ii&&(this.CY(b),0==this.mj.Ii&&(isNaN(this.UA)||
this.AQ()?(this.ZP(),0==this.mj.Ii&&(this.ni(this.xe),this.xe=-1,this.sI&&this.BW(b))):this.XA=!0))};a.prototype.sz=function(a){var b=this.qc(a),c=this.Te(a),d=this.Aa(a),e=this.qc(d),g=this.Te(d);b!=d&&(this.xm(g,b),this.ym(b,g));c!=d&&(this.xm(c,e),this.ym(e,c));c=this.Kk(a);this.kf(c)==a&&(e!=a?this.bo(c,e):this.bo(c,-1));e=this.Kk(d);this.kf(e)==d&&(b!=d?this.bo(e,b):this.bo(e,-1));this.Rc.kd(a);this.Rc.kd(d)};a.prototype.YG=function(a,b){for(;;)if(b=a.Ve(b),-1!=b){var c=a.ja(b);if(this.Ef(c)!=
this.Ef(this.Aa(c)))return c}else return-1};a.prototype.Wr=function(a,b,d){void 0===d&&(d=!0);this.mC(a,0,null,d)};a.prototype.mK=function(a,b){var c=new d.ia(0);c.add(b);this.mC(a,4,c,1736==a.hc(b))};a.prototype.nK=function(a,b){var c=new d.ia(0);c.add(b);this.mC(a,5,c,!0)};a.prototype.qh=function(){null!=this.a&&(-1!=this.qr&&(this.a.uX(this.qr),this.qr=-1),-1!=this.qn&&(this.a.le(this.qn),this.qn=-1),-1!=this.rr&&(this.a.le(this.rr),this.rr=-1),-1!=this.xe&&(this.ni(this.xe),this.xe=-1),-1!=this.xg&&
(this.ni(this.xg),this.xg=-1),-1!=this.Tg&&(this.ni(this.Tg),this.Tg=-1),this.a=null,this.De.Vi(!0),this.Eh.Vi(!0),this.Jt=this.rf=-1,null!=this.Rc&&this.Rc.Vi(!0),null!=this.fj&&(this.fj.length=0),null!=this.cj&&(this.cj.length=0),null!=this.tI&&(this.tI.length=0),null!=this.Ye&&this.Ye.Vi(!0),this.km=-1,this.No=null)};a.prototype.kf=function(a){return this.De.S(a,2)};a.prototype.w=function(a,b){this.a.pH(this.WS(a),b)};a.prototype.Md=function(a){return this.De.S(a,1)};a.prototype.og=function(a){return this.De.S(a,
4)};a.prototype.Kz=function(a){return this.De.S(a,6)};a.prototype.Ym=function(a){return this.De.S(a,7)};a.prototype.gt=function(a){return this.Eh.S(a,1)};a.prototype.Uj=function(a){return this.Eh.S(a,0)};a.prototype.Hg=function(a,b){b=this.cj[b];return b.size<=a?-1:b.read(a)};a.prototype.co=function(a,b,d){b=this.cj[b];b.size<=a&&b.resize(this.De.size,-1);b.write(a,d)};a.prototype.wq=function(){null==this.cj&&(this.cj=[]);for(var a=d.ia.zd(this.De.yd,-1),b=0,e=this.cj.length;b<e;b++)if(null==this.cj[b])return this.cj[b]=
a,b;this.cj.push(a);return this.cj.length-1};a.prototype.xq=function(a){this.cj[a]=null};a.prototype.Kk=function(a){return this.Rc.S(a,1)};a.prototype.Xf=function(a){return this.Kk(this.Aa(a))};a.prototype.Aa=function(a){return this.Rc.S(a,4)};a.prototype.Te=function(a){return this.Rc.S(a,5)};a.prototype.qc=function(a){return this.Rc.S(a,6)};a.prototype.Ef=function(a){return this.Rc.S(a,2)};a.prototype.Ff=function(a){return this.Ik(this.Rc.S(a,2))};a.prototype.$m=function(a){return this.Rc.S(a,7)};
a.prototype.Ys=function(a,b){this.w(this.Kk(a),b)};a.prototype.Zm=function(a,b){this.w(this.Xf(a),b)};a.prototype.Ah=function(a){return this.Rc.S(a,3)&this.cQ};a.prototype.Kb=function(a,b){b=this.fj[b];return b.size<=a?-1:b.read(a)};a.prototype.Ob=function(a,b,d){b=this.fj[b];b.size<=a&&b.resize(this.Rc.size,-1);b.write(a,d)};a.prototype.xh=function(){null==this.fj&&(this.fj=[]);for(var a=d.ia.zd(this.Rc.yd,-1),b=0,e=this.fj.length;b<e;b++)if(null==this.fj[b])return this.fj[b]=a,b;this.fj.push(a);
return this.fj.length-1};a.prototype.ni=function(a){this.fj[a]=null};a.prototype.ER=function(a){var b=this.Ef(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.MG(b)==a&&this.su(b,c);c=this.No.read(b);isNaN(c)||(this.qK(b,NaN),this.sK(b,NaN));this.ey(a,!0);this.sz(a)};a.prototype.FR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.Ef(this.Aa(d));this.su(this.Ef(d),-1);this.su(e,-1);this.ey(d,!0);this.sz(d)}};a.prototype.MG=function(a){return this.Ye.S(a,1)};a.prototype.Ik=
function(a){return this.Ye.S(a,2)};a.prototype.vo=function(a){return this.Ye.S(a,3)};a.prototype.VS=function(a){return this.Ye.S(a,4)};a.prototype.Dq=function(a){var b=this.No.read(a);isNaN(b)&&(this.hZ(a),b=this.No.read(a));return b};a.prototype.Ia=function(a){return this.a.VG(a,this.qr)};a.prototype.jf=function(a){return this.a.Sa(a,this.qn)};a.prototype.lT=function(a){return this.a.Sa(a,this.rr)};a.prototype.kT=function(a,b){var c=this.kf(a);if(-1==c)return-1;var d=c,e=-1,f=-1;do{if(this.Xf(d)==
b)return d;if(-1==e){e=this.kf(b);if(-1==e)break;f=e}if(this.Xf(f)==a)return d=this.Aa(f);d=this.qc(this.Aa(d));f=this.qc(this.Aa(f))}while(d!=c&&f!=e);return-1};a.prototype.QB=function(a,b){b.Js();b=b.get();var c=new d.b;this.Ys(a,c);b.Mc(c);this.Zm(a,c);b.Zc(c)};a.prototype.KQ=function(a,b){if(a==b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(e,b);return d.b.vs(a,c)};a.prototype.JQ=function(a,b){if(a==
b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(e,b);return 0<=c.y&&0<a.y?d.b.vs(a,c):0};a.prototype.AQ=function(){for(var a=d.Ub.Yx(this.UA),b=new d.b,e=new d.b,g=new d.b,h=new d.b,l=new d.b,n=this.rf;-1!=n;n=this.og(n)){var t=this.kf(n);if(-1!=t){var p=t;this.Ys(p,b);this.Zm(p,e);l.zc(e,b);var q=l.qk();do{var r=p,p=this.qc(this.Aa(p));if(p!=r){this.Zm(p,g);h.zc(g,b);var r=h.qk(),v=h.Ui(l);if(v*v/(r*q)*
Math.min(r,q)<=a)return!1;l.L(h);q=r;e.L(g)}}while(p!=t)}}return!0};return a}();d.Qu=e})(n||(n={}));(function(d){var e=function(){function e(){this.i=null;this.AI=new d.b;this.BI=new d.b;this.Mh=null;this.pt=!1;this.Wo=-1}e.prototype.Gf=function(b){return b<this.Mh.length?this.Mh[b]:!1};e.prototype.Hl=function(b,a,c,e){var f=d.T.lf(this.i.a.hc(c));if(2==d.T.lf(this.i.a.hc(a))&&1==f)this.zR(b,a,c,e);else throw d.g.za();};e.prototype.Wr=function(b,a){null==this.i&&(this.i=new d.Qu);this.i.Wr(b,a)};
e.prototype.Xr=function(b,a,c){d.sk.V(b,a,c,!0);for(a=b.sd;-1!=a;a=b.Ue(a))1736==b.hc(a)&&d.lo.V(b,a,-1,this.pt,c);this.Wr(b,c)};e.prototype.SF=function(b,a,c,d,e){var f=this.i.a;if(1736==f.hc(b))for(b=f.Pb(b);-1!=b;b=f.Sb(b)){var g=f.cb(b);this.i.jf(g);this.i.jf(f.U(g));var k=this.i.lT(g);if(-1!=k){var h=this.i.Kb(k,c);if(1!=h&&2!=h)if(this.Gf(this.i.Ff(k))){this.i.Ob(k,c,1);var h=f.Yf(a,-1),l=k,n=this.i.jf(g),p=1;do{var t=this.gn(g,e);f.Kj(h,t);-1!=d&&this.i.co(n,d,1);this.i.Ob(l,c,1);var l=this.i.qc(l),
q;do t=1==p?f.U(g):f.Ra(g),q=-1!=t?this.i.jf(t):-1;while(q==n);var r=this.i.Kk(l);if(r!=q){do t=1==p?f.Ra(g):f.U(g),q=-1!=t?this.i.jf(t):-1;while(q==n);r!=q?(q=r,t=this.i.Uj(this.i.Ym(q))):p=-p}n=q;g=t}while(l!=k);f.$n(h,!0)}else this.i.Ob(k,c,2)}}};e.prototype.nG=function(){for(var b=this.i.xh(),a=new d.ia(0),c=this.i.rf;-1!=c;c=this.i.og(c)){var e=this.i.kf(c),g=e;if(-1!=e){do{if(1!=this.i.Kb(g,b)){var h=this.i.Aa(g);this.i.Ob(h,b,1);this.i.Ob(g,b,1);this.Gf(this.i.Ff(g))&&this.Gf(this.i.Ff(h))&&
a.add(g)}g=this.i.qc(this.i.Aa(g))}while(g!=e)}}this.i.ni(b);this.i.FR(a)};e.prototype.gn=function(b,a){return-1==a?b:this.VT(b,a)};e.prototype.VT=function(b,a){var c=this.i.a,d,e,g=this.i.Ym(this.i.jf(b));do{d=this.i.Uj(g);e=c.ng(c.ld(d));if(e==a)return d;g=this.i.gt(g)}while(-1!=g);return b};e.prototype.es=function(b,a,c){this.nG();var e=this.i.a,g=e.bh(1736),h=this.i.xh();this.hL(b,a,g,c,h,-1);this.i.ni(h);d.lo.V(e,g,1,this.pt,null);return g};e.prototype.hL=function(b,a,c,d,e,g){this.SF(b,c,e,
g,d);-1!=a&&this.SF(a,c,e,g,d);b=this.i.a;for(a=this.i.rf;-1!=a;a=this.i.og(a)){var f=this.i.kf(a);if(-1!=f){var k=f;do{var h=this.i.Kb(k,e);if(1!=h&&2!=h)if(this.Gf(this.i.Ff(k))){var h=b.Yf(c,-1),m=k;do{var l=this.i.$m(m);-1!=l?l=this.i.Uj(l):(l=this.i.Uj(this.i.$m(this.i.Aa(m))),l=this.i.a.U(l));l=this.gn(l,d);b.Kj(h,l);this.i.Ob(m,e,1);-1!=g&&(l=this.i.jf(l),this.i.co(l,g,1));m=this.i.qc(m)}while(m!=k);b.$n(h,!0)}else this.i.Ob(k,e,2);k=this.i.qc(this.i.Aa(k))}while(k!=f)}}};e.prototype.UY=function(b,
a,c){var e=this.i.a,g=e.bh(1736),h=e.bh(1607),l=e.bh(550);this.nG();var n=-1,p=this.i.xh(),t=this.i.wq();this.hL(b,a,g,c,p,t);for(b=this.i.rf;-1!=b;b=this.i.og(b))if(a=this.i.kf(b),-1!=a){var q=a;do{var r=this.i.Kb(q,p),v=this.i.Kb(this.i.Aa(q),p),r=r|v;if(2==r)if(r=this.i.Ah(q),this.Gf(r)){var x=e.Yf(h,-1),w=q,r=this.Jx(b,e),r=this.gn(r,c);e.Kj(x,r);this.i.co(b,t,1);do{r=this.i.Xf(w);v=this.Jx(r,e);v=this.gn(v,c);e.Kj(x,v);this.i.Ob(w,p,1);this.i.Ob(this.i.Aa(w),p,1);this.i.co(r,t,1);w=this.i.qc(w);
r=this.i.Kb(w,p);v=this.i.Kb(this.i.Aa(w),p);r|=v;if(2!=r)break;r=this.i.Ah(w);if(!this.Gf(r)){this.i.Ob(w,p,1);this.i.Ob(this.i.Aa(w),p,1);break}}while(w!=q)}else this.i.Ob(q,p,1),this.i.Ob(this.i.Aa(q),p,1);q=this.i.qc(this.i.Aa(q))}while(q!=a)}for(b=this.i.rf;-1!=b;b=this.i.og(b))r=this.i.Hg(b,t),1!=r&&(r=this.i.Md(b),this.Gf(r)&&(-1==n&&(n=e.Yf(l,-1)),a=this.i.Ym(b),-1!=a&&(a=this.i.Uj(a),r=this.gn(a,c),e.Kj(n,r))));this.i.xq(t);this.i.ni(p);d.lo.V(e,g,1,this.pt,null);c=[];c[0]=l;c[1]=h;c[2]=
g;return c};e.prototype.Jx=function(b,a){var c=-1;for(b=this.i.Ym(b);-1!=b;b=this.i.gt(b)){var d=this.i.Uj(b);-1==c&&(c=d);var e=this.i.Ia(a.ng(a.ld(d)));if(this.Gf(e)){c=d;break}}return c};e.prototype.NB=function(b,a){for(var c=this.i.Kk(a),e=this.i.Xf(a),g=0,h=0,l=this.i.Ym(c);-1!=l;l=this.i.gt(l)){var n=this.i.Uj(l),p=b.ld(n),t=this.i.Ia(b.ng(p)),q=b.U(n),r=b.Ra(n),p=b.cb(p);p==n&&(this.Wo=a);-1!=q&&this.i.jf(q)==e?(g++,this.Gf(t)&&(p==q&&(this.Wo=this.i.qc(a)),h++)):-1!=r&&this.i.jf(r)==e&&(g--,
this.Gf(t)&&(p==r&&(this.Wo=this.i.qc(a)),h--))}this.i.w(c,this.AI);this.i.w(e,this.BI);c=d.b.Cb(this.AI,this.BI);return(0!=h?h:g)*c};e.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Ff(b)|this.i.Ff(this.i.Aa(b))};e.prototype.mL=function(b){for(var a=this.i.Aa(this.i.Te(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Te(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.nL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;
c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.cK=function(b,a,c,e,g){var f=this.i.a,k=b,h=this.i.Aa(k);this.i.Ob(k,c,1);this.i.Ob(h,c,1);var l=this.NB(f,k);this.Wo=-1;for(var n=k,p=-1,t=!1,q=1;;){var r=this.i.Te(k);if(r==h)break;h=this.i.qc(h);if(this.i.Aa(r)!=h)if(k=this.mL(k),-1==k)break;else t=!0,h=this.i.Aa(k);else k=r;if(k==b){p=b;break}r=this.Fq(k);if(!this.Gf(r))break;this.i.Ob(k,c,1);this.i.Ob(h,c,1);n=k;l+=this.NB(f,k);q++}if(-1==p)for(k=b,h=this.i.Aa(k),p=k;;){b=
this.i.qc(k);if(b==h)break;h=this.i.Te(h);if(this.i.Aa(b)!=h)if(k=this.nL(k),-1==k){t=!0;break}else h=this.i.Aa(k);else k=b;r=this.Fq(k);if(!this.Gf(r))break;this.i.Ob(k,c,1);this.i.Ob(h,c,1);p=k;l+=this.NB(f,k);q++}else if(-1!=this.Wo&&(n=this.Wo,p=this.i.Te(this.Wo),this.i.Aa(p)!=this.i.qc(this.i.Aa(n))&&(p=this.mL(n),-1==p)))throw d.g.za();0<=l||(k=p,p=this.i.Aa(n),n=this.i.Aa(k));c=f.Yf(a,-1);k=n;n=this.i.Kk(n);t=this.i.Xf(p)==n&&t;l=this.Jx(n,f);l=this.gn(l,g);f.Kj(c,l);-1!=e&&this.i.co(n,e,
1);n=0;for(q=t?d.J.truncate((q+1)/2):-1;;){b=this.i.Xf(k);l=this.Jx(b,f);l=this.gn(l,g);f.Kj(c,l);n++;-1!=e&&this.i.co(b,e,1);t&&n==q&&(c=f.Yf(a,-1),f.Kj(c,l));if(k==p)break;b=this.i.qc(k);if(this.i.Te(this.i.Aa(k))!=this.i.Aa(b)){if(k=this.nL(k),-1==k)throw d.g.za();}else k=b}};e.prototype.fs=function(b){for(var a=this.i.a.bh(1607),c=this.i.xh(),d=this.i.rf;-1!=d;d=this.i.og(d)){var e=this.i.kf(d),g=e;do 1!=this.i.Kb(g,c)&&this.Gf(this.Fq(g))&&this.cK(g,a,c,-1,b),g=this.i.qc(this.i.Aa(g));while(g!=
e)}this.i.ni(c);return a};e.prototype.VY=function(b){for(var a=this.i.a,c=a.bh(1607),d=a.bh(550),e=this.i.xh(),g=this.i.wq(),h=-1,l=this.i.rf;-1!=l;l=this.i.og(l)){var n=this.i.kf(l),p=n;do{var t=this.i.Kb(p,e);1!=t&&(t=this.Fq(p),this.Gf(t)&&this.cK(p,c,e,g,b));p=this.i.qc(this.i.Aa(p))}while(p!=n)}for(l=this.i.rf;-1!=l;l=this.i.og(l))t=this.i.Hg(l,g),1!=t&&(t=this.i.Md(l),this.Gf(t)&&(-1==h&&(h=a.Yf(d,-1)),n=this.i.Ym(l),-1!=n&&(n=this.i.Uj(n),n=this.gn(n,b),a.Kj(h,n))));this.i.ni(e);this.i.xq(g);
b=[];b[0]=d;b[1]=c;return b};e.prototype.Qp=function(){for(var b=this.i.a,a=b.bh(550),c=b.Yf(a,-1),d=this.i.rf;-1!=d;d=this.i.og(d))if(this.Gf(this.i.Md(d))){for(var e=-1,g=this.i.Ym(d);-1!=g;g=this.i.gt(g)){var h=this.i.Uj(g);-1==e&&(e=h);var l=this.i.Ia(b.ng(b.ld(h)));if(this.Gf(l)){e=h;break}}b.Kj(c,e)}return a};e.prototype.Do=function(b){this.Mh=[];for(var a=0;a<b;a++)this.Mh[a]=!1};e.vD=function(b,a,c,e){var f=b.Ka(),g=Array(1E3);d.J.Nv(g,null);var h=d.J.gf(1E3,0),l=b.D(),n=!0,p=2==a.tb();if(1!=
a.tb()&&2!=a.tb())throw d.g.za();for(var t=0;t<l;){var q=d.J.truncate(b.eX(g,t)-t);p?d.gd.fL(a,g,q,c,h):d.gd.gL(a,g,q,c,h);for(var r=0,v=0;v<q;v++){var x=0==h[v];e||(x=!x);x&&(n&&(n=!1,f.Id(b,0,t)),r!=v&&f.Id(b,t+r,t+v),r=v+1)}n||r==q||f.Id(b,t+r,t+q);t+=q}return n?b:f};e.MH=function(b,a,c){return b instanceof d.Ed?e.vD(b,a,c,!0):a instanceof d.Wa?b.u()||a.u()?b.Ka():d.sk.yJ(c,b,a)?d.sk.FQ(b,a):b.Ka():e.xD(b,a,c,!0)};e.nw=function(b,a,c,f){var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);
l.Nb(h);c=d.na.be(c,l,!0);l=new d.h;l.I(h);h=d.na.Cs(c);l.O(h,h);if(!g.Yb(l)){if(b.tb()<=a.tb())return e.bd(e.Bb(b.Ka()),b,"\x26");if(b.tb()>a.tb())return e.bd(e.Bb(a.Ka()),b,"\x26")}h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,c,f);f=h.nw(l,a);b=e.bd(g.Se(f),b,"\x26");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.xD=function(b,a,c,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var f=[null],g=[0],h=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw d.g.za();f[0]=b.w();h?d.gd.fL(a,
f,1,c,g):d.gd.gL(a,f,1,c,g);a=0==g[0];e||(a=!a);return a?b.Ka():b};e.TZ=function(b,a,c){return b instanceof d.Ed?e.vD(b,a,c,!1):a instanceof d.Wa?b.u()?b.Ka():a.u()?b:d.sk.yJ(c,b,a)?b.Ka():b:e.xD(b,a,c,!1)};e.prototype.DJ=function(b,a,c,e,g){if(b.u())return b;var f=new d.fd;b=f.Jb(b);return this.ol(f,b,a,c,e,g)};e.prototype.zW=function(b,a,c,e,g,h){if(g&&550!=b.hc(a)){var f=new d.WD;f.MY(b,c);f.ih?(d.sk.V(b,c,h,!0),g=!1):this.i.ez(c)}else d.sk.V(b,c,h,!0),g=!1;e&&550!=b.hc(a)?this.i.nK(b,a):this.i.mK(b,
a);if(this.i.XA)return this.i.qh(),this.i=null,this.ol(b,a,c,e,!1,h);this.i.ez(NaN);h=this.i.Ia(a);this.Do(h+1);this.Mh[h]=!0;if(1736==b.hc(a)||e&&550!=b.hc(a))return b.Hp(a,0),a=this.es(a,-1,-1),b=b.Se(a),b.Hp(0),g?b.Zg(1,0):(b.Zg(2,c),b.Al()),b;if(1607==b.hc(a))return a=this.fs(-1),b=b.Se(a),g||b.Zg(2,c),b;if(550==b.hc(a))return a=this.Qp(),b=b.Se(a),g||b.Zg(2,c),b;throw d.g.za();};e.prototype.ol=function(b,a,c,e,g,h){this.i=new d.Qu;try{return this.zW(b,a,c,e,g,h)}finally{this.i.qh()}};e.ol=function(b,
a,c,d,g){return(new e).DJ(b,a,c,d,g)};e.prototype.yW=function(b,a,c){this.pt=b;this.i=new d.Qu;b=a.xo(c);var e=a.hc(c);1!=b||550==e?this.i.mK(a,c):this.i.nK(a,c);if(!this.i.XA)if(this.i.ez(NaN),e=this.i.Ia(c),this.Do(e+1),this.Mh[e]=!0,1736==a.hc(c)||1==b&&550!=a.hc(c))a.Hp(c,0),b=this.es(c,-1,-1),a.EC(b,c),a.aC(b);else if(1607==a.hc(c))b=this.fs(-1),a.EC(b,c),a.aC(b);else if(550==a.hc(c))b=this.Qp(),a.EC(b,c),a.aC(b);else throw d.g.X("internal error");};e.DC=function(b,a,c,d){var f=new e;f.pt=!0;
return f.DJ(b,a,!1,c,d)};e.prototype.Vm=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;var g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&2==e||1==c&&1==e)return this.fs(-1);if(0==c)return this.Qp();throw d.g.za();};e.prototype.mG=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;if(c<e)return a;var g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=
!0;this.Mh[this.i.Ia(a)]=!0;this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};e.prototype.nw=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==c&&2==e)return this.es(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.fs(g);if(0==c||0==e)return this.Qp();throw d.g.za();
};e.prototype.vA=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==c&&2==e)return this.UY(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.VY(g);if(0==c||0==e)return c=[],c[0]=this.Qp(),c;throw d.g.za();};e.prototype.Pp=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=
!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};e.Bb=function(b){var a=b.G();return 197==a?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33==a?(a=new d.Ed(b.description),b.u()||a.add(b),a):322==a?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):b};e.bd=function(b,a,c){var e=b.G();return 197==e?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33!=e||"|"!=c&&"^"!=c?322==e?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):33==e&&
"-"==c&&33==a.G()||550==e&&"\x26"==c&&33==a.G()?(a=new d.Wa(b.description),b.u()||b.Ae(0,a),a):b:(a=new d.Ed(b.description),b.u()||a.add(b),a)};e.Vm=function(b,a,c,f){if(b.u()||a.u()||b.tb()>a.tb())return e.bd(e.Bb(b),b,"-");var g=new d.h;b.s(g);var h=new d.h;a.s(h);if(!g.Yb(h))return e.bd(e.Bb(b),b,"-");var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,c,f);f=h.Vm(l,a);f=g.Se(f);b=e.bd(f,b,"-");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());
return b};e.mG=function(b,a,c,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"|");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"|");if(a.u())return e.bd(e.Bb(b),b,"|");var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);if(!g.Yb(h.nT(c,c)))switch(b=e.Bb(b),a=e.Bb(a),b.G()){case 550:return b=d.T.oe(b),b.Id(a,0,-1),b;case 1607:return b=d.T.oe(b),b.add(a,!1),b;case 1736:return b=d.T.oe(b),b.add(a,!1),b;default:throw d.g.za();}h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));
h.Xr(g,c,f);a=h.mG(l,a);b=e.bd(g.Se(a),b,"|");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.RR=function(b,a,c){if(2>b.length)throw d.g.F("not enough geometries to dissolve");for(var f=0,g=0,h=b.length;g<h;g++)f=Math.max(b[g].tb(),f);var l=new d.h;l.Oa();for(var n=new d.fd,p=-1,t=0,q=-1,g=0,h=b.length;g<h;g++)if(b[g].tb()==f)if(b[g].u())-1==q&&(q=g);else{q=g;-1==p?p=n.Jb(e.Bb(b[g])):n.wP(p,e.Bb(b[g]));var r=new d.h;b[g].ac(r);l.Nb(r);t++}if(2>t)return e.Bb(b[q]);b=2==f;a=d.na.be(0==f?
a:null,l,!0);return(new e).ol(n,p,a,b,!0,c)};e.vA=function(b,a,c,f){var g=[null,null,null],h=new d.h;b.s(h);var l=new d.h;a.s(l);var n=new d.h;n.I(h);n.Nb(l);c=d.na.be(c,n,!0);n=new d.h;n.I(l);l=d.na.Cs(c);n.O(l,l);if(!h.Yb(n)){if(b.tb()<=a.tb())return b=e.bd(e.Bb(b.Ka()),b,"\x26"),g[b.tb()]=b,g;if(b.tb()>a.tb())return b=e.bd(e.Bb(a.Ka()),b,"\x26"),g[b.tb()]=b,g}l=new e;h=new d.fd;n=h.Jb(e.Bb(b));a=h.Jb(e.Bb(a));l.Xr(h,c,f);f=l.vA(n,a);for(a=0;a<f.length;a++)l=e.bd(h.Se(f[a]),b,"\x26"),d.T.Ic(l.G())&&
(l.Zg(2,c),1736==l.G()&&l.Al()),g[l.tb()]=l;return g};e.Pp=function(b,a,c,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"^");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"^");if(a.u())return e.bd(e.Bb(b),b,"^");var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,c,f);f=h.Pp(l,a);b=e.bd(g.Se(f),b,"^");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.M_=function(b,a,c){a=a.G();c=c.G();return 550==b.G()&&
(33==a||33==c)&&1>=b.D()?(c=new d.Wa(b.description),b.u()||b.Ae(0,c),c):b};e.prototype.AS=function(b,a){var c=this.i.a;b=c.Yf(b,-1);for(var d=a.size,e=0;e<d;e++){var g=a.get(e);c.Kj(b,g)}c.$n(b,!0)};e.prototype.WX=function(b,a){for(var c=this.i.a,d=c.sd;-1!=d;d=c.Ue(d))if(d==a)for(var e=c.Pb(d);-1!=e;e=c.Sb(e)){var g=c.cb(e);if(-1!=g)for(var h=c.U(g);-1!=h;){var g=this.i.jf(g),l=this.i.jf(h),g=this.i.kT(g,l);-1!=g&&(l=this.i.Aa(g),this.i.Ob(g,b,1),this.i.Ob(l,b,2));g=h;h=c.U(g)}}};e.prototype.TW=
function(b,a,c,e){c=this.i.Ia(c);e=this.i.Ia(e);var f=new d.ia(0);f.yb(256);for(var g=this.i.a,h=this.i.xh(),l=this.i.rf;-1!=l;l=this.i.og(l)){var n=this.i.kf(l);if(-1!=n){var p=n;do{if(1!=this.i.Kb(p,h)){var t=p,q=p,r=!1,v=0;do{this.i.Ob(t,h,1);if(!r){var x=this.i.Ah(t);0!=(x&e)&&0!=(this.i.Ff(t)&c)&&(q=t,r=!0)}r&&(f.add(this.i.Uj(this.i.Ym(this.i.Kk(t)))),-1!=b&&(x=this.i.Ah(t),0!=(x&e)&&(x=this.i.Kb(t,b),v|=x)));t=this.i.qc(t)}while(t!=q);r&&0<this.i.Dq(this.i.Ef(q))&&(t=g.bh(1736),this.AS(t,f),
-1!=a&&g.xK(t,a,v));f.clear(!1)}p=this.i.qc(this.i.Aa(p))}while(p!=n)}}this.i.ni(h)};e.prototype.zR=function(b,a,c,d){this.i.vX();var e=-1;-1!=b&&(e=this.i.xh(),this.WX(e,c));this.TW(e,b,a,c);var f=this.i.a;b=0;for(e=f.sd;-1!=e;e=f.Ue(e))e!=a&&e!=c&&(d.add(e),b++);d.Gd(0,b,function(a,b){a=f.gA(f.Pb(a));b=f.gA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.qh=function(){null!=this.i&&(this.i.qh(),this.i=null)};return e}();d.Dg=e})(n||(n={}));(function(d){var e=function(){function e(b){void 0!==b?this.Op(b):
this.pC()}e.prototype.Vx=function(){this.bc=this.Wb=this.zb=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(b){return this==b?!0:b instanceof e?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.zb==b.zb&&this.gb==b.gb&&this.bc==b.bc:!1};e.prototype.jc=function(){d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();return d.J.Zi()};e.prototype.$h=function(b,a){var c=this.zb*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};e.prototype.XY=function(b,a,c,d,e){var f=2*a;d*=2;for(a=2*(a+e);f<
a;f+=2,d+=2){e=b[f];var g=b[f+1];c[d]=this.lb*e+this.sb*g+this.Wb;c[d+1]=this.zb*e+this.gb*g+this.bc}};e.prototype.ZY=function(b,a,c){for(var e=0;e<a;e++){var g=b[e].x,h=b[e].y,l=this.lb*g+this.sb*h+this.Wb,g=this.zb*g+this.gb*h+this.bc;null!=c[e]?c[e].ka(l,g):c[e]=d.b.pa(l,g)}};e.prototype.multiply=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,h,l;d=b.lb*a.lb+b.zb*a.sb;e=b.sb*a.lb+b.gb*a.sb;g=b.Wb*a.lb+b.bc*a.sb+a.Wb;h=b.lb*a.zb+b.zb*a.gb;l=b.sb*a.zb+b.gb*a.gb;b=b.Wb*
a.zb+b.bc*a.gb+a.bc;c.lb=d;c.sb=e;c.Wb=g;c.zb=h;c.gb=l;c.bc=b};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.zb=this.zb;b.gb=this.gb;b.bc=this.bc;return b};e.prototype.KC=function(b){if(!b.u()){for(var a=[],c=0;4>c;c++)a[c]=new d.b;b.PB(a);this.$Y(a,a);b.Mx(a,4)}};e.prototype.$Y=function(b,a){for(var c=0;c<b.length;c++){var e=new d.b,g=b[c];e.x=this.lb*g.x+this.sb*g.y+this.Wb;e.y=this.zb*g.x+this.gb*g.y+this.bc;a[c]=e}};e.prototype.kU=function(b,a){b.u()||a.u()||0==
b.N()||0==b.fa()?this.Vx():(this.sb=this.zb=0,this.lb=a.N()/b.N(),this.gb=a.fa()/b.fa(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};e.prototype.YY=function(b){var a=new d.b,c=new d.b;a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.sub(a);var e=.5*a.qk();a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.add(c);a=.5*a.qk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};e.prototype.pC=function(){this.lb=1;this.zb=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.Ho=function(b){if(void 0!==b){var a=d.b.pa(0,
1);this.$h(a,a);a.sub(d.b.pa(0,1));if(a.qk()>b*b)return!1;a.ka(0,0);this.$h(a,a);if(a.qk()>b*b)return!1;a.ka(1,0);this.$h(a,a);a.sub(d.b.pa(1,0));return a.qk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.zb&&0==this.bc};e.prototype.fh=function(b){return Math.abs(this.lb*this.gb-this.zb*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.zb*this.sb))};e.prototype.Ag=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.zb=0;this.gb=1;this.bc=a};e.prototype.Op=function(b,a){void 0!==
a?(this.lb=b,this.zb=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Op(b,b)};e.prototype.xC=function(){this.lb=0;this.sb=1;this.Wb=0;this.zb=1;this.bc=this.gb=0};e.prototype.jY=function(b){this.kY(Math.cos(b),Math.sin(b))};e.prototype.kY=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.zb=a;this.gb=b;this.bc=0};e.prototype.shift=function(b,a){this.Wb+=b;this.bc+=a};e.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.zb*=a;this.gb*=a;this.bc*=a};e.prototype.rotate=function(b){var a=
new e;a.jY(b);this.multiply(a)};e.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.zb;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.zb-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.zb=-this.zb*a,b.gb=this.lb*a)}else this.inverse(this)};return e}();d.Hd=e})(n||(n={}));(function(d){var e=function(){function e(){}e.prototype.Vx=function(){this.bi=this.bc=this.Wb=this.Df=this.Af=this.zf=this.Cf=this.gb=this.sb=this.Sf=this.zb=this.lb=
0};e.prototype.Op=function(b,a,c){this.lb=b;this.sb=this.Sf=this.zb=0;this.gb=a;this.Af=this.zf=this.Cf=0;this.Df=c;this.bi=this.bc=this.Wb=0};e.prototype.KC=function(b){if(b.u())return b;for(var a=new d.qd[8],c=0;8>c;c++)a[c]=new d.qd;b.PB(a);this.transform(a,8,a);b.Mx(a);return b};e.prototype.transform=function(b,a,c){for(var e=0;e<a;e++){var g=new d.qd,h=b[e];g.x=this.lb*h.x+this.sb*h.y+this.zf*h.z+this.Wb;g.y=this.zb*h.x+this.gb*h.y+this.Af*h.z+this.bc;g.z=this.Sf*h.x+this.Cf*h.y+this.Df*h.z+
this.bi;c[e]=g}};e.prototype.Rp=function(b){var a=new d.qd;a.x=this.lb*b.x+this.sb*b.y+this.zf*b.z+this.Wb;a.y=this.zb*b.x+this.gb*b.y+this.Af*b.z+this.bc;a.z=this.Sf*b.x+this.Cf*b.y+this.Df*b.z+this.bi;return a};e.prototype.Vg=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,h,l,n,p,t,q,r,v;d=b.lb*a.lb+b.zb*a.sb+b.Sf*a.zf;e=b.lb*a.zb+b.zb*a.gb+b.Sf*a.Af;g=b.lb*a.Sf+b.zb*a.Cf+b.Sf*a.Df;h=b.sb*a.lb+b.gb*a.sb+b.Cf*a.zf;l=b.sb*a.zb+b.gb*a.gb+b.Cf*a.Af;n=b.sb*a.Sf+b.gb*a.Cf+b.Cf*
a.Df;p=b.zf*a.lb+b.Af*a.sb+b.Df*a.zf;t=b.zf*a.zb+b.Af*a.gb+b.Df*a.Af;q=b.zf*a.Sf+b.Af*a.Cf+b.Df*a.Df;r=b.Wb*a.lb+b.bc*a.sb+b.bi*a.zf+a.Wb;v=b.Wb*a.zb+b.bc*a.gb+b.bi*a.Af+a.bc;b=b.Wb*a.Sf+b.bc*a.Cf+b.bi*a.Df+a.bi;c.lb=d;c.zb=e;c.Sf=g;c.sb=h;c.gb=l;c.Cf=n;c.zf=p;c.Af=t;c.Df=q;c.Wb=r;c.bc=v;c.bi=b};e.inverse=function(b,a){var c=b.lb*(b.gb*b.Df-b.Cf*b.Af)-b.zb*(b.sb*b.Df-b.Cf*b.zf)+b.Sf*(b.sb*b.Af-b.gb*b.zf);if(0!=c){var e,g,h,l,n,p,t,q,r,v;q=1/c;c=(b.gb*b.Df-b.Cf*b.Af)*q;h=-(b.sb*b.Df-b.Cf*b.zf)*q;p=
(b.sb*b.Af-b.gb*b.zf)*q;e=-(b.zb*b.Df-b.Af*b.Sf)*q;l=(b.lb*b.Df-b.Sf*b.zf)*q;t=-(b.lb*b.Af-b.zb*b.zf)*q;g=(b.zb*b.Cf-b.Sf*b.gb)*q;n=-(b.lb*b.Cf-b.Sf*b.sb)*q;q*=b.lb*b.gb-b.zb*b.sb;r=-(b.Wb*c+b.bc*h+b.bi*p);v=-(b.Wb*e+b.bc*l+b.bi*t);b=-(b.Wb*g+b.bc*n+b.bi*q);a.lb=c;a.zb=e;a.Sf=g;a.sb=h;a.gb=l;a.Cf=n;a.zf=p;a.Af=t;a.Df=q;a.Wb=r;a.bc=v;a.bi=b}else throw d.g.X("math singularity");};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.zb=this.zb;b.Sf=this.Sf;b.sb=this.sb;b.gb=this.gb;b.Cf=this.Cf;b.zf=
this.zf;b.Af=this.Af;b.Df=this.Df;b.Wb=this.Wb;b.bc=this.bc;b.bi=this.bi;return b};return e}();d.eO=e})(n||(n={}));(function(d){var e=function(b){function a(a){if(void 0!==a)b.call(this,a.jc(),a);else{b.call(this);this.wg=[];this.wg[0]=0;this.Ga=1;this.Sh=[];for(a=0;10>a;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0}this.Zq=!0}K(a,b);a.prototype.Ud=function(a){this.hasAttribute(a)||(this.Sh[a]=0,this.CE())};a.prototype.removeAttribute=function(a){if(0==a)throw d.g.F("Position attribue cannot be removed");
this.hasAttribute(a)&&(this.Sh[a]=-1,this.CE())};a.prototype.reset=function(){this.wg[0]=0;this.Ga=1;for(var a=0;a<this.Sh.length;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0;this.Zq=!0};a.prototype.Oz=function(){return g.zo().add(this)};a.Ig=function(){return g.zo().TT()};a.eq=function(){return g.zo().UT()};a.prototype.JO=function(){var a=this.jc();return new d.ma(a,this)};a.prototype.CE=function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Sh[a]&&(this.wg[b]=a,this.Sh[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.jc=
function(){this.Zq&&(this.bm=this.Ak(),this.Zq=!1);return this.bm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.wg[c]!=b.wg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.SH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.wg[b]!=a.wg[b])return!1;return!0};a.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.mg(a.rd(d));return c};a.uT=
function(b,d){b=new a(b);b.Ud(d);return b.Oz()};a.vT=function(b,d){for(var c=null,e=0;10>e;e++)!b.hasAttribute(e)&&d.hasAttribute(e)&&(null==c&&(c=new a(b)),c.Ud(e));return null!=c?c.Oz():b};a.ss=function(b,d){b=new a(b);b.removeAttribute(d);return b.Oz()};return a}(d.ma);d.ye=e;var g=function(){function b(){this.map=[];var a=new e;this.add(a);a=new e;a.Ud(1);this.add(a)}b.zo=function(){return b.iV};b.prototype.TT=function(){return b.aq};b.prototype.UT=function(){return b.bq};b.prototype.add=function(a){var c=
a.jc();if(null!=b.aq&&b.aq.jc()==c&&a.SH(b.aq))return b.aq;if(null!=b.bq&&b.bq.jc()==c&&a.SH(b.bq))return b.bq;var d=null;void 0!==this.map[c]&&(d=this.map[c]);null==d&&(d=a.JO(),1==d.Ga?b.aq=d:2==d.Ga&&1==d.rd(1)?b.bq=d:this.map[c]=d);return d};b.iV=new b;return b}()})(n||(n={}));var V=0==w.version.indexOf("4."),da;(function(d){d[d.Linear=0]="Linear";d[d.Angular=1]="Angular";d[d.Area=2]="Area";d[d.LinearOrAngular=3]="LinearOrAngular"})(da||(da={}));var U={feet:9002,kilometers:9036,meters:9001,miles:9035,
"nautical-miles":9030,yards:9096},Z={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},W={degrees:9102,radians:9101};void 0===l.prototype.getCacheValue&&z.extend(l,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=g}});var fa=n.Sd.create(4326),
aa=n.Sd.create(102100);F=function(){function d(){}d.extendedSpatialReferenceInfo=function(d){if(null===d)return null;d=q(d);var e=d.Nd();return{tolerance:d.Bo(),unitType:null==e?-1:e.nd,unitID:null==e?-1:e.yc(),unitBaseFactor:null==e?0:e.Ai,unitSquareDerivative:null==e?0:n.oc.lH(e).yc()}};d.clip=function(d,e){if(null===d)return null;e=n.cc.clip(E(d),E(e),N(d));return D(e,d.spatialReference)};d.cut=function(d,e){e=E(e);e=n.cc.Hl(E(d),e,N(d));for(var b=[],a=0;a<e.length;a++)b.push(D(e[a],d.spatialReference));
return b};d.contains=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.contains(E(d),E(e),N(d))};d.crosses=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.yR(E(d),E(e),N(d))};d.distance=function(d,e,b){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.Cb(E(d),E(e),N(d),n.oc.ze(v(b,3)))};d.equals=function(d,e){return null===d&&null!==e||null===e&&null!==d?!1:n.cc.Eb(E(d),E(e),N(d))};d.intersects=
function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.NU(E(d),E(e),N(d))};d.touches=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.touches(E(d),E(e),N(d))};d.within=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.rZ(E(d),E(e),N(d))};d.disjoint=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.QR(E(d),E(e),N(d))};d.overlaps=function(d,e){if(null===
d||null===e)throw Error("Illegal Argument Exception");return n.cc.oW(E(d),E(e),N(d))};d.relate=function(d,e,b){if(null===d||null===e)throw Error("Illegal Argument Exception");return n.cc.YB(E(d),E(e),N(d),b)};d.isSimple=function(d){if(null===d)throw Error("Illegal Argument Exception");return n.cc.YU(E(d),N(d))};d.simplify=function(d){if(null===d)throw Error("Illegal Argument Exception");var e=n.cc.CC(E(d),N(d));return D(e,d.spatialReference)};d.convexHull=function(e,g){void 0===g&&(g=!1);if(null===
e)throw Error("Illegal Argument Exception");return!1===T(e)?(g=n.cc.hR(E(e),N(e)),D(g,e.spatialReference)):d.kZ(e,g)};d.kZ=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(E(d[a]));b=n.cc.iR(b,e);for(a=0;a<b.length;a++)b[a]=D(b[a],d[0].spatialReference);return b};d.difference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===T(e)?(g=n.cc.Vm(E(e),E(g),N(e)),D(g,e.spatialReference)):d.hM(e,g)};d.hM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(E(d[a]));
b=n.cc.NR(b,E(e),N(e));for(a=0;a<b.length;a++)b[a]=D(b[a],e.spatialReference);return b};d.symmetricDifference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===T(e)?(g=n.cc.Pp(E(e),E(g),N(e)),D(g,e.spatialReference)):d.KM(e,g)};d.KM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(E(d[a]));b=n.cc.OY(b,E(e),N(e));for(a=0;a<b.length;a++)b[a]=D(b[a],e.spatialReference);return b};d.intersect=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");
return!1===T(e)?(g=n.cc.Ma(E(e),E(g),N(e)),D(g,e.spatialReference)):d.wM(e,g)};d.wM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(E(d[a]));b=n.cc.LU(b,E(e),N(e));for(a=0;a<b.length;a++)b[a]=D(b[a],e.spatialReference);return b};d.union=function(d,e){void 0===e&&(e=null);if(null===d)return null;!1===T(d)&&(d=[d],null!==e&&d.push(e));if(0===d.length)return null;e=[];for(var b=0;b<d.length;b++)e.push(E(d[b]));return D(n.cc.gZ(e,N(d[0])),d[0].spatialReference)};d.offset=function(e,g,b,a,c,f){var k=
0;if(null!=a&&void 0!=a)switch(a){case "round":k=0;break;case "bevel":k=1;break;case "miter":k=2;break;case "square":k=3}return!1===T(e)?(g=n.cc.offset(E(e),N(e),g,k,c,f,n.oc.ze(v(b,3))),D(g,e.spatialReference)):d.GM(e,g,b,k,c,f)};d.GM=function(d,e,b,a,c,f){if(null===d)return null;if(0===d.length)return[];for(var g=[],h=0;h<d.length;h++)g.push(E(d[h]));e=n.cc.mW(g,N(d[0]),e,a,c,f,n.oc.ze(v(b,3)));for(h=0;h<e.length;h++)e[h]=D(e[h],d[0].spatialReference);return e};d.buffer=function(e,g,b,a){void 0===
a&&(a=!1);if(!1===T(e))return g=n.cc.buffer(E(e),N(e),g,n.oc.ze(v(b,3)),!1,0,NaN),D(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var c=[],f=0;f<e.length;f++)c.push(g);g=c}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var c=[],k=0,f=0;f<e.length;f++)void 0===g[f]?c.push(k):(c.push(g[f]),k=g[f]);g=c}return d.qD(e,g,b,!1,a,"geodesic",NaN)};d.geodesicBuffer=function(e,g,b,a,c,f){if(!1===T(e))return void 0===c&&(c=NaN),g=n.cc.buffer(E(e),
N(e),g,n.oc.ze(v(b,0)),!0,H(a),c),D(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var k=[],h=0;h<e.length;h++)k.push(g);g=k}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var k=[],l=0,h=0;h<e.length;h++)void 0===g[h]?k.push(l):(k.push(g[h]),l=g[h]);g=k}return d.qD(e,g,b,!0,a,c,f)};d.qD=function(d,e,b,a,c,f,g){if(null===d)return null;if(0===d.length)return[];void 0===g&&(g=NaN);for(var k=[],h=0;h<d.length;h++)k.push(E(d[h]));
e=n.cc.QP(k,N(d[0]),e,n.oc.ze(v(b,0)),a,c,H(f),g);for(h=0;h<e.length;h++)e[h]=D(e[h],d[0].spatialReference);return e};d.nearestCoordinate=function(d,e,b){void 0===b&&(b=!0);e=n.cc.Zz(E(d),E(e),b);return{coordinate:D(e.Nz(),d.spatialReference),distance:e.Qz(),isRightSide:e.zA(),vertexIndex:e.Za(),isEmpty:e.u()}};d.nearestVertex=function(d,e){e=n.cc.$z(E(d),E(e));return{coordinate:D(e.Nz(),d.spatialReference),distance:e.Qz(),isRightSide:e.zA(),vertexIndex:e.Za(),isEmpty:e.u()}};d.nearestVertices=function(d,
e,b,a){e=E(e);b=n.cc.aA(E(d),e,b,a);a=[];for(e=0;e<b.length;e++)!1===b[e].u()&&a.push({coordinate:D(b[e].Nz(),d.spatialReference),distance:b[e].Qz(),isRightSide:b[e].zA(),vertexIndex:b[e].Za(),isEmpty:b[e].u()});return a};d.generalize=function(d,e,b,a){e=n.cc.GS(E(d),N(d),e,b,n.oc.ze(v(a,3)));return D(e,d.spatialReference)};d.densify=function(d,e,b){e=n.cc.Ls(E(d),N(d),e,n.oc.ze(v(b,3)));return D(e,d.spatialReference)};d.geodesicDensify=function(d,e,b,a){void 0===a&&(a=0);e=n.cc.Ez(E(d),N(d),e,n.oc.ze(v(b,
3)),a);return D(e,d.spatialReference)};d.rotate=function(d,e,b){if(void 0===b||null===b)void 0!==d.x?b=d:void 0!==d.xmin?(!1===d instanceof l&&(d=V?C(d):x(d)),b=V?d.get("center"):d.getCenter()):(!1===d instanceof l&&(d=V?C(d):x(d)),b=V?d.get("extent").get("center"):d.getExtent().getCenter());e=V?n.Wp.rotate(d.toJSON?d.toJSON():d,e,b.toJSON?b.toJSON():b):n.Wp.rotate(d.toJson?d.toJson():d,e,b.toJson?b.toJson():b);V?(e=C(e),e.set("spatialReference",d.spatialReference)):(e=x(e),e.setSpatialReference(d.spatialReference));
return e};d.flipHorizontal=function(d,e){if(void 0===e||null===e)void 0!==d.x?e=d:void 0!==d.xmin?(!1===d instanceof l&&(d=V?C(d):x(d)),e=V?d.get("center"):d.getCenter()):(!1===d instanceof l&&(d=V?C(d):x(d)),e=V?d.get("extent").get("center"):d.getExtent().getCenter());e=V?n.Wp.zG(d.toJSON?d.toJSON():d,e.toJSON?e.toJSON():e):n.Wp.zG(d.toJson?d.toJson():d,e.toJson?e.toJson():e);V?(e=C(e),e.set("spatialReference",d.spatialReference)):(e=x(e),e.setSpatialReference(d.spatialReference));return e};d.flipVertical=
function(d,e){if(void 0===e||null===e)void 0!==d.x?e=d:void 0!==d.xmin?(!1===d instanceof l&&(d=V?C(d):x(d)),e=V?d.get("center"):d.getCenter()):(!1===d instanceof l&&(d=V?C(d):x(d)),e=V?d.get("extent").get("center"):d.getExtent().getCenter());e=V?n.Wp.AG(d.toJSON?d.toJSON():d,e.toJSON?e.toJSON():e):n.Wp.AG(d.toJson?d.toJson():d,e.toJson?e.toJson():e);V?(e=C(e),e.set("spatialReference",d.spatialReference)):(e=x(e),e.setSpatialReference(d.spatialReference));return e};d.planarArea=function(d,e){if(null===
d)throw Error("Illegal Argument Exception");return n.cc.wW(E(d),N(d),n.oc.ze(v(e,2)))};d.planarLength=function(d,e){if(null===d)throw Error("Illegal Argument Exception");return n.cc.xW(E(d),N(d),n.oc.ze(v(e,3)))};d.geodesicArea=function(d,e,b){if(null===d)throw Error("Illegal Argument Exception");return n.cc.MS(E(d),N(d),n.oc.ze(v(e,2)),H(b))};d.geodesicLength=function(d,e,b){if(null===d)throw Error("Illegal Argument Exception");return n.cc.QS(E(d),N(d),n.oc.ze(v(e,0)),H(b))};d._enableProjection=
function(e){d.FE=!0;n.AN.bind(e)};d.Mg=function(d){return q(d).Ao()};d._getTransformation=function(d,e,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw n.g.F("AOI missing Spatial Reference");a=E(b);c=q(b.spatialReference).Ao()}d=n.Ou.QT(q(d).Ao(),q(e).Ao(),a,c);return null!==d?d:null};d._getTransformationBySuitability=function(d,e,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw n.g.F("AOI missing Spatial Reference");a=E(b);c=q(b.spatialReference).Ao()}return n.Ou.RT(q(d).Ao(),
q(e).Ao(),a,c)};d.cZ=function(e,g,b){var a=null;if(b){var c=b.getGTListEntry();if(null!==c){for(var a=new n.ny(null),f=0,k=c.steps;f<k.length;f++){var c=k[f],h=new n.io(c.geogtran);c.isInverse&&h.kt();a.add(h)}a=n.rs.Is(d.Mg(e),d.Mg(g),a);b.assignCachedGe(e,g,a);return a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new n.ny(null);f=0;for(k=b.steps;f<k.length;f++)c=k[f],-1!=c.wkid&&null!==c.wkid&&void 0!==c.wkid?a.add(n.io.create(c.wkid,c.isInverse)):a.add(n.io.fG(c.wkt,c.isInverse));a=n.rs.Is(d.Mg(e),
d.Mg(g),a);b.assignCachedGe(e,g,a);return a}return n.rs.Is(d.Mg(e),d.Mg(g),a)};d._project=function(e,g,b,a,c){void 0===a&&(a=null);void 0===c&&(c=!1);if(!1===this.FE)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(a){var f=a.getCachedGeTransformation(g,b);f||(f=d.cZ(g,b,a));g=[];var k=0}else f=n.rs.Is(d.Mg(g),d.Mg(b),null),g=[],k=0;for(;k<e.length;k++)a=e[k],g.push(d.mD(a,b,f,c));return g};d.mD=function(d,e,b,a){d=n.cc.Xg(E(d),b);return a?M(d):D(d,
e)};d.FE=!1;return d}();void 0===l.prototype.getCacheValue&&z.extend(l,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=g}});return F})},"esri/widgets/Sketch/support/OperationHandle":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators".split(" "),
function(F,y,w,l,r,d,h,p){Object.defineProperty(y,"__esModule",{value:!0});F=function(h){function r(){var d=null!==h&&h.apply(this,arguments)||this;d.cancelled=!1;d.history={undo:[],redo:[]};d.type=null;return d}w(r,h);Object.defineProperty(r.prototype,"tool",{get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":break;
default:d.neverReached(this.activeComponent)}return null},enumerable:!0,configurable:!0});r.prototype.addToHistory=function(d){this.history.redo=[];this.history.undo.push(d)};r.prototype.resetHistory=function(){this.history.redo=[];this.history.undo=[]};r.prototype.canUndo=function(){return 0<this.history.undo.length};r.prototype.canRedo=function(){return 0<this.history.redo.length};r.prototype.complete=function(){this.cleanUp();this.onEnd();this.emit("complete")};r.prototype.cancel=function(){this._set("cancelled",
!0);this.cleanUp();this.onEnd();this.emit("cancel")};r.prototype.cleanUp=function(){this.activeComponent.reset()};r.prototype.refreshComponent=function(){var d=this.activeComponent;d&&("box"!==d.type&&"reshape"!==d.type||d.refresh())};Object.defineProperty(r.prototype,"undo",{set:function(d){var h=this;this._set("undo",function(){h.canUndo()&&d()})},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"redo",{set:function(d){var h=this;this._set("redo",function(){h.canRedo()&&d()})},
enumerable:!0,configurable:!0});l([p.property()],r.prototype,"activeComponent",void 0);l([p.property()],r.prototype,"cancelled",void 0);l([p.property()],r.prototype,"history",void 0);l([p.property({dependsOn:["activeComponent"]})],r.prototype,"tool",null);l([p.property()],r.prototype,"type",void 0);l([p.property()],r.prototype,"addToHistory",null);l([p.property()],r.prototype,"resetHistory",null);l([p.property()],r.prototype,"canUndo",null);l([p.property()],r.prototype,"canRedo",null);l([p.property()],
r.prototype,"complete",null);l([p.property()],r.prototype,"cancel",null);l([p.property()],r.prototype,"cleanUp",null);l([p.property()],r.prototype,"refreshComponent",null);l([p.property()],r.prototype,"onEnd",void 0);l([p.property()],r.prototype,"undo",null);l([p.property()],r.prototype,"redo",null);l([p.property()],r.prototype,"toggleTool",void 0);l([p.property()],r.prototype,"addToSelection",void 0);l([p.property()],r.prototype,"removeFromSelection",void 0);return r=l([p.subclass("esri.widgets.Sketch.support.OperationHandle")],
r)}(p.declared(r,h));y.OperationHandle=F})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(F,y,w,l,r,d,h,p,I,z,x,C){function v(d,g){return w.doc.createElementNS?w.doc.createElementNS(d,g):w.doc.createElement(g)}function H(d,g,h,l){return d.setAttributeNS?d.setAttributeNS(g,h,l):d.setAttribute(h,l)}function D(d){return g.useSvgWeb?
w.doc.createTextNode(d,!0):w.doc.createTextNode(d)}var g=z.svg={};g.useSvgWeb="undefined"!=typeof window.svgweb;var q=navigator.userAgent,E=y("ios"),N=y("chrome")?"auto":"optimizeLegibility";g.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};g.getRef=function(d){return d&&"none"!=d?d.match(/^url\(#.+\)$/)?l.byId(d.slice(5,-1)):d.match(/^#dojoUnique\d+$/)?l.byId(d.slice(1)):null:null};g.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,
1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var T=0;g.Shape=r("dojox.gfx.svg.Shape",x.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var d=this.rawNode.getAttribute("fill");(d=g.getRef(d))&&d.parentNode.removeChild(d)}this.clip&&(d=this.rawNode.getAttribute("clip-path"))&&(d=l.byId(d.match(/gfx_clip[\d]+/)[0]))&&d.parentNode.removeChild(d);x.Shape.prototype.destroy.apply(this,arguments)},setFill:function(g){if(!g)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var h,l=function(d){this.setAttribute(d,h[d].toFixed(8))};if("object"==typeof g&&"type"in g){switch(g.type){case "linear":h=z.makeParameters(z.defaultLinearGradient,g);g=this._setFillObject(h,"linearGradient");d.forEach(["x1","y1","x2","y2"],l,g);break;case "radial":h=z.makeParameters(z.defaultRadialGradient,g);g=this._setFillObject(h,"radialGradient");d.forEach(["cx","cy","r"],l,g);break;case "pattern":h=
z.makeParameters(z.defaultPattern,g),g=this._setFillObject(h,"pattern"),d.forEach(["x","y","width","height"],l,g)}this.fillStyle=h;return this}this.fillStyle=h=z.normalizeColor(g);this.rawNode.setAttribute("fill",h.toCss());this.rawNode.setAttribute("fill-opacity",h.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(d){var h=this.rawNode;if(!d)return this.strokeStyle=null,h.setAttribute("stroke","none"),h.setAttribute("stroke-opacity",0),this;if("string"==typeof d||
F.isArray(d)||d instanceof I)d={color:d};d=this.strokeStyle=z.makeParameters(z.defaultStroke,d);d.color=z.normalizeColor(d.color);if(d){var l=0>d.width?0:d.width;h.setAttribute("stroke",d.color.toCss());h.setAttribute("stroke-opacity",d.color.a);h.setAttribute("stroke-width",l);h.setAttribute("stroke-linecap",d.cap);"number"==typeof d.join?(h.setAttribute("stroke-linejoin","miter"),h.setAttribute("stroke-miterlimit",d.join)):h.setAttribute("stroke-linejoin",d.join);var n=d.style.toLowerCase();n in
g.dasharray&&(n=g.dasharray[n]);if(n instanceof Array){var n=F._toArray(n),p;for(p=0;p<n.length;++p)n[p]*=l;if("butt"!=d.cap){for(p=0;p<n.length;p+=2)n[p]-=l,1>n[p]&&(n[p]=1);for(p=1;p<n.length;p+=2)n[p]+=l}n=n.join(",")}h.setAttribute("stroke-dasharray",n);h.setAttribute("dojoGfxStrokeStyle",d.style)}return this},_getParentSurface:function(){for(var d=this.parent;d&&!(d instanceof z.Surface);d=d.parent);return d},_setFillObject:function(d,h){var l=g.xmlns.svg;this.fillStyle=d;var n=this._getParentSurface().defNode,
p=this.rawNode.getAttribute("fill");if(p=g.getRef(p))if(p.tagName.toLowerCase()!=h.toLowerCase()){var q=p.id;p.parentNode.removeChild(p);p=v(l,h);p.setAttribute("id",q);n.appendChild(p)}else for(;p.childNodes.length;)p.removeChild(p.lastChild);else p=v(l,h),p.setAttribute("id",z._base._getUniqueId()),n.appendChild(p);if("pattern"==h)p.setAttribute("patternUnits","userSpaceOnUse"),l=v(l,"image"),l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("width",(0>d.width?0:d.width).toFixed(8)),l.setAttribute("height",
(0>d.height?0:d.height).toFixed(8)),H(l,g.xmlns.xlink,"xlink:href",d.src),p.appendChild(l);else for(p.setAttribute("gradientUnits","userSpaceOnUse"),h=0;h<d.colors.length;++h){var n=d.colors[h],q=v(l,"stop"),r=n.color=z.normalizeColor(n.color);q.setAttribute("offset",n.offset.toFixed(8));q.setAttribute("stop-color",r.toCss());q.setAttribute("stop-opacity",r.a);p.appendChild(q)}this.rawNode.setAttribute("fill","url(#"+p.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return p},_applyTransform:function(){if(this.matrix){var d=this.matrix;this.rawNode.setAttribute("transform","matrix("+d.xx.toFixed(8)+","+d.yx.toFixed(8)+","+d.xy.toFixed(8)+","+d.yy.toFixed(8)+","+d.dx.toFixed(8)+","+d.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(d){d=this.rawNode=d;"image"!=this.shape.type&&d.setAttribute("fill","none");d.setAttribute("fill-opacity",0);d.setAttribute("stroke","none");d.setAttribute("stroke-opacity",
0);d.setAttribute("stroke-width",1);d.setAttribute("stroke-linecap","butt");d.setAttribute("stroke-linejoin","miter");d.setAttribute("stroke-miterlimit",4);d.__gfxObject__=this},setShape:function(d){this.shape=z.makeParameters(this.shape,d);for(var g in this.shape)if("type"!=g){d=this.shape[g];if("width"===g||"height"===g)d=0>d?0:d;this.rawNode.setAttribute(g,d)}this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(d){this.inherited(arguments);var h=d?"width"in d?"rect":"cx"in d?"ellipse":"points"in d?"polyline":"d"in d?"path":null:null;if(d&&!h)return this;"polyline"===h&&(d=F.clone(d),d.points=d.points.join(","));var n,q=p.get(this.rawNode,"clip-path");q&&(n=l.byId(q.match(/gfx_clip[\d]+/)[0]))&&n.removeChild(n.childNodes[0]);d?(n?(h=v(g.xmlns.svg,h),n.appendChild(h)):(q="gfx_clip"+ ++T,this.rawNode.setAttribute("clip-path","url(#"+q+")"),n=
v(g.xmlns.svg,"clipPath"),h=v(g.xmlns.svg,h),n.appendChild(h),this.rawNode.parentNode.insertBefore(n,this.rawNode),p.set(n,"id",q)),p.set(h,d)):(this.rawNode.removeAttribute("clip-path"),n&&n.parentNode.removeChild(n));return this},_removeClipNode:function(){var d,g=p.get(this.rawNode,"clip-path");g&&(d=l.byId(g.match(/gfx_clip[\d]+/)[0]))&&d.parentNode.removeChild(d);return d}});g.Group=r("dojox.gfx.svg.Group",g.Shape,{constructor:function(){x.Container._init.call(this)},setRawNode:function(d){this.rawNode=
d;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="g";g.Rect=r("dojox.gfx.svg.Rect",[g.Shape,x.Rect],{setShape:function(d){this.shape=z.makeParameters(this.shape,d);this.bbox=null;for(var g in this.shape)if("type"!=g&&"r"!=g){d=this.shape[g];if("width"===g||"height"===g)d=0>d?0:d;this.rawNode.setAttribute(g,d)}null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));
return this}});g.Rect.nodeType="rect";g.Ellipse=r("dojox.gfx.svg.Ellipse",[g.Shape,x.Ellipse],{});g.Ellipse.nodeType="ellipse";g.Circle=r("dojox.gfx.svg.Circle",[g.Shape,x.Circle],{});g.Circle.nodeType="circle";g.Line=r("dojox.gfx.svg.Line",[g.Shape,x.Line],{});g.Line.nodeType="line";g.Polyline=r("dojox.gfx.svg.Polyline",[g.Shape,x.Polyline],{setShape:function(d,g){d&&d instanceof Array?(this.shape=z.makeParameters(this.shape,{points:d}),g&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):
this.shape=z.makeParameters(this.shape,d);this.bbox=null;this._normalizePoints();d=[];g=this.shape.points;for(var h=0;h<g.length;++h)d.push(g[h].x.toFixed(8),g[h].y.toFixed(8));this.rawNode.setAttribute("points",d.join(" "));return this}});g.Polyline.nodeType="polyline";g.Image=r("dojox.gfx.svg.Image",[g.Shape,x.Image],{setShape:function(d){this.shape=z.makeParameters(this.shape,d);this.bbox=null;d=this.rawNode;for(var h in this.shape)if("type"!=h&&"src"!=h){var l=this.shape[h];if("width"===h||"height"===
h)l=0>l?0:l;d.setAttribute(h,l)}d.setAttribute("preserveAspectRatio","none");H(d,g.xmlns.xlink,"xlink:href",this.shape.src);d.__gfxObject__=this;return this}});g.Image.nodeType="image";g.Text=r("dojox.gfx.svg.Text",[g.Shape,x.Text],{setShape:function(d){this.shape=z.makeParameters(this.shape,d);this.bbox=null;d=this.rawNode;var g=this.shape;d.setAttribute("x",g.x);d.setAttribute("y",g.y);d.setAttribute("text-anchor",g.align);d.setAttribute("text-decoration",g.decoration);d.setAttribute("rotate",g.rotated?
90:0);d.setAttribute("kerning",g.kerning?"auto":0);d.setAttribute("text-rendering",N);d.firstChild?d.firstChild.nodeValue=g.text:d.appendChild(D(g.text));return this},getTextWidth:function(){var d=this.rawNode,g=d.parentNode,d=d.cloneNode(!0);d.style.visibility="hidden";var h=0,l=d.firstChild.nodeValue;g.appendChild(d);if(""!=l)for(;!h;)h=d.getBBox?parseInt(d.getBBox().width):68;g.removeChild(d);return h},getBoundingBox:function(){var d=null;if(this.getShape().text)try{d=this.rawNode.getBBox()}catch(J){d=
{x:0,y:0,width:0,height:0}}return d}});g.Text.nodeType="text";g.Path=r("dojox.gfx.svg.Path",[g.Shape,C.Path],{_updateWithSegment:function(d){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(d){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});g.Path.nodeType="path";g.TextPath=r("dojox.gfx.svg.TextPath",[g.Shape,C.TextPath],{_updateWithSegment:function(d){this.inherited(arguments);
this._setTextPath()},setShape:function(d){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var d=this.rawNode;if(!d.firstChild){var h=v(g.xmlns.svg,"textPath"),l=D("");h.appendChild(l);d.appendChild(h)}h=(h=d.firstChild.getAttributeNS(g.xmlns.xlink,"href"))&&g.getRef(h);if(!h&&(l=this._getParentSurface())){var l=l.defNode,h=v(g.xmlns.svg,"path"),p=z._base._getUniqueId();h.setAttribute("id",p);l.appendChild(h);H(d.firstChild,g.xmlns.xlink,
"xlink:href","#"+p)}h&&h.setAttribute("d",this.shape.path)}},_setText:function(){var d=this.rawNode;if(!d.firstChild){var h=v(g.xmlns.svg,"textPath"),l=D("");h.appendChild(l);d.appendChild(h)}d=d.firstChild;h=this.text;d.setAttribute("alignment-baseline","middle");switch(h.align){case "middle":d.setAttribute("text-anchor","middle");d.setAttribute("startOffset","50%");break;case "end":d.setAttribute("text-anchor","end");d.setAttribute("startOffset","100%");break;default:d.setAttribute("text-anchor",
"start"),d.setAttribute("startOffset","0%")}d.setAttribute("baseline-shift","0.5ex");d.setAttribute("text-decoration",h.decoration);d.setAttribute("rotate",h.rotated?90:0);d.setAttribute("kerning",h.kerning?"auto":0);d.firstChild.data=h.text}});g.TextPath.nodeType="text";var M=534<function(){var d=/WebKit\/(\d*)/.exec(q);return d?d[1]:0}();g.Surface=r("dojox.gfx.svg.Surface",x.Surface,{constructor:function(){x.Container._init.call(this)},destroy:function(){x.Container.clear.call(this,!0);this.defNode=
null;this.inherited(arguments)},setDimensions:function(d,g){if(!this.rawNode)return this;d=0>d?0:d;g=0>g?0:g;this.rawNode.setAttribute("width",d);this.rawNode.setAttribute("height",g);M&&(this.rawNode.style.width=d,this.rawNode.style.height=g);return this},getDimensions:function(){return this.rawNode?{width:z.normalizedLength(this.rawNode.getAttribute("width")),height:z.normalizedLength(this.rawNode.getAttribute("height"))}:null}});g.createSurface=function(d,h,p){var n=new g.Surface;n.rawNode=v(g.xmlns.svg,
"svg");n.rawNode.setAttribute("overflow","hidden");h&&n.rawNode.setAttribute("width",0>h?0:h);p&&n.rawNode.setAttribute("height",0>p?0:p);h=v(g.xmlns.svg,"defs");n.rawNode.appendChild(h);n.defNode=h;n._parent=l.byId(d);n._parent.appendChild(n.rawNode);z._base._fixMsTouchAction(n);return n};y={_setFont:function(){var d=this.fontStyle;this.rawNode.setAttribute("font-style",d.style);this.rawNode.setAttribute("font-variant",d.variant);this.rawNode.setAttribute("font-weight",d.weight);this.rawNode.setAttribute("font-size",
d.size);this.rawNode.setAttribute("font-family",d.family)}};var K=x.Container;r=g.Container={openBatch:function(){if(!this._batch){var d;d=g.useSvgWeb?w.doc.createDocumentFragment(!0):w.doc.createDocumentFragment();this.fragment=d}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(d){this!=d.getParent()&&(this.fragment?this.fragment.appendChild(d.rawNode):
this.rawNode.appendChild(d.rawNode),K.add.apply(this,arguments),d.setClip(d.clip));return this},remove:function(d,g){this==d.getParent()&&(this.rawNode==d.rawNode.parentNode&&this.rawNode.removeChild(d.rawNode),this.fragment&&this.fragment==d.rawNode.parentNode&&this.fragment.removeChild(d.rawNode),d._removeClipNode(),K.remove.apply(this,arguments));return this},clear:function(){for(var d=this.rawNode;d.lastChild;)d.removeChild(d.lastChild);var g=this.defNode;if(g){for(;g.lastChild;)g.removeChild(g.lastChild);
d.appendChild(g)}return K.clear.apply(this,arguments)},getBoundingBox:K.getBoundingBox,_moveChildToFront:K._moveChildToFront,_moveChildToBack:K._moveChildToBack};C=g.Creator={createObject:function(d,h){if(!this.rawNode)return null;var l=new d;d=v(g.xmlns.svg,d.nodeType);l.setRawNode(d);l.setShape(h);this.add(l);return l}};F.extend(g.Text,y);F.extend(g.TextPath,y);F.extend(g.Group,r);F.extend(g.Group,x.Creator);F.extend(g.Group,C);F.extend(g.Surface,r);F.extend(g.Surface,x.Creator);F.extend(g.Surface,
C);g.fixTarget=function(d,g){d.gfxTarget||(d.gfxTarget=E&&d.target.wholeText?d.target.parentElement.__gfxObject__:d.target.__gfxObject__);return!0};g.useSvgWeb&&(g.createSurface=function(d,p,q){var n=new g.Surface;p=0>p?0:p;q=0>q?0:q;if(!p||!q){var r=h.position(d);p=p||r.w;q=q||r.h}d=l.byId(d);var r=d.id?d.id+"_svgweb":z._base._getUniqueId(),x=v(g.xmlns.svg,"svg");x.id=r;x.setAttribute("width",p);x.setAttribute("height",q);svgweb.appendChild(x,d);x.addEventListener("SVGLoad",function(){n.rawNode=
this;n.isLoaded=!0;var d=v(g.xmlns.svg,"defs");n.rawNode.appendChild(d);n.defNode=d;if(n.onLoad)n.onLoad(n)},!1);n.isLoaded=!1;return n},g.Surface.extend({destroy:function(){var d=this.rawNode;svgweb.removeChild(d,d.parentNode)}}),y={connect:function(d,g,h){"on"===d.substring(0,2)&&(d=d.substring(2));h=2==arguments.length?g:F.hitch(g,h);this.getEventSource().addEventListener(d,h,!1);return[this,d,h]},disconnect:function(d){this.getEventSource().removeEventListener(d[1],d[2],!1);delete d[0]}},F.extend(g.Shape,
y),F.extend(g.Surface,y));return g})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(F,y,w,l,r,d,h,p,I,z){function x(d,h){for(var l=d.length-1;h<l;)d[h]=d[++h];d.length=l}var C=F.shape={};C.Shape=w("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=
this.rawNode=null;if(r("gfxRegistry")){var d=C.register(this);this.getUID=function(){return d}}},destroy:function(){r("gfxRegistry")&&C.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},
getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var d=this.getBoundingBox();if(!d)return null;var h=this._getRealMatrix();return[z.multiplyPoint(h,d.x,d.y),z.multiplyPoint(h,d.x+d.width,d.y),z.multiplyPoint(h,d.x+d.width,d.y+d.height),z.multiplyPoint(h,d.x,d.y+d.height)]},getEventSource:function(){return this.rawNode},setClip:function(d){this.clip=d},getClip:function(){return this.clip},setShape:function(d){this.shape=F.makeParameters(this.shape,d);this.bbox=null;
return this},setFill:function(d){if(!d)return this.fillStyle=null,this;var h=null;if("object"==typeof d&&"type"in d)switch(d.type){case "linear":h=F.makeParameters(F.defaultLinearGradient,d);break;case "radial":h=F.makeParameters(F.defaultRadialGradient,d);break;case "pattern":h=F.makeParameters(F.defaultPattern,d)}else h=F.normalizeColor(d);this.fillStyle=h;return this},setStroke:function(d){if(!d)return this.strokeStyle=null,this;if("string"==typeof d||y.isArray(d)||d instanceof I)d={color:d};d=
this.strokeStyle=F.makeParameters(F.defaultStroke,d);d.color=F.normalizeColor(d.color);return this},setTransform:function(d){this.matrix=z.clone(d?z.normalize(d):z.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var d=this.getParent();d&&(d._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var d=this.getParent();d&&(d._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},
applyRightTransform:function(d){return d?this.setTransform([this.matrix,d]):this},applyLeftTransform:function(d){return d?this.setTransform([d,this.matrix]):this},applyTransform:function(d){return d?this.setTransform([this.matrix,d]):this},removeShape:function(d){this.parent&&this.parent.remove(this,d);return this},_setParent:function(d,h){this.parent=d;return this._updateParentMatrix(h)},_updateParentMatrix:function(d){this.parentMatrix=d?z.clone(d):null;return this._applyTransform()},_getRealMatrix:function(){for(var d=
this.matrix,h=this.parent;h;)h.matrix&&(d=z.multiply(h.matrix,d)),h=h.parent;return d}});C._eventsProcessing={on:function(h,l){return d(this.getEventSource(),h,C.fixCallback(this,F.fixTarget,l))},connect:function(d,h,l){"on"==d.substring(0,2)&&(d=d.substring(2));return this.on(d,l?y.hitch(h,l):h)},disconnect:function(d){return d.remove()}};C.fixCallback=function(d,h,p,g){g||(g=p,p=null);if(y.isString(g)){p=p||l.global;if(!p[g])throw['dojox.gfx.shape.fixCallback: scope["',g,'"] is null (scope\x3d"',
p,'")'].join("");return function(l){return h(l,d)?p[g].apply(p,arguments||[]):void 0}}return p?function(l){return h(l,d)?g.apply(p,arguments||[]):void 0}:function(l){return h(l,d)?g.apply(p,arguments):void 0}};y.extend(C.Shape,C._eventsProcessing);C.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(d){var h=d.getParent();h&&h.remove(d,!0);this.children.push(d);return d._setParent(this,this._getRealMatrix())},
remove:function(d,h){for(var l=0;l<this.children.length;++l)if(this.children[l]==d){h||(d.parent=null,d.parentMatrix=null);x(this.children,l);break}return this},clear:function(d){for(var h,l=0;l<this.children.length;++l)h=this.children[l],h.parent=null,h.parentMatrix=null,d&&h.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var d=null;h.forEach(this.children,function(h){var l=h.getBoundingBox();l&&((h=h.getTransform())&&(l=z.multiplyRectangle(h,l)),d?(d.x=Math.min(d.x,
l.x),d.y=Math.min(d.y,l.y),d.endX=Math.max(d.endX,l.x+l.width),d.endY=Math.max(d.endY,l.y+l.height)):d={x:l.x,y:l.y,endX:l.x+l.width,endY:l.y+l.height})});d&&(d.width=d.endX-d.x,d.height=d.endY-d.y);return d}return null},_moveChildToFront:function(d){for(var h=0;h<this.children.length;++h)if(this.children[h]==d){x(this.children,h);this.children.push(d);break}return this},_moveChildToBack:function(d){for(var h=0;h<this.children.length;++h)if(this.children[h]==d){x(this.children,h);this.children.unshift(d);
break}return this}};C.Surface=w("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){h.forEach(this._nodes,p.destroy);this._nodes=[];h.forEach(this._events,function(d){d&&d.remove()});this._events=[];this.rawNode=null;if(r("ie"))for(;this._parent.lastChild;)p.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},
isLoaded:!0,onLoad:function(d){},whenLoaded:function(h,l){var p=y.hitch(h,l);if(this.isLoaded)p(this);else d.once(this,"load",function(d){p(d)})}});y.extend(C.Surface,C._eventsProcessing);C.Rect=w("dojox.gfx.shape.Rect",C.Shape,{constructor:function(d){this.shape=F.getDefault("Rect");this.rawNode=d},getBoundingBox:function(){return this.shape}});C.Ellipse=w("dojox.gfx.shape.Ellipse",C.Shape,{constructor:function(d){this.shape=F.getDefault("Ellipse");this.rawNode=d},getBoundingBox:function(){if(!this.bbox){var d=
this.shape;this.bbox={x:d.cx-d.rx,y:d.cy-d.ry,width:2*d.rx,height:2*d.ry}}return this.bbox}});C.Circle=w("dojox.gfx.shape.Circle",C.Shape,{constructor:function(d){this.shape=F.getDefault("Circle");this.rawNode=d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:d.cx-d.r,y:d.cy-d.r,width:2*d.r,height:2*d.r}}return this.bbox}});C.Line=w("dojox.gfx.shape.Line",C.Shape,{constructor:function(d){this.shape=F.getDefault("Line");this.rawNode=d},getBoundingBox:function(){if(!this.bbox){var d=
this.shape;this.bbox={x:Math.min(d.x1,d.x2),y:Math.min(d.y1,d.y2),width:Math.abs(d.x2-d.x1),height:Math.abs(d.y2-d.y1)}}return this.bbox}});C.Polyline=w("dojox.gfx.shape.Polyline",C.Shape,{constructor:function(d){this.shape=F.getDefault("Polyline");this.rawNode=d},setShape:function(d,h){d&&d instanceof Array?(this.inherited(arguments,[{points:d}]),h&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[d]);return this},_normalizePoints:function(){var d=
this.shape.points,h=d&&d.length;if(h&&"number"==typeof d[0]){for(var l=[],g=0;g<h;g+=2)l.push({x:d[g],y:d[g+1]});this.shape.points=l}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var d=this.shape.points,h=d.length,l=d[0],g=l.x,p=l.y,r=l.x,x=l.y,w=1;w<h;++w)l=d[w],g>l.x&&(g=l.x),r<l.x&&(r=l.x),p>l.y&&(p=l.y),x<l.y&&(x=l.y);this.bbox={x:g,y:p,width:r-g,height:x-p}}return this.bbox}});C.Image=w("dojox.gfx.shape.Image",C.Shape,{constructor:function(d){this.shape=F.getDefault("Image");
this.rawNode=d},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});C.Text=w(C.Shape,{constructor:function(d){this.fontStyle=null;this.shape=F.getDefault("Text");this.rawNode=d},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?F.splitFontString(d):F.makeParameters(F.defaultFont,d);this._setFont();return this},getBoundingBox:function(){var d=null;this.getShape().text&&(d=F._base._computeTextBoundingBox(this));
return d}});C.Creator={createShape:function(d){switch(d.type){case F.defaultPath.type:return this.createPath(d);case F.defaultRect.type:return this.createRect(d);case F.defaultCircle.type:return this.createCircle(d);case F.defaultEllipse.type:return this.createEllipse(d);case F.defaultLine.type:return this.createLine(d);case F.defaultPolyline.type:return this.createPolyline(d);case F.defaultImage.type:return this.createImage(d);case F.defaultText.type:return this.createText(d);case F.defaultTextPath.type:return this.createTextPath(d)}return null},
createGroup:function(){return this.createObject(F.Group)},createRect:function(d){return this.createObject(F.Rect,d)},createEllipse:function(d){return this.createObject(F.Ellipse,d)},createCircle:function(d){return this.createObject(F.Circle,d)},createLine:function(d){return this.createObject(F.Line,d)},createPolyline:function(d){return this.createObject(F.Polyline,d)},createImage:function(d){return this.createObject(F.Image,d)},createText:function(d){return this.createObject(F.Text,d)},createPath:function(d){return this.createObject(F.Path,
d)},createTextPath:function(d){return this.createObject(F.TextPath,{}).setText(d)},createObject:function(d,h){return null}};return C})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(F,y,w,l,r){r=w("dojox.gfx.path.Path",r.Shape,{constructor:function(d){this.shape=y.clone(F.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=d;this.segmented=!1},setAbsoluteMode:function(d){this._confirmSegmented();
this.absolute="string"==typeof d?"absolute"==d:d;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var d=this.bbox,h=this._getRealMatrix();this.bbox=null;for(var l=0,r=this.segments.length;l<r;++l)this._updateWithSegment(this.segments[l],
h);h=this.bbox;this.bbox=d;return this.tbbox=h?[{x:h.l,y:h.t},{x:h.r,y:h.t},{x:h.r,y:h.b},{x:h.l,y:h.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(d,h,p){p&&(h=l.multiplyPoint(p,d,h),d=h.x,h=h.y);this.bbox&&"l"in this.bbox?(this.bbox.l>d&&(this.bbox.l=d),this.bbox.r<d&&(this.bbox.r=d),this.bbox.t>h&&(this.bbox.t=h),this.bbox.b<h&&(this.bbox.b=h)):
this.bbox={l:d,b:h,r:d,t:h}},_updateWithSegment:function(d,h){var l=d.args,r=l.length,w;switch(d.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(w=0;w<r;w+=2)this._updateBBox(l[w],l[w+1],h);this.last.x=l[r-2];this.last.y=l[r-1];this.absolute=!0;break;case "H":for(w=0;w<r;++w)this._updateBBox(l[w],this.last.y,h);this.last.x=l[r-1];this.absolute=!0;break;case "V":for(w=0;w<r;++w)this._updateBBox(this.last.x,l[w],h);this.last.y=l[r-1];this.absolute=!0;break;case "m":w=0;"x"in this.last||
(this._updateBBox(this.last.x=l[0],this.last.y=l[1],h),w=2);for(;w<r;w+=2)this._updateBBox(this.last.x+=l[w],this.last.y+=l[w+1],h);this.absolute=!1;break;case "l":case "t":for(w=0;w<r;w+=2)this._updateBBox(this.last.x+=l[w],this.last.y+=l[w+1],h);this.absolute=!1;break;case "h":for(w=0;w<r;++w)this._updateBBox(this.last.x+=l[w],this.last.y,h);this.absolute=!1;break;case "v":for(w=0;w<r;++w)this._updateBBox(this.last.x,this.last.y+=l[w],h);this.absolute=!1;break;case "c":for(w=0;w<r;w+=6)this._updateBBox(this.last.x+
l[w],this.last.y+l[w+1],h),this._updateBBox(this.last.x+l[w+2],this.last.y+l[w+3],h),this._updateBBox(this.last.x+=l[w+4],this.last.y+=l[w+5],h);this.absolute=!1;break;case "s":case "q":for(w=0;w<r;w+=4)this._updateBBox(this.last.x+l[w],this.last.y+l[w+1],h),this._updateBBox(this.last.x+=l[w+2],this.last.y+=l[w+3],h);this.absolute=!1;break;case "A":for(w=0;w<r;w+=7)this._updateBBox(l[w+5],l[w+6],h);this.last.x=l[r-2];this.last.y=l[r-1];this.absolute=!0;break;case "a":for(w=0;w<r;w+=7)this._updateBBox(this.last.x+=
l[w+5],this.last.y+=l[w+6],h);this.absolute=!1}d=[d.action];for(w=0;w<r;++w)d.push(F.formatNumber(l[w],!0));if("string"==typeof this.shape.path)this.shape.path+=d.join("");else for(w=0,r=d.length;w<r;++w)this.shape.path.push(d[w])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(d,h){this.tbbox=null;var l=this._validSegments[d.toLowerCase()];"number"==typeof l&&(l?h.length>=l&&(d={action:d,args:h.slice(0,h.length-h.length%l)},this.segments.push(d),this._updateWithSegment(d)):
(d={action:d,args:[]},this.segments.push(d),this._updateWithSegment(d)))},_collectArgs:function(d,h){for(var l=0;l<h.length;++l){var r=h[l];"boolean"==typeof r?d.push(r?1:0):"number"==typeof r?d.push(r):r instanceof Array?this._collectArgs(d,r):"x"in r&&"y"in r&&d.push(r.x,r.y)}},moveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"M":"m",d);return this},lineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);
this._pushSegment(this.absolute?"L":"l",d);return this},hLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"H":"h",d);return this},vLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"V":"v",d);return this},curveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"C":"c",d);return this},smoothCurveTo:function(){this._confirmSegmented();
var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"S":"s",d);return this},qCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"Q":"q",d);return this},qSmoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"T":"t",d);return this},arcTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"A":
"a",d);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var d=this.shape.path;this.shape.path=[];this._setPath(d);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(d){d=y.isArray(d)?d:d.match(F.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(d){for(var h="",l=[],r=d.length,w=0;w<r;++w){var x=d[w],C=parseFloat(x);isNaN(C)?(h&&this._pushSegment(h,
l),l=[],h=x):l.push(C)}this._pushSegment(h,l)}},setShape:function(d){this.inherited(arguments,["string"==typeof d?{path:d}:d]);this.segmented=!1;this.segments=[];F.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});w=w("dojox.gfx.path.TextPath",r,{constructor:function(d){"text"in this||(this.text=y.clone(F.defaultTextPath));"fontStyle"in this||(this.fontStyle=y.clone(F.defaultFont))},getText:function(){return this.text},setText:function(d){this.text=F.makeParameters(this.text,
"string"==typeof d?{text:d}:d);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?F.splitFontString(d):F.makeParameters(F.defaultFont,d);this._setFont();return this}});return F.path={Path:r,TextPath:w}})},"*now":function(F){F(['dojo/i18n!*preload*esri/widgets/nls/Editor*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper @dojo/framework/shim/Map dojo/i18n!../nls/common dojo/i18n!./Editor/nls/Editor dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../intl ../core/events ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./FeatureForm ./FeatureTemplates ./Spinner ./Widget ./Editor/EditorViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),function(F,y,w,
l,r,d,h,p,I,z,x,C,v,H,D,g,q,E,N,T,M){function K(d){d.focus()}return function(n){function r(d){d=n.call(this)||this;d._featureForm=new D;d._featureTemplates=new g;d._filterText="";d._prompt=null;d._spinner=new q;d.activeWorkflow=null;d.allowedWorkflows=null;d.iconClass="esri-icon-edit";d.label=p.widgetLabel;d.layerInfos=null;d.supportingWidgetDefaults=null;d.view=null;d.viewModel=new N;d._handleSave=d._handleSave.bind(d);d._handleBack=d._handleBack.bind(d);d._handleDone=d._handleDone.bind(d);d._handleDelete=
d._handleDelete.bind(d);d._handleAdd=d._handleAdd.bind(d);d._handleEdit=d._handleEdit.bind(d);return d}w(r,n);r.prototype.postInitialize=function(){var d=this;this.own([v.init(this,"viewModel",function(g){d._featureForm.viewModel=g?g.featureFormViewModel:null;d._featureTemplates.viewModel=g?g.featureTemplatesViewModel:null;d._spinner.viewModel=g?g.spinnerViewModel:null}),v.init(this,"view",function(g,h){var l="editor-"+d.id+"-spinner";h&&h.ui.remove(d._spinner,l);g&&g.ui.add(d._spinner,{key:l,position:"manual"})}),
v.on(this,"viewModel.sketchViewModel","create",function(){d.scheduleRender()}),v.on(this,"viewModel.activeWorkflow","cancel-request",function(g){var l=g.controller;d._prompt={title:p.cancelRequestTitle,message:p.cancelRequestWarningMessage,options:[{label:h.form.no,type:"neutral",action:function(){l.deny();return d._prompt=null}},{label:h.form.yes,type:"negative",action:function(){l.allow();d._prompt=null}}]};d.scheduleRender()}),v.init(this,"supportingWidgetDefaults",function(g){g&&(d._featureForm.set(g.featureForm),
d._featureTemplates.set(g.featureTemplates),d.viewModel.sketchViewModel.set(g.sketch))}),v.watch(this,"viewModel.failures",function(g){if(g){g=g[0];var h=g.retry,l=g.cancel;d._prompt={title:p.errorWarningTitle,message:z.substitute(p.errorWarningMessageTemplate,{errorMessage:g.error.message}),options:[{label:p.retry,type:"positive",action:function(){h();d._prompt=null}},{label:p.ignore,type:"neutral",action:function(){l();return d._prompt=null}}]}}}),v.whenNot(this,"viewModel.activeWorkflow",function(){return d._featureTemplates.filterText=
""})])};r.prototype.destroy=function(){this._featureForm.destroy();this._featureTemplates.destroy()};r.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return null};r.prototype.startCreateWorkflowAtFeatureCreation=function(d){return null};r.prototype.startCreateWorkflowAtFeatureEdit=function(d){return null};r.prototype.startUpdateWorkflowAtFeatureSelection=function(){return null};r.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(d){return null};r.prototype.startUpdateWorkflowAtFeatureEdit=
function(d){return null};r.prototype.deleteFeatureFromWorkflow=function(){return null};r.prototype.cancelWorkflow=function(d){return null};r.prototype.render=function(){var d=this.viewModel;if(!d)return M.tsx("div",{class:"esri-editor esri-widget"});var d=d.state,g=this._prompt?M.tsx("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,title:this._prompt.title,options:this._prompt.options})):null;return M.tsx("div",{class:"esri-editor esri-widget"},this.viewModel.syncing?
this.renderProgressBar():null,"disabled"===d?null:"ready"===d?this.renderLanding():"awaiting-feature-creation-info"===d?this.renderTemplates():"editing-new-feature"===d||"editing-existing-feature"===d?this.renderAttributeEditing():"awaiting-feature-to-update"===d?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===d?this.renderFeatureList():"awaiting-feature-to-create"===d?this.renderFeatureCreation():null,g)};r.prototype.renderTemplates=function(){return M.tsx("div",{class:"esri-editor__temp-wrapper",
key:"wrapper"},this.renderHeader(p.selectTemplate,!0),M.tsx("div",{key:"content",class:"esri-editor__content"},this._featureTemplates.render()))};r.prototype.renderAttributeEditing=function(){var d=this.viewModel,g=d.activeWorkflow,d=d.featureFormViewModel,l=g.data.edits.feature,n="create"===g.type?h.add:h.update,q=[{label:n,type:"primary",disabled:"update"===g.type&&!g.data.edits.modified||0<d.inputFields.length&&!d.valid,clickHandler:this._handleSave}];"update"===g.type&&-1<g.data.editableItem.supports.indexOf("delete")&&
q.push({label:h.delete,type:"tertiary",clickHandler:this._handleDelete});g=this._getLabel(l);return M.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(g,!0),M.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},0<d.inputFields.length?this._featureForm.render():this.renderMessage(z.substitute(p.clickToFinishTemplate,{button:n}))),this.renderControls(q))};r.prototype.renderFeatureUpdating=function(){return M.tsx("div",{class:"esri-editor__temp-wrapper",
key:"wrapper"},this.renderHeader(p.selectFeature,!0),M.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(p.selectFeatureToEdit)))};r.prototype.renderMessage=function(d){return M.tsx("div",{class:"esri-editor__message"},d)};r.prototype.renderFeatureCreation=function(){var d=this.viewModel,g=d.sketchViewModel,d=d.activeWorkflow.data.creationInfo.layer,g=g.canUndo()&&g.createGraphic?g.createGraphic:null,g=this._getSketchingTip(d.geometryType,
g);return M.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(p.placeFeature,!0),M.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(g)))};r.prototype.renderControls=function(d){var g=this;return M.tsx("div",{class:"esri-editor__controls",key:"controls"},d.map(function(d,h){var l=d.disabled,l=void 0===l?!1:l,n=d.type,p=d.clickHandler;return g.renderButton({label:d.label,class:g.classes("esri-editor__control-button",
"esri-button","secondary"===n?"esri-button--secondary":"tertiary"===n?"esri-button--tertiary":null,l?"esri-button--disabled":null),disabled:l,clickHandler:p,key:h})}))};r.prototype.renderPrompt=function(d){var g=this,h=d.title,l=d.message;d=d.options;d=void 0===d?[]:d;return M.tsx("div",{class:"esri-editor__warning-card",role:"alert"},M.tsx("div",{class:"esri-editor__warning-header"},M.tsx("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),M.tsx("h4",{class:this.classes("esri-heading",
"esri-editor__warning-heading")},h)),M.tsx("div",{class:"esri-editor__warning-message"},l),M.tsx("div",{class:"esri-editor__warning-divider"}),d.map(function(d,h){var l=d.label,n=d.action;d=d.type;var p=0===h;return M.tsx("div",{afterCreate:p?K:null,class:g.classes("esri-editor__warning-option",p?"esri-editor__warning-option--primary":null,"positive"===d?"esri-editor__warning-option--positive":"negative"===d?"esri-editor__warning-option--negative":null),key:h,onclick:n,onkeydown:function(d){var g=
x.eventKey(d);if("Enter"===g||" "===g)d.preventDefault(),n.call(null)},tabIndex:0,role:"button"},l)}))};r.prototype.renderProgressBar=function(){return M.tsx("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})};r.prototype.renderButton=function(d){return M.tsx("button",{class:d.class,disabled:d.disabled,key:d.key,onclick:d.clickHandler},d.label)};r.prototype.renderHeader=function(d,g){void 0===g&&(g=!1);return M.tsx("header",{class:"esri-editor__header",key:"header"},g?M.tsx("div",
{"aria-label":h.back,class:this.classes("esri-editor__back-button","esri-interactive"),key:"back-button",onclick:this._handleBack,onkeydown:this._handleBack,tabIndex:0,title:h.back},M.tsx("span",{"aria-hidden":"true",class:M.isRTL()?"esri-icon-right":"esri-icon-left"})):null,M.tsx("h4",{class:this.classes("esri-editor__title","esri-heading")},d))};r.prototype.renderLanding=function(){var d=this.viewModel,g=d.allowedWorkflows,h=d.canCreate,d=d.canUpdate,l=M.isRTL()?"esri-icon-left":"esri-icon-right";
return M.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(p.widgetLabel),M.tsx("div",{key:"content",class:"esri-editor__content",role:"group"},M.tsx("div",{class:"esri-editor__mode-selection",key:"mode-selection"},-1<g.indexOf("update")?M.tsx("div",{"aria-disabled":d?"false":"true",class:this.classes("esri-editor__feature-list-item",d?null:"esri-editor__feature-list-item--disabled"),key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,role:"button",tabIndex:d?
0:-1},M.tsx("span",{class:"esri-editor__feature-list-name"},p.editFeature),M.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",l)})):null,-1<g.indexOf("create")?M.tsx("div",{class:this.classes("esri-editor__feature-list-item",h?null:"esri-editor__feature-list-item--disabled"),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:h?0:-1},M.tsx("span",{class:"esri-editor__feature-list-name"},p.addFeature),M.tsx("span",{"aria-hidden":"true",
class:this.classes("esri-editor__feature-list-icon",l)})):null)))};r.prototype.renderFeatureList=function(){var g=this,h=this.viewModel,l=h.editableItems,n=h.activeWorkflow,q=n.data.candidates,h=z.substitute(p.multipleFeaturesTemplate,{total:q.length}),r=new d.default;q.map(function(d){return{label:g._getLabel(d),id:d.attributes[d.layer.objectIdField],data:d}}).filter(function(d){var h=d.label,l=d.data;d=g._filterText.toLowerCase();var n=l.layer.title;return-1<g.viewModel.editableItems.find(function(d){return d.layer===
l.layer}).supports.indexOf("update")&&(!d||-1<h.toLowerCase().indexOf(d)||-1<n.toLowerCase().indexOf(d))}).forEach(function(d){var g=d.data.layer;r.has(g)?r.get(g).items.push(d):r.set(g,{id:g.id,label:g.title,items:[d]})});l=l.filter(function(d){return r.has(d.layer)}).map(function(d){return r.get(d.layer)}).toArray();return M.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h,!0),M.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},
T.ItemList({id:this.id,filterText:this._filterText,items:l,messages:{filterPlaceholder:I.filterPlaceholder,noItems:I.noItems,noMatches:I.noMatches},onItemMouseEnter:function(d){n.data.edits.feature=d.data},onItemMouseLeave:function(){n.data.edits.feature=null},onItemSelect:function(d){n.data.edits.feature=d.data;n.next()},onFilterChange:function(d){g._filterText=d}})))};r.prototype._getSketchingTip=function(d,g){if("point"===d)return p.tips.clickToAddPoint;if("polygon"===d||"polyline"===d){if(!g)return p.tips.clickToStart;
g=g.geometry["polygon"===d?"rings":"paths"][0];return"polygon"===d&&4>g?p.tips.clickToContinue:p.tips.clickToContinueThenDoubleClickToEnd}return p.tips.clickToAddFeature};r.prototype._getLabel=function(d){var g=d.layer,h=g.displayField,g=g.objectIdField;d=d.attributes;return h&&d[h]||z.substitute(p.untitledFeatureTemplate,{id:d[g]})};r.prototype._handleDelete=function(){var d=this;this._prompt={title:p.deleteWarningTitle,message:p.deleteWarningMessage,options:[{label:p.keepFeature,type:"neutral",
action:function(){return d._prompt=null}},{label:h.delete,type:"positive",action:function(){d.viewModel.deleteFeatureFromWorkflow();d._prompt=null}}]}};r.prototype._handleSave=function(){var d=this.viewModel.activeWorkflow;d.commit();d.reset()};r.prototype._handleAdd=function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};r.prototype._handleEdit=function(){this.viewModel.canUpdate&&this.viewModel.startUpdateWorkflowAtFeatureSelection()};r.prototype._handleDone=
function(){this.viewModel.cancelWorkflow({force:!0})};r.prototype._handleBack=function(){var d=this,g=this.viewModel.activeWorkflow,h=g.stepId,l=g.data,n=g.type,q=function(){g.hasPreviousStep?g.previous():d.viewModel.cancelWorkflow({force:!0})};"editing-new-feature"===h||"editing-existing-feature"===h&&l.edits.modified?this._prompt={title:"create"===n?p.cancelAddTitle:p.cancelEditTitle,message:"create"===n?p.cancelAddWarningMessage:p.cancelEditWarningMessage,options:[{label:"create"===n?p.continueAdding:
p.continueEditing,type:"neutral",action:function(){return d._prompt=null}},{label:"create"===n?p.discardFeature:p.discardEdits,type:"negative",action:function(){q();d._prompt=null}}]}:q()};l([H.aliasOf("viewModel.activeWorkflow")],r.prototype,"activeWorkflow",void 0);l([H.aliasOf("viewModel.allowedWorkflows")],r.prototype,"allowedWorkflows",void 0);l([H.property()],r.prototype,"iconClass",void 0);l([H.property()],r.prototype,"label",void 0);l([H.aliasOf("viewModel.layerInfos")],r.prototype,"layerInfos",
void 0);l([H.property()],r.prototype,"supportingWidgetDefaults",void 0);l([H.aliasOf("viewModel.view")],r.prototype,"view",void 0);l([H.property(),M.renderable("viewModel.canCreate viewModel.canUpdate viewModel.failures viewModel.state viewModel.syncing viewModel.activeWorkflow.data.edits.modified".split(" "))],r.prototype,"viewModel",void 0);l([H.aliasOf("viewModel.startCreateWorkflowAtFeatureTypeSelection")],r.prototype,"startCreateWorkflowAtFeatureTypeSelection",null);l([H.aliasOf("viewModel.startCreateWorkflowAtFeatureCreation")],
r.prototype,"startCreateWorkflowAtFeatureCreation",null);l([H.aliasOf("viewModel.startCreateWorkflowAtFeatureEdit")],r.prototype,"startCreateWorkflowAtFeatureEdit",null);l([H.aliasOf("viewModel.startUpdateWorkflowAtFeatureSelection")],r.prototype,"startUpdateWorkflowAtFeatureSelection",null);l([H.aliasOf("viewModel.startUpdateWorkflowAtMultipleFeatureSelection")],r.prototype,"startUpdateWorkflowAtMultipleFeatureSelection",null);l([H.aliasOf("viewModel.startUpdateWorkflowAtFeatureEdit")],r.prototype,
"startUpdateWorkflowAtFeatureEdit",null);l([H.aliasOf("viewModel.deleteFeatureFromWorkflow")],r.prototype,"deleteFeatureFromWorkflow",null);l([H.aliasOf("viewModel.cancelWorkflow")],r.prototype,"cancelWorkflow",null);l([M.accessibleHandler()],r.prototype,"_handleDelete",null);l([M.accessibleHandler()],r.prototype,"_handleAdd",null);l([M.accessibleHandler()],r.prototype,"_handleEdit",null);l([M.accessibleHandler()],r.prototype,"_handleDone",null);l([M.accessibleHandler()],r.prototype,"_handleBack",
null);return r=l([H.subclass("esri.widgets.Editor")],r)}(H.declared(E,C))});