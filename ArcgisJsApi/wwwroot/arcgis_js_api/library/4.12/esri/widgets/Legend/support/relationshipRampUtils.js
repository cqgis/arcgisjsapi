// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports dojox/gfx dojox/gfx/matrix ../../../symbols/support/gfxUtils ../../../symbols/support/previewSymbol3D".split(" "),function(C,g,x,n,p,y){function z(c){if(c){var b=c.type;return-1<b.indexOf("3d")?y.getSymbolLayerFill(c.symbolLayers.getItemAt(0)):"simple-line"===b||"simple-marker"===c.type&&("x"===c.style||"cross"===c.style)?(c=p.getStroke(c))&&c.color:p.getFill(c)}}function A(c,b){var d=b.HH.label,a=b.LL.label,e=b.HL.label;b=b.LH.label;switch(c){case "HH":return{top:d,bottom:a,
left:e,right:b};case "HL":return{top:e,bottom:b,left:a,right:d};case "LL":return{top:a,bottom:d,left:b,right:e};case "LH":return{top:b,bottom:e,left:d,right:a};default:return{top:d,bottom:a,left:e,right:b}}}function t(c){var b=u[c];c&&null==b&&(b=u.HH);return b||0}function v(c,b,d,a){var e=a+"_arrowStart";a+="_arrowEnd";b="left"===b;switch(d){case "HL":c.setAttribute(b?"marker-start":"marker-end","url(#"+(b?a:e)+")");break;case "LL":c.setAttribute("marker-start","url(#"+a+")");break;case "LH":c.setAttribute(b?
"marker-end":"marker-start","url(#"+(b?e:a)+")");break;default:c.setAttribute("marker-end","url(#"+e+")")}}function w(c,b,d){var a="start"===b;b=a?d+"_arrowStart":d+"_arrowEnd";d=a?"0,0 5,5 0,10":"5,0 0,5 5,10";var e=a?"5":"0",a=document.createElementNS("http://www.w3.org/2000/svg","marker");a.setAttribute("id",b);a.setAttribute("markerWidth","10");a.setAttribute("markerHeight","10");a.setAttribute("refX",e);a.setAttribute("refY","5");a.setAttribute("markerUnits","strokeWidth");a.setAttribute("orient",
"auto");b=document.createElementNS("http://www.w3.org/2000/svg","polyline");b.setAttribute("points",d);b.setAttribute("fill","none");b.setAttribute("stroke","#555555");b.setAttribute("stroke-width","1");a.appendChild(b);c.appendChild(a)}Object.defineProperty(g,"__esModule",{value:!0});var u={HH:315,HL:45,LL:135,LH:225},B={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1",
"LM2","LH"]]};g.getRelationshipRampElement=function(c){var b=c.focus,d=c.numClasses,a=B[d],e={};c.infos.forEach(function(a){e[a.value]={label:a.label,fill:z(a.symbol)}});c=[];for(var h=0;h<d;h++){for(var l=[],f=0;f<d;f++)l.push(e[a[h][f]].fill);c.push(l)}a=A(b,e);return{type:"relationship-ramp",numClasses:d,focus:b,colors:c,labels:a,rotation:t(b)}};g.getRotationAngleForFocus=t;g.renderRamp=function(c,b,d,a){void 0===a&&(a=60);var e=c.focus,h=c.numClasses,l=c.colors,f=c.rotation;c=!!e;var k=Math.sqrt(Math.pow(a,
2)+Math.pow(a,2))+(c?0:5),g=document.createElement("div"),q=x.createSurface(g,k,k);null!=d&&(g.style.opacity=d.toString());var m=p.create2DColorRamp({surface:q,colors:l,numClasses:h,size:a});d=(k-a)/2;k=(k-a)/2;m.applyTransform(n.translate(d,k));h=a/2;l=a/2;m.applyTransform(n.rotategAt(f,h,l));var f=q.createGroup(),m={width:1,color:"#555555"},r=q.defNode;w(r,"start",b);w(r,"end",b);r=f.createLine({x1:-10,y1:a-15,x2:-10,y2:15}).setStroke(m);a=f.createLine({x1:15,y1:a+10,x2:a-15,y2:a+10}).setStroke(m);
v(r.rawNode,"left",e,b);v(a.rawNode,"right",e,b);f.applyTransform(n.translate(d,k));c?f.applyTransform(n.rotategAt(-45,h,l)):q.rawNode.style.margin="-15px -15px -18px -15px";return g}});