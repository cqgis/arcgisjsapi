// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/i18n!./ClassedColorSlider/nls/ClassedColorSlider ../../core/accessorSupport/decorators ../../renderers/support/ClassBreakInfo ./SmartMappingSliderBase ./ClassedColorSlider/ClassedColorSliderViewModel ./../support/widget".split(" "),function(q,r,t,k,f,l,e,m,n,p,c){return function(h){function b(a){a=h.call(this)||this;a._bgFillId=null;a._rampFillId=null;a.breaks=
null;a.label=l.widgetLabel;a.viewModel=new p;a._bgFillId=a.id+"-bg-fill";a._rampFillId=a.id+"-linear-gradient";return a}k(b,h);g=b;b.fromRendererResult=function(a,d){a=a.renderer.classBreakInfos.map(function(a){return{min:a.minValue,max:a.maxValue,color:a.symbol.color}});return new g({breaks:a,histogramConfig:{bins:d?d.bins:[]}})};b.prototype.updateClassBreakInfos=function(a){var d=this.breaks;if(d.length!==a.length)console.error("Number of input breakInfos must match number of slider breaks: "+d.length);
else return a.map(function(a,b){a=a.symbol;a.color=d[b].color;return new m.default({minValue:d[b].min,maxValue:d[b].max,symbol:a})})};b.prototype.updateFromRendererResult=function(a,b){a=a.renderer.classBreakInfos.map(function(a){return{min:a.minValue,max:a.maxValue,color:a.symbol.color}});this.set({breaks:a,histogramConfig:{bins:b?b.bins:[]}})};b.prototype.render=function(){var a=this.state,b=this.label,e=this.classes("esri-classed-color-slider","esri-widget","esri-widget--panel","disabled"===a?
"esri-disabled":null);return c.tsx("div",{"aria-label":b,class:e},"disabled"!==a?this.renderContent():null)};b.prototype.renderContent=function(){this.slider.extraNodes=[this.renderRamp(),this.renderHistogram()];return c.tsx("div",{class:"esri-classed-color-slider__slider-container"},this.slider.render())};b.prototype.renderRamp=function(){var a=this._bgFillId,b=this._rampFillId;return c.tsx("div",{class:"esri-classed-color-slider__ramp"},c.tsx("svg",{xmlns:"http://www.w3.org/2000/svg"},c.tsx("defs",
null,this.renderRampFillDefinition(),this.renderBackgroundFillDefinition()),c.tsx("rect",{x:"0",y:"0",fill:"url(#"+a+")",height:"100%",width:"100%"}),c.tsx("rect",{x:"0",y:"0",fill:"url(#"+b+")",height:"100%",width:"100%"})))};b.prototype.renderHistogram=function(){return this.histogramConfig?c.tsx("div",{class:"esri-classed-color-slider__histogram-container"},this.histogram.render()):null};b.prototype.renderRampFillDefinition=function(){return c.tsx("linearGradient",{id:this._rampFillId,x1:"0",x2:"0",
y1:"0",y2:"1"},this.renderRampFillStops())};b.prototype.renderBackgroundFillDefinition=function(){return c.tsx("pattern",{id:this._bgFillId,patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"15",height:"15"},c.tsx("image",{x:"0",y:"0",width:"15",height:"15",href:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij48cGF0aCBkPSJNMCAwIEw4IDAgTDggOCBMMCA4IFoiIGZpbGw9IiNjY2MiIC8+PHBhdGggZD0iTTAgMCBMOCAwIEw4IDggTDAgOCBaIiBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDgpIiAvPjxwYXRoIGQ9Ik0wIDAgTDggMCBMOCA4IEwwIDggWiIgZmlsbD0iI2NjYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCw4KSIgLz48cGF0aCBkPSJNMCAwIEw4IDAgTDggOCBMMCA4IFoiIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgsMCkiIC8+PC9zdmc+"}))};
b.prototype.renderRampFillStops=function(){var a=this;return this.viewModel.getStopInfo().reverse().map(function(b,c){return a.renderStop(b,c)})};b.prototype.renderStop=function(a,b){a=this.getPropsForStop(a);return c.tsx("stop",{key:b+"-stop",offset:a.offset,"stop-color":a.color})};var g;f([e.aliasOf("viewModel.breaks")],b.prototype,"breaks",void 0);f([e.property()],b.prototype,"label",void 0);f([e.property(),c.renderable("viewModel.breaks viewModel.hasTimeData viewModel.labelFormatFunction viewModel.max viewModel.min viewModel.values".split(" "))],
b.prototype,"viewModel",void 0);return b=g=f([e.subclass("esri.widgets.smartMapping.ClassedColorSlider")],b)}(e.declared(n.SmartMappingSliderBase))});