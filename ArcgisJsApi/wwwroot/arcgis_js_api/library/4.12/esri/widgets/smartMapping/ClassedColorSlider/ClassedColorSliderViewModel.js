// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/assignHelper ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/maybe ../../../core/accessorSupport/decorators ../../Slider/SliderViewModel ../support/utils".split(" "),function(n,p,q,k,e,f,d,l,m){return function(g){function b(a){var c=g.call(this)||this;c.breaks=null;c.hasTimeData=!1;c.labelFormatFunction=function(a,b,d){return c.hasTimeData?m.formatDateLabel(a):c.defaultLabelFormatFunction(a)};return c}
k(b,g);Object.defineProperty(b.prototype,"max",{get:function(){var a=this.breaks;return a&&a.length?a[a.length-1].max:null},set:function(a){var c=this.breaks,b=this.max,d=this.min;!isNaN(a)&&b!==a&&f.isSome(d)&&a>d&&c&&c.length&&(c[c.length-1].max=a);this.setMax(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"min",{get:function(){var a=this.breaks;return a&&a.length?a[0].min:null},set:function(a){var c=this.breaks,b=this.max,d=this.min;!isNaN(a)&&d!==a&&f.isSome(b)&&a<b&&c&&
c.length&&(c[0].min=a);this.setMin(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){var a=this.min,c=this.values;return f.isSome(this.max)&&f.isSome(a)&&c.length?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"values",{get:function(){var a=this.breaks;if(!a||!a.length)return[];a=a.map(function(a){return a.max});a.pop();return a},enumerable:!0,configurable:!0});b.prototype.setValue=function(a,c){var b=this.min;c>this.max||
c<b||(this._updateBreakInfos(c,a),this.notifyChange("values"),this.notifyChange("labels"))};b.prototype.getStopInfo=function(){var a=this.breaks,c=this.max,b=this.min,d=c-b;if(!a||!a.length||!d)return[];var e=[];a.forEach(function(a){var h=a.color,f=a.max;a=a.min;c===b?a=f=0:(a=(c-a)/d,f=(c-f)/d);e.push({offset:a,color:h},{offset:f,color:h})});return e};b.prototype._updateBreakInfos=function(a,c){var b=this.breaks;b[c].max=a;b[c].min>b[c].max&&(b[c].min=a);f.isSome(b[c+1])&&(b[c+1].min=a)};e([d.property()],
b.prototype,"breaks",void 0);e([d.property()],b.prototype,"hasTimeData",void 0);e([d.property()],b.prototype,"labelFormatFunction",void 0);e([d.property({dependsOn:["breaks"]})],b.prototype,"max",null);e([d.property({dependsOn:["breaks"]})],b.prototype,"min",null);e([d.property({dependsOn:["max","min","values"],readOnly:!0})],b.prototype,"state",null);e([d.property({dependsOn:["breaks"],readOnly:!0})],b.prototype,"values",null);return b=e([d.subclass("esri.widgets.smartMapping.ClassedColorSlider.ClassedColorSliderViewModel")],
b)}(d.declared(l))});