// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper dojo/i18n!../HeatmapSlider/nls/HeatmapSlider ../../../core/maybe ../../../core/accessorSupport/decorators ../../Slider/SliderViewModel ../support/utils".split(" "),function(q,r,m,d,h,k,c,n,p){return function(l){function b(a){a=l.call(this)||this;a._initialRatios=[];a.hasTimeData=!1;a.labelFormatFunction=function(a,b){return"min"===b?h.bottomLabel:"max"===b?h.topLabel:a.toString()};a.max=1;a.min=
0;return a}m(b,l);Object.defineProperty(b.prototype,"state",{get:function(){var a=this.min,b=this.values;return k.isSome(this.max)&&k.isSome(a)&&1<b.length?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stops",{set:function(a){this._initialRatios=a.map(function(a){return a.ratio});this._set("stops",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"values",{get:function(){var a=this.stops;return!a||!a.length||2>a.length?[]:[a[0].ratio,a[a.length-
1].ratio]},enumerable:!0,configurable:!0});b.prototype.setValue=function(a,b){var c=this.max,d=this.min,e=this.stops;if(!(b>c||b<d)&&b!==e[a].ratio){var f=this.values,g=0===a?0:e.length-1;a=Math.max(Math.min(b,a===f.length-1?c:f[a+1]),0===a?d:f[a-1]);p.getStopChanges(g,a,0===g?a:e[0].ratio,0===g?e[e.length-1].ratio:a,this._initialRatios).forEach(function(a,b){e[b].ratio=a.value});this.notifyChange("values");this.notifyChange("labels")}};b.prototype.getStopInfo=function(){var a=this.stops;return a&&
a.length?a.map(function(a){return{color:a.color,offset:1-a.ratio}}):[]};d([c.property({readOnly:!0})],b.prototype,"hasTimeData",void 0);d([c.property({readOnly:!0})],b.prototype,"labelFormatFunction",void 0);d([c.property({readOnly:!0})],b.prototype,"max",void 0);d([c.property({readOnly:!0})],b.prototype,"min",void 0);d([c.property({dependsOn:["max","min","values"],readOnly:!0})],b.prototype,"state",null);d([c.property()],b.prototype,"stops",null);d([c.property({dependsOn:["stops"],readOnly:!0})],
b.prototype,"values",null);return b=d([c.subclass("esri.widgets.smartMapping.HeatmapSlider.HeatmapSliderViewModel")],b)}(c.declared(n))});