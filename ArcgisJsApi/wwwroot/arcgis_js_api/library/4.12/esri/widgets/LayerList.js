// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),function(r,w,y,b,u,l,v,n,p,q,g,A){var m=l.ofType(g);return function(k){function c(c){c=k.call(this)||this;c._handles=new n;c.listItemCreatedFunction=
null;c.operationalItems=new m;c.view=null;return c}y(c,k);c.prototype.initialize=function(){var c=this;this._handles.add(p.init(this,"view",function(){return c._viewHandles()}),"view")};c.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(c.prototype,"state",{get:function(){var c=this.get("view");return this.get("view.ready")?"ready":c?"loading":"disabled"},enumerable:!0,configurable:!0});c.prototype.triggerAction=
function(c,b){c&&this.emit("trigger-action",{action:c,item:b})};c.prototype._createLayerViewHandles=function(c){var b=this,e=this._handles;e.remove("layer-views");this._compileList();c&&e.add(c.on("change",function(){return b._compileList()}),"layer-views")};c.prototype._createMapLayerHandles=function(c){var b=this,e=this._handles;e.remove("map-layers");this._compileList();c&&e.add(c.on("change",function(){return b._compileList()}),"map-layers")};c.prototype._watchItemProperties=function(c){var b=
this;this._handles.add([c.children.on("change",function(){b._modifyListItemChildren(c.children)})],"children-change-"+c.uid)};c.prototype._modifyListItemChildren=function(c){var b=this;c.forEach(function(c){return b._modifyListItem(c)})};c.prototype._modifyListItem=function(c){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:c});this._modifyListItemChildren(c.children)};c.prototype._createListItem=function(c){c=new g({layer:c,view:this.view});this._watchItemProperties(c);
return c};c.prototype._removeAllItems=function(){var c=this._handles,b=this.operationalItems;b.forEach(function(b){c.remove("children-change-"+b.uid)});b.removeAll()};c.prototype._getViewableLayers=function(c){if(c)return c.filter(function(c){return"hide"!==A.findLayerListMode(c)})};c.prototype._watchLayersListMode=function(c){var b=this,k=this._handles;k.remove("layer-list-mode");c&&c.forEach(function(c){k.add(p.watch(c,"listMode",function(){return b._compileList()}),"layer-list-mode")})};c.prototype._compileList=
function(){var c=this.get("view.map.layers");this._watchLayersListMode(c);(c=this._getViewableLayers(c))&&c.length?(this._createNewItems(c),this._modifyOrRemoveItems(c),this._sortItems(c)):this._removeAllItems()};c.prototype._createNewItems=function(c){var b=this,k=this.operationalItems;c.forEach(function(c){k.find(function(a){return a.layer===c})||k.add(b._createListItem(c))})};c.prototype._modifyOrRemoveItems=function(c){var b=this,k=this._handles,h=this.operationalItems;h.forEach(function(a){a&&
(c.find(function(c){return a.layer===c})?b._modifyListItem(a):(k.remove("children-change-"+a.uid),h.remove(a)))})};c.prototype._sortItems=function(c){this.operationalItems.sort(function(b,k){b=c.indexOf(b.layer);k=c.indexOf(k.layer);return b>k?-1:b<k?1:0})};c.prototype._viewHandles=function(){var c=this,b=this._handles,k=this.view;b.remove(["map-layers","layer-views","view-layers"]);this._compileList();k&&b.add([p.init(this,"view.map.layers",function(b){return c._createMapLayerHandles(b)}),p.init(this,
"view.layerViews",function(b){return c._createLayerViewHandles(b)}),p.init(this,"listItemCreatedFunction",function(){return c._compileList()})],"view-layers")};b([q.property()],c.prototype,"listItemCreatedFunction",void 0);b([q.property({type:m})],c.prototype,"operationalItems",void 0);b([q.property({dependsOn:["view.ready"],readOnly:!0})],c.prototype,"state",null);b([q.property()],c.prototype,"view",void 0);b([q.property()],c.prototype,"triggerAction",null);return c=b([q.subclass("esri.widgets.LayerList.LayerListViewModel")],
c)}(q.declared(u,v))})},"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/compilerUtils ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(r,w,y,b,u,l,v,n,p,q,g,A,m,k,c,z,B,e){r=l.ofType({key:"type",defaultKeyValue:"button",base:m,typeMap:{button:k,toggle:z,slider:c}});var h=l.ofType(r);return function(c){function a(a){a=c.call(this)||this;a._handles=new n;a._layerViewPromise=null;a.actionsSections=new h;a.actionsOpen=!1;a.children=new (l.ofType(k));a.error=null;a.layer=null;a.layerView=null;a.open=!1;a.panel=null;a.parent=null;a.view=null;a.visible=null;return a}y(a,c);k=a;a.prototype.initialize=function(){var a=this;this._handles.add([q.init(this,
"layer",function(c){return a._watchLayerProperties(c)}),q.init(this,"view",function(c){return a._updateChildren(c)}),q.init(this,"panel",function(c){return a._setListItemOnPanel(c)}),q.init(this,["layer","view"],function(){return a._getLayerView()})])};a.prototype.destroy=function(){this._layerViewPromise=null;this._handles.destroy();this.view=this._handles=null};a.prototype.castPanel=function(a){this.get("panel.open")&&!a.hasOwnProperty("open")&&(a.open=!0);return a?new B(a):null};Object.defineProperty(a.prototype,
"title",{get:function(){var a=this.get("layer.layer");return(!a||a&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"updating",{get:function(){var a=this.layerView;return a?a.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"visibleAtCurrentScale",{get:function(){return!e.isLayerOutsideScaleRange(this.layer,
this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"visibilityMode",{get:function(){return e.findLayerVisibilityMode(this.layer)},enumerable:!0,configurable:!0});a.prototype.clone=function(){return new k({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};a.prototype._setListItemOnPanel=function(a){a&&
(a.listItem=this)};a.prototype._updateChildren=function(a){var c=this.children;c&&c.forEach(function(c){return c.view=a})};a.prototype._addChildren=function(a){var c=this;this.children.removeAll();if(a){this._handles.remove("child-list-mode");a.forEach(function(b){c._handles.add(q.watch(b,"listMode",function(){return c._addChildren(a)}),"child-list-mode")});var b=[];a.filter(function(a){return"hide"!==e.findLayerListMode(a)}).forEach(function(a){e.canDisplayLayer(a)&&(a=new k({layer:a,parent:c,view:c.view}),
b.unshift(a))});this.children.addMany(b)}};a.prototype._watchSublayerChanges=function(a){var c=this;a&&this._handles.add(a.on("change",function(){c._addChildren(a)}),"layer")};a.prototype._initializeChildLayers=function(a){this._addChildren(a);this._watchSublayerChanges(a)};a.prototype._watchLayerProperties=function(a){var c=this;if(this._handles&&(this._handles.remove("layer"),a)){var b=e.getNormalizedChildLayerProperty(a);b&&this._handles.add(q.init(a,b,function(){a.hasOwnProperty(b)&&c._initializeChildLayers(a[b])}),
"layer")}};a.prototype._getLayerView=function(){var a=this,c=this.layer,b=this.view;if(c&&b){var f=this._layerViewPromise=v.typeCast(b)().whenLayerView(c);f.then(function(c){f===a._layerViewPromise&&(a._layerViewPromise=null,a._set("layerView",c))}).catch(function(){f===a._layerViewPromise&&(a._layerViewPromise=null)})}};a.prototype._isLayerUpdating=function(a){return a instanceof A?!1:a&&"loading"===a.loadStatus};var k;b([g.property({type:h})],a.prototype,"actionsSections",void 0);b([g.property()],
a.prototype,"actionsOpen",void 0);b([g.property({type:l})],a.prototype,"children",void 0);b([g.aliasOf("layer.loadError?")],a.prototype,"error",void 0);b([g.property()],a.prototype,"layer",void 0);b([g.property({readOnly:!0})],a.prototype,"layerView",void 0);b([g.property()],a.prototype,"open",void 0);b([g.property({type:B})],a.prototype,"panel",void 0);b([g.cast("panel")],a.prototype,"castPanel",null);b([g.property()],a.prototype,"parent",void 0);b([g.property({dependsOn:["layer.layer?.loaded","layer.title"]})],
a.prototype,"title",null);b([g.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],a.prototype,"updating",null);b([g.property({value:null})],a.prototype,"view",void 0);b([g.aliasOf("layer.visible")],a.prototype,"visible",void 0);b([g.property({dependsOn:["layer.minScale?","layer.maxScale?","view.scale"],readOnly:!0})],a.prototype,"visibleAtCurrentScale",null);b([g.property({dependsOn:["layer.visibilityMode?","layer.capabilities?.exportMap?.supportsSublayerVisibility","layer.layer?.capabilities?.exportMap?.supportsSublayerVisibility"],
readOnly:!0})],a.prototype,"visibilityMode",null);return a=k=b([g.subclass("esri.widgets.LayerList.ListItem")],a)}(g.declared(u,p.Identifiable))})},"esri/layers/support/Sublayer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/paramHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../PopupTemplate ../../renderers ../../symbols ../../core/Collection ../../core/Error ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../core/accessorSupport/write ./commonProperties ./LabelClass ./layerSourceUtils ../../renderers/support/jsonUtils ../../tasks/support/Query".split(" "),
function(r,w,y,b,u,l,v,n,p,q,g,A,m,k,c,z,B,e,h,a,f,x,t,G,F){var D=c.getLogger("esri.layers.support.Sublayer"),H=0;return function(c){function d(a){a=c.call(this,a)||this;a._sublayersHandles=null;return a}y(d,c);m=d;Object.defineProperty(d.prototype,"definitionExpression",{get:function(){return this._get("definitionExpression")},set:function(a){this._setAndNotifyLayer("definitionExpression",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"id",{get:function(){var a=this._get("id");
return null==a?H++:a},set:function(a){this._get("id")!==a&&(!1===this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._logLockedError("id"):this._set("id",a))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"labelingInfo",{get:function(){return this._get("labelingInfo")},set:function(a){this._setAndNotifyLayer("labelingInfo",a)},enumerable:!0,configurable:!0});d.prototype.writeLabelingInfo=function(a,c,b,f){(!f||f.writeAsDynamic)&&a&&a.length&&(c.layerDefinition=
{drawingInfo:{labelingInfo:a.map(function(a){return a.write({},f)})}})};Object.defineProperty(d.prototype,"labelsVisible",{get:function(){return this._get("labelsVisible")},set:function(a){this._setAndNotifyLayer("labelsVisible",a)},enumerable:!0,configurable:!0});d.prototype.writeLabelsVisible=function(a,c,b,f){if(!f||f.writeAsDynamic)c.showLabels=a};Object.defineProperty(d.prototype,"layer",{set:function(a){this._set("layer",a);this.sublayers&&this.sublayers.forEach(function(c){return c.layer=a})},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"legendEnabled",{get:function(){return this._get("legendEnabled")},set:function(a){this._set("legendEnabled",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"listMode",{get:function(){return this._get("listMode")},set:function(a){this._set("listMode",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"minScale",{get:function(){return this._get("minScale")},set:function(a){this._setAndNotifyLayer("minScale",
a)},enumerable:!0,configurable:!0});d.prototype.readMinScale=function(a,c){return c.minScale||c.layerDefinition&&c.layerDefinition.minScale||0};d.prototype.writeMinScale=function(a,c,b,f){if(f&&f.writeOverridesOnly&&(b=f&&f.serviceSublayer)&&b.minScale===a&&b.maxScale===this.maxScale)return;c.minScale=a};Object.defineProperty(d.prototype,"maxScale",{get:function(){return this._get("maxScale")},set:function(a){this._setAndNotifyLayer("maxScale",a)},enumerable:!0,configurable:!0});d.prototype.readMaxScale=
function(a,c){return c.maxScale||c.layerDefinition&&c.layerDefinition.maxScale||0};d.prototype.writeMaxScale=function(a,c,b,f){if(f&&f.writeOverridesOnly&&(b=f&&f.serviceSublayer)&&b.maxScale===a&&b.minScale===this.minScale)return;c.maxScale=a};Object.defineProperty(d.prototype,"opacity",{get:function(){return this._get("opacity")},set:function(a){this._setAndNotifyLayer("opacity",a)},enumerable:!0,configurable:!0});d.prototype.readOpacity=function(a,c){a=c.layerDefinition;return 1-.01*(null!=a.transparency?
a.transparency:a.drawingInfo.transparency)};d.prototype.writeOpacity=function(a,c,b,f){if(!f||f.writeAsDynamic)c.layerDefinition={drawingInfo:{transparency:100-100*a}}};d.prototype.writeParent=function(a,c,b,f){f&&f.writeOverridesOnly||(c.parentLayerId=this.parent&&this.parent!==this.layer?this.parent.id:-1)};Object.defineProperty(d.prototype,"popupEnabled",{get:function(){return this._get("popupEnabled")},set:function(a){this._set("popupEnabled",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,
"popupTemplate",{get:function(){return this._get("popupTemplate")},set:function(a){this._set("popupTemplate",a)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"renderer",{get:function(){return this._get("renderer")},set:function(a){if(a)for(var c=0,b=a.getSymbols();c<b.length;c++)if(q.isSymbol3D(b[c])){D.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",a)},enumerable:!0,configurable:!0});d.prototype.readRenderer=function(a,c,b){if(a=c.layerDefinition.drawingInfo.renderer||
void 0)(a=G.read(a,c,b)||void 0)||D.error("Failed to create renderer",{rendererDefinition:c.drawingInfo.renderer,layer:this,context:b});return a};d.prototype.writeRenderer=function(a,c,b,f){if(!f||f.writeAsDynamic)c.layerDefinition={drawingInfo:{renderer:a.toJSON()}}};d.prototype.writeWebSceneRenderer=function(a,c,b,f){if(!f||f.writeAsDynamic)c.layerDefinition={drawingInfo:{renderer:a.toJSON()}}};Object.defineProperty(d.prototype,"source",{get:function(){return this._get("source")||{mapLayerId:this.id,
type:t.MAPLAYER}},set:function(a){this._setAndNotifyLayer("source",a)},enumerable:!0,configurable:!0});d.prototype.writeSource=function(a,c,b,f){f&&!f.writeAsDynamic&&f.writeOverridesOnly||(c.layerDefinition={source:t.sourceToJSON(a)})};Object.defineProperty(d.prototype,"sublayers",{set:function(a){this._handleSublayersChange(a,this._get("sublayers"));this._set("sublayers",a)},enumerable:!0,configurable:!0});d.prototype.castSublayers=function(a){return h.default(g.ofType(m),a)};d.prototype.writeSublayers=
function(a,c,b,f){f&&f.writeOverridesOnly||this.get("sublayers.length")&&(c[b]=this.sublayers.map(function(a){return a.id}).toArray().reverse())};Object.defineProperty(d.prototype,"title",{get:function(){return this._get("title")},set:function(a){this._set("title",a)},enumerable:!0,configurable:!0});d.prototype.writeTitle=function(a,c,b,f){if(f&&f.writeOverridesOnly&&(f=f&&f.serviceSublayer)&&f.title===a)return;c[b]=a};Object.defineProperty(d.prototype,"url",{get:function(){var a=this.layer,c=this.source;
if(!a)return null;if(t.isMapLayerSource(c))return a.parsedUrl.path+"/"+c.mapLayerId;c={layer:JSON.stringify({source:t.sourceToJSON(this.source)})};return a.parsedUrl.path+"/dynamicLayer?"+B.objectToQuery(c)},set:function(a){a?this._override("url",a):this._clearOverride("url")},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"visible",{get:function(){return this._get("visible")},set:function(a){this._setAndNotifyLayer("visible",a)},enumerable:!0,configurable:!0});d.prototype.writeVisible=
function(a,c,b,f){if(f&&f.writeOverridesOnly&&(f=f&&f.serviceSublayer)&&f.visible===a)return;c[b]=a};d.prototype.clone=function(){var a=new m;this.hasOwnProperty("definitionExpression")&&(a.definitionExpression=this.definitionExpression);this.hasOwnProperty("id")&&(a.id=this.id);this.hasOwnProperty("labelingInfo")&&(a.labelingInfo=k.clone(this.labelingInfo));this.hasOwnProperty("labelsVisible")&&(a.labelsVisible=this.labelsVisible);this.hasOwnProperty("legendEnabled")&&(a.legendEnabled=this.legendEnabled);
this.hasOwnProperty("visible")&&(a.visible=this.visible);this.hasOwnProperty("layer")&&(a.layer=this.layer);this.hasOwnProperty("minScale")&&(a.minScale=this.minScale);this.hasOwnProperty("maxScale")&&(a.maxScale=this.maxScale);this.hasOwnProperty("opacity")&&(a.opacity=this.opacity);this.hasOwnProperty("parent")&&(a.parent=this.parent);this.hasOwnProperty("popupEnabled")&&(a.popupEnabled=this.popupEnabled);this.hasOwnProperty("popupTemplate")&&(a.popupTemplate=this.popupTemplate?this.popupTemplate.clone():
this.popupTemplate);this.hasOwnProperty("renderer")&&(a.renderer=this.renderer?this.renderer.clone():this.renderer);this.hasOwnProperty("source")&&(a.source=k.clone(this.source));this.hasOwnProperty("sublayers")&&(a.sublayers=this.sublayers?this.sublayers.clone():this.sublayers);this.hasOwnProperty("title")&&(a.title=this.title);return a};d.prototype.createQuery=function(){return new F({returnGeometry:!0,where:this.definitionExpression||"1\x3d1"})};d.prototype.createFeatureLayer=function(){return v(this,
void 0,void 0,function(){var a,c,b,f,d;return l(this,function(x){switch(x.label){case 0:if(this.hasOwnProperty("sublayers"))return[2,null];a=this.layer&&this.layer.parsedUrl;c=this.source;b=null;a&&(b=t.isMapLayerSource(c)?a.path+"/"+c.mapLayerId:a.path+"/dynamicLayer");return[4,z.create(function(a){return r(["../FeatureLayer"],a)})];case 1:return f=x.sent(),d=new f({url:b}),this.hasOwnProperty("definitionExpression")&&(d.definitionExpression=this.definitionExpression),this.hasOwnProperty("labelingInfo")&&
(d.labelingInfo=k.clone(this.labelingInfo)),this.hasOwnProperty("labelsVisible")&&(d.labelsVisible=this.labelsVisible),this.hasOwnProperty("legendEnabled")&&(d.legendEnabled=this.legendEnabled),this.hasOwnProperty("visible")&&(d.visible=this.visible),this.hasOwnProperty("minScale")&&(d.minScale=this.minScale),this.hasOwnProperty("maxScale")&&(d.maxScale=this.maxScale),this.hasOwnProperty("opacity")&&(d.opacity=this.opacity),this.hasOwnProperty("popupTemplate")&&(d.popupTemplate=this.popupTemplate?
this.popupTemplate.clone():this.popupTemplate),this.hasOwnProperty("renderer")&&(d.renderer=this.renderer?this.renderer.clone():this.renderer),this.hasOwnProperty("source")&&t.isDataLayerSource(this.source)&&(d.dynamicDataSource=k.clone(this.source)),this.hasOwnProperty("title")&&(d.title=this.title),[2,d]}})})};d.prototype.queryFeatures=function(a,c){var b=this;void 0===a&&(a=this.createQuery());return z.all([z.create(function(a){return r(["../../tasks/operations/query"],a)}),z.create(function(a){return r(["../../tasks/support/FeatureSet"],
a)})]).then(function(f){var d=f[0].executeQuery,k=f[1];return d(b.url,F.from(a),c).then(function(a){return k.fromJSON(a.data)})}).then(function(a){a&&a.features&&a.features.forEach(function(a){a.sourceLayer=b});return a})};d.prototype.toExportImageJSON=function(){var a={id:this.id,source:t.sourceToJSON(this.source)};this.definitionExpression&&(a.definitionExpression=this.definitionExpression);if(this.renderer||this.labelingInfo||null!=this.opacity||null!=this.labelsVisible){var c=a.drawingInfo={};
this.renderer&&(c.renderer=this.renderer.toJSON());null!=this.labelsVisible&&(c.showLabels=this.labelsVisible);!1!==this.labelsVisible&&this.labelingInfo&&(c.labelingInfo=this.labelingInfo.map(function(a){return a.write({},{origin:"service"})}),c.showLabels=!0);null!=this.opacity&&(c.transparency=100-100*this.opacity)}return a};d.prototype._setAndNotifyLayer=function(a,c){var b=this.layer,f=this._get(a),d;switch(a){case "definitionExpression":d="supportsSublayerDefinitionExpression";case "minScale":case "maxScale":case "visible":d=
"supportsSublayerVisibility";break;case "labelingInfo":case "labelsVisible":case "opacity":case "renderer":case "source":d="supportsDynamicLayers"}d&&!1===this.get("layer.capabilities.exportMap."+d)?this._logLockedError(a):(this._set(a,c),f!==c&&b&&b.emit&&b.emit("sublayer-update",{propertyName:a}))};d.prototype._handleSublayersChange=function(a,c){var b=this;c&&(c.forEach(function(a){a.parent=null;a.layer=null}),this._sublayersHandles.forEach(function(a){return a.remove()}),this._sublayersHandles=
null);a&&(a.forEach(function(a){a.parent=b;a.layer=b.layer}),this._sublayersHandles=[a.on("after-add",function(a){a=a.item;a.parent=b;a.layer=b.layer}),a.on("after-remove",function(a){a=a.item;a.parent=null;a.layer=null}),a.on("before-changes",function(a){var c=b.get("layer.capabilities.exportMap.supportsSublayersChanges");null==c||c||(D.error(new A("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{layer:b})),a.preventDefault())})])};d.prototype._logLockedError=
function(a){D.error(new A("sublayer:locked","Property '"+a+"' can't be changed on Sublayer from the layer '"+this.layer.id+"'",{sublayer:this,layer:this.layer}))};var m;b([e.property({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],d.prototype,"definitionExpression",null);b([e.property({type:Number,json:{write:{ignoreOrigin:!0}}})],d.prototype,"id",null);b([e.property({value:null,type:[x],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},
write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],d.prototype,"labelingInfo",null);b([e.writer("labelingInfo")],d.prototype,"writeLabelingInfo",null);b([e.property({type:Boolean,json:{read:{source:"showLabels"},write:{target:"showLabels"}}})],d.prototype,"labelsVisible",null);b([e.writer("labelsVisible")],d.prototype,"writeLabelsVisible",null);b([e.property({value:null})],d.prototype,"layer",null);b([e.property(f.legendEnabled)],d.prototype,"legendEnabled",null);b([e.property({type:["show",
"hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],d.prototype,"listMode",null);b([e.property({type:Number,value:0,json:{write:{overridePolicy:function(c,b,f){if(a.willPropertyWrite(this,"maxScale",{},f))return{ignoreOrigin:!0}}}}})],d.prototype,"minScale",null);b([e.reader("portal-item","minScale",["minScale","layerDefinition.minScale"])],d.prototype,"readMinScale",null);b([e.writer("minScale")],d.prototype,"writeMinScale",null);b([e.property({type:Number,
value:0,json:{write:{overridePolicy:function(c,b,f){if(a.willPropertyWrite(this,"minScale",{},f))return{ignoreOrigin:!0}}}}})],d.prototype,"maxScale",null);b([e.reader("portal-item","maxScale",["maxScale","layerDefinition.maxScale"])],d.prototype,"readMaxScale",null);b([e.writer("maxScale")],d.prototype,"writeMaxScale",null);b([e.property({type:Number,json:{write:{target:"layerDefinition.drawingInfo.transparency"}}})],d.prototype,"opacity",null);b([e.reader("opacity",["layerDefinition.drawingInfo.transparency",
"layerDefinition.transparency"])],d.prototype,"readOpacity",null);b([e.writer("opacity")],d.prototype,"writeOpacity",null);b([e.property({json:{type:Number,write:{target:"parentLayerId",allowNull:!0}}})],d.prototype,"parent",void 0);b([e.writer("parent")],d.prototype,"writeParent",null);b([e.property(f.popupEnabled)],d.prototype,"popupEnabled",null);b([e.property({value:null,type:n,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],d.prototype,"popupTemplate",null);b([e.property({types:p.rendererTypes,
value:null,json:{write:{target:"layerDefinition.drawingInfo.renderer"}}})],d.prototype,"renderer",null);b([e.reader("renderer",["layerDefinition.drawingInfo.renderer"])],d.prototype,"readRenderer",null);b([e.writer("renderer")],d.prototype,"writeRenderer",null);b([e.writer("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:p.webSceneRendererTypes}})],d.prototype,"writeWebSceneRenderer",null);b([e.property({cast:t.castSource,json:{read:{source:"layerDefinition.source",reader:t.sourceFromJSON},
write:{target:"layerDefinition.source"}}})],d.prototype,"source",null);b([e.writer("source")],d.prototype,"writeSource",null);b([e.property({value:null,json:{type:[h.Integer],write:{target:"subLayerIds",allowNull:!0}}})],d.prototype,"sublayers",null);b([e.cast("sublayers")],d.prototype,"castSublayers",null);b([e.writer("sublayers")],d.prototype,"writeSublayers",null);b([e.property({type:String,value:null,json:{read:{source:"name"},write:{target:"name",allowNull:!0,ignoreOrigin:!0}}})],d.prototype,
"title",null);b([e.writer("title")],d.prototype,"writeTitle",null);b([e.property({type:String,dependsOn:["layer","source"],json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:function(){return{enabled:this._isOverridden("url")}}}}})],d.prototype,"url",null);b([e.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility"}}})],d.prototype,"visible",null);b([e.writer("visible")],d.prototype,"writeVisible",null);return d=m=b([e.subclass("esri.layers.support.Sublayer")],
d)}(e.declared(m))})},"esri/support/actions/ActionSlider":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(r,w,y,b,u,l){return function(l){function n(b){b=l.call(this)||this;b.displayValueEnabled=!1;b.max=1;b.min=0;b.step=.1;b.type="slider";b.value=null;return b}y(n,l);p=n;n.prototype.clone=function(){return new p({active:this.active,className:this.className,disabled:this.disabled,
id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var p;b([u.property()],n.prototype,"displayValueEnabled",void 0);b([u.property()],n.prototype,"max",void 0);b([u.property()],n.prototype,"min",void 0);b([u.property()],n.prototype,"step",void 0);b([u.property()],n.prototype,"value",void 0);return n=p=b([u.subclass("esri.support.Action.ActionSlider")],n)}(u.declared(l))})},
"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget".split(" "),function(r,w,y,b,u,l,v,n,p,q,g){return function(l){function m(b){b=l.call(this)||this;b._legend=null;b._handles=new u;b.content=null;b.image=null;b.listItem=null;b.open=!1;b.visible=
!0;return b}y(m,l);m.prototype.postInitialize=function(){var b=this;this.own([n.init(this,"content",function(c){return b._createLegend(c)})])};m.prototype.destroy=function(){var b=this._legend;b&&b.destroy();this._legend=null};Object.defineProperty(m.prototype,"className",{get:function(){var b=this.image,c=this._getFirstWidget();return this._get("className")||!b&&c?c.iconClass:""},set:function(b){void 0===b?this._clearOverride("className"):this._override("className",b)},enumerable:!0,configurable:!0});
Object.defineProperty(m.prototype,"title",{get:function(){var b=this._getFirstWidget();return this._get("title")||b?b.label:""},set:function(b){void 0===b?this._clearOverride("title"):this._override("title",b)},enumerable:!0,configurable:!0});m.prototype.render=function(){return g.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};m.prototype._renderContent=function(b,c){c=this._legend;var k=this.listItem;return b?"legend"===b?k&&k.view&&k.layer&&c?g.tsx("div",{class:this.classes("esri-layer-list-panel__content",
"esri-layer-list-panel__content--legend"),key:c},c.render()):null:"string"===typeof b?g.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:b,innerHTML:b}):g.isWidget(b)?g.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),key:b},b.render()):b instanceof HTMLElement?g.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:b,bind:b,
afterCreate:this._attachToNode}):null:null};m.prototype._renderContents=function(){var b=this,c=this.content;return Array.isArray(c)?c.map(function(c,k){return b._renderContent(c,k)}):this._renderContent(c,0)};m.prototype._getLegendOptions=function(b){if(b){var c=b.layer;b=b.view;if(c&&b)return{view:b,layerInfos:[{layer:c,title:""}]}}};m.prototype._createLegend=function(b){var c=this;this._hasLegend(b)&&!this._legend&&v.create(function(c){r(["../Legend"],c)}).then(function(b){var l=c._handles,e=new b(c._getLegendOptions(c.listItem));
c._legend=e;c.notifyChange("className");c.notifyChange("title");b=n.init(c,["listItem.view","listItem.layer"],function(){return c._updateLegend(e)});l.add(b,"legends");c.scheduleRender()})};m.prototype._hasLegend=function(b){return"legend"===b?!0:Array.isArray(b)?b.some(function(c){return"legend"===c}):!1};m.prototype._attachToNode=function(b){b.appendChild(this)};m.prototype._updateLegend=function(b){var c=this.listItem;if(c){var l=c.layer;b.view=c.view;b.layerInfos=[{layer:l,title:null}];this.scheduleRender()}};
m.prototype._getWidget=function(b){return"legend"===b?this._legend:g.isWidget(b)?b:null};m.prototype._getFirstWidget=function(){var b=this,c=this.content;if(Array.isArray(c)){var l=null;c.some(function(c){(c=b._getWidget(c))&&(l=c);return!!c});return l}return this._getWidget(c)};b([p.property({dependsOn:["content","image"]})],m.prototype,"className",null);b([p.property(),g.renderable()],m.prototype,"content",void 0);b([p.property()],m.prototype,"image",void 0);b([p.property()],m.prototype,"listItem",
void 0);b([p.property({dependsOn:["content"]})],m.prototype,"title",null);b([p.property(),g.renderable()],m.prototype,"open",void 0);b([p.property()],m.prototype,"visible",void 0);return m=b([p.subclass("esri.widgets.LayerList.ListItemPanel")],m)}(p.declared(q,l.Identifiable))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require","exports"],function(r,w){function y(b){if(b)return b.hasOwnProperty("listMode")?b.listMode:void 0}function b(b){if(b)return b.hasOwnProperty("minScale")?
b.minScale:void 0}function u(b){if(b)return b.hasOwnProperty("maxScale")?b.maxScale:void 0}Object.defineProperty(w,"__esModule",{value:!0});w.findLayerListMode=y;w.findLayerMinScale=b;w.findLayerMaxScale=u;w.findLayerVisibilityMode=function(b){if(!b)return"inherited";var l=b.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===typeof l)return l?"independent":"inherited";l=b.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof l?l?"independent":
"inherited":b.hasOwnProperty("visibilityMode")?b.visibilityMode:"independent"};w.getNormalizedChildLayerProperty=function(b){if(b&&"hide-children"!==b.listMode&&"wmts"!==b.type)return"group"===b.type?"layers":"sublayers"};w.canDisplayLayer=function(b){return"hide"!==y(b)};w.isLayerOutsideScaleRange=function(l,v){if(!l||isNaN(v))return!1;var n=b(l);l=u(l);n=!isNaN(n)&&0<n&&v>=n;v=!isNaN(l)&&0<l&&v<=l;return n||v}})},"*now":function(r){r(['dojo/i18n!*preload*esri/widgets/nls/LayerList*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Collection ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./support/widget".split(" "),function(r,w,y,b,u,l,v,n,p,q,g,A,m,k,c){function z(c){var b=c.children;c.actionsOpen&&(c.actionsOpen=!1);b.forEach(function(a){return z(a)})}var B=
n.ofType(k);return function(e){function h(a){a=e.call(this)||this;a._handles=new p;a.iconClass="esri-icon-layers";a.label=v.widgetLabel;a.listItemCreatedFunction=null;a.operationalItems=null;a.selectionEnabled=!1;a.selectedItems=new B;a.statusIndicatorsVisible=!0;a.view=null;a.viewModel=new m;return a}y(h,e);h.prototype.postInitialize=function(){var a=this,c=this.operationalItems;this.own(q.on(this,"operationalItems","change",function(){return a._itemsChanged(c)}))};h.prototype.destroy=function(){this._handles.destroy();
this._handles=null};h.prototype.triggerAction=function(a,c){};h.prototype.render=function(){var a=this,b,x=this._getItems(),t=this.get("viewModel.state"),x=0===x.length?c.tsx("div",{class:"esri-layer-list__no-items"},v.noItemsToDisplay):c.tsx("ul",{class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},x.map(function(c,b){return a._renderItem(c,null)})),t=(b={},b["esri-hidden"]="loading"===t,b["esri-disabled"]="disabled"===t,b);return c.tsx("div",
{class:this.classes("esri-layer-list esri-widget esri-widget--panel",t)},x)};h.prototype._getItems=function(){var a=this;return this.operationalItems.toArray().filter(function(c){return a.errorsVisible||!c.error})};h.prototype._getSingleActionButton=function(a){return a.actionsSections.reduce(function(a){return a}).filter(function(a){return a&&"button"===a.type}).getItemAt(0)};h.prototype._renderItem=function(a,b){var f=this,t,e,h,g,k=this.id+"_"+a.uid,m=k+"_actions",d=k+"__list",k=k+"__title",n=
!!a.error,p=!!a.children.length&&!n,q=n?v.layerError:"",r=a.visibilityMode,w=a.children&&a.children.toArray(),y=(t={},t["esri-layer-list__list--exclusive"]="exclusive"===r,t["esri-layer-list__list--inherited"]="inherited"===r,t["esri-layer-list__list--independent"]="inherited"!==r&&"exclusive"!==r,t);t=(e={},e["esri-layer-list__item--has-children"]=p,e["esri-layer-list__item--error"]=!!n,e["esri-layer-list__item--updating"]=a.updating&&!b&&this.statusIndicatorsVisible,e["esri-layer-list__item--invisible-at-scale"]=
!a.visibleAtCurrentScale,e["esri-layer-list__item--selectable"]=this.selectionEnabled,e);var z=this._countActions(a.actionsSections),C=a.panel;e=C&&C.open?C.render():null;var C=C&&C.visible?this._renderPanelButton(C):null,A=(h={},h["esri-layer-list__item-actions-menu-item--active"]=a.actionsOpen,h),B=a.actionsOpen?l.close:l.open,E=1===z&&this._getSingleActionButton(a);h=E?this._renderAction({item:a,action:E,singleAction:!0}):null;h=(A=!E&&z?c.tsx("div",{key:"actions-menu-toggle","data-item":a,bind:this,
onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",A),tabindex:"0",role:"button","aria-controls":m,"aria-label":B,title:B},c.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||C||h?c.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},C,h,A):null;m=z?this._renderActionsSections(a,a.actionsSections,m):null;r=p?c.tsx("ul",{key:"esri-layer-list__list-items",id:d,
class:this.classes("esri-layer-list__list",y),"aria-expanded":a.open?"true":"false",role:"exclusive"===r?"radiogroup":"group",hidden:a.open?null:!0},w.map(function(b){return f._renderItem(b,a)})):null;w=(g={},g["esri-layer-list__child-toggle--open"]=a.open,g);g=a.open?l.collapse:l.expand;d=p?c.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":a,key:"esri-layer-list__toggle-children",class:this.classes("esri-layer-list__child-toggle",w),tabindex:"0",role:"button",
"aria-controls":d,"aria-label":g,title:g},c.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),c.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),c.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;b=this._createLabelNode(a,b,k);n=n?c.tsx("div",{key:"esri-layer-list__error",
class:"esri-layer-list__item-error-message",role:"alert"},c.tsx("span",null,q)):null;q=-1<this.selectedItems.indexOf(a);q=this.selectionEnabled?{bind:this,onclick:this._toggleSelection,onkeydown:this._toggleSelection,"data-item":a,tabIndex:0,"aria-checked":q?"true":"false",role:"checkbox","aria-labelledby":k}:{bind:void 0,onclick:void 0,onkeydown:void 0,"data-item":void 0,tabIndex:void 0,"aria-checked":void 0,role:void 0,"aria-labelledby":void 0};return c.tsx("li",{key:a,class:this.classes("esri-layer-list__item",
t),"aria-labelledby":k},c.tsx("div",u({key:"esri-layer-list__list-item-container",class:"esri-layer-list__item-container"},q),d,b,h),n,m,e,r)};h.prototype._createLabelNode=function(a,b,x){var f,e=this.selectionEnabled;b=b&&b.visibilityMode;var h=(f={},f["esri-icon-radio-checked"]="exclusive"===b&&a.visible,f["esri-icon-radio-unchecked"]="exclusive"===b&&!a.visible,f["esri-icon-visible"]="exclusive"!==b&&a.visible,f["esri-icon-non-visible"]="exclusive"!==b&&!a.visible,f),g="exclusive"===b?"radio":
"switch";f=a.title||v.untitledLayer;var k=a.visibleAtCurrentScale?f:f+" ("+v.layerInvisibleAtScale+")";f=c.tsx("span",{id:x,title:k,"aria-label":k,class:"esri-layer-list__item-title"},f);h=c.tsx("span",{class:this.classes("esri-layer-list__item-toggle-icon",h),"aria-hidden":"true"});x={bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":a,"data-parent-visibility":b,tabIndex:0,"aria-checked":a.visible?"true":"false",role:g,"aria-labelledby":x};g={bind:void 0,onclick:void 0,
onkeydown:void 0,"data-item":void 0,"data-parent-visibility":void 0,tabIndex:void 0,"aria-checked":void 0,role:void 0,"aria-labelledby":void 0};k=e?x:g;e=c.tsx("div",u({key:a,class:"esri-layer-list__item-label"},e?g:x),c.tsx("span",u({class:"esri-layer-list__item-toggle"},k),h),f);h=(x=!!a.error)?c.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}):null;return"inherited"===b||x?c.tsx("div",{key:a,class:"esri-layer-list__item-label"},h,f):e};h.prototype._renderPanelButton=function(a){var b,
e,h=a.className,g=a.open,k=a.title,h=a.image||h?h:"esri-icon-default-action",l=this._getIconImageStyles(a),g=(b={},b["esri-layer-list__item-actions-menu-item--active"]=g,b);b=(e={},e["esri-layer-list__item-action-image"]=!!l["background-image"],e);h&&(b[h]=!!h);return c.tsx("div",{key:a,bind:this,"data-panel":a,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",g),role:"button",tabindex:"0",title:k,"aria-label":k},c.tsx("span",{class:this.classes(b),
styles:l}))};h.prototype._watchActionSectionChanges=function(a,b){var c=this,f="action-section"+b;this._handles.add(a.on("change",this.scheduleRender.bind(this)),f);a.forEach(function(a){return c._renderOnActionChanges(a,b)})};h.prototype._renderOnActionChanges=function(a,b){var c=this;b="actions"+b;"toggle"===a.type?this._handles.add([q.init(a,"className image id title visible value".split(" "),function(){return c.scheduleRender()})],b):"slider"===a.type?this._handles.add([q.init(a,"className id title visible value displayValueEnabled max min step".split(" "),
function(){return c.scheduleRender()})],b):this._handles.add([q.init(a,["className","image","id","title","visible"],function(){return c.scheduleRender()})],b)};h.prototype._renderOnItemChanges=function(a){var b=this,c=a.uid,e="items"+c;this._handles.add([q.init(a,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),function(){return b.scheduleRender()}),a.actionsSections.on("change",function(){return b.scheduleRender()}),
a.children.on("change",function(){return b.scheduleRender()})],e);a.children.forEach(function(a){return b._renderOnItemChanges(a)});a.actionsSections.forEach(function(a){return b._watchActionSectionChanges(a,c)})};h.prototype._itemsChanged=function(a){var b=this;this._handles.removeAll();a.forEach(function(a){return b._renderOnItemChanges(a)});this.scheduleRender()};h.prototype._renderActionsSections=function(a,b,e){var f=this;b=b.toArray().map(function(b){return c.tsx("ul",{key:b,class:"esri-layer-list__item-actions-list"},
f._renderActionSection(a,b))});return c.tsx("div",{role:"group","aria-expanded":a.actionsOpen?"true":"false",key:"esri-layer-list__actions-section",id:e,class:"esri-layer-list__item-actions",hidden:a.actionsOpen?null:!0},b)};h.prototype._renderActionSection=function(a,b){var c=this;return(b&&b.toArray()).map(function(b){return c._renderAction({item:a,action:b})})};h.prototype._renderAction=function(a){var b,e,h=a.item,g=a.action;a=a.singleAction;var k=this._getIconImageStyles(g),l=g.active,m=g.className,
n=g.disabled,d=g.title,m="button"!==g.type||g.image||m?m:"esri-icon-default-action",n=(b={},b["esri-layer-list__item-actions-menu-item"]=a&&"button"===g.type,b["esri-layer-list__item-action"]=!a&&"toggle"!==g.type,b["esri-layer-list__action-toggle"]="toggle"===g.type,b["esri-layer-list__action-toggle--on"]="toggle"===g.type&&g.value,b["esri-disabled-element"]=n,b);b=(e={},e["esri-layer-list__item-action-image"]=!l&&!!k["background-image"],e["esri-icon-loading-indicator"]=l,e["esri-rotating"]=l,e);
m&&(b[m]=!0);e=c.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",b),styles:k});b=a?null:c.tsx("span",{class:"esri-layer-list__item-action-title"},d);e=[e,b];return a?c.tsx("div",{bind:this,"data-item":h,"data-action":g,role:"button",key:g,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:"0",title:d,"aria-label":d},e):c.tsx("li",{bind:this,"data-item":h,"data-action":g,key:g,onclick:this._triggerAction,onkeydown:this._triggerAction,
classes:n,tabindex:"0",role:"button",title:d,"aria-label":d},e)};h.prototype._countActions=function(a){return a.reduce(function(a,b){return a+b.length},0)};h.prototype._getIconImageStyles=function(a){a="esri.widgets.LayerList.ListItemPanel"===a.declaredClass||"esri.support.Action.ActionButton"===a.declaredClass||"esri.support.Action.ActionToggle"===a.declaredClass?a.image:null;return{"background-image":a?'url("'+a+'")':null}};h.prototype._toggleActionsOpen=function(a){var b=a.currentTarget["data-item"],
c=!b.actionsOpen;c&&this.operationalItems.forEach(function(a){return z(a)});b.actionsOpen=c;a.stopPropagation()};h.prototype._triggerPanel=function(a){var b=a.currentTarget["data-panel"];b&&(b.open=!b.open);a.stopPropagation()};h.prototype._triggerAction=function(a){var b=a.currentTarget,c=b["data-action"],b=b["data-item"];"toggle"===c.type&&(c.value=!c.value);this.triggerAction(c,b);a.stopPropagation()};h.prototype._toggleVisibility=function(a){var b=a.currentTarget,c=b.getAttribute("data-parent-visibility"),
b=b["data-item"];"exclusive"===c&&b.visible||(b.visible=!b.visible);a.stopPropagation()};h.prototype._toggleChildrenClick=function(a){var b=a.currentTarget["data-item"];b.open=!b.open;a.stopPropagation()};h.prototype._toggleSelection=function(a){var b=a.metaKey||a.ctrlKey;a=a.currentTarget["data-item"];var c=this.selectedItems,e=-1<c.indexOf(a),g=c.length,h=e&&1===g;b?e?c.remove(a):c.add(a):g&&!h?(c.removeAll(),c.add(a)):e?c.remove(a):c.add(a)};b([g.property()],h.prototype,"iconClass",void 0);b([g.property(),
c.renderable()],h.prototype,"errorsVisible",void 0);b([g.property()],h.prototype,"label",void 0);b([g.aliasOf("viewModel.listItemCreatedFunction"),c.renderable()],h.prototype,"listItemCreatedFunction",void 0);b([g.aliasOf("viewModel.operationalItems"),c.renderable()],h.prototype,"operationalItems",void 0);b([g.property(),c.renderable()],h.prototype,"selectionEnabled",void 0);b([g.property(),c.renderable()],h.prototype,"selectedItems",void 0);b([g.property(),c.renderable()],h.prototype,"statusIndicatorsVisible",
void 0);b([g.aliasOf("viewModel.view"),c.renderable()],h.prototype,"view",void 0);b([c.vmEvent("trigger-action"),g.property({type:m}),c.renderable("viewModel.state")],h.prototype,"viewModel",void 0);b([g.aliasOf("viewModel.triggerAction")],h.prototype,"triggerAction",null);b([c.accessibleHandler()],h.prototype,"_toggleActionsOpen",null);b([c.accessibleHandler()],h.prototype,"_triggerPanel",null);b([c.accessibleHandler()],h.prototype,"_triggerAction",null);b([c.accessibleHandler()],h.prototype,"_toggleVisibility",
null);b([c.accessibleHandler()],h.prototype,"_toggleChildrenClick",null);b([c.accessibleHandler()],h.prototype,"_toggleSelection",null);return h=b([g.subclass("esri.widgets.LayerList")],h)}(g.declared(A))});