// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ./DefaultTextureUnits ./GLMaterial ../materials/internal/MaterialUtil".split(" "),function(q,r,n,b,p,d){return function(g){function c(a,e,b,c,h,k,l,m,f){void 0===f&&(f=!1);a=g.call(this,a,e)||this;a.textureRep=b;a.textureId=c;a.initTransparent=f;a.glTextureRef=d.acquireIfNotUndefined(a.textureId,b,a.initTransparent);h&&(a.glTextureRefNormal=d.acquireIfNotUndefined(h,b,a.initTransparent));k&&(a.glTextureRefEmission=d.acquireIfNotUndefined(k,
b,a.initTransparent));l&&(a.glTextureRefOcclusion=d.acquireIfNotUndefined(l,b,a.initTransparent));m&&(a.glTextureRefRoughnessMetallness=d.acquireIfNotUndefined(m,b,a.initTransparent));return a}n(c,g);c.prototype.dispose=function(){d.releaseIfNotUndefined(this.textureId,this.textureRep)};c.prototype.updateTexture=function(a){a!==this.textureId&&(d.releaseIfNotUndefined(this.textureId,this.textureRep),this.textureId=a,this.glTextureRef=d.acquireIfNotUndefined(this.textureId,this.textureRep,this.initTransparent))};
c.prototype.bindTexture=function(a,e){null!=this.glTextureRef&&(e.setUniform1i("tex",b.DefaultTextureUnits.DIFFUSE),a.bindTexture(this.glTextureRef.getGLTexture(),b.DefaultTextureUnits.DIFFUSE));this.glTextureRefNormal&&(e.setUniform1i("texNormal",b.DefaultTextureUnits.NORMAL),a.bindTexture(this.glTextureRefNormal.getGLTexture(),b.DefaultTextureUnits.NORMAL));this.glTextureRefEmission&&(e.setUniform1i("texEmission",b.DefaultTextureUnits.EMISSION),a.bindTexture(this.glTextureRefEmission.getGLTexture(),
b.DefaultTextureUnits.EMISSION));this.glTextureRefOcclusion&&(e.setUniform1i("texOcclusion",b.DefaultTextureUnits.OCCLUSION),a.bindTexture(this.glTextureRefOcclusion.getGLTexture(),b.DefaultTextureUnits.OCCLUSION));this.glTextureRefRoughnessMetallness&&(e.setUniform1i("texMetallicRoughness",b.DefaultTextureUnits.METALLIC_ROUGHNESS),a.bindTexture(this.glTextureRefRoughnessMetallness.getGLTexture(),b.DefaultTextureUnits.METALLIC_ROUGHNESS))};c.prototype.bindTextureSize=function(a,b){null!=this.glTextureRef&&
(a=this.glTextureRef.getGLTexture(),b.setUniform2f("texSize",a.descriptor.width,a.descriptor.height))};c.prototype.bindTextureScale=function(a,b){(a=this.glTextureRef&&this.glTextureRef.getGLTexture())&&a.descriptor.textureCoordinateScaleFactor?b.setUniform2fv("textureCoordinateScaleFactor",a.descriptor.textureCoordinateScaleFactor):b.setUniform2f("textureCoordinateScaleFactor",1,1)};return c}(p)});