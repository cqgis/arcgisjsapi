// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/meshUtils/deduplicate":function(){define(["require","exports","../../../core/mathUtils"],function(p,a,k){function d(a,d,n,l){void 0===l&&(l=0);var t=a.byteLength/(4*d),b=new Uint32Array(a,0,t*d);a=new Uint32Array(t);var f=Math.floor(1.1*t)+1;if(null==g||g.length<2*f)g=new Uint32Array(k.nextHighestPowerOfTwo(2*f));for(var c=0;c<2*f;c++)g[c]=0;for(var e=0,h=0!==l?Math.ceil(7.84*1.96/(l*l)*l*(1-l)):t,c=0;c<t;c++){if(c===h){var u=1-e/c;if(u+1.96*Math.sqrt(u*(1-u)/
c)<l)return null;h*=2}for(var u=c*d,q,v=q=0;v<d;v++)q=b[u+v]+q|0,q=q+(q<<11)+(q>>>2)|0;q>>>=0;for(var v=q%f,w=e;0!==g[2*v+1];){if(g[2*v]===q){var m=g[2*v+1]-1,r=m*d;a:{for(var B=0;B<d;B++)if(b[u+B]!==b[r+B]){r=!1;break a}r=!0}if(r){w=a[m];break}}v++;v>=f&&(v-=f)}w===e&&(g[2*v]=q,g[2*v+1]=c+1,e++);a[c]=w}if(0!==l&&1-e/t<l)return null;l=new Uint32Array(d*e);for(c=e=0;c<t;c++)if(a[c]===e){f=b;h=c*d;u=l;q=e*d;v=d;for(w=0;w<v;w++)u[q+w]=f[h+w];e++}if(n){d=new Uint32Array(n.length);for(c=0;c<d.length;c++)d[c]=
a[n[c]];a=d}return{buffer:l.buffer,indices:a,uniqueCount:e}}Object.defineProperty(a,"__esModule",{value:!0});a.deduplicate=d;var g=null;a.default=d})},"esri/views/3d/support/meshProcessing":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});a.computeNeighbors=function(a,d){for(var g=a.length/3,m=new Uint32Array(d+1),k=new Uint32Array(d+1),n=function(b,f){b<f?m[b+1]++:k[f+1]++},l=0;l<g;l++){var t=a[3*l],b=a[3*l+1],f=a[3*l+2];n(t,b);n(b,f);n(f,t)}for(l=
b=t=0;l<d;l++)f=m[l+1],n=k[l+1],m[l+1]=t,k[l+1]=b,t+=f,b+=n;for(var c=new Uint32Array(6*g),e=m[d],n=function(b,f,q){if(b<f){var a=m[b+1]++;c[2*a]=f;c[2*a+1]=q}else a=k[f+1]++,c[2*e+2*a]=b,c[2*e+2*a+1]=q},l=0;l<g;l++)t=a[3*l],b=a[3*l+1],f=a[3*l+2],n(t,b,l),n(b,f,l),n(f,t,l);t=function(b,f){var e=2*b;b=f-b;for(f=1;f<b;f++){var q=c[e+2*f],a=c[e+2*f+1],h=f-1;for(h;0<=h&&c[e+2*h]>q;h--)c[e+2*h+2]=c[e+2*h],c[e+2*h+3]=c[e+2*h+1];c[e+2*h+2]=q;c[e+2*h+3]=a}};for(l=0;l<d;l++)t(m[l],m[l+1]),t(e+k[l],e+k[l+1]);
for(var h=new Int32Array(3*g),u=function(b,f){return b===a[3*f]?0:b===a[3*f+1]?1:b===a[3*f+2]?2:-1},g=function(b,f){b=u(b,f);h[3*f+b]=-1},t=function(b,f,c,e){b=u(b,f);h[3*f+b]=e;c=u(c,e);h[3*e+c]=f},l=0;l<d;l++){for(var b=m[l],f=m[l+1],n=k[l],q=k[l+1];b<f&&n<q;){var v=c[2*b],w=c[2*e+2*n];v===w?(t(l,c[2*b+1],w,c[2*e+2*n+1]),b++,n++):v<w?(g(l,c[2*b+1]),b++):(g(w,c[2*e+2*n+1]),n++)}for(;b<f;)g(l,c[2*b+1]),b++;for(;n<q;)w=c[2*e+2*n],g(w,c[2*e+2*n+1]),n++}return h}})},"esri/views/3d/support/buffer/workerHelper":function(){define(["require",
"exports","../../../../core/tsSupport/assignHelper","./BufferView","./InterleavedLayout"],function(p,a,k,d,g){function m(a){var g=[];a.fields.forEach(function(b,f){var c=b.constructor;b=k({},b,{constructor:c.ElementType+"_"+c.ElementCount});g.push([f,b])});return{stride:a.stride,fields:g,fieldNames:a.fieldNames}}function r(a){var d=g.newLayout();d.stride=a.stride;d.fieldNames=a.fieldNames;a.fields.forEach(function(b){return d.fields.set(b[0],k({},b[1],{constructor:n.get(b[1].constructor)}))});return d}
Object.defineProperty(a,"__esModule",{value:!0});a.packInterleavedBuffer=function(a,g){g.push(a.buffer);return{buffer:a.buffer,layout:m(a.layout)}};a.unpackInterleavedBuffer=function(a){return r(a.layout).createView(a.buffer)};a.packLayout=m;a.unpackLayout=r;p=[d.BufferViewFloat,d.BufferViewVec2f,d.BufferViewVec3f,d.BufferViewVec4f,d.BufferViewMat3f,d.BufferViewMat4f,d.BufferViewFloat64,d.BufferViewVec2f64,d.BufferViewVec3f64,d.BufferViewVec4f64,d.BufferViewMat3f64,d.BufferViewMat4f64,d.BufferViewUint8,
d.BufferViewVec2u8,d.BufferViewVec3u8,d.BufferViewVec4u8,d.BufferViewUint16,d.BufferViewVec2u16,d.BufferViewVec3u16,d.BufferViewVec4u16,d.BufferViewUint32,d.BufferViewVec2u32,d.BufferViewVec3u32,d.BufferViewVec4u32,d.BufferViewInt8,d.BufferViewVec2i8,d.BufferViewVec3i8,d.BufferViewVec4i8,d.BufferViewInt16,d.BufferViewVec2i16,d.BufferViewVec3i16,d.BufferViewVec4i16,d.BufferViewInt32,d.BufferViewVec2i32,d.BufferViewVec3i32,d.BufferViewVec4i32];var n=new Map;p.forEach(function(a){return n.set(a.ElementType+
"_"+a.ElementCount,a)})})},"esri/views/3d/support/buffer/BufferView":function(){define("require exports ../../../../core/tsSupport/extendsHelper ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(p,a,k,d,g,m,r,n,l){Object.defineProperty(a,"__esModule",{value:!0});p=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float32Array,b,c,e,h)||this;b.elementType="f32";return b}k(b,a);b.ElementType="f32";return b}(m.BufferViewScalarImpl);
a.BufferViewFloat=p;p=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float32Array,b,c,e,h)||this;b.elementType="f32";return b}k(b,a);b.ElementType="f32";return b}(r.BufferViewVec2Impl);a.BufferViewVec2f=p;p=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float32Array,b,c,e,h)||this;b.elementType="f32";return b}k(b,a);b.ElementType="f32";return b}(n.BufferViewVec3Impl);a.BufferViewVec3f=p;p=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float32Array,
b,c,e,h)||this;b.elementType="f32";return b}k(b,a);b.ElementType="f32";return b}(l.BufferViewVec4Impl);a.BufferViewVec4f=p;p=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float32Array,b,c,e,h)||this;b.elementType="f32";return b}k(b,a);b.ElementType="f32";return b}(d.BufferViewMat3Impl);a.BufferViewMat3f=p;d=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,e,h)||this;b.elementType="f64";return b}k(b,a);b.ElementType="f64";return b}(d.BufferViewMat3Impl);
a.BufferViewMat3f64=d;d=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float32Array,b,c,e,h)||this;b.elementType="f32";return b}k(b,a);b.ElementType="f32";return b}(g.BufferViewMat4Impl);a.BufferViewMat4f=d;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,e,h)||this;b.elementType="f64";return b}k(b,a);b.ElementType="f64";return b}(g.BufferViewMat4Impl);a.BufferViewMat4f64=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float64Array,
b,c,e,h)||this;b.elementType="f64";return b}k(b,a);b.ElementType="f64";return b}(m.BufferViewScalarImpl);a.BufferViewFloat64=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,e,h)||this;b.elementType="f64";return b}k(b,a);b.ElementType="f64";return b}(r.BufferViewVec2Impl);a.BufferViewVec2f64=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,e,h)||this;b.elementType="f64";return b}k(b,a);b.ElementType="f64";return b}(n.BufferViewVec3Impl);
a.BufferViewVec3f64=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Float64Array,b,c,e,h)||this;b.elementType="f64";return b}k(b,a);b.ElementType="f64";return b}(l.BufferViewVec4Impl);a.BufferViewVec4f64=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,c,e,h)||this;b.elementType="u8";return b}k(b,a);b.ElementType="u8";return b}(m.BufferViewScalarImpl);a.BufferViewUint8=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint8Array,
b,c,e,h)||this;b.elementType="u8";return b}k(b,a);b.ElementType="u8";return b}(r.BufferViewVec2Impl);a.BufferViewVec2u8=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,c,e,h)||this;b.elementType="u8";return b}k(b,a);b.ElementType="u8";return b}(n.BufferViewVec3Impl);a.BufferViewVec3u8=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint8Array,b,c,e,h)||this;b.elementType="u8";return b}k(b,a);b.ElementType="u8";return b}(l.BufferViewVec4Impl);a.BufferViewVec4u8=
g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,e,h)||this;b.elementType="u16";return b}k(b,a);b.ElementType="u16";return b}(m.BufferViewScalarImpl);a.BufferViewUint16=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,e,h)||this;b.elementType="u16";return b}k(b,a);b.ElementType="u16";return b}(r.BufferViewVec2Impl);a.BufferViewVec2u16=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,e,h)||this;
b.elementType="u16";return b}k(b,a);b.ElementType="u16";return b}(n.BufferViewVec3Impl);a.BufferViewVec3u16=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint16Array,b,c,e,h)||this;b.elementType="u16";return b}k(b,a);b.ElementType="u16";return b}(l.BufferViewVec4Impl);a.BufferViewVec4u16=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,e,h)||this;b.elementType="u32";return b}k(b,a);b.ElementType="u32";return b}(m.BufferViewScalarImpl);a.BufferViewUint32=
g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,e,h)||this;b.elementType="u32";return b}k(b,a);b.ElementType="u32";return b}(r.BufferViewVec2Impl);a.BufferViewVec2u32=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,e,h)||this;b.elementType="u32";return b}k(b,a);b.ElementType="u32";return b}(n.BufferViewVec3Impl);a.BufferViewVec3u32=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Uint32Array,b,c,e,h)||this;
b.elementType="u32";return b}k(b,a);b.ElementType="u32";return b}(l.BufferViewVec4Impl);a.BufferViewVec4u32=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,e,h)||this;b.elementType="i8";return b}k(b,a);b.ElementType="i8";return b}(m.BufferViewScalarImpl);a.BufferViewInt8=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,e,h)||this;b.elementType="i8";return b}k(b,a);b.ElementType="i8";return b}(r.BufferViewVec2Impl);a.BufferViewVec2i8=
g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,e,h)||this;b.elementType="i8";return b}k(b,a);b.ElementType="i8";return b}(n.BufferViewVec3Impl);a.BufferViewVec3i8=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int8Array,b,c,e,h)||this;b.elementType="i8";return b}k(b,a);b.ElementType="i8";return b}(l.BufferViewVec4Impl);a.BufferViewVec4i8=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,e,h)||this;b.elementType=
"i16";return b}k(b,a);b.ElementType="i16";return b}(m.BufferViewScalarImpl);a.BufferViewInt16=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,e,h)||this;b.elementType="i16";return b}k(b,a);b.ElementType="i16";return b}(r.BufferViewVec2Impl);a.BufferViewVec2i16=g;g=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,e,h)||this;b.elementType="i16";return b}k(b,a);b.ElementType="i16";return b}(n.BufferViewVec3Impl);a.BufferViewVec3i16=g;g=
function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int16Array,b,c,e,h)||this;b.elementType="i16";return b}k(b,a);b.ElementType="i16";return b}(l.BufferViewVec4Impl);a.BufferViewVec4i16=g;m=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,e,h)||this;b.elementType="i32";return b}k(b,a);b.ElementType="i32";return b}(m.BufferViewScalarImpl);a.BufferViewInt32=m;r=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,e,h)||this;b.elementType=
"i32";return b}k(b,a);b.ElementType="i32";return b}(r.BufferViewVec2Impl);a.BufferViewVec2i32=r;n=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,e,h)||this;b.elementType="i32";return b}k(b,a);b.ElementType="i32";return b}(n.BufferViewVec3Impl);a.BufferViewVec3i32=n;l=function(a){function b(b,c,e,h){void 0===c&&(c=0);b=a.call(this,Int32Array,b,c,e,h)||this;b.elementType="i32";return b}k(b,a);b.ElementType="i32";return b}(l.BufferViewVec4Impl);a.BufferViewVec4i32=l})},
"esri/views/3d/support/buffer/internals/Mat3":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,g,m,k,n){void 0===m&&(m=0);this.TypedArrayConstructor=a;this.elementCount=9;a=this.TypedArrayConstructor;void 0===k&&(k=9*a.BYTES_PER_ELEMENT);var d=0===g.byteLength?0:m;this.typedBuffer=null==n?new a(g,d):new a(g,d,(n-m)/a.BYTES_PER_ELEMENT);this.typedBufferStride=k/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/
this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getMat=function(a,g){a*=this.typedBufferStride;for(var d=0;9>d;d++)g[d]=this.typedBuffer[a+d];return g};a.prototype.setMat=function(a,g){a*=this.typedBufferStride;for(var d=0;9>d;d++)this.typedBuffer[a+d]=g[d]};a.prototype.get=function(a,g){return this.typedBuffer[a*this.typedBufferStride+g]};a.prototype.set=function(a,g,m){this.typedBuffer[a*this.typedBufferStride+g]=m};a.prototype.copyFrom=
function(a,g,m){var d=this.typedBuffer,n=g.typedBuffer;a*=this.typedBufferStride;g=m*g.typedBufferStride;for(m=0;9>m;++m)d[a+m]=n[g+m]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0});a.ElementCount=9;return a}();a.BufferViewMat3Impl=p})},"esri/views/3d/support/buffer/internals/Mat4":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,g,m,k,n){void 0===
m&&(m=0);this.TypedArrayConstructor=a;this.elementCount=16;a=this.TypedArrayConstructor;void 0===k&&(k=16*a.BYTES_PER_ELEMENT);var d=0===g.byteLength?0:m;this.typedBuffer=null==n?new a(g,d):new a(g,d,(n-m)/a.BYTES_PER_ELEMENT);this.typedBufferStride=k/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getMat=function(a,g){a*=this.typedBufferStride;for(var d=0;16>d;d++)g[d]=
this.typedBuffer[a+d];return g};a.prototype.setMat=function(a,g){a*=this.typedBufferStride;for(var d=0;16>d;d++)this.typedBuffer[a+d]=g[d]};a.prototype.get=function(a,g){return this.typedBuffer[a*this.typedBufferStride+g]};a.prototype.set=function(a,g,m){this.typedBuffer[a*this.typedBufferStride+g]=m};a.prototype.copyFrom=function(a,g,m){var d=this.typedBuffer,n=g.typedBuffer;a*=this.typedBufferStride;g=m*g.typedBufferStride;for(m=0;16>m;++m)d[a+m]=n[g+m]};Object.defineProperty(a.prototype,"buffer",
{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0});a.ElementCount=16;return a}();a.BufferViewMat4Impl=p})},"esri/views/3d/support/buffer/internals/Scalar":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,g,m,k,n){void 0===m&&(m=0);this.TypedArrayConstructor=a;this.elementCount=1;a=this.TypedArrayConstructor;void 0===k&&(k=a.BYTES_PER_ELEMENT);var d=0===g.byteLength?0:m;this.typedBuffer=null==
n?new a(g,d):new a(g,d,(n-m)/a.BYTES_PER_ELEMENT);this.typedBufferStride=k/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.get=function(a){return this.typedBuffer[a*this.typedBufferStride]};a.prototype.set=function(a,g){this.typedBuffer[a*this.typedBufferStride]=g};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,
configurable:!0});a.ElementCount=1;return a}();a.BufferViewScalarImpl=p})},"esri/views/3d/support/buffer/internals/Vec2":function(){define(["require","exports","../../../../../core/libs/gl-matrix-2/vec2"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,d,k,n,l){void 0===k&&(k=0);this.TypedArrayConstructor=a;this.elementCount=2;a=this.TypedArrayConstructor;void 0===n&&(n=2*a.BYTES_PER_ELEMENT);var g=0===d.byteLength?0:k;this.typedBuffer=null==l?new a(d,g):
new a(d,g,(l-k)/a.BYTES_PER_ELEMENT);this.typedBufferStride=n/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getVec=function(a,d){return k.vec2.set(d,this.typedBuffer[a*this.typedBufferStride],this.typedBuffer[a*this.typedBufferStride+1])};a.prototype.setVec=function(a,d){this.typedBuffer[a*this.typedBufferStride]=d[0];this.typedBuffer[a*this.typedBufferStride+1]=d[1]};
a.prototype.get=function(a,d){return this.typedBuffer[a*this.typedBufferStride+d]};a.prototype.set=function(a,d,k){this.typedBuffer[a*this.typedBufferStride+d]=k};a.prototype.copyFrom=function(a,d,k){var g=this.typedBuffer,l=d.typedBuffer;a*=this.typedBufferStride;d=k*d.typedBufferStride;g[a]=l[d];g[a+1]=l[d+1]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0});a.ElementCount=2;return a}();a.BufferViewVec2Impl=p})},"esri/core/libs/gl-matrix-2/vec2":function(){define(["require",
"exports","./math/vec2"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.vec2=k})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require","exports","./common"],function(p,a,k){function d(b,a,c){b[0]=a[0]-c[0];b[1]=a[1]-c[1];return b}function g(b,a,c){b[0]=a[0]*c[0];b[1]=a[1]*c[1];return b}function m(b,a,c){b[0]=a[0]/c[0];b[1]=a[1]/c[1];return b}function r(b,a){var c=a[0]-b[0];b=a[1]-b[1];return Math.sqrt(c*c+b*b)}function n(b,a){var c=a[0]-b[0];b=a[1]-b[1];return c*
c+b*b}function l(b){var a=b[0];b=b[1];return Math.sqrt(a*a+b*b)}function t(b){var a=b[0];b=b[1];return a*a+b*b}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(b,a){b[0]=a[0];b[1]=a[1];return b};a.set=function(b,a,c){b[0]=a;b[1]=c;return b};a.add=function(b,a,c){b[0]=a[0]+c[0];b[1]=a[1]+c[1];return b};a.subtract=d;a.multiply=g;a.divide=m;a.ceil=function(b,a){b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b};a.floor=function(b,a){b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b};
a.min=function(b,a,c){b[0]=Math.min(a[0],c[0]);b[1]=Math.min(a[1],c[1]);return b};a.max=function(b,a,c){b[0]=Math.max(a[0],c[0]);b[1]=Math.max(a[1],c[1]);return b};a.round=function(b,a){b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);return b};a.scale=function(b,a,c){b[0]=a[0]*c;b[1]=a[1]*c;return b};a.scaleAndAdd=function(b,a,c,e){b[0]=a[0]+c[0]*e;b[1]=a[1]+c[1]*e;return b};a.distance=r;a.squaredDistance=n;a.length=l;a.squaredLength=t;a.negate=function(b,a){b[0]=-a[0];b[1]=-a[1];return b};a.inverse=
function(b,a){b[0]=1/a[0];b[1]=1/a[1];return b};a.normalize=function(b,a){var c=a[0],e=a[1],c=c*c+e*e;0<c&&(c=1/Math.sqrt(c),b[0]=a[0]*c,b[1]=a[1]*c);return b};a.dot=function(b,a){return b[0]*a[0]+b[1]*a[1]};a.cross=function(b,a,c){a=a[0]*c[1]-a[1]*c[0];b[0]=b[1]=0;b[2]=a;return b};a.lerp=function(b,a,c,e){var f=a[0];a=a[1];b[0]=f+e*(c[0]-f);b[1]=a+e*(c[1]-a);return b};a.random=function(b,a){a=a||1;var c=2*k.RANDOM()*Math.PI;b[0]=Math.cos(c)*a;b[1]=Math.sin(c)*a;return b};a.transformMat2=function(b,
a,c){var e=a[0];a=a[1];b[0]=c[0]*e+c[2]*a;b[1]=c[1]*e+c[3]*a;return b};a.transformMat2d=function(b,a,c){var e=a[0];a=a[1];b[0]=c[0]*e+c[2]*a+c[4];b[1]=c[1]*e+c[3]*a+c[5];return b};a.transformMat3=function(b,a,c){var e=a[0];a=a[1];b[0]=c[0]*e+c[3]*a+c[6];b[1]=c[1]*e+c[4]*a+c[7];return b};a.transformMat4=function(b,a,c){var e=a[0];a=a[1];b[0]=c[0]*e+c[4]*a+c[12];b[1]=c[1]*e+c[5]*a+c[13];return b};a.rotate=function(b,a,c,e){var h=a[0]-c[0];a=a[1]-c[1];var f=Math.sin(e);e=Math.cos(e);b[0]=h*e-a*f+c[0];
b[1]=h*f+a*e+c[1];return b};a.angle=function(b,a){var c=b[0];b=b[1];var e=a[0];a=a[1];var h=c*c+b*b;0<h&&(h=1/Math.sqrt(h));var f=e*e+a*a;0<f&&(f=1/Math.sqrt(f));c=(c*e+b*a)*h*f;return 1<c?0:-1>c?Math.PI:Math.acos(c)};a.str=function(b){return"vec2("+b[0]+", "+b[1]+")"};a.exactEquals=function(b,a){return b[0]===a[0]&&b[1]===a[1]};a.equals=function(b,a){var c=b[0];b=b[1];var e=a[0];a=a[1];return Math.abs(c-e)<=k.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(b-a)<=k.EPSILON*Math.max(1,Math.abs(b),
Math.abs(a))};a.len=l;a.sub=d;a.mul=g;a.div=m;a.dist=r;a.sqrDist=n;a.sqrLen=t})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});a.EPSILON=1E-6;a.RANDOM=Math.random;var k=Math.PI/180,d=180/Math.PI;a.toRadian=function(a){return a*k};a.toDegree=function(a){return a*d};a.equals=function(g,d){return Math.abs(g-d)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(d))}})},"esri/views/3d/support/buffer/internals/Vec3":function(){define(["require",
"exports","../../../../../core/libs/gl-matrix-2/vec3"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,d,k,n,l){void 0===k&&(k=0);this.TypedArrayConstructor=a;this.elementCount=3;a=this.TypedArrayConstructor;void 0===n&&(n=3*a.BYTES_PER_ELEMENT);var g=0===d.byteLength?0:k;this.typedBuffer=null==l?new a(d,g):new a(d,g,(l-k)/a.BYTES_PER_ELEMENT);this.typedBufferStride=n/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);
this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getVec=function(a,d){return k.vec3.set(d,this.typedBuffer[a*this.typedBufferStride],this.typedBuffer[a*this.typedBufferStride+1],this.typedBuffer[a*this.typedBufferStride+2])};a.prototype.setVec=function(a,d){this.typedBuffer[a*this.typedBufferStride]=d[0];this.typedBuffer[a*this.typedBufferStride+1]=d[1];this.typedBuffer[a*this.typedBufferStride+2]=d[2]};a.prototype.get=function(a,d){return this.typedBuffer[a*
this.typedBufferStride+d]};a.prototype.set=function(a,d,k){this.typedBuffer[a*this.typedBufferStride+d]=k};a.prototype.copyFrom=function(a,d,k){var g=this.typedBuffer,l=d.typedBuffer;a*=this.typedBufferStride;d=k*d.typedBufferStride;g[a]=l[d];g[a+1]=l[d+1];g[a+2]=l[d+2]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0});a.ElementCount=3;return a}();a.BufferViewVec3Impl=p})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require",
"exports","./math/vec3"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.vec3=k})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(p,a,k,d){function g(b){var a=b[0],c=b[1];b=b[2];return Math.sqrt(a*a+c*c+b*b)}function m(b,a){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b}function r(b,a,c){b[0]=a[0]-c[0];b[1]=a[1]-c[1];b[2]=a[2]-c[2];return b}function n(b,a,c){b[0]=a[0]*c[0];b[1]=a[1]*c[1];b[2]=a[2]*c[2];return b}
function l(b,a,c){b[0]=a[0]/c[0];b[1]=a[1]/c[1];b[2]=a[2]/c[2];return b}function t(b,a){var c=a[0]-b[0],e=a[1]-b[1];b=a[2]-b[2];return Math.sqrt(c*c+e*e+b*b)}function b(b,a){var c=a[0]-b[0],e=a[1]-b[1];b=a[2]-b[2];return c*c+e*e+b*b}function f(b){var a=b[0],c=b[1];b=b[2];return a*a+c*c+b*b}function c(b,a){var c=a[0],e=a[1],q=a[2],c=c*c+e*e+q*q;0<c&&(c=1/Math.sqrt(c),b[0]=a[0]*c,b[1]=a[1]*c,b[2]=a[2]*c);return b}function e(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}Object.defineProperty(a,"__esModule",
{value:!0});a.length=g;a.copy=m;a.set=function(b,a,c,e){b[0]=a;b[1]=c;b[2]=e;return b};a.add=function(b,a,c){b[0]=a[0]+c[0];b[1]=a[1]+c[1];b[2]=a[2]+c[2];return b};a.subtract=r;a.multiply=n;a.divide=l;a.ceil=function(b,a){b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);return b};a.floor=function(b,a){b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);return b};a.min=function(b,a,c){b[0]=Math.min(a[0],c[0]);b[1]=Math.min(a[1],c[1]);b[2]=Math.min(a[2],c[2]);return b};a.max=
function(b,a,c){b[0]=Math.max(a[0],c[0]);b[1]=Math.max(a[1],c[1]);b[2]=Math.max(a[2],c[2]);return b};a.round=function(b,a){b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b};a.scale=function(b,a,c){b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c;return b};a.scaleAndAdd=function(b,a,c,e){b[0]=a[0]+c[0]*e;b[1]=a[1]+c[1]*e;b[2]=a[2]+c[2]*e;return b};a.distance=t;a.squaredDistance=b;a.squaredLength=f;a.negate=function(b,a){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b};a.inverse=function(b,a){b[0]=
1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b};a.normalize=c;a.dot=e;a.cross=function(b,a,c){var e=a[0],h=a[1];a=a[2];var f=c[0],q=c[1];c=c[2];b[0]=h*c-a*q;b[1]=a*f-e*c;b[2]=e*q-h*f;return b};a.lerp=function(b,a,c,e){var h=a[0],f=a[1];a=a[2];b[0]=h+e*(c[0]-h);b[1]=f+e*(c[1]-f);b[2]=a+e*(c[2]-a);return b};a.hermite=function(b,a,c,e,h,f){var q=f*f,d=q*(2*f-3)+1,u=q*(f-2)+f,g=q*(f-1);f=q*(3-2*f);b[0]=a[0]*d+c[0]*u+e[0]*g+h[0]*f;b[1]=a[1]*d+c[1]*u+e[1]*g+h[1]*f;b[2]=a[2]*d+c[2]*u+e[2]*g+h[2]*f;return b};a.bezier=
function(b,a,c,e,h,f){var q=1-f,d=q*q,u=f*f,g=d*q,d=3*f*d,q=3*u*q;f*=u;b[0]=a[0]*g+c[0]*d+e[0]*q+h[0]*f;b[1]=a[1]*g+c[1]*d+e[1]*q+h[1]*f;b[2]=a[2]*g+c[2]*d+e[2]*q+h[2]*f;return b};a.random=function(b,a){a=a||1;var c=2*d.RANDOM()*Math.PI,e=2*d.RANDOM()-1,f=Math.sqrt(1-e*e)*a;b[0]=Math.cos(c)*f;b[1]=Math.sin(c)*f;b[2]=e*a;return b};a.transformMat4=function(b,a,c){var e=a[0],f=a[1];a=a[2];b[0]=c[0]*e+c[4]*f+c[8]*a+c[12];b[1]=c[1]*e+c[5]*f+c[9]*a+c[13];b[2]=c[2]*e+c[6]*f+c[10]*a+c[14];return b};a.transformMat3=
function(b,a,c){var e=a[0],f=a[1];a=a[2];b[0]=e*c[0]+f*c[3]+a*c[6];b[1]=e*c[1]+f*c[4]+a*c[7];b[2]=e*c[2]+f*c[5]+a*c[8];return b};a.transformQuat=function(b,a,c){var e=c[0],f=c[1],h=c[2],q=a[0],d=a[1];a=a[2];var u=f*a-h*d,g=h*q-e*a,l=e*d-f*q;c=2*c[3];b[0]=q+u*c+2*(f*l-h*g);b[1]=d+g*c+2*(h*u-e*l);b[2]=a+l*c+2*(e*g-f*u);return b};a.rotateX=function(b,a,c,e){var f=[],h=[];f[0]=a[0]-c[0];f[1]=a[1]-c[1];f[2]=a[2]-c[2];h[0]=f[0];h[1]=f[1]*Math.cos(e)-f[2]*Math.sin(e);h[2]=f[1]*Math.sin(e)+f[2]*Math.cos(e);
b[0]=h[0]+c[0];b[1]=h[1]+c[1];b[2]=h[2]+c[2];return b};a.rotateY=function(b,a,c,e){var f=[],h=[];f[0]=a[0]-c[0];f[1]=a[1]-c[1];f[2]=a[2]-c[2];h[0]=f[2]*Math.sin(e)+f[0]*Math.cos(e);h[1]=f[1];h[2]=f[2]*Math.cos(e)-f[0]*Math.sin(e);b[0]=h[0]+c[0];b[1]=h[1]+c[1];b[2]=h[2]+c[2];return b};a.rotateZ=function(b,a,c,e){var f=[],h=[];f[0]=a[0]-c[0];f[1]=a[1]-c[1];f[2]=a[2]-c[2];h[0]=f[0]*Math.cos(e)-f[1]*Math.sin(e);h[1]=f[0]*Math.sin(e)+f[1]*Math.cos(e);h[2]=f[2];b[0]=h[0]+c[0];b[1]=h[1]+c[1];b[2]=h[2]+c[2];
return b};a.angle=function(b,a){m(h,b);m(u,a);c(h,h);c(u,u);b=e(h,u);return 1<b?0:-1>b?Math.PI:Math.acos(b)};var h=k.create(),u=k.create();a.str=function(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"};a.exactEquals=function(b,a){return b[0]===a[0]&&b[1]===a[1]&&b[2]===a[2]};a.equals=function(b,a){var c=b[0],e=b[1];b=b[2];var f=a[0],h=a[1];a=a[2];return Math.abs(c-f)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(e-h)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(b-a)<=d.EPSILON*
Math.max(1,Math.abs(b),Math.abs(a))};a.sub=r;a.mul=n;a.div=l;a.dist=t;a.sqrDist=b;a.len=g;a.sqrLen=f})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(p,a){function k(){return[0,0,0]}function d(){return[1,1,1]}function g(){return[1,0,0]}function m(){return[0,1,0]}function r(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.create=k;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,d,g){return[a,d,g]};a.fromArray=function(a){for(var d=
k(),g=Math.min(3,a.length),b=0;b<g;++b)d[b]=a[b];return d};a.createView=function(a,d){return new Float64Array(a,d,3)};a.zeros=function(){return k()};a.ones=d;a.unitX=g;a.unitY=m;a.unitZ=r;a.ZEROS=k();a.ONES=d();a.UNIT_X=g();a.UNIT_Y=m();a.UNIT_Z=r()})},"esri/views/3d/support/buffer/internals/Vec4":function(){define(["require","exports","../../../../../core/libs/gl-matrix-2/vec4"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,d,k,n,l){void 0===k&&(k=0);
this.TypedArrayConstructor=a;this.elementCount=4;a=this.TypedArrayConstructor;void 0===n&&(n=4*a.BYTES_PER_ELEMENT);var g=0===d.byteLength?0:k;this.typedBuffer=null==l?new a(d,g):new a(d,g,(l-k)/a.BYTES_PER_ELEMENT);this.typedBufferStride=n/a.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}a.prototype.getVec=function(a,d){return k.vec4.set(d,this.typedBuffer[a*this.typedBufferStride],
this.typedBuffer[a*this.typedBufferStride+1],this.typedBuffer[a*this.typedBufferStride+2],this.typedBuffer[a*this.typedBufferStride+3])};a.prototype.setVec=function(a,d){this.typedBuffer[a*this.typedBufferStride]=d[0];this.typedBuffer[a*this.typedBufferStride+1]=d[1];this.typedBuffer[a*this.typedBufferStride+2]=d[2];this.typedBuffer[a*this.typedBufferStride+3]=d[3]};a.prototype.get=function(a,d){return this.typedBuffer[a*this.typedBufferStride+d]};a.prototype.set=function(a,d,k){this.typedBuffer[a*
this.typedBufferStride+d]=k};a.prototype.copyFrom=function(a,d,k){var g=this.typedBuffer,l=d.typedBuffer;a*=this.typedBufferStride;d=k*d.typedBufferStride;g[a]=l[d];g[a+1]=l[d+1];g[a+2]=l[d+2];g[a+3]=l[d+3]};Object.defineProperty(a.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0});a.ElementCount=4;return a}();a.BufferViewVec4Impl=p})},"esri/core/libs/gl-matrix-2/vec4":function(){define(["require","exports","./math/vec4"],function(p,a,k){Object.defineProperty(a,
"__esModule",{value:!0});a.vec4=k})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(p,a,k){function d(b,a,c){b[0]=a[0]-c[0];b[1]=a[1]-c[1];b[2]=a[2]-c[2];b[3]=a[3]-c[3];return b}function g(b,a,c){b[0]=a[0]*c[0];b[1]=a[1]*c[1];b[2]=a[2]*c[2];b[3]=a[3]*c[3];return b}function m(b,a,c){b[0]=a[0]/c[0];b[1]=a[1]/c[1];b[2]=a[2]/c[2];b[3]=a[3]/c[3];return b}function r(b,a){var c=a[0]-b[0],e=a[1]-b[1],h=a[2]-b[2];b=a[3]-b[3];return Math.sqrt(c*c+e*e+h*h+
b*b)}function n(b,a){var c=a[0]-b[0],e=a[1]-b[1],h=a[2]-b[2];b=a[3]-b[3];return c*c+e*e+h*h+b*b}function l(b){var a=b[0],c=b[1],e=b[2];b=b[3];return Math.sqrt(a*a+c*c+e*e+b*b)}function t(b){var a=b[0],c=b[1],e=b[2];b=b[3];return a*a+c*c+e*e+b*b}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(b,a){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};a.set=function(b,a,c,e,h){b[0]=a;b[1]=c;b[2]=e;b[3]=h;return b};a.add=function(a,f,c){a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];a[3]=
f[3]+c[3];return a};a.subtract=d;a.multiply=g;a.divide=m;a.ceil=function(a,f){a[0]=Math.ceil(f[0]);a[1]=Math.ceil(f[1]);a[2]=Math.ceil(f[2]);a[3]=Math.ceil(f[3]);return a};a.floor=function(a,f){a[0]=Math.floor(f[0]);a[1]=Math.floor(f[1]);a[2]=Math.floor(f[2]);a[3]=Math.floor(f[3]);return a};a.min=function(a,f,c){a[0]=Math.min(f[0],c[0]);a[1]=Math.min(f[1],c[1]);a[2]=Math.min(f[2],c[2]);a[3]=Math.min(f[3],c[3]);return a};a.max=function(a,f,c){a[0]=Math.max(f[0],c[0]);a[1]=Math.max(f[1],c[1]);a[2]=
Math.max(f[2],c[2]);a[3]=Math.max(f[3],c[3]);return a};a.round=function(a,f){a[0]=Math.round(f[0]);a[1]=Math.round(f[1]);a[2]=Math.round(f[2]);a[3]=Math.round(f[3]);return a};a.scale=function(a,f,c){a[0]=f[0]*c;a[1]=f[1]*c;a[2]=f[2]*c;a[3]=f[3]*c;return a};a.scaleAndAdd=function(a,f,c,e){a[0]=f[0]+c[0]*e;a[1]=f[1]+c[1]*e;a[2]=f[2]+c[2]*e;a[3]=f[3]+c[3]*e;return a};a.distance=r;a.squaredDistance=n;a.length=l;a.squaredLength=t;a.negate=function(a,f){a[0]=-f[0];a[1]=-f[1];a[2]=-f[2];a[3]=-f[3];return a};
a.inverse=function(a,f){a[0]=1/f[0];a[1]=1/f[1];a[2]=1/f[2];a[3]=1/f[3];return a};a.normalize=function(a,f){var b=f[0],e=f[1],h=f[2];f=f[3];var d=b*b+e*e+h*h+f*f;0<d&&(d=1/Math.sqrt(d),a[0]=b*d,a[1]=e*d,a[2]=h*d,a[3]=f*d);return a};a.dot=function(a,f){return a[0]*f[0]+a[1]*f[1]+a[2]*f[2]+a[3]*f[3]};a.lerp=function(a,f,c,e){var b=f[0],d=f[1],q=f[2];f=f[3];a[0]=b+e*(c[0]-b);a[1]=d+e*(c[1]-d);a[2]=q+e*(c[2]-q);a[3]=f+e*(c[3]-f);return a};a.random=function(a,f){f=f||1;var b,e,h,d,q,g;do b=2*k.RANDOM()-
1,e=2*k.RANDOM()-1,q=b*b+e*e;while(1<=q);do h=2*k.RANDOM()-1,d=2*k.RANDOM()-1,g=h*h+d*d;while(1<=g);q=Math.sqrt((1-q)/g);a[0]=f*b;a[1]=f*e;a[2]=f*h*q;a[3]=f*d*q;return a};a.transformMat4=function(a,f,c){var b=f[0],h=f[1],d=f[2];f=f[3];a[0]=c[0]*b+c[4]*h+c[8]*d+c[12]*f;a[1]=c[1]*b+c[5]*h+c[9]*d+c[13]*f;a[2]=c[2]*b+c[6]*h+c[10]*d+c[14]*f;a[3]=c[3]*b+c[7]*h+c[11]*d+c[15]*f;return a};a.transformQuat=function(a,f,c){var b=f[0],h=f[1],d=f[2],q=c[0],g=c[1],l=c[2];c=c[3];var k=c*b+g*d-l*h,n=c*h+l*b-q*d,m=
c*d+q*h-g*b,b=-q*b-g*h-l*d;a[0]=k*c+b*-q+n*-l-m*-g;a[1]=n*c+b*-g+m*-q-k*-l;a[2]=m*c+b*-l+k*-g-n*-q;a[3]=f[3];return a};a.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.exactEquals=function(a,f){return a[0]===f[0]&&a[1]===f[1]&&a[2]===f[2]&&a[3]===f[3]};a.equals=function(a,f){var b=a[0],e=a[1],h=a[2];a=a[3];var d=f[0],q=f[1],g=f[2];f=f[3];return Math.abs(b-d)<=k.EPSILON*Math.max(1,Math.abs(b),Math.abs(d))&&Math.abs(e-q)<=k.EPSILON*Math.max(1,Math.abs(e),Math.abs(q))&&Math.abs(h-
g)<=k.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(a-f)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))};a.sub=d;a.mul=g;a.div=m;a.dist=r;a.sqrDist=n;a.len=l;a.sqrLen=t})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["require","exports","./BufferView","./types"],function(p,a,k,d){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(a,d){this.layout=a;this.buffer="number"===typeof d?new ArrayBuffer(d*a.stride):d;d=0;for(var g=a.fieldNames;d<g.length;d++){var b=
g[d],f=a.fields.get(b);this[b]=new f.constructor(this.buffer,f.offset,this.stride)}}Object.defineProperty(a.prototype,"stride",{get:function(){return this.layout.stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"count",{get:function(){return this.buffer.byteLength/this.stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"byteLength",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0});a.prototype.getField=function(a,d){return(a=
this[a])&&a.elementCount===d.ElementCount&&a.elementType===d.ElementType?a:null};a.prototype.slice=function(d,g){return new a(this.layout,this.buffer.slice(d*this.stride,g*this.stride))};a.prototype.copyFrom=function(a,d,g,b){var f=this.stride;0===f%4?(a=new Uint32Array(a.buffer,d*f,b*f/4),g=new Uint32Array(this.buffer,g*f,b*f/4)):(a=new Uint8Array(a.buffer,d*f,b*f),g=new Uint8Array(this.buffer,g*f,b*f));g.set(a)};return a}();a.InterleavedBuffer=g;var m=function(){function a(){this.stride=0;this.fields=
new Map;this.fieldNames=[]}a.prototype.vec2f=function(a,d){this.appendField(a,k.BufferViewVec2f,d);return this};a.prototype.vec2f64=function(a,d){this.appendField(a,k.BufferViewVec2f64,d);return this};a.prototype.vec3f=function(a,d){this.appendField(a,k.BufferViewVec3f,d);return this};a.prototype.vec3f64=function(a,d){this.appendField(a,k.BufferViewVec3f64,d);return this};a.prototype.vec4f=function(a,d){this.appendField(a,k.BufferViewVec4f,d);return this};a.prototype.vec4f64=function(a,d){this.appendField(a,
k.BufferViewVec4f64,d);return this};a.prototype.mat3f=function(a,d){this.appendField(a,k.BufferViewMat3f,d);return this};a.prototype.mat3f64=function(a,d){this.appendField(a,k.BufferViewMat3f64,d);return this};a.prototype.mat4f=function(a,d){this.appendField(a,k.BufferViewMat4f,d);return this};a.prototype.mat4f64=function(a,d){this.appendField(a,k.BufferViewMat4f64,d);return this};a.prototype.vec4u8=function(a,d){this.appendField(a,k.BufferViewVec4u8,d);return this};a.prototype.f32=function(a,d){this.appendField(a,
k.BufferViewFloat,d);return this};a.prototype.f64=function(a,d){this.appendField(a,k.BufferViewFloat64,d);return this};a.prototype.u8=function(a,d){this.appendField(a,k.BufferViewUint8,d);return this};a.prototype.u16=function(a,d){this.appendField(a,k.BufferViewUint16,d);return this};a.prototype.i8=function(a,d){this.appendField(a,k.BufferViewInt8,d);return this};a.prototype.vec2i8=function(a,d){this.appendField(a,k.BufferViewVec2i8,d);return this};a.prototype.vec2i16=function(a,d){this.appendField(a,
k.BufferViewVec2i16,d);return this};a.prototype.vec2u8=function(a,d){this.appendField(a,k.BufferViewVec2u8,d);return this};a.prototype.vec4u16=function(a,d){this.appendField(a,k.BufferViewVec4u16,d);return this};a.prototype.u32=function(a,d){this.appendField(a,k.BufferViewUint32,d);return this};a.prototype.appendField=function(a,g,k){var b=g.ElementCount*d.elementTypeSize(g.ElementType);this.fields.set(a,{size:b,constructor:g,offset:this.stride,optional:k});this.stride+=b;this.fieldNames.push(a)};
a.prototype.alignTo=function(a){this.stride=Math.floor((this.stride+a-1)/a)*a;return this};a.prototype.hasField=function(a){return 0<=this.fieldNames.indexOf(a)};a.prototype.createBuffer=function(a){return new g(this,a)};a.prototype.createView=function(a){return new g(this,a)};a.prototype.clone=function(){var d=new a;d.stride=this.stride;d.fields=new Map;this.fields.forEach(function(a,g){return d.fields.set(g,a)});d.fieldNames=this.fieldNames.slice();d.BufferType=this.BufferType;return d};return a}();
a.InterleavedLayout=m;a.newLayout=function(){return new m}})},"esri/views/3d/support/buffer/types":function(){define(["require","exports","../../../../core/compilerUtils"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.elementTypeSize=function(a){switch(a){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8;default:k.neverReached(a)}};a.isSigned=function(a){switch(a){case "u8":case "u16":case "u32":return!1;
case "i8":case "i16":case "i32":case "f32":case "f64":return!0;default:k.neverReached(a)}};a.isInteger=function(a){switch(a){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1;default:k.neverReached(a)}};a.maximumValue=function(a){switch(a){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308;
default:k.neverReached(a)}}})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.neverReached=function(a){};a.neverReachedSilent=function(a){};a.typeCast=function(a){return function(){return a}};a.tuple=function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];return a}})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["require","exports","../../../support/buffer/glUtil",
"../../../support/buffer/InterleavedLayout"],function(p,a,k,d){Object.defineProperty(a,"__esModule",{value:!0});a.EdgeInputBufferLayout=d.newLayout().vec3f("position").u16("componentIndex").u16("_padding");a.VertexLayout=d.newLayout().vec2u8("sideness");a.glVertexLayout=k.glLayout(a.VertexLayout,{prefixA:!0});a.CommonInstancesLayout=d.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").vec2u8("packedAttributes").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",
{glNormalized:!0}).u8("_padding",{glPadding:!0});a.RegularEdgeInstancesLayout=a.CommonInstancesLayout.clone().vec3f("normal");a.SilhouetteEdgeInstancesLayout=a.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB");a.EdgeShaderAttributeLocations={aPosition0:0,aPosition1:1,aComponentIndex:2,aPackedAttributes:3,aVariantOffset:4,aVariantStroke:5,aVariantExtension:6,aNormal:7,aNormalA:7,aNormalB:8,aSideness:9}})},"esri/views/3d/support/buffer/glUtil":function(){define(["require","exports","../../../../core/tsSupport/assignHelper"],
function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});var d={divisor:0,prefixA:!1};a.glLayout=function(a,p){void 0===p&&(p={});p=k({},d,p);var m=a.stride;return a.fieldNames.filter(function(d){d=a.fields.get(d).optional;return!(d&&d.glPadding)}).map(function(d){var k=a.fields.get(d),b=k.constructor.ElementCount,f;f=g[k.constructor.ElementType];if(!f)throw Error("BufferType not supported in WebGL");var c=k.offset,k=!(!k.optional||!k.optional.glNormalized);return{name:p.prefixA?"a"+d[0].toUpperCase()+
d.substr(1):d,stride:m,count:b,type:f,offset:c,normalized:k,divisor:p.divisor}})};var g={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("require exports ../../../../../core/tsSupport/assignHelper ../../../../../core/tsSupport/extendsHelper ../../../../../core/RandomLCG ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),
function(p,a,k,d,g,m,r,n,l){Object.defineProperty(a,"__esModule",{value:!0});var t=function(){function a(){}a.prototype.updateSettings=function(a){this.settings=a};a.prototype.write=function(a,d,h){var g=b;g[0]=h.position0[0];g[1]=h.position0[1];g[2]=h.position0[2];g[3]=h.position1[0];g[4]=h.position1[1];g[5]=h.position1[2];c[0]=5381;for(g=0;g<f.length;g++)c[0]=31*c[0]+f[g];e.seed=c[0];var g=e.getIntRange(0,255),q=e.getIntRange(0,this.settings.variants-1),u=e.getFloat(),u=-(1-Math.min(u/.7,1))+Math.max(0,
u-.7)/(1-.7),u=255*(Math.pow(Math.abs(u),1.2)*(0>u?-1:1)*.5+.5);a.position0.setVec(d,h.position0);a.position1.setVec(d,h.position1);a.componentIndex.set(d,h.componentIndex);a.variantOffset.set(d,g);a.variantStroke.set(d,q);a.variantExtension.set(d,u)};a.prototype.trim=function(a,b){return a.slice(0,b)};return a}();a.CommonBufferWriter=t;var b=new Float32Array(6),f=new Uint32Array(b.buffer),c=new Uint32Array(1),e=new g;p=function(){function a(){this.commonWriter=new t}a.prototype.updateSettings=function(a){this.commonWriter.updateSettings(a)};
a.prototype.allocate=function(a){return l.RegularEdgeInstancesLayout.createBuffer(a)};a.prototype.write=function(a,b,c){this.commonWriter.write(a,b,c);m.vec3.add(h,c.faceNormal0,c.faceNormal1);m.vec3.normalize(h,h);a.normal.setVec(b,h)};a.prototype.trim=function(a,b){return this.commonWriter.trim(a,b)};a.Layout=l.RegularEdgeInstancesLayout;a.glLayout=n.glLayout(l.RegularEdgeInstancesLayout,{prefixA:!0,divisor:1});return a}();a.RegularEdgeBufferWriter=p;p=function(){function a(){this.commonWriter=
new t}a.prototype.updateSettings=function(a){this.commonWriter.updateSettings(a)};a.prototype.allocate=function(a){return l.SilhouetteEdgeInstancesLayout.createBuffer(a)};a.prototype.write=function(a,b,c){this.commonWriter.write(a,b,c);a.normalA.setVec(b,c.faceNormal0);a.normalB.setVec(b,c.faceNormal1)};a.prototype.trim=function(a,b){return this.commonWriter.trim(a,b)};a.Layout=l.SilhouetteEdgeInstancesLayout;a.glLayout=n.glLayout(l.SilhouetteEdgeInstancesLayout,{prefixA:!0,divisor:1});return a}();
a.SilhouetteEdgeBufferWriter=p;var h=r.vec3f64.create()})},"esri/core/RandomLCG":function(){define(["require","exports"],function(p,a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(d){this._seed=null==d?Math.random()*a._m:d},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,
g){return Math.round(this.getFloatRange(a,g))};a.prototype.getFloatRange=function(d,g){g-=d;var k=this.getInt()/a._m;return d+Math.floor(k*g)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(p,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f64=k})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define("require exports ../../../../../core/arrayUtils ../../../../../core/typedArrayUtil ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../support/mathUtils".split(" "),
function(p,a,k,d,g,m,r){function n(a,c){var e=r.acos(a.cosAngle),d=b.fwd,h=b.ortho;r.directionFromTo(d,a.position1,a.position0);a=0<g.vec3.dot(g.vec3.cross(h,a.faceNormal0,a.faceNormal1),d)?-1:1;return e*a>c}function l(a){var b=a.faces.length/3,c=a.faces;a=a.neighbors;for(var e=0,d=0;d<b;d++)var f=a[3*d+0],g=a[3*d+1],k=a[3*d+2],l=c[3*d+0],m=c[3*d+1],n=c[3*d+2],e=e+(-1===f||l<m?1:0),e=e+(-1===g||m<n?1:0),e=e+(-1===k||n<l?1:0);for(var e=new Int32Array(4*e),p=0,d=0;d<b;d++){f=a[3*d+0];g=a[3*d+1];k=a[3*
d+2];l=c[3*d+0];m=c[3*d+1];n=c[3*d+2];if(-1===f||l<m)e[p++]=l,e[p++]=m,e[p++]=d,e[p++]=f;if(-1===g||m<n)e[p++]=m,e[p++]=n,e[p++]=d,e[p++]=g;if(-1===k||n<l)e[p++]=n,e[p++]=l,e[p++]=d,e[p++]=k}return e}function t(a){var b=a.faces.length/3,c=a.vertices.position;a=a.faces;for(var e=f.v0,d=f.v1,k=f.v2,l=new Float32Array(3*b),m=0;m<b;m++){var n=a[3*m+1],p=a[3*m+2];c.getVec(a[3*m+0],e);c.getVec(n,d);c.getVec(p,k);g.vec3.subtract(d,d,e);g.vec3.subtract(k,k,e);g.vec3.cross(e,d,k);g.vec3.normalize(e,e);l[3*
m+0]=e[0];l[3*m+1]=e[1];l[3*m+2]=e[2]}return l}Object.defineProperty(a,"__esModule",{value:!0});a.extractEdges=function(a,h,f,q){void 0===q&&(q=c);var e=a.vertices.position,u=a.vertices.componentIndex,m=r.deg2rad(q.anglePlanar);q=r.deg2rad(q.angleSignificantEdge);var p=Math.cos(q),B=Math.cos(m),x=b.edge,H=x.position0,I=x.position1,C=x.faceNormal0,E=x.faceNormal1,z=t(a),A=l(a),F=A.length/4;a=h.allocate(F);q=0;var M=f.allocate(F),N=0,O=0,P=0,Q=k.range(0,F),G=new Float32Array(F);d.forEach(G,function(a,
b,c){e.getVec(A[4*b+0],H);e.getVec(A[4*b+1],I);c[b]=g.vec3.distance(H,I)});Q.sort(function(a,b){return G[b]-G[a]});for(var R=[],S=[],J=0;J<F;J++){var y=Q[J],K=G[y],L=A[4*y+0],U=A[4*y+1],D=A[4*y+2],y=A[4*y+3],T=-1===y;e.getVec(L,H);e.getVec(U,I);if(T)g.vec3.set(C,z[3*D+0],z[3*D+1],z[3*D+2]),g.vec3.copy(E,C),x.componentIndex=u.get(L),x.cosAngle=g.vec3.dot(C,E);else{g.vec3.set(C,z[3*D+0],z[3*D+1],z[3*D+2]);g.vec3.set(E,z[3*y+0],z[3*y+1],z[3*y+2]);x.componentIndex=u.get(L);x.cosAngle=g.vec3.dot(C,E);
if(x.cosAngle>B)continue;-.9999>x.cosAngle&&g.vec3.copy(E,C)}O+=K;P++;T||x.cosAngle<p?(h.write(a,q++,x),R.push(K)):n(x,m)&&(f.write(M,N++,x),S.push(K))}u=new Float32Array(R.reverse());m=new Float32Array(S.reverse());return{regular:{instancesData:h.trim(a,q),lodInfo:{lengths:u}},silhouette:{instancesData:f.trim(M,N),lodInfo:{lengths:m}},averageEdgeLength:O/P}};var b={edge:{position0:m.vec3f64.create(),position1:m.vec3f64.create(),faceNormal0:m.vec3f64.create(),faceNormal1:m.vec3f64.create(),componentIndex:0,
cosAngle:0},ortho:m.vec3f64.create(),fwd:m.vec3f64.create()},f={v0:m.vec3f64.create(),v1:m.vec3f64.create(),v2:m.vec3f64.create()},c={anglePlanar:4,angleSignificantEdge:35}})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(p,a,k,d){function g(a,d){return-1===a.indexOf(d)}function m(a,d,c){return!a.some(d.bind(null,c))}function r(a){return a}Object.defineProperty(a,"__esModule",{value:!0});a.find=k.find;a.findIndex=k.findIndex;a.unique=
function(a){return a.filter(function(a,b,e){return e.indexOf(a)===b})};a.equals=function(a,d,c){if(!a&&!d)return!0;if(!a||!d||a.length!==d.length)return!1;if(c)for(var b=0;b<a.length;b++){if(!c(a[b],d[b]))return!1}else for(b=0;b<a.length;b++)if(a[b]!==d[b])return!1;return!0};a.difference=function(a,d,c){var b;c?(b=d.filter(m.bind(null,a,c)),a=a.filter(m.bind(null,d,c))):(b=d.filter(g.bind(null,a)),a=a.filter(g.bind(null,d)));return{added:b,removed:a}};a.intersect=function(a,d,c){return a&&d?c?a.filter(function(a){return-1<
k.findIndex(d,function(b){return c(a,b)})}):a.filter(function(a){return-1<d.indexOf(a)}):[]};a.constant=function(a,d){for(var b=Array(a),e=0;e<a;e++)b[e]=d;return b};a.range=function(a,d){void 0===d&&(d=a,a=0);for(var b=Array(d-a),e=a;e<d;e++)b[e-a]=e;return b};a.binaryIndexOf=function(a,d,c){for(var b=a.length,h=0,f=b-1;h<f;){var g=h+Math.floor((f-h)/2);d>a[g]?h=g+1:f=g}f=a[h];return c?d>=a[b-1]?-1:f===d?h:h-1:f===d?h:-1};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},
[])};p=function(){return function(){this.last=0}}();a.RemoveHint=p;var n=new p;a.removeUnordered=function(a,d,c,e){e=e||n;for(var b=null==c?a.length:c,f=Math.max(0,e.last-10),g=-1,k=f;k<b;++k)if(a[k]===d){g=k;break}if(-1===g){for(k=0;k<f;++k)if(a[k]===d){g=k;break}if(-1===g)return}a[g]=a[b-1];null==c&&a.pop();e.last=g;return d};var l=new Set;a.removeUnorderedMany=function(a,d,c,e,h,g){void 0===c&&(c=a.length);void 0===e&&(e=d.length);if(0===e||0===c)return c;l.clear();for(var b=0;b<e;++b)l.add(d[b]);
h=h||n;for(b=d=Math.max(0,h.last-10);b<c;++b)if(l.has(a[b])&&(g&&g.push(a[b]),l.delete(a[b]),a[b]=a[c-1],--c,--b,0===l.size||0===c))return l.clear(),c;for(b=0;b<d;++b)if(l.has(a[b])&&(g&&g.push(a[b]),l.delete(a[b]),a[b]=a[c-1],--c,--b,0===l.size||0===c))return l.clear(),c;l.clear();return c};a.shuffle=function(a,d){d=(t.seed=d)?function(){return t.getFloat()}:Math.random;for(var b=a.length-1;0<b;b--){var e=Math.floor(d()*(b+1)),h=a[b];a[b]=a[e];a[e]=h}return a};var t=new d;a.keysOfMap=function(a){var b=
[];a.forEach(function(a,e){return b.push(e)});return b};a.keysOfSet=function(a,d){void 0===d&&(d=r);var b=[];a.forEach(function(a){return b.push(d(a))});return b};a.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b};a.remove=function(a,d){var b=a.indexOf(d);return-1!==b?(a.splice(b,1),d):null}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3",
"../../../core/libs/gl-matrix-2/vec3f64"],function(p,a,k,d,g){function m(a){return Math.asin(1<a?1:-1>a?-1:a)}function r(a){return Math.acos(1<a?1:-1>a?-1:a)}function n(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=function(a){return 180*a/Math.PI};a.asin=m;a.acos=r;a.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};a.sign=Math.sign||function(a){return+(0<
a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*
a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,b){d.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};a.makeOrthonormal=function(a,b,c){c=c||a;var e=d.vec3.dot(a,b);d.vec3.set(c,a[0]-e*b[0],a[1]-e*b[1],a[2]-e*b[2]);d.vec3.normalize(c,c)};a.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?d.vec3.set(b,0,1,0):d.vec3.set(b,1,0,0);d.vec3.cross(c,a,b);d.vec3.normalize(b,b);d.vec3.cross(b,c,a);d.vec3.normalize(c,
c)};a.moduloPositive=function(a,b){return(a%b+b)%b};a.cartesianToSpherical=function(a,b){var c=d.vec3.length(a),e=m(a[2]/c);d.vec3.set(b,c,e,Math.atan2(a[1]/c,a[0]/c));return b};a.sphericalToCartesian=function(a,b){var c=a[0],e=a[1];a=a[2];var h=Math.cos(e);d.vec3.set(b,c*h*Math.cos(a),c*h*Math.sin(a),c*Math.sin(e))};a.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};a.lerp=
function(a,b,c){return a+(b-a)*c};a.bilerp=function(a,b,c,d,f,g){a+=(b-a)*f;return a+(c+(d-c)*f-a)*g};a.slerp=function(a,b,k,l){void 0===l&&(l=g.vec3f64.create());var e=d.vec3.length(a),h=d.vec3.length(b),q=d.vec3.dot(a,b)/(e*h);if(.9999999999999999>q){var q=Math.acos(q),m=((1-k)*e+k*h)/Math.sin(q),h=m/h*Math.sin(k*q);d.vec3.scale(f,a,m/e*Math.sin((1-k)*q));d.vec3.scale(c,b,h);return d.vec3.add(l,f,c)}return d.vec3.lerp(l,a,b,k)};a.angle=function(a,h,g){a=d.vec3.normalize(f,a);h=d.vec3.normalize(c,
h);var e=r(d.vec3.dot(a,h));return g&&(a=d.vec3.cross(b,a,h),0>d.vec3.dot(a,g))?-e:e};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;var e=a[d][0];c=(e-c)/(e-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};a.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.floatEqualRelative=function(a,
b,c){void 0===c&&(c=1E-6);if(isNaN(a)||isNaN(b))return!1;if(a===b)return!0;var d=Math.abs(a-b),e=Math.abs(a),f=Math.abs(b);if(0===a||0===b||1E-12>e&&1E-12>f){if(d>.01*c)return!1}else if(d/(e+f)>c)return!1;return!0};a.floatEqualAbsolute=function(a,b,c){void 0===c&&(c=1E-6);return isNaN(a)||isNaN(b)?!1:(a>b?a-b:b-a)<=c};p=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=
function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return k.clamp(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+
b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=p;a.planeFromPoints=function(a,b,c,f){d.vec3.subtract(l,b,a);d.vec3.subtract(t,c,a);d.vec3.cross(f,
l,t);d.vec3.normalize(f,f);f[3]=-d.vec3.dot(a,f)};var l=g.vec3f64.create(),t=g.vec3f64.create();a.cyclical2PI=n(new p(0,2*Math.PI));a.cyclicalPI=n(new p(-Math.PI,Math.PI));a.cyclicalDeg=n(new p(0,360));var b=g.vec3f64.create(),f=g.vec3f64.create(),c=g.vec3f64.create()})},"*noref":1}});
define("require exports ../../../../../core/tsSupport/awaiterHelper ../../../../../core/tsSupport/generatorHelper ../../../../../core/typedArrayUtil ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/workerHelper ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),function(p,a,k,d,g,m,r,n,l,t,b){return function(){function a(){this.regularWriter=new t.RegularEdgeBufferWriter;this.silhouetteWriter=new t.SilhouetteEdgeBufferWriter}
a.prototype.process=function(a,b){return k(this,void 0,void 0,function(){var c,e,f;return d(this,function(d){switch(d.label){case 0:if(!b)return[3,2];c=[];e=this.packInput(a,c);this.wrappedWork;return[4,b.invoke("wrappedWork",e,{transferList:c})];case 1:return f=d.sent(),[2,this.unpackOutput(f)];case 2:return[2,this.work(a)]}})})};a.prototype.wrappedWork=function(a){return k(this,void 0,void 0,function(){var b,c,f,g;return d(this,function(d){b=this.unpackInput(a);c=this.work(b);f=[];this.packInputTransferables(b,
f);g=this.packOutput(c,f);return[2,{result:g,transferList:f}]})})};a.prototype.work=function(a){var c=this.extractEdgeInformation(a.data,a.skipDeduplicate,a.originalIndices);this.regularWriter.updateSettings(a.writerSettings);this.silhouetteWriter.updateSettings(a.writerSettings);return b.extractEdges(c,this.regularWriter,this.silhouetteWriter)};a.prototype.packInputTransferables=function(a,b){b.push(a.data.buffer)};a.prototype.packInput=function(a,b){this.packInputTransferables(a,b);b={dataBuffer:a.data.buffer,
writerSettings:a.writerSettings,skipDeduplicate:a.skipDeduplicate};a.originalIndices&&(b.originalIndicesBuffer=a.originalIndices.buffer,b.originalIndicesType=g.isUint32Array(a.originalIndices)?"Uint32Array":"Uint16Array");return b};a.prototype.unpackInput=function(a){return{data:l.EdgeInputBufferLayout.createView(a.dataBuffer),originalIndices:"Uint32Array"===a.originalIndicesType?new Uint32Array(a.originalIndicesBuffer):"Uint16Array"===a.originalIndicesType?new Uint16Array(a.originalIndicesBuffer):
void 0,writerSettings:a.writerSettings,skipDeduplicate:a.skipDeduplicate}};a.prototype.packOutput=function(a,b){b.push(a.regular.lodInfo.lengths.buffer);b.push(a.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:n.packInterleavedBuffer(a.regular.instancesData,b),lodInfo:{lengths:a.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:n.packInterleavedBuffer(a.silhouette.instancesData,b),lodInfo:{lengths:a.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:a.averageEdgeLength}};
a.prototype.unpackOutput=function(a){return{regular:{instancesData:n.unpackInterleavedBuffer(a.regular.instancesData),lodInfo:{lengths:new Float32Array(a.regular.lodInfo.lengths)}},silhouette:{instancesData:n.unpackInterleavedBuffer(a.silhouette.instancesData),lodInfo:{lengths:new Float32Array(a.silhouette.lodInfo.lengths)}},averageEdgeLength:a.averageEdgeLength}};a.prototype.extractEdgeInformation=function(a,b,d){if(b&&d)return b=r.computeNeighbors(d,a.count),{faces:d,neighbors:b,vertices:a};a=m.default(a.buffer,
a.stride/4,d);b=r.computeNeighbors(a.indices,a.uniqueCount);return{faces:a.indices,neighbors:b,vertices:l.EdgeInputBufferLayout.createView(a.buffer)}};return a}()});