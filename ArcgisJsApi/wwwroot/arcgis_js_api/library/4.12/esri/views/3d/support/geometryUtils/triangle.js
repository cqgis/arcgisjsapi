// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack ./lineSegment".split(" "),function(C,e,w,r,f,q,h,k){function t(a){return a?{p0:q.vec3f64.clone(a.p0),p1:q.vec3f64.clone(a.p1),p2:q.vec3f64.clone(a.p2)}:{p0:q.vec3f64.create(),p1:q.vec3f64.create(),p2:q.vec3f64.create()}}function x(a,c,d,b){void 0===b&&(b=t());f.vec3.copy(b.p0,a);f.vec3.copy(b.p1,c);f.vec3.copy(b.p2,d);
return b}function y(a,c,d){var b=r.vec2.distance(a,c);c=r.vec2.distance(c,d);a=r.vec2.distance(d,a);d=(b+c+a)/2;b=d*(d-b)*(d-c)*(d-a);return 0>=b?0:Math.sqrt(b)}Object.defineProperty(e,"__esModule",{value:!0});e.create=t;e.wrap=function(a,c,d){var b=A.get();b.p0=a;b.p1=c;b.p2=d;return b};e.copy=function(a,c){void 0===c&&(c=t());return x(a.p0,a.p1,a.p2,c)};e.fromValues=x;e.distance2=function(a,c){var d=a.p0,b=a.p1;a=a.p2;var g=f.vec3.subtract(h.sv3d.get(),b,d),z=f.vec3.subtract(h.sv3d.get(),a,b),m=
f.vec3.subtract(h.sv3d.get(),d,a),e=f.vec3.subtract(h.sv3d.get(),c,d),n=f.vec3.subtract(h.sv3d.get(),c,b),p=f.vec3.subtract(h.sv3d.get(),c,a),l=f.vec3.cross(g,g,m),B=f.vec3.dot(f.vec3.cross(h.sv3d.get(),g,l),e),n=f.vec3.dot(f.vec3.cross(h.sv3d.get(),z,l),n),p=f.vec3.dot(f.vec3.cross(h.sv3d.get(),m,l),p);if(0<B&&0<n&&0<p)return c=f.vec3.dot(l,e),c*c/f.vec3.dot(l,l);d=k.distance2(k.fromValues(d,g,v.get()),c);b=k.distance2(k.fromValues(b,z,v.get()),c);c=k.distance2(k.fromValues(a,m,v.get()),c);return Math.min(d,
b,c)};e.intersectRay=function(a,c,d){var b=c.direction;c=c.origin;var g=a.p0,e=a.p1,m=a.p2,h=e[0]-g[0],n=e[1]-g[1],p=e[2]-g[2],e=m[0]-g[0];a=m[1]-g[1];var m=m[2]-g[2],l=b[1]*m-a*b[2],k=b[2]*e-m*b[0],q=b[0]*a-e*b[1],u=h*l+n*k+p*q;if(-1E-5<u&&1E-5>u)return!1;var u=1/u,r=c[0]-g[0],t=c[1]-g[1],g=c[2]-g[2],l=u*(r*l+t*k+g*q);if(0>l||1<l)return!1;k=t*p-n*g;p=g*h-p*r;h=r*n-h*t;n=u*(b[0]*k+b[1]*p+b[2]*h);if(0>n||1<l+n)return!1;d&&(f.vec3.scale(d,b,u*(e*k+a*p+m*h)),f.vec3.add(d,c,d));return!0};e.areaPoints2d=
y;e.area2d=function(a){return y(a.p0,a.p1,a.p2)};var v=new w.ObjectStack(k.create),A=new w.ObjectStack(function(){return{p0:null,p1:null,p2:null}})});