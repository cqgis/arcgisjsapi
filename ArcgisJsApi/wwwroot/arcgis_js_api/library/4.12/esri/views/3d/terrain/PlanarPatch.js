// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/support/aaBoundingBox ../support/geometryUtils ../support/mathUtils ./PatchGeometryFactory ./Tile".split(" "),function(q,r,h,k,l,m,g,n,p){return function(d){function a(e,b,c){var f=d.call(this,a.NumSubdivisionsAtLevel)||this;f.up=k.vec3f64.unitZ();void 0!==e&&f.init(e,b,c);return f}h(a,d);a.prototype.init=function(e,a,c){d.prototype.init.call(this,e,a,c);this.edgeLen=this.extent[2]-
this.extent[0];this.edgeLen2=this.edgeLen*this.edgeLen;this.curvatureHeight=0;this.centerAtSeaLevel[0]=g.lerp(this.extent[0],this.extent[2],.5);this.centerAtSeaLevel[1]=g.lerp(this.extent[1],this.extent[3],.5);this.centerAtSeaLevel[2]=0;this.updateRadiusAndCenter()};a.prototype.updateRadiusAndCenter=function(){d.prototype.updateRadiusAndCenter.call(this);var a=(this.extent[2]-this.extent[0])*Math.SQRT1_2,b=.5*(this.elevationBounds[0]-this.elevationBounds[1]);this.radius=Math.sqrt(a*a+b*b)};a.prototype._isVisible=
function(){return this.intersectsClippingArea&&m.frustum.intersectsAABB(this.surface.frustum.planes,l.wrap(this.extent[0],this.extent[1],this.elevationBounds[0],this.extent[2],this.extent[3],this.elevationBounds[1]))};a.prototype.createGeometry=function(a,b,c){n.createPlanarGlobePatch(a,this.extent,b,this.renderData,c);this.updateMemoryUsed()};a.NumSubdivisionsAtLevel=[2,2,2,2,2,2,2,2];return a}(p)});