// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../support/buffer/InterleavedLayout ../lib/GLMaterial ../lib/Material ../lib/Util ./internal/bufferWriters ./internal/MaterialUtil ./internal/MaterialUtil ./renderers/InstancedRenderer ../shaders/CheckerBoardPrograms ../../../webgl/renderState".split(" "),function(h,y,k,n,p,q,e,l,g,r,t,u,f){h=function(d){function a(b,a){a=d.call(this,a)||this;a.params=g.copyParameters(b,v);return a}k(a,d);a.prototype.dispose=function(){};a.prototype.getParameterValues=
function(){var b=this.params;return{size:b.size,color1:b.color1,color2:b.color2,transparent:b.transparent,writeDepth:b.writeDepth,polygonOffset:b.polygonOffset}};a.prototype.setParameterValues=function(b){g.updateParameters(this.params,b)&&this.notifyDirty("matChanged")};a.prototype.getParams=function(){return this.params};a.prototype.intersect=function(b,a,d,e,f,g,h,k){return r.intersectTriangleGeometry(b,a,d,e,f,g,h)};a.prototype.getGLMaterials=function(){return{color:w,depthShadowMap:void 0,normal:void 0,
depth:void 0,highlight:void 0}};a.prototype.createBufferWriter=function(){return new x};a.prototype.createRenderer=function(a,c){return new t(a,c,this)};return a}(q);var w=function(d){function a(a,c,e){a=d.call(this,a,c)||this;a.programRep=c;a.updateParameters();return a}k(a,d);a.prototype.selectProgram=function(){this.program=this.programRep.getProgram(u.colorPass);this.pipelineState=f.makePipelineState({blending:this.params.transparent&&f.separateBlendingParams(770,1,771,771),polygonOffset:this.params.polygonOffset&&
{factor:0,units:-25},depthTest:{func:513},depthWrite:this.params.writeDepth&&f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams})};a.prototype.updateParameters=function(){this.params=this.material.getParameterValues();this.selectProgram()};a.prototype.beginSlot=function(a){var b=5;this.params.transparent&&(b=this.params.writeDepth?7:10);return a===b};a.prototype.getProgram=function(){return this.program};a.prototype.getDrawMode=function(){return 4};a.prototype.bind=function(a,c){c=this.program;
a.bindProgram(c);a.setPipelineState(this.pipelineState);c.setUniform2fv("size",this.params.size);c.setUniform4fv("color1",this.params.color1);c.setUniform4fv("color2",this.params.color2)};a.prototype.bindView=function(a,c){a=c.origin;var b=this.getProgram();g.bindView(a,c.view,b)};a.prototype.bindInstance=function(a,c){this.getProgram().setUniformMatrix4fv("model",c.transformation)};a.prototype.release=function(a){};return a}(p),v={size:[1,1],color1:[.75,.75,.75,1],color2:[.5,.5,.5,1],transparent:!1,
writeDepth:!0,polygonOffset:!1},m=n.newLayout().vec3f(e.VertexAttrConstants.POSITION).vec2f(e.VertexAttrConstants.UV0),x=function(){function d(){this.vertexBufferLayout=m}d.prototype.allocate=function(a){return m.createBuffer(a)};d.prototype.elementCount=function(a){return a.indices[e.VertexAttrConstants.POSITION].length};d.prototype.write=function(a,b,c,d){l.writePosition(b.indices[e.VertexAttrConstants.POSITION],b.vertexAttr[e.VertexAttrConstants.POSITION].data,a.transformation,c.position,d);l.writeBufferVec2(b.indices[e.VertexAttrConstants.UV0],
b.vertexAttr[e.VertexAttrConstants.UV0].data,c.uv0,d)};return d}();return h});