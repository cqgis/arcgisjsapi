// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ./mathUtils ./projectionUtils".split(" "),function(x,c,t,u,m,g,e,n){function l(b,a,d,h){var f,k;b instanceof g&&a instanceof g&&(d=a.longitude,h=a.latitude,k=b.latitude,f=b.longitude);b=e.deg2rad(k);h=e.deg2rad(h);f=e.deg2rad(f);a=e.deg2rad(d);d=Math.sin((b-h)/2);f=Math.sin((f-a)/2);d=2*e.asin(Math.sqrt(d*d+Math.cos(b)*Math.cos(h)*f*f))*c.earthRadius;
return Math.round(1E4*d)/1E4}function p(b,a,d){b=d/c.earthRadius;a=e.deg2rad(a);b=Math.sin(b/2);a=Math.cos(a);a=2*e.asin(Math.sqrt(b*b/(a*a)));return e.rad2deg(a)}function q(b,a,d){return e.rad2deg(d/c.earthRadius)}function r(b,a){b/=15;a||(b=Math.round(b));return b}Object.defineProperty(c,"__esModule",{value:!0});c.earthRadius=t.wgs84Radius;c.halfEarthRadius=c.earthRadius/2;c.halfEarthCircumference=Math.PI*c.earthRadius;c.earthCircumference=2*c.halfEarthCircumference;c.metersPerDegree=c.halfEarthCircumference/
180;c.getGreatCircleDistance=l;c.getGreatCircleSpanAt=function(b,a,c){var d=a.spatialReference,e=new g(a.x,b.y,d),k=new g(c.x,b.y,d);a=new g(b.x,a.y,d);b=new g(b.x,c.y,d);return{lon:l(e,k),lat:l(a,b)}};c.getLonDeltaForDistance=p;c.getLatDeltaForDistance=q;c.getLatLonDeltaForDistance=function(b,a,c){return{lat:q(b,a,c),lon:p(b,a,c)}};c.getMaxCameraAltitude=function(b){b=e.deg2rad(b/2);return(1-Math.sin(b))*c.earthRadius/Math.sin(b)};c.getViewExtentDistance=function(b,a){a=e.deg2rad(a/2);return 2*e.acos((Math.pow(b+
c.earthRadius,2)+Math.pow(c.earthRadius,2)-Math.pow((b+c.earthRadius)*Math.cos(a)-Math.sqrt(Math.pow(Math.cos(a)*(b+c.earthRadius),2)-b*b-2*b*c.earthRadius),2))/(2*(b+c.earthRadius)*c.earthRadius))*c.earthRadius};c.computeCartesianDistance=function(b,a){b=n.wgs84ComparableLonLatToECEF(v,b.longitude,b.latitude,b.z||0);a=n.wgs84ComparableLonLatToECEF(w,a.longitude,a.latitude,a.z||0);a=[a[0]-b[0],a[1]-b[1],a[2]-b[2]];return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])};c.longitudeToTimezone=r;c.positionToTimezone=
function(b,a){a||(a={hours:0,minutes:0,seconds:0});a.hours=r(b[0],!0);b=a.hours%1;a.hours-=b;a.minutes=60*b;b=a.minutes%1;a.minutes-=b;a.seconds=Math.round(60*b);return a};c.distanceToIdealHorizon=function(b,a){a=a||c.earthRadius;b=u.vec3.dot(b,b);return Math.sqrt(Math.abs(b-a*a))};var v=m.vec3f64.create(),w=m.vec3f64.create()});