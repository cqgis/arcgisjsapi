// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat4=n})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(b,a,n,g){function m(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function h(a,c,d){var f=c[0],b=c[1],l=c[2],v=c[3],
e=c[4],k=c[5],r=c[6],p=c[7],h=c[8],g=c[9],m=c[10],n=c[11],z=c[12],B=c[13],F=c[14];c=c[15];var H=d[0],J=d[1],E=d[2],K=d[3];a[0]=H*f+J*e+E*h+K*z;a[1]=H*b+J*k+E*g+K*B;a[2]=H*l+J*r+E*m+K*F;a[3]=H*v+J*p+E*n+K*c;H=d[4];J=d[5];E=d[6];K=d[7];a[4]=H*f+J*e+E*h+K*z;a[5]=H*b+J*k+E*g+K*B;a[6]=H*l+J*r+E*m+K*F;a[7]=H*v+J*p+E*n+K*c;H=d[8];J=d[9];E=d[10];K=d[11];a[8]=H*f+J*e+E*h+K*z;a[9]=H*b+J*k+E*g+K*B;a[10]=H*l+J*r+E*m+K*F;a[11]=H*v+J*p+E*n+K*c;H=d[12];J=d[13];E=d[14];K=d[15];a[12]=H*f+J*e+E*h+K*z;a[13]=H*b+J*k+
E*g+K*B;a[14]=H*l+J*r+E*m+K*F;a[15]=H*v+J*p+E*n+K*c;return a}function e(a,c,d){var f=c[0],b=c[1],l=c[2],v=c[3],e=f+f,k=b+b,r=l+l;c=f*e;var p=f*k,f=f*r,h=b*k,b=b*r,l=l*r,e=v*e,k=v*k,v=v*r;a[0]=1-(h+l);a[1]=p+v;a[2]=f-k;a[3]=0;a[4]=p-v;a[5]=1-(c+l);a[6]=b+e;a[7]=0;a[8]=f+k;a[9]=b-e;a[10]=1-(c+h);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function k(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];a[2]=c[2]-d[2];a[3]=c[3]-d[3];a[4]=c[4]-d[4];a[5]=c[5]-d[5];a[6]=c[6]-d[6];a[7]=c[7]-d[7];a[8]=c[8]-
d[8];a[9]=c[9]-d[9];a[10]=c[10]-d[10];a[11]=c[11]-d[11];a[12]=c[12]-d[12];a[13]=c[13]-d[13];a[14]=c[14]-d[14];a[15]=c[15]-d[15];return a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};a.set=function(a,c,d,b,q,l,v,e,k,r,p,h,g,m,n,z,B){a[0]=c;a[1]=d;a[2]=b;a[3]=q;a[4]=l;a[5]=v;a[6]=e;a[7]=k;a[8]=r;
a[9]=p;a[10]=h;a[11]=g;a[12]=m;a[13]=n;a[14]=z;a[15]=B;return a};a.identity=m;a.transpose=function(a,c){if(a===c){var d=c[1],f=c[2],b=c[3],l=c[6],v=c[7],e=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=d;a[6]=c[9];a[7]=c[13];a[8]=f;a[9]=l;a[11]=c[14];a[12]=b;a[13]=v;a[14]=e}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a};a.invert=function(a,c){var d=c[0],f=c[1],b=c[2],
l=c[3],v=c[4],e=c[5],k=c[6],r=c[7],p=c[8],h=c[9],g=c[10],m=c[11],n=c[12],z=c[13],B=c[14];c=c[15];var F=d*e-f*v,H=d*k-b*v,J=d*r-l*v,E=f*k-b*e,K=f*r-l*e,I=b*r-l*k,O=p*z-h*n,N=p*B-g*n,P=p*c-m*n,Q=h*B-g*z,R=h*c-m*z,U=g*c-m*B,L=F*U-H*R+J*Q+E*P-K*N+I*O;if(!L)return null;L=1/L;a[0]=(e*U-k*R+r*Q)*L;a[1]=(b*R-f*U-l*Q)*L;a[2]=(z*I-B*K+c*E)*L;a[3]=(g*K-h*I-m*E)*L;a[4]=(k*P-v*U-r*N)*L;a[5]=(d*U-b*P+l*N)*L;a[6]=(B*J-n*I-c*H)*L;a[7]=(p*I-g*J+m*H)*L;a[8]=(v*R-e*P+r*O)*L;a[9]=(f*P-d*R-l*O)*L;a[10]=(n*K-z*J+c*F)*
L;a[11]=(h*J-p*K-m*F)*L;a[12]=(e*N-v*Q-k*O)*L;a[13]=(d*Q-f*N+b*O)*L;a[14]=(z*H-n*E-B*F)*L;a[15]=(p*E-h*H+g*F)*L;return a};a.adjoint=function(a,c){var d=c[0],f=c[1],b=c[2],l=c[3],v=c[4],e=c[5],k=c[6],r=c[7],p=c[8],h=c[9],g=c[10],m=c[11],n=c[12],z=c[13],B=c[14];c=c[15];a[0]=e*(g*c-m*B)-h*(k*c-r*B)+z*(k*m-r*g);a[1]=-(f*(g*c-m*B)-h*(b*c-l*B)+z*(b*m-l*g));a[2]=f*(k*c-r*B)-e*(b*c-l*B)+z*(b*r-l*k);a[3]=-(f*(k*m-r*g)-e*(b*m-l*g)+h*(b*r-l*k));a[4]=-(v*(g*c-m*B)-p*(k*c-r*B)+n*(k*m-r*g));a[5]=d*(g*c-m*B)-p*
(b*c-l*B)+n*(b*m-l*g);a[6]=-(d*(k*c-r*B)-v*(b*c-l*B)+n*(b*r-l*k));a[7]=d*(k*m-r*g)-v*(b*m-l*g)+p*(b*r-l*k);a[8]=v*(h*c-m*z)-p*(e*c-r*z)+n*(e*m-r*h);a[9]=-(d*(h*c-m*z)-p*(f*c-l*z)+n*(f*m-l*h));a[10]=d*(e*c-r*z)-v*(f*c-l*z)+n*(f*r-l*e);a[11]=-(d*(e*m-r*h)-v*(f*m-l*h)+p*(f*r-l*e));a[12]=-(v*(h*B-g*z)-p*(e*B-k*z)+n*(e*g-k*h));a[13]=d*(h*B-g*z)-p*(f*B-b*z)+n*(f*g-b*h);a[14]=-(d*(e*B-k*z)-v*(f*B-b*z)+n*(f*k-b*e));a[15]=d*(e*g-k*h)-v*(f*g-b*h)+p*(f*k-b*e);return a};a.determinant=function(a){var c=a[0],d=
a[1],f=a[2],b=a[3],l=a[4],v=a[5],e=a[6],k=a[7],r=a[8],p=a[9],h=a[10],g=a[11],m=a[12],n=a[13],z=a[14];a=a[15];return(c*v-d*l)*(h*a-g*z)-(c*e-f*l)*(p*a-g*n)+(c*k-b*l)*(p*z-h*n)+(d*e-f*v)*(r*a-g*m)-(d*k-b*v)*(r*z-h*m)+(f*k-b*e)*(r*n-p*m)};a.multiply=h;a.translate=function(a,c,d){var f=d[0],b=d[1];d=d[2];var l=void 0,v=void 0,e=void 0,k=void 0,r=void 0,p=void 0,h=void 0,g=void 0,m=void 0,n=void 0,z=void 0,B=void 0;c===a?(a[12]=c[0]*f+c[4]*b+c[8]*d+c[12],a[13]=c[1]*f+c[5]*b+c[9]*d+c[13],a[14]=c[2]*f+c[6]*
b+c[10]*d+c[14],a[15]=c[3]*f+c[7]*b+c[11]*d+c[15]):(l=c[0],v=c[1],e=c[2],k=c[3],r=c[4],p=c[5],h=c[6],g=c[7],m=c[8],n=c[9],z=c[10],B=c[11],a[0]=l,a[1]=v,a[2]=e,a[3]=k,a[4]=r,a[5]=p,a[6]=h,a[7]=g,a[8]=m,a[9]=n,a[10]=z,a[11]=B,a[12]=l*f+r*b+m*d+c[12],a[13]=v*f+p*b+n*d+c[13],a[14]=e*f+h*b+z*d+c[14],a[15]=k*f+g*b+B*d+c[15]);return a};a.scale=function(a,c,d){var f=d[0],b=d[1];d=d[2];a[0]=c[0]*f;a[1]=c[1]*f;a[2]=c[2]*f;a[3]=c[3]*f;a[4]=c[4]*b;a[5]=c[5]*b;a[6]=c[6]*b;a[7]=c[7]*b;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=
c[10]*d;a[11]=c[11]*d;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};a.rotate=function(a,c,d,b){var f=b[0],l=b[1];b=b[2];var t=Math.sqrt(f*f+l*l+b*b),e=void 0,k=void 0,r=void 0,p=void 0,h=void 0,m=void 0,n=void 0,A=void 0,z=void 0,B=void 0,F=void 0,H=void 0,J=void 0,E=void 0,K=void 0,I=void 0,O=void 0,N=void 0,P=void 0,Q=void 0,R=void 0,U=void 0,k=e=void 0;if(t<g.EPSILON)return null;t=1/t;f*=t;l*=t;b*=t;e=Math.sin(d);k=Math.cos(d);r=1-k;p=c[0];h=c[1];m=c[2];n=c[3];A=c[4];z=c[5];B=c[6];
F=c[7];H=c[8];J=c[9];E=c[10];K=c[11];I=f*f*r+k;O=l*f*r+b*e;N=b*f*r-l*e;P=f*l*r-b*e;Q=l*l*r+k;R=b*l*r+f*e;U=f*b*r+l*e;e=l*b*r-f*e;k=b*b*r+k;a[0]=p*I+A*O+H*N;a[1]=h*I+z*O+J*N;a[2]=m*I+B*O+E*N;a[3]=n*I+F*O+K*N;a[4]=p*P+A*Q+H*R;a[5]=h*P+z*Q+J*R;a[6]=m*P+B*Q+E*R;a[7]=n*P+F*Q+K*R;a[8]=p*U+A*e+H*k;a[9]=h*U+z*e+J*k;a[10]=m*U+B*e+E*k;a[11]=n*U+F*e+K*k;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};a.rotateX=function(a,c,d){var f=Math.sin(d);d=Math.cos(d);var b=c[4],l=c[5],e=c[6],k=c[7],
p=c[8],r=c[9],h=c[10],g=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=b*d+p*f;a[5]=l*d+r*f;a[6]=e*d+h*f;a[7]=k*d+g*f;a[8]=p*d-b*f;a[9]=r*d-l*f;a[10]=h*d-e*f;a[11]=g*d-k*f;return a};a.rotateY=function(a,c,d){var f=Math.sin(d);d=Math.cos(d);var b=c[0],l=c[1],e=c[2],k=c[3],p=c[8],r=c[9],h=c[10],g=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=b*d-p*f;a[1]=l*d-r*f;a[2]=e*d-h*f;a[3]=
k*d-g*f;a[8]=b*f+p*d;a[9]=l*f+r*d;a[10]=e*f+h*d;a[11]=k*f+g*d;return a};a.rotateZ=function(a,c,d){var f=Math.sin(d);d=Math.cos(d);var b=c[0],l=c[1],e=c[2],k=c[3],p=c[4],r=c[5],h=c[6],g=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=b*d+p*f;a[1]=l*d+r*f;a[2]=e*d+h*f;a[3]=k*d+g*f;a[4]=p*d-b*f;a[5]=r*d-l*f;a[6]=h*d-e*f;a[7]=g*d-k*f;return a};a.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};a.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotation=function(a,c,d){var f=d[0],b=d[1];d=d[2];var l=Math.sqrt(f*f+b*b+d*d),e=void 0,k=void 0,p=void 0;if(l<g.EPSILON)return null;l=1/l;f*=l;b*=l;d*=l;e=Math.sin(c);k=Math.cos(c);p=1-k;a[0]=f*f*p+k;a[1]=b*f*p+d*e;a[2]=d*f*p-b*e;a[3]=0;a[4]=f*b*p-d*e;a[5]=b*b*
p+k;a[6]=d*b*p+f*e;a[7]=0;a[8]=f*d*p+b*e;a[9]=b*d*p-f*e;a[10]=d*d*p+k;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromXRotation=function(a,c){var d=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromYRotation=function(a,c){var d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};
a.fromZRotation=function(a,c){var d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotationTranslation=e;a.fromQuat2=function(a,c){var d=p,f=-c[0],b=-c[1],l=-c[2],v=c[3],k=c[4],h=c[5],r=c[6],g=c[7],G=f*f+b*b+l*l+v*v;0<G?(d[0]=2*(k*v+g*f+h*l-r*b)/G,d[1]=2*(h*v+g*b+r*f-k*l)/G,d[2]=2*(r*v+g*l+k*b-h*f)/G):(d[0]=2*(k*v+g*f+h*l-r*b),d[1]=2*(h*v+g*b+r*f-k*l),d[2]=2*(r*v+g*l+k*b-h*f));e(a,c,d);
return a};var p=n.create();a.getTranslation=function(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a};a.getScaling=function(a,c){var d=c[0],f=c[1],b=c[2],l=c[4],e=c[5],k=c[6],p=c[8],r=c[9];c=c[10];a[0]=Math.sqrt(d*d+f*f+b*b);a[1]=Math.sqrt(l*l+e*e+k*k);a[2]=Math.sqrt(p*p+r*r+c*c);return a};a.getRotation=function(a,c){var d=c[0]+c[5]+c[10],b=0;0<d?(b=2*Math.sqrt(d+1),a[3]=.25*b,a[0]=(c[6]-c[9])/b,a[1]=(c[8]-c[2])/b,a[2]=(c[1]-c[4])/b):c[0]>c[5]&&c[0]>c[10]?(b=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-
c[9])/b,a[0]=.25*b,a[1]=(c[1]+c[4])/b,a[2]=(c[8]+c[2])/b):c[5]>c[10]?(b=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/b,a[0]=(c[1]+c[4])/b,a[1]=.25*b,a[2]=(c[6]+c[9])/b):(b=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/b,a[0]=(c[8]+c[2])/b,a[1]=(c[6]+c[9])/b,a[2]=.25*b);return a};a.fromRotationTranslationScale=function(a,c,d,b){var f=c[0],l=c[1],t=c[2],e=c[3],k=f+f,r=l+l,p=t+t;c=f*k;var h=f*r,f=f*p,g=l*r,l=l*p,t=t*p,k=e*k,r=e*r,e=e*p,p=b[0],m=b[1];b=b[2];a[0]=(1-(g+t))*p;a[1]=(h+e)*p;a[2]=(f-
r)*p;a[3]=0;a[4]=(h-e)*m;a[5]=(1-(c+t))*m;a[6]=(l+k)*m;a[7]=0;a[8]=(f+r)*b;a[9]=(l-k)*b;a[10]=(1-(c+g))*b;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};a.fromRotationTranslationScaleOrigin=function(a,c,d,b,q){var f=c[0],t=c[1],e=c[2],k=c[3],r=f+f,p=t+t,h=e+e;c=f*r;var g=f*p,m=f*h,f=t*p,t=t*h,n=e*h,e=k*r,p=k*p,z=k*h,B=b[0],F=b[1],h=b[2];b=q[0];k=q[1];q=q[2];var r=(1-(f+n))*B,H=(g+z)*B,B=(m-p)*B,g=(g-z)*F,n=(1-(c+n))*F,F=(t+e)*F,m=(m+p)*h,t=(t-e)*h;c=(1-(c+f))*h;a[0]=r;a[1]=H;a[2]=B;a[3]=
0;a[4]=g;a[5]=n;a[6]=F;a[7]=0;a[8]=m;a[9]=t;a[10]=c;a[11]=0;a[12]=d[0]+b-(r*b+g*k+m*q);a[13]=d[1]+k-(H*b+n*k+t*q);a[14]=d[2]+q-(B*b+F*k+c*q);a[15]=1;return a};a.fromQuat=function(a,c){var d=c[0],b=c[1],f=c[2];c=c[3];var l=d+d,e=b+b,k=f+f,d=d*l,p=b*l,b=b*e,r=f*l,h=f*e,f=f*k,l=c*l,e=c*e;c*=k;a[0]=1-b-f;a[1]=p+c;a[2]=r-e;a[3]=0;a[4]=p-c;a[5]=1-d-f;a[6]=h+l;a[7]=0;a[8]=r+e;a[9]=h-l;a[10]=1-d-b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.frustum=function(a,c,d,b,q,l,e){var f=1/(d-c),t=1/(q-b),
k=1/(l-e);a[0]=2*l*f;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*l*t;a[6]=0;a[7]=0;a[8]=(d+c)*f;a[9]=(q+b)*t;a[10]=(e+l)*k;a[11]=-1;a[12]=0;a[13]=0;a[14]=e*l*2*k;a[15]=0;return a};a.perspective=function(a,c,d,b,q){c=1/Math.tan(c/2);var f=void 0;a[0]=c/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=q&&Infinity!==q?(f=1/(b-q),a[10]=(q+b)*f,a[14]=2*q*b*f):(a[10]=-1,a[14]=-2*b);return a};a.perspectiveFromFieldOfView=function(a,c,d,b){var f=Math.tan(c.upDegrees*
Math.PI/180),l=Math.tan(c.downDegrees*Math.PI/180),t=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);var e=2/(t+c),k=2/(f+l);a[0]=e;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=k;a[6]=0;a[7]=0;a[8]=-((t-c)*e*.5);a[9]=(f-l)*k*.5;a[10]=b/(d-b);a[11]=-1;a[12]=0;a[13]=0;a[14]=b*d/(d-b);a[15]=0;return a};a.ortho=function(a,c,d,b,q,l,e){var f=1/(c-d),t=1/(b-q),k=1/(l-e);a[0]=-2*f;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*t;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*k;a[11]=0;a[12]=(c+d)*f;a[13]=(q+b)*
t;a[14]=(e+l)*k;a[15]=1;return a};a.lookAt=function(a,c,d,b){var f=void 0,l=void 0,t=void 0,e=void 0,k=void 0,r=void 0,p=void 0,h=void 0,n=void 0,D=void 0,A=c[0],z=c[1];c=c[2];t=b[0];e=b[1];b=b[2];p=d[0];h=d[1];d=d[2];if(Math.abs(A-p)<g.EPSILON&&Math.abs(z-h)<g.EPSILON&&Math.abs(c-d)<g.EPSILON)return m(a);p=A-p;h=z-h;n=c-d;D=1/Math.sqrt(p*p+h*h+n*n);p*=D;h*=D;n*=D;f=e*n-b*h;l=b*p-t*n;t=t*h-e*p;(D=Math.sqrt(f*f+l*l+t*t))?(D=1/D,f*=D,l*=D,t*=D):t=l=f=0;e=h*t-n*l;k=n*f-p*t;r=p*l-h*f;(D=Math.sqrt(e*e+
k*k+r*r))?(D=1/D,e*=D,k*=D,r*=D):r=k=e=0;a[0]=f;a[1]=e;a[2]=p;a[3]=0;a[4]=l;a[5]=k;a[6]=h;a[7]=0;a[8]=t;a[9]=r;a[10]=n;a[11]=0;a[12]=-(f*A+l*z+t*c);a[13]=-(e*A+k*z+r*c);a[14]=-(p*A+h*z+n*c);a[15]=1;return a};a.targetTo=function(a,c,d,b){var f=c[0],l=c[1];c=c[2];var t=b[0],e=b[1],k=b[2];b=f-d[0];var r=l-d[1];d=c-d[2];var p=b*b+r*r+d*d;0<p&&(p=1/Math.sqrt(p),b*=p,r*=p,d*=p);var h=e*d-k*r,k=k*b-t*d,t=t*r-e*b,p=h*h+k*k+t*t;0<p&&(p=1/Math.sqrt(p),h*=p,k*=p,t*=p);a[0]=h;a[1]=k;a[2]=t;a[3]=0;a[4]=r*t-d*
k;a[5]=d*h-b*t;a[6]=b*k-r*h;a[7]=0;a[8]=b;a[9]=r;a[10]=d;a[11]=0;a[12]=f;a[13]=l;a[14]=c;a[15]=1;return a};a.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],
2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};a.add=function(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];a[3]=c[3]+d[3];a[4]=c[4]+d[4];a[5]=c[5]+d[5];a[6]=c[6]+d[6];a[7]=c[7]+d[7];a[8]=c[8]+d[8];a[9]=c[9]+d[9];a[10]=c[10]+d[10];a[11]=c[11]+d[11];a[12]=c[12]+d[12];a[13]=c[13]+d[13];a[14]=c[14]+d[14];a[15]=c[15]+d[15];return a};a.subtract=k;a.multiplyScalar=function(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=
c[4]*d;a[5]=c[5]*d;a[6]=c[6]*d;a[7]=c[7]*d;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12]*d;a[13]=c[13]*d;a[14]=c[14]*d;a[15]=c[15]*d;return a};a.multiplyScalarAndAdd=function(a,c,d,b){a[0]=c[0]+d[0]*b;a[1]=c[1]+d[1]*b;a[2]=c[2]+d[2]*b;a[3]=c[3]+d[3]*b;a[4]=c[4]+d[4]*b;a[5]=c[5]+d[5]*b;a[6]=c[6]+d[6]*b;a[7]=c[7]+d[7]*b;a[8]=c[8]+d[8]*b;a[9]=c[9]+d[9]*b;a[10]=c[10]+d[10]*b;a[11]=c[11]+d[11]*b;a[12]=c[12]+d[12]*b;a[13]=c[13]+d[13]*b;a[14]=c[14]+d[14]*b;a[15]=c[15]+d[15]*b;return a};
a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]};a.equals=function(a,c){var d=a[0],b=a[1],q=a[2],l=a[3],f=a[4],e=a[5],k=a[6],r=a[7],p=a[8],h=a[9],m=a[10],n=a[11],A=a[12],z=a[13],B=a[14];a=a[15];var F=c[0],H=c[1],J=c[2],E=c[3],K=c[4],I=c[5],O=c[6],N=c[7],P=c[8],Q=c[9],R=c[10],U=c[11],L=c[12],fa=
c[13],Y=c[14];c=c[15];return Math.abs(d-F)<=g.EPSILON*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(b-H)<=g.EPSILON*Math.max(1,Math.abs(b),Math.abs(H))&&Math.abs(q-J)<=g.EPSILON*Math.max(1,Math.abs(q),Math.abs(J))&&Math.abs(l-E)<=g.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(f-K)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(K))&&Math.abs(e-I)<=g.EPSILON*Math.max(1,Math.abs(e),Math.abs(I))&&Math.abs(k-O)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(O))&&Math.abs(r-N)<=g.EPSILON*Math.max(1,Math.abs(r),
Math.abs(N))&&Math.abs(p-P)<=g.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(h-Q)<=g.EPSILON*Math.max(1,Math.abs(h),Math.abs(Q))&&Math.abs(m-R)<=g.EPSILON*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(n-U)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(U))&&Math.abs(A-L)<=g.EPSILON*Math.max(1,Math.abs(A),Math.abs(L))&&Math.abs(z-fa)<=g.EPSILON*Math.max(1,Math.abs(z),Math.abs(fa))&&Math.abs(B-Y)<=g.EPSILON*Math.max(1,Math.abs(B),Math.abs(Y))&&Math.abs(a-c)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};
a.mul=h;a.sub=k})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(b,a){function n(){return[0,0,0]}function g(){return[1,1,1]}function m(){return[1,0,0]}function h(){return[0,1,0]}function e(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,b,f){return[a,b,f]};a.fromArray=function(a){for(var b=n(),f=Math.min(3,a.length),c=0;c<f;++c)b[c]=a[c];return b};a.createView=
function(a,b){return new Float64Array(a,b,3)};a.zeros=function(){return n()};a.ones=g;a.unitX=m;a.unitY=h;a.unitZ=e;a.ZEROS=n();a.ONES=g();a.UNIT_X=m();a.UNIT_Y=h();a.UNIT_Z=e()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.EPSILON=1E-6;a.RANDOM=Math.random;var n=Math.PI/180,g=180/Math.PI;a.toRadian=function(a){return a*n};a.toDegree=function(a){return a*g};a.equals=function(b,h){return Math.abs(b-
h)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(h))}})},"esri/core/libs/gl-matrix-2/mat4f64":function(){define(["require","exports","./factories/mat4f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat4f64=n})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],
a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]};a.fromValues=function(a,b,m,h,e,k,p,f,c,d,t,q,l,v,x,w){return[a,b,m,h,e,k,p,f,c,d,t,q,l,v,x,w]};a.createView=function(a,b){return new Float64Array(a,b,16)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.quat=n})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(b,a,n,g,m,h,e,k){function p(a,c,d){d*=.5;var b=Math.sin(d);a[0]=b*c[0];a[1]=b*c[1];a[2]=b*c[2];a[3]=Math.cos(d);return a}function f(a,c,d){var b=c[0],l=c[1],f=c[2];c=c[3];var q=d[0],t=d[1],e=d[2];d=d[3];a[0]=b*d+c*q+l*e-f*t;a[1]=l*d+c*t+f*q-b*e;a[2]=f*d+c*e+b*t-l*q;a[3]=c*d-b*q-l*t-f*e;return a}function c(a,c,d,b){var l=c[0],f=c[1],q=c[2];c=c[3];var t=d[0],e=d[1],k=d[2];d=d[3];var p,r,v;r=l*t+f*e+q*k+c*d;0>r&&(r=-r,t=-t,e=-e,k=-k,d=-d);1-r>h.EPSILON?(p=Math.acos(r),v=Math.sin(p),r=Math.sin((1-
b)*p)/v,b=Math.sin(b*p)/v):r=1-b;a[0]=r*l+b*t;a[1]=r*f+b*e;a[2]=r*q+b*k;a[3]=r*c+b*d;return a}function d(a,c){var d=c[0]+c[4]+c[8];if(0<d)d=Math.sqrt(d+1),a[3]=.5*d,d=.5/d,a[0]=(c[5]-c[7])*d,a[1]=(c[6]-c[2])*d,a[2]=(c[1]-c[3])*d;else{var b=0;c[4]>c[0]&&(b=1);c[8]>c[3*b+b]&&(b=2);var l=(b+1)%3,f=(b+2)%3,d=Math.sqrt(c[3*b+b]-c[3*l+l]-c[3*f+f]+1);a[b]=.5*d;d=.5/d;a[3]=(c[3*l+f]-c[3*f+l])*d;a[l]=(c[3*l+b]+c[3*b+l])*d;a[f]=(c[3*f+b]+c[3*b+f])*d}return a}Object.defineProperty(a,"__esModule",{value:!0});
a.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};a.setAxisAngle=p;a.getAxisAngle=function(a,c){var d=2*Math.acos(c[3]),b=Math.sin(d/2);b>h.EPSILON?(a[0]=c[0]/b,a[1]=c[1]/b,a[2]=c[2]/b):(a[0]=1,a[1]=0,a[2]=0);return d};a.multiply=f;a.rotateX=function(a,c,d){d*=.5;var b=c[0],l=c[1],f=c[2];c=c[3];var q=Math.sin(d);d=Math.cos(d);a[0]=b*d+c*q;a[1]=l*d+f*q;a[2]=f*d-l*q;a[3]=c*d-b*q;return a};a.rotateY=function(a,c,d){d*=.5;var b=c[0],l=c[1],f=c[2];c=c[3];var q=Math.sin(d);d=Math.cos(d);a[0]=
b*d-f*q;a[1]=l*d+c*q;a[2]=f*d+b*q;a[3]=c*d-l*q;return a};a.rotateZ=function(a,c,d){d*=.5;var b=c[0],l=c[1],f=c[2];c=c[3];var q=Math.sin(d);d=Math.cos(d);a[0]=b*d+l*q;a[1]=l*d-b*q;a[2]=f*d+c*q;a[3]=c*d-f*q;return a};a.calculateW=function(a,c){var d=c[0],b=c[1];c=c[2];a[0]=d;a[1]=b;a[2]=c;a[3]=Math.sqrt(Math.abs(1-d*d-b*b-c*c));return a};a.slerp=c;a.random=function(a){var c=h.RANDOM(),d=h.RANDOM(),b=h.RANDOM(),l=Math.sqrt(1-c),c=Math.sqrt(c);a[0]=l*Math.sin(2*Math.PI*d);a[1]=l*Math.cos(2*Math.PI*d);
a[2]=c*Math.sin(2*Math.PI*b);a[3]=c*Math.cos(2*Math.PI*b);return a};a.invert=function(a,c){var d=c[0],b=c[1],l=c[2];c=c[3];var f=d*d+b*b+l*l+c*c,f=f?1/f:0;a[0]=-d*f;a[1]=-b*f;a[2]=-l*f;a[3]=c*f;return a};a.conjugate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};a.fromMat3=d;a.fromEuler=function(a,c,d,b){var l=.5*Math.PI/180;c*=l;d*=l;b*=l;l=Math.sin(c);c=Math.cos(c);var f=Math.sin(d);d=Math.cos(d);var q=Math.sin(b);b=Math.cos(b);a[0]=l*d*b-c*f*q;a[1]=c*f*b+l*d*q;a[2]=c*d*q-l*
f*b;a[3]=c*d*b+l*f*q;return a};a.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.copy=k.copy;a.set=k.set;a.add=k.add;a.mul=f;a.scale=k.scale;a.dot=k.dot;a.lerp=k.lerp;a.length=k.length;a.len=a.length;a.squaredLength=k.squaredLength;a.sqrLen=a.squaredLength;a.normalize=k.normalize;a.exactEquals=k.exactEquals;a.equals=k.equals;a.rotationTo=function(c,d,b){var f=e.dot(d,b);if(-.999999>f)return e.cross(t,q,d),1E-6>e.len(t)&&e.cross(t,l,d),e.normalize(t,t),p(c,t,Math.PI),c;if(.999999<
f)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;e.cross(t,d,b);c[0]=t[0];c[1]=t[1];c[2]=t[2];c[3]=1+f;return a.normalize(c,c)};var t=m.create(),q=m.fromValues(1,0,0),l=m.fromValues(0,1,0);a.sqlerp=function(a,d,b,l,f,q){c(v,d,f,q);c(x,b,l,q);c(a,v,x,2*q*(1-q));return a};var v=g.create(),x=g.create();a.setAxes=function(c,b,l,f){var q=w;q[0]=l[0];q[3]=l[1];q[6]=l[2];q[1]=f[0];q[4]=f[1];q[7]=f[2];q[2]=-b[0];q[5]=-b[1];q[8]=-b[2];return a.normalize(c,d(c,q))};var w=n.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[1,0,0,0,1,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};a.fromValues=function(a,b,m,h,e,k,p,f,c){return[a,b,m,h,e,k,p,f,c]};a.createView=function(a,b){return new Float64Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,
0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,m,h){return[a,b,m,h]};a.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(b,a,n,g){function m(a){var c=a[0],d=a[1];a=a[2];return Math.sqrt(c*c+d*d+a*a)}function h(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a}function e(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];a[2]=c[2]-d[2];return a}function k(a,
c,d){a[0]=c[0]*d[0];a[1]=c[1]*d[1];a[2]=c[2]*d[2];return a}function p(a,c,d){a[0]=c[0]/d[0];a[1]=c[1]/d[1];a[2]=c[2]/d[2];return a}function f(a,c){var d=c[0]-a[0],b=c[1]-a[1];a=c[2]-a[2];return Math.sqrt(d*d+b*b+a*a)}function c(a,c){var d=c[0]-a[0],b=c[1]-a[1];a=c[2]-a[2];return d*d+b*b+a*a}function d(a){var c=a[0],d=a[1];a=a[2];return c*c+d*d+a*a}function t(a,c){var d=c[0],b=c[1],l=c[2],d=d*d+b*b+l*l;0<d&&(d=1/Math.sqrt(d),a[0]=c[0]*d,a[1]=c[1]*d,a[2]=c[2]*d);return a}function q(a,c){return a[0]*
c[0]+a[1]*c[1]+a[2]*c[2]}Object.defineProperty(a,"__esModule",{value:!0});a.length=m;a.copy=h;a.set=function(a,c,d,b){a[0]=c;a[1]=d;a[2]=b;return a};a.add=function(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];return a};a.subtract=e;a.multiply=k;a.divide=p;a.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);a[2]=Math.ceil(c[2]);return a};a.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);return a};a.min=function(a,c,d){a[0]=Math.min(c[0],d[0]);
a[1]=Math.min(c[1],d[1]);a[2]=Math.min(c[2],d[2]);return a};a.max=function(a,c,d){a[0]=Math.max(c[0],d[0]);a[1]=Math.max(c[1],d[1]);a[2]=Math.max(c[2],d[2]);return a};a.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);a[2]=Math.round(c[2]);return a};a.scale=function(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;return a};a.scaleAndAdd=function(a,c,d,b){a[0]=c[0]+d[0]*b;a[1]=c[1]+d[1]*b;a[2]=c[2]+d[2]*b;return a};a.distance=f;a.squaredDistance=c;a.squaredLength=d;a.negate=function(a,c){a[0]=
-c[0];a[1]=-c[1];a[2]=-c[2];return a};a.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};a.normalize=t;a.dot=q;a.cross=function(a,c,d){var b=c[0],l=c[1];c=c[2];var f=d[0],q=d[1];d=d[2];a[0]=l*d-c*q;a[1]=c*f-b*d;a[2]=b*q-l*f;return a};a.lerp=function(a,c,d,b){var l=c[0],f=c[1];c=c[2];a[0]=l+b*(d[0]-l);a[1]=f+b*(d[1]-f);a[2]=c+b*(d[2]-c);return a};a.hermite=function(a,c,d,b,l,f){var q=f*f,t=q*(2*f-3)+1,e=q*(f-2)+f,k=q*(f-1);f=q*(3-2*f);a[0]=c[0]*t+d[0]*e+b[0]*k+l[0]*f;a[1]=c[1]*t+
d[1]*e+b[1]*k+l[1]*f;a[2]=c[2]*t+d[2]*e+b[2]*k+l[2]*f;return a};a.bezier=function(a,c,d,b,l,f){var q=1-f,t=q*q,e=f*f,k=t*q,t=3*f*t,q=3*e*q;f*=e;a[0]=c[0]*k+d[0]*t+b[0]*q+l[0]*f;a[1]=c[1]*k+d[1]*t+b[1]*q+l[1]*f;a[2]=c[2]*k+d[2]*t+b[2]*q+l[2]*f;return a};a.random=function(a,c){c=c||1;var d=2*g.RANDOM()*Math.PI,b=2*g.RANDOM()-1,l=Math.sqrt(1-b*b)*c;a[0]=Math.cos(d)*l;a[1]=Math.sin(d)*l;a[2]=b*c;return a};a.transformMat4=function(a,c,d){var b=c[0],l=c[1];c=c[2];a[0]=d[0]*b+d[4]*l+d[8]*c+d[12];a[1]=d[1]*
b+d[5]*l+d[9]*c+d[13];a[2]=d[2]*b+d[6]*l+d[10]*c+d[14];return a};a.transformMat3=function(a,c,d){var b=c[0],l=c[1];c=c[2];a[0]=b*d[0]+l*d[3]+c*d[6];a[1]=b*d[1]+l*d[4]+c*d[7];a[2]=b*d[2]+l*d[5]+c*d[8];return a};a.transformQuat=function(a,c,d){var b=d[0],l=d[1],f=d[2],q=c[0],t=c[1];c=c[2];var e=l*c-f*t,k=f*q-b*c,p=b*t-l*q;d=2*d[3];a[0]=q+e*d+2*(l*p-f*k);a[1]=t+k*d+2*(f*e-b*p);a[2]=c+p*d+2*(b*k-l*e);return a};a.rotateX=function(a,c,d,b){var l=[],f=[];l[0]=c[0]-d[0];l[1]=c[1]-d[1];l[2]=c[2]-d[2];f[0]=
l[0];f[1]=l[1]*Math.cos(b)-l[2]*Math.sin(b);f[2]=l[1]*Math.sin(b)+l[2]*Math.cos(b);a[0]=f[0]+d[0];a[1]=f[1]+d[1];a[2]=f[2]+d[2];return a};a.rotateY=function(a,c,d,b){var l=[],f=[];l[0]=c[0]-d[0];l[1]=c[1]-d[1];l[2]=c[2]-d[2];f[0]=l[2]*Math.sin(b)+l[0]*Math.cos(b);f[1]=l[1];f[2]=l[2]*Math.cos(b)-l[0]*Math.sin(b);a[0]=f[0]+d[0];a[1]=f[1]+d[1];a[2]=f[2]+d[2];return a};a.rotateZ=function(a,c,d,b){var l=[],f=[];l[0]=c[0]-d[0];l[1]=c[1]-d[1];l[2]=c[2]-d[2];f[0]=l[0]*Math.cos(b)-l[1]*Math.sin(b);f[1]=l[0]*
Math.sin(b)+l[1]*Math.cos(b);f[2]=l[2];a[0]=f[0]+d[0];a[1]=f[1]+d[1];a[2]=f[2]+d[2];return a};a.angle=function(a,c){h(l,a);h(v,c);t(l,l);t(v,v);a=q(l,v);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var l=n.create(),v=n.create();a.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]};a.equals=function(a,c){var d=a[0],b=a[1];a=a[2];var l=c[0],f=c[1];c=c[2];return Math.abs(d-l)<=g.EPSILON*Math.max(1,Math.abs(d),Math.abs(l))&&
Math.abs(b-f)<=g.EPSILON*Math.max(1,Math.abs(b),Math.abs(f))&&Math.abs(a-c)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};a.sub=e;a.mul=k;a.div=p;a.dist=f;a.sqrDist=c;a.len=m;a.sqrLen=d})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(b,a,n){function g(a,d,b){a[0]=d[0]-b[0];a[1]=d[1]-b[1];a[2]=d[2]-b[2];a[3]=d[3]-b[3];return a}function m(a,d,b){a[0]=d[0]*b[0];a[1]=d[1]*b[1];a[2]=d[2]*b[2];a[3]=d[3]*b[3];return a}function h(a,d,b){a[0]=d[0]/b[0];
a[1]=d[1]/b[1];a[2]=d[2]/b[2];a[3]=d[3]/b[3];return a}function e(a,d){var c=d[0]-a[0],b=d[1]-a[1],l=d[2]-a[2];a=d[3]-a[3];return Math.sqrt(c*c+b*b+l*l+a*a)}function k(a,d){var c=d[0]-a[0],b=d[1]-a[1],l=d[2]-a[2];a=d[3]-a[3];return c*c+b*b+l*l+a*a}function p(a){var c=a[0],b=a[1],f=a[2];a=a[3];return Math.sqrt(c*c+b*b+f*f+a*a)}function f(a){var c=a[0],b=a[1],f=a[2];a=a[3];return c*c+b*b+f*f+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,d){a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=
d[3];return a};a.set=function(a,d,b,f,l){a[0]=d;a[1]=b;a[2]=f;a[3]=l;return a};a.add=function(a,d,b){a[0]=d[0]+b[0];a[1]=d[1]+b[1];a[2]=d[2]+b[2];a[3]=d[3]+b[3];return a};a.subtract=g;a.multiply=m;a.divide=h;a.ceil=function(a,d){a[0]=Math.ceil(d[0]);a[1]=Math.ceil(d[1]);a[2]=Math.ceil(d[2]);a[3]=Math.ceil(d[3]);return a};a.floor=function(a,d){a[0]=Math.floor(d[0]);a[1]=Math.floor(d[1]);a[2]=Math.floor(d[2]);a[3]=Math.floor(d[3]);return a};a.min=function(a,d,b){a[0]=Math.min(d[0],b[0]);a[1]=Math.min(d[1],
b[1]);a[2]=Math.min(d[2],b[2]);a[3]=Math.min(d[3],b[3]);return a};a.max=function(a,d,b){a[0]=Math.max(d[0],b[0]);a[1]=Math.max(d[1],b[1]);a[2]=Math.max(d[2],b[2]);a[3]=Math.max(d[3],b[3]);return a};a.round=function(a,d){a[0]=Math.round(d[0]);a[1]=Math.round(d[1]);a[2]=Math.round(d[2]);a[3]=Math.round(d[3]);return a};a.scale=function(a,d,b){a[0]=d[0]*b;a[1]=d[1]*b;a[2]=d[2]*b;a[3]=d[3]*b;return a};a.scaleAndAdd=function(a,d,b,f){a[0]=d[0]+b[0]*f;a[1]=d[1]+b[1]*f;a[2]=d[2]+b[2]*f;a[3]=d[3]+b[3]*f;return a};
a.distance=e;a.squaredDistance=k;a.length=p;a.squaredLength=f;a.negate=function(a,d){a[0]=-d[0];a[1]=-d[1];a[2]=-d[2];a[3]=-d[3];return a};a.inverse=function(a,d){a[0]=1/d[0];a[1]=1/d[1];a[2]=1/d[2];a[3]=1/d[3];return a};a.normalize=function(a,d){var c=d[0],b=d[1],l=d[2];d=d[3];var f=c*c+b*b+l*l+d*d;0<f&&(f=1/Math.sqrt(f),a[0]=c*f,a[1]=b*f,a[2]=l*f,a[3]=d*f);return a};a.dot=function(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]+a[3]*d[3]};a.lerp=function(a,d,b,f){var c=d[0],q=d[1],e=d[2];d=d[3];a[0]=
c+f*(b[0]-c);a[1]=q+f*(b[1]-q);a[2]=e+f*(b[2]-e);a[3]=d+f*(b[3]-d);return a};a.random=function(a,d){d=d||1;var c,b,l,f,e,k;do c=2*n.RANDOM()-1,b=2*n.RANDOM()-1,e=c*c+b*b;while(1<=e);do l=2*n.RANDOM()-1,f=2*n.RANDOM()-1,k=l*l+f*f;while(1<=k);e=Math.sqrt((1-e)/k);a[0]=d*c;a[1]=d*b;a[2]=d*l*e;a[3]=d*f*e;return a};a.transformMat4=function(a,d,b){var c=d[0],l=d[1],f=d[2];d=d[3];a[0]=b[0]*c+b[4]*l+b[8]*f+b[12]*d;a[1]=b[1]*c+b[5]*l+b[9]*f+b[13]*d;a[2]=b[2]*c+b[6]*l+b[10]*f+b[14]*d;a[3]=b[3]*c+b[7]*l+b[11]*
f+b[15]*d;return a};a.transformQuat=function(a,d,b){var c=d[0],l=d[1],f=d[2],e=b[0],t=b[1],k=b[2];b=b[3];var p=b*c+t*f-k*l,h=b*l+k*c-e*f,g=b*f+e*l-t*c,c=-e*c-t*l-k*f;a[0]=p*b+c*-e+h*-k-g*-t;a[1]=h*b+c*-t+g*-e-p*-k;a[2]=g*b+c*-k+p*-t-h*-e;a[3]=d[3];return a};a.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.exactEquals=function(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]&&a[3]===d[3]};a.equals=function(a,d){var c=a[0],b=a[1],l=a[2];a=a[3];var f=d[0],e=d[1],k=d[2];d=d[3];
return Math.abs(c-f)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(b-e)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(e))&&Math.abs(l-k)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))};a.sub=g;a.mul=m;a.div=h;a.dist=e;a.sqrDist=k;a.len=p;a.sqrLen=f})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.quatf32=n})},
"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){var a=new Float32Array(4);a[3]=1;return a};a.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};a.fromValues=function(a,b,m,h){var e=new Float32Array(4);e[0]=a;e[1]=b;e[2]=m;e[3]=h;return e};a.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require",
"exports","./math/vec3"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec3=n})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f64=n})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(b,a,n,g,m,h,e){b=function(a){function b(c){c=a.call(this)||this;c.latestWkid=null;c.wkid=null;c.wkt=null;return c}n(b,a);f=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return f.WebMercator;if(4326===a.wkid)return f.WGS84}var c=new f;c.read(a);return c};b.prototype.normalizeCtorArgs=function(a){var c;return a&&"object"===typeof a?a:(c={},c["string"===typeof a?"wkt":"wkid"]=a,c)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return e.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return e.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return e.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return e.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,d){this.wkid||(d.wkt=a)};b.prototype.clone=function(){if(this===
f.WGS84)return f.WGS84;if(this===f.WebMercator)return f.WebMercator;var a=new f;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return e.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var f;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;g([h.property({dependsOn:["wkid"],
readOnly:!0})],b.prototype,"isWGS84",null);g([h.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);g([h.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);g([h.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);g([h.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);g([h.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?
!0:!1}}}}}}})],b.prototype,"wkid",void 0);g([h.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);g([h.writer("wkt"),h.writer("web-scene","wkt")],b.prototype,"writeWkt",null);g([h.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=f=g([h.subclass("esri.geometry.SpatialReference")],
b)}(h.declared(m));b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});b.WGS84=new b(e.WGS84);b.WebMercator=new b(e.WebMercator);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator));return b})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require",
"exports"],function(b,a){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(b,a,n,g){var m=arguments.length,h=3>m?a:null===g?g=Object.getOwnPropertyDescriptor(a,n):g,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(b,a,n,g);else for(var k=b.length-1;0<=k;k--)if(e=b[k])h=(3>m?e(h):3<m?e(a,n,h):e(a,n))||h;return 3<m&&h&&Object.defineProperty(a,n,h),h}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(b,a,n,g,m,h,e,k,p){function f(a,c){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var d=new this;d.read(a,c);return d}var c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}n(c,a);c.prototype.read=function(a,c){k.default(this,a,c)};c.prototype.write=function(a,c){return p.default(this,a||{},c)};c.prototype.toJSON=function(a){return this.write(null,a)};c.fromJSON=function(a,c){return f.call(this,a,c)};return c=g([e.subclass("esri.core.JSONSupport")],
c)}(e.declared(m));c.prototype.toJSON.isDefaultToJSON=!0;h.after(function(a){h.hasMixin(a,c)&&(a.fromJSON=f.bind(a))});return c})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(b,a,n,g,m,h,e){a=a.default;b.before(function(a,f){b.hasMixin(a,k)&&g.processPrototype(f)});b.after(function(a){b.hasMixin(a,k)&&(g.processClass(a),
Object.defineProperties(a.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var k=b(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===k)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new a(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var b=[],f=0;f<arguments.length;f++)b.push(arguments[f]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,b)}if(e.interceptor)e.interceptor.onInstanceConstruct(this)},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(p){console.warn(p.stack)}else if(h.removeTarget(this),this.__accessor__.destroy(),e.interceptor)e.interceptor.onInstanceDestroy(this)},get:function(a){return n.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){m.set(this,a,b);return this},watch:function(a,b,c){return h.watch(this,a,b,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},
_override:function(a,b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return k})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(b,a,n){function g(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);
a=a||[];b=b||{};return m([this].concat(a),b)}function m(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var f,c;f=0;for(c=h.length;f<c;f++)h[f](a,b);a=n(a,b);a.createSubclass=g;f=0;for(c=e.length;f<c;f++)e[f](a);return a}var h=[],e=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,c){return c._meta?a.concat(c._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-
1;0<=c;c--)if(a[c].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return n.safeMixin(a,b)};a.before=function(a){h.push(a)};a.after=function(a){e.push(a)}})(m||(m={}));return m})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(b,a,n,g,m,h,e,k,p){Object.defineProperty(a,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.Properties");
b=function(){function a(a){this.host=a;this._origin=k.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new p.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;e.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=
this.cursors;if(a)for(var c=0,b=Object.getOwnPropertyNames(a);c<b.length;c++){var l=b[c],f=a[l];if(f){for(;0<f.length;)f.pop().propertyDestroyed(this,l);a[l]=null}}if(this.autoDestroy)for(l in this.metadatas)(a=this.internalGet(l))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[l].nonNullable||this.internalSet(l,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&
(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var c=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var d=c.get;return d?(c=d.call(this.host),this.store.set(a,c,k.OriginId.COMPUTED),this.propertyCommitted(a),c):c.value};a.prototype.getterStatic=function(a,c){return this.store.has(a)?this.store.get(a):c.value};a.prototype.getterComputed=function(a,c){if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);c=c.get.call(this.host);
this.store.set(a,c,k.OriginId.COMPUTED);this.propertyCommitted(a);return c};a.prototype.originOf=function(a){var c=this.store.originOf(a);return void 0===c&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":k.idToName(c)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var c=this.store;return c.has(a)?c.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,c){if(this.metadatas[a]){var d=this.initialized?
this._origin:k.OriginId.DEFAULTS,b=this.store.get(a);g.equals(c,b)&&d===this.store.originOf(a)&&this.store.has(a,d)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,c,d),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=function(a,c){if(this.metadatas[a]){this.overridden||(this.overridden={});var b=this.metadatas[a];if(!b.nonNullable||
null!=c){if(b=b.cast){c=this.cast(b,c);var b=c.valid,d=c.value;f.release(c);if(!b)return;c=d}this.overridden[a]=!0;this.internalSet(a,c)}}};a.prototype.set=function(a,c){if(this.metadatas[a]){var b=this.metadatas[a];if(!b.nonNullable||null!=c){var d=b.set;if(b=b.cast){c=this.cast(b,c);var b=c.valid,e=c.value;f.release(c);if(!b)return;c=e}d?d.call(this.host,c):this.internalSet(a,c)}}};a.prototype.setDefaultOrigin=function(a){this._origin=k.nameToId(a)};a.prototype.propertyInvalidated=function(a){var c=
this.dirties,b=this.isOverridden(a),d=this.cursors&&this.cursors[a],f=this.metadatas[a].computes;if(d)for(var e=0;e<d.length;e++)d[e].propertyInvalidated(this,a);b||(c[a]=!0);if(f)for(a=0;a<f.length;a++)this.propertyInvalidated(f[a])};a.prototype.propertyCommitted=function(a){var c=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(c)for(var b=0;b<c.length;b++)c[b].propertyCommitted(this,a)};a.prototype.addCursor=function(a,c){this.cursors||(this.cursors={});var b=this.cursors[a];b||(this.cursors[a]=
b=[]);b.push(c)};a.prototype.removeCursor=function(a,c){var b=this.cursors[a];this.cursors[a]&&(b.splice(b.indexOf(c),1),0===b.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,c){var b=f.acquire();b.valid=!0;b.value=c;a&&(b.value=a.call(this.host,c,b));return b};return a}();n=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var f=new h(n);a.default=b})},"esri/core/accessorSupport/extensions":function(){define(["require",
"exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(b,a,n,g,m){Object.defineProperty(a,"__esModule",{value:!0});var h=[n.default,g.default,m.default];a.processPrototypeMetadatas=function(a,b){for(var e=0;e<h.length;e++){var f=h[e];if(f.processPrototypePropertyMetadata)for(var c in a)f.processPrototypePropertyMetadata(c,a[c],a,b)}};a.processClassMetadatas=function(a,b){for(var e=0;e<h.length;e++){var f=h[e];if(f.processClassPropertyMetadata)for(var c in a)f.processClassPropertyMetadata(c,
a[c],a,b)}};a.instanceCreated=function(a,b){for(var e=Object.getOwnPropertyNames(b),f=0;f<h.length;f++){var c=h[f];c.instanceCreated&&c.instanceCreated(a,b,e)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(b,a,n,g,m,h,e){function k(a,b,c){var d=h.getProperties(a);return e.wire(a,c.aliasOf,function(){d.propertyInvalidated(b)})}Object.defineProperty(a,"__esModule",{value:!0});a.AliasedPropertyExtension=
{processClassPropertyMetadata:function(a,b,c,d){var f=b.aliasOf;if(f&&(a=f.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var e;b.get=function(){var a=g.default(this,f);if("function"===typeof a){e||(e=f.split(".").slice(0,-1).join("."));var c=g.default(this,e);c&&(a=a.bind(c))}return a};b.readOnly||(b.set=function(a){return m.default(this,f,a)})}},instanceCreated:function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d],e=b[f];e.aliasOf&&k(a,f,e)}}};a.default=a.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require",
"exports","./utils"],function(b,a,n){function g(a,b,f){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=f.getItemAt||Array.isArray(f)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(f)?f[c]:f.getItemAt(c)}c=n.getProperties(f);return b?n.isPropertyDeclared(c,a)?c.get(a):f[a]:n.isPropertyDeclared(c,a)?c.internalGet(a):f[a]}function m(a,b,f,c){if(null==a)return a;if((a=g(b[c],f,a))||!(c<b.length-1))return c===b.length-1?a:m(a,b,f,c+1)}function h(a,b,f,c){void 0===f&&(f=!1);void 0===c&&(c=0);return"string"===
typeof b&&-1===b.indexOf(".")?g(b,f,a):m(a,n.pathToArray(b),f,c)}function e(a,b){return h(a,b,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.valueOf=h;a.get=e;a.exists=function(a,b){return void 0!==h(b,a,!0)};a.default=e})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(b,a,n){function g(a,b,f){return b?Object.keys(b).reduce(function(a,d){var c=null,e="merge";f&&(c=f.path?f.path+"."+d:d,e=f.policy(c));if("replace"===e)return a[d]=b[d],a;if(void 0===
a[d])return a[d]=n.clone(b[d]),a;var l=a[d],e=b[d];if(l===e)return a;if(Array.isArray(e)||Array.isArray(a))l=l?Array.isArray(l)?a[d]=l.concat():a[d]=[l]:a[d]=[],e&&(Array.isArray(e)||(e=[e]),e.forEach(function(a){-1===l.indexOf(a)&&l.push(a)}));else if(e&&"object"===typeof e)if(f){var k=f.path;f.path=c;a[d]=g(l,e,f);f.path=k}else a[d]=g(l,e,null);else if(!a.hasOwnProperty(d)||b.hasOwnProperty(d))a[d]=e;return a},a||{}):a}function m(a){return Array.isArray(a)?a:a.split(".")}function h(a){if(Array.isArray(a)||
-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function e(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(a,"__esModule",{value:!0});a.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};a.merge=function(a,b,f){return f?g(a,b,{policy:f,path:""}):g(a,b,null)};a.pathToStringOrArray=
function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:m(a)};a.pathToArray=m;a.splitPath=h;a.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=m(a);for(var b=Array(a.length),f=0;f<a.length;f++){var c=a[f];b[f]="?"===c[c.length-1];b[f]&&(a[f]=c.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};a.parse=function(a,b,f,c){b=h(b);if(Array.isArray(b)){var d=b.map(function(b){return c(a,b.trim(),f)});return{remove:e(function(){return d.forEach(function(a){return a.remove()})})}}return c(a,
b.trim(),f)};a.once=e})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(b,a,n,g,m){function h(a,b,p){if(a&&b)if("object"===typeof b){p=0;for(var f=Object.getOwnPropertyNames(b);p<f.length;p++){var c=f[p];h(a,c,b[c])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),c=b.splice(b.length-1,1)[0],h(m.default(a,b),c,p)):a[b]=p)}Object.defineProperty(a,"__esModule",{value:!0});g.getLogger("esri.core.accessorSupport.set");a.set=h;a.default=
h})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(b,a,n){function g(a,c,b){c=n.splitPath(c);if(Array.isArray(c)){for(var d=[],f=0;f<c.length;f++)d.push((new m(c[f],b)).install(a));return new k(d)}a=(new m(c,b)).install(a);return new p(a)}Object.defineProperty(a,"__esModule",{value:!0});var m=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=n.parseConditionalPath(a))this.path=a.fullPath,
this.conditional=a.conditional;this.chain=n.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new e(this,a):new h(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),h=function(){function a(a,b){this.binding=a;this.target=b;n.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&
(n.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){n.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),e=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=n.getProperties(b);this.stack.push({properties:this.properties,
propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),
this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var c=this.stack,d=c[c.length-1];d.properties!==a&&d.propertyName!==b;)d.properties.removeCursor(d.propertyName,this),c.pop(),d=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=n.getProperties(b))&&a.length<
this.binding.chain.length){var f=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[f]||(this.stack.push({properties:b,propertyName:f}),b.addCursor(f,this),this.moveForward())}};return a}(),k=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),p=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=
null};return a}();a.create=function(a,c){a=n.splitPath(a);if(Array.isArray(a)){for(var b=[],f=0;f<a.length;f++)b.push(new m(a[f],c));return function(a){for(var c=[],d=0;d<b.length;d++)c[d]=b[d].install(a);return new k(c)}}var e=new m(a,c);return function(a){return new p(e.install(a))}};a.wire=g;a.default=g})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(b,a,n,g,m,h){Object.defineProperty(a,"__esModule",
{value:!0});g.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,p,f){b.dependsOn&&(p=void 0,p=b.dependsOn.slice())&&(b.wire=h.create(p,function(c){return m.getProperties(c).propertyInvalidated(a)}))},instanceCreated:function(a,b,h){for(var f=0;f<h.length;f++){var c=b[h[f]];c.wire&&c.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(b,a,n,g,m,h,e){function k(a,b,c){var d=a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&("any"===b||b in a)&&(d=a);return d}Object.defineProperty(a,"__esModule",{value:!0});a.originSpecificReadPropertyDefinition=function(a,b){return k(a,"read",b)};a.originSpecificWritePropertyDefinition=function(a,b){return k(a,"write",b)};a.originSpecificPropertyDefinition=k;a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,c,d){if(h.process(b)){g.process(b);
c=b.type;for(d=0;Array.isArray(c)&&!n.isOneOf(c);)c=c[0],d++;if(b.json.origins)for(var f in b.json.origins){var q=b.json.origins[f];m.create(c,d,a,q);e.create(c,d,a,q)}m.create(c,d,a,b.json);e.create(c,d,a,b.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,
m={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var e=b[a];m[a].forEach(function(a){b[a]=e});delete b[a]}};for(var h in m)a(h)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(b,a,n,g){function m(a,c,b,l){if(1<c)return k(a,c);if(1===c)return p(a);if(f(a)){var d=p(a.prototype.itemType.Type);return function(c,b,l){return(c=d(c,b,l))?new a(c):c}}return h(a)}function h(a){return a.prototype.read?
function(c,b,d){if(null==c)return c;b=new a;b.read(c,d);return b}:a.fromJSON}function e(a,c,b,l){return 0!==l&&Array.isArray(c)?c.map(function(c){return e(a,c,b,l-1)}):a(c,null,b)}function k(a,c){a=h(a);var b=e.bind(null,a);return function(a,d,f){if(null==a)return a;a=b(a,f,c);d=c;for(f=a;0<d&&Array.isArray(f);)d--,f=f[0];if(void 0!==f)for(f=0;f<d;f++)a=[a];return a}}function p(a){var c=h(a);return function(a,b,d){return null==a?a:Array.isArray(a)?a.map(function(a){return c(a,null,d)}):[c(a,null,
d)]}}function f(a){return g.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?c(a.Type):!1:!1}function c(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||f(a))}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,b,f,l){(!l.read||!l.read.reader&&!1!==l.read.enabled)&&c(a)&&n.setDeepValue("read.reader",m(a,b,f,l),l)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],
function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(b,a){function n(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&
(a.read.enabled=!0)}function g(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){a.json||(a.json={});n(a.json);g(a.json);if(a.json.origins)for(var b in a.json.origins)n(a.json.origins[b]),g(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(b,a,n,g){function m(a,c,b,e){n.setDeepValue(b,h(a,e),c)}function h(a,c){return a&&"function"===typeof a.write?a.write({},c):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function e(a,c,b,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return h(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[h(a,e)];n.setDeepValue(b,a,c)}function k(a,
c,b){return 0!==b&&Array.isArray(a)?a.map(function(a){return k(a,c,b-1)}):h(a,c)}function p(a){return function(c,b,f,e){if(null===c)c=null;else{c=k(c,e,a);e=a;for(var d=c;0<e&&Array.isArray(d);)e--,d=d[0];if(void 0!==d)for(d=0;d<e;d++)c=[c]}n.setDeepValue(f,c,b)}}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,c,b,t){!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy||(1===c||g.isCollection(a)?t.write.writer=e:t.write.writer=1<c?p(c):m)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(b,a){function n(a){switch(a){case "defaults":return m.DEFAULTS;case "service":return m.SERVICE;case "portal-item":return m.PORTAL_ITEM;case "web-scene":return m.WEB_SCENE;case "web-map":return m.WEB_MAP;case "user":return m.USER}}function g(a){switch(a){case m.DEFAULTS:return"defaults";case m.SERVICE:return"service";case m.PORTAL_ITEM:return"portal-item";case m.WEB_SCENE:return"web-scene";case m.WEB_MAP:return"web-map";case m.USER:return"user"}}Object.defineProperty(a,"__esModule",
{value:!0});var m;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(m=a.OriginId||(a.OriginId={}));a.nameToId=n;a.idToName=g;a.readableNameToId=function(a){return n(a)};a.idToReadableName=function(a){return g(a)};a.writableNameToId=function(a){return n(a)};a.idToWritableName=function(a){return g(a)}})},"esri/core/accessorSupport/Store":function(){define(["require",
"exports","./PropertyOrigin"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return n.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();a.default=b})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(b,a,n,g,m,h,e){function k(a,c){return function(b){b=+a(b);null!=c.min&&(b=Math.max(c.min,b));null!=c.max&&(b=Math.min(c.max,b));return b}}function p(a,c){return null==c.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,c):c.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,c):c.value}}Object.defineProperty(a,"__esModule",{value:!0});a.processPrototype=function(a){var c=a.declaredClass,b=a.properties||{},f;for(f in b){var e=b[f],l=typeof e;
null==e?m.setPropertyMetadata(a,f,{value:e}):Array.isArray(e)?m.setPropertyMetadata(a,f,{type:[e[0]],value:null}):"object"===l?h.getProperties(e)||e instanceof Date?m.setPropertyMetadata(a,f,{type:e.constructor,value:e}):m.setPropertyMetadata(a,f,e):"boolean"===l?m.setPropertyMetadata(a,f,{type:Boolean,value:e}):"string"===l?m.setPropertyMetadata(a,f,{type:String,value:e}):"number"===l?m.setPropertyMetadata(a,f,{type:Number,value:e}):"function"===l&&m.setPropertyMetadata(a,f,{type:e,value:null})}a=
m.getPropertiesMetadata(a);for(f in a){b=a[f];l=b.type;e=b.types;if(!b.cast)if(l){for(var e=b,v=0,p=l;Array.isArray(p)&&1===p.length&&"string"!==typeof p[0]&&"number"!==typeof p[0];)p=p[0],v++;l=n.isOneOf(p)?0===v?n.ensureOneOf(p):n.ensureNArrayTyped(n.ensureOneOf(p),v):1===v?n.ensureArray(p):1<v?n.ensureNArray(p,v):n.ensureType(l);e.cast=l}else e&&(Array.isArray(e)?b.cast=n.ensureArrayTyped(n.ensureOneOfType(e[0])):b.cast=n.ensureOneOfType(e));b.range&&(b.cast=k(b.cast,b.range))}g.processPrototypeMetadatas(a,
c);return a};a.processClass=function(a){for(var c=a.prototype,b=c.declaredClass,f=a._meta.bases,q={},l=f.length-1;0<=l;l--)m.merge(q,m.getMetadata(f[l].prototype));var k=q.properties;g.processClassMetadatas(k,b);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:k,autoDestroy:!!q.autoDestroy}});for(var h={},b=function(a){var c=k[a];h[a]={enumerable:!0,configurable:!0,get:p(a,c),set:function(b){var d=this.__accessor__;if(!d)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,
writable:!0,value:b});else if(!Object.isFrozen(this)){if(d.initialized&&c.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===d.lifecycle&&c.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);d.set(a,b)}}}},f=0,l=Object.getOwnPropertyNames(k);f<l.length;f++)b(l[f]);Object.defineProperties(a.prototype,h);if(q.parameters)for(a=0,b=Object.getOwnPropertyNames(q.parameters);a<
b.length;a++)f=b[a],l=Object.getOwnPropertyDescriptor(c,f)||{value:c[f]},(l=e.autocastMethod(c,f,l))&&Object.defineProperty(c,f,l);return q}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(b,a,n){function g(a){return null!=a.__accessorMetadata__}function m(a){return g(a)&&null!=h(a).properties}function h(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}
function e(a){a=h(a);var c=a.properties;c||(c=a.properties={});return c}function k(a,c){var b=h(a);a=b.parameters;a||(a=b.parameters={});b=a[c];b||(b=[],a[c]=b);return b}function p(a){return c.test(a)?"replace":"merge"}function f(a){return d.test(a)?p(a.slice(11)):"merge"}Object.defineProperty(a,"__esModule",{value:!0});a.hasMetadata=g;a.hasPropertiesMetadata=m;a.hasPropertyMetadata=function(a,c){return m(a)&&null!=e(a)[c]};a.hasParametersMetadata=function(a,c){return g(a)&&null!=h(a).parameters&&
null!=h(a).parameters[c]};a.getMetadata=h;a.getPropertiesMetadata=e;a.getPropertyMetadata=function(a,c){a=e(a);var b=a[c];b||(b=a[c]={});return b};a.setPropertyMetadata=function(a,c,b){e(a)[c]=b};a.getParametersMetadata=k;a.getParameterMetadata=function(a,c,b){var d=k(a,c)[b];d||(k(a,c)[b]=d={index:b});return d};a.merge=function(a,c){return n.merge(a,c,f)};a.mergeProperty=function(a,c){return n.merge(a,c,p)};var c=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,d=/^properties\./})},
"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(b,a,n,g){function m(a){var c="_meta"in a?n.ensureType(a):a;return function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a.push(c);return"number"===typeof a[2]?e.apply(this,a):h.apply(this,a)}}function h(a,c,b,e){g.getPropertyMetadata(a,c).cast=e}function e(a,c,b,e){g.getParameterMetadata(a,c,b).cast=e}function k(a){return function(c,b,e){g.getPropertyMetadata(c,
a).cast=c[b]}}Object.defineProperty(a,"__esModule",{value:!0});var p=Object.prototype.toString;a.autocastMethod=function(a,c,b){if(g.hasParametersMetadata(a,c)){var d=g.getParametersMetadata(a,c).filter(function(a){return null!=a.cast});if(d.length){var e=b.value;b.value=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];for(c=0;c<d.length;c++){var b=d[c];a[b.index]=b.cast(a[b.index])}return e.apply(this,a)};return b}console.warn("Method "+a.declaredClass+"::"+c+" is decorated with @cast but no parameters are decorated")}};
a.cast=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===p.call(a[0]))return m(a[0]);if(1===a.length&&"string"===typeof a[0])return k(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(b,a,n,g,m,h,e,k,p){function f(a){w.has(a)?r.splice(r.indexOf(a),1):w.add(a);r.push(a);y||
(y=h.schedule(d))}function c(a){if(!a.removed){var c=a.callback,b=a.path,d=a.oldValue,l=a.target,f=e.valueOf(l,a.propertyPath,!0);g.equals(d,f)||(a.oldValue=f,c.call(l,f,d,b,l))}}function d(){for(var a=10;y&&a--;){y=null;var b=r;r=x.acquire();w.clear();for(var d=x.acquire(),l=0,e=b;l<e.length;l++){var f=e[l];c(f);f.removed&&d.push(f)}for(l=0;l<r.length;l++)f=r[l],f.removed&&(d.push(f),w.delete(f),r.splice(l,1),--l);for(l=0;l<d.length;l++)v.pool.release(d[l]);x.release(b);x.release(d);G.forEach(function(a){return a()})}}
function t(a,c,b){var d=k.parse(a,c,b,function(a,c,b){var l=e.valueOf(a,c,!0),q,h,t=p.wire(a,c,function(a,c){a.__accessor__.destroyed||q&&q.uid!==h?d.remove():(q||(q=v.pool.acquire(a,c,l,b),h=q.uid,l=null),f(q))});return{remove:k.once(function(){t.remove();q&&(q.uid!==h||q.removed||(q.removed=!0,f(q)),q=null);d=t=l=null})}});return d}function q(a,c,b){var d=k.parse(a,c,b,function(a,c,b){var l=e.valueOf(a,c,!0),f=!1;return p.wire(a,c,function(a,c){if(a.__accessor__.destroyed)d.remove();else if(!f){f=
!0;var q=e.valueOf(a,c,!0);g.equals(l,q)||b.call(a,q,l,c,a);l=e.valueOf(a,c,!0);f=!1}})});return d}function l(a,c,b,d){void 0===d&&(d=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:d?q(a,c,b):t(a,c,b)}Object.defineProperty(a,"__esModule",{value:!0});var v=function(){function a(c,b,d,l){this.target=c;this.path=b;this.oldValue=d;this.callback=l;this.uid=0;this.removed=!1;this.propertyPath=k.pathToStringOrArray(b);this.uid=++a.uid}a.prototype.release=function(){this.target=
this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new m.ReentrantObjectPool(a,!0);a.uid=0;return a}(),x=new n,w=new Set,r=x.acquire(),y;a.dispatchTarget=function(a){for(var b=x.copy(r),d=0;d<b.length;d++){var l=b[d];l.target===a&&(c(l),w.delete(l),r.splice(r.indexOf(l),1))}};a.removeTarget=function(a){for(var c=0;c<r.length;c++){var b=r[c];b.target===a&&(b.removed=!0)}};a.dispatch=d;var G=new Set;a.afterDispatch=function(a){G.add(a);return{remove:function(){G.delete(a)}}};
a.watch=l;a.isValueInUse=function(a){return r.some(function(c){return c.oldValue===a})};a.default=l})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(b,a,n,g){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._set=new Set;return b}n(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=null};b.prototype.acquire=function(){for(var b=
[],k=0;k<arguments.length;k++)b[k]=arguments[k];b=a.prototype.acquire.apply(this,b);this._set.delete(b);return b};b.prototype.release=function(b){b&&!this._set.has(b)&&(a.prototype.release.call(this,b),this._set.add(b))};b.prototype._dispose=function(b){this._set.delete(b);a.prototype._dispose.call(this,b)};return b}(g);a.ReentrantObjectPool=b})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(b,a,n,g,m){function h(c){void 0===
c&&(c=a.now());a.debug.rafId=null;0<r.length&&(a.debug.rafId=e());0<t&&(l=Math.min(c-t,l));a.debug.executeFrameTasks(c)}function e(){return a.debug.requestNextFrame?a.debug.requestNextFrame(f):f()}function k(){for(var a=0;a<r.length;){var c=r[a];a++;if(c.removed){r.splice(a-1,1);for(var b=0;b<x.length;b++){var d=x[b];if(c.phases[d]){var d=y[d],l=d.indexOf(c);-1!==l&&d.splice(l,1)}}}}}function p(){for(;w.length;){var c=w.shift();c.isActive&&(c.isActive=!1,c.callback())}a.debug.willDispatch=!1}function f(){return m(h)}
Object.defineProperty(a,"__esModule",{value:!0});a.now=g;var c=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),d=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),t=-1,q=0,l=Number.POSITIVE_INFINITY,v={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},x=["prepare","preRender","render","postRender","update"],w=[],r=[],y={prepare:[],
preRender:[],render:[],postRender:[],update:[]},G=function(){function c(a){this._task=a}c.prototype.remove=function(){this._task.removed=!0};c.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=a.now())};c.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=a.now()-this._task.pausedAt))};return c}();a.FrameTaskHandle=G;a.debug={frameTasks:r,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===
a&&(a=!1);for(var c=0;c<r.length;c++)r[c].removed=!0;a&&k()},dispatch:p,executeFrameTasks:function(c){void 0===c&&(c=a.now());0>t&&(t=c);var b=c-t,d=0<q?q:l,f=Math.max(0,b-d);t=c;for(var e=0;e<r.length;e++){var h=r[e];-1!==h.epoch&&(h.dt=b)}for(e=0;e<x.length;e++)for(var b=x[e],p=y[b],g=0;g<p.length;g++)h=p[(g+C)%p.length],h.paused||h.removed||(0===e&&h.ticks++,-1===h.epoch&&(h.epoch=c),v.time=c,v.deltaTime=h.dt,v.elapsedFrameTime=a.now()-c,v.frameDuration=d-f,v.spendInTask=c-h.epoch,h.phases[b].call(h,
v));k();++C}};a.schedule=function(c){c=new d(c);w.push(c);a.debug.willDispatch||(a.debug.willDispatch=!0,n(p));return c};a.addFrameTask=function(b){var d=new c(b);r.push(d);for(var l=0,f=x;l<f.length;l++){var q=f[l];b[q]&&y[q].push(d)}a.debug.rafId||(t=-1,a.debug.rafId=e());return new G(d)};a.setFrameDuration=function(a){q=Math.max(0,a)};var C=0;a.requestNextFrame=e})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(b,a,n,g){var m=g();b=n.requestAnimationFrame;
if(!b){a=["ms","moz","webkit","o"];for(var h=0;h<a.length&&!b;++h)b=n[a[h]+"RequestAnimationFrame"];b||(b=function(a){var b=g(),e=Math.max(0,16-(b-m)),f=n.setTimeout(function(){a(g())},e);m=b+e;return f})}return b})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.interceptor=null})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){function t(c){for(var b in c)a.hasOwnProperty(b)||(a[b]=c[b])}Object.defineProperty(a,"__esModule",{value:!0});t(n);t(g);t(m);t(h);t(e);t(k);t(p);t(f);t(c);t(d)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=function(a){return function(b,h){n.getPropertyMetadata(b,h).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=function(){return function(a,b,h){n.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.declared=function(a){for(var b=[],m=1;m<arguments.length;m++)b[m-1]=arguments[m];m=function(){return this||{}};m.__bases__=[a].concat(b);return m}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(b,a,n,g){function m(a){return g.property({type:a})}Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=m;(function(a){a.serializable=function(){return function(a,b){void 0===b&&(b={ignoreUnknown:!0});a=a instanceof n.JSONMap?a:new n.JSONMap(a,b);return g.property({type:b&&b.ignoreUnknown?a.apiValues:String,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(m=a.enumeration||(a.enumeration={}))})},"esri/core/jsonMap":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function a(a,b){void 0===b&&(b={ignoreUnknown:!1});this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return this.fromJSON(a)}.bind(this);this.write=function(a,b,h){a=this.toJSON(a);void 0!==a&&(b[h]=a)}.bind(this)}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?
this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},e;for(e in a)b[a[e]]=e;return b};a.prototype.getKeysSorted=function(a){var b=[],e;for(e in a)b.push(e);b.sort();return b};return a}();a.JSONMap=n;a.strict=function(){return function(a){return new n(a,{ignoreUnknown:!0})}};a.default=n})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(b,a,n,g,m,h){Object.defineProperty(a,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(b,e){var f=b.constructor.prototype;f!==Function.prototype&&((b=Object.getOwnPropertyDescriptor(b,e))&&(b.get||b.set)?(a=g.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=g.clone(a),a.value=b.value),e=h.getPropertyMetadata(f,e),h.mergeProperty(e,a))}};a.propertyJSONMeta=function(a,
b,p){a=h.getPropertyMetadata(a.constructor.prototype,p);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(b,a,n,g){Object.defineProperty(a,"__esModule",{value:!0});a.reader=function(a,b,e){var k,h;void 0===b||Array.isArray(b)?(h=a,e=b,k=[void 0]):(h=b,k=Array.isArray(a)?a:[a]);return function(a,c,b){var d=
a.constructor.prototype;k.forEach(function(b){b=g.propertyJSONMeta(a,b,h);b.read&&"object"!==typeof b.read&&(b.read={});n.setDeepValue("read.reader",d[c],b);e&&(b.read.source=(b.read.source||[]).concat(e))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=function(a){return function(b,m){b[m]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(b,a,n,g){function m(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function h(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function e(a){var c=[];a=g.getPropertiesMetadata(a.prototype);if(!a)return c;for(var b in a){var f=a[b];f.cast&&c.push(f.cast);f.copy&&c.push(f.copy);if(f=f.json)if(m(f,c),h(f,c),f=f.origins)for(var l in f){var e=
f[l];m(e,c);h(e,c)}}return c}function k(a){var c={values:{},descriptors:{}},b=["__bases__"],q=g.getPropertiesMetadata(a.prototype),l=e(a);Object.getOwnPropertyNames(a.prototype).filter(function(c){return-1!==b.indexOf(c)||q&&q.hasOwnProperty(c)||!f(Object.getOwnPropertyDescriptor(a.prototype,c))&&-1!==l.indexOf(a.prototype[c])?!1:!0}).forEach(function(b){var d=Object.getOwnPropertyDescriptor(a.prototype,b);f(d)?c.descriptors[b]=d:c.values[b]=a.prototype[b]});return c}function p(a){var c=Object.getOwnPropertyNames(a),
b=Object.getPrototypeOf(a.prototype).constructor,e=Object.getOwnPropertyNames(Function);e.push("__bases__");var l=Object.getOwnPropertyNames(b),k={values:{},descriptors:{}};c.filter(function(c){return-1!==e.indexOf(c)?!1:-1===l.indexOf(c)||b[c]!==a[c]?!0:!1}).forEach(function(c){var b=Object.getOwnPropertyDescriptor(a,c);f(b)?k.descriptors[c]=b:k.values[c]=a[c]});return k}function f(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(a,"__esModule",{value:!0});a.subclass=function(a){return function(c){var b=
k(c),d=p(c);null!=a&&(b.values.declaredClass=a);c=n(c.__bases__,b.values);Object.defineProperties(c.prototype,b.descriptors);for(var l in d.values)c[l]=d.values[l];Object.defineProperties(c,d.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(b,a,n,g){Object.defineProperty(a,"__esModule",{value:!0});a.writer=function(a,b,e){var k,h;void 0===b?(h=a,k=[void 0]):"string"!==typeof b?(h=a,k=[void 0],e=b):
(h=b,k=Array.isArray(a)?a:[a]);return function(a,c,b){var d=a.constructor.prototype;k.forEach(function(b){b=g.propertyJSONMeta(a,b,h);b.write&&"object"!==typeof b.write&&(b.write={});e&&n.setDeepValue("write.target",e,b);n.setDeepValue("write.writer",d[c],b)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(b,a,n,g,m,h){function e(a,b,c){void 0===c&&(c=k);if(b&&"object"===typeof b){for(var d=
m.getProperties(a),f=d.metadatas,e={},l=0,v=Object.getOwnPropertyNames(b);l<v.length;l++){var p=e,w=f,r=v[l],y=b,n=c,C=h.originSpecificReadPropertyDefinition(w[r],n);C&&(!C.read||!1!==C.read.enabled&&!C.read.source)&&(p[r]=!0);for(var D=0,A=Object.getOwnPropertyNames(w);D<A.length;D++){var z=A[D],C=h.originSpecificReadPropertyDefinition(w[z],n),B;a:{B=r;var F=y;if(C&&C.read&&!1!==C.read.enabled&&C.read.source)if(C=C.read.source,"string"===typeof C){if(C===B||-1<C.indexOf(".")&&0===C.indexOf(B)&&g.exists(C,
F)){B=!0;break a}}else for(var H=0;H<C.length;H++){var J=C[H];if(J===B||-1<J.indexOf(".")&&0===J.indexOf(B)&&g.exists(J,F)){B=!0;break a}}B=!1}B&&(p[z]=!0)}}d.setDefaultOrigin(c.origin);v=0;for(p=Object.getOwnPropertyNames(e);v<p.length;v++)l=p[v],r=(w=h.originSpecificReadPropertyDefinition(f[l],c).read)&&w.source,y=void 0,y=r&&"string"===typeof r?g.valueOf(b,r):b[l],w&&w.reader&&(y=w.reader.call(a,y,b,c)),void 0!==y&&d.set(l,y);if(!c||!c.ignoreDefaults)for(b=0,f=Object.getOwnPropertyNames(f);b<f.length;b++)l=
f[b],e[l]||(v=a,p=d,w=c,r=(r=h.originSpecificPropertyDefinition(p.metadatas[l],"any",w))&&r.default,void 0!==r&&(v="function"===typeof r?r.call(v,l,w):r,void 0!==v&&p.set(l,v)));d.setDefaultOrigin("user")}}Object.defineProperty(a,"__esModule",{value:!0});var k={origin:"service"};a.read=e;a.readLoadable=function(a,b,c,d){void 0===d&&(d=k);b=n({},d,{messages:[]});c(b);b.messages.forEach(function(c){"warning"!==c.type||a.loaded?d&&d.messages.push(c):a.loadWarnings.push(c)})};a.default=e})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(b,a,n,g,m,h,e,k){function p(a,b,f,l,e,k){if(!l||!l.write)return!1;var d=a.get(f);if(!e&&l.write.overridePolicy){var q=l.write.overridePolicy.call(a,d,f,k);void 0!==q&&(e=q)}e||(e=l.write);if(!e||!1===e.enabled)return!1;if((null===d&&!e.allowNull||void 0===d)&&e.isRequired)return(b=new g("web-document-write:property-required","Missing value for required property '"+f+"' on '"+a.declaredClass+"'",{propertyName:f,target:a}),k)&&k.messages?k.messages.push(b):b&&!k&&c.error(b.name,b.message),
!1;if(void 0===d||null===d&&!e.allowNull)return!1;q=l.default;void 0===q?d=!1:"function"===typeof q?Array.isArray(d)?(a=q.call(a,f,k),d=n.equals(a,d)):d=!1:d=q===d;return d?!1:void 0!==l.default?!0:!e.ignoreOrigin&&k&&k.origin&&b.store.originOf(f)<h.nameToId(k.origin)?!1:!0}function f(a,c,b){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return e.merge(c,a.toJSON());var d=e.getProperties(a),f=d.metadatas,q;for(q in f){var t=k.originSpecificWritePropertyDefinition(f[q],b);
if(p(a,d,q,t,null,b)){var r=a.get(q),g={};t.write.writer.call(a,r,g,"string"===typeof t.write.target?t.write.target:q,b);t=g;0<Object.keys(t).length&&(c=e.merge(c,t),b&&b.writtenProperties&&b.writtenProperties.push({target:a,propName:q,oldOrigin:h.idToReadableName(d.store.originOf(q)),newOrigin:b.origin}))}}return c}Object.defineProperty(a,"__esModule",{value:!0});var c=m.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(a,c,b,l){var d=e.getProperties(a),f=k.originSpecificWritePropertyDefinition(d.metadatas[c],
l);return f?p(a,d,c,f,b,l):!1};a.write=f;a.default=f})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(b,a,n,g){function m(a,b){return-1===a.indexOf(b)}function h(a,b,f){return!a.some(b.bind(null,f))}function e(a){return a}Object.defineProperty(a,"__esModule",{value:!0});a.find=n.find;a.findIndex=n.findIndex;a.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};a.equals=function(a,b,f){if(!a&&!b)return!0;
if(!a||!b||a.length!==b.length)return!1;if(f)for(var c=0;c<a.length;c++){if(!f(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.difference=function(a,b,f){var c;f?(c=b.filter(h.bind(null,a,f)),a=a.filter(h.bind(null,b,f))):(c=b.filter(m.bind(null,a)),a=a.filter(m.bind(null,b)));return{added:c,removed:a}};a.intersect=function(a,b,f){return a&&b?f?a.filter(function(a){return-1<n.findIndex(b,function(b){return f(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):
[]};a.constant=function(a,b){for(var c=Array(a),d=0;d<a;d++)c[d]=b;return c};a.range=function(a,b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};a.binaryIndexOf=function(a,b,f){for(var c=a.length,d=0,e=c-1;d<e;){var k=d+Math.floor((e-d)/2);b>a[k]?d=k+1:e=k}e=a[d];return f?b>=a[c-1]?-1:e===b?d:d-1:e===b?d:-1};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};b=function(){return function(){this.last=0}}();a.RemoveHint=b;var k=new b;a.removeUnordered=
function(a,b,f,e){e=e||k;for(var c=null==f?a.length:f,d=Math.max(0,e.last-10),q=-1,h=d;h<c;++h)if(a[h]===b){q=h;break}if(-1===q){for(h=0;h<d;++h)if(a[h]===b){q=h;break}if(-1===q)return}a[q]=a[c-1];null==f&&a.pop();e.last=q;return b};var p=new Set;a.removeUnorderedMany=function(a,b,f,e,l,h){void 0===f&&(f=a.length);void 0===e&&(e=b.length);if(0===e||0===f)return f;p.clear();for(var c=0;c<e;++c)p.add(b[c]);l=l||k;for(c=b=Math.max(0,l.last-10);c<f;++c)if(p.has(a[c])&&(h&&h.push(a[c]),p.delete(a[c]),
a[c]=a[f-1],--f,--c,0===p.size||0===f))return p.clear(),f;for(c=0;c<b;++c)if(p.has(a[c])&&(h&&h.push(a[c]),p.delete(a[c]),a[c]=a[f-1],--f,--c,0===p.size||0===f))return p.clear(),f;p.clear();return f};a.shuffle=function(a,b){b=(f.seed=b)?function(){return f.getFloat()}:Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),l=a[c];a[c]=a[d];a[d]=l}return a};var f=new g;a.keysOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b};a.keysOfSet=function(a,b){void 0===
b&&(b=e);var c=[];a.forEach(function(a){return c.push(b(a))});return c};a.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b};a.remove=function(a,b){var c=a.indexOf(b);return-1!==c?(a.splice(c,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(b,a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(b){this._seed=
null==b?Math.random()*a._m:b},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,b){return Math.round(this.getFloatRange(a,b))};a.prototype.getFloatRange=function(b,m){m-=b;var h=this.getInt()/a._m;return b+Math.floor(h*m)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","../../core/string","./WKIDUnitConversion"],function(b,a,n,g){function m(a){return e(a)&&a.wkid?c[a.wkid]:null}function h(a){return e(a)&&!0===k[a.wkid]}function e(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(a,"__esModule",{value:!0});var k={102113:!0,102100:!0,3857:!0,3785:!0},p={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};b=[-2.0037508342788905E7,2.0037508342788905E7];var f=[-2.0037508342787E7,2.0037508342787E7],c={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:b,origin:f,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:b,origin:f,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:b,origin:f,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:b,origin:f,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};a.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||h(a)&&h(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};a.getInfo=m;a.isGeographic=function(a){return e(a)?a.wkid?null==g[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};a.isWGS84=function(a){return e(a)&&4326===a.wkid};a.isWebMercator=h;a.isWrappable=function(a){return e(a)&&
!0===p[a.wkid]};a.isValid=e;a.WGS84={wkid:4326,wkt:n.replace(m({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};a.WebMercator={wkid:102100,latestWkid:3857}})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(b,a,n,g){Object.defineProperty(a,"__esModule",{value:!0});var m=/\{([^\}]+)\}/g;a.replace=function(a,b){return a.replace(m,"object"===typeof b?function(a,e){return n.getDeepValue(e,b)}:function(a,e){return b(e)})};a.startsWith=g.startsWith;
a.endsWith=g.endsWith})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var b,a={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8082:0,8083:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,
8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,
8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,
8387:2,8391:0,8682:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,
27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,
102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,
103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,
103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,
103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,
103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(b=2E3;2045>=b;b++)a[b]=0;for(b=2056;2065>=b;b++)a[b]=0;for(b=2067;2135>=b;b++)a[b]=0;for(b=2137;2154>=b;b++)a[b]=0;for(b=2161;2170>=b;b++)a[b]=0;for(b=2172;2193>=b;b++)a[b]=0;for(b=2195;2198>=b;b++)a[b]=0;for(b=2200;2203>=b;b++)a[b]=0;for(b=2205;2217>=b;b++)a[b]=0;for(b=2222;2224>=b;b++)a[b]=1;for(b=2225;2250>=b;b++)a[b]=2;
for(b=2251;2253>=b;b++)a[b]=1;for(b=2257;2264>=b;b++)a[b]=2;for(b=2274;2279>=b;b++)a[b]=2;for(b=2280;2282>=b;b++)a[b]=1;for(b=2283;2289>=b;b++)a[b]=2;for(b=2290;2292>=b;b++)a[b]=0;for(b=2308;2313>=b;b++)a[b]=0;for(b=2315;2491>=b;b++)a[b]=0;for(b=2494;2866>=b;b++)a[b]=0;for(b=2867;2869>=b;b++)a[b]=1;for(b=2870;2888>=b;b++)a[b]=2;for(b=2891;2895>=b;b++)a[b]=2;for(b=2896;2898>=b;b++)a[b]=1;for(b=2902;2908>=b;b++)a[b]=2;for(b=2915;2920>=b;b++)a[b]=2;for(b=2921;2923>=b;b++)a[b]=1;for(b=2924;2930>=b;b++)a[b]=
2;for(b=2931;2962>=b;b++)a[b]=0;for(b=2964;2968>=b;b++)a[b]=2;for(b=2969;2973>=b;b++)a[b]=0;for(b=2975;2991>=b;b++)a[b]=0;for(b=2995;3051>=b;b++)a[b]=0;for(b=3054;3079>=b;b++)a[b]=0;for(b=3081;3088>=b;b++)a[b]=0;for(b=3092;3101>=b;b++)a[b]=0;for(b=3106;3138>=b;b++)a[b]=0;for(b=3146;3151>=b;b++)a[b]=0;for(b=3153;3166>=b;b++)a[b]=0;for(b=3168;3172>=b;b++)a[b]=0;for(b=3174;3203>=b;b++)a[b]=0;for(b=3294;3358>=b;b++)a[b]=0;for(b=3367;3403>=b;b++)a[b]=0;for(b=3408;3416>=b;b++)a[b]=0;for(b=3417;3438>=b;b++)a[b]=
2;for(b=3441;3446>=b;b++)a[b]=2;for(b=3447;3450>=b;b++)a[b]=0;for(b=3451;3459>=b;b++)a[b]=2;for(b=3460;3478>=b;b++)a[b]=0;for(b=3554;3559>=b;b++)a[b]=0;for(b=3560;3570>=b;b++)a[b]=2;for(b=3571;3581>=b;b++)a[b]=0;for(b=3594;3597>=b;b++)a[b]=0;for(b=3601;3604>=b;b++)a[b]=0;for(b=3637;3639>=b;b++)a[b]=0;for(b=3665;3667>=b;b++)a[b]=0;for(b=3693;3695>=b;b++)a[b]=0;for(b=3701;3727>=b;b++)a[b]=0;for(b=3728;3739>=b;b++)a[b]=2;for(b=3740;3751>=b;b++)a[b]=0;for(b=3753;3760>=b;b++)a[b]=2;for(b=3761;3773>=b;b++)a[b]=
0;for(b=3775;3777>=b;b++)a[b]=0;for(b=3779;3781>=b;b++)a[b]=0;for(b=3783;3785>=b;b++)a[b]=0;for(b=3788;3791>=b;b++)a[b]=0;for(b=3797;3802>=b;b++)a[b]=0;for(b=3814;3816>=b;b++)a[b]=0;for(b=3825;3829>=b;b++)a[b]=0;for(b=3832;3841>=b;b++)a[b]=0;for(b=3844;3852>=b;b++)a[b]=0;for(b=3873;3885>=b;b++)a[b]=0;for(b=3890;3893>=b;b++)a[b]=0;for(b=3907;3912>=b;b++)a[b]=0;for(b=3942;3950>=b;b++)a[b]=0;for(b=3968;3970>=b;b++)a[b]=0;for(b=3973;3976>=b;b++)a[b]=0;for(b=3986;3989>=b;b++)a[b]=0;for(b=3994;3997>=b;b++)a[b]=
0;for(b=4048;4051>=b;b++)a[b]=0;for(b=4056;4063>=b;b++)a[b]=0;for(b=4093;4096>=b;b++)a[b]=0;for(b=4390;4398>=b;b++)a[b]=0;for(b=4399;4413>=b;b++)a[b]=2;for(b=4418;4433>=b;b++)a[b]=2;for(b=4455;4457>=b;b++)a[b]=2;for(b=4484;4489>=b;b++)a[b]=0;for(b=4491;4554>=b;b++)a[b]=0;for(b=4568;4589>=b;b++)a[b]=0;for(b=4652;4656>=b;b++)a[b]=0;for(b=4766;4800>=b;b++)a[b]=0;for(b=5014;5016>=b;b++)a[b]=0;for(b=5069;5072>=b;b++)a[b]=0;for(b=5105;5130>=b;b++)a[b]=0;for(b=5173;5188>=b;b++)a[b]=0;for(b=5253;5259>=b;b++)a[b]=
0;for(b=5269;5275>=b;b++)a[b]=0;for(b=5292;5311>=b;b++)a[b]=0;for(b=5329;5331>=b;b++)a[b]=0;for(b=5343;5349>=b;b++)a[b]=0;for(b=5355;5357>=b;b++)a[b]=0;for(b=5387;5389>=b;b++)a[b]=0;for(b=5459;5463>=b;b++)a[b]=0;for(b=5479;5482>=b;b++)a[b]=0;for(b=5518;5520>=b;b++)a[b]=0;for(b=5530;5539>=b;b++)a[b]=0;for(b=5550;5552>=b;b++)a[b]=0;for(b=5562;5583>=b;b++)a[b]=0;for(b=5623;5625>=b;b++)a[b]=2;for(b=5631;5639>=b;b++)a[b]=0;for(b=5649;5653>=b;b++)a[b]=0;for(b=5663;5680>=b;b++)a[b]=0;for(b=5682;5685>=b;b++)a[b]=
0;for(b=5875;5877>=b;b++)a[b]=0;for(b=5921;5940>=b;b++)a[b]=0;for(b=6050;6125>=b;b++)a[b]=0;for(b=6244;6275>=b;b++)a[b]=0;for(b=6328;6348>=b;b++)a[b]=0;for(b=6350;6356>=b;b++)a[b]=0;for(b=6366;6372>=b;b++)a[b]=0;for(b=6381;6387>=b;b++)a[b]=0;for(b=6393;6404>=b;b++)a[b]=0;for(b=6480;6483>=b;b++)a[b]=0;for(b=6511;6514>=b;b++)a[b]=0;for(b=6579;6581>=b;b++)a[b]=0;for(b=6619;6624>=b;b++)a[b]=0;for(b=6625;6627>=b;b++)a[b]=2;for(b=6628;6632>=b;b++)a[b]=0;for(b=6634;6637>=b;b++)a[b]=0;for(b=6669;6692>=b;b++)a[b]=
0;for(b=6707;6709>=b;b++)a[b]=0;for(b=6720;6723>=b;b++)a[b]=0;for(b=6732;6738>=b;b++)a[b]=0;for(b=6931;6933>=b;b++)a[b]=0;for(b=6956;6959>=b;b++)a[b]=0;for(b=7005;7007>=b;b++)a[b]=0;for(b=7057;7070>=b;b++)a[b]=2;for(b=7074;7082>=b;b++)a[b]=0;for(b=7109;7118>=b;b++)a[b]=0;for(b=7119;7127>=b;b++)a[b]=1;for(b=7374;7376>=b;b++)a[b]=0;for(b=7528;7586>=b;b++)a[b]=0;for(b=7587;7645>=b;b++)a[b]=2;for(b=7755;7787>=b;b++)a[b]=0;for(b=7791;7795>=b;b++)a[b]=0;for(b=7799;7801>=b;b++)a[b]=0;for(b=7803;7805>=b;b++)a[b]=
0;for(b=7825;7831>=b;b++)a[b]=0;for(b=7845;7859>=b;b++)a[b]=0;for(b=8013;8032>=b;b++)a[b]=0;for(b=8065;8068>=b;b++)a[b]=1;for(b=8836;8840>=b;b++)a[b]=0;for(b=8857;8859>=b;b++)a[b]=0;for(b=20002;20032>=b;b++)a[b]=0;for(b=20062;20092>=b;b++)a[b]=0;for(b=20135;20138>=b;b++)a[b]=0;for(b=20248;20258>=b;b++)a[b]=0;for(b=20348;20358>=b;b++)a[b]=0;for(b=20436;20440>=b;b++)a[b]=0;for(b=20822;20824>=b;b++)a[b]=0;for(b=20934;20936>=b;b++)a[b]=0;for(b=21035;21037>=b;b++)a[b]=0;for(b=21095;21097>=b;b++)a[b]=0;
for(b=21148;21150>=b;b++)a[b]=0;for(b=21413;21423>=b;b++)a[b]=0;for(b=21473;21483>=b;b++)a[b]=0;for(b=21780;21782>=b;b++)a[b]=0;for(b=21891;21894>=b;b++)a[b]=0;for(b=21896;21899>=b;b++)a[b]=0;for(b=22171;22177>=b;b++)a[b]=0;for(b=22181;22187>=b;b++)a[b]=0;for(b=22191;22197>=b;b++)a[b]=0;for(b=22234;22236>=b;b++)a[b]=0;for(b=22521;22525>=b;b++)a[b]=0;for(b=22991;22994>=b;b++)a[b]=0;for(b=23028;23038>=b;b++)a[b]=0;for(b=23830;23853>=b;b++)a[b]=0;for(b=23866;23872>=b;b++)a[b]=0;for(b=23877;23884>=b;b++)a[b]=
0;for(b=23886;23894>=b;b++)a[b]=0;for(b=23946;23948>=b;b++)a[b]=0;for(b=24311;24313>=b;b++)a[b]=0;for(b=24342;24347>=b;b++)a[b]=0;for(b=24370;24374>=b;b++)a[b]=10;for(b=24375;24381>=b;b++)a[b]=0;for(b=24718;24721>=b;b++)a[b]=0;for(b=24817;24821>=b;b++)a[b]=0;for(b=24877;24882>=b;b++)a[b]=0;for(b=24891;24893>=b;b++)a[b]=0;for(b=25391;25395>=b;b++)a[b]=0;for(b=25828;25838>=b;b++)a[b]=0;for(b=26191;26195>=b;b++)a[b]=0;for(b=26391;26393>=b;b++)a[b]=0;for(b=26701;26722>=b;b++)a[b]=0;for(b=26729;26799>=
b;b++)a[b]=2;for(b=26801;26803>=b;b++)a[b]=2;for(b=26811;26813>=b;b++)a[b]=2;for(b=26847;26870>=b;b++)a[b]=2;for(b=26891;26899>=b;b++)a[b]=0;for(b=26901;26923>=b;b++)a[b]=0;for(b=26929;26946>=b;b++)a[b]=0;for(b=26948;26998>=b;b++)a[b]=0;for(b=27037;27040>=b;b++)a[b]=0;for(b=27205;27232>=b;b++)a[b]=0;for(b=27258;27260>=b;b++)a[b]=0;for(b=27391;27398>=b;b++)a[b]=0;for(b=27561;27564>=b;b++)a[b]=0;for(b=27571;27574>=b;b++)a[b]=0;for(b=27581;27584>=b;b++)a[b]=0;for(b=27591;27594>=b;b++)a[b]=0;for(b=28191;28193>=
b;b++)a[b]=0;for(b=28348;28358>=b;b++)a[b]=0;for(b=28402;28432>=b;b++)a[b]=0;for(b=28462;28492>=b;b++)a[b]=0;for(b=29118;29122>=b;b++)a[b]=0;for(b=29168;29172>=b;b++)a[b]=0;for(b=29177;29185>=b;b++)a[b]=0;for(b=29187;29195>=b;b++)a[b]=0;for(b=29900;29903>=b;b++)a[b]=0;for(b=30161;30179>=b;b++)a[b]=0;for(b=30491;30494>=b;b++)a[b]=0;for(b=30729;30732>=b;b++)a[b]=0;for(b=31251;31259>=b;b++)a[b]=0;for(b=31265;31268>=b;b++)a[b]=0;for(b=31275;31279>=b;b++)a[b]=0;for(b=31281;31297>=b;b++)a[b]=0;for(b=31461;31469>=
b;b++)a[b]=0;for(b=31491;31495>=b;b++)a[b]=0;for(b=31917;31922>=b;b++)a[b]=0;for(b=31965;32E3>=b;b++)a[b]=0;for(b=32001;32003>=b;b++)a[b]=2;for(b=32005;32031>=b;b++)a[b]=2;for(b=32033;32060>=b;b++)a[b]=2;for(b=32064;32067>=b;b++)a[b]=2;for(b=32074;32077>=b;b++)a[b]=2;for(b=32081;32086>=b;b++)a[b]=0;for(b=32107;32130>=b;b++)a[b]=0;for(b=32133;32158>=b;b++)a[b]=0;for(b=32164;32167>=b;b++)a[b]=2;for(b=32180;32199>=b;b++)a[b]=0;for(b=32201;32260>=b;b++)a[b]=0;for(b=32301;32360>=b;b++)a[b]=0;for(b=32601;32662>=
b;b++)a[b]=0;for(b=32664;32667>=b;b++)a[b]=2;for(b=32701;32761>=b;b++)a[b]=0;for(b=53001;53004>=b;b++)a[b]=0;for(b=53008;53019>=b;b++)a[b]=0;for(b=53021;53032>=b;b++)a[b]=0;for(b=53034;53037>=b;b++)a[b]=0;for(b=53042;53046>=b;b++)a[b]=0;for(b=53074;53080>=b;b++)a[b]=0;for(b=54001;54004>=b;b++)a[b]=0;for(b=54008;54019>=b;b++)a[b]=0;for(b=54021;54032>=b;b++)a[b]=0;for(b=54034;54037>=b;b++)a[b]=0;for(b=54042;54046>=b;b++)a[b]=0;for(b=54048;54053>=b;b++)a[b]=0;for(b=54074;54080>=b;b++)a[b]=0;for(b=102001;102040>=
b;b++)a[b]=0;for(b=102042;102063>=b;b++)a[b]=0;for(b=102065;102067>=b;b++)a[b]=0;for(b=102070;102117>=b;b++)a[b]=0;for(b=102122;102216>=b;b++)a[b]=0;for(b=102221;102377>=b;b++)a[b]=0;for(b=102382;102388>=b;b++)a[b]=0;for(b=102389;102398>=b;b++)a[b]=2;for(b=102399;102444>=b;b++)a[b]=0;for(b=102445;102447>=b;b++)a[b]=2;for(b=102448;102458>=b;b++)a[b]=0;for(b=102459;102468>=b;b++)a[b]=2;for(b=102469;102499>=b;b++)a[b]=0;for(b=102500;102519>=b;b++)a[b]=1;for(b=102520;102524>=b;b++)a[b]=0;for(b=102525;102529>=
b;b++)a[b]=2;for(b=102530;102588>=b;b++)a[b]=0;for(b=102590;102598>=b;b++)a[b]=0;for(b=102601;102603>=b;b++)a[b]=0;for(b=102605;102628>=b;b++)a[b]=0;for(b=102629;102646>=b;b++)a[b]=2;for(b=102648;102700>=b;b++)a[b]=2;for(b=102701;102703>=b;b++)a[b]=0;for(b=102707;102730>=b;b++)a[b]=2;for(b=102733;102758>=b;b++)a[b]=2;for(b=102767;102900>=b;b++)a[b]=0;for(b=102965;102969>=b;b++)a[b]=0;for(b=102971;102973>=b;b++)a[b]=0;for(b=102975;102989>=b;b++)a[b]=0;for(b=102990;102992>=b;b++)a[b]=1;for(b=102997;103002>=
b;b++)a[b]=0;for(b=103003;103008>=b;b++)a[b]=2;for(b=103009;103011>=b;b++)a[b]=0;for(b=103012;103014>=b;b++)a[b]=2;for(b=103019;103021>=b;b++)a[b]=0;for(b=103022;103024>=b;b++)a[b]=2;for(b=103029;103031>=b;b++)a[b]=0;for(b=103032;103034>=b;b++)a[b]=2;for(b=103065;103068>=b;b++)a[b]=0;for(b=103074;103076>=b;b++)a[b]=0;for(b=103077;103079>=b;b++)a[b]=1;for(b=103080;103082>=b;b++)a[b]=0;for(b=103083;103085>=b;b++)a[b]=2;for(b=103090;103093>=b;b++)a[b]=0;for(b=103097;103099>=b;b++)a[b]=0;for(b=103100;103102>=
b;b++)a[b]=2;for(b=103107;103109>=b;b++)a[b]=0;for(b=103110;103112>=b;b++)a[b]=2;for(b=103113;103116>=b;b++)a[b]=0;for(b=103117;103120>=b;b++)a[b]=2;for(b=103153;103157>=b;b++)a[b]=0;for(b=103158;103162>=b;b++)a[b]=2;for(b=103163;103165>=b;b++)a[b]=0;for(b=103166;103168>=b;b++)a[b]=1;for(b=103169;103171>=b;b++)a[b]=2;for(b=103186;103188>=b;b++)a[b]=0;for(b=103189;103191>=b;b++)a[b]=2;for(b=103192;103195>=b;b++)a[b]=0;for(b=103196;103199>=b;b++)a[b]=2;for(b=103200;103224>=b;b++)a[b]=0;for(b=103225;103227>=
b;b++)a[b]=1;for(b=103232;103237>=b;b++)a[b]=0;for(b=103238;103243>=b;b++)a[b]=2;for(b=103244;103246>=b;b++)a[b]=0;for(b=103247;103249>=b;b++)a[b]=2;for(b=103254;103256>=b;b++)a[b]=0;for(b=103257;103259>=b;b++)a[b]=2;for(b=103264;103266>=b;b++)a[b]=0;for(b=103267;103269>=b;b++)a[b]=2;for(b=103300;103375>=b;b++)a[b]=0;for(b=103381;103383>=b;b++)a[b]=0;for(b=103384;103386>=b;b++)a[b]=1;for(b=103387;103389>=b;b++)a[b]=0;for(b=103390;103392>=b;b++)a[b]=2;for(b=103397;103399>=b;b++)a[b]=0;for(b=103400;103471>=
b;b++)a[b]=2;for(b=103476;103478>=b;b++)a[b]=0;for(b=103479;103481>=b;b++)a[b]=2;for(b=103486;103488>=b;b++)a[b]=0;for(b=103489;103491>=b;b++)a[b]=2;for(b=103492;103495>=b;b++)a[b]=0;for(b=103496;103499>=b;b++)a[b]=2;for(b=103528;103543>=b;b++)a[b]=0;for(b=103544;103548>=b;b++)a[b]=2;for(b=103549;103551>=b;b++)a[b]=0;for(b=103552;103554>=b;b++)a[b]=1;for(b=103555;103557>=b;b++)a[b]=2;for(b=103558;103560>=b;b++)a[b]=0;for(b=103571;103573>=b;b++)a[b]=0;for(b=103574;103576>=b;b++)a[b]=2;for(b=103577;103580>=
b;b++)a[b]=0;for(b=103581;103583>=b;b++)a[b]=2;for(b=103595;103597>=b;b++)a[b]=0;for(b=103600;103694>=b;b++)a[b]=0;for(b=103696;103698>=b;b++)a[b]=0;for(b=103700;103793>=b;b++)a[b]=2;for(b=103794;103871>=b;b++)a[b]=0;for(b=103900;103971>=b;b++)a[b]=2;return a})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["require","exports","../../../core/mathUtils"],function(b,a,n){function g(a,b,k,p){void 0===p&&(p=0);var f=a.byteLength/(4*b),c=new Uint32Array(a,0,f*b);a=new Uint32Array(f);
var d=Math.floor(1.1*f)+1;if(null==m||m.length<2*d)m=new Uint32Array(n.nextHighestPowerOfTwo(2*d));for(var e=0;e<2*d;e++)m[e]=0;for(var q=0,l=0!==p?Math.ceil(7.84*1.96/(p*p)*p*(1-p)):f,e=0;e<f;e++){if(e===l){var h=1-q/e;if(h+1.96*Math.sqrt(h*(1-h)/e)<p)return null;l*=2}for(var h=e*b,g,w=g=0;w<b;w++)g=c[h+w]+g|0,g=g+(g<<11)+(g>>>2)|0;g>>>=0;for(var w=g%d,r=q;0!==m[2*w+1];){if(m[2*w]===g){var y=m[2*w+1]-1,G=y*b;a:{for(var C=0;C<b;C++)if(c[h+C]!==c[G+C]){G=!1;break a}G=!0}if(G){r=a[y];break}}w++;w>=
d&&(w-=d)}r===q&&(m[2*w]=g,m[2*w+1]=e+1,q++);a[e]=r}if(0!==p&&1-q/f<p)return null;p=new Uint32Array(b*q);for(e=q=0;e<f;e++)if(a[e]===q){d=c;l=e*b;h=p;g=q*b;w=b;for(r=0;r<w;r++)h[g+r]=d[l+r];q++}if(k){b=new Uint32Array(k.length);for(e=0;e<b.length;e++)b[e]=a[k[e]];a=b}return{buffer:p.buffer,indices:a,uniqueCount:q}}Object.defineProperty(a,"__esModule",{value:!0});a.deduplicate=g;var m=null;a.default=g})},"esri/libs/draco/DracoDecoder":function(){define(["require","exports","../../core/has","../../core/promiseUtils",
"./draco_decoder"],function(b,a,n,g,m){function h(){return!!n("esri-wasm")}function e(){return b.toUrl("./draco_decoder.wasm")}Object.defineProperty(a,"__esModule",{value:!0});(function(b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])})(m);a.isSupported=h;a.getDecoderModule=function(){if(!h())return g.reject(Error("Draco decompression not available, missing WebAssembly support"));k||(k=g.create(function(a,c){return b(["./draco_decoder"],function(b){p=b({locateFile:e});a(p)})}).catch(function(a){return g.reject(a)}));
return k};var k,p})},"esri/libs/draco/draco_decoder":function(){var b=function(){var a="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(b){function g(a){return u.locateFile?u.locateFile(a,ba):ba+a}function m(a,b){a||r("Assertion failed: "+b)}function h(a,b){var c;if(a){c=ga;var d=a+b;for(b=a;c[b]&&!(b>=d);)++b;if(16<b-a&&c.subarray&&V)c=V.decode(c.subarray(a,b));else{for(d="";a<b;){var l=c[a++];if(l&128){var f=c[a++]&63;if(192==(l&224))d+=String.fromCharCode((l&
31)<<6|f);else{var e=c[a++]&63,l=224==(l&240)?(l&15)<<12|f<<6|e:(l&7)<<18|f<<12|e<<6|c[a++]&63;65536>l?d+=String.fromCharCode(l):(l-=65536,d+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else d+=String.fromCharCode(l)}c=d}}else c="";return c}function e(a,b){0<a%b&&(a+=b-a%b);return a}function k(){u.HEAP8=da=new Int8Array(W);u.HEAP16=new Int16Array(W);u.HEAP32=ka=new Int32Array(W);u.HEAPU8=ga=new Uint8Array(W);u.HEAPU16=new Uint16Array(W);u.HEAPU32=new Uint32Array(W);u.HEAPF32=new Float32Array(W);
u.HEAPF64=new Float64Array(W)}function p(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b();else{var c=b.func;"number"===typeof c?void 0===b.arg?u.dynCall_v(c):u.dynCall_vi(c,b.arg):c(void 0===b.arg?null:b.arg)}}}function f(a){return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}function c(){try{if(u.wasmBinary)return new Uint8Array(u.wasmBinary);if(u.readBinary)return u.readBinary(ua);throw"both async and sync fetching of the wasm failed";
}catch(nc){r(nc)}}function d(){return u.wasmBinary||!na&&!la||"function"!==typeof fetch?new Promise(function(a,b){a(c())}):fetch(ua,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+ua+"'";return a.arrayBuffer()}).catch(function(){return c()})}function t(a){function b(a,b){u.asm=a.exports;Aa--;u.monitorRunDependencies&&u.monitorRunDependencies(Aa);0==Aa&&(null!==Ga&&(clearInterval(Ga),Ga=null),Na&&(a=Na,Na=null,a()))}function c(a){b(a.instance)}function l(a){d().then(function(a){return WebAssembly.instantiate(a,
e)}).then(a,function(a){pa("failed to asynchronously prepare wasm: "+a);r(a)})}var e={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:ha};Aa++;u.monitorRunDependencies&&u.monitorRunDependencies(Aa);if(u.instantiateWasm)try{return u.instantiateWasm(e,b)}catch(qc){return pa("Module.instantiateWasm callback failed with error: "+qc),!1}u.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||f(ua)||"function"!==typeof fetch?l(c):WebAssembly.instantiateStreaming(fetch(ua,
{credentials:"same-origin"}),e).then(c,function(a){pa("wasm streaming compile failed: "+a);pa("falling back to ArrayBuffer instantiation");l(c)});return{}}function q(){return!!q.uncaught_exception}function l(){return da.length}function v(a){a=e(a,65536);var b=W.byteLength;try{return-1!==xa.grow((a-b)/65536)?(W=xa.buffer,!0):!1}catch(pc){return!1}}function x(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}function w(a){function b(){if(!u.calledRun&&(u.calledRun=
!0,!ca)){Va||(Va=!0,p(vb));p(bb);if(u.onRuntimeInitialized)u.onRuntimeInitialized();if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)qa.unshift(u.postRun.shift());p(qa)}}if(!(0<Aa)){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)Ba.unshift(u.preRun.shift());p(Ba);0<Aa||u.calledRun||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1);b()},1)):b())}}function r(a){if(u.onAbort)u.onAbort(a);
void 0!==a?(ra(a),pa(a),a=JSON.stringify(a)):a="";ca=!0;throw"abort("+a+"). Build with -s ASSERTIONS\x3d1 for more info.";}function y(){}function n(a){return(a||y).__cache__}function C(a,b){var c=n(b),d=c[a];if(d)return d;d=Object.create((b||y).prototype);d.ptr=a;return c[a]=d}function D(a){if("string"===typeof a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}b=Array(b+1);c=0;d=b.length;
if(0<d){for(var d=c+d-1,l=0;l<a.length;++l){var f=a.charCodeAt(l);if(55296<=f&&57343>=f)var e=a.charCodeAt(++l),f=65536+((f&1023)<<10)|e&1023;if(127>=f){if(c>=d)break;b[c++]=f}else{if(2047>=f){if(c+1>=d)break;b[c++]=192|f>>6}else{if(65535>=f){if(c+2>=d)break;b[c++]=224|f>>12}else{if(c+3>=d)break;b[c++]=240|f>>18;b[c++]=128|f>>12&63}b[c++]=128|f>>6&63}b[c++]=128|f&63}}b[c]=0}a=Z.alloc(b,da);Z.copy(b,da,a)}return a}function A(){throw"cannot construct a Status, no constructor in IDL";}function z(){this.ptr=
Xb();n(z)[this.ptr]=this}function B(){this.ptr=rc();n(B)[this.ptr]=this}function F(){this.ptr=Yb();n(F)[this.ptr]=this}function H(){this.ptr=oa();n(H)[this.ptr]=this}function J(){this.ptr=cb();n(J)[this.ptr]=this}function E(){this.ptr=sc();n(E)[this.ptr]=this}function K(){this.ptr=Wa();n(K)[this.ptr]=this}function I(){this.ptr=db();n(I)[this.ptr]=this}function O(){this.ptr=Ha();n(O)[this.ptr]=this}function N(){this.ptr=tc();n(N)[this.ptr]=this}function P(){this.ptr=wb();n(P)[this.ptr]=this}function Q(){this.ptr=
Oa();n(Q)[this.ptr]=this}function R(){this.ptr=Zb();n(R)[this.ptr]=this}function U(){this.ptr=eb();n(U)[this.ptr]=this}function L(){this.ptr=fb();n(L)[this.ptr]=this}function fa(){this.ptr=gb();n(fa)[this.ptr]=this}function Y(){throw"cannot construct a VoidPtr, no constructor in IDL";}function S(){this.ptr=xb();n(S)[this.ptr]=this}function T(){this.ptr=uc();n(T)[this.ptr]=this}b=b||{};var u="undefined"!==typeof b?b:{},M=!1,X=!1;u.onRuntimeInitialized=function(){M=!0;if(X&&"function"===typeof u.onModuleLoaded)u.onModuleLoaded(u)};
u.onModuleParsed=function(){X=!0;if(M&&"function"===typeof u.onModuleLoaded)u.onModuleLoaded(u)};u.isVersionSupported=function(a){if("string"!==typeof a)return!1;a=a.split(".");return 2>a.length||3<a.length?!1:1==a[0]&&0<=a[1]&&3>=a[1]?!0:0!=a[0]||10<a[1]?!1:!0};var aa={},ja;for(ja in u)u.hasOwnProperty(ja)&&(aa[ja]=u[ja]);u.arguments=[];u.thisProgram="./this.program";u.quit=function(a,b){throw b;};u.preRun=[];u.postRun=[];var na=!1,la=!1,ia=!1,ma=!1,na="object"===typeof window,la="function"===typeof importScripts,
ia="object"===typeof process&&"function"===typeof require&&!na&&!la,ma=!na&&!ia&&!la,ba="";if(ia){var ba=__dirname+"/",sa,va;u.read=function(a,b){sa||(sa=require("fs"));va||(va=require("path"));a=va.normalize(a);a=sa.readFileSync(a);return b?a:a.toString()};u.readBinary=function(a){a=u.read(a,!0);a.buffer||(a=new Uint8Array(a));m(a.buffer);return a};1<process.argv.length&&(u.thisProgram=process.argv[1].replace(/\\/g,"/"));u.arguments=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof
x))throw a;});process.on("unhandledRejection",r);u.quit=function(a){process.exit(a)};u.inspect=function(){return"[Emscripten Module object]"}}else if(ma)"undefined"!=typeof read&&(u.read=function(a){return read(a)}),u.readBinary=function(a){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,"binary");m("object"===typeof a);return a},"undefined"!=typeof scriptArgs?u.arguments=scriptArgs:"undefined"!=typeof arguments&&(u.arguments=arguments),"function"===typeof quit&&(u.quit=
function(a){quit(a)});else if(na||la)la?ba=self.location.href:document.currentScript&&(ba=document.currentScript.src),a&&(ba=a),ba=0!==ba.indexOf("blob:")?ba.substr(0,ba.lastIndexOf("/")+1):"",u.read=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},la&&(u.readBinary=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),u.readAsync=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",
a,!0);d.responseType="arraybuffer";d.onload=function(){200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)},u.setWindowTitle=function(a){document.title=a};var ra=u.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),pa=u.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||ra);for(ja in aa)aa.hasOwnProperty(ja)&&(u[ja]=aa[ja]);var aa=void 0,ha={"f64-rem":function(a,
b){return a%b},"debugger":function(){debugger}};"object"!==typeof WebAssembly&&pa("no native wasm support detected");var xa,ca=!1,V="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var W,da,ga,ka,Ca=u.TOTAL_MEMORY||16777216;5242880>Ca&&pa("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ca+"! (TOTAL_STACK\x3d5242880)");u.buffer?W=u.buffer:"object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(xa=new WebAssembly.Memory({initial:Ca/
65536}),W=xa.buffer):W=new ArrayBuffer(Ca);k();ka[4088]=5259264;var Ba=[],vb=[],bb=[],qa=[],Va=!1,Aa=0,Ga=null,Na=null;u.preloadedImages={};u.preloadedAudios={};var ua="draco_decoder.wasm";f(ua)||(ua=g(ua));u.asm=function(a,b,c){b.memory=xa;b.table=new WebAssembly.Table({initial:490,maximum:490,element:"anyfunc"});b.__memory_base=1024;b.__table_base=0;return t(b)};var ta={last:0,caught:[],infos:{},deAdjust:function(a){if(!a||ta.infos[a])return a;for(var b in ta.infos)for(var c=+b,d=ta.infos[c].adjusted,
l=d.length,f=0;f<l;f++)if(d[f]===a)return c;return a},addRef:function(a){a&&ta.infos[a].refcount++},decRef:function(a){if(a){var b=ta.infos[a];m(0<b.refcount);b.refcount--;if(0===b.refcount&&!b.rethrown){b.destructor&&u.dynCall_vi(b.destructor,a);delete ta.infos[a];try{vc(a)}catch(pc){}}}},clearRef:function(a){a&&(ta.infos[a].refcount=0)}},Ia=u.asm({},{e:r,d:function(a){return wc(a)},k:function(){ca=!0;throw"Pure virtual function called!";},c:function(a,b,c){ta.infos[a]={ptr:a,adjusted:[a],type:b,
destructor:c,refcount:0,caught:!1,rethrown:!1};ta.last=a;"uncaught_exception"in q?q.uncaught_exception++:q.uncaught_exception=1;throw a;},f:function(a){u.___errno_location&&(ka[u.___errno_location()>>2]=a);return a},b:function(){u.abort()},j:l,i:function(a,b,c){ga.set(ga.subarray(b,b+c),a)},h:function(a){var b=l();if(2147418112<a)return!1;for(b=Math.max(b,16777216);b<a;)b=536870912>=b?e(2*b,65536):Math.min(e((3*b+2147483648)/4,65536),2147418112);if(!v(b))return!1;k();return!0},g:function(){r("trap!")},
l:function(a){r("OOM")},a:16352},W);u.asm=Ia;var cb=u._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return u.asm.m.apply(null,arguments)},yb=u._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return u.asm.n.apply(null,arguments)},hb=u._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return u.asm.o.apply(null,arguments)},ib=u._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return u.asm.p.apply(null,
arguments)},db=u._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return u.asm.q.apply(null,arguments)},$b=u._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return u.asm.r.apply(null,arguments)},ac=u._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return u.asm.s.apply(null,arguments)},Xa=u._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return u.asm.t.apply(null,arguments)},ea=
u._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return u.asm.u.apply(null,arguments)},jb=u._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return u.asm.v.apply(null,arguments)},Wa=u._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return u.asm.w.apply(null,arguments)},zb=u._emscripten_bind_AttributeTransformData___destroy___0=function(){return u.asm.x.apply(null,arguments)},Ja=u._emscripten_bind_AttributeTransformData_transform_type_0=
function(){return u.asm.y.apply(null,arguments)},eb=u._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return u.asm.z.apply(null,arguments)},wa=u._emscripten_bind_DecoderBuffer_Init_2=function(){return u.asm.A.apply(null,arguments)},Ab=u._emscripten_bind_DecoderBuffer___destroy___0=function(){return u.asm.B.apply(null,arguments)},Qa=u._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return u.asm.C.apply(null,arguments)},Bb=u._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return u.asm.D.apply(null,
arguments)},fb=u._emscripten_bind_Decoder_Decoder_0=function(){return u.asm.E.apply(null,arguments)},Ka=u._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return u.asm.F.apply(null,arguments)},kb=u._emscripten_bind_Decoder_GetAttributeFloatArrayForAllPoints_4=function(){return u.asm.G.apply(null,arguments)},lb=u._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return u.asm.H.apply(null,arguments)},bc=u._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return u.asm.I.apply(null,
arguments)},Ya=u._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return u.asm.J.apply(null,arguments)},Cb=u._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return u.asm.K.apply(null,arguments)},Db=u._emscripten_bind_Decoder_GetAttributeId_2=function(){return u.asm.L.apply(null,arguments)},Eb=u._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return u.asm.M.apply(null,arguments)},Fb=u._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return u.asm.N.apply(null,
arguments)},cc=u._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return u.asm.O.apply(null,arguments)},Gb=u._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return u.asm.P.apply(null,arguments)},Hb=u._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return u.asm.Q.apply(null,arguments)},dc=u._emscripten_bind_Decoder_GetAttributeUInt16ArrayForAllPoints_4=function(){return u.asm.R.apply(null,arguments)},ec=u._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=
function(){return u.asm.S.apply(null,arguments)},mb=u._emscripten_bind_Decoder_GetAttributeUInt32ArrayForAllPoints_4=function(){return u.asm.T.apply(null,arguments)},fc=u._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return u.asm.U.apply(null,arguments)},Ib=u._emscripten_bind_Decoder_GetAttributeUInt8ArrayForAllPoints_4=function(){return u.asm.V.apply(null,arguments)},Jb=u._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return u.asm.W.apply(null,arguments)},
gc=u._emscripten_bind_Decoder_GetAttribute_2=function(){return u.asm.X.apply(null,arguments)},Kb=u._emscripten_bind_Decoder_GetEncodedGeometryType_1=function(){return u.asm.Y.apply(null,arguments)},Lb=u._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return u.asm.Z.apply(null,arguments)},hc=u._emscripten_bind_Decoder_GetMetadata_1=function(){return u.asm._.apply(null,arguments)},ic=u._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return u.asm.$.apply(null,arguments)},Ra=u._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=
function(){return u.asm.aa.apply(null,arguments)},nb=u._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return u.asm.ba.apply(null,arguments)},Mb=u._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return u.asm.ca.apply(null,arguments)},ob=u._emscripten_bind_Decoder___destroy___0=function(){return u.asm.da.apply(null,arguments)},Oa=u._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return u.asm.ea.apply(null,arguments)},jc=u._emscripten_bind_DracoFloat32Array_GetArray_2=
function(){return u.asm.fa.apply(null,arguments)},Da=u._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return u.asm.ga.apply(null,arguments)},Za=u._emscripten_bind_DracoFloat32Array___destroy___0=function(){return u.asm.ha.apply(null,arguments)},Nb=u._emscripten_bind_DracoFloat32Array_size_0=function(){return u.asm.ia.apply(null,arguments)},wb=u._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return u.asm.ja.apply(null,arguments)},$a=u._emscripten_bind_DracoInt16Array_GetArray_2=
function(){return u.asm.ka.apply(null,arguments)},Ob=u._emscripten_bind_DracoInt16Array_GetValue_1=function(){return u.asm.la.apply(null,arguments)},ya=u._emscripten_bind_DracoInt16Array___destroy___0=function(){return u.asm.ma.apply(null,arguments)},Sa=u._emscripten_bind_DracoInt16Array_size_0=function(){return u.asm.na.apply(null,arguments)},xb=u._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return u.asm.oa.apply(null,arguments)},pb=u._emscripten_bind_DracoInt32Array_GetArray_2=
function(){return u.asm.pa.apply(null,arguments)},qb=u._emscripten_bind_DracoInt32Array_GetValue_1=function(){return u.asm.qa.apply(null,arguments)},Pb=u._emscripten_bind_DracoInt32Array___destroy___0=function(){return u.asm.ra.apply(null,arguments)},Qb=u._emscripten_bind_DracoInt32Array_size_0=function(){return u.asm.sa.apply(null,arguments)},Ha=u._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return u.asm.ta.apply(null,arguments)},Rb=u._emscripten_bind_DracoInt8Array_GetArray_2=function(){return u.asm.ua.apply(null,
arguments)},Ta=u._emscripten_bind_DracoInt8Array_GetValue_1=function(){return u.asm.va.apply(null,arguments)},Pa=u._emscripten_bind_DracoInt8Array___destroy___0=function(){return u.asm.wa.apply(null,arguments)},rb=u._emscripten_bind_DracoInt8Array_size_0=function(){return u.asm.xa.apply(null,arguments)},Xb=u._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return u.asm.ya.apply(null,arguments)},kc=u._emscripten_bind_DracoUInt16Array_GetArray_2=function(){return u.asm.za.apply(null,
arguments)},Sb=u._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return u.asm.Aa.apply(null,arguments)},lc=u._emscripten_bind_DracoUInt16Array___destroy___0=function(){return u.asm.Ba.apply(null,arguments)},Tb=u._emscripten_bind_DracoUInt16Array_size_0=function(){return u.asm.Ca.apply(null,arguments)},oa=u._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return u.asm.Da.apply(null,arguments)},za=u._emscripten_bind_DracoUInt32Array_GetArray_2=function(){return u.asm.Ea.apply(null,
arguments)},Ea=u._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return u.asm.Fa.apply(null,arguments)},Fa=u._emscripten_bind_DracoUInt32Array___destroy___0=function(){return u.asm.Ga.apply(null,arguments)},ab=u._emscripten_bind_DracoUInt32Array_size_0=function(){return u.asm.Ha.apply(null,arguments)},Yb=u._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return u.asm.Ia.apply(null,arguments)},Ub=u._emscripten_bind_DracoUInt8Array_GetArray_2=function(){return u.asm.Ja.apply(null,
arguments)},Ua=u._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return u.asm.Ka.apply(null,arguments)},Vb=u._emscripten_bind_DracoUInt8Array___destroy___0=function(){return u.asm.La.apply(null,arguments)},mc=u._emscripten_bind_DracoUInt8Array_size_0=function(){return u.asm.Ma.apply(null,arguments)},Zb=u._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return u.asm.Na.apply(null,arguments)},sb=u._emscripten_bind_GeometryAttribute___destroy___0=function(){return u.asm.Oa.apply(null,
arguments)},gb=u._emscripten_bind_Mesh_Mesh_0=function(){return u.asm.Pa.apply(null,arguments)},Wb=u._emscripten_bind_Mesh___destroy___0=function(){return u.asm.Qa.apply(null,arguments)},tb=u._emscripten_bind_Mesh_num_attributes_0=function(){return u.asm.Ra.apply(null,arguments)},La=u._emscripten_bind_Mesh_num_faces_0=function(){return u.asm.Sa.apply(null,arguments)},ub=u._emscripten_bind_Mesh_num_points_0=function(){return u.asm.Ta.apply(null,arguments)},Ma=u._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=
function(){return u.asm.Ua.apply(null,arguments)},xc=u._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return u.asm.Va.apply(null,arguments)},yc=u._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return u.asm.Wa.apply(null,arguments)},zc=u._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return u.asm.Xa.apply(null,arguments)},Ac=u._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return u.asm.Ya.apply(null,arguments)},Bc=u._emscripten_bind_MetadataQuerier_HasEntry_2=
function(){return u.asm.Za.apply(null,arguments)},tc=u._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return u.asm._a.apply(null,arguments)},Cc=u._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return u.asm.$a.apply(null,arguments)},Dc=u._emscripten_bind_MetadataQuerier___destroy___0=function(){return u.asm.ab.apply(null,arguments)},uc=u._emscripten_bind_Metadata_Metadata_0=function(){return u.asm.bb.apply(null,arguments)},Ec=u._emscripten_bind_Metadata___destroy___0=function(){return u.asm.cb.apply(null,
arguments)},Fc=u._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return u.asm.db.apply(null,arguments)},sc=u._emscripten_bind_PointAttribute_PointAttribute_0=function(){return u.asm.eb.apply(null,arguments)},Gc=u._emscripten_bind_PointAttribute___destroy___0=function(){return u.asm.fb.apply(null,arguments)},Hc=u._emscripten_bind_PointAttribute_attribute_type_0=function(){return u.asm.gb.apply(null,arguments)},Ic=u._emscripten_bind_PointAttribute_byte_offset_0=function(){return u.asm.hb.apply(null,
arguments)},Jc=u._emscripten_bind_PointAttribute_byte_stride_0=function(){return u.asm.ib.apply(null,arguments)},Kc=u._emscripten_bind_PointAttribute_data_type_0=function(){return u.asm.jb.apply(null,arguments)},Lc=u._emscripten_bind_PointAttribute_normalized_0=function(){return u.asm.kb.apply(null,arguments)},Mc=u._emscripten_bind_PointAttribute_num_components_0=function(){return u.asm.lb.apply(null,arguments)},Nc=u._emscripten_bind_PointAttribute_size_0=function(){return u.asm.mb.apply(null,arguments)},
Oc=u._emscripten_bind_PointAttribute_unique_id_0=function(){return u.asm.nb.apply(null,arguments)},rc=u._emscripten_bind_PointCloud_PointCloud_0=function(){return u.asm.ob.apply(null,arguments)},Pc=u._emscripten_bind_PointCloud___destroy___0=function(){return u.asm.pb.apply(null,arguments)},Qc=u._emscripten_bind_PointCloud_num_attributes_0=function(){return u.asm.qb.apply(null,arguments)},Rc=u._emscripten_bind_PointCloud_num_points_0=function(){return u.asm.rb.apply(null,arguments)},Sc=u._emscripten_bind_Status___destroy___0=
function(){return u.asm.sb.apply(null,arguments)},Tc=u._emscripten_bind_Status_code_0=function(){return u.asm.tb.apply(null,arguments)},Uc=u._emscripten_bind_Status_error_msg_0=function(){return u.asm.ub.apply(null,arguments)},Vc=u._emscripten_bind_Status_ok_0=function(){return u.asm.vb.apply(null,arguments)},Wc=u._emscripten_bind_VoidPtr___destroy___0=function(){return u.asm.wb.apply(null,arguments)},Xc=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return u.asm.xb.apply(null,
arguments)},Yc=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return u.asm.yb.apply(null,arguments)},Zc=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return u.asm.zb.apply(null,arguments)},$c=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return u.asm.Ab.apply(null,arguments)},ad=u._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return u.asm.Bb.apply(null,
arguments)},bd=u._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return u.asm.Cb.apply(null,arguments)},cd=u._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return u.asm.Db.apply(null,arguments)},dd=u._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return u.asm.Eb.apply(null,arguments)},ed=u._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return u.asm.Fb.apply(null,arguments)},fd=u._emscripten_enum_draco_GeometryAttribute_Type_INVALID=
function(){return u.asm.Gb.apply(null,arguments)},gd=u._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return u.asm.Hb.apply(null,arguments)},hd=u._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return u.asm.Ib.apply(null,arguments)},id=u._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return u.asm.Jb.apply(null,arguments)},jd=u._emscripten_enum_draco_StatusCode_ERROR=function(){return u.asm.Kb.apply(null,arguments)},kd=u._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=
function(){return u.asm.Lb.apply(null,arguments)},ld=u._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return u.asm.Mb.apply(null,arguments)},md=u._emscripten_enum_draco_StatusCode_OK=function(){return u.asm.Nb.apply(null,arguments)},nd=u._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return u.asm.Ob.apply(null,arguments)},od=u._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return u.asm.Pb.apply(null,arguments)},vc=u._free=function(){return u.asm.Qb.apply(null,
arguments)},wc=u._malloc=function(){return u.asm.Rb.apply(null,arguments)};u.dynCall_v=function(){return u.asm.Sb.apply(null,arguments)};u.dynCall_vi=function(){return u.asm.Tb.apply(null,arguments)};u.asm=Ia;u.then=function(a){if(u.calledRun)a(u);else{var b=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){b&&b();a(u)}}return u};x.prototype=Error();x.prototype.constructor=x;Na=function oc(){u.calledRun||w();u.calledRun||(Na=oc)};u.run=w;u.abort=r;if(u.preInit)for("function"==typeof u.preInit&&
(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();u.noExitRuntime=!0;w();y.prototype=Object.create(y.prototype);y.prototype.constructor=y;y.prototype.__class__=y;y.__cache__={};u.WrapperObject=y;u.getCache=n;u.wrapPointer=C;u.castObject=function(a,b){return C(a.ptr,b)};u.NULL=C(0);u.destroy=function(a){if(!a.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";a.__destroy__();delete n(a.__class__)[a.ptr]};u.compare=function(a,b){return a.ptr===b.ptr};u.getPointer=
function(a){return a.ptr};u.getClass=function(a){return a.__class__};var Z={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Z.needed){for(var a=0;a<Z.temps.length;a++)u._free(Z.temps[a]);Z.temps.length=0;u._free(Z.buffer);Z.buffer=0;Z.size+=Z.needed;Z.needed=0}Z.buffer||(Z.size+=128,Z.buffer=u._malloc(Z.size),m(Z.buffer));Z.pos=0},alloc:function(a,b){m(Z.buffer);a=a.length*b.BYTES_PER_ELEMENT;a=a+7&-8;Z.pos+a>=Z.size?(m(0<a),Z.needed+=a,b=u._malloc(a),Z.temps.push(b)):(b=Z.buffer+Z.pos,
Z.pos+=a);return b},copy:function(a,b,c){switch(b.BYTES_PER_ELEMENT){case 2:c>>=1;break;case 4:c>>=2;break;case 8:c>>=3}for(var d=0;d<a.length;d++)b[c+d]=a[d]}};A.prototype=Object.create(y.prototype);A.prototype.constructor=A;A.prototype.__class__=A;A.__cache__={};u.Status=A;A.prototype.code=A.prototype.code=function(){return Tc(this.ptr)};A.prototype.ok=A.prototype.ok=function(){return!!Vc(this.ptr)};A.prototype.error_msg=A.prototype.error_msg=function(){return h(Uc(this.ptr))};A.prototype.__destroy__=
A.prototype.__destroy__=function(){Sc(this.ptr)};z.prototype=Object.create(y.prototype);z.prototype.constructor=z;z.prototype.__class__=z;z.__cache__={};u.DracoUInt16Array=z;z.prototype.GetValue=z.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Sb(b,a)};z.prototype.size=z.prototype.size=function(){return Tb(this.ptr)};z.prototype.GetArray=z.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!kc(c,
a,b)};z.prototype.__destroy__=z.prototype.__destroy__=function(){lc(this.ptr)};B.prototype=Object.create(y.prototype);B.prototype.constructor=B;B.prototype.__class__=B;B.__cache__={};u.PointCloud=B;B.prototype.num_attributes=B.prototype.num_attributes=function(){return Qc(this.ptr)};B.prototype.num_points=B.prototype.num_points=function(){return Rc(this.ptr)};B.prototype.__destroy__=B.prototype.__destroy__=function(){Pc(this.ptr)};F.prototype=Object.create(y.prototype);F.prototype.constructor=F;F.prototype.__class__=
F;F.__cache__={};u.DracoUInt8Array=F;F.prototype.GetValue=F.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Ua(b,a)};F.prototype.size=F.prototype.size=function(){return mc(this.ptr)};F.prototype.GetArray=F.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!Ub(c,a,b)};F.prototype.__destroy__=F.prototype.__destroy__=function(){Vb(this.ptr)};H.prototype=Object.create(y.prototype);H.prototype.constructor=
H;H.prototype.__class__=H;H.__cache__={};u.DracoUInt32Array=H;H.prototype.GetValue=H.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Ea(b,a)};H.prototype.size=H.prototype.size=function(){return ab(this.ptr)};H.prototype.GetArray=H.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!za(c,a,b)};H.prototype.__destroy__=H.prototype.__destroy__=function(){Fa(this.ptr)};J.prototype=Object.create(y.prototype);
J.prototype.constructor=J;J.prototype.__class__=J;J.__cache__={};u.AttributeOctahedronTransform=J;J.prototype.InitFromAttribute=J.prototype.InitFromAttribute=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return!!yb(b,a)};J.prototype.quantization_bits=J.prototype.quantization_bits=function(){return ib(this.ptr)};J.prototype.__destroy__=J.prototype.__destroy__=function(){hb(this.ptr)};E.prototype=Object.create(y.prototype);E.prototype.constructor=E;E.prototype.__class__=E;E.__cache__=
{};u.PointAttribute=E;E.prototype.size=E.prototype.size=function(){return Nc(this.ptr)};E.prototype.GetAttributeTransformData=E.prototype.GetAttributeTransformData=function(){return C(Fc(this.ptr),K)};E.prototype.attribute_type=E.prototype.attribute_type=function(){return Hc(this.ptr)};E.prototype.data_type=E.prototype.data_type=function(){return Kc(this.ptr)};E.prototype.num_components=E.prototype.num_components=function(){return Mc(this.ptr)};E.prototype.normalized=E.prototype.normalized=function(){return!!Lc(this.ptr)};
E.prototype.byte_stride=E.prototype.byte_stride=function(){return Jc(this.ptr)};E.prototype.byte_offset=E.prototype.byte_offset=function(){return Ic(this.ptr)};E.prototype.unique_id=E.prototype.unique_id=function(){return Oc(this.ptr)};E.prototype.__destroy__=E.prototype.__destroy__=function(){Gc(this.ptr)};K.prototype=Object.create(y.prototype);K.prototype.constructor=K;K.prototype.__class__=K;K.__cache__={};u.AttributeTransformData=K;K.prototype.transform_type=K.prototype.transform_type=function(){return Ja(this.ptr)};
K.prototype.__destroy__=K.prototype.__destroy__=function(){zb(this.ptr)};I.prototype=Object.create(y.prototype);I.prototype.constructor=I;I.prototype.__class__=I;I.__cache__={};u.AttributeQuantizationTransform=I;I.prototype.InitFromAttribute=I.prototype.InitFromAttribute=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return!!$b(b,a)};I.prototype.quantization_bits=I.prototype.quantization_bits=function(){return ea(this.ptr)};I.prototype.min_value=I.prototype.min_value=function(a){var b=
this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Xa(b,a)};I.prototype.range=I.prototype.range=function(){return jb(this.ptr)};I.prototype.__destroy__=I.prototype.__destroy__=function(){ac(this.ptr)};O.prototype=Object.create(y.prototype);O.prototype.constructor=O;O.prototype.__class__=O;O.__cache__={};u.DracoInt8Array=O;O.prototype.GetValue=O.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Ta(b,a)};O.prototype.size=O.prototype.size=function(){return rb(this.ptr)};
O.prototype.GetArray=O.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!Rb(c,a,b)};O.prototype.__destroy__=O.prototype.__destroy__=function(){Pa(this.ptr)};N.prototype=Object.create(y.prototype);N.prototype.constructor=N;N.prototype.__class__=N;N.__cache__={};u.MetadataQuerier=N;N.prototype.HasEntry=N.prototype.HasEntry=function(a,b){var c=this.ptr;Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:
D(b);return!!Bc(c,a,b)};N.prototype.GetIntEntry=N.prototype.GetIntEntry=function(a,b){var c=this.ptr;Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:D(b);return zc(c,a,b)};N.prototype.GetIntEntryArray=N.prototype.GetIntEntryArray=function(a,b,c){var d=this.ptr;Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:D(b);c&&"object"===typeof c&&(c=c.ptr);yc(d,a,b,c)};N.prototype.GetDoubleEntry=N.prototype.GetDoubleEntry=function(a,b){var c=this.ptr;
Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:D(b);return Ma(c,a,b)};N.prototype.GetStringEntry=N.prototype.GetStringEntry=function(a,b){var c=this.ptr;Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:D(b);return h(Ac(c,a,b))};N.prototype.NumEntries=N.prototype.NumEntries=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Cc(b,a)};N.prototype.GetEntryName=N.prototype.GetEntryName=function(a,b){var c=this.ptr;a&&"object"===
typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return h(xc(c,a,b))};N.prototype.__destroy__=N.prototype.__destroy__=function(){Dc(this.ptr)};P.prototype=Object.create(y.prototype);P.prototype.constructor=P;P.prototype.__class__=P;P.__cache__={};u.DracoInt16Array=P;P.prototype.GetValue=P.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Ob(b,a)};P.prototype.size=P.prototype.size=function(){return Sa(this.ptr)};P.prototype.GetArray=P.prototype.GetArray=function(a,
b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!$a(c,a,b)};P.prototype.__destroy__=P.prototype.__destroy__=function(){ya(this.ptr)};Q.prototype=Object.create(y.prototype);Q.prototype.constructor=Q;Q.prototype.__class__=Q;Q.__cache__={};u.DracoFloat32Array=Q;Q.prototype.GetValue=Q.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Da(b,a)};Q.prototype.size=Q.prototype.size=function(){return Nb(this.ptr)};Q.prototype.GetArray=
Q.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!jc(c,a,b)};Q.prototype.__destroy__=Q.prototype.__destroy__=function(){Za(this.ptr)};R.prototype=Object.create(y.prototype);R.prototype.constructor=R;R.prototype.__class__=R;R.__cache__={};u.GeometryAttribute=R;R.prototype.__destroy__=R.prototype.__destroy__=function(){sb(this.ptr)};U.prototype=Object.create(y.prototype);U.prototype.constructor=U;U.prototype.__class__=U;U.__cache__=
{};u.DecoderBuffer=U;U.prototype.Init=U.prototype.Init=function(a,b){var c=this.ptr;Z.prepare();if("object"==typeof a&&"object"===typeof a){var d=Z.alloc(a,da);Z.copy(a,da,d);a=d}b&&"object"===typeof b&&(b=b.ptr);wa(c,a,b)};U.prototype.__destroy__=U.prototype.__destroy__=function(){Ab(this.ptr)};L.prototype=Object.create(y.prototype);L.prototype.constructor=L;L.prototype.__class__=L;L.__cache__={};u.Decoder=L;L.prototype.GetEncodedGeometryType=L.prototype.GetEncodedGeometryType=function(a){var b=
this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Kb(b,a)};L.prototype.DecodeBufferToPointCloud=L.prototype.DecodeBufferToPointCloud=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return C(Bb(c,a,b),A)};L.prototype.DecodeBufferToMesh=L.prototype.DecodeBufferToMesh=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return C(Qa(c,a,b),A)};L.prototype.GetAttributeId=L.prototype.GetAttributeId=function(a,b){var c=
this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return Db(c,a,b)};L.prototype.GetAttributeIdByName=L.prototype.GetAttributeIdByName=function(a,b){var c=this.ptr;Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:D(b);return Cb(c,a,b)};L.prototype.GetAttributeIdByMetadataEntry=L.prototype.GetAttributeIdByMetadataEntry=function(a,b,c){var d=this.ptr;Z.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:D(b);c=c&&"object"===
typeof c?c.ptr:D(c);return Ya(d,a,b,c)};L.prototype.GetAttribute=L.prototype.GetAttribute=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return C(gc(c,a,b),E)};L.prototype.GetAttributeByUniqueId=L.prototype.GetAttributeByUniqueId=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return C(Ka(c,a,b),E)};L.prototype.GetMetadata=L.prototype.GetMetadata=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=
a.ptr);return C(hc(b,a),T)};L.prototype.GetAttributeMetadata=L.prototype.GetAttributeMetadata=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return C(Hb(c,a,b),T)};L.prototype.GetFaceFromMesh=L.prototype.GetFaceFromMesh=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Lb(d,a,b,c)};L.prototype.GetTriangleStripsFromMesh=L.prototype.GetTriangleStripsFromMesh=function(a,
b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return ic(c,a,b)};L.prototype.GetTrianglesUInt16Array=L.prototype.GetTrianglesUInt16Array=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Ra(d,a,b,c)};L.prototype.GetTrianglesUInt32Array=L.prototype.GetTrianglesUInt32Array=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);
c&&"object"===typeof c&&(c=c.ptr);return!!nb(d,a,b,c)};L.prototype.GetAttributeFloat=L.prototype.GetAttributeFloat=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!bc(d,a,b,c)};L.prototype.GetAttributeFloatForAllPoints=L.prototype.GetAttributeFloatForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!lb(d,a,
b,c)};L.prototype.GetAttributeFloatArrayForAllPoints=L.prototype.GetAttributeFloatArrayForAllPoints=function(a,b,c,d){var l=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!kb(l,a,b,c,d)};L.prototype.GetAttributeIntForAllPoints=L.prototype.GetAttributeIntForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);
return!!Gb(d,a,b,c)};L.prototype.GetAttributeInt8ForAllPoints=L.prototype.GetAttributeInt8ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!cc(d,a,b,c)};L.prototype.GetAttributeUInt8ForAllPoints=L.prototype.GetAttributeUInt8ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Jb(d,a,b,c)};L.prototype.GetAttributeUInt8ArrayForAllPoints=
L.prototype.GetAttributeUInt8ArrayForAllPoints=function(a,b,c,d){var l=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!Ib(l,a,b,c,d)};L.prototype.GetAttributeInt16ForAllPoints=L.prototype.GetAttributeInt16ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Eb(d,a,b,c)};L.prototype.GetAttributeUInt16ForAllPoints=
L.prototype.GetAttributeUInt16ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!ec(d,a,b,c)};L.prototype.GetAttributeUInt16ArrayForAllPoints=L.prototype.GetAttributeUInt16ArrayForAllPoints=function(a,b,c,d){var l=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!dc(l,a,b,c,d)};L.prototype.GetAttributeInt32ForAllPoints=
L.prototype.GetAttributeInt32ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Fb(d,a,b,c)};L.prototype.GetAttributeUInt32ForAllPoints=L.prototype.GetAttributeUInt32ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!fc(d,a,b,c)};L.prototype.GetAttributeUInt32ArrayForAllPoints=L.prototype.GetAttributeUInt32ArrayForAllPoints=
function(a,b,c,d){var l=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!mb(l,a,b,c,d)};L.prototype.SkipAttributeTransform=L.prototype.SkipAttributeTransform=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);Mb(b,a)};L.prototype.__destroy__=L.prototype.__destroy__=function(){ob(this.ptr)};fa.prototype=Object.create(y.prototype);fa.prototype.constructor=fa;fa.prototype.__class__=fa;fa.__cache__=
{};u.Mesh=fa;fa.prototype.num_faces=fa.prototype.num_faces=function(){return La(this.ptr)};fa.prototype.num_attributes=fa.prototype.num_attributes=function(){return tb(this.ptr)};fa.prototype.num_points=fa.prototype.num_points=function(){return ub(this.ptr)};fa.prototype.__destroy__=fa.prototype.__destroy__=function(){Wb(this.ptr)};Y.prototype=Object.create(y.prototype);Y.prototype.constructor=Y;Y.prototype.__class__=Y;Y.__cache__={};u.VoidPtr=Y;Y.prototype.__destroy__=Y.prototype.__destroy__=function(){Wc(this.ptr)};
S.prototype=Object.create(y.prototype);S.prototype.constructor=S;S.prototype.__class__=S;S.__cache__={};u.DracoInt32Array=S;S.prototype.GetValue=S.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return qb(b,a)};S.prototype.size=S.prototype.size=function(){return Qb(this.ptr)};S.prototype.GetArray=S.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!pb(c,a,b)};S.prototype.__destroy__=S.prototype.__destroy__=
function(){Pb(this.ptr)};T.prototype=Object.create(y.prototype);T.prototype.constructor=T;T.prototype.__class__=T;T.__cache__={};u.Metadata=T;T.prototype.__destroy__=T.prototype.__destroy__=function(){Ec(this.ptr)};(function(){function a(){u.OK=md();u.ERROR=jd();u.IO_ERROR=ld();u.INVALID_PARAMETER=kd();u.UNSUPPORTED_VERSION=od();u.UNKNOWN_VERSION=nd();u.INVALID_GEOMETRY_TYPE=ad();u.POINT_CLOUD=bd();u.TRIANGULAR_MESH=cd();u.ATTRIBUTE_INVALID_TRANSFORM=Xc();u.ATTRIBUTE_NO_TRANSFORM=Yc();u.ATTRIBUTE_QUANTIZATION_TRANSFORM=
$c();u.ATTRIBUTE_OCTAHEDRON_TRANSFORM=Zc();u.INVALID=fd();u.POSITION=hd();u.NORMAL=gd();u.COLOR=dd();u.TEX_COORD=id();u.GENERIC=ed()}Va?a():bb.unshift(a)})();if("function"===typeof u.onModuleParsed)u.onModuleParsed();return b}}();"object"===typeof exports&&"object"===typeof module?module.exports=b:"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports&&(exports.DracoDecoderModule=b)},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),
function(b,a,n,g,m,h){function e(a,b,c){for(var d="",l=0;l<c;){var f=a[b+l];if(128>f)d+=String.fromCharCode(f),l++;else if(192<=f&&224>f){if(l+1>=c)throw new n("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var e=a[b+l+1],f=(f&31)<<6|e&63,d=d+String.fromCharCode(f),l=l+2}else if(224<=f&&240>f){if(l+2>=c)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var e=a[b+l+1],q=a[b+l+2],f=(f&15)<<12|(e&63)<<6|q&63,d=d+String.fromCharCode(f),
l=l+3}else if(240<=f&&248>f){if(l+3>=c)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");e=a[b+l+1];q=a[b+l+2];f=(f&7)<<18|(e&63)<<12|(q&63)<<6|a[b+l+3]&63;d=65536<=f?d+String.fromCharCode((f-65536>>10)+55296,(f&1023)+56320):d+String.fromCharCode(f);l+=4}else throw new n("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return d}function k(b,c){for(var d={byteOffset:0,byteCount:0,fields:Object.create(null)},l=0,f=0;f<c.length;f++){var e=
c[f],q=e.valueType||e.type;d.fields[e.property]=(0,a.valueType2ArrayBufferReader[q])(b,l);l+=a.valueType2TypedArrayClassMap[q].BYTES_PER_ELEMENT}d.byteCount=l;return d}function p(a,b,c){var d=[],l,f=0,q;for(q=0;q<a;q+=1){l=b[q];if(0<l){if(d.push(e(c,f,l-1)),0!==c[f+l-1])throw new n("string-array-error","Invalid string array: missing null termination.");}else d.push(null);f+=l}return d}function f(b,c){return new a.valueType2TypedArrayClassMap[c.valueType](b,c.byteOffset,c.count*c.valuesPerElement)}
function c(a,b){return new Uint8Array(a,b.byteOffset,b.byteCount)}function d(a,b,c){a=null!=b.header?k(a,b.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var d=a.byteCount,f=0;f<b.ordering.length;f++){var e=b.ordering[f],h=g.clone(b[e]);h.count=a.fields.count;if("String"===h.valueType){if(h.byteOffset=d,h.byteCount=a.fields[e+"ByteCount"],"UTF-8"!==h.encoding)throw new n("unsupported-encoding","Unsupported String encoding.",
{encoding:h.encoding});}else if(q(h.valueType)){var v=l(h.valueType),d=d+(0!==d%v?v-d%v:0);h.byteOffset=d;h.byteCount=v*h.valuesPerElement*h.count}else throw new n("unsupported-value-type","Unsupported binary valueType",{valueType:h.valueType});d+=h.byteCount;c.entries[e]=h}c.byteCount=d-c.byteOffset;return c}function t(a,b,c){b!==a&&v.error("Invalid "+c+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new n("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});
}function q(b){return a.valueType2TypedArrayClassMap.hasOwnProperty(b)}function l(b){return q(b)?a.valueType2TypedArrayClassMap[b].BYTES_PER_ELEMENT:0}Object.defineProperty(a,"__esModule",{value:!0});var v=m.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");a.readHeader=k;a.readStringArray=p;a.createTypedView=f;a.createRawView=c;a.createAttributeDataIndex=d;a.createGeometryIndexFromDefinition=function(a,b,c){for(var d={header:{byteOffset:0,byteCount:a.offset,fields:{}},byteOffset:a.offset,byteCount:0,
vertexAttributes:{},featureAttributes:{}},f=a.offset,e=function(a,b,c,d){var e="UInt64"===b.type?8:l(b.type);b={byteOffset:f,byteCount:e*b.component*c,count:c,valueType:b.type,valuesPerElement:b.component};f+=b.byteCount;d[a]=b},q=0,h=x;q<h.length;q++){var k=h[q];a[k[0]]&&e(k[1],a[k[0]],b,d.vertexAttributes)}b=0;for(q=w;b<q.length;b++)h=q[b],a[h[0]]&&e(h[1],a[h[0]],c,d.featureAttributes);return d};var x=[["position","position"],["normal","normal"],["uv0","uv0"],["uv1","uv1"],["color","color"],["uvRegion",
"region"]],w=[["featureId","id"],["faceRange","faceRange"]];a.createGeometryIndexFromSchema=function(a,b){for(var c=k(a,b&&b.header),d=c.byteCount,f={header:c,byteOffset:c.byteCount,byteCount:0,vertexAttributes:g.clone(b.vertexAttributes)},e=f.vertexAttributes,q=c.fields,h=null!=q.vertexCount?q.vertexCount:q.count,c=0;c<b.ordering.length;c++){var v=b.ordering[c];null!=e[v]&&(e[v].byteOffset=d,e[v].count=h,d+=l(e[v].valueType)*e[v].valuesPerElement*h)}e=q.faceCount;if(b.faces&&e)for(f.faces=g.clone(b.faces),
h=f.faces,c=0;c<b.ordering.length;c++)v=b.ordering[c],null!=h[v]&&(h[v].byteOffset=d,h[v].count=e,d+=l(h[v].valueType)*h[v].valuesPerElement*e);q=q.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&q)for(f.featureAttributes=g.clone(b.featureAttributes),e=f.featureAttributes,c=0;c<b.featureAttributeOrder.length;c++)h=b.featureAttributeOrder[c],e[h].byteOffset=d,e[h].count=q,v=l(e[h].valueType),"UInt64"===e[h].valueType&&(v=8),d+=v*e[h].valuesPerElement*q;t(d,a.byteLength,"geometry");f.byteCount=
d-f.byteOffset;return f};a.readBinaryAttribute=function(a,b,l){if("lepcc-rgb"===a.encoding)return h.decodeRGB(b);if("lepcc-intensity"===a.encoding)return h.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new n("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(v.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&
(v.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");l=d(b,a,l);t(l.byteOffset+l.byteCount,b.byteLength,"attribute");if(a=l.entries.attributeValues||l.entries.objectIds){if("String"===a.valueType){l=l.entries.attributeByteCounts;var e=f(b,l);b=c(b,a);return p(l.count,e,b)}return f(b,a)}throw new n("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};a.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,
Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};a.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,
0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};a.isValueType=q;a.getBytesPerValue=l})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(b,a,n){function g(a,b,f){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,f+e.identifierOffset,e.identifierLength)),version:b.getUint16(f+e.versionOffset,!0),checksum:b.getUint32(f+e.checksumOffset,!0)}}function m(a,b,f){var c=[];b=h(a,b,c);for(var d=[],
e=0;e<c.length;e++){d.length=0;b=h(a,b,d);for(var q=0;q<d.length;q++)f.push(d[q]+c[e])}return b}function h(a,b,f){var c=new DataView(a,b),d=c.getUint8(0),e=d&31,q=!!(d&32),l=(d&192)>>6,d=0;if(0===l)d=c.getUint32(1,!0),b+=5;else if(1===l)d=c.getUint16(1,!0),b+=3;else if(2===l)d=c.getUint8(1),b+=2;else throw new n("lepcc-decode-error","Bad count type");if(q)throw new n("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(d*e/8));for(var l=q=c=0,h=-1>>>32-e,k=0;k<d;k++){for(;q<
e;)c|=a[l]<<q,q+=8,l+=1;f[k]=c&h;c>>>=e;q-=e;32<q+e&&(c|=a[l-1]>>8-q)}return b+l}Object.defineProperty(a,"__esModule",{value:!0});var e={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};a.decodeXYZ=function(a){var b,f,c,d,h,q,l,k,x,w,r,y,G=new DataView(a,0),C=0;d=g(a,G,C);c=d.identifier;d=d.version;C+=e.byteCount;if("LEPCC     "!==c)throw new n("lepcc-decode-error","Bad identifier");if(1<d)throw new n("lepcc-decode-error","Unknown version");var D=C;b=G.getUint32(D+
0,!0);f=G.getUint32(D+4,!0);c=G.getFloat64(D+8,!0);d=G.getFloat64(D+16,!0);h=G.getFloat64(D+24,!0);q=G.getFloat64(D+32,!0);l=G.getFloat64(D+40,!0);k=G.getFloat64(D+48,!0);x=G.getFloat64(D+56,!0);w=G.getFloat64(D+64,!0);r=G.getFloat64(D+72,!0);y=G.getUint32(D+80,!0);G.getUint32(D+84,!0);C+=88;if(f*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");G=new Float64Array(3*y);b=[];f=[];y=[];D=[];C=m(a,C,b);C=m(a,C,f);C=m(a,C,y);C=m(a,C,D);if(C!==a.byteLength)throw new n("lepcc-decode-error",
"Bad length");for(var A=C=a=0;A<b.length;A++)for(var C=C+b[A],z=0,B=0;B<f[A];B++){var z=z+y[a],F=D[a];G[3*a]=Math.min(q,c+2*x*z);G[3*a+1]=Math.min(l,d+2*w*C);G[3*a+2]=Math.min(k,h+2*r*F);a++}return{errorX:x,errorY:w,errorZ:r,result:G}};a.decodeRGB=function(a){var b,f,c,d,h,q,l=new DataView(a,0),k=0;d=g(a,l,k);c=d.identifier;d=d.version;k+=e.byteCount;if("ClusterRGB"!==c)throw new n("lepcc-decode-error","Bad identifier");if(1<d)throw new n("lepcc-decode-error","Unknown version");q=k;b=l.getUint32(q+
0,!0);f=l.getUint32(q+4,!0);c=l.getUint32(q+8,!0);d=l.getUint16(q+12,!0);h=l.getUint8(q+14);q=l.getUint8(q+15);k+=16;if(f*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");if((2===h||1===h)&&0===q){if(3*d+c+k!==a.byteLength||256<d)throw new n("lepcc-decode-error","Bad count");l=new Uint8Array(a,k,3*d);d=new Uint8Array(a,k+3*d,c);k=new Uint8Array(3*c);for(a=0;a<c;a++)b=d[a],k[3*a]=l[3*b],k[3*a+1]=l[3*b+1],k[3*a+2]=l[3*b+2];return k}if(0===h&&0===q){if(3*c+k!==a.byteLength||
0!==d)throw new n("lepcc-decode-error","Bad count");return(new Uint8Array(a,k)).slice()}if(2>=h&&1===q){if(k+3!==a.byteLength||1!==d)throw new n("lepcc-decode-error","Bad count");d=l.getUint8(k);b=l.getUint8(k+1);l=l.getUint8(k+2);k=new Uint8Array(3*c);for(a=0;a<c;a++)k[3*a]=d,k[3*a+1]=b,k[3*a+2]=l;return k}throw new n("lepcc-decode-error","Bad method "+h+","+q);};a.decodeIntensity=function(a){var b,f,c,d,k,q=new DataView(a,0),l=0;d=g(a,q,l);c=d.identifier;d=d.version;l+=e.byteCount;if("Intensity "!==
c)throw new n("lepcc-decode-error","Bad identifier");if(1<d)throw new n("lepcc-decode-error","Unknown version");var v=l;b=q.getUint32(v+0,!0);f=q.getUint32(v+4,!0);c=q.getUint32(v+8,!0);d=q.getUint16(v+12,!0);k=q.getUint8(v+14);q.getUint8(v+15);l+=16;if(f*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");q=new Uint16Array(c);if(8===k){if(c+l!==a.byteLength)throw new n("lepcc-decode-error","Bad size");k=new Uint8Array(a,l,c)}else if(16===k){if(2*c+l!==a.byteLength)throw new n("lepcc-decode-error",
"Bad size");k=new Uint16Array(a,l,c)}else if(k=[],h(a,l,k)!==a.byteLength)throw new n("lepcc-decode-error","Bad size");for(a=0;a<c;a++)q[a]=k[a]*d;return q}})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/promiseUtils ../../../../core/libs/gl-matrix-2/vec2f32 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f32 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/meshUtils/deduplicate ./I3SBinaryReader ../../support/projectionUtils ../../webgl-engine/lib/Util".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t){function q(a,b,c,d,l,f,e){switch(c){case 1:for(c=0;c<e;c++)d[l]=a[b],b+=1,l+=f;break;case 2:for(c=0;c<e;c++)d[l]=a[b],d[l+1]=a[b+1],b+=2,l+=f;break;case 3:for(c=0;c<e;c++)d[l]=a[b],d[l+1]=a[b+1],d[l+2]=a[b+2],b+=3,l+=f;break;case 4:for(c=0;c<e;c++)d[l]=a[b],d[l+1]=a[b+1],d[l+2]=a[b+2],d[l+3]=a[b+3],b+=4,l+=f;break;default:throw r("Unhandled stride size "+c);}}function l(a,b,c,d,l,f){switch(b){case 1:for(b=0;b<f;b++)c[d]=a,d+=l;break;case 2:for(b=0;b<f;b++)c[d]=
a,c[d+1]=a,d+=l;break;case 3:for(b=0;b<f;b++)c[d]=a,c[d+1]=a,c[d+2]=a,d+=l;break;case 4:for(b=0;b<f;b++)c[d]=a,c[d+1]=a,c[d+2]=a,c[d+3]=a,d+=l;break;default:throw r("Unhandled stride size "+b);}}function v(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function x(a){switch(a){case 5120:return"Int8";
case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function w(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}function r(a){return Error("I3SGeometryUtil processing failed: "+a)}function y(a){var b=a.normals,c=a.positions,d=a.normalInd,l=a.positionInd;t.assert(a.normalInd.length===a.positionInd.length);a=k.vec3f32.create();for(var f=k.vec3f32.create(),q=h.vec2f32.create(),
v=c.data,p=c.offsetIdx,c=c.strideIdx,g=b.data,r=b.offsetIdx,b=b.strideIdx,x=0;x<l.length;x+=3){var w=l[x],w=p+c*w,y=v[w],m=v[w+1],n=v[w+2],w=l[x+1],w=p+c*w;a[0]=v[w]-y;a[1]=v[w+1]-m;a[2]=v[w+2]-n;w=l[x+2];w=p+c*w;f[0]=v[w]-y;f[1]=v[w+1]-m;f[2]=v[w+2]-n;e.vec3.cross(a,a,f);t.encodeNormal(a,q);for(y=0;3>y;y++)m=r+b*d[x+y],g[m]=t.encodeInt16(q[0]),g[m+1]=t.encodeInt16(q[1])}}function G(a,b){switch(b){case 0:switch(a.type){case "intersects":case "contains":case "crosses":case "envelope-intersects":case "overlaps":case "touches":case "within":return 1;
case "disjoint":return 0}break;case 2:switch(a.type){case "intersects":case "contains":case "envelope-intersects":case "within":return 0;case "disjoint":case "crosses":case "overlaps":case "touches":return 1}break;case 1:switch(a.type){case "envelope-intersects":return 0}}return 2}function C(a,b){return A.contains(a.mask,b)?2:A.intersects(a.mask,b)?1:0}Object.defineProperty(a,"__esModule",{value:!0});var D=new Uint8Array(64);a.interleaveGeometryBuffer=function(a,b,c,d,f){void 0===d&&(d=[]);void 0===
f&&(f=[]);var e=a.params.vertexAttributes,h=e.position.count;if(!w(c[0].stride))throw r("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var k=new Uint32Array(c[0].stride/Uint32Array.BYTES_PER_ELEMENT*h);c=c.slice(0).sort(function(a,b){return a.offset-b.offset});a=function(a){if(-1!==f.indexOf(a.name))return"continue";var c=e[a.name],p=v(a.type),g=void 0,t=!1;if(null==c)if(t=d.filter(function(b){return b.name===a.name})[0]){c={valueType:x(a.type),byteOffset:0,count:h,valuesPerElement:a.count};
for(g=0;g<D.length;g++)D[g]=t.byteValue;g=D.buffer;t=!0}else throw r("Geometry definition is missing attribute");else g=b;if(x(a.type)!==c.valueType)throw r("Geometry definition type must match attribute type");if(0!==c.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==a.offset%Uint32Array.BYTES_PER_ELEMENT)throw r(a.name+" offset must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!w(c.valuesPerElement*p.BYTES_PER_ELEMENT)||!w(a.count*p.BYTES_PER_ELEMENT))throw r(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+
"-byte words");var g=new Uint32Array(g),y=c.byteOffset/Uint32Array.BYTES_PER_ELEMENT,c=c.valuesPerElement*p.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,p=a.offset/Uint32Array.BYTES_PER_ELEMENT,m=a.stride/Uint32Array.BYTES_PER_ELEMENT;t?l(g[0],c,k,p,m,h):q(g,y,c,k,p,m,h)};for(var p=0;p<c.length;p++)a(c[p]);return k.buffer};a.processAndInterleaveNormals=function(a,b,d,l,f){if("none"===a)y(f);else{b=c.createTypedView(d,b.params.vertexAttributes.normal);d=f.normals;var e="earth-centered"===a?l:null;
a=b.length/3;l=d.data;f=d.offsetIdx;d=d.strideIdx;if(null!=e)for(var h=e[0],q=e[1],k=e[2],v=e[4],p=e[5],g=e[6],r=e[8],x=e[9],e=e[10],w=0;w<a;w++){var m=b[3*w],n=b[3*w+1],G=b[3*w+2];F[0]=h*m+q*n+k*G;F[1]=v*m+p*n+g*G;F[2]=r*m+x*n+e*G;t.encodeNormal(F,H);l[f+w*d]=t.encodeInt16(H[0]);l[f+w*d+1]=t.encodeInt16(H[1])}else for(w=0;w<a;w++)F[0]=b[3*w],F[1]=b[3*w+1],F[2]=b[3*w+2],t.encodeNormal(F,H),l[f+w*d]=t.encodeInt16(H[0]),l[f+w*d+1]=t.encodeInt16(H[1])}};a.computeCompressedNormals=y;a.extractPositionData=
function(a,b,c){var d=b[0];if(null==d||"position"!==d.name||5126!==d.type)return null;a=new Float32Array(a);b=d.stride/4;for(var d=d.offset/4,l=3*a.length/b,e=new Float32Array(l),h=0;h<l/3;h++)e[3*h]=a[h*b+d],e[3*h+1]=a[h*b+d+1],e[3*h+2]=a[h*b+d+2];c=f.default(e.buffer,3,c);return 65536>c.uniqueCount?{data:new Float32Array(c.buffer),indices:new Uint16Array(c.indices)}:{data:new Float32Array(c.buffer),indices:c.indices}};var A;a.isGeometryEngineLoaded=function(){return!!A};a.loadGeometryEngine=function(){return g(this,
void 0,void 0,function(){return n(this,function(a){switch(a.label){case 0:return A?[2,A]:[4,m.create(function(a,c){return b(["../../../../geometry/geometryEngine"],a)})];case 1:return A=a.sent(),[2,A]}})})};a.acquireMaskFilterContext=function(a,b,c,d){var l=c.spatialReference||b.spatialReference;b=b.renderSpatialReference;var f={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:"polygon",spatialReference:l};f.rings[0][4]=f.rings[0][0];var e=d.objectTransformation;d=d.getGeometryRecords()[0].geometry;
var h={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:"polygon",spatialReference:l};h.rings[0][3]=h.rings[0][0];var q=A[a];q||(console.error("Spatial relationship",a,"not supported"),q=function(){return!0});return{type:a,mask:c,maskSR:l,renderSR:b,aabb:f,transform:e,geometry:d,triangle:h,testFunction:q}};a.getIntersectRelation=G;a.intersectMaskWithMbs=function(a,b){b=A.buffer({x:b[0],y:b[1],hasZ:!1,hasM:!1,type:"point",spatialReference:a.maskSR},b[3],1,!0);return C(a,b)};var z=Math.pow(2,
-32);a.filterMask=function(a,b){var c=b.type,l=b.mask,f=b.transform,h=b.renderSR,q=b.maskSR,k=b.geometry,v=b.triangle,p=b.testFunction,g=b.aabb;k.getComponentAABB(a,B);var r=[g.rings[0][0],g.rings[0][1],g.rings[0][2],g.rings[0][3]];e.vec3.set(r[0],B[0],B[1],0);e.vec3.set(r[1],B[0],B[4],0);e.vec3.set(r[2],B[3],B[4],0);e.vec3.set(r[3],B[3],B[1],0);for(var x=0;4>x;++x)e.vec3.transformMat4(r[x],r[x],f),d.vectorToVector(r[x],h,r[x],q);delete g._geVersion;x=C(b,g);switch(G(b,x)){case 1:return!1;case 0:return!0}b=
v.rings[0][0];var g=v.rings[0][1],r=v.rings[0][2],w=k.data.getIndices(t.VertexAttrConstants.POSITION),x=k.data.componentOffsets,y=k.data.getAttribute(t.VertexAttrConstants.POSITION),k=y.data,m=y.offsetIdx,y=y.strideIdx,n=x.length?x[a]:0;a=x.length?x[a+1]:w.length;var J;switch(c){case "intersects":case "crosses":case "envelope-intersects":case "index-intersects":case "overlaps":case "touches":J=function(){return p(l,v)?0:2};break;default:J=function(){return p(l,v)?2:1}}for(x=n;x<a;x+=3){var n=m+y*
w[x+0],F=m+y*w[x+1],D=m+y*w[x+2];e.vec3.set(b,k[n+0],k[n+1],k[n+2]);e.vec3.set(g,k[F+0],k[F+1],k[F+2]);e.vec3.set(r,k[D+0],k[D+1],k[D+2]);e.vec3.transformMat4(b,b,f);e.vec3.transformMat4(g,g,f);e.vec3.transformMat4(r,r,f);d.vectorToVector(b,h,b,q);d.vectorToVector(g,h,g,q);d.vectorToVector(r,h,r,q);if(!(Math.abs((g[0]-b[0])*(r[1]-b[1])-(g[1]-b[1])*(r[0]-b[0]))<z))switch(delete v._geVersion,J()){case 1:return!1;case 0:return!0}}switch(c){case "intersects":case "crosses":case "envelope-intersects":case "index-intersects":case "overlaps":case "touches":return!1;
default:return!0}};var B=p.create(),F=k.vec3f32.create(),H=h.vec2f32.create()})},"esri/core/libs/gl-matrix-2/vec2f32":function(){define(["require","exports","./factories/vec2f32"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec2f32=n})},"esri/core/libs/gl-matrix-2/factories/vec2f32":function(){define(["require","exports"],function(b,a){function n(){return new Float32Array(2)}function g(a,b){var f=new Float32Array(2);f[0]=a;f[1]=b;return f}function m(){return g(1,1)}function h(){return g(1,
0)}function e(){return g(0,1)}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){var b=new Float32Array(2);b[0]=a[0];b[1]=a[1];return b};a.fromValues=g;a.createView=function(a,b){return new Float32Array(a,b,2)};a.zeros=function(){return n()};a.ones=m;a.unitX=h;a.unitY=e;a.ZEROS=n();a.ONES=m();a.UNIT_X=h();a.UNIT_Y=e()})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(b,a,n){Object.defineProperty(a,"__esModule",
{value:!0});a.vec3f32=n})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(b,a){function n(){return new Float32Array(3)}function g(a,b,c){var d=new Float32Array(3);d[0]=a;d[1]=b;d[2]=c;return d}function m(){return g(1,1,1)}function h(){return g(1,0,0)}function e(){return g(0,1,0)}function k(){return g(0,0,1)}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};
a.fromValues=g;a.createView=function(a,b){return new Float32Array(a,b,3)};a.zeros=function(){return n()};a.ones=m;a.unitX=h;a.unitY=e;a.unitZ=k;a.ZEROS=n();a.ONES=m();a.UNIT_X=h();a.UNIT_Y=e();a.UNIT_Z=k()})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(b,a,n,g){function m(b){void 0===b&&(b=a.ZERO);return[b[0],b[1],b[2],b[3],b[4],b[5]]}function h(a,b,c,d,f,e,h){void 0===h&&(h=m());h[0]=a;h[1]=b;h[2]=c;h[3]=d;h[4]=f;h[5]=e;return h}
function e(a){return a[0]>=a[3]?0:a[3]-a[0]}function k(a){return a[1]>=a[4]?0:a[4]-a[1]}function p(a){return a[2]>=a[5]?0:a[5]-a[2]}function f(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function c(a){return 6===a.length}Object.defineProperty(a,"__esModule",{value:!0});a.create=m;a.fromValues=h;a.fromExtent=function(a,b){void 0===b&&(b=m());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};a.toExtent=function(a,b){return isFinite(a[2])||
isFinite(a[5])?new n({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new n({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};a.fromMinMax=function(a,b,c){void 0===c&&(c=m());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=b[2];return c};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};a.expand=function(a,b,d){void 0===d&&
(d=a);c(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[3]),d[4]=Math.max(a[4],b[4]),d[5]=Math.max(a[5],b[5])):g.is(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[2]),d[4]=Math.max(a[4],b[3])):2===b.length?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[0]),d[4]=Math.max(a[4],b[1])):3===b.length&&(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[0]),
d[4]=Math.max(a[4],b[1]),d[5]=Math.max(a[5],b[2]));return d};a.expandWithBuffer=function(a,b,c,d,f){void 0===f&&(f=a);var l=a[0],e=a[1],h=a[2],k=a[3],q=a[4];a=a[5];for(var v=0;v<d;v++)l=Math.min(l,b[c+3*v]),e=Math.min(e,b[c+3*v+1]),h=Math.min(h,b[c+3*v+2]),k=Math.max(k,b[c+3*v]),q=Math.max(q,b[c+3*v+1]),a=Math.max(a,b[c+3*v+2]);f[0]=l;f[1]=e;f[2]=h;f[3]=k;f[4]=q;f[5]=a;return f};a.expandWithNestedArray=function(a,b,c,d){void 0===d&&(d=a);var l=b.length,f=a[0],e=a[1],h=a[2],k=a[3],q=a[4];a=a[5];if(c)for(c=
0;c<l;c++){var v=b[c],f=Math.min(f,v[0]),e=Math.min(e,v[1]),h=Math.min(h,v[2]),k=Math.max(k,v[0]),q=Math.max(q,v[1]);a=Math.max(a,v[2])}else for(c=0;c<l;c++)v=b[c],f=Math.min(f,v[0]),e=Math.min(e,v[1]),k=Math.max(k,v[0]),q=Math.max(q,v[1]);d[0]=f;d[1]=e;d[2]=h;d[3]=k;d[4]=q;d[5]=a;return d};a.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=e;a.depth=k;a.height=p;a.diameter=function(a){var b=e(a),c=p(a);a=k(a);return Math.sqrt(b*b+c*c+a*a)};a.center=function(a,
b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+e(a)/2;b[1]=a[1]+k(a)/2;b[2]=a[2]+p(a)/2;return b};a.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=e(a);b[1]=k(a);b[2]=p(a);return b};a.maximumDimension=function(a){return Math.max(e(a),p(a),k(a))};a.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};a.contains=function(a,
b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};a.offset=function(a,b,c,d,f){void 0===f&&(f=a);f[0]=a[0]+b;f[1]=a[1]+c;f[2]=a[2]+d;f[3]=a[3]+b;f[4]=a[4]+c;f[5]=a[5]+d;return f};a.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};a.setMax=
function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};a.set=f;a.empty=function(b){return b?f(b,a.NEGATIVE_INFINITY):m(a.NEGATIVE_INFINITY)};a.toRect=function(a,b){b||(b=g.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};a.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};a.is=c;a.isPoint=function(a){return 0===e(a)&&0===k(a)&&0===p(a)};a.equals=function(a,
b,d){if(null==a||null==b)return a===b;if(!c(a)||!c(b))return!1;if(d)for(var f=0;f<a.length;f++){if(!d(a[f],b[f]))return!1}else for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0};a.wrap=function(a,b,c,f,e,k){return h(a,b,c,f,e,k,d)};a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0,0,0];var d=m()})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q){function l(a,b,c){return null==b?c:null==c?b:a(b,c)}b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}n(b,a);k=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,l){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?f.WGS84:a.spatialReference,
a):{xmin:a,ymin:b,xmax:c,ymax:d,spatialReference:null==l?f.WGS84:l}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,b){return new k({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new p({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new k;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=
this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&q.canProject(b,d)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return"point"===a.type?c.extentContainsPoint(this,a):"extent"===a.type?c.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&q.canProject(b,c)&&(a=b.isWebMercator?
q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=
function(a){if(m.isNone(a))return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&q.canProject(b,c)&&(a=b.isWebMercator?q.geographicToWebMercator(a):q.webMercatorToGeographic(a,!0));b=d.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=
c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=l(Math.min,this.zmin,a.zmin),this.zmax=l(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=l(Math.min,this.mmin,a.mmin),this.mmax=l(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=
function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=l(Math.max,this.zmin,a.zmin),this.zmax=l(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=l(Math.max,this.mmin,a.mmin),this.mmax=l(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===
a&&(a=t.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,c=this._getCM(a);if(c){var d=b.isWebMercator?q.webMercatorToGeographic(c):c;this.xmin-=c.x;this.xmax-=c.x;b.isWebMercator||(d.x=this._normalizeX(d.x,a).x);this.spatialReference=new f(h.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:d.x}))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],d=this.xmin,f=this.xmax;d>=a&&d<=c&&f>=a&&f<=c||(b=this.center);
return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=c||t.getInfo(d);if(!c)return this;var f=this._getParts(c).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return f;var l=!0,e=!0;f.forEach(function(a){a.hasZ||(l=!1);a.hasM||(e=!1)});return{rings:f.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],
[a.xmax,a.ymin],[a.xmin,a.ymin]];if(l)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(e)for(a=(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:l,hasM:e,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,f=this.spatialReference,l=this.width,e=this.xmin,h=this.xmax,q=void 0;a=a||t.getInfo(f);var v=a.valid,p=v[0],g=v[1],q=this._normalizeX(this.xmin,a),r=q.x,v=q.frameId,q=this._normalizeX(this.xmax,a),
x=q.x;a=q.frameId;q=r===x&&0<l;if(l>2*g){l=new k(e<h?r:x,c,g,d,f);e=new k(p,c,e<h?x:r,d,f);h=new k(0,c,g,d,f);c=new k(p,c,0,d,f);d=[];f=[];l.contains(h)&&d.push(v);l.contains(c)&&f.push(v);e.contains(h)&&d.push(a);e.contains(c)&&f.push(a);for(p=v+1;p<a;p++)d.push(p),f.push(p);b.push({extent:l,frameIds:[v]},{extent:e,frameIds:[a]},{extent:h,frameIds:d},{extent:c,frameIds:f})}else r>x||q?b.push({extent:new k(r,c,g,d,f),frameIds:[v]},{extent:new k(p,c,x,d,f),frameIds:[a]}):b.push({extent:new k(r,c,x,
d,f),frameIds:[v]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(v={},a&&(v.zmin=this.zmin,v.zmax=this.zmax),c&&(v.mmin=this.mmin,v.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(v);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,f=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,f=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,f=-b);return{x:a,frameId:f}};var k;g([e.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
b.prototype,"cache",void 0);g([e.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);g([e.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);g([e.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);g([e.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);g([e.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,
"height",null);g([e.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);g([e.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);g([e.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);g([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);g([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);g([e.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);g([e.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);g([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);g([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"zmax",void 0);return b=k=g([e.subclass("esri.geometry.Extent")],b)}(e.declared(k));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(b,a,n,g,m,h,e){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=
e.WGS84;return b}n(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof e)return a;if(null!=a){var c=new e;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=
function(a,b){this.cache[a]=b};g([h.property()],b.prototype,"type",void 0);g([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);g([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);g([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);g([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);g([h.property({type:e,
json:{write:!0}})],b.prototype,"spatialReference",void 0);g([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=g([h.subclass("esri.geometry.Geometry")],b)}(h.declared(m))})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){function t(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var q=[0,0],l=m.getLogger("esri.geometry.Point");b=function(a){function b(b,c,d,f,l){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}n(b,a);k=b;b.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};
b.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,b,c,f,e){var h;if(Array.isArray(a))h=a,e=b,a=h[0],b=h[1],c=h[2],f=h[3];else if(a&&"object"===typeof a){if(h=a,a=null!=h.x?h.x:h.longitude,b=null!=h.y?h.y:h.latitude,c=null!=h.z?h.z:h.altitude,f=h.m,(e=h.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new p(e)),null!=h.longitude||null!=h.latitude)null==h.longitude?l.warn(".longitude\x3d",
"Latitude was defined without longitude"):null==h.latitude?l.warn(".latitude\x3d","Longitude was defined without latitude"):!h.declaredClass&&e&&e.isWebMercator&&(b=d.lngLatToXY(h.longitude,h.latitude,q),a=b[0],b=b[1])}else t(c)?(e=c,c=null):t(f)&&(e=f,f=null);a={x:a,y:b};null==a.x&&null!=a.y?l.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&l.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=e);null!=c&&(a.z=c);null!=
f&&(a.m=f);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return d.xyToLngLat(this.x,this.y,q)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",d.lngLatToXY(this.x,a,q)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return d.xyToLngLat(this._get("x"),this._get("y"),q)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",d.lngLatToXY(a,this._get("y"),q)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new k;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};b.prototype.copy=function(a){k.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,f=this.y,l=this.z,e=this.m,h=this.spatialReference,k=a.z,q=a.m,v=a.x;b=a.y;a=a.spatialReference;if(!h.equals(a))if(h.isWebMercator&&a.isWGS84)b=d.lngLatToXY(v,b),v=b[0],b=b[1],a=h;else if(h.isWGS84&&a.isWebMercator)b=d.xyToLngLat(v,b),v=b[0],b=b[1],a=h;else return!1;return c===v&&f===b&&l===k&&e===q&&h.wkid===a.wkid};b.prototype.offset=function(a,b,c){return f.offsetPoint(this,
a,b,c)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=c.getInfo(this.spatialReference);if(!a)return this;var b=this.x,d=a.valid,a=d[0],f=d[1],d=2*f;b>f?(a=Math.ceil(Math.abs(b-f)/d),b-=a*d):b<a&&(a=Math.ceil(Math.abs(b-a)/d),b+=a*d);this._set("x",b);return this};b.prototype.distance=function(a){return k.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:
[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var k;g([h.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);g([h.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);g([h.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);g([h.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);
g([h.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);g([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),h.cast(function(a){return isNaN(a)?a:e.ensureNumber(a)})],b.prototype,"x",void 0);g([h.writer("x")],b.prototype,"writeX",null);g([h.reader("x")],b.prototype,"readX",null);g([h.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);g([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"z",void 0);g([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=k=g([h.subclass("esri.geometry.Point")],b)}(h.declared(k));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/offset":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.offsetPoint=function(a,b,m,h){a.x+=b;a.y+=m;null!=h&&null!=a.z&&(a.z+=h);return a};a.offsetCoordsX=function(a,
b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(b,a,n,g,m,h){function e(a,b,c,d,f){var e;if("x"in a&&"x"in f)b=b(a.x,a.y,t,d),f.x=b[0],f.y=b[1];else if("xmin"in a&&"xmin"in f)e=b(a.xmin,a.ymin,t,d),f.xmin=e[0],f.ymin=e[1],b=b(a.xmax,a.ymax,t,d),f.xmax=b[0],f.ymax=b[1];else if("paths"in a&&"paths"in f||"rings"in a&&"rings"in f){e="paths"in a?
a.paths:a.rings;var l=[],h=void 0;for(a=0;a<e.length;a++){var k=e[a],h=[];l.push(h);for(var v=0;v<k.length;v++)h.push(b(k[v][0],k[v][1],[0,0],d)),2<k[v].length&&h[v].push(k[v][2]),3<k[v].length&&h[v].push(k[v][3])}"paths"in f?f.paths=l:f.rings=l}else if("points"in a&&"points"in f){e=a.points;l=[];for(a=0;a<e.length;a++)l[a]=b(e[a][0],e[a][1],[0,0],d),2<e[a].length&&l[a].push(e[a][2]),3<e[a].length&&l[a].push(e[a][3]);f.points=l}else if("type"in a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(e=
a.vertexAttributes&&a.vertexAttributes.position,l=f.vertexAttributes&&f.vertexAttributes.position,e))for(h=[0,0],a=0;a<e.length;a+=3)b(e[a],e[a+1],h,d),l[a]=h[0],l[a+1]=h[1];f.spatialReference=c;return f}function k(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?h.equals(b,a)?!0:h.isWebMercator(b)&&h.isWGS84(a)||h.isWebMercator(a)&&h.isWGS84(b):!1}function p(a,b,f){void 0===f&&(f=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&
(b=-89.99999);b*=.017453292519943;f[0]=.017453292519943*a*c;f[1]=d*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return f}function f(a,b,d,f){void 0===d&&(d=[0,0]);void 0===f&&(f=!1);a=a/c*57.29577951308232;d[0]=f?a:a-360*Math.floor((a+180)/360);d[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/c)));return d}Object.defineProperty(a,"__esModule",{value:!0});var c=g.wgs84Radius,d=c/2,t=[0,0];a.canProject=k;a.project=function(a,b){var c=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);
return k(c,b)?h.equals(c,b)?n.clone(a):h.isWebMercator(b)?e(a,p,m.WebMercator,!1,n.clone(a)):h.isWGS84(b)?e(a,f,m.WGS84,!1,n.clone(a)):null:null};a.lngLatToXY=p;a.xyToLngLat=f;a.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=n.clone(a));return e(a,p,m.WebMercator,b,c)};a.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=n.clone(a));return e(a,f,m.WGS84,b,c)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,
"__esModule",{value:!0});a.wgs84Radius=6378137;a.wgs84InverseFlattening=298.257223563;a.wgs84Flattening=1/a.wgs84InverseFlattening;a.wgs84PolarRadius=a.wgs84Radius*(1-a.wgs84Flattening);a.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(b,a){function n(a,b){return g(a,b[0],b[1])}function g(a,b,f,c){return b>=a.xmin&&b<=a.xmax&&f>=a.ymin&&f<=a.ymax?null!=c&&a.hasZ?c>=a.zmin&&c<=a.zmax:!0:!1}function m(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var f=
!1,c=0,d=a.length;c<d;c++)f=h(f,a[c],b);b=f}else b=h(!1,a,b);else b=!1;return b}function h(a,b,f){var c=f[0];f=f[1];for(var d=0,e=0,h=b.length;e<h;e++){d++;d===h&&(d=0);var l=b[e],k=l[0],l=l[1],g=b[d],p=g[0],g=g[1];(l<f&&g>=f||g<f&&l>=f)&&k+(f-l)/(g-l)*(p-k)<c&&(a=!a)}return a}Object.defineProperty(a,"__esModule",{value:!0});var e=[0,0];a.extentContainsPoint=function(a,b){return g(a,b.x,b.y,b.z)};a.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var f=0;for(b=b.points;f<
b.length;f++)if(!n(a,b[f]))return!1;return!0};a.extentContainsExtent=function(a,b){var f=b.xmin,c=b.ymin,d=b.zmin,e=b.xmax,h=b.ymax,l=b.zmax;return a.hasZ&&b.hasZ?g(a,f,c,d)&&g(a,f,h,d)&&g(a,e,h,d)&&g(a,e,c,d)&&g(a,f,c,l)&&g(a,f,h,l)&&g(a,e,h,l)&&g(a,e,c,l):g(a,f,c)&&g(a,f,h)&&g(a,e,h)&&g(a,e,c)};a.extentContainsCoords2D=n;a.extentContainsCoords3D=function(a,b){return g(a,b[0],b[1],b[2])};a.polygonContainsPoint=function(a,b){e[1]=b.y;e[0]=b.x;return m(a,e)};a.polygonContainsCoords=m})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(b,a,n){function g(a,b){return n.extentContainsPoint(a,b)}function m(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function h(a,b){var c=b.hasZ?n.extentContainsCoords3D:n.extentContainsCoords2D,d=0;for(b=b.points;d<
b.length;d++)if(c(a,b[d]))return!0;return!1}function e(a,b){c[0]=a.xmin;c[1]=a.ymax;d[0]=a.xmax;d[1]=a.ymax;t[0]=a.xmin;t[1]=a.ymin;q[0]=a.xmax;q[1]=a.ymin;for(var f=0,e=l;f<e.length;f++)if(n.polygonContainsCoords(b,e[f]))return!0;f=0;for(b=b.rings;f<b.length;f++)if(e=b[f],e.length){var h=e[0];if(n.extentContainsCoords2D(a,h))return!0;for(var k=1;k<e.length;k++){var g=e[k];if(n.extentContainsCoords2D(a,g)||p(h,g,v))return!0;h=g}}return!1}function k(a,b){c[0]=a.xmin;c[1]=a.ymax;d[0]=a.xmax;d[1]=a.ymax;
t[0]=a.xmin;t[1]=a.ymin;q[0]=a.xmax;q[1]=a.ymin;b=b.paths;for(var f=0;f<b.length;f++){var e=b[f];if(b.length){var l=e[0];if(n.extentContainsCoords2D(a,l))return!0;for(var h=1;h<e.length;h++){var k=e[h];if(n.extentContainsCoords2D(a,k)||p(l,k,v))return!0;l=k}}}return!1}function p(a,b,c){for(var d=0;d<c.length;d++)if(f(a,b,c[d][0],c[d][1]))return!0;return!1}function f(a,b,c,d,f){var e=a[0];a=a[1];var l=b[0];b=b[1];var h=c[0],k=c[1];c=d[0]-h;var h=e-h,v=l-e;d=d[1]-k;var k=a-k,g=b-a,q=d*v-c*g;if(0===
q)return!1;c=(c*k-d*h)/q;h=(v*k-g*h)/q;return 0<=c&&1>=c&&0<=h&&1>=h?(f&&(f[0]=e+c*(l-e),f[1]=a+c*(b-a)),!0):!1}Object.defineProperty(a,"__esModule",{value:!0});a.extentIntersectsPoint=g;a.extentIntersectsExtent=m;a.extentIntersectsMultipoint=h;var c=[0,0],d=[0,0],t=[0,0],q=[0,0],l=[c,d,t,q],v=[[t,c],[c,d],[d,q],[q,t]];a.extentIntersectsPolygon=e;a.extentIntersectsPolyline=k;var x=[0,0];a.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.length-1;d++)for(var e=c[d],
l=c[d+1],h=b+1;h<a.length;h++)for(var k=0;k<a[h].length-1;k++){var v=a[h][k],g=a[h][k+1],q=f(e,l,v,g,x);if(q&&!(x[0]===e[0]&&x[1]===e[1]||x[0]===v[0]&&x[1]===v[1]||x[0]===l[0]&&x[1]===l[1]||x[0]===g[0]&&x[1]===g[1]))return!0}k=c.length;if(!(4>=k))for(d=0;d<k-3;d++){var p=k-1;0===d&&(p=k-2);e=c[d];l=c[d+1];for(h=d+2;h<p;h++)if(v=c[h],g=c[h+1],(q=f(e,l,v,g,x))&&!(x[0]===e[0]&&x[1]===e[1]||x[0]===v[0]&&x[1]===v[1]||x[0]===l[0]&&x[1]===l[1]||x[0]===g[0]&&x[1]===g[1]))return!0}}return!1};a.segmentIntersects=
f;a.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return m;case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return g;case "esriGeometryPolygon":case "polygon":return e;case "esriGeometryPolyline":case "polyline":return k;case "mesh":return m}}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(b,a,n,g){function m(b){void 0===b&&(b=a.ZERO);
return[b[0],b[1],b[2],b[3]]}function h(a){return a[0]>=a[2]?0:a[2]-a[0]}function e(a){return a[1]>=a[3]?0:a[3]-a[1]}function k(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function p(a){return 4===a.length}function f(a,b,f){return a<b?b:a>f?f:a}Object.defineProperty(a,"__esModule",{value:!0});a.create=m;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,f,e,l){void 0===l&&(l=m());l[0]=a;l[1]=b;l[2]=f;l[3]=e;return l};a.fromExtent=function(a,b){void 0===b&&(b=m());
b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};a.toExtent=function(a,b){return new g({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};a.expand=function(a,b,f){void 0===f&&(f=a);if("length"in b)if(p(b))f[0]=Math.min(a[0],b[0]),f[1]=Math.min(a[1],b[1]),f[2]=Math.max(a[2],b[2]),f[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)f[0]=Math.min(a[0],
b[0]),f[1]=Math.min(a[1],b[1]),f[2]=Math.max(a[2],b[0]),f[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":f[0]=Math.min(a[0],b.xmin);f[1]=Math.min(a[1],b.ymin);f[2]=Math.max(a[2],b.xmax);f[3]=Math.max(a[3],b.ymax);break;case "point":f[0]=Math.min(a[0],b.x);f[1]=Math.min(a[1],b.y);f[2]=Math.max(a[2],b.x);f[3]=Math.max(a[3],b.y);break;default:n.neverReached(b)}return f};a.expandWithNestedArray=function(a,b,f){void 0===f&&(f=a);var c=b.length,d=a[0],e=a[1],h=a[2];a=a[3];for(var k=0;k<c;k++){var g=
b[k],d=Math.min(d,g[0]),e=Math.min(e,g[1]),h=Math.max(h,g[0]);a=Math.max(a,g[1])}f[0]=d;f[1]=e;f[2]=h;f[3]=a;return f};a.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=h;a.height=e;a.diameter=function(a){var b=h(a);a=e(a);return Math.sqrt(b*b+a*a)};a.area=function(a){return h(a)*e(a)};a.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+e(a)/2;return b};a.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};
a.containsPointWithMargin=function(a,b,f){return b[0]>=a[0]-f&&b[1]>=a[1]-f&&b[0]<=a[2]+f&&b[1]<=a[3]+f};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};a.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};a.intersection=function(a,b,e){void 0===e&&(e=a);var c=b[0],d=b[1],h=b[2];b=b[3];e[0]=f(a[0],c,h);e[1]=f(a[1],d,b);e[2]=f(a[2],c,h);e[3]=f(a[3],d,b);return e};a.distance=function(a,b){var c=(a[1]+a[3])/
2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-h(a)/2,0);a=Math.max(Math.abs(b[1]-c)-e(a)/2,0);return Math.sqrt(d*d+a*a)};a.size=function(a,b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};a.offset=function(a,b,f,e){void 0===e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+f;e[2]=a[2]+b;e[3]=a[3]+f;return e};a.pad=function(a,b,f){void 0===f&&(f=a);f[0]=a[0]-b;f[1]=a[1]-b;f[2]=a[2]+b;f[3]=a[3]+b;return f};a.setMin=function(a,b,f){void 0===f&&(f=a);f[0]=b[0];f[1]=b[1];f!==a&&(f[2]=a[2],f[3]=a[3]);return f};a.setMax=function(a,b,f){void 0===
f&&(f=a);f[2]=b[0];f[3]=b[1];f!==a&&(f[0]=a[0],f[1]=a[1]);return a};a.set=k;a.empty=function(b){return b?k(b,a.NEGATIVE_INFINITY):m(a.NEGATIVE_INFINITY)};a.is=p;a.isPoint=function(a){return(0===h(a)||!isFinite(a[0]))&&(0===e(a)||!isFinite(a[1]))};a.equals=function(a,b,f){if(null==a||null==b)return a===b;if(!p(a)||!p(b))return!1;if(f)for(var c=0;c<a.length;c++){if(!f(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,
Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0];a.UNIT=[0,0,1,1]})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.neverReached=function(a){};a.neverReachedSilent=function(a){};a.typeCast=function(a){return function(){return a}};a.tuple=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l){function v(a,b,c,d){2===a.length?(M[0]=a[0],M[1]=a[1],M[2]=0,a=M):a===c&&(e.vec3.copy(M,a),a=M);return x(a,b,0,c,d,0,1)}function x(a,b,c,d,f,e,l){void 0===l&&(l=1);b=H(b,f,fa).projector;if(g.isNone(b))return!1;if(b===r){if(a===d&&c===e)return!0;for(b=c+3*l;c<b;c++,e++)d[e]=a[c];return!0}for(l=c+3*l;c<l;c+=3,e+=3)b(a,c,d,e);return!0}function w(b,c){if(c.spatialReference===b)return c.spatialReferenceId;c.spatialReference=b;"metersPerUnit"in c&&(c.metersPerUnit=
m.getMetersPerUnitForSR(b,1));return b.wkt===a.SphericalECEFSpatialReference.wkt?c.spatialReferenceId=1:b.isWGS84?c.spatialReferenceId=2:b.isWebMercator?c.spatialReferenceId=3:b.wkt===a.WGS84ECEFSpatialReference.wkt?c.spatialReferenceId=4:4490===b.wkid?c.spatialReferenceId=5:c.spatialReferenceId=0}function r(a,b,c,d){c[d++]=a[b++];c[d++]=a[b++];c[d]=a[b]}function y(a,b,c,d){c[d++]=T*(a[b++]/t.earthRadius);c[d++]=T*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/t.earthRadius)));c[d]=a[b]}function G(a,b,
c,d){var f=.4999999*Math.PI,f=n.clamp(S*a[b+1],-f,f),f=Math.sin(f);c[d++]=S*a[b]*t.earthRadius;c[d++]=t.halfEarthRadius*Math.log((1+f)/(1-f));c[d]=a[b+2]}function C(a,b,c){b=w(b,U);b=R[b][6];if(g.isNone(b))return!1;b(a,0,M,0);c!==M&&(c[0]=M[0],c[1]=M[1],2<c.length&&(c[2]=M[2]));return!0}function D(a,b){M[0]=a.x;M[1]=a.y;M[2]=a.hasZ?a.z:0;return C(M,a.spatialReference,b)}function A(a,b,c,d){var f=t.earthRadius+a[b+2],e=S*a[b+1];a=S*a[b];b=Math.cos(e);c[d++]=Math.cos(a)*b*f;c[d++]=Math.sin(a)*b*f;c[d]=
Math.sin(e)*f}function z(a,b,c,d){var f=l.Vec3Compact.length(a,b),e=q.asin(a[b+2]/(0===f?1:f)),h=Math.cos(e)*f;a=(0<a[b+1]?1:-1)*q.acos(a[b]/(0===h?1:h));c[d++]=T*a;c[d++]=T*e;c[d]=f-t.earthRadius}function B(a,b,c,d){var f=u,e=S*a[b],l=S*a[b+1];a=a[b+2];b=Math.sin(l);var l=Math.cos(l),h=f.a/Math.sqrt(1-f.e2*b*b);c[d++]=(h+a)*l*Math.cos(e);c[d++]=(h+a)*l*Math.sin(e);c[d++]=(h*(1-f.e2)+a)*b}function F(a,b,c,d){var f=u,e=a[b],l=a[b+1];a=a[b+2];var h,k,v,g,p,q;b=Math.abs(a);h=e*e+l*l;k=Math.sqrt(h);v=
h+a*a;g=Math.sqrt(v);e=Math.atan2(l,e);p=a*a/v;v=h/v;l=f.a2/g;h=f.a3-f.a4/g;.3<v?(p=b/g*(1+v*(f.a1+l+p*h)/g),g=Math.asin(p),l=p*p,v=Math.sqrt(1-l)):(v=k/g*(1-p*(f.a5-l-v*h)/g),g=Math.acos(v),l=1-v*v,p=Math.sqrt(l));q=1-f.e2*l;l=f.a/Math.sqrt(q);f=f.a6*l;l=k-l*v;h=b-f*p;b=v*l+p*h;k=v*h-p*l;f=k/(f/q+b);g+=f;0>a&&(g=-g);c[d++]=T*e;c[d++]=T*g;c[d]=b+k*f/2}function H(a,b,c){if(c.source.spatialReference===a&&c.dest.spatialReference===b)return c;var d=w(a,c.source),f=w(b,c.dest);0===d&&0===f?a.equals(b)?
c.projector=r:c.projector=null:c.projector=R[d][f];return c}Object.defineProperty(a,"__esModule",{value:!0});var J,E,K,I,O,N,P,Q;a.SphericalECEFSpatialReference=new f({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});a.WGS84ECEFSpatialReference=new f({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
a.canProject=function(a,b){return!!H(a,b,fa).projector};a.vectorToVector=v;a.pointToPoint=function(a,b,c,d){void 0===c&&(c=b.spatialReference);void 0===d&&(d=0);M[0]=a.x;M[1]=a.y;var f=a.z;M[2]=void 0!==f?f:d;if(!x(M,a.spatialReference,0,M,c,0,1))return!1;b.x=M[0];b.y=M[1];b.spatialReference=c;void 0!==f?(b.z=M[2],b.hasZ=!0):(b.z=void 0,b.hasZ=!1);return!0};a.pointToVector=function(a,b,c,d){void 0===d&&(d=0);M[0]=a.x;M[1]=a.y;var f=a.z;M[2]=void 0!==f?f:d;return x(M,a.spatialReference,0,b,c,0,1)};
a.vectorToPoint=function(a,b,c,f){c instanceof p?f=f||c.spatialReference:d.isPoint(c)?(c.hasZ=!0,f=f||c.spatialReference):(f=c,c=new p({spatialReference:f}));return x(a,b,0,M,f,0,1)?(c.x=M[0],c.y=M[1],c.z=M[2],c.spatialReference=f,c):null};a.xyzToVector=function(a,b,c,d,f,e){M[0]=a;M[1]=b;M[2]=c;return x(M,d,0,f,e,0,1)};a.bufferToBuffer=x;a.computeLinearTransformation=function(a,b,c,d){var f=w(a,U),e=w(d,L);if(f===e&&1!==e&&(0!==f||a.equals(d)))return h.mat4.identity(c),h.mat4.translate(c,c,b),!0;
if(1===e){a=R[f][6];e=R[6][e];if(g.isNone(a)||g.isNone(e))return!1;a(b,0,X,0);e(X,0,aa,0);a=S*X[0];e=S*X[1];b=Math.sin(a);a=Math.cos(a);d=Math.sin(e);e=Math.cos(e);c[0]=-b;c[4]=-d*a;c[8]=e*a;c[12]=aa[0];c[1]=a;c[5]=-d*b;c[9]=e*b;c[13]=aa[1];c[2]=0;c[6]=e;c[10]=d;c[14]=aa[2];c[3]=0;c[7]=0;c[11]=0;c[15]=1;return!0}if(3===e&&(2===f||1===f)){a=R[f][6];e=R[6][3];if(g.isNone(a)||g.isNone(e))return!1;a(b,0,X,0);b=S*X[1];e(X,0,aa,0);h.mat4.identity(c);h.mat4.translate(c,c,aa);b=1/Math.cos(b);h.mat4.scale(c,
c,[b,b,1]);return!0}return!1};a.transformDirection=function(a,b,c,d,f){e.vec3.copy(ja,a);e.vec3.add(na,a,b);v(ja,c,ja,f);v(na,c,na,f);e.vec3.subtract(d,na,ja);e.vec3.normalize(d,d)};a.mbsToMbs=function(a,b,c,d){b=H(b,d,Y);if(b.projector===r)return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(g.isNone(b.projector))return!1;d=b.source;var f=b.dest;if(3===f.spatialReferenceId){b=R[d.spatialReferenceId][2];if(g.isNone(b))return!1;b(a,0,X,0);b=Math.abs(S*X[1])+Math.asin(a[3]/(t.earthRadius+a[2]));G(X,
0,c,0);c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3];return!0}b.projector(a,0,c,0);c[3]=a[3]*d.metersPerUnit/f.metersPerUnit;return!0};a.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var d;M[0]=null!=a.xmin?a.xmin:0;M[1]=null!=a.ymin?a.ymin:0;M[2]=null!=a.zmin?a.zmin:0;d=x(M,a.spatialReference,0,b,c,0,1);M[0]=null!=a.xmax?a.xmax:0;M[1]=null!=a.ymax?a.ymax:0;M[2]=null!=a.zmax?a.zmax:0;d=d&&x(M,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);
null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return d};a.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var d;M[0]=null!=a.xmin?a.xmin:0;M[1]=null!=a.ymin?a.ymin:0;M[2]=null!=a.zmin?a.zmin:0;d=x(M,a.spatialReference,0,M,c,0,1);b[0]=M[0];b[1]=M[1];M[0]=null!=a.xmax?a.xmax:0;M[1]=null!=a.ymax?a.ymax:0;M[2]=null!=a.zmax?a.zmax:0;d=d&&x(M,a.spatialReference,0,M,c,0,1);b[2]=M[0];b[3]=M[1];null==a.xmin&&(b[0]=-Infinity);
null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return d};a.boundingRectToBoundingRect=function(a,b,d,f){if(null==a)return!1;if(b.equals(f))return c.set(d,a),!0;var e;M[0]=a[0];M[1]=a[1];M[2]=0;e=x(M,b,0,M,f,0,1);d[0]=M[0];d[1]=M[1];M[0]=a[2];M[1]=a[3];M[2]=0;e=e&&x(M,b,0,M,f,0,1);d[2]=M[0];d[3]=M[1];return e};(function(a){a.x2lon=function(a){return a/t.earthRadius};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/t.earthRadius))};a.lon2x=function(a){return a*
t.earthRadius};a.lat2y=function(a){a=Math.sin(a);return t.earthRadius/2*Math.log((1+a)/(1-a))}})(a.webMercator||(a.webMercator={}));a.canProjectToWGS84ComparableLonLat=function(a){a=w(a,U);return!!R[a][6]};a.vectorToWGS84ComparableLonLat=C;a.pointToWGS84ComparableLonLat=D;a.pointToWGS84ComparableLonLatPoint=function(a,b){var c=w(b.spatialReference,L);return g.isNone(R[6][c])?!1:D(a,M)?(b.x=M[0],b.y=M[1],b.z=M[2],!0):!1};a.wgs84ComparableLonLatToECEF=function(a,b,c,d){void 0===d&&(d=0);d=t.earthRadius+
d;var f=Math.cos(c);a[0]=Math.cos(b)*f*d;a[1]=Math.sin(b)*f*d;a[2]=Math.sin(c)*d};var R=(J={},J[2]=(E={},E[5]=null,E[6]=r,E[1]=A,E[0]=null,E[3]=G,E[2]=r,E[4]=B,E),J[5]=(K={},K[5]=r,K[6]=r,K[1]=A,K[0]=null,K[3]=null,K[2]=null,K[4]=B,K),J[3]=(I={},I[5]=null,I[6]=y,I[1]=function(a,b,c,d){y(a,b,c,d);A(c,d,c,d)},I[0]=null,I[3]=r,I[2]=y,I[4]=function(a,b,c,d){y(a,b,c,d);B(c,d,c,d)},I),J[4]=(O={},O[5]=F,O[6]=F,O[1]=function(a,b,c,d){F(a,b,c,d);A(c,d,c,d)},O[0]=null,O[3]=function(a,b,c,d){F(a,b,c,d);G(c,
d,c,d)},O[2]=F,O[4]=r,O),J[1]=(N={},N[5]=z,N[6]=z,N[1]=r,N[0]=null,N[3]=function(a,b,c,d){z(a,b,c,d);G(c,d,c,d)},N[2]=z,N[4]=function(a,b,c,d){z(a,b,c,d);B(c,d,c,d)},N),J[0]=(P={},P[5]=null,P[6]=null,P[1]=null,P[0]=r,P[3]=null,P[2]=null,P[4]=null,P),J[6]=(Q={},Q[5]=null,Q[6]=r,Q[1]=A,Q[0]=null,Q[3]=null,Q[2]=r,Q[4]=B,Q),J),U={spatialReference:null,spatialReferenceId:0},L={spatialReference:null,spatialReferenceId:0},fa={source:{spatialReference:null,spatialReferenceId:0},dest:{spatialReference:null,
spatialReferenceId:0},projector:r},Y={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:r},S=q.deg2rad(1),T=q.rad2deg(1),u={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},M=k.vec3f64.create(),X=k.vec3f64.create(),aa=k.vec3f64.create(),ja=k.vec3f64.create(),na=k.vec3f64.create()})},"esri/core/unitUtils":function(){define("require exports @dojo/framework/shim/Set ./compilerUtils ./jsonMap ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),
function(b,a,n,g,m,h,e){function k(a){if(a=D[a])return a;throw Error("unknown measure");}function p(a){return C[a].baseUnit}function f(a,b){void 0===b&&(b=null);b=b||k(a);return C[b].baseUnit===a}function c(a,b,c){if(b===c)return a;var d=k(b);if(d!==k(c))throw Error("incompatible units");a=f(b,d)?a:a*C[d].units[b].inBaseUnits;return f(c,d)?a:a/C[d].units[c].inBaseUnits}function d(a){return G.fromJSON(a.toLowerCase())||null}function t(a,b){void 0===b&&(b=v);return q(a,!0)||b}function q(a,b){void 0===
b&&(b=!1);var c,d,f;null!=a&&("object"===typeof a?(c=a.wkid,d=a.wkt):"number"===typeof a?c=a:"string"===typeof a&&(d=a));c?(f=r.values[r[c]],!f&&b&&y.has(c)&&(f=x)):d&&-1!==d.search(/^PROJCS/i)&&(a=w.exec(d))&&a[1]&&(f=parseFloat(a[1].split(",")[1]));return f}function l(a){var b,c,f;null!=a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?f=r.units[r[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=w.exec(c))&&a[1]&&(f=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);
return f?d(f):null}Object.defineProperty(a,"__esModule",{value:!0});a.inchesPerMeter=39.37;var v=h.wgs84Radius*Math.PI/180,x=h.wgs84Radius*Math.PI/200,w=/UNIT\[([^\]]+)\]\]$/i,r=e,y=new n.default([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),G=m.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},
hectares:{inBaseUnits:1E4}};var C={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},D=function(){var a={},b;for(b in C)for(var c in C[b].units)a[c]=b;return a}();a.measureForUnit=k;a.baseUnitForMeasure=p;a.baseUnitForUnit=function(a){return p(k(a))};a.isBaseUnit=f;a.convertUnit=c;a.preferredMetricLengthUnit=function(a,b){return 3E3>c(a,b,"meters")?"meters":"kilometers"};a.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>c(a,b,"meters")?"meters":"kilometers"};a.preferredImperialLengthUnit=
function(a,b){return 1E3>c(a,b,"feet")?"feet":"miles"};a.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>c(a,b,"feet")?"feet":"miles"};a.preferredMetricAreaUnit=function(a,b){return 3E6>c(a,b,"square-meters")?"square-meters":"square-kilometers"};a.preferredImperialAreaUnit=function(a,b){return 1E6>c(a,b,"square-feet")?"square-feet":"square-miles"};a.lengthToDegrees=function(a,b,d){void 0===d&&(d=h.wgs84Radius);return c(a,b,"meters")/(d*Math.PI/180)};a.unitFromRESTJSON=d;a.unitToRESTJSON=
function(a){return G.toJSON(a)||null};a.getMetersPerVerticalUnitForSR=function(a){a=t(a);return 1E5<a?1:a};a.getVerticalUnitStringForSR=function(a){return 1E5<t(a)?"meters":l(a)};a.getMetersPerUnitForSR=t;a.getMetersPerUnit=q;a.getUnitString=l;a.getDefaultUnitSystem=function(a){if(!a)return null;a=l(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:g.neverReached(a)}return null}})},"@dojo/framework/shim/Set":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=
b("tslib"),g=b("./global"),m=b("./iterator"),h=b("../has/has");b("./Symbol");a.Set=g.default.Set;h.default("es6-set")||(a.Set=(e=function(){function a(a){this._setData=[];this[Symbol.toStringTag]="Set";if(a)if(m.isArrayLike(a))for(var b=0;b<a.length;b++)this.add(a[b]);else try{for(var b=n.__values(a),c=b.next();!c.done;c=b.next())this.add(c.value)}catch(q){d={error:q}}finally{try{c&&!c.done&&(e=b.return)&&e.call(b)}finally{if(d)throw d.error;}}var d,e}a.prototype.add=function(a){if(this.has(a))return this;
this._setData.push(a);return this};a.prototype.clear=function(){this._setData.length=0};a.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;this._setData.splice(a,1);return!0};a.prototype.entries=function(){return new m.ShimIterator(this._setData.map(function(a){return[a,a]}))};a.prototype.forEach=function(a,b){for(var c=this.values(),d=c.next();!d.done;)a.call(b,d.value,d.value,this),d=c.next()};a.prototype.has=function(a){return-1<this._setData.indexOf(a)};a.prototype.keys=
function(){return new m.ShimIterator(this._setData)};Object.defineProperty(a.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});a.prototype.values=function(){return new m.ShimIterator(this._setData)};a.prototype[Symbol.iterator]=function(){return new m.ShimIterator(this._setData)};return a}(),e[Symbol.species]=e,e));a.default=a.Set;var e})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l){function v(a,b,c){if(!a)return null;switch(b){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:c};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:c};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:c};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:c}}}
function x(a,b,c,d){return{x:a,y:b,z:c,hasZ:null!=c,hasM:!1,spatialReference:d,type:"point"}}function w(a){return"declaredClass"in a}function r(a){return"declaredClass"in a}function y(a){return"declaredClass"in a}function G(a){return e.isNone(a)?null:w(a)?a:d.fromJSON(D(a))}function C(a){if(e.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var b=0,c=0;for(a=a.paths;c<a.length;c++)b+=a[c].length;return b;case "polygon":c=b=0;for(a=a.rings;c<a.length;c++)b+=a[c].length;return b;
case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(b=a.vertexAttributes&&a.vertexAttributes.position)?b.length/3:0;default:m.neverReached(a)}}function D(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:b};case "polygon":var c=a.hasZ,d=a.hasM;return{rings:A(a.rings),hasZ:c,hasM:d,spatialReference:b};case "polyline":var f=a.paths,c=a.hasZ,d=a.hasM;return{paths:A(f),hasZ:c,hasM:d,spatialReference:b};case "extent":var f=
a.xmin,e=a.xmax,l=a.ymin,h=a.ymax,k=a.zmin,v=a.zmax,g=a.mmin,q=a.mmax,c=a.hasZ,d=a.hasM;return{xmin:f,xmax:e,ymin:l,ymax:h,zmin:k,zmax:v,mmin:g,mmax:q,hasZ:c,hasM:d,spatialReference:b};case "multipoint":return f=a.points,c=a.hasZ,d=a.hasM,{points:F(f)?z(f):f,hasZ:c,hasM:d,spatialReference:b};default:m.neverReached(a)}}function A(a){return B(a)?a.map(function(a){return z(a)}):a}function z(a){return a.map(function(a){return k.toArray(a)})}function B(a){for(var b=0;b<a.length;b++){var c=a[b];if(0!==
c.length)return F(c)}return!1}function F(a){return a.length&&(k.isFloat32Array(a[0])||k.isFloat64Array(a[0]))}function H(a,b){f.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;a.hasZ&&(b[2]=b[5]=a.z);break;case "polyline":for(var c=0;c<a.paths.length;c++)f.expandWithNestedArray(b,a.paths[c],a.hasZ);break;case "polygon":for(c=0;c<a.rings.length;c++)f.expandWithNestedArray(b,a.rings[c],a.hasZ);break;case "multipoint":f.expandWithNestedArray(b,a.points,
a.hasZ);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[3]=a.xmax;b[4]=a.ymax;null!=a.zmin&&(b[2]=a.zmin);null!=a.zmax&&(b[5]=a.zmax);break;default:m.neverReached(a)}}function J(a,b){c.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var d=0;d<a.paths.length;d++)c.expandWithNestedArray(b,a.paths[d]);break;case "polygon":for(d=0;d<a.rings.length;d++)c.expandWithNestedArray(b,a.rings[d]);break;case "multipoint":c.expandWithNestedArray(b,
a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;default:m.neverReached(a)}}Object.defineProperty(a,"__esModule",{value:!0});a.equals=l.equals;b=function(){return function(a,b,c){this.uid=a;this.geometry=b;this.attributes=c;this.visible=!0;this.centroid=this.objectId=null}}();a.DehydratedFeatureClass=b;a.hasGeometry=function(a){return e.isSome(a.geometry)};a.isFeatureGeometry=function(a){return n.isFeatureGeometryType(a.type)};b=function(){return function(){this.exceededTransferLimit=
!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();a.DehydratedFeatureSetClass=b;a.isPoint=function(a){return"point"===a.type};a.fromFeatureSetJSON=function(a){var b=n.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),c=p.fromJSON(a.spatialReference),d=a.transform,f=a.features.map(function(f){var e=a.objectIdFieldName;f={uid:g.generateUID(),
objectId:e&&f.attributes?f.attributes[e]:null,attributes:f.attributes,geometry:v(f.geometry,b,c),visible:!0};if((e=f.geometry)&&d)switch(e.type){case "point":f.geometry=t.hydratePoint(d,e,e,e.hasZ,e.hasM);break;case "multipoint":f.geometry=t.hydrateMultipoint(d,e,e,e.hasZ,e.hasM);break;case "polygon":f.geometry=t.hydratePolygon(d,e,e,e.hasZ,e.hasM);break;case "polyline":f.geometry=t.hydratePolyline(d,e,e,e.hasZ,e.hasM);break;default:m.neverReached(e)}return f});return{geometryType:b,features:f,spatialReference:c,
fields:a.fields?a.fields.map(function(a){return q.fromJSON(a)}):null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};a.fromJSONGeometry=v;a.makeDehydratedPoint=x;a.isHydratedGeometry=w;a.isHydratedPoint=r;a.isHydratedGraphic=y;a.hydrateGraphic=function(a,b){if(!a||y(a))return a;b=new g({layer:b,sourceLayer:b});
b.visible=a.visible;b.symbol=h.clone(a.symbol);b.attributes=h.clone(a.attributes);b.geometry=G(a.geometry);return b};a.hydrateGeometry=G;a.clonePoint=function(a,b){if(!a)return null;if(r(a)){if(null==b)return a.clone();if(r(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=x(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};a.estimateSize=function(a){for(var b=
32,c=0,d=Object.keys(a.attributes);c<d.length;c++){var f=d[c],b=b+f.length,f=a.attributes[f];switch(typeof f){case "string":b+=f.length;break;default:case "number":b+=8}}a=e.isSome(a.geometry)?"mesh"===a.geometry.type?0:C(a.geometry):0;return b+12*a};a.numVertices=C;a.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var b=0;for(a=a.paths;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "polygon":b=0;for(a=a.rings;b<a.length;b++)if(0<a[b].length)return!0;
return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:m.neverReached(a)}};a.computeAABB=H;a.expandAABB=function(a,b){H(a,E);f.expand(b,E)};a.computeAABR=J;a.expandAABR=function(a,b){J(a,K);c.expand(b,K)};a.getObjectId=function(a,b){return null!=a.objectId?a.objectId:a.attributes&&b?a.attributes[b]:null};var E=f.create(),K=c.create()})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){Object.defineProperty(a,"__esModule",{value:!0});a.Extent=m;a.BaseGeometry=h;a.Multipoint=e;a.Point=k;a.Polygon=p;a.Polyline=f;a.SpatialReference=c;a.isGeometry=function(b){return b instanceof a.BaseGeometry};a.fromJSON=d.fromJSON;a.typeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};a.featureGeometryTypeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});a.geometryTypes={base:a.BaseGeometry,key:"type",typeMap:{extent:a.Extent,multipoint:a.Multipoint,point:a.Point,polyline:a.Polyline,polygon:a.Polygon}};a.ensureType=g.ensureOneOfType(a.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f){function c(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new e,d=this.hasZ,f=this.hasM,h=d?3:2,k=a[0],g=c(Math.min),p=c(Math.max),q=k[0],t=k[1],m=k[0],k=k[1],n,F,H,J,E=0,K=a.length;E<K;E++){var I=
a[E],O=I[0],N=I[1],q=g(q,O),t=g(t,N),m=p(m,O),k=p(k,N);d&&2<I.length&&(O=I[2],n=g(n,O),H=p(H,O));f&&I.length>h&&(I=I[h],F=g(F,I),J=p(J,I))}b.xmin=q;b.ymin=t;b.xmax=m;b.ymax=k;b.spatialReference=this.spatialReference;d?(b.zmin=n,b.zmax=H):(b.zmin=null,b.zmax=null);f?(b.mmin=F,b.mmax=J):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b,c,d){b.points=m.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();f.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:m.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new d(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new p(b)};b.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new p(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();f.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var d;g([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);g([h.property({dependsOn:["cache"]})],
b.prototype,"extent",null);g([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);g([h.writer("points")],b.prototype,"writePoints",null);return b=d=g([h.subclass("esri.geometry.Multipoint")],b)}(h.declared(k));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.updateSupportFromPoint=function(a,b,m){void 0===m&&(m=!1);var h=a.hasM,
e=a.hasZ;Array.isArray(b)?4!==b.length||h||e?3===b.length&&m&&!h?(e=!0,h=!1):3===b.length&&h&&e&&(e=h=!1):e=h=!0:(e=!e&&b.hasZ&&(!h||b.hasM),h=!h&&b.hasM&&(!e||b.hasZ));a.hasZ=e;a.hasM=h}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w){b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}n(b,a);p=b;b.createEllipse=function(a){var b=a.center.x,c=a.center.y,d=a.center.z,f=a.center.m,e=a.center.hasZ,l=a.center.hasM,k=a.longAxis,v=a.shortAxis,g=a.numberOfPoints;a=a.view;for(var q=[],x=2*Math.PI/g,t=e?3:2,w=0;w<g;w++){var r=a.toMap(h.createScreenPoint(k*Math.cos(w*x)+b,v*Math.sin(w*x)+c)),r=[r.x,r.y];e&&(r[2]=d);l&&(r[t]=
f);q.push(r)}q.push(q[0]);return new p({rings:[q],spatialReference:a.spatialReference})};b.createCircle=function(a){return p.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var f=
a.zmin+.5*(a.zmax-a.zmin),e=0;e<b.length;e++)b[e].push(f);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),e=0;e<b.length;e++)b[e].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new p(b)};b.prototype.normalizeCtorArgs=function(a,b){var d=null,f,e,l=null;a&&!Array.isArray(a)?(d=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),f=a.hasZ,e=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(l=d[0]&&
d[0][0])void 0===f&&void 0===e?(f=2<l.length,e=!1):void 0===f?f=!e&&3<l.length:void 0===e&&(e=!f&&3<l.length);return{rings:d,spatialReference:b,hasZ:f,hasM:e}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=d.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new f;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=
this.spatialReference,b=l.getPolygonExtent(this);if(!b)return null;b=new k(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return v.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.rings=m.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],f=0,e=
a.length;f<e;f++)d[f]=a[f].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new p;a.spatialReference=this.spatialReference;a.rings=m.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;x.canProject(a,this.spatialReference)&&(a=x.project(a,this.spatialReference));return t.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:
[a.x,a.y,a.z]:[a.x,a.y]});return q.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new f(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new f(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new f(a[0],a[1],a[2],a[3],this.spatialReference):new f(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();
w.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new f(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new f(a,b)})};b.prototype.setPoint=function(a,
b,c){if(!this._validateInputs(a,b))return this;this.clearCache();w.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var p;g([e.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);g([e.property({readOnly:!0,
dependsOn:["cache"]})],b.prototype,"centroid",null);g([e.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);g([e.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);g([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);g([e.writer("rings")],b.prototype,"writePaths",null);return b=p=g([e.subclass("esri.geometry.Polygon")],b)}(e.declared(p));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils"],function(b,a,n){function g(b){return b?72*b/a.DPI:0}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function h(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function e(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function k(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function p(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function f(a){return m(a.x,a.y)}function c(a,b){a=(a instanceof HTMLElement?a:
a.surface).getBoundingClientRect();return m(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(a,"__esModule",{value:!0});var d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.DPI=96;a.pt2px=function(b){return b?b/72*a.DPI:0};a.px2pt=g;a.toPt=function(a){if("string"===typeof a){if(d.test(a)){var b=a.match(d),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?g(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};a.createScreenPoint=m;a.createScreenPointArray=
h;a.createRenderScreenPoint=e;a.createRenderScreenPointArray=k;a.createRenderScreenPointArray3=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};a.castRenderScreenPointArray=function(a){return a};a.castRenderScreenPointArray3=function(a){return a};a.castScreenPointArray=function(a){return a};a.screenToRender=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x*a;f=b.y*a;break;case "3d":p(b,q),a.state.camera.screenToRender(q,t),d=t[0],
f=t[1]}return c?(c.x=d,c.y=f,c):e(d,f)};a.renderToScreen=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x/a;f=b.y/a;break;case "3d":p(b,t),a.state.camera.renderToScreen(t,q),d=q[0],f=q[1]}return c?(c.x=d,c.y=f,c):m(d,f)};a.screenArrayToRender=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]*a;f=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,t),d=t[0],f=t[1]}return c?(c[0]=d,c[1]=f,2<c.length&&(c[2]=0),c):k(d,f)};a.renderArrayToScreen=
function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]/a;f=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,q),d=q[0],f=q[1]}return c?(c[0]=d,c[1]=f,c):h(d,f)};a.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};a.screenPointObjectToArray=p;a.createScreenPointFromEvent=f;a.createScreenPointFromNativeEvent=c;a.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?c(a,b):f(b)};a.isSupportedScreenPointEvent=
function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:n.neverReachedSilent(a)}return!1};var t=k(),q=h()})},"esri/geometry/support/centroid":function(){define(["require",
"exports","./coordsUtils"],function(b,a,n){function g(a,b){if(!a||!a.length)return null;for(var e=[],f=[],c=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],d=0,k=a.length;d<k;d++){var g=m(a[d],b,c);g&&f.push(g)}f.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});f.length&&(d=6*f[0][2],e[0]=f[0][0]/d,e[1]=f[0][1]/d,b&&(d=6*f[0][4],e[2]=0!==d?f[0][3]/d:0),e[0]<c[0]||e[0]>c[1]||e[1]<c[2]||e[1]>c[3]||b&&(e[2]<c[4]||e[2]>c[5]))&&
(e.length=0);if(!e.length)if(a=a[0]&&a[0].length?h(a[0],b):null)e[0]=a[0],e[1]=a[1],b&&2<a.length&&(e[2]=a[2]);else return null;return e}function m(a,b,h){for(var f=0,c=0,d=0,e=0,k=0,l=0,g=a.length-1;l<g;l++){var p=a[l],w=p[0],r=p[1],m=p[2],n=a[l+1],C=n[0],D=n[1],A=n[2],z=w*D-C*r,e=e+z,f=f+(w+C)*z,c=c+(r+D)*z;b&&2<p.length&&2<n.length&&(z=w*A-C*m,d+=(m+A)*z,k+=z);w<h[0]&&(h[0]=w);w>h[1]&&(h[1]=w);r<h[2]&&(h[2]=r);r>h[3]&&(h[3]=r);b&&(m<h[4]&&(h[4]=m),m>h[5]&&(h[5]=m))}0<e&&(e*=-1);0<k&&(k*=-1);if(!e)return null;
a=[f,c,.5*e];b&&(a[3]=d,a[4]=.5*k);return a}function h(a,b){for(var e=b?[0,0,0]:[0,0],f=b?[0,0,0]:[0,0],c=0,d=0,h=0,k=0,l=0,g=a.length;l<g-1;l++){var x=a[l],w=a[l+1];if(x&&w){e[0]=x[0];e[1]=x[1];f[0]=w[0];f[1]=w[1];b&&2<x.length&&2<w.length&&(e[2]=x[2],f[2]=w[2]);var r=n.getLength(e,f);r&&(c+=r,x=n.getMidpoint(x,w),d+=r*x[0],h+=r*x[1],b&&2<x.length&&(k+=r*x[2]))}}return 0<c?b?[d/c,h/c,k/c]:[d/c,h/c]:a.length?a[0]:null}Object.defineProperty(a,"__esModule",{value:!0});a.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};a.polygonCentroid=function(a){return a?g(a.rings,a.hasZ):null};a.ringsCentroid=g;a.lineCentroid=h})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(b,a,n){function g(a,b){var e=b[0]-a[0],f=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(e*e+f*f+a*a)):Math.sqrt(e*e+f*f)}function m(a,b,h){var f=a[0]+h*(b[0]-a[0]),c=a[1]+h*(b[1]-
a[1]);return 2<a.length&&2<b.length?[f,c,a[2]+h*(b[2]-a[2])]:[f,c]}function h(a,b){if(b=n.getInfo(b)){var e=b.valid[0],f=b.valid[1],c=f-e;b=function(a){var b=Infinity,d=-Infinity;a.forEach(function(a){for(var l=a[0];l<e;)l+=c;for(;l>f;)l-=c;b=Math.min(b,l);d=Math.max(d,l);a[0]=l});var h=d-b;c-h<h&&a.forEach(function(a){0>a[0]&&(a[0]+=c)})};for(var d=0;d<a.length;d++)b(a[d])}}Object.defineProperty(a,"__esModule",{value:!0});a.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;
var b=a.hasZ,e=a.hasM;if("point"===a.type)return e&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:e?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var f=!1,c=!1;a.forEach(function(a){a.hasZ&&(f=!0);a.hasM&&(c=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];
if(f&&a.hasZ)for(var d=.5*(a.zmax-a.zmin),e=0;e<b.length;e++)b[e].push(d);if(c&&a.hasM)for(a=.5*(a.mmax-a.mmin),e=0;e<b.length;e++)b[e].push(a);return b})}return null};a.getLength=g;a.getMidpoint=function(a,b){return m(a,b,.5)};a.getPathLength=function(a){for(var b=a.length,e=0,f=0;f<b-1;++f)e+=g(a[f],a[f+1]);return e};a.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var e=a.length,f=0,c=0;c<e-1;++c){var d=g(a[c],a[c+1]);if(b-f<d)return m(a[c],a[c+1],(b-f)/d);f+=d}return a[e-1]};a.isClockwise=
function(a,b,h){for(var f=a.length,c=0,d=0,e=0,k=0;k<f;k++){var l=a[k],g=a[(k+1)%f],p=2,c=c+(l[0]*g[1]-g[0]*l[1]);2<l.length&&2<g.length&&h&&(d+=l[0]*g[2]-g[0]*l[2],p=3);l.length>p&&g.length>p&&b&&(e+=l[0]*g[p]-g[0]*l[p])}return 0>=c&&0>=d&&0>=e};a.getRingArea=function(a){for(var b=a.length,e=0,f=0;f<b;f++)var c=a[f],d=a[(f+1)%b],e=e+(c[0]*d[1]-d[0]*c[1]);return e};a.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;h("polygon"===a.type?a.rings:
a.paths,a.spatialReference);return a};a.unnormalizeVerticesOnDatelineCrossing=h;a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,h,f){var c=Infinity,d=-Infinity;a.forEach(function(a){for(var e=a.pos[0];e<b;)e+=f;for(;e>h;)e-=f;c=Math.min(c,e);d=Math.max(d,e);a.unnormalizedPos[0]=e;a.unnormalizedPos[1]=a.pos[1]});var e=d-c;f-e<e&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=f)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports",
"./boundsUtils"],function(b,a,n){function g(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);return b?d?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:d?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function m(a){var b=a.hasZ,d=a.hasM;return g(n.getPointsBounds(p,a.points,b,d),b,d)}function h(a){var b=a.x,d=a.y,f=a.z;a=a.m;var e=null!=a;return null!=
f?e?{xmin:b,ymin:d,zmin:f,mmin:a,xmax:b,ymax:d,zmax:f,mmax:a}:{xmin:b,ymin:d,zmin:f,xmax:b,ymax:d,zmax:f}:e?{xmin:b,ymin:d,mmin:a,xmax:b,ymax:d,mmax:a}:{xmin:b,ymin:d,xmax:b,ymax:d}}function e(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(p,a.rings,b,d))?g(a,b,d):null}function k(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(p,a.paths,b,d))?g(a,b,d):null}Object.defineProperty(a,"__esModule",{value:!0});var p=[];a.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?h(a):void 0!==a.rings?e(a):void 0!==a.paths?k(a):void 0!==a.points?m(a):null:null};a.getMultipointExtent=m;a.getPointExtent=h;a.getPolygonExtent=e;a.getPolylineExtent=k})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(b,a){function n(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}function g(a,b,c,d){var f=c?3:2;if(!b.length||!b[0].length)return null;for(var h=b[0][0],l=h[0],h=h[1],
g=b[0][0],p=g[0],g=g[1],w=void 0,r=void 0,m=void 0,n=void 0,C=0;C<b.length;C++)for(var D=b[C],A=0;A<D.length;A++){var z=D[A],B=z[0],F=z[1],l=e(l,B),h=e(h,F),p=k(p,B),g=k(g,F);c&&2<z.length&&(B=z[2],w=e(w,B),r=k(r,B));d&&z.length>f&&(n=z[f],m=e(w,n),n=k(r,n))}if(c){if(d)return a[0]=l,a[1]=h,a[2]=w,a[3]=m,a[4]=p,a[5]=g,a[6]=r,a[7]=n,a.length=8,a;a[0]=l;a[1]=h;a[2]=w;a[3]=p;a[4]=g;a[5]=r;a.length=6;return a}if(d)return a[0]=l,a[1]=h,a[2]=m,a[3]=p,a[4]=g,a[5]=n,a.length=6,a;a[0]=l;a[1]=h;a[2]=p;a[3]=
g;a.length=4;return a}function m(a,b,c,d,e,h){c=b.xmin;d=b.xmax;var f=b.ymin,k=b.ymax,g=b.zmin,q=b.zmax,p=b.mmin;b=b.mmax;if(e){g=g||0;q=q||0;if(h)return a[0]=c,a[1]=f,a[2]=g,a[3]=p||0,a[4]=d,a[5]=k,a[6]=q,a[7]=b||0,a;a[0]=c;a[1]=f;a[2]=g;a[3]=d;a[4]=k;a[5]=q;return a}if(h)return a[0]=c,a[1]=f,a[2]=p||0,a[3]=d,a[4]=k,a[5]=b||0,a;a[0]=c;a[1]=f;a[2]=d;a[3]=k;return a}function h(a,b,c,d,h,g){var f=c?3:2;d=d&&g;c=c&&h;if(!b.length||!b[0].length)return null;for(var v=b[0],q=v[0],v=v[1],p=b[0],t=p[0],p=
p[1],m=void 0,n=void 0,C=void 0,D=void 0,A=0;A<b.length;A++){var z=b[A],B=z[0],F=z[1],q=e(q,B),v=e(v,F),t=k(t,B),p=k(p,F);c&&2<z.length&&(B=z[2],m=e(m,B),n=k(n,B));d&&z.length>f&&(D=z[f],C=e(m,D),D=k(n,D))}if(h){m=m||0;n=n||0;if(g)return a[0]=q,a[1]=v,a[2]=m,a[3]=C||0,a[4]=t,a[5]=p,a[6]=n,a[7]=D||0,a;a[0]=q;a[1]=v;a[2]=m;a[3]=t;a[4]=p;a[5]=n;return a}if(g)return a[0]=q,a[1]=v,a[2]=C||0,a[3]=t,a[4]=p,a[5]=D||0,a;a[0]=q;a[1]=v;a[2]=t;a[3]=p;return a}Object.defineProperty(a,"__esModule",{value:!0});
var e=n(Math.min),k=n(Math.max);a.getBoundsXY=function(a,b){if(void 0!==b.paths)return g(a,b.paths,!1,!1);if(void 0!==b.rings)return g(a,b.rings,!1,!1);if(void 0!==b.points)return h(a,b.points,!1,!1,!1,!1);if(void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax)return m(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};a.getRingsOrPathsBounds=g;a.getExtentBounds=m;a.getPointsBounds=h;a.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;
for(var b=a[0][0],c=a[0][0],d=0;d<a.length;d++)var h=a[d][0],b=e(b,h),c=k(c,h);return c-b};a.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],d=0;d<a.length;d++)var h=a[d][0],b=e(b,h),c=k(c,h);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.paths=[];b.type="polyline";return b}n(b,a);l=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,e,l=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,e=a.hasM):c=a;c=c||[];b=b||f.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(l=c[0]&&c[0][0])void 0===d&&void 0===e?(d=2<l.length,
e=!1):void 0===d?d=!e&&3<l.length:void 0===e&&(e=!d&&3<l.length);return{paths:c,spatialReference:b,hasZ:d,hasM:e}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=c.getPolylineExtent(this);if(!b)return null;b=new e(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.paths=m.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=
a.concat();else{for(var d=[],f=0,e=a.length;f<e;f++)d[f]=a[f].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new l;a.spatialReference=this.spatialReference;a.paths=m.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new p(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new p(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new p(a[0],
a[1],a[2],a[3],this.spatialReference):new p(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();d.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new p(a,b)})};b.prototype.removePoint=
function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new p(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();d.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=
a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var l;g([h.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);g([h.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);g([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);g([h.writer("paths")],b.prototype,"writePaths",null);return b=l=g([h.subclass("esri.geometry.Polyline")],b)}(h.declared(k));b.prototype.toJSON.isDefaultToJSON=!0;return b})},
"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(b,a,n,g,m,h,e,k){function p(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function f(a){return void 0!==a.points}function c(a){return void 0!==a.x&&void 0!==a.y}function d(a){return void 0!==a.paths}function t(a){return void 0!==a.rings}function q(a){return a?a instanceof g?a:c(a)?h.fromJSON(a):d(a)?k.fromJSON(a):
t(a)?e.fromJSON(a):f(a)?m.fromJSON(a):p(a)?n.fromJSON(a):null:null}Object.defineProperty(a,"__esModule",{value:!0});a.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(x){console.warn(x.stack)}return q(a)};a.isExtent=p;a.isMultipoint=f;a.isPoint=c;a.isPolyline=d;a.isPolygon=t;a.isMesh=function(a){return void 0!==a.vertexAttributes};a.fromJSON=q;a.getJsonType=function(a){return a?c(a)?"esriGeometryPoint":d(a)?"esriGeometryPolyline":t(a)?"esriGeometryPolygon":
p(a)?"esriGeometryEnvelope":f(a)?"esriGeometryMultipoint":null:null};var l={esriGeometryPoint:h,esriGeometryPolyline:k,esriGeometryPolygon:e,esriGeometryEnvelope:n,esriGeometryMultipoint:m};a.getGeometryType=function(a){return a&&l[a]||null}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q){b=function(a){function b(b,c,d,f){b=a.call(this,b,c,d,f)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:l.generateUID()});return b}g(b,a);l=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",
b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var b=this._get("visible");b!==
a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&c.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,
b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};b.prototype.toJSON=function(){return{geometry:c.isSome(this.geometry)?this.geometry.toJSON():null,symbol:c.isSome(this.symbol)?this.symbol.toJSON():null,attributes:n({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new l({attributes:f.clone(this.attributes),
geometry:f.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:f.clone(this.symbol),visible:this.visible})};b.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var l;m([d.property({value:null})],b.prototype,"attributes",null);m([d.property({value:null,types:h.geometryTypes,
json:{read:t.fromJSON}})],b.prototype,"geometry",null);m([d.property()],b.prototype,"layer",void 0);m([d.property({type:e})],b.prototype,"popupTemplate",void 0);m([d.property()],b.prototype,"sourceLayer",void 0);m([d.property({value:null,types:k.symbolTypes,json:{read:q.read}})],b.prototype,"symbol",null);m([d.property({type:Boolean,value:!0,set:function(a){}})],b.prototype,"visible",null);return b=l=m([d.subclass("esri.Graphic")],b)}(d.declared(p));var l=0;(function(a){a.generateUID=function(){return l++}})(b||
(b={}));return b})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w,r,y,G,C,D,A,z,B,F,H,J,E,K){var I=f.ofType({key:"type",defaultKeyValue:"button",base:J,typeMap:{button:E,toggle:K}}),O={base:A,key:"type",typeMap:{media:B,text:F,attachments:D,fields:z}},N=t.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}g(b,a);c=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return v.ensureOneOfType(O,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||q.isThenable(a))return a;N.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){var c=b.description,d=b.mediaInfos;a=b.popupElements;b=b.showAttachments;if(Array.isArray(a)&&0<a.length)return a.map(function(a){if("media"===
a.type)return!a.mediaInfos&&d&&(a.mediaInfos=d),B.fromJSON(a);if("text"===a.type)return!a.text&&c&&(a.text=c),F.fromJSON(a);if("attachments"===a.type)return D.fromJSON(a);if("fields"===a.type)return z.fromJSON(a)}).filter(Boolean);a=[];c?a.push(new F({text:c})):a.push(new z);Array.isArray(d)&&d.length&&a.push(B.fromJSON({mediaInfos:d}));b&&a.push(D.fromJSON({displayType:"list"}));return a.length?a:c};b.prototype.writeContent=function(a,b){"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=
a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"!==a.type||b.showAttachments?"media"!==a.type||b.mediaInfos?"text"!==a.type||b.description||(a.text&&(b.description=a.text),delete a.text):(a.mediaInfos&&(b.mediaInfos=d.clone(a.mediaInfos)),delete a.mediaInfos):b.showAttachments=!0}))};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=
a||""};b.prototype.clone=function(){var a=this.actions,a=a?d.clone(a.toArray()):[];return new c({actions:a,content:Array.isArray(this.content)?d.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?d.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?d.clone(this.fieldInfos):null,layerOptions:this.layerOptions?d.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?d.clone(this.outFields):
null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?d.clone(this.relatedRecordsInfo):null})};b.prototype.collectRequiredFields=function(a,b){return e(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),x.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),
[2]}})})};b.prototype.getRequiredFields=function(a){return e(this,void 0,void 0,function(){var b;return h(this,function(c){switch(c.label){case 0:return b=new p.default,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,k.from(b).sort()]}})})};b.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,
c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,f=void 0===d?[]:d,d=c.normalizeField,e=c.tooltipField,l=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(l),this._extractFieldNames(c),f);d&&a.push(d);e&&a.push(e);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===
typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return e(this,void 0,void 0,function(){return h(this,function(d){switch(d.label){case 0:return c?[4,q.all(c.map(function(c){return x.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?
!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};
b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var c;m([l.property({type:I})],b.prototype,"actions",void 0);m([l.property()],
b.prototype,"content",void 0);m([l.cast("content")],b.prototype,"castContent",null);m([l.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);m([l.writer("content",{popupElements:{type:f.ofType(w.types)},showAttachments:{type:Boolean},mediaInfos:{type:f.ofType(H.types)},description:{type:String}})],b.prototype,"writeContent",null);m([l.property({type:[r],json:{write:!0}})],b.prototype,"expressionInfos",void 0);m([l.property({type:[y],json:{write:!0}})],
b.prototype,"fieldInfos",void 0);m([l.property({type:G})],b.prototype,"layerOptions",void 0);m([l.writer("layerOptions")],b.prototype,"writeLayerOptions",null);m([l.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);m([l.property()],b.prototype,"outFields",void 0);m([l.property()],b.prototype,"overwriteActions",void 0);m([l.property({json:{type:String}})],b.prototype,"title",void 0);m([l.writer("title")],
b.prototype,"writeTitle",null);m([l.property({type:C,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=c=m([l.subclass("esri.PopupTemplate")],b)}(l.declared(c))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(b,a,n,g,m,h,e,k,p,f,c,d,t){function q(a){return a?
a.isInstanceOf&&a.isInstanceOf(z):!1}function l(a){return a?q(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function v(a){if(a&&a.length)return a[0]}function x(a,b,c,d){b&&b.forEach(function(b,f,e){a.push(b);x(a,c.call(d,b,f,e),c,d)})}b=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var w=
function(){},r=new f(b,!0,function(a){a.item=null;a.target=null}),y=new Set,G=new Set,C=new Set,D=new Map,A=0,z=function(a){function b(b){b=a.call(this,b)||this;b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:A++});return b}n(b,a);f=b;b.ofType=function(a){if(!a)return f;if(D.has(a))return D.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;
else for(var c in a.typeMap){var d=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+d):d}b=f.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=q;c={Type:a,ensureType:"function"===typeof a?t.ensureType(a):t.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:c});D.set(a,b);return b};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||q(a)?{items:a}:a:{}};Object.defineProperty(b.prototype,"items",{get:function(){return this._items},
set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(l(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=w;d.removed=!0;c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,b)};b.prototype.hasEventListener=
function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(l(a)));this._emitAfterChanges();return this};b.prototype.removeAll=function(){if(!this.length||
this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(p.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(l);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=this._splice(0,this.length),d=c.length,
f=0;f<d;f++)a.call(b,c[f],f,c);this._emitAfterChanges()}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){return e.find(this._items,a,b)};b.prototype.findIndex=function(a,b){return e.findIndex(this._items,a,b)};b.prototype.flatten=function(a,b){var c=[];x(c,this,a,b);return new f(c)};b.prototype.forEach=
function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,
b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new f({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=v(this._splice(this.length-
1,1));this._emitAfterChanges();return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=
function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=v(this._splice(a,1)),this._emitAfterChanges(),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges())return[];a=q(a)?a.toArray():a;for(var b=this._items,c=[],d=a.length,f=0;f<d;f++){var e=b.indexOf(a[f]);if(-1<e){for(var l=f+1,h=e+1,k=Math.min(a.length-l,b.length-h),g=0;g<k&&a[l+g]===b[h+g];)g++;l=1+g;(e=this._splice(e,l))&&0<
e.length&&c.push.apply(c,e);f+=l-1}}this._emitAfterChanges();return c};b.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=v(this._splice(0,1));this._emitAfterChanges();return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,
b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));return this};b.prototype.splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};b.prototype.toArray=
function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};
b.prototype._splice=function(a,b){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];var f=this._items,e=this.constructor.prototype.itemType,l,h;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=c.schedule(this._boundDispatch));if(b){h=f.splice(a,b);if(this.hasEventListener("before-remove")){var k=r.acquire();k.target=this;k.cancellable=!0;
for(var g=0,q=h.length;g<q;g++)l=h[g],k.reset(l),this.emit("before-remove",k),k.defaultPrevented&&(h.splice(g,1),f.splice(a,0,l),a+=1,--g,--q);r.release(k)}this.length=this._items.length;if(this.hasEventListener("after-remove")){l=r.acquire();l.target=this;l.cancellable=!1;q=h.length;for(g=0;g<q;g++)l.reset(h[g]),this.emit("after-remove",l);r.release(l)}}if(d&&d.length){if(e){g=[];for(q=0;q<d.length;q++)l=d[q],k=e.ensureType(l),null==k&&null!=l||g.push(k);d=g}e=this.hasEventListener("before-add");
g=this.hasEventListener("after-add");q=a===this.length;if(e||g){l=r.acquire();l.target=this;l.cancellable=!0;k=r.acquire();k.target=this;k.cancellable=!1;for(var v=0,p=d;v<p.length;v++){var t=p[v];e?(l.reset(t),this.emit("before-add",l),l.defaultPrevented||(q?f.push(t):f.splice(a++,0,t),this._set("length",f.length),g&&(k.reset(t),this.emit("after-add",k)))):(q?f.push(t):f.splice(a++,0,t),this._set("length",f.length),k.reset(t),this.emit("after-add",k))}r.release(k);r.release(l)}else q?f.push.apply(f,
d):f.splice.apply(f,[a,0].concat(d)),this._set("length",f.length)}(d&&d.length||h&&h.length)&&this._notifyChangeEvent(d,h);return h};b.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=r.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;r.release(b)}return a};b.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=r.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",
a);r.release(a)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchColChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;y.clear();G.clear();C.clear();for(var d=0;d<b.length;d++){var f=b[d],e=f.added,f=f.removed;if(e)if(0===C.size&&0===
G.size)for(var l=0,k=e;l<k.length;l++)e=k[l],y.add(e);else for(l=0,k=e;l<k.length;l++)e=k[l],G.has(e)?(C.add(e),G.delete(e)):C.has(e)||y.add(e);if(f)if(0===C.size&&0===y.size)for(l=0;l<f.length;l++)e=f[l],G.add(e);else for(l=0;l<f.length;l++)e=f[l],y.has(e)?y.delete(e):(C.delete(e),G.add(e))}var g=h.acquire();y.forEach(function(a){g.push(a)});var q=h.acquire();G.forEach(function(a){q.push(a)});var v=c._items,p=a.items,t=h.acquire();C.forEach(function(a){p.indexOf(a)!==v.indexOf(a)&&t.push(a)});if(a.listeners&&
(g.length||q.length||t.length))for(b={target:c,added:g,removed:q,moved:t},d=a.listeners.length,e=0;e<d;e++)f=a.listeners[e],f.removed||f.callback.call(c,b);h.release(g);h.release(q);h.release(t)},c=this,d=0;d<a.length;d++)b(a[d]);y.clear();G.clear();C.clear()}};var f;b.isCollection=q;g([d.property()],b.prototype,"length",void 0);g([d.property()],b.prototype,"items",null);return b=f=g([d.subclass("esri.core.Collection")],b)}(d.declared(m,k));return z})},"esri/core/Evented":function(){define(["require",
"exports","./tsSupport/extendsHelper","@dojo/framework/shim/Map"],function(b,a,n,g){var m=function(){function a(a){this.target=a}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var e=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;b=b||{};b.target||(b.target=this.target);a.slice().forEach(function(a){a.call(e.target,b)});return 0<a.length};a.prototype.on=function(a,b){var e=this;if(Array.isArray(a)){var f=a.map(function(a){return e.on(a,
b)});return{remove:function(){return f.forEach(function(a){return a.remove()})}}}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new g.default);var c=this._listenersMap.get(a)||[];c.push(b);this._listenersMap.set(a,c);return{remove:function(){var c=e._listenersMap&&e._listenersMap.get(a)||[];0<=c.indexOf(b)&&c.splice(c.indexOf(b),1)}}};a.prototype.once=function(a,b){var e=this,f;return f=
this.on(a,function(a){f.remove();b.call(e.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();b=function(){function a(){this._emitter=new m(this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};
return a}();(function(a){a.EventedMixin=function(a){return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b}(a)}})(b||(b={}));return b})},"@dojo/framework/shim/Map":function(){(function(b){"object"===
typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=b("tslib"),g=b("./iterator"),m=b("./global"),h=b("./object"),e=b("../has/has");b("./Symbol");a.Map=m.default.Map;e.default("es6-map")||(a.Map=(k=function(){function a(a){this._keys=[];this._values=
[];this[Symbol.toStringTag]="Map";if(a)if(g.isArrayLike(a))for(var b=0;b<a.length;b++){var d=a[b];this.set(d[0],d[1])}else try{for(var b=n.__values(a),f=b.next();!f.done;f=b.next())d=f.value,this.set(d[0],d[1])}catch(v){e={error:v}}finally{try{f&&!f.done&&(l=b.return)&&l.call(b)}finally{if(e)throw e.error;}}var e,l}a.prototype._indexOfKey=function(a,b){for(var c=0,f=a.length;c<f;c++)if(h.is(a[c],b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},
enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,b=this._keys.map(function(b,c){return[b,a._values[c]]});return new g.ShimIterator(b)};a.prototype.forEach=function(a,b){for(var c=this._keys,f=this._values,e=0,l=c.length;e<l;e++)a.call(b,f[e],c[e],this)};a.prototype.get=
function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new g.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,a),c=0>c?this._keys.length:c;this._keys[c]=a;this._values[c]=b;return this};a.prototype.values=function(){return new g.ShimIterator(this._values)};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),
k[Symbol.species]=k,k));a.default=a.Map;var k})},"@dojo/framework/shim/object":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=b("./global"),g=b("../has/has"),m=b("./Symbol");g.default("es6-object")?(b=n.default.Object,a.assign=b.assign,
a.getOwnPropertyDescriptor=b.getOwnPropertyDescriptor,a.getOwnPropertyNames=b.getOwnPropertyNames,a.getOwnPropertySymbols=b.getOwnPropertySymbols,a.is=b.is,a.keys=b.keys):(a.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},a.assign=function(b){for(var e=[],h=1;h<arguments.length;h++)e[h-1]=arguments[h];if(null==b)throw new TypeError("Cannot convert undefined or null to object");var g=Object(b);e.forEach(function(b){b&&a.keys(b).forEach(function(a){g[a]=b[a]})});
return g},a.getOwnPropertyDescriptor=function(a,b){m.isSymbol(b);return Object.getOwnPropertyDescriptor(a,b)},a.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},a.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},a.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b});g.default("es2017-object")?(b=n.default.Object,
a.getOwnPropertyDescriptors=b.getOwnPropertyDescriptors,a.entries=b.entries,a.values=b.values):(a.getOwnPropertyDescriptors=function(b){return a.getOwnPropertyNames(b).reduce(function(e,h){e[h]=a.getOwnPropertyDescriptor(b,h);return e},{})},a.entries=function(b){return a.keys(b).map(function(a){return[a,b[a]]})},a.values=function(b){return a.keys(b).map(function(a){return b[a]})})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../../core/Error ../../core/object ../../core/promiseUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){function t(a,b,c){if(a)for(var d=0;d<a.length;d++){var f=a[d],e=p.getDeepValue(f,b);(e=e&&"function"!==typeof e&&x(c,e))&&p.setDeepValue(f,e.name,b)}}function q(a,b){if(!a||!b)return[];O.clear();l(O,a,b);return h.from(O).sort()}function l(a,b,c){if(c)if(b&&b.length)if(h.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var d=0;d<c.length;d++)f=c[d],v(a,b,f);else if(h.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var f=c[b];a.add(f)}}
function v(a,b,c){b&&b.length?(b=x(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function x(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return d}}return null}function w(a,b,c){return m(this,void 0,void 0,function(){var f,e,l,h,k;return g(this,function(g){switch(g.label){case 0:return c?[4,d.loadArcade()]:[2];case 1:f=g.sent().arcadeUtils;e=f.extractFieldNames(c);l=0;for(h=e;l<h.length;l++)k=h[l],v(a,
b,k);return[2]}})})}function r(a,b){return m(this,void 0,void 0,function(){var c,d;return g(this,function(f){if(!b)return[2];c=b.fields;return(d=p.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,d.collectRequiredFields(a,c)]:[2]})})}function y(a,b){return m(this,void 0,void 0,function(){var c,d;return g(this,function(e){switch(e.label){case 0:return c=b.labelingInfo,d=b.fields,c&&c.length?[4,f.all(c.map(function(b){return G(a,d,b)}))]:[2];case 1:return e.sent(),[2]}})})}function G(a,b,c){return m(this,
void 0,void 0,function(){var d,f,e,l,h;return g(this,function(k){switch(k.label){case 0:if(!c)return[2];d=c.getLabelExpression();f=c.where;return"arcade"!==d.type?[3,2]:[4,w(a,b,d.expression)];case 1:return k.sent(),[3,3];case 2:(e=d.expression.match(/{[^}]*}/g))&&e.forEach(function(c){v(a,b,c.slice(1,-1))}),k.label=3;case 3:return l=/['"]+/g,f&&(h=f.split(" "),3===h.length&&v(a,b,h[0].replace(l,"")),7===h.length&&(v(a,b,h[0].replace(l,"")),v(a,b,h[4].replace(l,"")))),[2]}})})}function C(a){return"number"===
typeof a&&!isNaN(a)&&isFinite(a)}function D(a){return null===a||C(a)}function A(a){return null===a||N(a)}function z(a){return null!=a&&"string"===typeof a}function B(a){return null===a||z(a)}function F(a){return!0}function H(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?A:N;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?D:C;break;case "string":case "esriFieldTypeString":c=a.nullable?B:z;break;default:c=F}return 1===arguments.length?c:c(b)}function J(a){return null!=a&&P.has(a.type)}function E(a,b){return a.nullable&&null===b?null:J(a)&&!K(a.type,b)?Q.OUT_OF_RANGE:H(a,b)?a.domain?c.validateDomainValue(a.domain,b):null:R.INVALID_TYPE}function K(a,b){return(a="string"===typeof a?I(a):a)?a.isInteger?N(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function I(b){switch(b){case "esriFieldTypeSmallInteger":case "small-integer":return a.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return a.integerRange;case "esriFieldTypeSingle":case "single":return a.singleRange;case "esriFieldTypeDouble":case "double":return a.doubleRange}}Object.defineProperty(a,"__esModule",{value:!0});a.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");a.visualVariableFields=["field","normalizationField"];a.fixRendererFields=
function(b,c){if(null!=b&&null!=c){var d=0;for(b=Array.isArray(b)?b:[b];d<b.length;d++){var f=b[d];t(a.rendererFields,f,c);if("visualVariables"in f&&f.visualVariables)for(var e=0,f=f.visualVariables;e<f.length;e++)t(a.visualVariableFields,f[e],c)}}};a.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=x(b,a.startField);b=x(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=x(b,a.startTimeField),b=x(b,a.endTimeField),a.startTimeField=c&&c.name||
null,a.endTimeField=b&&b.name||null};var O=new e.default;a.fixFields=q;a.collectFields=l;a.collectField=v;a.unpackFieldNames=function(a,b){return b&&a?h.includes(b,"*")?a.map(function(a){return a.name}):b:[]};a.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(h.includes(b,"*"))return["*"];b=q(a,b);return b.length/a.length>=c?["*"]:b};a.getField=x;a.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===
b)return!0}return!1};a.collectArcadeFieldNames=w;a.getElevationFields=function(a){return m(this,void 0,void 0,function(){var b;return g(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new e.default;return[4,r(b,a)];case 1:return c.sent(),[2,h.from(b).sort()]}})})};a.collectElevationFields=r;a.collectFilterFields=function(a,c,d){return m(this,void 0,void 0,function(){var e,h;return g(this,function(g){switch(g.label){case 0:if(!c||!d||!(d.where&&"1\x3d1"!==d.where||d.timeExtent))return[2];
c.timeInfo&&d.timeExtent&&l(a,c.fields,[c.timeInfo.startField,c.timeInfo.endField]);return d.where?[4,f.create(function(a){b(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:e=g.sent();h=e.WhereClause.create(d.where,c.fieldsIndex);if(!h.isStandardized)return[2,f.reject(new k("fieldUtils:collectFilterFields","Where clause is not standardized"))];l(a,c.fields,h.fieldNames);g.label=2;case 2:return[2]}})})};a.getTimeFields=function(a){return m(this,void 0,void 0,function(){var b;return g(this,function(c){return a?
(b="timeInfo"in a&&a.timeInfo)?[2,q(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};a.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?q(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};a.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?q(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};a.getLabelingFields=
function(a){return m(this,void 0,void 0,function(){var b;return g(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new e.default;return[4,y(b,a)];case 1:return c.sent(),[2,h.from(b).sort()]}})})};a.collectLabelingFields=y;a.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&H(a,b))return b;if(a.nullable)return null};var N=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();a.isValueMatchingFieldType=
H;a.numericTypes=["integer","small-integer","single","double"];var P=new e.default(a.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));a.isNumericField=J;a.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};a.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};a.isValidFieldValue=function(a,b){return null===E(a,b)};var Q;(Q=a.NumericRangeValidationError||
(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var R;(R=a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";a.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};a.validateFieldValue=E;a.isNumberInRange=K;a.getFieldRange=function(a){var b=c.getDomainRange(a.domain);if(b)return b;if(J(a))return I(a.type)};a.getNumericTypeForValue=function(b){if(!C(b))return null;if(N(b)){if(b>=
a.smallIntegerRange.min&&b<=a.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(b>=a.integerRange.min&&b<=a.integerRange.max)return"esriFieldTypeInteger"}return b>=a.singleRange.min&&b<=a.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.smallIntegerRange={min:-32768,max:32767,isInteger:!0};a.integerRange={min:-2147483648,max:2147483647,isInteger:!0};a.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};a.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};a.validationErrorToString=
function(a,b,d){switch(a){case c.DomainValidationError.INVALID_CODED_VALUE:return"Value "+d+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case c.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+d+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case R.INVALID_TYPE:return"Value "+d+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case Q.OUT_OF_RANGE:return a=
I(b.type),"Value "+d+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};a.featureHasFields=function(a,b){if(!b||!b.attributes||!a)return!1;b=b.attributes;for(var c=0;c<a.length;c++)if(!(a[c]in b))return!1;return!0}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(b,a,n,g,m,h,e){function k(a,b){switch(a.type){case "range":var c=
"range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return p.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return p.INVALID_CODED_VALUE}return null}Object.defineProperty(a,"__esModule",{value:!0});a.CodedValueDomain=g;a.DomainBase=m;a.InheritedDomain=h;a.RangeDomain=e;var p;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(p=a.DomainValidationError||(a.DomainValidationError={}));a.isValidDomainValue=function(a,b){return null===k(a,b)};a.validateDomainValue=k;a.types={key:"type",base:a.DomainBase,typeMap:{range:a.RangeDomain,"coded-value":a.CodedValueDomain,inherited:a.InheritedDomain}};a.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};a.fromJSON=function(b){if(!b||!b.type)return null;
switch(b.type){case "range":return a.RangeDomain.fromJSON(b);case "codedValue":return a.CodedValueDomain.fromJSON(b);case "inherited":return a.InheritedDomain.fromJSON(b);default:n.neverReached(b)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=
a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}n(b,a);c=b;b.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};b.prototype.clone=function(){return new c({codedValues:m.clone(this.codedValues),name:this.name})};var c;g([h.property({type:[e.default],json:{write:!0}})],b.prototype,"codedValues",void 0);g([h.enumeration.serializable()({codedValue:"coded-value"})],b.prototype,
"type",void 0);return b=c=g([h.subclass("esri.layers.support.CodedValueDomain")],b)}(h.declared(k))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}g(b,a);e=b;b.prototype.clone=
function(){return new e({name:this.name,code:this.code})};var e;n([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);n([h.property({type:[String,Number],json:{write:!0}})],b.prototype,"code",void 0);return b=e=n([h.subclass("esri.layers.support.CodedValue")],b)}(h.declared(m));a.CodedValue=b;a.default=b})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e){var k=new m.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}n(b,a);g([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);g([e.enumeration.serializable()(k)],b.prototype,"type",void 0);return b=g([e.subclass("esri.layers.support.Domain")],b)}(e.declared(h))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this,b)||this;b.type="inherited";return b}n(b,a);e=b;b.prototype.clone=function(){return new e};var e;g([m.enumeration.serializable()({inherited:"inherited"})],b.prototype,"type",void 0);return b=e=g([m.subclass("esri.layers.support.InheritedDomain")],b)}(m.declared(h))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";return b}n(b,a);e=b;b.prototype.clone=function(){return new e({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var e;g([m.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,
b,d){b[d]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);g([m.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,d){b[d]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);g([m.enumeration.serializable()({range:"range"})],b.prototype,"type",void 0);return b=e=g([m.subclass("esri.layers.support.RangeDomain")],b)}(m.declared(h))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/promiseUtils".split(" "),
function(b,a,n,g,m,h,e){function k(){return g(this,void 0,void 0,function(){return n(this,function(a){p||(p=e.all([e.create(function(a){return b(["./arcadeUtils"],a)})]).then(function(a){a=a[0];return{arcade:a.arcade,arcadeUtils:a,Dictionary:a.Dictionary,Feature:a.arcadeFeature}}));return[2,p]})})}Object.defineProperty(a,"__esModule",{value:!0});var p;a.loadArcade=k;a.createLabelExpression=function(a,b,e){return f.create(a,b,e,["$feature"])};a.createVVExpression=function(a,b,e){return f.create(a,
b,e,["$feature","$view"])};a.createRendererExpression=function(a,b,e){return f.create(a,b,e,["$feature","$view"])};var f=function(){function a(a,b,c,f,e,h,k){this.evaluate=f;this._syntaxTree=c;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=e;this._fields=h;this._spatialReference=k;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"$view.scale")}a.create=function(b,c,f,l,v){return g(this,void 0,void 0,
function(){var d,g,q,p,t,C,D,A,z,B,F,H,J,E;return n(this,function(w){switch(w.label){case 0:return[4,k()];case 1:return d=w.sent(),g=d.arcade,q=d.Feature,p=d.Dictionary,t=h.SpatialReference.fromJSON(c),C=g.parseScript(b,v),D=l.reduce(function(a,b){var c;return m({},a,(c={},c[b]=null,c))},{}),A=g.scriptUsesGeometryEngine(C)&&g.enableGeometrySupport(),z=g.scriptUsesFeatureSet(C)&&g.enableFeatureSetSupport(),B=g.scriptIsAsync(C)&&g.enableAsyncSupport(),F={vars:D,spatialReference:t,useAsync:!!B},H=new p,
H.immutable=!1,H.setField("scale",0),J=g.compileScript(C,F),E=function(a){"$view"in a&&a.$view&&(H.setField("scale",a.$view.scale),a.$view=H);return J({vars:a,spatialReference:t})},[4,e.all([A,z,B])];case 2:return w.sent(),[2,new a(g,p,C,E,new q,f,t)]}})})};a.prototype.repurposeFeature=function(a){a.geometry.spatialReference||(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};
a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,
a)};return a}();a.default=f})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(b,a,n,g,m,h,e){Object.defineProperty(a,"__esModule",{value:!0});a.AttachmentsContent=n;a.BaseContent=g;a.FieldsContent=m;a.MediaContent=h;a.TextContent=e;a.isContent=function(b){return b instanceof a.BaseContent};a.types={base:null,key:"type",typeMap:{attachment:a.AttachmentsContent,
fields:a.FieldsContent,media:a.MediaContent,text:a.TextContent}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=a.call(this)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}n(b,a);c=b;b.prototype.clone=
function(){return new c({displayType:this.displayType,attachmentInfos:this.attachmentInfos?m.clone(this.attachmentInfos):null})};var c;g([h.property({type:[e]})],b.prototype,"attachmentInfos",void 0);g([h.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);g([h.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=g([h.subclass("esri.popup.content.AttachmentsContent")],b)}(h.declared(k))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),
function(b,a,n,g,m,h,e,k){var p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.keywords=null;b.name=null;b.parentObjectId=null;b.size=null;b.url=null;return b}n(b,a);d=b;Object.defineProperty(b.prototype,
"orientationInfo",{get:function(){var a=k.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return p[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,keywords:this.keywords,name:this.name,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var d;g([h.property({type:String})],b.prototype,"contentType",void 0);g([h.property()],b.prototype,"exifInfo",void 0);
g([h.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);g([h.property({type:e.Integer})],b.prototype,"id",void 0);g([h.property({type:String})],b.prototype,"keywords",void 0);g([h.property({type:String})],b.prototype,"name",void 0);g([h.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);g([h.property({type:e.Integer})],b.prototype,"size",void 0);g([h.property({json:{read:!1}})],b.prototype,"url",void 0);return b=d=g([h.subclass("esri.layers.support.AttachmentInfo")],
b)}(h.declared(m))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(b,a,n){function g(a){var b=a.tagName;a=a.tags;return a&&b?(a=n.find(a,function(a){return a.name===b}))&&a.value||null:null}Object.defineProperty(a,"__esModule",{value:!0});a.getExifValue=function(a){var b=a.exifInfo,e=a.exifName;a=a.tagName;return b&&e&&a?(b=n.find(b,function(a){return a.name===e}))?g({tagName:a,tags:b.tags}):null:null}})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.type=null;return b}n(b,a);g([h.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=g([h.subclass("esri.popup.content.Content")],b)}(h.declared(m))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=a.call(this)||this;b.fieldInfos=null;b.type="fields";return b}n(b,a);c=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new c({fieldInfos:Array.isArray(this.fieldInfos)?m.clone(this.fieldInfos):null})};var c;g([h.property({type:[e]})],b.prototype,"fieldInfos",void 0);g([h.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);g([h.property({type:["fields"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=g([h.subclass("esri.popup.content.FieldsContent")],b)}(h.declared(k))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(b,a,n,g,m,h,e,k,p){var f=new m.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});
return function(a){function b(b){b=a.call(this)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}n(b,a);c=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=f.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return f.fromJSON(a)};b.prototype.clone=function(){return new c({fieldName:this.fieldName,format:this.format?e.clone(this.format):null,isEditable:this.isEditable,
label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var c;g([k.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);g([k.property({type:p,json:{write:!0}})],b.prototype,"format",void 0);g([k.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);g([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);g([k.property({type:f.apiValues,json:{write:!0,
default:"text-box",type:f.jsonValues}})],b.prototype,"stringFieldOption",void 0);g([k.writer("stringFieldOption")],b.prototype,"writeStringFieldOption",null);g([k.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);g([k.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);g([k.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);g([k.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);
return b=c=g([k.subclass("esri.popup.FieldInfo")],b)}(k.declared(h))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(b,a,n,g,m,h,e,k,p,f){return function(a){function b(b){b=a.call(this)||this;b.dateFormat=null;b.digitSeparator=
!1;b.places=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};b.prototype.format=function(a){return this.dateFormat?p.formatDate(a,p.convertDateFormatToIntlOptions(this.dateFormat)):f.formatNumber(a,f.convertNumberFormatToIntlOptions(this))};var c;g([e.enumeration.serializable()(m.dictionary)],b.prototype,"dateFormat",void 0);g([e.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",
void 0);g([e.property({type:k.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=c=g([e.subclass("esri.popup.support.FieldInfoFormat")],b)}(e.declared(h))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};a.dictionary=n.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);a.getFormat=function(b){return a.formats[b]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(b,a,n,g,m,h){function e(a){a=a||v;if(!l.has(a)){var b=h.getLocale(),b=q[h.getLocale()]||b;l.set(a,new Intl.DateTimeFormat(b,a))}return l.get(a)}Object.defineProperty(a,
"__esModule",{value:!0});b={year:"numeric",month:"numeric",day:"numeric"};var k={year:"numeric",month:"long",day:"numeric"},p={year:"numeric",month:"short",day:"numeric"},f={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},d=n({},c,{second:"numeric"}),t={"short-date":b,"short-date-short-time":n({},b,c),"short-date-short-time-24":n({},b,c,{hour12:!1}),"short-date-long-time":n({},b,d),"short-date-long-time-24":n({},b,d,{hour12:!1}),"short-date-le":b,"short-date-le-short-time":n({},
b,c),"short-date-le-short-time-24":n({},b,c,{hour12:!1}),"short-date-le-long-time":n({},b,d),"short-date-le-long-time-24":n({},b,d,{hour12:!1}),"long-month-day-year":k,"long-month-day-year-short-time":n({},k,c),"long-month-day-year-short-time-24":n({},k,c,{hour12:!1}),"long-month-day-year-long-time":n({},k,d),"long-month-day-year-long-time-24":n({},k,d,{hour12:!1}),"day-short-month-year":p,"day-short-month-year-short-time":n({},p,c),"day-short-month-year-short-time-24":n({},p,c,{hour12:!1}),"day-short-month-year-long-time":n({},
p,d),"day-short-month-year-long-time-24":n({},p,d,{hour12:!1}),"long-date":f,"long-date-short-time":n({},f,c),"long-date-short-time-24":n({},f,c,{hour12:!1}),"long-date-long-time":n({},f,d),"long-date-long-time-24":n({},f,d,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":d};a.dictionary=m.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.dateFormats=a.dictionary.apiValues;a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);var q={ar:"ar-u-nu-latn-ca-gregory"},l=new g.default,v=t["short-date-short-time"];h.onLocaleChange(function(){l=new g.default;v=t["short-date-short-time"]});a.getDateTimeFormatter=e;a.convertDateFormatToIntlOptions=function(a){return t[a]||null};a.formatDate=function(a,b){return e(b).format(a)}})},
"@dojo/framework/shim/WeakMap":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=b("tslib"),g=b("./global"),m=b("./iterator"),h=b("../has/has");b("./Symbol");a.WeakMap=g.default.WeakMap;if(!h.default("es6-weakmap")){var e=
{},k=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();a.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=k();this._frozenEntries=[];if(a)if(m.isArrayLike(a))for(var b=0;b<a.length;b++){var d=a[b];this.set(d[0],d[1])}else try{for(b=n.__values(a),d=b.next();!d.done;d=b.next()){var f=n.__read(d.value,2);this.set(f[0],f[1])}}catch(v){e={error:v}}finally{try{d&&!d.done&&(l=b.return)&&l.call(b)}finally{if(e)throw e.error;
}}var e,l}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==e)return b.value=e,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==e)return b.value;a=this._getFrozenEntryIndex(a);
if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==e||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));
c.value=b;return this};return a}()}a.default=a.WeakMap})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});var g=n.locale;a.getLocale=function(){return g};a.setLocale=function(a){g=a;m.slice().forEach(function(b){b.call(null,a)})};var m=[];a.onLocaleChange=function(a){m.push(a);return{remove:function(){m.splice(m.indexOf(a),1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper",
"@dojo/framework/shim/WeakMap","./locale"],function(b,a,n,g,m){function h(a){var b=a||p;if(!k.has(b)){var d=m.getLocale(),d=e[m.getLocale()]||d;k.set(b,new Intl.NumberFormat(d,a))}return k.get(b)}Object.defineProperty(a,"__esModule",{value:!0});var e={ar:"ar-u-nu-arab"},k=new g.default,p={};m.onLocaleChange(function(){k=new g.default;p={}});a.getFormatter=h;a.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&
(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};a.formatNumber=function(a,b){return h(b).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(b,a,n,g,m,h,e,k,p,f,
c,d,t){return function(a){function b(b){b=a.call(this)||this;b.mediaInfos=null;b.type="media";return b}n(b,a);q=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return f.fromJSON(a);if("barchart"===a.type)return e.fromJSON(a);if("columnchart"===a.type)return k.fromJSON(a);if("linechart"===a.type)return c.fromJSON(a);if("piechart"===a.type)return d.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=a&&a.map(function(a){return a.toJSON()})};
b.prototype.clone=function(){return new q({mediaInfos:this.mediaInfos?m.clone(this.mediaInfos):null})};var q;g([h.property({types:[t.types]})],b.prototype,"mediaInfos",void 0);g([h.reader("mediaInfos")],b.prototype,"readMediaInfos",null);g([h.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);g([h.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=q=g([h.subclass("esri.popup.content.MediaContent")],b)}(h.declared(p))})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.type="bar-chart";return b}n(b,a);f=b;b.prototype.clone=function(){return new f({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;g([m.property({type:["bar-chart"],readOnly:!0,json:{read:!1,write:e.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=f=g([m.subclass("esri.popup.content.BarChartMediaInfo")],b)}(m.declared(h))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.type=null;b.value=null;return b}n(b,a);g([m.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);g([m.property({type:e,json:{write:!0}})],b.prototype,"value",void 0);return b=g([m.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(m.declared(h))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.caption="";b.title="";b.type=null;return b}n(b,a);g([h.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);g([h.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=g([h.subclass("esri.popup.content.mixins.MediaInfo")],b)}(h.declared(m))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=a.call(this)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({fields:h.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var c;g([e.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);g([e.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);g([e.property({type:[k],json:{read:!1}})],b.prototype,"series",void 0);g([e.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=c=g([e.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(e.declared(m))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.tooltip=null;b.x=null;b.y=null;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({tooltip:this.tooltip,x:this.x,y:this.y})};var e;g([h.property()],b.prototype,"tooltip",void 0);g([h.property()],b.prototype,"x",void 0);g([h.property()],b.prototype,"y",void 0);return b=e=g([h.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(h.declared(m))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.chartTypeKebabDict=n.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(b,a,
n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.type="column-chart";return b}n(b,a);f=b;b.prototype.clone=function(){return new f({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;g([m.property({type:["column-chart"],readOnly:!0,json:{read:!1,write:e.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=f=g([m.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(m.declared(h))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}n(b,a);f=b;b.prototype.clone=function(){return new f({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var f;g([m.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);g([m.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);g([m.property({type:e,
json:{write:!0}})],b.prototype,"value",void 0);return b=f=g([m.subclass("esri.popup.content.ImageMediaInfo")],b)}(m.declared(h))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.linkURL=null;b.sourceURL=null;return b}n(b,a);
e=b;b.prototype.clone=function(){return new e({linkURL:this.linkURL,sourceURL:this.sourceURL})};var e;g([h.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=e=g([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(h.declared(m))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.type="line-chart";return b}n(b,a);f=b;b.prototype.clone=function(){return new f({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;g([m.property({type:["line-chart"],readOnly:!0,json:{read:!1,write:e.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=f=g([m.subclass("esri.popup.content.LineChartMediaInfo")],b)}(m.declared(h))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.type="pie-chart";return b}n(b,a);f=b;b.prototype.clone=function(){return new f({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var f;g([m.property({type:["pie-chart"],readOnly:!0,json:{read:!1,write:e.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=f=g([m.subclass("esri.popup.content.PieChartMediaInfo")],b)}(m.declared(h))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(b,a,n,g,m,h,e,k){Object.defineProperty(a,"__esModule",{value:!0});a.types={base:k,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n,"column-chart":g,"line-chart":h,"pie-chart":e,image:m}};a.default=a.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||
this;b.text=null;b.type="text";return b}n(b,a);e=b;b.prototype.clone=function(){return new e({text:this.text})};var e;g([m.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);g([m.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e=g([m.subclass("esri.popup.content.TextContent")],b)}(m.declared(h))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var e;g([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);g([h.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=e=g([h.subclass("esri.popup.ExpressionInfo")],b)}(h.declared(m))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.returnTopmostRaster=null;b.showNoDataRecords=null;
return b}n(b,a);e=b;b.prototype.clone=function(){return new e({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var e;g([h.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);g([h.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=e=g([h.subclass("esri.popup.LayerOptions")],b)}(h.declared(m))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=a.call(this)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?h.clone(this.orderByFields):null})};var c;g([e.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);g([e.property({type:[k],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=c=g([e.subclass("esri.popup.RelatedRecordsInfo")],
b)}(e.declared(m))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.field=null;b.order=null;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({field:this.field,order:this.order})};var e;g([h.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);g([h.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=e=g([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(h.declared(m))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h,e){return function(a){function b(b){b=
a.call(this)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}n(b,a);f=b;b.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var f;g([e.property()],b.prototype,"active",void 0);g([e.property()],b.prototype,"className",void 0);g([e.property()],b.prototype,"disabled",void 0);g([e.property()],b.prototype,
"id",void 0);g([e.property()],b.prototype,"indicator",void 0);g([e.property()],b.prototype,"title",void 0);g([e.property()],b.prototype,"type",void 0);g([e.property()],b.prototype,"visible",void 0);return b=f=g([e.subclass("esri.support.actions.ActionBase")],b)}(e.declared(m,h.Identifiable))})},"esri/core/Identifiable":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=0;b=function(){return function(){Object.defineProperty(this,"uid",{writable:!1,
configurable:!1,value:Date.now().toString(16)+"-object-"+n++})}}();a.Identifiable=b})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.image=null;b.type="button";return b}n(b,a);e=b;b.prototype.clone=function(){return new e({active:this.active,className:this.className,
disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var e;g([m.property()],b.prototype,"image",void 0);return b=e=g([m.subclass("esri.support.Action.ActionButton")],b)}(m.declared(h))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=
a.call(this)||this;b.image=null;b.type="toggle";b.value=!1;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var e;g([m.property()],b.prototype,"image",void 0);g([m.property()],b.prototype,"value",void 0);return b=e=g([m.subclass("esri.support.Action.ActionToggle")],b)}(m.declared(h))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w,r,y,G,C,D,A,z,B,F,H,J,E,K,I,O,N){Object.defineProperty(a,"__esModule",{value:!0});a.CIMSymbol=g;a.ExtrudeSymbol3DLayer=m;a.BaseFillSymbol=h;a.FillSymbol3DLayer=e;a.Font=k;a.IconSymbol3DLayer=p;a.LabelSymbol3D=f;a.LineSymbol3D=c;a.LineSymbol3DLayer=d;a.BaseMarkerSymbol=t;a.MeshSymbol3D=q;a.ObjectSymbol3DLayer=l;a.PathSymbol3DLayer=v;a.PictureFillSymbol=x;a.PictureMarkerSymbol=w;a.PointSymbol3D=r;a.PolygonSymbol3D=y;a.SimpleFillSymbol=G;a.SimpleLineSymbol=
C;a.SimpleMarkerSymbol=D;a.BaseSymbol=A;a.BaseSymbol3D=z;a.BaseSymbol3DLayer=B;a.TextSymbol=F;a.TextSymbol3DLayer=H;a.WaterSymbol3DLayer=J;a.WebStyleSymbol=E;a.LineCallout3D=K;a.LineCallout3DBorder=I;a.Symbol3DVerticalOffset=O.Symbol3DVerticalOffset;a.fromJSON=N.fromJSON;a.isSymbol=function(b){return b instanceof a.BaseSymbol};a.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};a.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.symbolTypes={base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.SimpleFillSymbol,"picture-fill":a.PictureFillSymbol,"picture-marker":a.PictureMarkerSymbol,"simple-line":a.SimpleLineSymbol,"simple-marker":a.SimpleMarkerSymbol,text:a.TextSymbol,"label-3d":a.LabelSymbol3D,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,
"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol,cim:a.CIMSymbol}};a.symbolTypesRenderer={base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.SimpleFillSymbol,"picture-fill":a.PictureFillSymbol,"picture-marker":a.PictureMarkerSymbol,"simple-line":a.SimpleLineSymbol,"simple-marker":a.SimpleMarkerSymbol,text:a.TextSymbol,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol,cim:a.CIMSymbol}};
a.symbolTypesLabel={base:a.BaseSymbol,key:"type",typeMap:{text:a.TextSymbol,"label-3d":a.LabelSymbol3D}};a.symbolTypes3D={base:a.BaseSymbol,key:"type",typeMap:{"label-3d":a.LabelSymbol3D,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol}};a.symbolTypesRenderer3D={base:a.BaseSymbol,key:"type",typeMap:{"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol}};
a.symbolTypesLabel3D={base:a.BaseSymbol,key:"type",typeMap:{"label-3d":a.LabelSymbol3D}};a.ensureType=n.ensureOneOfType(a.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(b,
a,n,g,m,h,e,k,p,f,c,d,t){return function(a){function b(b){b=a.call(this,b)||this;b.data=null;b.portal=null;b.styleName="";b.styleUrl="";b.type="cim";return b}n(b,a);d=b;b.prototype.readData=function(a,b){return b.symbol};b.prototype.writeData=function(a,b){a&&(b.symbol=a)};b.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};b.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var c,d,
e,l,h,g,q;return m(this,function(v){switch(v.label){case 0:return[4,t.expandSymbol(this,t.constructUrlFn)];case 1:v.sent(),d=(c="object"===typeof this.data&&this.data.length)?this.data:[this.data],e=0,l=d,v.label=2;case 2:if(!(e<l.length))return[3,5];h=l[e];g=h.primitiveOverrides;if(!g)return[3,4];q=g.map(function(c){return f.collectArcadeFieldNames(a,b,c.valueExpressionInfo.expression)});return[4,k.all(q)];case 3:v.sent(),v.label=4;case 4:return e++,[3,2];case 5:return[2]}})})};b.prototype.clone=
function(){return new d({color:this.color.clone(),data:e.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};var d;g([p.property({json:{write:!1}})],b.prototype,"color",void 0);g([p.property({json:{write:!0}})],b.prototype,"data",void 0);g([p.reader("data",["data","symbol"])],b.prototype,"readData",null);g([p.writer("data")],b.prototype,"writeData",null);g([p.property({type:c,json:{write:!1}})],b.prototype,"portal",void 0);g([p.property({json:{write:!0}})],b.prototype,
"styleName",void 0);g([p.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);g([p.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);g([p.writer("styleUrl")],b.prototype,"writeStyleUrl",null);g([p.enumeration.serializable()({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=d=g([p.subclass("esri.symbols.CIMSymbol")],b)}(p.declared(d))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w,r,y,G,C,D){var A,z={PortalGroup:function(){return w.create(function(a){return b(["./PortalGroup"],a)})},PortalItem:function(){return w.create(function(a){return b(["./PortalItem"],a)})},PortalUser:function(){return w.create(function(a){return b(["./PortalUser"],a)})}};return function(a){function q(b){b=a.call(this)||this;b.access=null;b.allSSL=!1;b.authMode="auto";b.authorizedCrossOriginDomains=null;b.basemapGalleryGroupQuery=null;b.bingKey=null;b.canListApps=
!1;b.canListData=!1;b.canListPreProvisionedItems=!1;b.canProvisionDirectPurchase=!1;b.canSearchPublic=!0;b.canShareBingPublic=!1;b.canSharePublic=!1;b.canSignInArcGIS=!1;b.canSignInIDP=!1;b.colorSetsGroupQuery=null;b.commentsEnabled=!1;b.created=null;b.culture=null;b.customBaseUrl=null;b.defaultBasemap=null;b.defaultExtent=null;b.defaultVectorBasemap=null;b.description=null;b.eueiEnabled=!1;b.featuredGroups=null;b.featuredItemsGroupQuery=null;b.galleryTemplatesGroupQuery=null;b.livingAtlasGroupQuery=
null;b.hasCategorySchema=!1;b.helperServices=null;b.homePageFeaturedContent=null;b.homePageFeaturedContentCount=null;b.httpPort=null;b.httpsPort=null;b.id=null;b.ipCntryCode=null;b.isPortal=!1;b.layerTemplatesGroupQuery=null;b.maxTokenExpirationMinutes=null;b.modified=null;b.name=null;b.portalHostname=null;b.portalMode=null;b.portalProperties=null;b.region=null;b.rotatorPanels=null;b.showHomePageDescription=!1;b.supportsHostedServices=!1;b.symbolSetsGroupQuery=null;b.templatesGroupQuery=null;b.units=
null;b.url=f.portalUrl;b.urlKey=null;b.user=null;b.useStandardizedQuery=!1;b.useVectorBasemaps=!1;b.vectorBasemapGalleryGroupQuery=null;return b}m(q,a);v=q;q.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};q.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};q.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];-1===f.request.trustedServers.indexOf(c)&&
f.request.trustedServers.push(c)}return a};q.prototype.readDefaultBasemap=function(a){return a?(a=A.fromJSON(a),a.portalItem={portal:this},a):null};q.prototype.readDefaultVectorBasemap=function(a){return a?(a=A.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(q.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"isOrganization",
{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(q.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});q.prototype.readUrlKey=
function(a){return a?a.toLowerCase():a};q.prototype.readUser=function(a){var b=null;a&&(b=D.fromJSON(a),b.portal=this);return b};q.prototype.load=function(a){var d=this,e=w.create(function(a){return b(["../Basemap"],a)}).then(function(b){w.throwIfAborted(a);A=b}).then(function(){return d._fetchSelf(d.authMode,!1,a)}).then(function(a){if(c.id){var b=c.id;d.credential=b.findCredential(d.restUrl);d.credential||d.authMode!==v.AUTH_MODE_AUTO||(d._esriId_credentialCreateHandle=b.on("credential-create",
function(){b.findCredential(d.restUrl)&&d._signIn()}))}d.read(a)});this.addResolvingPromise(e);return this.when()};q.prototype.createClosestFacilityTask=function(){return g(this,void 0,void 0,function(){var a,c;return e(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(a,c){b(["../tasks/ClosestFacilityTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};q.prototype.createElevationLayers=
function(){return g(this,void 0,void 0,function(){var a,c;return e(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(a,c){b(["../layers/ElevationLayer"],a,c)})];case 2:return c=d.sent(),[2,a?a.map(function(a){return new c({id:a.id,url:a.url})}):[]]}})})};q.prototype.createGeometryService=function(){return g(this,void 0,void 0,function(){var a,c;return e(this,function(d){switch(d.label){case 0:return[4,
this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("geometry"),[4,new Promise(function(a,c){b(["../tasks/GeometryService"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};q.prototype.createPrintTask=function(){return g(this,void 0,void 0,function(){var a,c;return e(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("printTask"),[4,new Promise(function(a,c){b(["../tasks/PrintTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};
q.prototype.createRouteTask=function(){return g(this,void 0,void 0,function(){var a,c;return e(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("route"),[4,new Promise(function(a,c){b(["../tasks/RouteTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};q.prototype.createServiceAreaTask=function(){return g(this,void 0,void 0,function(){var a,c;return e(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),
a=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(a,c){b(["../tasks/ServiceAreaTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};q.prototype.fetchBasemaps=function(a,b){var c=new G;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=
a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new A({portalItem:a})}):[]})};q.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):w.isAborted(a)?w.reject(w.createAbortError()):w.resolve([])};q.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=
new G;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],e=0;e<b.length;e++){var f=b[e];d.push('(title:"'+f.title+'" AND owner:'+f.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return w.isAborted(a)?w.reject(w.createAbortError()):w.resolve([])};q.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",n({},a,{query:{culture:this.user&&this.user.culture||this.culture||p.locale}}))};q.getDefault=function(){v._default||
(v._default=new v);return v._default};q.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};q.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};q.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",b)};q.prototype.toJSON=function(){throw new t("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};q.prototype._getHelperService=
function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new t("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};q.prototype._getHelperServiceUrl=function(a){var b=this._getHelperService(a);if(!b.url)throw new t("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};q.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var d=this.restUrl+"/portals/self";
a=n({authMode:a,query:{culture:p.locale}},c);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(d,a)};q.prototype._queryPortal=function(a,b,c,d){var e=this,f=function(c){return e._request(e.restUrl+a,n({},b.toRequestOptions(e),d)).then(function(a){var f=b.clone();f.start=a.nextStart;return new C({nextQueryParams:f,queryParams:b,total:a.total,results:v._resultsToTypedArray(c,{portal:e},a,d)})}).then(function(a){return w.all(a.results.map(function(b){return"function"===
typeof b.when?b.when():a})).then(function(){return a},function(b){w.throwIfAbortError(b);return a})})};return c&&z[c]?z[c]().then(function(a){w.throwIfAborted(d);return f(a)}):f()};q.prototype._signIn=function(){var a=this;if(this.authMode===v.AUTH_MODE_ANONYMOUS)return w.reject(new t("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return w.reject(this.loadError);var b=function(b){return w.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&a.read(b)})};return c.id?c.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};q.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",
":7443")};q.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};q.prototype._requestToTypedArray=function(a,c,d){var e=this,f=function(b){return e._request(a,c).then(function(a){var c=v._resultsToTypedArray(b,{portal:e},a);return w.all(c.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return c},function(){return c})})};return d?w.create(function(a){return b(["./"+
d],a)}).then(function(a){return f(a)}):f()};q.prototype._request=function(a,b){void 0===b&&(b={});var c=n({f:"json"},b.query),e=b.authMode,f=b.body,l=b.cacheBust,h=b.method,g=b.responseType;b={authMode:void 0===e?this.authMode===v.AUTH_MODE_ANONYMOUS?"anonymous":"auto":e,body:void 0===f?null:f,cacheBust:void 0===l?!1:l,method:void 0===h?"auto":h,query:c,responseType:void 0===g?"json":g,timeout:0,signal:b.signal};return d(this._normalizeSSL(a),b).then(function(a){return a.data})};q._resultsToTypedArray=
function(a,b,c,d){if(c){var e=x.isSome(d)?d.signal:null;c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=l.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(e);return c})}else c=[];return c};var v;q.AUTH_MODE_ANONYMOUS="anonymous";q.AUTH_MODE_AUTO="auto";q.AUTH_MODE_IMMEDIATE="immediate";h([r.property()],q.prototype,"access",void 0);h([r.property()],q.prototype,"allSSL",void 0);
h([r.property()],q.prototype,"authMode",void 0);h([r.property()],q.prototype,"authorizedCrossOriginDomains",void 0);h([r.reader("authorizedCrossOriginDomains")],q.prototype,"readAuthorizedCrossOriginDomains",null);h([r.property()],q.prototype,"basemapGalleryGroupQuery",void 0);h([r.property()],q.prototype,"bingKey",void 0);h([r.property()],q.prototype,"canListApps",void 0);h([r.property()],q.prototype,"canListData",void 0);h([r.property()],q.prototype,"canListPreProvisionedItems",void 0);h([r.property()],
q.prototype,"canProvisionDirectPurchase",void 0);h([r.property()],q.prototype,"canSearchPublic",void 0);h([r.property()],q.prototype,"canShareBingPublic",void 0);h([r.property()],q.prototype,"canSharePublic",void 0);h([r.property()],q.prototype,"canSignInArcGIS",void 0);h([r.property()],q.prototype,"canSignInIDP",void 0);h([r.property()],q.prototype,"colorSetsGroupQuery",void 0);h([r.property()],q.prototype,"commentsEnabled",void 0);h([r.property({type:Date})],q.prototype,"created",void 0);h([r.property()],
q.prototype,"credential",void 0);h([r.property()],q.prototype,"culture",void 0);h([r.property()],q.prototype,"currentVersion",void 0);h([r.property()],q.prototype,"customBaseUrl",void 0);h([r.property()],q.prototype,"defaultBasemap",void 0);h([r.reader("defaultBasemap")],q.prototype,"readDefaultBasemap",null);h([r.property({type:y})],q.prototype,"defaultExtent",void 0);h([r.property()],q.prototype,"defaultVectorBasemap",void 0);h([r.reader("defaultVectorBasemap")],q.prototype,"readDefaultVectorBasemap",
null);h([r.property()],q.prototype,"description",void 0);h([r.property()],q.prototype,"eueiEnabled",void 0);h([r.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],q.prototype,"extraQuery",null);h([r.property()],q.prototype,"featuredGroups",void 0);h([r.property()],q.prototype,"featuredItemsGroupQuery",void 0);h([r.property()],q.prototype,"galleryTemplatesGroupQuery",void 0);h([r.property()],q.prototype,"livingAtlasGroupQuery",void 0);h([r.property()],q.prototype,"hasCategorySchema",
void 0);h([r.property()],q.prototype,"helpBase",void 0);h([r.property()],q.prototype,"helperServices",void 0);h([r.property()],q.prototype,"helpMap",void 0);h([r.property()],q.prototype,"homePageFeaturedContent",void 0);h([r.property()],q.prototype,"homePageFeaturedContentCount",void 0);h([r.property()],q.prototype,"httpPort",void 0);h([r.property()],q.prototype,"httpsPort",void 0);h([r.property()],q.prototype,"id",void 0);h([r.property()],q.prototype,"ipCntryCode",void 0);h([r.property({dependsOn:["access"],
readOnly:!0})],q.prototype,"isOrganization",null);h([r.property()],q.prototype,"isPortal",void 0);h([r.property()],q.prototype,"layerTemplatesGroupQuery",void 0);h([r.property()],q.prototype,"maxTokenExpirationMinutes",void 0);h([r.property({type:Date})],q.prototype,"modified",void 0);h([r.property()],q.prototype,"name",void 0);h([r.property()],q.prototype,"portalHostname",void 0);h([r.property()],q.prototype,"portalMode",void 0);h([r.property()],q.prototype,"portalProperties",void 0);h([r.property()],
q.prototype,"region",void 0);h([r.property({dependsOn:["url"],readOnly:!0})],q.prototype,"restUrl",null);h([r.property()],q.prototype,"rotatorPanels",void 0);h([r.property()],q.prototype,"showHomePageDescription",void 0);h([r.property()],q.prototype,"staticImagesUrl",void 0);h([r.property()],q.prototype,"stylesGroupQuery",void 0);h([r.property()],q.prototype,"supportsHostedServices",void 0);h([r.property()],q.prototype,"symbolSetsGroupQuery",void 0);h([r.property()],q.prototype,"templatesGroupQuery",
void 0);h([r.property()],q.prototype,"thumbnail",void 0);h([r.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],q.prototype,"thumbnailUrl",null);h([r.property()],q.prototype,"units",void 0);h([r.property()],q.prototype,"url",void 0);h([r.property()],q.prototype,"urlKey",void 0);h([r.reader("urlKey")],q.prototype,"readUrlKey",null);h([r.property()],q.prototype,"user",void 0);h([r.reader("user")],q.prototype,"readUser",null);h([r.property()],q.prototype,"useStandardizedQuery",void 0);h([r.property()],
q.prototype,"useVectorBasemaps",void 0);h([r.property()],q.prototype,"vectorBasemapGalleryGroupQuery",void 0);h([k(1,r.cast(G))],q.prototype,"_queryPortal",null);return q=v=h([r.subclass("esri.portal.Portal")],q)}(r.declared(q,v))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(b,a){return function(n,g){a(n,g,b)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper @dojo/framework/shim/global ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils @dojo/framework/shim/Promise".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q){function l(a,b){var c=d.createAbortController();return d.create(function(d,e){v(c.signal,a,b).then(d).catch(e)},function(){c.abort()})}function v(a,b,c){return g(this,void 0,void 0,function(){var l,h,g,k,v,p,t,w;return m(this,function(m){switch(m.label){case 0:return l=q.isDataProtocol(b),(h=q.isBlobProtocol(b))||l||(b=q.normalize(b)),g={url:b,requestOptions:n({},c)},(k=q.getInterceptor(b))?[4,B(k,g)]:[3,2];case 1:v=m.sent();if(null!=v)return[2,{data:v,getHeader:U,
requestOptions:g.requestOptions,url:g.url}];k.after||k.error||(k=null);m.label=2;case 2:b=g.url;c=g.requestOptions;if("image"===c.responseType){if(f("host-webworker"))throw y("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),g);}else if(l)throw y("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+c.responseType),g);if("head"===c.method){if(c.body)throw y("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
g);if(l||h)throw y("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),g);}return[4,G()];case 3:m.sent();if(O)return[2,O.execute(b,c)];p=d.createAbortController();d.onAbort(a,function(){return p.abort()});d.onAbort(c,function(){return p.abort()});t={controller:p,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:k,params:g,redoRequest:!1,useIdentity:e.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,J(t)];case 4:return w=
m.sent(),k&&k.after&&k.after(w),[2,w]}})})}function x(a){q.isBlobProtocol(a)||q.isDataProtocol(a)||(a=q.getOrigin(a))&&-1===l._corsServers.indexOf(a)&&l._corsServers.push(a)}function w(a){a=q.getOrigin(a);return!a||t.endsWith(a,".arcgis.com")||q.hasSameOrigin(a,q.appUrl)||-1!==l._corsServers.indexOf(a)||q.isTrustedServer(a)}function r(){var a;try{a=new DOMException("Aborted","AbortError")}catch(fa){a=Error("Aborted"),a.name="AbortError"}return a}function y(a,b,d,e){var f="Error",l={url:d.url,requestOptions:d.requestOptions,
getHeader:U,ssl:!1};if(b instanceof p)return b.details?(b.details=c.clone(b.details),b.details.url=d.url,b.details.requestOptions=d.requestOptions):b.details=l,b;if(b){d=e&&function(a){return e.headers.get(a)};var h=e&&e.status,g=b.message;g&&(f=g);d&&(l.getHeader=d);l.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||h||0;l.subCode=b.subcode;l.messageCode=b.messageCode;l.messages="string"===typeof b.details?[b.details]:b.details}a=new p(a,f,l);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}
function G(){return g(this,void 0,void 0,function(){return m(this,function(a){switch(a.label){case 0:return f("host-webworker")?O?[3,2]:[4,new Promise(function(a,c){b(["./core/workers/request"],a,c)})]:[3,3];case 1:O=a.sent(),a.label=2;case 2:return[3,6];case 3:if(I)return[3,6];if(!f("esri-abortable-fetch"))return[3,4];I=h.default.fetch;return[3,6];case 4:return[4,new Promise(function(a,c){b(["whatwg-fetch"],a,c)})];case 5:I=a.sent().fetch,a.label=6;case 6:return[2]}})})}function C(){return g(this,
void 0,void 0,function(){return m(this,function(a){switch(a.label){case 0:return k.id?[3,2]:[4,new Promise(function(a,c){b(["./identity/IdentityManager"],a,c)})];case 1:a.sent(),a.label=2;case 2:return[2]}})})}function D(a){return g(this,void 0,void 0,function(){var b,c,e,l,g,q,v,p;return m(this,function(m){switch(m.label){case 0:b=a.params.url;c=a.params.requestOptions;e=a.controller.signal;l=c.body;v=q=g=null;N&&"HTMLFormElement"in h.default&&(l instanceof FormData?g=l:l instanceof HTMLFormElement&&
(q=l,g=new FormData(q)));"string"===typeof l&&(v=l);a.fetchOptions={cache:c.cacheBust&&f("esri-abortable-fetch")?"reload":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:e};if(g||v)a.fetchOptions.body=g||v;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||g&&g.get&&g.get("token")||q&&q.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||A(b)||d.isAborted(e))return[3,
11];p=void 0;return"immediate"!==c.authMode?[3,3]:[4,C()];case 1:return m.sent(),[4,k.id.getCredential(b,{signal:e})];case 2:return p=m.sent(),a.credential=p,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,C()];case 4:m.sent(),m.label=5;case 5:return m.trys.push([5,7,,8]),[4,k.id.checkSignInStatus(b)];case 6:return p=m.sent(),[3,8];case 7:return m.sent(),[3,8];case 8:return[3,10];case 9:k.id&&(p=k.id.findCredential(b)),m.label=10;case 10:p&&(a.credentialToken=p.token,a.useSSL=!!p.ssl),m.label=
11;case 11:return[2]}})})}function A(a){return R.some(function(b){return b.test(a)})}function z(a){return g(this,void 0,void 0,function(){var b,c,l,h,g,v,p,t,r,G,C,D,A,L,B,z,J,E,ha,U,O,P,Q,R,ga,ka;return m(this,function(m){switch(m.label){case 0:b=a.params.url;c=a.params.requestOptions;l=a.fetchOptions;h=q.isBlobProtocol(b)||q.isDataProtocol(b);g=c.responseType||"json";v=h?0:null!=c.timeout?c.timeout:e.request.timeout;p=!1;if(!h){a.useSSL&&(b=q.toHTTPS(b));c.cacheBust&&"default"===l.cache&&(b=q.addQueryParameter(b,
"request.preventCache",Date.now()));t=n({},c.query);a.credentialToken&&(t.token=a.credentialToken);r=q.objectToQuery(t);f("esri-url-encodes-apostrophe")&&(r=r.replace(/'/g,"%27"));G=b.length+1+r.length;C=void 0;p="post"===c.method||!!c.body||G>e.request.maxUrlLength;if(D=c.useProxy||!!q.getProxyRule(b))A=q.getProxyUrl(b),C=A.path,!p&&C.length+1+G>e.request.maxUrlLength&&(p=!0),A.query&&(t=n({},A.query,t));if("HEAD"===l.method&&(p||D)){if(p){if(G>e.request.maxUrlLength)throw y("request:invalid-parameters",
Error("URL exceeds maximum length"),a.params);throw y("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(D)throw y("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}p?(l.method="POST",c.body?b=q.addQueryParameters(b,t):(l.body=q.objectToQuery(t),l.headers["Content-Type"]="application/x-www-form-urlencoded")):b=q.addQueryParameters(b,t);D&&(a.useProxy=!0,b=C+"?"+b);t.token&&N&&l.body instanceof FormData&&(L=l.body,
L.set?L.set("token",t.token):L.append("token",t.token));c.hasOwnProperty("withCredentials")?a.withCredentials=c.withCredentials:q.isTrustedServer(b)?a.withCredentials=!0:k.id&&(B=k.id.findServerInfo(b))&&B.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(l.credentials="include")}z=0;J=!1;0<v&&(z=setTimeout(function(){J=!0;a.controller.abort()},v));m.label=1;case 1:return m.trys.push([1,24,25,26]),"image"!==c.responseType||"default"!==l.cache||"GET"!==l.method||p||F(c.headers)||!h&&!a.useProxy&&
e.request.proxyUrl&&!w(b)?[3,3]:[4,K(b,a)];case 2:return ha=m.sent(),[3,23];case 3:return[4,I(b,l)];case 4:E=m.sent();a.useProxy||x(b);if(!E.ok||"HEAD"===l.method)return[3,23];U=g;switch(U){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7];case "document":return[3,9];case "json":return[3,11];case "xml":return[3,13]}return[3,15];case 5:return[4,E.arrayBuffer()];case 6:return ha=m.sent(),[3,17];case 7:return[4,E.blob()];case 8:return ha=m.sent(),[3,17];case 9:return O=
H,[4,E.text()];case 10:return ha=O.apply(void 0,[m.sent(),"text/html"]),[3,17];case 11:return[4,E.text()];case 12:return P=m.sent(),ha=JSON.parse(P||null),[3,17];case 13:return Q=H,[4,E.text()];case 14:return ha=Q.apply(void 0,[m.sent(),"application/xml"]),[3,17];case 15:return[4,E.text()];case 16:return ha=m.sent(),[3,17];case 17:z&&(clearTimeout(z),z=0);R=E.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(R)||!(ha instanceof ArrayBuffer&&750>=ha.byteLength||ha instanceof Blob&&
750>=ha.size))return[3,21];m.label=18;case 18:return m.trys.push([18,20,,21]),[4,(new Response(ha)).json()];case 19:return ga=m.sent(),ga.error&&(ha=ga),[3,21];case 20:return m.sent(),[3,21];case 21:return"image"===g&&ha instanceof Blob?[4,K(URL.createObjectURL(ha),a,!0)]:[3,23];case 22:ha=m.sent(),m.label=23;case 23:return[3,26];case 24:ka=m.sent();if("AbortError"===ka.name){if(J)throw Error("Timeout exceeded");throw d.createAbortError("Request canceled");}if(!E&&ka instanceof TypeError&&e.request.proxyUrl&&
!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,q.addProxyRule({proxyUrl:e.request.proxyUrl,urlPrefix:q.removeFile(q.urlToObject(b).path)});else throw ka;return[3,26];case 25:return z&&clearTimeout(z),[7];case 26:return[2,[E,ha]]}})})}function B(a,b){return g(this,void 0,void 0,function(){var c,d,e;return m(this,function(f){switch(f.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=n({},b.requestOptions.headers,a.headers));
a.query&&(b.requestOptions.query=n({},b.requestOptions.query,a.query));if(!a.before)return[3,5];d=c=void 0;f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a.before(b)];case 2:return d=f.sent(),[3,4];case 3:return e=f.sent(),c=y("request:interceptor",e,b),[3,4];case 4:if(d instanceof Error||d instanceof p)c=y("request:interceptor",d,b);if(c)throw a.error&&a.error(c),c;return[2,d];case 5:return[2]}})})}function F(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;
return!1}function H(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(S){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}function J(a){return g(this,void 0,void 0,function(){var b,c,d,f,l,h,g,v,p,t,w;return m(this,function(m){switch(m.label){case 0:return[4,D(a)];case 1:m.sent(),m.label=2;case 2:m.trys.push([2,8,,9]),m.label=3;case 3:return[4,z(a)];case 4:b=m.sent(),c=b[0],d=b[1],m.label=5;case 5:return[4,E(a,c,d)];case 6:if(!m.sent())return[3,
3];m.label=7;case 7:return[3,9];case 8:throw f=m.sent(),l=y("request:server",f,a.params,c),l.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(l),l;case 9:return h=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(h)&&!a.hasToken&&!a.credentialToken&&d&&d.user&&d.user.username&&!q.isTrustedServer(h)&&(g=q.getOrigin(h,!0))&&e.request.trustedServers.push(g),(v=a.credential)&&k.id&&(t=(p=k.id.findServerInfo(v.server))&&p.owningSystemUrl)&&(t=t.replace(/\/?$/,"/sharing"),
(w=k.id.findCredential(t,v.userId))&&-1===k.id._getIdenticalSvcIdx(t,w)&&w.resources.unshift(t)),[2,{data:d,getHeader:c?function(a){return c.headers.get(a)}:U,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function E(a,b,d){return g(this,void 0,void 0,function(){var e,f,l,h,g;return m(this,function(q){switch(q.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);d&&d.error&&
(e=c.mixin(Error(),d.error));e&&(f=Number(e.code),l=e.hasOwnProperty("subcode")?Number(e.subcode):null,h=(h=e.messageCode)&&h.toUpperCase());return 403===f&&(4===l||e.message&&-1<e.message.toLowerCase().indexOf("ssl")&&-1===e.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,4]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return a.useIdentity&&"no-prompt"!==a.params.requestOptions.authMode&&-1!==P.indexOf(f)&&!A(a.params.url)&&(403!==f||-1===Q.indexOf(h)&&(null==l||2===l&&a.credentialToken))?[4,C()]:
[3,4];case 2:return q.sent(),[4,k.id.getCredential(a.params.url,{error:y("request:server",e,a.params),signal:a.controller.signal,token:a.credentialToken})];case 3:return g=q.sent(),a.credential=g,a.credentialToken=g.token,a.useSSL=a.useSSL||g.ssl,[2,!1];case 4:if(e)throw e;return[2,!0]}})})}function K(a,b,c){void 0===c&&(c=!1);return d.create(function(e,l){var h=b.controller.signal;if(d.isAborted(h))return l(r());var g=new Image;g.crossOrigin=b.withCredentials?"use-credentials":"anonymous";var k=
function(){p();l(Error("Unable to load "+a))},q=function(){p();e(g)},v=function(){p();g.src="";l(r())},p=function(){f("esri-image-decode")||(g.removeEventListener("error",k),g.removeEventListener("load",q));h.removeEventListener("abort",v);c&&URL.revokeObjectURL(a)};g.alt="";g.src=a;f("esri-image-decode")?g.decode().then(q,k):(g.addEventListener("error",k),g.addEventListener("load",q));h.addEventListener("abort",v)})}var I,O,N="FormData"in h.default,P=[499,498,403,401],Q=["COM_0056","COM_0057"],R=
[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],U=function(){return null};l._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return l})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(b,a,n,g,m,h,e,k,p){function f(a){var b={path:null,query:null},d=new ma(a),e=a.indexOf("?");null===d.query?b.path=a:(b.path=a.substring(0,e),b.query=
c(d.query));d.fragment&&(b.hash=d.fragment,null===d.query&&(b.path=b.path.substring(0,b.path.length-(d.fragment.length+1))));return b}function c(a){var b={},c=0;for(a=a.split("\x26");c<a.length;c++){var d=a[c];if(d){var e=d.indexOf("\x3d"),f=void 0,l=void 0;0>e?(f=decodeURIComponent(d),l=""):(f=decodeURIComponent(d.slice(0,e)),l=decodeURIComponent(d.slice(e+1)));d=b[f];"string"===typeof d&&(d=b[f]=[d]);Array.isArray(d)?d.push(l):b[f]=l}}return b}function d(a){return a&&"object"===typeof a&&"toJSON"in
a&&"function"===typeof a.toJSON}function t(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(c){return encodeURIComponent(c)+"\x3d"+encodeURIComponent(b(c,a[c]))}).join("\x26"):Object.keys(a).map(function(c){var e=a[c];if(null==e)return"";var f=encodeURIComponent(c)+"\x3d";return(c=b&&b[c])?f+encodeURIComponent(c(e)):Array.isArray(e)?e.map(function(a){return d(a)?f+encodeURIComponent(JSON.stringify(a)):f+encodeURIComponent(a)}).join("\x26"):d(e)?f+encodeURIComponent(JSON.stringify(e)):
f+encodeURIComponent(e)}).filter(function(a){return a}).join("\x26"):""}function q(a){var b=a.indexOf("?");-1!==b?(ba.path=a.slice(0,b),ba.query=a.slice(b+1)):(ba.path=a,ba.query=null);return ba}function l(a){a=q(a).path;a&&"/"===a[a.length-1]||(a+="/");a=P(a,!0);return a=a.toLowerCase()}function v(a){var b=T.proxyRules;a=l(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function x(a){a=G(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function w(a,
b,c){void 0===c&&(c=!1);a=U(a);b=U(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function r(b,c,d){void 0===c&&(c=a.appBaseUrl);if(E(b))return d&&d.preserveProtocolRelative?b:"http"===a.appUrl.scheme&&a.appUrl.authority===D(b).slice(2)?"http:"+b:"https:"+b;if(!K(b)){d=C;if("/"===b[0]){var e=c.indexOf("//"),e=c.indexOf("/",e+2);c=-1===e?c:c.slice(0,e)}return d(c,b)}return b}function y(b,c,d){void 0===c&&(c=a.appBaseUrl);if(!A(b))return b;var e=G(b),
f=e.toLowerCase();c=G(c).toLowerCase().replace(/\/+$/,"");if((d=d?G(d).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(d))return b;for(var l=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},h=l(f,"/",f.indexOf("//")+2),g=-1;f.slice(0,h+1)===c.slice(0,h)+"/";){g=h+1;if(h===f.length)break;h=l(f,"/",h+1)}if(-1===g||d&&g<d.length)return b;b=e.slice(g);e=c.slice(g-1).replace(/[^/]+/g,"").length;if(0<e)for(f=0;f<e;f++)b="../"+b;else b="./"+b;return b}function G(a){a=a.trim();a=r(a);if(/^https?:\/\//i.test(a)){var b=
q(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=Q(a)}function C(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(A(a[0])){var c=a[0],d=c.indexOf("//");b.push(c.slice(0,d+1));aa.test(a[0])&&(b[0]+="/");a[0]=c.slice(d+2)}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)d=a[c],".."===d&&0<b.length&&
".."!==b[b.length-1]?b.pop():!d||"."===d&&0!==b.length||b.push(d);return b.join("/")}}function D(a,b){void 0===b&&(b=!1);if(z(a)||B(a))return null;var c=a.indexOf("://");if(-1===c&&E(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);-1!==c&&(a=a.slice(0,c));b&&(a=P(a,!0));return a}function A(a){return E(a)||K(a)}function z(a){return"blob:"===a.slice(0,5)}function B(a){return"data:"===a.slice(0,5)}function F(a){a=H(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),
c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function H(a){return(a=a.match(sa))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function J(a){var b=F(a);if(!b)return null;a=H(a);return new Blob([b],{type:a.mediaType})}function E(a){return a&&"/"===a[0]&&"/"===a[1]}function K(a){return u.test(a)}function I(b){return M.test(b)||"http"===a.appUrl.scheme&&E(b)}function O(a){return E(a)?"https:"+a:a.replace(M,"https:")}function N(){return"https"===a.appUrl.scheme}function P(a,b){void 0===b&&
(b=!1);if(E(a))return a.slice(2);a=a.replace(u,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function Q(b){var c=T.httpsDomains;if(!I(b))return b;var d=b.indexOf("/",7),e;e=-1===d?b:b.slice(0,d);e=e.toLowerCase().slice(7);if(ja.test(e))if(p.endsWith(e,":80"))e=e.slice(0,-3),b=b.replace(":80","");else return b;if("http"===a.appUrl.scheme&&e===a.appUrl.authority&&!na.test(b))return b;if(N()&&e===a.appUrl.authority||c&&c.some(function(a){return e===a||p.endsWith(e,"."+a)})||N()&&
!v(b))b=O(b);return b}function R(a,b,c){if(!(b&&c&&a&&A(a)))return a;var d=a.indexOf("//"),e=a.indexOf("/",d+2),f=a.indexOf(":",d+2),e=Math.min(0>e?a.length:e,0>f?a.length:f);if(a.slice(d+2,e).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,d+2);a=a.slice(e);return""+b+c+a}function U(b){if("string"===typeof b)return new ma(r(b));b.scheme||(b.scheme=a.appUrl.scheme);return b}function L(b,c){var d=c&&c.url&&c.url.path;b&&d&&(b=r(b,d,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&
c.urlKey&&c.customBaseUrl?(d=c.urlKey+"."+c.customBaseUrl,c=w(a.appUrl,a.appUrl.scheme+"://"+d)?R(b,c.portalHostname,d):R(b,d,c.portalHostname)):c=b;return c}function fa(a,b){if(!a)return a;!A(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=r(a);if(b){var d=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;d&&(c=y(c,d,d),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?
R(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;A(c)&&(c=G(c));return c}function Y(a,b,c){a=f(a);var d=a.query||{};d[b]=String(c);return a.path+"?"+t(d)}Object.defineProperty(a,"__esModule",{value:!0});var S=k.getLogger("esri.core.urlUtils"),T=g.request,u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,M=/^\s*http:/i,X=/^\s*https:/i,aa=/^\s*file:/i,ja=/:\d+$/,na=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,la=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,ia=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
ma=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(la);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(ia),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=
function(){return this.uri};return a}();a.Url=ma;a.appUrl=new ma(g.applicationUrl);a.trustedServersUrlCache={};a.appBaseUrl=function(){var b=a.appUrl.path,b=b.substring(0,b.lastIndexOf(b.split("/")[b.split("/").length-1]));return""+(a.appUrl.scheme+"://"+a.appUrl.host+(null!=a.appUrl.port?":"+a.appUrl.port:""))+b}();a.urlToObject=f;a.queryToObject=c;a.objectToQuery=t;a.getProxyUrl=function(b){void 0===b&&(b=!1);var c,d=T.proxyUrl;if("string"===typeof b){if(c=b,c=X.test(c)||"https"===a.appUrl.scheme&&
E(c),b=v(b))d=b.proxyUrl}else c=!!b;if(!d)throw S.warn("esri/config: esriConfig.request.proxyUrl is not set."),new h("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");c&&N()&&(d=O(d));return f(d)};a.addProxy=function(a){var b=v(a),d,e;b&&(e=q(b.proxyUrl),d=e.path,e=e.query?c(e.query):null);d&&(b=f(a),a=d+"?"+b.path,(d=t(n({},e,b.query)))&&(a=a+"?"+d));return a};var ba={path:"",query:""};a.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:l(a.urlPrefix)};for(var b=
T.proxyRules,c=a.urlPrefix,d=b.length,e=0;e<b.length;e++){var f=b[e].urlPrefix;if(0===c.indexOf(f)){if(c.length===f.length)return-1;d=e;break}0===f.indexOf(c)&&(d=e+1)}b.splice(d,0,a);return d};a.getProxyRule=v;a.hasSamePortal=function(a,b){a=x(a);b=x(b);return P(a)===P(b)};a.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&p.startsWith(a,b)},c=T.interceptors;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(Array.isArray(e.urls)){if(e.urls.some(b))return e}else if(b(e.urls))return e}return null};
a.hasSameOrigin=w;a.isTrustedServer=function(b){if("string"===typeof b)if(A(b))b=U(b);else return!0;for(var c=T.trustedServers||[],d=0;d<c.length;d++){var e;e=c[d];a.trustedServersUrlCache[e]||(K(e)||E(e)?a.trustedServersUrlCache[e]=[new ma(r(e))]:a.trustedServersUrlCache[e]=[new ma("http://"+e),new ma("https://"+e)]);e=a.trustedServersUrlCache[e];for(var f=0;f<e.length;f++)if(w(b,e[f]))return!0}return!1};a.makeAbsolute=r;a.makeRelative=y;a.normalize=G;a.join=C;a.getOrigin=D;a.isAbsolute=A;a.isBlobProtocol=
z;a.isDataProtocol=B;a.dataToArrayBuffer=F;var sa=/^data:(.*?)(;base64)?,(.*)$/;a.dataComponents=H;a.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};a.dataToBlob=J;a.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var d=null;if(e.URL&&e.URL.createObjectURL){d=J(a);if(!d){c=!1;break a}d=e.URL.createObjectURL(d)}c.download=b;c.href=d||a;c.style.display="none";document.body.appendChild(c);c.click();
document.body.removeChild(c);d&&e.URL.revokeObjectURL(d);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(J(a),b)};a.isProtocolRelative=E;a.hasProtocol=K;a.toHTTP=function(a){return E(a)?"http:"+a:a.replace(X,"http:")};a.toHTTPS=O;a.isAppHTTPS=N;a.removeFile=function(a){var b=0;if(A(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};a.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};a.changeDomain=R;a.fromJSON=
L;a.read=function(a,b,c){return L(a,c)};a.toJSON=fa;a.write=function(a,b,c,d){(a=fa(a,d))&&(b[c]=a)};a.isSVG=function(a){return va.test(a)};a.removeQueryParameters=function(a,b){a=f(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+".");return a.path};a.addQueryParameter=Y;a.addQueryParameters=function(a,b){a=f(a);var c=a.query||{},d;for(d in b)c[d]=b[d];return(b=t(c))?
a.path+"?"+b:a.path};a.removeQueryParameter=function(a,b){var c=f(a),d=c.path,c=c.query;if(!c)return a;delete c[b];return(a=t(c))?d+"?"+a:d};a.addTokenParameter=function(a){var b=m.id&&m.id.findCredential(a);return b&&b.token?Y(a,"token",b.token):a};var va=/(^data:image\/svg|\.svg$)/i})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c){b=function(a){function b(){var b=a.call(this)||this;b.loadError=null;b.loadStatus="not-loaded";b.loadWarnings=null;b._set("loadWarnings",[]);b.addResolvingPromise(p.create(function(a){var c=b.load.bind(b);b.load=function(d){var e=p.create(function(a,c){p.onAbort(d,c);b._promiseProps.when(a,c)});if("not-loaded"===b.loadStatus){b._set("loadStatus","loading");var f=b._loadController=p.createAbortController();c({signal:f.signal});p.onAbort(f.signal,function(){b._promiseProps.abort()})}a();
return e}}));b.when(function(){b._set("loadStatus","loaded");b._loadController=null},function(a){b._set("loadStatus","failed");b._set("loadError",a);b._loadController=null});return b}n(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=function(a){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new h("load:cancelled","Cancelled"));this._loadController.abort();
return this};g([c.property({readOnly:!0,dependsOn:["loadStatus"]})],b.prototype,"loaded",null);g([c.property({readOnly:!0})],b.prototype,"loadError",void 0);g([c.property()],b.prototype,"loadStatus",void 0);g([c.property({type:[f],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=g([c.subclass("esri.core.Loadable")],b)}(c.declared(m,k));b.prototype["-chains-"]=e.mixin({},m._meta.chains,{load:"after"});return b})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e,k){var p=function(){function a(a){var b=this;this.instance=a;this._resolver=h.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=
function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(h.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=h.createDeferred(),f=this._resolvingPromises.concat([b.promise]),g=this._allPromise=h.all(f);g.then(function(){a.isFulfilled()||a._allPromise!==g||
a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==g||h.isAbortError(b)||a._resolver.reject(b)});e.schedule(function(){b.resolve()})}};return a}();return function(a){function b(){var b=a.call(this)||this;b._promiseProps=new p(b);b.addResolvingPromise(h.create(function(a){e.schedule(a)}));return b}n(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=
function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return h.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return b=g([k.subclass("esri.core.Promise")],b)}(k.declared(m))})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper",
"./tsSupport/decorateHelper","./Message"],function(b,a,n,g,m){b=function(a){function b(e,h,f){var c=a.call(this,e,h,f)||this;return c instanceof b?c:new b(e,h,f)}n(b,a);return b}(m);b.prototype.type="warning";return b})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){var t=new e.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}g(b,a);e=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});b.prototype.clone=function(){return new e({categories:this.categories?k.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var e;this.categories&&(e=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var f;if(this.extent){var l=d.project(this.extent,
c.WGS84);l&&(f=l.xmin+","+l.ymin+","+l.xmax+","+l.ymax)}l=this.query;!this.disableExtraQuery&&a.extraQuery&&(l="("+l+")"+a.extraQuery);a={categories:e,bbox:f,q:l,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=t.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:n({},b,a)}};var e;m([p.property()],b.prototype,"categories",void 0);m([p.property()],b.prototype,"disableExtraQuery",void 0);m([p.property({type:f})],b.prototype,"extent",void 0);m([p.property()],
b.prototype,"num",void 0);m([p.property()],b.prototype,"query",void 0);m([p.property()],b.prototype,"sortField",void 0);m([p.property()],b.prototype,"sortOrder",null);m([p.property()],b.prototype,"start",void 0);return b=e=m([p.subclass("esri.portal.PortalQueryParams")],b)}(p.declared(h))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(b,
a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}n(b,a);g([h.property()],b.prototype,"nextQueryParams",void 0);g([h.property()],b.prototype,"queryParams",void 0);g([h.property()],b.prototype,"results",void 0);g([h.property()],b.prototype,"total",void 0);return b=g([h.subclass("esri.portal.PortalQueryResult")],b)}(h.declared(m))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(b,a,n,g,m,h,e,k,p,f){return function(a){function c(){var b=a.call(this)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.units=null;b.username=null;b.userType=null;return b}n(c,a);Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+
b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});c.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var e={method:"post"};
c&&(e.query=c._getPostQuery(),null!=d&&("string"===typeof d?e.query.text=d:"object"===typeof d&&(e.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+("string"===typeof a?a:a.id));return this.portal._request(d+"/addItem",e).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};c.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};c.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):e.resolve(void 0)};c.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=p.fromJSON(b);b.portal=
a.portal;return b}):[]})};c.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=f.fromJSON(b);b.portal=a.portal;return b}):[]})};c.prototype.fetchItems=function(a){var c=this;a||(a={});var d=this.userContentUrl;a.folder&&(d+="/"+a.folder.id);var f;return e.create(function(a){return b(["./PortalItem"],a)}).then(function(b){f=b;return c.portal._request(d,{query:{folders:!1,num:a.num||10,start:a.start||1}})}).then(function(a){var b;
return a&&a.items?(b=a.items.map(function(a){a=f.fromJSON(a);a.portal=c.portal;return a}),e.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new f({id:this.favGroupId,portal:this.portal})),
this._favGroup.queryItems(a)):e.reject(new m("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};c.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};g([k.property()],c.prototype,"access",void 0);g([k.property({type:Date})],c.prototype,"created",void 0);g([k.property()],c.prototype,"culture",void 0);g([k.property()],c.prototype,"description",void 0);g([k.property()],c.prototype,"email",void 0);g([k.property()],
c.prototype,"favGroupId",void 0);g([k.property()],c.prototype,"fullName",void 0);g([k.property({type:Date})],c.prototype,"modified",void 0);g([k.property()],c.prototype,"orgId",void 0);g([k.property()],c.prototype,"portal",void 0);g([k.property()],c.prototype,"preferredView",void 0);g([k.property()],c.prototype,"privileges",void 0);g([k.property()],c.prototype,"region",void 0);g([k.property()],c.prototype,"role",void 0);g([k.property()],c.prototype,"roleId",void 0);g([k.property()],c.prototype,"thumbnail",
void 0);g([k.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);g([k.property()],c.prototype,"units",void 0);g([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"userContentUrl",null);g([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"url",null);g([k.property()],c.prototype,"username",void 0);g([k.property()],c.prototype,"userType",void 0);return c=g([k.subclass("esri.portal.PortalUser")],c)}(k.declared(h))})},
"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}n(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+
"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};g([e.property({type:Date})],b.prototype,"created",void 0);g([e.property()],b.prototype,"id",void 0);g([e.property()],b.prototype,"portal",void 0);g([e.property()],b.prototype,"title",void 0);g([e.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);g([e.property()],b.prototype,"username",void 0);return b=
g([e.subclass("esri.portal.PortalFolder")],b)}(e.declared(h))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),function(b,a,n,g,m,h,e,k,p){return function(a){function b(b){b=a.call(this)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=
null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}n(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=
function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new h("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){if(5<parseFloat(this.portal.currentVersion))return a=a||new p,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new p;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,b)};b.prototype._fetchCategorySchemaSet=function(a,b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var d=
new p;d.disableExtraQuery=!0;d.num=1;d.query=a;return c.portal.queryGroups(d,b)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var d=new p;d.num=1;d.query='typekeywords:"'+a+'"';return c.queryItems(d,b)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&
a.length?a:[]}):[]})};g([k.property()],b.prototype,"access",void 0);g([k.property({type:Date})],b.prototype,"created",void 0);g([k.property()],b.prototype,"description",void 0);g([k.property()],b.prototype,"id",void 0);g([k.property()],b.prototype,"isInvitationOnly",void 0);g([k.property({type:Date})],b.prototype,"modified",void 0);g([k.property()],b.prototype,"owner",void 0);g([k.property()],b.prototype,"portal",void 0);g([k.property()],b.prototype,"snippet",void 0);g([k.property()],b.prototype,
"sortField",void 0);g([k.property()],b.prototype,"sortOrder",void 0);g([k.property()],b.prototype,"tags",void 0);g([k.property()],b.prototype,"thumbnail",void 0);g([k.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);g([k.property()],b.prototype,"title",void 0);g([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);g([m(0,k.cast(p))],b.prototype,"queryItems",null);return b=g([k.subclass("esri.portal.PortalGroup")],
b)}(k.declared(e))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h,e,k,p,f){var c=new k.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",
PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),d=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+d++;b.type=null;return b}n(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a,b,c){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,
b){return h(this,void 0,void 0,function(){return m(this,function(a){return[2]})})};b.prototype.clone=function(){};g([f.property({type:c.apiValues,json:{read:c.read,write:{ignoreOrigin:!0,writer:c.write}}})],b.prototype,"type",void 0);g([f.property({type:e,value:new e([0,0,0,1]),json:{write:{allowNull:!0}}})],b.prototype,"color",null);g([f.reader("color")],b.prototype,"readColor",null);return b=g([f.subclass("esri.symbols.Symbol")],b)}(f.declared(p))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/asyncUtils ../../core/Logger ../../core/promiseUtils".split(" "),
function(b,a,n,g,m,h,e,k,p){function f(a,b,d){return n(this,void 0,void 0,function(){var f,l,h,k;return g(this,function(g){switch(g.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];f=a.styleName;if(!Array.isArray(f))return[3,2];l=f.map(function(f){return e.safeCast(c(f,a.styleUrl,b,d))});h=a;return[4,p.all(l)];case 1:return h.data=g.sent(),[3,4];case 2:return k=a,[4,c(f,a.styleUrl,b,d)];case 3:k.data=g.sent(),g.label=4;case 4:return[2,a]}})})}function c(a,b,c,d){return n(this,void 0,
void 0,function(){var e,f;return g(this,function(g){if(l.has(a))return[2,l.get(a).then(function(a){return q(a.data)})];try{return e=c(b,a),f=h(e,m({responseType:"json",query:{f:"json"}},d)),l.set(a,f),[2,f.then(function(a){return q(a.data)})]}catch(D){return t.error("error requesting "+a+", reason is "+D.message),l.has(a)&&l.delete(a),[2,null]}})})}var d=this;Object.defineProperty(a,"__esModule",{value:!0});var t=k.getLogger("esri/symbols/support/cimSymbolUtils");a.constructUrlFn=function(a,b){return a+
"/resources/styles/cim/"+b+".json"};a.expandSymbols=function(b,c,e){return n(d,void 0,void 0,function(){return g(this,function(d){return[2,p.all(b.map(function(b){return a.expandSymbol(b,c,e)}))]})})};a.expandSymbol=function(a,b,c){return n(d,void 0,void 0,function(){return g(this,function(d){return a?"cim"===a.type?[2,f(a,b,c)]:"web-style"===a.type?[2,a.fetchCIMSymbol(c)]:[2,a]:[2,null]})})};var q=function(a){return null===a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}},
l=new Map})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(b,a,n,g,m,h,e,k,p){return function(a){function b(b){b=a.call(this)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({edges:this.edges&&
this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var d;g([h.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);g([h.property({type:p.default,json:{write:!0}})],b.prototype,"material",void 0);g([h.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],b.prototype,"castShadows",void 0);g([h.property(k.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=d=g([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(h.declared(e))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators ./support/ElevationInfo".split(" "),function(b,a,n,g,m,h,e,k){var p=m.strict()({Icon:"icon",
Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});b=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;b.type=null;return b}n(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};g([e.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);g([e.writer("enabled")],b.prototype,"writeEnabled",null);g([e.property({type:k,json:{read:!1,write:!1}})],b.prototype,"elevationInfo",void 0);g([e.property({type:p.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:p.write}}})],b.prototype,"type",void 0);return b=g([e.subclass("esri.symbols.Symbol3DLayer")],b)}(e.declared(h));(b||(b={})).typeJSONDictionary=p;return b})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c){var d=e.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),t=new e.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);e=b;b.prototype.readFeatureExpressionInfo=function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};
b.prototype.writeFeatureExpressionInfo=function(a,b,c,d){b[c]=a.write(null,d);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(b.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});
b.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};b.prototype.clone=function(){return new e({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var e;g([p.property({type:f,json:{write:!0}})],b.prototype,"featureExpressionInfo",void 0);g([p.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],b.prototype,
"readFeatureExpressionInfo",null);g([p.writer("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],b.prototype,"writeFeatureExpressionInfo",null);g([p.property({type:d.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:d.jsonValues,read:d.read,write:{writer:d.write,isRequired:!0}}})],b.prototype,"mode",null);g([p.property({type:Number,json:{write:!0}})],b.prototype,"offset",void 0);g([p.property({type:c.supportedUnits,json:{type:String,
read:t.read,write:t.write}})],b.prototype,"unit",null);return b=e=g([p.subclass("esri.layers.support.ElevationInfo")],b)}(p.declared(k))})},"esri/symbols/support/FeatureExpressionInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldUtils".split(" "),function(b,a,n,g,m,h,e,k,p){return function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);d=b;b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return m(this,function(c){return[2,p.collectArcadeFieldNames(a,b,this.expression)]})})};b.prototype.clone=function(){return new d({expression:this.expression,title:this.title})};var d;g([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);g([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=d=g([k.subclass("esri.layers.support.FeatureExpressionInfo")],
b)}(k.declared(e))})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.supportsUnit=function(a){return null!=n.meterIn[a]};a.getMetersPerUnit=function(a){return 1/(n.meterIn[a]||1)};a.supportedUnits=function(){var a=Object.keys(n.meterIn);a.sort();return a}()})},"esri/renderers/support/utils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),
function(b,a,n,g,m,h,e,k){function p(a,b,c){var e="";0===b?e=d.lt+" ":b===c&&(e=d.gt+" ");return e+a}function f(a){var b=a.minValue,c=a.maxValue,f=a.isFirstBreak?"":d.gt+" ";a="percent-of-total"===a.normalizationType?d.pct:"";b=null==b?"":e.format(b);c=null==c?"":e.format(c);return f+b+a+" "+d.ld+" "+c+a}Object.defineProperty(a,"__esModule",{value:!0});var c=g.getLogger("esri.renderers.support.utils"),d={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},t={millisecond:0,second:1,
minute:2,hour:3,day:4,month:5,year:6},q={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};a.meterIn={inches:m.convertUnit(1,"meters","inches"),feet:m.convertUnit(1,"meters","feet"),"us-feet":m.convertUnit(1,"meters","us-feet"),yards:m.convertUnit(1,"meters","yards"),miles:m.convertUnit(1,"meters","miles"),"nautical-miles":m.convertUnit(1,
"meters","nautical-miles"),millimeters:m.convertUnit(1,"meters","millimeters"),centimeters:m.convertUnit(1,"meters","centimeters"),decimeters:m.convertUnit(1,"meters","decimeters"),meters:m.convertUnit(1,"meters","meters"),kilometers:m.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/m.lengthToDegrees(1,"meters")};a.timelineDateFormatOptions=h.convertDateFormatToIntlOptions("short-date");a.createColorStops=function(a){var b=a.values,c=a.colors,d=a.labelIndexes,f=a.isDate,l=a.dateFormatOptions;
return b.map(function(a,g){var q=null;if(!d||-1<d.indexOf(g)){var v=void 0;(v=f?h.formatDate(a,l):e.format(a))&&(q=p(v,g,b.length-1))}return new k({value:a,color:c[g],label:q})})};a.updateColorStops=function(a){var b=a.stops,c=a.changes,d=a.isDate,f=a.dateFormatOptions,l=b.map(function(a){return a.value});a=[];for(var g=0;g<c.length;g++){var k=c[g];a.push(k.index);l[k.index]=k.value}var q=e.round(l,{indexes:a});b.forEach(function(a,c){a.value=l[c];if(null!=a.label){var g=void 0,k=null;(g=d?h.formatDate(q[c],
f):e.format(q[c]))&&(k=p(g,c,b.length-1));a.label=k}})};a.createClassBreakLabel=f;a.setLabelsForClassBreaks=function(a){var b=a.classBreakInfos,d=a.normalizationType,h=[];if(b&&b.length)if("standard-deviation"===a.classificationMethod)c.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){h.push(b[0].minValue);for(a=0;a<b.length;a++)h.push(b[a].maxValue);h=e.round(h);b.forEach(function(a,b){a.label=f({minValue:0===b?h[0]:
h[b],maxValue:h[b+1],isFirstBreak:0===b,normalizationType:d})})}else b.forEach(function(a,b){a.label=f({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:d})})};a.updateClassBreak=function(a){if("standard-deviation"===a.classificationMethod)c.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=a.classBreaks,d=a.change,e=d.index,d=d.value,h=b.length,l=-1,g=-1;0===e?l=e:e===h?g=e-1:(g=e-1,l=e);a=a.normalizationType;
e=null;-1<l&&l<h&&(e=b[l],e.minValue=d,e.label=f({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===l,normalizationType:a}));-1<g&&g<h&&(e=b[g],e.maxValue=d,e.label=f({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===g,normalizationType:a}))}};a.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,c=Infinity,d=null,e=0;e<b-1;e++){for(var f=a[e],h=[],l=Infinity,g="",k=e+1;k<b;k++){var q=a[k],q=f.getFullYear()!==q.getFullYear()&&"year"||
f.getMonth()!==q.getMonth()&&"month"||f.getDate()!==q.getDate()&&"day"||f.getHours()!==q.getHours()&&"hour"||f.getMinutes()!==q.getMinutes()&&"minute"||f.getSeconds()!==q.getSeconds()&&"second"||"millisecond",p=t[q];p<l&&(l=p,g=q);h.push(q)}l<c&&(c=l,d=g)}return d};a.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,d=a.fieldInfo;a=a.dateFormatInterval;var f=String(b);(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?f=c:"number"===typeof b&&(f=d&&"date"===d.type?h.formatDate(b,
a&&q[a]):e.format(b));return f}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(b,a,n){function g(a,b){return a-b}function m(a,b){var c;c=Number(a.toFixed(b));c<a?a=c+1/Math.pow(10,b):(a=c,c-=1/Math.pow(10,b));c=Number(c.toFixed(b));a=Number(a.toFixed(b));return[c,a]}function h(a,b,e,f,h){a=k(a,b,e,f);b=null==a.next||a.next<=h;return(null==a.previous||a.previous<=h)&&b||a.previous+a.next<=2*h}function e(a){a=String(a);var b=a.match(p);if(b&&b[1])return{integer:b[1].split("").length,
fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),c=0<b;c||(b=Math.abs(b));a=e(a);c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function k(a,b,e,f){var c={previous:null,next:null};if(null!=e){var d=a-e;c.previous=Math.floor(Math.abs(100*(b-e-d)/d))}null!=f&&(d=f-a,c.next=Math.floor(Math.abs(100*(f-
b-d)/d)));return c}Object.defineProperty(a,"__esModule",{value:!0});var p=/^-?(\d+)(\.(\d+))?$/i;a.numDigits=e;a.percentChange=k;a.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var c=b.tolerance,c=void 0===c?2:c,d=b.strictBounds,d=void 0===d?!1:d;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(g);for(var f=0;f<b.length;f++){var k=b[f],p=a[k],n=0===k?null:a[k-1],r=k===a.length-1?null:a[k+1],y=e(p).fractional;if(y){for(var G=0,C=!1,D=void 0;G<=y&&!C;)C=m(p,G),D=d&&0===f?C[1]:
C[0],C=h(p,D,n,r,c),G++;C&&(a[k]=D)}}return a};var f={maximumFractionDigits:20};a.format=function(a){return n.formatNumber(a,f)}})},"esri/intl":function(){define(["require","exports","./intl/date","./intl/number","./intl/substitute"],function(b,a,n,g,m){Object.defineProperty(a,"__esModule",{value:!0});a.formatDate=n.formatDate;a.convertDateFormatToIntlOptions=n.convertDateFormatToIntlOptions;a.formatNumber=g.formatNumber;a.convertNumberFormatToIntlOptions=g.convertNumberFormatToIntlOptions;a.substitute=
m.substitute})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(b,a,n,g,m,h,e){function k(a){switch(typeof a){case "string":return a;case "number":return e.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?h.formatDate(a):""}}Object.defineProperty(a,"__esModule",{value:!0});var p=n.getLogger("esri.intl");a.substitute=function(a,b,d){void 0===d&&(d={});d=d.format;var c=void 0===d?{}:
d;return m.replace(a,function(a){var d;var f,q=a.indexOf(":");-1===q?f=a.trim():(f=a.slice(0,q).trim(),d=a.slice(q+1).trim());if(f)if(a=g.getDeepValue(f,b),null==a)d="";else if(f=c[d]||c[f])b:switch(f.type){case "date":d=h.formatDate(a,f.intlOptions);break b;case "number":d=e.formatNumber(a,f.intlOptions);break b;default:p.warn("missing format descriptor for key {key}"),d=k(a)}else if(d)b:switch(d.toLowerCase()){case "dateformat":d=h.formatDate(a);break b;case "numberformat":d=e.formatNumber(a);break b;
default:p.warn("inline format is unsupported since 4.12: "+d),d=/^(dateformat|datestring)/i.test(d)?h.formatDate(a):/^numberformat/i.test(d)?e.formatNumber(a):k(a)}else d=k(a);else d="";return d})}})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}n(b,a);c=b;b.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};b.prototype.clone=function(){return new c({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var c;g([e.property({type:m,json:{type:[k.Integer],write:!0}})],b.prototype,"color",void 0);g([e.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);g([e.property({type:Number,
json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);g([e.writer("value")],b.prototype,"writeValue",null);return b=c=g([e.subclass("esri.renderers.visualVariables.support.ColorStop")],b)}(e.declared(h))})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(b,a,n,g,m){function h(a,b,h){if(!a)return a;switch(a.type){case "solid":return b=new m,b.read(a,h),b;case "sketch":return b=new g,b.read(a,h),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.read=h;a.symbol3dEdgesProperty={types:{key:"type",base:n,typeMap:{solid:m,sketch:g}},json:{read:h,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(b,a,n,g,m,h,e,k,p,f,c){return function(a){function b(b){b=
a.call(this)||this;b.color=new h([0,0,0,1]);b.extensionLength=0;b.size=p.px2pt(1);return b}n(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=m({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:k.clone(this.color),size:this.size,extensionLength:this.extensionLength}};g([f.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);g([f.property(c.colorAndTransparencyProperty)],
b.prototype,"color",void 0);g([f.property(m({},c.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);g([f.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=g([f.subclass("esri.symbols.edges.Edges3D")],b)}(f.declared(e))})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(b,a,n,g,m,h){function e(a,b){a=null!=b.transparency?h.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new n([b[0]||0,b[1]||0,b[2]||0,a]):null}function k(a,b){b.color=a.toJSON().slice(0,3);a=h.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}Object.defineProperty(a,"__esModule",{value:!0});a.readColorAndTransparency=e;a.writeColorAndTransparency=k;a.colorAndTransparencyProperty={type:n,json:{type:[m.Integer],default:null,read:{source:["color","transparency"],
reader:e},write:{target:{color:{type:[m.Integer]},transparency:{type:m.Integer}},writer:k}}};a.screenSizeProperty={type:Number,cast:g.toPt,json:{write:!0}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.opacityToTransparency=function(a){a=n.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};a.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-
a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.type="sketch";return b}n(b,a);e=b;b.prototype.clone=function(){return new e(this.cloneProperties())};var e;g([m.property({type:["sketch"]})],b.prototype,"type",void 0);return b=e=g([m.subclass("esri.symbols.edges.SketchEdges3D")],
b)}(m.declared(h))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.type="solid";return b}n(b,a);e=b;b.prototype.clone=function(){return new e(this.cloneProperties())};var e;g([m.property({type:["solid"]})],b.prototype,"type",void 0);return b=e=g([m.subclass("esri.symbols.support.SolidEdges3D")],
b)}(m.declared(h))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,n,g,m,h,e,k){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:h.isSome(this.color)?
this.color.clone():null})};var c;g([e.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=g([e.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(e.declared(m));a.Symbol3DMaterial=b;a.default=b})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),function(b,a,n,g,m,h,e,k){var p=new m.default({esriSFS:"simple-fill",
esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}n(b,a);g([h.property({type:e,json:{default:null,write:!0}})],b.prototype,"outline",void 0);g([h.property({type:p.apiValues,readOnly:!0,json:{type:p.jsonValues}})],b.prototype,"type",void 0);return b=g([h.subclass("esri.symbols.FillSymbol")],b)}(h.declared(k))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(b,a,n,g,m,h,e,k,p){var f=new m.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,e,f,h){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,f,h){if(a&&"string"!==typeof a)return a;var l={};null!=a&&(l.style=a);null!=b&&(l.color=b);null!=c&&(l.width=e.toPt(c));null!=d&&(l.cap=d);null!=f&&(l.join=f);null!=h&&(l.miterLimit=e.toPt(h));return l};b.prototype.clone=function(){return new c({color:h.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var c;g([k.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);g([k.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);g([k.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);g([k.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);g([k.property({type:Number,
json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);return b=c=g([k.subclass("esri.symbols.SimpleLineSymbol")],b)}(k.declared(p))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}n(b,a);g([h.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);g([h.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=g([h.subclass("esri.symbols.LineSymbol")],b)}(h.declared(e))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(b,
a,n,g,m,h,e,k,p,f,c){return function(a){function b(b){b=a.call(this)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({edges:m.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:m.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=
function(a){return new d({material:{color:(a.color||p.transparentWhite).clone()},outline:a.outline?new c.default({size:a.outline.width||0,color:(a.outline.color||p.white).clone()}):null})};var d;g([h.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);g([h.property({type:f.default,json:{write:!0}})],b.prototype,"material",void 0);g([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);g([h.property({type:c.default,json:{write:!0}})],
b.prototype,"outline",void 0);g([h.property(k.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=d=g([h.subclass("esri.symbols.FillSymbol3DLayer")],b)}(h.declared(e))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.white=new n("white");a.black=new n("black");a.transparentWhite=new n([255,255,255,0]);a.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(b,a,n,g,m,h,e){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);e=b;b.prototype.clone=function(){return new e({color:m.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var e;g([h.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=e=g([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(h.declared(e.default));
a.Symbol3DFillMaterial=b;a.default=b})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,n,g,m,h,e,k,p,f){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new m([0,
0,0,1]);b.size=k.px2pt(1);return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:e.isSome(this.color)?this.color.clone():null,size:this.size})};var c;g([p.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);g([p.property(f.screenSizeProperty)],b.prototype,"size",void 0);return b=c=g([p.subclass("esri.symbols.support.Symbol3DOutline")],b)}(p.declared(h));a.Symbol3DOutline=b;a.default=b})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}n(b,a);f=b;b.prototype.castSize=function(a){return h.toPt(a)};b.prototype.clone=function(){return new f({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var f;g([e.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);
g([e.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);g([e.property({type:Number,json:{write:{overridePolicy:function(a,b,e){return{enabled:!e||!e.textSymbol3D}}}}})],b.prototype,"size",void 0);g([e.cast("size")],b.prototype,"castSize",null);g([e.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);g([e.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=
f=g([e.subclass("esri.symbols.Font")],b)}(e.declared(m))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),function(b,a,n,g,m,h,e,k,p,f,c,d,t,q){function l(a){var b=
"width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=v(a.xoffset);a=v(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function v(a){return isFinite(a)?a:0}var x=m.getLogger("esri.symbols.IconSymbol3DLayer"),w={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";b.anchorPosition=void 0;b.outline=void 0;return b}n(b,a);
k=b;b.prototype.clone=function(){return new k({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:h.isSome(this.material)?this.material.clone():null,outline:h.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||p.white,c=l(a),d=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||p.white).clone()}:null,e=k,f=a.size;a=a.style;var h=w[a];h?a=h:(x.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new e({size:f,resource:{primitive:a},material:{color:b},outline:d,anchor:c?"relative":void 0,anchorPosition:c})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||p.isBlack(a.color)?p.white:a.color,c=l(a);return new k({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":
void 0,anchorPosition:c})};var k;g([e.property({type:t.default,json:{write:!0}})],b.prototype,"material",void 0);g([e.property({type:f.default,json:{write:!0}})],b.prototype,"resource",void 0);g([e.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);g([e.property(c.screenSizeProperty)],b.prototype,"size",void 0);g([e.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",
relative:"relative"}),e.property({json:{default:"center"}})],b.prototype,"anchor",void 0);g([e.property({type:d.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new d.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);g([e.property({type:q.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=k=g([e.subclass("esri.symbols.IconSymbol3DLayer")],
b)}(e.declared(k))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h,e,k){Object.defineProperty(a,"__esModule",{value:!0});var p=m.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});b=function(a){function b(b){return a.call(this,
b)||this}n(b,a);d=b;b.prototype.readHref=function(a,b,c){return a?e.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(e.isDataProtocol(a)?b.dataURI=a:(b.href=e.toJSON(a,d),e.isAbsolute(b.href)&&(b.href=e.normalize(b.href))))};b.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};var d;g([k.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);g([k.reader("href")],b.prototype,"readHref",null);g([k.writer("href",
{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);g([k.enumeration.serializable()(p)],b.prototype,"primitive",void 0);return b=d=g([k.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(k.declared(h));a.IconSymbol3DLayerResource=b;a.defaultPrimitive="circle";a.default=b})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({x:this.x,y:this.y})};var e;g([h.property({type:Number})],b.prototype,"x",void 0);g([h.property({type:Number})],b.prototype,"y",void 0);return b=e=g([h.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(h.declared(m));a.Symbol3DAnchorPosition2D=b;a.default=b})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c){var d=m.ofType({base:null,key:"type",typeMap:{text:p}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new d;b.type="label-3d";return b}n(b,a);l=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return f.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return f.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new l({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new l({symbolLayers:[p.fromTextSymbol(a)]})};var l;g([e.property({type:c.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);g([e.property(f.calloutProperty)],b.prototype,"callout",void 0);g([e.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);g([e.property({type:d})],b.prototype,
"symbolLayers",void 0);g([e.enumeration.serializable()({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=l=g([e.subclass("esri.symbols.LabelSymbol3D")],b)}(e.declared(k))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w,r,y,G,C,D,A){var z={icon:l,object:x,line:v,path:w,fill:q,extrude:t,text:G,water:C},B=m.ofType({base:y,key:"type",typeMap:z}),F=e.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),H=k.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;
b._set("symbolLayers",new (c&&c.type||m));return b}n(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){H.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){h.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=function(a,b,c){b=[];
for(var d=0;d<a.length;d++){var e=a[d],h=y.typeJSONDictionary.read(e.type),l=h&&z[h];l?(e=new l,e.read(a[d],c),b.push(e)):(H.warn("Unknown symbol layer type: "+h),c&&c.messages&&c.messages.push(new f("symbol-layer:unsupported","Symbol layers of type '"+(h||e.type||"unknown")+"' are not supported",{definition:e,context:c})))}return b};b.prototype.readStyleOrigin=function(a,b,c){if(a.styleUrl&&a.name)return b=p.fromJSON(a.styleUrl,c),new D({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new D({portal:c&&
c.portal||d.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new f("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,c,d){a.styleUrl&&a.name?(c=p.toJSON(a.styleUrl,d),p.isAbsolute(c)&&(c=p.normalize(c)),b.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&d&&d.portal&&!p.hasSamePortal(a.portal.restUrl,d.portal.restUrl)?
d&&d.messages&&d.messages.push(new f("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof y||a&&z[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};g([c.property({json:{read:!1,write:!1}})],b.prototype,"color",null);g([c.property({type:B,nonNullable:!0,json:{write:!0}}),
c.cast(h.castForReferenceSetter)],b.prototype,"symbolLayers",null);g([c.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);g([c.property({type:D})],b.prototype,"styleOrigin",void 0);g([c.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);g([c.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);g([c.property({type:A.default,json:{read:!1}})],b.prototype,"thumbnail",
void 0);g([c.property({type:F.apiValues,readOnly:!0,json:{type:F.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=g([c.subclass("esri.symbols.Symbol3D")],b)}(c.declared(r))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.referenceSetter=function(a,b,h){void 0===h&&(h=n);b||(b=new h);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(n))?b.addMany(a):
a&&b.add(a);return b};a.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(b,a,n,g,m,h,e,k,p,f,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="line";b.join="miter";
b.cap="butt";b.size=h.px2pt(1);return b}n(b,a);d=b;b.prototype.clone=function(){return new d({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:m.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap})};b.fromSimpleLineSymbol=function(a){return new d({size:a.width||1,cap:a.cap||"butt",join:a.join||"miter",material:{color:(a.color||p.white).clone()}})};var d;g([e.property({type:c.default,json:{write:!0}})],b.prototype,"material",
void 0);g([e.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);g([e.property({type:String,json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);g([e.property({type:String,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);g([e.property(f.screenSizeProperty)],b.prototype,"size",void 0);return b=d=g([e.subclass("esri.symbols.LineSymbol3DLayer")],b)}(e.declared(k))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(b,a,n,g,m,h,e,k,p,f){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var c;g([h.property({type:f.default,json:{write:!0}})],b.prototype,"material",void 0);g([h.property({type:Boolean,
nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);g([h.property({type:k.default,json:{write:!0}})],b.prototype,"resource",void 0);g([h.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);g([h.enumeration.serializable()({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);g([h.property({type:p.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new p.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);g([h.property({type:Number,json:{write:!0}})],
b.prototype,"heading",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);g([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=c=g([h.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(h.declared(e))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e,k){Object.defineProperty(a,"__esModule",{value:!0});var p=m.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);d=b;b.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};var d;g([k.property({type:String,json:{read:e.read,write:e.write}})],b.prototype,"href",void 0);g([k.enumeration.serializable()(p)],
b.prototype,"primitive",void 0);return b=d=g([k.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(k.declared(h));a.ObjectSymbol3DLayerResource=b;a.defaultPrimitive="sphere";a.default=b})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h){Object.defineProperty(a,"__esModule",{value:!0});
b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({x:this.x,y:this.y,z:this.z})};var e;g([h.property({type:Number})],b.prototype,"x",void 0);g([h.property({type:Number})],b.prototype,"y",void 0);g([h.property({type:Number})],b.prototype,"z",void 0);return b=e=g([h.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(h.declared(m));a.Symbol3DAnchorPosition3D=b;a.default=b})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(b,a,n,g,m,h,e,k){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}n(b,a);c=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=
a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new c({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:m.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var c;g([h.property({type:k.default,
json:{write:!0}})],b.prototype,"material",void 0);g([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);g([h.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);g([h.property({type:Number})],b.prototype,"size",null);g([h.reader("size")],b.prototype,"readSize",null);g([h.property({type:String,json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);g([h.property({type:String,json:{write:!0,default:"miter"}})],b.prototype,
"join",void 0);g([h.property({type:String,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);g([h.property({type:String,json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);g([h.property({type:String,json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=c=g([h.subclass("esri.symbols.PathSymbol3DLayer")],
b)}(h.declared(e))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),function(b,a,n,g,m,h,e,k,p,f,c,d,t){return function(a){function b(b){b=a.call(this)||this;b._userSize=void 0;b.halo=null;b.material=null;
b.text=void 0;b.type="text";return b}n(b,a);f=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=m({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:
9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new f({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&h.clone(this.font),halo:this.halo&&h.clone(this.halo),material:e.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;b=a.haloColor;var c=a.haloSize;b=b&&0<c?
{color:h.clone(b),size:c}:null;c=a.font?a.font.clone():new p;return new f({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var f;g([k.property({type:p,json:{write:!0}})],b.prototype,"font",null);g([k.writer("font")],b.prototype,"writeFont",null);g([k.property({type:d.default,json:{write:!0}})],b.prototype,"halo",void 0);g([k.property({type:t.default,json:{write:!0}})],b.prototype,"material",void 0);g([k.property(c.screenSizeProperty),k.property({dependsOn:["font.size"]})],
b.prototype,"size",null);g([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);g([k.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=f=g([k.subclass("esri.symbols.TextSymbol3DLayer")],b)}(k.declared(f))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,n,g,m,h,e,k,p){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new m([0,0,0,1]);b.size=0;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({color:e.clone(this.color),size:this.size})};var d;g([k.property(p.colorAndTransparencyProperty)],b.prototype,"color",void 0);g([k.property(p.screenSizeProperty)],b.prototype,"size",void 0);return b=d=g([k.subclass("esri.symbols.support.Symbol3DHalo")],b)}(k.declared(h));
a.Symbol3DHalo=b;a.default=b})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(b,a,n,g,m,h,e,k,p){return function(a){function b(b){b=a.call(this)||this;b.color=new m("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}n(b,a);
d=b;b.prototype.clone=function(){return new d({color:h.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var d;g([e.property({type:m,json:{type:[k.Integer],write:!0,default:null}})],b.prototype,"color",void 0);g([e.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);g([e.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);g([e.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);g([e.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=d=g([e.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(e.declared(p))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}n(b,a);f=b;b.prototype.clone=function(){return new f({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var f;g([h.property({type:String})],b.prototype,"name",void 0);g([h.property({type:String})],b.prototype,"styleUrl",void 0);g([h.property({type:String})],b.prototype,"styleName",void 0);g([h.property({type:e})],b.prototype,"portal",void 0);
return b=f=g([h.subclass("esri.symbols.support.StyleOrigin")],b)}(h.declared(m))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,n,g,m,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);e=b;b.prototype.clone=function(){return new e({url:this.url})};
var e;g([h.property({type:String})],b.prototype,"url",void 0);return b=e=g([h.subclass("esri.symbols.support.Thumbnail")],b)}(h.declared(m));a.Thumbnail=b;a.default=b})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(b,a,n,g){function m(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function h(a,b,h){if(!a)return a;switch(a.type){case "line":return b=new g,b.read(a,h),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.hasVisibleVerticalOffset=m;a.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?m(a)?!0:!1:!1};a.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};a.read=h;a.calloutProperty={types:{key:"type",base:n,typeMap:{line:g}},json:{read:h,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.visible=!0;return b}g(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n({},a),delete a.type);return a};b.prototype.clone=function(){};m([e.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);m([e.property({readOnly:!0})],b.prototype,"visible",void 0);return b=m([e.subclass("esri.symbols.callouts.Callout3D")],b)}(e.declared(h))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){return function(a){function b(b){b=a.call(this)||this;b.type="line";b.color=new m([0,0,0,1]);b.size=k.px2pt(1);b.border=null;return b}n(b,a);f=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&e.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new f({color:h.clone(this.color),size:this.size,border:h.clone(this.border)})};var f;g([p.property({type:["line"]})],b.prototype,"type",
void 0);g([p.property(d.colorAndTransparencyProperty)],b.prototype,"color",void 0);g([p.property(d.screenSizeProperty)],b.prototype,"size",void 0);g([p.property({type:c.default,json:{write:!0}})],b.prototype,"border",void 0);g([p.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=f=g([p.subclass("esri.symbols.callouts.LineCallout3D")],b)}(p.declared(f))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(b,a,n,g,m,h,e,k,p){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new m("white");return b}n(b,a);d=b;b.prototype.clone=function(){return new d({color:e.clone(this.color)})};var d;g([k.property(p.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=d=g([k.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(k.declared(h));a.LineCallout3DBorder=b;a.default=b})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,n,g,m,h,e){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}n(b,a);f=b;b.prototype.clone=function(){return new f({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var f;g([h.property(e.screenSizeProperty)],b.prototype,"screenLength",void 0);g([h.property({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",
void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=f=g([h.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(h.declared(m));a.Symbol3DVerticalOffset=b;a.default=b})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(b,
a,n,g,m,h,e,k,p,f){var c=m.ofType({base:null,key:"type",typeMap:{line:k,path:p}}),d=m.ofType({base:null,key:"type",typeMap:{line:k,path:p}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new c;b.type="line-3d";return b}n(b,a);f=b;b.prototype.clone=function(){return new f({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new f({symbolLayers:[k.fromSimpleLineSymbol(a)]})};
var f;g([e.property({type:c,json:{type:d}})],b.prototype,"symbolLayers",void 0);g([e.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=f=g([e.subclass("esri.symbols.LineSymbol3D")],b)}(e.declared(f))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(b,a,n,g,m,h,e,k){var p=
new m.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}n(b,a);g([e.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);g([e.property({type:p.apiValues,readOnly:!0,json:{type:p.jsonValues}})],b.prototype,"type",void 0);g([e.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,
"xoffset",void 0);g([e.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);g([e.property({type:Number,cast:function(a){return"auto"===a?a:h.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=g([e.subclass("esri.symbols.MarkerSymbol")],b)}(e.declared(k))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(b,a,n,g,m,h,e,k,p){var f=m.ofType({base:null,key:"type",typeMap:{fill:k}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new f;b.type="mesh-3d";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};var c;g([e.property({type:f})],b.prototype,"symbolLayers",void 0);g([e.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);
return b=c=g([e.subclass("esri.symbols.MeshSymbol3D")],b)}(e.declared(p))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(b,a,n,g,m,h,e,k,p,f){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);b&&(f.outline=b);null!=c&&(f.width=e.toPt(c));null!=d&&(f.height=e.toPt(d));return f};b.prototype.clone=function(){var a=new c({color:h.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",h.clone(this.source));return a};var c;g([k.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);g([k.property(f.urlPropertyDefinition)],b.prototype,"url",void 0);g([k.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);g([k.property({type:Number,json:{write:!0}})],b.prototype,"yscale",void 0);g([k.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"width",void 0);g([k.property({type:Number,cast:e.toPt,
json:{write:!0}})],b.prototype,"height",void 0);g([k.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);g([k.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);g([k.property(f.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=c=g([k.subclass("esri.symbols.PictureFillSymbol")],b)}(k.declared(p))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(b,a,n){function g(a,
b,h){return b.imageData?n.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):m(b.url,h)}function m(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||n.isAbsolute(a)||!b.layer.parsedUrl?n.fromJSON(a,b):n.join(b.layer.parsedUrl.path,"images",a)}function h(a,b,h,f){n.isDataProtocol(a)?(a=n.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,h&&h.imageData===b.imageData&&h.url&&n.write(h.url,
b,"url",f)):n.write(a,b,"url",f)}Object.defineProperty(a,"__esModule",{value:!0});a.readImageDataOrUrl=g;a.read=m;a.writeImageDataAndUrl=h;a.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:g},write:{writer:function(a,b,g,f){h(a,b,this.source,f)}}}};a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,h){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=m(b.url,h));return a}}}}})},
"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(b,a,n,g,m,h,e,k,p){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,
b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=h.toPt(b));null!=c&&(d.height=h.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new d({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",m.clone(this.source));return a};var d;g([e.property({json:{write:!1}})],b.prototype,
"color",void 0);g([e.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);g([e.property(p.urlPropertyDefinition)],b.prototype,"url",void 0);g([e.property(p.sourcePropertyDefinition)],b.prototype,"source",void 0);g([e.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"height",void 0);g([e.reader("height",["height","size"])],b.prototype,"readHeight",null);g([e.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"width",void 0);g([e.property({json:{write:!1}})],
b.prototype,"size",void 0);return b=d=g([e.subclass("esri.symbols.PictureMarkerSymbol")],b)}(e.declared(k))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(b,a,n,g,m,h,e,k,p,f,c,
d,t,q){var l=m.ofType({base:null,key:"type",typeMap:{icon:p,object:f,text:d}}),v=m.ofType({base:null,key:"type",typeMap:{icon:p,object:f}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new l;b.type="point-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return t.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return t.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:e.clone(this.verticalOffset),callout:e.clone(this.callout),styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[p.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[p.fromPictureMarkerSymbol(a)]})};b.fromTextSymbol=function(a){return new c({symbolLayers:[d.fromTextSymbol(a)]})};
var c;g([k.property({type:q.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);g([k.property(t.calloutProperty)],b.prototype,"callout",void 0);g([k.property({type:l,json:{type:v,origins:{"web-scene":{type:v}}}})],b.prototype,"symbolLayers",void 0);g([k.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);g([k.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=g([k.subclass("esri.symbols.PointSymbol3D")],b)}(k.declared(c))})},
"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x){var w=m.ofType({base:null,key:"type",typeMap:{extrude:f,
fill:c,icon:d,line:t,object:q,text:v,water:x}}),r=m.ofType({base:null,key:"type",typeMap:{extrude:f,fill:c,icon:d,line:t,object:q,water:x}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}n(b,a);d=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",
{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new d({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new d;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&
!1===a.symbolLayers[1].enable||(c.outline={size:e.size,color:k.isSome(e.material)?e.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new d({symbolLayers:[c.fromSimpleFillSymbol(a)]})};var d;g([p.property({type:w,json:{type:r}})],b.prototype,"symbolLayers",void 0);g([p.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);g([p.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=d=g([p.subclass("esri.symbols.PolygonSymbol3D")],
b)}(p.declared(l))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(b,a,n,g,m,h,e,k,p,f,c){var d=new e.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",
esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,d,e){b=a.call(this,b)||this;b.color=new h([0,0,0,.25]);b.outline=new c;b.type="simple-fill";b.style="solid";return b}n(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new e({color:k.clone(this.color),outline:this.outline&&
this.outline.clone(),style:this.style})};var e;g([p.property()],b.prototype,"color",void 0);g([p.property()],b.prototype,"outline",void 0);g([p.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);g([p.property({type:d.apiValues,json:{read:d.read,write:d.write}})],b.prototype,"style",void 0);return b=e=g([p.subclass("esri.symbols.SimpleFillSymbol")],b)}(p.declared(f))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c){var d=new h.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function b(b,d,e,f){b=a.call(this,b)||this;b.color=new m([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new c;return b}n(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&
(e.size=k.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())};Object.defineProperty(b.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new f({angle:this.angle,color:e.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};
var f;g([p.property()],b.prototype,"color",void 0);g([p.writer("color")],b.prototype,"writeColor",null);g([p.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);g([p.property()],b.prototype,"size",void 0);g([p.property({type:d.apiValues,json:{read:d.read,write:d.write}})],b.prototype,"style",void 0);g([p.property({type:String,json:{write:!0}})],b.prototype,"path",null);g([p.property({type:c,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=f=g([p.subclass("esri.symbols.SimpleMarkerSymbol")],
b)}(p.declared(f))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(b,a,n,g,m,h,e,k,p,f){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new p;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=
null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:h.clone(this.backgroundColor),borderLineColor:h.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:h.clone(this.color),
font:this.font&&this.font.clone(),haloColor:h.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var c;g([k.property({type:m,json:{write:!0}})],b.prototype,"backgroundColor",void 0);g([k.property({type:m,json:{write:!0}})],b.prototype,"borderLineColor",void 0);g([k.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);g([k.property({type:p,json:{write:!0}})],b.prototype,"font",void 0);g([k.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);g([k.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);g([k.property({type:m,json:{write:!0}})],b.prototype,"haloColor",void 0);g([k.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);g([k.property({type:Boolean,
json:{write:!0}})],b.prototype,"rightToLeft",void 0);g([k.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);g([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);g([k.property({type:String,readOnly:!0})],b.prototype,"type",void 0);g([k.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);g([k.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);g([k.property({type:Number,
cast:e.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);g([k.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);g([k.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=g([k.subclass("esri.symbols.TextSymbol")],b)}(k.declared(f))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/asyncUtils ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l){function v(){return h(this,void 0,void 0,function(){return m(this,function(a){return[2,f.create(function(a){return b(["./support/styleUtils"],a)})]})})}var x=p.getLogger("esri.symbols.WebStyleSymbol"),w=k.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}n(b,a);k=b;b.prototype.read=function(a,b){this.portal=
b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};b.prototype.fetchSymbol=function(a){return e.safeCast(this._fetchSymbol("webRef",a))};b.prototype.fetchCIMSymbol=function(a){return e.safeCast(this._fetchSymbol("cimRef",a))};b.prototype._fetchSymbol=function(a,b){return h(this,void 0,void 0,function(){var c,d;return m(this,function(e){switch(e.label){case 0:return[4,v()];
case 1:return c=e.sent(),f.throwIfAborted(b),d=c.resolveWebStyleSymbol(this,{portal:this.portal},a,b),d.catch(function(a){x.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,d]}})})};var k;g([d.property({json:{write:!1}})],b.prototype,"color",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);g([d.property({type:t,json:{write:!1}})],b.prototype,"portal",void 0);g([d.property({type:String,json:{read:c.read,write:c.write}})],b.prototype,"styleUrl",
void 0);g([d.property({type:l.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);g([d.property({type:w.apiValues,readOnly:!0,json:{type:w.jsonValues,read:!1,write:w.write}})],b.prototype,"type",void 0);return b=k=g([d.subclass("esri.symbols.WebStyleSymbol")],b)}(d.declared(q))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w,r,y){function G(a,b,c){b=a?D[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new g("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function C(a,b,c){if(!a)return null;if(c&&"web-scene"===c.origin&&!a.isInstanceOf(v)&&!a.isInstanceOf(w)){var d=y.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new n("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(a,"__esModule",{value:!0});var D={esriSMS:l,esriPMS:f,esriTS:x,esriSLS:q,esriSFS:t,esriPFS:p,PointSymbol3D:c,LineSymbol3D:e,PolygonSymbol3D:d,MeshSymbol3D:k,LabelSymbol3D:h,styleSymbolReference:w,CIMSymbolReference:m};a.read=G;a.writeTarget=function(a,b,c,d){(a=C(a,{},d))&&(b[c]=
a)};a.write=C;a.fromJSON=function(a,b){return G(a,null,b)};a.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new r}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(b,a,n,g){Object.defineProperty(a,"__esModule",{value:!0});a.to3D=function(a,b,e,k){void 0===b&&(b=!1);void 0===e&&(e=!1);void 0===k&&(k=!0);if(!a)return{symbol:null};if(n.isSymbol3D(a)||a instanceof
n.WebStyleSymbol)k=a.clone();else if(a instanceof n.SimpleLineSymbol)k=n.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof n.SimpleMarkerSymbol)k=n.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof n.PictureMarkerSymbol)k=n.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof n.SimpleFillSymbol)k=n.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof n.TextSymbol)k=k?n.LabelSymbol3D.fromTextSymbol(a):n.PointSymbol3D.fromTextSymbol(a);else return{error:new g("symbol-conversion:unsupported-2d-symbol",
"2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(k.id=a.id);if(e&&n.isSymbol3D(k))for(a=0;a<k.symbolLayers.length;++a)k.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:k}}})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(b,a,n){function g(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function m(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function h(a,b,c){for(var d=[],e,
f,h,l,k=0;k<c.length;k++){var q=c[k];if(0<k){if(h=g(a,q[0]),l=m(a,q[1]),h!==e||l!==f)d.push(b(q,h-e,l-f)),e=h,f=l}else e=g(a,q[0]),f=m(a,q[1]),d.push(b(q,e,f))}return 0<d.length?d:null}function e(a,b,c,d){return h(a,c?d?B:z:d?z:A,b)}function k(a,b,c,d){var e=[];c=c?d?B:z:d?z:A;for(d=0;d<b.length;d++){var f=h(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function p(a,b,c,d){var e=[];c=c?d?B:z:d?z:A;for(d=0;d<b.length;d++){var f=h(a,c,b[d]);f&&2<=f.length&&e.push(f)}return e.length?e:null}
function f(a,b){return b*a.scale[0]+a.translate[0]}function c(a,b){return a.translate[1]-b*a.scale[1]}function d(a,b,d){var e=Array(d.length);if(!d.length)return e;var h=a.scale,l=h[0],h=h[1],g=f(a,d[0][0]);a=c(a,d[0][1]);e[0]=b(d[0],g,a);for(var k=1;k<d.length;k++){var q=d[k],g=g+q[0]*l;a-=q[1]*h;e[k]=b(q,g,a)}return e}function t(a,b,c){for(var e=Array(c.length),f=0;f<c.length;f++)e[f]=d(a,b,c[f]);return e}function q(a,b,c,e){return d(a,c?e?B:z:e?z:A,b)}function l(a,b,c,d){return t(a,c?d?B:z:d?z:
A,b)}function v(a,b,c,d){return t(a,c?d?B:z:d?z:A,b)}function x(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),h=Math.min(d,b[1]),l=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var g=1;g<c.length;g++){var k=c[g],q=k[0],k=k[1],e=e+q,d=d+k;0>q&&(f=Math.min(f,e));0<q&&(l=Math.max(l,e));0>k?h=Math.min(h,d):0<k&&(b=Math.max(b,d))}a[0]=f;a[1]=h;a[2]=l;a[3]=b;return a}function w(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)x(a,
a,b[c]);return a}function r(a,b,c,d,e){b.xmin=g(a,c.xmin);b.ymin=m(a,c.ymin);b.xmax=g(a,c.xmax);b.ymax=m(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function y(a,b,c,d,f){b.points=e(a,c.points,d,f);return b}function G(a,b,c,d,e){b.x=g(a,c.x);b.y=m(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b}function C(a,b,c,d,e){a=k(a,c.rings,d,e);if(!a)return null;b.rings=a;return b}function D(a,b,c,d,e){a=p(a,c.paths,d,e);if(!a)return null;b.paths=a;return b}
Object.defineProperty(a,"__esModule",{value:!0});var A=function(a,b,c){return[b,c]},z=function(a,b,c){return[b,c,a[2]]},B=function(a,b,c){return[b,c,a[2],a[3]]};a.toQuantizationTransform=function(a){return a?{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};a.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=
a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};a.quantizeX=g;a.quantizeY=m;a.quantizeBounds=function(a,b,c){b[0]=g(a,c[0]);b[3]=m(a,c[1]);b[2]=g(a,c[2]);b[1]=m(a,c[3]);return b};a.quantizePoints=e;a.quantizeRings=k;a.quantizePaths=p;a.hydrateX=f;a.hydrateY=c;a.hydrateCoordsArray=d;a.hydrateCoordsArrayArray=t;a.hydrateBounds=function(a,b,d){return d?
(b[0]=f(a,d[0]),b[1]=c(a,d[3]),b[2]=f(a,d[2]),b[3]=c(a,d[1]),b):[f(a,b[0]),c(a,b[3]),f(a,b[2]),c(a,b[1])]};a.hydratePoints=q;a.hydratePaths=l;a.hydrateRings=v;a.getQuantizedBoundsCoordsArray=x;a.getQuantizedBoundsCoordsArrayArray=w;a.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return x(b,b,a)};a.getQuantizedBoundsPaths=function(a){return w([0,0,0,0],a)};a.getQuantizedBoundsRings=function(a){return w([0,
0,0,0],a)};a.quantizeExtent=r;a.quantizeMultipoint=y;a.quantizePoint=G;a.quantizePolygon=C;a.quantizePolyline=D;a.quantizeGeometry=function(a,b){return a&&b?n.isPoint(b)?G(a,{},b,!1,!1):n.isPolyline(b)?D(a,{},b,!1,!1):n.isPolygon(b)?C(a,{},b,!1,!1):n.isMultipoint(b)?y(a,{},b,!1,!1):n.isExtent(b)?r(a,{},b,!1,!1):null:null};a.hydrateExtent=function(a,b,d,e,h){b.xmin=f(a,d.xmin);b.ymin=c(a,d.ymin);b.xmax=f(a,d.xmax);b.ymax=c(a,d.ymax);b!==d&&(e&&(b.zmin=d.zmin,b.zmax=d.zmax),h&&(b.mmin=d.mmin,b.mmax=
d.mmax));return b};a.hydrateMultipoint=function(a,b,c,d,e){b.points=q(a,c.points,d,e);return b};a.hydratePoint=function(a,b,d,e,h){b.x=f(a,d.x);b.y=c(a,d.y);b!==d&&(e&&(b.z=d.z),h&&(b.m=d.m));return b};a.hydratePolygon=function(a,b,c,d,e){b.rings=v(a,c.rings,d,e);return b};a.hydratePolyline=function(a,b,c,d,e){b.paths=l(a,c.paths,d,e);return b}})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),
function(b,a,n,g,m,h,e,k,p,f){var c=new m.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this)||this;b.alias=null;
b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}n(b,a);d=b;b.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(w){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var d;try{d=JSON.parse(a)}catch(w){}return d?c.fromJSON(d.fieldValueType):null};b.prototype.clone=function(){return new d({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var d;g([e.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);g([e.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);g([e.property()],b.prototype,"description",void 0);g([e.reader("description")],b.prototype,"readDescription",null);g([e.property({types:p.types,json:{read:{reader:p.fromJSON},
write:!0}})],b.prototype,"domain",void 0);g([e.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);g([e.property({type:k.Integer,json:{write:!0}})],b.prototype,"length",void 0);g([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);g([e.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);g([e.enumeration.serializable()(f.kebabDict)],b.prototype,"type",void 0);g([e.property()],b.prototype,"valueType",void 0);g([e.reader("valueType",["description"])],
b.prototype,"readValueType",null);return b=d=g([e.subclass("esri.layers.support.Field")],b)}(e.declared(h))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.kebabDict=new n.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",
esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(b,a,n,g){function m(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var e=a[c],f=b[c];if(e.length!==f.length)return!1;
for(var h=0;h<e.length;h++)if(e[h]!==f[h])return!1}return!0}function h(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!m(a[c],b[c]))return!1;return!0}function e(a,b){return a===b||a&&b&&a.equals(b)}function k(a,b){if(a===b)return!0;if(g.isNone(a)||g.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=e(a.spatialReference,b.spatialReference)?a.x===b.x&&a.y===b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||
a.hasM!==b.hasM?!1:e(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:e(a.spatialReference,b.spatialReference)?h(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:e(a.spatialReference,b.spatialReference)?h(a.rings,b.rings):!1,a;case "multipoint":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:e(a.spatialReference,
b.spatialReference)?m(a.points,b.points):!1,a;case "mesh":return!1;default:n.neverReached(a)}}function p(a,b){if(a===b)return!0;if(!a||!b)return!1;var c=Object.keys(a),e=Object.keys(b);if(c.length!==e.length)return!1;for(e=0;e<c.length;e++){var f=c[e];if(a[f]!==b[f])return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.equals=function(a,b){return a===b?!0:null!=a&&null!=b&&a.objectId===b.objectId&&k(a.geometry,b.geometry)&&p(a.attributes,b.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ./mathUtils ./projectionUtils".split(" "),
function(b,a,n,g,m,h,e,k){function p(b,c,d,f){var l,g;b instanceof h&&c instanceof h&&(d=c.longitude,f=c.latitude,g=b.latitude,l=b.longitude);b=e.deg2rad(g);f=e.deg2rad(f);l=e.deg2rad(l);c=e.deg2rad(d);d=Math.sin((b-f)/2);l=Math.sin((l-c)/2);d=2*e.asin(Math.sqrt(d*d+Math.cos(b)*Math.cos(f)*l*l))*a.earthRadius;return Math.round(1E4*d)/1E4}function f(b,c,d){b=d/a.earthRadius;c=e.deg2rad(c);b=Math.sin(b/2);c=Math.cos(c);c=2*e.asin(Math.sqrt(b*b/(c*c)));return e.rad2deg(c)}function c(b,c,d){return e.rad2deg(d/
a.earthRadius)}function d(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(a,"__esModule",{value:!0});a.earthRadius=n.wgs84Radius;a.halfEarthRadius=a.earthRadius/2;a.halfEarthCircumference=Math.PI*a.earthRadius;a.earthCircumference=2*a.halfEarthCircumference;a.metersPerDegree=a.halfEarthCircumference/180;a.getGreatCircleDistance=p;a.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,e=new h(b.x,a.y,d),f=new h(c.x,a.y,d);b=new h(a.x,b.y,d);a=new h(a.x,c.y,d);return{lon:p(e,
f),lat:p(b,a)}};a.getLonDeltaForDistance=f;a.getLatDeltaForDistance=c;a.getLatLonDeltaForDistance=function(a,b,d){return{lat:c(a,b,d),lon:f(a,b,d)}};a.getMaxCameraAltitude=function(b){b=e.deg2rad(b/2);return(1-Math.sin(b))*a.earthRadius/Math.sin(b)};a.getViewExtentDistance=function(b,c){c=e.deg2rad(c/2);return 2*e.acos((Math.pow(b+a.earthRadius,2)+Math.pow(a.earthRadius,2)-Math.pow((b+a.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(b+a.earthRadius),2)-b*b-2*b*a.earthRadius),2))/(2*(b+a.earthRadius)*
a.earthRadius))*a.earthRadius};a.computeCartesianDistance=function(a,b){a=k.wgs84ComparableLonLatToECEF(t,a.longitude,a.latitude,a.z||0);b=k.wgs84ComparableLonLatToECEF(q,b.longitude,b.latitude,b.z||0);b=[b[0]-a[0],b[1]-a[1],b[2]-a[2]];return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])};a.longitudeToTimezone=d;a.positionToTimezone=function(a,b){b||(b={hours:0,minutes:0,seconds:0});b.hours=d(a[0],!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};
a.distanceToIdealHorizon=function(b,c){c=c||a.earthRadius;b=g.vec3.dot(b,b);return Math.sqrt(Math.abs(b-c*c))};var t=m.vec3f64.create(),q=m.vec3f64.create()})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(b,a,n,g,m){function h(a){return Math.asin(1<a?1:-1>a?-1:a)}function e(a){return Math.acos(1<a?1:-1>a?-1:a)}function k(a){for(var b in a){var c=a[b];c instanceof
Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=function(a){return 180*a/Math.PI};a.asin=h;a.acos=e;a.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};
a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,b){g.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};a.makeOrthonormal=
function(a,b,c){c=c||a;var d=g.vec3.dot(a,b);g.vec3.set(c,a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2]);g.vec3.normalize(c,c)};a.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?g.vec3.set(b,0,1,0):g.vec3.set(b,1,0,0);g.vec3.cross(c,a,b);g.vec3.normalize(b,b);g.vec3.cross(b,c,a);g.vec3.normalize(c,c)};a.moduloPositive=function(a,b){return(a%b+b)%b};a.cartesianToSpherical=function(a,b){var c=g.vec3.length(a),d=h(a[2]/c);g.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};a.sphericalToCartesian=
function(a,b){var c=a[0],d=a[1];a=a[2];var e=Math.cos(d);g.vec3.set(b,c*e*Math.cos(a),c*e*Math.sin(a),c*Math.sin(d))};a.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};a.lerp=function(a,b,c){return a+(b-a)*c};a.bilerp=function(a,b,c,d,e,f){a+=(b-a)*e;return a+(c+(d-c)*e-a)*f};a.slerp=function(a,b,c,e){void 0===e&&(e=m.vec3f64.create());var f=g.vec3.length(a),h=g.vec3.length(b),
l=g.vec3.dot(a,b)/(f*h);if(.9999999999999999>l){var l=Math.acos(l),k=((1-c)*f+c*h)/Math.sin(l),h=k/h*Math.sin(c*l);g.vec3.scale(d,a,k/f*Math.sin((1-c)*l));g.vec3.scale(t,b,h);return g.vec3.add(e,d,t)}return g.vec3.lerp(e,a,b,c)};a.angle=function(a,b,f){a=g.vec3.normalize(d,a);b=g.vec3.normalize(t,b);var h=e(g.vec3.dot(a,b));return f&&(a=g.vec3.cross(c,a,b),0>g.vec3.dot(a,f))?-h:h};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-
1][1];for(var d=1;c>a[d][0];)d++;var e=a[d][0];c=(e-c)/(e-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};a.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.floatEqualRelative=function(a,b,c){void 0===c&&(c=1E-6);if(isNaN(a)||isNaN(b))return!1;if(a===b)return!0;var d=Math.abs(a-b),e=Math.abs(a),f=Math.abs(b);if(0===a||0===b||1E-12>e&&1E-12>f){if(d>.01*c)return!1}else if(d/(e+f)>c)return!1;return!0};
a.floatEqualAbsolute=function(a,b,c){void 0===c&&(c=1E-6);return isNaN(a)||isNaN(b)?!1:(a>b?a-b:b-a)<=c};b=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,
b){void 0===b&&(b=0);return n.clamp(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,
b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=b;a.planeFromPoints=function(a,b,c,d){g.vec3.subtract(p,b,a);g.vec3.subtract(f,c,a);g.vec3.cross(d,p,f);g.vec3.normalize(d,d);d[3]=-g.vec3.dot(a,d)};var p=m.vec3f64.create(),f=m.vec3f64.create();a.cyclical2PI=k(new b(0,2*Math.PI));a.cyclicalPI=k(new b(-Math.PI,Math.PI));a.cyclicalDeg=k(new b(0,360));
var c=m.vec3f64.create(),d=m.vec3f64.create(),t=m.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});(function(a){a.length=function(a,b){var h=a[b],e=a[b+1];a=a[b+2];return Math.sqrt(h*h+e*e+a*a)};a.normalize=function(a,b){var h=a[b],e=a[b+1],g=a[b+2],h=1/Math.sqrt(h*h+e*e+g*g);a[b]*=h;a[b+1]*=h;a[b+2]*=h};a.scale=function(a,b,h){a[b]*=h;a[b+1]*=h;a[b+2]*=h};a.add=function(a,b,
h,e,k,p){void 0===p&&(p=b);k=k||a;k[p]=a[b]+h[e];k[p+1]=a[b+1]+h[e+1];k[p+2]=a[b+2]+h[e+2]};a.subtract=function(a,b,h,e,k,p){void 0===p&&(p=b);k=k||a;k[p]=a[b]-h[e];k[p+1]=a[b+1]-h[e+1];k[p+2]=a[b+2]-h[e+2]}})(a.Vec3Compact||(a.Vec3Compact={}))})},"esri/views/3d/webgl-engine/lib/Util":function(){define("require exports ../../../../core/mathUtils ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec2f64 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64".split(" "),
function(b,a,n,g,m,h,e,k,p){function f(a,b){if(!a)throw b=b||"assert",a=Error(b),a.stack&&console.log(a.stack),new v(b);}function c(a){for(var b in a)return b}function d(a,b){a[12]=b[0];a[13]=b[1];a[14]=b[2]}function t(a,b){void 0===b&&(b=0);for(var c=0,d=0;4>d;d++)c+=a[b+d]*w[d];return c}function q(a){return a-Math.floor(a)}Object.defineProperty(a,"__esModule",{value:!0});var l=p.vec4f64.create(),v=function(){function a(a){this.message=a}a.prototype.toString=function(){return"AssertException: "+
this.message};return a}();a.AssertException=v;a.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex",TANGENT:"aTangent"};a.assert=f;a.verify=function(a,b){a||console.warn("Verify failed: "+(b||"")+"\n"+Error("verify").stack)};a.encodeInt16=function(a){return n.clamp(Math.round(32767*a),-32767,32767)};a.encodeNormal=
function(a,b){var c=Math.abs(a[0]),d=Math.abs(a[1]),e=1/(c+d+Math.abs(a[2])),f=Math.min(a[2]*e,0);b[0]=(0>a[0]?-1:1)*(c*e-f);b[1]=(0>a[1]?-1:1)*(d*e-f)};a.fallbackIfUndefined=function(a,b){return void 0===a?b:a};a.hex2rgb=function(a){a=Math.floor(a);return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};a.rgb2hex=function(a){var b=n.clamp(Math.round(255*a[0]),0,255),c=n.clamp(Math.round(255*a[1]),0,255);a=n.clamp(Math.round(255*a[2]),0,255);return"0x"+((b<<16)+(c<<8)+a).toString(16)};a.dec2hex=function(a){a=
a.toString(16);return"00000000".substr(0,8-a.length)+a};a.rayTriangle3D=function(a,b,c,d,f,h,g,l,k){void 0===k&&(k=e.vec3f64.create());var p=d[g]-c[h],q=d[g+1]-c[h+1],m=d[g+2]-c[h+2];d=f[l]-c[h];g=f[l+1]-c[h+1];f=f[l+2]-c[h+2];var v=b[1]*f-g*b[2],n=b[2]*d-f*b[0],r=b[0]*g-d*b[1];l=p*v+q*n+m*r;if(-1E-5<l&&1E-5>l)return!1;l=1/l;var w=a[0]-c[h],t=a[1]-c[h+1];a=a[2]-c[h+2];k[1]=l*(w*v+t*n+a*r);if(0>k[1]||1<k[1])return!1;c=t*m-q*a;a=a*p-m*w;p=w*q-p*t;k[2]=l*(b[0]*c+b[1]*a+b[2]*p);if(0>k[2]||1<k[1]+k[2])return!1;
k[0]=l*(d*c+g*a+f*p);return!0};a.rayBoxTest=function(a,b,c,d){var e,f=(c[0]-a[0])/b[0],h=(d[0]-a[0])/b[0];f>h&&(e=f,f=h,h=e);var g=(c[1]-a[1])/b[1],l=(d[1]-a[1])/b[1];g>l&&(e=g,g=l,l=e);if(f>l||g>h)return!1;g>f&&(f=g);l<h&&(h=l);c=(c[2]-a[2])/b[2];a=(d[2]-a[2])/b[2];c>a&&(e=c,c=a,a=e);if(f>a||c>h)return!1;a<h&&(h=a);return 0>h?!1:!0};a.rayRay2D=function(a,b,c,d,e,f){void 0===f&&(f=h.vec2f64.create());var g=(d[e]-c[e])*(b[0]-a[0])-(d[0]-c[0])*(b[e]-a[e]);if(0===g)return!1;c=((d[0]-c[0])*(a[e]-c[e])-
(d[e]-c[e])*(a[0]-c[0]))/g;f[0]=a[0]+c*(b[0]-a[0]);f[1]=a[e]+c*(b[e]-a[e]);return!0};a.project=function(a,b,c,d,e){e||(e=a);l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=1;k.vec4.transformMat4(l,l,b);2<e.length&&(e[2]=-l[2]);k.vec4.transformMat4(l,l,c);f(0!==l[3]);e[0]=l[0]/l[3];e[1]=l[1]/l[3];e[2]=l[2]/l[3];e[0]=(.5*e[0]+.5)*d[2]+d[0];e[1]=(.5*e[1]+.5)*d[3]+d[1]};a.getFirstObjectKey=c;a.getFirstObjectValue=function(a){return a[c(a)]};a.objectEmpty=function(a){for(var b in a)return!1;return!0};a.logWithBase=
function(a,b){return Math.log(a)/Math.log(b)};a.setMatrixTranslation=d;a.setMatrixTranslation3=function(a,b,c,d){a[12]=b;a[13]=c;a[14]=d};a.getMatrixTranslation=function(a,b){void 0===b&&(b=e.vec3f64.create());b[0]=a[12];b[1]=a[13];b[2]=a[14];return b};a.createTranslationMatrix=function(a,b){a=g.mat4.identity(a);d(a,b);return a};a.isTranslationMatrix=function(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&0===a[11]&&1===a[15]};
a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.fovx2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/b)};a.fovy2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/c)};a.fovd2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};a.fovd2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};a.packFloatRGBA=function(a,
b,c){void 0===c&&(c=0);a=n.clamp(a,0,r);for(var d=0;4>d;d++)b[c+d]=Math.floor(256*q(a*x[d]))};a.unpackFloatRGBA=t;var x=[1,256,65536,16777216],w=[1/256,1/65536,1/16777216,1/4294967296],r=t(new Uint8ClampedArray([255,255,255,255]));a.inverseProjectionInfo=function(a,b,c,d,e){0===a[11]?(d[0]=2/(b*a[0]),d[1]=2/(c*a[5]),d[2]=(1+a[12])/a[0],d[3]=(1+a[13])/a[5],m.vec2.set(e,0,1)):(d[0]=-2/(b*a[0]),d[1]=-2/(c*a[5]),d[2]=(1-a[8])/a[0],d[3]=(1-a[9])/a[5],m.vec2.set(e,1,0))}})},"esri/core/libs/gl-matrix-2/vec2":function(){define(["require",
"exports","./math/vec2"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec2=n})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require","exports","./common"],function(b,a,n){function g(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];return a}function m(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];return a}function h(a,b,e){a[0]=b[0]/e[0];a[1]=b[1]/e[1];return a}function e(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)}function k(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*
c+a*a}function p(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function f(a){var b=a[0];a=a[1];return b*b+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};a.set=function(a,b,e){a[0]=b;a[1]=e;return a};a.add=function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];return a};a.subtract=g;a.multiply=m;a.divide=h;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a};a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a};
a.min=function(a,b,e){a[0]=Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);return a};a.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);return a};a.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a};a.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;return a};a.scaleAndAdd=function(a,b,e,f){a[0]=b[0]+e[0]*f;a[1]=b[1]+e[1]*f;return a};a.distance=e;a.squaredDistance=k;a.length=p;a.squaredLength=f;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};a.inverse=
function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};a.normalize=function(a,b){var c=b[0],d=b[1],c=c*c+d*d;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a};a.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};a.cross=function(a,b,e){b=b[0]*e[1]-b[1]*e[0];a[0]=a[1]=0;a[2]=b;return a};a.lerp=function(a,b,e,f){var c=b[0];b=b[1];a[0]=c+f*(e[0]-c);a[1]=b+f*(e[1]-b);return a};a.random=function(a,b){b=b||1;var c=2*n.RANDOM()*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a};a.transformMat2=function(a,
b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b;a[1]=e[1]*c+e[3]*b;return a};a.transformMat2d=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b+e[4];a[1]=e[1]*c+e[3]*b+e[5];return a};a.transformMat3=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[3]*b+e[6];a[1]=e[1]*c+e[4]*b+e[7];return a};a.transformMat4=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[4]*b+e[12];a[1]=e[1]*c+e[5]*b+e[13];return a};a.rotate=function(a,b,e,f){var c=b[0]-e[0];b=b[1]-e[1];var d=Math.sin(f);f=Math.cos(f);a[0]=c*f-b*d+e[0];
a[1]=c*d+b*f+e[1];return a};a.angle=function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];var e=c*c+a*a;0<e&&(e=1/Math.sqrt(e));var f=d*d+b*b;0<f&&(f=1/Math.sqrt(f));c=(c*d+a*b)*e*f;return 1<c?0:-1>c?Math.PI:Math.acos(c)};a.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]};a.equals=function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return Math.abs(c-d)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(a-b)<=n.EPSILON*Math.max(1,Math.abs(a),
Math.abs(b))};a.len=p;a.sub=g;a.mul=m;a.div=h;a.dist=e;a.sqrDist=k;a.sqrLen=f})},"esri/core/libs/gl-matrix-2/vec2f64":function(){define(["require","exports","./factories/vec2f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec2f64=n})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,0]};a.clone=function(a){return[a[0],a[1]]};a.fromValues=function(a,
b){return[a,b]};a.fromArray=function(a){for(var b=[0,0],m=Math.min(2,a.length),h=0;h<m;++h)b[h]=a[h];return b};a.createView=function(a,b){return new Float64Array(a,b,2)};a.zeros=function(){return[0,0]};a.ones=function(){return[1,1]};a.unitX=function(){return[1,0]};a.unitY=function(){return[0,1]};a.ZEROS=[0,0];a.ONES=[1,1];a.UNIT_X=[1,0];a.UNIT_Y=[0,1]})},"esri/core/libs/gl-matrix-2/vec4":function(){define(["require","exports","./math/vec4"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});
a.vec4=n})},"esri/core/libs/gl-matrix-2/vec4f64":function(){define(["require","exports","./factories/vec4f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec4f64=n})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["require","exports"],function(b,a){function n(){return[0,0,0,0]}function g(){return[1,1,1,1]}function m(){return[1,0,0,0]}function h(){return[0,1,0,0]}function e(){return[0,0,1,0]}function k(){return[0,0,0,1]}Object.defineProperty(a,"__esModule",
{value:!0});a.create=n;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,c,d){return[a,b,c,d]};a.fromArray=function(a){for(var b=n(),c=Math.min(4,a.length),d=0;d<c;++d)b[d]=a[d];return b};a.createView=function(a,b){return new Float64Array(a,b,4)};a.zeros=function(){return n()};a.ones=g;a.unitX=m;a.unitY=h;a.unitZ=e;a.unitW=k;a.ZEROS=n();a.ONES=g();a.UNIT_X=m();a.UNIT_Y=h();a.UNIT_Z=e();a.UNIT_W=k()})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define("require exports ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/earthUtils ../../support/projectionUtils ../../webgl-engine/lib/localOrigin".split(" "),
function(b,a,n,g,m,h,e,k){function p(a,b,c){var e=m.vec3f64.create(),f=Math.ceil(Math.log(a[3])*Math.LOG2E/t),g=Math.pow(2,f*t+d),l;if(c.isGeographic){l=g/h.earthRadius*180/Math.PI;c=Math.round(a[1]/l);var k=Math.max(-90,Math.min(90,c*l)),p=l/Math.cos((Math.abs(k)-l/2)/180*Math.PI);l=Math.round(a[0]/p);e[0]=l*p;e[1]=k}else l=Math.round(a[0]/g),c=Math.round(a[1]/g),e[0]=l*g,e[1]=c*g;a=Math.round((a[2]+b)/g);e[2]=a*g;return{center:e,id:f+"_"+l+"_"+c+"_"+a}}Object.defineProperty(a,"__esModule",{value:!0});
var f=new Float64Array(3E3),c=m.vec3f64.create();a.computeGlobalTransformation=function(a,b,c,d){a=p(a,b,c).center;b=n.mat4f64.create();e.computeLinearTransformation(c,a,b,d);return b};a.reprojectPoints=function(a,b,d,h,k,p,m){var l=a.data,q=a.offsetIdx;a=a.strideIdx;g.vec3.copy(c,b);c[2]+=h;b=[0,0,0];h=l.length/a;e.vectorToVector(c,k,b,p);for(k=0;k<h;k+=1E3){for(var n=Math.min(1E3,h-k),v=0;v<n;v++){var r=q+a*(k+v);f[3*v+0]=l[r+0]+b[0];f[3*v+1]=l[r+1]+b[1];f[3*v+2]=l[r+2]+b[2]}e.bufferToBuffer(f,
p,0,f,m,0,n);for(v=0;v<n;v++){var r=f[3*v+0],w=f[3*v+1],x=f[3*v+2],t=q+a*(k+v);l[t+0]=d[0]*r+d[4]*w+d[8]*x+d[12];l[t+1]=d[1]*r+d[5]*w+d[9]*x+d[13];l[t+2]=d[2]*r+d[6]*w+d[10]*x+d[14]}}};a.createOrigin=function(a,b,c,d){b=p(a,b,c);a=b.center;b=b.id;e.vectorToVector(a,c,a,d);return k.fromVector(a,b)};var d=1,t=5-d})},"esri/views/3d/webgl-engine/lib/localOrigin":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});
a.fromVector=function(a,b){return{vec3:n.vec3f64.clone(a),id:b}};a.fromValues=function(a,b,h,e){return{vec3:n.vec3f64.fromValues(a,b,h),id:e}}})},"esri/views/3d/layers/i3s/I3SUtil":function(){define("require exports ../../../../request ../../../../core/arrayUtils ../../../../core/Error ../../../../core/maybe ../../../../core/promiseUtils ../../../../core/typedArrayUtil ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/SpatialReference ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/webMercatorUtils ../../../../tasks/QueryTask ../../../../tasks/support/Query ./I3SBinaryReader ../../support/projectionUtils ../../support/stack".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w){function r(a){return a&&parseInt(a.substring(a.lastIndexOf("/")+1,a.length),10)}function y(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=a[0]-c,c=c-a[3],h=a[1]-d,d=d-a[4],g=a[2]-e;a=e-a[5];var e=Math.max(f,c,0),l=Math.max(h,d,0),k=Math.max(g,a,0),e=e*e+l*l+k*k;return e>b*b?0:0<e?1:-Math.max(f,c,h,d,g,a)>b?3:2}function G(a,b,c){var d=[],e=c&&c.missingFields;c=c&&c.originalFields;for(var f=0;f<a.length;f++){for(var h=a[f],g=h.toLowerCase(),l=!1,k=0,p=b;k<p.length;k++){var m=
p[k];if(g===m.name.toLowerCase()){d.push(m.name);l=!0;c&&c.push(h);break}}!l&&e&&e.push(h)}return d}function C(a,b){return a.filter(function(a){return a.toLowerCase()!==b.toLowerCase()}).concat([b])}function D(a,b,c,d){b.sort(function(a,b){return a.attributes[c]-b.attributes[c]});var e=b.map(function(a){return a.attributes[c]}),f=[],h=G(d,a.fields,{originalFields:f});return z(a,e,h).then(function(a){for(var c=0;c<b.length;c++){var d=b[c],e=a[c];d.attributes={};for(var g=0;g<f.length;g++)d.attributes[f[g]]=
e[h[g]]}return b})}function A(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];e in b.attributes||c.push(e)}return c}function z(a,b,c){if(null!=a.maxRecordCount&&b.length>a.maxRecordCount){var d=H(b,a.maxRecordCount);return e.all(d.map(function(b){return z(a,b,c)})).then(J)}d=new l({objectIds:b,outFields:c,orderByFields:[a.objectIdField]});return(new q(a.parsedUrl.path)).execute(d).then(function(a){return a&&a.features&&a.features.length===b.length?a.features.map(function(a){return a.attributes}):
e.reject(new m("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer"))})}function B(a,b,c,d,f,h){for(var g=[],l=0;l<b.length;l++){var k=b[l];k&&-1!==f.indexOf(k.name)&&g.push({url:a+"/nodes/"+c.resources.attributes+"/attributes/"+k.key+"/0",storageInfo:k})}return e.eachAlways(g.map(function(a){return n(a.url,{responseType:"array-buffer"}).then(function(b){return v.readBinaryAttribute(a.storageInfo,b.data)})})).then(function(a){var b=[];if(!h.ignoreUnavailableFields&&
a.some(function(a){return null==a.value})){for(var b=[],c=0;c<a.length;c++)null==a[c].value&&b.push({name:g[c].storageInfo.name,error:a[c].error});return e.reject(new m("scenelayer:attribute-request-failed","Request for scene layer attributes failed",{failedAttributes:b}))}for(var f=0;f<d.length;f++){for(var l=d[f],k={},c=0;c<a.length;c++)null!=a[c].value&&(k[g[c].storageInfo.name]=F(a[c].value,l));b.push(k)}return b})}function F(a,b){if(!a)return null;b=a[b];return k.isInt16Array(a)?b===Q?null:b:
k.isInt32Array(a)?b===R?null:b:b!==b?null:b}function H(a,b){var c=a.length;b=Math.ceil(c/b);for(var d=[],e=0;e<b;e++)d.push(a.slice(Math.floor(c*e/b),Math.floor(c*(e+1)/b)));return d}function J(a){for(var b=[],c=0;c<a.length;c++)b=b.concat(a[c]);return b}function E(a){var b=new c(r(a.store.indexCRS||a.store.geographicCRS));return b.equals(a.spatialReference)?a.spatialReference:b}function K(a){var b=new c(r(a.store.vertexCRS||a.store.projectedCRS));return b.equals(a.spatialReference)?a.spatialReference:
b}function I(a,b,c){if(!t.canProject(a,b))throw new m("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===c&&a.isGeographic)throw new m("layerview:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes",{});}function O(a,b,c){var d=E(a);a=K(a);I(d,b,c);I(a,b,c)}Object.defineProperty(a,"__esModule",{value:!0});a.DDS_ENCODING_STRING="image/vnd-ms.dds";a.BROWSER_SUPPORTED_IMAGE_ENCODING_STRINGS=
["image/jpeg","image/png"];a.extractWkid=r;a.selectEncoding=function(b,c){if(c)for(c=0;c<b.length;c++)if(b[c].encoding===a.DDS_ENCODING_STRING)return b[c];for(c=0;c<b.length;c++)if(-1<a.BROWSER_SUPPORTED_IMAGE_ENCODING_STRINGS.indexOf(b[c].encoding))return b[c];return null};a.findIntersectingNodes=function(a,b,c,d,e,f){e.traverse(c,function(c){var e=c.mbs;b!==d&&(e=P,x.mbsToMbs(c.mbs,d,e,b));e=y(a,e);if(0!==e)return f(c,e),!0})};a.filterInPlace=function(a,b,c){for(var d=0,e=0,f=0;f<b.length&&d<a.length;f++)a[d]===
b[f]&&(c(f)&&(a[e]=a[d],e++),d++);a.length=e};var N=d.create();a.getClipAABB=function(a,b){var c=p.mat4.copy(w.sm4d.get(),b.objectTransformation);b=b.getGeometryRecords()[0].getShaderTransformation();p.mat4.multiply(c,c,b);if(0===c[1]&&0===c[2]&&0===c[3]&&0===c[4]&&0===c[6]&&0===c[7]&&0===c[8]&&0===c[9]&&0===c[11]&&1===c[15])return N[0]=(a[0]-c[12])/c[0],N[1]=(a[1]-c[13])/c[5],N[2]=(a[2]-c[14])/c[10],N[3]=(a[3]-c[12])/c[0],N[4]=(a[4]-c[13])/c[5],N[5]=(a[5]-c[14])/c[10],N};var P=f.vec4f64.create();
a.intersectBoundingBoxWithMbs=y;a.findFieldsCaseInsensitive=G;a.whenGraphicAttributes=function(a,b,c,d,f,h){var l=!0===(h&&h.populateObjectId),k=h.ignoreUnavailableFields?void 0:[],p=1===d.length&&"*"===d[0];!p&&l&&(d=C(d,c));d=p?d:G(d,a.fields,{missingFields:k});if(k&&0!==k.length)return e.reject(new m("scenelayer:unknown-fields","This scene layer does not have the requested fields",{unknownFields:k}));if(0===b.length)return e.resolve(b);var k=a.associatedLayer,q=a.attributeStorageInfo,n=p?a.fields.map(function(a){return a.name}):
d;if(k)return D(k,b,c,n);var v=A(n,b[0]);if(0===v.length)return e.resolve(b);if(q){b=f(b);if(!b)return e.reject(new m("scenelayer:features-not-loaded","Tried to query attributes for unloaded features"));var r=a.parsedUrl.path;return e.all(b.map(function(a){return B(r,q,a.node,a.indices,v,h).then(function(b){for(var c=0;c<a.graphics.length;c++){for(var d=0,e=n;d<e.length;d++){var f=e[d];f in b[c]||(b[c][f]=a.graphics[c].attributes[f])}a.graphics[c].attributes=b[c]}return a.graphics})})).then(g.flatten)}return e.reject(new m("scenelayer:no-attribute-source",
"This scene layer does not have a source for attributes available"))};var Q=-Math.pow(2,15),R=-Math.pow(2,31);a.getCachedAttributeValue=F;a.convertFlatRangesToOffsets=function(a,b,c){b=null!=b?b:a.length/c;for(var d=new Uint32Array(b+1),e=0;e<b;e++){var f=a[e*c];d[e]=3*f;var h=(e-1)*c+1;if(0<=h&&f-1!==a[h])throw new m("Face ranges are not continuous");}d[d.length-1]=3*(a[(b-1)*c+1]+1);return d};a.getIndexCrs=E;a.getVertexCrs=K;a.getCacheKeySuffix=function(a,b){return b===x.SphericalECEFSpatialReference?
"@ECEF":a.equals(b)?"":null!=b.wkid?"@"+b.wkid:null};a.checkSpatialReference=I;a.checkSpatialReferences=O;a.checkSceneLayerValid=function(a){var b;(b=null==a.store||null==a.store.defaultGeometrySchema)||(a=a.store.defaultGeometrySchema,b=!!(null!=a.geometryType&&"triangles"!==a.geometryType||null!=a.topology&&"PerAttributeArray"!==a.topology||null==a.vertexAttributes||null==a.vertexAttributes.position));if(b)throw new m("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",
{});};a.checkSceneLayerCompatibleWithView=function(a,b){O(a,b.spatialReference,b.viewingMode)};a.checkPointCloudLayerValid=function(a){var b;(b=null==a.store||null==a.store.defaultGeometrySchema)||(a=a.store.defaultGeometrySchema,b=!!(null==a.geometryType||"points"!==a.geometryType||null!=a.topology&&"PerAttributeArray"!==a.topology||null!=a.encoding&&""!==a.encoding&&"lepcc-xyz"!==a.encoding||null==a.vertexAttributes||null==a.vertexAttributes.position));if(b)throw new m("pointcloud:unsupported-geometry-schema",
"The geometry schema of this point cloud scene layer is not supported.",{});};a.checkPointCloudLayerCompatibleWithView=function(a,b){I(a.spatialReference,b.spatialReference,b.viewingMode)};a.rendererNeedsTextures=function(a){if(null==a||"simple"!==a.type&&"class-breaks"!==a.type&&"unique-value"!==a.type||("unique-value"===a.type||"class-breaks"===a.type)&&null==a.defaultSymbol)return!0;a=a.getSymbols();if(0===a.length)return!0;for(var b=0;b<a.length;b++){var c=a[b];if("mesh-3d"!==c.type||0===c.symbolLayers.length)return!0;
for(var d=0,c=c.symbolLayers.items;d<c.length;d++){var e=c[d];if("fill"!==e.type||h.isNone(e.material)||h.isNone(e.material.color)||"replace"!==e.material.colorMixMode)return!0}}return!1};var U=function(){return function(){this.material=this.edges=null;this.castShadows=!0}}();a.SymbolInfo=U;a.getSymbolInfo=function(a){var b=new U,c=!1,d=!1,e=0;for(a=a.symbolLayers.items;e<a.length;e++){var f=a[e];if("fill"===f.type&&f.enabled){var g=f.material,l=f.edges;h.isSome(g)&&!c&&(c=g.color,g=g.colorMixMode,
h.isSome(c)?b.material={color:[c.r/255,c.g/255,c.b/255],alpha:c.a,colorMixMode:g}:b.material={color:[1,1,1],alpha:1,colorMixMode:"multiply"},b.castShadows=f.castShadows,c=!0);h.isSome(l)&&!d&&(b.edges=l,d=!0)}}b.material||(b.material={color:[1,1,1],alpha:1,colorMixMode:"multiply"});return b};a.addWraparound=function(a,b){return(a|0)+(b|0)|0}})},"esri/tasks/QueryTask":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../geometry ../core/accessorSupport/decorators ./Task ./operations/query ./operations/queryAttachments ./operations/queryRelatedRecords ./support/AttachmentQuery ./support/FeatureSet ./support/Query ./support/RelationshipQuery".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v){return function(a){function b(b){b=a.call(this,b)||this;b.gdbVersion=null;b.source=null;return b}n(b,a);b.prototype.execute=function(a,b){return this.executeJSON(a,b).then(function(a){return q.fromJSON(a)})};b.prototype.executeJSON=function(a,b){return f.executeQuery(this.parsedUrl,this._normalizeQuery(a),h({},this.requestOptions,b)).then(function(a){return a.data})};b.prototype.executeForCount=function(a,b){return f.executeQueryForCount(this.parsedUrl,this._normalizeQuery(a),
h({},this.requestOptions,b)).then(function(a){return a.data.count})};b.prototype.executeForExtent=function(a,b){return f.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(a),h({},this.requestOptions,b)).then(function(a){return{count:a.data.count,extent:e.Extent.fromJSON(a.data.extent)}})};b.prototype.executeForIds=function(a,b){return f.executeQueryForIds(this.parsedUrl,this._normalizeQuery(a),h({},this.requestOptions,b)).then(function(a){return a.data.objectIds})};b.prototype.executeRelationshipQuery=
function(a,b){a=v.from(a);if(this.gdbVersion||this.source)a=a.clone().set({gdbVersion:this.gdbVersion||a.gdbVersion,source:this.source||a.source});return d.executeRelationshipQuery(this.parsedUrl,a,h({},this.requestOptions,b)).then(function(a){var b=a.data,c={};Object.keys(b).forEach(function(a){return c[a]=q.fromJSON(b[a])});return c})};b.prototype.executeAttachmentQuery=function(a,b){var d=this;return c.executeAttachmentQuery(this.parsedUrl,t.from(a),h({},this.requestOptions,b)).then(function(a){return c.processAttachmentQueryResult(a.data.attachmentGroups,
d.parsedUrl.path)})};b.prototype._normalizeQuery=function(a){if(!this.gdbVersion&&!this.source)return a;a=l.from(a);return a.clone().set({gdbVersion:this.gdbVersion||a.gdbVersion,source:this.source||a.source})};g([k.property()],b.prototype,"gdbVersion",void 0);g([k.property()],b.prototype,"source",void 0);return b=g([k.subclass("esri.tasks.QueryTask")],b)}(k.declared(p))})},"esri/tasks/Task":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e,k,p){return function(a){function b(b){b=a.call(this)||this;b.requestOptions=null;b.url=null;return b}n(b,a);b.prototype.normalizeCtorArgs=function(a,b){return"string"!==typeof a?a:h({url:a},b)};Object.defineProperty(b.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!0,configurable:!0});b.prototype._parseUrl=function(a){return a?k.urlToObject(a):null};b.prototype._encode=function(a,b,c){var d={},e;for(e in a)if("declaredClass"!==e){var f=a[e];
if(null!=f&&"function"!==typeof f)if(Array.isArray(f)){d[e]=[];for(var h=0;h<f.length;h++)d[e][h]=this._encode(f[h])}else"object"===typeof f?f.toJSON&&(f=f.toJSON(c&&c[e]),d[e]=b?f:JSON.stringify(f)):d[e]=f}return d};g([p.property({readOnly:!0,dependsOn:["url"]})],b.prototype,"parsedUrl",null);g([p.property()],b.prototype,"requestOptions",void 0);g([p.property({type:String})],b.prototype,"url",void 0);return b=g([p.subclass("esri.tasks.Task")],b)}(p.declared(e))})},"esri/tasks/operations/query":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/asyncUtils ../../core/maybe ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/normalizeUtils ./pbfQueryUtils ./PBFWorker ./urlUtils @dojo/framework/shim/Promise".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){function t(a,b){var c=a.geometry;a=a.toJSON();c&&(a.geometry=JSON.stringify(c),a.geometryType=k.getJsonType(c),a.inSR=c.spatialReference.wkid||JSON.stringify(c.spatialReference));a.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=a.groupByFieldsForStatistics.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.orderByFields&&(a.orderByFields=a.orderByFields.join(","));!a.outFields||b&&(b.returnCountOnly||b.returnExtentOnly||b.returnIdsOnly)?delete a.outFields:
-1!==a.outFields.indexOf("*")?a.outFields="*":a.outFields=a.outFields.join(",");a.outSR?a.outSR=a.outSR.wkid||JSON.stringify(a.outSR):c&&(a.returnGeometry||a.returnCentroid)&&(a.outSR=a.inSR);a.returnGeometry&&delete a.returnGeometry;a.outStatistics&&(a.outStatistics=JSON.stringify(a.outStatistics));a.pixelSize&&(a.pixelSize=JSON.stringify(a.pixelSize));a.quantizationParameters&&(a.quantizationParameters=JSON.stringify(a.quantizationParameters));a.source&&(a.layer=JSON.stringify({source:a.source}),
delete a.source);if(a.timeExtent){c=a.timeExtent;b=c.start;c=c.end;if(null!=b||null!=c)a.time=b===c?b:(null==b?"null":b)+","+(null==c?"null":c);delete a.timeExtent}return a}function q(a,b,c,f,l){void 0===f&&(f={});var k="string"===typeof a?e.urlToObject(a):a;a=b.geometry?[b.geometry]:[];f.responseType="pbf"===c?"array-buffer":"json";return m.safeCast(p.normalizeCentralMeridian(a,null,f)).then(function(a){a=a&&a[0];h.isSome(a)&&(b=b.clone(),b.geometry=a);a=d.mapParameters(n({},k.query,{f:c},l,t(b,
l)));return g(k.path+"/query",n({},f,{query:a}))})}Object.defineProperty(a,"__esModule",{value:!0});a.queryToQueryStringParameters=t;a.executeQuery=function(a,b,c){return q(a,b,"json",c)};a.executeQueryPBF=function(a,b,d,e){return q(a,b,"pbf",e).then(function(a){var b=function(b){a.data=b;return a};return d.useWorker?(null==l&&(l=new c.PBFWorker),l.parseFeatureQuery(a.data,d).then(function(a){return b(a)})):b(f.parsePBFFeatureQuery(a.data,d))})};a.executeQueryForIds=function(a,b,c){return q(a,b,"json",
c,{returnIdsOnly:!0})};a.executeQueryForCount=function(a,b,c){return q(a,b,"json",c,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(a,b,c){return q(a,b,"json",c,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(a){var b=a.data;if(b.hasOwnProperty("extent"))return a;if(b.features)throw Error("Layer does not support extent calculation.");if(b.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return a})};var l})},"esri/geometry/support/normalizeUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../config ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v){function x(a){return"polygon"===a.type?a.rings:a.paths}function w(a,b){return Math.ceil((a-b)/(2*b))}function r(a,b){for(var c=0,d=x(a);c<d.length;c++)for(var e=0,f=d[c];e<f.length;e++)f[e][0]+=b;return a}function y(a){for(var b=[],c=0,d=0,e=0;e<a.length;e++){for(var f=a[e],h=null,g=0;g<f.length;g++)h=f[g],b.push(h),0===g?d=c=h[0]:(c=Math.min(c,h[0]),d=Math.max(d,h[0]));h&&b.push([(c+d)/2,0])}return b}function G(a,b){if(!(a instanceof c||a instanceof f))throw B.error("straightLineDensify: the input geometry is neither polyline nor polygon"),
new h("straightLineDensify: the input geometry is neither polyline nor polygon");for(var d=[],e=0,g=x(a);e<g.length;e++){var l=g[e],k=[];d.push(k);k.push([l[0][0],l[0][1]]);for(var p=0;p<l.length-1;p++){var m=l[p][0],q=l[p][1],n=l[p+1][0],v=l[p+1][1],r=Math.sqrt((n-m)*(n-m)+(v-q)*(v-q)),w=(v-q)/r,t=(n-m)/r,y=r/b;if(1<y){for(var u=1;u<=y-1;u++){var G=u*b;k.push([t*G+m,w*G+q])}r=(r+Math.floor(y-1)*b)/2;k.push([t*r+m,w*r+q])}k.push([n,v])}}return"polygon"===a.type?new f({rings:d,spatialReference:a.spatialReference}):
new c({paths:d,spatialReference:a.spatialReference})}function C(a,b,c){b&&(a=G(a,1E6),a=q.webMercatorToGeographic(a,!0));c&&(a=r(a,c));return a}function D(a,b,c){if(Array.isArray(a)){var d=a[0];if(d>b){var e=w(d,b);a[0]=d+-2*e*b}else d<c&&(e=w(d,c),a[0]=d+-2*e*c)}else d=a.x,d>b?(e=w(d,b),a=a.clone().offset(-2*e*b,0)):d<c&&(e=w(d,c),a=a.clone().offset(-2*e*c,0));return a}function A(a,b){for(var c=-1,d=function(d){var e=b.cutIndexes[d],f=b.geometries[d],h=x(f);d=function(a){var b=h[a];b.some(function(c){if(180>
c[0])return!0;for(var d=c=0;d<b.length;d++){var e=b[d][0];c=e>c?e:c}c=Number(c.toFixed(9));c=-360*w(c,180);for(d=0;d<b.length;d++)e=f.getPoint(a,d),f.setPoint(a,d,e.clone().offset(c,0));return!0})};for(var g=0;g<h.length;g++)d(g);if(e===c)if("polygon"===a[0].type)for(d=0,g=x(f);d<g.length;d++)a[e]=a[e].addRing(g[d]);else{if("polyline"===a[0].type)for(d=0,g=x(f);d<g.length;d++)a[e]=a[e].addPath(g[d])}else c=e,a[e]=f},e=0;e<b.cutIndexes.length;e++)d(e);return a}function z(a,b,d){return g(this,void 0,
void 0,function(){var e,h,g,x,y,G,B,H,J,E,Y,S,T,u,M,X,aa,ja,na,la,ia,ma,ba,sa,va,ra,pa,ha,xa,ca,V,W,da,ga,ka,Ca,Ba;return n(this,function(n){switch(n.label){case 0:if(!Array.isArray(a))return[2,z([a],b)];e=b?b.url:m.geometryServiceUrl;E=0;Y=[];S=[];T=0;for(u=a;T<u.length;T++)M=u[T],k.isNone(M)?S.push(M):(h||(h=M.spatialReference,g=t.getInfo(h),B=(x=h.isWebMercator)?102100:4326,y=F[B].maxX,G=F[B].minX,H=F[B].plus180Line,J=F[B].minus180Line),g?"mesh"===M.type?S.push(M):"point"===M.type?S.push(D(M.clone(),
y,G)):"multipoint"===M.type?(X=M.clone(),X.points=X.points.map(function(a){return D(a,y,G)}),S.push(X)):"extent"===M.type?(aa=M.clone(),ja=aa._normalize(!1,!1,g),S.push(ja.rings?new f(ja):ja)):M.extent?(aa=M.extent,na=w(aa.xmin,G),la=2*na*y,ia=0===la?M.clone():r(M.clone(),la),aa.offset(la,0),aa.intersects(H)&&aa.xmax!==y?(E=aa.xmax>E?aa.xmax:E,ia=C(ia,x),Y.push(ia),S.push("cut")):aa.intersects(J)&&aa.xmin!==G?(E=2*aa.xmax*y>E?2*aa.xmax*y:E,ia=C(ia,x,360),Y.push(ia),S.push("cut")):S.push(ia)):S.push(M.clone()):
S.push(M));ma=w(E,y);ba=-90;sa=ma;for(va=new c;0<ma;)ra=-180+360*ma,va.addPath([[ra,ba],[ra,-1*ba]]),ba*=-1,ma--;return 0<Y.length&&0<sa?[4,l.cut(e,Y,va,d)]:[3,3];case 1:pa=n.sent();ha=A(Y,pa);xa=[];ca=[];for(V=0;V<S.length;V++)W=S[V],"cut"!==W?ca.push(W):(da=ha.shift(),ga=a[V],k.isSome(ga)&&"polygon"===ga.type&&ga.rings&&1<ga.rings.length&&da.rings.length>=ga.rings.length?(xa.push(da),ca.push("simplify")):ca.push(x?q.geographicToWebMercator(da):da));return xa.length?[4,v.simplify(e,xa,d)]:[2,ca];
case 2:ka=n.sent();Ca=[];for(V=0;V<ca.length;V++)W=ca[V],"simplify"!==W?Ca.push(W):Ca.push(x?q.geographicToWebMercator(ka.shift()):ka.shift());return[2,Ca];case 3:Ba=[];for(V=0;V<S.length;V++)W=S[V],"cut"!==W?Ba.push(W):(da=Y.shift(),Ba.push(!0===x?q.geographicToWebMercator(da):da));return[2,p.resolve(Ba)]}})})}Object.defineProperty(a,"__esModule",{value:!0});var B=e.getLogger("esri.geometry.support.normalizeUtils"),F={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new c({paths:[[[2.0037508342788905E7,
-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator}),minus180Line:new c({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new c({paths:[[[180,-180],[180,180]]],spatialReference:d.WebMercator}),minus180Line:new c({paths:[[[-180,-180],[-180,180]]],spatialReference:d.WebMercator})}};a.straightLineDensify=G;a.normalizeCentralMeridian=
z;a.getDenormalizedExtent=function(a){var b;if(!a)return null;var c=a.extent;if(!c)return null;var d=a.spatialReference&&t.getInfo(a.spatialReference);if(!d)return c;var d=d.valid,e=d[0],d=d[1],f=c.width,h=c.xmin;b=c.xmax;b=[b,h];h=b[0];b=b[1];if("extent"===a.type||0===f||f<=d||f>2*d||h<e||b>d)return c;var g;switch(a.type){case "polygon":if(1<a.rings.length)g=y(a.rings);else return c;break;case "polyline":if(1<a.paths.length)g=y(a.paths);else return c;break;case "multipoint":g=a.points}a=c.clone();
for(e=0;e<g.length;e++){var l=g[e][0];0>l?(l+=d,b=Math.max(l,b)):(l-=d,h=Math.min(l,h))}a.xmin=h;a.xmax=b;return a.width<f?(a.xmin-=d,a.xmax-=d,a):c};a.normalizeMapX=function(a,b){if(b=t.getInfo(b)){var c=b.valid;b=c[0];var c=c[1],d=c-b;if(a<b)for(;a<b;)a+=d;if(a>c)for(;a>c;)a-=d}return a}})},"esri/tasks/geometry/cut":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
function(b,a,n,g,m,h,e,k,p){Object.defineProperty(a,"__esModule",{value:!0});a.cut=function(a,b,d,t){return g(this,void 0,void 0,function(){var c,f,g,x,w,r,y,G;return m(this,function(l){switch(l.label){case 0:return c="string"===typeof a?k.urlToObject(a):a,f=b[0].spatialReference,g=n({},t,{query:n({},c.query,{f:"json",sr:JSON.stringify(f),target:JSON.stringify({geometryType:p.getJsonType(b[0]),geometries:b}),cutter:JSON.stringify(d)})}),[4,e(c.path+"/cut",g)];case 1:return x=l.sent(),w=x.data,r=w.cutIndexes,
y=w.geometries,G=void 0===y?[]:y,[2,{cutIndexes:r,geometries:G.map(function(a){return h.fromJSON(a).set(f)})}]}})})}})},"esri/tasks/geometry/simplify":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(b,a,n,g,m,h,e,k){function p(a){return{geometryType:k.getJsonType(a[0]),geometries:a.map(function(a){return a.toJSON()})}}
function f(a,b,e){var c=k.getGeometryType(b);return a.map(function(a){a=c.fromJSON(a);a.spatialReference=e;return a})}Object.defineProperty(a,"__esModule",{value:!0});a.simplify=function(a,b,t){return g(this,void 0,void 0,function(){var c,d,g,x,w;return m(this,function(l){switch(l.label){case 0:return c="string"===typeof a?e.urlToObject(a):a,d=b[0].spatialReference,g=k.getJsonType(b[0]),x=n({},t,{query:n({},c.query,{f:"json",sr:d.wkid?d.wkid:JSON.stringify(d),geometries:JSON.stringify(p(b))})}),[4,
h(c.path+"/simplify",x)];case 1:return w=l.sent(),[2,f(w.data,g,d)]}})})}})},"esri/tasks/operations/pbfQueryUtils":function(){define(["require","exports","./pbfFeatureServiceParser"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.parsePBFFeatureQuery=function(a,b){if((a=n.parseFeatureQuery(a,b).queryResult.featureResult)&&a.features&&a.features.length&&a.objectIdFieldName){b=a.objectIdFieldName;for(var h=0,e=a.features;h<e.length;h++){var g=e[h];g.attributes&&(g.objectId=g.attributes[b])}}return a}})},
"esri/tasks/operations/pbfFeatureServiceParser":function(){define("require exports ../../core/Error ../../core/Logger ../../core/pbf ./pbfDehydratedFeatureSet ./pbfOptimizedFeatureSet".split(" "),function(b,a,n,g,m,h,e){function k(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getSInt32();case 5:return a.getUInt32();case 6:return a.getInt64();case 7:return a.getUInt64();case 8:return a.getSInt64();case 9:return a.getBool();
default:return a.skip(),null}return null}function p(a){for(var b={type:0>=d.length?null:d[0]};a.next();)switch(a.tag()){case 1:b.name=a.getString();break;case 2:var c=a.getEnum();b.type=c>=d.length?null:d[c];break;case 3:b.alias=a.getString();break;case 4:c=a.getEnum();c=c>=t.length?null:t[c];b.sqlType=c;break;default:a.skip()}return b}function f(a,b,c,d){for(var e=a.createFeature(b),f=0;c.next();)switch(c.tag()){case 1:var h=d[f++].name;e.attributes[h]=k(c.getMessage());break;case 2:for(var h=a,
g=b,l=c.getMessage(),p=h.createGeometry(g),g=2+(g.hasZ?1:0)+(g.hasM?1:0);l.next();)switch(l.tag()){case 2:for(var m=l.getUInt32(),m=l.pos()+m,q=0;l.pos()<m;)h.addLength(p,l.getUInt32(),q++);break;case 3:for(var m=l.getUInt32(),m=l.pos()+m,n=q=0;l.pos()<m;)h.addCoordinate(p,l.getSInt64(),n,q),q++,q===g&&(n++,q=0);break;default:l.skip()}e.geometry=p;break;case 4:h=a;l=c.getMessage();for(p=h.createPointGeometry(b);l.next();)switch(l.tag()){case 3:g=l.getUInt32();g=l.pos()+g;for(m=0;l.pos()<g;)h.addCoordinatePoint(p,
l.getSInt64(),0,m++);break;default:l.skip()}e.centroid=p;break;default:c.skip()}return e}Object.defineProperty(a,"__esModule",{value:!0});var c=g.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),d="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),t="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
q=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(a,b){b=b&&"dehydrated"===b.type?new h.Context(b):new e.Context(b);try{var d=new m(new Uint8Array(a),new DataView(a));for(a={};d.next();)switch(d.tag()){case 2:for(var g=a,l=b,k=d.getMessage(),v={};k.next();)switch(k.tag()){case 1:var t=l,D=k.getMessage(),A=t.createFeatureResult();A.geometryType=0>=t.geometryTypes.length?null:t.geometryTypes[0];for(var z=!1;D.next();)switch(D.tag()){case 1:A.objectIdFieldName=D.getString();break;case 3:A.globalIdFieldName=
D.getString();break;case 4:A.geohashFieldName=D.getString();break;case 5:for(var B=D.getMessage(),F={};B.next();)switch(B.tag()){case 1:F.shapeAreaFieldName=B.getString();break;case 2:F.shapeLengthFieldName=B.getString();break;case 3:F.units=B.getString();break;default:B.skip()}A.geometryProperties=F;break;case 7:var H=D.getEnum();A.geometryType=H>=t.geometryTypes.length?null:t.geometryTypes[H];break;case 8:for(var J=D.getMessage(),E=t.createSpatialReference();J.next();)switch(J.tag()){case 1:E.wkid=
J.getUInt32();break;case 5:E.wkt=J.getString();break;default:J.skip()}A.spatialReference=E;break;case 10:A.hasZ=D.getBool();break;case 11:A.hasM=D.getBool();break;case 12:for(var K=D.getMessage(),I={originPosition:0>=q.length?null:q[0]};K.next();)switch(K.tag()){case 1:var O=K.getEnum();I.originPosition=O>=q.length?null:q[O];break;case 2:for(var N=K.getMessage(),F=[0,0,0,0];N.next();)switch(N.tag()){case 1:F[0]=N.getDouble();break;case 2:F[1]=N.getDouble();break;case 4:F[2]=N.getDouble();break;case 3:F[3]=
N.getDouble();break;default:N.skip()}I.scale=F;break;case 3:for(var P=K.getMessage(),F=[0,0,0,0];P.next();)switch(P.tag()){case 1:F[0]=P.getDouble();break;case 2:F[1]=P.getDouble();break;case 4:F[2]=P.getDouble();break;case 3:F[3]=P.getDouble();break;default:P.skip()}I.translate=F;break;default:K.skip()}A.transform=I;break;case 9:var Q=D.getBool();A.exceededTransferLimit=Q;break;case 13:t.addField(A,p(D.getMessage()));break;case 15:z||(t.prepareFeatures(A),z=!0);t.addFeature(A,f(t,A,D.getMessage(),
A.fields));break;default:D.skip()}t.finishFeatureResult(A);v.featureResult=A;break;default:k.skip()}g.queryResult=v;break;default:d.skip()}return a}catch(R){return d=new n("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:R}),c.error(d),{queryResult:{featureResult:b.createFeatureResult()}}}}})},"esri/tasks/operations/pbfDehydratedFeatureSet":function(){define("require exports ../../Graphic ../../core/compilerUtils ../../geometry/SpatialReference ../../layers/graphics/dehydratedFeatures ../../layers/support/Field".split(" "),
function(b,a,n,g,m,h,e){function k(a,b,c,d){return b}function p(a,b,c,d){switch(c){case 0:return t(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1]}}function f(a,b,c,d){switch(c){case 0:return t(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return t(a,b,2)}}function c(a,b,c,d){switch(c){case 0:return t(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];case 2:return t(a,b,3)}}function d(a,b,c,d){switch(c){case 0:return t(a,b+d,0);case 1:return a.translate[1]-(b+d)*a.scale[1];
case 2:return t(a,b,3);case 3:return t(a,b,3)}}function t(a,b,c){return a.translate[c]+b*a.scale[c]}Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a){this.options=a;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=k;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}
a.prototype.createFeatureResult=function(){return new h.DehydratedFeatureSetClass};a.prototype.finishFeatureResult=function(a){this.options.applyTransform&&(a.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0};a.prototype.createSpatialReference=function(){return new m};a.prototype.addField=function(a,b){a.fields.push(e.fromJSON(b));var c=a.fields.map(function(a){return a.name});this.AttributesConstructor=function(){for(var a=0;a<c.length;a++)this[c[a]]=
null}};a.prototype.addFeature=function(a,b){var c=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<c)for(var d in b.attributes){var e=b.attributes[d];"string"===typeof e&&e.length>c&&(b.attributes[d]="")}a.features.push(b)};a.prototype.prepareFeatures=function(a){this.options.applyTransform&&a.transform&&(this.transform=a.transform,this.applyTransform=this.deriveApplyTransform(a));this.vertexDimension=2;a.hasZ&&this.vertexDimension++;a.hasM&&this.vertexDimension++;
switch(a.geometryType){case "point":this.addCoordinate=this.addCoordinatePoint.bind(this);this.createGeometry=this.createPointGeometry.bind(this);break;case "polygon":this.addCoordinate=this.addCoordinatePolygon.bind(this);this.createGeometry=this.createPolygonGeometry.bind(this);break;case "polyline":this.addCoordinate=this.addCoordinatePolyline.bind(this);this.createGeometry=this.createPolylineGeometry.bind(this);break;case "multipoint":this.addCoordinate=this.addCoordinateMultipoint.bind(this);
this.createGeometry=this.createMultipointGeometry.bind(this);break;default:g.neverReached(a.geometryType)}};a.prototype.createFeature=function(a){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return new h.DehydratedFeatureClass(n.generateUID(),null,new this.AttributesConstructor)};a.prototype.addLength=function(a,b,c){0===this.lengths.length&&(this.toAddInCurrentPath=b);this.lengths.push(b)};
a.prototype.createPointGeometry=function(a){a={type:"point",x:0,y:0,spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM};a.hasZ&&(a.z=0);a.hasM&&(a.m=0);return a};a.prototype.addCoordinatePoint=function(a,b,c,d){b=this.applyTransform(this.transform,b,d,0);switch(d){case 0:a.x=b;break;case 1:a.y=b;break;case 2:a.hasZ?a.z=b:a.m=b;break;case 3:a.m=b}};a.prototype.transformPathLikeValue=function(a,b){var c=0;1>=b&&(c=this.previousCoordinate[b],this.previousCoordinate[b]+=a);return this.applyTransform(this.transform,
a,b,c)};a.prototype.addCoordinatePolyline=function(a,b,c,d){this.dehydratedAddPointsCoordinate(a.paths,b,c,d)};a.prototype.addCoordinatePolygon=function(a,b,c,d){this.dehydratedAddPointsCoordinate(a.rings,b,c,d)};a.prototype.addCoordinateMultipoint=function(a,b,c){0===c&&a.points.push([]);b=this.transformPathLikeValue(b,c);a.points[a.points.length-1].push(b)};a.prototype.createPolygonGeometry=function(a){return{type:"polygon",rings:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};
a.prototype.createPolylineGeometry=function(a){return{type:"polyline",paths:[[]],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.createMultipointGeometry=function(a){return{type:"multipoint",points:[],spatialReference:a.spatialReference,hasZ:!!a.hasZ,hasM:!!a.hasM}};a.prototype.dehydratedAddPointsCoordinate=function(a,b,c,d){null===this.coordinateBuffer&&(c=this.lengths.reduce(function(a,b){return a+b},0),this.coordinateBuffer=new Float64Array(c*this.vertexDimension));
0===d&&0===this.toAddInCurrentPath--&&(a.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);b=this.transformPathLikeValue(b,d);a=a[a.length-1];0===d&&a.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=b};a.prototype.deriveApplyTransform=function(a){var b=a.hasZ;a=a.hasM;return b&&a?d:b?
f:a?c:p};return a}();a.Context=b})},"esri/tasks/operations/pbfOptimizedFeatureSet":function(){define(["require","exports","../../layers/graphics/OptimizedFeature","../../layers/graphics/OptimizedFeatureSet","../../layers/graphics/OptimizedGeometry"],function(b,a,n,g,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a){this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]}a.prototype.createFeatureResult=function(){return new g.default};
a.prototype.prepareFeatures=function(){};a.prototype.finishFeatureResult=function(){};a.prototype.addFeature=function(a,b){a.features.push(b)};a.prototype.createFeature=function(){return new n.default};a.prototype.createSpatialReference=function(){return{wkid:0}};a.prototype.createGeometry=function(){return new m.default};a.prototype.addField=function(a,b){a.fields.push(b)};a.prototype.addCoordinate=function(a,b){a.coords.push(b)};a.prototype.addCoordinatePoint=function(a,b){a.coords.push(b)};a.prototype.addLength=
function(a,b){a.lengths.push(b)};a.prototype.createPointGeometry=function(){return new m.default};return a}();a.Context=b})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(a,b,m,h){void 0===a&&(a=null);void 0===b&&(b={});this.geometry=a;b&&(this.attributes=b);m&&(this.centroid=m);null!=h&&(this.objectId=h)}}();a.default=b})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();a.default=b})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});
b=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();a.default=b})},"esri/tasks/operations/PBFWorker":function(){define("require exports ../../core/tsSupport/extendsHelper ../../Graphic ../../core/promiseUtils ../../core/requireUtils ../../core/workers ../../geometry/SpatialReference ../../layers/support/Field ./pbfQueryUtils module".split(" "),function(b,a,n,g,m,h,e,k,p,f,c){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function a(){}
a.prototype._parseFeatureQuery=function(a){var b=f.parsePBFFeatureQuery(a.buffer,a.options);if(a.options&&"dehydrated"===a.options.type&&(b.spatialReference=b.spatialReference.toJSON(),b.fields))for(a=0;a<b.fields.length;a++)b.fields[a]=b.fields[a].toJSON();return m.resolve(b)};return a}(),t=function(a){function d(){var d=a.call(this)||this;d._thread=void 0;e.open(h.getAbsMid("./PBFWorker",b,c),{strategy:"dedicated"}).then(function(a){void 0===d._thread?d._thread=a:a.close()});return d}n(d,a);d.prototype.destroy=
function(){this._thread&&this._thread.close();this._thread=null};d.prototype.parseFeatureQuery=function(a,b){return a&&0!==a.byteLength?this._thread?this._thread.invoke("_parseFeatureQuery",{buffer:a,options:b},{transferList:[a]}).then(function(a){if(b&&"dehydrated"===b.type){a.spatialReference=k.fromJSON(a.spatialReference);if(a.fields)for(var c=0;c<a.fields.length;c++)a.fields[c]=p.fromJSON(a.fields[c]);for(var c=a.spatialReference,d=0,e=a.features;d<e.length;d++){var f=e[d];f.uid=g.generateUID();
f.geometry&&(f.geometry.spatialReference=c)}}return a}):m.resolve(f.parsePBFFeatureQuery(a,b)):m.resolve(null)};return d}(d);a.PBFWorker=t;a.default=function(){return new d}})},"esri/core/requireUtils":function(){define(["require","exports","./promiseUtils"],function(b,a,n){function g(a,b){return Array.isArray(b)?n.create(function(e){a(b,function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];e(a)})}):g(a,[b]).then(function(a){return a[0]})}Object.defineProperty(a,"__esModule",{value:!0});
a.when=g;a.getAbsMid=function(a,b,e){return b.toAbsMid?b.toAbsMid(a):e.id.replace(/\/[^\/]*$/gi,"/")+a}})},"esri/core/workers":function(){define(["require","exports","./workers/workers"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});for(var g in n)a.hasOwnProperty(g)||(a[g]=n[g])})},"esri/core/workers/workers":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),
function(b,a,n,g,m,h,e,k,p,f){function c(){return g(this,void 0,void 0,function(){var a,b,c,h;return n(this,function(g){if(v)return[2,v];x=e.createAbortController();a=d+t;b=[];c=function(a){var c=f.create(a).then(function(b){return l[a]=b});b.push(c)};for(h=0;h<a;h++)c(h);v=e.all(b);return[2,v]})})}Object.defineProperty(a,"__esModule",{value:!0});a.Connection=k;a.RemoteClient=p;(k=h("host-browser")?navigator.hardwareConcurrency:0)||(k=h("safari")&&h("mac")||h("trident")?8:2);var d=h("esri-workers-debug")?
1:Math.max(1,Math.ceil(k/2)),t=h("esri-workers-debug")?1:Math.max(1,Math.floor(k/2)),q=0,l=[];a.initialize=function(){c()};a.openWithPorts=function(b,c){return new a.Connection(b.map(function(b){return new a.RemoteClient(b,c,{})}))};a.open=function(f,k){void 0===k&&(k={});return g(this,void 0,void 0,function(){var g,p,v,r,w,x,B;return n(this,function(n){switch(n.label){case 0:if("string"!==typeof f)throw new m("workers:undefined-module","modulePath is missing");g=k.signal;p=k.strategy||"distributed";
h("host-webworker")&&!h("esri-workers")&&(p="local");return"local"!==p?[3,2]:[4,e.create(function(a){return b([f],a)})];case 1:return v=n.sent(),e.throwIfAborted(g),r=k.client||v,w=a.RemoteClient.connect(v),[2,new a.Connection([new a.RemoteClient(w,r,k)])];case 2:return[4,c()];case 3:n.sent();e.throwIfAborted(g);if("dedicated"!==p)return[3,5];x=d+q++;q%=t;return[4,l[x].open(f,k)];case 4:return w=n.sent(),[2,new a.Connection([new a.RemoteClient(w,k.client,k)])];case 5:return[4,e.all(l.map(function(a){return a.open(f,
k)}))];case 6:return B=n.sent(),[2,new a.Connection(B.map(function(b){return new a.RemoteClient(b,k.client,k)}))]}})})};a.terminate=function(){v&&(x.abort(),v=null);for(var a=0;a<l.length;a++)l[a]&&l[a].terminate();l.length=0};var v=null,x})},"esri/core/workers/Connection":function(){define(["require","exports","../Logger","../promiseUtils"],function(b,a,n,g){var m=n.getLogger("esri.core.workers.Connection");return function(){function a(a){this._clientIdx=0;this._clients=a}a.prototype.broadcast=function(a,
b,h){for(var e=[],c=0,d=this._clients;c<d.length;c++)e.push(d[c].invoke(a,b,h));return e};a.prototype.close=function(){for(var a=0,b=this._clients;a<b.length;a++)b[a].close();this._clients=[]};a.prototype.getAvailableClient=function(){var a;this._clients.some(function(b){return b.isBusy()?!1:(a=b,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,a=this._clients[this._clientIdx]);return a};a.prototype.invoke=function(a,b,h){var e=null;Array.isArray(h)?(m.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),
e={transferList:h}):e=h;return this._clients&&this._clients.length?this.getAvailableClient().invoke(a,b,e):g.reject(Error("Connection closed"))};a.prototype.openPorts=function(){return g.all(this._clients.map(function(a){return a.openPort()}))};return a}()})},"esri/core/workers/WorkerOwner":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),function(b,a,n,g,m,h,e,k,p,f){var c=
e.getLogger("esri.core.workers"),d=p.MessageType.ABORT,t=p.MessageType.INVOKE,q=p.MessageType.OPEN,l=p.MessageType.OPENED,v=p.MessageType.RESPONSE;return function(){function a(a,b){this._outJobs=new Map;this._inJobs=new Map;this.worker=a;this.id=b;a.addEventListener("message",this._onMessage.bind(this));a.addEventListener("error",function(a){a.preventDefault();c.error(a)})}a.create=function(b){return g(this,void 0,void 0,function(){var c;return n(this,function(d){switch(d.label){case 0:return[4,f.createWorker()];
case 1:return c=d.sent(),[2,new a(c,b)]}})})};a.prototype.terminate=function(){this.worker.terminate()};a.prototype.open=function(a,b){void 0===b&&(b={});return g(this,void 0,void 0,function(){var c,e,f=this;return n(this,function(h){c=b.signal;e=p.newJobId();return[2,k.create(function(b,h){b={resolve:b,reject:h};k.onAbortOrThrow(c,function(){f._outJobs["delete"](e);f._post({type:d,jobId:e})});f._outJobs.set(e,b);f._post({type:q,jobId:e,modulePath:a})})]})})};a.prototype._onMessage=function(a){if(a=
p.receiveMessage(a))switch(a.type){case l:case v:this._onResponse(a);break;case d:this._onCancel(a);break;case t:this._onInvoke(a)}};a.prototype._onCancel=function(a){var b=this._inJobs;a=a.jobId;var c=b.get(a);c&&(c.controller&&c.controller.abort(),b["delete"](a))};a.prototype._onInvoke=function(a){var b=this,c=a.methodName,d=a.jobId,e=a.data;a=a.abortable?k.createAbortController():null;var f=this._inJobs,h=m.workerMessages[c],g;try{if("function"!==typeof h)throw new TypeError(c+" is not a function");
g=h.call(null,e,{signal:a?a.signal:null})}catch(B){this._post({type:v,jobId:d,error:p.toInvokeError(B)});return}if(k.isThenable(g)){f.set(d,{controller:a,promise:g});if(a&&"cancel"in g)k.onAbort(a.signal,function(){return g.cancel()});g.then(function(a){f.has(d)&&(f["delete"](d),b._post({type:v,jobId:d},a))}).catch(function(a){f.has(d)&&(f["delete"](d),a||(a={message:"Error encountered at method"+c}),k.isAbortError(a)||b._post({type:v,jobId:d,error:p.toInvokeError(a||{message:"Error encountered at method "+
c})}))})}else this._post({type:v,jobId:d},g)};a.prototype._onResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var d=this._outJobs.get(b);d&&(this._outJobs["delete"](b),c?d.reject(h.fromJSON(JSON.parse(c))):d.resolve(a))};a.prototype._post=function(a,b,c){return p.postMessage(this.worker,a,b,c)};return a}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper ../tsSupport/generatorHelper ../tsSupport/awaiterHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t){function q(a){return m(this,void 0,void 0,function(){return g(this,function(b){return[2,f.create(function(b){function f(l){if(l=d.receiveMessage(l))switch(l.type){case w:l=a;var p=e.workers.loaderUrl||c.DEFAULT_LOADER_URL,m;null!=e["default"]?(m=n({},e),delete m["default"],m=JSON.parse(JSON.stringify(m))):m=JSON.parse(JSON.stringify(e));var q=e.workers.loaderConfig,q=c.default({baseUrl:q.baseUrl,locale:h.locale,has:n({"config-deferredInstrumentation":0,"dojo-test-sniff":0,
"esri-native-promise":k("esri-native-promise"),"esri-secure-context":k("esri-secure-context"),"esri-workers-arraybuffer-transfer":k("esri-workers-arraybuffer-transfer"),"events-keypress-typed":0,"host-webworker":1,"esri-webgl-texture-float":k("esri-webgl-texture-float"),"esri-shared-array-buffer":k("esri-shared-array-buffer"),"esri-2d-debug":0,"esri-webgl-max-texture-size":k("esri-webgl-max-texture-size")},q.has),map:n({},q.map),paths:n({},q.paths),packages:q.packages||[]});l.postMessage({type:x,
configure:{esriConfig:m,loaderUrl:p,loaderConfig:q}});break;case v:a.removeEventListener("message",f),a.removeEventListener("error",g),b(a)}}function g(b){b.preventDefault();a.removeEventListener("message",f);a.removeEventListener("error",g);l.warn("Failed to create Worker. Fallback to execute module in main thread",b);a=new t;a.addEventListener("message",f);a.addEventListener("error",g)}a.addEventListener("message",f);a.addEventListener("error",g)})]})})}Object.defineProperty(a,"__esModule",{value:!0});
var l=p.getLogger("esri.core.workers");k.add("esri-workers-arraybuffer-transfer",!k("safari")||12<=k("safari"));var v=d.MessageType.CONFIGURED,x=d.MessageType.CONFIGURE,w=d.MessageType.HANDSHAKE,r;try{r=URL.createObjectURL(new Blob(['var globalId\x3d0;var outgoing\x3dnew Map;var configured\x3dfalse;var HANDSHAKE\x3d0;var CONFIGURE\x3d1;var CONFIGURED\x3d2;var OPEN\x3d3;var OPENED\x3d4;var RESPONSE\x3d5;var INVOKE\x3d6;var ABORT\x3d7;function mapDelete(map,key){map["delete"](key)}function createAbortError(){var error\x3dnew Error("AbortError");error.dojoType\x3d"cancel";return error}function receiveMessage(event){if(!event||!event.data){return null}if(typeof event.data\x3d\x3d\x3d"string"){return JSON.parse(event.data)}return event.data}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal;var Deferred\x3drequire("dojo/Deferred");var jobId\x3dglobalId++;var abort\x3dfunction(){var outJob\x3doutgoing.get(jobId);if(!outJob){return}mapDelete(outgoing,jobId);self.postMessage({type:ABORT,jobId:jobId});outJob.reject(createAbortError())};var deferred\x3dnew Deferred(abort);if(signal){if(signal.aborted){return deferred.reject(createAbortError())}signal.addEventListener("abort",function(){abort();deferred.reject(createAbortError())})}outgoing.set(jobId,deferred);self.postMessage({type:INVOKE,jobId:jobId,methodName:methodName,abortable:true,data:data});return deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(!message){return}var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured){return}self.dojoConfig\x3dconfiguration.loaderConfig;self.importScripts(configuration.loaderUrl);if(typeof require.config\x3d\x3d\x3d"function"){require.config(configuration.loaderConfig)}require(["esri/config"],function(esriConfig){for(var name in configuration.esriConfig){if(Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)){esriConfig[name]\x3dconfiguration.esriConfig[name]}}self.postMessage({type:CONFIGURED})});break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient",modulePath],function(RemoteClient,Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])});break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);mapDelete(outgoing,jobId);if(message.error){deferred.reject(JSON.parse(message.error))}else{deferred.resolve(message.data)}}break}}self.addEventListener("message",messageHandler);self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(y){}a.createWorker=function(){return m(this,void 0,void 0,function(){var a;return g(this,function(b){if(!k("esri-workers"))return[2,q(new t)];if(r)try{a=new Worker(r)}catch(C){l.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new t}else l.warn("Failed to create Worker. Fallback to execute module in main thread",event),a=new t;return[2,q(a)]})})}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper",
"../has","../urlUtils"],function(b,a,n,g,m){Object.defineProperty(a,"__esModule",{value:!0});g=g("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";a.DEFAULT_LOADER_URL=m.makeAbsolute(m.removeQueryParameters(b.toUrl(g)));a.DEFAULT_CONFIG={baseUrl:function(){var a=m.removeQueryParameters(b.toUrl("dojo/x.js"));return m.makeAbsolute(a.slice(0,a.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},
{name:"globalize",main:"dist/globalize"},{name:"maquette",main:"dist/maquette.umd"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};a.default=function(h){var e={async:h.async,isDebug:h.isDebug,locale:h.locale,baseUrl:h.baseUrl,
has:n({},h.has),map:n({},h.map),packages:h.packages&&h.packages.concat()||[],paths:n({},h.paths)};h.hasOwnProperty("async")||(e.async=!0);h.hasOwnProperty("isDebug")||(e.isDebug=!1);h.baseUrl||(e.baseUrl=a.DEFAULT_CONFIG.baseUrl);a.DEFAULT_CONFIG.packages.forEach(function(a){a:{for(var c=e.packages,f=0;f<c.length;f++)if(c[f].name===a.name)break a;a=n({},a);f=m.removeQueryParameters(b.toUrl(a.name+"/x.js"));f=f.slice(0,f.length-5);a.location=m.makeAbsolute(f);c.push(a)}});h=e.map=e.map||{};for(var g=
0,p=Object.keys(a.DEFAULT_CONFIG.map);g<p.length;g++){var f=p[g];h[f]||(h[f]=a.DEFAULT_CONFIG.map[f])}return e}})},"esri/core/workers/WorkerFallback":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../global ../has ../promiseUtils ./utils @dojo/framework/shim/Promise".split(" "),function(b,a,n,g,m,h,e,k){var p=function(){return function(){var a=this,b=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(c){a[c]=
function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b[c].apply(b,a)}})}}(),f=m.MutationObserver||m.WebKitMutationObserver,c=function(){var a;if(m.process&&m.process.nextTick)a=function(a){m.process.nextTick(a)};else if(m.Promise)a=function(a){m.Promise.resolve().then(a)};else if(f){var b=[],c=document.createElement("div");(new f(function(){for(;0<b.length;)b.shift()()})).observe(c,{attributes:!0});a=function(a){b.push(a);c.setAttribute("queueStatus","1")}}return a}(),d=function(){var a=
m.MessageEvent;try{new a("message",{data:null})}catch(q){return function(a,b){void 0===b&&(b={});var c=b.data,d=b.bubbles,d=void 0===d?!1:d;b=b.cancelable;b=void 0===b?!1:b;var e=document.createEvent("Event");e.initEvent(a,d,b);e.data=c;return e}}return function(b,c){return new a(b,c)}}();return function(){function a(){this._dispatcher=new p;this._isInitialized=!1;this._workerPostMessage({type:k.MessageType.HANDSHAKE})}a.prototype.terminate=function(){};Object.defineProperty(a.prototype,"onmessage",
{get:function(){return this._onmessageHandler},set:function(a){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=a)&&this.addEventListener("message",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(a){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=a)&&this.addEventListener("error",a)},enumerable:!0,configurable:!0});
a.prototype.postMessage=function(a,b){var e=this;c(function(){e._workerMessageHandler(d("message",{data:a}))})};a.prototype.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};a.prototype.addEventListener=function(a,b,c){this._dispatcher.addEventListener(a,b,c)};a.prototype.removeEventListener=function(a,b,c){this._dispatcher.removeEventListener(a,b,c)};a.prototype._workerPostMessage=function(a,b){var e=this;c(function(){e.dispatchEvent(d("message",{data:a}))})};a.prototype._workerMessageHandler=
function(a){return g(this,void 0,void 0,function(){var c,d,f,h,g,p,m,q,t=this;return n(this,function(l){switch(l.label){case 0:c=k.receiveMessage(a);if(!c)return[2];d=c.jobId;f=c.type;switch(f){case k.MessageType.CONFIGURE:return[3,1];case k.MessageType.OPEN:return[3,2]}return[3,27];case 1:return this._isInitialized||this._workerPostMessage({type:k.MessageType.CONFIGURED}),[3,27];case 2:return h=c.modulePath,[3,25];case 3:p=l.sent();m=h;switch(m){case "esri/tasks/operations/PBFWorker":return[3,4];
case "esri/views/2d/engine/vectorTiles/WorkerTileHandler":return[3,6];case "esri/views/2d/layers/features/Pipeline":return[3,8];case "esri/views/3d/layers/PointCloudWorker":return[3,10];case "esri/views/3d/layers/SceneLayerWorker":return[3,12];case "esri/layers/graphics/sources/support/CSVSourceWorker":return[3,14];case "esri/layers/support/LercWorker":return[3,16];case "esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":return[3,18];case "esri/geometry/support/meshUtils/ElevationSamplerWorker":return[3,
20]}return[3,22];case 4:return[4,new Promise(function(a,c){b(["esri/tasks/operations/PBFWorker"],a,c)})];case 5:return g=l.sent(),[3,24];case 6:return[4,new Promise(function(a,c){b(["esri/views/2d/engine/vectorTiles/WorkerTileHandler"],a,c)})];case 7:return g=l.sent(),[3,24];case 8:return[4,new Promise(function(a,c){b(["esri/views/2d/layers/features/Pipeline"],a,c)})];case 9:return g=l.sent(),[3,24];case 10:return[4,new Promise(function(a,c){b(["esri/views/3d/layers/PointCloudWorker"],a,c)})];case 11:return g=
l.sent(),[3,24];case 12:return[4,new Promise(function(a,c){b(["esri/views/3d/layers/SceneLayerWorker"],a,c)})];case 13:return g=l.sent(),[3,24];case 14:return[4,new Promise(function(a,c){b(["esri/layers/graphics/sources/support/CSVSourceWorker"],a,c)})];case 15:return g=l.sent(),[3,24];case 16:return[4,new Promise(function(a,c){b(["esri/layers/support/LercWorker"],a,c)})];case 17:return g=l.sent(),[3,24];case 18:return[4,new Promise(function(a,c){b(["esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],
a,c)})];case 19:return g=l.sent(),[3,24];case 20:return[4,new Promise(function(a,c){b(["esri/geometry/support/meshUtils/ElevationSamplerWorker"],a,c)})];case 21:return g=l.sent(),[3,24];case 22:return[4,e.create(function(a){return b([h],a)})];case 23:g=l.sent(),l.label=24;case 24:return q=p.connect(g),this._workerPostMessage({type:k.MessageType.OPENED,jobId:d,data:q}),[3,26];case 25:b(["esri/core/workers/RemoteClient",h],function(a,b){a=a.connect(b);t._workerPostMessage({type:k.MessageType.OPENED,
jobId:d,data:a})}),l.label=26;case 26:return[3,27];case 27:return[2]}})})};return a}()})},"esri/tasks/operations/urlUtils":function(){define(["require","exports"],function(b,a){function n(a){var b={},h;for(h in a)if("declaredClass"!==h){var e=a[h];if(null!=e&&"function"!==typeof e)if(Array.isArray(e)){b[h]=[];for(var g=0;g<e.length;g++)b[h][g]=n(e[g])}else"object"===typeof e?e.toJSON&&(b[h]=JSON.stringify(e)):b[h]=e}return b}Object.defineProperty(a,"__esModule",{value:!0});a.mapParameters=n})},"esri/tasks/operations/queryAttachments":function(){define("require exports ../../core/tsSupport/assignHelper ../../request ../../core/urlUtils ../../layers/support/AttachmentInfo ./urlUtils".split(" "),
function(b,a,n,g,m,h,e){function k(a){a=a.toJSON();a.attachmentTypes&&(a.attachmentTypes=a.attachmentTypes.join(","));a.globalIds&&(a.globalIds=a.globalIds.join(","));a.objectIds&&(a.objectIds=a.objectIds.join(","));a.size&&(a.size=a.size.join(","));return a}Object.defineProperty(a,"__esModule",{value:!0});a.processAttachmentQueryResult=function(a,b){for(var c={},d=0;d<a.length;d++)for(var e=a[d],f=e.parentObjectId,g=0,e=e.attachmentInfos;g<e.length;g++){var k=e[g],p=m.addProxy(m.addTokenParameter(b+
"/"+f+"/attachments/"+k.id)),k=h.fromJSON(k);k.set({url:p,parentObjectId:f});c[f]?c[f].push(k):c[f]=[k]}return c};a.executeAttachmentQuery=function(a,b,c){b={query:e.mapParameters(n({},a.query,{f:"json"},k(b)))};c&&(b=n({},c,b));return g(a.path+"/queryAttachments",b)}})},"esri/tasks/operations/queryRelatedRecords":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../request","./urlUtils"],function(b,a,n,g,m){function h(a){a=a.toJSON();a.objectIds&&(a.objectIds=a.objectIds.join(","));
a.outFields&&(a.outFields=a.outFields.join(","));a.outSpatialReference&&(a.outSR=a.outSR.wkid||JSON.stringify(a.outSR.toJSON()),delete a.outSpatialReference);a.source&&(a.layer=JSON.stringify({source:a.source}),delete a.source);return a}Object.defineProperty(a,"__esModule",{value:!0});a.toQueryStringParameters=h;a.executeRelationshipQuery=function(a,b,p){b={query:m.mapParameters(n({},a.query,{f:"json"},h(b)))};p&&(b=n({},p,b));return g(a.path+"/queryRelatedRecords",b).then(function(a){for(var b=a.data,
d=b.geometryType,e=b.spatialReference,f={},h=0,b=b.relatedRecordGroups;h<b.length;h++){var g=b[h],k={fields:void 0,objectIdFieldName:void 0,geometryType:d,spatialReference:e,features:g.relatedRecords};if(null!=g.objectId)f[g.objectId]=k;else for(var p in g)g.hasOwnProperty(p)&&"relatedRecords"!==p&&(f[g[p]]=k)}a.data=f;return a})}})},"esri/tasks/support/AttachmentQuery":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),
function(b,a,n,g,m,h,e,k){b=function(a){function b(b){b=a.call(this,b)||this;b.attachmentTypes=null;b.globalIds=null;b.num=null;b.objectIds=null;b.returnMetadata=!1;b.size=null;b.start=null;b.where=null;return b}n(b,a);c=b;b.prototype.writeStart=function(a,b,c){b.resultOffset=this.start;b.resultRecordCount=this.num||10};b.prototype.clone=function(){return new c(h.clone({attachmentTypes:this.attachmentTypes,where:this.where,globalIds:this.globalIds,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,
size:this.size,start:this.start}))};var c;g([e.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);g([e.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);g([e.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);g([e.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);g([e.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);g([e.property({type:[Number],
json:{write:!0}})],b.prototype,"size",void 0);g([e.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);g([e.writer("start"),e.writer("num")],b.prototype,"writeStart",null);g([e.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);return b=c=g([e.subclass("esri.tasks.support.AttachmentQuery")],b)}(e.declared(m));b.from=k.default(b);return b})},"esri/tasks/support/FeatureSet":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t){var q=new e.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"});b=function(a){function b(b){b=a.call(this,b)||this;b.displayFieldName=null;b.exceededTransferLimit=!1;b.features=[];b.fields=null;b.geometryType=null;b.hasM=!1;b.hasZ=!1;b.queryGeometry=null;b.spatialReference=null;return b}g(b,a);b.prototype.readFeatures=function(a,b){b=c.fromJSON(b.spatialReference);
for(var d=[],e=0;e<a.length;e++){var f=a[e],g=h.fromJSON(f),f=f.geometry&&f.geometry.spatialReference;p.isSome(g.geometry)&&!f&&(g.geometry.spatialReference=b);d.push(g)}return d};b.prototype.writeGeometryType=function(a,b,c,d){if(a)q.write(a,b,c,d);else if(a=this.features)for(var e=0;e<a.length;e++){var f=a[e];if(f&&p.isSome(f.geometry)){q.write(f.geometry.type,b,c,d);break}}};b.prototype.writeSpatialReference=function(a,b,c,d){if(a)b.spatialReference=a.toJSON();else if(a=this.features)for(c=0;c<
a.length;c++)(d=a[c])&&p.isSome(d.geometry)&&d.geometry.spatialReference&&(b.spatialReference=d.geometry.spatialReference.toJSON())};b.prototype.toJSON=function(a){var b=this.write(null);if(b.features&&Array.isArray(a)&&0<a.length)for(var c=0;c<b.features.length;c++){var d=b.features[c];if(d.geometry){var e=a&&a[c];d.geometry=e&&e.toJSON()||d.geometry}}return b};b.prototype.quantize=function(a){for(var b=a.scale,c=b[0],d=b[1],b=a.translate,e=b[0],f=b[1],b=this.features,h=this._getQuantizationFunction(this.geometryType,
function(a){return Math.round((a-e)/c)},function(a){return Math.round((f-a)/d)}),g=0,k=b.length;g<k;g++)h(p.expect(b[g].geometry))||(b.splice(g,1),g--,k--);this.transform=a;return this};b.prototype.unquantize=function(){var a=this.features,b=this.transform;if(!b)return this;for(var c=b.translate,d=c[0],e=c[1],b=b.scale,f=b[0],h=b[1],b=this._getHydrationFunction(this.geometryType,function(a){return a*f+d},function(a){return e-a*h}),c=0;c<a.length;c++){var g=a[c].geometry;p.isSome(g)&&b(g)}return this};
b.prototype._quantizePoints=function(a,b,c){for(var d,e,f=[],h=0,g=a.length;h<g;h++){var k=a[h];if(0<h){var l=b(k[0]),k=c(k[1]);if(l!==d||k!==e)f.push([l-d,k-e]),d=l,e=k}else d=b(k[0]),e=c(k[1]),f.push([d,e])}return 0<f.length?f:null};b.prototype._getQuantizationFunction=function(a,b,c){var e=this;if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y);return a};if("polyline"===a||"polygon"===a)return function(a){for(var f=d.isPolygon(a)?a.rings:a.paths,h=[],g=0,k=f.length;g<k;g++){var l=e._quantizePoints(f[g],
b,c);l&&h.push(l)}return 0<h.length?(d.isPolygon(a)?a.rings=h:a.paths=h,a):null};if("multipoint"===a)return function(a){var d;d=e._quantizePoints(a.points,b,c);return 0<d.length?(a.points=d,a):null};if("extent"===a)return function(a){return a}};b.prototype._getHydrationFunction=function(a,b,c){if("point"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("polyline"===a||"polygon"===a)return function(a){a=d.isPolygon(a)?a.rings:a.paths;for(var e,f,h=0,g=a.length;h<g;h++)for(var k=a[h],l=0,p=k.length;l<
p;l++){var m=k[l];0<l?(e+=m[0],f+=m[1]):(e=m[0],f=m[1]);m[0]=b(e);m[1]=c(f)}};if("extent"===a)return function(a){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("multipoint"===a)return function(a){a=a.points;for(var d,e,f=0,h=a.length;f<h;f++){var g=a[f];0<f?(d+=g[0],e+=g[1]):(d=g[0],e=g[1]);g[0]=b(d);g[1]=c(e)}}};n([f.property({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0);n([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
b.prototype,"exceededTransferLimit",void 0);n([f.property({type:[h],json:{write:!0}})],b.prototype,"features",void 0);n([f.reader("features")],b.prototype,"readFeatures",null);n([f.property({type:[t],json:{write:!0}})],b.prototype,"fields",void 0);n([f.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:q.read}}})],b.prototype,"geometryType",void 0);n([f.writer("geometryType")],b.prototype,"writeGeometryType",null);n([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
b.prototype,"hasM",void 0);n([f.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);n([f.property({types:m.geometryTypes,json:{read:d.fromJSON,write:!0}})],b.prototype,"queryGeometry",void 0);n([f.property({type:c,json:{write:!0}})],b.prototype,"spatialReference",void 0);n([f.writer("spatialReference")],b.prototype,"writeSpatialReference",null);n([f.property({json:{write:!0}})],b.prototype,"transform",void 0);return b=n([f.subclass("esri.tasks.support.FeatureSet")],
b)}(f.declared(k));b.prototype.toJSON.isDefaultToJSON=!0;(function(a){})(b||(b={}));return b})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../geometry ../../symbols ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../symbols/support/jsonUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x){var w=new p.default({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),r=new p.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});b=function(a){function b(b){b=a.call(this,b)||this;b.cacheHint=!1;b.datumTransformation=null;b.distance=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.having=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=
null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=null;b.parameterValues=null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnCentroid=!1;b.returnDistinctValues=!1;b.returnExceededLimitFeatures=!0;b.returnGeometry=!1;b.returnQueryGeometry=!1;b.returnM=void 0;b.returnZ=void 0;b.source=null;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units=null;b.where=null;return b}
n(b,a);f=b;b.prototype.castDatumTransformation=function(a){return"number"===typeof a||"object"===typeof a?a:null};b.prototype.writeHistoricMoment=function(a,b,c){b.historicMoment=a&&a.getTime()};b.prototype.writeParameterValues=function(a,b,c){if(a){c={};for(var d in a){var e=a[d];Array.isArray(e)?c[d]=e.map(function(a){return a instanceof Date?a.getTime():a}):c[d]=e instanceof Date?e.getTime():e}b.parameterValues=c}};b.prototype.writeStart=function(a,b,c){b.resultOffset=this.start;b.resultRecordCount=
this.num||10;b.where="1\x3d1"};b.prototype.writeWhere=function(a,b,c){b.where=a||"1\x3d1"};b.prototype.clone=function(){return new f(c.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,
maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,
returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var f;b.MAX_MAX_RECORD_COUNT_FACTOR=5;g([d.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,
"cacheHint",void 0);g([d.property({json:{write:!0}})],b.prototype,"datumTransformation",void 0);g([d.cast("datumTransformation")],b.prototype,"castDatumTransformation",null);g([d.property({type:Number,json:{write:{overridePolicy:function(a){return{enabled:0<a}}}}})],b.prototype,"distance",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);g([d.property({types:h.geometryTypes,json:{read:q.fromJSON,write:!0}})],b.prototype,"geometry",void 0);g([d.property({type:Number,
json:{write:!0}})],b.prototype,"geometryPrecision",void 0);g([d.property({type:[String],json:{write:!0}})],b.prototype,"groupByFieldsForStatistics",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"having",void 0);g([d.property({type:Date})],b.prototype,"historicMoment",void 0);g([d.writer("historicMoment")],b.prototype,"writeHistoricMoment",null);g([d.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);g([d.property({type:Number,cast:function(a){return 1>
a?1:a>f.MAX_MAX_RECORD_COUNT_FACTOR?f.MAX_MAX_RECORD_COUNT_FACTOR:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],b.prototype,"maxRecordCountFactor",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"multipatchOption",void 0);g([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);g([d.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);g([d.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",
void 0);g([d.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);g([d.property({type:m.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);g([d.property({type:[x],json:{write:!0}})],b.prototype,"outStatistics",void 0);g([d.property({json:{write:!0}})],b.prototype,"parameterValues",void 0);g([d.writer("parameterValues")],b.prototype,"writeParameterValues",null);g([d.property({types:e.symbolTypes,json:{read:l.read,
write:!0}})],b.prototype,"pixelSize",void 0);g([d.property({type:v.default,json:{write:!0}})],b.prototype,"quantizationParameters",void 0);g([d.property({type:[Object],json:{write:!0}})],b.prototype,"rangeValues",void 0);g([d.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(a){return{enabled:"relation"===this.spatialRelationship}}}}})],b.prototype,"relationParameter",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"resultType",
void 0);g([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnCentroid",void 0);g([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnDistinctValues",void 0);g([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],b.prototype,"returnExceededLimitFeatures",void 0);g([d.property({type:Boolean,json:{write:!0}})],b.prototype,"returnGeometry",void 0);g([d.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnQueryGeometry",void 0);g([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnM",void 0);g([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnZ",void 0);g([d.property({json:{write:!0}})],b.prototype,"source",void 0);g([d.property({type:String,json:{read:{source:"spatialRel",reader:w.read},write:{target:"spatialRel",
writer:w.write}}})],b.prototype,"spatialRelationship",void 0);g([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);g([d.writer("start"),d.writer("num")],b.prototype,"writeStart",null);g([d.property({type:String,json:{write:!0}})],b.prototype,"sqlFormat",void 0);g([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);g([d.property({type:k,json:{write:!0}})],b.prototype,"timeExtent",void 0);g([d.property({type:String,json:{read:r.read,write:{writer:r.write,
overridePolicy:function(a){return{enabled:a&&0<this.distance}}}}})],b.prototype,"units",void 0);g([d.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],b.prototype,"where",void 0);g([d.writer("where")],b.prototype,"writeWhere",null);return b=f=g([d.subclass("esri.tasks.support.Query")],b)}(d.declared(f));b.from=t.default(b);return b})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),
function(b,a,n,g,m,h,e){return function(a){function b(b){b=a.call(this)||this;b.end=null;b.start=null;return b}n(b,a);f=b;b.prototype.readEnd=function(a,b){return null!=b.end?new Date(b.end):null};b.prototype.writeEnd=function(a,b,e){b.end=a?a.getTime():null};b.prototype.readStart=function(a,b){return null!=b.start?new Date(b.start):null};b.prototype.writeStart=function(a,b,e){b.start=a?a.getTime():null};b.prototype.clone=function(){return new f({end:this.end,start:this.start})};b.prototype.intersection=
function(a){if(!a)return null;var b=this.start?this.start.getTime():-Infinity,c=this.end?this.end.getTime():Infinity,e=a.start?a.start.getTime():-Infinity;a=a.end?a.end.getTime():Infinity;var h,g;e>=b&&e<=c?h=e:b>=e&&b<=a&&(h=b);c>=e&&c<=a?g=c:a>=b&&a<=c&&(g=a);return isNaN(h)||isNaN(g)?null:(b=new f,b.start=-Infinity===h?null:new Date(h),b.end=Infinity===g?null:new Date(g),b)};b.prototype.offset=function(a,b){var c=new f,d=this.start,h=this.end;d&&(c.start=e.offsetDate(d,a,b));h&&(c.end=e.offsetDate(h,
a,b));return c};b.prototype.equals=function(a){return a?this.start.getTime()===a.start.getTime()&&this.end.getTime()===a.end.getTime():!1};var f;g([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);g([h.reader("end")],b.prototype,"readEnd",null);g([h.writer("end")],b.prototype,"writeEnd",null);g([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);g([h.reader("start")],b.prototype,"readStart",null);g([h.writer("start")],b.prototype,"writeStart",
null);return b=f=g([h.subclass("esri.TimeExtent")],b)}(h.declared(m))})},"esri/layers/support/timeUtils":function(){define(["require","exports","../../TimeExtent","../../core/compilerUtils","../../core/jsonMap"],function(b,a,n,g,m){Object.defineProperty(a,"__esModule",{value:!0});var h={milliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},seconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},minutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},
hours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},days:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},weeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},months:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},years:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},decades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},centuries:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}};a.timeUnitKebabDictionary=m.strict()({esriTimeUnitsMilliseconds:"milliseconds",
esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});a.offsetDate=function(a,b,g){a=new Date(a.getTime());b&&g&&(g=h[g],a[g.setter](a[g.getter]()+b*g.multiplier));return a};a.combinedViewLayerTimeExtentProperty={type:n,dependsOn:["view?.timeExtent","layer?.timeInfo",
"layer?.timeExtent","layer?.useViewTime"],readOnly:!0,get:function(){if(!this.layer||!this.layer.timeInfo)return null;var a=this.view?this.view.timeExtent:null,a=this.layer.useViewTime?a:this.layer.timeExtent,b=this._get("timeExtent");return a&&a.equals(b)?b:a}};a.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.truncateDate=function(b,h){switch(h){case "milliseconds":return new Date(b.getTime());
case "seconds":return new Date(b.getTime()-b.getTime()%a.millisecondsPerTimeUnit.seconds);case "minutes":return new Date(b.getTime()-b.getTime()%a.millisecondsPerTimeUnit.minutes);case "hours":return new Date(b.getTime()-b.getTime()%a.millisecondsPerTimeUnit.hours);case "days":return new Date(b.getUTCFullYear(),b.getMonth(),b.getDate());case "weeks":return new Date(b.getUTCFullYear(),b.getMonth(),b.getDate()-b.getDay());case "months":return new Date(b.getUTCFullYear(),b.getMonth(),1);case "years":return new Date(b.getUTCFullYear(),
0,1);case "decades":return new Date(b.getUTCFullYear()-b.getUTCFullYear()%10,0,1);case "centuries":return new Date(b.getUTCFullYear()-b.getUTCFullYear()%100,0,1);default:return g.neverReached(h),null}};a.appendDate=function(a,b){a=new Date(a.getTime());switch(b.unit){case "milliseconds":a.setUTCMilliseconds(a.getUTCMilliseconds()+b.value);break;case "seconds":a.setSeconds(a.getSeconds()+b.value);break;case "minutes":a.setMinutes(a.getMinutes()+b.value);break;case "hours":a.setHours(a.getHours()+b.value);
break;case "days":a.setDate(a.getDate()+b.value);break;case "weeks":a.setDate(a.getDate()+7*b.value);break;case "months":a.setMonth(a.getMonth()+b.value);break;case "years":a.setFullYear(a.getFullYear()+b.value);break;case "decades":a.setFullYear(a.getFullYear()+10*b.value);break;case "centuries":a.setFullYear(a.getFullYear()+100*b.value);break;default:g.neverReached(b.unit)}return a}})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h,e,k,p){Object.defineProperty(a,"__esModule",{value:!0});var f=new h.default({upperLeft:"upper-left",lowerLeft:"lower-left"});b=function(a){function b(b){b=a.call(this,b)||this;b.extent=null;b.mode="view";b.originPosition="upper-left";b.tolerance=1;return b}n(b,a);c=b;b.prototype.clone=function(){return new c(k.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};var c;g([p.property({type:m.Extent,json:{write:!0}})],b.prototype,
"extent",void 0);g([p.property({type:["view","edit"],json:{write:!0}})],b.prototype,"mode",void 0);g([p.property({type:String,json:{read:f.read,write:f.write}})],b.prototype,"originPosition",void 0);g([p.property({type:Number,json:{write:!0}})],b.prototype,"tolerance",void 0);return b=c=g([p.subclass("esri.tasks.support.QuantizationParameters")],b)}(p.declared(e));a.default=b})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,g,m,h){return function(a){function b(b){b=a.call(this)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})};
var e;g([h.property({type:Number,json:{write:!0}})],b.prototype,"maxPointCount",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0);g([h.property({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0);g([h.property({type:String,json:{write:!0}})],b.prototype,"statisticType",
void 0);return b=e=g([h.subclass("esri.tasks.support.StatisticDefinition")],b)}(h.declared(m))})},"esri/tasks/support/RelationshipQuery":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType".split(" "),function(b,a,n,g,m,h,e,k,p){b=function(a){function b(b){b=a.call(this,b)||this;b.gdbVersion=null;b.geometryPrecision=
void 0;b.historicMoment=null;b.maxAllowableOffset=void 0;b.objectIds=null;b.outFields=null;b.outSpatialReference=null;b.relationshipId=void 0;b.returnGeometry=!1;b.source=null;b.where=null;return b}n(b,a);d=b;b.prototype._writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};b.prototype.clone=function(){return new d(e.clone({gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&this.historicMoment.getTime(),maxAllowableOffset:this.maxAllowableOffset,
objectIds:this.objectIds,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,source:this.source,where:this.where}))};var d;g([k.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);g([k.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);g([k.property({type:Date})],b.prototype,"historicMoment",void 0);g([k.writer("historicMoment")],b.prototype,"_writeHistoricMoment",
null);g([k.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);g([k.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);g([k.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);g([k.property({type:m.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);g([k.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);g([k.property({json:{write:!0}})],b.prototype,
"returnGeometry",void 0);g([k.property({json:{write:!0}})],b.prototype,"source",void 0);g([k.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);return b=d=g([k.subclass("esri.tasks.support.RelationshipQuery")],b)}(k.declared(h));b.from=p.default(b);return b})},"esri/views/3d/support/stack":function(){define(["require","exports","../../../core/VectorStack"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});
a.sv2d=n.VectorStack.createVec2f64();a.sv3d=n.VectorStack.createVec3f64();a.sv4d=n.VectorStack.createVec4f64();a.sm3d=n.VectorStack.createMat3f64();a.sm4d=n.VectorStack.createMat4f64();a.sq4d=n.VectorStack.createQuatf64()})},"esri/core/VectorStack":function(){define("require exports ./nextTick ./libs/gl-matrix-2/mat3f64 ./libs/gl-matrix-2/mat4f64 ./libs/gl-matrix-2/quatf64 ./libs/gl-matrix-2/vec2f64 ./libs/gl-matrix-2/vec3f64 ./libs/gl-matrix-2/vec4f64".split(" "),function(b,a,n,g,m,h,e,k,p){Object.defineProperty(a,
"__esModule",{value:!0});b=function(){function a(a,b,c){var d=this;this.itemByteSize=a;this.itemCreate=b;this.buffers=[];this.items=[];this.itemsPtr=this.itemsPerBuffer=0;this.itemsPerBuffer=Math.ceil(c/this.itemByteSize);this.tickHandle=n.before(function(){return d.reset()})}a.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null);this.itemsPtr=0;this.buffers=this.items=null};a.prototype.get=function(){0===this.itemsPtr&&n(function(){});for(var a=Math.floor(this.itemsPtr/
this.itemsPerBuffer);this.buffers.length<=a;){for(var b=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize),c=0;c<this.itemsPerBuffer;++c)this.items.push(this.itemCreate(b,c*this.itemByteSize));this.buffers.push(b)}return this.items[this.itemsPtr++]};a.prototype.reset=function(){for(var a=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);this.buffers.length>a;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0};a.createVec2f64=function(b){void 0===b&&
(b=f);return new a(16,e.vec2f64.createView,b)};a.createVec3f64=function(b){void 0===b&&(b=f);return new a(24,k.vec3f64.createView,b)};a.createVec4f64=function(b){void 0===b&&(b=f);return new a(32,p.vec4f64.createView,b)};a.createMat3f64=function(b){void 0===b&&(b=f);return new a(72,g.mat3f64.createView,b)};a.createMat4f64=function(b){void 0===b&&(b=f);return new a(128,m.mat4f64.createView,b)};a.createQuatf64=function(b){void 0===b&&(b=f);return new a(32,h.quatf64.createView,b)};Object.defineProperty(a.prototype,
"test",{get:function(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}},enumerable:!0,configurable:!0});return a}();a.VectorStack=b;var f=4096})},"esri/core/libs/gl-matrix-2/mat3f64":function(){define(["require","exports","./factories/mat3f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat3f64=n})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});
a.quatf64=n})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/vec4 ../../../core/libs/gl-matrix-2/vec4f64 ../../../geometry/support/aaBoundingBox ./dito ./geometryUtils".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l){function v(a,b,c){return{center:f.vec3f64.clone(a),halfSize:p.vec3f32.clone(b),quaternion:h.quatf32.clone(c)}}function x(a,b){var c=l.plane.signedDistance(b,a.center);a=w(a,b);return c>a?1:c<-a?-1:0}function w(a,b){m.quat.conjugate(r,a.quaternion);k.vec3.transformQuat(y,b,r);a=a.halfSize;return Math.abs(y[0]*a[0])+Math.abs(y[1]*a[1])+Math.abs(y[2]*a[2])}Object.defineProperty(a,"__esModule",{value:!0});var r=e.quatf64.create(),y=f.vec3f64.create(),G=f.vec3f64.create(),
C=d.vec4f64.create(),D=g.mat3f64.create();b=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=0;b<a;b++)this.obbs[b]={center:f.vec3f64.createView(this.buffer,56*b+0),halfSize:p.vec3f32.createView(this.buffer,56*b+24),quaternion:h.quatf32.createView(this.buffer,56*b+36)}}}();a.ObbArray=b;a.create=v;a.clone=function(a){return v(a.center,a.halfSize,a.quaternion)};a.set=function(a,b){k.vec3.copy(b.center,a.center);k.vec3.copy(b.halfSize,a.halfSize);m.quat.copy(b.quaternion,
a.quaternion)};a.compute=function(a,b){b||(b=v([0,0,0],[-1,-1,-1],[0,0,0,1]));q.computeOBB(a,b);return b};a.intersectPlane=x;a.toAaBoundingBox=function(a,b){b||(b=t.create());var c=n.mat3.fromQuat(D,a.quaternion),d=a.halfSize[0]*Math.abs(c[0])+a.halfSize[1]*Math.abs(c[3])+a.halfSize[2]*Math.abs(c[6]),e=a.halfSize[0]*Math.abs(c[1])+a.halfSize[1]*Math.abs(c[4])+a.halfSize[2]*Math.abs(c[7]),c=a.halfSize[0]*Math.abs(c[2])+a.halfSize[1]*Math.abs(c[5])+a.halfSize[2]*Math.abs(c[8]);b[0]=a.center[0]-d;b[1]=
a.center[1]-e;b[2]=a.center[2]-c;b[3]=a.center[0]+d;b[4]=a.center[1]+e;b[5]=a.center[2]+c;return b};a.minimumDistancePlane=function(a,b){var c=l.plane.signedDistance(b,a.center);a=w(a,b);return c-a};a.maximumDistancePlane=function(a,b){var c=l.plane.signedDistance(b,a.center);a=w(a,b);return c+a};a.isVisible=function(a,b){return 0>=x(a,b.planes[0])&&0>=x(a,b.planes[1])&&0>=x(a,b.planes[2])&&0>=x(a,b.planes[3])&&0>=x(a,b.planes[4])&&0>=x(a,b.planes[5])};a.intersectLine=function(a,b,c,d){void 0===d&&
(d=0);m.quat.conjugate(r,a.quaternion);k.vec3.subtract(y,b,a.center);b=k.vec3.transformQuat(y,y,r);c=k.vec3.transformQuat(G,c,r);for(var e=-Infinity,f=Infinity,h=0;3>h;h++)if(1E-6<Math.abs(c[h]))var g=(d+a.halfSize[h]-b[h])/c[h],l=(-d-a.halfSize[h]-b[h])/c[h],e=Math.max(e,Math.min(g,l)),f=Math.min(f,Math.max(g,l));else if(b[h]>a.halfSize[h]+d||b[h]<-a.halfSize[h]-d)return!1;return e<=f};a.projectedArea=function(a,b,d,e,f){m.quat.conjugate(r,a.quaternion);k.vec3.sub(y,b,a.center);k.vec3.transformQuat(y,
y,r);var h=y[0]<-a.halfSize[0]?-1:y[0]>a.halfSize[0]?1:0,g=y[1]<-a.halfSize[1]?-1:y[1]>a.halfSize[1]?1:0,l=y[2]<-a.halfSize[2]?-1:y[2]>a.halfSize[2]?1:0;b=Math.abs(h)+Math.abs(g)+Math.abs(l);if(0===b)return Infinity;b=1===b?4:6;g=6*(h+3*g+9*l+13);n.mat3.fromQuat(D,a.quaternion);n.mat3.scale(D,D,a.halfSize);for(h=0;h<b;h++)l=z[g+h],k.vec3.set(y,((l&1)<<1)-1,(l&2)-1,((l&4)>>1)-1),k.vec3.transformMat3(y,y,D),k.vec3.add(C,a.center,y),C[3]=1,c.vec4.transformMat4(C,C,d),l=1/Math.max(1E-6,C[3]),A[2*h]=C[0]*
l,A[2*h+1]=C[1]*l;a=2*b-2;d=A[0]*(A[3]-A[a+1])+A[a]*(A[1]-A[a-1]);for(h=2;h<a;h+=2)d+=A[h]*(A[h+3]-A[h-1]);return Math.abs(d)*e*f*.125};var A=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],z=function(){var a=new Int8Array(162),b=0,c=function(c){for(var d=0;d<c.length;d++)a[b+d]=c[d];b+=6};c([6,2,3,1,5,4]);c([0,2,3,1,5,4]);c([0,2,3,7,5,4]);c([0,1,3,2,6,4]);c([0,1,3,2,0,0]);c([0,1,5,7,3,2]);c([0,1,3,7,6,4]);c([0,1,3,7,6,2]);c([0,1,5,7,6,2]);c([0,1,5,4,6,2]);c([0,1,5,4,0,0]);c([0,1,3,7,5,4]);c([0,2,6,4,0,0]);
c([0,0,0,0,0,0]);c([1,3,7,5,0,0]);c([2,3,7,6,4,0]);c([2,3,7,6,0,0]);c([2,3,1,5,7,6]);c([0,1,5,7,6,2]);c([0,1,5,7,6,4]);c([0,1,3,7,6,4]);c([4,5,7,6,2,0]);c([4,5,7,6,0,0]);c([4,5,1,3,7,6]);c([0,2,3,7,5,4]);c([6,2,3,7,5,4]);c([6,2,3,1,5,4]);return a}()})},"esri/core/libs/gl-matrix-2/mat3":function(){define(["require","exports","./math/mat3"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat3=n})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["require","exports","./common"],
function(b,a,n){function g(a,b,g){var e=b[0],f=b[1],c=b[2],d=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=g[0],w=g[1],r=g[2],y=g[3],G=g[4],C=g[5],D=g[6],A=g[7];g=g[8];a[0]=n*e+w*d+r*l;a[1]=n*f+w*h+r*m;a[2]=n*c+w*k+r*b;a[3]=y*e+G*d+C*l;a[4]=y*f+G*h+C*m;a[5]=y*c+G*k+C*b;a[6]=D*e+A*d+g*l;a[7]=D*f+A*h+g*m;a[8]=D*c+A*k+g*b;return a}function m(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];return a}Object.defineProperty(a,
"__esModule",{value:!0});a.fromMat4=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a};a.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};a.set=function(a,b,g,p,f,c,d,m,n,l){a[0]=b;a[1]=g;a[2]=p;a[3]=f;a[4]=c;a[5]=d;a[6]=m;a[7]=n;a[8]=l;return a};a.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.transpose=function(a,b){if(a===
b){var e=b[1],h=b[2],f=b[5];a[1]=b[3];a[2]=b[6];a[3]=e;a[5]=b[7];a[6]=h;a[7]=f}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a};a.invert=function(a,b){var e=b[0],h=b[1],f=b[2],c=b[3],d=b[4],g=b[5],m=b[6],l=b[7];b=b[8];var n=b*d-g*l,x=-b*c+g*m,w=l*c-d*m,r=e*n+h*x+f*w;if(!r)return null;r=1/r;a[0]=n*r;a[1]=(-b*h+f*l)*r;a[2]=(g*h-f*d)*r;a[3]=x*r;a[4]=(b*e-f*m)*r;a[5]=(-g*e+f*c)*r;a[6]=w*r;a[7]=(-l*e+h*m)*r;a[8]=(d*e-h*c)*r;return a};a.adjoint=function(a,
b){var e=b[0],h=b[1],f=b[2],c=b[3],d=b[4],g=b[5],m=b[6],l=b[7];b=b[8];a[0]=d*b-g*l;a[1]=f*l-h*b;a[2]=h*g-f*d;a[3]=g*m-c*b;a[4]=e*b-f*m;a[5]=f*c-e*g;a[6]=c*l-d*m;a[7]=h*m-e*l;a[8]=e*d-h*c;return a};a.determinant=function(a){var b=a[3],h=a[4],g=a[5],f=a[6],c=a[7],d=a[8];return a[0]*(d*h-g*c)+a[1]*(-d*b+g*f)+a[2]*(c*b-h*f)};a.multiply=g;a.translate=function(a,b,g){var e=b[0],f=b[1],c=b[2],d=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=g[0];g=g[1];a[0]=e;a[1]=f;a[2]=c;a[3]=d;a[4]=h;a[5]=k;a[6]=n*e+g*
d+l;a[7]=n*f+g*h+m;a[8]=n*c+g*k+b;return a};a.rotate=function(a,b,g){var e=b[0],f=b[1],c=b[2],d=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=Math.sin(g);g=Math.cos(g);a[0]=g*e+n*d;a[1]=g*f+n*h;a[2]=g*c+n*k;a[3]=g*d-n*e;a[4]=g*h-n*f;a[5]=g*k-n*c;a[6]=l;a[7]=m;a[8]=b;return a};a.scale=function(a,b,g){var e=g[0],f=g[1];g=g[2];a[0]=e*b[0];a[1]=e*b[1];a[2]=e*b[2];a[3]=f*b[3];a[4]=f*b[4];a[5]=f*b[5];a[6]=g*b[6];a[7]=g*b[7];a[8]=g*b[8];return a};a.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=
0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};a.fromRotation=function(a,b){var e=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=e;a[2]=0;a[3]=-e;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};a.fromQuat=function(a,b){var e=b[0],h=b[1],f=b[2];b=b[3];var c=e+e,d=h+h,g=f+f,e=e*c,m=h*
c,h=h*d,l=f*c,n=f*d,f=f*g,c=b*c,d=b*d;b*=g;a[0]=1-h-f;a[3]=m-b;a[6]=l+d;a[1]=m+b;a[4]=1-e-f;a[7]=n-c;a[2]=l-d;a[5]=n+c;a[8]=1-e-h;return a};a.normalFromMat4Legacy=function(a,b){var e=b[0],h=b[1],f=b[2],c=b[4],d=b[5],g=b[6],m=b[8],l=b[9];b=b[10];var n=b*d-g*l,x=-b*c+g*m,w=l*c-d*m,r=e*n+h*x+f*w;if(!r)return null;r=1/r;a[0]=n*r;a[1]=(-b*h+f*l)*r;a[2]=(g*h-f*d)*r;a[3]=x*r;a[4]=(b*e-f*m)*r;a[5]=(-g*e+f*c)*r;a[6]=w*r;a[7]=(-l*e+h*m)*r;a[8]=(d*e-h*c)*r;return a};a.normalFromMat4=function(a,b){var e=b[0],
h=b[1],f=b[2],c=b[3],d=b[4],g=b[5],m=b[6],l=b[7],n=b[8],x=b[9],w=b[10],r=b[11],y=b[12],G=b[13],C=b[14];b=b[15];var D=e*g-h*d,A=e*m-f*d,z=e*l-c*d,B=h*m-f*g,F=h*l-c*g,H=f*l-c*m,J=n*G-x*y,E=n*C-w*y,n=n*b-r*y,K=x*C-w*G,x=x*b-r*G,w=w*b-r*C,r=D*w-A*x+z*K+B*n-F*E+H*J;if(!r)return null;r=1/r;a[0]=(g*w-m*x+l*K)*r;a[1]=(m*n-d*w-l*E)*r;a[2]=(d*x-g*n+l*J)*r;a[3]=(f*x-h*w-c*K)*r;a[4]=(e*w-f*n+c*E)*r;a[5]=(h*n-e*x-c*J)*r;a[6]=(G*H-C*F+b*B)*r;a[7]=(C*z-y*H-b*A)*r;a[8]=(y*F-G*z+b*D)*r;return a};a.projection=function(a,
b,g){a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/g;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a};a.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};a.add=function(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+
g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];return a};a.subtract=m;a.multiplyScalar=function(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;return a};a.multiplyScalarAndAdd=function(a,b,g,m){a[0]=b[0]+g[0]*m;a[1]=b[1]+g[1]*m;a[2]=b[2]+g[2]*m;a[3]=b[3]+g[3]*m;a[4]=b[4]+g[4]*m;a[5]=b[5]+g[5]*m;a[6]=b[6]+g[6]*m;a[7]=b[7]+g[7]*m;a[8]=b[8]+g[8]*m;return a};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&
a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]};a.equals=function(a,b){var e=a[0],g=a[1],f=a[2],c=a[3],d=a[4],h=a[5],m=a[6],l=a[7];a=a[8];var v=b[0],x=b[1],w=b[2],r=b[3],y=b[4],G=b[5],C=b[6],D=b[7];b=b[8];return Math.abs(e-v)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(g-x)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(x))&&Math.abs(f-w)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(c-r)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(r))&&Math.abs(d-
y)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(y))&&Math.abs(h-G)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(G))&&Math.abs(m-C)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(l-D)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(a-b)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.mul=g;a.sub=m})},"esri/views/3d/support/dito":function(){define(["require","exports"],function(b,a){function n(a,b,c,e,f,h){if(!(1E-6>b[0]*b[0]+b[1]*b[1]+b[2]*b[2]))for(t(H,c,b),t(J,e,b),t(E,f,b),g(a,
b,F),I[1]=F[0],K[1]=F[1],O[1]=K[1]-I[1],c=[c,e,f],e=[H,J,E],f=0;3>f;++f){g(a,c[f],F);I[0]=F[0];K[0]=F[1];g(a,e[f],F);I[2]=F[0];K[2]=F[1];O[0]=K[0]-I[0];O[2]=K[2]-I[2];var l=k(O);l<h.quality&&(d(h.b0,c[f]),d(h.b1,b),d(h.b2,e[f]),h.quality=l)}}function g(a,b,c){var d=a.data,e=a.offsetIdx;a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;e<d.length;e+=a){var f=d[e]*b[0]+d[e+1]*b[1]+d[e+2]*b[2];c[0]=Math.min(c[0],f);c[1]=Math.max(c[1],f)}}function m(a,b,e){d(e.center,a);c(e.halfSize,
b,.5);e.quaternion[0]=0;e.quaternion[1]=0;e.quaternion[2]=0;e.quaternion[3]=1}function h(a,b,c,d,e,f){g(a,b,F);e[0]=F[0];f[0]=F[1];g(a,c,F);e[1]=F[0];f[1]=F[1];g(a,d,F);e[2]=F[0];f[2]=F[1]}function e(a,b,d,e,f,g,h){S[0]=a[0];S[1]=a[1];S[2]=a[2];S[3]=b[0];S[4]=b[1];S[5]=b[2];S[6]=d[0];S[7]=d[1];S[8]=d[2];var l=h.quaternion,k=S,m=k[0]+k[4]+k[8];if(0<m)m=Math.sqrt(m+1),l[3]=.5*m,m=.5/m,l[0]=(k[5]-k[7])*m,l[1]=(k[6]-k[2])*m,l[2]=(k[1]-k[3])*m;else{var n=0;k[4]>k[0]&&(n=1);k[8]>k[3*n+n]&&(n=2);var q=(n+
1)%3,r=(n+2)%3,m=Math.sqrt(k[3*n+n]-k[3*q+q]-k[3*r+r]+1);l[n]=.5*m;m=.5/m;l[3]=(k[3*q+r]-k[3*r+q])*m;l[q]=(k[3*q+n]+k[3*n+q])*m;l[r]=(k[3*r+n]+k[3*n+r])*m}p(T,e,f);c(T,T,.5);c(h.center,a,T[0]);c(Y,b,T[1]);p(h.center,h.center,Y);c(Y,d,T[2]);p(h.center,h.center,Y);c(h.halfSize,g,.5)}function k(a){return a[0]*a[1]+a[0]*a[2]+a[1]*a[2]}function p(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2]}function f(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2]}function c(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;
a[2]=b[2]*c}function d(a,b,c){void 0===c&&(c=0);a[0]=b[c+0];a[1]=b[c+1];a[2]=b[c+2]}function t(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f}function q(a,b){var c=b[0]*b[0]+b[1]*b[1]+b[2]*b[2];0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c)}function l(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a}Object.defineProperty(a,"__esModule",{value:!0});var v=[0,0,0],x=[0,0,0];a.computeOBB=function(a,b){var g=a.data.length/a.strideIdx;
if(!(0>=g)){var H=new u(a);p(v,H.minProj,H.maxProj);c(v,v,.5);f(x,H.maxProj,H.minProj);var J=k(x),E=new M;E.quality=J;14>g&&(a={data:new Float64Array(H.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var I=[0,0,0],K=[0,0,0],O=[0,0,0],g=[0,0,0],Y=[0,0,0],S=[0,0,0],T=[0,0,0],X;X=a;for(var aa=l(H.maxVert[0],H.minVert[0]),ca=0,V=1;7>V;++V){var W=l(H.maxVert[V],H.minVert[V]);W>aa&&(aa=W,ca=V)}d(I,H.minVert[ca]);d(K,H.maxVert[ca]);if(1E-6>l(I,K))X=1;else{f(g,I,K);q(g,g);H=X.data;aa=X.strideIdx;ca=Number.NEGATIVE_INFINITY;
V=0;for(W=X.offsetIdx;W<H.length;W+=aa){B[0]=H[W]-I[0];B[1]=H[W+1]-I[1];B[2]=H[W+2]-I[2];var da=g[0]*B[0]+g[1]*B[1]+g[2]*B[2],da=B[0]*B[0]+B[1]*B[1]+B[2]*B[2]-da*da/(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]);da>ca&&(ca=da,V=W)}d(O,H,V);1E-6>ca?X=2:(f(Y,K,O),q(Y,Y),f(S,O,I),q(S,S),t(T,Y,g),q(T,T),n(X,T,g,Y,S,E),X=0)}switch(X){case 1:m(v,x,b);return;case 2:J=a;d(P,g);Math.abs(g[0])>Math.abs(g[1])&&Math.abs(g[0])>Math.abs(g[2])?P[0]=0:Math.abs(g[1])>Math.abs(g[2])?P[1]=0:P[2]=0;1E-6>P[0]*P[0]+P[1]*P[1]+P[2]*P[2]&&
(P[0]=P[1]=P[2]=1);t(Q,g,P);q(Q,Q);t(R,g,Q);q(R,R);h(J,g,Q,R,U,L);f(fa,L,U);e(g,Q,R,U,L,fa,b);return}X=a;H=w;aa=r;ca=F;V=X.data;da=X.offsetIdx;W=X.strideIdx;d(aa,V,da);d(H,aa);ca[0]=N[0]*T[0]+N[1]*T[1]+N[2]*T[2];ca[1]=ca[0];for(da+=W;da<V.length;da+=W){var ga=V[da]*T[0]+V[da+1]*T[1]+V[da+2]*T[2];ga<ca[0]&&(ca[0]=ga,d(aa,V,da));ga>ca[1]&&(ca[1]=ga,d(H,V,da))}T=I[0]*T[0]+I[1]*T[1]+I[2]*T[2];F[1]-1E-6<=T&&(H[0]=void 0);F[0]+1E-6>=T&&(aa[0]=void 0);void 0!==w[0]&&(f(y,w,I),q(y,y),f(G,w,K),q(G,G),f(C,
w,O),q(C,C),t(D,G,g),q(D,D),t(A,C,Y),q(A,A),t(z,y,S),q(z,z),n(X,D,g,G,y,E),n(X,A,Y,C,G,E),n(X,z,S,y,C,E));void 0!==r[0]&&(f(y,r,I),q(y,y),f(G,r,K),q(G,G),f(C,r,O),q(C,C),t(D,G,g),q(D,D),t(A,C,Y),q(A,A),t(z,y,S),q(z,z),n(X,D,g,G,y,E),n(X,A,Y,C,G,E),n(X,z,S,y,C,E));h(a,E.b0,E.b1,E.b2,U,L);a=[0,0,0];f(a,L,U);E.quality=k(a);E.quality<J?e(E.b0,E.b1,E.b2,U,L,a,b):m(v,x,b)}};var w=[0,0,0],r=[0,0,0],y=[0,0,0],G=[0,0,0],C=[0,0,0],D=[0,0,0],A=[0,0,0],z=[0,0,0],B=[0,0,0],F=[0,0],H=[0,0,0],J=[0,0,0],E=[0,0,0],
K=[0,0,0],I=[0,0,0],O=[0,0,0],N=[0,0,0],P=[0,0,0],Q=[0,0,0],R=[0,0,0],U=[0,0,0],L=[0,0,0],fa=[0,0,0],Y=[0,0,0],S=[1,0,0,0,1,0,0,0,1],T=[0,0,0],u=function(){return function(a){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(var b=b+56,c=0;7>c;++c)this.minVert[c]=new Float64Array(this.buffer,b,3),b+=24;for(c=0;7>c;++c)this.maxVert[c]=new Float64Array(this.buffer,
b,3),b+=24;for(c=0;7>c;++c)this.minProj[c]=Number.POSITIVE_INFINITY,this.maxProj[c]=Number.NEGATIVE_INFINITY;for(var b=Array(7),e=Array(7),f=a.data,g=a.strideIdx,c=a.offsetIdx;c<f.length;c+=g)a=f[c],a<this.minProj[0]&&(this.minProj[0]=a,b[0]=c),a>this.maxProj[0]&&(this.maxProj[0]=a,e[0]=c),a=f[c+1],a<this.minProj[1]&&(this.minProj[1]=a,b[1]=c),a>this.maxProj[1]&&(this.maxProj[1]=a,e[1]=c),a=f[c+2],a<this.minProj[2]&&(this.minProj[2]=a,b[2]=c),a>this.maxProj[2]&&(this.maxProj[2]=a,e[2]=c),a=f[c]+f[c+
1]+f[c+2],a<this.minProj[3]&&(this.minProj[3]=a,b[3]=c),a>this.maxProj[3]&&(this.maxProj[3]=a,e[3]=c),a=f[c]+f[c+1]-f[c+2],a<this.minProj[4]&&(this.minProj[4]=a,b[4]=c),a>this.maxProj[4]&&(this.maxProj[4]=a,e[4]=c),a=f[c]-f[c+1]+f[c+2],a<this.minProj[5]&&(this.minProj[5]=a,b[5]=c),a>this.maxProj[5]&&(this.maxProj[5]=a,e[5]=c),a=f[c]-f[c+1]-f[c+2],a<this.minProj[6]&&(this.minProj[6]=a,b[6]=c),a>this.maxProj[6]&&(this.maxProj[6]=a,e[6]=c);for(c=0;7>c;++c)a=b[c],d(this.minVert[c],f,a),a=e[c],d(this.maxVert[c],
f,a)}}(),M=function(){return function(){this.b0=[1,0,0];this.b1=[0,1,0];this.b2=[0,0,1];this.quality=0}}()})},"esri/views/3d/support/geometryUtils":function(){define("require exports ./geometryUtils/axisAngle ./geometryUtils/boundedPlane ./geometryUtils/frustum ./geometryUtils/lineSegment ./geometryUtils/plane ./geometryUtils/ray ./geometryUtils/sphere ./geometryUtils/triangle ./geometryUtils/vector".split(" "),function(b,a,n,g,m,h,e,k,p,f,c){Object.defineProperty(a,"__esModule",{value:!0});a.plane=
e;a.boundedPlane=g;a.triangle=f;a.lineSegment=h;a.ray=k;a.sphere=p;a.frustum=m;a.vector=c;a.axisAngle=n})},"esri/views/3d/support/geometryUtils/axisAngle":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3","../stack","./vector"],function(b,a,n,g,m){function h(b){void 0===b&&(b=a.UP);return[b[0],b[1],b[2],b[3]]}function e(a,b,e,c,d){void 0===d&&(d=h());d[0]=a;d[1]=b;d[2]=e;d[3]=c;return d}Object.defineProperty(a,"__esModule",{value:!0});a.create=h;a.wrap=function(a,b,f,
c){return e(a,b,f,c,g.sv4d.get())};a.wrapAxisAngle=function(a,b){return e(a[0],a[1],a[2],b,g.sv4d.get())};a.copy=function(a,b){void 0===b&&(b=h());return e(a[0],a[1],a[2],a[3],b)};a.fromValues=e;a.fromAxisAndAngle=function(a,b,e){void 0===e&&(e=h());n.vec3.copy(e,a);e[3]=b;return e};a.fromPoints=function(a,b,e){void 0===e&&(e=h());n.vec3.cross(e,a,b);n.vec3.normalize(e,e);e[3]=m.angle(a,b);return e};a.UP=[0,0,1,0]})},"esri/views/3d/support/geometryUtils/vector":function(){define(["require","exports",
"../../../../core/libs/gl-matrix-2/vec3","../mathUtils"],function(b,a,n,g){function m(a,b){return n.vec3.dot(a,b)/n.vec3.length(a)}Object.defineProperty(a,"__esModule",{value:!0});a.projectPoint=function(a,b,g){b=m(a,b);return n.vec3.scale(g,a,b)};a.projectPointSignedLength=m;a.angle=function(a,b){a=n.vec3.dot(a,b)/(n.vec3.length(a)*n.vec3.length(b));return-g.acos(a)}})},"esri/views/3d/support/geometryUtils/boundedPlane":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../mathUtils ../stack ./lineSegment ./plane ./ray ./vector".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d,t,q,l){function v(b){void 0===b&&(b=a.UP);return{plane:t.create(b.plane),origin:p.vec3f64.clone(b.origin),basis1:p.vec3f64.clone(b.basis1),basis2:p.vec3f64.clone(b.basis2)}}function x(a,b){void 0===b&&(b=v());return w(a.origin,a.basis1,a.basis2,b)}function w(a,b,c,d){void 0===d&&(d=v());k.vec3.copy(d.origin,a);k.vec3.copy(d.basis1,b);k.vec3.copy(d.basis2,c);t.fromVectorsAndPoint(c,b,a,d.plane);a=d;1E-6<Math.abs(k.vec3.dot(a.basis1,a.basis2)/(k.vec3.length(a.basis1)*
k.vec3.length(a.basis2)))&&K.warn("fromValues()","Provided basis vectors are not perpendicular");1E-6<Math.abs(k.vec3.dot(a.basis1,a.plane))&&K.warn("fromValues()","Basis vectors and plane normal are not perpendicular");1E-6<Math.abs(-k.vec3.dot(a.plane,a.origin)-a.plane[3])&&K.warn("fromValues()","Plane offset is not consistent with plane origin");return d}function r(a,b,d){a!==d&&x(a,d);a=k.vec3.scale(c.sv3d.get(),a.plane,b);k.vec3.add(d.origin,d.origin,a);d.plane[3]-=b;return d}function y(a,b){void 0===
b&&(b=v());var c=(a[2]-a[0])/2,d=(a[3]-a[1])/2;k.vec3.set(b.origin,a[0]+c,a[1]+d,0);k.vec3.set(b.basis1,c,0,0);k.vec3.set(b.basis2,0,d,0);t.fromValues(0,0,1,0,b.plane);return b}function G(a,b,c){return t.intersectRay(a.plane,b,c)?F(a,c):!1}function C(a,b,d){var e=I.get(),g=I.get();E(a,b,e,g);for(var g=Number.POSITIVE_INFINITY,h=0,l=Q;h<l.length;h++){var m=J(a,l[h],O.get()),n=c.sv3d.get();t.intersectLineSegment(e,m,n)&&(m=f.directionFromTo(c.sv3d.get(),b.origin,n),m=Math.abs(f.acos(k.vec3.dot(b.direction,
m))),m<g&&(g=m,k.vec3.copy(d,n)))}return g===Number.POSITIVE_INFINITY?D(a,b,d):d}function D(a,b,d){if(G(a,b,d))return d;var e=I.get(),f=I.get();E(a,b,e,f);for(var g=Number.POSITIVE_INFINITY,h=0,l=Q;h<l.length;h++){var m=J(a,l[h],O.get()),n=c.sv3d.get();t.intersectLineSegmentClamp(e,m,n)&&(m=q.distance2(b,n),t.isPointInside(f,n)&&m<g&&(g=m,k.vec3.copy(d,n)))}z(a,b.origin)<g&&k.vec3.copy(d,b.origin);return d}function A(a,b,d){var e=a.origin,f=a.basis1,g=a.basis2;b=k.vec3.subtract(c.sv3d.get(),b,e);
f=l.projectPointSignedLength(f,b)/k.vec3.length(f);g=l.projectPointSignedLength(g,b)/k.vec3.length(g);a=l.projectPointSignedLength(a.plane,b);return k.vec3.set(d,f,g,a)}function z(a,b){b=A(a,b,c.sv3d.get());var d=a.basis2;a=k.vec3.length(a.basis1);d=k.vec3.length(d);a=Math.max(Math.abs(b[0])-a,0);d=Math.max(Math.abs(b[1])-d,0);b=b[2];return a*a+d*d+b*b}function B(a,b){var c=-a.plane[3];return l.projectPointSignedLength(a.plane,b)-c}function F(a,b){var d=k.vec3.subtract(c.sv3d.get(),b,a.origin);b=
k.vec3.squaredLength(a.basis1);var e=k.vec3.squaredLength(a.basis2),f=k.vec3.dot(a.basis1,d);a=k.vec3.dot(a.basis2,d);return 0>-f-b&&0>f-b&&0>-a-e&&0>a-e}function H(a,b){var c=O.get();k.vec3.copy(c.origin,a.origin);k.vec3.copy(c.vector,b);return c}function J(a,b,d){var e=a.basis1,f=a.basis2;a=a.origin;var g=k.vec3.scale(c.sv3d.get(),e,b.origin[0]),h=k.vec3.scale(c.sv3d.get(),f,b.origin[1]);k.vec3.add(d.origin,g,h);k.vec3.add(d.origin,d.origin,a);e=k.vec3.scale(c.sv3d.get(),e,b.direction[0]);b=k.vec3.scale(c.sv3d.get(),
f,b.direction[1]);k.vec3.scale(d.vector,k.vec3.add(e,e,b),2);return d}function E(a,b,c,d){a=a.plane;t.fromVectorsAndPoint(a,b.direction,b.origin,c);t.fromVectorsAndPoint(c,a,b.origin,d)}Object.defineProperty(a,"__esModule",{value:!0});var K=g.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");b=function(){return function(){this.plane=t.create();this.origin=p.vec3f64.create();this.basis1=p.vec3f64.create();this.basis2=p.vec3f64.create()}}();a.BoundedPlaneClass=b;a.create=v;a.wrap=function(a,
b,c){var d=P.get();d.origin=a;d.basis1=b;d.basis2=c;d.plane=t.fromVectorsAndPoint(c,b,a,t.wrap(0,0,0,0));return d};a.copy=x;a.fromValues=w;a.elevate=r;a.setExtent=function(a,b,c){y(b,c);r(c,B(a,a.origin),c);return c};a.fromAABoundingRect=y;a.intersectRay=G;a.intersectRayClosestSilhouette=function(a,b,d){if(G(a,b,d))return d;a=C(a,b,c.sv3d.get());k.vec3.add(d,b.origin,k.vec3.scale(c.sv3d.get(),b.direction,k.vec3.distance(b.origin,a)/k.vec3.length(b.direction)));return d};a.closestPointOnSilhouette=
C;a.closestPoint=D;a.projectPoint=function(a,b,e){var f=t.projectPoint(a.plane,b,c.sv3d.get());b=d.projectPointClamp(H(a,a.basis1),f,-1,1,c.sv3d.get());f=d.projectPointClamp(H(a,a.basis2),f,-1,1,c.sv3d.get());k.vec3.subtract(e,k.vec3.add(c.sv3d.get(),b,f),a.origin);return e};a.projectPointLocal=A;a.distance2=z;a.distance=function(a,b){return Math.sqrt(z(a,b))};a.distanceToSilhouette=function(a,b){for(var c=Number.NEGATIVE_INFINITY,e=0,f=Q;e<f.length;e++){var g=J(a,f[e],O.get()),g=d.distance2(g,b);
g>c&&(c=g)}return Math.sqrt(c)};a.extrusionContainsPoint=function(a,b){return t.isPointInside(a.plane,b)&&F(a,b)};a.axisAt=function(a,b,c,d){switch(c){case 0:k.vec3.copy(d,a.basis1);k.vec3.normalize(d,d);break;case 1:k.vec3.copy(d,a.basis2);k.vec3.normalize(d,d);break;case 2:k.vec3.copy(d,a.plane);break;default:n.neverReached(c)}return d};a.altitudeAt=B;a.setAltitudeAt=function(a,b,c,d){var e=B(a,b);a=k.vec3.scale(N,a.plane,c-e);k.vec3.add(d,b,a);return d};a.transform=function(a,b,c){a!==c&&x(a,c);
h.mat4.invert(R,b);h.mat4.transpose(R,R);k.vec3.transformMat4(c.basis1,a.basis1,R);k.vec3.transformMat4(c.basis2,a.basis2,R);k.vec3.transformMat4(c.plane,a.plane,R);k.vec3.transformMat4(c.origin,a.origin,b);t.setOffsetFromPoint(c.plane,c.origin,c.plane);return c};a.UP={plane:t.create(),origin:p.vec3f64.fromValues(0,0,0),basis1:p.vec3f64.fromValues(1,0,0),basis2:p.vec3f64.fromValues(0,1,0)};var I=new m.ObjectStack(t.create),O=new m.ObjectStack(d.create),N=p.vec3f64.create(),P=new m.ObjectStack(function(){return{origin:null,
basis1:null,basis2:null,plane:null}}),Q=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],R=e.mat4f64.create()})},"esri/core/ObjectStack":function(){define(["require","exports","./nextTick"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a){var b=this;this.allocator=a;this.items=[];this.itemsPtr=0;this.tickHandle=n.before(function(){return b.reset()});this.grow()}a.prototype.destroy=
function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null);this.items=null};a.prototype.get=function(){0===this.itemsPtr&&n(function(){});this.itemsPtr===this.items.length&&this.grow();return this.items[this.itemsPtr++]};a.prototype.reset=function(){this.items.length=Math.min(Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*g),this.items.length);this.itemsPtr=0};a.prototype.grow=function(){for(var a=0;a<Math.max(8,Math.min(this.items.length,g));a++)this.items.push(this.allocator())};
return a}();a.ObjectStack=b;var g=1024;a.default=b})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define("require exports ../../../../core/mathUtils ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack".split(" "),function(b,a,n,g,m,h,e){function k(a){return a?{origin:h.vec3f64.clone(a.origin),vector:h.vec3f64.clone(a.vector)}:{origin:h.vec3f64.create(),vector:h.vec3f64.create()}}function p(a,b){var c=l.get();c.origin=
a;c.vector=b;return c}function f(a,b,c){void 0===c&&(c=k());m.vec3.copy(c.origin,a);m.vec3.copy(c.vector,b);return c}function c(a,b){b=m.vec3.subtract(e.sv3d.get(),b,a.origin);var c=m.vec3.dot(a.vector,b),d=m.vec3.dot(a.vector,a.vector),c=n.clamp(c/d,0,1);a=m.vec3.subtract(e.sv3d.get(),m.vec3.scale(e.sv3d.get(),a.vector,c),b);return m.vec3.dot(a,a)}function d(a,b,c,d,f){var g=a.vector,h=a.origin;b=m.vec3.subtract(e.sv3d.get(),b,h);h=m.vec3.length(g);b=m.vec3.dot(g,b)/h;m.vec3.scale(f,g,n.clamp(b,
c,d));return m.vec3.add(f,f,a.origin)}function t(a,b,c,d){var f=a.origin,g=m.vec3.add(e.sv3d.get(),f,a.vector);a=b.origin;var h=m.vec3.add(e.sv3d.get(),a,b.vector),l=e.sv3d.get();b=e.sv3d.get();l[0]=f[0]-a[0];l[1]=f[1]-a[1];l[2]=f[2]-a[2];b[0]=h[0]-a[0];b[1]=h[1]-a[1];b[2]=h[2]-a[2];if(1E-6>Math.abs(b[0])&&1E-6>Math.abs(b[1])&&1E-6>Math.abs(b[2]))return!1;h=e.sv3d.get();h[0]=g[0]-f[0];h[1]=g[1]-f[1];h[2]=g[2]-f[2];if(1E-6>Math.abs(h[0])&&1E-6>Math.abs(h[1])&&1E-6>Math.abs(h[2]))return!1;var g=l[0]*
b[0]+l[1]*b[1]+l[2]*b[2],k=b[0]*h[0]+b[1]*h[1]+b[2]*h[2],p=b[0]*b[0]+b[1]*b[1]+b[2]*b[2],q=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*p-k*k;if(1E-6>Math.abs(q))return!1;l=(g*k-(l[0]*h[0]+l[1]*h[1]+l[2]*h[2])*p)/q;g=(g+k*l)/p;c&&(l=n.clamp(l,0,1),g=n.clamp(g,0,1));c=e.sv3d.get();k=e.sv3d.get();c[0]=f[0]+l*h[0];c[1]=f[1]+l*h[1];c[2]=f[2]+l*h[2];k[0]=a[0]+g*b[0];k[1]=a[1]+g*b[1];k[2]=a[2]+g*b[2];d.tA=l;d.tB=g;d.pA=c;d.pB=k;d.distance2=m.vec3.squaredDistance(c,k);return!0}Object.defineProperty(a,"__esModule",{value:!0});
a.create=k;a.wrap=p;a.copy=function(a,b){void 0===b&&(b=k());return f(a.origin,a.vector,b)};a.fromValues=f;a.fromPoints=function(a,b,c){void 0===c&&(c=k());m.vec3.copy(c.origin,a);m.vec3.subtract(c.vector,b,a);return c};a.distance2=c;a.distance=function(a,b){return Math.sqrt(c(a,b))};a.projectPoint=function(a,b,c){return d(a,b,0,1,c)};a.projectPointClamp=d;a.closestRayDistance2=function(a,b){if(t(a,p(b.origin,b.direction),!1,q)){b=q.tA;var c=q.pB,d=q.distance2;if(0<=b&&1>=b)return d;if(0>b)return m.vec3.squaredDistance(a.origin,
c);if(1<b)return m.vec3.squaredDistance(m.vec3.add(e.sv3d.get(),a.origin,a.vector),c)}return null};a.closestLineSegmentPoint=function(a,b,c){return t(a,b,!0,q)?(m.vec3.copy(c,q.pA),!0):!1};a.closestLineSegmentDistance2=function(a,b){return t(a,b,!0,q)?q.distance2:null};var q={tA:0,tB:0,pA:h.vec3f64.create(),pB:h.vec3f64.create(),distance2:0},l=new g.ObjectStack(function(){return{origin:null,vector:null}})})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../../../core/mathUtils",
"../../../../core/libs/gl-matrix-2/vec3","../stack"],function(b,a,n,g,m){function h(b){void 0===b&&(b=a.UP);return[b[0],b[1],b[2],b[3]]}function e(a,b){void 0===b&&(b=h());return k(a[0],a[1],a[2],a[3],b)}function k(a,b,c,d,e){void 0===e&&(e=h());e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e}function p(a,b,c){void 0===c&&(c=h());g.vec3.copy(c,b);b=g.vec3.dot(b,b);1E-5<Math.abs(b-1)&&1E-12<b&&g.vec3.scale(c,c,1/Math.sqrt(b));f(c,a,c);return c}function f(a,b,c){a!==c&&e(a,c);c[3]=-g.vec3.dot(c,b);return c}function c(a,
b,c,d){void 0===d&&(d=h());a=g.vec3.cross(m.sv3d.get(),b,a);return p(c,a,d)}function d(a,b,c){a=g.vec3.scale(m.sv3d.get(),a,g.vec3.dot(a,b));g.vec3.subtract(c,b,a);return c}function t(a,b){return g.vec3.dot(a,b)+a[3]}function q(a,b,c,d,e,f){var h=g.vec3.dot(a,c);if(0===h)return!1;a=-(g.vec3.dot(a,b)+a[3])/h;e&&(a=d?Math.max(0,a):n.clamp(a,0,1));if(0>a||!d&&1<a)return!1;g.vec3.add(f,b,g.vec3.scale(f,c,a));return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=h;a.wrap=function(a,b,c,d){return k(a,
b,c,d,m.sv4d.get())};a.copy=e;a.fromValues=k;a.fromNormalAndOffset=function(a,b,c){void 0===c&&(c=h());g.vec3.copy(c,a);c[3]=b;return c};a.fromPositionAndNormal=p;a.fromPoints=function(a,b,d,e){void 0===e&&(e=h());return c(g.vec3.subtract(m.sv3d.get(),a,b),g.vec3.subtract(m.sv3d.get(),d,b),a,e)};a.setOffsetFromPoint=f;a.negate=function(a,b){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};a.fromVectorsAndPoint=c;a.intersectRay=function(a,b,c){return q(a,b.origin,b.direction,!0,!1,c)};a.intersectLineSegment=
function(a,b,c){return q(a,b.origin,b.vector,!1,!1,c)};a.intersectLineSegmentClamp=function(a,b,c){return q(a,b.origin,b.vector,!1,!0,c)};a.isSphereFullyInside=function(a,b){var c=b.radius;return 0<=t(a,b.center)-c};a.isSphereFullyOutside=function(a,b){var c=b.radius;return 0>t(a,b.center)+c};a.isPointInside=function(a,b){return 0<=t(a,b)};a.isPointOutside=function(a,b){return 0>t(a,b)};a.isAABBFullyInside=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4];b=b[5];return 0<=a[0]*(0<a[0]?c:f)+a[1]*
(0<a[1]?d:g)+a[2]*(0<a[2]?e:b)+a[3]};a.clip=function(a,b){var c=g.vec3.dot(a,b.ray.direction);a=-t(a,b.ray.origin);if(0>a&&0<=c)return!1;if(-1E-6<c&&1E-6>c)return 0<a;if((0>a||0>c)&&!(0>a&&0>c))return!0;a/=c;0<c?a<b.c1&&(b.c1=a):a>b.c0&&(b.c0=a);return b.c0<=b.c1};a.projectPoint=function(a,b,c){var e=g.vec3.scale(m.sv3d.get(),a,-a[3]);b=g.vec3.subtract(m.sv3d.get(),b,e);a=d(a,b,m.sv3d.get());g.vec3.add(c,a,e);return c};a.projectVector=d;a.distance=function(a,b){return Math.abs(t(a,b))};a.signedDistance=
t;a.UP=[0,0,1,0]})},"esri/views/3d/support/geometryUtils/ray":function(){define("require exports ../../../../core/ObjectStack ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack".split(" "),function(b,a,n,g,m,h,e,k){function p(a){return a?{origin:e.vec3f64.clone(a.origin),direction:e.vec3f64.clone(a.direction)}:{origin:e.vec3f64.create(),direction:e.vec3f64.create()}}function f(a,b,c){void 0===
c&&(c=p());h.vec3.copy(c.origin,a);h.vec3.copy(c.direction,b);return c}function c(a,b,c){void 0===c&&(c=p());var d=g.castRenderScreenPointArray3(m.vec2.copy(k.sv3d.get(),b));d[2]=0;a.unprojectPoint(d,c.origin);b=g.castRenderScreenPointArray3(m.vec2.copy(k.sv3d.get(),b));b[2]=1;a=a.unprojectPoint(b,k.sv3d.get());h.vec3.subtract(c.direction,a,c.origin);return c}function d(a,b,c){void 0===c&&(c=p());h.vec3.copy(c.origin,a.eye);b=h.vec3.set(k.sv3d.get(),b[0],b[1],1);a=a.unprojectPoint(b,k.sv3d.get());
h.vec3.subtract(c.direction,a,c.origin);return c}function t(a,b){a=h.vec3.cross(k.sv3d.get(),h.vec3.normalize(k.sv3d.get(),a.direction),h.vec3.subtract(k.sv3d.get(),b,a.origin));return h.vec3.dot(a,a)}function q(){return{origin:null,direction:null}}Object.defineProperty(a,"__esModule",{value:!0});a.create=p;a.wrap=function(a,b){var c=l.get();c.origin=a;c.direction=b;return c};a.copy=function(a,b){void 0===b&&(b=p());return f(a.origin,a.direction,b)};a.fromPoints=function(a,b,c){void 0===c&&(c=p());
h.vec3.copy(c.origin,a);h.vec3.subtract(c.direction,b,a);return c};a.fromValues=f;a.fromScreen=function(a,b,d){void 0===d&&(d=p());return c(a,a.screenToRender(b,g.castRenderScreenPointArray3(k.sv3d.get())),d)};a.fromRender=c;a.fromScreenAtEye=function(a,b,c){void 0===c&&(c=p());return d(a,a.screenToRender(b,g.castRenderScreenPointArray3(k.sv3d.get())),c)};a.fromRenderAtEye=d;a.distance2=t;a.distance=function(a,b){return Math.sqrt(t(a,b))};a.closestPoint=function(a,b,c){b=h.vec3.dot(a.direction,h.vec3.subtract(c,
b,a.origin));h.vec3.add(c,a.origin,h.vec3.scale(c,a.direction,b));return c};a.createWrapper=q;var l=new n.ObjectStack(q)})},"esri/views/3d/support/geometryUtils/frustum":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../stack ./clipRay ./plane".split(" "),function(b,a,n,g,m,h,e,k,p,
f,c){function d(a){if(a){var b=a.planes;a=a.points;return{planes:[c.create(b[0]),c.create(b[1]),c.create(b[2]),c.create(b[3]),c.create(b[4]),c.create(b[5])],points:[h.vec3f64.clone(a[0]),h.vec3f64.clone(a[1]),h.vec3f64.clone(a[2]),h.vec3f64.clone(a[3]),h.vec3f64.clone(a[4]),h.vec3f64.clone(a[5]),h.vec3f64.clone(a[6]),h.vec3f64.clone(a[7])]}}return{planes:[c.create(),c.create(),c.create(),c.create(),c.create(),c.create()],points:[h.vec3f64.create(),h.vec3f64.create(),h.vec3f64.create(),h.vec3f64.create(),
h.vec3f64.create(),h.vec3f64.create(),h.vec3f64.create(),h.vec3f64.create()]}}function t(a,b,e){void 0===e&&(e=d());for(var f=0;6>f;f++)c.copy(a[f],e.planes[f]);for(f=0;8>f;f++)m.vec3.copy(e.points[f],b[f]);return e}function q(a){var b=a.planes;a=a.points;c.fromPoints(a[4],a[0],a[3],b[0]);c.fromPoints(a[1],a[5],a[6],b[1]);c.fromPoints(a[4],a[5],a[1],b[2]);c.fromPoints(a[3],a[2],a[6],b[3]);c.fromPoints(a[0],a[1],a[2],b[4]);c.fromPoints(a[5],a[4],a[7],b[5])}function l(a,b){for(var d=0;6>d;d++)if(!c.clip(a[d],
b))return!1;return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=d;a.copy=function(a,b){void 0===b&&(b=d());return t(a.planes,a.points,b)};a.fromValues=t;a.fromMatrix=function(a,b,c){void 0===c&&(c=d());var f=c.points;a=g.mat4.multiply(p.sm4d.get(),b,a);g.mat4.invert(a,a);for(b=0;8>b;++b){var h=e.vec4.transformMat4(p.sv4d.get(),v[b],a);m.vec3.set(f[b],h[0]/h[3],h[1]/h[3],h[2]/h[3])}q(c);return c};a.recomputePlanes=q;a.intersectsSphere=function(a,b){for(var d=0;6>d;d++)if(c.isSphereFullyInside(a[d],
b))return!1;return!0};a.intersectsRay=function(a,b){return l(a,f.fromRay(b,x.get()))};a.intersectsLineSegment=function(a,b,c){return l(a,f.fromLineSegmentAndDirection(b,c,x.get()))};a.intersectsPoint=function(a,b){for(var d=0;6>d;d++)if(0<c.signedDistance(a[d],b))return!1;return!0};a.intersectsAABB=function(a,b){for(var d=0;6>d;d++)if(c.isAABBFullyInside(a[d],b))return!1;return!0};a.planePointIndices={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,3,2,6]};var v=
[k.vec4f64.fromValues(-1,-1,-1,1),k.vec4f64.fromValues(1,-1,-1,1),k.vec4f64.fromValues(1,1,-1,1),k.vec4f64.fromValues(-1,1,-1,1),k.vec4f64.fromValues(-1,-1,1,1),k.vec4f64.fromValues(1,-1,1,1),k.vec4f64.fromValues(1,1,1,1),k.vec4f64.fromValues(-1,1,1,1)],x=new n.ObjectStack(f.create)})},"esri/views/3d/support/geometryUtils/clipRay":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec3 ../stack ./ray".split(" "),function(b,a,n,g,m,h){function e(a){return a?
{ray:h.create(a.ray),c0:a.c0,c1:a.c1}:{ray:h.create(),c0:0,c1:Number.MAX_VALUE}}function k(a,b,f,g){void 0===g&&(g=e());h.copy(a,g.ray);g.c0=b;g.c1=f;return g}function p(a,b,f){void 0===f&&(f=e());var c=g.vec3.length(a.vector);h.fromValues(a.origin,b,f.ray);f.c0=0;f.c1=c;return f}Object.defineProperty(a,"__esModule",{value:!0});a.create=e;a.wrap=function(a,b,e){var c=f.get();c.ray=a;c.c0=b;c.c1=e;return c};a.copy=function(a,b){void 0===b&&(b=e());return k(a.ray,a.c0,a.c1,b)};a.fromValues=k;a.fromRay=
function(a,b){void 0===b&&(b=e());h.copy(a,b.ray);b.c0=0;b.c1=Number.MAX_VALUE;return b};a.fromLineSegment=function(a,b){void 0===b&&(b=e());var c=g.vec3.normalize(m.sv3d.get(),a.vector);return p(a,c,b)};a.fromLineSegmentAndDirection=p;var f=new n.ObjectStack(function(){return{c0:0,c1:0,ray:null}})})},"esri/views/3d/support/geometryUtils/sphere":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../geometryUtils ../mathUtils ../stack ./ray".split(" "),
function(b,a,n,g,m,h,e,k,p,f,c,d){function t(a){return a?{radius:a.radius,center:k.vec3f64.clone(a.center)}:{radius:1,center:k.vec3f64.create()}}function q(a,b){void 0===b&&(b=t());return l(a.radius,a.center,b)}function l(a,b,c){void 0===c&&(c=t());e.vec3.copy(c.center,b);c.radius=a;return c}function v(a,b,d){var f=e.vec3.subtract(c.sv3d.get(),b.origin,a.center),g=e.vec3.dot(b.direction,b.direction),h=2*e.vec3.dot(b.direction,f);a=e.vec3.dot(f,f)-a.radius*a.radius;a=h*h-4*g*a;if(0>a)return!1;f=Math.sqrt(a);
a=(-h-f)/(2*g);g=(-h+f)/(2*g);if(0>a||g<a&&0<g)a=g;if(0>a)return!1;d&&e.vec3.add(d,b.origin,e.vec3.scale(c.sv3d.get(),b.direction,a));return!0}function x(a,b,d){var f=c.sv3d.get(),g=c.sm4d.get();e.vec3.cross(f,b.origin,b.direction);e.vec3.cross(d,f,b.origin);e.vec3.scale(d,d,1/e.vec3.length(d)*a.radius);a=r(a,b.origin);b=p.vector.angle(b.origin,d);h.mat4.identity(g);h.mat4.rotate(g,g,b+a,f);e.vec3.transformMat4(d,d,g);return d}function w(a,b,d){b=e.vec3.subtract(c.sv3d.get(),b,a.center);b=e.vec3.scale(c.sv3d.get(),
b,a.radius/e.vec3.length(b));return e.vec3.add(d,b,a.center)}function r(a,b){b=e.vec3.subtract(c.sv3d.get(),b,a.center);b=e.vec3.length(b);return f.acos(a.radius/(a.radius+Math.abs(a.radius-b)))}function y(a,b,c,d){a=e.vec3.subtract(D,b,a.center);switch(c){case 0:return a=f.cartesianToSpherical(a,D),a=a[2],e.vec3.set(d,-Math.sin(a),Math.cos(a),0);case 1:return a=f.cartesianToSpherical(a,D),c=a[1],a=a[2],b=Math.sin(c),e.vec3.set(d,-b*Math.cos(a),-b*Math.sin(a),Math.cos(c));case 2:return e.vec3.normalize(d,
a);default:n.neverReached(c)}}function G(a,b){b=e.vec3.subtract(F,b,a.center);return e.vec3.length(b)-a.radius}Object.defineProperty(a,"__esModule",{value:!0});var C=g.getLogger("esri.views.3d.support.geometryUtils.sphere");a.create=t;a.wrap=function(a,b){var c=A.get();c.radius=a;c.center=b||B;return c};a.copy=q;a.fromValues=l;a.elevate=function(a,b,c){a!==c&&e.vec3.copy(c.center,a.center);c.radius=a.radius+b;return c};a.setExtent=function(a,b,c){C.error("sphere.setExtent is not yet supported");return a===
c?c:q(a,c)};a.intersectRay=v;a.intersectScreen=function(a,b,c,e){b=d.fromScreenAtEye(b,c,z);return v(a,b,e)};a.intersectsRay=function(a,b){return v(a,b,null)};a.intersectRayClosestSilhouette=function(a,b,d){if(v(a,b,d))return d;a=x(a,b,c.sv3d.get());e.vec3.add(d,b.origin,e.vec3.scale(c.sv3d.get(),b.direction,e.vec3.distance(b.origin,a)/e.vec3.length(b.direction)));return d};a.closestPointOnSilhouette=x;a.closestPoint=function(a,b,c){if(v(a,b,c))return c;d.closestPoint(b,a.center,c);return w(a,c,c)};
a.projectPoint=w;a.distanceToSilhouette=function(a,b){b=e.vec3.subtract(c.sv3d.get(),b,a.center);b=e.vec3.squaredLength(b);return Math.sqrt(Math.abs(b-a.radius*a.radius))};a.angleToSilhouette=r;var D=k.vec3f64.create();a.axisAt=y;a.altitudeAt=G;a.setAltitudeAt=function(a,b,c,d){var f=G(a,b);a=y(a,b,2,F);c=e.vec3.scale(F,a,c-f);e.vec3.add(d,b,c);return d};var A=new m.ObjectStack(function(){return{center:null,radius:0}}),z=d.create(),B=k.vec3f64.create(),F=k.vec3f64.create();Object.freeze(B)})},"esri/views/3d/support/geometryUtils/triangle":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack ./lineSegment".split(" "),
function(b,a,n,g,m,h,e,k){function p(a){return a?{p0:h.vec3f64.clone(a.p0),p1:h.vec3f64.clone(a.p1),p2:h.vec3f64.clone(a.p2)}:{p0:h.vec3f64.create(),p1:h.vec3f64.create(),p2:h.vec3f64.create()}}function f(a,b,c,d){void 0===d&&(d=p());m.vec3.copy(d.p0,a);m.vec3.copy(d.p1,b);m.vec3.copy(d.p2,c);return d}function c(a,b,c){var d=g.vec2.distance(a,b);b=g.vec2.distance(b,c);a=g.vec2.distance(c,a);c=(d+b+a)/2;d=c*(c-d)*(c-b)*(c-a);return 0>=d?0:Math.sqrt(d)}Object.defineProperty(a,"__esModule",{value:!0});
a.create=p;a.wrap=function(a,b,c){var d=t.get();d.p0=a;d.p1=b;d.p2=c;return d};a.copy=function(a,b){void 0===b&&(b=p());return f(a.p0,a.p1,a.p2,b)};a.fromValues=f;a.distance2=function(a,b){var c=a.p0,f=a.p1;a=a.p2;var g=m.vec3.subtract(e.sv3d.get(),f,c),h=m.vec3.subtract(e.sv3d.get(),a,f),l=m.vec3.subtract(e.sv3d.get(),c,a),n=m.vec3.subtract(e.sv3d.get(),b,c),p=m.vec3.subtract(e.sv3d.get(),b,f),q=m.vec3.subtract(e.sv3d.get(),b,a),t=m.vec3.cross(g,g,l),z=m.vec3.dot(m.vec3.cross(e.sv3d.get(),g,t),n),
p=m.vec3.dot(m.vec3.cross(e.sv3d.get(),h,t),p),q=m.vec3.dot(m.vec3.cross(e.sv3d.get(),l,t),q);if(0<z&&0<p&&0<q)return b=m.vec3.dot(t,n),b*b/m.vec3.dot(t,t);c=k.distance2(k.fromValues(c,g,d.get()),b);f=k.distance2(k.fromValues(f,h,d.get()),b);b=k.distance2(k.fromValues(a,l,d.get()),b);return Math.min(c,f,b)};a.intersectRay=function(a,b,c){var d=b.direction;b=b.origin;var e=a.p0,f=a.p1,g=a.p2,h=f[0]-e[0],l=f[1]-e[1],k=f[2]-e[2],f=g[0]-e[0];a=g[1]-e[1];var g=g[2]-e[2],n=d[1]*g-a*d[2],p=d[2]*f-g*d[0],
q=d[0]*a-f*d[1],t=h*n+l*p+k*q;if(-1E-5<t&&1E-5>t)return!1;var t=1/t,v=b[0]-e[0],J=b[1]-e[1],e=b[2]-e[2],n=t*(v*n+J*p+e*q);if(0>n||1<n)return!1;p=J*k-l*e;k=e*h-k*v;h=v*l-h*J;l=t*(d[0]*p+d[1]*k+d[2]*h);if(0>l||1<n+l)return!1;c&&(m.vec3.scale(c,d,t*(f*p+a*k+g*h)),m.vec3.add(c,b,c));return!0};a.areaPoints2d=c;a.area2d=function(a){return c(a.p0,a.p1,a.p2)};var d=new n.ObjectStack(k.create),t=new n.ObjectStack(function(){return{p0:null,p1:null,p2:null}})})},"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":function(){define(["require",
"exports","./ComponentUtils","./geometryDataUtils","../../../webgl/Util"],function(b,a,n,g,m){function h(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(b,e,f,c,d){void 0===f&&(f=null);void 0===c&&(c=a.DefaultOffsets);void 0===d&&(d=a.DefaultIndices);this.preinterleaved=
!0;this.primitiveType="triangle";this._positionData=null;var k=m.getStride(e)/4,k=b.length/k;this._hasDefaultIndices=d===a.DefaultIndices;this.indexCount=d.length;this._hasDefaultIndices&&(d=g.generateDefaultIndexArray(k),this.indexCount=k);for(var k={},p=0;p<e.length;p++){var l=e[p],v=new (h(l.type))(b.buffer),x=m.getBytesPerElement(l.type);k[l.name]={data:v,size:l.count,offsetIdx:l.offset/x,strideIdx:l.stride/x}}f&&(this._positionData=f,k.position={data:f.data,size:3,offsetIdx:0,strideIdx:3});this._id=
g.getNewId();this._vertexData=b;this._vertexAttributes=k;this._layout=e;this._indexData=d;this._componentOffsets=n.createOffsets(c);this._gpuMemoryUsage=b.byteLength+(this._hasDefaultIndices?0:d.byteLength)}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"componentOffsets",{get:function(){return this._componentOffsets},
enumerable:!0,configurable:!0});a.prototype.toRenderData=function(){var a={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this.indexCount,vertexData:this._vertexData,layout:this._layout};this._indexData=this._vertexData=null;this._vertexAttributes={position:this._vertexAttributes.position};return a};a.prototype.getIndices=function(a){return"position"===a&&this._positionData?this._positionData.indices:this._indexData};a.prototype.getAttribute=
function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage};Object.defineProperty(a.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0});a.DefaultOffsets=new Uint32Array(0);a.DefaultIndices=new Uint32Array(0);return a}()})},"esri/views/3d/webgl-engine/lib/ComponentUtils":function(){define(["require","exports","../../../../core/arrayUtils","../../../../core/maybe"],function(b,a,n,g){function m(a,
b){if(null!=a){var c=a.isVisibleBit,d=a.data,e=8*d.BYTES_PER_ELEMENT;return b<d.length*e?q(c,d,b,e):!a.isVisibleBit}return!0}function h(a){return g.isSome(a.component)?a.component:-1}function e(a,b,c,d,e){m(b,d)&&k(a,b,c,c[d],c[d+1]-1,e)}function k(a,b,c,d,e,f){c=(b=0<a.length?a[a.length-1]:null)?b.range[1]:-1;var g=b?b.options:null;c>=d||(c+1===d&&g===f?b.range[1]=e:a.push({range:[d,e],options:f}))}function p(a){void 0===a&&(a=!0);return{isVisibleBit:!a,data:new Uint32Array(0)}}function f(a,b){return d(a,
b,!0)}function c(a,b){return d(a,b,!1)}function d(a,b,c){var d=!1;a=a||v;d=a.isVisibleBit;a=a.data;b=l(b);var e=8*a.BYTES_PER_ELEMENT,f=a.length*e;c=c===d;if(0===a.length||0===b)d=!c;else if(f<b&&!c)d=!0;else{for(var g=x[e],f=x[0],h=0;h<a.length-1;h++)if(d=!c&&a[h]!==g||c&&a[h]!==f)return d;d=a.length-1;b=x[(b-1)%e+1];d=!c&&(a[d]&b)!==b||c&&(a[d]&b)!==f}return d}function t(a){return 0<a.length}function q(a,b,c,d){var e=c/d|0;return 0!==(b[e]&1<<c-e*d)===a}function l(a){return Math.max(0,a.length-
1)}Object.defineProperty(a,"__esModule",{value:!0});a.updateVisibility=function(a,b,c,d){if(c<l(b)){null==a&&(a=p());var e=a.isVisibleBit,f=a.data,g=8*f.BYTES_PER_ELEMENT,h=c/g|0,k=c-g*h;b=(l(b)-1)/g|0;var m=f;d=d===e;c<m.length*g||!d||(c=Math.max(h+1,Math.ceil(1.5*m.length)),c=Math.min(c,b+1),f=new Uint32Array(c),f.set(m));h<f.length&&(f[h]=f[h]&~(1<<k)|(d?1:0)<<k);a.data=f}return a};a.getVisibility=m;a.hideAllComponents=function(a){if(null==a)a=p(!1);else{a.isVisibleBit=!0;for(var b=0;b<a.data.length;b++)a.data[b]=
0}return a};a.unhideAllComponents=function(a){var b;if(null!=a)for(b=a,b.isVisibleBit=!1,a=0;a<b.data.length;a++)b.data[a]=0;return b};a.generateVisibleIndexRanges=function(a,b){var c;if(a)if(t(b))if(0===a.data.length)c=[],b=[[b[0],b[b.length-1]-1]],c=a.isVisibleBit?c:b;else{c=[];for(var d=a.isVisibleBit,e=a.data,f=8*e.BYTES_PER_ELEMENT,g=e.length*f,h=l(b),k=!1,m=0;m<g&&m<h;m++){var n=q(d,e,m,f);if(n!==k){var p=b[m];n?c.push([p,0]):(k=c[c.length-1],k[1]=p-1);k=n}}a=!a.isVisibleBit;h>g&&a&&!k?c.push([b[g],
b[h]-1]):k&&(k=c[c.length-1],k[1]=b[a?h:Math.min(h,g)]-1)}else c=[],c=a.isVisibleBit?c:null;else c=null;return c};a.addHighlight=function(a,b,c,d){a=a||[];b={component:b,options:c,id:d};a.push(b);c=h(b);for(d=a.length-1;0<d&&c<h(a[d-1]);)b=[a[d],a[d-1]],a[d-1]=b[0],a[d]=b[1],--d;return a};a.removeHighlight=function(a,b){if(!a)return a;a=a.filter(function(a){return a.id!==b});return 0===a.length?null:a};a.generateHighlightedIndexRanges=function(a,b,d){if(!b)return null;if(!t(d))return a&&a.isVisibleBit?
null:b.map(function(a){return{range:null,options:a.options}});for(var f=d[0],h=d[d.length-1]-1,m=[],n=!c(a,d),p=0;p<b.length;++p){var q=b[p].options,r=b[p].component;if(g.isSome(r))e(m,a,d,r,q);else if(n)k(m,a,d,f,h,q);else for(r=0;r<l(d);++r)e(m,a,d,r,q)}return 0<m.length?m:null};a.hasHighlights=function(a,b,d){if(!b)return!1;if(!t(d))return a&&a.isVisibleBit?!1:0<b.length;a=!c(a,d);for(var e=0;e<b.length;e++)if(g.isSome(b[e].component)||a||0<l(d))return!0;return!1};a.defaultVisibilities=p;a.isAllVisible=
function(a,b){return!c(a,b)};a.isAllHidden=function(a,b){return!f(a,b)};a.hasVisible=f;a.hasHidden=c;var v=p();a.createOffsets=function(a){return Array.isArray(a)?new Uint32Array(a):a};a.hasComponent=function(a,b){return b<l(a)};a.hasComponents=t;var x=[];for(b=0;65>b;b++)x.push(Math.pow(2,b)-1);a.componentCount=l;a.componentFind=function(a,b){a=n.binaryIndexOf(a,b,!0);return 0<=a?a:null}})},"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,
"__esModule",{value:!0});var n=1,g=null;a.generateDefaultIndexArray=function(a){if(a>n||null==g){for(;a>n;)n*=2;g=new Uint32Array(n);for(var b=0;b<n;b++)g[b]=b}return new Uint32Array(g.buffer,0,a)};var m=0;a.getNewId=function(){return m++}})},"esri/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../core/compilerUtils"],function(b,a,n,g){function m(a){return a[0].stride}function h(a){switch(a){case 5126:return 4;case 5124:return 4;case 5125:return 4;
case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");}}function e(a){switch(a){case 6406:case 6409:return 1;case 6410:return 2;case 6407:return 3;case 6408:return 4;case 34041:return 4;case 33325:return 2;case 33326:return 4;case 35898:return 4;case 33327:return 4;case 33328:return 8;case 34842:return 8;case 34836:return 16;case 33189:return 2;case 34041:return 4;case 32854:return 2;case 36168:return 1;default:g.neverReached(a)}return 0}
function k(a){if(!a)return 0;if("colorAttachment"in a)return a.glName?k(a.colorAttachment)+k(a.depthStencilAttachment):0;if("descriptor"in a)return a.glName?k(a.descriptor):0;var b=a.internalFormat||"pixelFormat"in a&&a.pixelFormat;if(!b)return 0;var c="hasMipmap"in a&&a.hasMipmap?1.3:1;a=a.width*a.height;return e(b)*a*c}Object.defineProperty(a,"__esModule",{value:!0});a.vertexCount=function(a,b){return a.vertexBuffers[b].size/m(a.layout[b])};a.getStride=m;a.getBytesPerElement=h;a.addDescriptor=function(a,
b,c,d,e,g){var f=h(d);if(0<a.length){var k=a[0].stride,m=k+f*c;a.forEach(function(a){return a.stride=m});a.push({name:b,count:c,type:d,offset:k,stride:m,normalized:e,divisor:g})}else a.push({name:b,count:c,type:d,offset:0,stride:f*c,normalized:e,divisor:g})};a.assertCompatibleVertexAttributeLocations=function(a,b){(a=a.locations===b.locations)||console.error("VertexAttributeLocations are incompatible");return a};a.hasAttribute=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return!0;return!1};
a.findAttribute=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c];return null};a.copyFramebufferToTexture=function(a,b,c,d,e){void 0===e&&(e=0);var f=a.getBoundFramebufferObject(),g=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(c,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,e,c.descriptor.pixelFormat,d[0],d[1],d[2],d[3],0);a.gl.flush();a.bindFramebuffer(f);a.bindTexture(g,0)};a.setBaseInstanceOffset=function(a,b){var c={},d;for(d in a)c[d]=a[d].map(function(a){return a.divisor?
n({},a,{baseInstance:b}):a});return c};a.bindVertexBufferLayout=function(a,b,c,d,e){var f=a.gl,g=a.capabilities.instancing;a.bindBuffer(c);for(a=0;a<d.length;a++){c=d[a];var h=b[c.name],k=(e?e:0+c.baseInstance?c.baseInstance:0)*c.stride;void 0===h&&console.error("There is no location for vertex attribute '"+c.name+"' defined.");c.baseInstance&&!c.divisor&&console.error("Vertex attribute '"+c.name+"' uses baseInstanceOffset without divisor.");if(4>=c.count)f.vertexAttribPointer(h,c.count,c.type,c.normalized,
c.stride,c.offset+k),f.enableVertexAttribArray(h),c.divisor&&0<c.divisor&&g&&g.vertexAttribDivisor(h,c.divisor);else if(9===c.count)for(var m=0;3>m;m++)f.vertexAttribPointer(h+m,3,c.type,c.normalized,c.stride,c.offset+12*m+k),f.enableVertexAttribArray(h+m),c.divisor&&0<c.divisor&&g&&g.vertexAttribDivisor(h+m,c.divisor);else if(16===c.count)for(m=0;4>m;m++)f.vertexAttribPointer(h+m,4,c.type,c.normalized,c.stride,c.offset+16*m+k),f.enableVertexAttribArray(h+m),c.divisor&&0<c.divisor&&g&&g.vertexAttribDivisor(h+
m,c.divisor);else console.error("Unsupported vertex attribute element count: "+c.count)}};a.unbindVertexBufferLayout=function(a,b,c,d){var e=a.gl,f=a.capabilities.instancing;a.bindBuffer(c);for(c=0;c<d.length;c++){var g=d[c],h=b[g.name];if(4>=g.count)e.disableVertexAttribArray(h),g.divisor&&0<g.divisor&&f&&f.vertexAttribDivisor(h,0);else if(9===g.count)for(var k=0;3>k;k++)e.disableVertexAttribArray(h+k),g.divisor&&0<g.divisor&&f&&f.vertexAttribDivisor(h+k,0);else if(16===g.count)for(k=0;4>k;k++)e.disableVertexAttribArray(h+
k),g.divisor&&0<g.divisor&&f&&f.vertexAttribDivisor(h+k,0);else console.error("Unsupported vertex attribute element count: "+g.count)}a.unbindBuffer(34962)};a.getBytesPerElementFormat=e;a.getGpuMemoryUsage=k})},"*noref":1}});
define("require exports ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../../core/Error ../../../core/promiseUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/SpatialReference ../../../geometry/support/meshUtils/deduplicate ../../../libs/draco/DracoDecoder ./i3s/I3SBinaryReader ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ./i3s/I3SUtil ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/PreinterleavedGeometryData ../webgl-engine/lib/Util".split(" "),function(b,
a,n,g,m,h,e,k,p,f,c,d,t,q,l,v,x,w,r,y,G,C,D,A){function z(a,b,c,d){var e=I._malloc(4*a),f=b.GetAttribute(c,d);if(!b.GetAttributeFloatArrayForAllPoints(c,f,e,a))throw new h("draco:decode_error","Error while getting attribute values",{attributeId:d});a=(new Float32Array(I.HEAPU8.buffer,e,a)).slice();I._free(e);return a}function B(a,b){var c=a.data,d=a.strideIdx,e=c.length/d,f=0;a=a.offsetIdx;for(var g=0;g<e;g++)g>=b[f+1]&&f++,c[a]=f,a+=d}b=function(){function a(){}a.prototype.process=function(b){return g(this,
void 0,void 0,function(){var c,d;return n(this,function(e){switch(e.label){case 0:return[4,a.ensureDracoDecoder(b)];case 1:return e.sent(),c=[b.geometryBuffer],d=this.transform(b,c),[2,{result:d,transferList:c}]}})})};a.prototype.transform=function(a,b){var c,e,g;if(null==a.geometryIndex.header){var n=[],p=a.layouts[0],t=a.geometryBuffer,v=new I.DecoderBuffer;v.Init(new Int8Array(t),t.byteLength);var K=new I.Decoder,u=new I.Mesh,M=K.DecodeBufferToMesh(v,u);if(!M.ok())throw I.destroy(u),I.destroy(K),
I.destroy(v),new h("draco:decode_error","Error while decoding draco geometry",{message:M.error_msg()});var N=new I.DracoInt32Array,O=new I.MetadataQuerier,P=K.GetAttributeIdByMetadataEntry(u,"i3s-attribute-type","feature-index"),na=K.GetAttributeMetadata(u,P);O.GetIntEntryArray(na,"i3s-feature-ids",N);var la=N.size(),ia=I._malloc(4*la);if(!N.GetArray(ia,la))throw"GetArray failed";var ma=(new Uint32Array(I.HEAPU8.buffer,ia,la)).slice();I._free(ia);var ba=u.num_points(),sa=3*u.num_faces(),va=65536>
ba,ia=I._malloc(sa*(va?2:4));if(va?!K.GetTrianglesUInt16Array(u,ia,sa):!K.GetTrianglesUInt32Array(u,ia,sa))throw"GetTrianglesArray failed";var ra=va?(new Uint16Array(I.HEAPU8.buffer,ia,sa)).slice():(new Uint32Array(I.HEAPU8.buffer,ia,sa)).slice();I._free(ia);var pa=I._malloc(4*ba),ha=K.GetAttribute(u,P);if(!K.GetAttributeUInt32ArrayForAllPoints(u,ha,pa,ba))throw new h("draco:decode_error","Error while getting attribute values",{attributeId:P});var xa=(new Uint32Array(I.HEAPU8.buffer,pa,ba)).slice();
I._free(pa);for(var ca=[],V=0;V<ra.length;++V){for(var W=ra[V],da=xa[W];ca.length<=da;)ca.push([]);ca[da].push(W)}for(var ga=0,ka=new Uint32Array(ca.length+1),V=0;V<ca.length;++V){var Ca=ca[V];ka[V]=ga;for(var Ba=0,vb=Ca;Ba<vb.length;Ba++)W=vb[Ba],ra[ga++]=W}ka[ca.length]=ga;var bb=new Float32Array(p[0].stride/Float32Array.BYTES_PER_ELEMENT*ba),qa=new D(bb,p,null,ka,ra),Va=K.GetAttributeId(u,I.POSITION),Aa=z(3*ba,K,u,Va),Ga=qa.getAttribute(A.VertexAttrConstants.POSITION),Na=K.GetAttributeMetadata(u,
Va),ua=O.GetDoubleEntry(Na,"i3s-scale_x"),ta=O.GetDoubleEntry(Na,"i3s-scale_y"),ua=0>=ua?1:ua,ta=0>=ta?1:ta,Ia=qa.getAttribute(A.VertexAttrConstants.COLOR),cb=K.GetAttributeId(u,I.COLOR),yb=-1!==cb,hb;if(yb){var ib=4*ba,db=I._malloc(ib),$b=K.GetAttribute(u,cb);if(!K.GetAttributeUInt8ArrayForAllPoints(u,$b,db,ib))throw new h("draco:decode_error","Error while getting attribute values",{attributeId:cb});var ac=(new Uint8Array(I.HEAPU8.buffer,db,ib)).slice();I._free(db);hb=ac}else hb=m.fill(Array(4*ba),
255);for(var Xa=hb,ea=0;ea<ba;ea++){var jb=ea*Ga.strideIdx+Ga.offsetIdx;Ga.data[jb]=Aa[3*ea]*ua;Ga.data[jb+1]=Aa[3*ea+1]*ta;Ga.data[jb+2]=Aa[3*ea+2];var Wa=ea*Ia.strideIdx+Ia.offsetIdx;Ia.data[Wa]=Xa[4*ea];Ia.data[Wa+1]=Xa[4*ea+1];Ia.data[Wa+2]=Xa[4*ea+2];Ia.data[Wa+3]=Xa[4*ea+3]}var zb=K.GetAttributeId(u,I.NORMAL),Ja=qa.getAttribute(A.VertexAttrConstants.NORMAL);if(-1!==zb&&Ja)for(var eb=z(3*ba,K,u,zb),ea=0;ea<ba;ea++){var wa=ea*Ja.strideIdx+Ja.offsetIdx;Ja.data[wa]=eb[3*ea];Ja.data[wa+1]=eb[3*ea+
1];Ja.data[wa+2]=eb[3*ea+2]}else a.needNormals&&Ja&&w.computeCompressedNormals({normals:qa.getAttribute(A.VertexAttrConstants.NORMALCOMPRESSED),positions:qa.getAttribute(A.VertexAttrConstants.POSITION),normalInd:qa.getIndices(A.VertexAttrConstants.NORMALCOMPRESSED),positionInd:qa.getIndices(A.VertexAttrConstants.POSITION)});var Ab=K.GetAttributeId(u,I.TEX_COORD),Qa=qa.getAttribute(A.VertexAttrConstants.UV0);if(-1!==Ab&&Qa)for(var Bb=z(2*ba,K,u,Ab),ea=0;ea<ba;ea++)wa=ea*Qa.strideIdx+Qa.offsetIdx,Qa.data[wa]=
Bb[2*ea],Qa.data[wa+1]=Bb[2*ea+1];var fb=K.GetAttributeIdByMetadataEntry(u,"i3s-attribute-type","uv-region"),Ka=qa.getAttribute(A.VertexAttrConstants.REGION);if(-1!==fb&&Ka){var kb=4*ba,lb=I._malloc(2*kb),bc=K.GetAttribute(u,fb);if(!K.GetAttributeUInt16ArrayForAllPoints(u,bc,lb,kb))throw new h("draco:decode_error","Error while getting attribute values",{attributeId:fb});var Ya=(new Uint16Array(I.HEAPU8.buffer,lb,kb)).slice();I._free(lb);for(ea=0;ea<ba;ea++)wa=ea*Ka.strideIdx+Ka.offsetIdx,Ka.data[wa]=
Ya[4*ea],Ka.data[wa+1]=Ya[4*ea+1],Ka.data[wa+2]=Ya[4*ea+2],Ka.data[wa+3]=Ya[4*ea+3]}var Cb=qa.getAttribute(A.VertexAttrConstants.COMPONENTINDEX);Cb&&B(Cb,ka);I.destroy(O);I.destroy(N);I.destroy(u);I.destroy(K);I.destroy(v);var Db=a.mbs,Eb=a.elevationOffset,Fb=q.fromJSON(a.indexSR),cc=q.fromJSON(a.vertexSR),Gb=q.fromJSON(a.renderSR),Hb=r.computeGlobalTransformation(Db,Eb,Fb,Gb);k.mat4.invert(F,Hb);var dc=qa.getAttribute(A.VertexAttrConstants.POSITION),ec={globalTrafo:Hb},mb=bb.buffer;r.reprojectPoints(dc,
Db,F,Eb,Fb,cc,Gb);var fc=w.extractPositionData(mb,p,ra);n.push({layout:p,interleavedVertexData:mb,indices:ra,corMatrices:ec,hasColors:yb,positionData:fc});b&&(b.push(mb),b.push(ra.buffer));g={geometryBuffer:t,componentOffsets:ka,featureIds:ma,transformedGeometries:n,obb:null}}else{var Ib=a.geometryData,Jb=a.geometryIndex,gc=a.layouts,Kb=a.mbs,Lb=a.elevationOffset,hc=q.fromJSON(a.indexSR),ic=q.fromJSON(a.renderSR),Ra=r.computeGlobalTransformation(Kb,Lb,hc,ic);k.mat4.invert(F,Ra);var nb=a.geometryBuffer;
Ib.geometries[0].params.vertexAttributes=Jb.vertexAttributes;var Mb,ob,Oa=Jb.featureAttributes;if(Oa){if(Oa.faceRange){var jc=x.createTypedView(nb,Oa.faceRange);Mb=y.convertFlatRangesToOffsets(jc,Oa.faceRange.count,Oa.faceRange.valuesPerElement)}var Da=Oa.id;if(Da){ob=new Uint32Array(Da.count);var Za=1,Nb=x.valueType2TypedArrayClassMap[Da.valueType];"UInt64"===Da.valueType&&(Nb=Uint32Array,Za=2);for(var wb=new Nb(nb,Da.byteOffset,Da.count*Da.valuesPerElement*Za),$a=0;$a<Da.count;$a++){var Ob=$a*Da.valuesPerElement*
Za;ob[$a]=wb[Ob];if(2===Za&&0!==wb[Ob+1])throw Error("ID exceeded maximum range supported (2^32))");}}}c=Mb;e=ob;b&&(e&&b.push(e.buffer),c&&b.push(c.buffer));var ya=a.obb?null:G.create([0,0,0],[-1,-1,-1],[0,0,0,1]);d.vec3.copy(H,Kb);H[2]+=Lb;d.vec3.copy(J,H);for(var Sa=!1,xb=0,pb=[],qb=0,Pb=Ib.geometries;qb<Pb.length;qb++){var Qb=Pb[qb],Ha=gc[xb];++xb;var Rb=a.geometryBuffer,Ta=w.interleaveGeometryBuffer(Qb,Rb,Ha,[{name:A.VertexAttrConstants.COLOR,byteValue:255}],[A.VertexAttrConstants.NORMAL,A.VertexAttrConstants.NORMALCOMPRESSED,
A.VertexAttrConstants.SYMBOLCOLOR,A.VertexAttrConstants.COMPONENTINDEX]),Pa=new D(new Float32Array(Ta),Ha),rb=Pa.getAttribute(A.VertexAttrConstants.POSITION),Xb=a.mbs,kc=a.elevationOffset,Sb=q.fromJSON(a.indexSR),lc=q.fromJSON(a.vertexSR),Tb=q.fromJSON(a.renderSR);r.reprojectPoints(rb,Xb,F,kc,Sb,lc,Tb);if(ya){var oa=ya,za=rb,Ea=Ra;if(0<oa.halfSize[0]){d.vec3.subtract(H,oa.center,oa.halfSize);d.vec3.add(J,oa.center,oa.halfSize);for(var Fa=za.offsetIdx;Fa<za.data.length;Fa+=za.strideIdx)H[0]=Math.min(H[0],
za.data[Fa]),H[1]=Math.min(H[1],za.data[Fa+1]),H[2]=Math.min(H[2],za.data[Fa+2]),J[0]=Math.max(J[0],za.data[Fa]),J[1]=Math.max(J[1],za.data[Fa+1]),J[2]=Math.max(J[2],za.data[Fa+2]);d.vec3.subtract(oa.halfSize,J,H);d.vec3.scale(oa.halfSize,oa.halfSize,.5);d.vec3.add(oa.center,H,J);d.vec3.scale(oa.center,oa.center,.5)}else{G.compute(za,oa);var ab=2*Math.sqrt(1+Ea[0]+Ea[5]+Ea[10]);E[0]=(Ea[9]-Ea[6])/ab;E[1]=(Ea[2]-Ea[8])/ab;E[2]=(Ea[4]-Ea[1])/ab;E[3]=.25*ab;f.quat.conjugate(E,E);f.quat.multiply(oa.quaternion,
E,oa.quaternion)}}if(a.needNormals){var Yb={normals:Pa.getAttribute(A.VertexAttrConstants.NORMALCOMPRESSED),positions:rb,normalInd:Pa.getIndices(A.VertexAttrConstants.NORMALCOMPRESSED),positionInd:Pa.getIndices(A.VertexAttrConstants.POSITION)};w.processAndInterleaveNormals(a.normalReferenceFrame,Qb,Rb,Ra,Yb)}var Ub=Pa.getAttribute(A.VertexAttrConstants.COMPONENTINDEX);Ub&&B(Ub,c);var Ua=Pa.getAttribute(A.VertexAttrConstants.COLOR);if(Ua&&!Sa)a:{for(var Vb=Ua.data,mc=Ua.size,Zb=Ua.strideIdx,sb=Ua.offsetIdx;sb<
Vb.length;sb+=Zb)for(var gb=0;gb<mc;gb++)if(255!==Vb[sb+gb]){Sa=!0;break a}Sa=!1}var Wb={globalTrafo:Ra},tb=Ha[0].stride,La=l.default(Ta,tb/4,null,1-.8*tb/(tb+4));if(null!=La){var ub=65536>La.uniqueCount?new Uint16Array(La.indices):La.indices,Ma=w.extractPositionData(La.buffer,Ha,ub);pb.push({layout:Ha,interleavedVertexData:La.buffer,indices:ub,corMatrices:Wb,hasColors:Sa,positionData:Ma});b&&(b.push(La.buffer),b.push(ub.buffer),b.push(Ma.data.buffer),b.push(Ma.indices.buffer))}else Ma=w.extractPositionData(Ta,
Ha),pb.push({layout:Ha,interleavedVertexData:Ta,corMatrices:Wb,hasColors:Sa,positionData:Ma}),b&&(b.push(Ta),b.push(Ma.data.buffer),b.push(Ma.indices.buffer));ya&&(d.vec3.transformMat4(ya.center,ya.center,Ra),C.vectorToVector(ya.center,Tb,ya.center,Sb),ya.center[2]-=a.elevationOffset)}g={geometryBuffer:nb,componentOffsets:c,featureIds:e,transformedGeometries:pb,obb:ya}}return g};return a}();(function(a){a.ensureDracoDecoder=function(a){if(I&&I.DecoderBuffer||a&&null!=a.geometryIndex.header)return e.resolve();
K||(K=v.getDecoderModule().then(function(a){I=a;K=null;return I}));return K.then(function(){})}})(b||(b={}));var F=p.mat4f64.create(),H=t.vec3f64.create(),J=t.vec3f64.create(),E=c.quatf32.create(),K,I;return b});