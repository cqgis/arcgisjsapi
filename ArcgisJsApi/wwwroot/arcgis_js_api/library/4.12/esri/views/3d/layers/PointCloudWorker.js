// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/requireUtils":function(){define(["require","exports","./promiseUtils"],function(b,a,p){function e(a,b){return Array.isArray(b)?p.create(function(e){a(b,function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];e(a)})}):e(a,[b]).then(function(a){return a[0]})}Object.defineProperty(a,"__esModule",{value:!0});a.when=e;a.getAbsMid=function(a,b,e){return b.toAbsMid?b.toAbsMid(a):e.id.replace(/\/[^\/]*$/gi,"/")+a}})},"esri/core/workers":function(){define(["require",
"exports","./workers/workers"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});for(var e in p)a.hasOwnProperty(e)||(a[e]=p[e])})},"esri/core/workers/workers":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(b,a,p,e,n,h,l,g,m,d){function c(){return e(this,void 0,void 0,function(){var c,a,b,k;return p(this,function(t){if(u)return[2,u];z=l.createAbortController();
c=f+q;a=[];b=function(c){var f=d.create(c).then(function(d){return r[c]=d});a.push(f)};for(k=0;k<c;k++)b(k);u=l.all(a);return[2,u]})})}Object.defineProperty(a,"__esModule",{value:!0});a.Connection=g;a.RemoteClient=m;(g=h("host-browser")?navigator.hardwareConcurrency:0)||(g=h("safari")&&h("mac")||h("trident")?8:2);var f=h("esri-workers-debug")?1:Math.max(1,Math.ceil(g/2)),q=h("esri-workers-debug")?1:Math.max(1,Math.floor(g/2)),k=0,r=[];a.initialize=function(){c()};a.openWithPorts=function(c,d){return new a.Connection(c.map(function(c){return new a.RemoteClient(c,
d,{})}))};a.open=function(d,t){void 0===t&&(t={});return e(this,void 0,void 0,function(){var g,m,z,u,e,C,y;return p(this,function(D){switch(D.label){case 0:if("string"!==typeof d)throw new n("workers:undefined-module","modulePath is missing");g=t.signal;m=t.strategy||"distributed";h("host-webworker")&&!h("esri-workers")&&(m="local");return"local"!==m?[3,2]:[4,l.create(function(c){return b([d],c)})];case 1:return z=D.sent(),l.throwIfAborted(g),u=t.client||z,e=a.RemoteClient.connect(z),[2,new a.Connection([new a.RemoteClient(e,
u,t)])];case 2:return[4,c()];case 3:D.sent();l.throwIfAborted(g);if("dedicated"!==m)return[3,5];C=f+k++;k%=q;return[4,r[C].open(d,t)];case 4:return e=D.sent(),[2,new a.Connection([new a.RemoteClient(e,t.client,t)])];case 5:return[4,l.all(r.map(function(c){return c.open(d,t)}))];case 6:return y=D.sent(),[2,new a.Connection(y.map(function(c){return new a.RemoteClient(c,t.client,t)}))]}})})};a.terminate=function(){u&&(z.abort(),u=null);for(var c=0;c<r.length;c++)r[c]&&r[c].terminate();r.length=0};var u=
null,z})},"esri/core/workers/Connection":function(){define(["require","exports","../Logger","../promiseUtils"],function(b,a,p,e){var n=p.getLogger("esri.core.workers.Connection");return function(){function a(a){this._clientIdx=0;this._clients=a}a.prototype.broadcast=function(a,b,m){for(var d=[],c=0,f=this._clients;c<f.length;c++)d.push(f[c].invoke(a,b,m));return d};a.prototype.close=function(){for(var a=0,b=this._clients;a<b.length;a++)b[a].close();this._clients=[]};a.prototype.getAvailableClient=
function(){var a;this._clients.some(function(b){return b.isBusy()?!1:(a=b,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,a=this._clients[this._clientIdx]);return a};a.prototype.invoke=function(a,b,m){var d=null;Array.isArray(m)?(n.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),d={transferList:m}):d=m;return this._clients&&this._clients.length?this.getAvailableClient().invoke(a,b,d):e.reject(Error("Connection closed"))};a.prototype.openPorts=
function(){return e.all(this._clients.map(function(a){return a.openPort()}))};return a}()})},"esri/core/workers/WorkerOwner":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),function(b,a,p,e,n,h,l,g,m,d){var c=l.getLogger("esri.core.workers"),f=m.MessageType.ABORT,q=m.MessageType.INVOKE,k=m.MessageType.OPEN,r=m.MessageType.OPENED,u=m.MessageType.RESPONSE;return function(){function a(d,
f){this._outJobs=new Map;this._inJobs=new Map;this.worker=d;this.id=f;d.addEventListener("message",this._onMessage.bind(this));d.addEventListener("error",function(d){d.preventDefault();c.error(d)})}a.create=function(c){return e(this,void 0,void 0,function(){var f;return p(this,function(b){switch(b.label){case 0:return[4,d.createWorker()];case 1:return f=b.sent(),[2,new a(f,c)]}})})};a.prototype.terminate=function(){this.worker.terminate()};a.prototype.open=function(c,d){void 0===d&&(d={});return e(this,
void 0,void 0,function(){var a,b,q=this;return p(this,function(r){a=d.signal;b=m.newJobId();return[2,g.create(function(d,r){d={resolve:d,reject:r};g.onAbortOrThrow(a,function(){q._outJobs["delete"](b);q._post({type:f,jobId:b})});q._outJobs.set(b,d);q._post({type:k,jobId:b,modulePath:c})})]})})};a.prototype._onMessage=function(c){if(c=m.receiveMessage(c))switch(c.type){case r:case u:this._onResponse(c);break;case f:this._onCancel(c);break;case q:this._onInvoke(c)}};a.prototype._onCancel=function(c){var d=
this._inJobs;c=c.jobId;var f=d.get(c);f&&(f.controller&&f.controller.abort(),d["delete"](c))};a.prototype._onInvoke=function(c){var d=this,f=c.methodName,a=c.jobId,b=c.data;c=c.abortable?g.createAbortController():null;var q=this._inJobs,k=n.workerMessages[f],r;try{if("function"!==typeof k)throw new TypeError(f+" is not a function");r=k.call(null,b,{signal:c?c.signal:null})}catch(y){this._post({type:u,jobId:a,error:m.toInvokeError(y)});return}if(g.isThenable(r)){q.set(a,{controller:c,promise:r});if(c&&
"cancel"in r)g.onAbort(c.signal,function(){return r.cancel()});r.then(function(c){q.has(a)&&(q["delete"](a),d._post({type:u,jobId:a},c))}).catch(function(c){q.has(a)&&(q["delete"](a),c||(c={message:"Error encountered at method"+f}),g.isAbortError(c)||d._post({type:u,jobId:a,error:m.toInvokeError(c||{message:"Error encountered at method "+f})}))})}else this._post({type:u,jobId:a},r)};a.prototype._onResponse=function(c){var d=c.jobId,f=c.error;c=c.data;var a=this._outJobs.get(d);a&&(this._outJobs["delete"](d),
f?a.reject(h.fromJSON(JSON.parse(f))):a.resolve(c))};a.prototype._post=function(c,d,f){return m.postMessage(this.worker,c,d,f)};return a}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper ../tsSupport/generatorHelper ../tsSupport/awaiterHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,f,q){function k(a){return n(this,void 0,void 0,function(){return e(this,
function(b){return[2,d.create(function(d){function b(q){if(q=f.receiveMessage(q))switch(q.type){case C:q=a;var r=l.workers.loaderUrl||c.DEFAULT_LOADER_URL,t;null!=l["default"]?(t=p({},l),delete t["default"],t=JSON.parse(JSON.stringify(t))):t=JSON.parse(JSON.stringify(l));var m=l.workers.loaderConfig,m=c.default({baseUrl:m.baseUrl,locale:h.locale,has:p({"config-deferredInstrumentation":0,"dojo-test-sniff":0,"esri-native-promise":g("esri-native-promise"),"esri-secure-context":g("esri-secure-context"),
"esri-workers-arraybuffer-transfer":g("esri-workers-arraybuffer-transfer"),"events-keypress-typed":0,"host-webworker":1,"esri-webgl-texture-float":g("esri-webgl-texture-float"),"esri-shared-array-buffer":g("esri-shared-array-buffer"),"esri-2d-debug":0,"esri-webgl-max-texture-size":g("esri-webgl-max-texture-size")},m.has),map:p({},m.map),paths:p({},m.paths),packages:m.packages||[]});q.postMessage({type:z,configure:{esriConfig:t,loaderUrl:r,loaderConfig:m}});break;case u:a.removeEventListener("message",
b),a.removeEventListener("error",k),d(a)}}function k(c){c.preventDefault();a.removeEventListener("message",b);a.removeEventListener("error",k);r.warn("Failed to create Worker. Fallback to execute module in main thread",c);a=new q;a.addEventListener("message",b);a.addEventListener("error",k)}a.addEventListener("message",b);a.addEventListener("error",k)})]})})}Object.defineProperty(a,"__esModule",{value:!0});var r=m.getLogger("esri.core.workers");g.add("esri-workers-arraybuffer-transfer",!g("safari")||
12<=g("safari"));var u=f.MessageType.CONFIGURED,z=f.MessageType.CONFIGURE,C=f.MessageType.HANDSHAKE,t;try{t=URL.createObjectURL(new Blob(['var globalId\x3d0;var outgoing\x3dnew Map;var configured\x3dfalse;var HANDSHAKE\x3d0;var CONFIGURE\x3d1;var CONFIGURED\x3d2;var OPEN\x3d3;var OPENED\x3d4;var RESPONSE\x3d5;var INVOKE\x3d6;var ABORT\x3d7;function mapDelete(map,key){map["delete"](key)}function createAbortError(){var error\x3dnew Error("AbortError");error.dojoType\x3d"cancel";return error}function receiveMessage(event){if(!event||!event.data){return null}if(typeof event.data\x3d\x3d\x3d"string"){return JSON.parse(event.data)}return event.data}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal;var Deferred\x3drequire("dojo/Deferred");var jobId\x3dglobalId++;var abort\x3dfunction(){var outJob\x3doutgoing.get(jobId);if(!outJob){return}mapDelete(outgoing,jobId);self.postMessage({type:ABORT,jobId:jobId});outJob.reject(createAbortError())};var deferred\x3dnew Deferred(abort);if(signal){if(signal.aborted){return deferred.reject(createAbortError())}signal.addEventListener("abort",function(){abort();deferred.reject(createAbortError())})}outgoing.set(jobId,deferred);self.postMessage({type:INVOKE,jobId:jobId,methodName:methodName,abortable:true,data:data});return deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(!message){return}var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured){return}self.dojoConfig\x3dconfiguration.loaderConfig;self.importScripts(configuration.loaderUrl);if(typeof require.config\x3d\x3d\x3d"function"){require.config(configuration.loaderConfig)}require(["esri/config"],function(esriConfig){for(var name in configuration.esriConfig){if(Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)){esriConfig[name]\x3dconfiguration.esriConfig[name]}}self.postMessage({type:CONFIGURED})});break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient",modulePath],function(RemoteClient,Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])});break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);mapDelete(outgoing,jobId);if(message.error){deferred.reject(JSON.parse(message.error))}else{deferred.resolve(message.data)}}break}}self.addEventListener("message",messageHandler);self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(D){}a.createWorker=function(){return n(this,void 0,void 0,function(){var c;return e(this,function(d){if(!g("esri-workers"))return[2,k(new q)];if(t)try{c=new Worker(t)}catch(x){r.warn("Failed to create Worker. Fallback to execute module in main thread",event),c=new q}else r.warn("Failed to create Worker. Fallback to execute module in main thread",event),c=new q;return[2,k(c)]})})}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper",
"../has","../urlUtils"],function(b,a,p,e,n){Object.defineProperty(a,"__esModule",{value:!0});e=e("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";a.DEFAULT_LOADER_URL=n.makeAbsolute(n.removeQueryParameters(b.toUrl(e)));a.DEFAULT_CONFIG={baseUrl:function(){var a=n.removeQueryParameters(b.toUrl("dojo/x.js"));return n.makeAbsolute(a.slice(0,a.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},
{name:"globalize",main:"dist/globalize"},{name:"maquette",main:"dist/maquette.umd"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};a.default=function(e){var l={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,
has:p({},e.has),map:p({},e.map),packages:e.packages&&e.packages.concat()||[],paths:p({},e.paths)};e.hasOwnProperty("async")||(l.async=!0);e.hasOwnProperty("isDebug")||(l.isDebug=!1);e.baseUrl||(l.baseUrl=a.DEFAULT_CONFIG.baseUrl);a.DEFAULT_CONFIG.packages.forEach(function(c){a:{for(var d=l.packages,a=0;a<d.length;a++)if(d[a].name===c.name)break a;c=p({},c);a=n.removeQueryParameters(b.toUrl(c.name+"/x.js"));a=a.slice(0,a.length-5);c.location=n.makeAbsolute(a);d.push(c)}});e=l.map=l.map||{};for(var g=
0,m=Object.keys(a.DEFAULT_CONFIG.map);g<m.length;g++){var d=m[g];e[d]||(e[d]=a.DEFAULT_CONFIG.map[d])}return l}})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(b,a,p,e,n,h,l,g,m){function d(d){var f={path:null,query:null},a=new X(d),b=d.indexOf("?");null===a.query?f.path=d:(f.path=d.substring(0,b),f.query=c(a.query));a.fragment&&(f.hash=a.fragment,null===a.query&&(f.path=f.path.substring(0,
f.path.length-(a.fragment.length+1))));return f}function c(c){var d={},f=0;for(c=c.split("\x26");f<c.length;f++){var a=c[f];if(a){var b=a.indexOf("\x3d"),q=void 0,k=void 0;0>b?(q=decodeURIComponent(a),k=""):(q=decodeURIComponent(a.slice(0,b)),k=decodeURIComponent(a.slice(b+1)));a=d[q];"string"===typeof a&&(a=d[q]=[a]);Array.isArray(a)?a.push(k):d[q]=k}}return d}function f(c){return c&&"object"===typeof c&&"toJSON"in c&&"function"===typeof c.toJSON}function q(c,d){return c?d&&"function"===typeof d?
Object.keys(c).map(function(f){return encodeURIComponent(f)+"\x3d"+encodeURIComponent(d(f,c[f]))}).join("\x26"):Object.keys(c).map(function(a){var b=c[a];if(null==b)return"";var q=encodeURIComponent(a)+"\x3d";return(a=d&&d[a])?q+encodeURIComponent(a(b)):Array.isArray(b)?b.map(function(c){return f(c)?q+encodeURIComponent(JSON.stringify(c)):q+encodeURIComponent(c)}).join("\x26"):f(b)?q+encodeURIComponent(JSON.stringify(b)):q+encodeURIComponent(b)}).filter(function(c){return c}).join("\x26"):""}function k(c){var d=
c.indexOf("?");-1!==d?(ba.path=c.slice(0,d),ba.query=c.slice(d+1)):(ba.path=c,ba.query=null);return ba}function r(c){c=k(c).path;c&&"/"===c[c.length-1]||(c+="/");c=P(c,!0);return c=c.toLowerCase()}function u(c){var d=S.proxyRules;c=r(c);for(var f=0;f<d.length;f++)if(0===c.indexOf(d[f].urlPrefix))return d[f]}function z(c){c=B(c);var d=c.indexOf("/sharing");return 0<d?c.substring(0,d):c.replace(/\/+$/,"")}function C(c,d,f){void 0===f&&(f=!1);c=R(c);d=R(d);return f||c.scheme===d.scheme?c.host.toLowerCase()===
d.host.toLowerCase()&&c.port===d.port:!1}function t(c,d,f){void 0===d&&(d=a.appBaseUrl);if(F(c))return f&&f.preserveProtocolRelative?c:"http"===a.appUrl.scheme&&a.appUrl.authority===v(c).slice(2)?"http:"+c:"https:"+c;if(!K(c)){f=x;if("/"===c[0]){var b=d.indexOf("//"),b=d.indexOf("/",b+2);d=-1===b?d:d.slice(0,b)}return f(d,c)}return c}function D(c,d,f){void 0===d&&(d=a.appBaseUrl);if(!A(c))return c;var b=B(c),q=b.toLowerCase();d=B(d).toLowerCase().replace(/\/+$/,"");if((f=f?B(f).toLowerCase().replace(/\/+$/,
""):null)&&0!==d.indexOf(f))return c;for(var k=function(c,d,f){f=c.indexOf(d,f);return-1===f?c.length:f},r=k(q,"/",q.indexOf("//")+2),t=-1;q.slice(0,r+1)===d.slice(0,r)+"/";){t=r+1;if(r===q.length)break;r=k(q,"/",r+1)}if(-1===t||f&&t<f.length)return c;c=b.slice(t);b=d.slice(t-1).replace(/[^/]+/g,"").length;if(0<b)for(q=0;q<b;q++)c="../"+c;else c="./"+c;return c}function B(c){c=c.trim();c=t(c);if(/^https?:\/\//i.test(c)){var d=k(c);c=d.path.replace(/\/{2,}/g,"/");c=c.replace("/","//");d.query&&(c+=
"?"+d.query)}c=c.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return c=Q(c)}function x(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(c&&c.length){d=[];if(A(c[0])){var f=c[0],a=f.indexOf("//");d.push(f.slice(0,a+1));W.test(c[0])&&(d[0]+="/");c[0]=f.slice(a+2)}else"/"===c[0][0]&&d.push("");c=c.reduce(function(c,d){return d?c.concat(d.split("/")):c},[]);for(f=0;f<c.length;f++)a=c[f],".."===a&&0<d.length&&".."!==d[d.length-1]?d.pop():!a||"."===a&&0!==d.length||d.push(a);return d.join("/")}}
function v(c,d){void 0===d&&(d=!1);if(w(c)||y(c))return null;var f=c.indexOf("://");if(-1===f&&F(c))f=2;else if(-1!==f)f+=3;else return null;f=c.indexOf("/",f);-1!==f&&(c=c.slice(0,f));d&&(c=P(c,!0));return c}function A(c){return F(c)||K(c)}function w(c){return"blob:"===c.slice(0,5)}function y(c){return"data:"===c.slice(0,5)}function I(c){c=G(c);if(!c||!c.isBase64)return null;c=atob(c.data);for(var d=new Uint8Array(c.length),f=0;f<c.length;f++)d[f]=c.charCodeAt(f);return d.buffer}function G(c){return(c=
c.match(ga))?{mediaType:c[1],isBase64:!!c[2],data:c[3]}:null}function H(c){var d=I(c);if(!d)return null;c=G(c);return new Blob([d],{type:c.mediaType})}function F(c){return c&&"/"===c[0]&&"/"===c[1]}function K(c){return ca.test(c)}function L(c){return E.test(c)||"http"===a.appUrl.scheme&&F(c)}function J(c){return F(c)?"https:"+c:c.replace(E,"https:")}function M(){return"https"===a.appUrl.scheme}function P(c,d){void 0===d&&(d=!1);if(F(c))return c.slice(2);c=c.replace(ca,"");d&&1<c.length&&"/"===c[0]&&
"/"===c[1]&&(c=c.slice(2));return c}function Q(c){var d=S.httpsDomains;if(!L(c))return c;var f=c.indexOf("/",7),b;b=-1===f?c:c.slice(0,f);b=b.toLowerCase().slice(7);if(Z.test(b))if(m.endsWith(b,":80"))b=b.slice(0,-3),c=c.replace(":80","");else return c;if("http"===a.appUrl.scheme&&b===a.appUrl.authority&&!aa.test(c))return c;if(M()&&b===a.appUrl.authority||d&&d.some(function(c){return b===c||m.endsWith(b,"."+c)})||M()&&!u(c))c=J(c);return c}function O(c,d,f){if(!(d&&f&&c&&A(c)))return c;var a=c.indexOf("//"),
b=c.indexOf("/",a+2),q=c.indexOf(":",a+2),b=Math.min(0>b?c.length:b,0>q?c.length:q);if(c.slice(a+2,b).toLowerCase()!==d.toLowerCase())return c;d=c.slice(0,a+2);c=c.slice(b);return""+d+f+c}function R(c){if("string"===typeof c)return new X(t(c));c.scheme||(c.scheme=a.appUrl.scheme);return c}function N(c,d){var f=d&&d.url&&d.url.path;c&&f&&(c=t(c,f,{preserveProtocolRelative:!0}));(d=d&&d.portal)&&!d.isPortal&&d.urlKey&&d.customBaseUrl?(f=d.urlKey+"."+d.customBaseUrl,d=C(a.appUrl,a.appUrl.scheme+"://"+
f)?O(c,d.portalHostname,f):O(c,f,d.portalHostname)):d=c;return d}function V(c,d){if(!c)return c;!A(c)&&d&&d.blockedRelativeUrls&&d.blockedRelativeUrls.push(c);var f=t(c);if(d){var a=d.verifyItemRelativeUrls&&d.verifyItemRelativeUrls.rootPath||d.url&&d.url.path;a&&(f=D(f,a,a),f!==c&&d.verifyItemRelativeUrls&&d.verifyItemRelativeUrls.writtenUrls.push(f))}c=f;f=(d=d&&d.portal)&&!d.isPortal&&d.urlKey&&d.customBaseUrl?O(c,d.urlKey+"."+d.customBaseUrl,d.portalHostname):c;A(f)&&(f=B(f));return f}function Y(c,
f,a){c=d(c);var b=c.query||{};b[f]=String(a);return c.path+"?"+q(b)}Object.defineProperty(a,"__esModule",{value:!0});var T=g.getLogger("esri.core.urlUtils"),S=e.request,ca=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,E=/^\s*http:/i,U=/^\s*https:/i,W=/^\s*file:/i,Z=/:\d+$/,aa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ha=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,ia=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,X=function(){function c(c){void 0===c&&(c="");this.uri=
c;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;c=this.uri.match(ha);this.scheme=c[2]||(c[1]?"":null);this.authority=c[4]||(c[3]?"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);null!=this.authority&&(c=this.authority.match(ia),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null)}c.prototype.toString=function(){return this.uri};return c}();a.Url=X;a.appUrl=
new X(e.applicationUrl);a.trustedServersUrlCache={};a.appBaseUrl=function(){var c=a.appUrl.path,c=c.substring(0,c.lastIndexOf(c.split("/")[c.split("/").length-1]));return""+(a.appUrl.scheme+"://"+a.appUrl.host+(null!=a.appUrl.port?":"+a.appUrl.port:""))+c}();a.urlToObject=d;a.queryToObject=c;a.objectToQuery=q;a.getProxyUrl=function(c){void 0===c&&(c=!1);var f,b=S.proxyUrl;if("string"===typeof c){if(f=c,f=U.test(f)||"https"===a.appUrl.scheme&&F(f),c=u(c))b=c.proxyUrl}else f=!!c;if(!b)throw T.warn("esri/config: esriConfig.request.proxyUrl is not set."),
new h("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");f&&M()&&(b=J(b));return d(b)};a.addProxy=function(f){var a=u(f),b,r;a&&(r=k(a.proxyUrl),b=r.path,r=r.query?c(r.query):null);b&&(a=d(f),f=b+"?"+a.path,(b=q(p({},r,a.query)))&&(f=f+"?"+b));return f};var ba={path:"",query:""};a.addProxyRule=function(c){c={proxyUrl:c.proxyUrl,urlPrefix:r(c.urlPrefix)};for(var d=S.proxyRules,f=c.urlPrefix,a=d.length,b=0;b<d.length;b++){var q=d[b].urlPrefix;if(0===f.indexOf(q)){if(f.length===
q.length)return-1;a=b;break}0===q.indexOf(f)&&(a=b+1)}d.splice(a,0,c);return a};a.getProxyRule=u;a.hasSamePortal=function(c,d){c=z(c);d=z(d);return P(c)===P(d)};a.getInterceptor=function(c){var d=function(d){return null==d||d instanceof RegExp&&d.test(c)||"string"===typeof d&&m.startsWith(c,d)},f=S.interceptors;if(f)for(var a=0;a<f.length;a++){var b=f[a];if(Array.isArray(b.urls)){if(b.urls.some(d))return b}else if(d(b.urls))return b}return null};a.hasSameOrigin=C;a.isTrustedServer=function(c){if("string"===
typeof c)if(A(c))c=R(c);else return!0;for(var d=S.trustedServers||[],f=0;f<d.length;f++){var b;b=d[f];a.trustedServersUrlCache[b]||(K(b)||F(b)?a.trustedServersUrlCache[b]=[new X(t(b))]:a.trustedServersUrlCache[b]=[new X("http://"+b),new X("https://"+b)]);b=a.trustedServersUrlCache[b];for(var q=0;q<b.length;q++)if(C(c,b[q]))return!0}return!1};a.makeAbsolute=t;a.makeRelative=D;a.normalize=B;a.join=x;a.getOrigin=v;a.isAbsolute=A;a.isBlobProtocol=w;a.isDataProtocol=y;a.dataToArrayBuffer=I;var ga=/^data:(.*?)(;base64)?,(.*)$/;
a.dataComponents=G;a.makeData=function(c){return c.isBase64?"data:"+c.mediaType+";base64,"+c.data:"data:"+c.mediaType+","+c.data};a.dataToBlob=H;a.downloadDataAsFile=function(c,d){var f;a:if(f=document.createElement("a"),"download"in f){var a=null;if(l.URL&&l.URL.createObjectURL){a=H(c);if(!a){f=!1;break a}a=l.URL.createObjectURL(a)}f.download=d;f.href=a||c;f.style.display="none";document.body.appendChild(f);f.click();document.body.removeChild(f);a&&l.URL.revokeObjectURL(a);f=void 0}else f=!1;f||
window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(H(c),d)};a.isProtocolRelative=F;a.hasProtocol=K;a.toHTTP=function(c){return F(c)?"http:"+c:c.replace(U,"http:")};a.toHTTPS=J;a.isAppHTTPS=M;a.removeFile=function(c){var d=0;if(A(c)){var f=c.indexOf("//");-1!==f&&(d=f+2)}f=c.lastIndexOf("/");return f<d?c:c.slice(0,f+1)};a.removeTrailingSlash=function(c){return c.replace(/\/+$/,"")};a.changeDomain=O;a.fromJSON=N;a.read=function(c,d,f){return N(c,f)};a.toJSON=V;a.write=function(c,d,
f,a){(c=V(c,a))&&(d[f]=c)};a.isSVG=function(c){return ja.test(c)};a.removeQueryParameters=function(c,f){c=d(c);var a=Object.keys(c.query||{});0<a.length&&f&&f.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+a.join(", ")+".");return c.path};a.addQueryParameter=Y;a.addQueryParameters=function(c,f){c=d(c);var a=c.query||{},b;for(b in f)a[b]=f[b];return(f=q(a))?c.path+"?"+f:c.path};a.removeQueryParameter=function(c,f){var a=d(c),b=
a.path,a=a.query;if(!a)return c;delete a[f];return(c=q(a))?b+"?"+c:b};a.addTokenParameter=function(c){var d=n.id&&n.id.findCredential(c);return d&&d.token?Y(c,"token",d.token):c};var ja=/(^data:image\/svg|\.svg$)/i})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(b,a,p,e){Object.defineProperty(a,"__esModule",{value:!0});var n=/\{([^\}]+)\}/g;a.replace=function(a,b){return a.replace(n,"object"===typeof b?function(a,m){return p.getDeepValue(m,
b)}:function(a,m){return b(m)})};a.startsWith=e.startsWith;a.endsWith=e.endsWith})},"esri/core/workers/WorkerFallback":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../global ../has ../promiseUtils ./utils @dojo/framework/shim/Promise".split(" "),function(b,a,p,e,n,h,l,g){var m=function(){return function(){var c=this,d=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(f){c[f]=function(){for(var c=
[],a=0;a<arguments.length;a++)c[a]=arguments[a];return d[f].apply(d,c)}})}}(),d=n.MutationObserver||n.WebKitMutationObserver,c=function(){var c;if(n.process&&n.process.nextTick)c=function(c){n.process.nextTick(c)};else if(n.Promise)c=function(c){n.Promise.resolve().then(c)};else if(d){var f=[],a=document.createElement("div");(new d(function(){for(;0<f.length;)f.shift()()})).observe(a,{attributes:!0});c=function(c){f.push(c);a.setAttribute("queueStatus","1")}}return c}(),f=function(){var c=n.MessageEvent;
try{new c("message",{data:null})}catch(k){return function(c,d){void 0===d&&(d={});var f=d.data,a=d.bubbles,a=void 0===a?!1:a;d=d.cancelable;d=void 0===d?!1:d;var b=document.createEvent("Event");b.initEvent(c,a,d);b.data=f;return b}}return function(d,f){return new c(d,f)}}();return function(){function d(){this._dispatcher=new m;this._isInitialized=!1;this._workerPostMessage({type:g.MessageType.HANDSHAKE})}d.prototype.terminate=function(){};Object.defineProperty(d.prototype,"onmessage",{get:function(){return this._onmessageHandler},
set:function(c){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=c)&&this.addEventListener("message",c)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(c){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=c)&&this.addEventListener("error",c)},enumerable:!0,configurable:!0});d.prototype.postMessage=function(d,
a){var b=this;c(function(){b._workerMessageHandler(f("message",{data:d}))})};d.prototype.dispatchEvent=function(c){return this._dispatcher.dispatchEvent(c)};d.prototype.addEventListener=function(c,d,f){this._dispatcher.addEventListener(c,d,f)};d.prototype.removeEventListener=function(c,d,f){this._dispatcher.removeEventListener(c,d,f)};d.prototype._workerPostMessage=function(d,a){var b=this;c(function(){b.dispatchEvent(f("message",{data:d}))})};d.prototype._workerMessageHandler=function(c){return e(this,
void 0,void 0,function(){var d,f,a,q,k,m,e,h,n=this;return p(this,function(r){switch(r.label){case 0:d=g.receiveMessage(c);if(!d)return[2];f=d.jobId;a=d.type;switch(a){case g.MessageType.CONFIGURE:return[3,1];case g.MessageType.OPEN:return[3,2]}return[3,27];case 1:return this._isInitialized||this._workerPostMessage({type:g.MessageType.CONFIGURED}),[3,27];case 2:return q=d.modulePath,[3,25];case 3:m=r.sent();e=q;switch(e){case "esri/tasks/operations/PBFWorker":return[3,4];case "esri/views/2d/engine/vectorTiles/WorkerTileHandler":return[3,
6];case "esri/views/2d/layers/features/Pipeline":return[3,8];case "esri/views/3d/layers/PointCloudWorker":return[3,10];case "esri/views/3d/layers/SceneLayerWorker":return[3,12];case "esri/layers/graphics/sources/support/CSVSourceWorker":return[3,14];case "esri/layers/support/LercWorker":return[3,16];case "esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":return[3,18];case "esri/geometry/support/meshUtils/ElevationSamplerWorker":return[3,20]}return[3,22];case 4:return[4,new Promise(function(c,
d){b(["esri/tasks/operations/PBFWorker"],c,d)})];case 5:return k=r.sent(),[3,24];case 6:return[4,new Promise(function(c,d){b(["esri/views/2d/engine/vectorTiles/WorkerTileHandler"],c,d)})];case 7:return k=r.sent(),[3,24];case 8:return[4,new Promise(function(c,d){b(["esri/views/2d/layers/features/Pipeline"],c,d)})];case 9:return k=r.sent(),[3,24];case 10:return[4,new Promise(function(c,d){b(["esri/views/3d/layers/PointCloudWorker"],c,d)})];case 11:return k=r.sent(),[3,24];case 12:return[4,new Promise(function(c,
d){b(["esri/views/3d/layers/SceneLayerWorker"],c,d)})];case 13:return k=r.sent(),[3,24];case 14:return[4,new Promise(function(c,d){b(["esri/layers/graphics/sources/support/CSVSourceWorker"],c,d)})];case 15:return k=r.sent(),[3,24];case 16:return[4,new Promise(function(c,d){b(["esri/layers/support/LercWorker"],c,d)})];case 17:return k=r.sent(),[3,24];case 18:return[4,new Promise(function(c,d){b(["esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],c,d)})];case 19:return k=r.sent(),
[3,24];case 20:return[4,new Promise(function(c,d){b(["esri/geometry/support/meshUtils/ElevationSamplerWorker"],c,d)})];case 21:return k=r.sent(),[3,24];case 22:return[4,l.create(function(c){return b([q],c)})];case 23:k=r.sent(),r.label=24;case 24:return h=m.connect(k),this._workerPostMessage({type:g.MessageType.OPENED,jobId:f,data:h}),[3,26];case 25:b(["esri/core/workers/RemoteClient",q],function(c,d){c=c.connect(d);n._workerPostMessage({type:g.MessageType.OPENED,jobId:f,data:c})}),r.label=26;case 26:return[3,
27];case 27:return[2]}})})};return d}()})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.quat=p})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(b,a,p,e,n,h,l,g){function m(c,d,f){f*=.5;var a=Math.sin(f);c[0]=a*d[0];c[1]=a*d[1];c[2]=a*d[2];c[3]=Math.cos(f);
return c}function d(c,d,f){var a=d[0],b=d[1],q=d[2];d=d[3];var k=f[0],r=f[1],t=f[2];f=f[3];c[0]=a*f+d*k+b*t-q*r;c[1]=b*f+d*r+q*k-a*t;c[2]=q*f+d*t+a*r-b*k;c[3]=d*f-a*k-b*r-q*t;return c}function c(c,d,f,a){var b=d[0],q=d[1],k=d[2];d=d[3];var r=f[0],t=f[1],m=f[2];f=f[3];var g,e,z;e=b*r+q*t+k*m+d*f;0>e&&(e=-e,r=-r,t=-t,m=-m,f=-f);1-e>h.EPSILON?(g=Math.acos(e),z=Math.sin(g),e=Math.sin((1-a)*g)/z,a=Math.sin(a*g)/z):e=1-a;c[0]=e*b+a*r;c[1]=e*q+a*t;c[2]=e*k+a*m;c[3]=e*d+a*f;return c}function f(c,d){var f=
d[0]+d[4]+d[8];if(0<f)f=Math.sqrt(f+1),c[3]=.5*f,f=.5/f,c[0]=(d[5]-d[7])*f,c[1]=(d[6]-d[2])*f,c[2]=(d[1]-d[3])*f;else{var a=0;d[4]>d[0]&&(a=1);d[8]>d[3*a+a]&&(a=2);var b=(a+1)%3,q=(a+2)%3,f=Math.sqrt(d[3*a+a]-d[3*b+b]-d[3*q+q]+1);c[a]=.5*f;f=.5/f;c[3]=(d[3*b+q]-d[3*q+b])*f;c[b]=(d[3*b+a]+d[3*a+b])*f;c[q]=(d[3*q+a]+d[3*a+q])*f}return c}Object.defineProperty(a,"__esModule",{value:!0});a.identity=function(c){c[0]=0;c[1]=0;c[2]=0;c[3]=1;return c};a.setAxisAngle=m;a.getAxisAngle=function(c,d){var f=2*
Math.acos(d[3]),a=Math.sin(f/2);a>h.EPSILON?(c[0]=d[0]/a,c[1]=d[1]/a,c[2]=d[2]/a):(c[0]=1,c[1]=0,c[2]=0);return f};a.multiply=d;a.rotateX=function(c,d,f){f*=.5;var a=d[0],b=d[1],q=d[2];d=d[3];var k=Math.sin(f);f=Math.cos(f);c[0]=a*f+d*k;c[1]=b*f+q*k;c[2]=q*f-b*k;c[3]=d*f-a*k;return c};a.rotateY=function(c,d,f){f*=.5;var a=d[0],b=d[1],q=d[2];d=d[3];var k=Math.sin(f);f=Math.cos(f);c[0]=a*f-q*k;c[1]=b*f+d*k;c[2]=q*f+a*k;c[3]=d*f-b*k;return c};a.rotateZ=function(c,d,f){f*=.5;var a=d[0],b=d[1],q=d[2];
d=d[3];var k=Math.sin(f);f=Math.cos(f);c[0]=a*f+b*k;c[1]=b*f-a*k;c[2]=q*f+d*k;c[3]=d*f-q*k;return c};a.calculateW=function(c,d){var f=d[0],a=d[1];d=d[2];c[0]=f;c[1]=a;c[2]=d;c[3]=Math.sqrt(Math.abs(1-f*f-a*a-d*d));return c};a.slerp=c;a.random=function(c){var d=h.RANDOM(),f=h.RANDOM(),a=h.RANDOM(),b=Math.sqrt(1-d),d=Math.sqrt(d);c[0]=b*Math.sin(2*Math.PI*f);c[1]=b*Math.cos(2*Math.PI*f);c[2]=d*Math.sin(2*Math.PI*a);c[3]=d*Math.cos(2*Math.PI*a);return c};a.invert=function(c,d){var f=d[0],a=d[1],b=d[2];
d=d[3];var q=f*f+a*a+b*b+d*d,q=q?1/q:0;c[0]=-f*q;c[1]=-a*q;c[2]=-b*q;c[3]=d*q;return c};a.conjugate=function(c,d){c[0]=-d[0];c[1]=-d[1];c[2]=-d[2];c[3]=d[3];return c};a.fromMat3=f;a.fromEuler=function(c,d,f,a){var b=.5*Math.PI/180;d*=b;f*=b;a*=b;b=Math.sin(d);d=Math.cos(d);var q=Math.sin(f);f=Math.cos(f);var k=Math.sin(a);a=Math.cos(a);c[0]=b*f*a-d*q*k;c[1]=d*q*a+b*f*k;c[2]=d*f*k-b*q*a;c[3]=d*f*a+b*q*k;return c};a.str=function(c){return"quat("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};a.copy=g.copy;
a.set=g.set;a.add=g.add;a.mul=d;a.scale=g.scale;a.dot=g.dot;a.lerp=g.lerp;a.length=g.length;a.len=a.length;a.squaredLength=g.squaredLength;a.sqrLen=a.squaredLength;a.normalize=g.normalize;a.exactEquals=g.exactEquals;a.equals=g.equals;a.rotationTo=function(c,d,f){var b=l.dot(d,f);if(-.999999>b)return l.cross(q,k,d),1E-6>l.len(q)&&l.cross(q,r,d),l.normalize(q,q),m(c,q,Math.PI),c;if(.999999<b)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;l.cross(q,d,f);c[0]=q[0];c[1]=q[1];c[2]=q[2];c[3]=1+b;return a.normalize(c,
c)};var q=n.create(),k=n.fromValues(1,0,0),r=n.fromValues(0,1,0);a.sqlerp=function(d,f,a,b,q,k){c(u,f,q,k);c(z,a,b,k);c(d,u,z,2*k*(1-k));return d};var u=e.create(),z=e.create();a.setAxes=function(c,d,b,q){var k=C;k[0]=b[0];k[3]=b[1];k[6]=b[2];k[1]=q[0];k[4]=q[1];k[7]=q[2];k[2]=-d[0];k[5]=-d[1];k[8]=-d[2];return a.normalize(c,f(c,k))};var C=p.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});
a.create=function(){return[1,0,0,0,1,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};a.fromValues=function(a,b,n,h,l,g,m,d,c){return[a,b,n,h,l,g,m,d,c]};a.createView=function(a,b){return new Float64Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,
b,n,h){return[a,b,n,h]};a.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(b,a){function p(){return[0,0,0]}function e(){return[1,1,1]}function n(){return[1,0,0]}function h(){return[0,1,0]}function l(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.create=p;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,b,d){return[a,b,d]};a.fromArray=function(a){for(var b=
p(),d=Math.min(3,a.length),c=0;c<d;++c)b[c]=a[c];return b};a.createView=function(a,b){return new Float64Array(a,b,3)};a.zeros=function(){return p()};a.ones=e;a.unitX=n;a.unitY=h;a.unitZ=l;a.ZEROS=p();a.ONES=e();a.UNIT_X=n();a.UNIT_Y=h();a.UNIT_Z=l()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.EPSILON=1E-6;a.RANDOM=Math.random;var p=Math.PI/180,e=180/Math.PI;a.toRadian=function(a){return a*p};a.toDegree=
function(a){return a*e};a.equals=function(b,e){return Math.abs(b-e)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(e))}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(b,a,p,e){function n(c){var d=c[0],f=c[1];c=c[2];return Math.sqrt(d*d+f*f+c*c)}function h(c,d){c[0]=d[0];c[1]=d[1];c[2]=d[2];return c}function l(c,d,f){c[0]=d[0]-f[0];c[1]=d[1]-f[1];c[2]=d[2]-f[2];return c}function g(c,d,f){c[0]=d[0]*f[0];c[1]=d[1]*f[1];c[2]=d[2]*
f[2];return c}function m(c,d,f){c[0]=d[0]/f[0];c[1]=d[1]/f[1];c[2]=d[2]/f[2];return c}function d(c,d){var f=d[0]-c[0],a=d[1]-c[1];c=d[2]-c[2];return Math.sqrt(f*f+a*a+c*c)}function c(c,d){var f=d[0]-c[0],a=d[1]-c[1];c=d[2]-c[2];return f*f+a*a+c*c}function f(c){var d=c[0],f=c[1];c=c[2];return d*d+f*f+c*c}function q(c,d){var f=d[0],a=d[1],b=d[2],f=f*f+a*a+b*b;0<f&&(f=1/Math.sqrt(f),c[0]=d[0]*f,c[1]=d[1]*f,c[2]=d[2]*f);return c}function k(c,d){return c[0]*d[0]+c[1]*d[1]+c[2]*d[2]}Object.defineProperty(a,
"__esModule",{value:!0});a.length=n;a.copy=h;a.set=function(c,d,f,a){c[0]=d;c[1]=f;c[2]=a;return c};a.add=function(c,d,f){c[0]=d[0]+f[0];c[1]=d[1]+f[1];c[2]=d[2]+f[2];return c};a.subtract=l;a.multiply=g;a.divide=m;a.ceil=function(c,d){c[0]=Math.ceil(d[0]);c[1]=Math.ceil(d[1]);c[2]=Math.ceil(d[2]);return c};a.floor=function(c,d){c[0]=Math.floor(d[0]);c[1]=Math.floor(d[1]);c[2]=Math.floor(d[2]);return c};a.min=function(c,d,f){c[0]=Math.min(d[0],f[0]);c[1]=Math.min(d[1],f[1]);c[2]=Math.min(d[2],f[2]);
return c};a.max=function(c,d,f){c[0]=Math.max(d[0],f[0]);c[1]=Math.max(d[1],f[1]);c[2]=Math.max(d[2],f[2]);return c};a.round=function(c,d){c[0]=Math.round(d[0]);c[1]=Math.round(d[1]);c[2]=Math.round(d[2]);return c};a.scale=function(c,d,f){c[0]=d[0]*f;c[1]=d[1]*f;c[2]=d[2]*f;return c};a.scaleAndAdd=function(c,d,f,a){c[0]=d[0]+f[0]*a;c[1]=d[1]+f[1]*a;c[2]=d[2]+f[2]*a;return c};a.distance=d;a.squaredDistance=c;a.squaredLength=f;a.negate=function(c,d){c[0]=-d[0];c[1]=-d[1];c[2]=-d[2];return c};a.inverse=
function(c,d){c[0]=1/d[0];c[1]=1/d[1];c[2]=1/d[2];return c};a.normalize=q;a.dot=k;a.cross=function(c,d,f){var a=d[0],b=d[1];d=d[2];var q=f[0],k=f[1];f=f[2];c[0]=b*f-d*k;c[1]=d*q-a*f;c[2]=a*k-b*q;return c};a.lerp=function(c,d,f,a){var b=d[0],q=d[1];d=d[2];c[0]=b+a*(f[0]-b);c[1]=q+a*(f[1]-q);c[2]=d+a*(f[2]-d);return c};a.hermite=function(c,d,f,a,b,q){var k=q*q,r=k*(2*q-3)+1,m=k*(q-2)+q,g=k*(q-1);q=k*(3-2*q);c[0]=d[0]*r+f[0]*m+a[0]*g+b[0]*q;c[1]=d[1]*r+f[1]*m+a[1]*g+b[1]*q;c[2]=d[2]*r+f[2]*m+a[2]*g+
b[2]*q;return c};a.bezier=function(c,d,f,a,b,q){var k=1-q,r=k*k,m=q*q,g=r*k,r=3*q*r,k=3*m*k;q*=m;c[0]=d[0]*g+f[0]*r+a[0]*k+b[0]*q;c[1]=d[1]*g+f[1]*r+a[1]*k+b[1]*q;c[2]=d[2]*g+f[2]*r+a[2]*k+b[2]*q;return c};a.random=function(c,d){d=d||1;var f=2*e.RANDOM()*Math.PI,a=2*e.RANDOM()-1,b=Math.sqrt(1-a*a)*d;c[0]=Math.cos(f)*b;c[1]=Math.sin(f)*b;c[2]=a*d;return c};a.transformMat4=function(c,d,f){var a=d[0],b=d[1];d=d[2];c[0]=f[0]*a+f[4]*b+f[8]*d+f[12];c[1]=f[1]*a+f[5]*b+f[9]*d+f[13];c[2]=f[2]*a+f[6]*b+f[10]*
d+f[14];return c};a.transformMat3=function(c,d,f){var a=d[0],b=d[1];d=d[2];c[0]=a*f[0]+b*f[3]+d*f[6];c[1]=a*f[1]+b*f[4]+d*f[7];c[2]=a*f[2]+b*f[5]+d*f[8];return c};a.transformQuat=function(c,d,f){var a=f[0],b=f[1],q=f[2],k=d[0],r=d[1];d=d[2];var m=b*d-q*r,g=q*k-a*d,e=a*r-b*k;f=2*f[3];c[0]=k+m*f+2*(b*e-q*g);c[1]=r+g*f+2*(q*m-a*e);c[2]=d+e*f+2*(a*g-b*m);return c};a.rotateX=function(c,d,f,a){var b=[],q=[];b[0]=d[0]-f[0];b[1]=d[1]-f[1];b[2]=d[2]-f[2];q[0]=b[0];q[1]=b[1]*Math.cos(a)-b[2]*Math.sin(a);q[2]=
b[1]*Math.sin(a)+b[2]*Math.cos(a);c[0]=q[0]+f[0];c[1]=q[1]+f[1];c[2]=q[2]+f[2];return c};a.rotateY=function(c,d,f,a){var b=[],q=[];b[0]=d[0]-f[0];b[1]=d[1]-f[1];b[2]=d[2]-f[2];q[0]=b[2]*Math.sin(a)+b[0]*Math.cos(a);q[1]=b[1];q[2]=b[2]*Math.cos(a)-b[0]*Math.sin(a);c[0]=q[0]+f[0];c[1]=q[1]+f[1];c[2]=q[2]+f[2];return c};a.rotateZ=function(c,d,f,a){var b=[],q=[];b[0]=d[0]-f[0];b[1]=d[1]-f[1];b[2]=d[2]-f[2];q[0]=b[0]*Math.cos(a)-b[1]*Math.sin(a);q[1]=b[0]*Math.sin(a)+b[1]*Math.cos(a);q[2]=b[2];c[0]=q[0]+
f[0];c[1]=q[1]+f[1];c[2]=q[2]+f[2];return c};a.angle=function(c,d){h(r,c);h(u,d);q(r,r);q(u,u);c=k(r,u);return 1<c?0:-1>c?Math.PI:Math.acos(c)};var r=p.create(),u=p.create();a.str=function(c){return"vec3("+c[0]+", "+c[1]+", "+c[2]+")"};a.exactEquals=function(c,d){return c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2]};a.equals=function(c,d){var f=c[0],a=c[1];c=c[2];var b=d[0],q=d[1];d=d[2];return Math.abs(f-b)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(a-q)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(q))&&
Math.abs(c-d)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))};a.sub=l;a.mul=g;a.div=m;a.dist=d;a.sqrDist=c;a.len=n;a.sqrLen=f})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(b,a,p){function e(c,d,a){c[0]=d[0]-a[0];c[1]=d[1]-a[1];c[2]=d[2]-a[2];c[3]=d[3]-a[3];return c}function n(c,d,a){c[0]=d[0]*a[0];c[1]=d[1]*a[1];c[2]=d[2]*a[2];c[3]=d[3]*a[3];return c}function h(c,d,a){c[0]=d[0]/a[0];c[1]=d[1]/a[1];c[2]=d[2]/a[2];c[3]=d[3]/a[3];return c}function l(c,
d){var f=d[0]-c[0],a=d[1]-c[1],b=d[2]-c[2];c=d[3]-c[3];return Math.sqrt(f*f+a*a+b*b+c*c)}function g(c,d){var f=d[0]-c[0],a=d[1]-c[1],b=d[2]-c[2];c=d[3]-c[3];return f*f+a*a+b*b+c*c}function m(c){var d=c[0],a=c[1],b=c[2];c=c[3];return Math.sqrt(d*d+a*a+b*b+c*c)}function d(c){var d=c[0],a=c[1],b=c[2];c=c[3];return d*d+a*a+b*b+c*c}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(c,d){c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];return c};a.set=function(c,d,a,b,r){c[0]=d;c[1]=a;c[2]=b;c[3]=
r;return c};a.add=function(c,d,a){c[0]=d[0]+a[0];c[1]=d[1]+a[1];c[2]=d[2]+a[2];c[3]=d[3]+a[3];return c};a.subtract=e;a.multiply=n;a.divide=h;a.ceil=function(c,d){c[0]=Math.ceil(d[0]);c[1]=Math.ceil(d[1]);c[2]=Math.ceil(d[2]);c[3]=Math.ceil(d[3]);return c};a.floor=function(c,d){c[0]=Math.floor(d[0]);c[1]=Math.floor(d[1]);c[2]=Math.floor(d[2]);c[3]=Math.floor(d[3]);return c};a.min=function(c,d,a){c[0]=Math.min(d[0],a[0]);c[1]=Math.min(d[1],a[1]);c[2]=Math.min(d[2],a[2]);c[3]=Math.min(d[3],a[3]);return c};
a.max=function(c,d,a){c[0]=Math.max(d[0],a[0]);c[1]=Math.max(d[1],a[1]);c[2]=Math.max(d[2],a[2]);c[3]=Math.max(d[3],a[3]);return c};a.round=function(c,d){c[0]=Math.round(d[0]);c[1]=Math.round(d[1]);c[2]=Math.round(d[2]);c[3]=Math.round(d[3]);return c};a.scale=function(c,d,a){c[0]=d[0]*a;c[1]=d[1]*a;c[2]=d[2]*a;c[3]=d[3]*a;return c};a.scaleAndAdd=function(c,d,a,b){c[0]=d[0]+a[0]*b;c[1]=d[1]+a[1]*b;c[2]=d[2]+a[2]*b;c[3]=d[3]+a[3]*b;return c};a.distance=l;a.squaredDistance=g;a.length=m;a.squaredLength=
d;a.negate=function(c,d){c[0]=-d[0];c[1]=-d[1];c[2]=-d[2];c[3]=-d[3];return c};a.inverse=function(c,d){c[0]=1/d[0];c[1]=1/d[1];c[2]=1/d[2];c[3]=1/d[3];return c};a.normalize=function(c,d){var a=d[0],f=d[1],b=d[2];d=d[3];var m=a*a+f*f+b*b+d*d;0<m&&(m=1/Math.sqrt(m),c[0]=a*m,c[1]=f*m,c[2]=b*m,c[3]=d*m);return c};a.dot=function(c,d){return c[0]*d[0]+c[1]*d[1]+c[2]*d[2]+c[3]*d[3]};a.lerp=function(c,d,a,b){var f=d[0],q=d[1],k=d[2];d=d[3];c[0]=f+b*(a[0]-f);c[1]=q+b*(a[1]-q);c[2]=k+b*(a[2]-k);c[3]=d+b*(a[3]-
d);return c};a.random=function(c,d){d=d||1;var a,f,b,m,g,e;do a=2*p.RANDOM()-1,f=2*p.RANDOM()-1,g=a*a+f*f;while(1<=g);do b=2*p.RANDOM()-1,m=2*p.RANDOM()-1,e=b*b+m*m;while(1<=e);g=Math.sqrt((1-g)/e);c[0]=d*a;c[1]=d*f;c[2]=d*b*g;c[3]=d*m*g;return c};a.transformMat4=function(c,d,a){var f=d[0],b=d[1],q=d[2];d=d[3];c[0]=a[0]*f+a[4]*b+a[8]*q+a[12]*d;c[1]=a[1]*f+a[5]*b+a[9]*q+a[13]*d;c[2]=a[2]*f+a[6]*b+a[10]*q+a[14]*d;c[3]=a[3]*f+a[7]*b+a[11]*q+a[15]*d;return c};a.transformQuat=function(c,d,a){var f=d[0],
b=d[1],q=d[2],m=a[0],g=a[1],e=a[2];a=a[3];var l=a*f+g*q-e*b,h=a*b+e*f-m*q,n=a*q+m*b-g*f,f=-m*f-g*b-e*q;c[0]=l*a+f*-m+h*-e-n*-g;c[1]=h*a+f*-g+n*-m-l*-e;c[2]=n*a+f*-e+l*-g-h*-m;c[3]=d[3];return c};a.str=function(c){return"vec4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};a.exactEquals=function(c,d){return c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2]&&c[3]===d[3]};a.equals=function(c,d){var a=c[0],f=c[1],b=c[2];c=c[3];var m=d[0],g=d[1],e=d[2];d=d[3];return Math.abs(a-m)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&
Math.abs(f-g)<=p.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(b-e)<=p.EPSILON*Math.max(1,Math.abs(b),Math.abs(e))&&Math.abs(c-d)<=p.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))};a.sub=e;a.mul=n;a.div=h;a.dist=l;a.sqrDist=g;a.len=m;a.sqrLen=d})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.quatf32=p})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){var a=new Float32Array(4);a[3]=1;return a};a.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};a.fromValues=function(a,b,n,h){var e=new Float32Array(4);e[0]=a;e[1]=b;e[2]=n;e[3]=h;return e};a.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require","exports","./math/vec3"],function(b,a,p){Object.defineProperty(a,
"__esModule",{value:!0});a.vec3=p})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f32=p})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(b,a){function p(){return new Float32Array(3)}function e(a,d,c){var f=new Float32Array(3);f[0]=a;f[1]=d;f[2]=c;return f}function n(){return e(1,1,1)}function h(){return e(1,0,0)}function l(){return e(0,
1,0)}function g(){return e(0,0,1)}Object.defineProperty(a,"__esModule",{value:!0});a.create=p;a.clone=function(a){var d=new Float32Array(3);d[0]=a[0];d[1]=a[1];d[2]=a[2];return d};a.fromValues=e;a.createView=function(a,d){return new Float32Array(a,d,3)};a.zeros=function(){return p()};a.ones=n;a.unitX=h;a.unitY=l;a.unitZ=g;a.ZEROS=p();a.ONES=n();a.UNIT_X=h();a.UNIT_Y=l();a.UNIT_Z=g()})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(b,a,p,e,n,h,l){b=function(a){function b(c){c=a.call(this)||this;c.latestWkid=null;c.wkid=null;c.wkt=null;return c}p(b,a);d=b;b.fromJSON=function(c){if(!c)return null;if(c.wkid){if(102100===c.wkid)return d.WebMercator;if(4326===c.wkid)return d.WGS84}var a=new d;a.read(c);return a};b.prototype.normalizeCtorArgs=function(c){var d;return c&&"object"===typeof c?c:(d={},d["string"===typeof c?"wkt":"wkid"]=c,d)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return l.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return l.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return l.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return l.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(c,d){this.wkid||(d.wkt=c)};b.prototype.clone=function(){if(this===
d.WGS84)return d.WGS84;if(this===d.WebMercator)return d.WebMercator;var c=new d;null!=this.wkid?(c.wkid=this.wkid,null!=this.latestWkid&&(c.latestWkid=this.latestWkid),null!=this.vcsWkid&&(c.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(c.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(c.wkt=this.wkt);return c};b.prototype.equals=function(c){return l.equals(this,c)};b.prototype.toJSON=function(c){return this.write(null,c)};var d;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;e([h.property({dependsOn:["wkid"],
readOnly:!0})],b.prototype,"isWGS84",null);e([h.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);e([h.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);e([h.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);e([h.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?
!0:!1}}}}}}})],b.prototype,"wkid",void 0);e([h.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);e([h.writer("wkt"),h.writer("web-scene","wkt")],b.prototype,"writeWkt",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=d=e([h.subclass("esri.geometry.SpatialReference")],
b)}(h.declared(n));b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});b.WGS84=new b(l.WGS84);b.WebMercator=new b(l.WebMercator);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator));return b})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require",
"exports"],function(b,a){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(b,a,p,e){var n=arguments.length,h=3>n?a:null===e?e=Object.getOwnPropertyDescriptor(a,p):e,l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(b,a,p,e);else for(var g=b.length-1;0<=g;g--)if(l=b[g])h=(3>n?l(h):3<n?l(a,p,h):l(a,p))||h;return 3<n&&h&&Object.defineProperty(a,p,h),h}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(b,a,p,e,n,h,l,g,m){function d(c,d){if(!c)return null;if(c.declaredClass)throw Error("JSON object is already hydrated");var a=new this;a.read(c,d);return a}var c=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}p(a,c);a.prototype.read=function(c,d){g.default(this,c,d)};a.prototype.write=function(c,d){return m.default(this,c||{},d)};a.prototype.toJSON=function(c){return this.write(null,c)};a.fromJSON=function(c,a){return d.call(this,c,a)};return a=e([l.subclass("esri.core.JSONSupport")],
a)}(l.declared(n));c.prototype.toJSON.isDefaultToJSON=!0;h.after(function(a){h.hasMixin(a,c)&&(a.fromJSON=d.bind(a))});return c})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(b,a,p,e,n,h,l){a=a.default;b.before(function(a,d){b.hasMixin(a,g)&&e.processPrototype(d)});b.after(function(a){b.hasMixin(a,g)&&(e.processClass(a),
Object.defineProperties(a.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var g=b(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===g)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new a(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var b=[],d=0;d<arguments.length;d++)b.push(arguments[d]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,b)}if(l.interceptor)l.interceptor.onInstanceConstruct(this)},__accessor__:null,postscript:function(a){var d=this.__accessor__;a=d.ctorArgs||a;d.initialize();a&&(this.set(a),d.ctorArgs=null);d.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(m){console.warn(m.stack)}else if(h.removeTarget(this),this.__accessor__.destroy(),l.interceptor)l.interceptor.onInstanceDestroy(this)},get:function(a){return p.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,d){n.set(this,a,d);return this},watch:function(a,d,c){return h.watch(this,a,d,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},
_override:function(a,d){return this.__accessor__.override(a,d)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,d){return this.__accessor__.internalSet(a,d)}});return g})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(b,a,p){function e(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);
a=a||[];b=b||{};return n([this].concat(a),b)}function n(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var d,c;d=0;for(c=h.length;d<c;d++)h[d](a,b);a=p(a,b);a.createSubclass=e;d=0;for(c=l.length;d<c;d++)l[d](a);return a}var h=[],l=[];(function(a){a.hasMixin=function(a,d){a=Array.isArray(a)?a.reduce(function(c,d){return d._meta?c.concat(d._meta.bases):c},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof d)for(var c=a.length-
1;0<=c;c--)if(a[c].prototype.declaredClass===d)return!0;return-1!==a.indexOf(d)};a.safeMixin=function(a,d){return p.safeMixin(a,d)};a.before=function(a){h.push(a)};a.after=function(a){l.push(a)}})(n||(n={}));return n})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(b,a,p,e,n,h,l,g,m){Object.defineProperty(a,"__esModule",{value:!0});n.getLogger("esri.core.accessorSupport.Properties");
b=function(){function c(c){this.host=c;this._origin=g.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new m.default;c=this.host.constructor.__accessorMetadata__;this.metadatas=c.properties;this.autoDestroy=c.autoDestroy}c.prototype.initialize=function(){this.lifecycle=1;l.instanceCreated(this.host,this.metadatas)};c.prototype.constructed=function(){this.lifecycle=2};c.prototype.destroy=function(){this.destroyed=!0;var c=
this.cursors;if(c)for(var d=0,a=Object.getOwnPropertyNames(c);d<a.length;d++){var b=a[d],g=c[b];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,b);c[b]=null}}if(this.autoDestroy)for(b in this.metadatas)(c=this.internalGet(b))&&c&&"function"===typeof c.destroy&&(c.destroy(),this.metadatas[b].nonNullable||this.internalSet(b,null))};Object.defineProperty(c.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});c.prototype.clearOverride=function(c){this.isOverridden(c)&&
(this.overridden[c]=!1,this.propertyInvalidated(c))};c.prototype.get=function(c){var d=this.metadatas[c];if(this.store.has(c)&&!this.dirties[c])return this.store.get(c);var a=d.get;return a?(d=a.call(this.host),this.store.set(c,d,g.OriginId.COMPUTED),this.propertyCommitted(c),d):d.value};c.prototype.getterStatic=function(c,d){return this.store.has(c)?this.store.get(c):d.value};c.prototype.getterComputed=function(c,d){if(this.store.has(c)&&!this.dirties[c])return this.store.get(c);d=d.get.call(this.host);
this.store.set(c,d,g.OriginId.COMPUTED);this.propertyCommitted(c);return d};c.prototype.originOf=function(c){var d=this.store.originOf(c);return void 0===d&&(c=this.metadatas[c])&&c.hasOwnProperty("value")?"defaults":g.idToName(d)};c.prototype.has=function(c){return this.metadatas[c]?this.store.has(c):!1};c.prototype.internalGet=function(c){if(this.metadatas[c]){var d=this.store;return d.has(c)?d.get(c):this.metadatas[c].value}};c.prototype.internalSet=function(c,d){if(this.metadatas[c]){var a=this.initialized?
this._origin:g.OriginId.DEFAULTS,b=this.store.get(c);e.equals(d,b)&&a===this.store.originOf(c)&&this.store.has(c,a)&&!this.isOverridden(c)||(this.propertyInvalidated(c),this.store.set(c,d,a),this.propertyCommitted(c))}};c.prototype.isOverridden=function(c){return null!=this.overridden&&!0===this.overridden[c]};c.prototype.keys=function(){return Object.keys(this.metadatas)};c.prototype.override=function(c,a){if(this.metadatas[c]){this.overridden||(this.overridden={});var b=this.metadatas[c];if(!b.nonNullable||
null!=a){if(b=b.cast){a=this.cast(b,a);var b=a.valid,f=a.value;d.release(a);if(!b)return;a=f}this.overridden[c]=!0;this.internalSet(c,a)}}};c.prototype.set=function(c,a){if(this.metadatas[c]){var b=this.metadatas[c];if(!b.nonNullable||null!=a){var f=b.set;if(b=b.cast){a=this.cast(b,a);var b=a.valid,q=a.value;d.release(a);if(!b)return;a=q}f?f.call(this.host,a):this.internalSet(c,a)}}};c.prototype.setDefaultOrigin=function(c){this._origin=g.nameToId(c)};c.prototype.propertyInvalidated=function(c){var d=
this.dirties,a=this.isOverridden(c),b=this.cursors&&this.cursors[c],f=this.metadatas[c].computes;if(b)for(var g=0;g<b.length;g++)b[g].propertyInvalidated(this,c);a||(d[c]=!0);if(f)for(c=0;c<f.length;c++)this.propertyInvalidated(f[c])};c.prototype.propertyCommitted=function(c){var d=this.cursors&&this.cursors[c];this.dirties[c]=!1;if(d)for(var a=0;a<d.length;a++)d[a].propertyCommitted(this,c)};c.prototype.addCursor=function(c,d){this.cursors||(this.cursors={});var a=this.cursors[c];a||(this.cursors[c]=
a=[]);a.push(d)};c.prototype.removeCursor=function(c,d){var a=this.cursors[c];this.cursors[c]&&(a.splice(a.indexOf(d),1),0===a.length&&(this.cursors[c]=null))};c.prototype.cast=function(c,a){var b=d.acquire();b.valid=!0;b.value=a;c&&(b.value=c.call(this.host,a,b));return b};return c}();p=function(){function c(){this.value=null;this.valid=!0}c.prototype.acquire=function(){this.valid=!0};c.prototype.release=function(){this.value=null};return c}();var d=new h(p);a.default=b})},"esri/core/accessorSupport/extensions":function(){define(["require",
"exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(b,a,p,e,n){Object.defineProperty(a,"__esModule",{value:!0});var h=[p.default,e.default,n.default];a.processPrototypeMetadatas=function(a,b){for(var g=0;g<h.length;g++){var d=h[g];if(d.processPrototypePropertyMetadata)for(var c in a)d.processPrototypePropertyMetadata(c,a[c],a,b)}};a.processClassMetadatas=function(a,b){for(var g=0;g<h.length;g++){var d=h[g];if(d.processClassPropertyMetadata)for(var c in a)d.processClassPropertyMetadata(c,
a[c],a,b)}};a.instanceCreated=function(a,b){for(var g=Object.getOwnPropertyNames(b),d=0;d<h.length;d++){var c=h[d];c.instanceCreated&&c.instanceCreated(a,b,g)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(b,a,p,e,n,h,l){function g(a,d,c){var b=h.getProperties(a);return l.wire(a,c.aliasOf,function(){b.propertyInvalidated(d)})}Object.defineProperty(a,"__esModule",{value:!0});a.AliasedPropertyExtension=
{processClassPropertyMetadata:function(a,d,c,b){var f=d.aliasOf;if(f&&(a=f.split(".")[0],null!=c[a]&&!d.set&&!d.get)){var k;d.get=function(){var c=e.default(this,f);if("function"===typeof c){k||(k=f.split(".").slice(0,-1).join("."));var d=e.default(this,k);d&&(c=c.bind(d))}return c};d.readOnly||(d.set=function(c){return n.default(this,f,c)})}},instanceCreated:function(a,d,c){for(var b=0;b<c.length;b++){var q=c[b],k=d[q];k.aliasOf&&g(a,q,k)}}};a.default=a.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require",
"exports","./utils"],function(b,a,p){function e(a,b,d){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=d.getItemAt||Array.isArray(d)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(d)?d[c]:d.getItemAt(c)}c=p.getProperties(d);return b?p.isPropertyDeclared(c,a)?c.get(a):d[a]:p.isPropertyDeclared(c,a)?c.internalGet(a):d[a]}function n(a,b,d,c){if(null==a)return a;if((a=e(b[c],d,a))||!(c<b.length-1))return c===b.length-1?a:n(a,b,d,c+1)}function h(a,b,d,c){void 0===d&&(d=!1);void 0===c&&(c=0);return"string"===
typeof b&&-1===b.indexOf(".")?e(b,d,a):n(a,p.pathToArray(b),d,c)}function l(a,b){return h(a,b,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.valueOf=h;a.get=l;a.exists=function(a,b){return void 0!==h(b,a,!0)};a.default=l})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(b,a,p){function e(a,b,d){return b?Object.keys(b).reduce(function(c,a){var f=null,k="merge";d&&(f=d.path?d.path+"."+a:a,k=d.policy(f));if("replace"===k)return c[a]=b[a],c;if(void 0===
c[a])return c[a]=p.clone(b[a]),c;var r=c[a],k=b[a];if(r===k)return c;if(Array.isArray(k)||Array.isArray(c))r=r?Array.isArray(r)?c[a]=r.concat():c[a]=[r]:c[a]=[],k&&(Array.isArray(k)||(k=[k]),k.forEach(function(c){-1===r.indexOf(c)&&r.push(c)}));else if(k&&"object"===typeof k)if(d){var g=d.path;d.path=f;c[a]=e(r,k,d);d.path=g}else c[a]=e(r,k,null);else if(!c.hasOwnProperty(a)||b.hasOwnProperty(a))c[a]=k;return c},a||{}):a}function n(a){return Array.isArray(a)?a:a.split(".")}function h(a){if(Array.isArray(a)||
-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function l(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(a,"__esModule",{value:!0});a.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};a.merge=function(a,b,d){return d?e(a,b,{policy:d,path:""}):e(a,b,null)};a.pathToStringOrArray=
function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:n(a)};a.pathToArray=n;a.splitPath=h;a.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=n(a);for(var b=Array(a.length),d=0;d<a.length;d++){var c=a[d];b[d]="?"===c[c.length-1];b[d]&&(a[d]=c.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};a.parse=function(a,b,d,c){b=h(b);if(Array.isArray(b)){var f=b.map(function(b){return c(a,b.trim(),d)});return{remove:l(function(){return f.forEach(function(c){return c.remove()})})}}return c(a,
b.trim(),d)};a.once=l})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(b,a,p,e,n){function h(a,b,e){if(a&&b)if("object"===typeof b){e=0;for(var d=Object.getOwnPropertyNames(b);e<d.length;e++){var c=d[e];h(a,c,b[c])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),c=b.splice(b.length-1,1)[0],h(n.default(a,b),c,e)):a[b]=e)}Object.defineProperty(a,"__esModule",{value:!0});e.getLogger("esri.core.accessorSupport.set");a.set=h;a.default=
h})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(b,a,p){function e(d,c,a){c=p.splitPath(c);if(Array.isArray(c)){for(var b=[],f=0;f<c.length;f++)b.push((new n(c[f],a)).install(d));return new g(b)}d=(new n(c,a)).install(d);return new m(d)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function d(c,d){this.path=c;this.callback=d;this.conditional=this.chain=null;if(-1<c.indexOf(".")){if(c=p.parseConditionalPath(c))this.path=c.fullPath,
this.conditional=c.conditional;this.chain=p.pathToArray(this.path)}else"?"===c[c.length-1]&&(this.path=c.slice(0,c.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=d;return this}d.prototype.install=function(c){c=this.chain?new l(this,c):new h(this,c);return c};d.prototype.notify=function(c){this.callback(c,this.path)};return d}(),h=function(){function d(c,d){this.binding=c;this.target=d;p.getProperties(d).addCursor(this.binding.path,this)}d.prototype.destroy=function(){this.target&&
(p.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};d.prototype.propertyDestroyed=function(c,d){p.getProperties(this.target).removeCursor(d,this)};d.prototype.propertyInvalidated=function(c,d){this.binding&&this.binding.notify(this.target)};d.prototype.propertyCommitted=function(c,d){this.binding&&this.binding.notify(this.target)};return d}(),l=function(){function d(c,d){this.binding=c;this.target=d;this.stack=[];this.properties=p.getProperties(d);this.stack.push({properties:this.properties,
propertyName:c.chain[0]});this.properties.addCursor(c.chain[0],this);this.moveForward();return this}d.prototype.destroy=function(){for(;;){var c=this.stack.pop();if(null==c)break;c.properties.removeCursor(c.propertyName,this)}this.target=this.binding=null};d.prototype.propertyDestroyed=function(c,d){this.moveBackward(c,d)};d.prototype.propertyInvalidated=function(c,d){this.binding&&this.binding.notify(this.target)};d.prototype.propertyCommitted=function(c,d){this.binding&&(this.moveBackward(c,d),
this.moveForward(),this.binding.notify(this.target))};d.prototype.moveBackward=function(c,d){for(var a=this.stack,b=a[a.length-1];b.properties!==c&&b.propertyName!==d;)b.properties.removeCursor(b.propertyName,this),a.pop(),b=a[a.length-1]};d.prototype.moveForward=function(){var c=this.stack,d=c[c.length-1];if(1!==c.length||!this.binding.conditional||!this.binding.conditional[c.length-1]||d.properties.metadatas[d.propertyName])if(d=d.properties.internalGet(d.propertyName),(d=p.getProperties(d))&&c.length<
this.binding.chain.length){var a=this.binding.chain[c.length];this.binding.conditional&&this.binding.conditional[c.length]&&!d.metadatas[a]||(this.stack.push({properties:d,propertyName:a}),d.addCursor(a,this),this.moveForward())}};return d}(),g=function(){function d(c){this.cursors=c}d.prototype.remove=function(){for(var c=this.cursors;0<c.length;)c.pop().destroy();this.cursors=null};return d}(),m=function(){function d(c){this.cursor=c}d.prototype.remove=function(){this.cursor.destroy();this.cursor=
null};return d}();a.create=function(d,c){d=p.splitPath(d);if(Array.isArray(d)){for(var a=[],b=0;b<d.length;b++)a.push(new n(d[b],c));return function(c){for(var d=[],b=0;b<a.length;b++)d[b]=a[b].install(c);return new g(d)}}var k=new n(d,c);return function(c){return new m(k.install(c))}};a.wire=e;a.default=e})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",
{value:!0});e.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,e,d){b.dependsOn&&(e=void 0,e=b.dependsOn.slice())&&(b.wire=h.create(e,function(c){return n.getProperties(c).propertyInvalidated(a)}))},instanceCreated:function(a,b,e){for(var d=0;d<e.length;d++){var c=b[e[d]];c.wire&&c.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(b,a,p,e,n,h,l){function g(a,d,c){var b=a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&("any"===d||d in a)&&(b=a);return b}Object.defineProperty(a,"__esModule",{value:!0});a.originSpecificReadPropertyDefinition=function(a,d){return g(a,"read",d)};a.originSpecificWritePropertyDefinition=function(a,d){return g(a,"write",d)};a.originSpecificPropertyDefinition=g;a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,d,c,b){if(h.process(d)){e.process(d);
c=d.type;for(b=0;Array.isArray(c)&&!p.isOneOf(c);)c=c[0],b++;if(d.json.origins)for(var f in d.json.origins){var k=d.json.origins[f];n.create(c,b,a,k);l.create(c,b,a,k)}n.create(c,b,a,d.json);l.create(c,b,a,d.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,
n={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var e=b[a];n[a].forEach(function(a){b[a]=e});delete b[a]}};for(var h in n)a(h)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(b,a,p,e){function n(c,a,b,r){if(1<a)return g(c,a);if(1===a)return m(c);if(d(c)){var f=m(c.prototype.itemType.Type);return function(d,a,b){return(d=f(d,a,b))?new c(d):d}}return h(c)}function h(c){return c.prototype.read?
function(d,a,b){if(null==d)return d;a=new c;a.read(d,b);return a}:c.fromJSON}function l(c,d,a,b){return 0!==b&&Array.isArray(d)?d.map(function(d){return l(c,d,a,b-1)}):c(d,null,a)}function g(c,d){c=h(c);var a=l.bind(null,c);return function(c,b,f){if(null==c)return c;c=a(c,f,d);b=d;for(f=c;0<b&&Array.isArray(f);)b--,f=f[0];if(void 0!==f)for(f=0;f<b;f++)c=[c];return c}}function m(c){var d=h(c);return function(c,a,b){return null==c?c:Array.isArray(c)?c.map(function(c){return d(c,null,b)}):[d(c,null,
b)]}}function d(d){return e.isCollection(d)?(d=d.prototype.itemType)&&d.Type&&"function"===typeof d.Type?c(d.Type):!1:!1}function c(c){return Array.isArray(c)?!1:!!c&&c.prototype&&("read"in c.prototype||"fromJSON"in c||d(c))}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(d,a,b,r){(!r.read||!r.read.reader&&!1!==r.read.enabled)&&c(d)&&p.setDeepValue("read.reader",n(d,a,b,r),r)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],
function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(b,a){function p(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&
(a.read.enabled=!0)}function e(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){a.json||(a.json={});p(a.json);e(a.json);if(a.json.origins)for(var b in a.json.origins)p(a.json.origins[b]),e(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(b,a,p,e){function n(d,c,a,b){p.setDeepValue(a,h(d,b),c)}function h(d,c){return d&&"function"===typeof d.write?d.write({},c):d&&"function"===typeof d.toJSON?d.toJSON():"number"===typeof d?-Infinity===d?-Number.MAX_VALUE:Infinity===d?Number.MAX_VALUE:isNaN(d)?null:d:d}function l(d,c,a,b){null===d?d=null:d&&"function"===typeof d.map?(d=d.map(function(c){return h(c,b)}),"function"===typeof d.toArray&&(d=d.toArray())):d=[h(d,b)];p.setDeepValue(a,d,c)}function g(d,
c,a){return 0!==a&&Array.isArray(d)?d.map(function(d){return g(d,c,a-1)}):h(d,c)}function m(d){return function(c,a,b,k){if(null===c)c=null;else{c=g(c,k,d);k=d;for(var f=c;0<k&&Array.isArray(f);)k--,f=f[0];if(void 0!==f)for(f=0;f<k;f++)c=[c]}p.setDeepValue(b,c,a)}}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(d,c,a,b){!b.write||b.write.writer||!1===b.write.enabled&&!b.write.overridePolicy||(1===c||e.isCollection(d)?b.write.writer=l:b.write.writer=1<c?m(c):n)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(b,a){function p(a){switch(a){case "defaults":return n.DEFAULTS;case "service":return n.SERVICE;case "portal-item":return n.PORTAL_ITEM;case "web-scene":return n.WEB_SCENE;case "web-map":return n.WEB_MAP;case "user":return n.USER}}function e(a){switch(a){case n.DEFAULTS:return"defaults";case n.SERVICE:return"service";case n.PORTAL_ITEM:return"portal-item";case n.WEB_SCENE:return"web-scene";case n.WEB_MAP:return"web-map";case n.USER:return"user"}}Object.defineProperty(a,"__esModule",
{value:!0});var n;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(n=a.OriginId||(a.OriginId={}));a.nameToId=p;a.idToName=e;a.readableNameToId=function(a){return p(a)};a.idToReadableName=function(a){return e(a)};a.writableNameToId=function(a){return p(a)};a.idToWritableName=function(a){return e(a)}})},"esri/core/accessorSupport/Store":function(){define(["require",
"exports","./PropertyOrigin"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return p.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();a.default=b})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(b,a,p,e,n,h,l){function g(d,c){return function(a){a=+d(a);null!=c.min&&(a=Math.max(c.min,a));null!=c.max&&(a=Math.min(c.max,a));return a}}function m(d,c){return null==c.get?function(){return this.__accessor__?this.__accessor__.getterStatic(d,c):c.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(d,c):c.value}}Object.defineProperty(a,"__esModule",{value:!0});a.processPrototype=function(d){var c=d.declaredClass,a=d.properties||{},b;for(b in a){var k=a[b],r=typeof k;
null==k?n.setPropertyMetadata(d,b,{value:k}):Array.isArray(k)?n.setPropertyMetadata(d,b,{type:[k[0]],value:null}):"object"===r?h.getProperties(k)||k instanceof Date?n.setPropertyMetadata(d,b,{type:k.constructor,value:k}):n.setPropertyMetadata(d,b,k):"boolean"===r?n.setPropertyMetadata(d,b,{type:Boolean,value:k}):"string"===r?n.setPropertyMetadata(d,b,{type:String,value:k}):"number"===r?n.setPropertyMetadata(d,b,{type:Number,value:k}):"function"===r&&n.setPropertyMetadata(d,b,{type:k,value:null})}d=
n.getPropertiesMetadata(d);for(b in d){a=d[b];r=a.type;k=a.types;if(!a.cast)if(r){for(var k=a,u=0,m=r;Array.isArray(m)&&1===m.length&&"string"!==typeof m[0]&&"number"!==typeof m[0];)m=m[0],u++;r=p.isOneOf(m)?0===u?p.ensureOneOf(m):p.ensureNArrayTyped(p.ensureOneOf(m),u):1===u?p.ensureArray(m):1<u?p.ensureNArray(m,u):p.ensureType(r);k.cast=r}else k&&(Array.isArray(k)?a.cast=p.ensureArrayTyped(p.ensureOneOfType(k[0])):a.cast=p.ensureOneOfType(k));a.range&&(a.cast=g(a.cast,a.range))}e.processPrototypeMetadatas(d,
c);return d};a.processClass=function(d){for(var c=d.prototype,a=c.declaredClass,b=d._meta.bases,k={},r=b.length-1;0<=r;r--)n.merge(k,n.getMetadata(b[r].prototype));var g=k.properties;e.processClassMetadatas(g,a);Object.defineProperty(d,"__accessorMetadata__",{value:{properties:g,autoDestroy:!!k.autoDestroy}});for(var z={},a=function(c){var d=g[c];z[c]={enumerable:!0,configurable:!0,get:m(c,d),set:function(a){var b=this.__accessor__;if(!b)Object.defineProperty(this,c,{enumerable:!0,configurable:!0,
writable:!0,value:a});else if(!Object.isFrozen(this)){if(b.initialized&&d.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+c+"' of "+this.declaredClass);if(2===b.lifecycle&&d.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+c+"' of "+this.declaredClass);b.set(c,a)}}}},b=0,r=Object.getOwnPropertyNames(g);b<r.length;b++)a(r[b]);Object.defineProperties(d.prototype,z);if(k.parameters)for(d=0,a=Object.getOwnPropertyNames(k.parameters);d<
a.length;d++)b=a[d],r=Object.getOwnPropertyDescriptor(c,b)||{value:c[b]},(r=l.autocastMethod(c,b,r))&&Object.defineProperty(c,b,r);return k}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(b,a,p){function e(c){return null!=c.__accessorMetadata__}function n(c){return e(c)&&null!=h(c).properties}function h(c){c.__accessorMetadata__||Object.defineProperty(c,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return c.__accessorMetadata__}
function l(c){c=h(c);var d=c.properties;d||(d=c.properties={});return d}function g(c,d){var a=h(c);c=a.parameters;c||(c=a.parameters={});a=c[d];a||(a=[],c[d]=a);return a}function m(d){return c.test(d)?"replace":"merge"}function d(c){return f.test(c)?m(c.slice(11)):"merge"}Object.defineProperty(a,"__esModule",{value:!0});a.hasMetadata=e;a.hasPropertiesMetadata=n;a.hasPropertyMetadata=function(c,d){return n(c)&&null!=l(c)[d]};a.hasParametersMetadata=function(c,d){return e(c)&&null!=h(c).parameters&&
null!=h(c).parameters[d]};a.getMetadata=h;a.getPropertiesMetadata=l;a.getPropertyMetadata=function(c,d){c=l(c);var a=c[d];a||(a=c[d]={});return a};a.setPropertyMetadata=function(c,d,a){l(c)[d]=a};a.getParametersMetadata=g;a.getParameterMetadata=function(c,d,a){var b=g(c,d)[a];b||(g(c,d)[a]=b={index:a});return b};a.merge=function(c,a){return p.merge(c,a,d)};a.mergeProperty=function(c,d){return p.merge(c,d,m)};var c=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,f=/^properties\./})},
"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(b,a,p,e){function n(d){var c="_meta"in d?p.ensureType(d):d;return function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];d.push(c);return"number"===typeof d[2]?l.apply(this,d):h.apply(this,d)}}function h(d,c,a,b){e.getPropertyMetadata(d,c).cast=b}function l(d,c,a,b){e.getParameterMetadata(d,c,a).cast=b}function g(d){return function(c,a,b){e.getPropertyMetadata(c,
d).cast=c[a]}}Object.defineProperty(a,"__esModule",{value:!0});var m=Object.prototype.toString;a.autocastMethod=function(d,c,a){if(e.hasParametersMetadata(d,c)){var b=e.getParametersMetadata(d,c).filter(function(c){return null!=c.cast});if(b.length){var f=a.value;a.value=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];for(d=0;d<b.length;d++){var a=b[d];c[a.index]=a.cast(c[a.index])}return f.apply(this,c)};return a}console.warn("Method "+d.declaredClass+"::"+c+" is decorated with @cast but no parameters are decorated")}};
a.cast=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];if(3!==d.length||"string"!==typeof d[1]){if(1===d.length&&"[object Function]"===m.call(d[0]))return n(d[0]);if(1===d.length&&"string"===typeof d[0])return g(d[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(b,a,p,e,n,h,l,g,m){function d(c){C.has(c)?t.splice(t.indexOf(c),1):C.add(c);t.push(c);D||
(D=h.schedule(f))}function c(c){if(!c.removed){var d=c.callback,a=c.path,b=c.oldValue,f=c.target,k=l.valueOf(f,c.propertyPath,!0);e.equals(b,k)||(c.oldValue=k,d.call(f,k,b,a,f))}}function f(){for(var d=10;D&&d--;){D=null;var a=t;t=z.acquire();C.clear();for(var b=z.acquire(),f=0,k=a;f<k.length;f++){var q=k[f];c(q);q.removed&&b.push(q)}for(f=0;f<t.length;f++)q=t[f],q.removed&&(b.push(q),C.delete(q),t.splice(f,1),--f);for(f=0;f<b.length;f++)u.pool.release(b[f]);z.release(a);z.release(b);B.forEach(function(c){return c()})}}
function q(c,a,b){var f=g.parse(c,a,b,function(c,a,b){var k=l.valueOf(c,a,!0),q,r,e=m.wire(c,a,function(c,a){c.__accessor__.destroyed||q&&q.uid!==r?f.remove():(q||(q=u.pool.acquire(c,a,k,b),r=q.uid,k=null),d(q))});return{remove:g.once(function(){e.remove();q&&(q.uid!==r||q.removed||(q.removed=!0,d(q)),q=null);f=e=k=null})}});return f}function k(c,d,a){var b=g.parse(c,d,a,function(c,d,a){var f=l.valueOf(c,d,!0),k=!1;return m.wire(c,d,function(c,d){if(c.__accessor__.destroyed)b.remove();else if(!k){k=
!0;var q=l.valueOf(c,d,!0);e.equals(f,q)||a.call(c,q,f,d,c);f=l.valueOf(c,d,!0);k=!1}})});return b}function r(c,d,a,b){void 0===b&&(b=!1);return!c.__accessor__||c.__accessor__.destroyed?{remove:function(){}}:b?k(c,d,a):q(c,d,a)}Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function c(d,a,b,f){this.target=d;this.path=a;this.oldValue=b;this.callback=f;this.uid=0;this.removed=!1;this.propertyPath=g.pathToStringOrArray(a);this.uid=++c.uid}c.prototype.release=function(){this.target=
this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++c.uid;this.removed=!0};c.pool=new n.ReentrantObjectPool(c,!0);c.uid=0;return c}(),z=new p,C=new Set,t=z.acquire(),D;a.dispatchTarget=function(d){for(var a=z.copy(t),b=0;b<a.length;b++){var f=a[b];f.target===d&&(c(f),C.delete(f),t.splice(t.indexOf(f),1))}};a.removeTarget=function(c){for(var d=0;d<t.length;d++){var a=t[d];a.target===c&&(a.removed=!0)}};a.dispatch=f;var B=new Set;a.afterDispatch=function(c){B.add(c);return{remove:function(){B.delete(c)}}};
a.watch=r;a.isValueInUse=function(c){return t.some(function(d){return d.oldValue===c})};a.default=r})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(b,a,p,e){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._set=new Set;return b}p(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=null};b.prototype.acquire=function(){for(var b=
[],e=0;e<arguments.length;e++)b[e]=arguments[e];b=a.prototype.acquire.apply(this,b);this._set.delete(b);return b};b.prototype.release=function(b){b&&!this._set.has(b)&&(a.prototype.release.call(this,b),this._set.add(b))};b.prototype._dispose=function(b){this._set.delete(b);a.prototype._dispose.call(this,b)};return b}(e);a.ReentrantObjectPool=b})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(b,a,p,e,n){function h(c){void 0===
c&&(c=a.now());a.debug.rafId=null;0<t.length&&(a.debug.rafId=l());0<q&&(r=Math.min(c-q,r));a.debug.executeFrameTasks(c)}function l(){return a.debug.requestNextFrame?a.debug.requestNextFrame(d):d()}function g(){for(var c=0;c<t.length;){var d=t[c];c++;if(d.removed){t.splice(c-1,1);for(var a=0;a<z.length;a++){var b=z[a];if(d.phases[b]){var b=D[b],f=b.indexOf(d);-1!==f&&b.splice(f,1)}}}}}function m(){for(;C.length;){var c=C.shift();c.isActive&&(c.isActive=!1,c.callback())}a.debug.willDispatch=!1}function d(){return n(h)}
Object.defineProperty(a,"__esModule",{value:!0});a.now=e;var c=function(){return function(c){this.phases=c;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),f=function(){function c(c){this.callback=c;this.isActive=!0}c.prototype.remove=function(){this.isActive=!1};return c}(),q=-1,k=0,r=Number.POSITIVE_INFINITY,u={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},z=["prepare","preRender","render","postRender","update"],C=[],t=[],D={prepare:[],
preRender:[],render:[],postRender:[],update:[]},B=function(){function c(c){this._task=c}c.prototype.remove=function(){this._task.removed=!0};c.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=a.now())};c.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=a.now()-this._task.pausedAt))};return c}();a.FrameTaskHandle=B;a.debug={frameTasks:t,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(c){void 0===
c&&(c=!1);for(var d=0;d<t.length;d++)t[d].removed=!0;c&&g()},dispatch:m,executeFrameTasks:function(c){void 0===c&&(c=a.now());0>q&&(q=c);var d=c-q,b=0<k?k:r,f=Math.max(0,d-b);q=c;for(var e=0;e<t.length;e++){var m=t[e];-1!==m.epoch&&(m.dt=d)}for(e=0;e<z.length;e++)for(var d=z[e],l=D[d],h=0;h<l.length;h++)m=l[(h+x)%l.length],m.paused||m.removed||(0===e&&m.ticks++,-1===m.epoch&&(m.epoch=c),u.time=c,u.deltaTime=m.dt,u.elapsedFrameTime=a.now()-c,u.frameDuration=b-f,u.spendInTask=c-m.epoch,m.phases[d].call(m,
u));g();++x}};a.schedule=function(c){c=new f(c);C.push(c);a.debug.willDispatch||(a.debug.willDispatch=!0,p(m));return c};a.addFrameTask=function(d){var b=new c(d);t.push(b);for(var f=0,k=z;f<k.length;f++){var r=k[f];d[r]&&D[r].push(b)}a.debug.rafId||(q=-1,a.debug.rafId=l());return new B(b)};a.setFrameDuration=function(c){k=Math.max(0,c)};var x=0;a.requestNextFrame=l})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(b,a,p,e){var n=e();b=p.requestAnimationFrame;
if(!b){a=["ms","moz","webkit","o"];for(var h=0;h<a.length&&!b;++h)b=p[a[h]+"RequestAnimationFrame"];b||(b=function(a){var b=e(),m=Math.max(0,16-(b-n)),d=p.setTimeout(function(){a(e())},m);n=b+m;return d})}return b})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.interceptor=null})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){function q(c){for(var d in c)a.hasOwnProperty(d)||(a[d]=c[d])}Object.defineProperty(a,"__esModule",{value:!0});q(p);q(e);q(n);q(h);q(l);q(g);q(m);q(d);q(c);q(f)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=function(a){return function(b,e){p.getPropertyMetadata(b,e).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=function(){return function(a,b,h){p.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.declared=function(a){for(var b=[],n=1;n<arguments.length;n++)b[n-1]=arguments[n];n=function(){return this||{}};n.__bases__=[a].concat(b);return n}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(b,a,p,e){function n(a){return e.property({type:a})}Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=n;(function(a){a.serializable=function(){return function(a,b){void 0===b&&(b={ignoreUnknown:!0});a=a instanceof p.JSONMap?a:new p.JSONMap(a,b);return e.property({type:b&&b.ignoreUnknown?a.apiValues:String,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(n=a.enumeration||(a.enumeration={}))})},"esri/core/jsonMap":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var p=function(){function a(a,b){void 0===b&&(b={ignoreUnknown:!1});this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return this.fromJSON(a)}.bind(this);this.write=function(a,b,e){a=this.toJSON(a);void 0!==a&&(b[e]=a)}.bind(this)}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?
this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},e;for(e in a)b[a[e]]=e;return b};a.prototype.getKeysSorted=function(a){var b=[],e;for(e in a)b.push(e);b.sort();return b};return a}();a.JSONMap=p;a.strict=function(){return function(a){return new p(a,{ignoreUnknown:!0})}};a.default=p})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});n.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(b,m){var d=b.constructor.prototype;d!==Function.prototype&&((b=Object.getOwnPropertyDescriptor(b,m))&&(b.get||b.set)?(a=e.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=e.clone(a),a.value=b.value),m=h.getPropertyMetadata(d,m),h.mergeProperty(m,a))}};a.propertyJSONMeta=function(a,
b,e){a=h.getPropertyMetadata(a.constructor.prototype,e);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(b,a,p,e){Object.defineProperty(a,"__esModule",{value:!0});a.reader=function(a,b,l){var g,m;void 0===b||Array.isArray(b)?(m=a,l=b,g=[void 0]):(m=b,g=Array.isArray(a)?a:[a]);return function(d,c,a){var b=
d.constructor.prototype;g.forEach(function(a){a=e.propertyJSONMeta(d,a,m);a.read&&"object"!==typeof a.read&&(a.read={});p.setDeepValue("read.reader",b[c],a);l&&(a.read.source=(a.read.source||[]).concat(l))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=function(a){return function(b,n){b[n]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(b,a,p,e){function n(c,a){c.read&&("function"===typeof c.read?a.push(c.read):"object"===typeof c.read&&c.read.reader&&a.push(c.read.reader))}function h(c,a){c.write&&("function"===typeof c.write?a.push(c.write):"object"===typeof c.write&&c.write.writer&&a.push(c.write.writer))}function l(c){var a=[];c=e.getPropertiesMetadata(c.prototype);if(!c)return a;for(var d in c){var b=c[d];b.cast&&a.push(b.cast);b.copy&&a.push(b.copy);if(b=b.json)if(n(b,a),h(b,a),b=b.origins)for(var r in b){var g=
b[r];n(g,a);h(g,a)}}return a}function g(c){var a={values:{},descriptors:{}},b=["__bases__"],k=e.getPropertiesMetadata(c.prototype),r=l(c);Object.getOwnPropertyNames(c.prototype).filter(function(a){return-1!==b.indexOf(a)||k&&k.hasOwnProperty(a)||!d(Object.getOwnPropertyDescriptor(c.prototype,a))&&-1!==r.indexOf(c.prototype[a])?!1:!0}).forEach(function(b){var f=Object.getOwnPropertyDescriptor(c.prototype,b);d(f)?a.descriptors[b]=f:a.values[b]=c.prototype[b]});return a}function m(c){var a=Object.getOwnPropertyNames(c),
b=Object.getPrototypeOf(c.prototype).constructor,k=Object.getOwnPropertyNames(Function);k.push("__bases__");var r=Object.getOwnPropertyNames(b),e={values:{},descriptors:{}};a.filter(function(a){return-1!==k.indexOf(a)?!1:-1===r.indexOf(a)||b[a]!==c[a]?!0:!1}).forEach(function(a){var b=Object.getOwnPropertyDescriptor(c,a);d(b)?e.descriptors[a]=b:e.values[a]=c[a]});return e}function d(c){return c&&!(!c.get&&!c.set)}Object.defineProperty(a,"__esModule",{value:!0});a.subclass=function(c){return function(a){var d=
g(a),b=m(a);null!=c&&(d.values.declaredClass=c);a=p(a.__bases__,d.values);Object.defineProperties(a.prototype,d.descriptors);for(var f in b.values)a[f]=b.values[f];Object.defineProperties(a,b.descriptors);return a}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(b,a,p,e){Object.defineProperty(a,"__esModule",{value:!0});a.writer=function(a,b,l){var g,m;void 0===b?(m=a,g=[void 0]):"string"!==typeof b?(m=a,g=[void 0],l=b):
(m=b,g=Array.isArray(a)?a:[a]);return function(a,c,b){var d=a.constructor.prototype;g.forEach(function(b){b=e.propertyJSONMeta(a,b,m);b.write&&"object"!==typeof b.write&&(b.write={});l&&p.setDeepValue("write.target",l,b);p.setDeepValue("write.writer",d[c],b)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(b,a,p,e,n,h){function l(a,d,c){void 0===c&&(c=g);if(d&&"object"===typeof d){for(var b=
n.getProperties(a),q=b.metadatas,k={},r=0,m=Object.getOwnPropertyNames(d);r<m.length;r++){var l=k,C=q,t=m[r],D=d,p=c,x=h.originSpecificReadPropertyDefinition(C[t],p);x&&(!x.read||!1!==x.read.enabled&&!x.read.source)&&(l[t]=!0);for(var v=0,A=Object.getOwnPropertyNames(C);v<A.length;v++){var w=A[v],x=h.originSpecificReadPropertyDefinition(C[w],p),y;a:{y=t;var I=D;if(x&&x.read&&!1!==x.read.enabled&&x.read.source)if(x=x.read.source,"string"===typeof x){if(x===y||-1<x.indexOf(".")&&0===x.indexOf(y)&&e.exists(x,
I)){y=!0;break a}}else for(var G=0;G<x.length;G++){var H=x[G];if(H===y||-1<H.indexOf(".")&&0===H.indexOf(y)&&e.exists(H,I)){y=!0;break a}}y=!1}y&&(l[w]=!0)}}b.setDefaultOrigin(c.origin);m=0;for(l=Object.getOwnPropertyNames(k);m<l.length;m++)r=l[m],t=(C=h.originSpecificReadPropertyDefinition(q[r],c).read)&&C.source,D=void 0,D=t&&"string"===typeof t?e.valueOf(d,t):d[r],C&&C.reader&&(D=C.reader.call(a,D,d,c)),void 0!==D&&b.set(r,D);if(!c||!c.ignoreDefaults)for(d=0,q=Object.getOwnPropertyNames(q);d<q.length;d++)r=
q[d],k[r]||(m=a,l=b,C=c,t=(t=h.originSpecificPropertyDefinition(l.metadatas[r],"any",C))&&t.default,void 0!==t&&(m="function"===typeof t?t.call(m,r,C):t,void 0!==m&&l.set(r,m)));b.setDefaultOrigin("user")}}Object.defineProperty(a,"__esModule",{value:!0});var g={origin:"service"};a.read=l;a.readLoadable=function(a,d,c,b){void 0===b&&(b=g);d=p({},b,{messages:[]});c(d);d.messages.forEach(function(c){"warning"!==c.type||a.loaded?b&&b.messages.push(c):a.loadWarnings.push(c)})};a.default=l})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(b,a,p,e,n,h,l,g){function m(a,d,b,r,g,m){if(!r||!r.write)return!1;var f=a.get(b);if(!g&&r.write.overridePolicy){var q=r.write.overridePolicy.call(a,f,b,m);void 0!==q&&(g=q)}g||(g=r.write);if(!g||!1===g.enabled)return!1;if((null===f&&!g.allowNull||void 0===f)&&g.isRequired)return(d=new e("web-document-write:property-required","Missing value for required property '"+b+"' on '"+a.declaredClass+"'",{propertyName:b,target:a}),m)&&m.messages?m.messages.push(d):d&&!m&&c.error(d.name,d.message),
!1;if(void 0===f||null===f&&!g.allowNull)return!1;q=r.default;void 0===q?f=!1:"function"===typeof q?Array.isArray(f)?(a=q.call(a,b,m),f=p.equals(a,f)):f=!1:f=q===f;return f?!1:void 0!==r.default?!0:!g.ignoreOrigin&&m&&m.origin&&d.store.originOf(b)<h.nameToId(m.origin)?!1:!0}function d(c,a,d){if(c&&"function"===typeof c.toJSON&&(!c.toJSON.isDefaultToJSON||!c.write))return l.merge(a,c.toJSON());var b=l.getProperties(c),f=b.metadatas,q;for(q in f){var k=g.originSpecificWritePropertyDefinition(f[q],d);
if(m(c,b,q,k,null,d)){var e=c.get(q),D={};k.write.writer.call(c,e,D,"string"===typeof k.write.target?k.write.target:q,d);k=D;0<Object.keys(k).length&&(a=l.merge(a,k),d&&d.writtenProperties&&d.writtenProperties.push({target:c,propName:q,oldOrigin:h.idToReadableName(b.store.originOf(q)),newOrigin:d.origin}))}}return a}Object.defineProperty(a,"__esModule",{value:!0});var c=n.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(c,a,d,b){var f=l.getProperties(c),q=g.originSpecificWritePropertyDefinition(f.metadatas[a],
b);return q?m(c,f,a,q,d,b):!1};a.write=d;a.default=d})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(b,a,p,e){function n(c,a){return-1===c.indexOf(a)}function h(c,a,d){return!c.some(a.bind(null,d))}function l(c){return c}Object.defineProperty(a,"__esModule",{value:!0});a.find=p.find;a.findIndex=p.findIndex;a.unique=function(c){return c.filter(function(c,a,d){return d.indexOf(c)===a})};a.equals=function(c,a,d){if(!c&&!a)return!0;
if(!c||!a||c.length!==a.length)return!1;if(d)for(var b=0;b<c.length;b++){if(!d(c[b],a[b]))return!1}else for(b=0;b<c.length;b++)if(c[b]!==a[b])return!1;return!0};a.difference=function(c,a,d){var b;d?(b=a.filter(h.bind(null,c,d)),c=c.filter(h.bind(null,a,d))):(b=a.filter(n.bind(null,c)),c=c.filter(n.bind(null,a)));return{added:b,removed:c}};a.intersect=function(c,a,d){return c&&a?d?c.filter(function(c){return-1<p.findIndex(a,function(a){return d(c,a)})}):c.filter(function(c){return-1<a.indexOf(c)}):
[]};a.constant=function(c,a){for(var d=Array(c),b=0;b<c;b++)d[b]=a;return d};a.range=function(c,a){void 0===a&&(a=c,c=0);for(var d=Array(a-c),b=c;b<a;b++)d[b-c]=b;return d};a.binaryIndexOf=function(c,a,d){for(var b=c.length,f=0,q=b-1;f<q;){var e=f+Math.floor((q-f)/2);a>c[e]?f=e+1:q=e}q=c[f];return d?a>=c[b-1]?-1:q===a?f:f-1:q===a?f:-1};a.flatten=function(c){return c.reduce(function(c,a){return c.concat(a||[])},[])};b=function(){return function(){this.last=0}}();a.RemoveHint=b;var g=new b;a.removeUnordered=
function(c,a,d,b){b=b||g;for(var f=null==d?c.length:d,q=Math.max(0,b.last-10),k=-1,e=q;e<f;++e)if(c[e]===a){k=e;break}if(-1===k){for(e=0;e<q;++e)if(c[e]===a){k=e;break}if(-1===k)return}c[k]=c[f-1];null==d&&c.pop();b.last=k;return a};var m=new Set;a.removeUnorderedMany=function(c,a,d,b,r,e){void 0===d&&(d=c.length);void 0===b&&(b=a.length);if(0===b||0===d)return d;m.clear();for(var f=0;f<b;++f)m.add(a[f]);r=r||g;for(f=a=Math.max(0,r.last-10);f<d;++f)if(m.has(c[f])&&(e&&e.push(c[f]),m.delete(c[f]),
c[f]=c[d-1],--d,--f,0===m.size||0===d))return m.clear(),d;for(f=0;f<a;++f)if(m.has(c[f])&&(e&&e.push(c[f]),m.delete(c[f]),c[f]=c[d-1],--d,--f,0===m.size||0===d))return m.clear(),d;m.clear();return d};a.shuffle=function(c,a){a=(d.seed=a)?function(){return d.getFloat()}:Math.random;for(var b=c.length-1;0<b;b--){var f=Math.floor(a()*(b+1)),r=c[b];c[b]=c[f];c[f]=r}return c};var d=new e;a.keysOfMap=function(c){var a=[];c.forEach(function(c,d){return a.push(d)});return a};a.keysOfSet=function(c,a){void 0===
a&&(a=l);var d=[];c.forEach(function(c){return d.push(a(c))});return d};a.fromMapValues=function(c){if(Array.from)return Array.from(c.values());var a=Array(c.size),d=0;c.forEach(function(c){a[d++]=c});return a};a.remove=function(c,a){var d=c.indexOf(a);return-1!==d?(c.splice(d,1),a):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(b,a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(b){this._seed=
null==b?Math.random()*a._m:b},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,b){return Math.round(this.getFloatRange(a,b))};a.prototype.getFloatRange=function(b,n){n-=b;var e=this.getInt()/a._m;return b+Math.floor(e*n)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require",
"exports","../../core/string","./WKIDUnitConversion"],function(b,a,p,e){function n(a){return l(a)&&a.wkid?c[a.wkid]:null}function h(c){return l(c)&&!0===g[c.wkid]}function l(c){return null!=c&&(null!=c.wkid&&2E3<=c.wkid||null!=c.wkt)}Object.defineProperty(a,"__esModule",{value:!0});var g={102113:!0,102100:!0,3857:!0,3785:!0},m={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};b=[-2.0037508342788905E7,2.0037508342788905E7];var d=[-2.0037508342787E7,2.0037508342787E7],c={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:b,origin:d,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:b,origin:d,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:b,origin:d,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:b,origin:d,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};a.equals=function(c,a){return c&&a?c===a?!0:null!=c.wkid||null!=a.wkid?c.wkid===a.wkid||h(c)&&h(a)||null!=a.latestWkid&&c.wkid===a.latestWkid||null!=c.latestWkid&&a.wkid===c.latestWkid:c.wkt&&a.wkt?c.wkt.toUpperCase()===a.wkt.toUpperCase():!1:!1};a.getInfo=n;a.isGeographic=function(c){return l(c)?c.wkid?null==e[c.wkid]:c.wkt?!!/^\s*GEOGCS/i.test(c.wkt):!1:!1};a.isWGS84=function(c){return l(c)&&4326===c.wkid};a.isWebMercator=h;a.isWrappable=function(c){return l(c)&&
!0===m[c.wkid]};a.isValid=l;a.WGS84={wkid:4326,wkt:p.replace(n({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};a.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var b,a={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8082:0,8083:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,
8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,
8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,
8387:2,8391:0,8682:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,
27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,
102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,
103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,
103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,
103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,
103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(b=2E3;2045>=b;b++)a[b]=0;for(b=2056;2065>=b;b++)a[b]=0;for(b=2067;2135>=b;b++)a[b]=0;for(b=2137;2154>=b;b++)a[b]=0;for(b=2161;2170>=b;b++)a[b]=0;for(b=2172;2193>=b;b++)a[b]=0;for(b=2195;2198>=b;b++)a[b]=0;for(b=2200;2203>=b;b++)a[b]=0;for(b=2205;2217>=b;b++)a[b]=0;for(b=2222;2224>=b;b++)a[b]=1;for(b=2225;2250>=b;b++)a[b]=2;
for(b=2251;2253>=b;b++)a[b]=1;for(b=2257;2264>=b;b++)a[b]=2;for(b=2274;2279>=b;b++)a[b]=2;for(b=2280;2282>=b;b++)a[b]=1;for(b=2283;2289>=b;b++)a[b]=2;for(b=2290;2292>=b;b++)a[b]=0;for(b=2308;2313>=b;b++)a[b]=0;for(b=2315;2491>=b;b++)a[b]=0;for(b=2494;2866>=b;b++)a[b]=0;for(b=2867;2869>=b;b++)a[b]=1;for(b=2870;2888>=b;b++)a[b]=2;for(b=2891;2895>=b;b++)a[b]=2;for(b=2896;2898>=b;b++)a[b]=1;for(b=2902;2908>=b;b++)a[b]=2;for(b=2915;2920>=b;b++)a[b]=2;for(b=2921;2923>=b;b++)a[b]=1;for(b=2924;2930>=b;b++)a[b]=
2;for(b=2931;2962>=b;b++)a[b]=0;for(b=2964;2968>=b;b++)a[b]=2;for(b=2969;2973>=b;b++)a[b]=0;for(b=2975;2991>=b;b++)a[b]=0;for(b=2995;3051>=b;b++)a[b]=0;for(b=3054;3079>=b;b++)a[b]=0;for(b=3081;3088>=b;b++)a[b]=0;for(b=3092;3101>=b;b++)a[b]=0;for(b=3106;3138>=b;b++)a[b]=0;for(b=3146;3151>=b;b++)a[b]=0;for(b=3153;3166>=b;b++)a[b]=0;for(b=3168;3172>=b;b++)a[b]=0;for(b=3174;3203>=b;b++)a[b]=0;for(b=3294;3358>=b;b++)a[b]=0;for(b=3367;3403>=b;b++)a[b]=0;for(b=3408;3416>=b;b++)a[b]=0;for(b=3417;3438>=b;b++)a[b]=
2;for(b=3441;3446>=b;b++)a[b]=2;for(b=3447;3450>=b;b++)a[b]=0;for(b=3451;3459>=b;b++)a[b]=2;for(b=3460;3478>=b;b++)a[b]=0;for(b=3554;3559>=b;b++)a[b]=0;for(b=3560;3570>=b;b++)a[b]=2;for(b=3571;3581>=b;b++)a[b]=0;for(b=3594;3597>=b;b++)a[b]=0;for(b=3601;3604>=b;b++)a[b]=0;for(b=3637;3639>=b;b++)a[b]=0;for(b=3665;3667>=b;b++)a[b]=0;for(b=3693;3695>=b;b++)a[b]=0;for(b=3701;3727>=b;b++)a[b]=0;for(b=3728;3739>=b;b++)a[b]=2;for(b=3740;3751>=b;b++)a[b]=0;for(b=3753;3760>=b;b++)a[b]=2;for(b=3761;3773>=b;b++)a[b]=
0;for(b=3775;3777>=b;b++)a[b]=0;for(b=3779;3781>=b;b++)a[b]=0;for(b=3783;3785>=b;b++)a[b]=0;for(b=3788;3791>=b;b++)a[b]=0;for(b=3797;3802>=b;b++)a[b]=0;for(b=3814;3816>=b;b++)a[b]=0;for(b=3825;3829>=b;b++)a[b]=0;for(b=3832;3841>=b;b++)a[b]=0;for(b=3844;3852>=b;b++)a[b]=0;for(b=3873;3885>=b;b++)a[b]=0;for(b=3890;3893>=b;b++)a[b]=0;for(b=3907;3912>=b;b++)a[b]=0;for(b=3942;3950>=b;b++)a[b]=0;for(b=3968;3970>=b;b++)a[b]=0;for(b=3973;3976>=b;b++)a[b]=0;for(b=3986;3989>=b;b++)a[b]=0;for(b=3994;3997>=b;b++)a[b]=
0;for(b=4048;4051>=b;b++)a[b]=0;for(b=4056;4063>=b;b++)a[b]=0;for(b=4093;4096>=b;b++)a[b]=0;for(b=4390;4398>=b;b++)a[b]=0;for(b=4399;4413>=b;b++)a[b]=2;for(b=4418;4433>=b;b++)a[b]=2;for(b=4455;4457>=b;b++)a[b]=2;for(b=4484;4489>=b;b++)a[b]=0;for(b=4491;4554>=b;b++)a[b]=0;for(b=4568;4589>=b;b++)a[b]=0;for(b=4652;4656>=b;b++)a[b]=0;for(b=4766;4800>=b;b++)a[b]=0;for(b=5014;5016>=b;b++)a[b]=0;for(b=5069;5072>=b;b++)a[b]=0;for(b=5105;5130>=b;b++)a[b]=0;for(b=5173;5188>=b;b++)a[b]=0;for(b=5253;5259>=b;b++)a[b]=
0;for(b=5269;5275>=b;b++)a[b]=0;for(b=5292;5311>=b;b++)a[b]=0;for(b=5329;5331>=b;b++)a[b]=0;for(b=5343;5349>=b;b++)a[b]=0;for(b=5355;5357>=b;b++)a[b]=0;for(b=5387;5389>=b;b++)a[b]=0;for(b=5459;5463>=b;b++)a[b]=0;for(b=5479;5482>=b;b++)a[b]=0;for(b=5518;5520>=b;b++)a[b]=0;for(b=5530;5539>=b;b++)a[b]=0;for(b=5550;5552>=b;b++)a[b]=0;for(b=5562;5583>=b;b++)a[b]=0;for(b=5623;5625>=b;b++)a[b]=2;for(b=5631;5639>=b;b++)a[b]=0;for(b=5649;5653>=b;b++)a[b]=0;for(b=5663;5680>=b;b++)a[b]=0;for(b=5682;5685>=b;b++)a[b]=
0;for(b=5875;5877>=b;b++)a[b]=0;for(b=5921;5940>=b;b++)a[b]=0;for(b=6050;6125>=b;b++)a[b]=0;for(b=6244;6275>=b;b++)a[b]=0;for(b=6328;6348>=b;b++)a[b]=0;for(b=6350;6356>=b;b++)a[b]=0;for(b=6366;6372>=b;b++)a[b]=0;for(b=6381;6387>=b;b++)a[b]=0;for(b=6393;6404>=b;b++)a[b]=0;for(b=6480;6483>=b;b++)a[b]=0;for(b=6511;6514>=b;b++)a[b]=0;for(b=6579;6581>=b;b++)a[b]=0;for(b=6619;6624>=b;b++)a[b]=0;for(b=6625;6627>=b;b++)a[b]=2;for(b=6628;6632>=b;b++)a[b]=0;for(b=6634;6637>=b;b++)a[b]=0;for(b=6669;6692>=b;b++)a[b]=
0;for(b=6707;6709>=b;b++)a[b]=0;for(b=6720;6723>=b;b++)a[b]=0;for(b=6732;6738>=b;b++)a[b]=0;for(b=6931;6933>=b;b++)a[b]=0;for(b=6956;6959>=b;b++)a[b]=0;for(b=7005;7007>=b;b++)a[b]=0;for(b=7057;7070>=b;b++)a[b]=2;for(b=7074;7082>=b;b++)a[b]=0;for(b=7109;7118>=b;b++)a[b]=0;for(b=7119;7127>=b;b++)a[b]=1;for(b=7374;7376>=b;b++)a[b]=0;for(b=7528;7586>=b;b++)a[b]=0;for(b=7587;7645>=b;b++)a[b]=2;for(b=7755;7787>=b;b++)a[b]=0;for(b=7791;7795>=b;b++)a[b]=0;for(b=7799;7801>=b;b++)a[b]=0;for(b=7803;7805>=b;b++)a[b]=
0;for(b=7825;7831>=b;b++)a[b]=0;for(b=7845;7859>=b;b++)a[b]=0;for(b=8013;8032>=b;b++)a[b]=0;for(b=8065;8068>=b;b++)a[b]=1;for(b=8836;8840>=b;b++)a[b]=0;for(b=8857;8859>=b;b++)a[b]=0;for(b=20002;20032>=b;b++)a[b]=0;for(b=20062;20092>=b;b++)a[b]=0;for(b=20135;20138>=b;b++)a[b]=0;for(b=20248;20258>=b;b++)a[b]=0;for(b=20348;20358>=b;b++)a[b]=0;for(b=20436;20440>=b;b++)a[b]=0;for(b=20822;20824>=b;b++)a[b]=0;for(b=20934;20936>=b;b++)a[b]=0;for(b=21035;21037>=b;b++)a[b]=0;for(b=21095;21097>=b;b++)a[b]=0;
for(b=21148;21150>=b;b++)a[b]=0;for(b=21413;21423>=b;b++)a[b]=0;for(b=21473;21483>=b;b++)a[b]=0;for(b=21780;21782>=b;b++)a[b]=0;for(b=21891;21894>=b;b++)a[b]=0;for(b=21896;21899>=b;b++)a[b]=0;for(b=22171;22177>=b;b++)a[b]=0;for(b=22181;22187>=b;b++)a[b]=0;for(b=22191;22197>=b;b++)a[b]=0;for(b=22234;22236>=b;b++)a[b]=0;for(b=22521;22525>=b;b++)a[b]=0;for(b=22991;22994>=b;b++)a[b]=0;for(b=23028;23038>=b;b++)a[b]=0;for(b=23830;23853>=b;b++)a[b]=0;for(b=23866;23872>=b;b++)a[b]=0;for(b=23877;23884>=b;b++)a[b]=
0;for(b=23886;23894>=b;b++)a[b]=0;for(b=23946;23948>=b;b++)a[b]=0;for(b=24311;24313>=b;b++)a[b]=0;for(b=24342;24347>=b;b++)a[b]=0;for(b=24370;24374>=b;b++)a[b]=10;for(b=24375;24381>=b;b++)a[b]=0;for(b=24718;24721>=b;b++)a[b]=0;for(b=24817;24821>=b;b++)a[b]=0;for(b=24877;24882>=b;b++)a[b]=0;for(b=24891;24893>=b;b++)a[b]=0;for(b=25391;25395>=b;b++)a[b]=0;for(b=25828;25838>=b;b++)a[b]=0;for(b=26191;26195>=b;b++)a[b]=0;for(b=26391;26393>=b;b++)a[b]=0;for(b=26701;26722>=b;b++)a[b]=0;for(b=26729;26799>=
b;b++)a[b]=2;for(b=26801;26803>=b;b++)a[b]=2;for(b=26811;26813>=b;b++)a[b]=2;for(b=26847;26870>=b;b++)a[b]=2;for(b=26891;26899>=b;b++)a[b]=0;for(b=26901;26923>=b;b++)a[b]=0;for(b=26929;26946>=b;b++)a[b]=0;for(b=26948;26998>=b;b++)a[b]=0;for(b=27037;27040>=b;b++)a[b]=0;for(b=27205;27232>=b;b++)a[b]=0;for(b=27258;27260>=b;b++)a[b]=0;for(b=27391;27398>=b;b++)a[b]=0;for(b=27561;27564>=b;b++)a[b]=0;for(b=27571;27574>=b;b++)a[b]=0;for(b=27581;27584>=b;b++)a[b]=0;for(b=27591;27594>=b;b++)a[b]=0;for(b=28191;28193>=
b;b++)a[b]=0;for(b=28348;28358>=b;b++)a[b]=0;for(b=28402;28432>=b;b++)a[b]=0;for(b=28462;28492>=b;b++)a[b]=0;for(b=29118;29122>=b;b++)a[b]=0;for(b=29168;29172>=b;b++)a[b]=0;for(b=29177;29185>=b;b++)a[b]=0;for(b=29187;29195>=b;b++)a[b]=0;for(b=29900;29903>=b;b++)a[b]=0;for(b=30161;30179>=b;b++)a[b]=0;for(b=30491;30494>=b;b++)a[b]=0;for(b=30729;30732>=b;b++)a[b]=0;for(b=31251;31259>=b;b++)a[b]=0;for(b=31265;31268>=b;b++)a[b]=0;for(b=31275;31279>=b;b++)a[b]=0;for(b=31281;31297>=b;b++)a[b]=0;for(b=31461;31469>=
b;b++)a[b]=0;for(b=31491;31495>=b;b++)a[b]=0;for(b=31917;31922>=b;b++)a[b]=0;for(b=31965;32E3>=b;b++)a[b]=0;for(b=32001;32003>=b;b++)a[b]=2;for(b=32005;32031>=b;b++)a[b]=2;for(b=32033;32060>=b;b++)a[b]=2;for(b=32064;32067>=b;b++)a[b]=2;for(b=32074;32077>=b;b++)a[b]=2;for(b=32081;32086>=b;b++)a[b]=0;for(b=32107;32130>=b;b++)a[b]=0;for(b=32133;32158>=b;b++)a[b]=0;for(b=32164;32167>=b;b++)a[b]=2;for(b=32180;32199>=b;b++)a[b]=0;for(b=32201;32260>=b;b++)a[b]=0;for(b=32301;32360>=b;b++)a[b]=0;for(b=32601;32662>=
b;b++)a[b]=0;for(b=32664;32667>=b;b++)a[b]=2;for(b=32701;32761>=b;b++)a[b]=0;for(b=53001;53004>=b;b++)a[b]=0;for(b=53008;53019>=b;b++)a[b]=0;for(b=53021;53032>=b;b++)a[b]=0;for(b=53034;53037>=b;b++)a[b]=0;for(b=53042;53046>=b;b++)a[b]=0;for(b=53074;53080>=b;b++)a[b]=0;for(b=54001;54004>=b;b++)a[b]=0;for(b=54008;54019>=b;b++)a[b]=0;for(b=54021;54032>=b;b++)a[b]=0;for(b=54034;54037>=b;b++)a[b]=0;for(b=54042;54046>=b;b++)a[b]=0;for(b=54048;54053>=b;b++)a[b]=0;for(b=54074;54080>=b;b++)a[b]=0;for(b=102001;102040>=
b;b++)a[b]=0;for(b=102042;102063>=b;b++)a[b]=0;for(b=102065;102067>=b;b++)a[b]=0;for(b=102070;102117>=b;b++)a[b]=0;for(b=102122;102216>=b;b++)a[b]=0;for(b=102221;102377>=b;b++)a[b]=0;for(b=102382;102388>=b;b++)a[b]=0;for(b=102389;102398>=b;b++)a[b]=2;for(b=102399;102444>=b;b++)a[b]=0;for(b=102445;102447>=b;b++)a[b]=2;for(b=102448;102458>=b;b++)a[b]=0;for(b=102459;102468>=b;b++)a[b]=2;for(b=102469;102499>=b;b++)a[b]=0;for(b=102500;102519>=b;b++)a[b]=1;for(b=102520;102524>=b;b++)a[b]=0;for(b=102525;102529>=
b;b++)a[b]=2;for(b=102530;102588>=b;b++)a[b]=0;for(b=102590;102598>=b;b++)a[b]=0;for(b=102601;102603>=b;b++)a[b]=0;for(b=102605;102628>=b;b++)a[b]=0;for(b=102629;102646>=b;b++)a[b]=2;for(b=102648;102700>=b;b++)a[b]=2;for(b=102701;102703>=b;b++)a[b]=0;for(b=102707;102730>=b;b++)a[b]=2;for(b=102733;102758>=b;b++)a[b]=2;for(b=102767;102900>=b;b++)a[b]=0;for(b=102965;102969>=b;b++)a[b]=0;for(b=102971;102973>=b;b++)a[b]=0;for(b=102975;102989>=b;b++)a[b]=0;for(b=102990;102992>=b;b++)a[b]=1;for(b=102997;103002>=
b;b++)a[b]=0;for(b=103003;103008>=b;b++)a[b]=2;for(b=103009;103011>=b;b++)a[b]=0;for(b=103012;103014>=b;b++)a[b]=2;for(b=103019;103021>=b;b++)a[b]=0;for(b=103022;103024>=b;b++)a[b]=2;for(b=103029;103031>=b;b++)a[b]=0;for(b=103032;103034>=b;b++)a[b]=2;for(b=103065;103068>=b;b++)a[b]=0;for(b=103074;103076>=b;b++)a[b]=0;for(b=103077;103079>=b;b++)a[b]=1;for(b=103080;103082>=b;b++)a[b]=0;for(b=103083;103085>=b;b++)a[b]=2;for(b=103090;103093>=b;b++)a[b]=0;for(b=103097;103099>=b;b++)a[b]=0;for(b=103100;103102>=
b;b++)a[b]=2;for(b=103107;103109>=b;b++)a[b]=0;for(b=103110;103112>=b;b++)a[b]=2;for(b=103113;103116>=b;b++)a[b]=0;for(b=103117;103120>=b;b++)a[b]=2;for(b=103153;103157>=b;b++)a[b]=0;for(b=103158;103162>=b;b++)a[b]=2;for(b=103163;103165>=b;b++)a[b]=0;for(b=103166;103168>=b;b++)a[b]=1;for(b=103169;103171>=b;b++)a[b]=2;for(b=103186;103188>=b;b++)a[b]=0;for(b=103189;103191>=b;b++)a[b]=2;for(b=103192;103195>=b;b++)a[b]=0;for(b=103196;103199>=b;b++)a[b]=2;for(b=103200;103224>=b;b++)a[b]=0;for(b=103225;103227>=
b;b++)a[b]=1;for(b=103232;103237>=b;b++)a[b]=0;for(b=103238;103243>=b;b++)a[b]=2;for(b=103244;103246>=b;b++)a[b]=0;for(b=103247;103249>=b;b++)a[b]=2;for(b=103254;103256>=b;b++)a[b]=0;for(b=103257;103259>=b;b++)a[b]=2;for(b=103264;103266>=b;b++)a[b]=0;for(b=103267;103269>=b;b++)a[b]=2;for(b=103300;103375>=b;b++)a[b]=0;for(b=103381;103383>=b;b++)a[b]=0;for(b=103384;103386>=b;b++)a[b]=1;for(b=103387;103389>=b;b++)a[b]=0;for(b=103390;103392>=b;b++)a[b]=2;for(b=103397;103399>=b;b++)a[b]=0;for(b=103400;103471>=
b;b++)a[b]=2;for(b=103476;103478>=b;b++)a[b]=0;for(b=103479;103481>=b;b++)a[b]=2;for(b=103486;103488>=b;b++)a[b]=0;for(b=103489;103491>=b;b++)a[b]=2;for(b=103492;103495>=b;b++)a[b]=0;for(b=103496;103499>=b;b++)a[b]=2;for(b=103528;103543>=b;b++)a[b]=0;for(b=103544;103548>=b;b++)a[b]=2;for(b=103549;103551>=b;b++)a[b]=0;for(b=103552;103554>=b;b++)a[b]=1;for(b=103555;103557>=b;b++)a[b]=2;for(b=103558;103560>=b;b++)a[b]=0;for(b=103571;103573>=b;b++)a[b]=0;for(b=103574;103576>=b;b++)a[b]=2;for(b=103577;103580>=
b;b++)a[b]=0;for(b=103581;103583>=b;b++)a[b]=2;for(b=103595;103597>=b;b++)a[b]=0;for(b=103600;103694>=b;b++)a[b]=0;for(b=103696;103698>=b;b++)a[b]=0;for(b=103700;103793>=b;b++)a[b]=2;for(b=103794;103871>=b;b++)a[b]=0;for(b=103900;103971>=b;b++)a[b]=2;return a})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(b,a,p,e,n,h){function l(c,a,d){for(var b="",f=0;f<d;){var k=c[a+
f];if(128>k)b+=String.fromCharCode(k),f++;else if(192<=k&&224>k){if(f+1>=d)throw new p("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var q=c[a+f+1],k=(k&31)<<6|q&63,b=b+String.fromCharCode(k),f=f+2}else if(224<=k&&240>k){if(f+2>=d)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var q=c[a+f+1],r=c[a+f+2],k=(k&15)<<12|(q&63)<<6|r&63,b=b+String.fromCharCode(k),f=f+3}else if(240<=k&&248>k){if(f+3>=d)throw new p("utf8-decode-error",
"UTF-8 Decode failed. Multi byte character was truncated.");q=c[a+f+1];r=c[a+f+2];k=(k&7)<<18|(q&63)<<12|(r&63)<<6|c[a+f+3]&63;b=65536<=k?b+String.fromCharCode((k-65536>>10)+55296,(k&1023)+56320):b+String.fromCharCode(k);f+=4}else throw new p("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return b}function g(c,d){for(var b={byteOffset:0,byteCount:0,fields:Object.create(null)},f=0,k=0;k<d.length;k++){var q=d[k],r=q.valueType||q.type;b.fields[q.property]=(0,a.valueType2ArrayBufferReader[r])(c,
f);f+=a.valueType2TypedArrayClassMap[r].BYTES_PER_ELEMENT}b.byteCount=f;return b}function m(c,a,d){var b=[],f,k=0,q;for(q=0;q<c;q+=1){f=a[q];if(0<f){if(b.push(l(d,k,f-1)),0!==d[k+f-1])throw new p("string-array-error","Invalid string array: missing null termination.");}else b.push(null);k+=f}return b}function d(c,d){return new a.valueType2TypedArrayClassMap[d.valueType](c,d.byteOffset,d.count*d.valuesPerElement)}function c(c,a){return new Uint8Array(c,a.byteOffset,a.byteCount)}function f(c,a,d){c=
null!=a.header?g(c,a.header):{byteOffset:0,byteCount:0,fields:{count:d}};d={header:c,byteOffset:c.byteCount,byteCount:0,entries:Object.create(null)};for(var b=c.byteCount,f=0;f<a.ordering.length;f++){var q=a.ordering[f],m=e.clone(a[q]);m.count=c.fields.count;if("String"===m.valueType){if(m.byteOffset=b,m.byteCount=c.fields[q+"ByteCount"],"UTF-8"!==m.encoding)throw new p("unsupported-encoding","Unsupported String encoding.",{encoding:m.encoding});}else if(k(m.valueType)){var u=r(m.valueType),b=b+(0!==
b%u?u-b%u:0);m.byteOffset=b;m.byteCount=u*m.valuesPerElement*m.count}else throw new p("unsupported-value-type","Unsupported binary valueType",{valueType:m.valueType});b+=m.byteCount;d.entries[q]=m}d.byteCount=b-d.byteOffset;return d}function q(c,a,d){a!==c&&u.error("Invalid "+d+" buffer size\n expected: "+c+", actual: "+a+")");if(a<c)throw new p("buffer-too-small","Binary buffer is too small",{expectedSize:c,actualSize:a});}function k(c){return a.valueType2TypedArrayClassMap.hasOwnProperty(c)}function r(c){return k(c)?
a.valueType2TypedArrayClassMap[c].BYTES_PER_ELEMENT:0}Object.defineProperty(a,"__esModule",{value:!0});var u=n.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");a.readHeader=g;a.readStringArray=m;a.createTypedView=d;a.createRawView=c;a.createAttributeDataIndex=f;a.createGeometryIndexFromDefinition=function(c,a,d){for(var b={header:{byteOffset:0,byteCount:c.offset,fields:{}},byteOffset:c.offset,byteCount:0,vertexAttributes:{},featureAttributes:{}},f=c.offset,k=function(c,a,d,b){var k="UInt64"===
a.type?8:r(a.type);a={byteOffset:f,byteCount:k*a.component*d,count:d,valueType:a.type,valuesPerElement:a.component};f+=a.byteCount;b[c]=a},q=0,e=z;q<e.length;q++){var m=e[q];c[m[0]]&&k(m[1],c[m[0]],a,b.vertexAttributes)}a=0;for(q=C;a<q.length;a++)e=q[a],c[e[0]]&&k(e[1],c[e[0]],d,b.featureAttributes);return b};var z=[["position","position"],["normal","normal"],["uv0","uv0"],["uv1","uv1"],["color","color"],["uvRegion","region"]],C=[["featureId","id"],["faceRange","faceRange"]];a.createGeometryIndexFromSchema=
function(c,a){for(var d=g(c,a&&a.header),b=d.byteCount,f={header:d,byteOffset:d.byteCount,byteCount:0,vertexAttributes:e.clone(a.vertexAttributes)},k=f.vertexAttributes,m=d.fields,u=null!=m.vertexCount?m.vertexCount:m.count,d=0;d<a.ordering.length;d++){var l=a.ordering[d];null!=k[l]&&(k[l].byteOffset=b,k[l].count=u,b+=r(k[l].valueType)*k[l].valuesPerElement*u)}k=m.faceCount;if(a.faces&&k)for(f.faces=e.clone(a.faces),u=f.faces,d=0;d<a.ordering.length;d++)l=a.ordering[d],null!=u[l]&&(u[l].byteOffset=
b,u[l].count=k,b+=r(u[l].valueType)*u[l].valuesPerElement*k);m=m.featureCount;if(a.featureAttributes&&a.featureAttributeOrder&&m)for(f.featureAttributes=e.clone(a.featureAttributes),k=f.featureAttributes,d=0;d<a.featureAttributeOrder.length;d++)u=a.featureAttributeOrder[d],k[u].byteOffset=b,k[u].count=m,l=r(k[u].valueType),"UInt64"===k[u].valueType&&(l=8),b+=l*k[u].valuesPerElement*m;q(b,c.byteLength,"geometry");f.byteCount=b-f.byteOffset;return f};a.readBinaryAttribute=function(a,b,k){if("lepcc-rgb"===
a.encoding)return h.decodeRGB(b);if("lepcc-intensity"===a.encoding)return h.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new p("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(u.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(u.warn("Warning: Case error in objectIds"),a.ordering[0]=
"objectIds");k=f(b,a,k);q(k.byteOffset+k.byteCount,b.byteLength,"attribute");if(a=k.entries.attributeValues||k.entries.objectIds){if("String"===a.valueType){k=k.entries.attributeByteCounts;var r=d(b,k);b=c(b,a);return m(k.count,r,b)}return d(b,a)}throw new p("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};a.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};
a.valueType2ArrayBufferReader={Float32:function(c,a){return(new DataView(c,0)).getFloat32(a,!0)},Float64:function(c,a){return(new DataView(c,0)).getFloat64(a,!0)},UInt8:function(c,a){return(new DataView(c,0)).getUint8(a)},Int8:function(c,a){return(new DataView(c,0)).getInt8(a)},UInt16:function(c,a){return(new DataView(c,0)).getUint16(a,!0)},Int16:function(c,a){return(new DataView(c,0)).getInt16(a,!0)},UInt32:function(c,a){return(new DataView(c,0)).getUint32(a,!0)},Int32:function(c,a){return(new DataView(c,
0)).getInt32(a,!0)}};a.isValueType=k;a.getBytesPerValue=r})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(b,a,p){function e(a,b,d){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,d+l.identifierOffset,l.identifierLength)),version:b.getUint16(d+l.versionOffset,!0),checksum:b.getUint32(d+l.checksumOffset,!0)}}function n(a,b,d){var c=[];b=h(a,b,c);for(var f=[],q=0;q<c.length;q++){f.length=0;b=h(a,b,f);for(var k=0;k<f.length;k++)d.push(f[k]+
c[q])}return b}function h(a,b,d){var c=new DataView(a,b),f=c.getUint8(0),q=f&31,k=!!(f&32),r=(f&192)>>6,f=0;if(0===r)f=c.getUint32(1,!0),b+=5;else if(1===r)f=c.getUint16(1,!0),b+=3;else if(2===r)f=c.getUint8(1),b+=2;else throw new p("lepcc-decode-error","Bad count type");if(k)throw new p("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(f*q/8));for(var r=k=c=0,e=-1>>>32-q,m=0;m<f;m++){for(;k<q;)c|=a[r]<<k,k+=8,r+=1;d[m]=c&e;c>>>=q;k-=q;32<k+q&&(c|=a[r-1]>>8-k)}return b+r}
Object.defineProperty(a,"__esModule",{value:!0});var l={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};a.decodeXYZ=function(a){var b,d,c,f,q,k,r,g,h,C,t,D,B=new DataView(a,0),x=0;f=e(a,B,x);c=f.identifier;f=f.version;x+=l.byteCount;if("LEPCC     "!==c)throw new p("lepcc-decode-error","Bad identifier");if(1<f)throw new p("lepcc-decode-error","Unknown version");var v=x;b=B.getUint32(v+0,!0);d=B.getUint32(v+4,!0);c=B.getFloat64(v+8,!0);f=B.getFloat64(v+16,!0);
q=B.getFloat64(v+24,!0);k=B.getFloat64(v+32,!0);r=B.getFloat64(v+40,!0);g=B.getFloat64(v+48,!0);h=B.getFloat64(v+56,!0);C=B.getFloat64(v+64,!0);t=B.getFloat64(v+72,!0);D=B.getUint32(v+80,!0);B.getUint32(v+84,!0);x+=88;if(d*Math.pow(2,32)+b!==a.byteLength)throw new p("lepcc-decode-error","Bad size");B=new Float64Array(3*D);b=[];d=[];D=[];v=[];x=n(a,x,b);x=n(a,x,d);x=n(a,x,D);x=n(a,x,v);if(x!==a.byteLength)throw new p("lepcc-decode-error","Bad length");for(var A=x=a=0;A<b.length;A++)for(var x=x+b[A],
w=0,y=0;y<d[A];y++){var w=w+D[a],I=v[a];B[3*a]=Math.min(k,c+2*h*w);B[3*a+1]=Math.min(r,f+2*C*x);B[3*a+2]=Math.min(g,q+2*t*I);a++}return{errorX:h,errorY:C,errorZ:t,result:B}};a.decodeRGB=function(a){var b,d,c,f,q,k,r=new DataView(a,0),g=0;f=e(a,r,g);c=f.identifier;f=f.version;g+=l.byteCount;if("ClusterRGB"!==c)throw new p("lepcc-decode-error","Bad identifier");if(1<f)throw new p("lepcc-decode-error","Unknown version");k=g;b=r.getUint32(k+0,!0);d=r.getUint32(k+4,!0);c=r.getUint32(k+8,!0);f=r.getUint16(k+
12,!0);q=r.getUint8(k+14);k=r.getUint8(k+15);g+=16;if(d*Math.pow(2,32)+b!==a.byteLength)throw new p("lepcc-decode-error","Bad size");if((2===q||1===q)&&0===k){if(3*f+c+g!==a.byteLength||256<f)throw new p("lepcc-decode-error","Bad count");r=new Uint8Array(a,g,3*f);f=new Uint8Array(a,g+3*f,c);g=new Uint8Array(3*c);for(a=0;a<c;a++)b=f[a],g[3*a]=r[3*b],g[3*a+1]=r[3*b+1],g[3*a+2]=r[3*b+2];return g}if(0===q&&0===k){if(3*c+g!==a.byteLength||0!==f)throw new p("lepcc-decode-error","Bad count");return(new Uint8Array(a,
g)).slice()}if(2>=q&&1===k){if(g+3!==a.byteLength||1!==f)throw new p("lepcc-decode-error","Bad count");f=r.getUint8(g);b=r.getUint8(g+1);r=r.getUint8(g+2);g=new Uint8Array(3*c);for(a=0;a<c;a++)g[3*a]=f,g[3*a+1]=b,g[3*a+2]=r;return g}throw new p("lepcc-decode-error","Bad method "+q+","+k);};a.decodeIntensity=function(a){var b,d,c,f,q,k=new DataView(a,0),r=0;f=e(a,k,r);c=f.identifier;f=f.version;r+=l.byteCount;if("Intensity "!==c)throw new p("lepcc-decode-error","Bad identifier");if(1<f)throw new p("lepcc-decode-error",
"Unknown version");var g=r;b=k.getUint32(g+0,!0);d=k.getUint32(g+4,!0);c=k.getUint32(g+8,!0);f=k.getUint16(g+12,!0);q=k.getUint8(g+14);k.getUint8(g+15);r+=16;if(d*Math.pow(2,32)+b!==a.byteLength)throw new p("lepcc-decode-error","Bad size");k=new Uint16Array(c);if(8===q){if(c+r!==a.byteLength)throw new p("lepcc-decode-error","Bad size");q=new Uint8Array(a,r,c)}else if(16===q){if(2*c+r!==a.byteLength)throw new p("lepcc-decode-error","Bad size");q=new Uint16Array(a,r,c)}else if(q=[],h(a,r,q)!==a.byteLength)throw new p("lepcc-decode-error",
"Bad size");for(a=0;a<c;a++)k[a]=q[a]*f;return k}})},"esri/views/3d/layers/i3s/PointCloudRendererUtil":function(){define("require exports ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader".split(" "),function(b,a,p,e,n,h){function l(c){var a=0,d=0;for(c=c?c:[];d<c.length;d++)a|=1<<c[d];return a}function g(c,a){for(var d=0;d<c.length;d++){var b=c[d];if(b.name===a&&null!=b.attributeValues&&
"UInt8"===b.attributeValues.valueType&&3===b.attributeValues.valuesPerElement)return{storageInfo:b,useElevation:!1}}return null}function m(c,a){for(var d=0;d<c.length;d++){var b=c[d];if(b.name===a)return c="embedded-elevation"===b.encoding,{storageInfo:c?null:b,useElevation:c}}return"elevation"===a.toLowerCase()?{storageInfo:null,useElevation:!0}:null}function d(c,a,d,b){if(c&&c.useElevation){c=new Float64Array(b);for(a=0;a<b;a++)c[a]=d[3*a+2];return c}return c&&a?h.readBinaryAttribute(c.storageInfo,
a,b):null}function c(c){return null==c||"none"===c?null:"low-four-bit"===c?function(c){return c&15}:"high-four-bit"===c?function(c){return(c&240)>>4}:"absolute-value"===c?function(c){return Math.abs(c)}:"modulo-ten"===c?function(c){return c%10}:null}Object.defineProperty(a,"__esModule",{value:!0});a.getRendererInfo=function(c){var a=c.renderer,d=a&&a.type,b=a&&c.renderer.toJSON()||null,f=null,e=!1;"point-cloud-unique-value"===d?f=m(c.attributeStorageInfo,a.field):"point-cloud-stretch"===d?f=m(c.attributeStorageInfo,
a.field):"point-cloud-class-breaks"===d?f=m(c.attributeStorageInfo,a.field):(f="point-cloud-rgb"===d?g(c.attributeStorageInfo,a.field):g(c.attributeStorageInfo,"RGB"),e=null!=f);d=null;a&&a.colorModulation&&(d=m(c.attributeStorageInfo,a.colorModulation.field));return{rendererJSON:b,isRGBRenderer:e,primaryAttribute:f,modulationAttribute:d}};a.getFilterInfo=function(c){var a=c.filters;return a?a.map(function(a){return{filterJSON:a.toJSON(),attributeInfo:m(c.attributeStorageInfo,a.field)}}):[]};a.evaluateRenderer=
function(a,b,k,r,m){var f=a.rendererJSON,q=a.isRGBRenderer,g=a.modulationAttribute;a=d(a.primaryAttribute,b,r,m);k=d(g,k,r,m);g=r=null;if(a&&q)r=a;else if(a&&"pointCloudUniqueValueRenderer"===f.type){var g=n.fromJSON(f),l=g.colorUniqueValueInfos;r=new Uint8Array(3*m);q=c(g.fieldTransformType);for(f=0;f<m;f++){b=q?q(a[f]):a[f];b+="";for(var u=0;u<l.length;u++)if(0<=l[u].values.indexOf(b)){r[3*f]=l[u].color.r;r[3*f+1]=l[u].color.g;r[3*f+2]=l[u].color.b;break}}}else if(a&&"pointCloudStretchRenderer"===
f.type)for(g=e.fromJSON(f),l=g.stops,r=new Uint8Array(3*m),q=c(g.fieldTransformType),f=0;f<m;f++)if(b=q?q(a[f]):a[f],u=l.length-1,b<l[0].value)r[3*f]=l[0].color.r,r[3*f+1]=l[0].color.g,r[3*f+2]=l[0].color.b;else if(b>=l[u].value)r[3*f]=l[u].color.r,r[3*f+1]=l[u].color.g,r[3*f+2]=l[u].color.b;else for(u=1;u<l.length;u++){if(b<l[u].value){b=(b-l[u-1].value)/(l[u].value-l[u-1].value);r[3*f]=l[u].color.r*b+l[u-1].color.r*(1-b);r[3*f+1]=l[u].color.g*b+l[u-1].color.g*(1-b);r[3*f+2]=l[u].color.b*b+l[u-1].color.b*
(1-b);break}}else if(a&&"pointCloudClassBreaksRenderer"===f.type)for(g=p.fromJSON(f),l=g.colorClassBreakInfos,r=new Uint8Array(3*m),q=c(g.fieldTransformType),f=0;f<m;f++)for(b=q?q(a[f]):a[f],u=0;u<l.length;u++){if(b>=l[u].minValue&&b<=l[u].maxValue){r[3*f]=l[u].color.r;r[3*f+1]=l[u].color.g;r[3*f+2]=l[u].color.b;break}}else for(r=new Uint8Array(3*m),f=0;f<r.length;f++)r[f]=255;if(k&&g&&g.colorModulation)for(a=g.colorModulation.minValue,g=g.colorModulation.maxValue,f=0;f<m;f++)b=k[f],q=b>=g?1:b<=a?
.3:.3+.7*(b-a)/(g-a),r[3*f]*=q,r[3*f+1]*=q,r[3*f+2]*=q;return r};a.filterInPlace=function(c,a,b,r){var f=c.length/3;r=r.map(function(a,k){return d(b[k].attributeInfo,a,c,f)});for(var k=0,q=0;q<f;q++){for(var e=!0,m=0;m<b.length&&e;m++){var g=b[m].filterJSON,h=r[m][q];switch(g.type){case "pointCloudValueFilter":var n="exclude"===g.mode;-1!==g.values.indexOf(h)===n&&(e=!1);break;case "pointCloudBitfieldFilter":n=l(g.requiredSetBits);g=l(g.requiredClearBits);if((h&n)!==n||0!==(h&g))e=!1;break;case "pointCloudReturnFilter":for(var p=
h&15,w=h>>>4&15,h=1<w,n=1===p,p=p===w,w=!1,y=0,g=g.includedReturns;y<g.length;y++){var I=g[y];if("last"===I&&p||"firstOfMany"===I&&n&&h||"lastOfMany"===I&&p&&h||"single"===I&&!h){w=!0;break}}w||(e=!1)}}e&&(c[3*k]=c[3*q],c[3*k+1]=c[3*q+1],c[3*k+2]=c[3*q+2],a[3*k]=a[3*q],a[3*k+1]=a[3*q+1],a[3*k+2]=a[3*q+2],k++)}return k};a.getSplatSizeAlgorithm=function(c){return(c=c&&c.pointSizeAlgorithm)&&"splat"===c.type?c:null};a.getFixedSizeAlgorithm=function(c){return(c=c&&c.pointSizeAlgorithm)&&"fixed-size"===
c.type?c:null};a.rendererUsesFixedSizes=function(c){return(c=c&&c.pointSizeAlgorithm)&&c.type?"fixed-size"===c.type:!1}})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),function(b,a,p,e,n,h,l,g,m,d){return function(c){function a(a){a=
c.call(this)||this;a.type="point-cloud-class-breaks";a.field=null;a.legendOptions=null;a.fieldTransformType=null;a.colorClassBreakInfos=null;return a}e(a,c);b=a;a.prototype.clone=function(){return new b(p({},this.cloneProperties(),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:h.clone(this.colorClassBreakInfos),legendOptions:h.clone(this.legendOptions)}))};var b;n([l.enumeration.serializable()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],a.prototype,
"type",void 0);n([l.property({json:{write:!0},type:String})],a.prototype,"field",void 0);n([l.property({type:m.default,json:{write:!0}})],a.prototype,"legendOptions",void 0);n([l.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],a.prototype,"fieldTransformType",void 0);n([l.property({type:[d.default],json:{write:!0}})],a.prototype,"colorClassBreakInfos",void 0);
return a=b=n([l.subclass("esri.renderers.PointCloudClassBreaksRenderer")],a)}(l.declared(g))})},"esri/renderers/PointCloudRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmJSONUtils ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(b,a,p,e,n,h,l,g,m,d,c){var f=
n.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});b=function(a){function b(c){c=a.call(this)||this;c.type=void 0;c.pointSizeAlgorithm=null;c.colorModulation=null;c.pointsPerInch=10;return c}p(b,a);b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.cloneProperties=
function(){return{pointSizeAlgorithm:l.clone(this.pointSizeAlgorithm),colorModulation:l.clone(this.colorModulation),pointsPerInch:l.clone(this.pointsPerInch)}};e([g.property({type:f.apiValues,readOnly:!0,nonNullable:!0,json:{type:f.jsonValues,read:!1,write:f.write}})],b.prototype,"type",void 0);e([g.property({types:c.pointSizeAlgorithmTypes,json:{read:d.read,write:!0}})],b.prototype,"pointSizeAlgorithm",void 0);e([g.property({type:m.default,json:{write:!0}})],b.prototype,"colorModulation",void 0);
e([g.property({json:{write:!0},nonNullable:!0,type:Number})],b.prototype,"pointsPerInch",void 0);return b=e([g.subclass("esri.renderers.PointCloudRenderer")],b)}(g.declared(h));(b||(b={})).fieldTransformTypeKebabDict=new n.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return b})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var d=null!==a&&a.apply(this,arguments)||this;d.field=null;d.minValue=0;d.maxValue=255;return d}p(b,a);m=b;b.prototype.clone=function(){return new m({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};var m;e([h.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);e([h.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"minValue",void 0);e([h.property({type:Number,
nonNullable:!0,json:{write:!0}})],b.prototype,"maxValue",void 0);return b=m=e([h.subclass("esri.renderers.support.pointCloud.ColorModulation")],b)}(h.declared(n));a.ColorModulation=b;a.default=b})},"esri/renderers/support/pointCloud/pointSizeAlgorithmJSONUtils":function(){define(["require","exports","../../../core/Warning","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(b,a,p,e,n){Object.defineProperty(a,"__esModule",{value:!0});var h={pointCloudFixedSizeAlgorithm:e.default,
pointCloudSplatAlgorithm:n.default};a.read=function(a,b,e){if(b=a?h[a.type]||null:null)return b=new b,b.read(a,e),b;e&&e.messages&&a&&e.messages.push(new p("pointsizealgorithm:unsupported","Point size algorithms of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:e}));return null};a.fromJSON=function(a){var b=a?h[a.type]||null:null;return b?b.fromJSON(a):null}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper",
"./Message"],function(b,a,p,e,n){b=function(a){function b(e,m,d){var c=a.call(this,e,m,d)||this;return c instanceof b?c:new b(e,m,d)}p(b,a);return b}(n);b.prototype.type="warning";return b})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./PointSizeAlgorithm".split(" "),function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",
{value:!0});b=function(a){function b(){var d=null!==a&&a.apply(this,arguments)||this;d.type="fixed-size";d.size=0;d.useRealWorldSymbolSizes=null;return d}p(b,a);m=b;b.prototype.clone=function(){return new m({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};var m;e([n.enumeration.serializable()({pointCloudFixedSizeAlgorithm:"fixed-size"})],b.prototype,"type",void 0);e([n.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"size",void 0);e([n.property({type:Boolean,
json:{write:!0}})],b.prototype,"useRealWorldSymbolSizes",void 0);return b=m=e([n.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],b)}(n.declared(h.default));a.PointSizeFixedSizeAlgorithm=b;a.default=b})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h,l){Object.defineProperty(a,"__esModule",{value:!0});a.typeKebabDictionary=new n.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});b=function(b){function m(){return null!==b&&b.apply(this,arguments)||this}p(m,b);e([l.property({type:a.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:a.typeKebabDictionary.jsonValues,read:!1,write:a.typeKebabDictionary.write}})],m.prototype,"type",void 0);return m=e([l.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],
m)}(l.declared(h));a.PointSizeAlgorithm=b;a.default=b})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./PointSizeAlgorithm".split(" "),function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var d=null!==a&&a.apply(this,arguments)||this;d.type="splat";d.scaleFactor=1;return d}p(b,a);
m=b;b.prototype.clone=function(){return new m({scaleFactor:this.scaleFactor})};var m;e([n.enumeration.serializable()({pointCloudSplatAlgorithm:"splat"})],b.prototype,"type",void 0);e([n.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],b.prototype,"scaleFactor",void 0);return b=m=e([n.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],b)}(n.declared(h.default));a.PointSizeSplatAlgorithm=b;a.default=b})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["require",
"exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(b,a,p,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.pointSizeAlgorithmTypes={key:"type",base:p.default,typeMap:{"fixed-size":e.default,splat:n.default}}})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,
a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var d=null!==a&&a.apply(this,arguments)||this;d.title=null;return d}p(b,a);m=b;b.prototype.clone=function(){return new m({title:this.title})};var m;e([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=m=e([h.subclass("esri.renderers.support.LegendOptions")],b)}(h.declared(n));a.LegendOptions=b;a.default=b})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(b,a,p,e,n,h,l,g,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.description=null;c.label=null;c.minValue=0;c.maxValue=0;c.color=null;return c}p(c,a);d=c;c.prototype.clone=function(){return new d({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:l.clone(this.color)})};var d;e([g.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);e([g.property({type:String,
json:{write:!0}})],c.prototype,"label",void 0);e([g.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);e([g.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);e([g.property({type:n,json:{type:[m.Integer],write:!0}})],c.prototype,"color",void 0);return c=d=e([g.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],c)}(g.declared(h));a.ColorClassBreakInfo=
b;a.default=b})},"esri/renderers/PointCloudStretchRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/StopInfo".split(" "),function(b,a,p,e,n,h,l,g,m,d){return function(c){function a(a){a=c.call(this)||this;a.type="point-cloud-stretch";a.field=null;a.legendOptions=null;a.fieldTransformType=
null;a.stops=null;return a}e(a,c);b=a;a.prototype.clone=function(){return new b(p({},this.cloneProperties(),{field:h.clone(this.field),fieldTransformType:h.clone(this.fieldTransformType),stops:h.clone(this.stops),legendOptions:h.clone(this.legendOptions)}))};var b;n([l.enumeration.serializable()({pointCloudStretchRenderer:"point-cloud-stretch"})],a.prototype,"type",void 0);n([l.property({json:{write:!0},type:String})],a.prototype,"field",void 0);n([l.property({type:m.default,json:{write:!0}})],a.prototype,
"legendOptions",void 0);n([l.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],a.prototype,"fieldTransformType",void 0);n([l.property({type:[d.default],json:{write:!0}})],a.prototype,"stops",void 0);return a=b=n([l.subclass("esri.renderers.PointCloudStretchRenderer")],a)}(l.declared(g))})},"esri/renderers/support/pointCloud/StopInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(b,a,p,e,n,h,l,g,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.label=null;c.value=0;c.color=null;return c}p(c,a);d=c;c.prototype.clone=function(){return new d({label:this.label,value:this.value,color:l.clone(this.color)})};var d;e([g.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([g.property({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,"value",void 0);e([g.property({type:n,
json:{type:[m.Integer],write:!0}})],c.prototype,"color",void 0);return c=d=e([g.subclass("esri.renderers.support.pointCloud.StopInfo")],c)}(g.declared(h));a.StopInfo=b;a.default=b})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(b,a,p,e,n,h,l,g,m,d){return function(c){function a(a){a=c.call(this)||this;a.type="point-cloud-unique-value";a.field=null;a.fieldTransformType=null;a.colorUniqueValueInfos=null;a.legendOptions=null;return a}e(a,c);b=a;a.prototype.clone=function(){return new b(p({},this.cloneProperties(),{field:h.clone(this.field),fieldTransformType:h.clone(this.fieldTransformType),colorUniqueValueInfos:h.clone(this.colorUniqueValueInfos),legendOptions:h.clone(this.legendOptions)}))};var b;n([l.enumeration.serializable()({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],
a.prototype,"type",void 0);n([l.property({json:{write:!0},type:String})],a.prototype,"field",void 0);n([l.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],a.prototype,"fieldTransformType",void 0);n([l.property({type:[d.default],json:{write:!0}})],a.prototype,"colorUniqueValueInfos",void 0);n([l.property({type:m.default,json:{write:!0}})],a.prototype,"legendOptions",
void 0);return a=b=n([l.subclass("esri.renderers.PointCloudUniqueValueRenderer")],a)}(l.declared(g))})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(b,a,p,e,n,h,l,g,m){Object.defineProperty(a,"__esModule",{value:!0});
b=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c.description=null;c.label=null;c.values=null;c.color=null;return c}p(c,a);d=c;c.prototype.clone=function(){return new d({description:this.description,label:this.label,values:l.clone(this.values),color:l.clone(this.color)})};var d;e([g.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);e([g.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);e([g.property({type:[String],json:{write:!0}})],
c.prototype,"values",void 0);e([g.property({type:n,json:{type:[m.Integer],write:!0}})],c.prototype,"color",void 0);return c=d=e([g.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],c)}(g.declared(h));a.ColorUniqueValueInfo=b;a.default=b})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r){function u(c,a,d,b){2===c.length?(E[0]=c[0],E[1]=c[1],E[2]=0,c=E):c===d&&(l.vec3.copy(E,c),c=E);return z(c,a,0,d,b,0,1)}function z(c,a,d,b,f,k,q){void 0===q&&(q=1);a=G(a,f,V).projector;if(e.isNone(a))return!1;if(a===t){if(c===b&&d===k)return!0;for(a=d+3*q;d<a;d++,k++)b[k]=c[d];return!0}for(q=d+3*q;d<q;d+=3,k+=3)a(c,d,b,k);return!0}function C(c,d){if(d.spatialReference===c)return d.spatialReferenceId;d.spatialReference=c;"metersPerUnit"in d&&(d.metersPerUnit=
n.getMetersPerUnitForSR(c,1));return c.wkt===a.SphericalECEFSpatialReference.wkt?d.spatialReferenceId=1:c.isWGS84?d.spatialReferenceId=2:c.isWebMercator?d.spatialReferenceId=3:c.wkt===a.WGS84ECEFSpatialReference.wkt?d.spatialReferenceId=4:4490===c.wkid?d.spatialReferenceId=5:d.spatialReferenceId=0}function t(c,a,d,b){d[b++]=c[a++];d[b++]=c[a++];d[b]=c[a]}function D(c,a,d,b){d[b++]=S*(c[a++]/q.earthRadius);d[b++]=S*(Math.PI/2-2*Math.atan(Math.exp(-1*c[a++]/q.earthRadius)));d[b]=c[a]}function B(c,a,
d,b){var f=.4999999*Math.PI,f=p.clamp(T*c[a+1],-f,f),f=Math.sin(f);d[b++]=T*c[a]*q.earthRadius;d[b++]=q.halfEarthRadius*Math.log((1+f)/(1-f));d[b]=c[a+2]}function x(c,a,d){a=C(a,R);a=O[a][6];if(e.isNone(a))return!1;a(c,0,E,0);d!==E&&(d[0]=E[0],d[1]=E[1],2<d.length&&(d[2]=E[2]));return!0}function v(c,a){E[0]=c.x;E[1]=c.y;E[2]=c.hasZ?c.z:0;return x(E,c.spatialReference,a)}function A(c,a,d,b){var f=q.earthRadius+c[a+2],k=T*c[a+1];c=T*c[a];a=Math.cos(k);d[b++]=Math.cos(c)*a*f;d[b++]=Math.sin(c)*a*f;d[b]=
Math.sin(k)*f}function w(c,a,d,b){var f=r.Vec3Compact.length(c,a),e=k.asin(c[a+2]/(0===f?1:f)),m=Math.cos(e)*f;c=(0<c[a+1]?1:-1)*k.acos(c[a]/(0===m?1:m));d[b++]=S*c;d[b++]=S*e;d[b]=f-q.earthRadius}function y(c,a,d,b){var f=ca,k=T*c[a],q=T*c[a+1];c=c[a+2];a=Math.sin(q);var q=Math.cos(q),r=f.a/Math.sqrt(1-f.e2*a*a);d[b++]=(r+c)*q*Math.cos(k);d[b++]=(r+c)*q*Math.sin(k);d[b++]=(r*(1-f.e2)+c)*a}function I(c,a,d,b){var f=ca,k=c[a],q=c[a+1];c=c[a+2];var r,e,m,g,l,u;a=Math.abs(c);r=k*k+q*q;e=Math.sqrt(r);
m=r+c*c;g=Math.sqrt(m);k=Math.atan2(q,k);l=c*c/m;m=r/m;q=f.a2/g;r=f.a3-f.a4/g;.3<m?(l=a/g*(1+m*(f.a1+q+l*r)/g),g=Math.asin(l),q=l*l,m=Math.sqrt(1-q)):(m=e/g*(1-l*(f.a5-q-m*r)/g),g=Math.acos(m),q=1-m*m,l=Math.sqrt(q));u=1-f.e2*q;q=f.a/Math.sqrt(u);f=f.a6*q;q=e-q*m;r=a-f*l;a=m*q+l*r;e=m*r-l*q;f=e/(f/u+a);g+=f;0>c&&(g=-g);d[b++]=S*k;d[b++]=S*g;d[b]=a+e*f/2}function G(c,a,d){if(d.source.spatialReference===c&&d.dest.spatialReference===a)return d;var b=C(c,d.source),f=C(a,d.dest);0===b&&0===f?c.equals(a)?
d.projector=t:d.projector=null:d.projector=O[b][f];return d}Object.defineProperty(a,"__esModule",{value:!0});var H,F,K,L,J,M,P,Q;a.SphericalECEFSpatialReference=new d({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});a.WGS84ECEFSpatialReference=new d({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
a.canProject=function(c,a){return!!G(c,a,V).projector};a.vectorToVector=u;a.pointToPoint=function(c,a,d,b){void 0===d&&(d=a.spatialReference);void 0===b&&(b=0);E[0]=c.x;E[1]=c.y;var f=c.z;E[2]=void 0!==f?f:b;if(!z(E,c.spatialReference,0,E,d,0,1))return!1;a.x=E[0];a.y=E[1];a.spatialReference=d;void 0!==f?(a.z=E[2],a.hasZ=!0):(a.z=void 0,a.hasZ=!1);return!0};a.pointToVector=function(c,a,d,b){void 0===b&&(b=0);E[0]=c.x;E[1]=c.y;var f=c.z;E[2]=void 0!==f?f:b;return z(E,c.spatialReference,0,a,d,0,1)};
a.vectorToPoint=function(c,a,d,b){d instanceof m?b=b||d.spatialReference:f.isPoint(d)?(d.hasZ=!0,b=b||d.spatialReference):(b=d,d=new m({spatialReference:b}));return z(c,a,0,E,b,0,1)?(d.x=E[0],d.y=E[1],d.z=E[2],d.spatialReference=b,d):null};a.xyzToVector=function(c,a,d,b,f,k){E[0]=c;E[1]=a;E[2]=d;return z(E,b,0,f,k,0,1)};a.bufferToBuffer=z;a.computeLinearTransformation=function(c,a,d,b){var f=C(c,R),k=C(b,N);if(f===k&&1!==k&&(0!==f||c.equals(b)))return h.mat4.identity(d),h.mat4.translate(d,d,a),!0;
if(1===k){c=O[f][6];k=O[6][k];if(e.isNone(c)||e.isNone(k))return!1;c(a,0,U,0);k(U,0,W,0);c=T*U[0];k=T*U[1];a=Math.sin(c);c=Math.cos(c);b=Math.sin(k);k=Math.cos(k);d[0]=-a;d[4]=-b*c;d[8]=k*c;d[12]=W[0];d[1]=c;d[5]=-b*a;d[9]=k*a;d[13]=W[1];d[2]=0;d[6]=k;d[10]=b;d[14]=W[2];d[3]=0;d[7]=0;d[11]=0;d[15]=1;return!0}if(3===k&&(2===f||1===f)){c=O[f][6];k=O[6][3];if(e.isNone(c)||e.isNone(k))return!1;c(a,0,U,0);a=T*U[1];k(U,0,W,0);h.mat4.identity(d);h.mat4.translate(d,d,W);a=1/Math.cos(a);h.mat4.scale(d,d,[a,
a,1]);return!0}return!1};a.transformDirection=function(c,a,d,b,f){l.vec3.copy(Z,c);l.vec3.add(aa,c,a);u(Z,d,Z,f);u(aa,d,aa,f);l.vec3.subtract(b,aa,Z);l.vec3.normalize(b,b)};a.mbsToMbs=function(c,a,d,b){a=G(a,b,Y);if(a.projector===t)return d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],!0;if(e.isNone(a.projector))return!1;b=a.source;var f=a.dest;if(3===f.spatialReferenceId){a=O[b.spatialReferenceId][2];if(e.isNone(a))return!1;a(c,0,U,0);a=Math.abs(T*U[1])+Math.asin(c[3]/(q.earthRadius+c[2]));B(U,0,d,0);d[3]=
a>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(a)*c[3];return!0}a.projector(c,0,d,0);d[3]=c[3]*b.metersPerUnit/f.metersPerUnit;return!0};a.extentToBoundingBox=function(c,a,d){if(null==c)return!1;var b;E[0]=null!=c.xmin?c.xmin:0;E[1]=null!=c.ymin?c.ymin:0;E[2]=null!=c.zmin?c.zmin:0;b=z(E,c.spatialReference,0,a,d,0,1);E[0]=null!=c.xmax?c.xmax:0;E[1]=null!=c.ymax?c.ymax:0;E[2]=null!=c.zmax?c.zmax:0;b=b&&z(E,c.spatialReference,0,a,d,3,1);null==c.xmin&&(a[0]=-Infinity);null==c.ymin&&(a[1]=-Infinity);null==
c.zmin&&(a[2]=-Infinity);null==c.xmax&&(a[3]=Infinity);null==c.ymax&&(a[4]=Infinity);null==c.zmax&&(a[5]=Infinity);return b};a.extentToBoundingRect=function(c,a,d){if(null==c)return!1;var b;E[0]=null!=c.xmin?c.xmin:0;E[1]=null!=c.ymin?c.ymin:0;E[2]=null!=c.zmin?c.zmin:0;b=z(E,c.spatialReference,0,E,d,0,1);a[0]=E[0];a[1]=E[1];E[0]=null!=c.xmax?c.xmax:0;E[1]=null!=c.ymax?c.ymax:0;E[2]=null!=c.zmax?c.zmax:0;b=b&&z(E,c.spatialReference,0,E,d,0,1);a[2]=E[0];a[3]=E[1];null==c.xmin&&(a[0]=-Infinity);null==
c.ymin&&(a[1]=-Infinity);null==c.xmax&&(a[2]=Infinity);null==c.ymax&&(a[3]=Infinity);return b};a.boundingRectToBoundingRect=function(a,d,b,f){if(null==a)return!1;if(d.equals(f))return c.set(b,a),!0;var k;E[0]=a[0];E[1]=a[1];E[2]=0;k=z(E,d,0,E,f,0,1);b[0]=E[0];b[1]=E[1];E[0]=a[2];E[1]=a[3];E[2]=0;k=k&&z(E,d,0,E,f,0,1);b[2]=E[0];b[3]=E[1];return k};(function(c){c.x2lon=function(c){return c/q.earthRadius};c.y2lat=function(c){return Math.PI/2-2*Math.atan(Math.exp(-1*c/q.earthRadius))};c.lon2x=function(c){return c*
q.earthRadius};c.lat2y=function(c){c=Math.sin(c);return q.earthRadius/2*Math.log((1+c)/(1-c))}})(a.webMercator||(a.webMercator={}));a.canProjectToWGS84ComparableLonLat=function(c){c=C(c,R);return!!O[c][6]};a.vectorToWGS84ComparableLonLat=x;a.pointToWGS84ComparableLonLat=v;a.pointToWGS84ComparableLonLatPoint=function(c,a){var d=C(a.spatialReference,N);return e.isNone(O[6][d])?!1:v(c,E)?(a.x=E[0],a.y=E[1],a.z=E[2],!0):!1};a.wgs84ComparableLonLatToECEF=function(c,a,d,b){void 0===b&&(b=0);b=q.earthRadius+
b;var f=Math.cos(d);c[0]=Math.cos(a)*f*b;c[1]=Math.sin(a)*f*b;c[2]=Math.sin(d)*b};var O=(H={},H[2]=(F={},F[5]=null,F[6]=t,F[1]=A,F[0]=null,F[3]=B,F[2]=t,F[4]=y,F),H[5]=(K={},K[5]=t,K[6]=t,K[1]=A,K[0]=null,K[3]=null,K[2]=null,K[4]=y,K),H[3]=(L={},L[5]=null,L[6]=D,L[1]=function(c,a,d,b){D(c,a,d,b);A(d,b,d,b)},L[0]=null,L[3]=t,L[2]=D,L[4]=function(c,a,d,b){D(c,a,d,b);y(d,b,d,b)},L),H[4]=(J={},J[5]=I,J[6]=I,J[1]=function(c,a,d,b){I(c,a,d,b);A(d,b,d,b)},J[0]=null,J[3]=function(c,a,d,b){I(c,a,d,b);B(d,
b,d,b)},J[2]=I,J[4]=t,J),H[1]=(M={},M[5]=w,M[6]=w,M[1]=t,M[0]=null,M[3]=function(c,a,d,b){w(c,a,d,b);B(d,b,d,b)},M[2]=w,M[4]=function(c,a,d,b){w(c,a,d,b);y(d,b,d,b)},M),H[0]=(P={},P[5]=null,P[6]=null,P[1]=null,P[0]=t,P[3]=null,P[2]=null,P[4]=null,P),H[6]=(Q={},Q[5]=null,Q[6]=t,Q[1]=A,Q[0]=null,Q[3]=null,Q[2]=t,Q[4]=y,Q),H),R={spatialReference:null,spatialReferenceId:0},N={spatialReference:null,spatialReferenceId:0},V={source:{spatialReference:null,spatialReferenceId:0},dest:{spatialReference:null,
spatialReferenceId:0},projector:t},Y={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:t},T=k.deg2rad(1),S=k.rad2deg(1),ca={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},E=g.vec3f64.create(),U=g.vec3f64.create(),W=g.vec3f64.create(),Z=g.vec3f64.create(),aa=g.vec3f64.create()})},"esri/core/unitUtils":function(){define("require exports @dojo/framework/shim/Set ./compilerUtils ./jsonMap ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),
function(b,a,p,e,n,h,l){function g(c){if(c=v[c])return c;throw Error("unknown measure");}function m(c){return x[c].baseUnit}function d(c,a){void 0===a&&(a=null);a=a||g(c);return x[a].baseUnit===c}function c(c,a,b){if(a===b)return c;var f=g(a);if(f!==g(b))throw Error("incompatible units");c=d(a,f)?c:c*x[f].units[a].inBaseUnits;return d(b,f)?c:c/x[f].units[b].inBaseUnits}function f(c){return B.fromJSON(c.toLowerCase())||null}function q(c,a){void 0===a&&(a=u);return k(c,!0)||a}function k(c,a){void 0===
a&&(a=!1);var d,b,f;null!=c&&("object"===typeof c?(d=c.wkid,b=c.wkt):"number"===typeof c?d=c:"string"===typeof c&&(b=c));d?(f=t.values[t[d]],!f&&a&&D.has(d)&&(f=z)):b&&-1!==b.search(/^PROJCS/i)&&(c=C.exec(b))&&c[1]&&(f=parseFloat(c[1].split(",")[1]));return f}function r(c){var a,d,b;null!=c&&("object"===typeof c?(a=c.wkid,d=c.wkt):"number"===typeof c?a=c:"string"===typeof c&&(d=c));a?b=t.units[t[a]]:d&&-1!==d.search(/^PROJCS/i)&&(c=C.exec(d))&&c[1]&&(b=(c=/[\\"\\']{1}([^\\"\\']+)/.exec(c[1]))&&c[1]);
return b?f(b):null}Object.defineProperty(a,"__esModule",{value:!0});a.inchesPerMeter=39.37;var u=h.wgs84Radius*Math.PI/180,z=h.wgs84Radius*Math.PI/200,C=/UNIT\[([^\]]+)\]\]$/i,t=l,D=new p.default([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),B=n.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};p={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(c){return c*c}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},
hectares:{inBaseUnits:1E4}};var x={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:p},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=function(){var c={},a;for(a in x)for(var d in x[a].units)c[d]=a;return c}();a.measureForUnit=g;a.baseUnitForMeasure=m;a.baseUnitForUnit=function(c){return m(g(c))};a.isBaseUnit=d;a.convertUnit=c;a.preferredMetricLengthUnit=function(a,d){return 3E3>c(a,d,"meters")?"meters":"kilometers"};a.preferredMetricVerticalLengthUnit=function(a,d){return 1E5>c(a,d,"meters")?"meters":"kilometers"};a.preferredImperialLengthUnit=
function(a,d){return 1E3>c(a,d,"feet")?"feet":"miles"};a.preferredImperialVerticalLengthUnit=function(a,d){return 1E5>c(a,d,"feet")?"feet":"miles"};a.preferredMetricAreaUnit=function(a,d){return 3E6>c(a,d,"square-meters")?"square-meters":"square-kilometers"};a.preferredImperialAreaUnit=function(a,d){return 1E6>c(a,d,"square-feet")?"square-feet":"square-miles"};a.lengthToDegrees=function(a,d,b){void 0===b&&(b=h.wgs84Radius);return c(a,d,"meters")/(b*Math.PI/180)};a.unitFromRESTJSON=f;a.unitToRESTJSON=
function(c){return B.toJSON(c)||null};a.getMetersPerVerticalUnitForSR=function(c){c=q(c);return 1E5<c?1:c};a.getVerticalUnitStringForSR=function(c){return 1E5<q(c)?"meters":r(c)};a.getMetersPerUnitForSR=q;a.getMetersPerUnit=k;a.getUnitString=r;a.getDefaultUnitSystem=function(c){if(!c)return null;c=r(c);switch(c){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;default:e.neverReached(c)}return null}})},"@dojo/framework/shim/Set":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var p=
b("tslib"),e=b("./global"),n=b("./iterator"),h=b("../has/has");b("./Symbol");a.Set=e.default.Set;h.default("es6-set")||(a.Set=(l=function(){function a(a){this._setData=[];this[Symbol.toStringTag]="Set";if(a)if(n.isArrayLike(a))for(var d=0;d<a.length;d++)this.add(a[d]);else try{for(var d=p.__values(a),c=d.next();!c.done;c=d.next())this.add(c.value)}catch(k){b={error:k}}finally{try{c&&!c.done&&(q=d.return)&&q.call(d)}finally{if(b)throw b.error;}}var b,q}a.prototype.add=function(a){if(this.has(a))return this;
this._setData.push(a);return this};a.prototype.clear=function(){this._setData.length=0};a.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;this._setData.splice(a,1);return!0};a.prototype.entries=function(){return new n.ShimIterator(this._setData.map(function(a){return[a,a]}))};a.prototype.forEach=function(a,d){for(var c=this.values(),b=c.next();!b.done;)a.call(d,b.value,b.value,this),b=c.next()};a.prototype.has=function(a){return-1<this._setData.indexOf(a)};a.prototype.keys=
function(){return new n.ShimIterator(this._setData)};Object.defineProperty(a.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});a.prototype.values=function(){return new n.ShimIterator(this._setData)};a.prototype[Symbol.iterator]=function(){return new n.ShimIterator(this._setData)};return a}(),l[Symbol.species]=l,l));a.default=a.Set;var l})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(b,a,p){Object.defineProperty(a,"__esModule",
{value:!0});a.neverReached=function(a){};a.neverReachedSilent=function(a){};a.typeCast=function(a){return function(){return a}};a.tuple=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.wgs84Radius=6378137;a.wgs84InverseFlattening=298.257223563;a.wgs84Flattening=1/a.wgs84InverseFlattening;a.wgs84PolarRadius=a.wgs84Radius*(1-a.wgs84Flattening);
a.wgs84Eccentricity=.0818191908426215})},"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.mat4=p})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(b,a,p,e){function n(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function h(a,c,b){var d=
c[0],f=c[1],r=c[2],e=c[3],m=c[4],g=c[5],l=c[6],h=c[7],n=c[8],p=c[9],v=c[10],A=c[11],w=c[12],y=c[13],I=c[14];c=c[15];var G=b[0],H=b[1],F=b[2],K=b[3];a[0]=G*d+H*m+F*n+K*w;a[1]=G*f+H*g+F*p+K*y;a[2]=G*r+H*l+F*v+K*I;a[3]=G*e+H*h+F*A+K*c;G=b[4];H=b[5];F=b[6];K=b[7];a[4]=G*d+H*m+F*n+K*w;a[5]=G*f+H*g+F*p+K*y;a[6]=G*r+H*l+F*v+K*I;a[7]=G*e+H*h+F*A+K*c;G=b[8];H=b[9];F=b[10];K=b[11];a[8]=G*d+H*m+F*n+K*w;a[9]=G*f+H*g+F*p+K*y;a[10]=G*r+H*l+F*v+K*I;a[11]=G*e+H*h+F*A+K*c;G=b[12];H=b[13];F=b[14];K=b[15];a[12]=G*d+
H*m+F*n+K*w;a[13]=G*f+H*g+F*p+K*y;a[14]=G*r+H*l+F*v+K*I;a[15]=G*e+H*h+F*A+K*c;return a}function l(a,c,b){var d=c[0],f=c[1],r=c[2],e=c[3],m=d+d,g=f+f,l=r+r;c=d*m;var h=d*g,d=d*l,n=f*g,f=f*l,r=r*l,m=e*m,g=e*g,e=e*l;a[0]=1-(n+r);a[1]=h+e;a[2]=d-g;a[3]=0;a[4]=h-e;a[5]=1-(c+r);a[6]=f+m;a[7]=0;a[8]=d+g;a[9]=f-m;a[10]=1-(c+n);a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function g(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];a[3]=c[3]-b[3];a[4]=c[4]-b[4];a[5]=c[5]-b[5];a[6]=c[6]-b[6];
a[7]=c[7]-b[7];a[8]=c[8]-b[8];a[9]=c[9]-b[9];a[10]=c[10]-b[10];a[11]=c[11]-b[11];a[12]=c[12]-b[12];a[13]=c[13]-b[13];a[14]=c[14]-b[14];a[15]=c[15]-b[15];return a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};a.set=function(a,c,b,q,k,r,e,m,g,l,h,n,p,v,A,w,y){a[0]=c;a[1]=b;a[2]=q;a[3]=k;a[4]=r;a[5]=
e;a[6]=m;a[7]=g;a[8]=l;a[9]=h;a[10]=n;a[11]=p;a[12]=v;a[13]=A;a[14]=w;a[15]=y;return a};a.identity=n;a.transpose=function(a,c){if(a===c){var d=c[1],b=c[2],k=c[3],r=c[6],e=c[7],m=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=d;a[6]=c[9];a[7]=c[13];a[8]=b;a[9]=r;a[11]=c[14];a[12]=k;a[13]=e;a[14]=m}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a};a.invert=function(a,c){var d=
c[0],b=c[1],k=c[2],r=c[3],e=c[4],m=c[5],g=c[6],l=c[7],h=c[8],n=c[9],p=c[10],v=c[11],A=c[12],w=c[13],y=c[14];c=c[15];var I=d*m-b*e,G=d*g-k*e,H=d*l-r*e,F=b*g-k*m,K=b*l-r*m,L=k*l-r*g,J=h*w-n*A,M=h*y-p*A,P=h*c-v*A,Q=n*y-p*w,O=n*c-v*w,R=p*c-v*y,N=I*R-G*O+H*Q+F*P-K*M+L*J;if(!N)return null;N=1/N;a[0]=(m*R-g*O+l*Q)*N;a[1]=(k*O-b*R-r*Q)*N;a[2]=(w*L-y*K+c*F)*N;a[3]=(p*K-n*L-v*F)*N;a[4]=(g*P-e*R-l*M)*N;a[5]=(d*R-k*P+r*M)*N;a[6]=(y*H-A*L-c*G)*N;a[7]=(h*L-p*H+v*G)*N;a[8]=(e*O-m*P+l*J)*N;a[9]=(b*P-d*O-r*J)*N;a[10]=
(A*K-w*H+c*I)*N;a[11]=(n*H-h*K-v*I)*N;a[12]=(m*M-e*Q-g*J)*N;a[13]=(d*Q-b*M+k*J)*N;a[14]=(w*G-A*F-y*I)*N;a[15]=(h*F-n*G+p*I)*N;return a};a.adjoint=function(a,c){var d=c[0],b=c[1],k=c[2],r=c[3],e=c[4],m=c[5],g=c[6],l=c[7],h=c[8],n=c[9],p=c[10],v=c[11],A=c[12],w=c[13],y=c[14];c=c[15];a[0]=m*(p*c-v*y)-n*(g*c-l*y)+w*(g*v-l*p);a[1]=-(b*(p*c-v*y)-n*(k*c-r*y)+w*(k*v-r*p));a[2]=b*(g*c-l*y)-m*(k*c-r*y)+w*(k*l-r*g);a[3]=-(b*(g*v-l*p)-m*(k*v-r*p)+n*(k*l-r*g));a[4]=-(e*(p*c-v*y)-h*(g*c-l*y)+A*(g*v-l*p));a[5]=
d*(p*c-v*y)-h*(k*c-r*y)+A*(k*v-r*p);a[6]=-(d*(g*c-l*y)-e*(k*c-r*y)+A*(k*l-r*g));a[7]=d*(g*v-l*p)-e*(k*v-r*p)+h*(k*l-r*g);a[8]=e*(n*c-v*w)-h*(m*c-l*w)+A*(m*v-l*n);a[9]=-(d*(n*c-v*w)-h*(b*c-r*w)+A*(b*v-r*n));a[10]=d*(m*c-l*w)-e*(b*c-r*w)+A*(b*l-r*m);a[11]=-(d*(m*v-l*n)-e*(b*v-r*n)+h*(b*l-r*m));a[12]=-(e*(n*y-p*w)-h*(m*y-g*w)+A*(m*p-g*n));a[13]=d*(n*y-p*w)-h*(b*y-k*w)+A*(b*p-k*n);a[14]=-(d*(m*y-g*w)-e*(b*y-k*w)+A*(b*g-k*m));a[15]=d*(m*p-g*n)-e*(b*p-k*n)+h*(b*g-k*m);return a};a.determinant=function(a){var c=
a[0],d=a[1],b=a[2],k=a[3],r=a[4],e=a[5],m=a[6],g=a[7],l=a[8],h=a[9],n=a[10],p=a[11],v=a[12],A=a[13],w=a[14];a=a[15];return(c*e-d*r)*(n*a-p*w)-(c*m-b*r)*(h*a-p*A)+(c*g-k*r)*(h*w-n*A)+(d*m-b*e)*(l*a-p*v)-(d*g-k*e)*(l*w-n*v)+(b*g-k*m)*(l*A-h*v)};a.multiply=h;a.translate=function(a,c,b){var d=b[0],f=b[1];b=b[2];var r=void 0,e=void 0,m=void 0,g=void 0,l=void 0,h=void 0,n=void 0,p=void 0,v=void 0,A=void 0,w=void 0,y=void 0;c===a?(a[12]=c[0]*d+c[4]*f+c[8]*b+c[12],a[13]=c[1]*d+c[5]*f+c[9]*b+c[13],a[14]=c[2]*
d+c[6]*f+c[10]*b+c[14],a[15]=c[3]*d+c[7]*f+c[11]*b+c[15]):(r=c[0],e=c[1],m=c[2],g=c[3],l=c[4],h=c[5],n=c[6],p=c[7],v=c[8],A=c[9],w=c[10],y=c[11],a[0]=r,a[1]=e,a[2]=m,a[3]=g,a[4]=l,a[5]=h,a[6]=n,a[7]=p,a[8]=v,a[9]=A,a[10]=w,a[11]=y,a[12]=r*d+l*f+v*b+c[12],a[13]=e*d+h*f+A*b+c[13],a[14]=m*d+n*f+w*b+c[14],a[15]=g*d+p*f+y*b+c[15]);return a};a.scale=function(a,c,b){var d=b[0],f=b[1];b=b[2];a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=c[4]*f;a[5]=c[5]*f;a[6]=c[6]*f;a[7]=c[7]*f;a[8]=c[8]*b;a[9]=c[9]*
b;a[10]=c[10]*b;a[11]=c[11]*b;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};a.rotate=function(a,c,b,q){var d=q[0],f=q[1];q=q[2];var m=Math.sqrt(d*d+f*f+q*q),g=void 0,l=void 0,h=void 0,n=void 0,p=void 0,x=void 0,v=void 0,A=void 0,w=void 0,y=void 0,I=void 0,G=void 0,H=void 0,F=void 0,K=void 0,L=void 0,J=void 0,M=void 0,P=void 0,Q=void 0,O=void 0,R=void 0,l=g=void 0;if(m<e.EPSILON)return null;m=1/m;d*=m;f*=m;q*=m;g=Math.sin(b);l=Math.cos(b);h=1-l;n=c[0];p=c[1];x=c[2];v=c[3];A=c[4];w=c[5];
y=c[6];I=c[7];G=c[8];H=c[9];F=c[10];K=c[11];L=d*d*h+l;J=f*d*h+q*g;M=q*d*h-f*g;P=d*f*h-q*g;Q=f*f*h+l;O=q*f*h+d*g;R=d*q*h+f*g;g=f*q*h-d*g;l=q*q*h+l;a[0]=n*L+A*J+G*M;a[1]=p*L+w*J+H*M;a[2]=x*L+y*J+F*M;a[3]=v*L+I*J+K*M;a[4]=n*P+A*Q+G*O;a[5]=p*P+w*Q+H*O;a[6]=x*P+y*Q+F*O;a[7]=v*P+I*Q+K*O;a[8]=n*R+A*g+G*l;a[9]=p*R+w*g+H*l;a[10]=x*R+y*g+F*l;a[11]=v*R+I*g+K*l;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};a.rotateX=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[4],r=c[5],e=c[6],
m=c[7],g=c[8],l=c[9],h=c[10],n=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=f*b+g*d;a[5]=r*b+l*d;a[6]=e*b+h*d;a[7]=m*b+n*d;a[8]=g*b-f*d;a[9]=l*b-r*d;a[10]=h*b-e*d;a[11]=n*b-m*d;return a};a.rotateY=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[0],r=c[1],e=c[2],m=c[3],g=c[8],l=c[9],h=c[10],n=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=f*b-g*d;a[1]=r*b-l*d;a[2]=e*b-
h*d;a[3]=m*b-n*d;a[8]=f*d+g*b;a[9]=r*d+l*b;a[10]=e*d+h*b;a[11]=m*d+n*b;return a};a.rotateZ=function(a,c,b){var d=Math.sin(b);b=Math.cos(b);var f=c[0],r=c[1],e=c[2],m=c[3],g=c[4],l=c[5],h=c[6],n=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=f*b+g*d;a[1]=r*b+l*d;a[2]=e*b+h*d;a[3]=m*b+n*d;a[4]=g*b-f*d;a[5]=l*b-r*d;a[6]=h*b-e*d;a[7]=n*b-m*d;return a};a.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;
a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};a.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotation=function(a,c,b){var d=b[0],f=b[1];b=b[2];var r=Math.sqrt(d*d+f*f+b*b),m=void 0,g=void 0,l=void 0;if(r<e.EPSILON)return null;r=1/r;d*=r;f*=r;b*=r;m=Math.sin(c);g=Math.cos(c);l=1-g;a[0]=d*d*l+g;a[1]=f*d*l+b*m;a[2]=b*d*l-f*m;a[3]=0;a[4]=d*f*l-
b*m;a[5]=f*f*l+g;a[6]=b*f*l+d*m;a[7]=0;a[8]=d*b*l+f*m;a[9]=f*b*l-d*m;a[10]=b*b*l+g;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromXRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=b;a[7]=0;a[8]=0;a[9]=-b;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromYRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-b;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=b;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=
1;return a};a.fromZRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=b;a[2]=0;a[3]=0;a[4]=-b;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotationTranslation=l;a.fromQuat2=function(a,c){var b=m,d=-c[0],k=-c[1],r=-c[2],e=c[3],g=c[4],h=c[5],t=c[6],n=c[7],p=d*d+k*k+r*r+e*e;0<p?(b[0]=2*(g*e+n*d+h*r-t*k)/p,b[1]=2*(h*e+n*k+t*d-g*r)/p,b[2]=2*(t*e+n*r+g*k-h*d)/p):(b[0]=2*(g*e+n*d+h*r-t*k),b[1]=2*(h*e+n*k+t*d-g*r),b[2]=2*(t*e+n*r+g*k-h*
d));l(a,c,b);return a};var m=p.create();a.getTranslation=function(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a};a.getScaling=function(a,c){var b=c[0],d=c[1],k=c[2],r=c[4],e=c[5],m=c[6],g=c[8],l=c[9];c=c[10];a[0]=Math.sqrt(b*b+d*d+k*k);a[1]=Math.sqrt(r*r+e*e+m*m);a[2]=Math.sqrt(g*g+l*l+c*c);return a};a.getRotation=function(a,c){var b=c[0]+c[5]+c[10],d=0;0<b?(d=2*Math.sqrt(b+1),a[3]=.25*d,a[0]=(c[6]-c[9])/d,a[1]=(c[8]-c[2])/d,a[2]=(c[1]-c[4])/d):c[0]>c[5]&&c[0]>c[10]?(d=2*Math.sqrt(1+c[0]-c[5]-c[10]),
a[3]=(c[6]-c[9])/d,a[0]=.25*d,a[1]=(c[1]+c[4])/d,a[2]=(c[8]+c[2])/d):c[5]>c[10]?(d=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/d,a[0]=(c[1]+c[4])/d,a[1]=.25*d,a[2]=(c[6]+c[9])/d):(d=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/d,a[0]=(c[8]+c[2])/d,a[1]=(c[6]+c[9])/d,a[2]=.25*d);return a};a.fromRotationTranslationScale=function(a,c,b,e){var d=c[0],f=c[1],q=c[2],m=c[3],g=d+d,l=f+f,h=q+q;c=d*g;var n=d*l,d=d*h,p=f*l,f=f*h,q=q*h,g=m*g,l=m*l,m=m*h,h=e[0],v=e[1];e=e[2];a[0]=(1-(p+q))*h;a[1]=(n+m)*
h;a[2]=(d-l)*h;a[3]=0;a[4]=(n-m)*v;a[5]=(1-(c+q))*v;a[6]=(f+g)*v;a[7]=0;a[8]=(d+l)*e;a[9]=(f-g)*e;a[10]=(1-(c+p))*e;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};a.fromRotationTranslationScaleOrigin=function(a,c,b,e,k){var d=c[0],f=c[1],q=c[2],m=c[3],g=d+d,l=f+f,h=q+q;c=d*g;var n=d*l,p=d*h,d=f*l,f=f*h,A=q*h,q=m*g,l=m*l,w=m*h,y=e[0],I=e[1],h=e[2];e=k[0];m=k[1];k=k[2];var g=(1-(d+A))*y,G=(n+w)*y,y=(p-l)*y,n=(n-w)*I,A=(1-(c+A))*I,I=(f+q)*I,p=(p+l)*h,f=(f-q)*h;c=(1-(c+d))*h;a[0]=g;a[1]=G;
a[2]=y;a[3]=0;a[4]=n;a[5]=A;a[6]=I;a[7]=0;a[8]=p;a[9]=f;a[10]=c;a[11]=0;a[12]=b[0]+e-(g*e+n*m+p*k);a[13]=b[1]+m-(G*e+A*m+f*k);a[14]=b[2]+k-(y*e+I*m+c*k);a[15]=1;return a};a.fromQuat=function(a,c){var b=c[0],d=c[1],k=c[2];c=c[3];var r=b+b,e=d+d,m=k+k,b=b*r,g=d*r,d=d*e,l=k*r,h=k*e,k=k*m,r=c*r,e=c*e;c*=m;a[0]=1-d-k;a[1]=g+c;a[2]=l-e;a[3]=0;a[4]=g-c;a[5]=1-b-k;a[6]=h+r;a[7]=0;a[8]=l+e;a[9]=h-r;a[10]=1-b-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.frustum=function(a,c,b,e,k,r,m){var d=1/(b-c),
f=1/(k-e),q=1/(r-m);a[0]=2*r*d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*r*f;a[6]=0;a[7]=0;a[8]=(b+c)*d;a[9]=(k+e)*f;a[10]=(m+r)*q;a[11]=-1;a[12]=0;a[13]=0;a[14]=m*r*2*q;a[15]=0;return a};a.perspective=function(a,c,b,e,k){c=1/Math.tan(c/2);var d=void 0;a[0]=c/b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=k&&Infinity!==k?(d=1/(e-k),a[10]=(k+e)*d,a[14]=2*k*e*d):(a[10]=-1,a[14]=-2*e);return a};a.perspectiveFromFieldOfView=function(a,c,b,e){var d=Math.tan(c.upDegrees*
Math.PI/180),f=Math.tan(c.downDegrees*Math.PI/180),q=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);var m=2/(q+c),g=2/(d+f);a[0]=m;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=g;a[6]=0;a[7]=0;a[8]=-((q-c)*m*.5);a[9]=(d-f)*g*.5;a[10]=e/(b-e);a[11]=-1;a[12]=0;a[13]=0;a[14]=e*b/(b-e);a[15]=0;return a};a.ortho=function(a,c,b,e,k,r,m){var d=1/(c-b),f=1/(e-k),q=1/(r-m);a[0]=-2*d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*f;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*q;a[11]=0;a[12]=(c+b)*d;a[13]=(k+e)*
f;a[14]=(m+r)*q;a[15]=1;return a};a.lookAt=function(a,c,b,q){var d=void 0,f=void 0,m=void 0,g=void 0,l=void 0,h=void 0,p=void 0,B=void 0,x=void 0,v=void 0,A=c[0],w=c[1];c=c[2];m=q[0];g=q[1];q=q[2];p=b[0];B=b[1];b=b[2];if(Math.abs(A-p)<e.EPSILON&&Math.abs(w-B)<e.EPSILON&&Math.abs(c-b)<e.EPSILON)return n(a);p=A-p;B=w-B;x=c-b;v=1/Math.sqrt(p*p+B*B+x*x);p*=v;B*=v;x*=v;d=g*x-q*B;f=q*p-m*x;m=m*B-g*p;(v=Math.sqrt(d*d+f*f+m*m))?(v=1/v,d*=v,f*=v,m*=v):m=f=d=0;g=B*m-x*f;l=x*d-p*m;h=p*f-B*d;(v=Math.sqrt(g*g+
l*l+h*h))?(v=1/v,g*=v,l*=v,h*=v):h=l=g=0;a[0]=d;a[1]=g;a[2]=p;a[3]=0;a[4]=f;a[5]=l;a[6]=B;a[7]=0;a[8]=m;a[9]=h;a[10]=x;a[11]=0;a[12]=-(d*A+f*w+m*c);a[13]=-(g*A+l*w+h*c);a[14]=-(p*A+B*w+x*c);a[15]=1;return a};a.targetTo=function(a,c,b,e){var d=c[0],f=c[1];c=c[2];var q=e[0],m=e[1],g=e[2];e=d-b[0];var l=f-b[1];b=c-b[2];var h=e*e+l*l+b*b;0<h&&(h=1/Math.sqrt(h),e*=h,l*=h,b*=h);var n=m*b-g*l,g=g*e-q*b,q=q*l-m*e,h=n*n+g*g+q*q;0<h&&(h=1/Math.sqrt(h),n*=h,g*=h,q*=h);a[0]=n;a[1]=g;a[2]=q;a[3]=0;a[4]=l*q-b*
g;a[5]=b*n-e*q;a[6]=e*g-l*n;a[7]=0;a[8]=e;a[9]=l;a[10]=b;a[11]=0;a[12]=d;a[13]=f;a[14]=c;a[15]=1;return a};a.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],
2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};a.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];a[3]=c[3]+b[3];a[4]=c[4]+b[4];a[5]=c[5]+b[5];a[6]=c[6]+b[6];a[7]=c[7]+b[7];a[8]=c[8]+b[8];a[9]=c[9]+b[9];a[10]=c[10]+b[10];a[11]=c[11]+b[11];a[12]=c[12]+b[12];a[13]=c[13]+b[13];a[14]=c[14]+b[14];a[15]=c[15]+b[15];return a};a.subtract=g;a.multiplyScalar=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;a[3]=c[3]*b;a[4]=
c[4]*b;a[5]=c[5]*b;a[6]=c[6]*b;a[7]=c[7]*b;a[8]=c[8]*b;a[9]=c[9]*b;a[10]=c[10]*b;a[11]=c[11]*b;a[12]=c[12]*b;a[13]=c[13]*b;a[14]=c[14]*b;a[15]=c[15]*b;return a};a.multiplyScalarAndAdd=function(a,c,b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;a[3]=c[3]+b[3]*e;a[4]=c[4]+b[4]*e;a[5]=c[5]+b[5]*e;a[6]=c[6]+b[6]*e;a[7]=c[7]+b[7]*e;a[8]=c[8]+b[8]*e;a[9]=c[9]+b[9]*e;a[10]=c[10]+b[10]*e;a[11]=c[11]+b[11]*e;a[12]=c[12]+b[12]*e;a[13]=c[13]+b[13]*e;a[14]=c[14]+b[14]*e;a[15]=c[15]+b[15]*e;return a};
a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]};a.equals=function(a,c){var b=a[0],d=a[1],k=a[2],r=a[3],m=a[4],g=a[5],l=a[6],h=a[7],n=a[8],p=a[9],x=a[10],v=a[11],A=a[12],w=a[13],y=a[14];a=a[15];var I=c[0],G=c[1],H=c[2],F=c[3],K=c[4],L=c[5],J=c[6],M=c[7],P=c[8],Q=c[9],O=c[10],R=c[11],N=c[12],V=c[13],
Y=c[14];c=c[15];return Math.abs(b-I)<=e.EPSILON*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(d-G)<=e.EPSILON*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(k-H)<=e.EPSILON*Math.max(1,Math.abs(k),Math.abs(H))&&Math.abs(r-F)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(F))&&Math.abs(m-K)<=e.EPSILON*Math.max(1,Math.abs(m),Math.abs(K))&&Math.abs(g-L)<=e.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(l-J)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(J))&&Math.abs(h-M)<=e.EPSILON*Math.max(1,Math.abs(h),
Math.abs(M))&&Math.abs(n-P)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(p-Q)<=e.EPSILON*Math.max(1,Math.abs(p),Math.abs(Q))&&Math.abs(x-O)<=e.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(v-R)<=e.EPSILON*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(A-N)<=e.EPSILON*Math.max(1,Math.abs(A),Math.abs(N))&&Math.abs(w-V)<=e.EPSILON*Math.max(1,Math.abs(w),Math.abs(V))&&Math.abs(y-Y)<=e.EPSILON*Math.max(1,Math.abs(y),Math.abs(Y))&&Math.abs(a-c)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};
a.mul=h;a.sub=g})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f64=p})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){function q(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var k=[0,0],r=n.getLogger("esri.geometry.Point");b=function(a){function b(c,b,d,f,k){c=a.call(this)||this;c.x=0;c.y=0;c.z=void 0;c.m=void 0;c.type="point";return c}p(b,a);g=b;b.copy=function(a,c){c._set("x",a._get("x"));c._set("y",a._get("y"));c._set("z",a._get("z"));c._set("m",a._get("m"));a=a._get("spatialReference");c._set("spatialReference",Object.isFrozen(a)?a:a.clone())};
b.distance=function(a,c){var b=a.x-c.x,d=a.y-c.y;a=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,c,b,d,e){var g;if(Array.isArray(a))g=a,e=c,a=g[0],c=g[1],b=g[2],d=g[3];else if(a&&"object"===typeof a){if(g=a,a=null!=g.x?g.x:g.longitude,c=null!=g.y?g.y:g.latitude,b=null!=g.z?g.z:g.altitude,d=g.m,(e=g.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new m(e)),null!=g.longitude||null!=g.latitude)null==g.longitude?r.warn(".longitude\x3d",
"Latitude was defined without longitude"):null==g.latitude?r.warn(".latitude\x3d","Longitude was defined without latitude"):!g.declaredClass&&e&&e.isWebMercator&&(c=f.lngLatToXY(g.longitude,g.latitude,k),a=c[0],c=c[1])}else q(b)?(e=b,b=null):q(d)&&(e=d,d=null);a={x:a,y:c};null==a.x&&null!=a.y?r.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&r.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=e);null!=b&&(a.z=b);null!=
d&&(a.m=d);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return f.xyToLngLat(this.x,this.y,k)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("y",f.lngLatToXY(this.x,a,k)[1]):c.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return f.xyToLngLat(this._get("x"),this._get("y"),k)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",f.lngLatToXY(a,this._get("y"),k)[0]):c.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,c,b){c[b]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new g;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};b.prototype.copy=function(a){g.copy(a,this);return this};b.prototype.equals=function(a){var c;if(!a)return!1;var b=this.x,d=this.y,k=this.z,e=this.m,r=this.spatialReference,q=a.z,m=a.m,g=a.x;c=a.y;a=a.spatialReference;if(!r.equals(a))if(r.isWebMercator&&a.isWGS84)c=f.lngLatToXY(g,c),g=c[0],c=c[1],a=r;else if(r.isWGS84&&a.isWebMercator)c=f.xyToLngLat(g,c),g=c[0],c=c[1],a=r;else return!1;return b===g&&d===c&&k===q&&e===m&&r.wkid===a.wkid};b.prototype.offset=function(a,c,b){return d.offsetPoint(this,
a,c,b)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=c.getInfo(this.spatialReference);if(!a)return this;var b=this.x,d=a.valid,a=d[0],f=d[1],d=2*f;b>f?(a=Math.ceil(Math.abs(b-f)/d),b-=a*d):b<a&&(a=Math.ceil(Math.abs(b-a)/d),b+=a*d);this._set("x",b);return this};b.prototype.distance=function(a){return g.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,c=this.hasM;return a&&c?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:
[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var g;e([h.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);e([h.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([h.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([h.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);
e([h.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);e([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),h.cast(function(a){return isNaN(a)?a:l.ensureNumber(a)})],b.prototype,"x",void 0);e([h.writer("x")],b.prototype,"writeX",null);e([h.reader("x")],b.prototype,"readX",null);e([h.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"z",void 0);e([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=g=e([h.subclass("esri.geometry.Point")],b)}(h.declared(g));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(b,a,p,e,n,
h,l){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=l.WGS84;return b}p(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,c){if(a instanceof l)return a;if(null!=a){var b=new l;b.read(a,c);return b}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=
function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,c){this.cache[a]=c};e([h.property()],b.prototype,"type",void 0);e([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);e([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);e([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);e([h.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);e([h.property({type:l,json:{write:!0}})],b.prototype,"spatialReference",void 0);e([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=e([h.subclass("esri.geometry.Geometry")],b)}(h.declared(n))})},"esri/geometry/support/offset":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.offsetPoint=function(a,b,n,h){a.x+=b;a.y+=n;null!=
h&&null!=a.z&&(a.z+=h);return a};a.offsetCoordsX=function(a,b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(b,a,p,e,n,h){function l(a,c,b,d,f){var e;if("x"in a&&"x"in f)c=c(a.x,a.y,q,d),f.x=c[0],f.y=c[1];else if("xmin"in a&&"xmin"in f)e=c(a.xmin,a.ymin,q,d),f.xmin=e[0],f.ymin=e[1],c=c(a.xmax,a.ymax,q,d),f.xmax=c[0],f.ymax=c[1];else if("paths"in
a&&"paths"in f||"rings"in a&&"rings"in f){e="paths"in a?a.paths:a.rings;var k=[],r=void 0;for(a=0;a<e.length;a++){var g=e[a],r=[];k.push(r);for(var m=0;m<g.length;m++)r.push(c(g[m][0],g[m][1],[0,0],d)),2<g[m].length&&r[m].push(g[m][2]),3<g[m].length&&r[m].push(g[m][3])}"paths"in f?f.paths=k:f.rings=k}else if("points"in a&&"points"in f){e=a.points;k=[];for(a=0;a<e.length;a++)k[a]=c(e[a][0],e[a][1],[0,0],d),2<e[a].length&&k[a].push(e[a][2]),3<e[a].length&&k[a].push(e[a][3]);f.points=k}else if("type"in
a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(e=a.vertexAttributes&&a.vertexAttributes.position,k=f.vertexAttributes&&f.vertexAttributes.position,e))for(r=[0,0],a=0;a<e.length;a+=3)c(e[a],e[a+1],r,d),k[a]=r[0],k[a+1]=r[1];f.spatialReference=b;return f}function g(a,c){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return a&&c?h.equals(c,a)?!0:h.isWebMercator(c)&&h.isWGS84(a)||h.isWebMercator(a)&&h.isWGS84(c):!1}function m(a,b,d){void 0===
d&&(d=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;d[0]=.017453292519943*a*c;d[1]=f*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return d}function d(a,b,d,f){void 0===d&&(d=[0,0]);void 0===f&&(f=!1);a=a/c*57.29577951308232;d[0]=f?a:a-360*Math.floor((a+180)/360);d[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/c)));return d}Object.defineProperty(a,"__esModule",{value:!0});var c=e.wgs84Radius,f=c/2,q=[0,0];a.canProject=g;a.project=function(a,c){var b=a&&a.spatialReference;
c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return g(b,c)?h.equals(b,c)?p.clone(a):h.isWebMercator(c)?l(a,m,n.WebMercator,!1,p.clone(a)):h.isWGS84(c)?l(a,d,n.WGS84,!1,p.clone(a)):null:null};a.lngLatToXY=m;a.xyToLngLat=d;a.geographicToWebMercator=function(a,c,b){void 0===c&&(c=!1);void 0===b&&(b=p.clone(a));return l(a,m,n.WebMercator,c,b)};a.webMercatorToGeographic=function(a,c,b){void 0===c&&(c=!1);void 0===b&&(b=p.clone(a));return l(a,d,n.WGS84,c,b)}})},"esri/geometry/support/aaBoundingRect":function(){define(["require",
"exports","../../core/compilerUtils","../Extent"],function(b,a,p,e){function n(c){void 0===c&&(c=a.ZERO);return[c[0],c[1],c[2],c[3]]}function h(a){return a[0]>=a[2]?0:a[2]-a[0]}function l(a){return a[1]>=a[3]?0:a[3]-a[1]}function g(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function m(a){return 4===a.length}function d(a,b,d){return a<b?b:a>d?d:a}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,d,e,r){void 0===
r&&(r=n());r[0]=a;r[1]=b;r[2]=d;r[3]=e;return r};a.fromExtent=function(a,b){void 0===b&&(b=n());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};a.toExtent=function(a,b){return new e({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};a.expand=function(a,b,d){void 0===d&&(d=a);if("length"in b)if(m(b))d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=
Math.max(a[2],b[2]),d[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[0]),d[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":d[0]=Math.min(a[0],b.xmin);d[1]=Math.min(a[1],b.ymin);d[2]=Math.max(a[2],b.xmax);d[3]=Math.max(a[3],b.ymax);break;case "point":d[0]=Math.min(a[0],b.x);d[1]=Math.min(a[1],b.y);d[2]=Math.max(a[2],b.x);d[3]=Math.max(a[3],b.y);break;default:p.neverReached(b)}return d};a.expandWithNestedArray=
function(a,b,d){void 0===d&&(d=a);var c=b.length,f=a[0],e=a[1],q=a[2];a=a[3];for(var g=0;g<c;g++){var m=b[g],f=Math.min(f,m[0]),e=Math.min(e,m[1]),q=Math.max(q,m[0]);a=Math.max(a,m[1])}d[0]=f;d[1]=e;d[2]=q;d[3]=a;return d};a.allFinite=function(a){for(var c=0;4>c;c++)if(!isFinite(a[c]))return!1;return!0};a.width=h;a.height=l;a.diameter=function(a){var c=h(a);a=l(a);return Math.sqrt(c*c+a*a)};a.area=function(a){return h(a)*l(a)};a.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+
l(a)/2;return b};a.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};a.containsPointWithMargin=function(a,b,d){return b[0]>=a[0]-d&&b[1]>=a[1]-d&&b[0]<=a[2]+d&&b[1]<=a[3]+d};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};a.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};a.intersection=function(a,b,e){void 0===e&&(e=a);var c=b[0],f=b[1],q=b[2];b=b[3];e[0]=d(a[0],c,q);
e[1]=d(a[1],f,b);e[2]=d(a[2],c,q);e[3]=d(a[3],f,b);return e};a.distance=function(a,b){var c=(a[1]+a[3])/2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-h(a)/2,0);a=Math.max(Math.abs(b[1]-c)-l(a)/2,0);return Math.sqrt(d*d+a*a)};a.size=function(a,b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};a.offset=function(a,b,d,e){void 0===e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+d;e[2]=a[2]+b;e[3]=a[3]+d;return e};a.pad=function(a,b,d){void 0===d&&(d=a);d[0]=a[0]-b;d[1]=a[1]-b;d[2]=a[2]+b;d[3]=a[3]+b;return d};a.setMin=function(a,b,d){void 0===
d&&(d=a);d[0]=b[0];d[1]=b[1];d!==a&&(d[2]=a[2],d[3]=a[3]);return d};a.setMax=function(a,b,d){void 0===d&&(d=a);d[2]=b[0];d[3]=b[1];d!==a&&(d[0]=a[0],d[1]=a[1]);return a};a.set=g;a.empty=function(c){return c?g(c,a.NEGATIVE_INFINITY):n(a.NEGATIVE_INFINITY)};a.is=m;a.isPoint=function(a){return(0===h(a)||!isFinite(a[0]))&&(0===l(a)||!isFinite(a[1]))};a.equals=function(a,b,d){if(null==a||null==b)return a===b;if(!m(a)||!m(b))return!1;if(d)for(var c=0;c<a.length;c++){if(!d(a[c],b[c]))return!1}else for(c=
0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0];a.UNIT=[0,0,1,1]})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k){function r(a,c,b){return null==c?b:null==b?c:a(c,b)}b=function(a){function b(){for(var c=0;c<arguments.length;c++);c=a.call(this)||this;c.type="extent";c.xmin=0;c.ymin=0;c.mmin=void 0;c.zmin=void 0;c.xmax=0;c.ymax=0;c.mmax=void 0;c.zmax=void 0;return c}p(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,c,b,f,e){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?d.WGS84:a.spatialReference,
a):{xmin:a,ymin:c,xmax:b,ymax:f,spatialReference:null==e?d.WGS84:e}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,c){return new g({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new m({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var c=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-c.x,a.y-c.y,a.z-c.z):this.offset(a.x-c.x,a.y-c.y)};b.prototype.clone=function(){var a=new g;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=
this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&k.canProject(b,d)&&(a=b.isWebMercator?k.geographicToWebMercator(a):k.webMercatorToGeographic(a,!0));return"point"===a.type?c.extentContainsPoint(this,a):"extent"===a.type?c.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&k.canProject(c,b)&&(a=c.isWebMercator?
k.geographicToWebMercator(a):k.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var c=this.width*a,b=this.height*a;this.xmin+=c;this.ymin+=b;this.xmax-=c;this.ymax-=b;this.hasZ&&(c=(this.zmax-this.zmin)*a,this.zmin+=c,this.zmax-=c);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=
function(a){if(n.isNone(a))return!1;var c=this.spatialReference,b=a.spatialReference;c&&b&&!c.equals(b)&&k.canProject(c,b)&&(a=c.isWebMercator?k.geographicToWebMercator(a):k.webMercatorToGeographic(a,!0));c=f.getExtentIntersector(a.type);return"mesh"!==a.type?c(this,a):c(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,c,b){this.xmin+=a;this.ymin+=c;this.xmax+=a;this.ymax+=c;null!=b&&(this.zmin+=b,this.zmax+=
b);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=r(Math.min,this.zmin,a.zmin),this.zmax=r(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=r(Math.min,this.mmin,a.mmin),this.mmax=r(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=
function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=r(Math.max,this.zmin,a.zmin),this.zmax=r(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=r(Math.max,this.mmin,a.mmin),this.mmax=r(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===
a&&(a=q.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var c=this.spatialReference,b=this._getCM(a);if(b){var f=c.isWebMercator?k.webMercatorToGeographic(b):b;this.xmin-=b.x;this.xmax-=b.x;c.isWebMercator||(f.x=this._normalizeX(f.x,a).x);this.spatialReference=new d(h.replace(c.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:f.x}))}return this};b.prototype._getCM=function(a){var c=null,b=a.valid;a=b[0];var b=b[1],d=this.xmin,f=this.xmax;d>=a&&d<=b&&f>=a&&f<=b||(c=this.center);
return c};b.prototype._normalize=function(a,c,b){var d=this.spatialReference;if(!d)return this;b=b||q.getInfo(d);if(!b)return this;var f=this._getParts(b).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(b):this.set({xmin:b.valid[0],xmax:b.valid[1]});if(a)return this._shiftCM(b);if(c)return f;var e=!0,k=!0;f.forEach(function(a){a.hasZ||(e=!1);a.hasM||(k=!1)});return{rings:f.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],
[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e)for(var b=(a.zmax-a.zmin)/2,d=0;d<c.length;d++)c[d].push(b);if(k)for(a=(a.mmax-a.mmin)/2,d=0;d<c.length;d++)c[d].push(a);return c}),hasZ:e,hasM:k,spatialReference:d}};b.prototype._getParts=function(a){var c=this.cache._parts;if(!c){var c=[],b=this.ymin,d=this.ymax,f=this.spatialReference,e=this.width,k=this.xmin,r=this.xmax,m=void 0;a=a||q.getInfo(f);var l=a.valid,h=l[0],u=l[1],m=this._normalizeX(this.xmin,a),n=m.x,l=m.frameId,m=this._normalizeX(this.xmax,a),
p=m.x;a=m.frameId;m=n===p&&0<e;if(e>2*u){e=new g(k<r?n:p,b,u,d,f);k=new g(h,b,k<r?p:n,d,f);r=new g(0,b,u,d,f);b=new g(h,b,0,d,f);d=[];f=[];e.contains(r)&&d.push(l);e.contains(b)&&f.push(l);k.contains(r)&&d.push(a);k.contains(b)&&f.push(a);for(h=l+1;h<a;h++)d.push(h),f.push(h);c.push({extent:e,frameIds:[l]},{extent:k,frameIds:[a]},{extent:r,frameIds:d},{extent:b,frameIds:f})}else n>p||m?c.push({extent:new g(n,b,u,d,f),frameIds:[l]},{extent:new g(h,b,p,d,f),frameIds:[a]}):c.push({extent:new g(n,b,p,
d,f),frameIds:[l]});this.cache._parts=c}a=this.hasZ;b=this.hasM;if(a||b)for(l={},a&&(l.zmin=this.zmin,l.zmax=this.zmax),b&&(l.mmin=this.mmin,l.mmax=this.mmax),a=0;a<c.length;a++)c[a].extent.set(l);return c};b.prototype._normalizeX=function(a,c){var b=c.valid;c=b[0];var d=b[1],b=2*d,f=0;a>d?(c=Math.ceil(Math.abs(a-d)/b),a-=c*b,f=c):a<c&&(c=Math.ceil(Math.abs(a-c)/b),a+=c*b,f=-c);return{x:a,frameId:f}};var g;e([l.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
b.prototype,"cache",void 0);e([l.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);e([l.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);e([l.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);e([l.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);e([l.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,
"height",null);e([l.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);e([l.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);e([l.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);e([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);e([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);e([l.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);e([l.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);e([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);e([l.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"zmax",void 0);return b=g=e([l.subclass("esri.geometry.Extent")],b)}(l.declared(g));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/contains":function(){define(["require","exports"],function(b,a){function p(a,b){return e(a,b[0],b[1])}function e(a,b,d,c){return b>=a.xmin&&b<=a.xmax&&d>=a.ymin&&d<=a.ymax?null!=c&&a.hasZ?c>=a.zmin&&c<=a.zmax:!0:!1}function n(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var d=!1,c=0,f=a.length;c<f;c++)d=h(d,a[c],b);b=d}else b=
h(!1,a,b);else b=!1;return b}function h(a,b,d){var c=d[0];d=d[1];for(var f=0,e=0,k=b.length;e<k;e++){f++;f===k&&(f=0);var r=b[e],g=r[0],r=r[1],m=b[f],l=m[0],m=m[1];(r<d&&m>=d||m<d&&r>=d)&&g+(d-r)/(m-r)*(l-g)<c&&(a=!a)}return a}Object.defineProperty(a,"__esModule",{value:!0});var l=[0,0];a.extentContainsPoint=function(a,b){return e(a,b.x,b.y,b.z)};a.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var d=0;for(b=b.points;d<b.length;d++)if(!p(a,b[d]))return!1;return!0};a.extentContainsExtent=
function(a,b){var d=b.xmin,c=b.ymin,f=b.zmin,m=b.xmax,k=b.ymax,r=b.zmax;return a.hasZ&&b.hasZ?e(a,d,c,f)&&e(a,d,k,f)&&e(a,m,k,f)&&e(a,m,c,f)&&e(a,d,c,r)&&e(a,d,k,r)&&e(a,m,k,r)&&e(a,m,c,r):e(a,d,c)&&e(a,d,k)&&e(a,m,k)&&e(a,m,c)};a.extentContainsCoords2D=p;a.extentContainsCoords3D=function(a,b){return e(a,b[0],b[1],b[2])};a.polygonContainsPoint=function(a,b){l[1]=b.y;l[0]=b.x;return n(a,l)};a.polygonContainsCoords=n})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],
function(b,a,p){function e(a,c){return p.extentContainsPoint(a,c)}function n(a,c){var b=a.hasZ&&c.hasZ,d;if(a.xmin<=c.xmin){if(d=c.xmin,a.xmax<d)return!1}else if(d=a.xmin,c.xmax<d)return!1;if(a.ymin<=c.ymin){if(d=c.ymin,a.ymax<d)return!1}else if(d=a.ymin,c.ymax<d)return!1;if(b&&c.hasZ)if(a.zmin<=c.zmin){if(b=c.zmin,a.zmax<b)return!1}else if(b=a.zmin,c.zmax<b)return!1;return!0}function h(a,c){var b=c.hasZ?p.extentContainsCoords3D:p.extentContainsCoords2D,d=0;for(c=c.points;d<c.length;d++)if(b(a,c[d]))return!0;
return!1}function l(a,b){c[0]=a.xmin;c[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;k[0]=a.xmax;k[1]=a.ymin;for(var d=0,e=r;d<e.length;d++)if(p.polygonContainsCoords(b,e[d]))return!0;d=0;for(b=b.rings;d<b.length;d++)if(e=b[d],e.length){var g=e[0];if(p.extentContainsCoords2D(a,g))return!0;for(var l=1;l<e.length;l++){var h=e[l];if(p.extentContainsCoords2D(a,h)||m(g,h,u))return!0;g=h}}return!1}function g(a,b){c[0]=a.xmin;c[1]=a.ymax;f[0]=a.xmax;f[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;k[0]=a.xmax;
k[1]=a.ymin;b=b.paths;for(var d=0;d<b.length;d++){var e=b[d];if(b.length){var r=e[0];if(p.extentContainsCoords2D(a,r))return!0;for(var g=1;g<e.length;g++){var l=e[g];if(p.extentContainsCoords2D(a,l)||m(r,l,u))return!0;r=l}}}return!1}function m(a,c,b){for(var f=0;f<b.length;f++)if(d(a,c,b[f][0],b[f][1]))return!0;return!1}function d(a,c,b,d,f){var e=a[0];a=a[1];var k=c[0];c=c[1];var r=b[0],g=b[1];b=d[0]-r;var r=e-r,m=k-e;d=d[1]-g;var g=a-g,q=c-a,l=d*m-b*q;if(0===l)return!1;b=(b*g-d*r)/l;r=(m*g-q*r)/
l;return 0<=b&&1>=b&&0<=r&&1>=r?(f&&(f[0]=e+b*(k-e),f[1]=a+b*(c-a)),!0):!1}Object.defineProperty(a,"__esModule",{value:!0});a.extentIntersectsPoint=e;a.extentIntersectsExtent=n;a.extentIntersectsMultipoint=h;var c=[0,0],f=[0,0],q=[0,0],k=[0,0],r=[c,f,q,k],u=[[q,c],[c,f],[f,k],[k,q]];a.extentIntersectsPolygon=l;a.extentIntersectsPolyline=g;var z=[0,0];a.isSelfIntersecting=function(a){for(var c=0;c<a.length;c++){for(var b=a[c],f=0;f<b.length-1;f++)for(var e=b[f],k=b[f+1],r=c+1;r<a.length;r++)for(var g=
0;g<a[r].length-1;g++){var m=a[r][g],q=a[r][g+1],l=d(e,k,m,q,z);if(l&&!(z[0]===e[0]&&z[1]===e[1]||z[0]===m[0]&&z[1]===m[1]||z[0]===k[0]&&z[1]===k[1]||z[0]===q[0]&&z[1]===q[1]))return!0}g=b.length;if(!(4>=g))for(f=0;f<g-3;f++){var h=g-1;0===f&&(h=g-2);e=b[f];k=b[f+1];for(r=f+2;r<h;r++)if(m=b[r],q=b[r+1],(l=d(e,k,m,q,z))&&!(z[0]===e[0]&&z[1]===e[1]||z[0]===m[0]&&z[1]===m[1]||z[0]===k[0]&&z[1]===k[1]||z[0]===q[0]&&z[1]===q[1]))return!0}}return!1};a.segmentIntersects=d;a.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return n;
case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return e;case "esriGeometryPolygon":case "polygon":return l;case "esriGeometryPolyline":case "polyline":return g;case "mesh":return n}}})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r){function u(a,c,b){if(!a)return null;switch(c){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:b};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:b};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:b};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:b}}}
function z(a,c,b,d){return{x:a,y:c,z:b,hasZ:null!=b,hasM:!1,spatialReference:d,type:"point"}}function C(a){return"declaredClass"in a}function t(a){return"declaredClass"in a}function D(a){return"declaredClass"in a}function B(a){return l.isNone(a)?null:C(a)?a:f.fromJSON(v(a))}function x(a){if(l.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var c=0,b=0;for(a=a.paths;b<a.length;b++)c+=a[b].length;return c;case "polygon":b=c=0;for(a=a.rings;b<a.length;b++)c+=a[b].length;return c;
case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(c=a.vertexAttributes&&a.vertexAttributes.position)?c.length/3:0;default:n.neverReached(a)}}function v(a){var c=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:c};case "polygon":var b=a.hasZ,d=a.hasM;return{rings:A(a.rings),hasZ:b,hasM:d,spatialReference:c};case "polyline":var f=a.paths,b=a.hasZ,d=a.hasM;return{paths:A(f),hasZ:b,hasM:d,spatialReference:c};case "extent":var f=
a.xmin,e=a.xmax,k=a.ymin,r=a.ymax,g=a.zmin,m=a.zmax,q=a.mmin,l=a.mmax,b=a.hasZ,d=a.hasM;return{xmin:f,xmax:e,ymin:k,ymax:r,zmin:g,zmax:m,mmin:q,mmax:l,hasZ:b,hasM:d,spatialReference:c};case "multipoint":return f=a.points,b=a.hasZ,d=a.hasM,{points:I(f)?w(f):f,hasZ:b,hasM:d,spatialReference:c};default:n.neverReached(a)}}function A(a){return y(a)?a.map(function(a){return w(a)}):a}function w(a){return a.map(function(a){return g.toArray(a)})}function y(a){for(var c=0;c<a.length;c++){var b=a[c];if(0!==
b.length)return I(b)}return!1}function I(a){return a.length&&(g.isFloat32Array(a[0])||g.isFloat64Array(a[0]))}function G(a,c){d.empty(c);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":c[0]=c[3]=a.x;c[1]=c[4]=a.y;a.hasZ&&(c[2]=c[5]=a.z);break;case "polyline":for(var b=0;b<a.paths.length;b++)d.expandWithNestedArray(c,a.paths[b],a.hasZ);break;case "polygon":for(b=0;b<a.rings.length;b++)d.expandWithNestedArray(c,a.rings[b],a.hasZ);break;case "multipoint":d.expandWithNestedArray(c,a.points,
a.hasZ);break;case "extent":c[0]=a.xmin;c[1]=a.ymin;c[3]=a.xmax;c[4]=a.ymax;null!=a.zmin&&(c[2]=a.zmin);null!=a.zmax&&(c[5]=a.zmax);break;default:n.neverReached(a)}}function H(a,b){c.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var d=0;d<a.paths.length;d++)c.expandWithNestedArray(b,a.paths[d]);break;case "polygon":for(d=0;d<a.rings.length;d++)c.expandWithNestedArray(b,a.rings[d]);break;case "multipoint":c.expandWithNestedArray(b,
a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;default:n.neverReached(a)}}Object.defineProperty(a,"__esModule",{value:!0});a.equals=r.equals;b=function(){return function(a,c,b){this.uid=a;this.geometry=c;this.attributes=b;this.visible=!0;this.centroid=this.objectId=null}}();a.DehydratedFeatureClass=b;a.hasGeometry=function(a){return l.isSome(a.geometry)};a.isFeatureGeometry=function(a){return p.isFeatureGeometryType(a.type)};b=function(){return function(){this.exceededTransferLimit=
!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();a.DehydratedFeatureSetClass=b;a.isPoint=function(a){return"point"===a.type};a.fromFeatureSetJSON=function(a){var c=p.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),b=m.fromJSON(a.spatialReference),d=a.transform,f=a.features.map(function(f){var k=a.objectIdFieldName;f={uid:e.generateUID(),
objectId:k&&f.attributes?f.attributes[k]:null,attributes:f.attributes,geometry:u(f.geometry,c,b),visible:!0};if((k=f.geometry)&&d)switch(k.type){case "point":f.geometry=q.hydratePoint(d,k,k,k.hasZ,k.hasM);break;case "multipoint":f.geometry=q.hydrateMultipoint(d,k,k,k.hasZ,k.hasM);break;case "polygon":f.geometry=q.hydratePolygon(d,k,k,k.hasZ,k.hasM);break;case "polyline":f.geometry=q.hydratePolyline(d,k,k,k.hasZ,k.hasM);break;default:n.neverReached(k)}return f});return{geometryType:c,features:f,spatialReference:b,
fields:a.fields?a.fields.map(function(a){return k.fromJSON(a)}):null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};a.fromJSONGeometry=u;a.makeDehydratedPoint=z;a.isHydratedGeometry=C;a.isHydratedPoint=t;a.isHydratedGraphic=D;a.hydrateGraphic=function(a,c){if(!a||D(a))return a;c=new e({layer:c,sourceLayer:c});
c.visible=a.visible;c.symbol=h.clone(a.symbol);c.attributes=h.clone(a.attributes);c.geometry=B(a.geometry);return c};a.hydrateGeometry=B;a.clonePoint=function(a,c){if(!a)return null;if(t(a)){if(null==c)return a.clone();if(t(c))return c.copy(a)}null!=c?(c.x=a.x,c.y=a.y,c.spatialReference=a.spatialReference,a.hasZ?(c.z=a.z,c.hasZ=a.hasZ):(c.z=null,c.hasZ=!1),a.hasM?(c.m=a.m,c.hasM=!0):(c.m=null,c.hasM=!1)):(c=z(a.x,a.y,a.z,a.spatialReference),a.hasM&&(c.m=a.m,c.hasM=!0));return c};a.estimateSize=function(a){for(var c=
32,b=0,d=Object.keys(a.attributes);b<d.length;b++){var f=d[b],c=c+f.length,f=a.attributes[f];switch(typeof f){case "string":c+=f.length;break;default:case "number":c+=8}}a=l.isSome(a.geometry)?"mesh"===a.geometry.type?0:x(a.geometry):0;return c+12*a};a.numVertices=x;a.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var c=0;for(a=a.paths;c<a.length;c++)if(0<a[c].length)return!0;return!1;case "polygon":c=0;for(a=a.rings;c<a.length;c++)if(0<a[c].length)return!0;
return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:n.neverReached(a)}};a.computeAABB=G;a.expandAABB=function(a,c){G(a,F);d.expand(c,F)};a.computeAABR=H;a.expandAABR=function(a,b){H(a,K);c.expand(b,K)};a.getObjectId=function(a,c){return null!=a.objectId?a.objectId:a.attributes&&c?a.attributes[c]:null};var F=d.create(),K=c.create()})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){Object.defineProperty(a,"__esModule",{value:!0});a.Extent=n;a.BaseGeometry=h;a.Multipoint=l;a.Point=g;a.Polygon=m;a.Polyline=d;a.SpatialReference=c;a.isGeometry=function(c){return c instanceof a.BaseGeometry};a.fromJSON=f.fromJSON;a.typeKebabDictionary=p.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};a.featureGeometryTypeKebabDictionary=p.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});a.geometryTypes={base:a.BaseGeometry,key:"type",typeMap:{extent:a.Extent,multipoint:a.Multipoint,point:a.Point,polyline:a.Polyline,polygon:a.Polygon}};a.ensureType=e.ensureOneOfType(a.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d){function c(a){return function(c,b){return null==c?b:null==b?c:a(c,b)}}b=function(a){function b(){for(var c=0;c<arguments.length;c++);c=a.call(this)||this;c.points=[];c.type="multipoint";return c}p(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,c){if(!a&&!c)return null;var b={};Array.isArray(a)?(b.points=a,b.spatialReference=c):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(b.points=a.points),a.spatialReference&&(b.spatialReference=
a.spatialReference),a.hasZ&&(b.hasZ=a.hasZ),a.hasM&&(b.hasM=a.hasM)):b.spatialReference=a;if(a=b.points&&b.points[0])void 0===b.hasZ&&void 0===b.hasM?(b.hasZ=2<a.length,b.hasM=!1):void 0===b.hasZ?b.hasZ=3<a.length:void 0===b.hasM&&(b.hasM=3<a.length);return b};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new l,d=this.hasZ,f=this.hasM,e=d?3:2,k=a[0],g=c(Math.min),m=c(Math.max),q=k[0],h=k[1],n=k[0],k=k[1],p,I,G,H,F=0,K=a.length;F<K;F++){var L=
a[F],J=L[0],M=L[1],q=g(q,J),h=g(h,M),n=m(n,J),k=m(k,M);d&&2<L.length&&(J=L[2],p=g(p,J),G=m(G,J));f&&L.length>e&&(L=L[e],I=g(I,L),H=m(H,L))}b.xmin=q;b.ymin=h;b.xmax=n;b.ymax=k;b.spatialReference=this.spatialReference;d?(b.zmin=p,b.zmax=G):(b.zmin=null,b.zmax=null);f?(b.mmin=I,b.mmax=H):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,c,b,d){c.points=n.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();d.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:n.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new f(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var c={x:a[0],y:a[1],spatialReference:this.spatialReference},b=2;this.hasZ&&(c.z=a[2],b=3);this.hasM&&(c.m=a[b]);return new m(c)};b.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new m(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,c){if(!this._validateInputs(a))return this;this.clearCache();d.updateSupportFromPoint(c);this.points[a]=c.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var f;e([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);e([h.property({dependsOn:["cache"]})],
b.prototype,"extent",null);e([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);e([h.writer("points")],b.prototype,"writePoints",null);return b=f=e([h.subclass("esri.geometry.Multipoint")],b)}(h.declared(g));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.updateSupportFromPoint=function(a,b,n){void 0===n&&(n=!1);var e=a.hasM,
l=a.hasZ;Array.isArray(b)?4!==b.length||e||l?3===b.length&&n&&!e?(l=!0,e=!1):3===b.length&&e&&l&&(l=e=!1):l=e=!0:(l=!l&&b.hasZ&&(!e||b.hasM),e=!e&&b.hasM&&(!l||b.hasZ));a.hasZ=l;a.hasM=e}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z,C){b=function(a){function b(){for(var c=0;c<arguments.length;c++);c=a.call(this)||this;c.rings=[];c.type="polygon";return c}p(b,a);m=b;b.createEllipse=function(a){var c=a.center.x,b=a.center.y,d=a.center.z,f=a.center.m,e=a.center.hasZ,k=a.center.hasM,r=a.longAxis,g=a.shortAxis,l=a.numberOfPoints;a=a.view;for(var q=[],n=2*Math.PI/l,u=e?3:2,p=0;p<l;p++){var z=a.toMap(h.createScreenPoint(r*Math.cos(p*n)+c,g*Math.sin(p*n)+b)),z=[z.x,z.y];e&&(z[2]=d);k&&(z[u]=
f);q.push(z)}q.push(q[0]);return new m({rings:[q],spatialReference:a.spatialReference})};b.createCircle=function(a){return m.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var c=a.clone().normalize();a=a.spatialReference;var b=!1,d=!1;c.map(function(a){a.hasZ&&(b=!0);a.hasM&&(d=!0)});c={rings:c.map(function(a){var c=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(b&&a.hasZ)for(var f=
a.zmin+.5*(a.zmax-a.zmin),e=0;e<c.length;e++)c[e].push(f);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),e=0;e<c.length;e++)c[e].push(a);return c}),spatialReference:a};b&&(c.hasZ=!0);d&&(c.hasM=!0);return new m(c)};b.prototype.normalizeCtorArgs=function(a,b){var d=null,f,e,k=null;a&&!Array.isArray(a)?(d=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),f=a.hasZ,e=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(k=d[0]&&
d[0][0])void 0===f&&void 0===e?(f=2<k.length,e=!1):void 0===f?f=!e&&3<k.length:void 0===e&&(e=!f&&3<k.length);return{rings:d,spatialReference:b,hasZ:f,hasM:e}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=f.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var c=new d;c.x=a[0];c.y=a[1];c.spatialReference=this.spatialReference;this.hasZ&&(c.z=a[2]);return c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=
this.spatialReference,c=r.getPolygonExtent(this);if(!c)return null;c=new g(c);c.spatialReference=a;return c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return u.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,c,b,d){c.rings=n.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var c=this.rings,b=c.length;if(Array.isArray(a[0]))c[b]=a.concat();else{for(var d=[],f=0,e=
a.length;f<e;f++)d[f]=a[f].toArray();c[b]=d}return this}};b.prototype.clone=function(){var a=new m;a.spatialReference=this.spatialReference;a.rings=n.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;z.canProject(a,this.spatialReference)&&(a=z.project(a,this.spatialReference));return q.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var c=this;a=Array.isArray(a[0])?a:a.map(function(a){return c.hasZ?c.hasM?[a.x,a.y,a.z,a.m]:
[a.x,a.y,a.z]:[a.x,a.y]});return k.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,c){if(!this._validateInputs(a,c))return null;a=this.rings[a][c];c=this.hasZ;var b=this.hasM;return c&&!b?new d(a[0],a[1],a[2],void 0,this.spatialReference):b&&!c?new d(a[0],a[1],void 0,a[2],this.spatialReference):c&&b?new d(a[0],a[1],a[2],a[3],this.spatialReference):new d(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,c,b){if(!this._validateInputs(a,c,!0))return this;this.clearCache();
C.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.rings[a].splice(c,0,b);return this};b.prototype.removePoint=function(a,c){if(!this._validateInputs(a,c))return null;this.clearCache();return new d(this.rings[a].splice(c,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var c=this.spatialReference;return a.map(function(a){return new d(a,c)})};b.prototype.setPoint=function(a,
c,b){if(!this._validateInputs(a,c))return this;this.clearCache();C.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.rings[a][c]=b;return this};b.prototype._validateInputs=function(a,c,b){void 0===b&&(b=!1);return null==a||0>a||a>=this.rings.length||null!=c&&(a=this.rings[a],b&&(0>c||c>a.length)||!b&&(0>c||c>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var m;e([l.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);e([l.property({readOnly:!0,
dependsOn:["cache"]})],b.prototype,"centroid",null);e([l.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);e([l.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);e([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);e([l.writer("rings")],b.prototype,"writePaths",null);return b=m=e([l.subclass("esri.geometry.Polygon")],b)}(l.declared(m));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/core/screenUtils":function(){define(["require",
"exports","./compilerUtils"],function(b,a,p){function e(c){return c?72*c/a.DPI:0}function n(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return{x:a,y:c}}function h(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return[a,c]}function l(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return{x:a,y:c}}function g(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return[a,c]}function m(a,c){return c?(c[0]=a.x,c[1]=a.y,2<c.length&&(c[2]=0),c):[a.x,a.y]}function d(a){return n(a.x,a.y)}function c(a,c){a=(a instanceof HTMLElement?a:
a.surface).getBoundingClientRect();return n(c.clientX-a.left,c.clientY-a.top)}Object.defineProperty(a,"__esModule",{value:!0});var f=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.DPI=96;a.pt2px=function(c){return c?c/72*a.DPI:0};a.px2pt=e;a.toPt=function(a){if("string"===typeof a){if(f.test(a)){var c=a.match(f),b=Number(c[1]),c=c[3]&&c[3].toLowerCase();a="-"===a.charAt(0);b="px"===c?e(b):b;return a?-b:b}console.warn("screenUtils.toPt: input not recognized!");return null}return a};a.createScreenPoint=n;a.createScreenPointArray=
h;a.createRenderScreenPoint=l;a.createRenderScreenPointArray=g;a.createRenderScreenPointArray3=function(a,c,b){void 0===a&&(a=0);void 0===c&&(c=0);void 0===b&&(b=0);return[a,c,b]};a.castRenderScreenPointArray=function(a){return a};a.castRenderScreenPointArray3=function(a){return a};a.castScreenPointArray=function(a){return a};a.screenToRender=function(a,c,b){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=c.x*a;f=c.y*a;break;case "3d":m(c,k),a.state.camera.screenToRender(k,q),d=q[0],
f=q[1]}return b?(b.x=d,b.y=f,b):l(d,f)};a.renderToScreen=function(a,c,b){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=c.x/a;f=c.y/a;break;case "3d":m(c,q),a.state.camera.renderToScreen(q,k),d=k[0],f=k[1]}return b?(b.x=d,b.y=f,b):n(d,f)};a.screenArrayToRender=function(a,c,b){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=c[0]*a;f=c[1]*a;break;case "3d":a.state.camera.screenToRender(c,q),d=q[0],f=q[1]}return b?(b[0]=d,b[1]=f,2<b.length&&(b[2]=0),b):g(d,f)};a.renderArrayToScreen=
function(a,c,b){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=c[0]/a;f=c[0]/a;break;case "3d":a.state.camera.renderToScreen(c,k),d=k[0],f=k[1]}return b?(b[0]=d,b[1]=f,b):h(d,f)};a.screenPointArrayToObject=function(a,c){return c?(c.x=a[0],c.y=a[1],c):{x:a[0],y:a[1]}};a.screenPointObjectToArray=m;a.createScreenPointFromEvent=d;a.createScreenPointFromNativeEvent=c;a.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?c(a,b):d(b)};a.isSupportedScreenPointEvent=
function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "hold":case "drag":case "mouse-wheel":return!0;case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:p.neverReachedSilent(a)}return!1};var q=g(),k=h()})},"esri/geometry/support/centroid":function(){define(["require",
"exports","./coordsUtils"],function(b,a,p){function e(a,b){if(!a||!a.length)return null;for(var e=[],d=[],c=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],f=0,g=a.length;f<g;f++){var k=n(a[f],b,c);k&&d.push(k)}d.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});d.length&&(f=6*d[0][2],e[0]=d[0][0]/f,e[1]=d[0][1]/f,b&&(f=6*d[0][4],e[2]=0!==f?d[0][3]/f:0),e[0]<c[0]||e[0]>c[1]||e[1]<c[2]||e[1]>c[3]||b&&(e[2]<c[4]||e[2]>c[5]))&&
(e.length=0);if(!e.length)if(a=a[0]&&a[0].length?h(a[0],b):null)e[0]=a[0],e[1]=a[1],b&&2<a.length&&(e[2]=a[2]);else return null;return e}function n(a,b,e){for(var d=0,c=0,f=0,g=0,k=0,m=0,l=a.length-1;m<l;m++){var h=a[m],n=h[0],p=h[1],D=h[2],B=a[m+1],x=B[0],v=B[1],A=B[2],w=n*v-x*p,g=g+w,d=d+(n+x)*w,c=c+(p+v)*w;b&&2<h.length&&2<B.length&&(w=n*A-x*D,f+=(D+A)*w,k+=w);n<e[0]&&(e[0]=n);n>e[1]&&(e[1]=n);p<e[2]&&(e[2]=p);p>e[3]&&(e[3]=p);b&&(D<e[4]&&(e[4]=D),D>e[5]&&(e[5]=D))}0<g&&(g*=-1);0<k&&(k*=-1);if(!g)return null;
a=[d,c,.5*g];b&&(a[3]=f,a[4]=.5*k);return a}function h(a,b){for(var e=b?[0,0,0]:[0,0],d=b?[0,0,0]:[0,0],c=0,f=0,g=0,k=0,r=0,l=a.length;r<l-1;r++){var h=a[r],n=a[r+1];if(h&&n){e[0]=h[0];e[1]=h[1];d[0]=n[0];d[1]=n[1];b&&2<h.length&&2<n.length&&(e[2]=h[2],d[2]=n[2]);var t=p.getLength(e,d);t&&(c+=t,h=p.getMidpoint(h,n),f+=t*h[0],g+=t*h[1],b&&2<h.length&&(k+=t*h[2]))}}return 0<c?b?[f/c,g/c,k/c]:[f/c,g/c]:a.length?a[0]:null}Object.defineProperty(a,"__esModule",{value:!0});a.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};a.polygonCentroid=function(a){return a?e(a.rings,a.hasZ):null};a.ringsCentroid=e;a.lineCentroid=h})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(b,a,p){function e(a,b){var e=b[0]-a[0],d=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(e*e+d*d+a*a)):Math.sqrt(e*e+d*d)}function n(a,b,e){var d=a[0]+e*(b[0]-a[0]),c=a[1]+e*(b[1]-
a[1]);return 2<a.length&&2<b.length?[d,c,a[2]+e*(b[2]-a[2])]:[d,c]}function h(a,b){if(b=p.getInfo(b)){var e=b.valid[0],d=b.valid[1],c=d-e;b=function(a){var b=Infinity,f=-Infinity;a.forEach(function(a){for(var k=a[0];k<e;)k+=c;for(;k>d;)k-=c;b=Math.min(b,k);f=Math.max(f,k);a[0]=k});var g=f-b;c-g<g&&a.forEach(function(a){0>a[0]&&(a[0]+=c)})};for(var f=0;f<a.length;f++)b(a[f])}}Object.defineProperty(a,"__esModule",{value:!0});a.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;
var b=a.hasZ,e=a.hasM;if("point"===a.type)return e&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:e?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var d=!1,c=!1;a.forEach(function(a){a.hasZ&&(d=!0);a.hasM&&(c=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];
if(d&&a.hasZ)for(var f=.5*(a.zmax-a.zmin),e=0;e<b.length;e++)b[e].push(f);if(c&&a.hasM)for(a=.5*(a.mmax-a.mmin),e=0;e<b.length;e++)b[e].push(a);return b})}return null};a.getLength=e;a.getMidpoint=function(a,b){return n(a,b,.5)};a.getPathLength=function(a){for(var b=a.length,m=0,d=0;d<b-1;++d)m+=e(a[d],a[d+1]);return m};a.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var g=a.length,d=0,c=0;c<g-1;++c){var f=e(a[c],a[c+1]);if(b-d<f)return n(a[c],a[c+1],(b-d)/f);d+=f}return a[g-1]};a.isClockwise=
function(a,b,e){for(var d=a.length,c=0,f=0,g=0,k=0;k<d;k++){var m=a[k],l=a[(k+1)%d],h=2,c=c+(m[0]*l[1]-l[0]*m[1]);2<m.length&&2<l.length&&e&&(f+=m[0]*l[2]-l[0]*m[2],h=3);m.length>h&&l.length>h&&b&&(g+=m[0]*l[h]-l[0]*m[h])}return 0>=c&&0>=f&&0>=g};a.getRingArea=function(a){for(var b=a.length,e=0,d=0;d<b;d++)var c=a[d],f=a[(d+1)%b],e=e+(c[0]*f[1]-f[0]*c[1]);return e};a.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;h("polygon"===a.type?a.rings:
a.paths,a.spatialReference);return a};a.unnormalizeVerticesOnDatelineCrossing=h;a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,e,d){var c=Infinity,f=-Infinity;a.forEach(function(a){for(var k=a.pos[0];k<b;)k+=d;for(;k>e;)k-=d;c=Math.min(c,k);f=Math.max(f,k);a.unnormalizedPos[0]=k;a.unnormalizedPos[1]=a.pos[1]});var g=f-c;d-g<g&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=d)})}})},"esri/geometry/support/extentUtils":function(){define(["require","exports",
"./boundsUtils"],function(b,a,p){function e(a,c,b){void 0===c&&(c=!1);void 0===b&&(b=!1);return c?b?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:b?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function n(a){var c=a.hasZ,b=a.hasM;return e(p.getPointsBounds(m,a.points,c,b),c,b)}function h(a){var c=a.x,b=a.y,d=a.z;a=a.m;var e=null!=a;return null!=
d?e?{xmin:c,ymin:b,zmin:d,mmin:a,xmax:c,ymax:b,zmax:d,mmax:a}:{xmin:c,ymin:b,zmin:d,xmax:c,ymax:b,zmax:d}:e?{xmin:c,ymin:b,mmin:a,xmax:c,ymax:b,mmax:a}:{xmin:c,ymin:b,xmax:c,ymax:b}}function l(a){var c=a.hasZ,b=a.hasM;return(a=p.getRingsOrPathsBounds(m,a.rings,c,b))?e(a,c,b):null}function g(a){var c=a.hasZ,b=a.hasM;return(a=p.getRingsOrPathsBounds(m,a.paths,c,b))?e(a,c,b):null}Object.defineProperty(a,"__esModule",{value:!0});var m=[];a.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?h(a):void 0!==a.rings?l(a):void 0!==a.paths?g(a):void 0!==a.points?n(a):null:null};a.getMultipointExtent=n;a.getPointExtent=h;a.getPolygonExtent=l;a.getPolylineExtent=g})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(b,a){function p(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}function e(a,b,c,f){var d=c?3:2;if(!b.length||!b[0].length)return null;for(var e=b[0][0],m=e[0],e=e[1],
h=b[0][0],n=h[0],h=h[1],p=void 0,t=void 0,D=void 0,B=void 0,x=0;x<b.length;x++)for(var v=b[x],A=0;A<v.length;A++){var w=v[A],y=w[0],I=w[1],m=l(m,y),e=l(e,I),n=g(n,y),h=g(h,I);c&&2<w.length&&(y=w[2],p=l(p,y),t=g(t,y));f&&w.length>d&&(B=w[d],D=l(p,B),B=g(t,B))}if(c){if(f)return a[0]=m,a[1]=e,a[2]=p,a[3]=D,a[4]=n,a[5]=h,a[6]=t,a[7]=B,a.length=8,a;a[0]=m;a[1]=e;a[2]=p;a[3]=n;a[4]=h;a[5]=t;a.length=6;return a}if(f)return a[0]=m,a[1]=e,a[2]=D,a[3]=n,a[4]=h,a[5]=B,a.length=6,a;a[0]=m;a[1]=e;a[2]=n;a[3]=
h;a.length=4;return a}function n(a,b,c,f,e,k){c=b.xmin;f=b.xmax;var d=b.ymin,g=b.ymax,q=b.zmin,m=b.zmax,l=b.mmin;b=b.mmax;if(e){q=q||0;m=m||0;if(k)return a[0]=c,a[1]=d,a[2]=q,a[3]=l||0,a[4]=f,a[5]=g,a[6]=m,a[7]=b||0,a;a[0]=c;a[1]=d;a[2]=q;a[3]=f;a[4]=g;a[5]=m;return a}if(k)return a[0]=c,a[1]=d,a[2]=l||0,a[3]=f,a[4]=g,a[5]=b||0,a;a[0]=c;a[1]=d;a[2]=f;a[3]=g;return a}function h(a,b,c,f,e,k){var d=c?3:2;f=f&&k;c=c&&e;if(!b.length||!b[0].length)return null;for(var q=b[0],m=q[0],q=q[1],h=b[0],n=h[0],h=
h[1],p=void 0,B=void 0,x=void 0,v=void 0,A=0;A<b.length;A++){var w=b[A],y=w[0],I=w[1],m=l(m,y),q=l(q,I),n=g(n,y),h=g(h,I);c&&2<w.length&&(y=w[2],p=l(p,y),B=g(B,y));f&&w.length>d&&(v=w[d],x=l(p,v),v=g(B,v))}if(e){p=p||0;B=B||0;if(k)return a[0]=m,a[1]=q,a[2]=p,a[3]=x||0,a[4]=n,a[5]=h,a[6]=B,a[7]=v||0,a;a[0]=m;a[1]=q;a[2]=p;a[3]=n;a[4]=h;a[5]=B;return a}if(k)return a[0]=m,a[1]=q,a[2]=x||0,a[3]=n,a[4]=h,a[5]=v||0,a;a[0]=m;a[1]=q;a[2]=n;a[3]=h;return a}Object.defineProperty(a,"__esModule",{value:!0});
var l=p(Math.min),g=p(Math.max);a.getBoundsXY=function(a,b){if(void 0!==b.paths)return e(a,b.paths,!1,!1);if(void 0!==b.rings)return e(a,b.rings,!1,!1);if(void 0!==b.points)return h(a,b.points,!1,!1,!1,!1);if(void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax)return n(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};a.getRingsOrPathsBounds=e;a.getExtentBounds=n;a.getPointsBounds=h;a.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;
for(var b=a[0][0],c=a[0][0],f=0;f<a.length;f++)var e=a[f][0],b=l(b,e),c=g(c,e);return c-b};a.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],f=0;f<a.length;f++)var e=a[f][0],b=l(b,e),c=g(c,e);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.paths=[];b.type="polyline";return b}p(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,f,e,k=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),f=a.hasZ,e=a.hasM):c=a;c=c||[];b=b||d.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(k=c[0]&&c[0][0])void 0===f&&void 0===e?(f=2<k.length,
e=!1):void 0===f?f=!e&&3<k.length:void 0===e&&(e=!f&&3<k.length);return{paths:c,spatialReference:b,hasZ:f,hasM:e}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=c.getPolylineExtent(this);if(!b)return null;b=new l(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.paths=n.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=
a.concat();else{for(var d=[],f=0,e=a.length;f<e;f++)d[f]=a[f].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new g;a.spatialReference=this.spatialReference;a.paths=n.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new m(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new m(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new m(a[0],
a[1],a[2],a[3],this.spatialReference):new m(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new m(a,b)})};b.prototype.removePoint=
function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new m(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=
a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var g;e([h.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);e([h.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);e([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);e([h.writer("paths")],b.prototype,"writePaths",null);return b=g=e([h.subclass("esri.geometry.Polyline")],b)}(h.declared(g));b.prototype.toJSON.isDefaultToJSON=!0;return b})},
"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(b,a,p,e,n,h,l,g){function m(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function d(a){return void 0!==a.points}function c(a){return void 0!==a.x&&void 0!==a.y}function f(a){return void 0!==a.paths}function q(a){return void 0!==a.rings}function k(a){return a?a instanceof e?a:c(a)?h.fromJSON(a):f(a)?g.fromJSON(a):
q(a)?l.fromJSON(a):d(a)?n.fromJSON(a):m(a)?p.fromJSON(a):null:null}Object.defineProperty(a,"__esModule",{value:!0});a.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(z){console.warn(z.stack)}return k(a)};a.isExtent=m;a.isMultipoint=d;a.isPoint=c;a.isPolyline=f;a.isPolygon=q;a.isMesh=function(a){return void 0!==a.vertexAttributes};a.fromJSON=k;a.getJsonType=function(a){return a?c(a)?"esriGeometryPoint":f(a)?"esriGeometryPolyline":q(a)?"esriGeometryPolygon":
m(a)?"esriGeometryEnvelope":d(a)?"esriGeometryMultipoint":null:null};var r={esriGeometryPoint:h,esriGeometryPolyline:g,esriGeometryPolygon:l,esriGeometryEnvelope:p,esriGeometryMultipoint:n};a.getGeometryType=function(a){return a&&r[a]||null}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k){b=function(a){function b(b,c,d,f){b=a.call(this,b,c,d,f)||this;b.layer=null;b.popupTemplate=null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:r.generateUID()});return b}e(b,a);r=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",
b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var b=this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var b=this._get("visible");b!==
a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&c.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,
b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c={},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};b.prototype.toJSON=function(){return{geometry:c.isSome(this.geometry)?this.geometry.toJSON():null,symbol:c.isSome(this.symbol)?this.symbol.toJSON():null,attributes:p({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new r({attributes:d.clone(this.attributes),
geometry:d.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:d.clone(this.symbol),visible:this.visible})};b.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var r;n([f.property({value:null})],b.prototype,"attributes",null);n([f.property({value:null,types:h.geometryTypes,
json:{read:q.fromJSON}})],b.prototype,"geometry",null);n([f.property()],b.prototype,"layer",void 0);n([f.property({type:l})],b.prototype,"popupTemplate",void 0);n([f.property()],b.prototype,"sourceLayer",void 0);n([f.property({value:null,types:g.symbolTypes,json:{read:k.read}})],b.prototype,"symbol",null);n([f.property({type:Boolean,value:!0,set:function(a){}})],b.prototype,"visible",null);return b=r=n([f.subclass("esri.Graphic")],b)}(f.declared(m));var r=0;(function(a){a.generateUID=function(){return r++}})(b||
(b={}));return b})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z,C,t,D,B,x,v,A,w,y,I,G,H,F,K){var L=d.ofType({key:"type",defaultKeyValue:"button",base:H,typeMap:{button:F,toggle:K}}),J={base:A,key:"type",typeMap:{media:y,text:I,attachments:v,fields:w}},M=q.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}e(b,a);c=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return u.ensureOneOfType(J,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||k.isThenable(a))return a;M.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){var c=b.description,d=b.mediaInfos;a=b.popupElements;b=b.showAttachments;if(Array.isArray(a)&&0<a.length)return a.map(function(a){if("media"===
a.type)return!a.mediaInfos&&d&&(a.mediaInfos=d),y.fromJSON(a);if("text"===a.type)return!a.text&&c&&(a.text=c),I.fromJSON(a);if("attachments"===a.type)return v.fromJSON(a);if("fields"===a.type)return w.fromJSON(a)}).filter(Boolean);a=[];c?a.push(new I({text:c})):a.push(new w);Array.isArray(d)&&d.length&&a.push(y.fromJSON({mediaInfos:d}));b&&a.push(v.fromJSON({displayType:"list"}));return a.length?a:c};b.prototype.writeContent=function(a,b){"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=
a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"!==a.type||b.showAttachments?"media"!==a.type||b.mediaInfos?"text"!==a.type||b.description||(a.text&&(b.description=a.text),delete a.text):(a.mediaInfos&&(b.mediaInfos=f.clone(a.mediaInfos)),delete a.mediaInfos):b.showAttachments=!0}))};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=
a||""};b.prototype.clone=function(){var a=this.actions,a=a?f.clone(a.toArray()):[];return new c({actions:a,content:Array.isArray(this.content)?f.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?f.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?f.clone(this.fieldInfos):null,layerOptions:this.layerOptions?f.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?f.clone(this.outFields):
null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?f.clone(this.relatedRecordsInfo):null})};b.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),z.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),
[2]}})})};b.prototype.getRequiredFields=function(a){return l(this,void 0,void 0,function(){var b;return h(this,function(c){switch(c.label){case 0:return b=new m.default,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,g.from(b).sort()]}})})};b.prototype._getContentElementFields=function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,
c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,f=void 0===d?[]:d,d=c.normalizeField,e=c.tooltipField,k=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(k),this._extractFieldNames(c),f);d&&a.push(d);e&&a.push(e);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===
typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return l(this,void 0,void 0,function(){return h(this,function(d){switch(d.label){case 0:return c?[4,k.all(c.map(function(c){return z.collectArcadeFieldNames(a,b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?
!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};
b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var c;n([r.property({type:L})],b.prototype,"actions",void 0);n([r.property()],
b.prototype,"content",void 0);n([r.cast("content")],b.prototype,"castContent",null);n([r.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);n([r.writer("content",{popupElements:{type:d.ofType(C.types)},showAttachments:{type:Boolean},mediaInfos:{type:d.ofType(G.types)},description:{type:String}})],b.prototype,"writeContent",null);n([r.property({type:[t],json:{write:!0}})],b.prototype,"expressionInfos",void 0);n([r.property({type:[D],json:{write:!0}})],
b.prototype,"fieldInfos",void 0);n([r.property({type:B})],b.prototype,"layerOptions",void 0);n([r.writer("layerOptions")],b.prototype,"writeLayerOptions",null);n([r.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);n([r.property()],b.prototype,"outFields",void 0);n([r.property()],b.prototype,"overwriteActions",void 0);n([r.property({json:{type:String}})],b.prototype,"title",void 0);n([r.writer("title")],
b.prototype,"writeTitle",null);n([r.property({type:x,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=c=n([r.subclass("esri.PopupTemplate")],b)}(r.declared(c))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,f,q){function k(a){return a?
a.isInstanceOf&&a.isInstanceOf(w):!1}function r(a){return a?k(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function u(a){if(a&&a.length)return a[0]}function z(a,b,c,d){b&&b.forEach(function(b,f,e){a.push(b);z(a,c.call(d,b,f,e),c,d)})}b=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var C=
function(){},t=new d(b,!0,function(a){a.item=null;a.target=null}),D=new Set,B=new Set,x=new Set,v=new Map,A=0,w=function(a){function b(b){b=a.call(this,b)||this;b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:A++});return b}p(b,a);d=b;b.ofType=function(a){if(!a)return d;if(v.has(a))return v.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;
else for(var c in a.typeMap){var f=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+f):f}b=d.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=k;c={Type:a,ensureType:"function"===typeof a?q.ensureType(a):q.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:c});v.set(a,b);return b};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||k(a)?{items:a}:a:{}};Object.defineProperty(b.prototype,"items",{get:function(){return this._items},
set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(r(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=C;d.removed=!0;c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,b)};b.prototype.hasEventListener=
function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(r(a)));this._emitAfterChanges();return this};b.prototype.removeAll=function(){if(!this.length||
this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(m.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(r);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=this._splice(0,this.length),d=c.length,
f=0;f<d;f++)a.call(b,c[f],f,c);this._emitAfterChanges()}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){return l.find(this._items,a,b)};b.prototype.findIndex=function(a,b){return l.findIndex(this._items,a,b)};b.prototype.flatten=function(a,b){var c=[];z(c,this,a,b);return new d(c)};b.prototype.forEach=
function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,
b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new d({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=u(this._splice(this.length-
1,1));this._emitAfterChanges();return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=
function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=u(this._splice(a,1)),this._emitAfterChanges(),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges())return[];a=k(a)?a.toArray():a;for(var b=this._items,c=[],d=a.length,f=0;f<d;f++){var e=b.indexOf(a[f]);if(-1<e){for(var g=f+1,q=e+1,r=Math.min(a.length-g,b.length-q),m=0;m<r&&a[g+m]===b[q+m];)m++;g=1+m;(e=this._splice(e,g))&&0<
e.length&&c.push.apply(c,e);f+=g-1}}this._emitAfterChanges();return c};b.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=u(this._splice(0,1));this._emitAfterChanges();return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,
b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));return this};b.prototype.splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};b.prototype.toArray=
function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};
b.prototype._splice=function(a,b){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];var f=this._items,e=this.constructor.prototype.itemType,k,g;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=c.schedule(this._boundDispatch));if(b){g=f.splice(a,b);if(this.hasEventListener("before-remove")){var q=t.acquire();q.target=this;q.cancellable=!0;
for(var r=0,m=g.length;r<m;r++)k=g[r],q.reset(k),this.emit("before-remove",q),q.defaultPrevented&&(g.splice(r,1),f.splice(a,0,k),a+=1,--r,--m);t.release(q)}this.length=this._items.length;if(this.hasEventListener("after-remove")){k=t.acquire();k.target=this;k.cancellable=!1;m=g.length;for(r=0;r<m;r++)k.reset(g[r]),this.emit("after-remove",k);t.release(k)}}if(d&&d.length){if(e){r=[];for(m=0;m<d.length;m++)k=d[m],q=e.ensureType(k),null==q&&null!=k||r.push(q);d=r}e=this.hasEventListener("before-add");
r=this.hasEventListener("after-add");m=a===this.length;if(e||r){k=t.acquire();k.target=this;k.cancellable=!0;q=t.acquire();q.target=this;q.cancellable=!1;for(var l=0,h=d;l<h.length;l++){var n=h[l];e?(k.reset(n),this.emit("before-add",k),k.defaultPrevented||(m?f.push(n):f.splice(a++,0,n),this._set("length",f.length),r&&(q.reset(n),this.emit("after-add",q)))):(m?f.push(n):f.splice(a++,0,n),this._set("length",f.length),q.reset(n),this.emit("after-add",q))}t.release(q);t.release(k)}else m?f.push.apply(f,
d):f.splice.apply(f,[a,0].concat(d)),this._set("length",f.length)}(d&&d.length||g&&g.length)&&this._notifyChangeEvent(d,g);return g};b.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=t.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;t.release(b)}return a};b.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=t.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",
a);t.release(a)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchColChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;D.clear();B.clear();x.clear();for(var d=0;d<b.length;d++){var f=b[d],e=f.added,f=f.removed;if(e)if(0===x.size&&0===
B.size)for(var k=0,g=e;k<g.length;k++)e=g[k],D.add(e);else for(k=0,g=e;k<g.length;k++)e=g[k],B.has(e)?(x.add(e),B.delete(e)):x.has(e)||D.add(e);if(f)if(0===x.size&&0===D.size)for(k=0;k<f.length;k++)e=f[k],B.add(e);else for(k=0;k<f.length;k++)e=f[k],D.has(e)?D.delete(e):(x.delete(e),B.add(e))}var q=h.acquire();D.forEach(function(a){q.push(a)});var r=h.acquire();B.forEach(function(a){r.push(a)});var m=c._items,l=a.items,n=h.acquire();x.forEach(function(a){l.indexOf(a)!==m.indexOf(a)&&n.push(a)});if(a.listeners&&
(q.length||r.length||n.length))for(b={target:c,added:q,removed:r,moved:n},d=a.listeners.length,e=0;e<d;e++)f=a.listeners[e],f.removed||f.callback.call(c,b);h.release(q);h.release(r);h.release(n)},c=this,d=0;d<a.length;d++)b(a[d]);D.clear();B.clear();x.clear()}};var d;b.isCollection=k;e([f.property()],b.prototype,"length",void 0);e([f.property()],b.prototype,"items",null);return b=d=e([f.subclass("esri.core.Collection")],b)}(f.declared(n,g));return w})},"esri/core/Evented":function(){define(["require",
"exports","./tsSupport/extendsHelper","@dojo/framework/shim/Map"],function(b,a,p,e){var n=function(){function a(a){this.target=a}a.prototype.clear=function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var e=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;b=b||{};b.target||(b.target=this.target);a.slice().forEach(function(a){a.call(e.target,b)});return 0<a.length};a.prototype.on=function(a,b){var g=this;if(Array.isArray(a)){var d=a.map(function(a){return g.on(a,
b)});return{remove:function(){return d.forEach(function(a){return a.remove()})}}}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new e.default);var c=this._listenersMap.get(a)||[];c.push(b);this._listenersMap.set(a,c);return{remove:function(){var c=g._listenersMap&&g._listenersMap.get(a)||[];0<=c.indexOf(b)&&c.splice(c.indexOf(b),1)}}};a.prototype.once=function(a,b){var e=this,d;return d=
this.on(a,function(a){d.remove();b.call(e.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();b=function(){function a(){this._emitter=new n(this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};
return a}();(function(a){a.EventedMixin=function(a){return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b}(a)}})(b||(b={}));return b})},"@dojo/framework/shim/Map":function(){(function(b){"object"===
typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var p=b("tslib"),e=b("./iterator"),n=b("./global"),h=b("./object"),l=b("../has/has");b("./Symbol");a.Map=n.default.Map;l.default("es6-map")||(a.Map=(g=function(){function a(a){this._keys=[];this._values=
[];this[Symbol.toStringTag]="Map";if(a)if(e.isArrayLike(a))for(var b=0;b<a.length;b++){var d=a[b];this.set(d[0],d[1])}else try{for(var b=p.__values(a),g=b.next();!g.done;g=b.next())d=g.value,this.set(d[0],d[1])}catch(u){k={error:u}}finally{try{g&&!g.done&&(r=b.return)&&r.call(b)}finally{if(k)throw k.error;}}var k,r}a.prototype._indexOfKey=function(a,b){for(var c=0,d=a.length;c<d;c++)if(h.is(a[c],b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},
enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,b=this._keys.map(function(b,c){return[b,a._values[c]]});return new e.ShimIterator(b)};a.prototype.forEach=function(a,b){for(var c=this._keys,d=this._values,e=0,g=c.length;e<g;e++)a.call(b,d[e],c[e],this)};a.prototype.get=
function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new e.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,a),c=0>c?this._keys.length:c;this._keys[c]=a;this._values[c]=b;return this};a.prototype.values=function(){return new e.ShimIterator(this._values)};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),
g[Symbol.species]=g,g));a.default=a.Map;var g})},"@dojo/framework/shim/object":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var p=b("./global"),e=b("../has/has"),n=b("./Symbol");e.default("es6-object")?(b=p.default.Object,a.assign=b.assign,
a.getOwnPropertyDescriptor=b.getOwnPropertyDescriptor,a.getOwnPropertyNames=b.getOwnPropertyNames,a.getOwnPropertySymbols=b.getOwnPropertySymbols,a.is=b.is,a.keys=b.keys):(a.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},a.assign=function(b){for(var e=[],g=1;g<arguments.length;g++)e[g-1]=arguments[g];if(null==b)throw new TypeError("Cannot convert undefined or null to object");var m=Object(b);e.forEach(function(b){b&&a.keys(b).forEach(function(a){m[a]=b[a]})});
return m},a.getOwnPropertyDescriptor=function(a,b){n.isSymbol(b);return Object.getOwnPropertyDescriptor(a,b)},a.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},a.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},a.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b});e.default("es2017-object")?(b=p.default.Object,
a.getOwnPropertyDescriptors=b.getOwnPropertyDescriptors,a.entries=b.entries,a.values=b.values):(a.getOwnPropertyDescriptors=function(b){return a.getOwnPropertyNames(b).reduce(function(e,g){e[g]=a.getOwnPropertyDescriptor(b,g);return e},{})},a.entries=function(b){return a.keys(b).map(function(a){return[a,b[a]]})},a.values=function(b){return a.keys(b).map(function(a){return b[a]})})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array @dojo/framework/shim/Set ../../core/Error ../../core/object ../../core/promiseUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){function q(a,b,c){if(a)for(var d=0;d<a.length;d++){var f=a[d],e=m.getDeepValue(f,b);(e=e&&"function"!==typeof e&&z(c,e))&&m.setDeepValue(f,e.name,b)}}function k(a,b){if(!a||!b)return[];J.clear();r(J,a,b);return h.from(J).sort()}function r(a,b,c){if(c)if(b&&b.length)if(h.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var d=0;d<c.length;d++)f=c[d],u(a,b,f);else if(h.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var f=c[b];a.add(f)}}
function u(a,b,c){b&&b.length?(b=z(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function z(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return d}}return null}function C(a,b,c){return n(this,void 0,void 0,function(){var d,k,g,q,r;return e(this,function(e){switch(e.label){case 0:return c?[4,f.loadArcade()]:[2];case 1:d=e.sent().arcadeUtils;k=d.extractFieldNames(c);g=0;for(q=k;g<q.length;g++)r=q[g],u(a,
b,r);return[2]}})})}function t(a,b){return n(this,void 0,void 0,function(){var c,d;return e(this,function(f){if(!b)return[2];c=b.fields;return(d=m.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,d.collectRequiredFields(a,c)]:[2]})})}function D(a,b){return n(this,void 0,void 0,function(){var c,f;return e(this,function(e){switch(e.label){case 0:return c=b.labelingInfo,f=b.fields,c&&c.length?[4,d.all(c.map(function(b){return B(a,f,b)}))]:[2];case 1:return e.sent(),[2]}})})}function B(a,b,c){return n(this,
void 0,void 0,function(){var d,f,k,g,q;return e(this,function(e){switch(e.label){case 0:if(!c)return[2];d=c.getLabelExpression();f=c.where;return"arcade"!==d.type?[3,2]:[4,C(a,b,d.expression)];case 1:return e.sent(),[3,3];case 2:(k=d.expression.match(/{[^}]*}/g))&&k.forEach(function(c){u(a,b,c.slice(1,-1))}),e.label=3;case 3:return g=/['"]+/g,f&&(q=f.split(" "),3===q.length&&u(a,b,q[0].replace(g,"")),7===q.length&&(u(a,b,q[0].replace(g,"")),u(a,b,q[4].replace(g,"")))),[2]}})})}function x(a){return"number"===
typeof a&&!isNaN(a)&&isFinite(a)}function v(a){return null===a||x(a)}function A(a){return null===a||M(a)}function w(a){return null!=a&&"string"===typeof a}function y(a){return null===a||w(a)}function I(a){return!0}function G(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?A:M;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?v:x;break;case "string":case "esriFieldTypeString":c=a.nullable?y:w;break;default:c=I}return 1===arguments.length?c:c(b)}function H(a){return null!=a&&P.has(a.type)}function F(a,b){return a.nullable&&null===b?null:H(a)&&!K(a.type,b)?Q.OUT_OF_RANGE:G(a,b)?a.domain?c.validateDomainValue(a.domain,b):null:O.INVALID_TYPE}function K(a,b){return(a="string"===typeof a?L(a):a)?a.isInteger?M(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function L(b){switch(b){case "esriFieldTypeSmallInteger":case "small-integer":return a.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return a.integerRange;case "esriFieldTypeSingle":case "single":return a.singleRange;case "esriFieldTypeDouble":case "double":return a.doubleRange}}Object.defineProperty(a,"__esModule",{value:!0});a.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");a.visualVariableFields=["field","normalizationField"];a.fixRendererFields=
function(b,c){if(null!=b&&null!=c){var d=0;for(b=Array.isArray(b)?b:[b];d<b.length;d++){var f=b[d];q(a.rendererFields,f,c);if("visualVariables"in f&&f.visualVariables)for(var e=0,f=f.visualVariables;e<f.length;e++)q(a.visualVariableFields,f[e],c)}}};a.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=z(b,a.startField);b=z(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=z(b,a.startTimeField),b=z(b,a.endTimeField),a.startTimeField=c&&c.name||
null,a.endTimeField=b&&b.name||null};var J=new l.default;a.fixFields=k;a.collectFields=r;a.collectField=u;a.unpackFieldNames=function(a,b){return b&&a?h.includes(b,"*")?a.map(function(a){return a.name}):b:[]};a.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(h.includes(b,"*"))return["*"];b=k(a,b);return b.length/a.length>=c?["*"]:b};a.getField=z;a.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===
b)return!0}return!1};a.collectArcadeFieldNames=C;a.getElevationFields=function(a){return n(this,void 0,void 0,function(){var b;return e(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new l.default;return[4,t(b,a)];case 1:return c.sent(),[2,h.from(b).sort()]}})})};a.collectElevationFields=t;a.collectFilterFields=function(a,c,f){return n(this,void 0,void 0,function(){var k,q;return e(this,function(e){switch(e.label){case 0:if(!c||!f||!(f.where&&"1\x3d1"!==f.where||f.timeExtent))return[2];
c.timeInfo&&f.timeExtent&&r(a,c.fields,[c.timeInfo.startField,c.timeInfo.endField]);return f.where?[4,d.create(function(a){b(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:k=e.sent();q=k.WhereClause.create(f.where,c.fieldsIndex);if(!q.isStandardized)return[2,d.reject(new g("fieldUtils:collectFilterFields","Where clause is not standardized"))];r(a,c.fields,q.fieldNames);e.label=2;case 2:return[2]}})})};a.getTimeFields=function(a){return n(this,void 0,void 0,function(){var b;return e(this,function(c){return a?
(b="timeInfo"in a&&a.timeInfo)?[2,k(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};a.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?k(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};a.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?k(a.fields,[b&&b.shapeAreaFieldName,b&&b.shapeLengthFieldName]):[]};a.getLabelingFields=
function(a){return n(this,void 0,void 0,function(){var b;return e(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new l.default;return[4,D(b,a)];case 1:return c.sent(),[2,h.from(b).sort()]}})})};a.collectLabelingFields=D;a.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&G(a,b))return b;if(a.nullable)return null};var M=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}}();a.isValueMatchingFieldType=
G;a.numericTypes=["integer","small-integer","single","double"];var P=new l.default(a.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));a.isNumericField=H;a.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};a.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};a.isValidFieldValue=function(a,b){return null===F(a,b)};var Q;(Q=a.NumericRangeValidationError||
(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var O;(O=a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";a.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};a.validateFieldValue=F;a.isNumberInRange=K;a.getFieldRange=function(a){var b=c.getDomainRange(a.domain);if(b)return b;if(H(a))return L(a.type)};a.getNumericTypeForValue=function(b){if(!x(b))return null;if(M(b)){if(b>=
a.smallIntegerRange.min&&b<=a.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(b>=a.integerRange.min&&b<=a.integerRange.max)return"esriFieldTypeInteger"}return b>=a.singleRange.min&&b<=a.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.smallIntegerRange={min:-32768,max:32767,isInteger:!0};a.integerRange={min:-2147483648,max:2147483647,isInteger:!0};a.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};a.doubleRange={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};a.validationErrorToString=
function(a,b,d){switch(a){case c.DomainValidationError.INVALID_CODED_VALUE:return"Value "+d+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case c.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+d+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case O.INVALID_TYPE:return"Value "+d+" is not a valid value for the field type - field: "+b.name+", type: "+b.type+", nullable: "+b.nullable;case Q.OUT_OF_RANGE:return a=
L(b.type),"Value "+d+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};a.featureHasFields=function(a,b){if(!b||!b.attributes||!a)return!1;b=b.attributes;for(var c=0;c<a.length;c++)if(!(a[c]in b))return!1;return!0}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(b,a,p,e,n,h,l){function g(a,b){switch(a.type){case "range":var c=
"range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return m.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return m.INVALID_CODED_VALUE}return null}Object.defineProperty(a,"__esModule",{value:!0});a.CodedValueDomain=e;a.DomainBase=n;a.InheritedDomain=h;a.RangeDomain=l;var m;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(m=a.DomainValidationError||(a.DomainValidationError={}));a.isValidDomainValue=function(a,b){return null===g(a,b)};a.validateDomainValue=g;a.types={key:"type",base:a.DomainBase,typeMap:{range:a.RangeDomain,"coded-value":a.CodedValueDomain,inherited:a.InheritedDomain}};a.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};a.fromJSON=function(b){if(!b||!b.type)return null;
switch(b.type){case "range":return a.RangeDomain.fromJSON(b);case "codedValue":return a.CodedValueDomain.fromJSON(b);case "inherited":return a.InheritedDomain.fromJSON(b);default:p.neverReached(b)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=
a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}p(b,a);c=b;b.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};b.prototype.clone=function(){return new c({codedValues:n.clone(this.codedValues),name:this.name})};var c;e([h.property({type:[l.default],json:{write:!0}})],b.prototype,"codedValues",void 0);e([h.enumeration.serializable()({codedValue:"coded-value"})],b.prototype,
"type",void 0);return b=c=e([h.subclass("esri.layers.support.CodedValueDomain")],b)}(h.declared(g))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}e(b,a);m=b;b.prototype.clone=
function(){return new m({name:this.name,code:this.code})};var m;p([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);p([h.property({type:[String,Number],json:{write:!0}})],b.prototype,"code",void 0);return b=m=p([h.subclass("esri.layers.support.CodedValue")],b)}(h.declared(n));a.CodedValue=b;a.default=b})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h,l){var g=new n.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}p(b,a);e([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([l.enumeration.serializable()(g)],b.prototype,"type",void 0);return b=e([l.subclass("esri.layers.support.Domain")],b)}(l.declared(h))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this,b)||this;b.type="inherited";return b}p(b,a);m=b;b.prototype.clone=function(){return new m};var m;e([n.enumeration.serializable()({inherited:"inherited"})],b.prototype,"type",void 0);return b=m=e([n.subclass("esri.layers.support.InheritedDomain")],b)}(n.declared(h))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";return b}p(b,a);m=b;b.prototype.clone=function(){return new m({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var m;e([n.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,
b,f){b[f]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);e([n.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,f){b[f]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);e([n.enumeration.serializable()({range:"range"})],b.prototype,"type",void 0);return b=m=e([n.subclass("esri.layers.support.RangeDomain")],b)}(n.declared(h))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/promiseUtils".split(" "),
function(b,a,p,e,n,h,l){function g(){return e(this,void 0,void 0,function(){return p(this,function(a){m||(m=l.all([l.create(function(a){return b(["./arcadeUtils"],a)})]).then(function(a){a=a[0];return{arcade:a.arcade,arcadeUtils:a,Dictionary:a.Dictionary,Feature:a.arcadeFeature}}));return[2,m]})})}Object.defineProperty(a,"__esModule",{value:!0});var m;a.loadArcade=g;a.createLabelExpression=function(a,b,e){return d.create(a,b,e,["$feature"])};a.createVVExpression=function(a,b,e){return d.create(a,
b,e,["$feature","$view"])};a.createRendererExpression=function(a,b,e){return d.create(a,b,e,["$feature","$view"])};var d=function(){function a(a,b,c,d,e,g,m){this.evaluate=d;this._syntaxTree=c;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=e;this._fields=g;this._spatialReference=m;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"$view.scale")}a.create=function(b,c,d,r,m){return e(this,void 0,void 0,
function(){var f,e,k,q,u,x,v,A,w,y,I,G,H,F;return p(this,function(p){switch(p.label){case 0:return[4,g()];case 1:return f=p.sent(),e=f.arcade,k=f.Feature,q=f.Dictionary,u=h.SpatialReference.fromJSON(c),x=e.parseScript(b,m),v=r.reduce(function(a,b){var c;return n({},a,(c={},c[b]=null,c))},{}),A=e.scriptUsesGeometryEngine(x)&&e.enableGeometrySupport(),w=e.scriptUsesFeatureSet(x)&&e.enableFeatureSetSupport(),y=e.scriptIsAsync(x)&&e.enableAsyncSupport(),I={vars:v,spatialReference:u,useAsync:!!y},G=new q,
G.immutable=!1,G.setField("scale",0),H=e.compileScript(x,I),F=function(a){"$view"in a&&a.$view&&(G.setField("scale",a.$view.scale),a.$view=G);return H({vars:a,spatialReference:u})},[4,l.all([A,w,y])];case 2:return p.sent(),[2,new a(e,q,x,F,new k,d,u)]}})})};a.prototype.repurposeFeature=function(a){a.geometry.spatialReference||(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};
a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,
a)};return a}();a.default=d})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(b,a,p,e,n,h,l){Object.defineProperty(a,"__esModule",{value:!0});a.AttachmentsContent=p;a.BaseContent=e;a.FieldsContent=n;a.MediaContent=h;a.TextContent=l;a.isContent=function(b){return b instanceof a.BaseContent};a.types={base:null,key:"type",typeMap:{attachment:a.AttachmentsContent,
fields:a.FieldsContent,media:a.MediaContent,text:a.TextContent}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=a.call(this)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}p(b,a);c=b;b.prototype.clone=
function(){return new c({displayType:this.displayType,attachmentInfos:this.attachmentInfos?n.clone(this.attachmentInfos):null})};var c;e([h.property({type:[l]})],b.prototype,"attachmentInfos",void 0);e([h.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);e([h.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=e([h.subclass("esri.popup.content.AttachmentsContent")],b)}(h.declared(g))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),
function(b,a,p,e,n,h,l,g){var m={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.keywords=null;b.name=null;b.parentObjectId=null;b.size=null;b.url=null;return b}p(b,a);d=b;Object.defineProperty(b.prototype,
"orientationInfo",{get:function(){var a=g.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return m[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,keywords:this.keywords,name:this.name,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var d;e([h.property({type:String})],b.prototype,"contentType",void 0);e([h.property()],b.prototype,"exifInfo",void 0);
e([h.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);e([h.property({type:l.Integer})],b.prototype,"id",void 0);e([h.property({type:String})],b.prototype,"keywords",void 0);e([h.property({type:String})],b.prototype,"name",void 0);e([h.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);e([h.property({type:l.Integer})],b.prototype,"size",void 0);e([h.property({json:{read:!1}})],b.prototype,"url",void 0);return b=d=e([h.subclass("esri.layers.support.AttachmentInfo")],
b)}(h.declared(n))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(b,a,p){function e(a){var b=a.tagName;a=a.tags;return a&&b?(a=p.find(a,function(a){return a.name===b}))&&a.value||null:null}Object.defineProperty(a,"__esModule",{value:!0});a.getExifValue=function(a){var b=a.exifInfo,l=a.exifName;a=a.tagName;return b&&l&&a?(b=p.find(b,function(a){return a.name===l}))?e({tagName:a,tags:b.tags}):null:null}})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.type=null;return b}p(b,a);e([h.property({type:["attachments","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.popup.content.Content")],b)}(h.declared(n))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),
function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=a.call(this)||this;b.fieldInfos=null;b.type="fields";return b}p(b,a);c=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new c({fieldInfos:Array.isArray(this.fieldInfos)?n.clone(this.fieldInfos):null})};var c;e([h.property({type:[l]})],b.prototype,"fieldInfos",void 0);e([h.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);e([h.property({type:["fields"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=e([h.subclass("esri.popup.content.FieldsContent")],b)}(h.declared(g))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(b,a,p,e,n,h,l,g,m){var d=new n.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});
return function(a){function b(b){b=a.call(this)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}p(b,a);c=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=d.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return d.fromJSON(a)};b.prototype.clone=function(){return new c({fieldName:this.fieldName,format:this.format?l.clone(this.format):null,isEditable:this.isEditable,
label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};var c;e([g.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);e([g.property({type:m,json:{write:!0}})],b.prototype,"format",void 0);e([g.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([g.property({type:d.apiValues,json:{write:!0,
default:"text-box",type:d.jsonValues}})],b.prototype,"stringFieldOption",void 0);e([g.writer("stringFieldOption")],b.prototype,"writeStringFieldOption",null);e([g.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);e([g.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);e([g.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);
return b=c=e([g.subclass("esri.popup.FieldInfo")],b)}(g.declared(h))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),function(b,a,p,e,n,h,l,g,m,d){return function(a){function b(b){b=a.call(this)||this;b.dateFormat=null;b.digitSeparator=
!1;b.places=null;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};b.prototype.format=function(a){return this.dateFormat?m.formatDate(a,m.convertDateFormatToIntlOptions(this.dateFormat)):d.formatNumber(a,d.convertNumberFormatToIntlOptions(this))};var c;e([l.enumeration.serializable()(n.dictionary)],b.prototype,"dateFormat",void 0);e([l.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",
void 0);e([l.property({type:g.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=c=e([l.subclass("esri.popup.support.FieldInfoFormat")],b)}(l.declared(h))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};a.dictionary=p.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);a.getFormat=function(b){return a.formats[b]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(b,a,p,e,n,h){function l(a){a=a||u;if(!r.has(a)){var b=h.getLocale(),b=k[h.getLocale()]||b;r.set(a,new Intl.DateTimeFormat(b,a))}return r.get(a)}Object.defineProperty(a,
"__esModule",{value:!0});b={year:"numeric",month:"numeric",day:"numeric"};var g={year:"numeric",month:"long",day:"numeric"},m={year:"numeric",month:"short",day:"numeric"},d={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},f=p({},c,{second:"numeric"}),q={"short-date":b,"short-date-short-time":p({},b,c),"short-date-short-time-24":p({},b,c,{hour12:!1}),"short-date-long-time":p({},b,f),"short-date-long-time-24":p({},b,f,{hour12:!1}),"short-date-le":b,"short-date-le-short-time":p({},
b,c),"short-date-le-short-time-24":p({},b,c,{hour12:!1}),"short-date-le-long-time":p({},b,f),"short-date-le-long-time-24":p({},b,f,{hour12:!1}),"long-month-day-year":g,"long-month-day-year-short-time":p({},g,c),"long-month-day-year-short-time-24":p({},g,c,{hour12:!1}),"long-month-day-year-long-time":p({},g,f),"long-month-day-year-long-time-24":p({},g,f,{hour12:!1}),"day-short-month-year":m,"day-short-month-year-short-time":p({},m,c),"day-short-month-year-short-time-24":p({},m,c,{hour12:!1}),"day-short-month-year-long-time":p({},
m,f),"day-short-month-year-long-time-24":p({},m,f,{hour12:!1}),"long-date":d,"long-date-short-time":p({},d,c),"long-date-short-time-24":p({},d,c,{hour12:!1}),"long-date-long-time":p({},d,f),"long-date-long-time-24":p({},d,f,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":f};a.dictionary=n.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.dateFormats=a.dictionary.apiValues;a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);var k={ar:"ar-u-nu-latn-ca-gregory"},r=new e.default,u=q["short-date-short-time"];h.onLocaleChange(function(){r=new e.default;u=q["short-date-short-time"]});a.getDateTimeFormatter=l;a.convertDateFormatToIntlOptions=function(a){return q[a]||null};a.formatDate=function(a,b){return l(b).format(a)}})},
"@dojo/framework/shim/WeakMap":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var p=b("tslib"),e=b("./global"),n=b("./iterator"),h=b("../has/has");b("./Symbol");a.WeakMap=e.default.WeakMap;if(!h.default("es6-weakmap")){var l=
{},g=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();a.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=g();this._frozenEntries=[];if(a)if(n.isArrayLike(a))for(var b=0;b<a.length;b++){var d=a[b];this.set(d[0],d[1])}else try{for(b=p.__values(a),d=b.next();!d.done;d=b.next()){var e=p.__read(d.value,2);this.set(e[0],e[1])}}catch(u){k={error:u}}finally{try{d&&!d.done&&(r=b.return)&&r.call(b)}finally{if(k)throw k.error;
}}var k,r}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==l)return b.value=l,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==l)return b.value;a=this._getFrozenEntryIndex(a);
if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==l||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));
c.value=b;return this};return a}()}a.default=a.WeakMap})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});var e=p.locale;a.getLocale=function(){return e};a.setLocale=function(a){e=a;n.slice().forEach(function(b){b.call(null,a)})};var n=[];a.onLocaleChange=function(a){n.push(a);return{remove:function(){n.splice(n.indexOf(a),1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper",
"@dojo/framework/shim/WeakMap","./locale"],function(b,a,p,e,n){function h(a){var b=a||m;if(!g.has(b)){var d=n.getLocale(),d=l[n.getLocale()]||d;g.set(b,new Intl.NumberFormat(d,a))}return g.get(b)}Object.defineProperty(a,"__esModule",{value:!0});var l={ar:"ar-u-nu-arab"},g=new e.default,m={};n.onLocaleChange(function(){g=new e.default;m={}});a.getFormatter=h;a.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&
(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};a.formatNumber=function(a,b){return h(b).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(b,a,p,e,n,h,l,g,m,d,
c,f,q){return function(a){function b(b){b=a.call(this)||this;b.mediaInfos=null;b.type="media";return b}p(b,a);k=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return d.fromJSON(a);if("barchart"===a.type)return l.fromJSON(a);if("columnchart"===a.type)return g.fromJSON(a);if("linechart"===a.type)return c.fromJSON(a);if("piechart"===a.type)return f.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=a&&a.map(function(a){return a.toJSON()})};
b.prototype.clone=function(){return new k({mediaInfos:this.mediaInfos?n.clone(this.mediaInfos):null})};var k;e([h.property({types:[q.types]})],b.prototype,"mediaInfos",void 0);e([h.reader("mediaInfos")],b.prototype,"readMediaInfos",null);e([h.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);e([h.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=k=e([h.subclass("esri.popup.content.MediaContent")],b)}(h.declared(m))})},"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.type="bar-chart";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var d;e([n.property({type:["bar-chart"],readOnly:!0,json:{read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=d=e([n.subclass("esri.popup.content.BarChartMediaInfo")],b)}(n.declared(h))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.type=null;b.value=null;return b}p(b,a);e([n.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);e([n.property({type:l,json:{write:!0}})],b.prototype,"value",void 0);return b=e([n.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(n.declared(h))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.caption="";b.title="";b.type=null;return b}p(b,a);e([h.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);e([h.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.popup.content.mixins.MediaInfo")],b)}(h.declared(n))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=a.call(this)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({fields:h.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var c;e([l.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);e([l.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);e([l.property({type:[g],json:{read:!1}})],b.prototype,"series",void 0);e([l.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=c=e([l.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(l.declared(n))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.tooltip=null;b.x=null;b.y=null;return b}p(b,a);m=b;b.prototype.clone=function(){return new m({tooltip:this.tooltip,x:this.x,y:this.y})};var m;e([h.property()],b.prototype,"tooltip",void 0);e([h.property()],b.prototype,"x",void 0);e([h.property()],b.prototype,"y",void 0);return b=m=e([h.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(h.declared(n))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.chartTypeKebabDict=p.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(b,a,
p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.type="column-chart";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var d;e([n.property({type:["column-chart"],readOnly:!0,json:{read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=d=e([n.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(n.declared(h))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}p(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var d;e([n.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);e([n.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);e([n.property({type:l,
json:{write:!0}})],b.prototype,"value",void 0);return b=d=e([n.subclass("esri.popup.content.ImageMediaInfo")],b)}(n.declared(h))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.linkURL=null;b.sourceURL=null;return b}p(b,a);
m=b;b.prototype.clone=function(){return new m({linkURL:this.linkURL,sourceURL:this.sourceURL})};var m;e([h.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=m=e([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(h.declared(n))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.type="line-chart";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var d;e([n.property({type:["line-chart"],readOnly:!0,json:{read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=d=e([n.subclass("esri.popup.content.LineChartMediaInfo")],b)}(n.declared(h))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.type="pie-chart";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var d;e([n.property({type:["pie-chart"],readOnly:!0,json:{read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=d=e([n.subclass("esri.popup.content.PieChartMediaInfo")],b)}(n.declared(h))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(b,a,p,e,n,h,l,g){Object.defineProperty(a,"__esModule",{value:!0});a.types={base:g,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":p,"column-chart":e,"line-chart":h,"pie-chart":l,image:n}};a.default=a.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||
this;b.text=null;b.type="text";return b}p(b,a);m=b;b.prototype.clone=function(){return new m({text:this.text})};var m;e([n.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([n.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=m=e([n.subclass("esri.popup.content.TextContent")],b)}(n.declared(h))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}p(b,a);m=b;b.prototype.clone=function(){return new m({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var m;e([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);e([h.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);e([h.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=m=e([h.subclass("esri.popup.ExpressionInfo")],b)}(h.declared(n))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.returnTopmostRaster=null;b.showNoDataRecords=null;
return b}p(b,a);m=b;b.prototype.clone=function(){return new m({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var m;e([h.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);e([h.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=m=e([h.subclass("esri.popup.LayerOptions")],b)}(h.declared(n))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=a.call(this)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?h.clone(this.orderByFields):null})};var c;e([l.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);e([l.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=c=e([l.subclass("esri.popup.RelatedRecordsInfo")],
b)}(l.declared(n))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.field=null;b.order=null;return b}p(b,a);m=b;b.prototype.clone=function(){return new m({field:this.field,order:this.order})};var m;e([h.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);e([h.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=m=e([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(h.declared(n))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h,l){return function(a){function b(b){b=
a.call(this)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}p(b,a);d=b;b.prototype.clone=function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var d;e([l.property()],b.prototype,"active",void 0);e([l.property()],b.prototype,"className",void 0);e([l.property()],b.prototype,"disabled",void 0);e([l.property()],b.prototype,
"id",void 0);e([l.property()],b.prototype,"indicator",void 0);e([l.property()],b.prototype,"title",void 0);e([l.property()],b.prototype,"type",void 0);e([l.property()],b.prototype,"visible",void 0);return b=d=e([l.subclass("esri.support.actions.ActionBase")],b)}(l.declared(n,h.Identifiable))})},"esri/core/Identifiable":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var p=0;b=function(){return function(){Object.defineProperty(this,"uid",{writable:!1,
configurable:!1,value:Date.now().toString(16)+"-object-"+p++})}}();a.Identifiable=b})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.image=null;b.type="button";return b}p(b,a);m=b;b.prototype.clone=function(){return new m({active:this.active,className:this.className,
disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var m;e([n.property()],b.prototype,"image",void 0);return b=m=e([n.subclass("esri.support.Action.ActionButton")],b)}(n.declared(h))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=
a.call(this)||this;b.image=null;b.type="toggle";b.value=!1;return b}p(b,a);m=b;b.prototype.clone=function(){return new m({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var m;e([n.property()],b.prototype,"image",void 0);e([n.property()],b.prototype,"value",void 0);return b=m=e([n.subclass("esri.support.Action.ActionToggle")],b)}(n.declared(h))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z,C,t,D,B,x,v,A,w,y,I,G,H,F,K,L,J,M){Object.defineProperty(a,"__esModule",{value:!0});a.CIMSymbol=e;a.ExtrudeSymbol3DLayer=n;a.BaseFillSymbol=h;a.FillSymbol3DLayer=l;a.Font=g;a.IconSymbol3DLayer=m;a.LabelSymbol3D=d;a.LineSymbol3D=c;a.LineSymbol3DLayer=f;a.BaseMarkerSymbol=q;a.MeshSymbol3D=k;a.ObjectSymbol3DLayer=r;a.PathSymbol3DLayer=u;a.PictureFillSymbol=z;a.PictureMarkerSymbol=C;a.PointSymbol3D=t;a.PolygonSymbol3D=D;a.SimpleFillSymbol=B;a.SimpleLineSymbol=
x;a.SimpleMarkerSymbol=v;a.BaseSymbol=A;a.BaseSymbol3D=w;a.BaseSymbol3DLayer=y;a.TextSymbol=I;a.TextSymbol3DLayer=G;a.WaterSymbol3DLayer=H;a.WebStyleSymbol=F;a.LineCallout3D=K;a.LineCallout3DBorder=L;a.Symbol3DVerticalOffset=J.Symbol3DVerticalOffset;a.fromJSON=M.fromJSON;a.isSymbol=function(b){return b instanceof a.BaseSymbol};a.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};a.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.symbolTypes={base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.SimpleFillSymbol,"picture-fill":a.PictureFillSymbol,"picture-marker":a.PictureMarkerSymbol,"simple-line":a.SimpleLineSymbol,"simple-marker":a.SimpleMarkerSymbol,text:a.TextSymbol,"label-3d":a.LabelSymbol3D,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,
"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol,cim:a.CIMSymbol}};a.symbolTypesRenderer={base:a.BaseSymbol,key:"type",typeMap:{"simple-fill":a.SimpleFillSymbol,"picture-fill":a.PictureFillSymbol,"picture-marker":a.PictureMarkerSymbol,"simple-line":a.SimpleLineSymbol,"simple-marker":a.SimpleMarkerSymbol,text:a.TextSymbol,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol,cim:a.CIMSymbol}};
a.symbolTypesLabel={base:a.BaseSymbol,key:"type",typeMap:{text:a.TextSymbol,"label-3d":a.LabelSymbol3D}};a.symbolTypes3D={base:a.BaseSymbol,key:"type",typeMap:{"label-3d":a.LabelSymbol3D,"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol}};a.symbolTypesRenderer3D={base:a.BaseSymbol,key:"type",typeMap:{"line-3d":a.LineSymbol3D,"mesh-3d":a.MeshSymbol3D,"point-3d":a.PointSymbol3D,"polygon-3d":a.PolygonSymbol3D,"web-style":a.WebStyleSymbol}};
a.symbolTypesLabel3D={base:a.BaseSymbol,key:"type",typeMap:{"label-3d":a.LabelSymbol3D}};a.ensureType=p.ensureOneOfType(a.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(b,
a,p,e,n,h,l,g,m,d,c,f,q){return function(a){function b(b){b=a.call(this,b)||this;b.data=null;b.portal=null;b.styleName="";b.styleUrl="";b.type="cim";return b}p(b,a);f=b;b.prototype.readData=function(a,b){return b.symbol};b.prototype.writeData=function(a,b){a&&(b.symbol=a)};b.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};b.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){var c,f,
e,k,r,m,h;return n(this,function(l){switch(l.label){case 0:return[4,q.expandSymbol(this,q.constructUrlFn)];case 1:l.sent(),f=(c="object"===typeof this.data&&this.data.length)?this.data:[this.data],e=0,k=f,l.label=2;case 2:if(!(e<k.length))return[3,5];r=k[e];m=r.primitiveOverrides;if(!m)return[3,4];h=m.map(function(c){return d.collectArcadeFieldNames(a,b,c.valueExpressionInfo.expression)});return[4,g.all(h)];case 3:l.sent(),l.label=4;case 4:return e++,[3,2];case 5:return[2]}})})};b.prototype.clone=
function(){return new f({color:this.color.clone(),data:l.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};var f;e([m.property({json:{write:!1}})],b.prototype,"color",void 0);e([m.property({json:{write:!0}})],b.prototype,"data",void 0);e([m.reader("data",["data","symbol"])],b.prototype,"readData",null);e([m.writer("data")],b.prototype,"writeData",null);e([m.property({type:c,json:{write:!1}})],b.prototype,"portal",void 0);e([m.property({json:{write:!0}})],b.prototype,
"styleName",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);e([m.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);e([m.writer("styleUrl")],b.prototype,"writeStyleUrl",null);e([m.enumeration.serializable()({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=f=e([m.subclass("esri.symbols.CIMSymbol")],b)}(m.declared(f))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z,C,t,D,B,x,v){var A,w={PortalGroup:function(){return C.create(function(a){return b(["./PortalGroup"],a)})},PortalItem:function(){return C.create(function(a){return b(["./PortalItem"],a)})},PortalUser:function(){return C.create(function(a){return b(["./PortalUser"],a)})}};return function(a){function k(b){b=a.call(this)||this;b.access=null;b.allSSL=!1;b.authMode="auto";b.authorizedCrossOriginDomains=null;b.basemapGalleryGroupQuery=null;b.bingKey=null;b.canListApps=
!1;b.canListData=!1;b.canListPreProvisionedItems=!1;b.canProvisionDirectPurchase=!1;b.canSearchPublic=!0;b.canShareBingPublic=!1;b.canSharePublic=!1;b.canSignInArcGIS=!1;b.canSignInIDP=!1;b.colorSetsGroupQuery=null;b.commentsEnabled=!1;b.created=null;b.culture=null;b.customBaseUrl=null;b.defaultBasemap=null;b.defaultExtent=null;b.defaultVectorBasemap=null;b.description=null;b.eueiEnabled=!1;b.featuredGroups=null;b.featuredItemsGroupQuery=null;b.galleryTemplatesGroupQuery=null;b.livingAtlasGroupQuery=
null;b.hasCategorySchema=!1;b.helperServices=null;b.homePageFeaturedContent=null;b.homePageFeaturedContentCount=null;b.httpPort=null;b.httpsPort=null;b.id=null;b.ipCntryCode=null;b.isPortal=!1;b.layerTemplatesGroupQuery=null;b.maxTokenExpirationMinutes=null;b.modified=null;b.name=null;b.portalHostname=null;b.portalMode=null;b.portalProperties=null;b.region=null;b.rotatorPanels=null;b.showHomePageDescription=!1;b.supportsHostedServices=!1;b.symbolSetsGroupQuery=null;b.templatesGroupQuery=null;b.units=
null;b.url=d.portalUrl;b.urlKey=null;b.user=null;b.useStandardizedQuery=!1;b.useVectorBasemaps=!1;b.vectorBasemapGalleryGroupQuery=null;return b}n(k,a);u=k;k.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};k.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};k.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];-1===d.request.trustedServers.indexOf(c)&&
d.request.trustedServers.push(c)}return a};k.prototype.readDefaultBasemap=function(a){return a?(a=A.fromJSON(a),a.portalItem={portal:this},a):null};k.prototype.readDefaultVectorBasemap=function(a){return a?(a=A.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(k.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"isOrganization",
{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});k.prototype.readUrlKey=
function(a){return a?a.toLowerCase():a};k.prototype.readUser=function(a){var b=null;a&&(b=v.fromJSON(a),b.portal=this);return b};k.prototype.load=function(a){var d=this,f=C.create(function(a){return b(["../Basemap"],a)}).then(function(b){C.throwIfAborted(a);A=b}).then(function(){return d._fetchSelf(d.authMode,!1,a)}).then(function(a){if(c.id){var b=c.id;d.credential=b.findCredential(d.restUrl);d.credential||d.authMode!==u.AUTH_MODE_AUTO||(d._esriId_credentialCreateHandle=b.on("credential-create",
function(){b.findCredential(d.restUrl)&&d._signIn()}))}d.read(a)});this.addResolvingPromise(f);return this.when()};k.prototype.createClosestFacilityTask=function(){return e(this,void 0,void 0,function(){var a,c;return l(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(a,c){b(["../tasks/ClosestFacilityTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};k.prototype.createElevationLayers=
function(){return e(this,void 0,void 0,function(){var a,c;return l(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(a,c){b(["../layers/ElevationLayer"],a,c)})];case 2:return c=d.sent(),[2,a?a.map(function(a){return new c({id:a.id,url:a.url})}):[]]}})})};k.prototype.createGeometryService=function(){return e(this,void 0,void 0,function(){var a,c;return l(this,function(d){switch(d.label){case 0:return[4,
this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("geometry"),[4,new Promise(function(a,c){b(["../tasks/GeometryService"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};k.prototype.createPrintTask=function(){return e(this,void 0,void 0,function(){var a,c;return l(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("printTask"),[4,new Promise(function(a,c){b(["../tasks/PrintTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};
k.prototype.createRouteTask=function(){return e(this,void 0,void 0,function(){var a,c;return l(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("route"),[4,new Promise(function(a,c){b(["../tasks/RouteTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};k.prototype.createServiceAreaTask=function(){return e(this,void 0,void 0,function(){var a,c;return l(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),
a=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(a,c){b(["../tasks/ServiceAreaTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};k.prototype.fetchBasemaps=function(a,b){var c=new B;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=
a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new A({portalItem:a})}):[]})};k.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):C.isAborted(a)?C.reject(C.createAbortError()):C.resolve([])};k.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=
new B;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],f=0;f<b.length;f++){var e=b[f];d.push('(title:"'+e.title+'" AND owner:'+e.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return C.isAborted(a)?C.reject(C.createAbortError()):C.resolve([])};k.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",p({},a,{query:{culture:this.user&&this.user.culture||this.culture||m.locale}}))};k.getDefault=function(){u._default||
(u._default=new u);return u._default};k.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};k.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};k.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",b)};k.prototype.toJSON=function(){throw new q("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};k.prototype._getHelperService=
function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new q("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};k.prototype._getHelperServiceUrl=function(a){var b=this._getHelperService(a);if(!b.url)throw new q("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};k.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var d=this.restUrl+"/portals/self";
a=p({authMode:a,query:{culture:m.locale}},c);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(d,a)};k.prototype._queryPortal=function(a,b,c,d){var f=this,e=function(c){return f._request(f.restUrl+a,p({},b.toRequestOptions(f),d)).then(function(a){var e=b.clone();e.start=a.nextStart;return new x({nextQueryParams:e,queryParams:b,total:a.total,results:u._resultsToTypedArray(c,{portal:f},a,d)})}).then(function(a){return C.all(a.results.map(function(b){return"function"===
typeof b.when?b.when():a})).then(function(){return a},function(b){C.throwIfAbortError(b);return a})})};return c&&w[c]?w[c]().then(function(a){C.throwIfAborted(d);return e(a)}):e()};k.prototype._signIn=function(){var a=this;if(this.authMode===u.AUTH_MODE_ANONYMOUS)return C.reject(new q("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return C.reject(this.loadError);var b=function(b){return C.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||
(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&a.read(b)})};return c.id?c.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};k.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",
":7443")};k.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};k.prototype._requestToTypedArray=function(a,c,d){var f=this,e=function(b){return f._request(a,c).then(function(a){var c=u._resultsToTypedArray(b,{portal:f},a);return C.all(c.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return c},function(){return c})})};return d?C.create(function(a){return b(["./"+
d],a)}).then(function(a){return e(a)}):e()};k.prototype._request=function(a,b){void 0===b&&(b={});var c=p({f:"json"},b.query),d=b.authMode,e=b.body,k=b.cacheBust,q=b.method,r=b.responseType;b={authMode:void 0===d?this.authMode===u.AUTH_MODE_ANONYMOUS?"anonymous":"auto":d,body:void 0===e?null:e,cacheBust:void 0===k?!1:k,method:void 0===q?"auto":q,query:c,responseType:void 0===r?"json":r,timeout:0,signal:b.signal};return f(this._normalizeSSL(a),b).then(function(a){return a.data})};k._resultsToTypedArray=
function(a,b,c,d){if(c){var f=z.isSome(d)?d.signal:null;c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=r.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(f);return c})}else c=[];return c};var u;k.AUTH_MODE_ANONYMOUS="anonymous";k.AUTH_MODE_AUTO="auto";k.AUTH_MODE_IMMEDIATE="immediate";h([t.property()],k.prototype,"access",void 0);h([t.property()],k.prototype,"allSSL",void 0);
h([t.property()],k.prototype,"authMode",void 0);h([t.property()],k.prototype,"authorizedCrossOriginDomains",void 0);h([t.reader("authorizedCrossOriginDomains")],k.prototype,"readAuthorizedCrossOriginDomains",null);h([t.property()],k.prototype,"basemapGalleryGroupQuery",void 0);h([t.property()],k.prototype,"bingKey",void 0);h([t.property()],k.prototype,"canListApps",void 0);h([t.property()],k.prototype,"canListData",void 0);h([t.property()],k.prototype,"canListPreProvisionedItems",void 0);h([t.property()],
k.prototype,"canProvisionDirectPurchase",void 0);h([t.property()],k.prototype,"canSearchPublic",void 0);h([t.property()],k.prototype,"canShareBingPublic",void 0);h([t.property()],k.prototype,"canSharePublic",void 0);h([t.property()],k.prototype,"canSignInArcGIS",void 0);h([t.property()],k.prototype,"canSignInIDP",void 0);h([t.property()],k.prototype,"colorSetsGroupQuery",void 0);h([t.property()],k.prototype,"commentsEnabled",void 0);h([t.property({type:Date})],k.prototype,"created",void 0);h([t.property()],
k.prototype,"credential",void 0);h([t.property()],k.prototype,"culture",void 0);h([t.property()],k.prototype,"currentVersion",void 0);h([t.property()],k.prototype,"customBaseUrl",void 0);h([t.property()],k.prototype,"defaultBasemap",void 0);h([t.reader("defaultBasemap")],k.prototype,"readDefaultBasemap",null);h([t.property({type:D})],k.prototype,"defaultExtent",void 0);h([t.property()],k.prototype,"defaultVectorBasemap",void 0);h([t.reader("defaultVectorBasemap")],k.prototype,"readDefaultVectorBasemap",
null);h([t.property()],k.prototype,"description",void 0);h([t.property()],k.prototype,"eueiEnabled",void 0);h([t.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],k.prototype,"extraQuery",null);h([t.property()],k.prototype,"featuredGroups",void 0);h([t.property()],k.prototype,"featuredItemsGroupQuery",void 0);h([t.property()],k.prototype,"galleryTemplatesGroupQuery",void 0);h([t.property()],k.prototype,"livingAtlasGroupQuery",void 0);h([t.property()],k.prototype,"hasCategorySchema",
void 0);h([t.property()],k.prototype,"helpBase",void 0);h([t.property()],k.prototype,"helperServices",void 0);h([t.property()],k.prototype,"helpMap",void 0);h([t.property()],k.prototype,"homePageFeaturedContent",void 0);h([t.property()],k.prototype,"homePageFeaturedContentCount",void 0);h([t.property()],k.prototype,"httpPort",void 0);h([t.property()],k.prototype,"httpsPort",void 0);h([t.property()],k.prototype,"id",void 0);h([t.property()],k.prototype,"ipCntryCode",void 0);h([t.property({dependsOn:["access"],
readOnly:!0})],k.prototype,"isOrganization",null);h([t.property()],k.prototype,"isPortal",void 0);h([t.property()],k.prototype,"layerTemplatesGroupQuery",void 0);h([t.property()],k.prototype,"maxTokenExpirationMinutes",void 0);h([t.property({type:Date})],k.prototype,"modified",void 0);h([t.property()],k.prototype,"name",void 0);h([t.property()],k.prototype,"portalHostname",void 0);h([t.property()],k.prototype,"portalMode",void 0);h([t.property()],k.prototype,"portalProperties",void 0);h([t.property()],
k.prototype,"region",void 0);h([t.property({dependsOn:["url"],readOnly:!0})],k.prototype,"restUrl",null);h([t.property()],k.prototype,"rotatorPanels",void 0);h([t.property()],k.prototype,"showHomePageDescription",void 0);h([t.property()],k.prototype,"staticImagesUrl",void 0);h([t.property()],k.prototype,"stylesGroupQuery",void 0);h([t.property()],k.prototype,"supportsHostedServices",void 0);h([t.property()],k.prototype,"symbolSetsGroupQuery",void 0);h([t.property()],k.prototype,"templatesGroupQuery",
void 0);h([t.property()],k.prototype,"thumbnail",void 0);h([t.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],k.prototype,"thumbnailUrl",null);h([t.property()],k.prototype,"units",void 0);h([t.property()],k.prototype,"url",void 0);h([t.property()],k.prototype,"urlKey",void 0);h([t.reader("urlKey")],k.prototype,"readUrlKey",null);h([t.property()],k.prototype,"user",void 0);h([t.reader("user")],k.prototype,"readUser",null);h([t.property()],k.prototype,"useStandardizedQuery",void 0);h([t.property()],
k.prototype,"useVectorBasemaps",void 0);h([t.property()],k.prototype,"vectorBasemapGalleryGroupQuery",void 0);h([g(1,t.cast(B))],k.prototype,"_queryPortal",null);return k=u=h([t.subclass("esri.portal.Portal")],k)}(t.declared(k,u))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(b,a){return function(p,e){a(p,e,b)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper @dojo/framework/shim/global ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils @dojo/framework/shim/Promise".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k){function r(a,b){var c=f.createAbortController();return f.create(function(d,f){u(c.signal,a,b).then(d).catch(f)},function(){c.abort()})}function u(a,b,c){return e(this,void 0,void 0,function(){var e,q,r,g,m,h,u,t;return n(this,function(n){switch(n.label){case 0:return e=k.isDataProtocol(b),(q=k.isBlobProtocol(b))||e||(b=k.normalize(b)),r={url:b,requestOptions:p({},c)},(g=k.getInterceptor(b))?[4,y(g,r)]:[3,2];case 1:m=n.sent();if(null!=m)return[2,{data:m,getHeader:R,
requestOptions:r.requestOptions,url:r.url}];g.after||g.error||(g=null);n.label=2;case 2:b=r.url;c=r.requestOptions;if("image"===c.responseType){if(d("host-webworker"))throw D("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),r);}else if(e)throw D("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+c.responseType),r);if("head"===c.method){if(c.body)throw D("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
r);if(e||q)throw D("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),r);}return[4,B()];case 3:n.sent();if(J)return[2,J.execute(b,c)];h=f.createAbortController();f.onAbort(a,function(){return h.abort()});f.onAbort(c,function(){return h.abort()});u={controller:h,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:g,params:r,redoRequest:!1,useIdentity:l.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,H(u)];case 4:return t=
n.sent(),g&&g.after&&g.after(t),[2,t]}})})}function z(a){k.isBlobProtocol(a)||k.isDataProtocol(a)||(a=k.getOrigin(a))&&-1===r._corsServers.indexOf(a)&&r._corsServers.push(a)}function C(a){a=k.getOrigin(a);return!a||q.endsWith(a,".arcgis.com")||k.hasSameOrigin(a,k.appUrl)||-1!==r._corsServers.indexOf(a)||k.isTrustedServer(a)}function t(){var a;try{a=new DOMException("Aborted","AbortError")}catch(V){a=Error("Aborted"),a.name="AbortError"}return a}function D(a,b,d,f){var e="Error",k={url:d.url,requestOptions:d.requestOptions,
getHeader:R,ssl:!1};if(b instanceof m)return b.details?(b.details=c.clone(b.details),b.details.url=d.url,b.details.requestOptions=d.requestOptions):b.details=k,b;if(b){d=f&&function(a){return f.headers.get(a)};var q=f&&f.status,r=b.message;r&&(e=r);d&&(k.getHeader=d);k.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||q||0;k.subCode=b.subcode;k.messageCode=b.messageCode;k.messages="string"===typeof b.details?[b.details]:b.details}a=new m(a,e,k);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}
function B(){return e(this,void 0,void 0,function(){return n(this,function(a){switch(a.label){case 0:return d("host-webworker")?J?[3,2]:[4,new Promise(function(a,c){b(["./core/workers/request"],a,c)})]:[3,3];case 1:J=a.sent(),a.label=2;case 2:return[3,6];case 3:if(L)return[3,6];if(!d("esri-abortable-fetch"))return[3,4];L=h.default.fetch;return[3,6];case 4:return[4,new Promise(function(a,c){b(["whatwg-fetch"],a,c)})];case 5:L=a.sent().fetch,a.label=6;case 6:return[2]}})})}function x(){return e(this,
void 0,void 0,function(){return n(this,function(a){switch(a.label){case 0:return g.id?[3,2]:[4,new Promise(function(a,c){b(["./identity/IdentityManager"],a,c)})];case 1:a.sent(),a.label=2;case 2:return[2]}})})}function v(a){return e(this,void 0,void 0,function(){var b,c,e,k,q,r,m,l;return n(this,function(n){switch(n.label){case 0:b=a.params.url;c=a.params.requestOptions;e=a.controller.signal;k=c.body;m=r=q=null;M&&"HTMLFormElement"in h.default&&(k instanceof FormData?q=k:k instanceof HTMLFormElement&&
(r=k,q=new FormData(r)));"string"===typeof k&&(m=k);a.fetchOptions={cache:c.cacheBust&&d("esri-abortable-fetch")?"reload":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:e};if(q||m)a.fetchOptions.body=q||m;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||q&&q.get&&q.get("token")||r&&r.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||A(b)||f.isAborted(e))return[3,
11];l=void 0;return"immediate"!==c.authMode?[3,3]:[4,x()];case 1:return n.sent(),[4,g.id.getCredential(b,{signal:e})];case 2:return l=n.sent(),a.credential=l,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,x()];case 4:n.sent(),n.label=5;case 5:return n.trys.push([5,7,,8]),[4,g.id.checkSignInStatus(b)];case 6:return l=n.sent(),[3,8];case 7:return n.sent(),[3,8];case 8:return[3,10];case 9:g.id&&(l=g.id.findCredential(b)),n.label=10;case 10:l&&(a.credentialToken=l.token,a.useSSL=!!l.ssl),n.label=
11;case 11:return[2]}})})}function A(a){return O.some(function(b){return b.test(a)})}function w(a){return e(this,void 0,void 0,function(){var b,c,e,q,r,m,h,u,t,x,v,B,w,A,H,y,F,N,J,P,Q,O,R,fa,ea,da;return n(this,function(n){switch(n.label){case 0:b=a.params.url;c=a.params.requestOptions;e=a.fetchOptions;q=k.isBlobProtocol(b)||k.isDataProtocol(b);r=c.responseType||"json";m=q?0:null!=c.timeout?c.timeout:l.request.timeout;h=!1;if(!q){a.useSSL&&(b=k.toHTTPS(b));c.cacheBust&&"default"===e.cache&&(b=k.addQueryParameter(b,
"request.preventCache",Date.now()));u=p({},c.query);a.credentialToken&&(u.token=a.credentialToken);t=k.objectToQuery(u);d("esri-url-encodes-apostrophe")&&(t=t.replace(/'/g,"%27"));x=b.length+1+t.length;v=void 0;h="post"===c.method||!!c.body||x>l.request.maxUrlLength;if(B=c.useProxy||!!k.getProxyRule(b))w=k.getProxyUrl(b),v=w.path,!h&&v.length+1+x>l.request.maxUrlLength&&(h=!0),w.query&&(u=p({},w.query,u));if("HEAD"===e.method&&(h||B)){if(h){if(x>l.request.maxUrlLength)throw D("request:invalid-parameters",
Error("URL exceeds maximum length"),a.params);throw D("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(B)throw D("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}h?(e.method="POST",c.body?b=k.addQueryParameters(b,u):(e.body=k.objectToQuery(u),e.headers["Content-Type"]="application/x-www-form-urlencoded")):b=k.addQueryParameters(b,u);B&&(a.useProxy=!0,b=v+"?"+b);u.token&&M&&e.body instanceof FormData&&(A=e.body,
A.set?A.set("token",u.token):A.append("token",u.token));c.hasOwnProperty("withCredentials")?a.withCredentials=c.withCredentials:k.isTrustedServer(b)?a.withCredentials=!0:g.id&&(H=g.id.findServerInfo(b))&&H.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(e.credentials="include")}y=0;F=!1;0<m&&(y=setTimeout(function(){F=!0;a.controller.abort()},m));n.label=1;case 1:return n.trys.push([1,24,25,26]),"image"!==c.responseType||"default"!==e.cache||"GET"!==e.method||h||I(c.headers)||!q&&!a.useProxy&&
l.request.proxyUrl&&!C(b)?[3,3]:[4,K(b,a)];case 2:return J=n.sent(),[3,23];case 3:return[4,L(b,e)];case 4:N=n.sent();a.useProxy||z(b);if(!N.ok||"HEAD"===e.method)return[3,23];P=r;switch(P){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7];case "document":return[3,9];case "json":return[3,11];case "xml":return[3,13]}return[3,15];case 5:return[4,N.arrayBuffer()];case 6:return J=n.sent(),[3,17];case 7:return[4,N.blob()];case 8:return J=n.sent(),[3,17];case 9:return Q=G,
[4,N.text()];case 10:return J=Q.apply(void 0,[n.sent(),"text/html"]),[3,17];case 11:return[4,N.text()];case 12:return O=n.sent(),J=JSON.parse(O||null),[3,17];case 13:return R=G,[4,N.text()];case 14:return J=R.apply(void 0,[n.sent(),"application/xml"]),[3,17];case 15:return[4,N.text()];case 16:return J=n.sent(),[3,17];case 17:y&&(clearTimeout(y),y=0);fa=N.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(fa)||!(J instanceof ArrayBuffer&&750>=J.byteLength||J instanceof Blob&&750>=
J.size))return[3,21];n.label=18;case 18:return n.trys.push([18,20,,21]),[4,(new Response(J)).json()];case 19:return ea=n.sent(),ea.error&&(J=ea),[3,21];case 20:return n.sent(),[3,21];case 21:return"image"===r&&J instanceof Blob?[4,K(URL.createObjectURL(J),a,!0)]:[3,23];case 22:J=n.sent(),n.label=23;case 23:return[3,26];case 24:da=n.sent();if("AbortError"===da.name){if(F)throw Error("Timeout exceeded");throw f.createAbortError("Request canceled");}if(!N&&da instanceof TypeError&&l.request.proxyUrl&&
!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,k.addProxyRule({proxyUrl:l.request.proxyUrl,urlPrefix:k.removeFile(k.urlToObject(b).path)});else throw da;return[3,26];case 25:return y&&clearTimeout(y),[7];case 26:return[2,[N,J]]}})})}function y(a,b){return e(this,void 0,void 0,function(){var c,d,f;return n(this,function(e){switch(e.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=p({},b.requestOptions.headers,a.headers));
a.query&&(b.requestOptions.query=p({},b.requestOptions.query,a.query));if(!a.before)return[3,5];d=c=void 0;e.label=1;case 1:return e.trys.push([1,3,,4]),[4,a.before(b)];case 2:return d=e.sent(),[3,4];case 3:return f=e.sent(),c=D("request:interceptor",f,b),[3,4];case 4:if(d instanceof Error||d instanceof m)c=D("request:interceptor",d,b);if(c)throw a.error&&a.error(c),c;return[2,d];case 5:return[2]}})})}function I(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;
return!1}function G(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(T){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}function H(a){return e(this,void 0,void 0,function(){var b,c,d,f,e,q,r,m,h,p,u;return n(this,function(n){switch(n.label){case 0:return[4,v(a)];case 1:n.sent(),n.label=2;case 2:n.trys.push([2,8,,9]),n.label=3;case 3:return[4,w(a)];case 4:b=n.sent(),c=b[0],d=b[1],n.label=5;case 5:return[4,F(a,c,d)];case 6:if(!n.sent())return[3,
3];n.label=7;case 7:return[3,9];case 8:throw f=n.sent(),e=D("request:server",f,a.params,c),e.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(e),e;case 9:return q=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(q)&&!a.hasToken&&!a.credentialToken&&d&&d.user&&d.user.username&&!k.isTrustedServer(q)&&(r=k.getOrigin(q,!0))&&l.request.trustedServers.push(r),(m=a.credential)&&g.id&&(p=(h=g.id.findServerInfo(m.server))&&h.owningSystemUrl)&&(p=p.replace(/\/?$/,"/sharing"),
(u=g.id.findCredential(p,m.userId))&&-1===g.id._getIdenticalSvcIdx(p,u)&&u.resources.unshift(p)),[2,{data:d,getHeader:c?function(a){return c.headers.get(a)}:R,requestOptions:a.params.requestOptions,ssl:a.useSSL,url:a.params.url}]}})})}function F(a,b,d){return e(this,void 0,void 0,function(){var f,e,k,q,r;return n(this,function(m){switch(m.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);d&&d.error&&
(f=c.mixin(Error(),d.error));f&&(e=Number(f.code),k=f.hasOwnProperty("subcode")?Number(f.subcode):null,q=(q=f.messageCode)&&q.toUpperCase());return 403===e&&(4===k||f.message&&-1<f.message.toLowerCase().indexOf("ssl")&&-1===f.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,4]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return a.useIdentity&&"no-prompt"!==a.params.requestOptions.authMode&&-1!==P.indexOf(e)&&!A(a.params.url)&&(403!==e||-1===Q.indexOf(q)&&(null==k||2===k&&a.credentialToken))?[4,x()]:
[3,4];case 2:return m.sent(),[4,g.id.getCredential(a.params.url,{error:D("request:server",f,a.params),signal:a.controller.signal,token:a.credentialToken})];case 3:return r=m.sent(),a.credential=r,a.credentialToken=r.token,a.useSSL=a.useSSL||r.ssl,[2,!1];case 4:if(f)throw f;return[2,!0]}})})}function K(a,b,c){void 0===c&&(c=!1);return f.create(function(e,k){var q=b.controller.signal;if(f.isAborted(q))return k(t());var r=new Image;r.crossOrigin=b.withCredentials?"use-credentials":"anonymous";var g=
function(){l();k(Error("Unable to load "+a))},m=function(){l();e(r)},h=function(){l();r.src="";k(t())},l=function(){d("esri-image-decode")||(r.removeEventListener("error",g),r.removeEventListener("load",m));q.removeEventListener("abort",h);c&&URL.revokeObjectURL(a)};r.alt="";r.src=a;d("esri-image-decode")?r.decode().then(m,g):(r.addEventListener("error",g),r.addEventListener("load",m));q.addEventListener("abort",h)})}var L,J,M="FormData"in h.default,P=[499,498,403,401],Q=["COM_0056","COM_0057"],O=
[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=function(){return null};r._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return r})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(b,a,p,e,n,h,l,g,m,d,c){b=function(a){function b(){var b=a.call(this)||this;
b.loadError=null;b.loadStatus="not-loaded";b.loadWarnings=null;b._set("loadWarnings",[]);b.addResolvingPromise(m.create(function(a){var c=b.load.bind(b);b.load=function(d){var f=m.create(function(a,c){m.onAbort(d,c);b._promiseProps.when(a,c)});if("not-loaded"===b.loadStatus){b._set("loadStatus","loading");var e=b._loadController=m.createAbortController();c({signal:e.signal});m.onAbort(e.signal,function(){b._promiseProps.abort()})}a();return f}}));b.when(function(){b._set("loadStatus","loaded");b._loadController=
null},function(a){b._set("loadStatus","failed");b._set("loadError",a);b._loadController=null});return b}p(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=function(a){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new h("load:cancelled","Cancelled"));this._loadController.abort();return this};e([c.property({readOnly:!0,dependsOn:["loadStatus"]})],
b.prototype,"loaded",null);e([c.property({readOnly:!0})],b.prototype,"loadError",void 0);e([c.property()],b.prototype,"loadStatus",void 0);e([c.property({type:[d],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=e([c.subclass("esri.core.Loadable")],b)}(c.declared(n,g));b.prototype["-chains-"]=l.mixin({},n._meta.chains,{load:"after"});return b})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h,l,g){var m=function(){function a(a){var b=this;this.instance=a;this._resolver=h.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=
function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(h.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=h.createDeferred(),d=this._resolvingPromises.concat([b.promise]),e=this._allPromise=h.all(d);e.then(function(){a.isFulfilled()||a._allPromise!==e||
a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==e||h.isAbortError(b)||a._resolver.reject(b)});l.schedule(function(){b.resolve()})}};return a}();return function(a){function b(){var b=a.call(this)||this;b._promiseProps=new m(b);b.addResolvingPromise(h.create(function(a){l.schedule(a)}));return b}p(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=
function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return h.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return b=e([g.subclass("esri.core.Promise")],b)}(g.declared(n))})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){var q=new l.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}e(b,a);k=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});b.prototype.clone=function(){return new k({categories:this.categories?g.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var d;this.categories&&(d=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var e;if(this.extent){var k=f.project(this.extent,
c.WGS84);k&&(e=k.xmin+","+k.ymin+","+k.xmax+","+k.ymax)}k=this.query;!this.disableExtraQuery&&a.extraQuery&&(k="("+k+")"+a.extraQuery);a={categories:d,bbox:e,q:k,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=q.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:p({},b,a)}};var k;n([m.property()],b.prototype,"categories",void 0);n([m.property()],b.prototype,"disableExtraQuery",void 0);n([m.property({type:d})],b.prototype,"extent",void 0);n([m.property()],
b.prototype,"num",void 0);n([m.property()],b.prototype,"query",void 0);n([m.property()],b.prototype,"sortField",void 0);n([m.property()],b.prototype,"sortOrder",null);n([m.property()],b.prototype,"start",void 0);return b=k=n([m.subclass("esri.portal.PortalQueryParams")],b)}(m.declared(h))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(b,
a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}p(b,a);e([h.property()],b.prototype,"nextQueryParams",void 0);e([h.property()],b.prototype,"queryParams",void 0);e([h.property()],b.prototype,"results",void 0);e([h.property()],b.prototype,"total",void 0);return b=e([h.subclass("esri.portal.PortalQueryResult")],b)}(h.declared(n))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(b,a,p,e,n,h,l,g,m,d){return function(a){function c(){var b=a.call(this)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.units=null;b.username=null;b.userType=null;return b}p(c,a);Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+
b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});c.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var f={method:"post"};
c&&(f.query=c._getPostQuery(),null!=d&&("string"===typeof d?f.query.text=d:"object"===typeof d&&(f.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+("string"===typeof a?a:a.id));return this.portal._request(d+"/addItem",f).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};c.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};c.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):l.resolve(void 0)};c.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=m.fromJSON(b);b.portal=
a.portal;return b}):[]})};c.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=d.fromJSON(b);b.portal=a.portal;return b}):[]})};c.prototype.fetchItems=function(a){var c=this;a||(a={});var d=this.userContentUrl;a.folder&&(d+="/"+a.folder.id);var f;return l.create(function(a){return b(["./PortalItem"],a)}).then(function(b){f=b;return c.portal._request(d,{query:{folders:!1,num:a.num||10,start:a.start||1}})}).then(function(a){var b;
return a&&a.items?(b=a.items.map(function(a){a=f.fromJSON(a);a.portal=c.portal;return a}),l.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new d({id:this.favGroupId,portal:this.portal})),
this._favGroup.queryItems(a)):l.reject(new n("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};c.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};e([g.property()],c.prototype,"access",void 0);e([g.property({type:Date})],c.prototype,"created",void 0);e([g.property()],c.prototype,"culture",void 0);e([g.property()],c.prototype,"description",void 0);e([g.property()],c.prototype,"email",void 0);e([g.property()],
c.prototype,"favGroupId",void 0);e([g.property()],c.prototype,"fullName",void 0);e([g.property({type:Date})],c.prototype,"modified",void 0);e([g.property()],c.prototype,"orgId",void 0);e([g.property()],c.prototype,"portal",void 0);e([g.property()],c.prototype,"preferredView",void 0);e([g.property()],c.prototype,"privileges",void 0);e([g.property()],c.prototype,"region",void 0);e([g.property()],c.prototype,"role",void 0);e([g.property()],c.prototype,"roleId",void 0);e([g.property()],c.prototype,"thumbnail",
void 0);e([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);e([g.property()],c.prototype,"units",void 0);e([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"userContentUrl",null);e([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"url",null);e([g.property()],c.prototype,"username",void 0);e([g.property()],c.prototype,"userType",void 0);return c=e([g.subclass("esri.portal.PortalUser")],c)}(g.declared(h))})},
"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}p(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+
"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};e([l.property({type:Date})],b.prototype,"created",void 0);e([l.property()],b.prototype,"id",void 0);e([l.property()],b.prototype,"portal",void 0);e([l.property()],b.prototype,"title",void 0);e([l.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);e([l.property()],b.prototype,"username",void 0);return b=
e([l.subclass("esri.portal.PortalFolder")],b)}(l.declared(h))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),function(b,a,p,e,n,h,l,g,m){return function(a){function b(b){b=a.call(this)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=
null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}p(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=
function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new h("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){if(5<parseFloat(this.portal.currentVersion))return a=a||new m,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new m;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,b)};b.prototype._fetchCategorySchemaSet=function(a,b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var d=
new m;d.disableExtraQuery=!0;d.num=1;d.query=a;return c.portal.queryGroups(d,b)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var d=new m;d.num=1;d.query='typekeywords:"'+a+'"';return c.queryItems(d,b)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&
a.length?a:[]}):[]})};e([g.property()],b.prototype,"access",void 0);e([g.property({type:Date})],b.prototype,"created",void 0);e([g.property()],b.prototype,"description",void 0);e([g.property()],b.prototype,"id",void 0);e([g.property()],b.prototype,"isInvitationOnly",void 0);e([g.property({type:Date})],b.prototype,"modified",void 0);e([g.property()],b.prototype,"owner",void 0);e([g.property()],b.prototype,"portal",void 0);e([g.property()],b.prototype,"snippet",void 0);e([g.property()],b.prototype,
"sortField",void 0);e([g.property()],b.prototype,"sortOrder",void 0);e([g.property()],b.prototype,"tags",void 0);e([g.property()],b.prototype,"thumbnail",void 0);e([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);e([g.property()],b.prototype,"title",void 0);e([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);e([n(0,g.cast(m))],b.prototype,"queryItems",null);return b=e([g.subclass("esri.portal.PortalGroup")],
b)}(g.declared(l))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h,l,g,m,d){var c=new g.default({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",
PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),f=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+f++;b.type=null;return b}p(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});b.prototype.readColor=function(a,b,c){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,
b){return h(this,void 0,void 0,function(){return n(this,function(a){return[2]})})};b.prototype.clone=function(){};e([d.property({type:c.apiValues,json:{read:c.read,write:{ignoreOrigin:!0,writer:c.write}}})],b.prototype,"type",void 0);e([d.property({type:l,value:new l([0,0,0,1]),json:{write:{allowNull:!0}}})],b.prototype,"color",null);e([d.reader("color")],b.prototype,"readColor",null);return b=e([d.subclass("esri.symbols.Symbol")],b)}(d.declared(m))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/asyncUtils ../../core/Logger ../../core/promiseUtils".split(" "),
function(b,a,p,e,n,h,l,g,m){function d(a,b,d){return p(this,void 0,void 0,function(){var f,k,g,r;return e(this,function(e){switch(e.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];f=a.styleName;if(!Array.isArray(f))return[3,2];k=f.map(function(e){return l.safeCast(c(e,a.styleUrl,b,d))});g=a;return[4,m.all(k)];case 1:return g.data=e.sent(),[3,4];case 2:return r=a,[4,c(f,a.styleUrl,b,d)];case 3:r.data=e.sent(),e.label=4;case 4:return[2,a]}})})}function c(a,b,c,d){return p(this,void 0,
void 0,function(){var f,g;return e(this,function(e){if(r.has(a))return[2,r.get(a).then(function(a){return k(a.data)})];try{return f=c(b,a),g=h(f,n({responseType:"json",query:{f:"json"}},d)),r.set(a,g),[2,g.then(function(a){return k(a.data)})]}catch(v){return q.error("error requesting "+a+", reason is "+v.message),r.has(a)&&r.delete(a),[2,null]}})})}var f=this;Object.defineProperty(a,"__esModule",{value:!0});var q=g.getLogger("esri/symbols/support/cimSymbolUtils");a.constructUrlFn=function(a,b){return a+
"/resources/styles/cim/"+b+".json"};a.expandSymbols=function(b,c,d){return p(f,void 0,void 0,function(){return e(this,function(e){return[2,m.all(b.map(function(b){return a.expandSymbol(b,c,d)}))]})})};a.expandSymbol=function(a,b,c){return p(f,void 0,void 0,function(){return e(this,function(e){return a?"cim"===a.type?[2,d(a,b,c)]:"web-style"===a.type?[2,a.fetchCIMSymbol(c)]:[2,a]:[2,null]})})};var k=function(a){return null===a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a}},
r=new Map})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(b,a,p,e,n,h,l,g,m){return function(a){function b(b){b=a.call(this)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}p(b,a);d=b;b.prototype.clone=function(){return new d({edges:this.edges&&
this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var d;e([h.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);e([h.property({type:m.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],b.prototype,"castShadows",void 0);e([h.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=d=e([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(h.declared(l))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators ./support/ElevationInfo".split(" "),function(b,a,p,e,n,h,l,g){var m=n.strict()({Icon:"icon",
Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});b=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;b.type=null;return b}p(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};e([l.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);e([l.writer("enabled")],b.prototype,"writeEnabled",null);e([l.property({type:g,json:{read:!1,write:!1}})],b.prototype,"elevationInfo",void 0);e([l.property({type:m.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:m.write}}})],b.prototype,"type",void 0);return b=e([l.subclass("esri.symbols.Symbol3DLayer")],b)}(l.declared(h));(b||(b={})).typeJSONDictionary=m;return b})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c){var f=l.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),q=new l.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);k=b;b.prototype.readFeatureExpressionInfo=function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};
b.prototype.writeFeatureExpressionInfo=function(a,b,c,d){b[c]=a.write(null,d);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(b.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});
b.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};b.prototype.clone=function(){return new k({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var k;e([m.property({type:d,json:{write:!0}})],b.prototype,"featureExpressionInfo",void 0);e([m.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],b.prototype,
"readFeatureExpressionInfo",null);e([m.writer("featureExpressionInfo",{featureExpressionInfo:{type:d},"featureExpression.value":{type:[0]}})],b.prototype,"writeFeatureExpressionInfo",null);e([m.property({type:f.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:f.jsonValues,read:f.read,write:{writer:f.write,isRequired:!0}}})],b.prototype,"mode",null);e([m.property({type:Number,json:{write:!0}})],b.prototype,"offset",void 0);e([m.property({type:c.supportedUnits,json:{type:String,
read:q.read,write:q.write}})],b.prototype,"unit",null);return b=k=e([m.subclass("esri.layers.support.ElevationInfo")],b)}(m.declared(g))})},"esri/symbols/support/FeatureExpressionInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../layers/support/fieldUtils".split(" "),function(b,a,p,e,n,h,l,g,m){return function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}p(b,a);d=b;b.prototype.collectRequiredFields=function(a,b){return h(this,void 0,void 0,function(){return n(this,function(c){return[2,m.collectArcadeFieldNames(a,b,this.expression)]})})};b.prototype.clone=function(){return new d({expression:this.expression,title:this.title})};var d;e([g.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=d=e([g.subclass("esri.layers.support.FeatureExpressionInfo")],
b)}(g.declared(l))})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.supportsUnit=function(a){return null!=p.meterIn[a]};a.getMetersPerUnit=function(a){return 1/(p.meterIn[a]||1)};a.supportedUnits=function(){var a=Object.keys(p.meterIn);a.sort();return a}()})},"esri/renderers/support/utils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/Logger ../../core/unitUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop".split(" "),
function(b,a,p,e,n,h,l,g){function m(a,b,c){var d="";0===b?d=f.lt+" ":b===c&&(d=f.gt+" ");return d+a}function d(a){var b=a.minValue,c=a.maxValue,d=a.isFirstBreak?"":f.gt+" ";a="percent-of-total"===a.normalizationType?f.pct:"";b=null==b?"":l.format(b);c=null==c?"":l.format(c);return d+b+a+" "+f.ld+" "+c+a}Object.defineProperty(a,"__esModule",{value:!0});var c=e.getLogger("esri.renderers.support.utils"),f={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},q={millisecond:0,second:1,
minute:2,hour:3,day:4,month:5,year:6},k={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};a.meterIn={inches:n.convertUnit(1,"meters","inches"),feet:n.convertUnit(1,"meters","feet"),"us-feet":n.convertUnit(1,"meters","us-feet"),yards:n.convertUnit(1,"meters","yards"),miles:n.convertUnit(1,"meters","miles"),"nautical-miles":n.convertUnit(1,
"meters","nautical-miles"),millimeters:n.convertUnit(1,"meters","millimeters"),centimeters:n.convertUnit(1,"meters","centimeters"),decimeters:n.convertUnit(1,"meters","decimeters"),meters:n.convertUnit(1,"meters","meters"),kilometers:n.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/n.lengthToDegrees(1,"meters")};a.timelineDateFormatOptions=h.convertDateFormatToIntlOptions("short-date");a.createColorStops=function(a){var b=a.values,c=a.colors,d=a.labelIndexes,e=a.isDate,f=a.dateFormatOptions;
return b.map(function(a,k){var r=null;if(!d||-1<d.indexOf(k)){var q=void 0;(q=e?h.formatDate(a,f):l.format(a))&&(r=m(q,k,b.length-1))}return new g({value:a,color:c[k],label:r})})};a.updateColorStops=function(a){var b=a.stops,c=a.changes,d=a.isDate,e=a.dateFormatOptions,f=b.map(function(a){return a.value});a=[];for(var k=0;k<c.length;k++){var g=c[k];a.push(g.index);f[g.index]=g.value}var q=l.round(f,{indexes:a});b.forEach(function(a,c){a.value=f[c];if(null!=a.label){var k=void 0,g=null;(k=d?h.formatDate(q[c],
e):l.format(q[c]))&&(g=m(k,c,b.length-1));a.label=g}})};a.createClassBreakLabel=d;a.setLabelsForClassBreaks=function(a){var b=a.classBreakInfos,e=a.normalizationType,f=[];if(b&&b.length)if("standard-deviation"===a.classificationMethod)c.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");else if(a.round){f.push(b[0].minValue);for(a=0;a<b.length;a++)f.push(b[a].maxValue);f=l.round(f);b.forEach(function(a,b){a.label=d({minValue:0===b?f[0]:
f[b],maxValue:f[b+1],isFirstBreak:0===b,normalizationType:e})})}else b.forEach(function(a,b){a.label=d({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===b,normalizationType:e})})};a.updateClassBreak=function(a){if("standard-deviation"===a.classificationMethod)c.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");else{var b=a.classBreaks,e=a.change,f=e.index,e=e.value,k=b.length,g=-1,q=-1;0===f?g=f:f===k?q=f-1:(q=f-1,g=f);a=a.normalizationType;
f=null;-1<g&&g<k&&(f=b[g],f.minValue=e,f.label=d({minValue:f.minValue,maxValue:f.maxValue,isFirstBreak:0===g,normalizationType:a}));-1<q&&q<k&&(f=b[q],f.maxValue=e,f.label=d({minValue:f.minValue,maxValue:f.maxValue,isFirstBreak:0===q,normalizationType:a}))}};a.calculateDateFormatInterval=function(a){a=a.map(function(a){return new Date(a)});for(var b=a.length,c=Infinity,d=null,e=0;e<b-1;e++){for(var f=a[e],k=[],g=Infinity,r="",m=e+1;m<b;m++){var h=a[m],h=f.getFullYear()!==h.getFullYear()&&"year"||
f.getMonth()!==h.getMonth()&&"month"||f.getDate()!==h.getDate()&&"day"||f.getHours()!==h.getHours()&&"hour"||f.getMinutes()!==h.getMinutes()&&"minute"||f.getSeconds()!==h.getSeconds()&&"second"||"millisecond",l=q[h];l<g&&(g=l,r=h);k.push(h)}g<c&&(c=g,d=r)}return d};a.createUniqueValueLabel=function(a){var b=a.value,c=a.domain,d=a.fieldInfo;a=a.dateFormatInterval;var e=String(b);(c=c&&"codedValues"in c&&c.codedValues?c.getName(b):null)?e=c:"number"===typeof b&&(e=d&&"date"===d.type?h.formatDate(b,
a&&k[a]):l.format(b));return e}})},"esri/renderers/support/numberUtils":function(){define(["require","exports","../../intl"],function(b,a,p){function e(a,b){return a-b}function n(a,b){var c;c=Number(a.toFixed(b));c<a?a=c+1/Math.pow(10,b):(a=c,c-=1/Math.pow(10,b));c=Number(c.toFixed(b));a=Number(a.toFixed(b));return[c,a]}function h(a,b,d,e,r){a=g(a,b,d,e);b=null==a.next||a.next<=r;return(null==a.previous||a.previous<=r)&&b||a.previous+a.next<=2*r}function l(a){a=String(a);var b=a.match(m);if(b&&b[1])return{integer:b[1].split("").length,
fractional:b[3]?b[3].split("").length:0};if(-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b)){a=Number(a);var b=Number(b),c=0<b;c||(b=Math.abs(b));a=l(a);c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b);return a}return{integer:0,fractional:0}}function g(a,b,d,e){var c={previous:null,next:null};if(null!=d){var f=a-d;c.previous=Math.floor(Math.abs(100*(b-d-f)/f))}null!=e&&(f=e-a,c.next=Math.floor(Math.abs(100*(e-
b-f)/f)));return c}Object.defineProperty(a,"__esModule",{value:!0});var m=/^-?(\d+)(\.(\d+))?$/i;a.numDigits=l;a.percentChange=g;a.round=function(a,b){void 0===b&&(b={});a=a.slice(0);var c=b.tolerance,c=void 0===c?2:c,d=b.strictBounds,d=void 0===d?!1:d;b=b.indexes;b=void 0===b?a.map(function(a,b){return b}):b;b.sort(e);for(var f=0;f<b.length;f++){var g=b[f],m=a[g],p=0===g?null:a[g-1],t=g===a.length-1?null:a[g+1],D=l(m).fractional;if(D){for(var B=0,x=!1,v=void 0;B<=D&&!x;)x=n(m,B),v=d&&0===f?x[1]:
x[0],x=h(m,v,p,t,c),B++;x&&(a[g]=v)}}return a};var d={maximumFractionDigits:20};a.format=function(a){return p.formatNumber(a,d)}})},"esri/intl":function(){define(["require","exports","./intl/date","./intl/number","./intl/substitute"],function(b,a,p,e,n){Object.defineProperty(a,"__esModule",{value:!0});a.formatDate=p.formatDate;a.convertDateFormatToIntlOptions=p.convertDateFormatToIntlOptions;a.formatNumber=e.formatNumber;a.convertNumberFormatToIntlOptions=e.convertNumberFormatToIntlOptions;a.substitute=
n.substitute})},"esri/intl/substitute":function(){define("require exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(b,a,p,e,n,h,l){function g(a){switch(typeof a){case "string":return a;case "number":return l.formatNumber(a);case "boolean":return""+a;default:return a instanceof Date?h.formatDate(a):""}}Object.defineProperty(a,"__esModule",{value:!0});var m=p.getLogger("esri.intl");a.substitute=function(a,b,f){void 0===f&&(f={});f=f.format;var c=void 0===f?{}:
f;return n.replace(a,function(a){var d;var f,k=a.indexOf(":");-1===k?f=a.trim():(f=a.slice(0,k).trim(),d=a.slice(k+1).trim());if(f)if(a=e.getDeepValue(f,b),null==a)d="";else if(f=c[d]||c[f])b:switch(f.type){case "date":d=h.formatDate(a,f.intlOptions);break b;case "number":d=l.formatNumber(a,f.intlOptions);break b;default:m.warn("missing format descriptor for key {key}"),d=g(a)}else if(d)b:switch(d.toLowerCase()){case "dateformat":d=h.formatDate(a);break b;case "numberformat":d=l.formatNumber(a);break b;
default:m.warn("inline format is unsupported since 4.12: "+d),d=/^(dateformat|datestring)/i.test(d)?h.formatDate(a):/^numberformat/i.test(d)?l.formatNumber(a):g(a)}else d=g(a);else d="";return d})}})},"esri/renderers/visualVariables/support/ColorStop":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=a.call(this,b)||this;b.color=null;b.label=null;b.value=null;return b}p(b,a);c=b;b.prototype.writeValue=function(a,b,c){b[c]=null==a?0:a};b.prototype.clone=function(){return new c({color:this.color&&this.color.clone(),label:this.label,value:this.value})};var c;e([l.property({type:n,json:{type:[g.Integer],write:!0}})],b.prototype,"color",void 0);e([l.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);e([l.property({type:Number,
json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);e([l.writer("value")],b.prototype,"writeValue",null);return b=c=e([l.subclass("esri.renderers.visualVariables.support.ColorStop")],b)}(l.declared(h))})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(b,a,p,e,n){function h(a,b,h){if(!a)return a;switch(a.type){case "solid":return b=new n,b.read(a,h),b;case "sketch":return b=new e,b.read(a,h),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.read=h;a.symbol3dEdgesProperty={types:{key:"type",base:p,typeMap:{solid:n,sketch:e}},json:{read:h,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(b,a,p,e,n,h,l,g,m,d,c){return function(a){function b(b){b=
a.call(this)||this;b.color=new h([0,0,0,1]);b.extensionLength=0;b.size=m.px2pt(1);return b}p(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:g.clone(this.color),size:this.size,extensionLength:this.extensionLength}};e([d.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);e([d.property(c.colorAndTransparencyProperty)],
b.prototype,"color",void 0);e([d.property(n({},c.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);e([d.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=e([d.subclass("esri.symbols.edges.Edges3D")],b)}(d.declared(l))})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(b,a,p,e,n,h){function l(a,b){a=null!=b.transparency?h.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new p([b[0]||0,b[1]||0,b[2]||0,a]):null}function g(a,b){b.color=a.toJSON().slice(0,3);a=h.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}Object.defineProperty(a,"__esModule",{value:!0});a.readColorAndTransparency=l;a.writeColorAndTransparency=g;a.colorAndTransparencyProperty={type:p,json:{type:[n.Integer],default:null,read:{source:["color","transparency"],
reader:l},write:{target:{color:{type:[n.Integer]},transparency:{type:n.Integer}},writer:g}}};a.screenSizeProperty={type:Number,cast:e.toPt,json:{write:!0}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.opacityToTransparency=function(a){a=p.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};a.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-
a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.type="sketch";return b}p(b,a);h=b;b.prototype.clone=function(){return new h(this.cloneProperties())};var h;e([n.property({type:["sketch"]})],b.prototype,"type",void 0);return b=h=e([n.subclass("esri.symbols.edges.SketchEdges3D")],
b)}(n.declared(h))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),function(b,a,p,e,n,h){return function(a){function b(b){b=a.call(this)||this;b.type="solid";return b}p(b,a);h=b;b.prototype.clone=function(){return new h(this.cloneProperties())};var h;e([n.property({type:["solid"]})],b.prototype,"type",void 0);return b=h=e([n.subclass("esri.symbols.support.SolidEdges3D")],
b)}(n.declared(h))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,p,e,n,h,l,g){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({color:h.isSome(this.color)?
this.color.clone():null})};var c;e([l.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=e([l.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(l.declared(n));a.Symbol3DMaterial=b;a.default=b})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),function(b,a,p,e,n,h,l,g){var m=new n.default({esriSFS:"simple-fill",
esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}p(b,a);e([h.property({type:l,json:{default:null,write:!0}})],b.prototype,"outline",void 0);e([h.property({type:m.apiValues,readOnly:!0,json:{type:m.jsonValues}})],b.prototype,"type",void 0);return b=e([h.subclass("esri.symbols.FillSymbol")],b)}(h.declared(g))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),
function(b,a,p,e,n,h,l,g,m){var d=new n.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,e,f,g){b=a.call(this,b)||this;b.type="simple-line";
b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}p(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,e,f){if(a&&"string"!==typeof a)return a;var k={};null!=a&&(k.style=a);null!=b&&(k.color=b);null!=c&&(k.width=l.toPt(c));null!=d&&(k.cap=d);null!=e&&(k.join=e);null!=f&&(k.miterLimit=l.toPt(f));return k};b.prototype.clone=function(){return new c({color:h.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};var c;e([g.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);e([g.property({type:d.apiValues,json:{read:d.read,write:d.write}})],b.prototype,"style",void 0);e([g.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);e([g.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);e([g.property({type:Number,
json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);return b=c=e([g.subclass("esri.symbols.SimpleLineSymbol")],b)}(g.declared(m))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}p(b,a);e([h.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);e([h.property({type:Number,cast:n.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=e([h.subclass("esri.symbols.LineSymbol")],b)}(h.declared(l))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(b,
a,p,e,n,h,l,g,m,d,c){return function(a){function b(b){b=a.call(this)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}p(b,a);f=b;b.prototype.clone=function(){return new f({edges:n.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:n.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=
function(a){return new f({material:{color:(a.color||m.transparentWhite).clone()},outline:a.outline?new c.default({size:a.outline.width||0,color:(a.outline.color||m.white).clone()}):null})};var f;e([h.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);e([h.property({type:d.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.property({type:c.default,json:{write:!0}})],
b.prototype,"outline",void 0);e([h.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=f=e([h.subclass("esri.symbols.FillSymbol3DLayer")],b)}(h.declared(l))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.white=new p("white");a.black=new p("black");a.transparentWhite=new p([255,255,255,0]);a.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(b,a,p,e,n,h,l){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);d=b;b.prototype.clone=function(){return new d({color:n.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var d;e([h.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=d=e([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(h.declared(l.default));
a.Symbol3DFillMaterial=b;a.default=b})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,p,e,n,h,l,g,m,d){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n([0,
0,0,1]);b.size=g.px2pt(1);return b}p(b,a);c=b;b.prototype.clone=function(){return new c({color:l.isSome(this.color)?this.color.clone():null,size:this.size})};var c;e([m.property(d.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([m.property(d.screenSizeProperty)],b.prototype,"size",void 0);return b=c=e([m.subclass("esri.symbols.support.Symbol3DOutline")],b)}(m.declared(h));a.Symbol3DOutline=b;a.default=b})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}p(b,a);d=b;b.prototype.castSize=function(a){return h.toPt(a)};b.prototype.clone=function(){return new d({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var d;e([l.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);
e([l.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);e([l.property({type:Number,json:{write:{overridePolicy:function(a,b,d){return{enabled:!d||!d.textSymbol3D}}}}})],b.prototype,"size",void 0);e([l.cast("size")],b.prototype,"castSize",null);e([l.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);e([l.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=
d=e([l.subclass("esri.symbols.Font")],b)}(l.declared(n))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,f,q,k){function r(a){var b=
"width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=u(a.xoffset);a=u(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function u(a){return isFinite(a)?a:0}var z=n.getLogger("esri.symbols.IconSymbol3DLayer"),C={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";b.anchorPosition=void 0;b.outline=void 0;return b}p(b,a);
g=b;b.prototype.clone=function(){return new g({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:h.isSome(this.material)?this.material.clone():null,outline:h.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||m.white,c=r(a),d=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||m.white).clone()}:null,e=g,f=a.size;a=a.style;var k=C[a];k?a=k:(z.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new e({size:f,resource:{primitive:a},material:{color:b},outline:d,anchor:c?"relative":void 0,anchorPosition:c})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||m.isBlack(a.color)?m.white:a.color,c=r(a);return new g({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":
void 0,anchorPosition:c})};var g;e([l.property({type:q.default,json:{write:!0}})],b.prototype,"material",void 0);e([l.property({type:d.default,json:{write:!0}})],b.prototype,"resource",void 0);e([l.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);e([l.property(c.screenSizeProperty)],b.prototype,"size",void 0);e([l.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",
relative:"relative"}),l.property({json:{default:"center"}})],b.prototype,"anchor",void 0);e([l.property({type:f.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new f.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);e([l.property({type:k.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=g=e([l.subclass("esri.symbols.IconSymbol3DLayer")],
b)}(l.declared(g))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h,l,g){Object.defineProperty(a,"__esModule",{value:!0});var m=n.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});b=function(a){function b(b){return a.call(this,
b)||this}p(b,a);d=b;b.prototype.readHref=function(a,b,c){return a?l.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(l.isDataProtocol(a)?b.dataURI=a:(b.href=l.toJSON(a,d),l.isAbsolute(b.href)&&(b.href=l.normalize(b.href))))};b.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};var d;e([g.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);e([g.reader("href")],b.prototype,"readHref",null);e([g.writer("href",
{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);e([g.enumeration.serializable()(m)],b.prototype,"primitive",void 0);return b=d=e([g.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(g.declared(h));a.IconSymbol3DLayerResource=b;a.defaultPrimitive="circle";a.default=b})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}p(b,a);l=b;b.prototype.clone=function(){return new l({x:this.x,y:this.y})};var l;e([h.property({type:Number})],b.prototype,"x",void 0);e([h.property({type:Number})],b.prototype,"y",void 0);return b=l=e([h.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(h.declared(n));a.Symbol3DAnchorPosition2D=b;a.default=b})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c){var f=n.ofType({base:null,key:"type",typeMap:{text:m}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new f;b.type="label-3d";return b}p(b,a);g=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return d.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return d.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new g({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new g({symbolLayers:[m.fromTextSymbol(a)]})};var g;e([l.property({type:c.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([l.property(d.calloutProperty)],b.prototype,"callout",void 0);e([l.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);e([l.property({type:f})],b.prototype,
"symbolLayers",void 0);e([l.enumeration.serializable()({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=g=e([l.subclass("esri.symbols.LabelSymbol3D")],b)}(l.declared(g))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z,C,t,D,B,x,v,A){var w={icon:r,object:z,line:u,path:C,fill:k,extrude:q,text:B,water:x},y=n.ofType({base:D,key:"type",typeMap:w}),I=l.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),G=g.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;
b._set("symbolLayers",new (c&&c.type||n));return b}p(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){G.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){h.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=function(a,b,c){b=[];
for(var e=0;e<a.length;e++){var f=a[e],k=D.typeJSONDictionary.read(f.type),g=k&&w[k];g?(f=new g,f.read(a[e],c),b.push(f)):(G.warn("Unknown symbol layer type: "+k),c&&c.messages&&c.messages.push(new d("symbol-layer:unsupported","Symbol layers of type '"+(k||f.type||"unknown")+"' are not supported",{definition:f,context:c})))}return b};b.prototype.readStyleOrigin=function(a,b,c){if(a.styleUrl&&a.name)return b=m.fromJSON(a.styleUrl,c),new v({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new v({portal:c&&
c.portal||f.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new d("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,c,e){a.styleUrl&&a.name?(c=m.toJSON(a.styleUrl,e),m.isAbsolute(c)&&(c=m.normalize(c)),b.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!m.hasSamePortal(a.portal.restUrl,e.portal.restUrl)?
e&&e.messages&&e.messages.push(new d("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof D||a&&w[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};e([c.property({json:{read:!1,write:!1}})],b.prototype,"color",null);e([c.property({type:y,nonNullable:!0,json:{write:!0}}),
c.cast(h.castForReferenceSetter)],b.prototype,"symbolLayers",null);e([c.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);e([c.property({type:v})],b.prototype,"styleOrigin",void 0);e([c.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);e([c.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);e([c.property({type:A.default,json:{read:!1}})],b.prototype,"thumbnail",
void 0);e([c.property({type:I.apiValues,readOnly:!0,json:{type:I.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=e([c.subclass("esri.symbols.Symbol3D")],b)}(c.declared(t))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.referenceSetter=function(a,b,h){void 0===h&&(h=p);b||(b=new h);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(p))?b.addMany(a):
a&&b.add(a);return b};a.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(b,a,p,e,n,h,l,g,m,d,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="line";b.join="miter";
b.cap="butt";b.size=h.px2pt(1);return b}p(b,a);f=b;b.prototype.clone=function(){return new f({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:n.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap})};b.fromSimpleLineSymbol=function(a){return new f({size:a.width||1,cap:a.cap||"butt",join:a.join||"miter",material:{color:(a.color||m.white).clone()}})};var f;e([l.property({type:c.default,json:{write:!0}})],b.prototype,"material",
void 0);e([l.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);e([l.property({type:String,json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);e([l.property({type:String,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([l.property(d.screenSizeProperty)],b.prototype,"size",void 0);return b=f=e([l.subclass("esri.symbols.LineSymbol3DLayer")],b)}(l.declared(g))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(b,a,p,e,n,h,l,g,m,d){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}p(b,a);c=b;b.prototype.clone=function(){return new c({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var c;e([h.property({type:d.default,json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,
nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.property({type:g.default,json:{write:!0}})],b.prototype,"resource",void 0);e([h.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);e([h.enumeration.serializable()({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);e([h.property({type:m.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new m.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);e([h.property({type:Number,json:{write:!0}})],
b.prototype,"heading",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);e([h.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=c=e([h.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(h.declared(l))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h,l,g){Object.defineProperty(a,"__esModule",{value:!0});var m=n.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);d=b;b.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};var d;e([g.property({type:String,json:{read:l.read,write:l.write}})],b.prototype,"href",void 0);e([g.enumeration.serializable()(m)],
b.prototype,"primitive",void 0);return b=d=e([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(g.declared(h));a.ObjectSymbol3DLayerResource=b;a.defaultPrimitive="sphere";a.default=b})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});
b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}p(b,a);l=b;b.prototype.clone=function(){return new l({x:this.x,y:this.y,z:this.z})};var l;e([h.property({type:Number})],b.prototype,"x",void 0);e([h.property({type:Number})],b.prototype,"y",void 0);e([h.property({type:Number})],b.prototype,"z",void 0);return b=l=e([h.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(h.declared(n));a.Symbol3DAnchorPosition3D=b;a.default=b})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(b,a,p,e,n,h,l,g){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}p(b,a);c=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=
a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new c({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var c;e([h.property({type:g.default,
json:{write:!0}})],b.prototype,"material",void 0);e([h.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);e([h.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);e([h.property({type:Number})],b.prototype,"size",null);e([h.reader("size")],b.prototype,"readSize",null);e([h.property({type:String,json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);e([h.property({type:String,json:{write:!0,default:"miter"}})],b.prototype,
"join",void 0);e([h.property({type:String,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);e([h.property({type:String,json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);e([h.property({type:String,json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=c=e([h.subclass("esri.symbols.PathSymbol3DLayer")],
b)}(h.declared(l))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,f,q){return function(a){function b(b){b=a.call(this)||this;b._userSize=void 0;b.halo=null;b.material=null;
b.text=void 0;b.type="text";return b}p(b,a);d=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=n({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:
9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&h.clone(this.font),halo:this.halo&&h.clone(this.halo),material:l.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;b=a.haloColor;var c=a.haloSize;b=b&&0<c?
{color:h.clone(b),size:c}:null;c=a.font?a.font.clone():new m;return new d({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var d;e([g.property({type:m,json:{write:!0}})],b.prototype,"font",null);e([g.writer("font")],b.prototype,"writeFont",null);e([g.property({type:f.default,json:{write:!0}})],b.prototype,"halo",void 0);e([g.property({type:q.default,json:{write:!0}})],b.prototype,"material",void 0);e([g.property(c.screenSizeProperty),g.property({dependsOn:["font.size"]})],
b.prototype,"size",null);e([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([g.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=d=e([g.subclass("esri.symbols.TextSymbol3DLayer")],b)}(g.declared(d))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,p,e,n,h,l,g,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n([0,0,0,1]);b.size=0;return b}p(b,a);d=b;b.prototype.clone=function(){return new d({color:l.clone(this.color),size:this.size})};var d;e([g.property(m.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([g.property(m.screenSizeProperty)],b.prototype,"size",void 0);return b=d=e([g.subclass("esri.symbols.support.Symbol3DHalo")],b)}(g.declared(h));
a.Symbol3DHalo=b;a.default=b})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(b,a,p,e,n,h,l,g,m){return function(a){function b(b){b=a.call(this)||this;b.color=new n("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}p(b,a);
d=b;b.prototype.clone=function(){return new d({color:h.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var d;e([l.property({type:n,json:{type:[g.Integer],write:!0,default:null}})],b.prototype,"color",void 0);e([l.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);e([l.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);e([l.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);e([l.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=d=e([l.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(l.declared(m))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}p(b,a);d=b;b.prototype.clone=function(){return new d({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var d;e([h.property({type:String})],b.prototype,"name",void 0);e([h.property({type:String})],b.prototype,"styleUrl",void 0);e([h.property({type:String})],b.prototype,"styleName",void 0);e([h.property({type:l})],b.prototype,"portal",void 0);
return b=d=e([h.subclass("esri.symbols.support.StyleOrigin")],b)}(h.declared(n))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,p,e,n,h){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}p(b,a);l=b;b.prototype.clone=function(){return new l({url:this.url})};
var l;e([h.property({type:String})],b.prototype,"url",void 0);return b=l=e([h.subclass("esri.symbols.support.Thumbnail")],b)}(h.declared(n));a.Thumbnail=b;a.default=b})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(b,a,p,e){function n(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function h(a,b,h){if(!a)return a;switch(a.type){case "line":return b=new e,b.read(a,h),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.hasVisibleVerticalOffset=n;a.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?n(a)?!0:!1:!1};a.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};a.read=h;a.calloutProperty={types:{key:"type",base:p,typeMap:{line:e}},json:{read:h,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,p,e,n,h,l){return function(a){function b(b){b=a.call(this)||this;b.visible=!0;return b}e(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=p({},a),delete a.type);return a};b.prototype.clone=function(){};n([l.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);n([l.property({readOnly:!0})],b.prototype,"visible",void 0);return b=n([l.subclass("esri.symbols.callouts.Callout3D")],b)}(l.declared(h))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f){return function(a){function b(b){b=a.call(this)||this;b.type="line";b.color=new n([0,0,0,1]);b.size=g.px2pt(1);b.border=null;return b}p(b,a);d=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&l.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({color:h.clone(this.color),size:this.size,border:h.clone(this.border)})};var d;e([m.property({type:["line"]})],b.prototype,"type",
void 0);e([m.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);e([m.property(f.screenSizeProperty)],b.prototype,"size",void 0);e([m.property({type:c.default,json:{write:!0}})],b.prototype,"border",void 0);e([m.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=d=e([m.subclass("esri.symbols.callouts.LineCallout3D")],b)}(m.declared(d))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(b,a,p,e,n,h,l,g,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new n("white");return b}p(b,a);d=b;b.prototype.clone=function(){return new d({color:l.clone(this.color)})};var d;e([g.property(m.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=d=e([g.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(g.declared(h));a.LineCallout3DBorder=b;a.default=b})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,p,e,n,h,l){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}p(b,a);d=b;b.prototype.clone=function(){return new d({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var d;e([h.property(l.screenSizeProperty)],b.prototype,"screenLength",void 0);e([h.property({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",
void 0);e([h.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=d=e([h.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(h.declared(n));a.Symbol3DVerticalOffset=b;a.default=b})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(b,
a,p,e,n,h,l,g,m,d){var c=n.ofType({base:null,key:"type",typeMap:{line:g,path:m}}),f=n.ofType({base:null,key:"type",typeMap:{line:g,path:m}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new c;b.type="line-3d";return b}p(b,a);d=b;b.prototype.clone=function(){return new d({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new d({symbolLayers:[g.fromSimpleLineSymbol(a)]})};
var d;e([l.property({type:c,json:{type:f}})],b.prototype,"symbolLayers",void 0);e([l.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=d=e([l.subclass("esri.symbols.LineSymbol3D")],b)}(l.declared(d))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(b,a,p,e,n,h,l,g){var m=
new n.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}p(b,a);e([l.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([l.property({type:m.apiValues,readOnly:!0,json:{type:m.jsonValues}})],b.prototype,"type",void 0);e([l.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,
"xoffset",void 0);e([l.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([l.property({type:Number,cast:function(a){return"auto"===a?a:h.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=e([l.subclass("esri.symbols.MarkerSymbol")],b)}(l.declared(g))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(b,a,p,e,n,h,l,g,m){var d=n.ofType({base:null,key:"type",typeMap:{fill:g}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new d;b.type="mesh-3d";return b}p(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};var c;e([l.property({type:d})],b.prototype,"symbolLayers",void 0);e([l.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);
return b=c=e([l.subclass("esri.symbols.MeshSymbol3D")],b)}(l.declared(m))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(b,a,p,e,n,h,l,g,m,d){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}p(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=l.toPt(c));null!=d&&(e.height=l.toPt(d));return e};b.prototype.clone=function(){var a=new c({color:h.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",h.clone(this.source));return a};var c;e([g.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);e([g.property(d.urlPropertyDefinition)],b.prototype,"url",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"yscale",void 0);e([g.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([g.property({type:Number,cast:l.toPt,
json:{write:!0}})],b.prototype,"height",void 0);e([g.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([g.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([g.property(d.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=c=e([g.subclass("esri.symbols.PictureFillSymbol")],b)}(g.declared(m))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(b,a,p){function e(a,
b,e){return b.imageData?p.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):n(b.url,e)}function n(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||p.isAbsolute(a)||!b.layer.parsedUrl?p.fromJSON(a,b):p.join(b.layer.parsedUrl.path,"images",a)}function h(a,b,e,d){p.isDataProtocol(a)?(a=p.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,e&&e.imageData===b.imageData&&e.url&&p.write(e.url,
b,"url",d)):p.write(a,b,"url",d)}Object.defineProperty(a,"__esModule",{value:!0});a.readImageDataOrUrl=e;a.read=n;a.writeImageDataAndUrl=h;a.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:e},write:{writer:function(a,b,e,d){h(a,b,this.source,d)}}}};a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,e){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=n(b.url,e));return a}}}}})},
"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(b,a,p,e,n,h,l,g,m){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}p(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,
b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=h.toPt(b));null!=c&&(d.height=h.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new d({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",n.clone(this.source));return a};var d;e([l.property({json:{write:!1}})],b.prototype,
"color",void 0);e([l.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);e([l.property(m.urlPropertyDefinition)],b.prototype,"url",void 0);e([l.property(m.sourcePropertyDefinition)],b.prototype,"source",void 0);e([l.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"height",void 0);e([l.reader("height",["height","size"])],b.prototype,"readHeight",null);e([l.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"width",void 0);e([l.property({json:{write:!1}})],
b.prototype,"size",void 0);return b=d=e([l.subclass("esri.symbols.PictureMarkerSymbol")],b)}(l.declared(g))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,
f,q,k){var r=n.ofType({base:null,key:"type",typeMap:{icon:m,object:d,text:f}}),u=n.ofType({base:null,key:"type",typeMap:{icon:m,object:d}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new r;b.type="point-3d";return b}p(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return q.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=
function(){return q.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:l.clone(this.verticalOffset),callout:l.clone(this.callout),styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[m.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[m.fromPictureMarkerSymbol(a)]})};b.fromTextSymbol=function(a){return new c({symbolLayers:[f.fromTextSymbol(a)]})};
var c;e([g.property({type:k.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);e([g.property(q.calloutProperty)],b.prototype,"callout",void 0);e([g.property({type:r,json:{type:u,origins:{"web-scene":{type:u}}}})],b.prototype,"symbolLayers",void 0);e([g.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([g.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=e([g.subclass("esri.symbols.PointSymbol3D")],b)}(g.declared(c))})},
"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z){var C=n.ofType({base:null,key:"type",typeMap:{extrude:d,
fill:c,icon:f,line:q,object:k,text:u,water:z}}),t=n.ofType({base:null,key:"type",typeMap:{extrude:d,fill:c,icon:f,line:q,object:k,water:z}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}p(b,a);d=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new h("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",
{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new d({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new d;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&
!1===a.symbolLayers[1].enable||(c.outline={size:e.size,color:g.isSome(e.material)?e.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new d({symbolLayers:[c.fromSimpleFillSymbol(a)]})};var d;e([m.property({type:C,json:{type:t}})],b.prototype,"symbolLayers",void 0);e([m.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);e([m.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=d=e([m.subclass("esri.symbols.PolygonSymbol3D")],
b)}(m.declared(r))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(b,a,p,e,n,h,l,g,m,d,c){var f=new l.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",
esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,d,e){b=a.call(this,b)||this;b.color=new h([0,0,0,.25]);b.outline=new c;b.type="simple-fill";b.style="solid";return b}p(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new d({color:g.clone(this.color),outline:this.outline&&
this.outline.clone(),style:this.style})};var d;e([m.property()],b.prototype,"color",void 0);e([m.property()],b.prototype,"outline",void 0);e([m.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);e([m.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);return b=d=e([m.subclass("esri.symbols.SimpleFillSymbol")],b)}(m.declared(d))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c){var f=new h.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});return function(a){function b(b,d,e,f){b=a.call(this,b)||this;b.color=new n([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new c;return b}p(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&
(e.size=g.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())};Object.defineProperty(b.prototype,"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({angle:this.angle,color:l.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};
var d;e([m.property()],b.prototype,"color",void 0);e([m.writer("color")],b.prototype,"writeColor",null);e([m.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);e([m.property()],b.prototype,"size",void 0);e([m.property({type:f.apiValues,json:{read:f.read,write:f.write}})],b.prototype,"style",void 0);e([m.property({type:String,json:{write:!0}})],b.prototype,"path",null);e([m.property({type:c,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=d=e([m.subclass("esri.symbols.SimpleMarkerSymbol")],
b)}(m.declared(d))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),function(b,a,p,e,n,h,l,g,m,d){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new m;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=
null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}p(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:h.clone(this.backgroundColor),borderLineColor:h.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:h.clone(this.color),
font:this.font&&this.font.clone(),haloColor:h.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};var c;e([g.property({type:n,json:{write:!0}})],b.prototype,"backgroundColor",void 0);e([g.property({type:n,json:{write:!0}})],b.prototype,"borderLineColor",void 0);e([g.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);e([g.property({type:m,json:{write:!0}})],b.prototype,"font",void 0);e([g.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);e([g.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);e([g.property({type:n,json:{write:!0}})],b.prototype,"haloColor",void 0);e([g.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);e([g.property({type:Boolean,
json:{write:!0}})],b.prototype,"rightToLeft",void 0);e([g.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);e([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);e([g.property({type:String,readOnly:!0})],b.prototype,"type",void 0);e([g.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0);e([g.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);e([g.property({type:Number,
cast:l.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);e([g.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);e([g.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=e([g.subclass("esri.symbols.TextSymbol")],b)}(g.declared(d))})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/asyncUtils ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r){function u(){return h(this,void 0,void 0,function(){return n(this,function(a){return[2,d.create(function(a){return b(["./support/styleUtils"],a)})]})})}var z=m.getLogger("esri.symbols.WebStyleSymbol"),C=g.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}p(b,a);k=b;b.prototype.read=function(a,b){this.portal=
b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};b.prototype.fetchSymbol=function(a){return l.safeCast(this._fetchSymbol("webRef",a))};b.prototype.fetchCIMSymbol=function(a){return l.safeCast(this._fetchSymbol("cimRef",a))};b.prototype._fetchSymbol=function(a,b){return h(this,void 0,void 0,function(){var c,e;return n(this,function(f){switch(f.label){case 0:return[4,u()];
case 1:return c=f.sent(),d.throwIfAborted(b),e=c.resolveWebStyleSymbol(this,{portal:this.portal},a,b),e.catch(function(a){z.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,e]}})})};var k;e([f.property({json:{write:!1}})],b.prototype,"color",void 0);e([f.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);e([f.property({type:q,json:{write:!1}})],b.prototype,"portal",void 0);e([f.property({type:String,json:{read:c.read,write:c.write}})],b.prototype,"styleUrl",
void 0);e([f.property({type:r.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);e([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([f.property({type:C.apiValues,readOnly:!0,json:{type:C.jsonValues,read:!1,write:C.write}})],b.prototype,"type",void 0);return b=k=e([f.subclass("esri.symbols.WebStyleSymbol")],b)}(f.declared(k))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u,z,C,t,D){function B(a,b,c){b=a?v[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new e("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function x(a,b,c){if(!a)return null;if(c&&"web-scene"===c.origin&&!a.isInstanceOf(u)&&!a.isInstanceOf(C)){var d=D.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new p("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(a,"__esModule",{value:!0});var v={esriSMS:r,esriPMS:d,esriTS:z,esriSLS:k,esriSFS:q,esriPFS:m,PointSymbol3D:c,LineSymbol3D:l,PolygonSymbol3D:f,MeshSymbol3D:g,LabelSymbol3D:h,styleSymbolReference:C,CIMSymbolReference:n};a.read=B;a.writeTarget=function(a,b,c,d){(a=x(a,{},d))&&(b[c]=
a)};a.write=x;a.fromJSON=function(a,b){return B(a,null,b)};a.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new t}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(b,a,p,e){Object.defineProperty(a,"__esModule",{value:!0});a.to3D=function(a,b,l,g){void 0===b&&(b=!1);void 0===l&&(l=!1);void 0===g&&(g=!0);if(!a)return{symbol:null};if(p.isSymbol3D(a)||a instanceof
p.WebStyleSymbol)g=a.clone();else if(a instanceof p.SimpleLineSymbol)g=p.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof p.SimpleMarkerSymbol)g=p.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof p.PictureMarkerSymbol)g=p.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof p.SimpleFillSymbol)g=p.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof p.TextSymbol)g=g?p.LabelSymbol3D.fromTextSymbol(a):p.PointSymbol3D.fromTextSymbol(a);else return{error:new e("symbol-conversion:unsupported-2d-symbol",
"2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(g.id=a.id);if(l&&p.isSymbol3D(g))for(a=0;a<g.symbolLayers.length;++a)g.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:g}}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(b,a,p,e){function n(b){void 0===b&&(b=a.ZERO);return[b[0],b[1],b[2],b[3],b[4],b[5]]}function h(a,b,c,d,e,f,g){void 0===g&&(g=n());g[0]=a;g[1]=b;g[2]=c;g[3]=d;
g[4]=e;g[5]=f;return g}function l(a){return a[0]>=a[3]?0:a[3]-a[0]}function g(a){return a[1]>=a[4]?0:a[4]-a[1]}function m(a){return a[2]>=a[5]?0:a[5]-a[2]}function d(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function c(a){return 6===a.length}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.fromValues=h;a.fromExtent=function(a,b){void 0===b&&(b=n());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};a.toExtent=function(a,b){return isFinite(a[2])||
isFinite(a[5])?new p({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new p({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};a.fromMinMax=function(a,b,c){void 0===c&&(c=n());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=b[2];return c};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};a.expand=function(a,b,d){void 0===d&&
(d=a);c(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[3]),d[4]=Math.max(a[4],b[4]),d[5]=Math.max(a[5],b[5])):e.is(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[2]),d[4]=Math.max(a[4],b[3])):2===b.length?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[0]),d[4]=Math.max(a[4],b[1])):3===b.length&&(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[0]),
d[4]=Math.max(a[4],b[1]),d[5]=Math.max(a[5],b[2]));return d};a.expandWithBuffer=function(a,b,c,d,e){void 0===e&&(e=a);var f=a[0],k=a[1],g=a[2],h=a[3],l=a[4];a=a[5];for(var m=0;m<d;m++)f=Math.min(f,b[c+3*m]),k=Math.min(k,b[c+3*m+1]),g=Math.min(g,b[c+3*m+2]),h=Math.max(h,b[c+3*m]),l=Math.max(l,b[c+3*m+1]),a=Math.max(a,b[c+3*m+2]);e[0]=f;e[1]=k;e[2]=g;e[3]=h;e[4]=l;e[5]=a;return e};a.expandWithNestedArray=function(a,b,c,d){void 0===d&&(d=a);var e=b.length,f=a[0],k=a[1],g=a[2],h=a[3],l=a[4];a=a[5];if(c)for(c=
0;c<e;c++){var m=b[c],f=Math.min(f,m[0]),k=Math.min(k,m[1]),g=Math.min(g,m[2]),h=Math.max(h,m[0]),l=Math.max(l,m[1]);a=Math.max(a,m[2])}else for(c=0;c<e;c++)m=b[c],f=Math.min(f,m[0]),k=Math.min(k,m[1]),h=Math.max(h,m[0]),l=Math.max(l,m[1]);d[0]=f;d[1]=k;d[2]=g;d[3]=h;d[4]=l;d[5]=a;return d};a.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=l;a.depth=g;a.height=m;a.diameter=function(a){var b=l(a),c=m(a);a=g(a);return Math.sqrt(b*b+c*c+a*a)};a.center=function(a,
b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+l(a)/2;b[1]=a[1]+g(a)/2;b[2]=a[2]+m(a)/2;return b};a.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=l(a);b[1]=g(a);b[2]=m(a);return b};a.maximumDimension=function(a){return Math.max(l(a),m(a),g(a))};a.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};a.contains=function(a,
b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};a.offset=function(a,b,c,d,e){void 0===e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+c;e[2]=a[2]+d;e[3]=a[3]+b;e[4]=a[4]+c;e[5]=a[5]+d;return e};a.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};a.setMax=
function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};a.set=d;a.empty=function(b){return b?d(b,a.NEGATIVE_INFINITY):n(a.NEGATIVE_INFINITY)};a.toRect=function(a,b){b||(b=e.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};a.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};a.is=c;a.isPoint=function(a){return 0===l(a)&&0===g(a)&&0===m(a)};a.equals=function(a,
b,d){if(null==a||null==b)return a===b;if(!c(a)||!c(b))return!1;if(d)for(var e=0;e<a.length;e++){if(!d(a[e],b[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==b[e])return!1;return!0};a.wrap=function(a,b,c,d,e,g){return h(a,b,c,d,e,g,f)};a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0,0,0];var f=n()})},"esri/geometry/support/quantizationUtils":function(){define(["require",
"exports","./jsonUtils"],function(b,a,p){function e(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function n(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function h(a,b,c){for(var d=[],f,k,g,h,l=0;l<c.length;l++){var m=c[l];if(0<l){if(g=e(a,m[0]),h=n(a,m[1]),g!==f||h!==k)d.push(b(m,g-f,h-k)),f=g,k=h}else f=e(a,m[0]),k=n(a,m[1]),d.push(b(m,f,k))}return 0<d.length?d:null}function l(a,b,c,d){return h(a,c?d?y:w:d?w:A,b)}function g(a,b,c,d){var e=[];c=c?d?y:w:d?w:A;for(d=0;d<b.length;d++){var f=
h(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function m(a,b,c,d){var e=[];c=c?d?y:w:d?w:A;for(d=0;d<b.length;d++){var f=h(a,c,b[d]);f&&2<=f.length&&e.push(f)}return e.length?e:null}function d(a,b){return b*a.scale[0]+a.translate[0]}function c(a,b){return a.translate[1]-b*a.scale[1]}function f(a,b,e){var f=Array(e.length);if(!e.length)return f;var k=a.scale,g=k[0],k=k[1],h=d(a,e[0][0]);a=c(a,e[0][1]);f[0]=b(e[0],h,a);for(var l=1;l<e.length;l++){var m=e[l],h=h+m[0]*g;a-=m[1]*k;f[l]=
b(m,h,a)}return f}function q(a,b,c){for(var d=Array(c.length),e=0;e<c.length;e++)d[e]=f(a,b,c[e]);return d}function k(a,b,c,d){return f(a,c?d?y:w:d?w:A,b)}function r(a,b,c,d){return q(a,c?d?y:w:d?w:A,b)}function u(a,b,c,d){return q(a,c?d?y:w:d?w:A,b)}function z(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),k=Math.min(d,b[1]),g=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var h=1;h<c.length;h++){var l=c[h],m=l[0],l=l[1],e=e+m,d=d+l;0>m&&(f=Math.min(f,e));0<m&&(g=Math.max(g,e));0>l?k=Math.min(k,d):
0<l&&(b=Math.max(b,d))}a[0]=f;a[1]=k;a[2]=g;a[3]=b;return a}function C(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)z(a,a,b[c]);return a}function t(a,b,c,d,f){b.xmin=e(a,c.xmin);b.ymin=n(a,c.ymin);b.xmax=e(a,c.xmax);b.ymax=n(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),f&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function D(a,b,c,d,e){b.points=l(a,c.points,d,e);return b}function B(a,b,c,d,f){b.x=e(a,c.x);b.y=n(a,
c.y);b!==c&&(d&&(b.z=c.z),f&&(b.m=c.m));return b}function x(a,b,c,d,e){a=g(a,c.rings,d,e);if(!a)return null;b.rings=a;return b}function v(a,b,c,d,e){a=m(a,c.paths,d,e);if(!a)return null;b.paths=a;return b}Object.defineProperty(a,"__esModule",{value:!0});var A=function(a,b,c){return[b,c]},w=function(a,b,c){return[b,c,a[2]]},y=function(a,b,c){return[b,c,a[2],a[3]]};a.toQuantizationTransform=function(a){return a?{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:
null};a.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};a.quantizeX=e;a.quantizeY=n;a.quantizeBounds=function(a,b,c){b[0]=e(a,c[0]);b[3]=n(a,c[1]);b[2]=e(a,c[2]);
b[1]=n(a,c[3]);return b};a.quantizePoints=l;a.quantizeRings=g;a.quantizePaths=m;a.hydrateX=d;a.hydrateY=c;a.hydrateCoordsArray=f;a.hydrateCoordsArrayArray=q;a.hydrateBounds=function(a,b,e){return e?(b[0]=d(a,e[0]),b[1]=c(a,e[3]),b[2]=d(a,e[2]),b[3]=c(a,e[1]),b):[d(a,b[0]),c(a,b[3]),d(a,b[2]),c(a,b[1])]};a.hydratePoints=k;a.hydratePaths=r;a.hydrateRings=u;a.getQuantizedBoundsCoordsArray=z;a.getQuantizedBoundsCoordsArrayArray=C;a.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,
Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return z(b,b,a)};a.getQuantizedBoundsPaths=function(a){return C([0,0,0,0],a)};a.getQuantizedBoundsRings=function(a){return C([0,0,0,0],a)};a.quantizeExtent=t;a.quantizeMultipoint=D;a.quantizePoint=B;a.quantizePolygon=x;a.quantizePolyline=v;a.quantizeGeometry=function(a,b){return a&&b?p.isPoint(b)?B(a,{},b,!1,!1):p.isPolyline(b)?v(a,{},b,!1,!1):p.isPolygon(b)?x(a,{},b,!1,!1):p.isMultipoint(b)?D(a,{},b,!1,!1):p.isExtent(b)?
t(a,{},b,!1,!1):null:null};a.hydrateExtent=function(a,b,e,f,k){b.xmin=d(a,e.xmin);b.ymin=c(a,e.ymin);b.xmax=d(a,e.xmax);b.ymax=c(a,e.ymax);b!==e&&(f&&(b.zmin=e.zmin,b.zmax=e.zmax),k&&(b.mmin=e.mmin,b.mmax=e.mmax));return b};a.hydrateMultipoint=function(a,b,c,d,e){b.points=k(a,c.points,d,e);return b};a.hydratePoint=function(a,b,e,f,k){b.x=d(a,e.x);b.y=c(a,e.y);b!==e&&(f&&(b.z=e.z),k&&(b.m=e.m));return b};a.hydratePolygon=function(a,b,c,d,e){b.rings=u(a,c.rings,d,e);return b};a.hydratePolyline=function(a,
b,c,d,e){b.paths=r(a,c.paths,d,e);return b}})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(b,a,p,e,n,h,l,g,m,d){var c=new n.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",
locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this)||this;b.alias=null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}p(b,a);f=b;b.prototype.readDescription=
function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(C){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var d;try{d=JSON.parse(a)}catch(C){}return d?c.fromJSON(d.fieldValueType):null};b.prototype.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};
var f;e([l.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);e([l.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);e([l.property()],b.prototype,"description",void 0);e([l.reader("description")],b.prototype,"readDescription",null);e([l.property({types:m.types,json:{read:{reader:m.fromJSON},write:!0}})],b.prototype,"domain",void 0);e([l.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);e([l.property({type:g.Integer,
json:{write:!0}})],b.prototype,"length",void 0);e([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);e([l.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);e([l.enumeration.serializable()(d.kebabDict)],b.prototype,"type",void 0);e([l.property()],b.prototype,"valueType",void 0);e([l.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=f=e([l.subclass("esri.layers.support.Field")],b)}(l.declared(h))})},"esri/layers/support/fieldType":function(){define(["require",
"exports","../../core/jsonMap"],function(b,a,p){Object.defineProperty(a,"__esModule",{value:!0});a.kebabDict=new p.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",
esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(b,a,p,e){function n(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d.length!==e.length)return!1;for(var g=0;g<d.length;g++)if(d[g]!==e[g])return!1}return!0}function h(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<
a.length;c++)if(!n(a[c],b[c]))return!1;return!0}function l(a,b){return a===b||a&&b&&a.equals(b)}function g(a,b){if(a===b)return!0;if(e.isNone(a)||e.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=l(a.spatialReference,b.spatialReference)?a.x===b.x&&a.y===b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:l(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===
b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:l(a.spatialReference,b.spatialReference)?h(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:l(a.spatialReference,b.spatialReference)?h(a.rings,b.rings):!1,a;case "multipoint":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:l(a.spatialReference,b.spatialReference)?n(a.points,b.points):!1,a;case "mesh":return!1;default:p.neverReached(a)}}function m(a,b){if(a===b)return!0;if(!a||!b)return!1;var c=Object.keys(a),
d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(a[e]!==b[e])return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.equals=function(a,b){return a===b?!0:null!=a&&null!=b&&a.objectId===b.objectId&&g(a.geometry,b.geometry)&&m(a.attributes,b.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ./mathUtils ./projectionUtils".split(" "),
function(b,a,p,e,n,h,l,g){function m(b,c,d,e){var f,k;b instanceof h&&c instanceof h&&(d=c.longitude,e=c.latitude,k=b.latitude,f=b.longitude);b=l.deg2rad(k);e=l.deg2rad(e);f=l.deg2rad(f);c=l.deg2rad(d);d=Math.sin((b-e)/2);f=Math.sin((f-c)/2);d=2*l.asin(Math.sqrt(d*d+Math.cos(b)*Math.cos(e)*f*f))*a.earthRadius;return Math.round(1E4*d)/1E4}function d(b,c,d){b=d/a.earthRadius;c=l.deg2rad(c);b=Math.sin(b/2);c=Math.cos(c);c=2*l.asin(Math.sqrt(b*b/(c*c)));return l.rad2deg(c)}function c(b,c,d){return l.rad2deg(d/
a.earthRadius)}function f(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(a,"__esModule",{value:!0});a.earthRadius=p.wgs84Radius;a.halfEarthRadius=a.earthRadius/2;a.halfEarthCircumference=Math.PI*a.earthRadius;a.earthCircumference=2*a.halfEarthCircumference;a.metersPerDegree=a.halfEarthCircumference/180;a.getGreatCircleDistance=m;a.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,e=new h(b.x,a.y,d),f=new h(c.x,a.y,d);b=new h(a.x,b.y,d);a=new h(a.x,c.y,d);return{lon:m(e,
f),lat:m(b,a)}};a.getLonDeltaForDistance=d;a.getLatDeltaForDistance=c;a.getLatLonDeltaForDistance=function(a,b,e){return{lat:c(a,b,e),lon:d(a,b,e)}};a.getMaxCameraAltitude=function(b){b=l.deg2rad(b/2);return(1-Math.sin(b))*a.earthRadius/Math.sin(b)};a.getViewExtentDistance=function(b,c){c=l.deg2rad(c/2);return 2*l.acos((Math.pow(b+a.earthRadius,2)+Math.pow(a.earthRadius,2)-Math.pow((b+a.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(b+a.earthRadius),2)-b*b-2*b*a.earthRadius),2))/(2*(b+a.earthRadius)*
a.earthRadius))*a.earthRadius};a.computeCartesianDistance=function(a,b){a=g.wgs84ComparableLonLatToECEF(q,a.longitude,a.latitude,a.z||0);b=g.wgs84ComparableLonLatToECEF(k,b.longitude,b.latitude,b.z||0);b=[b[0]-a[0],b[1]-a[1],b[2]-a[2]];return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])};a.longitudeToTimezone=f;a.positionToTimezone=function(a,b){b||(b={hours:0,minutes:0,seconds:0});b.hours=f(a[0],!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};
a.distanceToIdealHorizon=function(b,c){c=c||a.earthRadius;b=e.vec3.dot(b,b);return Math.sqrt(Math.abs(b-c*c))};var q=n.vec3f64.create(),k=n.vec3f64.create()})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(b,a,p,e,n){function h(a){return Math.asin(1<a?1:-1>a?-1:a)}function l(a){return Math.acos(1<a?1:-1>a?-1:a)}function g(a){for(var b in a){var c=a[b];c instanceof
Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=function(a){return 180*a/Math.PI};a.asin=h;a.acos=l;a.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};
a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,b){e.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};a.makeOrthonormal=
function(a,b,c){c=c||a;var d=e.vec3.dot(a,b);e.vec3.set(c,a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2]);e.vec3.normalize(c,c)};a.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?e.vec3.set(b,0,1,0):e.vec3.set(b,1,0,0);e.vec3.cross(c,a,b);e.vec3.normalize(b,b);e.vec3.cross(b,c,a);e.vec3.normalize(c,c)};a.moduloPositive=function(a,b){return(a%b+b)%b};a.cartesianToSpherical=function(a,b){var c=e.vec3.length(a),d=h(a[2]/c);e.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};a.sphericalToCartesian=
function(a,b){var c=a[0],d=a[1];a=a[2];var f=Math.cos(d);e.vec3.set(b,c*f*Math.cos(a),c*f*Math.sin(a),c*Math.sin(d))};a.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};a.lerp=function(a,b,c){return a+(b-a)*c};a.bilerp=function(a,b,c,d,e,f){a+=(b-a)*e;return a+(c+(d-c)*e-a)*f};a.slerp=function(a,b,c,d){void 0===d&&(d=n.vec3f64.create());var g=e.vec3.length(a),h=e.vec3.length(b),
k=e.vec3.dot(a,b)/(g*h);if(.9999999999999999>k){var k=Math.acos(k),l=((1-c)*g+c*h)/Math.sin(k),h=l/h*Math.sin(c*k);e.vec3.scale(f,a,l/g*Math.sin((1-c)*k));e.vec3.scale(q,b,h);return e.vec3.add(d,f,q)}return e.vec3.lerp(d,a,b,c)};a.angle=function(a,b,d){a=e.vec3.normalize(f,a);b=e.vec3.normalize(q,b);var g=l(e.vec3.dot(a,b));return d&&(a=e.vec3.cross(c,a,b),0>e.vec3.dot(a,d))?-g:g};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-
1][1];for(var d=1;c>a[d][0];)d++;var e=a[d][0];c=(e-c)/(e-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};a.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.floatEqualRelative=function(a,b,c){void 0===c&&(c=1E-6);if(isNaN(a)||isNaN(b))return!1;if(a===b)return!0;var d=Math.abs(a-b),e=Math.abs(a),f=Math.abs(b);if(0===a||0===b||1E-12>e&&1E-12>f){if(d>.01*c)return!1}else if(d/(e+f)>c)return!1;return!0};
a.floatEqualAbsolute=function(a,b,c){void 0===c&&(c=1E-6);return isNaN(a)||isNaN(b)?!1:(a>b?a-b:b-a)<=c};b=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,
b){void 0===b&&(b=0);return p.clamp(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,
b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=b;a.planeFromPoints=function(a,b,c,f){e.vec3.subtract(m,b,a);e.vec3.subtract(d,c,a);e.vec3.cross(f,m,d);e.vec3.normalize(f,f);f[3]=-e.vec3.dot(a,f)};var m=n.vec3f64.create(),d=n.vec3f64.create();a.cyclical2PI=g(new b(0,2*Math.PI));a.cyclicalPI=g(new b(-Math.PI,Math.PI));a.cyclicalDeg=g(new b(0,360));
var c=n.vec3f64.create(),f=n.vec3f64.create(),q=n.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});(function(a){a.length=function(a,b){var e=a[b],l=a[b+1];a=a[b+2];return Math.sqrt(e*e+l*l+a*a)};a.normalize=function(a,b){var e=a[b],l=a[b+1],g=a[b+2],e=1/Math.sqrt(e*e+l*l+g*g);a[b]*=e;a[b+1]*=e;a[b+2]*=e};a.scale=function(a,b,h){a[b]*=h;a[b+1]*=h;a[b+2]*=h};a.add=function(a,b,
h,l,g,m){void 0===m&&(m=b);g=g||a;g[m]=a[b]+h[l];g[m+1]=a[b+1]+h[l+1];g[m+2]=a[b+2]+h[l+2]};a.subtract=function(a,b,h,l,g,m){void 0===m&&(m=b);g=g||a;g[m]=a[b]-h[l];g[m+1]=a[b+1]-h[l+1];g[m+2]=a[b+2]-h[l+2]}})(a.Vec3Compact||(a.Vec3Compact={}))})},"*noref":1}});
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/promiseUtils ../../../core/requireUtils ../../../core/workers ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../geometry/SpatialReference ./i3s/I3SBinaryReader ./i3s/LEPCC ./i3s/PointCloudRendererUtil ../support/projectionUtils module".split(" "),function(b,a,p,e,n,h,l,g,m,d,c,f,q,k,r,u){Object.defineProperty(a,"__esModule",
{value:!0});var z=function(){function a(){}a.prototype._process=function(a){a=this._transform(a);return e.resolve({result:a,transferList:[a.points.buffer,a.rgb.buffer]})};a.prototype._transform=function(a){var b=this.readGeometry(a.schema,a.geometryBuffer),d=b.length/3,e=k.evaluateRenderer(a.rendererInfo,a.primaryAttribute,a.modulationAttribute,b,d);a.filterInfo&&0<a.filterInfo.length&&(d=k.filterInPlace(b,e,a.filterInfo,a.filterAttributes));3*d<e.length&&(e=new Uint8Array(e.buffer.slice(0,3*d)));
this._applyElevationOffsetInPlace(b,d,a.elevationOffset);b=this._transformCoordinates(b,d,a.obb,c.fromJSON(a.inSR),c.fromJSON(a.outSR));return{obb:a.obb,points:b,rgb:e}};a.prototype.readGeometry=function(a,b){if(null==a.encoding||""===a.encoding){a=f.createGeometryIndexFromSchema(b,a);b=f.createTypedView(b,a.vertexAttributes.position);var c=a.header.fields;a=[c.offsetX,c.offsetY,c.offsetZ];for(var c=[c.scaleX,c.scaleY,c.scaleZ],d=b.length/3,e=new Float64Array(3*d),g=0;g<d;g++)e[3*g]=b[3*g]*c[0]+a[0],
e[3*g+1]=b[3*g+1]*c[1]+a[1],e[3*g+2]=b[3*g+2]*c[2]+a[2];return e}if("lepcc-xyz"===a.encoding)return q.decodeXYZ(b).result};a.prototype._transformCoordinates=function(a,b,c,e,f){if(!r.bufferToBuffer(a,e,0,a,f,0,b))throw Error("Can't reproject");e=d.vec3f32.fromValues(c.center[0],c.center[1],c.center[2]);f=d.vec3f32.create();var g=d.vec3f32.create();l.quat.conjugate(C,c.quaternion);for(var h=new Float32Array(3*b),k=0;k<b;k++)f[0]=a[3*k]-e[0],f[1]=a[3*k+1]-e[1],f[2]=a[3*k+2]-e[2],m.vec3.transformQuat(g,
f,C),c.halfSize[0]=Math.max(c.halfSize[0],Math.abs(g[0])),c.halfSize[1]=Math.max(c.halfSize[1],Math.abs(g[1])),c.halfSize[2]=Math.max(c.halfSize[2],Math.abs(g[2])),h[3*k]=f[0],h[3*k+1]=f[1],h[3*k+2]=f[2];return h};a.prototype._applyElevationOffsetInPlace=function(a,b,c){if(0!==c)for(var d=0;d<b;d++)a[3*d+2]+=c};return a}(),C=g.quatf32.create();g=function(a){function c(){var c=a.call(this)||this;c._thread=void 0;h.open(n.getAbsMid("./PointCloudWorker",b,u)).then(function(a){void 0===c._thread?c._thread=
a:a.close()});return c}p(c,a);c.prototype.destroy=function(){this._thread&&this._thread.close();this._thread=null};c.prototype.transform=function(a,b,c){return this._thread?this._thread.invoke("_process",a,{transferList:b,signal:c}):e.resolve(this._transform(a))};return c}(z);a.PointCloudWorker=g;a.default=function(){return new z}});