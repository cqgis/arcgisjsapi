// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../core/libs/gl-matrix-2/mat4 ../../core/libs/gl-matrix-2/vec3 ../3d/support/stack ../3d/webgl-engine/lib/Geometry ../3d/webgl-engine/lib/GeometryUtil ../3d/webgl-engine/materials/DefaultMaterial ./Manipulator3D".split(" "),function(r,e,l,g,f,m,n,p,q){function h(b,c){var d=1!==c;b=new p({diffuse:b,transparent:d,writeDepth:!d,cullFace:"back",opacity:c,castShadows:!1,softwareInstanced:!0},"manipulator");b.renderOccluded=4;return b}function k(b,c,d,a){b=g.vec3.normalize(f.sv3d.get(),
b);c=g.vec3.normalize(f.sv3d.get(),c);var e=g.vec3.cross(f.sv3d.get(),b,c);a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=0;a[4]=c[0];a[5]=c[1];a[6]=c[2];a[7]=0;a[8]=e[0];a[9]=e[1];a[10]=e[2];a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}Object.defineProperty(e,"__esModule",{value:!0});e.createManipulatorMaterial=h;e.createSphereManipulator=function(b,c,d){return new q.Manipulator3D({view:b,renderObjects:[{geometry:new m(n.createSphereGeometry(1,32,32),"manipulator"),material:h(c,d)}]})};e.calculateInputRotationTransform=
function(b,c,d,a){b=g.vec3.subtract(f.sv3d.get(),b,d);a=g.vec3.cross(f.sv3d.get(),a,b);d=k(b,a,d,f.sm4d.get());l.mat4.invert(d,d);c=g.vec3.transformMat4(f.sv3d.get(),c,d);return Math.atan2(c[1],c[0])};e.calculateTranslateRotateFromBases=k});