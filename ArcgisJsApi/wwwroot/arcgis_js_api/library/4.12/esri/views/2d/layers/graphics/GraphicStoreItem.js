// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/maybe ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/centroid ../../../../geometry/support/jsonUtils ../../../../geometry/support/quantizationUtils ./graphicsUtils".split(" "),function(m,n,q,r,t,p,h,k){Object.defineProperty(n,"__esModule",{value:!0});m=function(){function a(){this.bounds=r.create();this.graphic=null;this.size=[0,0,0,0]}a.acquire=function(b,l,c,d,e,f){void 0===b&&(b=null);var g;0===a._pool.length?g=new a:(g=a._pool.pop(),
this._set.delete(g));g.acquire(b,l,c,d,e,f);return g};a.release=function(b){b&&!this._set.has(b)&&(b.release(),this._pool.push(b),this._set.add(b))};a.getCentroidQuantized=function(b,l,a){if(p.isPolygon(b.geometry)){a=b.symbol;if(q.isNone(a))return null;if(k.isMarkerSymbol(a.type))return b=t.polygonCentroid(b.geometry),h.quantizePoint(l,{},{x:b[0],y:b[1]},!1,!1)}return null};a.prototype.acquire=function(b,a,c,d,e,f){void 0===b&&(b=null);b&&this.set(b,a,c,d,e,f)};a.prototype.release=function(){this.geometry=
this.symbol=this.graphic=null};a.prototype.set=function(b,a,c,d,e,f){this.graphic=b;this.geometry=c;this.symbol=a.symbol;k.getBounds(this.bounds,this.size,a.symbol,c,a.mosaicItem,d,e,f)};a.prototype.updateBounds=function(b,a,c,d){k.getBounds(this.bounds,this.size,b,this.geometry,null,a,c,d)};a.prototype.getGeometryQuantized=function(b){if(p.isPolygon(this.geometry)){var a=this.geometry.rings;if(1===a.length&&2===a[0].length)return h.quantizeGeometry(b,{paths:[[a[0][0],a[0][1]]]})}return h.quantizeGeometry(b,
this.geometry)};a._pool=[];a._set=new Set;return a}();n.default=m});