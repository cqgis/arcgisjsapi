// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../../core/tsSupport/extendsHelper ../../../../../../core/Logger ../../../../../../core/screenUtils ../../../../../../symbols/cim/enums ../../color ../../number ../../Utils ../../materialKey/MaterialKey ./util ./WGLBaseLineTemplate ./WGLMeshTemplate".split(" "),function(g,w,B,C,r,x,y,t,z,A,D,E,F){Object.defineProperty(w,"__esModule",{value:!0});var G=C.getLogger("esri.views.2d.engine.webgl.WGLLineTemplate");g=function(g){function h(e,b,a,f,d,h,m,q,n,k,p,l,u,r,t){var c=
g.call(this)||this;e=A.LineMaterialKey.load(A.createMaterialKey(c.geometryType,e,u));b&&(e.sdf=b.sdf,e.pattern=!0,e.textureBinding=b.textureBinding);c._capType=f;c._joinType=d;c._miterLimitCosine=D.getLimitCosine(h);c._fillColor=m;c._tl=q;c._br=n;c._hasPattern=k;c._isDashed=p;c._isColorLocked=l;c._isOutline=u;c._zOrder=t;c._materialKey=e.data;c._bitset=l?1:0;c._halfWidth=.5*a;c._halfReferenceWidth=.5*r;c._initializeTessellator(!1);return c}B(h,g);h.fromCIMLine=function(e,b,a,f){var d=b.color,v=b.isDashed,
m=b.cap;v&&m===x.CapType.ROUND&&(m=x.CapType.SQUARE);var q=b.join,n=r.pt2px(b.width),k=r.pt2px(b.referenceWidth),p=r.pt2px(b.miterLimit),d=d&&y.premultiplyAlphaRGBA(d)||0;if(!a)return new h(e,a,n,m,q,p,d,0,0,!1,v,b.colorLocked,f,k,b.zOrder);var l=a.rect,u=l.x+1+a.width,g=l.y+1+a.height,l=t.i1616to32(l.x+1,l.y+1),u=t.i1616to32(u,g);return new h(e,a,n,m,q,p,d,l,u,!0,v,b.colorLocked,f,k,b.zOrder)};h.fromSimpleLine=function(e,b,a,f){var d=a.color,g="solid"!==a.style&&"none"!==a.style,m=z.getCapType(a.cap||
"round",g),q=z.getJoinType(a.join||"round"),d=d&&"none"!==a.style&&y.premultiplyAlphaRGBA(d)||0;"none"===a.style&&(d=0);var n=r.pt2px(a.width);a=a.miterLimit;if(!f)return new h(e,f,n,m,q,a,d,0,0,!1,g,!1,b,n,0);var k=f.rect,p=k.x+1+f.width,l=k.y+1+f.height,k=t.i1616to32(k.x+1,k.y+1),p=t.i1616to32(p,l);return new h(e,f,n,m,q,a,d,k,p,!0,g,!1,b,n,0)};h.fromPictureLineSymbol=function(e,b,a,f){G.error("PictureLineSymbol support does not exist!");return null};return h}(E.default(F.default));w.default=g});