// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/promise/all dojo/Deferred dojo/date/locale ../Buttons/SvgButton dojo/_base/kernel ../Loaders/LoaderBars dojo/number ../Buttons/IconButton ../Filters/CategoriesFilter/index ../Modals/Overlay ../Buttons/Toggle ../Navigation/Pager/index ../Dropdowns/SortDropdown/index ../Navigation/TabNav ../Dropdowns/TextOptionDropdown dojo/debounce ../Modals/MobileWrap ../Filters/MapAreaFilter ../Filters/CreatedFilter/index ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Filters/CollaborationFilter/index ../Dropdowns/AccordionDropdown/index ../Dropdowns/FilterController/index ../Management/LazyLoader ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Collaboration ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa){return function(c){function b(f){if(a[f])return a[f].exports;var d=a[f]={i:f,l:!1,exports:{}};return c[f].call(d.exports,d,d.exports,b),d.l=!0,d.exports}var a={};return b.m=c,b.c=a,b.d=function(a,d,c){b.o(a,d)||Object.defineProperty(a,d,{enumerable:!0,get:c})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,d){if((1&d&&(a=b(a)),8&d)||4&d&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(b.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&d&&"string"!=typeof a)for(var k in a)b.d(c,k,function(b){return a[b]}.bind(null,k));return c},b.n=function(a){var d=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(d,"a",d),d},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,
b)},b.p="",b(b.s=398)}([function(c,b,a){function f(a,b){function e(){this.constructor=a}d(a,b);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}a.d(b,"b",function(){return f});a.d(b,"a",function(){return h});var d=function(a,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])})(a,b)},h=function(){return(h=Object.assign||function(a){for(var b,e=1,d=arguments.length;e<d;e++)for(var k in b=
arguments[e])Object.prototype.hasOwnProperty.call(b,k)&&(a[k]=b[k]);return a}).apply(this,arguments)}},function(c,b){c.exports=K},,function(c,b){c.exports=L},,function(c,b,a){function f(a){return function k(){for(var b=this,e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];return e.length>=a.length?a.call.apply(a,[this].concat(e)):function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return k.call.apply(k,[b].concat(e,a))}}}a.d(b,"a",function(){return f})},function(c,b,a){function f(a,
b,c){var l,f,h=b.settings.utils.request,p=Object(k.b)({},b),p=h(p[0],p[1]).then(Object(g.a)(b),function(e){return a({type:A,payload:e})});if(c){l=Object(k.a)(b,["access","contentstatus","categories"]);l=h(l[0],l[1]);c=b.settings.config.customSections;var n=b.parameters.section;if(Object(v.a)(n)||Object(t.e)(c,n)&&Object(v.a)(Object(t.b)(c,n)))f=Object(k.c)(b,b.ui.tagsFilter.filterString),f=h(f[0],f[1])}h=[p,l,f].filter(function(a){return!!a});e()(h).then(function(e){return a(function(a,e){var b=a.settings.utils.iconDir,
g=Object(z.a)(a);return{type:y,payload:{search:d.a({},e[0].data,{results:e[0].data.results.map(function(a){return Object(m.a)(g,b,a)})}),aggregations:e[1]&&e[1].data&&e[1].data.aggregations?{counts:e[1].data.aggregations.counts.slice().concat(e[2]&&e[2].data&&e[2].data.aggregations?e[2].data.aggregations.counts.slice():[]),countInfo:{section:a.parameters.section,group:a.parameters.filter.group,custom:a.settings.config.customSections.filter(function(e){return e.name===a.parameters.section})[0]}}:void 0}}}(b,
e))},function(e){return a({type:A,payload:e})})}a.d(b,"a",function(){return w});a.d(b,"c",function(){return y});a.d(b,"b",function(){return A});a.d(b,"d",function(){return C});a.d(b,"f",function(){return D});a.d(b,"e",function(){return B});a.d(b,"g",function(){return E});a.d(b,"h",function(){return G});a.d(b,"i",function(){return H});var d=a(0),h=a(35),k=a(41),g=a(73);c=a(9);var e=a.n(c),m=a(21),l=a(84),q=a(80),n=a(29),r=a(66),p=a(85),u=a(53),t=a(18),v=a(123),z=a(28),x=a(65),w="LOADING_CONTENT",y=
"LOADING_CONTENT_SUCCESS",A="LOADING_CONTENT_FAILED",C="LOADING_NEXT",D="LOADING_NEXT_SUCCESS",B="LOADING_NEXT_FAILED",E="SUBSCRIPTION_CONTENT_SUCCESS",G=function(a){return function(e,b){var d=b();b=d.settings.utils.request;var c=d.parameters.nextQuery.nextStart;e({type:C});c=Object(k.b)({num:a,start:c},d);b(c[0],c[1]).then(Object(g.a)(d),function(a){return e({type:B,payload:a})}).then(function(a){return e(I(d,a))},function(a){return e({type:B,payload:a})})}},H=function(a){return function(e,b){b=
b();e({type:w});b.settings.config.clearSelectionBetweenSearches&&e({type:h.a});e(J(a))}},J=function(a){return function(b,d){var g=d(),k=g.parameters.section,c=g.settings.utils.portal.user,m=!!c,h=!!c&&"org_admin"===c.role,v=!!c&&c.privileges&&-1<c.privileges.indexOf("portal:admin:manageCollaborations");b(Object(l.b)()).then(function(l){"livingAtlas"===k?b(Object(q.d)(l)).then(function(){return f(b,d(),a)},function(){return b({type:A,payload:"Couldn't load the living atlas info."})}):"myContent"!==
k&&"myGroups"!==k&&"myFavorites"!==k&&"subscription"!==k||!m?"myOrganization"===k&&m?e()([b(Object(r.d)()),b(Object(p.a)(b,d()))]).then(function(){return f(b,d(),a)},function(){return b({type:A,payload:"Couldn't load the organization info."})}):Object(t.e)(g.settings.config.customSections,k)?b(Object(u.e)()).then(function(){return f(b,d(),a)},function(){return b({type:A,payload:"Couldn't load the custom section info."})}):f(b,g,a):e()([b(Object(n.l)())].concat(m&&c.orgId?[b(Object(r.d)())]:[]).concat(h&&
v?[b(Object(p.a)(b,d()))]:[])).then(function(){return"subscription"===k?b(Object(x.d)()).then(function(){return b({type:E,payload:d().results.provisionedContent.content})},function(){return b({type:A,payload:"Couldn't load provisioned content info."})}):f(b,d(),a)},function(){return b({type:A,payload:"Couldn't load the user info."})})})}},I=function(a,b){var e=a.settings.utils.iconDir,g=Object(z.a)(a);return{type:D,payload:d.a({},b.data,{results:b.data.results.map(function(a){return Object(m.a)(g,
e,a)})})}}},function(c,b,a){a.d(b,"d",function(){return f});a.d(b,"n",function(){return d});a.d(b,"i",function(){return h});a.d(b,"j",function(){return k});a.d(b,"m",function(){return g});a.d(b,"f",function(){return e});a.d(b,"h",function(){return m});a.d(b,"l",function(){return l});a.d(b,"c",function(){return q});a.d(b,"p",function(){return n});a.d(b,"g",function(){return r});a.d(b,"e",function(){return p});a.d(b,"q",function(){return u});a.d(b,"k",function(){return t});a.d(b,"o",function(){return v});
a.d(b,"r",function(){return z});a.d(b,"b",function(){return x});a.d(b,"a",function(){return w});a.d(b,"u",function(){return y});a.d(b,"E",function(){return A});a.d(b,"y",function(){return C});a.d(b,"D",function(){return D});a.d(b,"z",function(){return B});a.d(b,"A",function(){return E});a.d(b,"w",function(){return G});a.d(b,"C",function(){return H});a.d(b,"t",function(){return J});a.d(b,"G",function(){return I});a.d(b,"v",function(){return Ba});a.d(b,"x",function(){return F});a.d(b,"H",function(){return Ca});
a.d(b,"B",function(){return Da});a.d(b,"F",function(){return Ea});a.d(b,"I",function(){return Fa});a.d(b,"s",function(){return Ga});var f="UPDATE_CUSTOM_FILTER",d="UPDATE_ORG_GROUP_FILTER",h="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",k="UPDATE_LIVING_ATLAS_REGION_FILTER",g="UPDATE_ORG_CATEGORIES_FILTER",e="UPDATE_GROUP_CATEGORIES_FILTER",m="UPDATE_ITEM_TYPE_FILTER",l="UPDATE_MODIFIED_FILTER",q="UPDATE_CREATED_FILTER",n="UPDATE_SHARED_FILTER",r="UPDATE_GROUP_FILTER",p="UPDATE_FOLDER_FILTER",u="UPDATE_STATUS_FILTER",
t="UPDATE_MAP_AREA_FILTER",v="UPDATE_SEARCH_ORG_FILTER",z="UPDATE_TAGS_FILTER",x="UPDATE_COLLABORATIONS_FILTER",w="CLEAR_ALL_FILTERS",y=function(a,b){return{type:f,payload:{index:a,filter:b}}},A=function(a){return{type:d,payload:a}},C=function(a){return{type:m,payload:a}},D=function(a){return{type:g,payload:a}},B=function(a){return{type:h,payload:a}},E=function(a){return{type:k,payload:a}},G=function(a){return{type:e,payload:a}},H=function(a,b){return{type:l,payload:{section:a,modified:b}}},J=function(a,
b){return{type:q,payload:{section:a,created:b}}},I=function(a){return{type:n,payload:a}},Ba=function(a){return{type:p,payload:a}},F=function(a){return{type:r,payload:a}},Ca=function(a){return{type:u,payload:a}},Da=function(a){return{type:t,payload:a}},Ea=function(a){return{type:v,payload:a}},Fa=function(a){return{type:z,payload:a}},Ga=function(a){return{type:x,payload:a}}},function(c,b,a){a.d(b,"a",function(){return k});var f=a(127);a.d(b,"g",function(){return f.a});a.d(b,"i",function(){return f.b});
var d=a(103);a.d(b,"b",function(){return d.a});a.d(b,"c",function(){return d.b});a.d(b,"d",function(){return d.c});a.d(b,"e",function(){return d.d});a.d(b,"f",function(){return d.e});a.d(b,"h",function(){return d.f});var h=a(208);a.d(b,"j",function(){return h.a});var k="CLEAR_SELECTION_STATE"},function(c,b){c.exports=M},,,function(c,b,a){function f(a){return a.reduce(function(a,b){return b&&b.relatedItems?a.concat(b.relatedItems.map(function(a){return a})):a},[])}function d(a,b,e){return a(b,{query:h.a({f:"json"},
e)}).then(function(a){return a.data})}a.d(b,"k",function(){return g});a.d(b,"f",function(){return e});a.d(b,"c",function(){return m});a.d(b,"d",function(){return l});a.d(b,"g",function(){return q});a.d(b,"i",function(){return n});a.d(b,"h",function(){return r});a.d(b,"j",function(){return p});a.d(b,"a",function(){return u});a.d(b,"b",function(){return t});a.d(b,"l",function(){return v});a.d(b,"m",function(){return z});a.d(b,"n",function(){return x});a.d(b,"e",function(){return w});a.d(b,"o",function(){return d});
var h=a(0);c=a(9);var k=a.n(c),g=function(a,b,e){return d(a,b.restUrl+"/portals/self",{culture:e,default:!0})},e=function(a,b,e){return d(a,b.restUrl+"/content/items/"+e+"/data")},m=function(a,b,e){return d(a,b.restUrl+"/community/groups",{q:e})},l=function(a,b,e){return d(a,b.restUrl+"/community/groups/"+e+"/categorySchema")},q=function(a,b,e){return d(a,b.restUrl+"/portals/"+(e||b.id)+"/categorySchema")},n=function(a,b,e,d){return a(b.restUrl+"/portals/"+(e||b.id)+"/collaborationsSummary",d)},r=
function(a,b,e,d){return a(b.restUrl+"/portals/"+(e||b.id)+"/collaboratedItems",d)},p=function(a,b,e){return d(a,location.protocol+"//"+b.portalHostname+"/sharing/rest/portals/"+(e||b.id))},u=function(a,b,e){return a(b.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+b.id+" AND access:public",num:100,start:e||1,sortField:"title",sortOrder:"asc"}}).then(function(e){return e.data.total>e.data.start+e.data.num?u(a,b,e.data.start+e.data.num).then(function(a){return h.a({},a,{data:h.a({},a.data,
{results:e.data.results.concat(a.data.results)})})}):e})},t=function(a,b,e,g){return a(b.restUrl+"/community/users/"+e+"/provisionedListings",{query:{f:"json",num:100,start:g||1}}).then(function(g){var c=k()(g.data.provisionedListings.filter(function(a){return!!a.itemId}).map(function(e){return d(a,b.restUrl+"/content/items/"+e.itemId)})),l=g.data.provisionedListings.map(function(e){return d(a,b.restUrl+"/content/items/"+(e.id||e.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(a){return a},
function(a){})});return g.data.total>g.data.start+g.data.num?t(a,b,e,g.data.start+g.data.num).then(function(a){return k()([c].concat(l)).then(function(b){return b[0].results.concat(f(b.slice(1))).concat(a)})}):k()([c].concat(l)).then(function(a){return a[0].concat(f(a.slice(1)))})})},v=function(a,b,e){return d(a,b.restUrl+"/community/users/"+(e||b.user.username))},z=function(a,b,e){return d(a,b.restUrl+"/content/users/"+(e||b.user.username),{num:1})},x=function(a,b,e){return d(a,b.restUrl+"/content/groups/"+
e)},w=function(a,b,e){return d(a,b.restUrl+"/community/groups",e)}},function(c,b){c.exports=N},,,function(c,b,a){function f(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return function(b){return a.reduceRight(function(a,b){return b(a)},b)}}a.d(b,"a",function(){return f})},,function(c,b,a){function f(a){return!!g(a)||!!e(a)}function d(a,b){return a.filter(function(a){return a.name===b})[0]}function h(a,b){return!!d(a,b)}a.d(b,"a",function(){return k});a.d(b,"c",function(){return g});
a.d(b,"d",function(){return e});a.d(b,"f",function(){return f});a.d(b,"b",function(){return d});a.d(b,"e",function(){return h});c=a(5);var k=function(a){return a.filters?a.filters.filter(function(a){return"object"==typeof a&&("group"===a.type||"org"===a.type)}):[]};c=Object(c.a)(function(a,b){if(b.filters)return b.filters.reduce(function(b,e){return"object"==typeof e&&e.type===a?e:b},void 0)});var g=c("group"),e=c("org")},,,function(c,b,a){a.d(b,"a",function(){return m});a.d(b,"b",function(){return l});
var f=a(16);c=a(23);var d=a(34),h=a(33),k=a(32),g=a(31),e=a(30),m=function(a,b,c){return Object(f.a)(Object(e.a)(a),Object(g.a)(a),Object(k.a)(b),h.a,d.a)(c)},l=Object(f.a)(Object(c.d)("patchedDescription"),Object(c.d)("thumbURI"),Object(c.d)("iconURI"),Object(c.d)("displayName"),Object(c.d)("badges"))},,function(c,b,a){function f(a){return 0===Object.keys(a).length&&a.constructor===Object}function d(a,b){return e.apply(null,arguments)}function h(a,b){return m.apply(null,arguments)}a.d(b,"a",function(){return f});
a.d(b,"d",function(){return g});a.d(b,"b",function(){return d});a.d(b,"c",function(){return h});var k=a(0);c=a(5);var g=Object(c.a)(function(a,b){b=k.a({},b);return delete b[a],b}),e=Object(c.a)(function(a,b){return Object.keys(b).reduce(function(e,d){return e[d]=a(b[d],d,b),e},{})}),m=Object(c.a)(function(a,b){return Object.keys(b).reduce(function(e,d){return a(b[d],d,b)&&(e[d]=b[d]),e},{})})},function(c,b){c.exports=O},,,function(c,b,a){a.d(b,"a",function(){return d});a.d(b,"b",function(){return h});
var f=a(0),d=function(a){return a.urlKey?location.protocol+"//"+a.urlKey+"."+a.customBaseUrl:location.protocol+"//"+a.portalHostname},h=function(a){return f.a({},a,{baseUrl:d(a)})}},function(c,b,a){function f(a){var b=Object(d.b)(a.settings.config.customSections,a.parameters.section);return b&&b.portal?Object(h.b)(b.portal):a.settings.utils.portal}a.d(b,"a",function(){return f});var d=a(18),h=a(27)},function(c,b,a){a.d(b,"a",function(){return g});a.d(b,"c",function(){return e});a.d(b,"b",function(){return m});
a.d(b,"d",function(){return l});a.d(b,"h",function(){return q});a.d(b,"i",function(){return n});a.d(b,"j",function(){return r});a.d(b,"e",function(){return p});a.d(b,"g",function(){return u});a.d(b,"f",function(){return t});a.d(b,"l",function(){return v});a.d(b,"k",function(){return x});a.d(b,"m",function(){return w});c=a(9);var f=a.n(c);c=a(13);var d=a.n(c),h=a(12),k=a(6),g="ADD_TO_FAVORITES",e="ADD_TO_FAVORITES_SUCCESS",m="ADD_TO_FAVORITES_FAIL",l="LOADING_USER_INFO",q="UPDATE_GROUP_CATEGORIES",
n="UPDATE_USER_INFO",r="UPDATE_USER_INFO_FAILED",p="REMOVE_FROM_FAVORITES",u="REMOVE_FROM_FAVORITES_SUCCESS",t="REMOVE_FROM_FAVORITES_FAIL",v=function(){return function(a,b){var e=b();b=e.parameters.filter.group;var g=e.results.user.groupCategories;if("loaded"===e.results.user.status)return b&&!g[b.id]?a(z(b.id)):(new d.a).resolve();if("failed"===e.results.user.status)return(new d.a).reject();a({type:l});g=e.settings.utils;e=g.request;g=g.portal;return f()([Object(h.l)(e,g).then(function(a){return a.groups.map(function(a){return{id:a.id,
title:a.title}})}),Object(h.m)(e,g).then(function(a){return a.folders.map(function(a){return{id:a.id,title:a.title}})}),Object(h.n)(e,g,g.user.favGroupId).then(function(a){return a.items.reduce(function(a,b){return a[b.id]=!0,a},{})})].concat(b?[a(z(b.id))]:[])).then(function(b){a({type:n,payload:{groups:b[0],folders:b[1],favorites:b[2]}})},function(b){console.error(b);a({type:r})})}},z=function(a){return function(b,e){e=e().settings.utils;return Object(h.d)(e.request,e.portal,a).then(function(e){b({type:q,
payload:{id:a,categorySchema:e.categorySchema}})})}},x=function(a){return function(b,d){d=d();var c=d.settings.utils.portal,k=c.restUrl+"/content/items/"+a.id+"/share",c={f:"json",everyone:a.access&&"public"===a.access||a.sharing&&a.sharing.access&&"public"===a.sharing.access,org:a.access&&"org"===a.access||a.sharing&&a.sharing.access&&"org"===a.sharing.access||!1,groups:[c.user.favGroupId],items:[a.id]};b({type:g,payload:a});d.settings.utils.request(k,{method:"post",query:c}).then(function(d){b({type:e,
payload:a})},function(e){console.error(e);b({type:m,payload:a})})}},w=function(a){return function(b,e){var d=e(),g=d.settings.utils.portal,c=g.user.favGroupId,f=g.restUrl+"/content/items/"+a.id+"/unshare",l={f:"json",everyone:!1,org:!1,groups:[c],items:[a.id]};b({type:p,payload:a});d.settings.utils.request(f,{method:"post",query:l}).then(function(f){function l(){b({type:u,payload:a})}"myFavorites"===(d=e()).parameters.section?function F(){d.settings.utils.request(g.restUrl+"/search",{query:{f:"json",
q:"(id:"+a.id+") (group:"+c+")"},method:"get"}).then(function(a){0<a.data.total?setTimeout(function(){F()},250):(l(),b(Object(k.i)()))},function(a){console.error(a);l()})}():l()},function(e){b({type:t,payload:a})})}}},function(c,b,a){a.d(b,"a",function(){return d});var f=a(0);c=a(5);var d=Object(c.a)(function(a,b){return f.a({},b,{thumbURI:function(a,b){var e=a.baseUrl+"/home/js/arcgisonline/css/images/default_thumb.png";return b.thumbnail&&(e=a.restUrl+"/content/items/"+b.id+"/info/"+b.thumbnail+
(a.credential?"?token\x3d"+a.credential.token:"")),e}(a,b)})})},function(c,b,a){a.d(b,"a",function(){return d});var f=a(0);c=a(5);var d=Object(c.a)(function(a,b){return f.a({},b,{patchedDescription:function(a,b){return b.description?b.description.replace(/src=('|")js\/jsapi\/esri\//g,function(b){return"src\x3d"+('"'===b[4]?'"':"'")+a.baseUrl+"/home/js/jsapi/esri/"}):void 0}(a,b)})})},function(c,b,a){a.d(b,"a",function(){return d});var f=a(0);c=a(5);var d=Object(c.a)(function(a,b){return f.a({},b,
{iconURI:function(a,b,d){var e;b=b&&b.toLowerCase();var g=!1,c=!1,k=!1,f=!1;if(0<b.indexOf("service")||"feature collection"===b||"kml"===b||"wms"===b||"wmts"===b||"wfs"===b){var h=-1<d.indexOf("Hosted Service");"feature service"===b||"feature collection"===b||"kml"===b||"wfs"===b?(f=-1<d.indexOf("Table"),g=-1<d.indexOf("Route Layer"),c=-1<d.indexOf("Markup"),e=(k=-1!==d.indexOf("Spatiotemporal"))&&f?"spatiotemporaltable":f?"table":g?"routelayer":c?"markup":k?"spatiotemporal":h?"featureshosted":"features"):
e="map service"===b||"wms"===b||"wmts"===b?h||-1<d.indexOf("Tiled")||"wmts"===b?"maptiles":"mapimages":"scene service"===b?-1<d.indexOf("Line")?"sceneweblayerline":-1<d.indexOf("3DObject")?"sceneweblayermultipatch":-1<d.indexOf("Point")?"sceneweblayerpoint":-1<d.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<d.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<d.indexOf("Polygon")?"sceneweblayerpolygon":-1<d.indexOf("Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===b?-1<d.indexOf("Elevation 3D Layer")?
"elevationlayer":"imagery":"stream service"===b?"streamlayer":"vector tile service"===b?"vectortile":"datastore catalog service"===b?"datastorecollection":"geocoding service"===b?"geocodeservice":"geoprocessing service"===b&&-1<d.indexOf("Web Tool")?"tool":"layers"}else e="web map"===b||"cityengine web scene"===b?"maps":"web scene"===b?-1<d.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===b||"mobile application"===b||"application"===b||"operation view"===b||
"desktop application"===b?"apps":"map document"===b||"map package"===b||"published map"===b||"scene document"===b||"globe document"===b||"basemap package"===b||"mobile basemap package"===b||"mobile map package"===b||"project package"===b||"project template"===b||"pro map"===b||"layout"===b||"layer"===b&&-1<d.indexOf("ArcGIS Pro")||"explorer map"===b&&-1<d.indexOf("Explorer Document")?"mapsgray":"service definition"===b||"csv"===b||"shapefile"===b||"cad drawing"===b||"geojson"===b||"360 vr experience"===
b||"netcdf"===b?"datafiles":"explorer add in"===b||"desktop add in"===b||"windows viewer add in"===b||"windows viewer configuration"===b?"appsgray":"arcgis pro add in"===b||"arcgis pro configuration"===b?"addindesktop":"rule package"===b||"file geodatabase"===b||"csv collection"===b||"kml collection"===b||"windows mobile package"===b||"map template"===b||"desktop application template"===b||"arcpad package"===b||"code sample"===b||"form"===b||"document link"===b||"vector tile package"===b||"operations dashboard add in"===
b||"rules package"===b||"image"===b||"workflow manager package"===b||"explorer map"===b&&-1<d.indexOf("Explorer Mapping Application")||-1<d.indexOf("Document")?"datafilesgray":"network analysis service"===b||"geoprocessing service"===b||"geodata service"===b||"geometry service"===b||"geoprocessing package"===b||"locator package"===b||"geoprocessing sample"===b||"workflow manager service"===b||"raster function template"===b?"toolsgray":"layer"===b||"layer package"===b||"explorer layer"===b?"layersgray":
"scene package"===b?"scenepackage":"tile package"===b?"tilepackage":"task file"===b?"taskfile":"report template"===b?"report-template":"statistical data collection"===b?"statisticaldatacollection":"insights workbook"===b?"workbook":"insights model"===b?"insightsmodel":"insights page"===b?"insightspage":"hub initiative"===b?"hubinitiative":"hub page"===b?"hubpage":"hub site application"===b?"hubsite":"relational database connection"===b?"relationaldatabaseconnection":"big data file share"===b?"datastorecollection":
"image collection"===b?"imagecollection":"desktop style"===b?"desktopstyle":"style"===b?"style":"dashboard"===b?"dashboard":"maps";return a+"/"+e+"16.png"}(a,b.type,b.typeKeywords?b.typeKeywords:[])})})},function(c,b,a){a.d(b,"a",function(){return d});var f=a(0),d=function(a){return f.a({},a,{displayName:function(a){var b=a.type;a=a.typeKeywords||[];var e=b;return"Feature Service"===b||"Feature Collection"===b?e=-1<a.indexOf("Table")?"Table":-1<a.indexOf("Route Layer")?"Route Layer":-1<a.indexOf("Markup")?
"Markup":"Feature Layer":"Image Service"===b?e=-1<a.indexOf("Elevation 3D Layer")?"Elevation Layer":"Imagery Layer":"Scene Service"===b?e="Scene Layer":"Scene Package"===b?e="Scene Layer Package":"Stream Service"===b?e="Feature Layer":"Geocoding Service"===b?e="Locator":"Microsoft Powerpoint"===b?e="Microsoft PowerPoint":"GeoJson"===b?e="GeoJSON":"Globe Service"===b?e="Globe Layer":"Vector Tile Service"===b?e="Tile Layer":"netCDF"===b?e="NetCDF":"Map Service"===b?e=-1===a.indexOf("Spatiotemporal")&&
(-1<a.indexOf("Hosted Service")||-1<a.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?e=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b&&(e="Big Data File Share"),e}(a)})}},function(c,b,a){a.d(b,"a",function(){return d});var f=a(0),d=function(a){return f.a({},a,{badges:function(a){var b=[],e=a.typeKeywords?a.typeKeywords:[];return a.contentStatus&&("org_authoritative"===a.contentStatus||"public_authoritative"===a.contentStatus?b.push("authoritative"):
"deprecated"===a.contentStatus&&b.push("deprecated")),a.origin&&b.push("collaboration"),a.groupDesignations&&-1<a.groupDesignations.indexOf("livingatlas")&&b.push("livingAtlas"),-1<e.indexOf("Requires Credits")?b.push("premium"):-1<e.indexOf("Requires Subscription")&&b.push("subscriber"),b}(a)})}},function(c,b,a){a.d(b,"e",function(){return d});a.d(b,"h",function(){return h});a.d(b,"f",function(){return k});a.d(b,"g",function(){return g});a.d(b,"b",function(){return e});a.d(b,"c",function(){return m});
a.d(b,"a",function(){return l});a.d(b,"d",function(){return q});a.d(b,"j",function(){return n});a.d(b,"i",function(){return r});var f=a(21),d="SELECT_ITEM",h="SELECT_ITEM_SINGLE",k="SELECT_ITEM_ASYNC",g="SELECT_ITEM_ASYNC_FAILED",e="DESELECT_ITEM",m="SELECT_ALL",l="DESELECT_ALL",q="SELECT_ALL_FROM_QUERY_SUCCESS",n=function(a){return function(b,e){var c=e();c.settings.config.asynchronousItemSelect?(b({type:k,payload:a}),(e=c.settings.config.onSelect([Object(f.b)(a)]))&&e.then?e.then(function(){c.settings.config.singleItemSelect?
b({type:h,payload:a}):b({type:d,payload:a})},function(){b({type:g,payload:a})}):console.error("If asynchronous item selection is enabled, the onSelect function in the item browser config must return a dojo deferred.")):c.settings.config.singleItemSelect?(b({type:h,payload:a}),c.settings.config.onSelect([Object(f.b)(a)])):(b({type:d,payload:a}),c.settings.config.onSelect([Object(f.b)(a)]))}},r=function(a){return function(b,d){d=d();b({type:e,payload:a});d.settings.config.onDeselect([Object(f.b)(a)])}}},
function(c,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});var f={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',
mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',
scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application"))',webApps:'(type:("Web Mapping Application" OR "Dashboard"))',mobileApps:'(type:"Mobile Application")',
desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration") -type:"KML")',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',
geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")'},d="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share".split(";")},
function(c,b,a){function f(a){return Object(g.h)(a,function(a){return a.count&&delete a.count,a})}function d(a,b,d){if(b)return a.counts.filter(function(a){return a.fieldName===d})[0].fieldValues.forEach(function(a){var e=a.count;a=a.value.split("/").slice(1);(a=Object(g.d)(b,a))&&(a.count=e)}),b}function h(a){a=Object(g.c)("categories","title",{title:"root",categories:a});return Object(g.h)(a,function(a){return k.a({},a,{value:a.value.toLowerCase(),displayName:a.displayName?a.displayName:a.value,
tooltip:a.description?a.description:void 0})}).children}a.d(b,"a",function(){return f});a.d(b,"c",function(){return d});a.d(b,"b",function(){return h});var k=a(0),g=a(42)},function(c,b){c.exports=P},,,function(c,b,a){function f(a,b){a=["",{method:"get",query:b.settings.config.addRequestParameters?k.a({f:"json",q:Object(e.b)(b),num:a.num?a.num:b.settings.config.resultsPerQuery,sortOrder:b.parameters.sort.order,start:a.start?a.start:1},b.settings.config.addRequestParameters()):{f:"json",q:Object(e.b)(b),
num:a.num?a.num:b.settings.config.resultsPerQuery,sortOrder:b.parameters.sort.order,start:a.start?a.start:1}}];return Object(g.a)(n(b),r(b),p(b))(a)}function d(a,b){b=["",{method:"get",query:{f:"json",q:Object(e.a)(a),num:0,countFields:b.join(", "),countSize:200}}];return q(a)(b)}function h(a,b){b=["",{method:"get",query:{f:"json",q:Object(e.c)(a,b),num:0,countFields:"tags",countSize:200}}];return q(a)(b)}a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});a.d(b,"c",function(){return h});
var k=a(0),g=a(16);c=a(5);var e=a(54),m=a(28),l=a(18),q=function(a){return Object(g.a)(p(a),u(a))},n=Object(c.a)(function(a,b){var e=b[0];b=b[1];a=a.parameters.sort.field;return"relevance"!==a?[e,k.a({},b,{query:k.a({},b.query,{sortField:a})})]:[e,b]}),r=Object(c.a)(function(a,b){var e=b[0];b=b[1];return a.parameters.filter.searchMapArea?(a=a.parameters.extent.area,[e,k.a({},b,{query:k.a({},b.query,{bbox:a.minx+","+a.miny+","+a.maxx+","+a.maxy})})]):[e,b]}),p=Object(c.a)(function(a,b){b[0];b=b[1];
var e=a.parameters,d=e.section,e=e.filter,g=Object(m.a)(a),c=g.restUrl+"/search";if("myGroups"===d&&e.group)c=g.restUrl+"/content/groups/"+e.group.id+"/search",e.groupCategories&&(c=c+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.groupCategories.value])));else if("livingAtlas"===d&&a.results.livingAtlas.groupId)c=g.restUrl+"/content/groups/"+a.results.livingAtlas.groupId+"/search",e.livingAtlasCategories?(c=c+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.livingAtlasCategories.value])),
e.livingAtlasRegion&&(c=c+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([e.livingAtlasRegion.value])))):e.livingAtlasRegion&&(c=c+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.livingAtlasRegion.value])));else if(!e.orgCategories||"myOrganization"!==d&&"myContent"!==d){if(a=Object(l.b)(a.settings.config.customSections,d))Object(l.d)(a)&&e.orgCategories&&(c=c+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.orgCategories.value]))),(a=Object(l.c)(a))&&(c=g.restUrl+"/content/groups/"+
a.id+"/search",e.groupCategories&&(c=c+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.groupCategories.value]))))}else c=c+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.orgCategories.value]));return[c,b]}),u=Object(c.a)(function(a,b){var e=b[0];b=b[1];var d=a.parameters.section,g=Object(l.b)(a.settings.config.customSections,d);return"myGroups"===d&&a.parameters.filter.group||"livingAtlas"===d&&a.results.livingAtlas.groupId||g&&Object(l.c)(g)?[e,k.a({},b,{query:k.a({},b.query,{countFields:b.query.countFields?
b.query.countFields.replace("categories","groupcategories"):void 0})})]:[e,b]})},function(c,b,a){function f(a,b){return m("children","value",a,b)}function d(a,b){return l("children","value",a,b)}function h(a,b){return function v(a,b,e,d){var g,c=e[a];return c&&0!==c.length?r.a({},e,(g={},g[a]=c.reduce(function(e,g){return-1!==d.indexOf(g[b])&&e.push(v(a,b,g,d)),e},[]),g)):r.a({},e)}("children","value",a,b)}function k(a){return function(a,b){var e,d=b[a];return d?r.a({},b,((e={})[a]=function w(b){return 0===
b.length?[]:1!==b.length||b[0][a]?1<b.length?b.reduce(function(b,e){var d;return e[a]?(b.push(r.a({},e,((d={})[a]=w(e[a]),d))),b):(b.push(e),b)},[]):w(b[0][a]):b}(d),e)):b}("children",a)}function g(a,b){return q("children",a,b)}function e(a,b){return function v(a,b,e){var d=b[a];d&&d.forEach(function(b){return v(a,b,e)});e(b)}("children",a,b)}function m(a,b,e,d){var g=e[a];return e[b]===d?e:g?g.reduce(function(e,g){return e||m(a,b,g,d)},void 0):void 0}function l(a,b,e,d){if(e=e[a])return e.reduce(function(e,
g){return g[b]===d[0]?1===d.length?g:l(a,b,g,d.slice(1)):e},void 0)}function q(a,b,e){var d;return e(r.a({},b,((d={})[a]=b[a]?b[a].map(function(b){return q(a,b,e)}):void 0,d)))}function n(a,b,e){return q(a,e,function(e){var d=e[b];if(delete e[b],e[a]){var g=e[a];return delete e[a],r.a({},e,{value:d,children:g})}return r.a({},e,{value:d})})}a.d(b,"f",function(){return f});a.d(b,"d",function(){return d});a.d(b,"i",function(){return h});a.d(b,"e",function(){return k});a.d(b,"h",function(){return g});
a.d(b,"g",function(){return e});a.d(b,"a",function(){return m});a.d(b,"b",function(){return l});a.d(b,"c",function(){return n});var r=a(0)},function(c,b,a){function f(a){return a.filter(function(a){return 0<a.length})}a.d(b,"b",function(){return d});a.d(b,"c",function(){return h});a.d(b,"a",function(){return f});c=a(5);var d=function(a,b,e){return e.indexOf(a)===b},h=Object(c.a)(function(a,b){var e={};return b.filter(function(b){return!e[b[a]]&&(e[b[a]]=!0,!0)})})},,function(c,b,a){a.d(b,"b",function(){return f});
a.d(b,"c",function(){return d});a.d(b,"d",function(){return h});a.d(b,"a",function(){return k});a.d(b,"e",function(){return g});a.d(b,"f",function(){return e});a.d(b,"g",function(){return m});a.d(b,"h",function(){return l});var f="MAXIMIZE_DLG",d="MINIMIZE_DLG",h="TOGGLE_EXPANDED_FILTERS",k="CLOSE_FULLSCREEN_BROWSER",g="TOGGLE_EXPANDED_SORT",e="UPDATE_SUBLAYER_CARD_STATE",m=function(){return{type:h}},l=function(){return{type:g}}},,function(c,b){c.exports=Q},function(c,b){c.exports=R},,,,,function(c,
b,a){a.d(b,"a",function(){return e});a.d(b,"c",function(){return m});a.d(b,"d",function(){return l});a.d(b,"b",function(){return q});a.d(b,"e",function(){return n});c=a(9);var f=a.n(c);c=a(13);var d=a.n(c),h=a(43),k=a(12);c=a(5);var g=a(18),e="LOADING_CUSTOM_SECTION_INFO",m="UPDATE_CUSTOM_SECTION_SCHEMAS",l="UPDATE_CUSTOM_SECTION_INFO_FAILED",q="UPDATE_CUSTOM_SECTION_GROUPS",n=function(){return function(a,b){function c(b){console.error(b);a({type:l})}var k=b();if("loaded"===k.results.customSections.status)return(new d.a).resolve();
if("failed"===k.results.customSections.status)return(new d.a).reject();a({type:e});var n=Object(h.c)("id",k.settings.config.customSections.filter(g.f).map(g.a).reduce(function(a,b){return a.concat(b)},[]));return r(a,b,n).then(function(){return k=b(),f()(n.map(function(a){return p(k,a).then(function(b){return{id:a.id,type:a.type,response:b}})}))},c).then(function(b){return a({type:m,payload:b})},c)}},r=function(a,b,e){var g=b(),c=new d.a;if(0<e.length){var g=g.settings.utils,l=g.request,h=g.portal;
e=e.filter(function(a){return"group"===a.type}).map(function(a){var b=a.id;return Object(k.c)(l,h,a.fetchGroupIdByQuery||"id:"+b).then(function(a){return a.results[0]||{}})});f()(e).then(function(e){var d=b();a({type:q,payload:{currentSection:d.parameters.section,customSections:d.settings.config.customSections,groups:e}});c.resolve()})}else c.resolve();return c},p=Object(c.a)(function(a,b){var e=a.settings.utils;a=e.request;e=e.portal;return b.staticSchema?(a=new d.a,a.resolve({categorySchema:b.staticSchema}),
a.then(function(a){return a})):"group"===b.type?Object(k.d)(a,e,b.id):Object(k.g)(a,e,b.id)})},function(c,b,a){function f(a){return Object(k.a)(Object(k.a)(g.a,y(a),A(a),Object(e.a)(a.parameters.filter.orgGroup),Object(m.a)(a.parameters.filter.status,a.settings.utils.portal.user),w(a)),Object(k.a)(Object(l.a)(a.parameters.filter.shared),Object(q.a)(a.parameters.filter.dateCreated),Object(q.b)(a.parameters.filter.dateModified),Object(n.a)(v.b,{allowedItemTypes:a.settings.config.allowedItemTypes,itemTypeFilter:a.parameters.filter.itemType,
specialItemQ:a.settings.config.specialItemQ}),Object(r.b)(a.parameters.filter.tags),Object(p.a)(a.parameters.filter.origins)))([a.parameters.searchString.current]).join(" ")}function d(a){return Object(k.a)(g.a,y(a),w(a),Object(n.a)(v.b,{allowedItemTypes:a.settings.config.allowedItemTypes,specialItemQ:a.settings.config.specialItemQ}))([a.parameters.searchString.current]).join(" ")}function h(a,b){return Object(k.a)(g.a,y(a),w(a),Object(n.a)(v.b,{allowedItemTypes:a.settings.config.allowedItemTypes,
specialItemQ:a.settings.config.specialItemQ}),Object(r.a)(b))([a.parameters.searchString.current]).join(" ")}a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});a.d(b,"c",function(){return h});var k=a(16),g=a(43),e=a(166),m=a(167),l=a(168),q=a(121),n=a(91),r=a(122),p=a(169);c=a(5);var u=a(23),t=a(42),v=a(36),z=a(28),x=a(18),w=Object(c.a)(function(a,b){a.parameters.section;var e=a.parameters.filter,d=a.settings.config,g=Object(z.a)(a);switch(a.parameters.section){case "myContent":return g.user?
g.user&&e.folder?b.concat(["(owner:"+g.user.username+") (ownerfolder:"+e.folder.id+")"]):b.concat(["(owner:"+g.user.username+")"]):b;case "myFavorites":return g.user?b.concat(["(group:"+g.user.favGroupId+")"]):b;case "myGroups":if(a.results.user.groups){if(a.parameters.filter.group)return b.concat(["(group:"+a.parameters.filter.group.id+")"]);e=a.results.user.groups.map(function(a){return a.id});return b.concat(["(group:"+e.join(" OR group:")+")"])}return b;case "myOrganization":return b.concat(["(orgid:"+
g.id+")"]);case "subscription":return b.concat(["("+a.results.provisionedContent.content.map(function(a){return"id:"+a}).join(" OR ")+")"]);case "all":return b;default:return(e=d.customSections.filter(function(b){return a.parameters.section===b.name})[0])?b.concat([e.baseQuery]):b}}),y=Object(c.a)(function(a,b){var e=a.settings.config.addQueryParameters;return e&&"function"==typeof e?b.concat([e(a)]):b}),A=Object(c.a)(function(a,b){var e=Object(x.b)(a.settings.config.customSections,a.parameters.section);
if(e&&!Object(u.a)(a.parameters.filter.customFilter)){var d=Object.keys(a.parameters.filter.customFilter).filter(function(b){return!!a.parameters.filter.customFilter[b]}).reduce(function(b,d){d=parseInt(d,10);var g=a.parameters.filter.customFilter[d].value;return e.filters&&e.filters[d]&&(d=Object(t.a)("children","value",e.filters[d],g))?b.concat(["("+d.q+")"]):b},[]).join(" AND ");return b.concat([""+d])}return b})},,,,,,,,,,,function(c,b,a){a.d(b,"a",function(){return k});a.d(b,"b",function(){return g});
a.d(b,"c",function(){return e});a.d(b,"d",function(){return m});c=a(13);var f=a.n(c),d=a(12),h=a(21),k="UPDATE_PROVISIONED_CONTENT",g="UPDATE_PROVISIONED_CONTENT_FAILED",e="UPDATE_PROVISIONED_CONTENT_SUCCESS",m=function(){return function(a,b){var c=b();if("loaded"===c.results.provisionedContent.status)return(new f.a).resolve();if("failed"===c.results.provisionedContent.status)return(new f.a).reject();a({type:k});b=c.settings.utils;var l=b.portal;return Object(d.b)(b.request,l,l.user.username).then(function(b){a({type:e,
payload:b.filter(function(a){return-1<c.settings.config.allowedItemTypes.indexOf(a.type)}).map(function(a){return Object(h.a)(l,c.settings.utils.iconDir,a)})})},function(b){console.error(b);a({type:g})})}}},function(c,b,a){a.d(b,"a",function(){return k});a.d(b,"b",function(){return g});a.d(b,"c",function(){return e});a.d(b,"d",function(){return m});c=a(9);var f=a.n(c);c=a(13);var d=a.n(c),h=a(12),k="LOADING_ORG_INFO",g="UPDATE_ORG_INFO",e="UPDATE_ORG_INFO_FAILED",m=function(){return function(a,b){b=
b();if("loaded"===b.results.organization.status)return(new d.a).resolve();if("failed"===b.results.organization.status)return(new d.a).reject();a({type:k});var c=b.settings.utils;b=c.request;c=c.portal;return f()([Object(h.g)(b,c).then(function(a){return a.categorySchema}),Object(h.a)(b,c).then(function(a){return a.data.results})]).then(function(b){a({type:g,payload:{schema:b[0],groups:b[1]}})},function(b){console.error(b);a({type:e})})}}},,,function(c,b,a){a.d(b,"b",function(){return f});a.d(b,"a",
function(){return d});a.d(b,"d",function(){return h});a.d(b,"c",function(){return k});var f="CHANGE_SORT_ORDER",d="CHANGE_SORT_FIELD",h=function(a){return{type:f,payload:a}},k=function(a){return{type:d,payload:a}}},function(c,b,a){a.d(b,"a",function(){return h});var f=a(0),d=a(27),h=function(a){return f.a({},a,{thumbURI:function(a){var b=Object(d.a)(a);return a.thumbnail?b+"/sharing/rest/portals/"+a.id+"/resources/"+a.thumbnail:b+"/home/images/group-no-image.png"}(a)})}},function(c,b,a){a.d(b,"a",
function(){return h});var f=a(0),d=a(27),h=function(a){return f.a({},a,{orgUrl:Object(d.a)(a)+"/home/index.html"})}},function(c,b,a){a.d(b,"a",function(){return d});var f=a(0);c=a(5);var d=Object(c.a)(function(a,b){return f.a({},b,{thumbURI:function(a,b){if(b.thumbnail)return a.restUrl+"/community/users/"+b.username+"/info/"+b.thumbnail+(a.credential?"?token\x3d"+a.credential.token:"")}(a,b)})})},function(c,b,a){a.d(b,"a",function(){return l});var f=a(0);c=a(13);var d=a.n(c);c=a(9);var h=a.n(c);c=
a(5);var k=a(43),g=a(12),e=a(120),m=a(28),l=Object(c.a)(function(a,b){var c=a.settings.utils.request,l=Object(m.a)(a),n=new d.a,q=b.data.results.filter(function(b){return!!b.orgId&&!a.results.allOrganizations[b.orgId]}).map(function(a){return a.orgId}).filter(k.b).map(function(a){return Object(g.j)(c,l,a)});return h()(q).then(function(a){n.resolve(f.a({},b,{data:f.a({},b.data,{organizations:a.reduce(function(a,b){var d;return f.a({},a,((d={})[b.id]=Object(e.a)(b),d))},{})})}))},function(a){n.reject(a)}),
n})},function(c,b,a){a.d(b,"b",function(){return k});a.d(b,"a",function(){return g});a.d(b,"c",function(){return e});a.d(b,"d",function(){return m});var f=a(41),d=a(21),h=a(73),k="CHANGE_PAGE_SUCCESS",g="CHANGE_PAGE_FAIL",e="CHANGING_PAGE",m=function(a){return function(b,c){c=c();b({type:e,payload:a});var l=c.settings.utils,m=l.portal,n=l.iconDir,l=c.settings.utils.request,t=c.settings.config.resultsPerQuery,t=Object(f.b)({num:t,start:t*a-t},c);l(t[0],t[1]).then(Object(h.a)(c),function(a){return b({type:g,
payload:{err:a}})}).then(function(e){b({type:k,payload:{organizations:e.data.organizations,displayItems:e.data.results.map(function(a){return Object(d.a)(m,n,a)}),page:a}})},function(a){return b({type:g,payload:{err:a}})})}}},function(c,b,a){a.d(b,"b",function(){return l});a.d(b,"a",function(){return q});a.d(b,"c",function(){return n});var f=a(0);c=a(9);var d=a.n(c);c=a(13);var h=a.n(c),k=a(12),g=a(124),e=a(21),m=a(28),l="UPDATE_FULL_ITEM_DETAILS",q="FETCH_FULL_ITEM_DETAILS_FAILED",n=function(a){return function(b,
c){var n=c(),p=Object(m.a)(n),r=n.settings.utils.request;c=[];c.push(Object(k.l)(r,p,a.owner).then(function(a){return Object(g.a)(p,a)},function(a){throw a;}));var u=p.restUrl+"/content/items/"+a.id;p.user&&a.owner===p.user.username&&(u=p.restUrl+"/content/users/"+p.user.username+"/items/"+a.id);c.push(Object(k.o)(r,u).then(function(a){if(a.item&&a.sharing){var b=new h.a;return Object(k.o)(r,p.restUrl+"/community/groups",{q:"id: "+a.sharing.groups.map(function(a){return'"'+a+'"'}).join(" OR ")}).then(function(d){return b.resolve(f.a({},
Object(e.a)(p,n.settings.utils.iconDir,a.item),{sharing:a.sharing,sharedToGroups:d.results}))},function(a){return b.reject(a)}),b}return Object(e.a)(p,n.settings.utils.iconDir,a)},function(b){throw a.id;}));d()(c).then(function(a){b({type:l,payload:{item:a[1],owner:a[0]}})},function(a){b({type:q,payload:a})})}}},,function(c,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return d});var f="CHANGE_SEARCH_SECTION",d=function(a){return function(b,d){d=d();b({type:f,payload:{newSection:a,customSections:d.settings.config.customSections,
customSectionGroupSort:d.results.customSections.groupSort}})}}},,,function(c,b,a){a.d(b,"a",function(){return e});a.d(b,"b",function(){return m});a.d(b,"c",function(){return l});a.d(b,"d",function(){return q});var f=a(0),d=a(3);c=a(13);var h=a.n(c),k=a(47),g=a(170),e="LOADING_LIVING_ATLAS_INFO",m="UPDATE_LIVING_ATLAS_INFO",l="FETCH_LIVING_ATLAS_INFO_FAILED",q=function(a){return function(b,c){c=c();if("loaded"===c.results.livingAtlas.status)return(new h.a).resolve();if("failed"===c.results.livingAtlas.status)return(new h.a).reject();
b({type:e});c=c.settings.utils;var n=c.portal;return Object(g.a)(c.request,n,a,n.user&&n.user.culture?n.user.culture:k.locale).then(function(a){b({type:m,payload:f.a({},a,{schema:a.schema.map(function(a){return"region"===a.title?f.a({},a,{displayName:d.regions}):a})})})},function(a){console.error(a);b({type:l})})}}},function(c,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});a.d(b,"c",function(){return h});var f="CLOSING_DETAILS_PANE",d="CLOSE_DETAILS_PANE",h=function(){return{type:f}}},
,,function(c,b,a){a.d(b,"a",function(){return g});a.d(b,"b",function(){return e});c=a(13);var f=a.n(c),d=a(12),h=a(120),k=a(47),g="UPDATE_PORTAL_SELF",e=function(){return function(a,b){var e=b(),c=e.settings.utils;b=c.portal;var c=c.request,l=b.user&&b.user.culture?b.user.culture:k.locale;return e.settings.utils.self?(new f.a).resolve(e.settings.utils.self):Object(d.k)(c,b,l).then(function(b){b=Object(h.a)(b);return a({type:g,payload:{self:b,config:e.settings.config}}),b})}}},function(c,b,a){a.d(b,
"a",function(){return g});var f=a(12),d=a(7);c=a(9);var h=a.n(c),k=function(a,b,c){a({type:"LOADING_COLLABORATIONS"});var e=[];Object.keys(c).forEach(function(a){e[a]=[];0<c[a].participants.length&&c[a].participants.forEach(function(a){e[a.value]=[]})});var g=Object.keys(e).map(function(e){e=e.split("__");var d=e[0],g=e[1]?e[1]:"";return Object(f.h)(b.settings.utils.request,b.settings.utils.portal,b.settings.utils.portal.id,{query:""!==g?{collaborationId:d,participantId:g,f:"json"}:{collaborationId:d,
f:"json"}}).then(function(a){(a.data.collaboratedItems||a.collaboratedItems).forEach(function(a){if(g){var b=d+"__"+g;c[d].participants.filter(function(a){return a.value===b})[0].items.push(Object.keys(a)[0])}else c[d].items.push(Object.keys(a)[0])})},function(){return a({type:"LOADING_COLLABORATIONS_FAILED"})})});return h()(g).then(function(){a(Object(d.s)(c));a({type:"LOADING_COLLABORATIONS_SUCCESS",payload:c})})},g=function(a,b){if(a({type:"LOADING_COLLABORATIONS"}),b&&b.parameters&&b.parameters.filter&&
b.parameters.filter.origins&&0<Object.keys(b.parameters.filter.origins).length){var e=b.parameters.filter.origins;return a(Object(d.s)(e)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:e}}return Object(f.i)(b.settings.utils.request,b.settings.utils.portal,b.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(e){var c=[];e.data&&e.data.collaborations&&e.data.collaborations.forEach(function(a){var b=a.collaborationId,e=a.collaborationName.trim();c[b]={value:b,label:e,
addClass:"",childOf:"",selected:!1,participants:[],items:[]};a.participants&&(c[b].participants=a.participants.map(function(a){return 1===(a=Object.keys(a).map(function(e){var d=a[e].trim();return{value:b+"__"+e,label:d,childOf:b,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?a[0]:a}))});k(a,b,c).then(function(){return a(Object(d.s)(c))},function(){return a({type:"LOADING_COLLABORATIONS_FAILED"})})},function(b){return a({type:"LOADING_COLLABORATIONS_FAILED",payload:b})})}},function(c,
b){c.exports=S},,function(c,b,a){a.d(b,"a",function(){return d});a.d(b,"c",function(){return h});a.d(b,"b",function(){return k});a.d(b,"d",function(){return g});a.d(b,"e",function(){return e});c=a(227);c=a.n(c);var f=a(41),d="LOADING_TAGS",h="LOADING_TAGS_SUCCESS",k="LOADING_TAGS_FAILED",g="UPDATE_TAGS_FILTER_STRING",e=function(a){return function(b,e){b({type:g,payload:a});2<a.length&&m(b,e(),a)}},m=c()(function(a,b,e){a({type:d});var c=b.settings.utils.request;b=Object(f.c)(b,e);c(b[0],b[1]).then(function(b){a({type:h,
payload:b.data})},function(b){return a({type:k,payload:b})})},400)},function(c,b){c.exports=T},,function(c,b,a){function f(a){var b=d.a.filter(function(b){return-1===a.indexOf(b)}).filter(function(b){return a.reduce(function(a,e){return-1<b.indexOf(e)||a},!1)});return'((type:"'+a.join('" OR type:"')+'")'+(0<b.length?' AND (-type:"'+b.join('" AND -type:"')+'")':"")+")"}a.d(b,"a",function(){return h});var d=a(36);c=a(5);var h=Object(c.a)(function(a,b,e){var d=b.itemTypeFilter,c=b.allowedItemTypes;b=
b.specialItemQ;return d?e.concat([a[d.value]+" AND ("+f(c)+(b?" OR ("+b+")":"")+")"]):b?e.concat(["("+f(c)+" OR ("+b+"))"]):e.concat([f(c)])})},function(c,b){c.exports=U},,,function(c,b){c.exports=V},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(42),k=a(244),g=a(7),e=a(6),m=a(88),l=a(234),q=a.n(l),l=a(235),n=a.n(l),l=a(236),r=a.n(l),l=a(237),p=a.n(l),l=a(238),u=a.n(l),l=a(239),t=a.n(l),l=a(240),v=a.n(l),l=a(241),z=a.n(l),l=a(242),x=a.n(l),l=a(243),w=a.n(l),l=a(92),y=a.n(l),A=a(245);a=function(a){function b(b){b=
a.call(this,b)||this;return b.handleCustomFilterToggle=b.handleCustomFilterToggle.bind(b),b.handleMapAreaToggle=b.handleMapAreaToggle.bind(b),b.handleMapAreaKeyUp=b.handleMapAreaKeyUp.bind(b),b.handleSearchOrgToggle=b.handleSearchOrgToggle.bind(b),b.handleCreatedFilterChange=b.handleCreatedFilterChange.bind(b),b.handleItemTypeFilterChange=b.handleItemTypeFilterChange.bind(b),b.handleModifiedFilterChange=b.handleModifiedFilterChange.bind(b),b.handleSharedFilterChange=b.handleSharedFilterChange.bind(b),
b.handleStatusFilterChange=b.handleStatusFilterChange.bind(b),b.handleFolderFilterChange=b.handleFolderFilterChange.bind(b),b.handleGroupFilterChange=b.handleGroupFilterChange.bind(b),b.handleOrgGroupFilterChange=b.handleOrgGroupFilterChange.bind(b),b.handleTagsFilterChange=b.handleTagsFilterChange.bind(b),b.handleCollaborationFilterChange=b.handleCollaborationFilterChange.bind(b),b.handleOrgCategorySelect=b.handleOrgCategorySelect.bind(b),b.handleClearOrgCategories=b.handleClearOrgCategories.bind(b),
b.handleGroupCategorySelect=b.handleGroupCategorySelect.bind(b),b.handleClearGroupCategories=b.handleClearGroupCategories.bind(b),b.handleLACategorySelect=b.handleLACategorySelect.bind(b),b.handleClearLACategories=b.handleClearLACategories.bind(b),b.handleLARegionSelect=b.handleLARegionSelect.bind(b),b.handleClearLARegion=b.handleClearLARegion.bind(b),b.handleTagsFilterStringChange=b.handleTagsFilterStringChange.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,e=this.props.stateTree.settings.config,
c=this.props.stateTree.parameters.filter,g=this.props.stateTree.settings.utils.portal.user,f=Object(k.a)(this.props.stateTree),l=e.enableMapAreaFilter?a(q.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,handleMapAreaKeyUp:this.handleMapAreaKeyUp,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:this.props.stateTree.settings.config.mapAreaFilterText?this.props.stateTree.settings.config.mapAreaFilterText:d.filterPane.mapArea}):null,f=f.map(function(f,k){switch(f){case "group":return a(z.a,
{key:"group-filter",onGroupSelect:b.handleGroupFilterChange,availableGroups:b.props.stateTree.results.user.groups,groupFilter:b.props.stateTree.parameters.filter.group});case "folder":f=b.props.stateTree.results.user.folders;var l={title:b.props.stateTree.settings.utils.portal.user.username,id:"root"};return a(v.a,{key:"folder-filter",onFolderSelect:b.handleFolderFilterChange,availableFolders:f?[l].concat(f):[l],folderFilter:b.props.stateTree.parameters.filter.folder});case "itemType":return a(r.a,
{key:"item-type-filter",onItemTypeSelect:b.handleItemTypeFilterChange,availableItemTypes:e.availableItemTypeFilters,itemTypeFilter:b.props.stateTree.parameters.filter.itemType});case "orgCategories":if((l=b.props.stateTree.results.organization.categorySchema)&&l.children&&l.children[0]&&l.children[0].children)return a(y.a,{key:"org-categories-filter",onCategorySelect:b.handleOrgCategorySelect,onClearCategories:b.handleClearOrgCategories,availableCategories:l.children[0].children,categoriesFilter:b.props.stateTree.parameters.filter.orgCategories,
title:d.filterPane.categories,prependValue:"/"+l.children[0].value+"/"});break;case "livingAtlasCategories":if((l=b.props.stateTree.results.livingAtlas.categorySchema)&&l.children&&l.children[0]&&l.children[0].children)return a(y.a,{key:"la-categories-filter",onCategorySelect:b.handleLACategorySelect,onClearCategories:b.handleClearLACategories,availableCategories:l.children[0].children,categoriesFilter:b.props.stateTree.parameters.filter.livingAtlasCategories,title:l.children[0].displayName,prependValue:"/categories/",
showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((l=b.props.stateTree.results.livingAtlas.categorySchema)&&l.children&&l.children[1]&&l.children[1].children)return a(y.a,{key:"la-region-filter",onCategorySelect:b.handleLARegionSelect,onClearCategories:b.handleClearLARegion,availableCategories:l.children[1].children,categoriesFilter:b.props.stateTree.parameters.filter.livingAtlasRegion,title:l.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(c.group&&
(l=b.props.stateTree.results.user.groupCategories[c.group.id])&&l.children&&l.children[0]&&l.children[0].children)return a(y.a,{key:"group-categories-filter",onCategorySelect:b.handleGroupCategorySelect,onClearCategories:b.handleClearGroupCategories,availableCategories:l.children[0].children,categoriesFilter:b.props.stateTree.parameters.filter.groupCategories,title:d.filterPane.groupCategories,prependValue:"/"+l.children[0].value+"/"});break;case "orgGroups":break;case "modified":return a(p.a,{key:"modified-filters",
onDateModifiedSelect:b.handleModifiedFilterChange,dateModifiedFilter:b.props.stateTree.parameters.filter.dateModified,dateModifiedSection:b.props.stateTree.ui.filters.modifiedSection});case "created":return a(n.a,{key:"created-filters",onDateCreatedSelect:b.handleCreatedFilterChange,dateCreatedFilter:b.props.stateTree.parameters.filter.dateCreated,dateCreatedSection:b.props.stateTree.ui.filters.createdSection});case "shared":return a(u.a,{counts:b.props.stateTree.results.counts.access,key:"shared-filters",
onSharedSelect:b.handleSharedFilterChange,sharedFilter:b.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:!!g&&!g.orgId});case "status":return f=b.props.stateTree.results.counts.contentStatus,l=f.orgAuthoritative,k=f.publicAuthoritative,a(t.a,{counts:{authoritative:g&&g.orgId?l+k:k,deprecated:f.deprecated},key:"status-filters",onStatusSelect:b.handleStatusFilterChange,statusFilter:b.props.stateTree.parameters.filter.status});case "tags":return a(x.a,{availableTags:b.props.stateTree.ui.tagsFilter.visibleTags,
filterString:b.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:b.handleTagsFilterStringChange,onTagSelect:b.handleTagsFilterChange,tagsFilter:b.props.stateTree.parameters.filter.tags});case "collaboration":var m=!!g&&"org_admin"===g.role,q=!!g&&g.privileges&&-1<g.privileges.indexOf("portal:admin:manageCollaborations");if(m&&q)return a(w.a,{key:"ib-collaborations-filter",onCollaborationSelect:b.handleCollaborationFilterChange,collaborationsFilter:b.props.stateTree.parameters.filter.origins?
b.props.stateTree.parameters.filter.origins:[]});default:if("object"==typeof f)if("group"===f.type){if((l=b.props.stateTree.results.customSections.groupSchemas[f.id])&&l.children&&l.children[0]&&l.children[0].children&&(k=void 0,f.path))return k=(B=Object(h.b)("children","value",l,f.path))?B.children:void 0,B=f.path,a(y.a,{key:"custom-group-categories-filter",onCategorySelect:b.handleGroupCategorySelect,onClearCategories:b.handleClearGroupCategories,availableCategories:f.path&&k?k:l.children,categoriesFilter:b.props.stateTree.parameters.filter.groupCategories,
title:f.name,prependValue:"/"+(B?B.join("/")+"/":"")})}else if("org"===f.type){if((l=b.props.stateTree.results.customSections.orgSchemas[f.id])&&l.children&&l.children[0]&&l.children[0].children&&(k=void 0,f.path)){var B;k=(B=Object(h.b)("children","value",l,f.path))?B.children:void 0;B=f.path;return a(y.a,{key:"custom-org-categories-filter",onCategorySelect:b.handleOrgCategorySelect,onClearCategories:b.handleClearOrgCategories,availableCategories:f.path&&k?k:l.children,categoriesFilter:b.props.stateTree.parameters.filter.orgCategories,
title:f.name,prependValue:"/"+(B?B.join("/")+"/":"")})}}else if(f.children)return l=b.props.stateTree.parameters.filter.customFilter[k],a(A.a,{key:f.displayName+"-filter-accordion",filter:f,index:k,onClear:b.handleCustomFilterToggle,onClick:b.handleCustomFilterToggle,selectedOption:l?l.value:void 0})}return null});return l?[l,a("div",{key:"filter-accordion",class:"ib-filter-pane__accordion"},f)]:a("div",{key:"filter-accordion",class:"ib-filter-pane__accordion"},f)},b.prototype.handleCustomFilterToggle=
function(a,b,d){this.props.dispatch(Object(g.u)(a,b?{value:b,text:d}:void 0));this.props.dispatch(Object(e.i)())},b.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(g.B)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(e.i)())},b.prototype.handleMapAreaKeyUp=function(a){switch(a.key){case "Enter":this.handleMapAreaToggle()}},b.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(g.F)(!this.props.stateTree.parameters.filter.searchOrg));
this.props.dispatch(Object(e.i)())},b.prototype.handleItemTypeFilterChange=function(a){this.props.dispatch(Object(g.y)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleModifiedFilterChange=function(a,b){this.props.dispatch(Object(g.C)(a,b));this.props.dispatch(Object(e.i)())},b.prototype.handleCreatedFilterChange=function(a,b){this.props.dispatch(Object(g.t)(a,b));this.props.dispatch(Object(e.i)())},b.prototype.handleSharedFilterChange=function(a){this.props.dispatch(Object(g.G)(a));this.props.dispatch(Object(e.i)())},
b.prototype.handleStatusFilterChange=function(a){this.props.dispatch(Object(g.H)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleFolderFilterChange=function(a){this.props.dispatch(Object(g.v)(a));this.props.dispatch(Object(e.i)(!0))},b.prototype.handleGroupFilterChange=function(a){this.props.dispatch(Object(g.x)(a));this.props.dispatch(Object(e.i)(!0))},b.prototype.handleOrgGroupFilterChange=function(a){this.props.dispatch(Object(g.E)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleTagsFilterChange=
function(a){this.props.dispatch(Object(g.I)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleCollaborationFilterChange=function(a){this.props.dispatch(Object(g.s)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleOrgCategorySelect=function(a){var b=this.props.stateTree.parameters.filter.orgCategories;b&&b.value===a.value?this.props.dispatch(Object(g.D)()):this.props.dispatch(Object(g.D)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(g.D)());
this.props.dispatch(Object(e.i)())},b.prototype.handleLACategorySelect=function(a){var b=this.props.stateTree.parameters.filter.livingAtlasCategories;b&&b.value===a.value?this.props.dispatch(Object(g.z)()):this.props.dispatch(Object(g.z)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleClearLACategories=function(){this.props.dispatch(Object(g.z)());this.props.dispatch(Object(e.i)())},b.prototype.handleLARegionSelect=function(a){var b=this.props.stateTree.parameters.filter.livingAtlasRegion;
b&&b.value===a.value?this.props.dispatch(Object(g.A)()):this.props.dispatch(Object(g.A)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleClearLARegion=function(){this.props.dispatch(Object(g.A)());this.props.dispatch(Object(e.i)())},b.prototype.handleGroupCategorySelect=function(a){var b=this.props.stateTree.parameters.filter.groupCategories;b&&b.value===a.value?this.props.dispatch(Object(g.w)()):this.props.dispatch(Object(g.w)(a));this.props.dispatch(Object(e.i)())},b.prototype.handleClearGroupCategories=
function(){this.props.dispatch(Object(g.w)());this.props.dispatch(Object(e.i)())},b.prototype.handleTagsFilterStringChange=function(a){this.props.dispatch(Object(m.e)(a))},b}(c.Component);b.a=Object(c.connect)(function(a){return{stateTree:a}},function(a){return{dispatch:a}})(a)},,function(c,b,a){a.d(b,"b",function(){return d});a.d(b,"a",function(){return h});a.d(b,"c",function(){return k});var f=a(21),d="START_CUSTOM_ACTION",h="END_CUSTOM_ACTION",k=function(a,b){return function(e,c){(c=c().settings.config.customActions.filter(function(b){return b.name===
a})[0])&&(c.asynchronous?(e({type:d,payload:b}),c.onAction(Object(f.b)(b)).then(function(){e({type:h,payload:b})},function(){e({type:h,payload:b})})):c.onAction(Object(f.b)(b)))}}},function(c,b){c.exports=W},,,,function(c,b,a){var f=a(35);a.d(b,"a",function(){return f.b});a.d(b,"b",function(){return f.e});a.d(b,"c",function(){return f.f});a.d(b,"d",function(){return f.g});a.d(b,"e",function(){return f.h});var d=a(6);a.d(b,"f",function(){return d.i})},,,,,function(c,b){c.exports=X},function(c,b){c.exports=
Y},function(c,b){c.exports=Z},function(c,b,a){b.a=function(a,b){return b("div",{class:a.class},b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},b("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(c,b){c.exports=aa},,,function(c,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return d});var f="CHANGE_SEARCH_STRING",d=function(a){return{type:f,payload:a}}},function(c,b,a){a.d(b,"a",function(){return d});a.d(b,"b",function(){return h});var f=a(75),d="VIEW_ITEM_DETAILS",h=function(a){return function(b){b({type:d,payload:a});b(Object(f.c)(a))}}},function(c,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});var f="SHOW_EMPTY_RESULTS",d="CHANGE_RESULT_DISPLAY"},
,,function(c,b,a){a.d(b,"a",function(){return d});c=a(16);b=a(27);var f=a(70);a=a(71);var d=Object(c.a)(f.a,a.a,b.b)},function(c,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});c=a(5);c=Object(c.a)(function(a,b,d){return b?d.concat(["("+a+":"+("[000000"+b.start+" TO 000000"+b.end+"]")+")"]):d});var f=c("modified"),d=c("uploaded")},function(c,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return d});c=a(5);var f=Object(c.a)(function(a,b){return a&&(a=Object.keys(a),
0<a.length)?b.concat(["tags:("+a.join(" AND ")+")"]):b}),d=Object(c.a)(function(a,b){return 2<a.length?b.concat(["tags:("+a+"* OR "+a+")"]):b})},function(c,b,a){function f(a){return"string"==typeof a?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(a):!!a.filters&&-1<a.filters.indexOf("tags")}a.d(b,"a",function(){return f})},function(c,b,a){a.d(b,"a",function(){return h});var f=a(16),d=a(72),h=function(a,b){return Object(f.a)(Object(d.a)(a))(b)}},,function(c,b,a){a.d(b,
"a",function(){return h});a.d(b,"b",function(){return k});a.d(b,"c",function(){return g});c=a(1);b=a(139);var f=a(164),d=a(176);a=a(192);var h=b.b.config,k={parameters:f.b,settings:b.b,results:d.b,ui:a.b},g=Object(c.combineReducers)({settings:b.a,parameters:f.a,results:d.a,ui:a.a})},function(c,b,a){var f=a(77);a.d(b,"a",function(){return f.b});var d=a(129);a.d(b,"b",function(){return d.c})},,function(c,b,a){a.d(b,"b",function(){return d});a.d(b,"a",function(){return h});a.d(b,"c",function(){return k});
var f=a(6),d="UPDATE_EXTENT",h="UNTHROTTLE_EXTENT",k=function(a){return function(b,c){c=c();c.parameters.extent.throttling||(b({type:d,payload:a}),c.parameters.filter.searchMapArea&&b(Object(f.i)()),setTimeout(function(){b({type:h})},c.settings.config.mapAreaThrottleTime))}}},function(c,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return d});var f="VIEW_FILTERS",d=function(){return{type:f}}},function(c,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return d});var f="VIEW_SORT",
d=function(){return{type:f}}},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(7),k=a(6),g=a(248),e=a.n(g),m=a(18),l=a(23),q={itemType:Object(h.y)(),modified:Object(h.C)(),created:Object(h.t)(),shared:Object(h.G)(),folder:Object(h.v)(),group:Object(h.x)(),status:Object(h.H)(),orgGroup:Object(h.E)()};a=function(a){function b(b){b=a.call(this,b)||this;return b.handleRemoveMapAreaFilter=b.handleRemoveMapAreaFilter.bind(b),b.handleRemoveSearchOrgFilter=b.handleRemoveSearchOrgFilter.bind(b),b.handleRemoveGeneralFilter=
b.handleRemoveGeneralFilter.bind(b),b.handleRemoveOrgCategoriesFilter=b.handleRemoveOrgCategoriesFilter.bind(b),b.handleRemoveLACategoriesFilter=b.handleRemoveLACategoriesFilter.bind(b),b.handleRemoveLARegionFilter=b.handleRemoveLARegionFilter.bind(b),b.handleRemoveGroupCategoriesFilter=b.handleRemoveGroupCategoriesFilter.bind(b),b.handleClearAll=b.handleClearAll.bind(b),b.handleRemoveTagsFilter=b.handleRemoveTagsFilter.bind(b),b.handleRemoveCustomFilter=b.handleRemoveCustomFilter.bind(b),b}return f.b(b,
a),b.prototype.render=function(a){var b=this,c=this.props.stateTree.parameters.filter,g=[];if(c.searchOrg&&"all"===this.props.stateTree.parameters.section&&this.props.stateTree.settings.utils.portal.user&&this.props.stateTree.settings.utils.portal.user.credential&&this.props.stateTree.settings.utils.portal.name&&g.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),c.searchMapArea&&g.push({filterId:"searchMapArea",
onRemove:this.handleRemoveMapAreaFilter,text:this.props.stateTree.settings.config.mapAreaFilterChipText?this.props.stateTree.settings.config.mapAreaFilterChipText:d.filterChips.mapArea}),c.itemType&&g.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.type+": "+c.itemType.text}),c.dateModified&&g.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.dateModified+": "+c.dateModified.label}),c.dateCreated&&g.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,
text:d.filterChips.dateCreated+": "+c.dateCreated.label}),c.shared&&g.push({filterId:"shared",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.access+": "+c.shared.text}),c.group&&"myGroups"===this.props.stateTree.parameters.section?g.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.group+": "+c.group.title}):c.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&g.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.group+
": "+c.orgGroup.title}),c.folder&&"myContent"===this.props.stateTree.parameters.section&&g.push({filterId:"folder",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.folder+": "+c.folder.title}),c.status&&g.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:d.filterChips.status+": "+c.status.text}),c.orgCategories){var f=c.orgCategories;g.push({filterId:f.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:d.filterChips.category+": "+f.text})}c.livingAtlasCategories&&
(f=c.livingAtlasCategories,g.push({filterId:f.value,onRemove:this.handleRemoveLACategoriesFilter,text:d.filterChips.category+": "+f.text}));c.groupCategories&&(f=c.groupCategories,g.push({filterId:f.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:d.filterChips.category+": "+f.text}));c.livingAtlasRegion&&(f=c.livingAtlasRegion,g.push({filterId:f.value,onRemove:this.handleRemoveLARegionFilter,text:d.filterChips.region+": "+f.text}));c.tags&&Object.keys(c.tags).forEach(function(a){g.push({filterId:a,
onRemove:b.handleRemoveTagsFilter,text:d.filterChips.tagged+": "+a})});var k=Object(m.b)(this.props.stateTree.settings.config.customSections,this.props.stateTree.parameters.section);if(k&&!Object(l.a)(c.customFilter)&&Object.keys(c.customFilter).filter(function(a){return!!c.customFilter[a]}).forEach(function(a){var e=parseInt(a,10);k.filters&&k.filters[e]&&g.push({filterId:""+e,onRemove:b.handleRemoveCustomFilter,text:k.filters[e].displayName+": "+c.customFilter[a].text})}),0<g.length)return a("div",
{key:"active-filter-area",class:"ib__active-filters"},a(e.a,{key:"item-browser-filter-controller",filters:g,onClear:this.handleClearAll,mode:"fullscreen"===this.props.stateTree.settings.config.layoutMode?"expanding":"full-width",startOpen:"fullscreen"===this.props.stateTree.settings.config.layoutMode,theme:this.props.theme,showLabel:this.props.showLabel}))},b.prototype.handleRemoveCustomFilter=function(a){this.props.dispatch(Object(h.u)(parseInt(a.target.value,10)));this.props.dispatch(Object(k.i)())},
b.prototype.handleRemoveGeneralFilter=function(a){this.props.dispatch(q[a.target.value]);this.props.dispatch(Object(k.i)("folder"===a.target.value))},b.prototype.handleRemoveMapAreaFilter=function(a){this.props.dispatch(Object(h.B)(!1));this.props.dispatch(Object(k.i)())},b.prototype.handleRemoveSearchOrgFilter=function(a){this.props.dispatch(Object(h.F)(!1));this.props.dispatch(Object(k.i)())},b.prototype.handleClearAll=function(){var a=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:h.a});
this.props.dispatch(Object(k.i)(a))},b.prototype.handleRemoveOrgCategoriesFilter=function(a){this.props.dispatch(Object(h.D)());this.props.dispatch(Object(k.i)())},b.prototype.handleRemoveLACategoriesFilter=function(a){this.props.dispatch(Object(h.z)());this.props.dispatch(Object(k.i)())},b.prototype.handleRemoveGroupCategoriesFilter=function(a){this.props.dispatch(Object(h.w)());this.props.dispatch(Object(k.i)())},b.prototype.handleRemoveLARegionFilter=function(a){this.props.dispatch(Object(h.A)());
this.props.dispatch(Object(k.i)())},b.prototype.handleRemoveTagsFilter=function(a){var b=this.props.stateTree.parameters.filter.tags;b&&b[a.target.value]&&(b=f.a({},b),delete b[a.target.value],0<Object.keys(b).length?this.props.dispatch(Object(h.I)(b)):this.props.dispatch(Object(h.I)()),this.props.dispatch(Object(k.i)()))},b}(c.Component);b.a=Object(c.connect)(function(a){return{stateTree:a}},function(a){return{dispatch:a}})(a)},,,,,,,function(c,b,a){a.d(b,"b",function(){return d});c=a(1);var f=a(162);
a=a(163);var d={config:f.b,utils:a.b};b.a=Object(c.combineReducers)({config:f.a,utils:a.a})},,,,,,,,,,,,,,,,,,,,,,,function(c,b,a){a.d(b,"b",function(){return g});c=a(3);var f=a(53),d=a(36),h=a(43),k=a(18),g={asynchronousItemSelect:!1,dialogTitle:"Item Browser",disableMainAction:!1,mainActionTitle:c.itemDetails.addToMap,mainInverseActionTitle:c.itemDetails.removeFromMap,onSelect:function(){},onDeselect:function(){},preSelect:function(){},baseSections:"myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),
layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",clearSelectionBetweenSearches:!1,resultsPerQuery:16,allowedItemTypes:d.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps mobileApps desktopApps tools locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs notebooks".split(" "),
disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1,disabledSubResources:{}};b.a=function(a,b){switch(void 0===a&&(a=g),b.type){case f.b:return Object(h.c)("id",a.customSections.filter(k.f).map(k.a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return"object"==typeof a&&"group"===a.type})).forEach(function(a,e){a.id=b.payload.groups[e].id;delete a.fetchGroupIdByQuery}),
a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(84),h=a(27),k={iconDir:"",portal:{},request:function(a){return null}};b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case d.a:return f.a({},a,{self:b.payload.self});default:return a.portal.portalHostname&&!a.portal.baseUrl&&(a.portal.baseUrl=Object(h.a)(a.portal)),a}}},function(c,b,a){a.d(b,"b",function(){return e});c=a(1);var f=a(165),d=a(171),h=a(172),k=a(175),g=a(173);a=a(174);var e={extent:f.b,filter:d.b,
nextQuery:h.b,searchString:g.b,section:a.b,sort:k.b};b.a=Object(c.combineReducers)({extent:f.a,filter:d.a,nextQuery:h.a,searchString:g.a,section:a.a,sort:k.a})},function(c,b,a){a.d(b,"b",function(){return h});var f=a(0),d=a(129),h={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case d.a:return f.a({},a,{throttling:!1});case d.b:return{area:b.payload,throttling:!0};default:return a}}},function(c,b,a){a.d(b,"a",function(){return f});c=a(5);
var f=Object(c.a)(function(a,b){return a?b.concat(["(group:"+a.id+")"]):b})},function(c,b,a){a.d(b,"a",function(){return f});c=a(5);var f=Object(c.a)(function(a,b,c){if(a)switch(a.value){case "authoritative":return b&&b.orgId&&!b.portal.isPortal?c.concat(["((contentstatus:org_authoritative orgid:"+b.orgId+") OR contentstatus:public_authoritative)"]):b&&b.orgId&&b.portal.isPortal?c.concat(["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):c.concat(["(contentstatus:public_authoritative)"]);
case "deprecated":return c.concat(["(contentstatus:deprecated)"])}return c})},function(c,b,a){a.d(b,"a",function(){return f});c=a(5);var f=Object(c.a)(function(a,b){return a?b.concat(["(access:"+a.value+")"]):b})},function(c,b,a){a.d(b,"a",function(){return f});c=a(5);var f=Object(c.a)(function(a,b){return a&&(a=function(a){for(var b,e=0,d=Object.keys(a);e<d.length;e++){var c=a[d[e]];if(c.selected){b=c.items;break}c=c.participants.filter(function(a){return a.selected});if(0<c.length){b=c[0].items;
break}}return b}(a))?(a=a.join(" OR "),b.concat(["id:("+a+")"])):b})},function(c,b,a){a.d(b,"a",function(){return h});c=a(13);var f=a.n(c),d=a(12),h=function(a,b,e,c){function g(g){z=g.categorySchema[0].source.split(".")[1];Object(d.c)(a,b,e.contentCategorySetsGroupQuery).then(k,t);Object(d.o)(a,b.restUrl+"/portals/regions",{culture:c}).then(p,t)}function k(e){e.results[0]?Object(d.o)(a,b.restUrl+"/content/groups/"+e.results[0].id+"/search",{q:"typekeywords: "+z}).then(h,t):t("The content category sets group could not be found.")}
function h(e){1===e.results.length&&e.results[0]?Object(d.f)(a,b,e.results[0].id).then(m,t):t("The item containing the living atlas categories could not be determined.")}function m(a){x=a.categorySchema[0];e.isPortal&&w?u([x]):w&&u([x,w])}function p(a){w={categories:a.map(function(a){return{displayName:a.localizedName,title:a.region}}).sort(function(a,b){return"wo"===a.title.toLowerCase()?-1:a.displayName.localeCompare(b.displayName)}),description:"2.0",displayName:"Regions",title:"region"};e.isPortal&&
x?u([x]):x&&u([x,w])}function u(a){y.resolve({schema:a,id:v})}function t(a){y.reject(a)}void 0===c&&(c="en");var v,z,x,w,y=new f.a;return Object(d.c)(a,b,e.livingAtlasGroupQuery).then(function(e){e.results[0]&&e.results[0].id?(v=e.results[0].id,Object(d.d)(a,b,v).then(g,t)):t("The living atlas group could not be found.")},t),y}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(7),h=a(77),k={customFilter:{},searchMapArea:!1};b.a=function(a,b){var e;switch(void 0===a&&(a=k),b.type){case d.a:return{customFilter:{},
searchMapArea:!1};case d.n:return f.a({},a,{orgGroup:b.payload});case d.j:return f.a({},a,{livingAtlasRegion:b.payload});case d.i:return f.a({},a,{livingAtlasCategories:b.payload});case d.m:return f.a({},a,{orgCategories:b.payload});case d.f:return f.a({},a,{groupCategories:b.payload});case d.h:return f.a({},a,{itemType:b.payload});case d.l:return f.a({},a,{dateModified:b.payload.modified});case d.c:return f.a({},a,{dateCreated:b.payload.created});case d.p:return f.a({},a,{shared:b.payload});case d.e:return f.a({},
a,{folder:b.payload});case d.g:return f.a({},a,{groupCategories:void 0,group:b.payload});case d.q:return f.a({},a,{status:b.payload});case d.k:return f.a({},a,{searchMapArea:b.payload});case d.o:return f.a({},a,{searchOrg:b.payload,orgCategories:void 0});case d.r:return f.a({},a,{tags:b.payload});case d.b:return f.a({},a,{origins:b.payload});case d.d:return f.a({},a,{customFilter:f.a({},a.customFilter,(e={},e[b.payload.index]=b.payload.filter,e))});case h.a:return{customFilter:{},searchMapArea:!1};
default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});var f=a(0),d=a(6),h={nextStart:-1,total:0};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case d.a:return f.a({},a,{total:0});case d.c:return{nextStart:b.payload.search.nextStart,total:b.payload.search.total};case d.f:return{nextStart:b.payload.nextStart,total:b.payload.total};case d.g:return{nextStart:-1,total:b.payload.length};default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(6),h=a(115),k={current:"",
previous:""};b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case d.a:return f.a({},a,{previous:a.current});case h.a:return f.a({},a,{current:b.payload});default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});var f=a(77),d=a(84),h="all";b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case f.a:return b.payload.newSection;case d.a:var e=b.payload.config.baseSections;b=b.payload.config.customSections.map(function(a){return a.name});return-1<e.indexOf(a)||-1<b.indexOf(a)?a:0<e.length?
e[0]:0<b.length?b[0]:"all";default:return a}}},function(c,b,a){a.d(b,"b",function(){return m});var f=a(0),d=a(69),h=a(77),k=a(53),g=a(18),e=a(43),m={field:"relevance",order:"desc"},l={myContent:"modified",myFavorites:"relevance",myGroups:"relevance",myOrganization:"relevance",livingAtlas:"relevance",all:"relevance"},q={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};b.a=function(a,b){switch(void 0===a&&(a=m),b.type){case d.b:return f.a({},
a,{order:b.payload});case d.a:return b=b.payload,{field:b,order:q[b]?q[b]:a.order};case h.a:return(a=Object(g.b)(b.payload.customSections,b.payload.newSection))&&a.filters&&(a=a.filters.filter(function(a){return"object"==typeof a&&"group"===a.type})[0])&&a.id&&(a=b.payload.customSectionGroupSort[a.id])?a:{field:l[b.payload.newSection]||"relevance",order:"desc"};case k.b:var c=b.payload,n=c.customSections;return(c=Object(g.b)(n,c.currentSection))&&c.filters&&(n=Object(e.c)("id",n.filter(g.f).map(g.a).reduce(function(a,
b){return a.concat(b)},[]).filter(function(a){return"object"==typeof a&&"group"===a.type})),c=c.filters.filter(function(a){return"object"==typeof a&&"group"===a.type})[0],b=b.payload.groups[n.indexOf(c)])?{field:b.sortField?b.sortField:"relevance",order:b.sortOrder?b.sortOrder:"desc"}:a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return u});c=a(1);var f=a(177),d=a(180),h=a(181),k=a(182),g=a(183),e=a(185),m=a(184),l=a(186),q=a(187),n=a(188),r=a(189),p=a(190);a=a(191);var u={counts:f.b,
displayItems:d.b,livingAtlas:h.b,loadingItems:k.b,selectedItems:g.b,failedItemDetails:m.b,fullItemDetails:e.b,organization:l.b,user:q.b,customSections:n.b,allOrganizations:r.b,users:p.b,provisionedContent:a.b};b.a=Object(c.combineReducers)({counts:f.a,displayItems:d.a,loadingItems:k.a,selectedItems:g.a,failedItemDetails:m.a,fullItemDetails:e.a,livingAtlas:h.a,organization:l.a,user:q.a,customSections:n.a,allOrganizations:r.a,users:p.a,provisionedContent:a.a})},function(c,b,a){a.d(b,"b",function(){return d});
c=a(1);var f=a(178);a=a(179);var d={access:f.b,contentStatus:a.b};b.a=Object(c.combineReducers)({access:f.a,contentStatus:a.a})},function(c,b,a){a.d(b,"b",function(){return d});var f=a(6),d={org:void 0,private:void 0,public:void 0,shared:void 0};b.a=function(a,b){switch(void 0===a&&(a=d),b.type){case f.c:if(b.payload.aggregations&&b.payload.aggregations.counts&&(b=b.payload.aggregations.counts.filter(function(a){return"access"===a.fieldName})[0])){a=b.fieldValues.filter(function(a){return"account"===
a.value})[0];var c=b.fieldValues.filter(function(a){return"private"===a.value})[0],e=b.fieldValues.filter(function(a){return"public"===a.value})[0];b=b.fieldValues.filter(function(a){return"shared"===a.value})[0];return{org:a?a.count:void 0,private:c?c.count:void 0,public:e?e.count:void 0,shared:b?b.count:void 0}}return a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return d});var f=a(6),d={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};b.a=function(a,b){switch(void 0===a&&(a=
d),b.type){case f.c:if(b.payload.aggregations&&b.payload.aggregations.counts&&(b=b.payload.aggregations.counts.filter(function(a){return"contentstatus"===a.fieldName})[0])){a=b.fieldValues.filter(function(a){return"org_authoritative"===a.value})[0];var c=b.fieldValues.filter(function(a){return"public_authoritative"===a.value})[0];b=b.fieldValues.filter(function(a){return"deprecated"===a.value})[0];return{publicAuthoritative:c?c.count:0,orgAuthoritative:a?a.count:0,deprecated:b?b.count:0}}return a;
default:return a}}},function(c,b,a){a.d(b,"b",function(){return d});var f=a(6),d=[];b.a=function(a,b){switch(void 0===a&&(a=[]),b.type){case f.c:return b.payload.search.results;case f.g:return b.payload;case f.f:return a.concat(b.payload.results);default:return a}}},function(c,b,a){a.d(b,"b",function(){return g});var f=a(0),d=a(80),h=a(6),k=a(37),g={categorySchema:void 0,groupId:void 0,status:"initial"};b.a=function(a,b){switch(void 0===a&&(a=g),b.type){case d.a:return f.a({},a,{status:"loading"});
case d.b:return f.a({},a,{categorySchema:{displayName:b.payload.id,value:b.payload.id,children:Object(k.b)(b.payload.schema)},groupId:b.payload.id,status:"loaded"});case h.c:return a.categorySchema&&b.payload.aggregations&&b.payload.aggregations.countInfo&&"livingAtlas"===b.payload.aggregations.countInfo.section?f.a({},a,{categorySchema:Object(k.c)(b.payload.aggregations,Object(k.a)(a.categorySchema),"groupCategories")}):a;case d.c:return f.a({},a,{status:"failed"});default:return a}}},function(c,
b,a){a.d(b,"b",function(){return e});var f=a(0),d=a(35),h=a(98),k=a(8),g=a(29),e={};b.a=function(a,b){var e,c,l,m,u,t,v,z,x,w,y,A;switch(void 0===a&&(a={}),b.type){case d.f:return f.a({},a,((e={})[b.payload.id]=b.payload,e));case d.e:return f.a({},a,((c={})[b.payload.id]=void 0,c));case d.h:return f.a({},a,((l={})[b.payload.id]=void 0,l));case d.g:return f.a({},a,((m={})[b.payload.id]=void 0,m));case h.b:return f.a({},a,((u={})[b.payload.id]=b.payload,u));case h.a:return f.a({},a,((t={})[b.payload.id]=
void 0,t));case k.a:return{};case g.a:return f.a({},a,((v={})[b.payload.id]=b.payload,v));case g.c:return f.a({},a,((z={})[b.payload.id]=void 0,z));case g.b:return f.a({},a,((x={})[b.payload.id]=void 0,x));case g.e:return f.a({},a,((w={})[b.payload.id]=b.payload,w));case g.g:return f.a({},a,((y={})[b.payload.id]=void 0,y));case g.f:return f.a({},a,((A={})[b.payload.id]=void 0,A));default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(35),h=a(8),k={};b.a=function(a,b){var e,
c;switch(void 0===a&&(a={}),b.type){case d.a:return{};case d.c:return f.a({},a,b.payload.reduce(function(a,b){var e;return f.a({},a,((e={})[b.id]=b,e))},{}));case d.b:return a=f.a({},a),delete a[b.payload.id],a;case d.e:return f.a({},a,((e={})[b.payload.id]=b.payload,e));case d.h:return(c={})[b.payload.id]=b.payload,c;case d.d:return f.a({},a,b.payload);case h.a:return{};default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(75),h=a(116),k={};b.a=function(a,b){var e;switch(void 0===
a&&(a=k),b.type){case d.b:return a[b.payload.item.id]?(delete (c=f.a({},a))[b.payload.item.id],c):a;case h.a:var c;return a[b.payload.id]?(delete (c=f.a({},a))[b.payload.id],c):a;case d.a:return f.a({},a,((e={})[b.payload]=!0,e));default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});var f=a(0),d=a(75),h={};b.a=function(a,b){var e;switch(void 0===a&&(a=h),b.type){case d.b:return f.a({},a,((e={})[b.payload.item.id]=b.payload.item,e));case d.a:return a[b.payload]?(a=f.a({},a),delete a[b.payload],
a):a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return g});var f=a(0),d=a(66),h=a(6),k=a(37),g={categorySchema:void 0,groups:void 0,status:"initial"};b.a=function(a,b){switch(void 0===a&&(a=g),b.type){case d.a:return f.a({},a,{status:"loading"});case d.b:return f.a({},a,{groups:b.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",value:"##orgCatRoot--1337!",children:Object(k.b)(b.payload.schema)},status:"loaded"});case h.c:return a.categorySchema&&b.payload.aggregations&&
b.payload.aggregations.countInfo&&("myOrganization"===b.payload.aggregations.countInfo.section||"myContent"===b.payload.aggregations.countInfo.section||"all"===b.payload.aggregations.countInfo.section)?f.a({},a,{categorySchema:Object(k.c)(b.payload.aggregations,Object(k.a)(a.categorySchema),"categories")}):a;case d.c:return f.a({},a,{status:"failed"});default:return a}}},function(c,b,a){a.d(b,"b",function(){return g});var f=a(0),d=a(29),h=a(6),k=a(37),g={favorites:void 0,folders:void 0,groups:void 0,
groupCategories:{},status:"initial"};b.a=function(a,b){var c,e,n,m,p;switch(void 0===a&&(a=g),b.type){case d.d:return f.a({},a,{status:"loading"});case d.i:return f.a({},a,{favorites:b.payload.favorites,folders:b.payload.folders,groups:b.payload.groups,status:"loaded"});case d.h:return f.a({},a,{groupCategories:f.a({},a.groupCategories,(c={},c[b.payload.id]={value:b.payload.id,children:Object(k.b)(b.payload.categorySchema)},c))});case h.c:return b.payload.aggregations&&b.payload.aggregations.countInfo&&
"myGroups"===b.payload.aggregations.countInfo.section&&b.payload.aggregations.countInfo.group&&(c=b.payload.aggregations.countInfo.group.id,a.groupCategories[c])?f.a({},a,{groupCategories:f.a({},a.groupCategories,(e={},e[c]=Object(k.c)(b.payload.aggregations,Object(k.a)(a.groupCategories[c]),"groupCategories"),e))}):a;case d.j:return f.a({},a,{status:"failed"});case d.c:return f.a({},a,{favorites:a.favorites?f.a({},a.favorites,(n={},n[b.payload.id]=!0,n)):(m={},m[b.payload.id]=!0,m)});case d.g:return f.a({},
a,{favorites:a.favorites?f.a({},a.favorites,(p={},p[b.payload.id]=!1,p)):{}});default:return a}}},function(c,b,a){function f(a,b,c){return b.filter(function(b){return b.type===a}).reduce(function(a,b){return a[b.id]||(a[b.id]={value:b.id,children:Object(g.b)(b.response.categorySchema)}),a},d.a({},c))}a.d(b,"b",function(){return e});var d=a(0),h=a(53),k=a(6),g=a(37),e={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};b.a=function(a,b){switch(void 0===a&&(a=e),b.type){case h.a:return d.a({},
a,{status:"loading"});case h.b:return d.a({},a,{groupSort:b.payload.groups.reduce(function(a,b){return a[b.id]={field:b.sortField,order:b.sortOrder},a},a.groupSort)});case h.c:return d.a({},a,{orgSchemas:f("org",b.payload,a.orgSchemas),groupSchemas:f("group",b.payload,a.groupSchemas),status:"loaded"});case h.d:return d.a({},a,{status:"failed"});case k.c:if(b.payload.aggregations){var c=b.payload.aggregations.countInfo;if(c.custom&&c.custom.filters)return c.custom.filters.filter(function(a){return"object"==
typeof a}).reduce(function(c,e){var f,l;return"group"===e.type?d.a({},a,{groupSchemas:d.a({},a.groupSchemas,(f={},f[e.id]=Object(g.c)(b.payload.aggregations,Object(g.a)(a.groupSchemas[e.id]),"groupCategories"),f))}):"org"===e.type?d.a({},a,{orgSchemas:d.a({},a.orgSchemas,(l={},l[e.id]=Object(g.c)(b.payload.aggregations,Object(g.a)(a.orgSchemas[e.id]),"categories"),l))}):c},a)}return a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(6),h=a(74),k={};b.a=function(a,
b){switch(void 0===a&&(a=k),b.type){case d.c:return f.a({},a,b.payload.search.organizations);case d.f:case h.b:return f.a({},a,b.payload.organizations);default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});var f=a(0),d=a(75),h={};b.a=function(a,b){var c;switch(void 0===a&&(a=h),b.type){case d.b:return f.a({},a,((c={})[b.payload.owner.username]=b.payload.owner,c));default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});var f=a(0),d=a(65),h={content:[],status:"initial"};b.a=
function(a,b){switch(void 0===a&&(a=h),b.type){case d.a:return f.a({},a,{status:"loading"});case d.b:return f.a({},a,{status:"failed"});case d.c:return f.a({},a,{status:"loaded",content:b.payload});default:return a}}},function(c,b,a){a.d(b,"b",function(){return e});c=a(1);var f=a(193),d=a(194),h=a(198),k=a(199),g=a(200);a=a(201);var e={sidePanel:f.b,expanded:d.b,resultPanel:h.b,filters:k.b,tagsFilter:g.b,pagination:a.b};b.a=Object(c.combineReducers)({sidePanel:f.a,expanded:d.a,resultPanel:h.a,filters:k.a,
tagsFilter:g.a,pagination:a.a})},function(c,b,a){a.d(b,"b",function(){return m});var f=a(0),d=a(81),h=a(116),k=a(130),g=a(131),e=a(6),m={closing:!1,type:"hidden"};b.a=function(a,b){switch(void 0===a&&(a=m),b.type){case d.b:return f.a({},a,{closing:!0});case d.a:return f.a({},a,{closing:!1,type:"hidden",item:void 0});case h.a:return f.a({},a,{type:"item",item:b.payload});case k.a:return f.a({},a,{type:"filter",item:void 0});case g.a:return f.a({},a,{type:"sort",item:void 0});case e.c:return"item"===
a.type&&a.item&&!b.payload.search.results.filter(function(b){return a.item&&b.id===a.item.id})[0]?f.a({},a,{closing:!0}):a;case e.g:return"item"===a.type&&a.item&&!b.payload.filter(function(b){return a.item&&b.id===a.item.id})[0]?f.a({},a,{closing:!0}):a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return g});c=a(195);var f=a(196),d=a(197),h=a(1),k=a(45),g={filters:c.b,sort:f.b,sublayerCards:d.b,maximized:!1,closing:!1};b.a=Object(h.combineReducers)({filters:c.a,sort:f.a,sublayerCards:d.a,
maximized:function(a,b){switch(b.type){case k.b:return!0;case k.c:return!1;default:return a}},closing:function(a,b){switch(b.type){case k.a:return!0;default:return a}}})},function(c,b,a){a.d(b,"b",function(){return d});var f=a(45),d=!1;b.a=function(a,b){switch(b.type){case f.d:return!a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});var f=a(45),d=a(69),h=!1;b.a=function(a,b){switch(b.type){case f.e:case d.a:case d.b:return!a;default:return a}}},function(c,b,a){a.d(b,"b",function(){return h});
var f=a(0),d=a(45),h={cardStates:{},overlayOpen:!1};b.a=function(a,b){var c;switch(b.type){case d.f:return f.a({},a,{cardStates:f.a({},a.cardStates,(c={},c[b.payload.item.id]=b.payload,c)),overlayOpen:b.payload.overlay.visible&&!b.payload.overlay.closing});default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(6),h=a(117),k={display:"list",status:"empty"};b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case d.b:return f.a({},a,{status:"failed"});case d.g:case d.c:return f.a({},
a,{status:"success"});case d.e:return f.a({},a,{status:"failed"});case d.f:return f.a({},a,{status:"success"});case d.a:return f.a({},a,{status:"loading"});case d.d:return f.a({},a,{status:"loadingNext"});case h.a:return f.a({},a,{display:"table"===a.display?"list":"table"});case h.b:return f.a({},a,{status:"empty"});default:return a}}},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(7),h=a(77),k={};b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case d.a:return{};case d.l:return f.a({},
a,{modifiedSection:b.payload.section});case d.c:return f.a({},a,{createdSection:b.payload.section});case h.a:return{};default:return a}}},function(c,b,a){a.d(b,"b",function(){return e});var f=a(0);c=a(16);var d=a(43),h=a(77),k=a(88),g=a(6),e={allTags:[],filterString:"",visibleTags:[]};b.a=function(a,b){switch(void 0===a&&(a=e),b.type){case h.a:return f.a({},a,{filterString:""});case k.d:return f.a({},a,{filterString:b.payload,visibleTags:a.allTags.filter(function(a){return 0===b.payload.length||-1<
a.value.indexOf(b.payload)})});case k.a:return a;case k.c:return b.payload.aggregations&&(c=b.payload.aggregations.counts.filter(function(a){return"tags"===a.fieldName})[0])?(c=m(a.allTags.concat(c.fieldValues)),f.a({},a,{allTags:c,visibleTags:c.filter(function(b){return 0===a.filterString.length||-1<b.value.indexOf(a.filterString)})})):a;case k.b:return a;case g.c:var c;return b.payload.aggregations&&(c=b.payload.aggregations.counts.filter(function(a){return"tags"===a.fieldName})[0])?(c=m(c.fieldValues),
f.a({},a,{allTags:c,visibleTags:c.filter(function(b){return 0===a.filterString.length||-1<b.value.indexOf(a.filterString)})})):a;default:return a}};b=Object(d.c)("value");var m=Object(c.a)(b,function(a){return a.map(function(a){var b=a.count;return{value:a.value.trim(),count:b}})},function(a){return a.sort(function(a,b){return b.count-a.count})})},function(c,b,a){a.d(b,"b",function(){return k});var f=a(0),d=a(74),h=a(6),k={page:1,displayItems:[],status:"loading"};b.a=function(a,b){switch(void 0===
a&&(a=k),b.type){case d.c:return f.a({},a,{status:"loading"});case d.b:return f.a({},a,{displayItems:b.payload.displayItems,page:b.payload.page,status:"success"});case d.a:return f.a({},a,{status:"failed"});case h.c:return f.a({},a,{displayItems:b.payload.search.results,status:"success",page:1});case h.g:return f.a({},a,{displayItems:b.payload,status:"success",page:1});default:return a}}},function(c,b,a){var f=a(0);c=a(1);var d=a(228),h=a(230),k=a(95),g=a.n(k);a=function(a){function b(b){return a.call(this,
b)||this}return f.b(b,a),b.prototype.render=function(a){return a("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},a(g.a,{closing:this.props.closing,key:"ib-big-overlay",scrollable:!this.props.filtersVisible&&!this.props.sortVisible&&!this.props.sublayerOverlayOpen||!window.matchMedia("(max-width: 860px)").matches&&!this.props.sublayerOverlayOpen,adjustable:this.props.adjustable},a(d.a,{key:"big-browser-header"}),a(h.a,{key:"big-browser-body"})))},b}(c.Component);
b.a=Object(c.connect)(function(a){return{closing:a.ui.expanded.closing,filtersVisible:a.ui.expanded.filters,sortVisible:a.ui.expanded.sort,sublayerOverlayOpen:a.ui.expanded.sublayerCards.overlayOpen,adjustable:a.ui.expanded.maximized}},function(){return{}})(a)},,,,,,function(c,b,a){var f=a(209);a.d(b,"a",function(){return f.a})},function(c,b,a){var f=a(116);a.d(b,"a",function(){return f.b})},,,,,,,,,,,,,,,,,,function(c,b){c.exports=ba},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(38),k=a.n(h),
g=a(229);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleContract=b.handleContract.bind(b),b.handleClose=b.handleClose.bind(b),b.handleTitleCreate=b.handleTitleCreate.bind(b),b}return f.b(b,a),b.prototype.componentWillReceiveProps=function(a){a.page!==this.props.page&&this.titleNode&&this.titleNode.scrollIntoView()},b.prototype.render=function(a){return a("header",{class:"ib__big-header"},a("div",{class:"ib__big-header-title-section"},a("h4",{class:"ib__big-header-title",afterCreate:this.handleTitleCreate},
this.props.dialogTitle),a(k.a,{key:"main-close-btn",focusable:!0,handleClick:this.handleClose,title:d.close},a("svg",{width:"24",height:"24",viewBox:"0 0 32 32"},a("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))),a(g.a,{key:"big-browser-section-tabs"}))},b.prototype.handleContract=function(){this.props.onBack()},b.prototype.handleClose=function(){this.props.onBack()},b.prototype.handleTitleCreate=function(a){this.titleNode=
a},b}(c.Component);b.a=Object(c.connect)(function(a){return{dialogTitle:a.settings.config.dialogTitle,layoutMode:a.settings.config.layoutMode,onBack:function(){a.settings.config.onBack&&a.settings.config.onBack()},page:a.ui.pagination.page}},function(){return{}})(a)},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(77),k=a(6),g=a(110),e=a.n(g);a=function(a){function b(b){b=a.call(this,b)||this;return b.state={options:(b.props.user?b.props.baseSections:b.props.baseSections.filter(function(a){return"livingAtlas"===
a||"all"===a})).map(function(a){return{value:a,text:d.header.sectionTitles[a]}}).concat(b.props.customSections.map(function(a){return{value:a.name,text:a.name}}))},b.handleTabSelect=b.handleTabSelect.bind(b),b}return f.b(b,a),b.prototype.render=function(a){return a(e.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,selectedOptionValue:this.props.currentSection})},b.prototype.handleTabSelect=function(a){this.props.changeSearchSection(a);this.props.search(!0)},b}(c.Component);
b.a=Object(c.connect)(function(a){return{user:a.settings.utils.portal.user,baseSections:a.settings.config.baseSections,customSections:a.settings.config.customSections,currentSection:a.parameters.section}},function(a){return{changeSearchSection:function(b){a(Object(h.b)(b))},search:function(b){a(Object(k.i)(b))}}})(a)},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(233),k=a(247),g=a(249),e=a(232),m=a(108),l=a.n(m),q=a(74),m=a(48),n=a.n(m),m=a(231),r=a.n(m),p=a(96),u=a(45);a=function(a){function b(b){b=
a.call(this,b)||this;return b.handlePageChange=b.handlePageChange.bind(b),b.handleCloseMobileFilters=b.handleCloseMobileFilters.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.expandedFiltersActive,b={"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--hidden":!b,"ib__big-filters--visible":b},c="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,f={"ib__big-wrapper":!0,"ib__big-wrapper--faded":c,"ib__big-wrapper--transparent":c&&0===this.props.pageDisplayItems.length},
m=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);return a("main",{class:"ib__big-body"},"subscription"!==this.props.section?a(e.a,{key:"ib__big-search-area"}):null,a("div",{class:"ib__big-row"},a("section",{classes:b,key:"fullscreen-filters"},a("div",{class:"ib-ex-input__container"},a("span",{class:"ib__big-filter-label"},d.filterPane.filter)),a(h.a,null)),a("div",{class:"ib__big-overlay-filters"},a(r.a,{key:"mobile-filter-wrap",
maxHeight:!0,open:this.props.expandedFiltersActive,onClose:this.handleCloseMobileFilters,title:d.filterPane.filter,footer:a("button",{class:"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},d.viewResults)},a(p.a,{key:"mobile-filters"}))),a("section",{class:"ib__big-section ib__big-results",key:"results-section"},a("div",{classes:f},a("div",{class:"ib-ex-alert-container hide"},a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding: .25em;\n                                    "},
a("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"})),a("span",{class:"ib-ex-alert-text"},d.groupAddDisclaimer),a("a",{href:"https://doc.arcgis.com/en/arcgis-online/get-started/get-started-with-sharing.htm#ESRI_SECTION1_BB834B721C934708BA81BD619C75FD75",target:"_blank"},d.learnMore)),a(k.a,{key:"big-browser-input-area"}),a(g.a,{key:"big-browser-result-panel"}),
1<m&&"subscription"!==this.props.section?a(l.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:m,currentPage:this.props.currentPage,paginationLimitReached:1E4<this.props.itemTotal}):null),c?a("div",{class:"ib-ex__load-container",key:"ib-ex__load-container"},a(n.a,{key:"item-ex-loading"})):null)))},b.prototype.handlePageChange=function(a){this.props.changePage(a)},b.prototype.handleCloseMobileFilters=function(){this.props.toggleExpandedFilters()},b}(c.Component);b.a=Object(c.connect)(function(a){return{expandedFiltersActive:a.ui.expanded.filters,
resultStatus:a.ui.resultPanel.status,paginationStatus:a.ui.pagination.status,pageDisplayItems:a.ui.pagination.displayItems,currentPage:a.ui.pagination.page,itemTotal:a.parameters.nextQuery.total,resultsPerQuery:a.settings.config.resultsPerQuery,section:a.parameters.section}},function(a){return{changePage:function(b){a(Object(q.d)(b))},toggleExpandedFilters:function(){a(Object(u.g)())}}})(a)},function(c,b){c.exports=ca},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(89),k=a.n(h),g=a(45),e=a(69),
m=a(115),l=a(6),h=a(109),q=a.n(h),n="relevance title owner created modified numviews".split(" "),r={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};a=function(a){function b(b){b=a.call(this,b)||this;return b.handleToggleFilters=
b.handleToggleFilters.bind(b),b.handleSearchChange=b.handleSearchChange.bind(b),b.handleSearchKeyDown=b.handleSearchKeyDown.bind(b),b.handleSortFieldChange=b.handleSortFieldChange.bind(b),b.handleSortOrderChange=b.handleSortOrderChange.bind(b),b.handleSortClick=b.handleSortClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=d.header.sectionTitles[this.props.section],b=this.props.searchPlaceholderText?this.props.searchPlaceholderText:d.search+" "+(b||this.props.section),c=this.props.section,
c=r[c]?r[c].slice():n.slice();return-1===c.indexOf(this.props.sortField)&&(this.props.sortField=c[0]),a("div",{class:"ib-ex-search-area__container",key:"search-area"},a("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},a("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"#595959",
"fill-rule":"nonzero"})),a("input",{id:"ib-ex-search-area__input",class:"ib-ex-search-area__input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,value:this.props.searchString,placeholder:b,title:d.header.search,"aria-label":d.header.search}),a("div",{class:"ib-ex-search-area__btn-section"},a(q.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:c,onFieldChange:this.handleSortFieldChange,
onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick}),a(k.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},a("div",{class:"drp-sort__btn-body"},a("svg",{viewBox:"0 0 16 16",width:"16px",height:"16px"},a("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),a("span",{class:"drp-sort__btn-label"},d.filterPane.filter)))))},b.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},
b.prototype.handleSearchChange=function(a){this.props.changeSearchString(a.target.value);""===a.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},b.prototype.handleSearchKeyDown=function(a){"Enter"===a.key&&this.props.search(!0)},b.prototype.handleSortFieldChange=function(a){this.props.changeSortField(a);this.props.search()},b.prototype.handleSortOrderChange=function(a){this.props.changeSortOrder(a);this.props.search()},b.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},
b}(c.Component);b.a=Object(c.connect)(function(a){return{searchPlaceholderText:a.settings.config.searchPlaceholderText,section:a.parameters.section,searchString:a.parameters.searchString.current,previousSearchString:a.parameters.searchString.previous,sortActive:a.ui.expanded.sort,sortField:a.parameters.sort.field,sortOrder:a.parameters.sort.order,expandedFiltersActive:a.ui.expanded.filters}},function(a){return{toggleExpandedFilters:function(){a(Object(g.g)())},toggleExpandedSort:function(){a(Object(g.h)())},
changeSortField:function(b){a(Object(e.c)(b))},changeSortOrder:function(b){a(Object(e.d)(b))},changeSearchString:function(b){a(Object(m.b)(b))},search:function(b){a(Object(l.i)(b))}}})(a)},function(c,b,a){var f=a(96);b.a=function(a,b){return b(f.a,{key:"big-browser-filters"})}},function(c,b){c.exports=da},function(c,b){c.exports=ea},function(c,b){c.exports=fa},function(c,b){c.exports=ga},function(c,b){c.exports=ha},function(c,b){c.exports=ia},function(c,b){c.exports=ja},function(c,b){c.exports=ka},
function(c,b){c.exports=la},function(c,b){c.exports=ma},function(c,b,a){function f(a){var b,c=a.settings.utils.portal.user,e=!c,c=!e&&!c.orgId;if(e||c)if(c)e=function(a){switch(a.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified tags created".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion",
"itemType","tags","status"];case "all":return["itemType","modified","status"];default:return d(a)}}(a);else a:switch(a.parameters.section){case "livingAtlas":e=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":e=["itemType","modified","status"];break a;default:e=d(a)}else e=function(a){switch(a.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status collaboration".split(" ");case "myFavorites":return"itemType modified created tags shared status collaboration".split(" ");
case "myGroups":return"group groupCategories itemType modified created tags shared status collaboration".split(" ");case "myOrganization":return"orgCategories itemType modified created tags shared status collaboration".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return d(a)}}(a);return b=e,function(a,b){var c=b.indexOf("itemType");a&&-1<c&&b.splice(c,1);return b}(a.settings.config.disableItemTypeFilters,
b)}function d(a){return a.settings.config.customSections.reduce(function(b,c){return c.name===a.parameters.section&&c.filters?c.filters:b},["itemType","modified","shared"])}a.d(b,"a",function(){return f})},function(c,b,a){var f=a(0);c=a(1);var d=a(99),h=a.n(d),d=a(246),k=a.n(d);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleClear=b.handleClear.bind(b),b.handleClick=b.handleClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,c=this.props.filter;return a(k.a,
{key:c.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,title:c.displayName},a("ul",{"aria-label":c.displayName,id:c.displayName+"-filter-accordion-tree",class:"ftr-custom__tree",role:"tree"},c.children?c.children.map(function(c){return a(h.a,{key:c.value,value:c.value,name:c.displayName,onToggleClick:b.handleClick,selectedToggle:b.props.selectedOption,childOptions:c.children})}):null))},b.prototype.handleClear=function(){this.props.onClear(this.props.index)},b.prototype.handleClick=
function(a,b){a===this.props.selectedOption?this.props.onClick(this.props.index,void 0):this.props.onClick(this.props.index,a,b)},b}(c.Component);b.a=a},function(c,b){c.exports=na},function(c,b,a){var f=a(0),d=a(3),h=a(86);c=a(1);var k=a(132);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){return a("div",{class:"ib-ex-input__container",key:"ib-result-count-container"},a("span",{class:"ib-ex-input-area__result-count"},h.format(this.props.itemTotal)+
" "+(this.props.itemName?this.props.itemName:d.resultCount)),a(k.a,{staticFilters:this.props.staticFilters,key:"ib-ex__active-filters",theme:"dark",showLabel:d.filterPane.filters+":"}))},b}(c.Component);b.a=Object(c.connect)(function(a){return{itemName:a.settings.config.itemName,itemTotal:a.parameters.nextQuery.total,staticFilters:a.settings.config.staticFilters}},function(){return{}})(a)},function(c,b){c.exports=oa},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(251),k=a(250),g=a.n(k).a;a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?this.props.tooManyGroups?a("div",{key:"request-error",class:"ib__results"},a("div",{class:"ib-results__message-container"},a("span",{class:"ib-results__message"},d.results.tooManyGroups))):a("div",{key:"request-error",class:"ib__results"},a("div",{class:"ib-results__message-container"},
a("span",{class:"ib-results__message"},d.results.requestError))):this.props.showSubResources?a(g,{key:"lazy-sublayers",path:"ItemBrowser/SubResourceItemList",componentProps:{key:"subresource-item-list"}},"loading..."):a(h.a,{key:"ib-ex-item-list"})},b}(c.Component);b.a=Object(c.connect)(function(a){return{resultStatus:a.ui.resultPanel.status,pageStatus:a.ui.pagination.status,showSubResources:a.settings.config.showSubResources,tooManyGroups:"myGroups"===a.parameters.section&&!!a.results.user.groups&&
175<a.results.user.groups.length&&!a.parameters.filter.group}},function(){return{}})(a)},function(c,b){c.exports=pa},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(252),k=a.n(h),g=a(28);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){var b=this,c=Object(g.a)(this.props.stateTree),e=this.props.stateTree.ui.pagination.displayItems.map(function(d){return a(k.a,{key:d.id,item:d,organization:"public_authoritative"===d.contentStatus&&
b.props.stateTree.results.allOrganizations[d.orgId]?b.props.stateTree.results.allOrganizations[d.orgId]:void 0,portal:c,mainAction:b.props.stateTree.settings.config.onSelect,mainInverseAction:b.props.stateTree.settings.config.onDeselect,mainActionTitle:b.props.stateTree.settings.config.mainActionTitle,mainInverseActionTitle:b.props.stateTree.settings.config.mainInverseActionTitle,loadOnMainAction:b.props.stateTree.settings.config.asynchronousItemSelect,isSelected:b.props.stateTree.settings.config.preSelect,
customActions:b.props.stateTree.settings.config.customActions,sortField:b.props.stateTree.parameters.sort.field})});return 0<e.length?a("div",{key:this.props.key,class:"ib-ex-results__item-list"},e):a("div",{key:this.props.key,class:"ib-ex-results__item-list"},a("div",{class:"ib-ex-results__no-items-container"},a("div",{class:"ib-ex-results__no-items-centered"},a("svg",{viewBox:"0 0 256 256",width:"256"},a("path",{fill:"#ccc",d:"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"})),
a("p",{class:"ib-ex-results__no-items-text"},d.results.noItemsFound))))},b}(c.Component);b.a=Object(c.connect)(function(a){return{stateTree:a}},function(){return{}})(a)},function(c,b){c.exports=qa},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(81),k=a(255),g=a(256),e=a(254),m=a(267);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleCloseDetailsPane=b.handleCloseDetailsPane.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b,c,f=this.props.detailsPaneType,h=this.props.sidePanelType,
l=this.props.closing,n={"ib-side__container--fade-in":!l,"ib-side__container--fade-out":l,"ib-side__container--flyout":"flyout"===f,"ib-side__container--flyover":"flyover"===f},f={"ib-side__content--flyout":"flyout"===f,"ib-side__content--in-right":!l&&"flyout"===f,"ib-side__content--out-left":l&&"flyout"===f,"ib-side__content--flyover":"flyover"===f,"ib-side__content--in-left":!l&&"flyover"===f,"ib-side__content--out-right":l&&"flyover"===f};if("sort"===h)b=a(e.a,{key:"sort-pane"}),c=d.sortOptions.sort;
else if("filter"===h)b=a(k.a,{key:"filter-pane"}),c=d.filterPane.filter;else if("item"===h&&this.props.sidePanelItem)b=a(g.a,{key:this.props.sidePanelItem.id,item:this.props.sidePanelItem});else if("hidden"===h)return;return a(m.a,{key:"item"===h&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:h,containerClasses:n,contentClasses:f,handleClose:this.handleCloseDetailsPane,i18n:d,type:h,title:c},b)},b.prototype.componentWillReceiveProps=function(a){var b=this;!this.props.closing&&a.closing&&
("item"===this.props.sidePanelType&&this.props.sidePanelItem?(a=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&a.focus():"filter"===this.props.sidePanelType?(a=document.getElementById("filter-button"))&&a.focus():"sort"===this.props.sidePanelType&&(a=document.getElementById("sort-button"))&&a.focus(),setTimeout(function(){b.props.closeDetailsPaneImmediately()},300))},b.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},b}(c.Component);b.a=Object(c.connect)(function(a){return{detailsPaneType:a.settings.config.detailsPaneType,
sidePanelType:a.ui.sidePanel.type,sidePanelItem:a.ui.sidePanel.item}},function(a){return{closeDetailsPane:function(){a(Object(h.c)())},closeDetailsPaneImmediately:function(){a({type:h.a})}}})(a)},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(69),k=a(6),g=a(99),e=a.n(g),m="relevance title owner created modified numviews".split(" "),l={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance",
"modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};a=function(a){function b(b){b=a.call(this,b)||this;return b.handleChangeSortField=b.handleChangeSortField.bind(b),b.handleChangeSortAsc=b.handleChangeSortAsc.bind(b),b.handleChangeSortDesc=b.handleChangeSortDesc.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,c=this.props.section,c=(l[c]?l[c].slice():m.slice()).map(function(c){return a(e.a,
{key:c,name:d.sortOptions[c],value:c,selectedToggle:b.props.sortField,onToggleClick:b.handleChangeSortField})}),f=this.props.sortField,g=this.props.sortOrder;return a("div",{id:"sort-pane-container",key:"sort-pane-container",class:"ib-sort-pane__container"},a("div",{class:"ib-sort-pane__body"},a("h3",{id:"sort-options-title",class:"drp-sort__menu-title"},d.sortOptions.sortBy),a("ul",{key:"sort-option-section",class:"ib-sort-pane__option-section",role:"radiogroup","aria-labelledby":"sort-options-title",
"aria-activedescendent":this.props.sortField+"-option"},c),"relevance"!==f?a("div",null,a("h3",{class:"drp-sort__menu-title drp-sort__menu-direction"},d.sortOptions.sortDir),a("ul",{key:"sort-direction-section",class:"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title","aria-activedescendent":g+"-option"},a(e.a,{key:"sort-asc-toggle",name:d.sortOptions.ascending[f],value:"asc",onToggleClick:this.handleChangeSortAsc,selectedToggle:g}),a(e.a,{key:"sort-desc-toggle",name:d.sortOptions.descending[f],
value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:g}))):null))},b.prototype.handleChangeSortField=function(a){this.props.changeSortField(a);this.props.search()},b.prototype.handleChangeSortAsc=function(a){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),this.props.search())},b.prototype.handleChangeSortDesc=function(a){"asc"===this.props.sortOrder&&(this.props.changeSortOrder("desc"),this.props.search())},b}(c.Component);b.a=Object(c.connect)(function(a){return{section:a.parameters.section,
sortField:a.parameters.sort.field,sortOrder:a.parameters.sort.order}},function(a){return{changeSortField:function(b){a(Object(h.c)(b))},changeSortOrder:function(b){a(Object(h.d)(b))},search:function(b){a(Object(k.i)(b))}}})(a)},function(c,b,a){var f=a(0);c=a(1);var d=a(96);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){return a("div",{id:"filter-pane-container",key:"filter-pane-container",class:"ib-filter-pane__container"},
a(d.a,{key:"filter-options"}))},b}(c.Component);b.a=a},function(c,b,a){var f=a(0),d=a(3),h=a(86);c=a(1);var k=a(29),g=a(28),e=a(48),m=a.n(e),l=a(111),e=a(257),q=a.n(e),e=a(258),n=a.n(e),e=a(259),r=a.n(e),e=a(260),p=a.n(e),e=a(261),u=a.n(e),e=a(262),t=a.n(e),e=a(263),v=a.n(e),e=a(264),z=a.n(e),e=a(38),x=a.n(e),w=a(265),y=a(266),A=a(24);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleItemDetails=b.handleItemDetails.bind(b),b.handleFavorites=b.handleFavorites.bind(b),b}return f.b(b,
a),b.prototype.render=function(a){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&this.props.stateTree.results.users[this.props.item.owner]||this.props.stateTree.results.failedItemDetails[this.props.item.id]))return a(m.a,{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return a("div",{class:"ib-item-pane__message-container"},a("span",{class:"ib-results__message"},d.results.requestError));var b=this.props.stateTree.results.fullItemDetails[this.props.item.id],
c=this.props.stateTree.results.users[b.owner],e=Object(g.a)(this.props.stateTree),f=(b&&this.props.stateTree.results.selectedItems[b.id],b&&this.props.stateTree.results.loadingItems[b.id]),k={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":f},h=new Date(b.modified),n=new Date(b.created),p=this.props.stateTree.results.allOrganizations[b.orgId],v="public_authoritative"===b.contentStatus&&b.orgId&&!!p;return[a("div",{class:"ib-item-pane__thumb-container"},a("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
class:"ib-item-pane__thumbnail",style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+b.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",alt:""}),a(w.a,{favorites:this.props.stateTree.results.user.favorites,item:b,onToggleFavorite:this.handleFavorites})),a("div",{id:"item-pane-container",
class:"ib-item-pane__container",key:b.id+"-container"},a("div",{classes:k},a("div",{key:"item-details"},a("h4",{class:"ib-item-pane__title"},b.title,"\u00a0",a(x.a,{key:"view-full-item-details",title:d.viewFullDetails,handleClick:this.handleItemDetails,focusable:!0},a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},a("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),a("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),
a("span",{key:"item-owner",class:"ib-item-pane__owner-text"},a("img",{src:b.iconURI,class:"ib-item-pane__type-icon",title:b.displayName}),b.displayName," ",d.itemDetails.by,"\u00a0",a("a",{class:"ib-item-pane__owner-link",title:v?d.itemDetails.viewOrg:d.itemDetails.viewUser,target:"_blank",href:v?p.orgUrl:e.baseUrl+"/home/user.html?user\x3d"+b.owner},v?p.name:b.owner)),a("span",{key:"modified-date",class:"ib-item-pane__modified"},d.itemDetails.lastModified,": "+A.format(h,{selector:"date",formatLength:"long"})),
a("div",{class:"ib-item-pane__badges"},this.renderBadges(b,a)),a("div",{class:"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),a("span",{key:"snippet",class:"ib-item-pane__snippet"},b.snippet?b.snippet:d.itemDetails.noSnippet),a("h5",{class:"ib-item-pane__details"},d.itemDetails.details),b.patchedDescription?a("span",{key:"item-description",innerHTML:b.patchedDescription,class:"ib-item-pane__description"}):a("span",{key:"item-no-description",class:"ib-item-pane__description"},
d.itemDetails.noDescription),a("h5",{class:"ib-item-pane__terms-of-use"},d.itemDetails.termsOfUse),b.licenseInfo?a("span",{key:"item-terms-of-use",innerHTML:b.licenseInfo,class:"ib-item-pane__license-info"}):a("span",{key:"item-no-terms-of-use",class:"ib-item-pane__license-info"},d.itemDetails.noTermsOfUse),a("h5",{class:"ib-item-pane__credits"},d.itemDetails.attribution),b.accessInformation?a("span",{key:"item-access-information",innerHTML:b.accessInformation,class:"ib-item-pane__attribution"}):
a("span",{key:"item-no-access-information",class:"ib-item-pane__attribution"},d.itemDetails.noAttribution),v?a("p",null,a("h5",{class:"ib-item-pane__pa-owner"},d.sortOptions.owner),a("div",{class:"ib-item-pane__pa-org"},a("img",{src:p.thumbURI,alt:p.name,class:"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),p.name),a("div",{class:"ib-item-pane__pa-managed"},a("span",{class:"ib-item-pane__pa-managed-label"},d.itemDetails.managedBy),a("div",
{class:"ib-item-pane__pa-manager"},c.thumbURI?a("img",{src:c.thumbURI,class:"ib-item-pane__pa-managed-thumb"}):a(l.a,{class:"ib-item-pane__pa-managed-thumb"}),b.owner))):null,a("span",{key:"num-views",class:"ib-item-pane__num-views"},a("strong",null,d.itemDetails.views),": "+b.numViews),a("span",{key:"created-date",class:"ib-item-pane__num-views"},a("strong",null,d.itemDetails.created),": "+A.format(n,{selector:"date",formatLength:"long"})),a(y.a,{baseUrl:e.baseUrl,item:b}))),f?a(m.a,{key:"item-pane-loading"}):
null)]},b.prototype.renderBadges=function(a,b){var c=this,d=this.props.stateTree.settings.utils.portal.user;return a.badges.map(function(e){switch(e){case "authoritative":return b(q.a,{altOrg:"public_authoritative"===a.contentStatus&&c.props.stateTree.results.allOrganizations[a.orgId]?c.props.stateTree.results.allOrganizations[a.orgId].name:void 0});case "deprecated":return b(r.a,null);case "collaboration":return b(n.a,null);case "livingAtlas":return b(p.a,null);case "marketplace":return b(u.a,null);
case "openData":return b(t.a,null);case "premium":return b(v.a,{user:d});case "subscriber":return b(z.a,{user:d})}return null})},b.prototype.handleItemDetails=function(){var a=Object(g.a)(this.props.stateTree),b=this.props.stateTree.ui.sidePanel.item;b&&window.open(a.baseUrl+"/home/item.html?id\x3d"+b.id,"_blank")},b.prototype.formatSize=function(a,b){return a?1024>=a?["1 ",b("small",{key:"1kb-size"},"KB")]:1048576>a?[h.format(Math.round(a/1024))+" ",b("small",{key:"1kb-size"},"KB")]:[h.format(Math.round(a/
1048576))+" ",b("small",{key:"1kb-size"},"MB")]:["0 ",b("small",{key:"0kb-size"},"KB")]},b.prototype.handleFavorites=function(){var a=this.props.stateTree.ui.sidePanel.item,b=this.props.stateTree.results.user.favorites;a&&b&&b[a.id]?this.props.removeFromFavorites(a):a&&b&&!b[a.id]&&this.props.addToFavorites(a)},b}(c.Component);b.a=Object(c.connect)(function(a){return{stateTree:a}},function(a){return{addToFavorites:function(b){a(Object(k.k)(b))},removeFromFavorites:function(b){a(Object(k.m)(b))}}})(a)},
function(c,b){c.exports=ra},function(c,b){c.exports=sa},function(c,b){c.exports=ta},function(c,b){c.exports=ua},function(c,b){c.exports=va},function(c,b){c.exports=wa},function(c,b){c.exports=xa},function(c,b){c.exports=ya},function(c,b,a){var f=a(3);b.a=function(a,b){var c=a.favorites;if(!c)return null;c=!!c[a.item.id];return b("button",{onclick:a.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,"ib-item-pane__favorites-btn--active":c}},b("span",{class:"screen-readers-only"},c?f.itemDetails.isFavorite:
f.itemDetails.notFavorite),b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},b("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),c?f.itemDetails.removeFromFavorites:f.itemDetails.addToFavorites)}},function(c,b,a){var f=a(3);b.a=function(a,b){var c=a.item,d=a.baseUrl;a=f.itemDetails.shared[c.access];if(c.sharedToGroups&&0<c.sharedToGroups.length){var e=c.sharedToGroups.map(function(a){return b("a",
{class:"ib-item-pane__group-link",href:d+"/home/group.html?owner\x3d"+a.owner+"\x26title\x3d"+a.title,key:a.id,target:"_blank"},a.title)}).reduce(function(a,b,c){return a[c-1]&&a.push(", "),a.push(b),a},[]);a="public"===c.access||"org"===c.access?[a+", ",e]:e}else if("shared"===c.access&&(!c.sharedToGroups||0===c.sharedToGroups.length))return null;return b("span",{key:"shared-with",class:"ib-item-pane__shared"},b("strong",null,f.itemDetails.sharedWith),": ",a)}},function(c,b,a){function f(a){a.focus()}
c=a(38);var d=a.n(c),h=a(268);b.a=function(a,b){var c=a.key,g=a.containerClasses,k=a.contentClasses,q=a.handleClose,n=a.i18n,r=a.title,p=a.children,u=null;return"item"===a.type&&(u=b(h.a,{key:"item-details-footer"})),b("div",{key:"details-pane",classes:g,"aria-expanded":"true"},b("div",{key:"content-container",classes:k},b("header",{class:"ib-side-body__header"},b("span",{class:"ib-side-body__title"},r),b("div",{class:"ib-side-body__btn-container"},b(d.a,{afterCreate:f,focusable:!0,handleClick:q,
key:"side-panel-close-btn",title:n.close},b("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},b("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),b("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),b("section",{key:c,class:"ib-side-body__content"},p),u))}},function(c,b,a){var f=a(0);c=a(1);var d=a(35),h=a(98);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleAddBtnClick=b.handleAddBtnClick.bind(b),
b.handleCustomActionClick=b.handleCustomActionClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,c=this.props.stateTree.ui.sidePanel.item,d=c&&!!this.props.stateTree.results.selectedItems[c.id],e={"ib-item-pane__btn--disabled":c&&!!this.props.stateTree.results.loadingItems[c.id]},g=f.a({},e,{"ib-item-pane__btn--active":d}),h=this.props.stateTree.settings.config.customActions.filter(function(a){return a.allowed(c||{})});return a("footer",{class:"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?
null:a("button",{key:"select-btn",class:"ib-item-pane__select-btn",classes:g,onclick:this.handleAddBtnClick},d?this.props.stateTree.settings.config.mainInverseActionTitle:this.props.stateTree.settings.config.mainActionTitle),h.map(function(c){return a("button",{key:"usage",class:"ib-item-pane__btn",classes:e,value:c.name,onclick:b.handleCustomActionClick},c.name)}))},b.prototype.handleAddBtnClick=function(){var a=this.props.stateTree.ui.sidePanel.item;a&&(this.props.stateTree.results.selectedItems[a.id]?
this.props.deselectItem(a):this.props.selectItem(a))},b.prototype.handleCustomActionClick=function(a){var b=this.props.stateTree.ui.sidePanel.item;b&&this.props.customAction(a.target.value,b)},b}(c.Component);b.a=Object(c.connect)(function(a){return{stateTree:a}},function(a){return{deselectItem:function(b){a(Object(d.i)(b))},selectItem:function(b){a(Object(d.j)(b))},customAction:function(b,c){a(Object(h.c)(b,c))}}})(a)},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(270),k=a(38),g=a.n(k);a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){var b=a("div",{class:"ib-header__spacer"});this.props.showBackBtn&&(b=a(g.a,{handleClick:this.props.onBack,key:"main-back-btn",title:d.back,focusable:!0},a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},a("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var c=a("div",{class:"ib-header__spacer"});return this.props.showCloseBtn&&
(c=a(g.a,{key:"main-close-btn",title:d.close,focusable:!0,handleClick:this.props.onBack},a("svg",{width:"16",height:"16",viewBox:"0 0 32 32"},a("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),a("div",{classes:{ib__header:!0},key:"header"},a("div",{key:"section-title-container",class:"ib-header__search-section"},b,a(h.a,{key:"section-dropdown"}),c))},b}(c.Component);b.a=Object(c.connect)(function(a){return{showBackBtn:a.settings.config.showBackBtn,
showCloseBtn:a.settings.config.showCloseBtn,onBack:function(){a.settings.config.onBack()}}},function(){return{}})(a)},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(77),k=a(6),g=a(112),e=a.n(g),g=a(38),m=a.n(g);a=function(a){function b(b){b=a.call(this,b)||this;var c=(b.props.portal.user?b.props.baseSections:b.props.baseSections.filter(function(a){return"livingAtlas"===a||"all"===a})).map(function(a){return{value:a,text:d.header.sectionTitles[a]}});return b.props.customSections.forEach(function(a){var b=
{value:a.name,text:a.name};a.addToFront?c.splice(0,0,b):c.push(b)}),b.state={options:c},b.handleOptionSelect=b.handleOptionSelect.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.section,c=d.header.sectionTitles[b];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?a("h3",{id:"ib-dialog-title",class:"ib-header__dialog-title"},this.props.dialogTitle):a(e.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},
a("h3",{key:"search-"+b+"-dropdown",id:"section-dropdown-toggle",class:"ib-section-dropdown__toggle"},c||b,"\u00a0",a(m.a,{key:"section-dropdown-button"},a("svg",{width:"12",height:"12",viewBox:"0 0 16 16"},a("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"})))))},b.prototype.handleOptionSelect=function(a){this.props.changeSearchSection(a);this.props.search(!0)},b}(c.Component);b.a=Object(c.connect)(function(a){return{baseSections:a.settings.config.baseSections,customSections:a.settings.config.customSections,
portal:a.settings.utils.portal,replaceSectionDropdownWithTitle:a.settings.config.replaceSectionDropdownWithTitle,dialogTitle:a.settings.config.dialogTitle,section:a.parameters.section}},function(a){return{changeSearchSection:function(b){a(Object(h.b)(b))},search:function(b){a(Object(k.i)(b))}}})(a)},function(c,b,a){var f=a(0),d=a(3),h=a(86);c=a(1);var k=a(89),g=a.n(k),e=a(132),m=a(6),l=a(117),q=a(115),n=a(81),r=a(130),p=a(131);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleSearchChange=
b.handleSearchChange.bind(b),b.handleSearchKeyDown=b.handleSearchKeyDown.bind(b),b.handleListClick=b.handleListClick.bind(b),b.handleTableClick=b.handleTableClick.bind(b),b.handleSortClick=b.handleSortClick.bind(b),b.handleFilterClick=b.handleFilterClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b;b="function"==typeof this.props.replacementItemName?this.props.replacementItemName(this.props.nextTotal):h.format(this.props.nextTotal)+" "+(this.props.replacementItemName?this.props.replacementItemName:
d.resultCount);var c=d.header.sectionTitles[this.props.section],c=this.props.placeholderText?this.props.placeholderText:d.search+" "+(c||this.props.section),f={"ib-input-area__result-bar-container":!0,"ib-input-area__result-bar-container--solo":"subscription"===this.props.section};return a("div",null,a("div",{key:"search-input-area",class:"ib__input-area"},"subscription"!==this.props.section?a("div",{key:"search-bar-container",class:"ib-input-area__search-bar"},a("input",{id:"item-browser-search-input",
class:"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:c,"aria-label":c,value:this.props.searchString})):null,a("div",{classes:f},a("span",{class:"ib-input-area__result-count"},b),a("div",{class:"ib-input-area__icon-button-container"},a(g.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:d.compactView},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none",
"stroke-width":"1"},a("g",null,a("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),a(g.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,key:"list-button",title:d.listView},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",null,a("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),"subscription"!==this.props.section?
[a("div",{key:"spacer",class:"ib-input-area__spacer"}),a(g.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?d.close:d.filterPane.filter},a("svg",{viewBox:"0 0 16 16",width:"16px",height:"16px"},a("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"}))),a(g.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,key:"sort-button",title:"sort"===
this.props.sidePanelType?d.close:d.sortOptions.sort},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",{id:"sort-1px-16"},a("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))]:null))),a(e.a,{key:"active-filters",theme:"dark"}))},b.prototype.handleSearchChange=function(a){this.props.changeSearchString(a.target.value);""===a.target.value&&""!==this.props.previousSearchString&&
this.props.search(!0)},b.prototype.handleSearchKeyDown=function(a){"Enter"===a.key&&this.props.search(!0)},b.prototype.handleTableClick=function(a){a.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},b.prototype.handleListClick=function(a){a.preventDefault();"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},b.prototype.handleFilterClick=function(a){a.preventDefault();"filter"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewFilters()},
b.prototype.handleSortClick=function(a){a.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},b}(c.Component);b.a=Object(c.connect)(function(a){return{nextTotal:a.parameters.nextQuery.total,placeholderText:a.settings.config.searchPlaceholderText,previousSearchString:a.parameters.searchString.previous,replacementItemName:a.settings.config.itemName,resultPanelType:a.ui.resultPanel.display,searchString:a.parameters.searchString.current,sidePanelType:a.ui.sidePanel.type,
section:a.parameters.section}},function(a){return{search:function(b){a(Object(m.i)(b))},changeResultDisplay:function(){a({type:l.a})},changeSearchString:function(b){a(Object(q.b)(b))},closeDetailsPane:function(){a(Object(n.c)())},viewFilters:function(){a(Object(r.b)())},viewSort:function(){a(Object(p.b)())}}})(a)},function(c,b,a){var f=a(0),d=a(3);c=a(1);var h=a(6),k=a(273),g=a(274),e=a(48),m=a.n(e);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleScroll=b.handleScroll.bind(b),b.handleCreate=
b.handleCreate.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.resultPanelStatus;return"success"===b||"loadingNext"===b?a(k.a,{key:"item-list-"+this.props.resultPanelDisplayType,i18n:d,showSubmitButton:this.props.showSubmitButton,results:this.props.displayItems,loadingNext:"loadingNext"===this.props.resultPanelStatus,handleScroll:this.handleScroll,handleCreate:this.handleCreate},a(g.a,{key:"result-items"})):"loading"===b?a("div",{key:"loading-items",class:"ib__results"},
a(m.a,{key:"item-loader",text:d.results.loadingItems})):"empty"===b?a("div",{key:"empty-state",class:"ib__results"},a("div",{class:"ib-results__message-container"},a("span",{class:"ib-results__message"},d.results.empty))):this.props.tooManyGroups?a("div",{key:"too-many-groups",class:"ib__results"},a("div",{class:"ib-results__message-container"},a("span",{class:"ib-results__message"},d.results.tooManyGroups))):a("div",{key:"request-error",class:"ib__results"},a("div",{class:"ib-results__message-container"},
a("span",{class:"ib-results__message"},d.results.requestError)))},b.prototype.handleScroll=function(a){.99<=(a.target.scrollTop+a.target.offsetHeight)/a.target.scrollHeight&&"loadingNext"!==this.props.resultPanelStatus&&-1!==this.props.nextStart&&this.props.loadMoreContent()},b.prototype.handleCreate=function(a){var b=this;setTimeout(function(){a.scrollHeight<=a.clientHeight&&"loadingNext"!==b.props.resultPanelStatus&&-1!==b.props.nextStart&&b.props.loadMoreContent(50)},10)},b}(c.Component);b.a=Object(c.connect)(function(a){return{displayItems:a.results.displayItems,
nextStart:a.parameters.nextQuery.nextStart,showSubmitButton:a.settings.config.showSubmitButton,resultPanelDisplayType:a.ui.resultPanel.display,resultPanelStatus:a.ui.resultPanel.status,tooManyGroups:"myGroups"===a.parameters.section&&!!a.results.user.groups&&175<a.results.user.groups.length&&!a.parameters.filter.group}},function(a){return{loadMoreContent:function(b){a(Object(h.h)(b))}}})(a)},function(c,b,a){c=a(48);var f=a.n(c);b.a=function(a,b){var c=a.key,d=a.i18n,e=a.loadingNext,h=a.handleScroll,
l=a.handleCreate,q=a.children;return 0<a.results.length?b("div",{key:c,class:"ib-results__item-list",onscroll:h,afterCreate:l},q,e?b("div",{class:"ib-results__load-container"},b(f.a,{key:"more-items-loader"})):null):b("div",{key:"no-items-found",class:"ib-results__item-list ib-results__item-list--none"},b("span",{style:"font-size: 0.9375rem;"},d.results.noItemsFound))}},function(c,b,a){var f=a(0);c=a(1);var d=a(28),h=a(81),k=a(116),g=a(35),e=a(98),m=a(275),l=a.n(m),m=a(276),q=a.n(m);a=function(a){function b(b){b=
a.call(this,b)||this;return b.handleShowItemDetails=b.handleShowItemDetails.bind(b),b.handleSelectionClick=b.handleSelectionClick.bind(b),b.handleCustomActionClick=b.handleCustomActionClick.bind(b),b.startResizePoll=b.startResizePoll.bind(b),b.resizePoll=b.resizePoll.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.stateTree.results;if(0<b.displayItems.length)return a("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(b.displayItems,
a))},b.prototype.mapItemsToChildren=function(a,b){var c=this;return a.map(function(a){var e=Object(d.a)(c.props.stateTree);return"list"===c.props.stateTree.ui.resultPanel.display?b(l.a,{constrained:c.state.constrained,key:a.id+"-card",item:a,loadingItems:c.props.stateTree.results.loadingItems,selectedItems:c.props.stateTree.results.selectedItems,activeItem:c.props.stateTree.ui.sidePanel.item,portal:e,onShowItemDetails:c.handleShowItemDetails,onSelectionClick:c.handleSelectionClick,customActions:c.props.stateTree.settings.config.customActions,
onCustomActionClick:c.handleCustomActionClick,disableMainAction:c.props.stateTree.settings.config.disableMainAction,sortField:c.props.stateTree.parameters.sort.field,hideEllipses:c.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===a.contentStatus&&c.props.stateTree.results.allOrganizations[a.orgId]?c.props.stateTree.results.allOrganizations[a.orgId]:void 0}):b(q.a,{key:a.id+"-cardrow",item:a,loadingItems:c.props.stateTree.results.loadingItems,selectedItems:c.props.stateTree.results.selectedItems,
activeItem:c.props.stateTree.ui.sidePanel.item,portal:e,onShowItemDetails:c.handleShowItemDetails,onSelectionClick:c.handleSelectionClick,customActions:c.props.stateTree.settings.config.customActions,onCustomActionClick:c.handleCustomActionClick,disableMainAction:c.props.stateTree.settings.config.disableMainAction,sortField:c.props.stateTree.parameters.sort.field,hideEllipses:c.props.stateTree.settings.config.hideEllipses})})},b.prototype.handleShowItemDetails=function(a){var b=this.props.stateTree.ui.sidePanel;
b.item&&b.item.id===a.id?this.props.closeDetailsPane():this.props.viewItemDetails(a)},b.prototype.handleSelectionClick=function(a){this.props.stateTree.results.selectedItems[a.id]?this.props.deselectItem(a):this.props.selectItem(a)},b.prototype.handleCustomActionClick=function(a,b){this.props.customAction(a,b)},b.prototype.startResizePoll=function(a){this.resizePoll(a)},b.prototype.resizePoll=function(a){var b=this;a&&0<a.clientWidth&&(300>a.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):
300<a.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),setTimeout(function(){b.resizePoll(a)},250))},b}(c.Component);b.a=Object(c.connect)(function(a){return{stateTree:a}},function(a){return{closeDetailsPane:function(){a(Object(h.c)())},viewItemDetails:function(b){a(Object(k.b)(b))},deselectItem:function(b){a(Object(g.i)(b))},selectItem:function(b){a(Object(g.j)(b))},customAction:function(b,c){a(Object(e.c)(b,c))}}})(a)},function(c,b){c.exports=za},function(c,b){c.exports=Aa},
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(c,b,a){a.r(b);var f=a(0);c=a(1);var d=a(126);a.d(b,"defaultConfig",function(){return d.a});a.d(b,"reducers",function(){return d.c});a.d(b,"initialState",function(){return d.b});var h=a(8);a.d(b,"SELECT_ITEM_SINGLE",function(){return h.f});a.d(b,"SELECT_ITEM",function(){return h.c});a.d(b,"DESELECT_ITEM",function(){return h.b});a.d(b,"SELECT_ITEM_ASYNC",function(){return h.d});
a.d(b,"SELECT_ITEM_ASYNC_FAILED",function(){return h.e});a.d(b,"search",function(){return h.h});a.d(b,"updateExtent",function(){return h.i});a.d(b,"viewItemDetails",function(){return h.j});a.d(b,"changeSearchSection",function(){return h.g});var k=a(269),g=a(271),e=a(272),m=a(253),l=a(202);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){var b=this.props.layoutMode,c={ib__container:!0,"ib__container--expanded":"fullscreen"===b,
"ib__container--adjustable":this.props.expanded&&"adjustable"===b};return"fullscreen"===b?a(l.a,{key:"big-browser",containerClasses:c}):"adjustable"===b?a("div",null,a(l.a,{key:"big-browser",containerClasses:c}),a("div",{class:"ib__container--underlay"})):a("div",{id:"item-browser-container",classes:c},a(m.a,{key:"side-panel",closing:this.props.sidePanelClosing}),a(k.a,{key:"header"}),a(g.a,{key:"input-area"}),a(e.a,{key:"result-panel"}))},b}(c.Component);b.default=Object(c.connect)(function(a){return{layoutMode:a.settings.config.layoutMode,
expanded:a.ui.expanded.maximized,sidePanelClosing:a.ui.sidePanel.closing}},function(){return{}})(a)}])});