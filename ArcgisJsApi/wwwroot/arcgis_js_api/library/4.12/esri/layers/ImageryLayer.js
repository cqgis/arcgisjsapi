// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../PopupTemplate ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ./Layer ./mixins/ArcGISImageService ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/commonProperties ../support/popupUtils".split(" "),function(e,
A,k,d,l,m,n,p,q,f,c,r,t,u,v,w,x,y,g,z){return function(h){function a(b,a){b=h.call(this)||this;b.drawMode=!0;b.drawType="2d";b.legendEnabled=!0;b.isReference=null;b.operationalLayerType="ArcGISImageServiceLayer";b.popupEnabled=!0;b.popupTemplate=null;b.type="imagery";return b}k(a,h);a.prototype.normalizeCtorArgs=function(b,a){return"string"===typeof b?l({url:b},a):b};a.prototype.load=function(a){var b=this,c=q.isSome(a)?a.signal:null;this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},
a).then(function(){return b._fetchService(c)},function(){return b._fetchService(c)}));return this.when()};Object.defineProperty(a.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!0,configurable:!0});a.prototype.createPopupTemplate=function(a){return z.createPopupTemplate(this,a)};a.prototype.redraw=function(){this.emit("redraw")};a.prototype.importLayerViewModule=function(a){return n(this,void 0,void 0,function(){return m(this,function(b){switch(a.type){case "2d":return[2,
f.create(function(a){return e(["../views/2d/layers/ImageryLayerView2D"],a)})];case "3d":return[2,f.create(function(a){return e(["../views/3d/layers/ImageryLayerView3D"],a)})]}return[2]})})};d([c.property()],a.prototype,"drawMode",void 0);d([c.property()],a.prototype,"drawType",void 0);d([c.property(g.legendEnabled)],a.prototype,"legendEnabled",void 0);d([c.property({type:["show","hide"]})],a.prototype,"listMode",void 0);d([c.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],
a.prototype,"isReference",void 0);d([c.property({type:["ArcGISImageServiceLayer"]})],a.prototype,"operationalLayerType",void 0);d([c.property(g.popupEnabled)],a.prototype,"popupEnabled",void 0);d([c.property({type:p,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],a.prototype,"popupTemplate",void 0);d([c.property({readOnly:!0,dependsOn:["fields","title"]})],a.prototype,"defaultPopupTemplate",null);d([c.property({readOnly:!0,json:{read:!1}})],a.prototype,"type",void 0);return a=d([c.subclass("esri.layers.ImageryLayer")],
a)}(c.declared(r,t,u,v,w,x,y))});