// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
(function(l,a){var k,m=function(){return"undefined"!==typeof z&&"function"!==typeof z?z:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),h=function(){},g=function(b){for(var c in b)return 0;return 1},f={}.toString,e=function(b){return"[object Function]"==f.call(b)},d=function(b){return"[object String]"==f.call(b)},b=function(b){return"[object Array]"==f.call(b)},c=function(b,c){if(b)for(var d=0;d<b.length;)c(b[d++])},n=function(b,c){for(var d in c)b[d]=c[d];return b},v=function(b,
c){return n(Error(b),{src:"dojoLoader",info:c})},x=1,u=function(){return"_"+x++},t=function(b,c,d){return na(b,c,d,0,t)},z=m,C=z.document,B=C&&C.createElement("DiV"),r=t.has=function(b){return e(D[b])?D[b]=D[b](z,C,B):D[b]},D=r.cache=a.hasCache;e(l)&&(l=l(m));r.add=function(b,c,d,a){(void 0===D[b]||a)&&(D[b]=c);return d&&r(b)};r.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);r("host-webworker")&&(n(a.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),a.loaderPatch={injectUrl:function(b,c){try{importScripts(b),c()}catch(Ia){console.info("failed to load resource ("+b+")"),console.error(Ia)}}});for(var y in l.has)r.add(y,l.has[y],0,1);t.async=1;var A=r("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(b,c){return A(b+"\r\n//# sourceURL\x3d"+c)};var E={},I=t.signal=function(d,a){d=E[d];c(d&&d.slice(0),function(c){c.apply(null,
b(a)?a:[a])})};y=t.on=function(b,c){var d=E[b]||(E[b]=[]);d.push(c);return{remove:function(){for(var b=0;b<d.length;b++)if(d[b]===c){d.splice(b,1);break}}}};var H=[],L={},J=[],G={},Q=t.map={},K=[],F={},N="",R={},P={},m={},T=0;if(!r("foreign-loader"))var S=function(b,c){c=!1!==c;var d,a,e,n;for(d in P)a=P[d],(e=d.match(/^url\:(.+)/))?R["url:"+sa(e[1],b)]=a:"*now"==d?n=a:"*noref"!=d&&(e=Z(d,b,!0),R[e.mid]=R["url:"+e.url]=a);n&&n(pa(b));c&&(P={})};var V=function(b){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(b){return"\\"+b})},ia=function(b,c){c.splice(0,c.length);for(var d in b)c.push([d,b[d],new RegExp("^"+V(d)+"(/|$)"),d.length]);c.sort(function(b,c){return c[3]-b[3]});return c},ca=function(b,a){c(b,function(b){a.push([d(b[0])?new RegExp("^"+V(b[0])+"$"):b[0],b[1]])})},da=function(b){var c=b.name;c||(c=b,b={name:c});b=n({main:"main"},b);b.location=b.location?b.location:c;b.packageMap&&(Q[c]=b.packageMap);b.main.indexOf("./")||(b.main=b.main.substring(2));G[c]=b},aa=[],ba=function(b,a,e){for(var f in b){"waitSeconds"==
f&&(t.waitms=1E3*(b[f]||0));"cacheBust"==f&&(N=b[f]?d(b[f])?b[f]:(new Date).getTime()+"":"");if("baseUrl"==f||"combo"==f)t[f]=b[f];b[f]!==D&&(t.rawConfig[f]=b[f],"has"!=f&&r.add("config-"+f,b[f],0,a))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(f in b.has)r.add(f,b.has[f],0,a);c(b.packages,da);for(var u in b.packagePaths)c(b.packagePaths[u],function(b){var c=u+"/"+b;d(b)&&(b={name:b});b.location=c;da(b)});ia(n(Q,b.map),K);c(K,function(b){b[1]=ia(b[1],[]);"*"==b[0]&&(K.star=
b)});ia(n(L,b.paths),J);ca(b.aliases,H);if(!r("foreign-loader")){if(a)aa.push({config:b.config});else for(f in b.config)a=oa(f,e),a.config=n(a.config||{},b.config[f]);b.cache&&(S(),P=b.cache,S(0,!!b.cache["*noref"]))}I("config",[b,t.rawConfig])};if(r("dojo-cdn")){var ga=C.getElementsByTagName("script");k=0;for(var U,ea,W,Y;k<ga.length;)if(U=ga[k++],(W=U.getAttribute("src"))&&(Y=W.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ea=Y[3]||"",a.baseUrl=a.baseUrl||ea,T=U),W=U.getAttribute("data-dojo-config")||
U.getAttribute("djConfig"))m=t.eval("({ "+W+" })","data-dojo-config"),T=U}t.rawConfig={};ba(a,1);r("dojo-cdn")&&((G.dojo.location=ea)&&(ea+="/"),G.dijit.location=ea+"../dijit/",G.dojox.location=ea+"../dojox/");ba(l,1);ba(m,1);if(!r("foreign-loader"))var ka=function(b){Ea(function(){c(b.deps,Ja)})},na=function(c,a,e,f,x){var g;if(d(c)){if((g=oa(c,f,!0))&&g.executed)return g.result;throw v("undefinedModule",c);}b(c)||(ba(c,0,f),c=a,a=e);if(b(c))if(c.length){e="require*"+u();for(var r,y=[],k=0;k<c.length;)r=
c[k++],y.push(oa(r,f));g=n(qa("",e,0,""),{injected:2,deps:y,def:a||h,require:f?f.require:t,gc:1});F[g.mid]=g;ka(g);var m=za&&!0;Ea(function(){Fa(g,m)});g.executed||fa.push(g);Ga()}else a&&a();return x},pa=function(b){if(!b)return t;var c=b.require;c||(c=function(d,a,e){return na(d,a,e,b,c)},b.require=n(c,t),c.module=b,c.toUrl=function(c){return sa(c,b)},c.toAbsMid=function(c){return ra(c,b)});return c},fa=[],la=[],ja={},ha=function(b){b.injected=1;ja[b.mid]=1;b.url&&(ja[b.url]=b.pack||1);Oa()},M=
function(b){b.injected=2;delete ja[b.mid];b.url&&delete ja[b.url];g(ja)&&Pa()},X=t.idle=function(){return!la.length&&g(ja)&&!fa.length&&!za};var p=function(b,c){if(c)for(var d=0;d<c.length;d++)if(c[d][2].test(b))return c[d];return 0},ma=function(b){var c=[],d,a;for(b=b.replace(/\\/g,"/").split("/");b.length;)d=b.shift(),".."==d&&c.length&&".."!=a?(c.pop(),a=c[c.length-1]):"."!=d&&c.push(a=d);return c.join("/")},qa=function(b,c,d,a){return{pid:b,mid:c,pack:d,url:a,executed:0,def:0}},q=function(b,d,
a,n,f,t,u,x,g,r){var y,h,k,m;m=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||m&&!d)return qa(0,b,0,b);b=ma(m?d.mid+"/../"+b:b);if(/^\./.test(b))throw v("irrationalPath",b);r||m||!t.star||(k=p(b,t.star[1]));!k&&d&&(k=(k=p(d.mid,t))&&p(b,k[1]));k&&(b=k[1]+b.substring(k[3]));d=(Y=b.match(/^([^\/]+)(\/(.+))?$/))?Y[1]:"";(y=a[d])?b=d+"/"+(h=Y[3]||y.main):d="";var z=0;c(x,function(c){var d=b.match(c[0]);d&&0<d.length&&(z=e(c[1])?b.replace(c[0],c[1]):c[1])});if(z)return q(z,0,a,n,f,t,u,x,g);if(a=n[b])return g?
qa(a.pid,a.mid,a.pack,a.url):n[b];n=(k=p(b,u))?k[1]+b.substring(k[3]):d?("/"===y.location.slice(-1)?y.location.slice(0,-1):y.location)+"/"+h:b;/(^\/)|(\:)/.test(n)||(n=f+n);return qa(d,b,y,ma(n+".js"))},Z=function(b,c,d){return q(b,c,G,F,t.baseUrl,K,J,H,void 0,d)};if(!r("foreign-loader"))var O=function(b,c,d){return b.normalize?b.normalize(c,function(b){return ra(b,d)}):ra(c,d)},w=0,oa=function(b,c,d){var a,e;(a=b.match(/^(.+?)\!(.*)$/))?(e=oa(a[1],c,d),5!==e.executed||e.load||ta(e),e.load?(a=O(e,
a[2],c),b=e.mid+"!"+(e.dynamic?++w+"!":"")+a):(a=a[2],b=e.mid+"!"+ ++w+"!waitingForPlugin"),b={plugin:e,mid:b,req:pa(c),prid:a}):b=Z(b,c);return F[b.mid]||!d&&(F[b.mid]=b)};var ra=t.toAbsMid=function(b,c){return Z(b,c).mid},sa=t.toUrl=function(b,c){c=Z(b+"/x",c);var d=c.url;return Ka(0===c.pid?b:d.substring(0,d.length-5))};if(!r("foreign-loader")){var ua={injected:2,executed:5,def:3,result:3};ea=function(b){return F[b]=n({mid:b},ua)};var Aa=ea("require"),wa=ea("exports"),Ba=ea("module"),va={},xa=
0,ta=function(b){var c=b.result;b.dynamic=c.dynamic;b.normalize=c.normalize;b.load=c.load;return b},Ca=function(b){var d={};c(b.loadQ,function(c){var a=O(b,c.prid,c.req.module),e=b.dynamic?c.mid.replace(/waitingForPlugin$/,a):b.mid+"!"+a,a=n(n({},c),{mid:e,prid:a,injected:0});F[e]&&F[e].injected||La(F[e]=a);d[c.mid]=F[e];M(c);delete F[c.mid]});b.loadQ=0;var a=function(b){for(var c=b.deps||[],a=0;a<c.length;a++)(b=d[c[a].mid])&&(c[a]=b)},e;for(e in F)a(F[e]);c(fa,a)},ya=function(b){t.trace("loader-finish-exec",
[b.mid]);b.executed=5;b.defOrder=xa++;b.loadQ&&(ta(b),Ca(b));for(k=0;k<fa.length;)fa[k]===b?fa.splice(k,1):k++;/^require\*/.test(b.mid)&&delete F[b.mid]},Qa=[],Fa=function(b,c){if(4===b.executed)return t.trace("loader-circular-dependency",[Qa.concat(b.mid).join("-\x3e")]),!b.def||c?va:b.cjs&&b.cjs.exports;if(!b.executed){if(!b.def)return va;var d=b.mid,a=b.deps||[],n,f=[],u=0;for(b.executed=4;n=a[u++];){n=n===Aa?pa(b):n===wa?b.cjs.exports:n===Ba?b.cjs:Fa(n,c);if(n===va)return b.executed=0,t.trace("loader-exec-module",
["abort",d]),va;f.push(n)}t.trace("loader-run-factory",[b.mid]);c=b.def;f=e(c)?c.apply(null,f):c;b.result=void 0===f&&b.cjs?b.cjs.exports:f;ya(b)}return b.result},za=0,Ea=function(b){try{za++,b()}catch(Na){throw Na;}finally{za--}X()&&I("idle",[])},Ga=function(){za||Ea(function(){for(var b,c,d=0;d<fa.length;)b=xa,c=fa[d],Fa(c),b!=xa?d=0:d++})}}var Ka="function"==typeof l.fixupUrl?l.fixupUrl:function(b){b+="";return b+(N?(/\?/.test(b)?"\x26":"?")+N:"")};void 0===r("dojo-loader-eval-hint-url")&&r.add("dojo-loader-eval-hint-url",
1);var La=function(b){var c=b.plugin;5!==c.executed||c.load||ta(c);var d=function(c){b.result=c;M(b);ya(b);Ga()};c.load?c.load(b.prid,b.req,d):c.loadQ?c.loadQ.push(b):(c.loadQ=[b],fa.unshift(c),Ja(c))},Da=0,Ra=function(b,c){r("config-stripStrict")&&(b=b.replace(/(["'])use strict\1/g,""));b===Da?Da.call(null):t.eval(b,r("dojo-loader-eval-hint-url")?c.url:c.mid)},Ja=function(b){var c=b.mid,d=b.url;if(!(b.executed||b.injected||ja[c]||b.url&&(b.pack&&ja[b.url]===b.pack||1==ja[b.url])))if(ha(b),b.plugin)La(b);
else{var a=function(){Sa(b);if(2!==b.injected){if(r("dojo-enforceDefine")){I("error",v("noDefine",b));return}M(b);n(b,ua);t.trace("loader-define-nonmodule",[b.url])}Ga()};(Da=R[c]||R["url:"+b.url])?(t.trace("loader-inject",["cache",b.mid,d]),Ra(Da,b),a()):(t.trace("loader-inject",["script",b.mid,d]),t.injectUrl(Ka(d),a,b))}},Ma=function(b,c,d){t.trace("loader-define-module",[b.mid,c]);if(2===b.injected)return I("error",v("multipleDefine",b)),b;n(b,{deps:c,def:d,cjs:{id:b.mid,uri:b.url,exports:b.result=
{},setExports:function(c){b.cjs.exports=c},config:function(){return b.config}}});for(var a=0;c[a];a++)c[a]=oa(c[a],b);M(b);e(d)||c.length||(b.result=d,ya(b));return b},Sa=function(b,d){for(var a=[],e,n;la.length;)n=la.shift(),d&&(n[0]=d.shift()),e=n[0]&&oa(n[0])||b,a.push([e,n[1],n[2]]);S(b);c(a,function(b){ka(Ma.apply(null,b))})},Pa=h,Oa=h;r("dom");if(r("dom")){var Ha=function(b,c,d,a){b.addEventListener(c,a,!1);return function(){b.removeEventListener(c,a,!1)}},Ta=Ha(window,"load","onload",function(){t.pageLoaded=
1;try{"complete"!=C.readyState&&(C.readyState="complete")}catch(Ua){}Ta()}),ga=C.getElementsByTagName("script");for(k=0;!T;)/^dojo/.test((U=ga[k++])&&U.type)||(T=U);t.injectUrl=function(b,c,d){d=d.node=C.createElement("script");var a=Ha(d,"load","onreadystatechange",function(b){b=b||window.event;var d=b.target||b.srcElement;if("load"===b.type||/complete|loaded/.test(d.readyState))a(),e(),c&&c()}),e=Ha(d,"error","onerror",function(c){a();e();I("error",v("scriptError: "+b,[b,c]))});d.type="text/javascript";
d.charset="utf-8";d.src=b;T.parentNode.insertBefore(d,T);return d}}t.log=h;t.trace=h;r("foreign-loader")?U=h:(U=function(b,c,a){var n=arguments.length,f=["require","exports","module"],u=[0,b,c];1==n?u=[0,e(b)?f:[],b]:2==n&&d(b)?u=[b,e(c)?f:[],c]:3==n&&(u=[b,c,a]);t.trace("loader-define",u.slice(0,2));(n=u[0]&&oa(u[0]))&&!ja[n.mid]?ka(Ma(n,u[1],u[2])):la.push(u)},U.amd={vendor:"dojotoolkit.org"});n(n(t,a.loaderPatch),l.loaderPatch);y("error",function(b){try{if(console.error(b),b instanceof Error){for(var c in b)console.log(c+
":",b[c]);console.log(".")}}catch(Ia){}});n(t,{uid:u,cache:R,packs:G});z.define||(z.define=U,z.require=t,r("foreign-loader")||(c(aa,function(b){ba(b)}),U=m.deps||l.deps||a.deps,l=m.callback||l.callback||a.callback,t.boot=U||l?[U||[],l]:0))})(function(l){return l.dojoConfig||l.djConfig||l.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"https://[HOSTNAME_AND_PATH_TO_JSAPI]dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"esri-console-log-version":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",
name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette",main:"dist/maquette.umd",
name:"maquette"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(l){return l})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(l,a,k,m,h){var g=0,f=[],e=0;a=function(){g=1;l._postLoad=l.config.afterOnLoad=!0;d()};var d=function(){if(!e){for(e=1;g&&(!m||0==m._Q.length)&&
(k.idle?k.idle():1)&&f.length;){var b=f.shift();try{b()}catch(v){if(v.info=v.message,k.signal)k.signal("error",v);else throw v;}}e=0}};k.on&&k.on("idle",d);m&&(m._onQEmpty=d);var b=l.ready=l.addOnLoad=function(b,c,a){var e=h._toArray(arguments);"number"!=typeof b?(a=c,c=b,b=1E3):e.shift();a=a?h.hitch.apply(l,e):function(){c()};a.priority=b;for(e=0;e<f.length&&b>=f[e].priority;e++);f.splice(e,0,a);d()},c=l.config.addOnLoad;if(c)b[h.isArray(c)?"apply":"call"](l,c);m?m(a):a();return b})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(l,a,k,m,h){var g,f={},e={},d={config:k,global:l,dijit:f,dojox:e},f={dojo:["dojo",d],dijit:["dijit",f],dojox:["dojox",e]};h=m.map&&m.map[h.id.match(/[^\/]+/)[0]];for(g in h)f[g]?f[g][0]=h[g]:f[g]=[h[g],{}];for(g in f)h=f[g],h[1]._scopeName=h[0],k.noGlobals||(l[h[0]]=h[1]);d.scopeMap=f;d.baseUrl=d.config.baseUrl=m.baseUrl;d.isAsync=m.async;d.locale=k.locale;l="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);d.version={major:1,minor:14,patch:2,flag:"",revision:l?
l[0]:NaN,toString:function(){var b=d.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};a("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(d);d.exit=function(){};a("host-webworker");"undefined"!=typeof console||(console={});l="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var b;for(a=0;b=l[a++];)console[b]?console[b]=Function.prototype.bind.call(console[b],
console):function(){var c=b+"";console[c]="log"in console?function(){var b=Array.prototype.slice.call(arguments);b.unshift(c+":");console.log(b.join(" "))}:function(){};console[c]._fake=!0}();d.deprecated=d.experimental=function(){};d._hasResource={};return d})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
function(l,a,k){var m=a.has||function(){};if(!m("dojo-has-api")){var h=(a="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,g=h&&h.createElement("DiV"),f=k.config&&k.config()||{},m=function(a){return"function"==typeof f[a]?f[a]=f[a](l,h,g):f[a]};m.cache=f;m.add=function(a,d,b,c){("undefined"==typeof f[a]||c)&&(f[a]=d);return b&&m(a)};m.add("host-browser",a);m.add("dom",a)}m("host-browser")&&(m.add("touch",
"ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),m.add("touch-events","ontouchstart"in document),m.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),m.add("device-width",screen.availWidth||innerWidth),k=document.createElement("form"),m.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length));m.clearElement=function(a){a.innerHTML="";return a};
m.normalize=function(a,d){var b=a.match(/[\?:]|[^:\?]*/g),c=0,e=function(d){var a=b[c++];if(":"==a)return 0;if("?"==b[c++]){if(!d&&m(a))return e();e(!0);return e(d)}return a||0};return(a=e())&&d(a)};m.load=function(a,d,b){a?d([a],b):b()};return m})},"dojo/_base/config":function(){define(["../global","../has","require"],function(l,a,k){l={};k=k.rawConfig;for(var m in k)l[m]=k[m];!l.locale&&"undefined"!=typeof navigator&&(m=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
navigator.userLanguage)&&(l.locale=m.toLowerCase());return l})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(l,a){var k=function(a,d,b){b||(b=a[0]&&l.scopeMap[a[0]]?l.scopeMap[a.shift()][1]:l.global);try{for(var c=0;c<a.length;c++){var e=a[c];if(!(e in b))if(d)b[e]={};else return;b=b[e]}return b}catch(v){}},m=Object.prototype.toString,h=function(a,d,b){return(b||[]).concat(Array.prototype.slice.call(a,d||0))},g=/\{([^\}]+)\}/g,f={_extraNames:[],_mixin:function(a,d,
b){var c,e,f={};for(c in d)e=d[c],c in a&&(a[c]===e||c in f&&f[c]===e)||(a[c]=b?b(e):e);return a},mixin:function(a,d){a||(a={});for(var b=1,c=arguments.length;b<c;b++)f._mixin(a,arguments[b]);return a},setObject:function(a,d,b){var c=a.split(".");a=c.pop();return(b=k(c,!0,b))&&a?b[a]=d:void 0},getObject:function(a,d,b){return a?k(a.split("."),d,b):b},exists:function(a,d){return void 0!==f.getObject(a,!1,d)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||
function(a){return"[object Array]"==m.call(a)},isFunction:function(a){return"[object Function]"===m.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return!!a&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,d){for(var b=1,c=arguments.length;b<
c;b++)f._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,d){var b=f._toArray(arguments,2),c=f.isString(d);return function(){var e=f._toArray(arguments),g=c?(a||l.global)[d]:d;return g&&g.apply(a||this,b.concat(e))}},hitch:function(a,d){if(2<arguments.length)return f._hitchArgs.apply(l,arguments);d||(d=a,a=null);if(f.isString(d)){a=a||l.global;if(!a[d])throw['lang.hitch: scope["',d,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[d].apply(a,arguments||[])}}return a?
function(){return d.apply(a,arguments||[])}:d},delegate:function(){function a(){}return function(d,b){a.prototype=d;d=new a;a.prototype=null;b&&f._mixin(d,b);return d}}(),_toArray:a("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(d){return(d.item?a:h).apply(this,arguments)}}():h,partial:function(a){return f.hitch.apply(l,[null].concat(f._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a.nodeType&&
"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var d,b,c;if(f.isArray(a))for(d=[],b=0,c=a.length;b<c;++b)b in a&&(d[b]=f.clone(a[b]));else d=a.constructor?new a.constructor:{};return f._mixin(d,a,f.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,d,b){return a.replace(b||g,f.isFunction(d)?d:function(b,a){return f.getObject(a,
!1,d)})}};f.mixin(l,f);return f})},"dojo/sniff":function(){define(["./has"],function(l){if(l("host-browser")){var a=navigator,k=a.userAgent,a=a.appVersion,m=parseFloat(a);l.add("edge",parseFloat(k.split("Edge/")[1])||void 0);l.add("webkit",!l("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);l.add("chrome",!l("edge")&&!0&&parseFloat(k.split("Chrome/")[1])||void 0);l.add("safari",0<=a.indexOf("Safari")&&!l("chrome")&&!l("edge")?parseFloat(a.split("Version/")[1]):void 0);l.add("mac",0<=a.indexOf("Macintosh"));
if(k.match(/(iPhone|iPod|iPad)/)){var h=RegExp.$1.replace(/P/,"p"),g=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));l.add(h,g);l.add("ios",g)}l.add("trident",parseFloat(a.split("Trident/")[1])||void 0);l("webkit")||(0<=k.indexOf("Opera")&&l.add("opera",9.8<=m?parseFloat(k.split("Version/")[1])||m:m),0<=k.indexOf("Gecko")&&!l("trident")&&!l("edge")&&l.add("mozilla",m),l("mozilla")&&l.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),
document.all&&!l("opera")&&(k=parseFloat(a.split("MSIE ")[1])||void 0,(a=document.documentMode)&&5!=a&&Math.floor(k)!=a&&(k=a),l.add("ie",k)))}return l})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(l,a,k,m,h,g,f,e){function d(b,c,d,n,f){n=e.hitch(d,n);if(!b||!b.addEventListener&&!b.attachEvent)return m.after(b||l.global,c,n,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));b||(b=l.global);
if(!f)switch(c){case "keypress":c=x;break;case "mouseenter":c=g.enter;break;case "mouseleave":c=g.leave}return a(b,c,n,f)}function b(b){b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}f.add("events-keypress-typed",function(){var b={charCode:0};try{b=document.createEvent("KeyboardEvent"),(b.initKeyboardEvent||b.initKeyEvent).call(b,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(z){}return 0==b.charCode&&!f("opera")});var c={106:42,111:47,186:59,187:43,188:44,
189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},n=f("mac")?"metaKey":"ctrlKey",v=function(c,a){a=e.mixin({},c,a);b(a);a.preventDefault=function(){c.preventDefault()};a.stopPropagation=function(){c.stopPropagation()};return a},x;x=f("events-keypress-typed")?function(b,d){var n=a(b,"keydown",function(b){var a=b.keyCode,n=13!=a&&32!=a&&(27!=a||!f("ie"))&&(48>a||90<a)&&(96>a||111<a)&&(186>a||192<a)&&(219>a||222<a)&&229!=a;if(n||b.ctrlKey){n=n?0:a;if(b.ctrlKey){if(3==a||13==a)return d.call(b.currentTarget,
b);n=95<n&&106>n?n-48:!b.shiftKey&&65<=n&&90>=n?n+32:c[n]||n}a=v(b,{type:"keypress",faux:!0,charCode:n});d.call(b.currentTarget,a);if(f("ie"))try{b.keyCode=a.keyCode}catch(A){}}}),e=a(b,"keypress",function(b){var c=b.charCode;b=v(b,{charCode:32<=c?c:0,faux:!0});return d.call(this,b)});return{remove:function(){n.remove();e.remove()}}}:f("opera")?function(b,c){return a(b,"keypress",function(b){var a=b.which;3==a&&(a=99);a=32>a&&!b.shiftKey?0:a;b.ctrlKey&&!b.shiftKey&&65<=a&&90>=a&&(a+=32);return c.call(this,
v(b,{charCode:a}))})}:function(c,d){return a(c,"keypress",function(c){b(c);return d.call(this,c)})};var u={_keypress:x,connect:function(b,c,a,n,e){var f=arguments,t=[],u=0;t.push("string"==typeof f[0]?null:f[u++],f[u++]);var x=f[u+1];t.push("string"==typeof x||"function"==typeof x?f[u++]:null,f[u++]);for(x=f.length;u<x;u++)t.push(f[u]);return d.apply(this,t)},disconnect:function(b){b&&b.remove()},subscribe:function(b,c,a){return k.subscribe(b,e.hitch(c,a))},publish:function(b,c){return k.publish.apply(k,
[b].concat(c))},connectPublisher:function(b,c,a){var d=function(){u.publish(b,arguments)};return a?u.connect(c,a,d):u.connect(c,d)},isCopyKey:function(b){return b[n]}};u.unsubscribe=u.disconnect;e.mixin(l,u);return u})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(l,a,k){function m(b,a,d,n,g){if(n=a.match(/(.*):(.*)/))return a=n[2],n=n[1],f.selector(n,a).call(g,b,d);k("touch")&&e.test(a)&&(d=v(d));if(b.addEventListener){var u=a in c,t=u?c[a]:a;b.addEventListener(t,d,
u);return{remove:function(){b.removeEventListener(t,d,u)}}}throw Error("Target must be an event emitter");}function h(){this.cancelable=!1;this.defaultPrevented=!0}function g(){this.bubbles=!1}k("dom")&&k("touch");var f=function(b,c,a,d){return"function"!=typeof b.on||"function"==typeof c||b.nodeType?f.parse(b,c,a,m,d,this):b.on(c,a)};f.pausable=function(b,c,a,d){var n;b=f(b,c,function(){if(!n)return a.apply(this,arguments)},d);b.pause=function(){n=!0};b.resume=function(){n=!1};return b};f.once=function(b,
c,a,d){var n=f(b,c,function(){n.remove();return a.apply(this,arguments)});return n};f.parse=function(b,c,a,d,n,e){var u;if(c.call)return c.call(e,b,a);c instanceof Array?u=c:-1<c.indexOf(",")&&(u=c.split(/\s*,\s*/));if(u){var t=[];c=0;for(var g;g=u[c++];)t.push(f.parse(b,g,a,d,n,e));t.remove=function(){for(var b=0;b<t.length;b++)t[b].remove()};return t}return d(b,c,a,n,e)};var e=/^touch/;f.matches=function(b,c,d,n,e){e=e&&"function"==typeof e.matches?e:a.query;n=!1!==n;1!=b.nodeType&&(b=b.parentNode);
for(;!e.matches(b,c,d);)if(b==d||!1===n||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};f.selector=function(b,c,a){return function(d,n){function e(c){return f.matches(c,b,d,a,u)}var u="function"==typeof b?{matches:b}:this,t=c.bubble;return t?f(d,t(e),n):f(d,c,function(b){var c=e(b.target);if(c)return b.selectorTarget=c,n.call(c,b)})}};var d=[].slice,b=f.emit=function(b,c,a){var n=d.call(arguments,2),e="on"+c;if("parentNode"in b){var f=n[0]={},u;for(u in a)f[u]=a[u];f.preventDefault=h;f.stopPropagation=
g;f.target=b;f.type=c;a=f}do b[e]&&b[e].apply(b,n);while(a&&a.bubbles&&(b=b.parentNode));return a&&a.cancelable&&a},c={};f.emit=function(c,a,d){if(c.dispatchEvent&&document.createEvent){var n=(c.ownerDocument||document).createEvent("HTMLEvents");n.initEvent(a,!!d.bubbles,!!d.cancelable);for(var e in d)e in n||(n[e]=d[e]);return c.dispatchEvent(n)&&n}return b.apply(f,arguments)};if(k("touch"))var n=window.orientation,v=function(b){return function(c){var a=c.corrected;if(!a){var d=c.type;try{delete c.type}catch(r){}if(c.type){var a=
{},e;for(e in c)a[e]=c[e];a.preventDefault=function(){c.preventDefault()};a.stopPropagation=function(){c.stopPropagation()}}else a=c,a.type=d;c.corrected=a;if("resize"==d){if(n==window.orientation)return null;n=window.orientation;a.type="orientationchange";return b.call(this,a)}"rotation"in a||(a.rotation=0,a.scale=1);if(window.TouchEvent&&c instanceof TouchEvent){var d=a.changedTouches[0],f;for(f in d)delete a[f],a[f]=d[f]}}return b.call(this,a)}};return f})},"dojo/topic":function(){define(["./Evented"],
function(l){var a=new l;return{publish:function(k,m){return a.emit.apply(a,arguments)},subscribe:function(k,m){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(l,a){function k(){}var m=l.after;k.prototype={on:function(h,g){return a.parse(this,h,g,function(a,e){return m(a,"on"+e,g,!0)})},emit:function(h,g){var f=[this];f.push.apply(f,arguments);return a.emit.apply(a,f)}};return k})},"dojo/aspect":function(){define([],function(){function l(a,e,d,b){var c=
a[e],n="around"==e,f;if(n){var g=d(function(){return c.advice(this,arguments)});f={remove:function(){g&&(g=a=d=null)},advice:function(b,a){return g?g.apply(b,a):c.advice(b,a)}}}else f={remove:function(){if(f.advice){var b=f.previous,c=f.next;c||b?(b?b.next=c:a[e]=c,c&&(c.previous=b)):delete a[e];a=d=f.advice=null}},id:a.nextId++,advice:d,receiveArguments:b};if(c&&!n)if("after"==e){for(;c.next&&(c=c.next););c.next=f;f.previous=c}else"before"==e&&(a[e]=f,f.next=c,c.previous=f);else a[e]=f;return f}
function a(a){return function(e,d,b,c){var n=e[d],f;n&&n.target==e||(e[d]=f=function(){for(var b=f.nextId,c=arguments,a=f.before;a;)a.advice&&(c=a.advice.apply(this,c)||c),a=a.next;if(f.around)var d=f.around.advice(this,c);for(a=f.after;a&&a.id<b;){if(a.advice)if(a.receiveArguments)var n=a.advice.apply(this,c),d=n===k?d:n;else d=a.advice.call(this,d,c);a=a.next}return d},n&&(f.around={advice:function(b,c){return n.apply(b,c)}}),f.target=e,f.nextId=f.nextId||0);e=l(f||n,a,b,c);b=null;return e}}var k,
m=a("after"),h=a("before"),g=a("around");return{before:h,around:g,after:m}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(l,a,k,m){if(a._fixEvent){var h=a._fixEvent;a._fixEvent=function(a,f){(a=h(a,f))&&m.normalizeEvent(a);return a}}k={fix:function(g,f){return a._fixEvent?a._fixEvent(g,f):g},stop:function(a){a.preventDefault();a.stopPropagation()}};l.fixEvent=k.fix;l.stopEvent=k.stop;return k})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(l,a,k,m){function h(b,c,a,d,e,f){f=f||"px";b=b.style;isNaN(c)||(b.left=c+f);isNaN(a)||(b.top=a+f);0<=d&&(b.width=d+f);0<=e&&(b.height=e+f)}function g(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function f(b){return"border-box"==e.boxModel||"table"==b.tagName.toLowerCase()||g(b)}var e={boxModel:"content-box"};l("ie")&&(e.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
e.getPadExtents=function(b,c){b=k.byId(b);var a=c||m.getComputedStyle(b),d=m.toPixelValue;c=d(b,a.paddingLeft);var e=d(b,a.paddingTop),f=d(b,a.paddingRight);b=d(b,a.paddingBottom);return{l:c,t:e,r:f,b:b,w:c+f,h:e+b}};e.getBorderExtents=function(b,a){b=k.byId(b);var c=m.toPixelValue,d=a||m.getComputedStyle(b);a="none"!=d.borderLeftStyle?c(b,d.borderLeftWidth):0;var e="none"!=d.borderTopStyle?c(b,d.borderTopWidth):0,f="none"!=d.borderRightStyle?c(b,d.borderRightWidth):0;b="none"!=d.borderBottomStyle?
c(b,d.borderBottomWidth):0;return{l:a,t:e,r:f,b:b,w:a+f,h:e+b}};e.getPadBorderExtents=function(b,a){b=k.byId(b);var c=a||m.getComputedStyle(b);a=e.getPadExtents(b,c);b=e.getBorderExtents(b,c);return{l:a.l+b.l,t:a.t+b.t,r:a.r+b.r,b:a.b+b.b,w:a.w+b.w,h:a.h+b.h}};e.getMarginExtents=function(b,a){b=k.byId(b);var c=a||m.getComputedStyle(b),d=m.toPixelValue;a=d(b,c.marginLeft);var e=d(b,c.marginTop),f=d(b,c.marginRight);b=d(b,c.marginBottom);return{l:a,t:e,r:f,b:b,w:a+f,h:e+b}};e.getMarginBox=function(b,
a){b=k.byId(b);a=a||m.getComputedStyle(b);a=e.getMarginExtents(b,a);var c=b.offsetLeft-a.l,d=b.offsetTop-a.t,f=b.parentNode,g=m.toPixelValue;8==l("ie")&&f&&(f=m.getComputedStyle(f),c-="none"!=f.borderLeftStyle?g(b,f.borderLeftWidth):0,d-="none"!=f.borderTopStyle?g(b,f.borderTopWidth):0);return{l:c,t:d,w:b.offsetWidth+a.w,h:b.offsetHeight+a.h}};e.getContentBox=function(b,a){b=k.byId(b);var c=a||m.getComputedStyle(b);a=b.clientWidth;var d,f=e.getPadExtents(b,c);d=e.getBorderExtents(b,c);var c=b.offsetLeft+
f.l+d.l,g=b.offsetTop+f.t+d.t;a?d=b.clientHeight:(a=b.offsetWidth-d.w,d=b.offsetHeight-d.h);if(8==l("ie")){var t=b.parentNode,h=m.toPixelValue;t&&(t=m.getComputedStyle(t),c-="none"!=t.borderLeftStyle?h(b,t.borderLeftWidth):0,g-="none"!=t.borderTopStyle?h(b,t.borderTopWidth):0)}return{l:c,t:g,w:a-f.w,h:d-f.h}};e.setContentSize=function(b,a,d){b=k.byId(b);var c=a.w;a=a.h;f(b)&&(d=e.getPadBorderExtents(b,d),0<=c&&(c+=d.w),0<=a&&(a+=d.h));h(b,NaN,NaN,c,a)};var d={l:0,t:0,w:0,h:0};e.setMarginBox=function(b,
a,n){b=k.byId(b);var c=n||m.getComputedStyle(b);n=a.w;var x=a.h,u=f(b)?d:e.getPadBorderExtents(b,c),c=e.getMarginExtents(b,c);if(l("webkit")&&g(b)){var t=b.style;0<=n&&!t.width&&(t.width="4px");0<=x&&!t.height&&(t.height="4px")}0<=n&&(n=Math.max(n-u.w-c.w,0));0<=x&&(x=Math.max(x-u.h-c.h,0));h(b,a.l,a.t,n,x)};e.isBodyLtr=function(b){b=b||a.doc;return"ltr"==(a.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};e.docScroll=function(b){b=b||a.doc;var c=a.doc.parentWindow||a.doc.defaultView;return"pageXOffset"in
c?{x:c.pageXOffset,y:c.pageYOffset}:(c=b.documentElement)&&{x:e.fixIeBiDiScrollLeft(c.scrollLeft||0,b),y:c.scrollTop||0}};e.getIeDocumentElementOffset=function(b){return{x:0,y:0}};e.fixIeBiDiScrollLeft=function(b,c){c=c||a.doc;var d=l("ie");if(d&&!e.isBodyLtr(c)){c=c.documentElement;var f=a.global;6==d&&f.frameElement&&c.scrollHeight>c.clientHeight&&(b+=c.clientLeft);return 8>d?b+c.clientWidth-c.scrollWidth:-b}return b};e.position=function(b,c){b=k.byId(b);a.body(b.ownerDocument);var d=b.getBoundingClientRect(),
d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};9>l("ie")&&(d.x-=0,d.y-=0);c&&(b=e.docScroll(b.ownerDocument),d.x+=b.x,d.y+=b.y);return d};e.getMarginSize=function(b,a){b=k.byId(b);a=e.getMarginExtents(b,a||m.getComputedStyle(b));b=b.getBoundingClientRect();return{w:b.right-b.left+a.w,h:b.bottom-b.top+a.h}};e.normalizeEvent=function(b){"layerX"in b||(b.layerX=b.offsetX,b.layerY=b.offsetY);if(!("pageX"in b)){var a=b.target,a=a&&a.ownerDocument||document,d=a.documentElement;b.pageX=b.clientX+
e.fixIeBiDiScrollLeft(d.scrollLeft||0,a);b.pageY=b.clientY+(d.scrollTop||0)}};return e})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(l,a,k){var m={global:l.global,doc:l.global.document||null,body:function(a){a=a||l.doc;return a.body||a.getElementsByTagName("body")[0]},setContext:function(a,g){l.global=m.global=a;l.doc=m.doc=g},withGlobal:function(a,g,f,e){var d=l.global;try{return l.global=m.global=a,m.withDoc.call(null,a.document,g,f,e)}finally{l.global=m.global=
d}},withDoc:function(a,g,f,e){var d=m.doc,b=k("ie"),c,n,v;try{return l.doc=m.doc=a,l.isQuirks=0,k("ie")&&(v=a.parentWindow)&&v.navigator&&(c=parseFloat(v.navigator.appVersion.split("MSIE ")[1])||void 0,(n=a.documentMode)&&5!=n&&Math.floor(c)!=n&&(c=n),l.isIE=k.add("ie",c,!0,!0)),f&&"string"==typeof g&&(g=f[g]),g.apply(f,e||[])}finally{l.doc=m.doc=d,l.isQuirks=0,l.isIE=k.add("ie",b,!0,!0)}}};a.mixin(l,m);return m})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(l,
a,k){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(g){}var m={};l("ie")?m.byId=function(g,f){if("string"!=typeof g)return g;var e=f||a.doc;f=g&&e.getElementById(g);if(!f||f.attributes.id.value!=g&&f.id!=g){e=e.all[g];if(!e||e.nodeName)e=[e];for(var d=0;f=e[d++];)if(f.attributes&&f.attributes.id&&f.attributes.id.value==g||f.id==g)return f}else return f}:m.byId=function(g,f){return("string"==typeof g?(f||a.doc).getElementById(g):g)||null};k=k.global.document||null;l.add("dom-contains",
!(!k||!k.contains));m.isDescendant=l("dom-contains")?function(a,f){return!(!(f=m.byId(f))||!f.contains(m.byId(a)))}:function(a,f){try{for(a=m.byId(a),f=m.byId(f);a;){if(a==f)return!0;a=a.parentNode}}catch(e){}return!1};l.add("css-user-select",function(a,f,e){if(!e)return!1;a=e.style;f=["Khtml","O","Moz","Webkit"];e=f.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(e--&&(d=f[e]+"UserSelect"));return!1});var h=l("css-user-select");m.setSelectable=h?function(a,f){m.byId(a).style[h]=
f?"":"none"}:function(a,f){a=m.byId(a);var e=a.getElementsByTagName("*"),d=e.length;if(f)for(a.removeAttribute("unselectable");d--;)e[d].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");d--;)e[d].setAttribute("unselectable","on")};return m})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(l,a,k){function m(b,a,d){a=a.toLowerCase();if("auto"==d){if("height"==a)return b.offsetHeight;if("width"==a)return b.offsetWidth}if("fontweight"==a)switch(d){case 700:return"bold";
default:return"normal"}a in c||(c[a]=n.test(a));return c[a]?f(b,d):d}var h,g={};h=l("webkit")?function(b){var a;if(1==b.nodeType){var c=b.ownerDocument.defaultView;a=c.getComputedStyle(b,null);!a&&b.style&&(b.style.display="",a=c.getComputedStyle(b,null))}return a||{}}:l("ie")&&9>l("ie")?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){if(1===b.nodeType){var a=b.ownerDocument.defaultView;return(a.opener?a:k.global.window).getComputedStyle(b,null)}return{}};g.getComputedStyle=
h;var f;f=l("ie")?function(b,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var c=b.style,d=b.runtimeStyle,e=c.left,f=d.left;d.left=b.currentStyle.left;try{c.left=a,a=c.pixelLeft}catch(r){a=0}c.left=e;d.left=f;return a}:function(b,a){return parseFloat(a)||0};g.toPixelValue=f;var e=function(b,a){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(t){return a?{}:null}},d=9>l("ie")||(l("ie"),0)?function(b){try{return e(b).Opacity/100}catch(u){return 1}}:
function(b){return h(b).opacity},b=9>l("ie")||(l("ie"),0)?function(a,c){""===c&&(c=1);var d=100*c;1===c?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&b(a,c);return c}:function(b,a){return b.style.opacity=
a},c={left:!0,top:!0},n=/margin|padding|width|height|max|min|offset/,v={cssFloat:1,styleFloat:1,"float":1};g.get=function(b,c){var e=a.byId(b),f=arguments.length;if(2==f&&"opacity"==c)return d(e);c=v[c]?"cssFloat"in e.style?"cssFloat":"styleFloat":c;var n=g.getComputedStyle(e);return 1==f?n:m(e,c,n[c]||e.style[c])};g.set=function(c,d,e){var f=a.byId(c),n=arguments.length,t="opacity"==d;d=v[d]?"cssFloat"in f.style?"cssFloat":"styleFloat":d;if(3==n)return t?b(f,e):f.style[d]=e;for(var r in d)g.set(c,
r,d[r]);return g.getComputedStyle(f)};return g})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(l,a,k,m,h){function g(f,e){var d=function(b,c){return a(b,f,function(a){if(e)return e(a,c);if(!m.isDescendant(a.relatedTarget,b))return c.call(this,a)})};d.bubble=function(b){return g(f,function(a,d){var c=b(a.target),e=a.relatedTarget;if(c&&c!=(e&&1==e.nodeType&&b(e)))return d.call(c,a)})};return d}k={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,e){return a.button==
e},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};l.mouseButtons=k;return{_eventHandler:g,enter:g("mouseover"),leave:g("mouseout"),wheel:"mousewheel",isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(l,a,k){if(!k("host-browser"))return k;l._name="browser";a.mixin(l,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:0,isWebKit:k("webkit"),isMozilla:k("mozilla"),
isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(l,a){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:a("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:a("mac")?a("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(l,a,k){var m=window,h={addOnWindowUnload:function(g,f){l.windowUnloaded||k(m,"unload",l.windowUnloaded=function(){});k(m,"unload",a.hitch(g,f))},addOnUnload:function(g,f){k(m,"beforeunload",a.hitch(g,f))}};l.addOnWindowUnload=h.addOnWindowUnload;l.addOnUnload=h.addOnUnload;return h})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(l,a,k,m,h,g,f,e){l.byId=a.byId;
l.isDescendant=a.isDescendant;l.setSelectable=a.setSelectable;l.getAttr=m.get;l.setAttr=m.set;l.hasAttr=m.has;l.removeAttr=m.remove;l.getNodeProp=m.getNodeProp;l.attr=function(a,b,c){return 2==arguments.length?m["string"==typeof b?"get":"set"](a,b):m.set(a,b,c)};l.hasClass=g.contains;l.addClass=g.add;l.removeClass=g.remove;l.toggleClass=g.toggle;l.replaceClass=g.replace;l._toDom=l.toDom=f.toDom;l.place=f.place;l.create=f.create;l.empty=function(a){f.empty(a)};l._destroyElement=l.destroy=function(a){f.destroy(a)};
l._getPadExtents=l.getPadExtents=e.getPadExtents;l._getBorderExtents=l.getBorderExtents=e.getBorderExtents;l._getPadBorderExtents=l.getPadBorderExtents=e.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=e.getMarginExtents;l._getMarginSize=l.getMarginSize=e.getMarginSize;l._getMarginBox=l.getMarginBox=e.getMarginBox;l.setMarginBox=e.setMarginBox;l._getContentBox=l.getContentBox=e.getContentBox;l.setContentSize=e.setContentSize;l._isBodyLtr=l.isBodyLtr=e.isBodyLtr;l._docScroll=l.docScroll=
e.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=e.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=l.fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft;l.position=e.position;l.marginBox=function(a,b){return b?e.setMarginBox(a,b):e.getMarginBox(a)};l.contentBox=function(a,b){return b?e.setContentSize(a,b):e.getContentBox(a)};l.coords=function(d,b){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");d=a.byId(d);var c=k.getComputedStyle(d),c=e.getMarginBox(d,c);d=
e.position(d,b);c.x=d.x;c.y=d.y;return c};l.getProp=h.get;l.setProp=h.set;l.prop=function(a,b,c){return 2==arguments.length?h["string"==typeof b?"get":"set"](a,b):h.set(a,b,c)};l.getStyle=k.get;l.setStyle=k.set;l.getComputedStyle=k.getComputedStyle;l.__toPixelValue=l.toPixelValue=k.toPixelValue;l.style=function(a,b,c){switch(arguments.length){case 1:return k.get(a);case 2:return k["string"==typeof b?"get":"set"](a,b)}return k.set(a,b,c)};return l})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(l,a,k,m,h,g){function f(b,a){b=b.getAttributeNode&&b.getAttributeNode(a);return!!b&&b.specified}var e={innerHTML:1,textContent:1,className:1,htmlFor:a("ie"),value:1},d={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};l.has=function(b,a){var c=a.toLowerCase();return e[g.names[c]||a]||f(m.byId(b),d[c]||a)};l.get=function(b,a){b=m.byId(b);var c=a.toLowerCase(),v=g.names[c]||a,h=b[v];if(e[v]&&"undefined"!=typeof h)return h;if("textContent"==v)return g.get(b,v);if("href"!=
v&&("boolean"==typeof h||k.isFunction(h)))return h;a=d[c]||a;return f(b,a)?b.getAttribute(a):null};l.set=function(b,a,f){b=m.byId(b);if(2==arguments.length){for(var c in a)l.set(b,c,a[c]);return b}c=a.toLowerCase();var n=g.names[c]||a,u=e[n];if("style"==n&&"string"!=typeof f)return h.set(b,f),b;if(u||"boolean"==typeof f||k.isFunction(f))return g.set(b,a,f);b.setAttribute(d[c]||a,f);return b};l.remove=function(b,a){m.byId(b).removeAttribute(d[a.toLowerCase()]||a)};l.getNodeProp=function(b,a){b=m.byId(b);
var c=a.toLowerCase(),e=g.names[c]||a;if(e in b&&"href"!=e)return b[e];a=d[c]||a;return f(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(l,a,k,m,h,g,f,e){var d={},b=1,c=a._scopeName+"attrid";l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
l.get=function(b,a){b=h.byId(b);var c=a.toLowerCase();return b[l.names[c]||a]};l.set=function(a,v,x){a=h.byId(a);if(2==arguments.length&&"string"!=typeof v){for(var n in v)l.set(a,n,v[n]);return a}n=v.toLowerCase();n=l.names[n]||v;if("style"==n&&"string"!=typeof x)return g.set(a,x),a;if("innerHTML"==n)return k("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(f.empty(a),a.appendChild(f.toDom(x,a.ownerDocument))):a[n]=x,a;if(m.isFunction(x)){var t=a[c];
t||(t=b++,a[c]=t);d[t]||(d[t]={});var z=d[t][n];if(z)e.disconnect(z);else try{delete a[n]}catch(C){}x?d[t][n]=e.connect(a,n,x):a[n]=null;return a}a[n]=x;return a}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(l,a,k,m,h,g){function f(b,a){var c=a.parentNode;c&&c.insertBefore(b,a)}function e(b){if("innerHTML"in b)try{b.innerHTML="";return}catch(r){}for(var a;a=b.lastChild;)b.removeChild(a)}var d={option:["select"],tbody:["table"],
thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w\:]+)/,c={},n=0,v="__"+a._scopeName+"ToDomId",x;for(x in d)d.hasOwnProperty(x)&&(a=d[x],a.pre="option"==x?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+a.join("\x3e\x3c")+"\x3e",a.post="\x3c/"+a.reverse().join("\x3e\x3c/")+"\x3e");var u;8>=k("ie")&&(u=function(b){b.__dojo_html5_tested="yes";
var a=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},b.body);1!==a.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(a){b.createElement(a)});z(a)});l.toDom=function(a,e){e=e||m.doc;var f=e[v];f||(e[v]=f=++n+"",c[f]=e.createElement("div"));8>=k("ie")&&!e.__dojo_html5_tested&&e.body&&u(e);a+="";var g=a.match(b),t=g?g[1].toLowerCase():"",
f=c[f];if(g&&d[t])for(g=d[t],f.innerHTML=g.pre+a+g.post,a=g.length;a;--a)f=f.firstChild;else f.innerHTML=a;if(1==f.childNodes.length)return f.removeChild(f.firstChild);for(a=e.createDocumentFragment();e=f.firstChild;)a.appendChild(e);return a};l.place=function(b,a,c){a=h.byId(a);"string"==typeof b&&(b=/^\s*</.test(b)?l.toDom(b,a.ownerDocument):h.byId(b));if("number"==typeof c){var d=a.childNodes;!d.length||d.length<=c?a.appendChild(b):f(b,d[0>c?0:c])}else switch(c){case "before":f(b,a);break;case "after":c=
b;(d=a.parentNode)&&(d.lastChild==a?d.appendChild(c):d.insertBefore(c,a.nextSibling));break;case "replace":a.parentNode.replaceChild(b,a);break;case "only":l.empty(a);a.appendChild(b);break;case "first":if(a.firstChild){f(b,a.firstChild);break}default:a.appendChild(b)}return b};var t=l.create=function(b,a,c,d){var e=m.doc;c&&(c=h.byId(c),e=c.ownerDocument);"string"==typeof b&&(b=e.createElement(b));a&&g.set(b,a);c&&l.place(b,c,d);return b};l.empty=function(b){e(h.byId(b))};var z=l.destroy=function(b){if(b=
h.byId(b)){var a=b;b=b.parentNode;a.firstChild&&e(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,a,k){function m(d){if("string"==typeof d||d instanceof String){if(d&&!g.test(d))return f[0]=d,f;d=d.split(g);d.length&&!d[0]&&d.shift();d.length&&!d[d.length-1]&&d.pop();return d}return d?a.filter(d,function(b){return b}):[]}var h,g=/\s+/,f=[""],e={};return h={contains:function(a,
b){return 0<=(" "+k.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=k.byId(a);b=m(b);var c=a.className,d,c=c?" "+c+" ":" ";d=c.length;for(var e=0,f=b.length,g;e<f;++e)(g=b[e])&&0>c.indexOf(" "+g+" ")&&(c+=g+" ");d<c.length&&(a.className=c.substr(1,c.length-2))},remove:function(a,b){a=k.byId(a);var c;if(void 0!==b){b=m(b);c=" "+a.className+" ";for(var d=0,e=b.length;d<e;++d)c=c.replace(" "+b[d]+" "," ");c=l.trim(c)}else c="";a.className!=c&&(a.className=c)},replace:function(a,b,c){a=
k.byId(a);e.className=a.className;h.remove(e,c);h.add(e,b);a.className!==e.className&&(a.className=e.className)},toggle:function(a,b,c){a=k.byId(a);if(void 0===c){b=m(b);for(var d=0,e=b.length,f;d<e;++d)f=b[d],h[h.contains(a,f)?"remove":"add"](a,f)}else h[c?"add":"remove"](a,b);return c}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(l,a,k){function m(b){return f[b]=new Function("item","index","array",b)}function h(b){var a=!b;return function(c,d,e){var n=0,g=c&&
c.length||0,v;g&&"string"==typeof c&&(c=c.split(""));"string"==typeof d&&(d=f[d]||m(d));if(e)for(;n<g;++n){if(v=!d.call(e,c[n],n,c),b^v)return!v}else for(;n<g;++n)if(v=!d(c[n],n,c),b^v)return!v;return a}}function g(b){var a=1,f=0,g=0;b||(a=f=g=-1);return function(c,n,t,v){if(v&&0<a)return d.lastIndexOf(c,n,t);v=c&&c.length||0;var u=b?v+g:f;t===e?t=b?f:v+g:0>t?(t=v+t,0>t&&(t=f)):t=t>=v?v+g:t;for(v&&"string"==typeof c&&(c=c.split(""));t!=u;t+=a)if(c[t]==n)return t;return-1}}var f={},e,d={every:h(!1),
some:h(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(b,a,d){var c=0,e=b&&b.length||0;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||m(a));if(d)for(;c<e;++c)a.call(d,b[c],c,b);else for(;c<e;++c)a(b[c],c,b)},map:function(b,a,d,e){var c=0,n=b&&b.length||0;e=new (e||Array)(n);n&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||m(a));if(d)for(;c<n;++c)e[c]=a.call(d,b[c],c,b);else for(;c<n;++c)e[c]=a(b[c],c,b);return e},filter:function(b,a,d){var c=0,e=b&&b.length||
0,n=[],g;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||m(a));if(d)for(;c<e;++c)g=b[c],a.call(d,g,c,b)&&n.push(g);else for(;c<e;++c)g=b[c],a(g,c,b)&&n.push(g);return n},clearCache:function(){f={}}};k.mixin(l,d);return d})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(l,a,k){a=a.NodeList;var m=a.prototype;m.connect=a._adaptAsForEach(function(){return l.connect.apply(this,arguments)});m.coords=a._adaptAsMap(l.coords);
a.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(a.events,function(a){var g="on"+a;m[g]=function(a,e){return this.connect(g,a,e)}});return l.NodeList=a})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(l,a,k,m,h,g,f,e){function d(b,a){var c=function(c,d){if("string"==typeof d&&
(d=k.byId(d),!d))return new a([]);c="string"==typeof c?b(c,d):c?c.end&&c.on?c:[c]:[];return c.end&&c.on?c:new a(c)};c.matches=b.match||function(b,a,d){return 0<c.filter([b],a,d).length};c.filter=b.filter||function(b,a,d){return c(a,d).filter(function(a){return-1<h.indexOf(b,a)})};if("function"!=typeof b){var d=b.search;b=function(b,a){return d(a||document,b)}}return c}var b=Array.prototype,c=b.slice,n=b.concat,v=h.forEach,x=function(b,a,d){a=[0].concat(c.call(a,0));d=d||l.global;return function(c){a[0]=
c;return b.apply(d,a)}},u=function(b){var a=this instanceof t&&1;"number"==typeof b&&(b=Array(b));var c=b&&"length"in b?b:arguments;if(a||!c.sort){for(var d=a?this:[],e=d.length=c.length,f=0;f<e;f++)d[f]=c[f];if(a)return d;c=d}g._mixin(c,z);c._NodeListCtor=function(b){return t(b)};return c},t=u,z=t.prototype=[];t._wrap=z._wrap=function(b,a,c){b=new (c||this._NodeListCtor||t)(b);return a?b._stash(a):b};t._adaptAsMap=function(b,a){return function(){return this.map(x(b,arguments,a))}};t._adaptAsForEach=
function(b,a){return function(){this.forEach(x(b,arguments,a));return this}};t._adaptAsFilter=function(b,a){return function(){return this.filter(x(b,arguments,a))}};t._adaptWithCondition=function(b,a,c){return function(){var d=arguments,e=x(b,d,c);if(a.call(c||l.global,d))return this.map(e);this.forEach(e);return this}};v(["slice","splice"],function(a){var c=b[a];z[a]=function(){return this._wrap(c.apply(this,arguments),"slice"==a?this:null)}});v(["indexOf","lastIndexOf","every","some"],function(b){var a=
h[b];z[b]=function(){return a.apply(l,[this].concat(c.call(arguments,0)))}});g.extend(u,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(b){this._parent=b;return this},on:function(b,a){var c=this.map(function(c){return m(c,b,a)});c.remove=function(){for(var b=0;b<c.length;b++)c[b].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var a=c.call(this,0),d=h.map(arguments,function(b){return c.call(b,
0)});return this._wrap(n.apply(a,d),this)},map:function(b,a){return this._wrap(h.map(this,b,a),this)},forEach:function(b,a){v(this,b,a);return this},filter:function(b){var a=arguments,c=this,d=0;if("string"==typeof b){c=C._filterResult(this,a[0]);if(1==a.length)return c._stash(this);d=1}return this._wrap(h.filter(c,a[d],a[d+1]),this)},instantiate:function(b,a){var c=g.isFunction(b)?b:g.getObject(b);a=a||{};return this.forEach(function(b){new c(a,b)})},at:function(){var b=new this._NodeListCtor(0);
v(arguments,function(a){0>a&&(a=this.length+a);this[a]&&b.push(this[a])},this);return b._stash(this)}});var C=d(e,u);l.query=d(e,function(b){return u(b)});C.load=function(b,a,c){f.load(b,a,function(b){c(d(b,u))})};l._filterQueryResult=C._filterResult=function(b,a,c){return new u(C.filter(b,a,c))};l.NodeList=C.NodeList=u;return C})},"dojo/selector/_loader":function(){define(["../has","require"],function(l,a){"undefined"!==typeof document&&document.createElement("div");var k;return{load:function(m,
h,g,f){if(f&&f.isBuild)g();else{f=a;m="default"==m?l("config-selectorEngine")||"css3":m;m="css2"==m||"lite"==m?"./lite":"css2.1"==m?"./lite":"css3"==m?"./lite":"acme"==m?"./acme":(f=h)&&m;if("?"==m.charAt(m.length-1)){m=m.substring(0,m.length-1);var e=!0}if(e&&(l("dom-compliant-qsa")||k))return g(k);f([m],function(a){"./lite"!=m&&(k=a);g(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(l,a){var k=document.createElement("div"),m=k.matches||k.webkitMatchesSelector||
k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,h=k.querySelectorAll,g=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,f=function(d,b){var c=b?b.ownerDocument||b:a.doc||document,n=(h?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(d);b=b||c;if(n){var g=(l("ie"),null!==b.parentNode&&9!==b.nodeType&&b.parentNode===c);if(n[2]&&g){var k=a.byId?a.byId(n[2],c):c.getElementById(n[2]);if(!k||n[1]&&n[1]!=k.tagName.toLowerCase())return[];
if(b!=c)for(d=k;d!=b;)if(d=d.parentNode,!d)return[];return n[3]?f(n[3],k):[k]}if(n[3]&&b.getElementsByClassName)return b.getElementsByClassName(n[4]);if(n[5])if(k=b.getElementsByTagName(n[5]),n[4]||n[6])d=(n[4]||"")+n[6];else return k}if(h)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?e(b,d,b.querySelectorAll):b.querySelectorAll(d);k||(k=b.getElementsByTagName("*"));n=[];c=0;for(g=k.length;c<g;c++){var u=k[c];1==u.nodeType&&(void 0)(u,d,b)&&n.push(u)}return n},e=function(a,b,c){var d=
a,e=a.getAttribute("id"),f=e||"__dojo__",h=a.parentNode,t=/^\s*[+~]/.test(b);if(t&&!h)return[];e?f=f.replace(/'/g,"\\$\x26"):a.setAttribute("id",f);t&&h&&(a=a.parentNode);b=b.match(g);for(h=0;h<b.length;h++)b[h]="[id\x3d'"+f+"'] "+b[h];b=b.join(",");try{return c.call(a,b)}finally{e||d.removeAttribute("id")}};f.match=m?function(a,b,c){return c&&9!=c.nodeType?e(c,b,function(b){return m.call(a,b)}):m.call(a,b)}:void 0;return f})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(l,a,k,m,h,g,f,e,d){function b(b){return function(a,c,d){return 2==arguments.length?b["string"==typeof c?"get":"set"](a,c):b.set(a,c,d)}}var c=function(b){return 1==b.length&&"string"==typeof b[0]},n=function(b){var a=b.parentNode;a&&a.removeChild(b)},v=a.NodeList,x=v._adaptWithCondition,u=v._adaptAsForEach,t=v._adaptAsMap;m.extend(v,{_normalize:function(b,a){var c=!0===b.parse;if("string"==typeof b.template){var d=b.templateFunc||l.string&&l.string.substitute;b=d?d(b.template,b):b}d=typeof b;
"string"==d||"number"==d?(b=g.toDom(b,a&&a.ownerDocument),b=11==b.nodeType?m._toArray(b.childNodes):[b]):m.isArrayLike(b)?m.isArray(b)||(b=m._toArray(b)):b=[b];c&&(b._runParse=!0);return b},_cloneNode:function(b){return b.cloneNode(!0)},_place:function(b,a,c,d){if(1==a.nodeType||"only"!=c)for(var e,f=b.length,n=f-1;0<=n;n--){var t=d?this._cloneNode(b[n]):b[n];if(b._runParse&&l.parser&&l.parser.parse)for(e||(e=a.ownerDocument.createElement("div")),e.appendChild(t),l.parser.parse(e),t=e.firstChild;e.firstChild;)e.removeChild(e.firstChild);
n==f-1?g.place(t,a,c):a.parentNode.insertBefore(t,a);a=t}},position:t(f.position),attr:x(b(e),c),style:x(b(d),c),addClass:u(h.add),removeClass:u(h.remove),toggleClass:u(h.toggle),replaceClass:u(h.replace),empty:u(g.empty),removeAttr:u(e.remove),marginBox:t(f.getMarginBox),place:function(b,c){var d=a(b)[0];return this.forEach(function(b){g.place(b,d,c)})},orphan:function(b){return(b?a._filterResult(this,b):this).forEach(n)},adopt:function(b,c){return a(b).place(this[0],c)._stash(this)},query:function(b){if(!b)return this;
var c=new v;this.map(function(d){a(b,d).forEach(function(b){void 0!==b&&c.push(b)})});return c._stash(this)},filter:function(b){var c=arguments,d=this,e=0;if("string"==typeof b){d=a._filterResult(this,c[0]);if(1==c.length)return d._stash(this);e=1}return this._wrap(k.filter(d,c[e],c[e+1]),this)},addContent:function(b,a){b=this._normalize(b,this[0]);for(var c=0,d;d=this[c];c++)b.length?this._place(b,d,a,0<c):g.empty(d);return this}});return v})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(l,a,k,m,h,g,f,e,d,b,c,n,v,x,u,t){l._xhrObj=u._create;var z=l.config;l.objectToQuery=m.objectToQuery;l.queryToObject=m.queryToObject;l.fieldToObject=g.fieldToObject;l.formToObject=g.toObject;l.formToQuery=g.toQuery;l.formToJson=g.toJson;l._blockAsync=!1;var C=l._contentHandlers=l.contentHandlers={text:function(b){return b.responseText},json:function(b){return d.fromJson(b.responseText||null)},"json-comment-filtered":function(b){e.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
b=b.responseText;var a=b.indexOf("/*"),c=b.lastIndexOf("*/");if(-1==a||-1==c)throw Error("JSON was not comment filtered");return d.fromJson(b.substring(a+2,c))},javascript:function(b){return l.eval(b.responseText)},xml:function(b){var d=b.responseXML;d&&!d.querySelectorAll&&(d=(new DOMParser).parseFromString(b.responseText,"application/xml"));if(a("ie")&&(!d||!d.documentElement)){var e=function(b){return"MSXML"+b+".DOMDocument"},e=["Microsoft.XMLDOM",e(6),e(4),e(3),e(2)];c.some(e,function(a){try{var c=
new ActiveXObject(a);c.async=!1;c.loadXML(b.responseText);d=c}catch(J){return!1}return!0})}return d},"json-comment-optional":function(b){return b.responseText&&/^[^{\[]*\/\*/.test(b.responseText)?C["json-comment-filtered"](b):C.json(b)}};C.arraybuffer=C.blob=C.document=function(b,a){return b.response};l._ioSetArgs=function(a,c,d,e){var n={args:a,url:a.url},t=null;if(a.form){var t=h.byId(a.form),v=t.getAttributeNode("action");n.url=n.url||(v?v.value:l.doc?l.doc.URL:null);t=g.toObject(t)}v={};t&&b.mixin(v,
t);a.content&&b.mixin(v,a.content);a.preventCache&&(v["dojo.preventCache"]=(new Date).valueOf());n.query=m.objectToQuery(v);n.handleAs=a.handleAs||"text";var u=new f(function(b){b.canceled=!0;c&&c(b);var a=b.ioArgs.error;a||(a=Error("request cancelled"),a.dojoType="cancel",b.ioArgs.error=a);return a});u.addCallback(d);var y=a.load;y&&b.isFunction(y)&&u.addCallback(function(b){return y.call(a,b,n)});var r=a.error;r&&b.isFunction(r)&&u.addErrback(function(b){return r.call(a,b,n)});var k=a.handle;k&&
b.isFunction(k)&&u.addBoth(function(b){return k.call(a,b,n)});u.addErrback(function(b){return e(b,u)});z.ioPublish&&l.publish&&!1!==n.args.ioPublish&&(u.addCallbacks(function(b){l.publish("/dojo/io/load",[u,b]);return b},function(b){l.publish("/dojo/io/error",[u,b]);return b}),u.addBoth(function(b){l.publish("/dojo/io/done",[u,b]);return b}));u.ioArgs=n;return u};var B=function(b){b=C[b.ioArgs.handleAs](b.ioArgs.xhr,b.ioArgs);return void 0===b?null:b},r=function(b,a){a.ioArgs.args.failOk||console.error(b);
return b},D=function(b){0>=y&&(y=0,z.ioPublish&&l.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish)&&l.publish("/dojo/io/stop"))},y=0;v.after(x,"_onAction",function(){--y});v.after(x,"_onInFlight",D);l._ioCancelAll=x.cancelAll;l._ioNotifyStart=function(b){z.ioPublish&&l.publish&&!1!==b.ioArgs.args.ioPublish&&(y||l.publish("/dojo/io/start"),y+=1,l.publish("/dojo/io/send",[b]))};l._ioWatch=function(a,c,d,e){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(b){return c(a)},isReady:function(b){return d(a)},
handleResponse:function(b){return e(a)}});x(a);D(a)};l._ioAddQueryToUrl=function(b){b.query.length&&(b.url+=(-1==b.url.indexOf("?")?"?":"\x26")+b.query,b.query=null)};l.xhr=function(b,a,c){var d,e=l._ioSetArgs(a,function(b){d&&d.cancel()},B,r),f=e.ioArgs;"postData"in a?f.query=a.postData:"putData"in a?f.query=a.putData:"rawBody"in a?f.query=a.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(b.toUpperCase()))&&l._ioAddQueryToUrl(f);var n={method:b,handleAs:{arraybuffer:1,blob:1,document:1}[a.handleAs]?
a.handleAs:"text",responseType:a.responseType,timeout:a.timeout,withCredentials:a.withCredentials,ioArgs:f};"undefined"!==typeof a.headers&&(n.headers=a.headers);"undefined"!==typeof a.contentType&&(n.headers||(n.headers={}),n.headers["Content-Type"]=a.contentType);"undefined"!==typeof f.query&&(n.data=f.query);"undefined"!==typeof a.sync&&(n.sync=a.sync);l._ioNotifyStart(e);try{d=u(f.url,n,!0)}catch(Q){return e.cancel(),e}e.ioArgs.xhr=d.response.xhr;d.then(function(){e.resolve(e)}).otherwise(function(b){f.error=
b;b.response&&(b.status=b.response.status,b.responseText=b.response.text,b.xhr=b.response.xhr);e.reject(b)});return e};l.xhrGet=function(b){return l.xhr("GET",b)};l.rawXhrPost=l.xhrPost=function(b){return l.xhr("POST",b,!0)};l.rawXhrPut=l.xhrPut=function(b){return l.xhr("PUT",b,!0)};l.xhrDelete=function(b){return l.xhr("DELETE",b)};l._isDocumentOk=function(b){return t.checkStatus(b.status)};l._getText=function(b){var a;l.xhrGet({url:b,sync:!0,load:function(b){a=b}});return a};b.mixin(l.xhr,{_xhrObj:l._xhrObj,
fieldToObject:g.fieldToObject,formToObject:g.toObject,objectToQuery:m.objectToQuery,formToQuery:g.toQuery,formToJson:g.toJson,queryToObject:m.queryToObject,contentHandlers:C,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var a=
{};return{objectToQuery:function(k){var m=encodeURIComponent,h=[],g;for(g in k){var f=k[g];if(f!=a[g]){var e=m(g)+"\x3d";if(l.isArray(f))for(var d=0,b=f.length;d<b;++d)h.push(e+m(f[d]));else h.push(e+m(f))}}return h.join("\x26")},queryToObject:function(a){var k=decodeURIComponent;a=a.split("\x26");for(var h={},g,f,e=0,d=a.length;e<d;++e)if(f=a[e],f.length){var b=f.indexOf("\x3d");0>b?(g=k(f),f=""):(g=k(f.slice(0,b)),f=k(f.slice(b+1)));"string"==typeof h[g]&&(h[g]=[h[g]]);l.isArray(h[g])?h[g].push(f):
h[g]=f}return h}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(l,a,k,m){var h={fieldToObject:function(g){var f=null;if(g=a.byId(g)){var e=g.name,d=(g.type||"").toLowerCase();if(e&&d&&!g.disabled)if("radio"==d||"checkbox"==d)g.checked&&(f=g.value);else if(g.multiple)for(f=[],g=[g.firstChild];g.length;)for(e=g.pop();e;e=e.nextSibling)if(1==e.nodeType&&"option"==e.tagName.toLowerCase())e.selected&&f.push(e.value);else{e.nextSibling&&g.push(e.nextSibling);
e.firstChild&&g.push(e.firstChild);break}else f=g.value}return f},toObject:function(g){var f={};g=a.byId(g).elements;for(var e=0,d=g.length;e<d;++e){var b=g[e],c=b.name,n=(b.type||"").toLowerCase();if(c&&n&&0>"file|submit|image|reset|button".indexOf(n)&&!b.disabled){var v=f,k=c,b=h.fieldToObject(b);if(null!==b){var u=v[k];"string"==typeof u?v[k]=[u,b]:l.isArray(u)?u.push(b):v[k]=b}"image"==n&&(f[c+".x"]=f[c+".y"]=f[c].x=f[c].y=0)}}return f},toQuery:function(a){return k.objectToQuery(h.toObject(a))},
toJson:function(a,f){return m.stringify(h.toObject(a),null,f?4:0)}};return h})},"dojo/json":function(){define(["./has"],function(l){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(l,a,k,m,h,g,f){var e=function(){},d=Object.freeze||function(){},b=l.Deferred=function(c){function f(b){if(u)throw Error("This deferred has already been resolved");x=b;u=!0;v()}function v(){for(var b;!b&&r;){var c=
r;r=r.next;if(b=c.progress==e)u=!1;var d=C?c.error:c.resolved;h("config-useDeferredInstrumentation")&&C&&a.instrumentRejected&&a.instrumentRejected(x,!!d);if(d)try{var f=d(x);f&&"function"===typeof f.then?f.then(g.hitch(c.deferred,"resolve"),g.hitch(c.deferred,"reject"),g.hitch(c.deferred,"progress")):(d=b&&void 0===f,b&&!d&&(C=f instanceof Error),c.deferred[d&&C?"reject":"resolve"](d?x:f))}catch(L){c.deferred.reject(L)}else C?c.deferred.reject(x):c.deferred.resolve(x)}}var x,u,t,l,C,B,r,D=this.promise=
new k;this.isResolved=D.isResolved=function(){return 0==l};this.isRejected=D.isRejected=function(){return 1==l};this.isFulfilled=D.isFulfilled=function(){return 0<=l};this.isCanceled=D.isCanceled=function(){return t};this.resolve=this.callback=function(b){this.fired=l=0;this.results=[b,null];f(b)};this.reject=this.errback=function(b){C=!0;this.fired=l=1;h("config-useDeferredInstrumentation")&&a.instrumentRejected&&a.instrumentRejected(b,!!r);f(b);this.results=[null,b]};this.progress=function(b){for(var a=
r;a;){var c=a.progress;c&&c(b);a=a.next}};this.addCallbacks=function(b,a){this.then(b,a,e);return this};D.then=this.then=function(a,c,d){var f=d==e?this:new b(D.cancel);a={resolved:a,error:c,progress:d,deferred:f};r?B=B.next=a:r=B=a;u&&v();return f.promise};var y=this;D.cancel=this.cancel=function(){if(!u){var b=c&&c(y);u||(b instanceof Error||(b=new m(b)),b.log=!1,y.reject(b))}t=!0};d(D)};g.extend(b,{addCallback:function(b){return this.addCallbacks(g.hitch.apply(l,arguments))},addErrback:function(b){return this.addCallbacks(null,
g.hitch.apply(l,arguments))},addBoth:function(b){var a=g.hitch.apply(l,arguments);return this.addCallbacks(a,a)},fired:-1});b.when=l.when=f;return b})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(l,a,k,m,h){var g=Object.freeze||function(){},f=function(b,a,d,f,g){l("config-deferredInstrumentation")&&2===a&&c.instrumentRejected&&0===b.length&&c.instrumentRejected(d,!1,
f,g);for(g=0;g<b.length;g++)e(b[g],a,d,f)},e=function(a,e,f,g){var n=a[e],h=a.deferred;if(n)try{var u=n(f);if(0===e)"undefined"!==typeof u&&b(h,e,u);else{if(u&&"function"===typeof u.then){a.cancel=u.cancel;u.then(d(h,1),d(h,2),d(h,0));return}b(h,1,u)}}catch(B){b(h,2,B)}else b(h,e,f);l("config-deferredInstrumentation")&&2===e&&c.instrumentRejected&&c.instrumentRejected(f,!!n,g,h.promise)},d=function(a,c){return function(d){b(a,c,d)}},b=function(b,a,c){if(!b.isCanceled())switch(a){case 0:b.progress(c);
break;case 1:b.resolve(c);break;case 2:b.reject(c)}},c=function(b){var a=this.promise=new m,d=this,n,t,h,C=!1,B=[];l("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(d,c),Error.captureStackTrace(a,c));this.isResolved=a.isResolved=function(){return 1===n};this.isRejected=a.isRejected=function(){return 2===n};this.isFulfilled=a.isFulfilled=function(){return!!n};this.isCanceled=a.isCanceled=function(){return C};this.progress=function(b,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");
return a}f(B,0,b,null,d);return a};this.resolve=function(b,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");return a}f(B,n=1,t=b,null,d);B=null;return a};var r=this.reject=function(b,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");return a}l("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(h={},r);f(B,n=2,t=b,h,d);B=null;return a};this.then=a.then=function(b,d,f){var g=[f,b,d];g.cancel=a.cancel;g.deferred=new c(function(b){return g.cancel&&
g.cancel(b)});n&&!B?e(g,n,t,h):B.push(g);return g.deferred.promise};this.cancel=a.cancel=function(a,c){if(!n){b&&(c=b(a),a="undefined"===typeof c?a:c);C=!0;if(!n)return"undefined"===typeof a&&(a=new k),r(a),a;if(2===n&&t===a)return a}else if(!0===c)throw Error("This deferred has already been fulfilled.");};g(a)};c.prototype.toString=function(){return"[object Deferred]"};h&&h(c);return c})},"dojo/errors/CancelError":function(){define(["./create"],function(l){return l("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(a,k,m,h){m=m||Error;var g=function(a){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,g);var e=Error.call(this,a),d;for(d in e)e.hasOwnProperty(d)&&(this[d]=e[d]);this.message=a;this.stack=e.stack}else m.apply(this,arguments);k&&k.apply(this,arguments)};g.prototype=l.delegate(m.prototype,h);g.prototype.name=a;return g.prototype.constructor=g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(l){function a(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(k,m,h){a()},cancel:function(k,m){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},"finally":function(a){return this.then(function(k){var h=a();return h&&"function"===typeof h.then?h.then(function(){return k}):k},function(k){var h=a();if(h&&"function"===typeof h.then)return h.then(function(){throw k;});throw k;})},always:function(a){return this.then(a,
a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(l,a){return function(k,m,h,g){var f=k&&"function"===typeof k.then,e=f&&k instanceof a;if(!f)return 1<arguments.length?m?m(k):k:(new l).resolve(k);e||(f=new l(k.cancel),k.then(f.resolve,f.reject,f.progress),k=f.promise);
return m||h||g?k.then(m,h,g):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,a){l.fromJson=function(a){return eval("("+a+")")};l._escapeString=a.stringify;l.toJsonIndentStr="\t";l.toJson=function(k,m){return a.stringify(k,function(a,g){return g&&(a=g.__json__||g.json,"function"==typeof a)?a.call(g):g},m&&l.toJsonIndentStr)};return l})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(l,a,k,m,h,g){function f(){for(var c=+new Date,f=0,g;f<b.length&&(g=b[f]);f++){var h=g.response,u=h.options;g.isCanceled&&g.isCanceled()||g.isValid&&!g.isValid(h)?(b.splice(f--,1),e._onAction&&e._onAction()):g.isReady&&g.isReady(h)?(b.splice(f--,1),g.handleResponse(h),e._onAction&&e._onAction()):g.startTime&&g.startTime+(u.timeout||0)<c&&(b.splice(f--,1),g.cancel(new a("Timeout exceeded",h)),e._onAction&&e._onAction())}e._onInFlight&&e._onInFlight(g);b.length||(clearInterval(d),d=null)}function e(a){a.response.options.timeout&&
(a.startTime=+new Date);a.isFulfilled()||(b.push(a),d||(d=setInterval(f,50)),a.response.options.sync&&f())}var d=null,b=[];e.cancelAll=function(){try{m.forEach(b,function(b){try{b.cancel(new k("All requests canceled."))}catch(n){}})}catch(c){}};h&&g&&h.doc.attachEvent&&g(h.global,"unload",function(){e.cancelAll()});return e})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),
function(l,a,k,m,h,g,f,e,d){function b(b){return n(b)}function c(b){return void 0!==b.data?b.data:b.text}l.deepCopy=function(b,a){for(var c in a){var d=b[c],e=a[c];d!==e&&(d&&"object"===typeof d&&e&&"object"===typeof e?e instanceof Date?b[c]=new Date(e):l.deepCopy(d,e):b[c]=e)}return b};l.deepCreate=function(b,a){a=a||{};var c=f.delegate(b),d,e;for(d in b)(e=b[d])&&"object"===typeof e&&(c[d]=l.deepCreate(e,a[d]));return l.deepCopy(c,a)};var n=Object.freeze||function(b){return b};l.deferred=function(d,
g,h,t,z,C){var u=new m(function(b){g&&g(u,d);return b&&(b instanceof a||b instanceof k)?b:new k("Request canceled",d)});u.response=d;u.isValid=h;u.isReady=t;u.handleResponse=z;h=u.then(b).otherwise(function(b){b.response=d;throw b;});l.notify&&h.then(f.hitch(l.notify,"emit","load"),f.hitch(l.notify,"emit","error"));t=h.then(c);z=new e;for(var r in t)t.hasOwnProperty(r)&&(z[r]=t[r]);z.response=h;n(z);C&&u.then(function(b){C.call(u,b)},function(b){C.call(u,d,b)});u.promise=z;u.then=z.then;return u};
l.addCommonMethods=function(b,a){g.forEach(a||["GET","POST","PUT","DELETE"],function(a){b[("DELETE"===a?"DEL":a).toLowerCase()]=function(c,d){d=f.delegate(d||{});d.method=a;return b(c,d)}})};l.parseArgs=function(b,a,c){var d=a.data,e=a.query;!d||c||"object"!==typeof d||d instanceof ArrayBuffer||d instanceof Blob||(a.data=h.objectToQuery(d));e?("object"===typeof e&&(e=h.objectToQuery(e)),a.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):a.preventCache&&(e="request.preventCache\x3d"+
+new Date);b&&e&&(b+=(~b.indexOf("?")?"\x26":"?")+e);return{url:b,options:a,getHeader:function(b){return null}}};l.checkStatus=function(b){b=b||0;return 200<=b&&300>b||304===b||1223===b||!b}})},"dojo/errors/RequestError":function(){define(["./create"],function(l){return l("RequestError",function(a,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(l,a){return l("RequestTimeoutError",null,a,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(l,a,k,m,h){function g(b,a){var c=b.xhr;b.status=b.xhr.status;try{b.text=c.responseText}catch(r){}"xml"===b.options.handleAs&&(b.data=c.responseXML);var d;if(a)this.reject(a);else{try{k(b)}catch(r){d=r}m.checkStatus(c.status)?d?this.reject(d):this.resolve(b):(a=d?new l("Unable to load "+b.url+" status: "+c.status+" and an error in handleAs: transformation of response",b):new l("Unable to load "+b.url+" status: "+c.status,b),this.reject(a))}}function f(b){return this.xhr.getResponseHeader(b)}
function e(t,k,C){var z=k&&k.data&&k.data instanceof FormData,r=m.parseArgs(t,m.deepCreate(u,k),z);t=r.url;k=r.options;var D=!k.data&&"POST"!==k.method&&"PUT"!==k.method;10>=h("ie")&&(t=t.split("#")[0]);var y,A=m.deferred(r,v,b,c,g,function(){y&&y()}),E=r.xhr=e._create();if(!E)return A.cancel(new l("XHR was not created")),C?A:A.promise;r.getHeader=f;n&&(y=n(E,A,r,k.uploadProgress));var I="undefined"===typeof k.data?null:k.data,H=!k.sync,L=k.method;try{E.open(L,t,H,k.user||x,k.password||x);k.withCredentials&&
(E.withCredentials=k.withCredentials);k.handleAs in d&&(E.responseType=d[k.handleAs]);var J=k.headers;t=z||D?!1:"application/x-www-form-urlencoded";if(J)for(var G in J)"content-type"===G.toLowerCase()?t=J[G]:J[G]&&E.setRequestHeader(G,J[G]);t&&!1!==t&&E.setRequestHeader("Content-Type",t);J&&"X-Requested-With"in J||E.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",r,A.promise.cancel);E.send(I)}catch(Q){A.reject(Q)}a(A);E=null;return C?A:A.promise}h.add("dojo-force-activex-xhr",
function(){return 0});var d={blob:"blob",document:"document",arraybuffer:"arraybuffer"},b,c,n,v;b=function(b){return!this.isFulfilled()};v=function(b,a){a.xhr.abort()};n=function(b,a,c,d){function e(b){a.handleResponse(c)}function f(b){b=new l("Unable to load "+c.url+" status: "+b.target.status,c);a.handleResponse(c,b)}function n(b,d){c.transferType=b;d.lengthComputable?(c.loaded=d.loaded,c.total=d.total,a.progress(c)):3===c.xhr.readyState&&(c.loaded="loaded"in d?d.loaded:d.position,a.progress(c))}
function g(b){return n("download",b)}function h(b){return n("upload",b)}b.addEventListener("load",e,!1);b.addEventListener("error",f,!1);b.addEventListener("progress",g,!1);d&&b.upload&&b.upload.addEventListener("progress",h,!1);return function(){b.removeEventListener("load",e,!1);b.removeEventListener("error",f,!1);b.removeEventListener("progress",g,!1);b.upload.removeEventListener("progress",h,!1);b=null}};var x,u={data:null,query:null,sync:!1,method:"GET"};e._create=function(){throw Error("XMLHTTP not available");
};h("dojo-force-activex-xhr")||(e._create=function(){return new XMLHttpRequest});m.addCommonMethods(e);return e})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(l,a,k,m){function h(a){var e=g[a.options.handleAs];a.data=e?e(a):a.data||a.text;return a}k=function(a){return a.xhr.response};var g={javascript:function(f){return a.eval(f.text||"")},json:function(a){return l.parse(a.text||null)},xml:void 0,blob:k,
arraybuffer:k,document:k};h.register=function(a,e){g[a]=e};return h})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(l,a,k,m,h,g,f,e,d){var b=k.mixin,c={},n=c._Line=function(b,a){this.start=b;this.end=a};n.prototype.getValue=function(b){return(this.end-this.start)*b+this.start};var v=c.Animation=function(a){b(this,a);k.isArray(this.curve)&&(this.curve=new n(this.curve[0],this.curve[1]))};v.prototype=new m;
k.extend(v,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var b=this._percent,a=this.easing;return a?a(b):b},_fire:function(b,c){c=c||[];if(this[b])if(a.debugAtAllCosts)this[b].apply(this,c);else try{this[b].apply(this,c)}catch(D){console.error("exception in animation handler for:",b),console.error(D)}return this},play:function(b,a){this._delayTimer&&this._clearTimer();if(a)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;
this._fire("beforeBegin",[this.node]);b=b||this.delay;a=k.hitch(this,"_play",a);if(0<b)return this._delayTimer=setTimeout(a,b),this;a();return this},_play:function(b){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;b=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[b]));this._fire("onPlay",[b]);
this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(b,a){this._stopTimer();this._active=this._paused=!0;this._percent=b;a&&this.play();return this},stop:function(b){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();b&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);
this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var b=(new Date).valueOf(),b=0===this.duration?1:(b-this._startTime)/this.duration;1<=b&&(b=1);this._percent=b;this.easing&&(b=this.easing(b));this._fire("onAnimate",[this.curve.getValue(b)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,
!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var x=0,u=null,t={run:function(){}};k.extend(v,{_startTimer:function(){this._timer||(this._timer=g.after(t,"run",k.hitch(this,"_cycle"),!0),x++);u||(u=setInterval(k.hitch(t,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),
this._timer=null,x--);0>=x&&(clearInterval(u),u=null,x=0)}});var z=f("ie")?function(b){var a=b.style;a.width.length||"auto"!=d.get(b,"width")||(a.width="auto")}:function(){};c._fade=function(a){a.node=e.byId(a.node);var f=b({properties:{}},a);a=f.properties.opacity={};a.start="start"in f?f.start:function(){return+d.get(f.node,"opacity")||0};a.end=f.end;a=c.animateProperty(f);g.after(a,"beforeBegin",k.partial(z,f.node),!0);return a};c.fadeIn=function(a){return c._fade(b({end:1},a))};c.fadeOut=function(a){return c._fade(b({end:0},
a))};c._defaultEasing=function(b){return.5+Math.sin((b+1.5)*Math.PI)/2};var C=function(b){this._properties=b;for(var a in b){var c=b[a];c.start instanceof h&&(c.tempColor=new h)}};C.prototype.getValue=function(b){var a={},c;for(c in this._properties){var d=this._properties[c],e=d.start;e instanceof h?a[c]=h.blendColors(e,d.end,b,d.tempColor).toCss():k.isArray(e)||(a[c]=(d.end-e)*b+e+("opacity"!=c?d.units||"px":0))}return a};c.animateProperty=function(a){var c=a.node=e.byId(a.node);a.easing||(a.easing=
l._defaultEasing);a=new v(a);g.after(a,"beforeBegin",k.hitch(a,function(){var a={},e;for(e in this.properties){var f=function(b,a){var c={height:b.offsetHeight,width:b.offsetWidth}[a];if(void 0!==c)return c;c=d.get(b,a);return"opacity"==a?+c:g?c:parseFloat(c)};if("width"==e||"height"==e)this.node.display="block";var n=this.properties[e];k.isFunction(n)&&(n=n(c));n=a[e]=b({},k.isObject(n)?n:{end:n});k.isFunction(n.start)&&(n.start=n.start(c));k.isFunction(n.end)&&(n.end=n.end(c));var g=0<=e.toLowerCase().indexOf("color");
"end"in n?"start"in n||(n.start=f(c,e)):n.end=f(c,e);g?(n.start=new h(n.start),n.end=new h(n.end)):n.start="opacity"==e?+n.start:parseFloat(n.start)}this.curve=new C(a)}),!0);g.after(a,"onAnimate",k.hitch(d,"set",a.node),!0);return a};c.anim=function(b,a,d,e,f,n){return c.animateProperty({node:b,duration:d||v.prototype.duration,properties:a,easing:e,onEnd:f}).play(n||0)};b(l,c);l._Animation=v;return c})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(l,a,
k,m){var h=l.Color=function(a){a&&this.setColor(a)};h.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};a.extend(h,{r:255,g:255,b:255,a:1,_set:function(a,f,e,d){this.r=a;this.g=f;this.b=e;this.a=d},setColor:function(g){a.isString(g)?
h.fromString(g,this):a.isArray(g)?h.fromArray(g,this):(this._set(g.r,g.g,g.b,g.a),g instanceof h||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var f=this.r+", "+this.g+", "+this.b;return(a?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});
h.blendColors=l.blendColors=function(a,f,e,d){d=d||new h;d.r=Math.round(a.r+(f.r-a.r)*e);d.g=Math.round(a.g+(f.g-a.g)*e);d.b=Math.round(a.b+(f.b-a.b)*e);d.a=a.a+(f.a-a.a)*e;return d.sanitize()};h.fromRgb=l.colorFromRgb=function(a,f){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&h.fromArray(a[1].split(/\s*,\s*/),f)};h.fromHex=l.colorFromHex=function(a,f){var e=f||new h,d=4==a.length?4:8,b=(1<<d)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;k.forEach(["b","g","r"],function(c){var f=
a&b;a>>=d;e[c]=4==d?17*f:f});e.a=1;return e};h.fromArray=l.colorFromArray=function(a,f){f=f||new h;f._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(f.a)&&(f.a=1);return f.sanitize()};h.fromString=l.colorFromString=function(a,f){var e=h.named[a];return e&&h.fromArray(e,f)||h.fromRgb(a,f)||h.fromHex(a,f)};return h})},"esri/config":function(){define(["require","exports","./core/global"],function(l,a,k){l={applicationUrl:k.location&&k.location.href,screenDPI:96,fontsUrl:"https://static.arcgis.com/fonts",
geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};l.request.corsEnabledServers=[];l.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return l})},"esri/core/global":function(){define(["require","exports"],function(l,a){return function(){if("undefined"!==typeof self)return self;if("undefined"!==
typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/kernel":function(){define(["require","./core/promiseUtils","./core/has","./support/revision","dojo/_base/kernel"],function(l,a,k,m,h){(function(){var a=h.config,e=a.has&&void 0!==a.has["config-deferredInstrumentation"],d=a.has&&void 0!==a.has["config-useDeferredInstrumentation"];void 0!==a.useDeferredInstrumentation||e||d||(k.add("config-deferredInstrumentation",!1,!0,!0),k.add("config-useDeferredInstrumentation",
!1,!0,!0))})();var g={version:"4.13",workerMessages:{request:function(f){return a.create(function(a){l(["./request"],a)}).then(function(a){var d=f.options||{};d.responseType="array-buffer";return a(f.url,d)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}},revision:m.commitHash};!k("host-webworker")&&k("esri-console-log-version")&&console.debug("Using ArcGIS API for JavaScript "+g.version+" [Date: "+m.buildDate+", Revision: "+g.revision.slice(0,8)+"]");return g})},
"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./Error ./events ./maybe ./has ./clock @dojo/framework/shim/Promise".split(" "),function(l,a,k,m,h,g,f,e,d,b){function c(b){return d("esri-native-promise")?Promise.all(b):h(b)}function n(b,a){if(d("esri-native-promise"))return new Promise(b);var c=new m(a);try{b(function(b){return I(b).then(c.resolve)},c.reject)}catch(G){c.reject(G)}return c.promise}function v(b){void 0===
b&&(b="Aborted");b=new g("AbortError",b);b.dojoType="cancel";return b}function x(){return new k.default}function u(b){if(z(b))throw v();}function t(b){return e.isSome(b)?"aborted"in b?b:b.signal:b}function z(b){b=t(b);return e.isSome(b)&&b.aborted}function C(b,a){b=t(b);if(!e.isNone(b))if(b.aborted)a();else return f.once(b,"abort",a)}function B(b){return b&&("AbortError"===b.name||"cancel"===b.dojoType)}function r(b){var a=null;b=n(function(b,c){a={resolve:b,reject:c}},b);a.promise=b;a.cancel=function(){a.reject(v())};
return a}function D(b){if(b){if("function"!==typeof b.forEach){var a=Object.keys(b),c=a.map(function(a){return b[a]});return D(c).then(function(b){var c={};a.forEach(function(a,d){return c[a]=b[d]});return c})}var d=null,e=A;return n(function(a,c){var f=[],n=b.length;0===n&&a(f);b.forEach(function(b){var g={promise:b||e(b)};f.push(g);g.promise.then(function(b){g.value=b}).catch(function(b){g.error=b}).then(function(){--n;0===n&&(d?c(v()):a(f))})})},function(a){d=a||"Invocation cancellation";b.forEach(function(b){"cancel"in
b&&b.cancel(a)})})}}function y(b){if(d("esri-native-promise"))return Promise.reject(b);var a=new m;a.reject(b);return a.promise}function A(b){void 0===b&&(b=void 0);if(d("esri-native-promise"))return Promise.resolve(b);var a=new m;a.resolve(b);return a.promise}function E(b,a,c){void 0===a&&(a=void 0);var d=x();C(c,function(){return d.abort()});return n(function(c){var e=setTimeout(function(){e=0;c(a)},b);C(d,function(){e&&(clearTimeout(e),y(v()))})},function(){return d.abort()})}function I(b){return b&&
"object"===typeof b&&"then"in b&&"function"===typeof b.then?b:A(b)}Object.defineProperty(a,"__esModule",{value:!0});d.add("esri-native-promise",!1);a.all=c;a.filter=function(b,a){var d=b.slice();return c(b.map(function(b,c){return a(b,c)})).then(function(b){return d.filter(function(a,c){return b[c]})})};a.create=n;a.createAbortError=v;a.createAbortController=x;a.throwIfAborted=u;a.isAborted=z;a.throwIfAbortError=function(b){if(B(b))throw b;};a.onAbort=C;a.onAbortOrThrow=function(b,a){b=t(b);if(!e.isNone(b))return u(b),
f.once(b,"abort",a)};a.isAbortError=B;a.createDeferred=r;a.eachAlways=D;a.eachAlwaysValues=function(b){return D(b).then(function(b){return b.filter(function(b){return!!b.value}).map(function(b){return b.value})})};a.first=function(b){return b&&b.length?n(function(a,c){for(var d=0;d<b.length;d++)b[d].then(a,c)}):A()};a.reject=y;a.resolve=A;a.after=E;a.timeout=function(b,a,c,d){var e=c&&"abort"in c?c:null;null!=d||e||(d=c);var f=setTimeout(function(){f=0;e&&e.abort()},a),n=function(){throw d||new g("promiseUtils:timeout",
"The wrapped promise did not resolve within "+a+" ms");};return b.then(function(b){if(0===f)throw n();clearTimeout(f);return b},function(b){clearTimeout(f);throw 0===f?n():b;})};a.wrapCallback=function(b){var a=!1;return n(function(){b(function(b){a||A(b)})},function(){return a=!0})};a.isThenable=function(b){return b&&"function"===typeof b.then};a.when=I;a.debounce=function(b,a){void 0===a&&(a=-1);var c,d,e,f,n=null,g=function(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];if(c)return d=
h,f&&f.reject(v()),f=r(),h=f.promise,n&&(t=n,n=null,t.abort()),h;e=f||r();f=null;if(0<a){var k=x(),u=c=I(b.apply(void 0,h.concat([k.signal])));E(a).then(function(){c===u&&(f?k.abort():n=k)})}else c=I(b.apply(void 0,h));var h=function(){var b=d;d=e=c=n=null;null!=b&&g.apply(void 0,b)},t=c,y=e;t.then(h,h);t.then(y.resolve,y.reject);return y.promise};return g};a.createResolver=function(a){var c,d;a=n(function(b,a){c=b;d=a},a);var e=function(b){c(b)};e.resolve=function(b){return c(b)};e.reject=function(b){return d(b)};
e.timeout=function(a,c){return b.default.setTimeout(function(){return e.reject(c)},a)};e.promise=a;return e};a.always=function(b,a){return b.then(a,a)}})},"@dojo/framework/shim/AbortController":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});
var k=l("./global"),m=l("../has/has"),h=l("./array");a.ShimAbortSignal=k.default.AbortSignal;m.default("abort-signal")||(k.default.AbortSignal=a.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,e){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(e)};a.prototype.removeEventListener=function(a,e){if(a in
this.listeners){var d=h.findIndex(this.listeners[a],function(b){return b===e});0<=d&&this.listeners[a].splice(d,1)}};a.prototype.dispatchEvent=function(a){var e=this,d=a.type;"abort"===d&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,a));if(!(d in this.listeners))return!1;this.listeners[d].forEach(function(b){setTimeout(function(){return b.call(e,a)},0)});return!a.preventDefault};return a}());a.ShimAbortController=k.default.AbortController;m.default("abort-controller")||
(k.default.AbortController=a.ShimAbortController=function(){function g(){this.signal=new a.ShimAbortSignal}g.prototype.abort=function(){var a;try{a=new Event("abort")}catch(e){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return g}());a.default=a.ShimAbortController})},"@dojo/framework/shim/global":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=
l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();a.default=l})},"@dojo/framework/has/has":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=
l)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],l)})(function(l,a){function k(b){b=b.toLowerCase();return!!(b in e||b in a.testCache||a.testFunctions[b])}function m(b,c,d){void 0===d&&(d=!1);var f=b.toLowerCase();if(k(f)&&!d&&!(f in e))throw new TypeError('Feature "'+b+'" exists and overwrite not true.');"function"===typeof c?a.testFunctions[f]=c:(a.testCache[f]=c,delete a.testFunctions[f])}function h(b){var c=b.toLowerCase();if(c in e)b=e[c];else if(a.testFunctions[c])b=
a.testCache[c]=a.testFunctions[c].call(null),delete a.testFunctions[c];else if(c in a.testCache)b=a.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+b+'"');return b}Object.defineProperty(a,"__esModule",{value:!0});var g=l("tslib"),f=l("../shim/global");a.testCache={};a.testFunctions={};l=(f.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in f.default&&delete f.default.DojoHasEnvironment;var e=l?"function"===typeof l?l.apply(f.default):l:{};a.load=
function(b,a,d,e){b?a([b],d):d()};a.normalize=function(b,a){function c(b){var a=d[e++];if(":"===a)return null;if("?"===d[e++]){if(!b&&h(a))return c();c(!0);return c(b)}return a}var d=b.match(/[\?:]|[^:\?]*/g)||[],e=0;return(b=c())&&a(b)};a.exists=k;a.add=m;a.default=h;m("public-path",void 0);m("dojo-debug",!1);m("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);m("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});
m("fetch","fetch"in f.default&&"function"===typeof f.default.fetch,!0);m("es6-array",function(){return["from","of"].every(function(b){return b in f.default.Array})&&["findIndex","find","copyWithin"].every(function(b){return b in f.default.Array.prototype})},!0);m("es6-array-fill",function(){return"fill"in f.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);m("es7-array",function(){return"includes"in f.default.Array.prototype},!0);m("es6-map",function(){if("function"===typeof f.default.Map)try{var b=
new f.default.Map([[0,1]]);return b.has(0)&&"function"===typeof b.keys&&h("es6-symbol")&&"function"===typeof b.values&&"function"===typeof b.entries}catch(c){}return!1},!0);m("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(b){return"function"===typeof f.default.Math[b]})},!0);m("es6-math-imul",function(){return"imul"in f.default.Math?-5===Math.imul(4294967295,5):!1},!0);m("es6-object",function(){return h("es6-symbol")&&
["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(b){return"function"===typeof f.default.Object[b]})},!0);m("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(b){return"function"===typeof f.default.Object[b]})},!0);m("es-observable",function(){return"undefined"!==typeof f.default.Observable},!0);m("es6-promise",function(){return"undefined"!==typeof f.default.Promise&&h("es6-symbol")},!0);m("es2018-promise-finally",function(){return h("es6-promise")&&
"undefined"!==typeof f.default.Promise.prototype.finally},!0);m("es6-set",function(){if("function"===typeof f.default.Set){var b=new f.default.Set([1]);return b.has(1)&&"keys"in b&&"function"===typeof b.keys&&h("es6-symbol")}return!1},!0);m("es6-string",function(){return["fromCodePoint"].every(function(b){return"function"===typeof f.default.String[b]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(b){return"function"===typeof f.default.String.prototype[b]})},
!0);m("es6-string-raw",function(){function b(b){for(var a=1;a<arguments.length;a++);a=g.__spread(b);a.raw=b.raw;return a}if("raw"in f.default.String){var a=b(d||(d=g.__makeTemplateObject(["a\n",""],["a\\n",""])),1);a.raw=["a\\n"];return"a\\n"===f.default.String.raw(a,42)}return!1},!0);m("es2017-string",function(){return["padStart","padEnd"].every(function(b){return"function"===typeof f.default.String.prototype[b]})},!0);m("es6-symbol",function(){return"undefined"!==typeof f.default.Symbol&&"symbol"===
typeof Symbol()},!0);m("es6-weakmap",function(){if("undefined"!==typeof f.default.WeakMap){var b={},a={},d=new f.default.WeakMap([[b,1]]);Object.freeze(b);return 1===d.get(b)&&d.set(a,2)===d&&h("es6-symbol")}return!1},!0);m("microtasks",function(){return h("es6-promise")||0||h("dom-mutationobserver")},!0);m("postmessage",function(){return"undefined"!==typeof f.default.window&&"function"===typeof f.default.postMessage},!0);m("raf",function(){return"function"===typeof f.default.requestAnimationFrame},
!0);m("setimmediate",function(){return"undefined"!==typeof f.default.setImmediate},!0);m("dom-mutationobserver",function(){if(h("host-browser")&&(f.default.MutationObserver||f.default.WebKitMutationObserver)){var b=document.createElement("div"),a=new (f.default.MutationObserver||f.default.WebKitMutationObserver)(function(){});a.observe(b,{attributes:!0});b.style.setProperty("display","block");return!!a.takeRecords().length}return!1},!0);m("dom-webanimation",function(){return h("host-browser")&&void 0!==
f.default.Animation&&void 0!==f.default.KeyframeEffect},!0);m("abort-controller",function(){return"undefined"!==typeof f.default.AbortController});m("abort-signal",function(){return"undefined"!==typeof f.default.AbortSignal});m("dom-intersection-observer",function(){return h("host-browser")&&void 0!==f.default.IntersectionObserver},!0);m("dom-resize-observer",function(){return h("host-browser")&&void 0!==f.default.ResizeObserver},!0);m("dom-pointer-events",function(){return h("host-browser")&&void 0!==
f.default.onpointerdown},!0);m("build-elide",!1);var d})},"tslib/tslib":function(){var l,a,k,m,h,g,f,e,d,b,c,n,v,x,u,t,z,C,B;(function(b){function a(b,a){b!==c&&("function"===typeof Object.create?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0);return function(c,d){return b[c]=a?a(c,d):d}}var c="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(d){b(a(c,a(d)))}):"object"===
typeof module&&"object"===typeof module.exports?b(a(c,a(module.exports))):b(a(c))})(function(r){var D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};l=function(b,a){function c(){this.constructor=b}D(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};a=Object.assign||function(b){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(b[e]=a[e])}return b};k=function(b,a){var c={},d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&0>a.indexOf(d)&&(c[d]=b[d]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(b);e<d.length;e++)0>a.indexOf(d[e])&&(c[d[e]]=b[d[e]])}return c};m=function(b,a,c,d){var e=arguments.length,f=3>e?a:null===d?d=Object.getOwnPropertyDescriptor(a,c):d,n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(b,a,c,d);
else for(var g=b.length-1;0<=g;g--)if(n=b[g])f=(3>e?n(f):3<e?n(a,c,f):n(a,c))||f;return 3<e&&f&&Object.defineProperty(a,c,f),f};h=function(b,a){return function(c,d){a(c,d,b)}};g=function(b,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(b,a)};f=function(b,a,c,d){return new (c||(c=Promise))(function(e,f){function n(b){try{h(d.next(b))}catch(F){f(F)}}function g(b){try{h(d["throw"](b))}catch(F){f(F)}}function h(b){b.done?e(b.value):(new c(function(a){a(b.value)})).then(n,
g)}h((d=d.apply(b,a||[])).next())})};e=function(b,a){function c(b){return function(a){return d([b,a])}}function d(c){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,n&&(g=c[0]&2?n["return"]:c[0]?n["throw"]||((g=n["return"])&&g.call(n),0):n.next)&&!(g=g.call(n,c[1])).done)return g;if(n=0,g)c=[c[0]&2,g.value];switch(c[0]){case 0:case 1:g=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++;n=c[1];c=[0];continue;case 7:c=e.ops.pop();e.trys.pop();continue;
default:if(!(g=e.trys,g=0<g.length&&g[g.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3]))e.label=c[1];else if(6===c[0]&&e.label<g[1])e.label=g[1],g=c;else if(g&&e.label<g[2])e.label=g[2],e.ops.push(c);else{g[2]&&e.ops.pop();e.trys.pop();continue}}c=a.call(b,e)}catch(F){c=[6,F],n=0}finally{f=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,n,g,h;return h={next:c(0),
"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h};d=function(b,a){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])};b=function(b){var a="function"===typeof Symbol&&b[Symbol.iterator],c=0;return a?a.call(b):{next:function(){b&&c>=b.length&&(b=void 0);return{value:b&&b[c++],done:!b}}}};c=function(b,a){var c="function"===typeof Symbol&&b[Symbol.iterator];if(!c)return b;b=c.call(b);var d,e=[],f;try{for(;(void 0===a||0<a--)&&!(d=b.next()).done;)e.push(d.value)}catch(J){f=
{error:J}}finally{try{d&&!d.done&&(c=b["return"])&&c.call(b)}finally{if(f)throw f.error;}}return e};n=function(){for(var b=[],a=0;a<arguments.length;a++)b=b.concat(c(arguments[a]));return b};v=function(b){return this instanceof v?(this.v=b,this):new v(b)};x=function(b,a,c){function d(b){h[b]&&(t[b]=function(a){return new Promise(function(c,d){1<k.push([b,a,c,d])||e(b,a)})})}function e(b,a){try{var c=h[b](a);c.value instanceof v?Promise.resolve(c.value.v).then(f,n):g(k[0][2],c)}catch(T){g(k[0][3],
T)}}function f(b){e("next",b)}function n(b){e("throw",b)}function g(b,a){(b(a),k.shift(),k.length)&&e(k[0][0],k[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h=c.apply(b,a||[]),t,k=[];return t={},d("next"),d("throw"),d("return"),t[Symbol.asyncIterator]=function(){return this},t};u=function(b){function a(a,e){c[a]=b[a]?function(c){return(d=!d)?{value:v(b[a](c)),done:"return"===a}:e?e(c):c}:e}var c,d;return c={},a("next"),a("throw",function(b){throw b;
}),a("return"),c[Symbol.iterator]=function(){return this},c};t=function(a){function c(b){f[b]=a[b]&&function(c){return new Promise(function(e,f){c=a[b](c);d(e,f,c.done,c.value)})}}function d(b,a,c,d){Promise.resolve(d).then(function(a){b({value:a,done:c})},a)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],f;return e?e.call(a):(a="function"===typeof b?b(a):a[Symbol.iterator](),f={},c("next"),c("throw"),c("return"),f[Symbol.asyncIterator]=
function(){return this},f)};z=function(b,a){Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a;return b};C=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a};B=function(b){return b&&b.__esModule?b:{"default":b}};r("__extends",l);r("__assign",a);r("__rest",k);r("__decorate",m);r("__param",h);r("__metadata",g);r("__awaiter",f);r("__generator",e);r("__exportStar",d);r("__values",b);r("__read",
c);r("__spread",n);r("__await",v);r("__asyncGenerator",x);r("__asyncDelegator",u);r("__asyncValues",t);r("__makeTemplateObject",z);r("__importStar",C);r("__importDefault",B)})},"@dojo/framework/shim/array":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),l)})(function(l,a){Object.defineProperty(a,
"__esModule",{value:!0});var k=l("tslib"),m=l("./global"),h=l("./iterator"),g=l("./number"),f=l("../has/has");l=l("./support/util");if(f.default("es6-array")&&f.default("es6-array-fill"))a.from=m.default.Array.from,a.of=m.default.Array.of,a.copyWithin=l.wrapNative(m.default.Array.prototype.copyWithin),a.fill=l.wrapNative(m.default.Array.prototype.fill),a.find=l.wrapNative(m.default.Array.prototype.find),a.findIndex=l.wrapNative(m.default.Array.prototype.findIndex);else{var e=function(b){if(isNaN(b))return 0;
b=Number(b);isFinite(b)&&(b=Math.floor(b));return Math.min(Math.max(b,0),g.MAX_SAFE_INTEGER)},d=function(b){b=Number(b);return isNaN(b)?0:0!==b&&isFinite(b)?(0<b?1:-1)*Math.floor(Math.abs(b)):b},b=function(b,a){return 0>b?Math.max(a+b,0):Math.min(b,a)};a.from=function(b,a,d){if(null==b)throw new TypeError("from: requires an array-like object");a&&d&&(a=a.bind(d));d=e(b.length);var c="function"===typeof this?Object(new this(d)):Array(d);if(!h.isArrayLike(b)&&!h.isIterable(b))return c;if(h.isArrayLike(b)){if(0===
d)return[];for(var f=0;f<b.length;f++)c[f]=a?a(b[f],f):b[f]}else{f=0;try{for(var n=k.__values(b),g=n.next();!g.done;g=n.next()){var v=g.value;c[f]=a?a(v,f):v;f++}}catch(D){m={error:D}}finally{try{g&&!g.done&&(r=n.return)&&r.call(n)}finally{if(m)throw m.error;}}}void 0!==b.length&&(c.length=d);return c;var m,r};a.of=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return Array.prototype.slice.call(b)};a.copyWithin=function(a,f,g,h){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");
var c=e(a.length);f=b(d(f),c);g=b(d(g),c);h=b(void 0===h?c:d(h),c);h=Math.min(h-g,c-f);c=1;f>g&&f<g+h&&(c=-1,g+=h-1,f+=h-1);for(;0<h;)g in a?a[f]=a[g]:delete a[f],f+=c,g+=c,h--;return a};a.fill=function(a,f,g,h){var c=e(a.length);g=b(d(g),c);for(h=b(void 0===h?c:d(h),c);g<h;)a[g++]=f;return a};a.find=function(b,d,e){d=a.findIndex(b,d,e);return-1!==d?b[d]:void 0};a.findIndex=function(b,a,d){var c=e(b.length);if(!a)throw new TypeError("find: second argument must be a function");d&&(a=a.bind(d));for(d=
0;d<c;d++)if(a(b[d],d,b))return d;return-1}}f.default("es7-array")?a.includes=l.wrapNative(m.default.Array.prototype.includes):a.includes=function(b,a,d){void 0===d&&(d=0);var c;c=b.length;c=Number(c);isNaN(c)?c=0:(isFinite(c)&&(c=Math.floor(c)),c=Math.min(Math.max(c,0),g.MAX_SAFE_INTEGER));for(;d<c;++d){var e=b[d];if(a===e||a!==a&&e!==e)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==
l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],l)})(function(l,a){function k(a){return a&&"function"===typeof a[Symbol.iterator]}function m(a){return a&&"number"===typeof a.length}function h(a){if(k(a))return a[Symbol.iterator]();if(m(a))return new e(a)}Object.defineProperty(a,"__esModule",{value:!0});l("./Symbol");var g=l("./string"),f={done:!0,value:void 0},e=function(){function a(b){this._nextIndex=-1;k(b)?this._nativeIterator=
b[Symbol.iterator]():this._list=b}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:f:f};a.prototype[Symbol.iterator]=function(){return this};return a}();a.ShimIterator=e;a.isIterable=k;a.isArrayLike=m;a.get=h;a.forOf=function(a,b,c){function d(){e=!0}var e=!1;if(m(a)&&"string"===typeof a)for(var f=a.length,k=0;k<f;++k){var t=a[k];if(k+1<f){var l=t.charCodeAt(0);l>=g.HIGH_SURROGATE_MIN&&
l<=g.HIGH_SURROGATE_MAX&&(t+=a[++k])}b.call(c,t,a,d);if(e)break}else if(f=h(a))for(k=f.next();!k.done;){b.call(c,k.value,a,d);if(e)break;k=f.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],l)})(function(l,a){function k(b){return b&&("symbol"===typeof b||"Symbol"===
b["@@toStringTag"])||!1}Object.defineProperty(a,"__esModule",{value:!0});var m=l("../has/has"),h=l("./global"),g=l("./support/util");a.Symbol=h.default.Symbol;if(!m.default("es6-symbol")){var f=function(b){if(!k(b))throw new TypeError(b+" is not a symbol");return b},e=Object.defineProperties,d=Object.defineProperty,b=Object.create,c=Object.prototype,n={},v=function(){var a=b(null);return function(b){for(var e=0,f;a[String(b)+(e||"")];)++e;b+=String(e||"");a[b]=!0;f="@@"+b;Object.getOwnPropertyDescriptor(c,
f)||d(c,f,{set:function(b){d(this,f,g.getValueDescriptor(b))}});return f}}(),x=function t(b){if(this instanceof x)throw new TypeError("TypeError: Symbol is not a constructor");return t(b)};a.Symbol=h.default.Symbol=function z(b){if(this instanceof z)throw new TypeError("TypeError: Symbol is not a constructor");var a=Object.create(x.prototype);b=void 0===b?"":String(b);return e(a,{__description__:g.getValueDescriptor(b),__name__:g.getValueDescriptor(v(b))})};d(a.Symbol,"for",g.getValueDescriptor(function(b){return n[b]?
n[b]:n[b]=a.Symbol(String(b))}));e(a.Symbol,{keyFor:g.getValueDescriptor(function(b){var a;f(b);for(a in n)if(n[a]===b)return a}),hasInstance:g.getValueDescriptor(a.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:g.getValueDescriptor(a.Symbol.for("isConcatSpreadable"),!1,!1),iterator:g.getValueDescriptor(a.Symbol.for("iterator"),!1,!1),match:g.getValueDescriptor(a.Symbol.for("match"),!1,!1),observable:g.getValueDescriptor(a.Symbol.for("observable"),!1,!1),replace:g.getValueDescriptor(a.Symbol.for("replace"),
!1,!1),search:g.getValueDescriptor(a.Symbol.for("search"),!1,!1),species:g.getValueDescriptor(a.Symbol.for("species"),!1,!1),split:g.getValueDescriptor(a.Symbol.for("split"),!1,!1),toPrimitive:g.getValueDescriptor(a.Symbol.for("toPrimitive"),!1,!1),toStringTag:g.getValueDescriptor(a.Symbol.for("toStringTag"),!1,!1),unscopables:g.getValueDescriptor(a.Symbol.for("unscopables"),!1,!1)});e(x.prototype,{constructor:g.getValueDescriptor(a.Symbol),toString:g.getValueDescriptor(function(){return this.__name__},
!1,!1)});e(a.Symbol.prototype,{toString:g.getValueDescriptor(function(){return"Symbol ("+f(this).__description__+")"}),valueOf:g.getValueDescriptor(function(){return f(this)})});d(a.Symbol.prototype,a.Symbol.toPrimitive,g.getValueDescriptor(function(){return f(this)}));d(a.Symbol.prototype,a.Symbol.toStringTag,g.getValueDescriptor("Symbol",!1,!1,!0));d(x.prototype,a.Symbol.toPrimitive,g.getValueDescriptor(a.Symbol.prototype[a.Symbol.toPrimitive],!1,!1,!0));d(x.prototype,a.Symbol.toStringTag,g.getValueDescriptor(a.Symbol.prototype[a.Symbol.toStringTag],
!1,!1,!0))}a.isSymbol=k;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(b){a.Symbol[b]||Object.defineProperty(a.Symbol,b,g.getValueDescriptor(a.Symbol.for(b),!1,!1))});a.default=a.Symbol})},"@dojo/framework/shim/support/util":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&
define(["require","exports"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.getValueDescriptor=function(a,m,h,g){void 0===m&&(m=!1);void 0===h&&(h=!0);void 0===g&&(g=!0);return{value:a,enumerable:m,writable:h,configurable:g}};a.wrapNative=function(a){return function(k){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];return a.apply(k,h)}}})},"@dojo/framework/shim/string":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,
exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),m=l("./global"),h=l("../has/has");l=l("./support/util");a.HIGH_SURROGATE_MIN=55296;a.HIGH_SURROGATE_MAX=56319;a.LOW_SURROGATE_MIN=56320;a.LOW_SURROGATE_MAX=57343;if(h.default("es6-string")&&h.default("es6-string-raw"))a.fromCodePoint=m.default.String.fromCodePoint,
a.raw=m.default.String.raw,a.codePointAt=l.wrapNative(m.default.String.prototype.codePointAt),a.endsWith=l.wrapNative(m.default.String.prototype.endsWith),a.includes=l.wrapNative(m.default.String.prototype.includes),a.normalize=l.wrapNative(m.default.String.prototype.normalize),a.repeat=l.wrapNative(m.default.String.prototype.repeat),a.startsWith=l.wrapNative(m.default.String.prototype.startsWith);else{var g=function(a,e,d,b,c){void 0===c&&(c=!1);if(null==e)throw new TypeError("string."+a+" requires a valid string to search against.");
a=e.length;return[e,String(d),Math.min(Math.max(b!==b?c?a:0:b,0),a)]};a.fromCodePoint=function(){for(var f=0;f<arguments.length;f++);f=arguments.length;if(!f)return"";for(var e=String.fromCharCode,d=[],b=-1,c="";++b<f;){var n=Number(arguments[b]);if(!(isFinite(n)&&Math.floor(n)===n&&0<=n&&1114111>=n))throw RangeError("string.fromCodePoint: Invalid code point "+n);65535>=n?d.push(n):(n-=65536,d.push((n>>10)+a.HIGH_SURROGATE_MIN,n%1024+a.LOW_SURROGATE_MIN));if(b+1===f||16384<d.length)c+=e.apply(null,
d),d.length=0}return c};a.raw=function(a){for(var e=[],d=1;d<arguments.length;d++)e[d-1]=arguments[d];var d=a.raw,b="",c=e.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var f=0,g=d.length;f<g;f++)b+=d[f]+(f<c&&f<g-1?e[f]:"");return b};a.codePointAt=function(f,e){void 0===e&&(e=0);if(null==f)throw new TypeError("string.codePointAt requries a valid string.");var d=f.length;e!==e&&(e=0);if(!(0>e||e>=d)){var b=f.charCodeAt(e);return b>=
a.HIGH_SURROGATE_MIN&&b<=a.HIGH_SURROGATE_MAX&&d>e+1&&(f=f.charCodeAt(e+1),f>=a.LOW_SURROGATE_MIN&&f<=a.LOW_SURROGATE_MAX)?1024*(b-a.HIGH_SURROGATE_MIN)+f-a.LOW_SURROGATE_MIN+65536:b}};a.endsWith=function(a,e,d){if(""===e)return!0;if("undefined"===typeof d)d=a.length;else if(null===d||isNaN(d))return!1;d=k.__read(g("endsWith",a,e,d,!0),3);a=d[0];e=d[1];d=d[2];var b=d-e.length;return 0>b?!1:a.slice(b,d)===e};a.includes=function(a,e,d){void 0===d&&(d=0);d=k.__read(g("includes",a,e,d),3);a=d[0];e=d[1];
d=d[2];return-1!==a.indexOf(e,d)};a.repeat=function(a,e){void 0===e&&(e=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");e!==e&&(e=0);if(0>e||Infinity===e)throw new RangeError("string.repeat requires a non-negative finite count.");for(var d="";e;)e%2&&(d+=a),1<e&&(a+=a),e>>=1;return d};a.startsWith=function(a,e,d){void 0===d&&(d=0);e=String(e);d=k.__read(g("startsWith",a,e,d),3);a=d[0];e=d[1];d=d[2];var b=d+e.length;return b>a.length?!1:a.slice(d,b)===e}}h.default("es2017-string")?
(a.padEnd=l.wrapNative(m.default.String.prototype.padEnd),a.padStart=l.wrapNative(m.default.String.prototype.padStart)):(a.padEnd=function(f,e,d){void 0===d&&(d=" ");if(null===f||void 0===f)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;f=String(f);e-=f.length;0<e&&(f+=a.repeat(d,Math.floor(e/d.length))+d.slice(0,e%d.length));return f},a.padStart=function(f,e,
d){void 0===d&&(d=" ");if(null===f||void 0===f)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;f=String(f);e-=f.length;0<e&&(f=a.repeat(d,Math.floor(e/d.length))+d.slice(0,e%d.length)+f);return f})})},"@dojo/framework/shim/number":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=
l)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],l)})(function(l,a){function k(a){return"number"===typeof a&&h.default.isFinite(a)}function m(a){return k(a)&&Math.floor(a)===a}Object.defineProperty(a,"__esModule",{value:!0});var h=l("./global");a.EPSILON=1;a.MAX_SAFE_INTEGER=Math.pow(2,53)-1;a.MIN_SAFE_INTEGER=-a.MAX_SAFE_INTEGER;a.isNaN=function(a){return"number"===typeof a&&h.default.isNaN(a)};a.isFinite=k;a.isInteger=m;a.isSafeInteger=function(g){return m(g)&&
Math.abs(g)<=a.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(l,a,k,m){var h=l.some;return function(g){var f,e;a.isArray(g)?e=g:g&&"object"===typeof g&&(f=g);var d,b=[];if(f){e=[];for(var c in f)Object.hasOwnProperty.call(f,c)&&(b.push(c),e.push(f[c]));d={}}else e&&(d=[]);if(!e||!e.length)return(new k).resolve(d);var n=new k;n.promise.always(function(){d=b=null});var v=e.length;h(e,function(a,c){f||b.push(c);m(a,function(a){n.isFulfilled()||
(d[b[c]]=a,0===--v&&n.resolve(d))},n.reject);return n.isFulfilled()});return n.promise}})},"esri/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(l,a,k,m,h){l=function(a){function f(e,d,b){var c=a.call(this,e,d,b)||this;return c instanceof f?c:new f(e,d,b)}k(f,a);f.prototype.toJSON=function(){return{name:this.name,message:this.message,details:m.clone(this.details),dojoType:this.dojoType}};f.fromJSON=function(a){var d=new f(a.name,a.message,
a.details);null!=a.dojoType&&(d.dojoType=a.dojoType);return d};return f}(h);l.prototype.type="error";return l})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,k){a.__proto__=k}||function(a,k){for(var m in k)k.hasOwnProperty(m)&&(a[m]=k[m])};return function(a,k){function m(){this.constructor=a}l(a,k);a.prototype=null===k?Object.create(k):(m.prototype=k.prototype,new m)}}()})},"esri/core/lang":function(){define(["require",
"exports","./typedArrayUtil"],function(l,a,k){function m(a,e){var d;if(e)for(d in a)a.hasOwnProperty(d)&&(void 0===a[d]?delete a[d]:a[d]instanceof Object&&m(a[d],!0));else for(d in a)a.hasOwnProperty(d)&&void 0===a[d]&&delete a[d];return a}function h(a){return a&&"object"===typeof a&&"function"!==typeof a?k.isInt8Array(a)||k.isUint8Array(a)||k.isUint8ClampedArray(a)||k.isInt16Array(a)||k.isUint16Array(a)||k.isInt32Array(a)||k.isUint32Array(a)||k.isFloat32Array(a)||k.isFloat64Array(a)?k.slice(a):a instanceof
Date?new Date(a.getTime()):a instanceof ArrayBuffer?a.slice(0,a.byteLength):"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(h):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():g({},a,h):a}function g(a,e,d){var b,c,f={};for(b in e){c=e[b];var g=!(b in f)||f[b]!==c;if(!(b in a)||a[b]!==c&&g)a[b]=d?d(c):c}return a}Object.defineProperty(a,"__esModule",{value:!0});a.fixJson=m;a.clone=h;a.equals=function(a,e){return a===e||"number"===
typeof a&&isNaN(a)&&"number"===typeof e&&isNaN(e)||"function"===typeof(a||{}).getTime&&"function"===typeof(e||{}).getTime&&a.getTime()===e.getTime()||!1};a.mixin=function(a){void 0===a&&(a={});for(var e=1;e<arguments.length;e++);for(var e=1,d=arguments.length;e<d;e++)g(a,arguments[e]);return a}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,m){if(a.forEach)a.forEach(m);else for(var h=0;h<a.length;h++)m(a[h],
h,a)};a.slice=function(a,m,h){if(a.slice)return a.slice(m,h);void 0===m?m=0:(0>m&&(m+=a.length),m=Math.min(a.length,Math.max(0,m)));void 0===h?h=a.length:(0>h&&(h+=a.length),h=Math.min(a.length,Math.max(0,h)));h=Math.max(0,h-m);for(var g=new a.constructor(h),f=0;f<h;f++)g[f]=a[m+f];return g};a.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};a.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};
a.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};a.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};a.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};a.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};a.isInt32Array=function(a){return a instanceof
Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};a.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};a.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};a.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};a.toArray=function(a){for(var k=Array(a.length),h=0;h<a.length;h++)k[h]=a[h];return k};
a.estimateSize=function(a){return a?128+a.buffer.byteLength+64:0}})},"esri/core/Message":function(){define(["require","exports","./object"],function(l,a,k){function m(a,g){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,e,d){if(""===e)return"$";a=k.getDeepValue(e,g);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+e+'" in template');return a.toString()})}return function(){function a(g,f,e){this instanceof a&&(this.name=g,this.message=f&&m(f,e)||"",this.details=
e)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/core/object":function(){define(["require","exports"],function(l,a){function k(a,h,g){for(var f=0;f<a.length;f++){var e=a[f];if(null==g)return;if(!(e in g))if(h)g[e]={};else return;g=g[e]}return g}Object.defineProperty(a,"__esModule",{value:!0});a.getDeepValue=function(a,h){if(null!=h)return h[a]||k(a.split("."),!1,h)};a.setDeepValue=function(a,h,g){var f=a.split(".");a=f.pop();(g=k(f,!0,g))&&a&&(g[a]=h)}})},
"esri/core/events":function(){define(["require","exports"],function(l,a){function k(a){return a&&("function"===typeof a.on||"function"===typeof a.addEventListener)}function m(a,g,f){if(!k(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(g,f);if(Array.isArray(g)){for(var e=g.slice(),d=0;d<e.length;d++)a.addEventListener(e[d],f);return{remove:function(){for(var b=0;b<e.length;b++)a.removeEventListener(e[b],f)}}}a.addEventListener(g,f);return{remove:function(){a.removeEventListener(g,
f)}}}Object.defineProperty(a,"__esModule",{value:!0});a.isEventTarget=k;a.on=m;a.once=function(a,g,f){if(!k(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(g,f);var e=m(a,g,function(d){e.remove();f.call(a,d)});return{remove:function(){e.remove()}}};a.pausable=function(a,g,f){var e=!1,d=m(a,g,function(b){e||f.call(a,b)});return{resume:function(){e=!1},pause:function(){e=!0},remove:function(){d.remove()}}};a.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",
Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function(h){h=h.key;return a.ieKeyNormalizationMap[h]||h}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(l,a,k){function m(a,g,f){return null!=a?f(a):g}Object.defineProperty(a,"__esModule",{value:!0});a.isSome=function(a){return null!=a};a.isNone=function(a){return null==a};a.applySome=
function(a,g){return null!=a?g(a):null};a.unwrap=function(a){return a};a.unwrapOr=function(a,g){return null!=a?a:"function"===typeof g?g():g};a.expect=function(a){return a};a.mapSome=function(a,g){var f=[];a.forEach(function(a){a=g(a);null!=a&&f.push(a)});return f};a.mapMany=function(a,g){for(var f=[],e=0;e<a.length;e++)f.push(m(a[e],null,g));return f};a.forEachSome=function(a,g){for(var f=0;f<a.length;f++)m(a[f],null,g)};a.mapOr=m;a.andThen=function(a,g){return null!=a?g(a):null};a.mapSomeFirst=
function(a,g){for(var f=0;f<a.length;f++){var e=g(a[f]);if(null!=e)return e}return null};a.get=function(a){for(var g=[],f=1;f<arguments.length;f++)g[f-1]=arguments[f];for(var f=a,e=0;e<g.length&&f;)f=f[g[e++]];return f}})},"esri/core/has":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(l,a,k,m,h){function g(){if(e)return e;e={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,
supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,version:0};var a=document.createElement("canvas");if(!a)return e;var c=h.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!c&&(c=h.createContext(a,{},"webgl"))&&(e.majorPerformanceCaveat=!0);if(!c)return e;a=c.getParameter(c.VERSION);if(!a)return e;if(a=a.match(/^WebGL\s+([\d.]*)/)){e.version=parseFloat(a[1]);e.available=.94<=e.version;if(a=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,
c.HIGH_FLOAT))e.supportsHighPrecisionFragment=0<a.precision;e.supportsVertexShaderSamplers=0<c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS);e.supportsElementIndexUint=null!==c.getExtension("OES_element_index_uint");e.supportsStandardDerivatives=null!==c.getExtension("OES_standard_derivatives");e.supportsInstancedArrays=null!==c.getExtension("ANGLE_instanced_arrays");e.supportsTextureFloat=null!==c.getExtension("OES_texture_float")}e.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE);return e}function f(){if(d)return d;
d={available:!1,version:0};var a=document.createElement("canvas");if(!a)return d;a=h.createContext(a,{},"webgl2");if(!a)return d;d.available=!0;a=a.getParameter(a.VERSION);if(!a)return d;if(a=a.match(/^WebGL\s+([\d.]*)/))d.version=parseFloat(a[1]);return d}(function(){var a=navigator.userAgent,c=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);c&&k.add("esri-mobile",c);a&&k.add("esri-iPhone",a);k.add("esri-geolocation",function(){return!!navigator.geolocation});
k.add("esri-canvas-svg-support",function(){return!(k("trident")||k("ie"))});k.add("esri-secure-context",function(){if("isSecureContext"in m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});k.add("esri-wasm","WebAssembly"in m);k.add("esri-shared-array-buffer","SharedArrayBuffer"in m);k.add("esri-atomics","Atomics"in m);k.add("esri-workers","Worker"in m);k.add("esri-text-decoder","TextDecoder"in m);k("host-webworker")||(k.add("esri-abortable-fetch",
"fetch"in m&&"signal"in new Request("https://www.arcgis.com")),k.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){k.add("esri-image-decode",!0,!0,!0)}).catch(function(){k.add("esri-image-decode",!1,!0,!0)})}else return!1}),k.add("esri-url-encodes-apostrophe",function(){var a=m.document.createElement("a");a.href="?'";return-1<
a.href.indexOf("?%27")}),k.add("esri-webgl",function(){return g().available}),k.add("esri-webgl-high-precision-fragment",function(){return g().supportsHighPrecisionFragment}),k.add("esri-webgl-vertex-shader-samplers",function(){return g().supportsVertexShaderSamplers}),k.add("esri-webgl-element-index-uint",function(){return g().supportsElementIndexUint}),k.add("esri-webgl-standard-derivatives",function(){return g().supportsStandardDerivatives}),k.add("esri-webgl-texture-float",function(){return g().supportsTextureFloat}),
k.add("esri-webgl-instanced-arrays",function(){return g().supportsInstancedArrays}),k.add("esri-webgl-major-performance-caveat",function(){return g().majorPerformanceCaveat}),k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),k.add("esri-webgl2",function(){return f().available}),k.add("esri-webgl-max-texture-size",function(){return g().maxTextureSize}))})();var e=null,d=null;return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(l,
a){function k(a,e,d){void 0===e&&(e={});var b;switch(d){case "webgl":b=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":b=["webgl2"];break;default:b=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}d=null;for(var c=0;c<b.length;c++){var f=b[c];try{d=a.getContext(f,e)}catch(v){}if(d)break}return d}function m(a,e){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
e+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(a,"__esModule",{value:!0});a.createContextOrErrorHTML=function(a,e,d){void 0===e&&(e={});if(!window.WebGLRenderingContext)return m(a,h),null;e=k(a,e,d);return e?e:(m(a,g),null)};a.createContext=k;var h='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',g='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/core/clock":function(){define(["require","exports","./global"],function(l,a,k){function m(a){return{setTimeout:function(g,f){var e=a.setTimeout(g,f);return{remove:function(){return a.clearTimeout(e)}}}}}Object.defineProperty(a,"__esModule",{value:!0});a.wrap=m;a.default=m(k)})},"@dojo/framework/shim/Promise":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),
l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),m=l("./global"),h=l("./support/queue");l("./Symbol");l=l("../has/has");a.ShimPromise=m.default.Promise;a.isThenable=function(a){return a&&"function"===typeof a.then};l.default("es6-promise")||(m.default.Promise=a.ShimPromise=(g=function(){function f(e){var d=this;this.state=1;this[Symbol.toStringTag]="Promise";var b=!1,c=[],n=function(a){c&&c.push(a)},g=function(a,b){1===d.state&&(d.state=a,d.resolvedValue=b,n=h.queueMicroTask,
c&&0<c.length&&h.queueMicroTask(function(){if(c){for(var a=c.length,b=0;b<a;++b)c[b].call(null);c=null}}))},k=function(c,e){1!==d.state||b||(a.isThenable(e)?(e.then(g.bind(null,0),g.bind(null,2)),b=!0):g(c,e))};this.then=function(a,b){return new f(function(c,e){n(function(){var f=2===d.state?b:a;if("function"===typeof f)try{c(f(d.resolvedValue))}catch(r){e(r)}else 2===d.state?e(d.resolvedValue):c(d.resolvedValue)})})};try{e(k.bind(null,0),k.bind(null,2))}catch(u){g(2,u)}}f.all=function(e){return new this(function(d,
b){function c(a,b){g[a]=b;++h;t||h<u||d(g)}function n(d,e){++u;a.isThenable(e)?e.then(c.bind(null,d),b):f.resolve(e).then(c.bind(null,d))}var g=[],h=0,u=0,t=!0,m=0;try{for(var l=k.__values(e),B=l.next();!B.done;B=l.next())n(m,B.value),m++}catch(y){r={error:y}}finally{try{B&&!B.done&&(D=l.return)&&D.call(l)}finally{if(r)throw r.error;}}(t=!1,h<u)||d(g);var r,D})};f.race=function(a){return new this(function(d,b){try{for(var c=k.__values(a),e=c.next();!e.done;e=c.next()){var g=e.value;g instanceof f?
g.then(d,b):f.resolve(g).then(d)}}catch(t){h={error:t}}finally{try{e&&!e.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error;}}var h,u})};f.reject=function(a){return new this(function(d,b){b(a)})};f.resolve=function(a){return new this(function(d){d(a)})};f.prototype.catch=function(a){return this.then(void 0,a)};return f}(),g[Symbol.species]=a.ShimPromise,g));l.default("es2018-promise-finally")||(m.default.Promise.prototype.finally=function(a){return this.then(a&&function(e){return Promise.resolve(a()).then(function(){return e})},
a&&function(e){return Promise.resolve(a()).then(function(){throw e;})})});a.default=a.ShimPromise;var g})},"@dojo/framework/shim/support/queue":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],l)})(function(l,a){function k(a){a&&a.isActive&&a.callback&&a.callback()}function m(a,c){return{destroy:function(){this.destroy=
function(){};a.isActive=!1;a.callback=null;c&&c()}}}Object.defineProperty(a,"__esModule",{value:!0});var h=l("../global"),g=l("../../has/has"),f,e;a.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=d(a);return m(a,c&&function(){c(b)})}var c,d;if(g.default("postmessage")){var e=[];h.default.addEventListener("message",function(a){a.source===h.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),e.length&&k(e.shift()))});d=function(a){e.push(a);h.default.postMessage("dojo-queue-message",
"*")}}else g.default("setimmediate")?(c=h.default.clearImmediate,d=function(a){return setImmediate(k.bind(null,a))}):(c=h.default.clearTimeout,d=function(a){return setTimeout(k.bind(null,a),0)});return g.default("microtasks")?a:function(b){f();return a(b)}}();if(!g.default("microtasks")){var d=!1;e=[];f=function(){d||(d=!0,a.queueTask(function(){d=!1;if(e.length)for(var a=void 0;a=e.shift();)k(a)}))}}a.queueAnimationTask=function(){function b(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(k.bind(null,
a));return m(a,function(){cancelAnimationFrame(b)})}return g.default("raf")?g.default("microtasks")?b:function(a){f();return b(a)}:a.queueTask}();a.queueMicroTask=function(){var a;if(g.default("host-node"))a=function(a){h.default.process.nextTick(k.bind(null,a))};else if(g.default("es6-promise"))a=function(a){h.default.Promise.resolve(a).then(k)};else if(g.default("dom-mutationobserver")){var c=h.default.MutationObserver||h.default.WebKitMutationObserver,d=document.createElement("div"),v=[];(new c(function(){for(;0<
v.length;){var a=v.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(d,{attributes:!0});a=function(a){v.push(a);d.setAttribute("queueStatus","1")}}else a=function(a){f();e.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return m(b)}}()})},"esri/support/revision":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.buildDate="20191008";a.commitHash="928119b4c1dae312aca055de79b6f29a8c617e28"})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../promiseUtils ./utils ../../views/support/Scheduler".split(" "),
function(l,a,k,m,h,g){function f(a,b){a["delete"](b)}var e=h.MessageType.CLOSE,d=h.MessageType.ABORT,b=h.MessageType.INVOKE,c=h.MessageType.RESPONSE,n=h.MessageType.OPEN_PORT,v=function(){function a(a){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===h.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,
0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b,c){var d=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._queue=new v(function(a){return d._onInvoke(a)});
this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._port.addEventListener("message",this._onMessage);this._port.start();this._channel=c.channel;c.scheduler&&(this._frameTask=c.scheduler.registerTask(g.Task.REMOTE_CLIENT,function(a){return d._update(a)},function(){return 0<d._responseQueue.length}))}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(c.port1,b,{channel:c});
return c.port2};a.prototype.close=function(){this._post({type:e});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,c,e){var n=this,g=e&&e.signal,t=e&&e.transferList;if(!this._port)return m.reject(new k("remote-client:port-closed","Can't invoke(), port is closed"));var u=h.newJobId(),y=function(){var a=n._outJobs.get(u);a&&(f(n._outJobs,u),n._post({type:d,jobId:u}),a.reject(m.createAbortError()))};return m.create(function(d,e){m.onAbortOrThrow(g,
function(){y();e(m.createAbortError())});n._outJobs.set(u,{resolve:d,reject:e});n._post({type:b,jobId:u,methodName:a,abortable:!0},c,t)},y)};a.prototype.openPort=function(){var a=this,b=h.newJobId(),c=function(){f(a._outJobs,b);a._post({type:d,jobId:b})};return m.create(function(d,e){a._outJobs.set(b,{resolve:d,reject:e,signal:c});a._post({type:n,jobId:b})},c)};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();
this._outJobs.forEach(function(a){return a.reject(m.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._queue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=h.receiveMessage(a))switch(a.type){case c:this._onResponse(a);break;case b:this._queue.push(a);break;case d:this._onAbort(a);break;case e:this._onClose();break;case n:this._onOpenPort(a)}};
a.prototype._onAbort=function(a){var b=this._inJobs,c=a.jobId,d=b.get(c);this._queue.push(a);d&&(d.controller&&d.controller.abort(),f(b,c))};a.prototype._onClose=function(){var a=this._client;this._close();a&&a.remoteClient===this&&"destroy"in a&&a.destroy();a.remoteClient=null};a.prototype._onInvoke=function(a){var b=this,d=a.methodName,e=a.jobId,n=a.data;a=a.abortable?m.createAbortController():null;var g=this._inJobs,k=this._client,u=k[d],v;try{if(!u&&d&&-1!==d.indexOf("."))for(var x=d.split("."),
l=0;l<x.length-1;l++)k=k[x[l]],u=k[x[l+1]];if("function"!==typeof u)throw new TypeError(d+" is not a function");v=u.call(k,n,{client:this,signal:a?a.signal:null})}catch(H){this._post({type:c,jobId:e,error:h.toInvokeError(H)});return}if(m.isThenable(v)){g.set(e,{controller:a,promise:v});if(a&&"cancel"in v)m.onAbort(a.signal,function(){return v.cancel()});v.then(function(a){g.has(e)&&(f(g,e),b._post({type:c,jobId:e},a))}).catch(function(a){g.has(e)&&(f(g,e),m.isAbortError(a)||b._post({type:c,jobId:e,
error:h.toInvokeError(a||{message:"Error encountered at method "+d})}))})}else this._post({type:c,jobId:e},v)};a.prototype._onOpenPort=function(b){var d=new MessageChannel;new a(d.port1,this._client,{});this._post({type:c,jobId:b.jobId},d.port2,[d.port2])};a.prototype._onResponse=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};
a.prototype._handleResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var d=this._outJobs;if(d.has(b)){var e=d.get(b);f(d,b);c?e.reject(k.fromJSON(JSON.parse(c))):e.resolve(a)}};a.prototype._post=function(a,b,c){return h.postMessage(this._port,a,b,c)};return a}()})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(l,a,k){function m(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function h(a){return a instanceof ArrayBuffer||a&&a.constructor&&
"ArrayBuffer"===a.constructor.name}Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT"})(a.MessageType||(a.MessageType={}));var g=0;a.newJobId=function(){return g++};a.isTranferableResult=m;a.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):
JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};a.postMessage=function(a,e,d,b){2===arguments.length||void 0===d&&void 0===b?a.postMessage(e):(k("esri-workers-arraybuffer-transfer")||(b?(b=b.filter(function(a){return!h(a)}),b.length||(b=null)):m(d)&&d.transferList&&(d.transferList=d.transferList.filter(function(a){return!h(a)}),d.transferList.length||(d.transferList=null))),b?(e.data=d,a.postMessage(e,b)):m(d)?(e.data=d.result,d.transferList?a.postMessage(e,d.transferList):
a.postMessage(e)):(e.data=d,a.postMessage(e)))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/views/support/Scheduler":function(){define("require exports @dojo/framework/shim/number ../../core/maybe ../../core/now ../../core/PooledArray ../../core/watchUtils ./debugFlags".split(" "),function(l,a,k,m,h,g,f,e){function d(b){return b in a.taskPriorities?a.taskPriorities[b]:"number"===typeof b?b:1}Object.defineProperty(a,"__esModule",{value:!0});
var b;a.newScheduler=function(a){return new c.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3s controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";a.DECONFLICTOR_IMMEDIATE="fast deconflictor";a.DECONFLICTOR_DELAYED="delayed deconflictor";a.GRAPHICS_CORE="Graphics3D";a.FILTER_VISIBILITY="Graphics3D filter visibility";
a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";a.POINT_OF_INTEREST_FAST="POI fast";a.POINT_OF_INTEREST_SLOW="POI slow";a.LABELER="labeler";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.OVERLAY_MANAGER="overlay manager";a[a.TEST_PRIO=1]="TEST_PRIO"})(l=a.Task||(a.Task={}));
a.taskPriorities=(b={},b[l.REMOTE_CLIENT]=1,b[l.STREAM_DATA_LOADER]=1,b[l.TERRAIN_SURFACE]=1,b[l.SURFACE_GEOMETRY_UPDATES]=1,b[l.I3S_CONTROLLER]=2,b[l.POINT_CLOUD_LAYER]=2,b[l.FEATURE_TILE_FETCHER]=2,b[l.DECONFLICTOR_IMMEDIATE]=2,b[l.DECONFLICTOR_DELAYED]=12,b[l.GRAPHICS_CORE]=3,b[l.FILTER_VISIBILITY]=4,b[l.FEATURE_QUERY_ENGINE]=4,b[l.SCALE_VISIBILITY]=6,b[l.FRUSTUM_VISIBILITY]=6,b[l.POINT_OF_INTEREST_FAST]=6,b[l.POINT_OF_INTEREST_SLOW]=30,b[l.LABELER]=8,b[l.FEATURE_TILE_TREE]=12,b[l.FEATURE_TILE_TREE_ACTIVE]=
1,b[l.ELEVATION_ALIGNMENT]=12,b[l.TEXT_TEXTURE_ATLAS]=12,b[l.OVERLAY_MANAGER]=12,b);a.getTaskPriority=d;var c;(function(a){var b=function(){function b(b){var c=this;this._now=b;this._budget=null;this._state=1;this._tasks=new g;this._runQueue=new g;this._load=0;this._idleStateCallbacks=new g;this._idleUpdatesStartFired=!1;this._maxReschedule=v;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=f.init(e,"SCHEDULER_LOG_SLOW_TASKS",function(a){return c._debug=a});this._budget=new a.Budget(b);
var d=this;this._test={state:void 0,FRAME_SAFETY_BUDGET:1,idleBudget:100,get budget(){return d._budget.budget},usedBudget:0,startTime:0,updateTask:function(a){return c._updateTask(a)},getState:function(a){return c._getState(a)}}}b.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};b.prototype.registerTask=function(a,b,e){var f=this,n=d(a),g=new c(a,b,e,n);this._tasks.push(g);return{remove:function(){return f._removeTask(g)},set task(a){g.setPriority(a)}}};b.prototype.registerIdleStateCallbacks=
function(a,b){var c=this,d={idleBegin:a,idleEnd:b};this._idleStateCallbacks.push(d);2===this.state&&this._idleUpdatesStartFired&&d.idleBegin();var e=this;return{remove:function(){return c._removeIdleStateCallbacks(d)},set idleBegin(a){e._idleUpdatesStartFired&&(d.idleEnd(),2===e._state&&a());d.idleBegin=a},set idleEnd(a){d.idleEnd=a}}};Object.defineProperty(b.prototype,"now",{get:function(){return this._now()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"load",{get:function(){return this._load},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){return m.isNone(this._test.state)?this._state:this._test.state},set:function(a){this._state!==a&&(this._state=a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEach(function(a){return a.idleEnd()})))},enumerable:!0,configurable:!0});b.prototype.updateBudget=function(a){var b=2===this.state,c=a.frameDuration;switch(this.state){case 2:c=100;break;case 1:c=
Math.max(33,a.frameDuration);break;case 0:c=a.frameDuration}this._safetyBudget=b?0:1;c-=a.elapsedFrameTime+this._safetyBudget;this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;if(!b&&0>c&&!this._forceTask)return this._forceTask=!0,!1;c=Math.max(c,5);this._budget.reset(c,b);this._maxReschedule=v;this._updateLoad();return this._schedule()};b.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEach(function(a){return a.idleBegin()}));
this._runIdle();break;case 1:this._runMoving();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};b.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};b.prototype._removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};b.prototype._updateTask=function(a){this._tasks.forEach(function(b){b.name===a&&b.setPriority(a)})};b.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===
a}))return n.SCHEDULED;var b=n.IDLE;this._tasks.forEach(function(c){c.name===a&&c.needsUpdate()&&(1>=c.schedule?b=n.READY:b!==n.READY&&(b=n.WAITING))});return b};b.prototype._runIdle=function(){this._run()};b.prototype._runMoving=function(){this._run()};b.prototype._runAnimating=function(){this._run()};b.prototype._updateLoad=function(){var a=0;this._tasks.forEach(function(b){return b.needsUpdate()?++a:a});this._load=.9*this._load+a*(1-.9)};b.prototype._schedule=function(){var a=this;if(0>=this._maxReschedule)return!1;
this._runQueue.filterInPlace(function(a){if(a.needsUpdate())return!0;a.schedule=a.priority;return!1});for(var b=function(){var b=!1,d=0;c._tasks.forEach(function(c){if(c.needsUpdate())switch(b=!0,d=Math.max(d,c.priority),c.schedule){case 0:break;case 1:c.schedule=0;a._runQueue.push(c);break;default:--c.schedule}});if(!b)return{value:!1};c._maxReschedule===v&&(c._maxReschedule=d);--c._maxReschedule},c=this;0===this._runQueue.length;){var d=b();if("object"===typeof d)return d.value}return!0};b.prototype._run=
function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();a.update(this._budget);a.schedule=a.priority;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};Object.defineProperty(b.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0});return b}();a.Scheduler=b;var c=function(){function a(a,
b,c,d){this.name=a;this.update=b;this.needsUpdate=c;this.schedule=this._priority=d}Object.defineProperty(a.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0});a.prototype.setPriority=function(a){var b=d(a);this.name=a;this._priority=b;0!==this.schedule&&(this.schedule=b)};return a}(),b=function(){function a(a){this.now=a;this._budget=this._begin=0;this._didWork=this._idle=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=
!0);return!0};Object.defineProperty(a.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"budget",{get:function(){return this._budget},enumerable:!0,configurable:!0});a.prototype.madeProgress=function(){this._didWork=!0};Object.defineProperty(a.prototype,"idleFrame",{get:function(){return this._idle},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},
set:function(a){this._enabled=a},enumerable:!0,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._idle=b;this._didWork=!1};Object.defineProperty(a.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!0,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,
"hasProgressed",{get:function(){return this._didWork},enumerable:!0,configurable:!0});return a}();a.Budget=b})(c||(c={}));var n;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";a.IDLE="i"})(n=a.TaskState||(a.TaskState={}));a.noBudget=function(){var a=new c.Budget(h);a.enabled=!1;return a}();var v=k.MAX_SAFE_INTEGER})},"esri/core/now":function(){define(["require","exports","./global"],function(l,a,k){return function(){var a=k.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};
if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var h;h=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-h}}()})},"esri/core/PooledArray":function(){define(["require","exports","./tsSupport/generatorHelper","./arrayUtils","./HeapSort"],function(l,a,k,m,h){return function(){function a(a){var e=this;this.data=[];this._length=0;this._allocator=null;this._deallocator=
function(){};this._shrink=function(){};this._hint=new m.RemoveHint;a&&(a.initialSize&&(this.data=Array(a.initialSize)),a.allocator?(this._allocator=a.allocator,this._deallocator=a.deallocator):"deallocator"in a&&(this._deallocator=a.deallocator),a.shrink&&(this._shrink=function(){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}))}a.prototype.toArray=function(){return this.data.slice(0,this.length)};a.prototype.getItemAt=function(a){if(!(0>a||a>=this._length))return this.data[a]};
Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){if(a>this._length)if(this._allocator)for(;this._length<a;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=a;else{if(this._deallocator)for(var e=a;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=a;this._shrink()}},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.length=0};a.prototype.prune=function(){this.clear();this.data=
[]};a.prototype.equal=function(a){return m.equals(this.data,a.data)};a.prototype.push=function(a){return this.data[this._length++]=a};a.prototype.pushArray=function(a,e){void 0===e&&(e=a.length);for(var d=0;d<e;d++)this.data[this._length++]=a[d];return this.back()};a.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));++this._length;return this.back()};a.prototype.pop=function(){if(0!==this.length){var a=this.data[this.length-1];--this.length;
this._shrink();return a}};a.prototype.iterableRemoveMany=function(a){var e,d;return k(this,function(b){switch(b.label){case 0:e=[],d=0,b.label=1;case 1:if(!(d<this.length)||d>=this.length)return[3,4];0>a.indexOf(this.data[d])&&e.push(this.data[d]);return[4];case 2:b.sent(),b.label=3;case 3:return++d,[3,1];case 4:return this.data=e,this._length=this.data.length,[2]}})};a.prototype.removeUnordered=function(a){a=m.removeUnordered(this.data,a,this.length,this._hint);void 0!==a&&--this.length;return a};
a.prototype.removeUnorderedIndex=function(a){if(!(a>=this.length||0>a))return this.swapElements(a,this.length-1),this.pop()};a.prototype.removeUnorderedMany=function(a,e,d){void 0===e&&(e=a.length);this.length=m.removeUnorderedMany(this.data,a,this.length,e,this._hint,d)};a.prototype.front=function(){if(0!==this.length)return this.data[0]};a.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};a.prototype.swapElements=function(a,e){var d;a>=this.length||e>=this.length||a===
e||(d=[this.data[e],this.data[a]],this.data[a]=d[0],this.data[e]=d[1])};a.prototype.sort=function(a){h.sort(this.data,0,this.length,a)};a.prototype.iterableSort=function(a){return h.iterableSort(this.data,0,this.length,a)};a.prototype.some=function(a,e){for(var d=0;d<this.length;++d)if(a.call(e,this.data[d],d,this.data))return!0;return!1};a.prototype.find=function(a,e){for(var d=0;d<this.length;++d){var b=this.data[d];if(a.call(e,b,d,this.data))return b}};a.prototype.filterInPlace=function(a,e){for(var d=
0,b=0;b<this._length;++b){var c=this.data[b];a.call(e,c,b,this.data)&&(this.data[b]=this.data[d],this.data[d]=c,d++)}if(this._deallocator)for(b=d;b<this._length;b++)this.data[b]=this._deallocator(this.data[b]);this._length=d;return this};a.prototype.forEach=function(a,e){for(var d=this.length,b=0;b<Math.min(this.length,d);++b)a.call(e,this.data[b],b,this.data)};a.prototype.iterableForEach=function(){var a;return k(this,function(e){switch(e.label){case 0:a=0,e.label=1;case 1:return a<this.length?[4,
this.data[a]]:[3,4];case 2:e.sent(),e.label=3;case 3:return++a,[3,1];case 4:return[2]}})};a.prototype.map=function(a,e){for(var d=Array(this.length),b=0;b<this.length;++b)d[b]=a.call(e,this.data[b],b,this.data);return d};return a}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(l,a){function k(a){return function(b){return m([a,b])}}function m(b){if(g)throw new TypeError("Generator is already executing.");for(;h;)try{if(g=1,f&&(e=b[0]&2?f["return"]:b[0]?f["throw"]||
((e=f["return"])&&e.call(f),0):f.next)&&!(e=e.call(f,b[1])).done)return e;if(f=0,e)b=[b[0]&2,e.value];switch(b[0]){case 0:case 1:e=b;break;case 4:return h.label++,{value:b[1],done:!1};case 5:h.label++;f=b[1];b=[0];continue;case 7:b=h.ops.pop();h.trys.pop();continue;default:if(!(e=h.trys,e=0<e.length&&e[e.length-1])&&(6===b[0]||2===b[0])){h=0;continue}if(3===b[0]&&(!e||b[1]>e[0]&&b[1]<e[3]))h.label=b[1];else if(6===b[0]&&h.label<e[1])h.label=e[1],e=b;else if(e&&h.label<e[2])h.label=e[2],h.ops.push(b);
else{e[2]&&h.ops.pop();h.trys.pop();continue}}b=a.call(l,h)}catch(c){b=[6,c],f=0}finally{g=e=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var h={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},g,f,e,d;return d={next:k(0),"throw":k(1),"return":k(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(l,a,k,m){function h(a,
b){return-1===a.indexOf(b)}function g(a,b,c){return!a.some(b.bind(null,c))}function f(a){return a}Object.defineProperty(a,"__esModule",{value:!0});a.find=k.find;a.findIndex=k.findIndex;a.includes=k.includes;a.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};a.equals=function(a,b,c){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};a.difference=
function(a,b,c){var d;c?(d=b.filter(g.bind(null,a,c)),a=a.filter(g.bind(null,b,c))):(d=b.filter(h.bind(null,a)),a=a.filter(h.bind(null,b)));return{added:d,removed:a}};a.intersect=function(a,b,c){return a&&b?c?a.filter(function(a){return-1<k.findIndex(b,function(b){return c(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};var e=!!Array.prototype.fill;a.constant=function(a,b){if(e)return Array(a).fill(b);for(var c=Array(a),d=0;d<a;d++)c[d]=b;return c};a.range=function(a,b){void 0===b&&(b=a,
a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};a.binaryIndexOf=function(a,b,c){for(var d=a.length,e=0,f=d-1;e<f;){var n=e+Math.floor((f-e)/2);b>a[n]?e=n+1:f=n}f=a[e];return c?b>=a[d-1]?-1:f===b?e:e-1:f===b?e:-1};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};l=function(){return function(){this.last=0}}();a.RemoveHint=l;var d=new l;a.removeUnordered=function(a,b,c,e){e=e||d;for(var f=null==c?a.length:c,n=Math.max(0,e.last-10),g=-1,h=n;h<f;++h)if(a[h]===b){g=
h;break}if(-1===g){for(h=0;h<n;++h)if(a[h]===b){g=h;break}if(-1===g)return}a[g]=a[f-1];null==c&&a.pop();e.last=g;return b};var b=new Set;a.removeUnorderedMany=function(a,c,e,f,g,h){void 0===e&&(e=a.length);void 0===f&&(f=c.length);if(0===f||0===e)return e;b.clear();for(var n=0;n<f;++n)b.add(c[n]);g=g||d;for(n=c=Math.max(0,g.last-10);n<e;++n)if(b.has(a[n])&&(h&&h.push(a[n]),b.delete(a[n]),a[n]=a[e-1],--e,--n,0===b.size||0===e))return b.clear(),e;for(n=0;n<c;++n)if(b.has(a[n])&&(h&&h.push(a[n]),b.delete(a[n]),
a[n]=a[e-1],--e,--n,0===b.size||0===e))return b.clear(),e;b.clear();return e};a.pickRandom=function(a,b,d){var e=a.length;if(b>=e)return a.slice(0);d=(c.seed=d)?function(){return c.getFloat()}:Math.random;for(var f=new Set,n=[];n.length<b;){var g=Math.floor(d()*e);f.has(g)||(f.add(g),n.push(a[g]))}return n};a.shuffle=function(a,b){b=(c.seed=b)?function(){return c.getFloat()}:Math.random;for(var d=a.length-1;0<d;d--){var e=Math.floor(b()*(d+1)),f=a[d];a[d]=a[e];a[e]=f}return a};var c=new m;a.keysOfMap=
function(a){var b=Array(a.size),c=0;a.forEach(function(a,d){return b[c++]=d});return b};a.keysOfSet=function(a,b){void 0===b&&(b=f);var c=Array(a.size),d=0;a.forEach(function(a){return c[d++]=b(a)});return c};a.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){return b[c++]=a});return b};a.remove=function(a,b){var c=a.indexOf(b);return-1!==c?(a.splice(c,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(l,
a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(k){this._seed=null==k?Math.random()*a._m:k},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,h){return Math.round(this.getFloatRange(a,h))};a.prototype.getFloatRange=function(k,h){h-=k;var g=this.getInt()/a._m;return k+Math.floor(g*
h)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/core/HeapSort":function(){define(["require","exports","./tsSupport/generatorHelper"],function(l,a,k){var m;(function(a){function g(a,d,b,c){for(var e=d,f=b>>>1,g=a[e-1];d<=f;){d=e<<1;d<b&&0>c(a[d-1],a[d])&&++d;var h=a[d-1];if(0>=c(h,g))break;a[e-1]=h;e=d}a[e-1]=g}function f(a,d){return a<d?-1:a>d?1:0}a.sort=function(a,d,b,c){void 0===d&&(d=0);void 0===b&&(b=a.length);void 0===c&&(c=f);for(var e=b>>>1;e>d;e--)g(a,e,b,c);for(var h=d+1,e=b-1;e>
d;e--)b=a[d],a[d]=a[e],a[e]=b,g(a,h,e,c)};a.iterableSort=function(a,d,b,c){var e,h,m;return k(this,function(n){switch(n.label){case 0:void 0===d&&(d=0),void 0===b&&(b=a.length),void 0===c&&(c=f),e=b>>>1,n.label=1;case 1:if(!(e>d))return[3,4];g(a,e,b,c);return[4];case 2:n.sent(),n.label=3;case 3:return e--,[3,1];case 4:h=d+1,e=b-1,n.label=5;case 5:if(!(e>d))return[3,8];m=a[d];a[d]=a[e];a[e]=m;g(a,h,e,c);return[4];case 6:n.sent(),n.label=7;case 7:return e--,[3,5];case 8:return[2]}})}})(m||(m={}));return m})},
"esri/core/watchUtils":function(){define("require exports ./events ./has ./lang ./promiseUtils".split(" "),function(l,a,k,m,h,g){function f(a,b,c,d,e){e=a.watch(b,function(b,e,f,n){c&&!c(b)||d.call(a,b,e,f,n)},e);if(Array.isArray(b))for(var f=0;f<b.length;f++){var n=a.get(b[f]);c&&c(n)&&d.call(a,n,n,b,a)}else n=a.get(b),c&&c(n)&&d.call(a,n,n,b,a);return e}function e(a,b,c,d,e){function n(){r&&(r.remove(),r=null)}var h="function"===typeof d?d:null,t="object"===typeof d?d:null;"boolean"===typeof d&&
(e=d);var k=!1,r,u=g.createDeferred(n);g.onAbort(t,function(){n();u.reject(g.createAbortError())});d=m("esri-native-promise")?{then:u.promise.then.bind(u.promise),catch:u.promise.catch.bind(u.promise),remove:n}:{cancel:u.cancel,then:u.promise.then.bind(u.promise),catch:u.promise.catch.bind(u.promise),remove:n};Object.freeze(d);r=f(a,b,c,function(b,c,d,e){k=!0;n();h&&h.call(a,b,c,d,e);u.resolve({value:b,oldValue:c,propertyName:d,target:e})},e);k&&n();return d}function d(a){return!!a}function b(a){return!a}
function c(a){return!0===a}function n(a){return!1===a}function v(a){return void 0!==a}function x(a){return void 0===a}function u(a,b,c,d){var e=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,c,d);for(d=0;d<e.length;d++){var f=e[d].trim().replace(t,"$1"),n=a.get(f);c.call(a,n,n,f,a)}return b}Object.defineProperty(a,"__esModule",{value:!0});a.whenValidOnce=e;var t=/\?(\.|$)/g;a.init=u;a.watch=function(a,b,c,d){return a.watch(b,c,d)};a.once=function(a,b,c,d){return e(a,b,null,c,d)};
a.when=function(a,b,c,e){return f(a,b,d,c,e)};a.whenOnce=function(a,b,c,f){return e(a,b,d,c,f)};a.whenNot=function(a,c,d,e){return f(a,c,b,d,e)};a.whenNotOnce=function(a,c,d,f){return e(a,c,b,d,f)};a.whenTrue=function(a,b,d,e){return f(a,b,c,d,e)};a.whenTrueOnce=function(a,b,d,f){return e(a,b,c,d,f)};a.whenFalse=function(a,b,c,d){return f(a,b,n,c,d)};a.whenFalseOnce=function(a,b,c,d){return e(a,b,n,c,d)};a.whenDefined=function(a,b,c,d){return f(a,b,v,c,d)};a.whenDefinedOnce=function(a,b,c,d){return e(a,
b,v,c,d)};a.whenUndefined=function(a,b,c,d){return f(a,b,x,c,d)};a.whenUndefinedOnce=function(a,b,c,d){return e(a,b,x,c,d)};a.whenEqual=function(a,b,c,d,e){return f(a,b,function(a){return h.equals(c,a)},d,e)};a.whenEqualOnce=function(a,b,c,d,f){return e(a,b,function(a){return h.equals(c,a)},d,f)};a.pausable=function(a,b,c,d){var e=!1,f=a.watch(b,function(b,d,f,n){e||c.call(a,b,d,f,n)},d);return{remove:function(){f.remove()},pause:function(){e=!0},resume:function(){e=!1}}};a.on=function(a,b,c,d,e,
f,n){function g(b){var d=h[b];d&&(f&&f(d.target,b,a,c),d.handle.remove(),delete h[b])}var h={},t=u(a,b,function(b,f,n){g(n);k.isEventTarget(b)&&(h[n]={handle:k.on(b,c,d),target:b},e&&e(b,n,a,c))},n);return{remove:function(){t.remove();for(var a in h)g(a)}}}})},"esri/views/support/debugFlags":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(l,a,k,m,h,g){return new (function(a){function e(){var d=
null!==a&&a.apply(this,arguments)||this;d.SCHEDULER_LOG_SLOW_TASKS=!1;return d}m(e,a);k([g.property()],e.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return e=k([g.subclass("esri.views.support.DebugFlags")],e)}(g.declared(h)))})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(l,a,k,m){var h=arguments.length,g=3>h?a:null===m?m=Object.getOwnPropertyDescriptor(a,k):m,f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(l,a,k,m);
else for(var e=l.length-1;0<=e;e--)if(f=l[e])g=(3>h?f(g):3<h?f(a,k,g):f(a,k))||g;return 3<h&&g&&Object.defineProperty(a,k,g),g}})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(l,a){return function(a,m){a.__bases__=m.__bases__}})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(l,
a,k,m,h,g,f){a=a.default;l.before(function(a,b){l.hasMixin(a,e)&&m.processPrototype(b)});l.after(function(a){l.hasMixin(a,e)&&(m.processClass(a),Object.defineProperties(a.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var e=l(null,{declaredClass:"esri.core.Accessor",
"-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===e)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{value:new a(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var d=[],b=0;b<arguments.length;b++)d.push(arguments[b]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,d)}if(f.interceptor)f.interceptor.onInstanceConstruct(this)},__accessor__:null,
postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");}catch(d){console.warn(d.stack)}else if(g.removeTarget(this),this.__accessor__.destroy(),f.interceptor)f.interceptor.onInstanceDestroy(this)},get:function(a){return k.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):
Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){h.set(this,a,b);return this},watch:function(a,b,c){return g.watch(this,a,b,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},
_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return e})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(l,a,k){function m(a,d){a&&!Array.isArray(a)&&"function"!==typeof a&&(d=a,a=null);a=a||[];d=d||{};return h([this].concat(a),d)}function h(a,d){a&&!Array.isArray(a)&&"function"!==typeof a&&(d=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);d=d||{};var b,c;b=0;for(c=g.length;b<c;b++)g[b](a,d);a=k(a,d);a.createSubclass=m;b=0;for(c=f.length;b<
c;b++)f[b](a);return a}var g=[],f=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return k.safeMixin(a,b)};a.before=function(a){g.push(a)};a.after=function(a){f.push(a)}})(h||(h={}));return h})},"dojo/_base/declare":function(){define(["./kernel",
"../has","./lang"],function(l,a,k){function m(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function h(a,b){for(var c=[],d=[{cls:0,refs:[]}],e={},f=1,n=a.length,g=0,h,t,k,r,u;g<n;++g){(h=a[g])?"[object Function]"!=y.call(h)&&m("mixin #"+g+" is not a callable constructor.",b):m("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",b);t=h._meta?h._meta.bases:[h];k=0;for(h=t.length-1;0<=h;--h)r=t[h].prototype,r.hasOwnProperty("declaredClass")||(r.declaredClass="uniqName_"+E++),r=r.declaredClass,
e.hasOwnProperty(r)||(e[r]={count:0,refs:[],cls:t[h]},++f),r=e[r],k&&k!==r&&(r.refs.push(k),++k.count),k=r;++k.count;d[0].refs.push(k)}for(;d.length;){k=d.pop();c.push(k.cls);for(--f;u=k.refs,1==u.length;){k=u[0];if(!k||--k.count){k=0;break}c.push(k.cls);--f}if(k)for(g=0,n=u.length;g<n;++g)k=u[g],--k.count||d.push(k)}f&&m("can't build consistent linearization",b);h=a[0];c[0]=h?h._meta&&h===c[c.length-h._meta.bases.length]?h._meta.bases.length:1:0;return c}function g(a,b,c,d){var e,f,n,g,h,k,t=this._inherited=
this._inherited||{};"string"===typeof a&&(e=a,a=b,b=c,c=d);if("function"===typeof a)n=a,a=b,b=c;else try{n=a.callee}catch(S){if(S instanceof TypeError)m("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw S;}(e=e||n.nom)||m("can't deduce a name to call inherited()",this.declaredClass);c=d=0;g=this.constructor._meta;d=g.bases;k=t.p;if("constructor"!=e){if(t.c!==n&&(k=0,h=d[0],g=h._meta,g.hidden[e]!==n)){(f=g.chains)&&"string"==typeof f[e]&&
m("calling chained method with inherited: "+e,this.declaredClass);do if(g=h._meta,f=h.prototype,g&&(f[e]===n&&f.hasOwnProperty(e)||g.hidden[e]===n))break;while(h=d[++k]);k=h?k:-1}if(h=d[++k])if(f=h.prototype,h._meta&&f.hasOwnProperty(e))c=f[e];else{n=D[e];do if(f=h.prototype,(c=f[e])&&(h._meta?f.hasOwnProperty(e):c!==n))break;while(h=d[++k])}c=h&&c||D[e]}else{if(t.c!==n&&(k=0,(g=d[0]._meta)&&g.ctor!==n)){for((f=g.chains)&&"manual"===f.constructor||m("calling chained constructor with inherited",this.declaredClass);(h=
d[++k])&&(!(g=h._meta)||g.ctor!==n););k=h?k:-1}for(;(h=d[++k])&&!(c=(g=h._meta)?g.ctor:h););c=h&&c}t.c=c;t.p=k;if(c)return!0===b?c:c.apply(this,b||a)}function f(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function e(a,b,c,d){var e=this.getInherited(a,b,c);if(e)return e.apply(this,d||c||b||a)}function d(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===
a)return!0;return this instanceof a}function b(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function c(a){B.safeMixin(this.prototype,a);return this}function n(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return B([this].concat(a),b)}function v(a,b){return function(){var c=arguments,d=c,e=c[0],f,n;n=a.length;var g;if(!(this instanceof c.callee))return C(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&
(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,c)||c);if(++f==n)break;g[f]=c}for(f=n-1;0<=f;--f)e=a[f],(e=(n=e._meta)?n.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function x(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return C(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}
function u(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return C(b);for(;d=a[c];++c)if(d=(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function t(a,b,c){return function(){var d,e,f=0,n=1;c&&(f=b.length-1,n=-1);for(;d=b[f];f+=n)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function z(a){A.prototype=a.prototype;a=new A;A.prototype=null;return a}function C(a){var b=a.callee,c=z(b);b.apply(c,a);return c}function B(e,
l,C){"string"!=typeof e&&(C=l,l=e,e="");C=C||{};var E,A,H,F,J,L,P,T=1,S=l;"[object Array]"==y.call(l)?(L=h(l,e),H=L[0],T=L.length-H,l=L[T]):(L=[0],l?"[object Function]"==y.call(l)?(H=l._meta,L=L.concat(H?H.bases:l)):m("base class is not a callable constructor.",e):null!==l&&m("unknown base class. Did you use dojo.require to pull it in?",e));if(l)for(A=T-1;;--A){E=z(l);if(!A)break;H=L[A];(H._meta?b:r)(E,H.prototype);F=a("csp-restrictions")?function(){}:new Function;F.superclass=l;F.prototype=E;l=E.constructor=
F}else E={};B.safeMixin(E,C);H=C.constructor;H!==D.constructor&&(H.nom="constructor",E.constructor=H);for(A=T-1;A;--A)(H=L[A]._meta)&&H.chains&&(P=r(P||{},H.chains));E["-chains-"]&&(P=r(P||{},E["-chains-"]));l&&l.prototype&&l.prototype["-chains-"]&&(P=r(P||{},l.prototype["-chains-"]));H=!P||!P.hasOwnProperty("constructor");L[0]=F=P&&"manual"===P.constructor?u(L):1==L.length?x(C.constructor,H):v(L,H);F._meta={bases:L,hidden:C,chains:P,parents:S,ctor:C.constructor};F.superclass=l&&l.prototype;F.extend=
c;F.createSubclass=n;F.prototype=E;E.constructor=F;E.getInherited=f;E.isInstanceOf=d;E.inherited=I;E.__inherited=g;e&&(E.declaredClass=e,k.setObject(e,F));if(P)for(J in P)E[J]&&"string"==typeof P[J]&&"constructor"!=J&&(H=E[J]=t(J,L,"after"===P[J]),H.nom=J);return F}var r=k.mixin,D=Object.prototype,y=D.toString,A,E=0;A=a("csp-restrictions")?function(){}:new Function;var I=l.config.isDebug?e:g;l.safeMixin=B.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===D[c]&&c in D||"constructor"==c||("[object Function]"==
y.call(d)&&(d.nom=c),a[c]=d);return a};return l.declare=B})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(l,a,k,m,h,g,f,e,d){Object.defineProperty(a,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.Properties");l=function(){function a(a){this.host=a;this._origin=e.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=
0;this.overridden=null;this.store=new d.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;f.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var d=c[b],e=a[d];if(e){for(;0<e.length;)e.pop().propertyDestroyed(this,
d);a[d]=null}}if(this.autoDestroy)for(d in this.metadatas)(a=this.internalGet(d))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[d].nonNullable||this.internalSet(d,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var b=this.metadatas[a],c=b.get;return!this.store.has(a)||
c&&this.dirties[a]?c?(b=c.call(this.host),this.store.set(a,b,e.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value:this.store.get(a)};a.prototype.getterStatic=function(a,b){return this.store.has(a)?this.store.get(a):b.value};a.prototype.getterComputed=function(a,b){if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);b=b.get.call(this.host);this.store.set(a,b,e.OriginId.COMPUTED);this.propertyCommitted(a);return b};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===
b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":e.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){if(this.metadatas[a]){var c=this.initialized?this._origin:e.OriginId.DEFAULTS,d=this.store.get(a);m.equals(b,d)&&c===this.store.originOf(a)&&this.store.has(a,c)&&!this.isOverridden(a)||
(this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=function(a,c){if(this.metadatas[a]){this.overridden||(this.overridden={});var d=this.metadatas[a];if(!d.nonNullable||null!=c){if(d=d.cast){c=this.cast(d,c);var d=c.valid,e=c.value;b.release(c);if(!d)return;c=e}this.overridden[a]=!0;this.internalSet(a,
c)}}};a.prototype.set=function(a,c){if(this.metadatas[a]){var d=this.metadatas[a];if(!d.nonNullable||null!=c){var e=d.set;if(d=d.cast){c=this.cast(d,c);var d=c.valid,f=c.value;b.release(c);if(!d)return;c=f}e?e.call(this.host,c):this.internalSet(a,c)}}};a.prototype.setDefaultOrigin=function(a){this._origin=e.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties;this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var c=0;c<b.length;c++)b[c].propertyInvalidated(this,
a)};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,c){var d=b.acquire();d.valid=!0;d.value=
c;a&&(d.value=a.call(this.host,c,d));return d};return a}();k=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var b=new g(k);a.default=l})},"esri/core/Logger":function(){define(["require","exports","./has"],function(l,a,k){var m={info:0,warn:1,error:2};l=function(){function a(g){void 0===g&&(g={});this.module=g.module||"";this.writer=g.writer||null;this.level=g.level||null;null!=g.enabled&&
(this.enabled=!!g.enabled);a._loggers[this.module]=this;g=this.module.lastIndexOf(".");-1!==g&&(this.parent=a.getLogger(this.module.slice(0,g)))}a.prototype.log=function(a){for(var f=[],e=1;e<arguments.length;e++)f[e-1]=arguments[e];this._isEnabled()&&this._matchLevel(a)&&(e=this._inheritedWriter())&&e.apply(void 0,[a,this.module].concat(f))};a.prototype.error=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=
[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(g){return a.getLogger(this.module+"."+g)};a.getLogger=function(g){var f=a._loggers[g];f||(f=new a({module:g}));return f};a.prototype._parentWithMember=function(a,f){for(var e=this;e&&null==e[a];)e=e.parent;return e?e[a]:f};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",
this._consoleWriter)};a.prototype._consoleWriter=function(a,f){for(var e=[],d=2;d<arguments.length;d++)e[d-2]=arguments[d];console[a].apply(console,["["+f+"]"].concat(e))};a.prototype._matchLevel=function(a){return m[this._parentWithMember("level","error")]<=m[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();l.getLogger("esri").level="warn";return l})},"esri/core/ObjectPool":function(){define(["require","exports"],function(l,a){var k=function(){return function(){}}();
return function(){function a(a,g,f,e,d){void 0===e&&(e=1);void 0===d&&(d=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=g;this.releaseFunction=f;this.growthSize=e;!0===g?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof g&&(this.acquireFunction=g);this._pool=Array(d);this._initialSize=d;if(this.classConstructor)for(a=0;a<d;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(e,1)}a.prototype.destroy=function(){this.prune(0)};a.prototype.acquire=
function(){var h;h=this.classConstructor||k;if(a.test.disabled)h=new h;else{if(0===this._pool.length)for(var g=this.growthSize,f=0;f<g;f++)this._pool[f]=new h;h=this._pool.pop()}if(this.acquireFunction){for(f=arguments.length;0<f;f--)arguments[f]=arguments[f-1];arguments[0]=h;arguments.length++;this.acquireFunction.apply(this,arguments)}else h&&h.acquire&&"function"===typeof h.acquire&&h.acquire.apply(h,arguments);return h};a.prototype.release=function(h){h&&!a.test.disabled&&(this.releaseFunction?
this.releaseFunction(h):h&&h.release&&"function"===typeof h.release&&h.release(),this._pool.push(h))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var g=a;g<this._pool.length;++g)this._dispose(this._pool[g]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(){this.classConstructor&&this.classConstructor.call.apply(this.classConstructor,arguments)};
a.test={disabled:!1};return a}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});var g=[k.default,m.default,h.default];a.processPrototypeMetadatas=function(a,e){for(var d=0;d<g.length;d++){var b=g[d];if(b.processPrototypePropertyMetadata)for(var c in a)b.processPrototypePropertyMetadata(c,a[c],a,e)}};
a.processClassMetadatas=function(a,e){for(var d=0;d<g.length;d++){var b=g[d];if(b.processClassPropertyMetadata)for(var c in a)b.processClassPropertyMetadata(c,a[c],a,e)}};a.instanceCreated=function(a,e){for(var d=Object.getOwnPropertyNames(e),b=0;b<g.length;b++){var c=g[b];c.instanceCreated&&c.instanceCreated(a,e,d)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(l,a,k,m,h,g,f){function e(a,
b,c){var d=g.getProperties(a);return f.wire(a,c.aliasOf,function(){d.propertyInvalidated(b)})}Object.defineProperty(a,"__esModule",{value:!0});a.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,c,e){var d=b.aliasOf;if(d&&(a=d.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var f;b.get=function(){var a=m.default(this,d);if("function"===typeof a){f||(f=d.split(".").slice(0,-1).join("."));var b=m.default(this,f);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return h.default(this,
d,a)})}},instanceCreated:function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d],g=b[f];g.aliasOf&&e(a,f,g)}}};a.default=a.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(l,a,k){function m(a,d,b){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=b.getItemAt||Array.isArray(b)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(b)?b[c]:b.getItemAt(c)}c=k.getProperties(b);return d?k.isPropertyDeclared(c,a)?c.get(a):b[a]:k.isPropertyDeclared(c,
a)?c.internalGet(a):b[a]}function h(a,d,b,c){if(null==a)return a;if((a=m(d[c],b,a))||!(c<d.length-1))return c===d.length-1?a:h(a,d,b,c+1)}function g(a,d,b,c){void 0===b&&(b=!1);void 0===c&&(c=0);return"string"===typeof d&&-1===d.indexOf(".")?m(d,b,a):h(a,k.pathToArray(d),b,c)}function f(a,d){return g(a,d,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.valueOf=g;a.get=f;a.exists=function(a,d){return void 0!==g(d,a,!0)};a.default=f})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../lang"],function(l,a,k){function m(a,d,b){return d?Object.keys(d).reduce(function(a,e){var c=null,f="merge";b&&(c=b.path?b.path+"."+e:e,f=b.policy(c));if("replace"===f)return a[e]=d[e],a;if(void 0===a[e])return a[e]=k.clone(d[e]),a;var g=a[e],f=d[e];if(g===f)return a;if(Array.isArray(f)||Array.isArray(a))g=g?Array.isArray(g)?a[e]=g.concat():a[e]=[g]:a[e]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}));else if(f&&"object"===typeof f)if(b){var n=b.path;
b.path=c;a[e]=m(g,f,b);b.path=n}else a[e]=m(g,f,null);else if(!a.hasOwnProperty(e)||d.hasOwnProperty(e))a[e]=f;return a},a||{}):a}function h(a){return Array.isArray(a)?a:a.split(".")}function g(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var d=0;d<a.length;d++)a[d]=a[d].trim();return 1===a.length?a[0]:a}return a.trim()}function f(a){var d=!1;return function(){d||(d=!0,a())}}Object.defineProperty(a,"__esModule",{value:!0});a.getProperties=function(a){return a?a.__accessor__?
a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,d){return a&&a.metadatas&&null!=a.metadatas[d]};a.merge=function(a,d,b){return b?m(a,d,{policy:b,path:""}):m(a,d,null)};a.pathToStringOrArray=function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:h(a)};a.pathToArray=h;a.splitPath=g;a.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=h(a);for(var d=Array(a.length),b=0;b<a.length;b++){var c=a[b];d[b]="?"===c[c.length-1];d[b]&&(a[b]=c.slice(0,
-1))}return{fullPath:a.join("."),conditional:d}};a.parse=function(a,d,b,c){d=g(d);if(Array.isArray(d)){var e=d.map(function(d){return c(a,d.trim(),b)});return{remove:f(function(){return e.forEach(function(a){return a.remove()})})}}return c(a,d.trim(),b)};a.once=f})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(l,a,k,m,h){function g(a,e,d){if(a&&e)if("object"===typeof e){d=0;for(var b=Object.getOwnPropertyNames(e);d<b.length;d++){var c=
b[d];g(a,c,e[c])}}else"_"!==e[0]&&(-1!==e.indexOf(".")?(e=e.split("."),c=e.splice(e.length-1,1)[0],g(h.default(a,e),c,d)):a[e]=d)}Object.defineProperty(a,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.set");a.set=g;a.default=g})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(l,a,k){function m(a,c,f){c=k.splitPath(c);if(Array.isArray(c)){for(var b=[],g=0;g<c.length;g++)b.push((new h(c[g],f)).install(a));return new e(b)}a=(new h(c,f)).install(a);
return new d(a)}Object.defineProperty(a,"__esModule",{value:!0});var h=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=k.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=k.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new f(this,a):new g(this,
a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),g=function(){function a(a,b){this.binding=a;this.target=b;k.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(k.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){k.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};
a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),f=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=k.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=
null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var c=this.stack,d=c[c.length-1];d.properties!==a&&d.propertyName!==b;)d.properties.removeCursor(d.propertyName,this),c.pop(),d=c[c.length-1]};a.prototype.moveForward=
function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=k.getProperties(b))&&a.length<this.binding.chain.length){var d=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[d]||(this.stack.push({properties:b,propertyName:d}),b.addCursor(d,this),this.moveForward())}};return a}(),e=function(){function a(a){this.cursors=
a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),d=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();a.create=function(a,c){a=k.splitPath(a);if(Array.isArray(a)){for(var b=[],f=0;f<a.length;f++)b.push(new h(a[f],c));return function(a){for(var c=[],d=0;d<b.length;d++)c[d]=b[d].install(a);return new e(c)}}var g=new h(a,c);return function(a){return new d(g.install(a))}};
a.wire=m;a.default=m})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(l,a,k,m,h,g){Object.defineProperty(a,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,e,d,b){e.dependsOn&&e.dependsOn.length&&(e.wire=g.create(e.dependsOn,function(b){return h.getProperties(b).propertyInvalidated(a)}))},
instanceCreated:function(a,e,d){for(var b=0;b<d.length;b++){var c=e[d[b]];c.wire&&c.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(l,a,k,m,h,g,f){function e(a,b,c){var d=a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&
("any"===b||b in a)&&(d=a);return d}Object.defineProperty(a,"__esModule",{value:!0});a.originSpecificReadPropertyDefinition=function(a,b){return e(a,"read",b)};a.originSpecificWritePropertyDefinition=function(a,b){return e(a,"write",b)};a.originSpecificPropertyDefinition=e;a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,c,e){if(g.process(b)){m.process(b);c=b.type;for(e=0;Array.isArray(c)&&!k.isOneOf(c);)c=c[0],e++;if(b.json.origins)for(var d in b.json.origins){var n=
b.json.origins[d];h.create(c,e,a,n);f.create(c,e,a,n)}h.create(c,e,a,b.json);f.create(c,e,a,b.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(l,a,k,m){function h(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function g(a){return null==a?a:new Date(a)}function f(a){return null==a?a:!!a}function e(a){return null==a?a:a.toString()}function d(a){return null==a?a:"number"===
typeof a&&isNaN(a)?0:parseFloat(a)}function b(a){return null==a?a:Math.round(parseFloat(a))}function c(a){return a&&a.constructor&&void 0!==a.constructor._meta}function n(a,b){return null!=b&&a&&!h(a,b)}function v(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function x(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function u(a,b){if(!b||!b.constructor||!v(b.constructor))return t(a,b)?b:new a(b);var c=
x(a.prototype.itemType),d=x(b.constructor.prototype.itemType);if(!c)return b;if(!d)return new a(b);if(c===d)return b;if((d=d._meta&&d._meta.bases)&&-1!==d.indexOf(c))return new a(b);t(a,b);return b}function t(a,b){return c(b)?(Q.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+C(a)+"'"),!0):!1}function z(a,b){return null==b?b:v(a)?u(a,b):n(a,b)?t(a,b)?b:new a(b):b}function C(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}
function B(a){switch(a){case Number:return d;case K:return b;case Boolean:return f;case String:return e;case Date:return g;default:return z.bind(null,a)}}function r(a,b){var c=B(a);return 1===arguments.length?c:c(b)}function D(a,b,c){return 1===arguments.length?D.bind(null,a):b?Array.isArray(b)?b.map(function(b){return a(b,c)}):[a(b,c)]:b}function y(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return y(a,b-1,c)}):a(c)}function A(a,b,c){if(2===arguments.length)return A.bind(null,a,b);if(!c)return c;
c=y(a,b,c);for(var d=b,e=c;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)c=[c];return c}function E(a,b){if(2===arguments.length)return E(a).call(null,b);for(var c=new Set,d=a.filter(function(a){return"function"!==typeof a}),e=a.filter(function(a){return"function"===typeof a}),f=0;f<a.length;f++){var g=a[f];"string"!==typeof g&&"number"!==typeof g||c.add(g)}var h=null,k=null;return function(a,b){if(null==a)return a;var f=typeof a,g="string"===f||"number"===f;if(g&&(c.has(a)||e.some(function(a){return"string"===
f&&a===String||"number"===f&&a===Number}))||"object"===f&&e.some(function(b){return!n(a,b)}))return a;g&&d.length?(h||(h=d.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),Q.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+h)):"object"===typeof a&&e.length?(k||(k=e.map(function(a){return C(a)}).join(", ")),Q.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+k)):Q.error("Accessor#set",
"'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function I(a,b){if(2===arguments.length)return I(a).call(null,b);var d={},e=[],f=[],g;for(g in a.typeMap){var h=a.typeMap[g];d[g]=r(h);e.push(C(h));f.push(g)}var k="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&!n(a.base,b)||null==b)return b;var g=k(b)||a.defaultKeyValue,h=d[g];if(!h)return Q.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+e.join("', '")+
"'")+", or a plain object that can autocast (having .type \x3d "+("'"+f.join("', '")+"'")+")"),null;if(!n(a.typeMap[g],b))return b;if("string"===typeof a.key&&!c(b)){var g={},t;for(t in b)t!==a.key&&(g[t]=b[t]);return h(g)}return h(b)}}function H(a){switch(a.type){case "native":return r(a.value);case "array":return D(H(a.value));case "one-of":return L(a);default:k.neverReached(a)}return null}function L(a){var b=null;return function(c,d){if(G(c,a))return c;null==b&&(b=J(a));Q.error("Accessor#set",
"Invalid property value, value needs to be of type "+b);d&&(d.valid=!1);return null}}function J(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case K:return"integer";case Date:return"date";default:return C(a.value)}case "array":return"array of "+J(a.value);case "one-of":return a=a.values.map(function(a){return J(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:k.neverReached(a)}return"unknown"}function G(a,
b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case K:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof b.value;case "array":return Array.isArray(a)?!a.some(function(a){return!G(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return G(a,b)})}}Object.defineProperty(a,"__esModule",{value:!0});var Q=m.getLogger("esri.core.Accessor");a.isInstanceOf=h;a.ensureDate=g;a.ensureBoolean=
f;a.ensureString=e;a.ensureNumber=d;a.ensureInteger=b;a.isClassedType=c;a.requiresType=n;a.ensureClass=z;a.ensureType=r;a.ensureArrayTyped=D;a.ensureArray=function(a,b){return 1===arguments.length?D(r.bind(null,a)):D(r.bind(null,a),b)};a.ensureNArrayTyped=A;a.ensureNArray=function(a,b,c){return 2===arguments.length?A(r.bind(null,a),b):A(r.bind(null,a),b,c)};a.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):
!1};a.ensureOneOf=E;a.ensureOneOfType=I;var K=function(){return function(){}}();a.Integer=K;a.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};a.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:k.neverReachedSilent(a)}return!1};a.ensureLongFormType=H;a.default=r})},"esri/core/compilerUtils":function(){define(["require",
"exports","./has"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.neverReached=function(a){};a.neverReachedSilent=function(a){};a.typeCast=function(a){return function(){return a}};a.tuple=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];return a}})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){if(a.json&&a.json.origins){var k=
a.json.origins,h={"web-document":["web-scene","web-map"]};a=function(a){if(k[a]){var e=k[a];h[a].forEach(function(a){k[a]=e});delete k[a]}};for(var g in h)a(g)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(l,a,k,m){function h(a,c,f,h){if(1<c)return e(a,c);if(1===c)return d(a);if(b(a)){var n=d(a.prototype.itemType.Type);return function(b,c,d){return(b=n(b,c,d))?new a(b):b}}return g(a)}function g(a){return a.prototype.read?
function(b,c,d){if(null==b)return b;c=new a;c.read(b,d);return c}:a.fromJSON}function f(a,b,c,d){return 0!==d&&Array.isArray(b)?b.map(function(b){return f(a,b,c,d-1)}):a(b,null,c)}function e(a,b){a=g(a);var c=f.bind(null,a);return function(a,d,e){if(null==a)return a;a=c(a,e,b);d=b;for(e=a;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)a=[a];return a}}function d(a){var b=g(a);return function(a,c,d){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,d)}):[b(a,null,
d)]}}function b(a){return m.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?c(a.Type):!1:!1}function c(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||b(a))}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,b,d,e){(!e.read||!e.read.reader&&!1!==e.read.enabled)&&c(a)&&k.setDeepValue("read.reader",h(a,b,d,e),e)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],
function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(l,a){function k(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&
(a.read.enabled=!0)}function m(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){a.json||(a.json={});k(a.json);m(a.json);if(a.json.origins)for(var g in a.json.origins)k(a.json.origins[g]),m(a.json.origins[g]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(l,a,k,m){function h(a,c,d,e){k.setDeepValue(d,g(a,e),c)}function g(a,c){return a&&"function"===typeof a.write?a.write({},c):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function f(a,c,d,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return g(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[g(a,e)];k.setDeepValue(d,a,c)}function e(a,
c,d){return 0!==d&&Array.isArray(a)?a.map(function(a){return e(a,c,d-1)}):g(a,c)}function d(a){return function(b,d,f,g){if(null===b)b=null;else{b=e(b,g,a);g=a;for(var c=b;0<g&&Array.isArray(c);)g--,c=c[0];if(void 0!==c)for(c=0;c<g;c++)b=[b]}k.setDeepValue(f,b,d)}}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,c,e,g){!g.write||g.write.writer||!1===g.write.enabled&&!g.write.overridePolicy||(1===c||m.isCollection(a)?g.write.writer=f:g.write.writer=1<c?d(c):h)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(l,a){function k(a){switch(a){case "defaults":return h.DEFAULTS;case "service":return h.SERVICE;case "portal-item":return h.PORTAL_ITEM;case "web-scene":return h.WEB_SCENE;case "web-map":return h.WEB_MAP;case "user":return h.USER}}function m(a){switch(a){case h.DEFAULTS:return"defaults";case h.SERVICE:return"service";case h.PORTAL_ITEM:return"portal-item";case h.WEB_SCENE:return"web-scene";case h.WEB_MAP:return"web-map";case h.USER:return"user"}}Object.defineProperty(a,"__esModule",
{value:!0});var h;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(h=a.OriginId||(a.OriginId={}));a.nameToId=k;a.idToName=m;a.readableNameToId=function(a){return k(a)};a.idToReadableName=function(a){return m(a)};a.writableNameToId=function(a){return k(a)};a.idToWritableName=function(a){return m(a)}})},"esri/core/accessorSupport/Store":function(){define(["require",
"exports","./PropertyOrigin"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return k.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,g){this._values[a]=g};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();a.default=l})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(l,a,k,m,h,g,f){function e(a,c){return function(b){b=+a(b);null!=c.min&&(b=Math.max(c.min,b));null!=c.max&&(b=Math.min(c.max,b));return b}}function d(a,c){return null==c.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,c):c.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,c):c.value}}Object.defineProperty(a,"__esModule",{value:!0});a.processPrototype=function(a){var b=a.declaredClass,d=a.properties||{},f;for(f in d){var l=d[f],u=typeof l;
null==l?h.setPropertyMetadata(a,f,{value:l}):Array.isArray(l)?h.setPropertyMetadata(a,f,{type:[l[0]],value:null}):"object"===u?g.getProperties(l)||l instanceof Date?h.setPropertyMetadata(a,f,{type:l.constructor,value:l}):h.setPropertyMetadata(a,f,l):"boolean"===u?h.setPropertyMetadata(a,f,{type:Boolean,value:l}):"string"===u?h.setPropertyMetadata(a,f,{type:String,value:l}):"number"===u?h.setPropertyMetadata(a,f,{type:Number,value:l}):"function"===u&&h.setPropertyMetadata(a,f,{type:l,value:null})}a=
h.getPropertiesMetadata(a);for(f in a){d=a[f];u=d.type;l=d.types;if(!d.cast)if(u){l=d;var t=0,z=u;if(k.isLongFormType(u))u=k.ensureLongFormType(u);else{for(;Array.isArray(z)&&1===z.length&&"string"!==typeof z[0]&&"number"!==typeof z[0];)z=z[0],t++;u=k.isOneOf(z)?0===t?k.ensureOneOf(z):k.ensureNArrayTyped(k.ensureOneOf(z),t):1===t?k.ensureArray(z):1<t?k.ensureNArray(z,t):k.ensureType(u)}l.cast=u}else l&&(Array.isArray(l)?d.cast=k.ensureArrayTyped(k.ensureOneOfType(l[0])):d.cast=k.ensureOneOfType(l));
d.range&&(d.cast=e(d.cast,d.range))}m.processPrototypeMetadatas(a,b);return a};a.processClass=function(a){for(var b=a.prototype,e=b.declaredClass,g=a._meta.bases,k={},l=g.length-1;0<=l;l--)h.merge(k,h.getMetadata(g[l].prototype));var t=k.properties;m.processClassMetadatas(t,e);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:t,autoDestroy:!!k.autoDestroy}});for(var z={},e=function(a){var b=t[a];z[a]={enumerable:!0,configurable:!0,get:d(a,b),set:function(c){var d=this.__accessor__;
if(!d)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:c});else if(!Object.isFrozen(this)){if(d.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===d.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);d.set(a,c)}}}},g=0,l=Object.getOwnPropertyNames(t);g<l.length;g++)e(l[g]);Object.defineProperties(a.prototype,
z);if(k.parameters)for(a=0,e=Object.getOwnPropertyNames(k.parameters);a<e.length;a++)g=e[a],l=Object.getOwnPropertyDescriptor(b,g)||{value:b[g]},(l=f.autocastMethod(b,g,l))&&Object.defineProperty(b,g,l);return k}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(l,a,k){function m(a){return null!=a.__accessorMetadata__}function h(a){return m(a)&&null!=g(a).properties}function g(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",
{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function f(a){a=g(a);var b=a.properties;b||(b=a.properties={});return b}function e(a,b){var c=g(a);a=c.parameters;a||(a=c.parameters={});c=a[b];c||(c=[],a[b]=c);return c}function d(a){return c.test(a)?"replace":"merge"}function b(a){return n.test(a)?d(a.slice(11)):"merge"}Object.defineProperty(a,"__esModule",{value:!0});a.hasMetadata=m;a.hasPropertiesMetadata=h;a.hasPropertyMetadata=function(a,b){return h(a)&&null!=
f(a)[b]};a.hasParametersMetadata=function(a,b){return m(a)&&null!=g(a).parameters&&null!=g(a).parameters[b]};a.getMetadata=g;a.getPropertiesMetadata=f;a.getPropertyMetadata=function(a,b){a=f(a);var c=a[b];c||(c=a[b]={});return c};a.setPropertyMetadata=function(a,b,c){f(a)[b]=c};a.getParametersMetadata=e;a.getParameterMetadata=function(a,b,c){var d=e(a,b)[c];d||(e(a,b)[c]=d={index:c});return d};a.merge=function(a,c){return k.merge(a,c,b)};a.mergeProperty=function(a,b){return k.merge(a,b,d)};var c=
/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,n=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(l,a,k,m){function h(a){var b="_meta"in a?k.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?f.apply(this,a):g.apply(this,a)}}function g(a,c,d,e){m.getPropertyMetadata(a,c).cast=e}function f(a,c,d,e){m.getParameterMetadata(a,
c,d).cast=e}function e(a){return function(b,d,e){m.getPropertyMetadata(b,a).cast=b[d]}}Object.defineProperty(a,"__esModule",{value:!0});var d=Object.prototype.toString;a.autocastMethod=function(a,c,d){if(m.hasParametersMetadata(a,c)){var b=m.getParametersMetadata(a,c).filter(function(a){return null!=a.cast});if(b.length){var e=d.value;d.value=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];a[d.index]=d.cast(a[d.index])}return e.apply(this,a)};
return d}console.warn("Method "+a.declaredClass+"::"+c+" is decorated with @cast but no parameters are decorated")}};a.cast=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===d.call(a[0]))return h(a[0]);if(1===a.length&&"string"===typeof a[0])return e(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),
function(l,a,k,m,h,g,f,e,d){function b(a){C.has(a)?B.splice(B.indexOf(a),1):C.add(a);B.push(a);r||(r=g.schedule(n))}function c(a){if(!a.removed){var b=a.callback,c=a.path,d=a.oldValue,e=a.target,g=f.valueOf(e,a.propertyPath,!0);m.equals(d,g)||(a.oldValue=g,b.call(e,g,d,c,e))}}function n(){for(var a=10;r&&a--;){r=null;var b=B;B=z.acquire();C.clear();for(var d=z.acquire(),e=0,f=b;e<f.length;e++){var g=f[e];c(g);g.removed&&d.push(g)}for(e=0;e<B.length;e++)g=B[e],g.removed&&(d.push(g),C.delete(g),B.splice(e,
1),--e);for(e=0;e<d.length;e++)t.pool.release(d[e]);z.release(b);z.release(d);D.forEach(function(a){return a()})}}function v(a,c,g){var n=e.parse(a,c,g,function(a,c,g){var h=f.valueOf(a,c,!0),k,r,l=d.wire(a,c,function(a,c){a.__accessor__.destroyed||k&&k.uid!==r?n.remove():(k||(k=t.pool.acquire(a,c,h,g),r=k.uid,h=null),b(k))});return{remove:e.once(function(){l.remove();k&&(k.uid!==r||k.removed||(k.removed=!0,b(k)),k=null);n=l=h=null})}});return n}function x(a,b,c){var g=e.parse(a,b,c,function(a,b,
c){var e=f.valueOf(a,b,!0),n=!1;return d.wire(a,b,function(a,b){if(a.__accessor__.destroyed)g.remove();else if(!n){n=!0;var d=f.valueOf(a,b,!0);m.equals(e,d)||c.call(a,d,e,b,a);e=f.valueOf(a,b,!0);n=!1}})});return g}function u(a,b,c,d){void 0===d&&(d=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:d?x(a,b,c):v(a,b,c)}Object.defineProperty(a,"__esModule",{value:!0});var t=function(){function a(b,c,d,f){this.target=b;this.path=c;this.oldValue=d;this.callback=f;this.uid=0;this.removed=
!1;this.propertyPath=e.pathToStringOrArray(c);this.uid=++a.uid}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new h.ReentrantObjectPool(a,!0);a.uid=0;return a}(),z=new k,C=new Set,B=z.acquire(),r;a.dispatchTarget=function(a){for(var b=z.copy(B),d=0;d<b.length;d++){var e=b[d];e.target===a&&(c(e),C.delete(e),B.splice(B.indexOf(e),1))}};a.removeTarget=function(a){for(var b=0;b<B.length;b++){var c=B[b];c.target===
a&&(c.removed=!0)}};a.dispatch=n;var D=new Set;a.afterDispatch=function(a){D.add(a);return{remove:function(){D.delete(a)}}};a.watch=u;a.isValueInUse=function(a){return B.some(function(b){return b.oldValue===a})};a.default=u})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(l,a,k){function m(a){a.length=0}var h=Array.prototype.splice;l=function(){function a(a,d){void 0===a&&(a=50);void 0===d&&(d=50);this._pool=new k(Array,!1,m,d,a)}a.prototype.acquire=function(){return this._pool.acquire()};
a.prototype.copy=function(a){var d=this.acquire();a.unshift(0,0);h.apply(d,a);a.splice(0,2);return d};a.prototype.release=function(a){this._pool.release(a)};a.prototype.prune=function(){this._pool.prune(0)};a.acquire=function(){return g.acquire()};a.copy=function(a){return g.copy(a)};a.release=function(a){return g.release(a)};a.prune=function(){g.prune()};return a}();var g=new l(100);return l})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],
function(l,a,k,m){Object.defineProperty(a,"__esModule",{value:!0});l=function(a){function g(){var f=null!==a&&a.apply(this,arguments)||this;f._set=new Set;return f}k(g,a);g.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=null};g.prototype.acquire=function(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];f=a.prototype.acquire.apply(this,f);this._set.delete(f);return f};g.prototype.release=function(f){f&&!this._set.has(f)&&(a.prototype.release.call(this,f),this._set.add(f))};
g.prototype._dispose=function(f){this._set.delete(f);a.prototype._dispose.call(this,f)};return g}(m);a.ReentrantObjectPool=l})},"esri/core/scheduling":function(){define("require exports ./nextTick ./now ./PooledArray ./promiseUtils ./requestAnimationFrame".split(" "),function(l,a,k,m,h,g,f){function e(b){void 0===b&&(b=a.now());a.debug.rafId=null;0<D.length&&(a.debug.rafId=d());0<u&&(z=Math.min(b-u,z));a.debug.executeFrameTasks(b)}function d(){return a.debug.requestNextFrame?a.debug.requestNextFrame(n):
n()}function b(){D.forEach(function(a){a.removed&&A.push(a)});D.removeUnorderedMany(A.data,A.length);A.clear()}function c(){for(;r.length;){var b=r.shift();b.isActive&&(b.isActive=!1,b.callback())}a.debug.willDispatch=!1}function n(){return f(e)}Object.defineProperty(a,"__esModule",{value:!0});a.now=m;var v=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),x=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=
!1};return a}(),u=-1,t=0,z=1E3,C={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},B=["prepare","preRender","render","postRender","update"],r=[],D=new h,y=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=!0};a.prototype.resume=function(){this._task.paused=!1};return a}();a.FrameTaskHandle=y;a.debug={frameTasks:D,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=
!1);D.forEach(function(a){a.removed=!0});a&&b()},dispatch:c,executeFrameTasks:function(c){void 0===c&&(c=a.now());0>u&&(u=c);var d=c-u,e=0<t?t:z,f=Math.max(0,d-e);u=c;for(var g=function(b){var g=B[b];D.forEach(function(n){n.paused||n.removed||(0===b&&n.ticks++,n.phases[g]&&(C.time=c,C.deltaTime=0===n.ticks?0:d,C.elapsedFrameTime=a.now()-c,C.frameDuration=e-f,n.phases[g].call(n,C)))})},n=0;n<B.length;n++)g(n);b()}};a.schedule=function(b){b=new x(b);r.push(b);a.debug.willDispatch||(a.debug.willDispatch=
!0,k(c));return b};a.addFrameTask=function(b){b=new v(b);D.push(b);a.debug.rafId||(u=-1,a.debug.rafId=d());return new y(b)};a.setFrameDuration=function(a){t=Math.max(0,a)};a.requestNextFrame=d;var A=new h;a.waitTicks=function(a,b){void 0===a&&(a=1);var c=g.createResolver(),d=function(){g.isAborted(b)?c.reject(g.createAbortError()):0===a?c():(--a,k(function(){return d()}))};d();return c.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(l,a,k){function m(){if(k.postMessage&&
!k.importScripts){var a=k.onmessage,c=!0;k.onmessage=function(){c=!1};k.postMessage("","*");k.onmessage=a;return c}return!1}function h(a){e.push(a);1===e.length&&f(function(){for(var a=0,b=d;a<b.length;a++)(0,b[a])();a=e.slice();for(b=e.length=0;b<a.length;b++)(0,a[b])()})}var g=k.MutationObserver||k.WebKitMutationObserver,f=function(){if(k.process&&k.process.nextTick)return function(a){k.process.nextTick(a)};if(k.Promise)return function(a){k.Promise.resolve().then(a)};if(g){var a=[],c=document.createElement("div");
(new g(function(){for(;0<a.length;)a.shift()()})).observe(c,{attributes:!0});return function(b){a.push(b);c.setAttribute("queueStatus","1")}}if(m()){var d=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();d.length;)d.shift()()},!0);return function(a){d.push(a);k.postMessage("esri-nexttick-message","*")}}return k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,0)}}(),e=[],d=[];(function(a){a.before=
function(a){d.push(a);return{remove:function(){d=d.filter(function(b){return b!==a})}}}})(h||(h={}));return h})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(l,a,k,m){var h=m();l=k.requestAnimationFrame;if(!l){a=["ms","moz","webkit","o"];for(var g=0;g<a.length&&!l;++g)l=k[a[g]+"RequestAnimationFrame"];l||(l=function(a){var e=m(),d=Math.max(0,16-(e-h)),b=k.setTimeout(function(){a(m())},d);h=e+d;return b})}return l})},"esri/core/accessorSupport/testSupport":function(){define(["require",
"exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.interceptor=null})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(l,a,k,m,h,g,f,e,d,b,c,n){function v(b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])}Object.defineProperty(a,
"__esModule",{value:!0});v(k);v(m);v(h);v(g);v(f);v(e);v(d);v(b);v(c);v(n)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=function(a){return function(h,g){k.getPropertyMetadata(h,g).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=
function(){return function(a,h,g){k.getMetadata(a).autoDestroy=!0;return a[h]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.declared=function(a){var k=function(){return this||{}};if(1<arguments.length){k.__bases__=[];for(var h=0;h<arguments.length;h++)k.__bases__.push(arguments[h])}else k.__bases__=[a];return k}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(l,a,k,m){function h(a){return m.property({type:a})}Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=h;(function(a){a.serializable=function(){return function(a,e){void 0===e&&(e={ignoreUnknown:!0});a=a instanceof k.JSONMap?a:new k.JSONMap(a,e);return m.property({type:e&&e.ignoreUnknown?a.apiValues:String,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(h=a.enumeration||(a.enumeration={}))})},"esri/core/jsonMap":function(){define(["require",
"exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=function(){function a(a,g){void 0===g&&(g={ignoreUnknown:!1});this.jsonToAPI=a;this.options=g;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return this.fromJSON(a)}.bind(this);this.write=function(a,e,d){a=this.toJSON(a);void 0!==a&&(e[d]=a)}.bind(this)}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?
this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var g={},f;for(f in a)g[a[f]]=f;return g};a.prototype.getKeysSorted=function(a){var g=[],f;for(f in a)g.push(f);g.sort();return g};return a}();a.JSONMap=k;a.strict=function(){return function(a){return new k(a,{ignoreUnknown:!0})}};a.default=k})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(l,a,k,m,h,g){Object.defineProperty(a,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(e,d){var b=e.constructor.prototype;b!==Function.prototype&&((e=Object.getOwnPropertyDescriptor(e,d))&&(e.get||e.set)?(a=m.clone(a),e.set&&(a.set=e.set),e.get&&(a.get=e.get)):e&&e.hasOwnProperty("value")&&(a=m.clone(a),a.value=e.value),d=g.getPropertyMetadata(b,d),g.mergeProperty(d,a))}};a.propertyJSONMeta=function(a,
e,d){a=g.getPropertyMetadata(a.constructor.prototype,d);a.json||(a.json={});a=a.json;void 0!==e&&(a.origins||(a.origins={}),a.origins[e]||(a.origins[e]={}),a=a.origins[e]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(l,a,k,m){Object.defineProperty(a,"__esModule",{value:!0});a.reader=function(a,g,f){var e,d;void 0===g||Array.isArray(g)?(d=a,f=g,e=[void 0]):(d=g,e=Array.isArray(a)?a:[a]);return function(a,c,g){var b=
a.constructor.prototype;e.forEach(function(e){e=m.propertyJSONMeta(a,e,d);e.read&&"object"!==typeof e.read&&(e.read={});k.setDeepValue("read.reader",b[c],e);f&&(e.read.source=(e.read.source||[]).concat(f))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=function(a){return function(k,h){k[h]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(l,a,k,m){function h(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function g(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function f(a){var b=[];a=m.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var d=a[c];d.cast&&b.push(d.cast);d.copy&&b.push(d.copy);if(d=d.json)if(h(d,b),g(d,b),d=d.origins)for(var e in d){var f=
d[e];h(f,b);g(f,b)}}return b}function e(a){var c={values:{},descriptors:{}},d=["__bases__"],e=m.getPropertiesMetadata(a.prototype),g=f(a);Object.getOwnPropertyNames(a.prototype).filter(function(c){return-1!==d.indexOf(c)||e&&e.hasOwnProperty(c)||!b(Object.getOwnPropertyDescriptor(a.prototype,c))&&-1!==g.indexOf(a.prototype[c])?!1:!0}).forEach(function(d){var e=Object.getOwnPropertyDescriptor(a.prototype,d);b(e)?c.descriptors[d]=e:c.values[d]=a.prototype[d]});return c}function d(a){var c=Object.getOwnPropertyNames(a),
d=Object.getPrototypeOf(a.prototype).constructor,e=Object.getOwnPropertyNames(Function);e.push("__bases__","caller","arguments");var f=Object.getOwnPropertyNames(d),g={values:{},descriptors:{}};c.filter(function(b){return-1!==e.indexOf(b)?!1:-1===f.indexOf(b)||d[b]!==a[b]?!0:!1}).forEach(function(c){var d=Object.getOwnPropertyDescriptor(a,c);b(d)?g.descriptors[c]=d:g.values[c]=a[c]});return g}function b(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(a,"__esModule",{value:!0});a.subclass=function(a){return function(c){var f=
e(c),g=d(c);null!=a&&(f.values.declaredClass=a);c=k(c.__bases__,f.values);var n=Object.getPrototypeOf(c.prototype),h=c._meta&&c._meta.bases,l=c._meta&&c._meta.parents;if(n&&h&&l&&!(1>=l.length))for(var m=1;m<h.length;m++){var B=h[m],r=B.__accessorMetadata__&&B.__accessorMetadata__.properties,D=n,n=Object.getPrototypeOf(n);if(-1!==l.indexOf(B))for(var y=0,A=Object.getOwnPropertyNames(B.prototype);y<A.length;y++){var E=A[y];if("initialized"!==E&&"constructed"!==E&&"destroyed"!==E&&!(r&&E in r)){var I=
Object.getOwnPropertyDescriptor(B.prototype,E);b(I)&&Object.defineProperty(D,E,I)}}}Object.defineProperties(c.prototype,f.descriptors);for(var H in g.values)c[H]=g.values[H];Object.defineProperties(c,g.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(l,a,k,m){Object.defineProperty(a,"__esModule",{value:!0});a.writer=function(a,g,f){var e,d;void 0===g?(d=a,e=[void 0]):"string"!==typeof g?(d=a,e=[void 0],
f=g):(d=g,e=Array.isArray(a)?a:[a]);return function(a,c,g){var b=a.constructor.prototype;e.forEach(function(e){e=m.propertyJSONMeta(a,e,d);e.write&&"object"!==typeof e.write&&(e.write={});f&&k.setDeepValue("write.target",f,e);k.setDeepValue("write.writer",b[c],e)})}}})},"esri/core/workers/request":function(){define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});var g;a.execute=function(a,e){void 0===e&&
(e={});var d=e.responseType;d?"json"!==d&&"text"!==d&&"blob"!==d&&"array-buffer"!==d&&(d="text"):d="json";var b=e&&e.signal;delete e.signal;return h.invokeStaticMessage("request",{url:a,options:e},{signal:b}).then(function(b){var c=b.data,f,h,l;if(c&&("json"===d||"text"===d||"blob"===d)&&(f=new Blob([c]),"json"===d||"text"===d)&&(g||(g=new FileReaderSync),h=g.readAsText(f),"json"===d)){try{l=JSON.parse(h||null)}catch(t){throw b=k({},t,{url:a,requestOptions:e}),new m("request:server",t.message,b);
}if(l.error)throw b=k({},l.error,{url:a,requestOptions:e}),new m("request:server",l.error.message,b);}switch(d){case "json":break;case "text":l=h;break;case "blob":l=f;break;default:l=c}return{data:l,requestOptions:e,ssl:b.ssl,url:a}})}})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(l){for(var a,k=1,m=arguments.length;k<m;k++){a=arguments[k];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(l[h]=a[h])}return l}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository ../../tiling/enums".split(" "),
function(l,a,k,m,h,g){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return k.resolve()};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new h(a)).layers;return k.resolve({data:""})};a.prototype.createTileAndParse=function(a,d){for(var b=this,c=a.key,e=a.cacheTile,
f=m.pool.acquire(),h={},l=0,t=Object.keys(a.sourceName2DataAndRefKey);l<t.length;l++){var z=t[l];h[z]=a.sourceName2DataAndRefKey[z].refKey}f.initialize(c,h,this,a.rotation);return f.setDataAndParse(a.sourceName2DataAndRefKey,d).then(function(a){e&&f.status!==g.TileStatus.INVALID&&b._tiles.set(c,f);return a}).catch(function(a){f.setObsolete();m.pool.release(f);if(b._tiles.has(f.tileKey))b._tiles["delete"](f.tileKey);return k.reject(a)}).catch(function(a){return a}).then(function(a){e||m.pool.release(f);
return a})};a.prototype.updateSymbols=function(a,d){var b=this._tiles.get(a.key);return b?b.updateSymbols(a.rotation,d):k.reject()};a.prototype.updateStyle=function(a,d){this._layers=(new h(a)).layers;this._tiles.forEach(function(a,c){a.reparse(d).then(function(b){d.client.invoke("updateTileData",{tileId:a.tileKey,tileData:b.result})})});return k.resolve({data:""})};a.prototype.destructTileData=function(a){this._tiles.has(a)&&(m.pool.release(this._tiles.get(a)),this._tiles["delete"](a));return k.resolve()};
a.prototype.fetchSprites=function(a,d,b){var c=[],e=this._spriteInfo;a.forEach(function(a){void 0===e[a]&&c.push(a)});return 0===c.length?k.resolve():d.invoke("getSprites",c,{signal:b&&b.signal}).then(function(a){for(var b in a)e[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,d,b,c,f){var e=[],g=this._glyphInfo[d];g?b.forEach(function(a){g[a]||e.push(a)}):(g=this._glyphInfo[d]=[],b.forEach(function(a){return e.push(a)}));return 0===e.length?
k.resolve():c.invoke("getGlyphs",{tileID:a,font:d,codePoints:e},f).then(function(a){for(var b=0;b<a.length;b++)a[b]&&(g[b]=a[b])})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/asyncUtils ../../../../core/maybe ../../../../core/ObjectPool ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),
function(l,a,k,m,h,g,f,e,d,b,c,n,v,x,u,t,z,C,B){return function(){function a(){this.rotation=0;this.status=B.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new u.PlacementEngine;this.fillVertexBuffer=new C.FillVertexBuffer(!1);this.fillDDVertexBuffer=new C.FillVertexBuffer(!0);this.fillIndexBuffer=new v.TriangleIndexBuffer;this.outlineVertexBuffer=new C.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new C.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new v.TriangleIndexBuffer;
this.lineVertexBuffer=new C.LineVertexBuffer(!1);this.lineDDVertexBuffer=new C.LineVertexBuffer(!0);this.lineIndexBuffer=new v.TriangleIndexBuffer;this.iconVertexBuffer=new C.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new C.SymbolVertexBuffer(!0);this.iconIndexBuffer=new v.TriangleIndexBuffer;this.textVertexBuffer=new C.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new C.SymbolVertexBuffer(!0);this.textIndexBuffer=new v.TriangleIndexBuffer;this.circleVertexBuffer=new C.CircleVertexBuffer;this.circleIndexBuffer=
new v.TriangleIndexBuffer}a.prototype.initialize=function(a,b,c,d){void 0===d&&(d=0);this.tileKey=a;this.refKeys=b;this._workerTileHandler=c;this.rotation=d;this.placementEngine.setAngle(n.C_DEG_TO_RAD*d)};a.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=B.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};a.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();
this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};a.prototype.reparse=function(a){this.resetData();
return this.setDataAndParse(this._data,a)};a.prototype.setDataAndParse=function(a,e){var f=this,n=e&&e.signal;if(g.isSome(n)){var k=function(){n.removeEventListener("abort",k);f.status=B.TileStatus.INVALID};n.addEventListener("abort",k)}this._data=a;return h.safeCast(this._parse(a,e)).then(function(a){f.status=B.TileStatus.READY;for(var e=new Uint32Array([1,f.fillVertexBuffer.sizeInBytes,2,f.fillDDVertexBuffer.sizeInBytes,3,f.fillIndexBuffer.sizeInBytes,4,f.outlineVertexBuffer.sizeInBytes,5,f.outlineDDVertexBuffer.sizeInBytes,
6,f.outlineIndexBuffer.sizeInBytes,7,f.lineVertexBuffer.sizeInBytes,8,f.lineDDVertexBuffer.sizeInBytes,9,f.lineIndexBuffer.sizeInBytes,10,f.iconVertexBuffer.sizeInBytes,11,f.iconDDVertexBuffer.sizeInBytes,12,f.iconIndexBuffer.sizeInBytes,13,f.textVertexBuffer.sizeInBytes,14,f.textDDVertexBuffer.sizeInBytes,15,f.textIndexBuffer.sizeInBytes,16,f.circleVertexBuffer.sizeInBytes,17,f.circleIndexBuffer.sizeInBytes]),g=[],n=a.length,k=0;k<n;k++){var h=a[k];if(h instanceof c)g.push(h.layerIndex),g.push(1),
g.push(h.fillIndexStart),g.push(h.fillIndexCount),g.push(h.outlineIndexStart),g.push(h.outlineIndexCount);else if(h instanceof x)g.push(h.layerIndex),g.push(2),g.push(h.lineIndexStart),g.push(h.lineIndexCount);else if(h instanceof t){g.push(h.layerIndex);g.push(3);g.push(h.sdfMarker?1:0);var r=h.markerPageMap;g.push(r.size);r.forEach(function(a,b){g.push(b);g.push(a[0]);g.push(a[1])});h=h.glyphsPageMap;g.push(h.size);h.forEach(function(a,b){g.push(b);g.push(a[0]);g.push(a[1])})}else h instanceof b?
(g.push(h.layerIndex),g.push(4),g.push(h.circleIndexStart),g.push(h.circleIndexCount)):h instanceof d&&(g.push(h.layerIndex),g.push(0))}a=new Uint32Array(g);var n=f.fillVertexBuffer.toBuffer(),k=f.fillDDVertexBuffer.toBuffer(),h=f.fillIndexBuffer.toBuffer(),r=f.outlineVertexBuffer.toBuffer(),l=f.outlineDDVertexBuffer.toBuffer(),y=f.outlineIndexBuffer.toBuffer(),m=f.lineVertexBuffer.toBuffer(),u=f.lineDDVertexBuffer.toBuffer(),v=f.lineIndexBuffer.toBuffer(),D=f.iconVertexBuffer.toBuffer(),z=f.iconDDVertexBuffer.toBuffer(),
C=f.iconIndexBuffer.toBuffer(),E=f.textVertexBuffer.toBuffer(),A=f.textDDVertexBuffer.toBuffer(),I=f.textIndexBuffer.toBuffer(),H=f.circleVertexBuffer.toBuffer(),U=f.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:e.buffer,bucketDataInfo:a.buffer,bufferData:[n,k,h,r,l,y,m,u,v,D,z,C,E,A,I,H,U]},transferList:[n,k,h,r,l,y,m,u,v,D,z,C,E,A,I,H,U,e.buffer,a.buffer]}})};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a,b){var c=this,d=this._symbolBuckets;
if(!d||0===d.length)return e.resolve();var f=b&&b.signal;if(g.isSome(f)){var h=function(){f.removeEventListener("abort",h);c.status=B.TileStatus.INVALID};f.addEventListener("abort",h)}this.rotation=a;var k=this.placementEngine;k.reset();k.setAngle(a/256*360*n.C_DEG_TO_RAD);var t=this.iconVertexBuffer;t.reset();var r=this.iconDDVertexBuffer;r.reset();var l=this.iconIndexBuffer;l.reset();var m=this.textVertexBuffer;m.reset();b=this.textDDVertexBuffer;b.reset();a=this.textIndexBuffer;a.reset();for(var y=
[],u=0;u<d.length;u++){var v=d[u];if(v&&v.layer){var x=v.layer;if(v=v.copy(x.hasDataDrivenIcon?r:t,l,x.hasDataDrivenText?b:m,a,k))y.push(v),v.updateSymbols()}}if(this.status===B.TileStatus.INVALID||this.status===B.TileStatus.INITIALIZED||0===t.sizeInBytes&&0===r.sizeInBytes&&0===l.sizeInBytes&&0===m.sizeInBytes&&0===b.sizeInBytes&&0===a.sizeInBytes)return e.reject();for(var d=new Uint32Array([10,t.sizeInBytes,11,r.sizeInBytes,12,l.sizeInBytes,13,m.sizeInBytes,14,b.sizeInBytes,15,a.sizeInBytes]),z=
[],u=0;u<y.length;u++)k=y[u],z.push(k.layerIndex),z.push(3),z.push(k.sdfMarker?1:0),v=k.markerPageMap,z.push(v.size),v.forEach(function(a,b){z.push(b);z.push(a[0]);z.push(a[1])}),k=k.glyphsPageMap,z.push(k.size),k.forEach(function(a,b){z.push(b);z.push(a[0]);z.push(a[1])});y=new Uint32Array(z);t=t.toBuffer();r=r.toBuffer();l=l.toBuffer();m=m.toBuffer();b=b.toBuffer();a=a.toBuffer();return e.resolve({result:{bufferDataInfo:d.buffer,bucketDataInfo:y.buffer,bufferData:[t,r,l,m,b,a]},transferList:[t,
r,l,m,b,a,d.buffer,y.buffer]})};a.prototype.setObsolete=function(){this.status=B.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){return m(this,void 0,void 0,function(){var c;return k(this,function(d){if(0===Object.keys(a).length)return[2,[]];this.status=B.TileStatus.MODIFIED;c=new z(a,this,b.client);return[2,c.parse(b)]})})};a.pool=new f(a);
return a}()})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(l){return function(a,k,m,h){var g=null;return l.create(function(f,e){function d(a){try{c(h.next(a))}catch(v){e(v)}}function b(a){try{c(h["throw"](a))}catch(v){e(v)}}function c(a){a.done?(g=l.when(a.value),g.then(f,e)):(g=l.when(a.value),g.then(d,b))}c((h=h.apply(a,k||[])).next())},function(a){g&&g.cancel&&g.cancel(a)})}})},"esri/core/asyncUtils":function(){define(["require","exports","./tsSupport/generatorHelper",
"./tsSupport/awaiterHelper","./promiseUtils"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,f,e){return h.eachAlways(a.map(function(a,b){return f.apply(e,[a,b])}))};a.map=function(a,f,e){return h.eachAlways(a.map(function(a,b){return f.apply(e,[a,b])})).then(function(a){return a.map(function(a){return a.value})})};a.result=function(a){return a.then(function(a){return{ok:!0,value:a}}).catch(function(a){return{ok:!1,error:a}})};a.assertResult=function(a){if(!0===
a.ok)return a.value;throw a.error;};a.safeCast=function(a){return a};a.safeCastFunction=function(a){return a}})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(l,a,k,m){return function(a){function g(f,e){return a.call(this,f,e)||this}k(g,a);return g}(m)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(l,a){return function(){function a(a,h){this.layerExtent=
4096;this._features=[];this.layer=a;this.zoom=h;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,h){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(l,a,k,m){return function(a){function g(f,
e,d,b){f=a.call(this,f,e)||this;f._circleVertexBuffer=d;f._circleIndexBuffer=b;return f}k(g,a);Object.defineProperty(g.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});g.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;a._circleIndexCount=this._circleIndexCount};g.prototype.processFeatures=
function(a,e){e=this._circleVertexBuffer;var d=this._circleIndexBuffer;this._circleIndexStart=d.index;this._circleIndexCount=0;var b=this.layer,c=this.zoom;a&&a.setExtent(this.layerExtent);for(var f=1,g=[1,1,1,1],h=1,k=0,t=1,l=[1,1,1,1],m=1,B=0,r=this._features;B<r.length;B++){var D=r[B],y=D.getGeometry(a);if(y)for(b.hasDataDrivenRadius&&(f=b.getPaintValue("circle-radius",c,D)),b.hasDataDrivenColor&&(g=b.getPaintValue("circle-color",c,D)),b.hasDataDrivenOpacity&&(h=b.getPaintValue("circle-opacity",
c,D)),b.hasDataDrivenStrokeWidth&&(t=b.getPaintValue("circle-stroke-width",c,D)),b.hasDataDrivenStrokeColor&&(l=b.getPaintValue("circle-stroke-color",c,D)),b.hasDataDrivenStrokeOpacity&&(m=b.getPaintValue("circle-stroke-opacity",c,D)),b.hasDataDrivenBlur&&(k=b.getPaintValue("circle-blur",c,D)),D=0;D<y.length;D++){var A=y[D];if(A)for(var E=0;E<A.length;E++){var I=A[E],H=e.index;e.add(I.x,I.y,0,0,f,g,h,k,t,l,m);e.add(I.x,I.y,0,1,f,g,h,k,t,l,m);e.add(I.x,I.y,1,0,f,g,h,k,t,l,m);e.add(I.x,I.y,1,1,f,g,
h,k,t,l,m);d.add(H+0,H+1,H+2);d.add(H+1,H+2,H+3);this._circleIndexCount+=6}}}};return g}(m)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),function(l,a,k,m,h,g,f){return function(a){function d(b,c,d,e,f,g){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==d.isDataDriven())throw Error("incompatible fill buffer");if(b.hasDataDrivenOutline!==
f.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=d;c._fillIndexBuffer=e;c._outlineVertexBuffer=f;c._outlineIndexBuffer=g;return c}k(d,a);Object.defineProperty(d.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});d.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};d.prototype.processFeatures=
function(a,c){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;c=this.layer;var b=this.zoom,d=c.hasDataDrivenFill,e=c.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var f=c.getPaintValue("fill-pattern",b),g=c.getPaintValue("fill-antialias",b)&&void 0===f,h=[1,1,1,1],k=[1,1,1,1],l=1;if(c.outlineUsesFillColor){if(g&&!c.hasDataDrivenOpacity){var r=c.getPaintValue("fill-opacity",b),m=c.getPaintValue("fill-opacity",
b+1);1>r&&1>m&&(g=!1)}g&&!c.hasDataDrivenColor&&(r=c.getPaintValue("fill-color",b),m=c.getPaintValue("fill-color",b+1),1>r[3]&&1>m[3]&&(g=!1))}r=0;for(m=this._features;r<m.length;r++){var y=m[r];!f&&c.hasDataDrivenColor&&(h=c.getPaintValue("fill-color",b,y));c.hasDataDrivenOpacity&&(l=c.getPaintValue("fill-opacity",b,y));!f&&c.hasDataDrivenOutlineColor&&(k=c.getPaintValue("fill-outline-color",b,y));var A=void 0;d&&(A={color:h,opacity:l});var E=void 0;e&&(E={color:c.outlineUsesFillColor?h:k,opacity:l});
y=y.getGeometry(a);this._processFeature(y,g,c.outlineUsesFillColor,A,E)}};d.prototype._processFeature=function(a,c,e,f,g){if(a){var b=a.length;if(c&&(!e||!g||1===g.color[3]*g.opacity))for(c=0;c<b;c++)this._processOutline(a[c],g);var h;for(c=0;c<b;c++)g=d._area(a[c]),128<g?(void 0!==h&&this._processFill(a,h,f),h=[c]):-128>g&&void 0!==h&&h.push(c);void 0!==h&&this._processFill(a,h,f)}};d.prototype._processOutline=function(a,c){var b=this._outlineVertexBuffer,d=this._outlineIndexBuffer,e=d.index,g,h,
k,l=new f.Point(0,0),m=new f.Point(0,0),r=new f.Point(0,0),D=-1,y=-1,A=-1,E=-1,I=-1,H=!1,L=a.length;if(!(2>L)){var J=a[0];for(g=a[L-1];L&&g.isEqual(J);)--L,g=a[L-1];if(!(2>L-0)){for(J=0;J<L;++J){0===J?(g=a[L-1],h=a[0],k=a[1],l.assignSub(h,g),l.normalize(),l.rightPerpendicular()):(g=h,h=k,k=J!==L-1?a[J+1]:a[0],l.assign(m));g=this._isClipEdge(g,h);-1===E&&(H=g);m.assignSub(k,h);m.normalize();m.rightPerpendicular();A=l.x*m.y-l.y*m.x;r.assignAdd(l,m);r.normalize();var G=-r.x*-l.x+-r.y*-l.y,G=Math.abs(0!==
G?1/G:1);8<G&&(G=8);0<=A?(A=b.add(h.x,h.y,l.x,l.y,0,1,c),-1===E&&(E=A),0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A),y=b.add(h.x,h.y,G*-r.x,G*-r.y,0,-1,c),-1===I&&(I=y),0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A),D=y,y=A,A=b.add(h.x,h.y,r.x,r.y,0,1,c),0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A),y=b.add(h.x,h.y,m.x,m.y,0,1,c)):(A=b.add(h.x,h.y,G*r.x,G*r.y,0,1,c),-1===E&&(E=A),0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A),y=b.add(h.x,h.y,-l.x,-l.y,0,-1,c),-1===I&&(I=y),0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A),D=y,y=A,A=b.add(h.x,h.y,-r.x,-r.y,
0,-1,c),0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A),D=b.add(h.x,h.y,-m.x,-m.y,0,-1,c));0<=D&&0<=y&&0<=A&&!g&&d.add(D,y,A)}0<=D&&0<=y&&0<=E&&!H&&d.add(D,y,E);0<=D&&0<=E&&0<=I&&!H&&d.add(D,I,E);this._outlineIndexCount+=3*(d.index-e)}}};d.prototype._processFill=function(a,c,d){var b;1<c.length&&(b=[]);for(var e=0,f=0;f<c.length;f++){var g=c[f];0!==e&&b.push(e);e+=a[g].length}for(var f=2*e,e=m.acquire(),k=0;k<c.length;k++)for(var g=c[k],g=a[g],n=g.length,l=0;l<n;++l)e.push(g[l].x),e.push(g[l].y);a=h(e,b,2);c=
a.length;if(0<c){b=this._fillVertexBuffer.index;for(k=0;k<f;)this._fillVertexBuffer.add(e[k++],e[k++],d);for(d=0;d<c;)this._fillIndexBuffer.add(b+a[d++],b+a[d++],b+a[d++]);this._fillIndexCount+=c}m.release(e)};d.prototype._isClipEdge=function(a,c){return a.x===c.x?-64>=a.x||4160<=a.x:a.y===c.y?-64>=a.y||4160<=a.y:!1};d._area=function(a){for(var b=0,d=a.length-1,e=0;e<d;e++)b+=(a[e].x-a[e+1].x)*(a[e].y+a[e+1].y);b+=(a[d].x-a[0].x)*(a[d].y+a[0].y);return.5*b};return d}(g)})},"esri/core/libs/earcut/earcut":function(){define([],
function(){function l(b,c,e){e=e||2;var h=c&&c.length,n=h?c[0]*e:b.length,l=a(b,0,n,e,!0),t=[];if(!l||l.next===l.prev)return t;var r,y,v,x;if(h){var z=e,h=[],D,C,B;x=0;for(D=c.length;x<D;x++)C=c[x]*z,B=x<D-1?c[x+1]*z:b.length,C=a(b,C,B,z,!1),C===C.next&&(C.steiner=!0),h.push(d(C));h.sort(g);for(x=0;x<h.length;x++){c=h[x];z=l;if(z=f(c,z))c=u(z,c),k(c,c.next);l=k(l,l.next)}}if(b.length>80*e){r=v=b[0];y=h=b[1];for(z=e;z<n;z+=e)x=b[z],c=b[z+1],x<r&&(r=x),c<y&&(y=c),x>v&&(v=x),c>h&&(h=c);v=Math.max(v-
r,h-y);v=0!==v?1/v:0}m(l,t,e,r,y,v);return t}function a(a,b,c,d,e){var f;if(e===0<B(a,b,c,d))for(e=b;e<c;e+=d)f=t(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=t(e,a[e],a[e+1],f);f&&n(f,f.next)&&(z(f),f=f.next);return f}function k(a,b){if(!a)return a;b||(b=a);var d;do if(d=!1,a.steiner||!n(a,a.next)&&0!==c(a.prev,a,a.next))a=a.next;else{z(a);a=b=a.prev;if(a===a.next)break;d=!0}while(d||a!==b);return b}function m(a,d,f,g,l,t,C){if(a){if(!C&&t){var r=a,y=r;do null===y.z&&(y.z=e(y.x,y.y,g,l,t)),y.prevZ=
y.prev,y=y.nextZ=y.next;while(y!==r);y.prevZ.nextZ=null;y.prevZ=null;var r=y,D,B,A,E,I,H,P=1;do{y=r;A=r=null;for(E=0;y;){E++;B=y;for(D=I=0;D<P&&(I++,B=B.nextZ,B);D++);for(H=P;0<I||0<H&&B;)0!==I&&(0===H||!B||y.z<=B.z)?(D=y,y=y.nextZ,I--):(D=B,B=B.nextZ,H--),A?A.nextZ=D:r=D,D.prevZ=A,A=D;y=B}A.nextZ=null;P*=2}while(1<E)}for(r=a;a.prev!==a.next;){y=a.prev;B=a.next;if(t)A=h(a,g,l,t);else a:if(A=a,E=A.prev,I=A,P=A.next,0<=c(E,I,P))A=!1;else{H=D=A.next.next;for(var T=0;D!==A.prev&&(0===T||D!==H);){T++;
if(b(E.x,E.y,I.x,I.y,P.x,P.y,D.x,D.y)&&0<=c(D.prev,D,D.next)){A=!1;break a}D=D.next}A=!0}if(A)d.push(y.i/f),d.push(a.i/f),d.push(B.i/f),z(a),r=a=B.next;else if(a=B,a===r){if(!C)m(k(a),d,f,g,l,t,1);else if(1===C){C=d;r=f;y=a;do B=y.prev,A=y.next.next,!n(B,A)&&v(B,y,y.next,A)&&x(B,A)&&x(A,B)&&(C.push(B.i/r),C.push(y.i/r),C.push(A.i/r),z(y),z(y.next),y=a=A),y=y.next;while(y!==a);a=y;m(a,d,f,g,l,t,2)}else if(2===C)a:{C=a;do{for(r=C.next.next;r!==C.prev;){if(y=C.i!==r.i){y=C;B=r;A=void 0;if(A=y.next.i!==
B.i&&y.prev.i!==B.i){A=void 0;b:{A=y;do{if(A.i!==y.i&&A.next.i!==y.i&&A.i!==B.i&&A.next.i!==B.i&&v(A,A.next,y,B)){A=!0;break b}A=A.next}while(A!==y);A=!1}A=!A}E=void 0;if(E=A&&x(y,B)&&x(B,y)){A=y;E=!1;I=(y.x+B.x)/2;B=(y.y+B.y)/2;do A.y>B!==A.next.y>B&&A.next.y!==A.y&&I<(A.next.x-A.x)*(B-A.y)/(A.next.y-A.y)+A.x&&(E=!E),A=A.next;while(A!==y)}y=E}if(y){a=u(C,r);C=k(C,C.next);a=k(a,a.next);m(C,d,f,g,l,t);m(a,d,f,g,l,t);break a}r=r.next}C=C.next}while(C!==a)}break}}}}function h(a,d,f,g){var h=a.prev,k=
a.next;if(0<=c(h,a,k))return!1;var n=h.x>a.x?h.x>k.x?h.x:k.x:a.x>k.x?a.x:k.x,l=h.y>a.y?h.y>k.y?h.y:k.y:a.y>k.y?a.y:k.y,t=e(h.x<a.x?h.x<k.x?h.x:k.x:a.x<k.x?a.x:k.x,h.y<a.y?h.y<k.y?h.y:k.y:a.y<k.y?a.y:k.y,d,f,g);d=e(n,l,d,f,g);f=a.prevZ;for(g=a.nextZ;f&&f.z>=t&&g&&g.z<=d;){if(f!==a.prev&&f!==a.next&&b(h.x,h.y,a.x,a.y,k.x,k.y,f.x,f.y)&&0<=c(f.prev,f,f.next))return!1;f=f.prevZ;if(g!==a.prev&&g!==a.next&&b(h.x,h.y,a.x,a.y,k.x,k.y,g.x,g.y)&&0<=c(g.prev,g,g.next))return!1;g=g.nextZ}for(;f&&f.z>=t;){if(f!==
a.prev&&f!==a.next&&b(h.x,h.y,a.x,a.y,k.x,k.y,f.x,f.y)&&0<=c(f.prev,f,f.next))return!1;f=f.prevZ}for(;g&&g.z<=d;){if(g!==a.prev&&g!==a.next&&b(h.x,h.y,a.x,a.y,k.x,k.y,g.x,g.y)&&0<=c(g.prev,g,g.next))return!1;g=g.nextZ}return!0}function g(a,b){return a.x-b.x}function f(a,c){var d=c,e=a.x,f=a.y,g=-Infinity,h;do{if(f<=d.y&&f>=d.next.y&&d.next.y!==d.y){var k=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(k<=e&&k>g){g=k;if(k===e){if(f===d.y)return d;if(f===d.next.y)return d.next}h=d.x<d.next.x?d:d.next}}d=
d.next}while(d!==c);if(!h)return null;if(e===g)return h.prev;c=h;for(var k=h.x,n=h.y,l=Infinity,t,d=h.next;d!==c;)e>=d.x&&d.x>=k&&e!==d.x&&b(f<n?e:g,f,k,n,f<n?g:e,f,d.x,d.y)&&(t=Math.abs(f-d.y)/(e-d.x),(t<l||t===l&&d.x>h.x)&&x(d,a)&&(h=d,l=t)),d=d.next;return h}function e(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function d(a){var b=
a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function b(a,b,c,d,e,f,g,h){return 0<=(e-g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function c(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function n(a,b){return a.x===b.x&&a.y===b.y}function v(a,b,d,e){return n(a,b)&&n(d,e)||n(a,e)&&n(d,b)?!0:0<c(a,b,d)!==0<c(a,b,e)&&0<c(d,e,a)!==0<c(d,e,b)}function x(a,b){return 0>c(a.prev,a,a.next)?0<=c(a,b,a.next)&&0<=c(a,a.prev,b):0>c(a,b,a.prev)||
0>c(a,a.next,b)}function u(a,b){var c=new C(a.i,a.x,a.y),d=new C(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function t(a,b,c,d){a=new C(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function z(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function C(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=
null;this.steiner=!1}function B(a,b,c,d){for(var e=0,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}l.deviation=function(a,b,c,d){var e=b&&b.length,f=Math.abs(B(a,0,e?b[0]*c:a.length,c));if(e)for(var e=0,g=b.length;e<g;e++)f-=Math.abs(B(a,b[e]*c,e<g-1?b[e+1]*c:a.length,c));for(e=b=0;e<d.length;e+=3){var g=d[e]*c,h=d[e+1]*c,k=d[e+2]*c;b+=Math.abs((a[g]-a[k])*(a[h+1]-a[g+1])-(a[g]-a[h])*(a[k+1]-a[g+1]))}return 0===f&&0===b?0:Math.abs((b-f)/f)};l.flatten=function(a){for(var b=a[0][0].length,
c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);0<e&&(d+=a[e-1].length,c.holes.push(d))}return c};return l})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,h){this.x=a;this.y=h}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,h){return a===this.x&&h===
this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,h){this.x=a;this.y=h};a.prototype.normalize=function(){var a=this.x,h=this.y,a=Math.sqrt(a*a+h*h);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,h){this.x+=a;this.y+=h};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,h){this.x=a.x+h.x;this.y=a.y+h.y};a.prototype.assignSub=
function(a,h){this.x=a.x-h.x;this.y=a.y-h.y};a.prototype.rotate=function(a,h){var g=this.x,f=this.y;this.x=g*a-f*h;this.y=g*h+f*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,h=this.y;return Math.sqrt(a*a+h*h)};a.distance=function(a,h){var g=h.x-a.x;a=h.y-a.y;return Math.sqrt(g*g+a*a)};a.add=function(k,h){return new a(k.x+h.x,k.y+h.y)};a.sub=function(k,h){return new a(k.x-h.x,k.y-h.y)};return a}();a.Point=l})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require",
"exports"],function(l,a){function k(a,g){a%=g;return 0<=a?a:a+g}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var m=1/Math.LN2;a.positiveMod=k;a.radToByte=function(h){return k(h*a.C_RAD_TO_256,256)};a.degToByte=function(h){return k(h*a.C_DEG_TO_256,256)};a.log2=
function(a){return Math.log(a)*m};a.sqr=function(a){return a*a};a.interpolate=function(a,g,f){return a*(1-f)+g*f};a.between=function(a,g,f){return a>=g&&a<=f||a>=f&&a<=g}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./MemoryBuffer"],function(l,a,k,m){Object.defineProperty(a,"__esModule",{value:!0});l=function(a){function g(){return a.call(this,12)||this}k(g,a);g.prototype.add=function(a,e,d){var b=this.array;
b.push(a);b.push(e);b.push(d)};return g}(m);a.TriangleIndexBuffer=l;m=function(a){function g(){return a.call(this,4)||this}k(g,a);g.prototype.add=function(a){this.array.push(a)};return g}(m);a.PointElementMemoryBuffer=m})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(l,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};
a.i1616to32=function(a,h){return 65535&a|h<<16};a.i8888to32=function(a,h,g,f){return a&255|(h&255)<<8|(g&255)<<16|f<<24};a.i8816to32=function(a,h,g){return a&255|(h&255)<<8|g<<16};return a}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/has ../../../../symbols/cim/enums ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),function(l,a,k,m,h,g,f,e,d){var b=1/3.8,c=function(a){return function(b){b.entry0=
a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues);b.entry2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues);b.exit0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues);b.exit2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)}},n=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,b.rightEntry2,b.leftExit2)}},v=function(a){return function(b){var c=a._joinType===h.JoinType.MITER?a._miterLimitCosine:a._roundLimitCosine,d=b.isCap&&a._capType!==h.CapType.BUTT,f=!1;.97<b.cosine?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)):b.cosine<1-.97?(b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.canSplit?(e.splitVertex(),0<b.sign?(b.splitInner?(b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.leftInner.x,b.leftInner.y,0,-1,b.distance,a._ddValues),b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightInner.x,b.rightInner.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftOuter.x,-b.leftOuter.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightOuter.x,
-b.rightOuter.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.splitInner?(b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftInner.x,-b.leftInner.y,0,1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightInner.x,
-b.rightInner.y,0,1,b.distance,a._ddValues)):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,
b.nextNormal.y,0,-1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftOuter.x,b.leftOuter.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightOuter.x,b.rightOuter.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,
b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)))):0<b.sign?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)));b.canSplit&&(b.splitInner||b.splitOuter)||f||d?(c=b.entry1=b.exit1=a._lineVertexBuffer.index,
a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,0,0,0,0,b.distance,a._ddValues)):c=b.entry1=b.exit1=null;if(f&&a._joinType!==h.JoinType.ROUND)a._lineIndexBuffer.add(c,0<b.sign?b.exit2:b.entry0,0<b.sign?b.entry2:b.exit0);else if(d&&a._capType===h.CapType.ROUND||f&&a._joinType===h.JoinType.ROUND){var g=f=d=void 0,k=void 0,n=void 0,l=void 0;if(b.isCap){var m=Math.PI,n=Math.ceil(m/.8),l=m/n;b.isFirstVertex?(d=b.prevNormal.x,f=b.prevNormal.y,g=b.entry0,k=b.entry2):b.isLastVertex&&(d=-b.nextNormal.x,
f=-b.nextNormal.y,g=b.exit2,k=b.exit0)}else m=2*Math.acos(b.cosine),n=Math.ceil(m/.8),l=m/n,d=0<b.sign?-b.prevNormal.x:b.nextNormal.x,f=0<b.sign?-b.prevNormal.y:b.nextNormal.y,g=0<b.sign?b.entry2:b.exit0,k=0<b.sign?b.exit2:b.entry0;for(var m=Math.cos(l),l=Math.sin(l),t=l*d+m*f,d=m*d-l*f,f=t,u=void 0,t=void 0,v=0;v<n;++v){u=t;if(v<n-1)if(b.isCap){var x=b.isFirstVertex?-1:1,t=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,f,x,0,b.distance,a._ddValues)}else t=
a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,f,0,b.sign,b.distance,a._ddValues);a._lineIndexBuffer.add(0===v?g:u,c,v===n-1?k:t);u=l*d+m*f;d=m*d-l*f;f=u}}else d&&a._capType===h.CapType.SQUARE&&(d=b.isFirstVertex?1:-1,g=f=void 0,a._hasPattern?(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,-d,-1,b.distance,a._ddValues),g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,-d,1,b.distance,a._ddValues)):(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,0,-1,b.distance,a._ddValues),g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,0,1,b.distance,a._ddValues)),0<d?(a._lineIndexBuffer.add(c,b.entry2,g),
a._lineIndexBuffer.add(c,g,f),a._lineIndexBuffer.add(c,f,b.entry0)):(a._lineIndexBuffer.add(c,g,b.exit2),a._lineIndexBuffer.add(c,f,g),a._lineIndexBuffer.add(c,b.exit0,f)))}},x=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,null!=b.leftExit1?b.leftExit1:b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,null!=b.rightEntry1?b.rightEntry1:b.rightEntry2,null!=b.leftExit1?b.leftExit1:b.leftExit2);null!=b.leftExit1&&null!=b.rightEntry1?(a._lineIndexBuffer.add(b.leftExit1,
b.rightEntry1,b.leftExit2),a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)):null!=b.leftExit1?a._lineIndexBuffer.add(b.leftExit1,b.rightEntry2,b.leftExit2):null!=b.rightEntry1&&a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)}};return function(a){function g(b,d,e,f){d=a.call(this,b,d)||this;d._tessellationOptions={};d.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,
_roundLimitCosine:null};if(b.hasDataDrivenLine!==e.isDataDriven())throw Error("incompatible line buffer");d.tessellationProperties._lineVertexBuffer=e;d.tessellationProperties._lineIndexBuffer=f;d.tessellationProperties._hasPattern=b.getPaintValue("line-pattern",d.zoom)||b.getPaintValue("line-dasharray",d.zoom);d._isThinLine=b.isThinLine;d._tessellationCallbacks=d._isThinLine?{vertex:c(d.tessellationProperties),bridge:n(d.tessellationProperties)}:{vertex:v(d.tessellationProperties),bridge:x(d.tessellationProperties)};
return d}k(g,a);Object.defineProperty(g.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});g.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};g.prototype.processFeatures=function(a,b){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index;
this._lineIndexCount=0;b=this.layer;var c=this.zoom,g=b.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var h=[1,1,1,1],k=1,n=1,l=0,m=this._features;l<m.length;l++){var t=m[l],v=new f.LineLayout(b,c,t);!this.tessellationProperties._hasPattern&&b.hasDataDrivenColor&&(h=b.getPaintValue("line-color",c,t));b.hasDataDrivenOpacity&&(k=b.getPaintValue("line-opacity",c,t));b.hasDataDrivenWidth&&(n=b.getPaintValue("line-width",c,t));var u=void 0;if(g&&(u={color:h,opacity:k,size:Math.max(Math.min(n,
256),0)},0>=u.size||0>=u.opacity||0>=u.color[3]))continue;this.tessellationProperties._capType=v.cap;this.tessellationProperties._joinType=v.join;this.tessellationProperties._miterLimitCosine=d.getLimitCosine(v.miterLimit);this.tessellationProperties._roundLimitCosine=d.getLimitCosine(v.roundLimit);t=t.getGeometry(a);this._processFeature(v,t,u)}e.cleanup()};g.prototype._processFeature=function(a,b,c){if(b)for(var d=b.length,e=0;e<d;e++)this._processGeometry(b[e],a,c)};g.prototype._processGeometry=
function(a,c,d){if(!(2>a.length)){c=a[0];for(var f=1,g,h;f<a.length;)g=a[f].x-c.x,h=a[f].y-c.y,1E-6>g*g+h*h?a.splice(f,1):(c=a[f],++f);2>a.length||(c=this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableOuterBisectorSplit=
this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=d,e.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-c))}};return g}(g)})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,
"__esModule",{value:!0});(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}))})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(l,a,k,m,h,g,f){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,c,d){this.type=a;this.typeName=c.type;this.id=c.id;this.source=c.source;this.sourceLayer=c["source-layer"];this.minzoom=c.minzoom;this.maxzoom=c.maxzoom;this.filter=c.filter;this.layout=c.layout;this.paint=c.paint;this.z=d;switch(a){case 0:this._layoutDefinition=h.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=h.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=
h.StyleDefinition.fillLayoutDefinition;this._paintDefinition=h.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=h.StyleDefinition.lineLayoutDefinition;this._paintDefinition=h.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=h.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=h.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=h.StyleDefinition.circleLayoutDefinition,this._paintDefinition=h.StyleDefinition.circlePaintDefinition}this._layoutProperties=
this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=m.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,c,d){var b,e=this._layoutProperties;e&&(e=e[a])&&(b=e.getValue(c,
d));a=this._layoutDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.getPaintValue=function(a,c,d){var b,e=this._paintProperties;e&&(e=e[a])&&(b=e.getValue(c,d));a=this._paintDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var c in a)if(a[c].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var b={},
d;for(d in a){var e=this._layoutDefinition[d];e&&(b[d]=new g(d,e,a[d]))}return b};a.prototype._parsePaint=function(a){var b={},d;for(d in a){var e=this._paintDefinition[d];e&&(b[d]=new g(d,e,a[d]))}return b};return a}();a.StyleLayer=l;var e=function(a){function b(b,d,e){return a.call(this,b,d,e)||this}k(b,a);return b}(l);a.BackgroundStyleLayer=e;e=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("fill-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("fill-opacity");
b.hasDataDrivenOpacity=d?d.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;d=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!d;b.hasDataDrivenOutlineColor=d?d.isDataDriven:!1;b.hasDataDrivenOutline=(d?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}k(b,a);return b}(l);a.FillStyleLayer=e;e=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;e=b.getPaintProperty("line-color");b.hasDataDrivenColor=e?e.isDataDriven:
!1;e=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=e?e.isDataDriven:!1;e=b.getPaintProperty("line-width");b.hasDataDrivenWidth=e?e.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;d=d.paint["line-width"];d||(d=h.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof d&&d<f.THIN_LINE_THRESHOLD;return b}k(b,a);return b}(l);a.LineStyleLayer=e;e=function(a){function b(b,d,e){b=a.call(this,
b,d,e)||this;d=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=d?d.isDataDriven:!1;d=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=d?d.isDataDriven:!1;d=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=d?d.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;d=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=d?d.isDataDriven:!1;d=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=d?d.isDataDriven:
!1;d=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=d?d.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}k(b,a);return b}(l);a.SymbolStyleLayer=e;l=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=
d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=d?d.isDataDriven:!1;return b}k(b,a);return b}(l);a.CircleStyleLayer=l;l=function(){return function(a,b,c){this.cap=a.getLayoutValue("line-cap",b,c);
this.join=a.getLayoutValue("line-join",b,c);this.miterLimit=a.getLayoutValue("line-miter-limit",b,c);this.roundLimit=a.getLayoutValue("line-round-limit",b,c)}}();a.LineLayout=l;l=function(){return function(a,b,c,e){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,e);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,e);this.optional=a.getLayoutValue("icon-optional",b,e);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,e);this.size=a.getLayoutValue("icon-size",
b,e);this.rotate=a.getLayoutValue("icon-rotate",b,e);this.padding=a.getLayoutValue("icon-padding",b,e);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,e);this.offset=a.getLayoutValue("icon-offset",b,e);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();a.IconLayout=l;l=function(){return function(a,b,c,e){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,e);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,e);this.optional=a.getLayoutValue("text-optional",
b,e);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,e);this.fontArray=a.getLayoutValue("text-font",b,e);this.maxWidth=a.getLayoutValue("text-max-width",b,e);this.lineHeight=a.getLayoutValue("text-line-height",b,e);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,e);this.justify=a.getLayoutValue("text-justify",b,e);this.anchor=a.getLayoutValue("text-anchor",b,e);this.maxAngle=a.getLayoutValue("text-max-angle",b,e);this.size=a.getLayoutValue("text-size",b,e);this.rotate=
a.getLayoutValue("text-rotate",b,e);this.padding=a.getLayoutValue("text-padding",b,e);this.keepUpright=a.getLayoutValue("text-keep-upright",b,e);this.transform=a.getLayoutValue("text-transform",b,e);this.offset=a.getLayoutValue("text-offset",b,e);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();a.TextLayout=l})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(l,a){return function(){function a(k,h,g){this._op=k;"$type"===h?(this._val=g instanceof
Array?g.map(function(f){return a._types.indexOf(f)}):a._types.indexOf(g),this._op+=11):(this._key=h,this._val=g)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);
case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var h=0,g=this._val;h<g.length;h++){var f=g[h];if(f.filter(a))return!0}return!1;case 10:h=0;for(g=this._val;h<g.length;h++)if(f=g[h],!f.filter(a))return!1;return!0;case 11:h=0;for(g=this._val;h<g.length;h++)if(f=g[h],f.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=
this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type);case 20:return void 0!==a.values[this._key];case 21:return void 0===a.values[this._key]}};a.createFilter=function(k){if(!k)return new a(0,void 0,!0);var h=k[0];if(1>=k.length)return new a(0,void 0,"any"!==h);switch(h){case "\x3d\x3d":return new a(1,k[1],k[2]);case "!\x3d":return new a(2,k[1],k[2]);case "\x3e":return new a(4,k[1],k[2]);case "\x3c":return new a(3,k[1],k[2]);case "\x3e\x3d":return new a(6,
k[1],k[2]);case "\x3c\x3d":return new a(5,k[1],k[2]);case "in":return new a(7,k[1],k.slice(2));case "!in":return new a(8,k[1],k.slice(2));case "any":return new a(9,void 0,k.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,k.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,k.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,k[1],void 0);case "!has":return new a(21,k[1],void 0);default:throw Error("invalid operator: "+h);}};a._types=
["Unknown","Point","LineString","Polygon"];return a}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",
default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",
length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},
"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",
default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",
default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},
"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,
default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},
"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],
default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return a}();a.StyleDefinition=l})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(l,a,k,m){return function(){function a(g,f,e){this.isDataDriven=!1;switch(f.type){case "number":g=!0;break;case "color":g=
!0;e=a._parseColor(e);break;case "array":g="number"===f.value;break;default:g=!1}null==e&&(e=f.default);g&&"interval"===e.type&&(g=!1);var d=e&&e.stops&&0<e.stops.length;if(d)for(var b=0,c=e.stops;b<c.length;b++){var h=c[b];h[1]=this._validate(h[1],f)}if(this.isDataDriven=e?!!e.property:!1)if(void 0!==e.default&&(e.default=this._validate(e.default,f)),d)switch(e.type){case "identity":this.getValue=this._buildIdentity(e,f);break;case "categorical":this.getValue=this._buildCategorical(e,f);break;default:this.getValue=
g?this._buildInterpolate(e,f):this._buildInterval(e,f)}else this.getValue=this._buildIdentity(e,f);else d?this.getValue=g?this._buildZoomInterpolate(e):this._buildZoomInterval(e):(e=this._validate(e,f),this.getValue=this._buildSimple(e))}a.prototype._validate=function(a,f){if("number"===f.type){if(a<f.minimum)return f.minimum;if(a>f.maximum)return f.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(g,f){var e=this;return function(d,
b){var c;b&&(c=b.values[g.property],"color"===f.type&&(c=a._parseColor(c)));void 0===c&&(c=g.default);return void 0!==c?e._validate(c,f):f.default}};a.prototype._buildCategorical=function(a,f){var e=this;return function(d,b){var c;b&&(c=b.values[a.property]);c=e._categorical(c,a.stops);return void 0!==c?c:void 0!==a.default?a.default:f.default}};a.prototype._buildInterval=function(a,f){var e=this;return function(d,b){var c;b&&(c=b.values[a.property]);return"number"===typeof c?e._interval(c,a.stops):
void 0!==a.default?a.default:f.default}};a.prototype._buildInterpolate=function(a,f){var e=this;return function(d,b){var c;b&&(c=b.values[a.property]);return"number"===typeof c?e._interpolate(c,a.stops,a.base||1):void 0!==a.default?a.default:f.default}};a.prototype._buildZoomInterpolate=function(a){var f=this;return function(e){return f._interpolate(e,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var f=this;return function(e){return f._interval(e,a.stops)}};a.prototype._categorical=
function(a,f){for(var e=f.length,d=0;d<e;d++)if(f[d][0]===a)return f[d][1]};a.prototype._interval=function(a,f){for(var e=f.length,d=0,b=0;b<e;b++)if(f[b][0]<=a)d=b;else break;return f[d][1]};a.prototype._interpolate=function(a,f,e){for(var d,b,c=f.length,g=0;g<c;g++){var h=f[g];if(h[0]<=a)d=h;else{b=h;break}}if(d&&b){g=b[0]-d[0];a-=d[0];e=1===e?a/g:(Math.pow(e,a)-1)/(Math.pow(e,g)-1);if(Array.isArray(d[1])){d=d[1];b=b[1];a=[];for(g=0;g<d.length;g++)a.push(m.interpolate(d[g],b[g],e));return a}return m.interpolate(d[1],
b[1],e)}if(d)return d[1];if(b)return b[1]};a._isEmpty=function(a){for(var f in a)if(a.hasOwnProperty(f))return!1;return!0};a._parseColor=function(g){if(Array.isArray(g))return g;if("string"===typeof g){if(g=new k(g),!this._isEmpty(g))return k.toUnitRGBA(g)}else return g&&g.default&&(g.default=a._parseColor(g.default)),g&&g.stops&&(g.stops=g.stops.map(function(f){return[f[0],a._parseColor(f[1])]})),g};return a}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/accessorSupport/ensureType"],
function(l,a,k,m){function h(a){return k.clamp(m.ensureInteger(a),0,255)}function g(a,d,b){a=Number(a);return isNaN(a)?b:a<d?d:a>b?b:a}function f(a,d,b){0>b&&++b;1<b&&--b;var c=6*b;return 1>c?a+(d-a)*c:1>2*b?d:2>3*b?a+(d-a)*(2/3-b)*6:a}l=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(d,b,c,e){void 0===e&&(e=new a);e.r=Math.round(d.r+(b.r-d.r)*c);e.g=Math.round(d.g+(b.g-d.g)*c);e.b=Math.round(d.b+(b.b-d.b)*c);e.a=d.a+(b.a-d.a)*c;return e._sanitize()};
a.fromRgb=function(d,b){var c=d.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){d=c[2].split(/\s*,\s*/);c=c[1];if("rgb"===c&&3===d.length||"rgba"===c&&4===d.length)return c=d[0],"%"===c.charAt(c.length-1)?(c=d.map(function(a){return 2.56*parseFloat(a)}),4===d.length&&(c[3]=parseFloat(d[3])),a.fromArray(c,b)):a.fromArray(d.map(function(a){return parseFloat(a)}),b);if("hsl"===c&&3===d.length||"hsla"===c&&4===d.length){var c=(parseFloat(d[0])%360+360)%360/360,e=parseFloat(d[1])/100,g=
parseFloat(d[2])/100,e=.5>=g?g*(e+1):g+e-g*e,g=2*g-e,c=[256*f(g,e,c+1/3),256*f(g,e,c),256*f(g,e,c-1/3),1];4===d.length&&(c[3]=parseFloat(d[3]));return a.fromArray(c,b)}}return null};a.fromHex=function(d,b){void 0===b&&(b=new a);var c=4===d.length?4:8,e=(1<<c)-1,f=Number("0x"+d.substr(1));if(isNaN(f))return null;["b","g","r"].forEach(function(a){var d=f&e;f>>=c;b[a]=4===c?17*d:d});b.a=1;return b};a.fromArray=function(d,b){void 0===b&&(b=new a);b._set(Number(d[0]),Number(d[1]),Number(d[2]),Number(d[3]));
isNaN(b.a)&&(b.a=1);return b._sanitize()};a.fromString=function(d,b){var c=a.named[d];return c&&a.fromArray(c,b)||a.fromRgb(d,b)||a.fromHex(d,b)};a.toJSON=function(a){return a&&[h(a.r),h(a.g),h(a.b),1<a.a?a.a:h(255*a.a)]};a.fromJSON=function(d){return d&&new a([d[0],d[1],d[2],d[3]/255])};a.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};a.prototype.setColor=function(d){"string"===typeof d?a.fromString(d,this):Array.isArray(d)?
a.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+
this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[h(this.r),h(this.g),h(this.b),1<this.a?this.a:h(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype._sanitize=function(){this.r=Math.round(g(this.r,0,255));this.g=Math.round(g(this.g,0,255));this.b=Math.round(g(this.b,0,255));this.a=g(this.a,0,1);return this};a.prototype._set=function(a,b,c,e){this.r=a;this.g=b;this.b=c;this.a=e};a.named={transparent:[0,
0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,
184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,
188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,
92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,
153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,
245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,
245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();l.prototype.declaredClass="esri.Color";return l})},"esri/core/mathUtils":function(){define(["require","exports"],function(l,a){function k(a,
f,e){return a<f?f:a>e?e:a}function m(a){h[0]=a;return h[0]}Object.defineProperty(a,"__esModule",{value:!0});var h=new Float32Array(1);a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};a.isNaN=Number.isNaN||function(a){return a!==a};a.nextHighestPowerOfTwo=function(a){--a;for(var f=1;32>f;f<<=1)a|=a>>f;return a+1};a.clamp=k;a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};
a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.lerp=function(a,f,e){return a+(f-a)*e};a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=function(a){return 180*a/Math.PI};a.acosClamped=function(a){return Math.acos(k(a,-1,1))};a.asinClamped=function(a){return Math.asin(k(a,-1,1))};a.floatEqualRelative=function(g,f,e){void 0===e&&(e=1E-6);if(a.isNaN(g)||a.isNaN(f))return!1;if(g===f)return!0;var d=Math.abs(g-f),b=Math.abs(g),c=Math.abs(f);
if(0===g||0===f||1E-12>b&&1E-12>c){if(d>.01*e)return!1}else if(d/(b+c)>e)return!1;return!0};a.floatEqualAbsolute=function(g,f,e){void 0===e&&(e=1E-6);return a.isNaN(g)||a.isNaN(f)?!1:(g>f?g-f:f-g)<=e};a.clampFloat32=function(g){return m(Math.max(-a.NUMBER_MAX_FLOAT32,Math.min(g,a.NUMBER_MAX_FLOAT32)))};a.NUMBER_MAX_FLOAT32=m(3.4028234663852886E38)})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.WEBGL_MAX_STOPS=
8;a.WEBGL_MAX_INNER_STOPS=a.WEBGL_MAX_STOPS-2;a.NAN_MAGIC_NUMBER=1E-30;a.EXTRUDE_SCALE=64;a.PICTURE_FILL_COLOR=4294967295;a.TILE_SIZE=512;a.RASTER_TILE_SIZE=256;a.ANGLE_FACTOR_256=256/360;a.DEBUG_LABELS=!1;a.COLLISION_BUCKET_SIZE=128;a.DOT_DENSITY_MAX_FIELDS=8;a.COLLISION_MAX_ZOOM_DELTA=3;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_BOX_PADDING=16;a.COLLISION_TILE_BOX_SIZE=a.TILE_SIZE/a.COLLISION_BUCKET_SIZE;a.COLLISION_PLACEMENT_PADDING=8;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HEURISTIC_GLYPHS_PER_FEATURE=
10;a.GLYPH_SIZE=24;a.TEXT_LINE_HEIGHT=1.2*a.GLYPH_SIZE;a.TEXT_MAX_WIDTH=10*a.GLYPH_SIZE;a.TEXT_SPACING=0;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_BITMAP=0;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;a.TEXTURE_BINDING_HIGHLIGHT_0=5;a.TEXTURE_BINDING_HIGHLIGHT_1=
6;a.TEXTURE_BINDING_RENDERER_0=5;a.TEXTURE_BINDING_RENDERER_1=6;a.ATTRIBUTE_DATA_FILTER_FLAGS=0;a.ATTRIBUTE_DATA_ANIMATION=1;a.ATTRIBUTE_DATA_VV=2;a.ATTRIBUTE_DATA_DD0=3;a.ATTRIBUTE_DATA_DD1=3;a.MAX_FILTERS=2;a.HIGHLIGHT_FLAG=1;a.FILTER_FLAG_0=2;a.EFFECT_FLAG_0=4;a.THIN_LINE_THRESHOLD=2.5;a.HITTEST_SEARCH_SIZE=24;a.MAX_ANIMATION_TIME_MS=2E3})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","../../../../symbols/cim/enums","./mesh/templates/util"],function(l,a,k,m){function h(){if(r.cosine<
n.innerBisectorAutoSplitThreshold){r.splitInner=!0;r.gapInner=!0;var a=Math.max(n.innerBisectorAutoSplitThreshold,r.cosine),a=Math.sqrt(1-a*a)/a;r.leftInner.x=r.nextNormal.x+r.sign*a*r.outbound.x;r.leftInner.y=r.nextNormal.y+r.sign*a*r.outbound.y;r.rightInner.x=r.prevNormal.x-r.sign*a*r.inbound.x;r.rightInner.y=r.prevNormal.y-r.sign*a*r.inbound.y}else n.enableInnerBisectorSplit&&(r.splitInner=!0,r.gapInner=!1,r.leftInner.x=r.rightInner.x=r.bisector.x/r.cosine,r.leftInner.y=r.rightInner.y=r.bisector.y/
r.cosine);r.cosine<n.outerBisectorAutoSplitThreshold?(r.splitOuter=!0,r.gapOuter=!0,a=Math.max(n.outerBisectorAutoSplitThreshold,r.cosine),a=Math.sqrt(1-a*a)/a,r.leftOuter.x=r.prevNormal.x-r.sign*a*r.inbound.x,r.leftOuter.y=r.prevNormal.y-r.sign*a*r.inbound.y,r.rightOuter.x=r.nextNormal.x+r.sign*a*r.outbound.x,r.rightOuter.y=r.nextNormal.y+r.sign*a*r.outbound.y):n.enableOuterBisectorSplit&&(r.splitOuter=!0,r.gapOuter=!1,r.leftOuter.x=r.rightOuter.x=r.bisector.x/r.cosine,r.leftOuter.y=r.rightOuter.y=
r.bisector.y/r.cosine)}function g(){if(z)r.distance=0,z=r.isCap=r.isFirstVertex=r.isLastVertex=!1;else{if(0===u)if(r.isFirstVertex=0===x,B=c[x],0===x){if(u=0,r.closed){r.inbound.x=B.x-c[c.length-2].x;r.inbound.y=B.y-c[c.length-2].y;var a=Math.sqrt(r.inbound.x*r.inbound.x+r.inbound.y*r.inbound.y);r.inbound.x/=a;r.inbound.y/=a}}else r.inbound.x=B.x-C.x,r.inbound.y=B.y-C.y,u=Math.sqrt(r.inbound.x*r.inbound.x+r.inbound.y*r.inbound.y),r.inbound.x/=u,r.inbound.y/=u;r.distance+u-t<=n.wrapDistance?(x<c.length-
1?(r.outbound.x=c[x+1].x-B.x,r.outbound.y=c[x+1].y-B.y,a=Math.sqrt(r.outbound.x*r.outbound.x+r.outbound.y*r.outbound.y),r.outbound.x/=a,r.outbound.y/=a):r.closed?(r.outbound.x=c[1].x-B.x,r.outbound.y=c[1].y-B.y,a=Math.sqrt(r.outbound.x*r.outbound.x+r.outbound.y*r.outbound.y),r.outbound.x/=a,r.outbound.y/=a):(r.outbound.x=r.inbound.x,r.outbound.y=r.inbound.y),0!==x||r.closed||(r.inbound.x=r.outbound.x,r.inbound.y=r.outbound.y),++x,r.isLastVertex=x===c.length,r.isCap=!r.closed&&(r.isFirstVertex||r.isLastVertex),
r.distance+=u-t,t=u=0,z=r.distance+u-t===n.wrapDistance,r.currentVertex.x=B.x,r.currentVertex.y=B.y,C=B,B=null):(r.outbound.x=r.inbound.x,r.outbound.y=r.inbound.y,t+=n.wrapDistance-r.distance,r.distance=n.wrapDistance,z=!0,a=t/u,r.currentVertex.x=(1-a)*C.x+a*B.x,r.currentVertex.y=(1-a)*C.y+a*B.y)}}function f(){r.prevNormal.x=-r.inbound.y;r.prevNormal.y=r.inbound.x;r.nextNormal.x=-r.outbound.y;r.nextNormal.y=r.outbound.x}function e(){f();r.bisector.x=r.prevNormal.x+r.nextNormal.x;r.bisector.y=r.prevNormal.y+
r.nextNormal.y;var a=Math.sqrt(r.bisector.x*r.bisector.x+r.bisector.y*r.bisector.y);.001>a?(r.bisector.x=void 0,r.bisector.y=void 0,r.cosine=0,r.sign=void 0):(r.bisector.x/=a,r.bisector.y/=a,r.cosine=r.bisector.x*r.nextNormal.x+r.bisector.y*r.nextNormal.y,r.sign=0<=r.prevNormal.x*r.nextNormal.y-r.prevNormal.y*r.nextNormal.x?1:-1)}function d(a){v.vertex(r);1===a?(r.leftEntry0=r.entry0,r.leftEntry1=r.entry1,r.leftEntry2=r.entry2,r.leftExit0=r.exit0,r.leftExit1=r.exit1,r.leftExit2=r.exit2):2===a&&(r.rightEntry0=
r.entry0,r.rightEntry1=r.entry1,r.rightEntry2=r.entry2,r.rightExit0=r.exit0,r.rightExit1=r.exit1,r.rightExit2=r.exit2)}function b(a){v.vertex(r);1===a?(r.leftEntry0=r.entry0,r.leftEntry2=r.entry2,r.leftExit0=r.exit0,r.leftExit2=r.exit2):2===a&&(r.rightEntry0=r.entry0,r.rightEntry2=r.entry2,r.rightExit0=r.exit0,r.rightExit2=r.exit2)}Object.defineProperty(a,"__esModule",{value:!0});l=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,
y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();a.TessellationState=l;a.tessellate=function(a,h,k){n.trackDistance=null!=h.trackDistance?h.trackDistance:!1;n.wrapDistance=null!=h.wrapDistance?h.wrapDistance:65535;n.thin=
null!=h.thin?h.thin:!1;n.initialDistance=null!=h.initialDistance?h.initialDistance:0;n.enableOuterBisectorSplit=null!=h.enableOuterBisectorSplit?h.enableOuterBisectorSplit:!1;n.outerBisectorAutoSplitThreshold=null!=h.outerBisectorAutoSplitThreshold?h.outerBisectorAutoSplitThreshold:0;n.enableInnerBisectorSplit=null!=h.enableOuterBisectorSplit?h.enableOuterBisectorSplit:!1;n.innerBisectorAutoSplitThreshold=null!=h.innerBisectorAutoSplitThreshold?h.innerBisectorAutoSplitThreshold:0;c=a;v=k;t=u=x=0;
z=!1;B=C=null;r.currentVertex.x=null;r.currentVertex.y=null;r.distance=n.initialDistance;a=c[0];h=c[c.length-1];r.canSplit=!1;r.closed=a.x===h.x&&a.y===h.y;if(!(2>c.length||2===c.length&&r.closed))if(n.thin)if(n.trackDistance)for(g(),f(),b(1);u-t>n.wrapDistance||x<c.length;)g(),f(),b(2),v.bridge(r),r.leftExit0=r.rightExit0,r.leftExit2=r.rightExit2;else for(;x<c.length;)0<x&&(r.inbound.x=r.outbound.x,r.inbound.y=r.outbound.y),x<c.length-1?(r.outbound.x=c[x+1].x-c[x].x,r.outbound.y=c[x+1].y-c[x].y,
a=Math.sqrt(r.outbound.x*r.outbound.x+r.outbound.y*r.outbound.y),r.distance+=a,r.outbound.x/=a,r.outbound.y/=a):(r.outbound.x=r.inbound.x,r.outbound.y=r.inbound.y),0===x&&(r.inbound.x=r.outbound.x,r.inbound.y=r.outbound.y),r.currentVertex.x=c[x].x,r.currentVertex.y=c[x].y,r.prevNormal.x=-r.inbound.y,r.prevNormal.y=r.inbound.x,r.nextNormal.x=-r.outbound.y,r.nextNormal.y=r.outbound.x,0===x?(v.vertex(r),r.leftEntry0=r.entry0,r.leftEntry2=r.entry2,r.leftExit0=r.exit0,r.leftExit2=r.exit2):(v.vertex(r),
r.rightEntry0=r.entry0,r.rightEntry2=r.entry2,r.rightExit0=r.exit0,r.rightExit2=r.exit2,v.bridge(r),r.leftExit0=r.rightExit0,r.leftExit2=r.rightExit2),++x;else{if(n.enableOuterBisectorSplit||0<n.outerBisectorAutoSplitThreshold||n.enableInnerBisectorSplit||0<n.innerBisectorAutoSplitThreshold)for(r.canSplit=!0,g(),e(),r.splitInner=r.gapInner=r.splitOuter=r.gapOuter=!1,d(1),r.closure0=r.leftEntry0,r.closure1=r.leftEntry1,r.closure2=r.leftEntry2;u-t>n.wrapDistance||x<c.length-1||x<c.length&&(!r.closed||
n.trackDistance);)g(),e(),r.splitInner=r.gapInner=r.splitOuter=r.gapOuter=!1,d(2),v.bridge(r),r.leftExit0=r.rightExit0,r.leftExit1=r.rightExit1,r.leftExit2=r.rightExit2;else for(g(),e(),d(1),r.closure0=r.leftEntry0,r.closure1=r.leftEntry1,r.closure2=r.leftEntry2;u-t>n.wrapDistance||x<c.length-1||x<c.length&&(!r.closed||n.trackDistance);)g(),e(),d(2),v.bridge(r),r.leftExit0=r.rightExit0,r.leftExit1=r.rightExit1,r.leftExit2=r.rightExit2;r.closed&&!n.trackDistance&&(r.rightEntry0=r.closure0,r.rightEntry1=
r.closure1,r.rightEntry2=r.closure2,v.bridge(r),r.leftExit0=r.rightExit0,r.leftExit1=r.rightExit1,r.leftExit2=r.rightExit2)}};a.cleanup=function(){v=c=null};a.splitVertex=h;var c,n={},v,x=void 0,u,t,z,C,B,r=new l;l=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=k.CapType.BUTT;this.joinType=k.JoinType.MITER;this.miterLimitCosine=m.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=
!1}a.prototype.vertex=function(a){var b=this.joinType===k.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,d=a.isCap&&this.capType!==k.CapType.BUTT,c=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?
(c=!a.isCap&&this.joinOnUTurn,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(h(),0<
a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(c=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(c=c||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),
a.cosine<b?(c=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(c=c||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,
a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(c=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(c=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||c||d?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(c&&this.joinType!==k.JoinType.ROUND)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(d&&this.capType===
k.CapType.ROUND||c&&this.joinType===k.JoinType.ROUND){var e=c=d=void 0,f=void 0,g=void 0,l=void 0;if(a.isCap){var n=Math.PI,g=Math.ceil(n/this.radsPerSlice),l=n/g;a.isFirstVertex?(d=a.prevNormal.x,c=a.prevNormal.y,e=a.entry0,f=a.entry2):a.isLastVertex&&(d=-a.nextNormal.x,c=-a.nextNormal.y,e=a.exit2,f=a.exit0)}else n=2*Math.acos(a.cosine),g=Math.ceil(n/this.radsPerSlice),l=n/g,d=0<a.sign?-a.prevNormal.x:a.nextNormal.x,c=0<a.sign?-a.prevNormal.y:a.nextNormal.y,e=0<a.sign?a.entry2:a.exit0,f=0<a.sign?
a.exit2:a.entry0;for(var n=Math.cos(l),l=Math.sin(l),m=l*d+n*c,d=n*d-l*c,c=m,r,m=void 0,t=0;t<g;++t)r=m,t<g-1&&(m=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,d,c,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,d,c,0,a.sign,a.distance)),this.writeTriangle(0===t?e:r,b,t===g-1?f:m),r=l*d+n*c,d=n*d-l*c,c=r}else d&&this.capType===k.CapType.SQUARE&&(d=a.isFirstVertex?1:-1,e=c=void 0,this.textured?(c=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,a.prevNormal.x-d*a.inbound.x,a.prevNormal.y-d*a.inbound.y,-d,-1,a.distance),e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-d*a.inbound.x,-a.prevNormal.y-d*a.inbound.y,-d,1,a.distance)):(c=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-d*a.inbound.x,a.prevNormal.y-d*a.inbound.y,0,-1,a.distance),e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-d*a.inbound.x,-a.prevNormal.y-d*a.inbound.y,0,1,a.distance)),0<d?(this.writeTriangle(b,
a.entry2,e),this.writeTriangle(b,e,c),this.writeTriangle(b,c,a.entry0)):(this.writeTriangle(b,e,a.exit2),this.writeTriangle(b,c,e),this.writeTriangle(b,a.exit0,c)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),
this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();a.StandardTessellationCallbacks=l;l=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,a.rightEntry2,a.leftExit2)};return a}();a.ThinTessellationCallbacks=l})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require",
"exports"],function(l,a){function k(a,h){return Math.sqrt(a*a+h*h)}Object.defineProperty(a,"__esModule",{value:!0});a.sub=function(a,h,g){a[0]=h[0]-g[0];a[1]=h[1]-g[1];return a};a.len=k;a.normalize=function(a){var h=k(a[0],a[1]);a[0]/=h;a[1]/=h};a.dist=function(a,h){return k(a[0]-h[0],a[1]-h[1])};a.isFunction=function(a){return"function"===typeof a};a.getLimitCosine=function(a){return 1/Math.max(a,1)}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["require","exports","./Conflict",
"./GeometryUtils","../webgl/Geometry"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});l=function(){return function(a,c,e,f,g){void 0===e&&(e=0);void 0===f&&(f=-1);void 0===g&&(g=d);this.x=a;this.y=c;this.angle=e;this.segment=f;this.minzoom=g}}();a.Anchor=l;var g=function(){return function(a,c,e,f,g,h,k){void 0===g&&(g=!1);void 0===h&&(h=d);void 0===k&&(k=m.C_INFINITY);this.anchor=a;this.labelAngle=c;this.glyphAngle=e;this.page=f;this.upsideDown=g;this.minzoom=h;this.maxzoom=
k}}(),f=function(){return function(a,d,e,f,g,h,k,l,m,B){this.tl=a;this.tr=d;this.bl=e;this.br=f;this.mosaicRect=g;this.labelAngle=h;this.anchor=k;this.minzoom=l;this.maxzoom=m;this.page=B}}();a.PlacedSymbol=f;var e=function(){return function(a,d){this.footprint=a;this.shapes=d}}();a.Placement=e;var d=.5;l=function(){function a(){this.mapAngle=0;this._conflictEngine=new k.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};
a.prototype.getIconPlacement=function(a,b,g,l,u,t,z){var c=g.width/g.pixelRatio,n=g.height/g.pixelRatio;u=t.offset[0]-c/2;var r=t.offset[1]-n/2,c=u+c,n=r+n,v=g.rect,x=2/g.pixelRatio,A=u-x,E=r-x,I=A+v.width/g.pixelRatio,H=E+v.height/g.pixelRatio;g=new h.Point(A,E);x=new h.Point(I,H);H=new h.Point(A,H);E=new h.Point(I,E);I=t.rotate*m.C_DEG_TO_RAD;A=1===t.rotationAlignment;0<=a.segment&&!A&&(I+=a.angle);if(0!==I){var L=Math.cos(I),J=Math.sin(I);g.rotate(L,J);x.rotate(L,J);H.rotate(L,J);E.rotate(L,J)}L=
8*t.padding;J=new h.Point(a.x,a.y);a=new k.Footprint(this.mapAngle,L,A);a.addBox(J,new k.Box(u,r,c,n),l,I,b,d,m.C_INFINITY);b=new f(g,E,H,x,v,0,J,d,m.C_INFINITY,0);b=new e(a,[b]);l=d;t.allowOverlap||(l=this._conflictEngine.getMinZoom(b.footprint,l,z,A));a.minzoom=l;return b};a.prototype.getTextPlacement=function(a,b,l,x,u,t,z,C){for(var c=new h.Point(a.x,a.y),n=z.rotate*m.C_DEG_TO_RAD,v=0===z.rotationAlignment,y=z.keepUpright,A=d,E=!v,I=E?0:a.angle,H=0<=a.segment&&v,L=new k.Footprint(this.mapAngle,
8*z.padding,E),J=[],G=!H,Q=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,F=Q,N=K,R=H?y:v&&y,P,T=0;T<x.length;T++){var S=x[T],V=S.glyphMosaicItem;if(V&&!V.rect.isEmpty){var ia=V.rect,ca=V.metrics,da=V.page;G&&(P&&P!==S.y&&(L.addBox(c,new k.Box(Q,F,K,N),u,n,b,d,m.C_INFINITY),Q=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,F=Q,N=K),P=S.y);var aa=[];if(H){if(V=(l.x+S.x+ca.left-4+.5*V.metrics.width)*u,A=this._placeGlyph(a,A,V,t,a.segment,1,da,aa),y&&(A=this._placeGlyph(a,A,V,t,a.segment,-1,
da,aa)),2<=A)break}else aa.push(new g(c,I,I,da)),v&&y&&aa.push(new g(c,I+m.C_PI,I+m.C_PI,da,!0));for(var da=S.x+l.x+ca.left,S=S.y+l.y-ca.top,V=da+ca.width,ca=S+ca.height,ba=new h.Point(da-4,S-4),ga=new h.Point(ba.x+ia.width,ba.y+ia.height),U=new h.Point(ba.x,ga.y),ea=new h.Point(ga.x,ba.y),W=0;W<aa.length;W++){var Y=aa[W],ka=ba.clone(),na=U.clone(),pa=ea.clone(),fa=ga.clone(),la=S,ja=ca,ha=Y.glyphAngle+n;if(0!==ha){var M=Math.cos(ha),X=Math.sin(ha);ka.rotate(M,X);fa.rotate(M,X);na.rotate(M,X);pa.rotate(M,
X)}J.push(new f(ka,pa,na,fa,ia,Y.labelAngle,Y.anchor,Y.minzoom,Y.maxzoom,Y.page));if(!R||this._legible(Y.labelAngle))G?(da<Q&&(Q=da),la<F&&(F=la),V>K&&(K=V),ja>N&&(N=ja)):2>Y.minzoom&&L.addBox(Y.anchor,new k.Box(da,la,V,ja),u,ha,b,Y.minzoom,Y.maxzoom)}}}if(2<=A)return null;G&&L.addBox(c,new k.Box(Q,F,K,N),u,n,b,d,m.C_INFINITY);a=new e(L,J);z.allowOverlap||(A=this._conflictEngine.getMinZoom(a.footprint,A,C,E));L.minzoom=A;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};
a.prototype._legible=function(a){a=m.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,d,e,f,k,l,C){var c=0>k?m.positiveMod(a.angle+m.C_PI,m.C_2PI):a.angle,n=this._legible(c),t=0;0>d&&(k*=-1,d*=-1,t=m.C_PI);0<k&&++f;a=new h.Point(a.x,a.y);var u=e[f],v=m.C_INFINITY;if(e.length<=f)return v;for(;;){var x=u.x-a.x,z=u.y-a.y,H=Math.sqrt(x*x+z*z),L=Math.max(d/H,b),x=m.positiveMod(Math.atan2(z/H,x/H)+t,m.C_2PI);C.push(new g(a,c,x,l,n,L,v));if(L<=b)return L;a=u.clone();do{f+=k;if(e.length<=
f||0>f)return L;u=e[f]}while(a.isEqual(u));v=u.x-a.x;x=u.y-a.y;z=Math.sqrt(v*v+x*x);v*=H/z;x*=H/z;a.x-=v;a.y-=x;v=L}};return a}();a.PlacementEngine=l})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,b,c,e){this.left=a;this.top=b;this.right=c;this.bottom=e}a.prototype.clone=function(){return new a(this.left,
this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var d=this.left,e=this.right,f=this.top,g=this.bottom,h=d*a-f*b,k=d*b+f*a,l=e*a-f*b,f=e*b+f*a,m=d*a-g*b,d=d*b+g*a,B=e*a-g*b;a=e*b+g*a;this.left=Math.min(h,l,m,B);this.top=Math.min(k,f,d,a);this.right=Math.max(h,l,m,B);this.bottom=Math.max(k,f,d,a)};a.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();
a.Box=l;var g=function(){function a(a,b,c,e){this.anchor=a;this.corners=b;this.minzoom=c;this.maxzoom=e}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=g;l=function(){function a(a,b,c){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=c;this.minzoom=f}a.prototype.addBox=function(a,b,c,e,
f,k,l){var d=b.left*c-this.padding,n=b.top*c-this.padding,m=b.right*c+this.padding;b=b.bottom*c+this.padding;d=[new h.Point(d,n),new h.Point(m,n),new h.Point(m,b),new h.Point(d,b)];0!==this.mapAngle&&(n=Math.cos(this.mapAngle),m=Math.sin(this.mapAngle),a=a.clone(),a.rotate(n,m));this.isScreenAligned||(e+=this.mapAngle);if(0!==e){n=Math.cos(e);m=Math.sin(e);d[0].rotate(n,m);d[1].rotate(n,m);d[2].rotate(n,m);d[3].rotate(n,m);e=0;for(n=1;4>n;n++)d[n].x<d[e].x?e=n:d[n].x===d[e].x&&d[n].y<d[e].y&&(e=n);
if(e){m=[];for(n=0;4>n;n++)m.push(d[(n+e)%4]);d=m}}if(f)for(e=0,n=d;e<n.length;e++)n[e].move(f[0],f[1]);this.obstacles.push(new g(a,d,k,l))};return a}();a.Footprint=l;var f=.5;l=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(d){var b=this._grid,c=0;for(d=d.obstacles;c<d.length;c++)for(var e=d[c],f=e.anchor,g=a._gridClamp(Math.min(e.left()+f.x,f.x)),h=a._gridClamp(Math.max(e.right()+f.x,f.x)),k=a._gridClamp(Math.min(e.top()+
f.y,f.y)),f=a._gridClamp(Math.max(e.bottom()+f.y,f.y));k<=f;k++)for(var l=g;l<=h;l++){var m=b[16*k+l];m||(m=b[16*k+l]=[]);m.push(e)}};a.prototype.getMinZoom=function(d,b,c,e){if(0===d.obstacles.length)return m.C_INFINITY;c=this._grid;e=0;for(d=d.obstacles;e<d.length;e++)for(var f=d[e],g=f.anchor,h=a._gridClamp(Math.min(f.left()+g.x,g.x)),k=a._gridClamp(Math.max(f.right()+g.x,g.x)),l=a._gridClamp(Math.min(f.top()+g.y,g.y)),g=a._gridClamp(Math.max(f.bottom()+g.y,g.y));l<=g;l++)for(var n=h;n<=k;n++){var B=
c[16*l+n];if(B)for(var r=0;r<B.length;r++){var D=B[r];if(!(f.minzoom>=D.maxzoom||D.minzoom>=f.maxzoom)&&(b=a._calcPlacementZoom(f,D,b),2<=b))return m.C_INFINITY}}return 2>b?b:m.C_INFINITY};a._gridClamp=function(a){return k.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(d,b,c){var e=b.anchor.x-d.anchor.x;if(0===e&&(d.right()<b.left()||b.right()<d.left()))return c;var f=b.anchor.y-d.anchor.y;if(0===f&&(d.bottom()<b.top()||b.bottom()<d.top()))return c;var g=m.C_INFINITY;if(0!==e){var h=(0<e?d.right()-
b.left():d.left()-b.right())/e;h<g&&(g=h);e=0<e?a._calcExtZoomX(d,b,h):a._calcExtZoomX(b,d,h);e<g&&(g=e)}0!==f&&(e=(0<f?d.bottom()-b.top():d.top()-b.bottom())/f,e<g&&(g=e),f=0<f?a._calcExtZoomY(d,b,e):a._calcExtZoomY(b,d,e),f<g&&(g=f));if(g<d.minzoom||g<b.minzoom)return c;g=Math.min(g,d.maxzoom,b.maxzoom);g<c&&(g=c);return g};a._calcExtZoomX=function(a,b,c){var d,e,f;if(a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[0].y/c){d=a.corners[2].x-a.corners[3].x;f=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-
b.corners[0].x;e=b.corners[1].y-b.corners[0].y;0<=d*e-f*g?a.anchor.y+a.corners[3].y/c<b.anchor.y+b.corners[0].y/c?(c=a.corners[3],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[0],d=a.corners[3],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c>b.anchor.y+b.corners[1].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[1],d=a.corners[3],e=a.corners[2],f=-1)}else d=a.corners[2].x-a.corners[1].x,f=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,e=b.corners[3].y-b.corners[0].y,
0>d*e-f*g?a.anchor.y+a.corners[1].y/c>b.anchor.y+b.corners[0].y/c?(c=a.corners[1],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[0],d=a.corners[1],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[3].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[3],d=a.corners[1],e=a.corners[2],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};a._calcExtZoomY=function(a,b,c){var d,e,f;if(a.anchor.x+a.corners[3].x/
c<b.anchor.x+b.corners[1].x/c){d=a.corners[3].x-a.corners[2].x;f=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;e=b.corners[0].y-b.corners[1].y;0>d*e-f*g?a.anchor.x+a.corners[2].x/c<b.anchor.x+b.corners[1].x/c?(c=a.corners[2],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[1],d=a.corners[2],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c>b.anchor.x+b.corners[0].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[0],d=a.corners[2],e=a.corners[3],f=-1)}else d=a.corners[3].x-
a.corners[0].x,f=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,e=b.corners[2].y-b.corners[1].y,0<d*e-f*g?a.anchor.x+a.corners[0].x/c>b.anchor.x+b.corners[1].x/c?(c=a.corners[0],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[1],d=a.corners[0],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[2].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[2],d=a.corners[0],e=a.corners[3],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-
b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};return a}();a.ConflictEngine=l})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojox/string/BidiEngine ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer ../webgl/Geometry ../webgl/TextShaping".split(" "),function(l,a,k,m,h,g,f,e,d,b){function c(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?
-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(a){function h(b,d,c,e,f,g,h,k){d=a.call(this,b,d)||this;d._markerMap=new Map;d._glyphMap=new Map;d._glyphBufferDataStorage=new Map;d._sdfMarkers=!1;if(b.hasDataDrivenIcon!==c.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");d._iconVertexBuffer=c;d._iconIndexBuffer=e;d._textVertexBuffer=
f;d._textIndexBuffer=g;d._placementEngine=h;d._workerTileHandler=k;return d}k(h,a);Object.defineProperty(h.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});h.prototype.copy=function(a,b,d,c,e){a=new h(this.layer,
this.zoom,a,b,d,c,e,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=c.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};h.prototype.getResources=function(a,b,d){var c=
this.layer,e=this.zoom,f=c.hasDataDrivenIcon,g=c.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=c.getLayoutProperty("icon-image"),l=c.getLayoutProperty("text-field"),n=c.getLayoutValue("text-font",e),m=c.getLayoutValue("text-transform",e),t=[],u=[1,1,1,1],v=1,x=1,G=[1,1,1,1],Q=1,K=1,F=0,N=this._features;F<N.length;F++){var R=N[F],P=R.getGeometry(a);if(P&&0!==P.length){var T=void 0;k&&(T=c.getLayoutValue("icon-image",e,R),k.isDataDriven||(T=this._replaceKeys(T,R.values)),T&&b.add(T));
var S=void 0,V=!1;if(l&&(S=c.getLayoutValue("text-field",e,R),l.isDataDriven||(S=this._replaceKeys(S,R.values)),S=S.replace(/\\n/g,"\n"))){switch(m){case 2:S=S.toLowerCase();break;case 1:S=S.toUpperCase()}h._bidiEngine.hasBidiChar(S)&&(V=void 0,V="rtl"===h._bidiEngine.checkContextual(S)?"IDNNN":"ICNNN",S=h._bidiEngine.bidiTransform(S,V,"VLYSN"),V=!0);var ia=S.length;if(0<ia)for(var ca=0,da=n;ca<da.length;ca++){var aa=da[ca],ba=d[aa];ba||(ba=d[aa]=new Set);for(aa=0;aa<ia;aa++){var ga=S.charCodeAt(aa);
ba.add(ga)}}}if(T||S)ia=c.getLayoutValue("icon-size",e,R),ca=c.getLayoutValue("text-size",e,R),c.hasDataDrivenIconColor&&(u=c.getPaintValue("icon-color",e,R)),c.hasDataDrivenIconOpacity&&(v=c.getPaintValue("icon-opacity",e,R)),c.hasDataDrivenIconSize&&(x=ia),c.hasDataDrivenTextColor&&(G=c.getPaintValue("text-color",e,R)),c.hasDataDrivenTextOpacity&&(Q=c.getPaintValue("text-opacity",e,R)),c.hasDataDrivenTextSize&&(K=ca),R={sprite:T,label:S,rtl:V,type:R.type,geometry:P,iconSize:ia,iconRotate:c.getLayoutValue("icon-rotate",
e,R),ddIconValues:f?{color:u,opacity:v,size:x}:null,textSize:ca,textRotate:c.getLayoutValue("text-rotate",e,R),ddTextValues:g?{color:G,opacity:Q,size:K}:null},t.push(R)}}this._symbolFeatures=t};h.prototype.processFeatures=function(a,d){a&&a.setExtent(this.layerExtent);var k=this.layer,l=this.zoom;d=this._isLinePlacement=1===k.getLayoutValue("symbol-placement",l);a=this._avoidEdges=k.getLayoutValue("symbol-avoid-edges",l)&&!d;var n=8*k.getLayoutValue("symbol-spacing",l),m=k.getLayoutProperty("icon-image"),
r=k.getLayoutProperty("text-field"),u=this._workerTileHandler,v,x;m&&(this._iconLayout=new e.IconLayout(k,l,d),v=u.getSpriteItems(),x=this._getTranslate(!0));var E,I,H;if(r){E=this._textLayout=new e.TextLayout(k,l,d);this._fontArray=E.fontArray;H=.5;switch(E.anchor){case 5:case 1:case 7:H=0;break;case 6:case 2:case 8:H=1}I=.5;switch(E.anchor){case 5:case 3:case 6:I=0;break;case 7:case 4:case 8:I=1}k=.5;switch(E.justify){case 0:k=0;break;case 2:k=1}var l=24*E.letterSpacing,m=d?0:24*E.maxWidth,r=24*
E.lineHeight,L=[24*E.offset[0],24*E.offset[1]];E=this._fontArray.map(function(a){return u.getGlyphItems(a)});I=new b.TextShaping(E,m,r,l,L,H,I,k);H=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=k=[];l=this._textLayout;m=1;l&&l.size&&(m=l.size/24);r=l?l.maxAngle*g.C_DEG_TO_RAD:0;E=l?8*l.size:0;for(var L=0,J=this._symbolFeatures;L<
J.length;L++){var G=J[L],Q=void 0;G.sprite&&(Q=v[G.sprite])&&Q.sdf&&(this._sdfMarkers=!0);var K=void 0,F=G.label,N=0;if(F&&(K=I.getShaping(F,G.rtl))&&0<K.length){for(var N=1E30,F=-1E30,R=0,P=K;R<P.length;R++)var T=P[R],N=Math.min(N,T.x),F=Math.max(F,T.x);N=(F-N+48)*m*8}F=0;for(R=G.geometry;F<R.length;F++){var P=R[F],S=void 0;d?(K&&0<K.length&&l&&l.size&&h._smoothVertices(P,8*l.size*(2+Math.min(2,4*Math.abs(l.offset[1])))),S=h._findAnchors(P,n,N)):S=3===G.type?h._findCentroid(P):[new f.Anchor(P[0].x,
P[0].y)];for(T=0;T<S.length;T++){var V=S[T];0>V.x||4096<V.x||0>V.y||4096<V.y||d&&0<N&&0===l.rotationAlignment&&!h._honorsTextMaxAngle(P,V,N,r,E)||k.push({shaping:K,line:P,iconMosaicItem:Q,anchor:V,iconSize:G.iconSize,iconRotate:G.iconRotate,ddIconValues:G.ddIconValues,textSize:G.textSize,textRotate:G.textRotate,ddTextValues:G.ddTextValues})}}}k.sort(c);for(v=0;v<k.length;v++)this._processFeature(k[v],x,H,a);this._addPlacedGlyphs()};h.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;
this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,d;b.getLayoutProperty("icon-image")&&(d=this._getTranslate(!0));var c;b.getLayoutProperty("text-field")&&(c=this._getTranslate(!1));for(var b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],d,c,a);this._addPlacedGlyphs()};h.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":
"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var d=this._placementEngine.mapAngle;return 0!==d&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(d),d=Math.cos(d),[8*(b[0]*d-b[1]*a),8*(b[0]*a+b[1]*d)]):[8*b[0],8*b[1]]}};h.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,d){return d in b?b[d]:""})};h.prototype._processFeature=function(a,b,c,e){var f=a.line,h=a.iconMosaicItem,k=a.shaping,l=a.anchor,n=this._iconLayout,
m=n&&!!h,t=!0,u=1;m&&(n.size=a.iconSize,n.rotate=a.iconRotate,u=8*n.size,t=n.optional||!h);var v=this._textLayout,x=v&&k&&0<k.length,z;z=1;var G=!0;x&&(v.size=a.textSize,v.rotate=a.textRotate,z=v.size/24,z*=8,G=v.optional||!k||0===k.length);var Q=new d.Point(0,-17),K;m&&(K=this._placementEngine.getIconPlacement(l,b,h,u,f,n,e),l.minzoom>K.footprint.minzoom&&(K.footprint.minzoom=l.minzoom),K.footprint.minzoom===g.C_INFINITY&&(K=null));if(K||t){var F;x&&(F=this._placementEngine.getTextPlacement(l,c,
Q,k,z,f,v,e))&&(l.minzoom>F.footprint.minzoom&&(F.footprint.minzoom=l.minzoom),F.footprint.minzoom===g.C_INFINITY&&(F=null));if(F||G)K&&F||(G||t?G||F?t||K||(F=null):K=null:F=K=null),K&&F&&!G&&!t&&(b=Math.max(K.footprint.minzoom,F.footprint.minzoom),K.footprint.minzoom=b,F.footprint.minzoom=b),F&&(v.ignorePlacement||this._placementEngine.add(F),this._storePlacedGlyphs(F.shapes,F.footprint.minzoom,this.zoom,a.ddTextValues)),K&&(n.ignorePlacement||this._placementEngine.add(K),this._addPlacedIcons(K.shapes,
K.footprint.minzoom,this.zoom,h.page,a.ddIconValues))}};h.prototype._addPlacedIcons=function(a,b,d,c,e){b=Math.max(d+g.log2(b),0);for(var f=this._iconVertexBuffer,h=this._iconIndexBuffer,k=0;k<a.length;k++){var l=a[k],n=Math.max(d+g.log2(l.minzoom),b),m=Math.min(d+g.log2(l.maxzoom),25);if(!(m<=n)){var t=l.tl,u=l.tr,v=l.bl,x=l.br,z=l.mosaicRect,C=l.labelAngle,l=l.anchor,K=f.index,F=z.x,N=z.y,R=F+z.width,z=N+z.height;f.add(l.x,l.y,t.x,t.y,F,N,C,n,m,b,e);f.add(l.x,l.y,u.x,u.y,R,N,C,n,m,b,e);f.add(l.x,
l.y,v.x,v.y,F,z,C,n,m,b,e);f.add(l.x,l.y,x.x,x.y,R,z,C,n,m,b,e);h.add(K+0,K+1,K+2);h.add(K+1,K+2,K+3);this._markerMap.has(c)?this._markerMap.get(c)[1]+=6:this._markerMap.set(c,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};h.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,d=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(c,e){for(var f=0;f<c.length;f++){var g=c[f],h=b.index;b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tl[0],g.tl[1],
g.xmin,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tr[0],g.tr[1],g.xmax,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.bl[0],g.bl[1],g.xmin,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.br[0],g.br[1],g.xmax,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);d.add(h+0,h+1,h+2);d.add(h+1,h+2,h+3);a._glyphMap.has(e)?
a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};h.prototype._storePlacedGlyphs=function(a,b,d,c){b=Math.max(d+g.log2(b),0);for(var e=0;e<a.length;e++){var f=a[e],h=Math.max(d+g.log2(f.minzoom),b),k=Math.min(d+g.log2(f.maxzoom),25);if(!(k<=h)){var l=f.tl,n=f.tr,m=f.bl,t=f.br,u=f.labelAngle,v=f.anchor,x=f.mosaicRect;this._glyphBufferDataStorage.has(f.page)||this._glyphBufferDataStorage.set(f.page,[]);this._glyphBufferDataStorage.get(f.page).push({glyphAnchor:[v.x,
v.y],tl:[l.x,l.y],tr:[n.x,n.y],bl:[m.x,m.y],br:[t.x,t.y],xmin:x.x,ymin:x.y,xmax:x.x+x.width,ymax:x.y+x.height,labelAngle:u,minLod:h,maxLod:k,placementLod:b,ddValues:c})}}};h._findAnchors=function(a,b,c){b+=c;for(var e=0,h=a.length-1,k=0;k<h;k++)e+=d.Point.distance(a[k],a[k+1]);k=.5*(c||b);if(e<=k)return[];c=k/e;b=e/Math.max(Math.round(e/b),1);for(var e=0,h=-b/2,l=[],n=a.length-1,k=0;k<n;k++){for(var m=a[k],t=a[k+1],u=t.x-m.x,v=t.y-m.y,x=Math.sqrt(u*u+v*v),L=void 0;h+b<e+x;){var h=h+b,J=(h-e)/x,G=
g.interpolate(m.x,t.x,J),J=g.interpolate(m.y,t.y,J);void 0===L&&(L=Math.atan2(v,u));l.push(new f.Anchor(G,J,L,k,c))}e+=x}return l};h._deviation=function(a,b,d){return Math.atan2((b.x-a.x)*(d.y-b.y)-(b.y-a.y)*(d.x-b.x),(b.x-a.x)*(d.x-b.x)+(b.y-a.y)*(d.y-b.y))};h._honorsTextMaxAngle=function(a,b,c,e,f){var g=0;c/=2;for(var h=new d.Point(b.x,b.y),k=b.segment+1;g>-c;){--k;if(0>k)return!1;g-=d.Point.distance(a[k],h);h=a[k]}g+=d.Point.distance(a[k],a[k+1]);b=[];for(var h=0,l=a.length;g<c;){var n=a[k],m=
void 0;do{++k;if(k===l)return!1;m=a[k]}while(m.isEqual(n));var t=k,u=void 0;do{++t;if(t===l)return!1;u=a[t]}while(u.isEqual(m));n=this._deviation(n,m,u);b.push({deviation:n,distToAnchor:g});for(h+=n;g-b[0].distToAnchor>f;)h-=b.shift().deviation;if(Math.abs(h)>e)return!1;g+=d.Point.distance(m,u)}return!0};h._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var e=[],f=0;e.push(0);for(var g=1;g<c;g++)f+=d.Point.distance(a[g],a[g-1]),e.push(f);b=Math.min(b,.2*f);f=[];f.push(a[0].x);
f.push(a[0].y);var h=a[c-1].x,k=a[c-1].y,g=d.Point.sub(a[0],a[1]);g.normalize();a[0].x+=b*g.x;a[0].y+=b*g.y;g.assignSub(a[c-1],a[c-2]);g.normalize();a[c-1].x+=b*g.x;a[c-1].y+=b*g.y;for(g=1;g<c;g++)e[g]+=b;e[c-1]+=b;for(var l=.5*b,g=1;g<c-1;g++){for(var n=0,m=0,u=0,v=g-1;0<=v&&!(e[v+1]<e[g]-l);v--){var x=l+e[v+1]-e[g],J=e[v+1]-e[v],G=e[g]-e[v]<l?1:x/J;if(1E-6>Math.abs(G))break;var Q=G*G,K=G*x-.5*Q*J,F=G*J/b,N=a[v+1],R=a[v].x-N.x,P=a[v].y-N.y,n=n+F/K*(N.x*G*x+.5*Q*(x*R-J*N.x)-Q*G*J*R/3),m=m+F/K*(N.y*
G*x+.5*Q*(x*P-J*N.y)-Q*G*J*P/3),u=u+F}for(v=g+1;v<c&&!(e[v-1]>e[g]+l);v++){x=l-e[v-1]+e[g];J=e[v]-e[v-1];G=e[v]-e[g]<l?1:x/J;if(1E-6>Math.abs(G))break;Q=G*G;K=G*x-.5*Q*J;F=G*J/b;N=a[v-1];R=a[v].x-N.x;P=a[v].y-N.y;n+=F/K*(N.x*G*x+.5*Q*(x*R-J*N.x)-Q*G*J*R/3);m+=F/K*(N.y*G*x+.5*Q*(x*P-J*N.y)-Q*G*J*P/3);u+=F}f.push(n/u);f.push(m/u)}f.push(h);f.push(k);for(v=g=0;g<c;g++)a[g].x=f[v++],a[g].y=f[v++]}}};h._findCentroid=function(a){var b=a.length-1,d=0,c=0,e=0,g=a[0].x,h=a[0].y;4096<g&&(g=4096);0>g&&(g=0);
4096<h&&(h=4096);0>h&&(h=0);for(var k=1;k<b;k++){var l=a[k].x,n=a[k].y,m=a[k+1].x,v=a[k+1].y;4096<l&&(l=4096);0>l&&(l=0);4096<n&&(n=4096);0>n&&(n=0);4096<m&&(m=4096);0>m&&(m=0);4096<v&&(v=4096);0>v&&(v=0);var x=(l-g)*(v-h)-(m-g)*(n-h),d=d+x*(g+l+m),c=c+x*(h+n+v),e=e+x}d/=3*e;c/=3*e;return isNaN(d)||isNaN(c)?[]:[new f.Anchor(d,c)]};h._bidiEngine=new m;return h}(h)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(l,a,k){function m(a,b,
d,c,f){var k=a;void 0===b&&(b=f.defInFormat);void 0===d&&(d=f.defOutFormat);void 0===c&&(c=f.defSwap);if(b!==d){var l,n=b.substring(0,1);l=b.substring(1,4);var p=d.substring(0,1),r=d.substring(1,4);"C"===l.charAt(0)&&(l=h(k),l="ltr"===l||"rtl"===l?l.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=n+l);"C"===r.charAt(0)&&(l=h(k),"rtl"===l?r="RTL":"ltr"===l?(k=k.split(""),k.reverse(),l=h(k.join("")),r=l.toUpperCase()):r="L"===d.charAt(2)?"LTR":"RTL",d=p+r)}if(b===d)return a;p=b.substring(0,1);k=b.substring(1,
4);n=d.substring(0,1);r=d.substring(1,4);f.inFormat=b;f.outFormat=d;f.swap=c;if("L"===p&&"VLTR"===d){if("LTR"===k)return f.dir=E,g(a,f);if("RTL"===k)return f.dir=I,g(a,f)}if("V"===p&&"V"===n)return f.dir="RTL"===k?I:E,e(a,f);if("L"===p&&"VRTL"===d)return f.dir="LTR"===k?E:I,a=g(a,f),e(a);if("VLTR"===b&&"LLTR"===d)return f.dir=E,g(a,f);if("V"===p&&"L"===n&&k!==r)return a=e(a),"RTL"===k?m(a,"LLTR","VLTR",c,f):m(a,"LRTL","VRTL",c,f);if("VRTL"===b&&"LRTL"===d)return m(a,"LRTL","VRTL",c,f);if("L"===p&&
"L"===n)return b=f.swap,f.swap=b.substr(0,1)+"N","RTL"===k?(f.dir=I,a=g(a,f),f.swap="N"+b.substr(1,2),f.dir=E,a=g(a,f)):(f.dir=E,a=g(a,f),f.swap="N"+b.substr(1,2),a=m(a,"VLTR","LRTL",f.swap,f)),a}function h(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function g(a,b){a=a.split("");var d=[];f(a,d,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var e=0;e<a.length;e++)if(1===d[e]){var g=e,h;b:{h=a[e];for(var k=
void 0,l=0,n=J.length-1;l<=n;)if(k=Math.floor((l+n)/2),h<J[k][0])n=k-1;else if(h>J[k][0])l=k+1;else{h=J[k][1];break b}}a[g]=h}c(2,a,d,b);c(1,a,d,b);r=d;return a.join("")}function f(a,b,d){var c=a.length,e=d.dir?aa:da,f=null,g=null,h=null,f=0,g=g=null,k=-1,l=g=null,m=[],p=[];d.hiLevel=d.dir;d.lastArabic=!1;d.hasUbatAl=!1;d.hasUbatB=!1;d.hasUbatS=!1;for(g=0;g<c;g++){var l=g,h=a[g].charCodeAt(0),r=oa[h>>8];m[l]=r<ha?r:ra[r-ha][h&255]}for(l=0;l<c;l++){p[l]=g=n(a,m,p,l,d);f=e[f][g];g=f&240;f&=15;b[l]=
h=e[f][y];if(0<g){if(16===g)for(g=k;g<l;g++)b[g]=1;k=-1}if(g=e[f][A])-1===k&&(k=l);else if(-1<k){for(g=k;g<l;g++)b[g]=h;k=-1}m[l]===Y&&(b[l]=0);d.hiLevel|=h}if(d.hasUbatS)for(a=0;a<c;a++)if(m[a]===ka)for(b[a]=d.dir,e=a-1;0<=e;e--)if(m[e]===pa)b[e]=d.dir;else break}function e(a,b){a=a.split("");if(b){var d=[];f(a,d,b);r=d}a.reverse();C.reverse();return a.join("")}function d(a){for(var b=0;b<ia.length;b++)if(a>=ia[b]&&a<=ca[b])return!0;return!1}function b(a,b,c,e){for(;b*c<e&&x(a[b]);)b+=c;return b*
c<e&&d(a[b])?!0:!1}function c(a,b,d,c){if(!(c.hiLevel<a))if(1!==a||c.dir!==I||c.hasUbatB){c=b.length;for(var e=0,f,g,h;e<c;){if(d[e]>=a){for(f=e+1;f<c&&d[f]>=a;)f++;for(g=f-1;e<g;e++,g--)h=b[e],b[e]=b[g],b[g]=h,h=C[e],C[e]=C[g],C[g]=h;e=f}e++}}else b.reverse(),C.reverse()}function n(a,b,d,c,e){return{UBAT_L:function(){e.lastArabic=!1;return ba},UBAT_R:function(){e.lastArabic=!1;return ga},UBAT_ON:function(){return W},UBAT_AN:function(){return ea},UBAT_EN:function(){return e.lastArabic?ea:U},UBAT_AL:function(){e.lastArabic=
!0;e.hasUbatAl=!0;return ga},UBAT_WS:function(){return W},UBAT_CS:function(){var a,f;if(1>c||c+1>=b.length||(a=d[c-1])!==U&&a!==ea||(f=b[c+1])!==U&&f!==ea)return W;e.lastArabic&&(f=ea);return f===a?f:W},UBAT_ES:function(){return(0<c?d[c-1]:Y)===U&&c+1<b.length&&b[c+1]===U?U:W},UBAT_ET:function(){if(0<c&&d[c-1]===U)return U;if(e.lastArabic)return W;for(var a=c+1,f=b.length;a<f&&b[a]===fa;)a++;return a<f&&b[a]===U?U:W},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,g=c+1;g<f&&b[g]===
la;)g++;if(g<f&&(f=a[c],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===ga||g===na)))return ga}return 1>c||b[c-1]===Y?W:d[c-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return W},UBAT_LRE:function(){e.lastArabic=!1;return W},UBAT_RLE:function(){e.lastArabic=!1;return W},UBAT_LRO:function(){e.lastArabic=!1;return W},UBAT_RLO:function(){e.lastArabic=!1;return W},UBAT_PDF:function(){e.lastArabic=!1;return W},UBAT_BN:function(){return W}}[ja[b[c]]]()}function v(a,
b){for(var d=0;d<F.length;d++)if(a===F[d])return b[d];return a}function x(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function u(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function t(a,b){for(var d=0;d<G.length;d++)if(a===G[d])return b[d];return a}function z(a,b,d,c){for(var e=0;e<a.length;e++)if(a[e]>b||!d&&a[e]===b)a[e]+=c}l.getObject("string",!0,dojox);l=a("dojox.string.BidiEngine",k,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],
levels:[],bidiTransform:function(a,c,e){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var f=this.sourceToTarget,g=this.targetToSource,h=a.length;C=[];r=[];for(var k=0;k<h;k++)f[k]=k,g[k]=k,C[k]=k;if(!this.checkParameters(c,e))return a;c=this.inputFormat;e=this.outputFormat;var f=a,f=D,k=u(c.charAt(1)),g=u(e.charAt(1)),l="I"===c.charAt(0)?"L":c.charAt(0),h="I"===e.charAt(0)?"L":e.charAt(0),k=l+k,g=h+g,h=c.charAt(2)+e.charAt(2);f.defInFormat=k;f.defOutFormat=g;f.defSwap=h;a=m(a,k,g,h,
f);f=!1;if("R"===e.charAt(1))f=!0;else if("C"===e.charAt(1)||"D"===e.charAt(1))f=this.checkContextual(a);g=this.sourceToTarget=C;h=Array(g.length);for(k=0;k<g.length;k++)h[g[k]]=k;B=this.targetToSource=h;if(c.charAt(3)===e.charAt(3))f=a;else if("S"===e.charAt(3))if(c=f,e=!0,0===a.length)f=void 0;else{void 0===c&&(c=!0);void 0===e&&(e=!0);a=String(a);a=a.split("");var n=0,g=1,f=a.length;c||(n=a.length-1,g=-1,f=1);for(var h=f,k=e,p=0,f=[],l=0;n*g<h;n+=g)if(d(a[n])||x(a[n])){var q;if(q="\u0644"===a[n])b:{for(var y=
a,w=n+g,A=g,E=h;w*A<E&&x(y[w]);)w+=A;q=" ";if(w*A<E)for(q=y[w],y=0;y<G.length;y++)if(G[y]===q){q=!0;break b}q=!1}if(q){a[n]=0===p?t(a[n+g],Q):t(a[n+g],K);n+=g;p=a;q=n;y=g;for(w=h;q*y<w&&x(p[q]);)q+=y;q*y<w&&(p[q]=" ");k&&(f[l]=n,l++);p=0}else{q=a[n];if(1===p){y=n;if(b(a,n+g,g,h))b:for(w=a[n],A=0;A<F.length;A++){if(w===F[A]){w=P[A];break b}}else w=v(a[n],R);a[y]=w}else!0===b(a,n+g,g,h)?a[n]=v(a[n],T):a[n]=v(a[n],N);x(q)||(p=1);b:{for(y=0;y<S.length;y++)if(S[y]===q){q=!0;break b}q=!1}!0===q&&(p=0)}}else p=
0;g="";for(h=0;h<a.length;h++){if(k=e){b:{for(k=0;k<f.length;k++)if(f[k]===h)break b;k=-1}k=-1<k}k?(z(B,h,!c,-1),C.splice(h,1)):g+=a[h]}f=g}else if(c=a,e=f,a=!0,0===c.length)f=void 0;else for(void 0===a&&(a=!0),void 0===e&&(e=!0),c=String(c),f="",g=[],g=c.split(""),h=0;h<c.length;h++)k=!1,"\ufe70"<=g[h]&&"\ufeff">g[h]?(l=c.charCodeAt(h),"\ufef5"<=g[h]&&"\ufefc">=g[h]?(e?(0<h&&a&&" "===g[h-1]?f=f.substring(0,f.length-1)+"\u0644":(f+="\u0644",k=!0),f+=G[(l-65269)/2]):(f+=G[(l-65269)/2],f+="\u0644",
h+1<c.length&&a&&" "===g[h+1]?h++:k=!0),k&&(z(B,h,!0,1),C.splice(h,0,C[h]))):f+=V[l-65136]):f+=g[h];this.sourceToTarget=C;this.targetToSource=B;this.levels=r;return f},_inputFormatSetter:function(a){if(!H.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!H.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a},checkParameters:function(a,b){a?this.set("inputFormat",
a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=h(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(ua){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return L.test(a)}});var C=[],B=[],r=[],D={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},y=5,A=6,E=0,I=1,H=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,
L=/[\u0591-\u06ff\ufb1d-\ufefc]/,J=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],
["\ufe65","\ufe64"]],G=["\u0622","\u0623","\u0625","\u0627"],Q=["\ufef5","\ufef7","\ufef9","\ufefb"],K=["\ufef6","\ufef8","\ufefa","\ufefc"],F="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),N="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),
R="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),P="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),
T="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),S="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),V="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
ia=["\u0621","\u0641"],ca=["\u063a","\u064a"],da=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],aa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ba=0,ga=1,U=2,ea=3,W=4,Y=5,ka=6,na=7,pa=8,fa=11,la=12,ja="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ha=100;a=ba;k=ga;var M=U,X=ea,p=W,ma=Y,qa=ka,q=na,Z=pa,O=
fa,w=la,oa=[ha+0,a,a,a,a,ha+1,ha+2,ha+3,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ha+4,p,p,p,a,p,a,p,a,p,p,p,a,a,p,p,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,a,a,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,a,a,p,p,a,a,p,p,a,a,p,p,p,p,p,p,p,p,p,p,p,p,
p,p,p,p,p,p,p,p,p,p,p,a,a,a,ha+5,q,q,ha+6,ha+7],ra=[[18,18,18,18,18,18,18,18,18,qa,ma,qa,Z,ma,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ma,ma,ma,qa,Z,p,p,O,O,O,p,p,p,p,p,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,18,18,18,18,18,18,ma,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,p,O,O,O,O,p,p,p,p,a,p,p,18,p,p,O,O,M,M,p,a,p,p,p,M,a,p,p,p,p,
p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,a,a,a,a,a,a,a,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,a,p,p,p,p,p,p,p,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,
w,w,w,w,w,k,w,k,w,w,k,w,w,k,w,p,p,p,p,p,p,p,p,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,p,p,p,p,p,k,k,k,k,k,p,p,p,p,p,p,p,p,p,p,p],[X,X,X,X,p,p,p,p,q,O,O,q,9,q,p,p,w,w,w,w,w,w,w,w,w,w,w,q,p,p,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,X,X,X,X,X,X,X,X,X,X,O,X,X,q,q,q,w,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,
q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,w,w,w,w,w,w,w,X,p,w,w,w,w,w,w,q,q,w,w,p,w,w,w,w,q,q,M,M,M,M,M,M,M,M,M,M,q,q,q,q,q,q],[q,q,q,q,q,q,q,q,q,q,q,q,q,q,p,q,q,w,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,p,p,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,w,w,w,w,w,w,w,
w,w,w,w,q,p,p,p,p,p,p,p,p,p,p,p,p,p,p,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,w,w,w,w,w,w,w,w,w,k,k,p,p,p,p,k,p,p,p,p,p],[Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,18,18,18,a,k,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Z,ma,13,14,15,16,17,9,O,O,O,O,O,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,9,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Z,18,18,18,18,18,p,p,p,p,p,18,18,18,18,18,18,M,a,p,p,M,M,M,M,M,M,10,10,p,p,p,a,M,M,M,M,M,M,M,M,M,M,10,10,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,
a,a,p,p,p,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,p,a,a,a,a,a,p,p,p,p,p,k,w,k,k,k,k,k,k,k,k,k,k,10,k,k,k,k,k,k,k,k,k,k,k,k,k,p,k,k,k,k,k,p,k,p,k,k,p,k,k,p,k,k,k,k,k,k,k,k,k,k,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,
q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,w,w,w,w,w,w,w,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,9,p,9,p,p,9,p,p,p,p,p,p,p,p,p,O,p,p,10,10,p,p,p,p,p,O,O,p,p,p,p,p,q,q,q,q,q,p,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,
q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,p,p,18],[p,p,p,O,O,O,p,p,p,p,p,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,a,a,a,a,a,a,p,p,a,a,a,a,a,a,p,p,a,a,a,a,a,a,p,p,a,a,a,p,p,p,O,O,p,p,p,O,O,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];return l})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,a,k,m){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var g=this._attrPairNames;return g[a]?g[a]:g[a]={s:"_"+
a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,g){return"function"===typeof this[g.g]?this[g.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,g){if("object"===typeof a){for(var f in a)a.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,a[f]);return this}f=this._getAttrNames(a);var e=this._get(a,f);f=this[f.s];var d;"function"===typeof f?d=f.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=g;if(this._watchCallbacks){var b=
this;m(d,function(){b._watchCallbacks(a,e,g)})}return this},_changeAttrValue:function(a,g){var f=this.get(a);this[a]=g;this._watchCallbacks&&this._watchCallbacks(a,f,g);return this},watch:function(a,g){var f=this._watchCallbacks;if(!f)var e=this,f=this._watchCallbacks=function(a,d,g,h){var b=function(b){if(b){b=b.slice();for(var c=0,f=b.length;c<f;c++)b[c].call(e,a,d,g)}};b(f["_"+a]);h||b(f["*"])};g||"function"!==typeof a?a="_"+a:(g=a,a="*");var d=f[a];"object"!==typeof d&&(d=f[a]=[]);d.push(g);a=
{};a.unwatch=a.remove=function(){var a=k.indexOf(d,g);-1<a&&d.splice(a,1)};return a}})})},"esri/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,g,f,e,d,b,c,k){this._glyphItems=a;this._maxWidth=g;this._lineHeight=f;this._letterSpacing=e;this._offset=d;this._hAnchor=b;this._vAnchor=c;this._justify=k}a.prototype.getShaping=function(a,g){for(var f=this._letterSpacing,e=this._lineHeight,
d=this._justify,b=this._maxWidth,c=[],h=0,k=0,l=0,m=0,t=-1,z=0,C=-1,B=a.length,r=0;r<B;r++){var D=a.charCodeAt(r);if(10===D){if(r!==B-1){if(t>=m){var h=c[t],y=h.x+h.glyphMosaicItem.metrics.advance,z=Math.max(y,z);d&&this._applyJustification(c,m,t);m=c.length}k=g?k-e:k+e;h=0;++l}}else{for(var y=void 0,A=0,E=this._glyphItems;A<E.length&&!(y=E[A][D]);A++);if(y){c.push({codePoint:D,x:h,y:k,glyphMosaicItem:y});h+=y.metrics.advance+f;if(0<b&&h>b&&0<=C){A=C+1;y=c[A].x;z=Math.max(y,z);for(E=A;E<c.length;E++)c[E].y=
g?c[E].y-e:c[E].y+e,c[E].x-=y;d&&this._applyJustification(c,m,C);k=g?k-e:k+e;h-=y;++l;m=A;C=-1}++t;32===D&&(C=c.length-1)}}}t>=m&&(h=c[t],z=Math.max(z,h.x+h.glyphMosaicItem.metrics.advance),d&&this._applyJustification(c,m,t));if(0<c.length)for(a=(d-this._hAnchor)*z,f=(-this._vAnchor*(l+1)+.5)*e,g&&l&&(f+=l*e),a+=this._offset[0],f+=this._offset[1],g=0;g<c.length;g++)e=c[g],e.x+=a,e.y+=f;return c};a.getBox=function(a){if(!a.length)return null;for(var g=Infinity,f=Infinity,e=0,d=0,b=0;b<a.length;b++)var c=
a[b],h=c.glyphMosaicItem.metrics,k=h.height,l=c.x,c=c.y-(k-Math.abs(h.top)),h=l+h.width+h.left,k=c+k,g=Math.min(g,l),e=Math.max(e,h),f=Math.min(f,c),d=Math.max(d,k);return{x:g,y:f,width:e-g,height:d-f}};a.addDecoration=function(a,g){var f=a.length;if(0!==f){for(var e=a[0].x+a[0].glyphMosaicItem.metrics.left,d=a[0].y,b=1;b<f;b++){var c=a[b];if(c.y!==d){var h=a[b-1].x+a[b-1].glyphMosaicItem.metrics.left+a[b-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:e,y:d+g-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,
0,4,8),metrics:{width:h-e,height:8,left:0,top:0,advance:0},page:0}});d=c.y;e=c.x+c.glyphMosaicItem.metrics.left}}f=a[f-1].x+a[f-1].glyphMosaicItem.metrics.left+a[f-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:e,y:d+g-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:f-e,height:8,left:0,top:0,advance:0},page:0}})}};a.prototype._applyJustification=function(a,g,f){for(var e=a[f],e=(e.x+e.glyphMosaicItem.metrics.advance)*this._justify;g<=f;g++)a[g].x-=e};return a}();a.TextShaping=
l})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,h,g,f){void 0===a&&(a=0);void 0===h&&(h=0);void 0===g&&(g=0);void 0===f&&(f=0);this.x=a;this.y=h;this.width=g;this.height=f}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();a.default=l})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),function(l,a,k,
m,h,g,f,e,d,b,c,n,v,x,u){return function(){function a(a,b,d){this._pbfTiles={};this._tileClippers={};this._client=d;this._tile=b;this._layers=b.getLayers();var c=b.tileKey.split("/").map(parseFloat);b=c[0];d=c[1];c=c[2];this._level=b;for(var e=Math.max(8,Math.round(1*this._level)-8),f=0,g=Object.keys(a);f<g.length;f++){var k=g[f],l=a[k];this._pbfTiles[k]=new h(new Uint8Array(l.protobuff),new DataView(l.protobuff));if(l.refKey&&(l=l.refKey.split("/").map(parseFloat)[0],l=b-l,0<l)){var n=(1<<l)-1;this._tileClippers[k]=
new x.TileClipper(l,d&n,c&n,8,e)}this._tileClippers[k]||(this._tileClippers[k]=new x.SimpleBuilder)}}a.prototype.parse=function(a){return m(this,void 0,void 0,function(){var b,c,e,f,h,l,n,m,t,v,x,z,Q,K,F,N,R,P,T,S,V,ia,ca,da,aa,ba,ga,U,ea,W,Y,ka,na,pa,fa,la,ja,ha,M,X,p,ma,qa,q,Z,O,w,oa,ra,sa,ua,Aa,wa,Ba,va,xa,ta,Ca,ya=this;return k(this,function(k){b=a&&a.signal;c=this._parseTileData(this._pbfTiles);e=this._layers;f=this._level;l=[];n=this._tileClippers;m={};t={};for(v=e.length-1;0<=v;v--)if(h=e[v],
!(h.minzoom&&f<h.minzoom||h.maxzoom&&f>=h.maxzoom||h.layout&&h.layout.visibility&&"none"===h.layout.visibility||0===h.type)&&c[h.source]&&n[h.source]&&(x=c[h.source],z=n[h.source],Q=h.sourceLayer,K=x[Q]))if((F=t[h.source])||(F=t[h.source]=new Set),F.add(h.sourceLayer),N=this._createBucket(h))N.layerIndex=v,N.layerExtent=K.extent,N.tileClipper=z,(R=m[h.source])||(R=m[h.source]={}),(P=R[Q])||(P=R[Q]=[]),P.push(N);T=10*this._level;S=10*(this._level+1);V=[];ia=[];ca=[];da=[];aa=new Set;ba={};ga=[];U=
[];ea=function(a){t[a].forEach(function(b){ga.push(b);U.push(a)})};W=0;for(Y=Object.keys(t);W<Y.length;W++)ka=Y[W],ea(ka);for(na=0;na<ga.length;na++){ka=U[na];pa=ga[na];if(!c[ka]||!m[ka])break;x=c[ka];K=x[pa];R=m[ka];fa=R[pa];if(!fa||0===fa.length)break;if(g.isAborted(b))return[2,void 0];for(la=K.getData();la.next(2);){ja=la.getMessage();ha=new d(ja,K);ja.release();if(M=ha.values){if((X=M._minzoom)&&X>=S)continue;if((p=M._maxzoom)&&p<=T)continue}ma=0;for(qa=fa;ma<qa.length;ma++)N=qa[ma],N.pushFeature(ha)}}q=
this._tile;Z=0;for(O=Object.keys(m);Z<O.length;Z++)for(Q in ka=O[Z],w=m[ka],w)for(fa=w[Q],oa=0,ra=fa;oa<ra.length;oa++)N=ra[oa],N.hasFeatures()&&(3===N.layer.type?(V.push(N),q.addBucket(N)):N.layer.refLayerId?ca.push(N):(ia.push(N),da[N.layer.id]=N));sa=0;for(ua=V;sa<ua.length;sa++)Aa=N=ua[sa],Aa.getResources(Aa.tileClipper,aa,ba);if(this._tile.status===u.TileStatus.INVALID)return[2,g.resolve([])];wa=[];Ba=this._tile.getWorkerTileHandler();0<aa.size&&(va=Ba.fetchSprites(aa,this._client,a),wa.push(va));
for(ta in ba)Ca=ba[ta],0<Ca.size&&(xa=Ba.fetchGlyphs(this._tile.tileKey,ta,Ca,this._client,a),wa.push(xa));return[2,g.all(wa).then(function(){for(var a=0,b=ia;a<b.length;a++){var d=b[a];d.processFeatures(d.tileClipper,ya._tile);l.push(d)}a=0;for(b=ca;a<b.length;a++){var d=b[a],c=da[d.layer.refLayerId];c&&(c.assignBufferInfo(d),l.push(d))}a=0;for(b=V;a<b.length;a++)d=b[a],d.processFeatures(d.tileClipper,ya._tile),l.push(d);l.sort(function(a,b){return a.layerIndex-b.layerIndex});return l})]})})};a.prototype._parseTileData=
function(a){for(var b={},d=0,c=Object.keys(a);d<c.length;d++){for(var e=c[d],f=a[e],g={};f.next();)switch(f.tag()){case 3:var h=f.getMessage(),k=new n(h);h.release();g[k.name]=k;break;default:f.skip()}b[e]=g}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=
function(a){return new f(a,this._level)};a.prototype._createFillBucket=function(a){var d=this._tile;return new b(a,this._level,a.hasDataDrivenFill?d.fillDDVertexBuffer:d.fillVertexBuffer,d.fillIndexBuffer,a.hasDataDrivenOutline?d.outlineDDVertexBuffer:d.outlineVertexBuffer,d.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new c(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=function(a){var b=
this._tile;return new e(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new v(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],function(l,a,k,m){var h=k("esri-text-decoder")?
new TextDecoder("utf-8"):null,g=k("safari")?6:k("ff")?12:32;return function(){function a(a,d,b,c){void 0===b&&(b=0);void 0===c&&(c=a?a.byteLength:0);this._tag=0;this._dataType=99;this.init(a,d,b,c)}a.prototype.init=function(a,d,b,c){this._data=a;this._dataView=d;this._pos=b;this._end=c};a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var d=this._decodeVarint();
this._tag=d>>3;this._dataType=d&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;
a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];
this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getUint32(d+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getInt32(d+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=
this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),d=this._pos,d=this._toString(this._data,d,d+a);this._skip(a);return d};a.prototype.getBytes=function(){var a=this._getLength(),d=this._pos,d=this._toBytes(this._data,d,d+a);this._skip(a);
return d};a.prototype.processMessageWithArgs=function(a,d,b,c){var e=this.getMessage();a=a(e,d,b,c);e.release();return a};a.prototype.processMessage=function(a){var d=this.getMessage();a=a(d);d.release();return a};a.prototype.getMessage=function(){var e=this._getLength(),d=a.pool.acquire();d.init(this._data,this._dataView,this._pos,this._pos+e);this._skip(e);return d};a.prototype.release=function(){a.pool.release(this)};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();
break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,d=this._pos,b=0,c;if(10<=this._end-d){if(c=a[d++],b|=c&127,0!==(c&128)&&(c=a[d++],b|=(c&127)<<7,0!==(c&128)&&(c=a[d++],b|=(c&127)<<14,0!==(c&128)&&(c=a[d++],b|=(c&127)<<21,0!==
(c&128)&&(c=a[d++],b+=268435456*(c&127),0!==(c&128)&&(c=a[d++],b+=34359738368*(c&127),0!==(c&128)&&(c=a[d++],b+=4398046511104*(c&127),0!==(c&128)&&(c=a[d++],b+=562949953421312*(c&127),0!==(c&128)&&(c=a[d++],b+=72057594037927936*(c&127),0!==(c&128)&&(c=a[d++],b+=0x7fffffffffffffff*(c&127),0!==(c&128)))))))))))throw Error("Varint too long!");}else{for(var f=1;d!==this._end;){c=a[d];if(0===(c&128))break;++d;b+=(c&127)*f;f*=128}if(d===this._end)throw Error("Varint overrun!");++d;b+=c*f}this._pos=d;return b};
a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,d,b){b=Math.min(this._end,b);if(b-d>g&&h)return a=a.subarray(d,b),h.decode(a);for(var c="",e="";d<b;++d){var f=a[d];f&128?e+="%"+f.toString(16):(c+=decodeURIComponent(e)+String.fromCharCode(f),e="")}e.length&&(c+=decodeURIComponent(e));return c};a.prototype._toBytes=
function(a,d,b){b=Math.min(this._end,b);return new Uint8Array(a.buffer,d,b-d)};a.pool=new m(a,!1,function(a){a._data=null;a._dataView=null});return a}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(l,a,k){return function(){function a(a,g){this.values={};var f=g.keys;for(g=g.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var e=a.getMessage(),d=this.values;!e.empty();){var b=e.getUInt32(),c=e.getUInt32();
d[f[b]]=g[c]}e.release();break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var g=this._pbfGeometry;this._pbfGeometry=null;var f,e;a?a.reset(this.type):f=[];for(var d=1,b=0,c=0,h=0;!g.empty();)switch(0===b&&(b=g.getUInt32(),d=b&7,b>>=3),b--,d){case 1:c+=g.getSInt32();h+=g.getSInt32();a?a.moveTo(c,h):(e&&f.push(e),e=[],e.push(new k.Point(c,
h)));break;case 2:c+=g.getSInt32();h+=g.getSInt32();a?a.lineTo(c,h):e.push(new k.Point(c,h));break;case 7:a?a.close():e&&!e[0].equals(c,h)&&e.push(e[0].clone());break;default:throw g.release(),Error("Invalid path operation");}a?a=a.result():(e&&f.push(e),a=f);g.release();return this._geometry=a};return a}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(l,a){return function(){function a(k){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=
k.clone();k.next();)switch(k.tag()){case 1:this.name=k.getString();break;case 3:this.keys.push(k.getString());break;case 4:this.values.push(k.processMessage(a._parseValue));break;case 5:this.extent=k.getUInt32();break;default:k.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();
case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){return function(a,d,b){this.ratio=a;this.x=d;this.y=b}}();l=function(){function a(a,b,c,e,f){void 0===e&&(e=8);void 0===f&&(f=8);this.lines=[];this.starts=[];this.pixelRatio=e;this.pixelMargin=f;this.tileSize=k.TILE_SIZE*
e;this.dz=a;this.yPos=b;this.xPos=c}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,
b,this._prevIsIn);this._prevPt=new m.Point(a,b);this._firstPt=new m.Point(a,b);this._dist=0};a.prototype.lineTo=function(a,b){var d=this._isIn(a,b),e=new m.Point(a,b),f=m.Point.distance(this._prevPt,e),h,k,l;if(d)this._prevIsIn?this._lineTo(a,b,!0):(h=this._prevPt,k=e,a=this._intersect(k,h),this.start=this._dist+f*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(k.x,k.y,!0));else if(this._prevIsIn)k=this._prevPt,h=e,a=this._intersect(k,h),this._lineTo(a.x,a.y,!0),this._lineTo(h.x,h.y,!1);else{var z=
this._prevPt;if(!(z.x<=this.xmin&&e.x<=this.xmin||z.x>=this.xmax&&e.x>=this.xmax||z.y<=this.ymin&&e.y<=this.ymin||z.y>=this.ymax&&e.y>=this.ymax)){a=[];if(z.x<this.xmin&&e.x>this.xmin||z.x>this.xmin&&e.x<this.xmin)b=(this.xmin-z.x)/(e.x-z.x),l=z.y+b*(e.y-z.y),l<=this.ymin?k=!1:l>=this.ymax?k=!0:a.push(new g(b,this.xmin,l));if(z.x<this.xmax&&e.x>this.xmax||z.x>this.xmax&&e.x<this.xmax)b=(this.xmax-z.x)/(e.x-z.x),l=z.y+b*(e.y-z.y),l<=this.ymin?k=!1:l>=this.ymax?k=!0:a.push(new g(b,this.xmax,l));if(z.y<
this.ymin&&e.y>this.ymin||z.y>this.ymin&&e.y<this.ymin)b=(this.ymin-z.y)/(e.y-z.y),l=z.x+b*(e.x-z.x),l<=this.xmin?h=!1:l>=this.xmax?h=!0:a.push(new g(b,l,this.ymin));if(z.y<this.ymax&&e.y>this.ymax||z.y>this.ymax&&e.y<this.ymax)b=(this.ymax-z.y)/(e.y-z.y),l=z.x+b*(e.x-z.x),l<=this.xmin?h=!1:l>=this.xmax?h=!0:a.push(new g(b,l,this.ymax));if(0===a.length)h?k?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):k?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,
!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+f*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+f*a[0].ratio,h=0;h<a.length;h++)this._lineTo(a[h].x,a[h].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=f;this._prevIsIn=d;this._prevPt=e};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&a[0].x===
a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&f.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var c=[],e=0;e<b;e++)c.push({line:a[e],
start:this.starts[e]||0});return c};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,b){var c,d,e;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,e=(d-a.y)/(b.y-a.y),c=a.x+e*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=(c-a.x)/(b.x-a.x),d=a.y+e*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var f=(c-a.x)/(b.x-a.x),
g=(d-a.y)/(b.y-a.y);f<g?(e=f,d=a.y+f*(b.y-a.y)):(e=g,c=a.x+g*(b.x-a.x))}this._r=e;return new m.Point(c,d)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,c){3!==this.type?
c&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b))):(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,c){if(3!==this.type)if(c){a=
Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(c=this.line[this.line.length-1],c.equals(a,b)))return;this.line.push(new m.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),
this.line&&0<this.line.length){c=this.line[this.line.length-1];var d=c.x===a,e=c.y===b;d&&e||(this._is_h&&d?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):this._is_v&&e?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-
2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):(this.line.push(new m.Point(a,b)),this._is_h=d,this._is_v=e))}else this.line.push(new m.Point(a,b))};return a}();a.TileClipper=l;l=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new m.Point(Math.round(a*
c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new m.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&f.simplify(4096,64,this.lines);return this.lines};return a}();a.SimpleBuilder=l;var f=function(){function a(){}a.simplify=function(d,b,c){if(c){var e=
-b,f=d+b,g=-b,h=d+b;d=[];b=[];for(var k=c.length,l=0;l<k;++l){var m=c[l];if(m&&!(2>m.length))for(var B=m[0],r=void 0,D=m.length,y=1;y<D;++y)r=m[y],B.x===r.x&&(B.x<=e&&(B.y>r.y?(d.push(l),d.push(y),d.push(0),d.push(-1)):(b.push(l),b.push(y),b.push(0),b.push(-1))),B.x>=f&&(B.y<r.y?(d.push(l),d.push(y),d.push(1),d.push(-1)):(b.push(l),b.push(y),b.push(1),b.push(-1)))),B.y===r.y&&(B.y<=g&&(B.x<r.x?(d.push(l),d.push(y),d.push(2),d.push(-1)):(b.push(l),b.push(y),b.push(2),b.push(-1))),B.y>=h&&(B.x>r.x?
(d.push(l),d.push(y),d.push(3),d.push(-1)):(b.push(l),b.push(y),b.push(3),b.push(-1)))),B=r}0!==d.length&&0!==b.length&&(a.fillParent(c,b,d),a.fillParent(c,d,b),e=[],a.calcDeltas(e,b,d),a.calcDeltas(e,d,b),a.addDeltas(e,c))}};a.fillParent=function(a,b,c){for(var d=c.length,e=b.length,f=0;f<e;f+=4){for(var g=b[f],k=b[f+1],l=b[f+2],m=a[g][k-1],g=a[g][k],k=8092,B=-1,r=0;r<d;r+=4)if(c[r+2]===l){var D=c[r],y=c[r+1],A=a[D][y-1],D=a[D][y];switch(l){case 0:case 1:h.between(m.y,A.y,D.y)&&h.between(g.y,A.y,
D.y)&&(A=Math.abs(D.y-A.y),A<k&&(k=A,B=r));break;case 2:case 3:h.between(m.x,A.x,D.x)&&h.between(g.x,A.x,D.x)&&(A=Math.abs(D.x-A.x),A<k&&(k=A,B=r))}}b[f+3]=B}};a.calcDeltas=function(d,b,c){for(var e=b.length,f=0;f<e;f+=4){var g=a.calcDelta(f,b,c,[]);d.push(b[f]);d.push(b[f+1]);d.push(b[f+2]);d.push(g)}};a.calcDelta=function(d,b,c,e){d=b[d+3];if(-1===d)return 0;var f=e.length;if(1<f&&e[f-2]===d)return 0;e.push(d);return a.calcDelta(d,c,b,e)+1};a.addDeltas=function(a,b){for(var c=a.length,d=0,e=0;e<
c;e+=4){var f=a[e+3];f>d&&(d=f)}for(e=0;e<c;e+=4){var g=b[a[e]],h=a[e+1],f=d-a[e+3];switch(a[e+2]){case 0:g[h-1].x-=f;g[h].x-=f;1===h&&(g[g.length-1].x-=f);h===g.length-1&&(g[0].x-=f);break;case 1:g[h-1].x+=f;g[h].x+=f;1===h&&(g[g.length-1].x+=f);h===g.length-1&&(g[0].x+=f);break;case 2:g[h-1].y-=f;g[h].y-=f;1===h&&(g[g.length-1].y-=f);h===g.length-1&&(g[0].y-=f);break;case 3:g[h-1].y+=f,g[h].y+=f,1===h&&(g[g.length-1].y+=f),h===g.length-1&&(g[0].y+=f)}}};return a}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require",
"exports"],function(l,a){function k(a,g){a%=g;return 0<=a?a:a+g}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var m=1/Math.LN2;a.positiveMod=k;a.radToByte=function(h){return k(h*a.C_RAD_TO_256,256)};a.degToByte=function(h){return k(h*a.C_DEG_TO_256,256)};a.log2=
function(a){return Math.log(a)*m};a.sqr=function(a){return a*a};a.interpolate=function(a,g,f){return a*(1-f)+g*f};a.between=function(a,g,f){return a>=g&&a<=f||a>=f&&a<=g}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=a.TileStatus||(a.TileStatus={});l[l.INITIALIZED=0]="INITIALIZED";l[l.NO_DATA=1]="NO_DATA";l[l.READY=2]="READY";l[l.MODIFIED=3]="MODIFIED";l[l.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","./GeometryUtils","./MemoryBuffer"],function(l,a,k,m,h){Object.defineProperty(a,"__esModule",{value:!0});var g=new Float32Array(1),f=new Uint32Array(g.buffer);l=function(a){function d(b){var c=a.call(this,b?20:12)||this;c._isDataDriven=b;return c}k(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d,e,k,l,m,z){var b=this.array;a=h.i1616to32(a,c);b.push(a);a=h.i8888to32(Math.round(31*d),Math.round(31*
e),Math.round(31*k),Math.round(31*l));b.push(a);a=h.i1616to32(m,0);b.push(a);if(this._isDataDriven){if(!z)throw Error("Expecting data driven values.");d=z.color;e=d[3]*z.opacity*255;b.push(h.i8888to32(d[0]*e,d[1]*e,d[2]*e,e));g[0]=z.size;b.push(f[0])}};return d}(h);a.LineVertexBuffer=l;l=function(a){function d(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}k(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d){var b=this.array;b.push(h.i1616to32(a,
c));if(this._isDataDriven){if(!d)throw Error("Expecting data driven values.");a=d.color;d=a[3]*d.opacity*255;b.push(h.i8888to32(a[0]*d,a[1]*d,a[2]*d,d))}};return d}(h);a.FillVertexBuffer=l;l=function(a){function d(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=b;return c}k(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d,e,f,g,k){var b=this.array,l=this.index;a=h.i1616to32(a,c);b.push(a);a=h.i8888to32(Math.round(15*d),Math.round(15*e),f,g);b.push(a);
if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");d=k.color;k=d[3]*k.opacity*255;b.push(h.i8888to32(d[0]*k,d[1]*k,d[2]*k,k))}return l};return d}(h);a.OutlineVertexBuffer=l;l=function(a){function d(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=b;return c}k(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d,e,k,l,t,z,C,B,r){var b=this.array;a=h.i1616to32(a,c);b.push(a);a=h.i1616to32(Math.round(8*d),Math.round(8*e));b.push(a);
a=h.i8888to32(k/4,l/4,0,0);b.push(a);a=h.i8888to32(Math.ceil(10*B),m.radToByte(t),10*z,Math.min(10*C,255));b.push(a);if(this._isDataDriven){if(!r)throw Error("Expecting data driven values.");d=r.color;e=d[3]*r.opacity*255;b.push(h.i8888to32(d[0]*e,d[1]*e,d[2]*e,e));g[0]=r.size;b.push(f[0])}};return d}(h);a.SymbolVertexBuffer=l;l=function(a){function d(){return a.call(this,16)||this}k(d,a);d.prototype.add=function(a,c,d,e,f,g,k,l,m,B,r){var b=this.array;a=h.i1616to32(2*a+d,2*c+e);b.push(a);k=g[3]*
k*255;a=h.i8888to32(g[0]*k,g[1]*k,g[2]*k,k);b.push(a);g=B[3]*r*255;a=h.i8888to32(B[0]*g,B[1]*g,B[2]*g,g);b.push(a);a=h.i8888to32(Math.min(32*l,255),Math.min(4*m,255),Math.min(f,255),0);b.push(a)};return d}(h);a.CircleVertexBuffer=l})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(l,a,k,m){return function(){function a(g,f){this.backgroundBucketIds=[];this._layerByName={};this.styleJSON=g;this.version=
parseFloat(g.version);this.sprite=f?f.spriteUrl:g.sprite;this.glyphs=f?f.glyphsUrl:g.glyphs;if(this.layers=(g.layers||[]).map(a._create))for(g=void 0,f=0;f<this.layers.length;f++)g=this.layers[f],this._layerByName[g.id.toLowerCase()]=g,0===g.type&&this.backgroundBucketIds.push(f);this._identifyRefLayers()}a.prototype.isPainterDataDriven=function(a){return(a=this._layerByName[a.toLowerCase()])?a.isPainterDataDriven():!1};a.prototype.getStyleLayerId=function(a){return a>=this.layers.length?null:this.layers[a].id};
a.prototype.getLayoutProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.layout:null};a.prototype.getPaintProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.paint:null};a.prototype.setPaintProperties=function(g,f){g=this._layerByName[g.toLowerCase()];if(!g)return"";var e=this.layers.indexOf(g);this.styleJSON.layers[e].paint=f;f=a._recreateLayer({id:g.id,type:g.typeName,source:g.source,sourceLayer:g["source-layer"],minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,
layout:g.layout,paint:f},g);this.layers[e]=f;this._layerByName[g.id.toLowerCase()]=f;return g.id};a.prototype.setLayoutProperties=function(g,f){g=this._layerByName[g.toLowerCase()];if(!g)return"";var e=this.layers.indexOf(g);this.styleJSON.layers[e].layout=f;f=a._recreateLayer({id:g.id,type:g.typeName,source:g.source,sourceLayer:g["source-layer"],minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:f,paint:g.paint},g);this.layers[e]=f;this._layerByName[g.id.toLowerCase()]=f;return g.id};a.prototype._identifyRefLayers=
function(){for(var a=[],f=[],e=0,d=0,b=this.layers;d<b.length;d++){var c=b[d];if(1===c.type){var k=c,h=c.source+"|"+c.sourceLayer,h=h+("|"+JSON.stringify(c.layout&&c.layout.visibility)),h=h+("|"+JSON.stringify(c.minzoom)),h=h+("|"+JSON.stringify(c.maxzoom)),h=h+("|"+JSON.stringify(c.filter));if(k.hasDataDrivenFill||k.hasDataDrivenOutline)h+="|"+JSON.stringify(e);a.push({key:h,layer:c})}2===c.type&&(k=c,h=c.source+"|"+c.sourceLayer,h+="|"+JSON.stringify(c.layout&&c.layout.visibility),h+="|"+JSON.stringify(c.minzoom),
h+="|"+JSON.stringify(c.maxzoom),h+="|"+JSON.stringify(c.filter),h+="|"+JSON.stringify(c.layout&&c.layout["line-cap"]),h+="|"+JSON.stringify(c.layout&&c.layout["line-join"]),k.hasDataDrivenLine&&(h+="|"+JSON.stringify(e)),f.push({key:h,layer:c}));++e}this._assignRefLayers(a);this._assignRefLayers(f)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var f,e,d=a.length,b=0;b<d;b++){var c=a[b];if(c.key===f)c.layer.refLayerId=e;else if(f=c.key,
e=c.layer.id,1===c.layer.type&&!c.layer.getPaintProperty("fill-outline-color"))for(var g=b+1;g<d;g++){var h=a[g];if(h.key===f){if(h.layer.getPaintProperty("fill-outline-color")){a[b]=h;a[g]=c;e=h.layer.id;break}}else break}}};a._create=function(a,f,e){f=1-1/(e.length+1)*(1+f);switch(a.type){case "background":return new m.BackgroundStyleLayer(0,a,f);case "fill":return new m.FillStyleLayer(1,a,f);case "line":return new m.LineStyleLayer(2,a,f);case "symbol":return new m.SymbolStyleLayer(3,a,f);case "raster":throw Error("Unsupported vector tile raster layer");
case "circle":return new m.CircleStyleLayer(4,a,f)}throw Error("Unknown vector tile layer");};a._recreateLayer=function(a,f){switch(a.type){case "background":return new m.BackgroundStyleLayer(0,a,f.z);case "fill":return new m.FillStyleLayer(1,a,f.z);case "line":return new m.LineStyleLayer(2,a,f.z);case "symbol":return new m.SymbolStyleLayer(3,a,f.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new m.CircleStyleLayer(4,a,f.z)}};return a}()})},"*noref":1}});
require.boot&&require.apply(null,require.boot);