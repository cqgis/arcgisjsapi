// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/tsSupport/extendsHelper","../../../core/Evented","../../../core/iteratorUtils"],function(h,k,m,n,l){Object.defineProperty(k,"__esModule",{value:!0});h=function(e){function a(){var b=null!==e&&e.apply(this,arguments)||this;b._map=new Map;return b}m(a,e);a.prototype.clear=function(){if(0<this._map.size){var b=this.toArray();this._map.clear();this.emit("change",{added:[],removed:b})}};Object.defineProperty(a.prototype,"length",{get:function(){return this._map.size},
enumerable:!0,configurable:!0});a.prototype.get=function(b){return this._map.get(b)};a.prototype.addManyAndDeduplicate=function(b){if(0!==b.length){for(var g=new Set,c=0;c<b.length;c++){var a=b[c],f=a.uid,d=this._map.get(f);d?(g.add(f),a!==d&&(b[c]=d),++d.refCount):(a.refCount=1,this._map.set(f,a))}b=0<g.size?b.filter(function(b){return!g.has(b.uid)}):b;this.emit("change",{added:b,removed:[]})}};a.prototype.removeMany=function(b){for(var a=[],c=0;c<b.length;c++){var e=b[c],f=e.uid,d=this._map.get(f);
null!=d&&0>=--d.refCount&&this._map.delete(f)&&a.push(e)}0<a.length&&this.emit("change",{added:[],removed:a})};a.prototype.toArray=function(){return l.valuesOfMap(this._map)};a.prototype.find=function(b){var a;l.everyMap(this._map,function(c){return b(c)?(a=c,!1):!0});return a};a.prototype.forEach=function(b){this._map.forEach(function(a){return b(a)})};return a}(n);k.GraphicsMap=h});