// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/assignHelper ../../../../../core/maybe ../../lib/Material ./ComponentGLMaterial ./Parameters ./VertexBufferLayout ../internal/MaterialUtil ../renderers/PreinterleavedRenderer".split(" "),function(g,h,k,r,l,m,c,e,n,p,q){Object.defineProperty(h,"__esModule",{value:!0});g=function(f){function a(b,a,d){d=f.call(this,d)||this;d.supportsEdges=!0;d._parameters=e.fillDefaults(b);d._geometryParameters=a;return d}
k(a,f);Object.defineProperty(a.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"geometryParameters",{get:function(){return this._geometryParameters},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasTransparency",{get:function(){var b=this._parameters.forceTransparency;if(l.isSome(b))return b;if(1>this._parameters.baseColorOpacity||1>this._parameters.layerOpacity)return!0;b=this._parameters.componentData;
return e.isUniformComponentData(b)&&"replace"===b.externalColorMixMode?1>b.externalColor[3]:!0},enumerable:!0,configurable:!0});a.prototype.isVisibleInPass=function(b){if(3!==b)return!0;b=this._parameters.componentData;return e.isUniformComponentData(b)?b.castShadows:!0};a.prototype.isVisible=function(){var b=this.parameters;if(!f.prototype.isVisible.call(this)||0===b.layerOpacity)return!1;var a=b.componentData;return e.isUniformComponentData(a)?"replace"===a.externalColorMixMode?0<a.externalColor[3]:
0<b.baseColorOpacity:!0};a.prototype.updateParameters=function(b){var a=!1,d;for(d in b){var c=b[d];this._parameters[d]!==c&&(a=!0,this._parameters[d]=c)}a&&this.notifyDirty("matChanged")};a.prototype.intersect=function(b,a,d,c,e,f,g){p.intersectTriangleGeometry(b,a,c,e,f,g)};a.prototype.getGLMaterials=function(){return{color:c.GLMaterialColor,depthShadowMap:c.GLMaterialDepthShadowMap,normal:c.GLMaterialNormal,depth:c.GLMaterialDepth,highlight:c.GLMaterialHighlight}};a.prototype.createRenderer=function(a,
c){return new q(a,c,this)};a.prototype.createBufferWriter=function(){throw Error("Not supported");};a.prototype.createBufferLayout=function(){return n.createVertexBufferLayout(this.geometryParameters)};return a}(m.Material);h.ComponentMaterial=g});