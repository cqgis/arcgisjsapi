// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../lib/GLMaterial ../lib/Material ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/MaterialUtil ./renderers/InstancedRenderer ../shaders/CheckerBoardPrograms ../../../webgl/renderState".split(" "),function(g,u,h,l,m,k,f,n,p,q,d){g=function(e){function a(b,a){a=e.call(this,a)||this;a.params=f.copyParameters(b,r);return a}h(a,e);a.prototype.dispose=function(){};a.prototype.getParameterValues=function(){var b=this.params;
return{size:b.size,color1:b.color1,color2:b.color2,transparent:b.transparent,writeDepth:b.writeDepth,polygonOffset:b.polygonOffset}};a.prototype.setParameterValues=function(b){f.updateParameters(this.params,b)&&this.notifyDirty("matChanged")};a.prototype.getParams=function(){return this.params};a.prototype.intersect=function(b,a,e,d,f,g,h,k){return n.intersectTriangleGeometry(b,a,d,f,g,h)};a.prototype.getGLMaterials=function(){return{color:t,depthShadowMap:void 0,normal:void 0,depth:void 0,highlight:void 0}};
a.prototype.createBufferWriter=function(){return new k.DefaultBufferWriter(k.PositionUVLayout)};a.prototype.createRenderer=function(a,c){return new p(a,c,this)};return a}(m.Material);var t=function(e){function a(a){a=e.call(this,a)||this;a.updateParameters();return a}h(a,e);a.prototype.selectProgram=function(){this.program=this.programRep.getProgram(q.colorPass);this.pipelineState=d.makePipelineState({blending:this.params.transparent&&d.separateBlendingParams(770,1,771,771),polygonOffset:this.params.polygonOffset&&
{factor:0,units:-25},depthTest:{func:513},depthWrite:this.params.writeDepth&&d.defaultDepthWriteParams,colorWrite:d.defaultColorWriteParams})};a.prototype.updateParameters=function(){this.params=this.material.getParameterValues();this.selectProgram()};a.prototype.beginSlot=function(a){var b=5;this.params.transparent&&(b=this.params.writeDepth?7:10);return a===b};a.prototype.getProgram=function(){return this.program};a.prototype.getDrawMode=function(){return 4};a.prototype.bind=function(a,c){c=this.program;
a.bindProgram(c);a.setPipelineState(this.pipelineState);c.setUniform2fv("size",this.params.size);c.setUniform4fv("color1",this.params.color1);c.setUniform4fv("color2",this.params.color2)};a.prototype.bindView=function(a,c){a=c.origin;var b=this.getProgram();f.bindView(a,c.view,b)};a.prototype.bindInstance=function(a,c){this.getProgram().setUniformMatrix4fv("model",c.transformation)};a.prototype.release=function(a){};return a}(l),r={size:[1,1],color1:[.75,.75,.75,1],color2:[.5,.5,.5,1],transparent:!1,
writeDepth:!0,polygonOffset:!1};return g});