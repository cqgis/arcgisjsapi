// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../request ../core/Error ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/aaBoundingRect ./Layer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./support/TileInfo".split(" "),function(l,A,B,p,e,q,r,t,u,m,c,v,g,w,x,y,z,n){var f={id:"0/0/0",
level:0,row:0,col:0,extent:null};return function(h){function a(){var b=null!==h&&h.apply(this,arguments)||this;b.tileInfo=n.create({spatialReference:g.WebMercator,size:256});b.type="base-tile";b.fullExtent=new v(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,g.WebMercator);b.spatialReference=g.WebMercator;return b}p(a,h);a.prototype.getTileBounds=function(b,a,k,d){d=d||w.create();f.level=b;f.row=a;f.col=k;f.extent=d;this.tileInfo.updateTileInfo(f);f.extent=null;return d};
a.prototype.fetchTile=function(a,c,k,d){void 0===d&&(d={});var b=d.signal,e=d.timestamp;a=this.getTileUrl(a,c,k);b={responseType:"image",signal:b};null!=e&&(b.query={_ts:d.timestamp});return t(a,b).then(function(a){return a.data})};a.prototype.getTileUrl=function(a,c,e){throw new u("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented");};a.prototype.importLayerViewModule=function(a){return r(this,void 0,void 0,function(){return q(this,function(b){switch(a.type){case "2d":return[2,
m.create(function(a){return l(["../views/2d/layers/TileLayerView2D"],a)})];case "3d":return[2,m.create(function(a){return l(["../views/3d/layers/TileLayerView3D"],a)})]}return[2]})})};e([c.property({type:n})],a.prototype,"tileInfo",void 0);e([c.property({type:["show","hide"]})],a.prototype,"listMode",void 0);e([c.property({readOnly:!0,value:"base-tile"})],a.prototype,"type",void 0);e([c.property()],a.prototype,"fullExtent",void 0);e([c.property()],a.prototype,"spatialReference",void 0);return a=e([c.subclass("esri.layers.BaseTileLayer")],
a)}(c.declared(z.ScaleRangeLayer(y.RefreshableLayer(x))))});