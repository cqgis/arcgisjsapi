// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../support/fieldUtils"],function(v,d,f){function l(a){return new t(a)}Object.defineProperty(d,"__esModule",{value:!0});var g=function(){return function(){this.description=this.code=null}}();d.createFeatureEditError=function(a){return new g};var t=function(){return function(a){this.error=new g;this.objectId=this.globalId=null;this.success=!1;this.uniqueId=null;this.error.description=a}}();d.createFeatureEditErrorResult=l;var u=function(){return function(a){this.globalId=
null;this.success=!0;this.objectId=this.uniqueId=a}}();d.createFeatureEditSuccessResult=function(a){return new u(a)};var m=new Set;d.mixAttributes=function(a,d,k,g,n,q){void 0===n&&(n=!1);m.clear();for(var r in g){var b=a.get(r);if(b){var h=g[r],c;c=b;var e=h,p=e;"string"===typeof e&&f.isNumericField(c)?p=parseFloat(e):null!=e&&f.isStringField(c)&&"string"!==typeof e&&(p=String(e));c=f.sanitizeNullFieldValue(p);c!==h&&q&&q.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",
details:{field:b,originalValue:h,sanitizedValue:c}});m.add(b.name);if(b&&(n||b.editable)){if(h=f.validateFieldValue(b,c))return l(f.validationErrorToString(h,b,c));k[b.name]=c}}}for(a=0;a<d.length;a++)if(k=d[a],!m.has(k.name))return l('missing required field "'+k.name+'"');return null}});