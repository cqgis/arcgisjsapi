// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/domUtils ../../core/accessorSupport/decorators ../Widget ./widget".split(" "),function(x,y,u,b,p,c,v,h){var w="bottom bottom-start bottom-end left left-start left-end right right-start right-end top top-start top-end".split(" "),q={position:"absolute",top:"",left:"","z-index":""};return function(r){function a(a){var g=r.call(this)||this;g.anchorElement=null;g.open=!1;g.renderContentFunction=
null;g._afterRootCreate=function(a){g._rootNode=a;g._updatePosition(a)};g._updatePosition=function(a){var e=g.renderContentFunction;if(g.open&&e){var f=g._getAnchor();if(f){var e=g.placement,d=f.getBoundingClientRect(),f=d.left,n=d.height,c=d.width,d=d.top,k=a.getBoundingClientRect(),b=k.height,k=k.width,h=document.scrollingElement||document.documentElement,p=h.scrollLeft,h=h.scrollTop,t=document.documentElement,r=t.offsetHeight,t=t.offsetWidth,l,m;-1<e.indexOf("top")&&(m=d-b,l="top-start"===e?f:
"top-end"===e?f+c-k:f+c/2-k/2);-1<e.indexOf("bottom")&&(m=d+n,l="bottom-start"===e?f:"bottom-end"===e?f+c-k:f+c/2-k/2);-1<e.indexOf("left")&&(l=f-k,m="left-start"===e?d:"left-end"===e?d+n-b:d+n/2-b/2);-1<e.indexOf("right")&&(l=f+c,m="right-start"===e?d:"right-end"===e?d+n-b:d+n/2-b/2);0>l?l=f:l+k>t&&(l=f-k);0>m?m=d+n:m+b>r&&(m=d-b);a.style.top=m+h+"px";a.style.left=l+p+"px";a.style.zIndex="1000"}}else a.style.top=q.top,a.style.left=q.left,a.style.zIndex=q["z-index"]};return g}u(a,r);a.prototype.initialize=
function(){this._projector.append(document.body,this.render)};a.prototype.destroy=function(){this.renderContentFunction=this.anchorElement=this.owner=null;this._projector.detach(this.render);p.remove(this._rootNode)};Object.defineProperty(a.prototype,"container",{set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"owner",{set:function(a){this._set("owner",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"placement",{get:function(){return"top"},
set:function(a){-1===w.indexOf(a)?this._clearOverride("placement"):this._override("placement",a)},enumerable:!0,configurable:!0});a.prototype.render=function(){var a=this.open,b=this.owner,c=this.renderContentFunction;return h.tsx("div",{class:this.classes("esri-popover",a?"esri-popover--open":null),styles:q,afterCreate:this._afterRootCreate,afterUpdate:this._updatePosition},a&&c&&c.call(b))};a.prototype._getAnchor=function(){var a=this.anchorElement;return p.byId("function"===typeof a?a():a)};b([c.property(),
h.renderable()],a.prototype,"anchorElement",void 0);b([c.property()],a.prototype,"container",null);b([c.property(),h.renderable()],a.prototype,"open",void 0);b([c.property(),h.renderable()],a.prototype,"owner",null);b([c.property(),h.renderable()],a.prototype,"placement",null);b([c.property(),h.renderable()],a.prototype,"renderContentFunction",void 0);return a=b([c.subclass("esri.widgets.support.Popover")],a)}(c.declared(v))});