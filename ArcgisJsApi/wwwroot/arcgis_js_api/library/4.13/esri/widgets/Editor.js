// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
require({cache:{"@dojo/framework/shim/Map":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),F)})(function(F,w){Object.defineProperty(w,"__esModule",{value:!0});var C=F("tslib"),q=F("./iterator"),v=F("./global"),d=F("./object"),n=F("../has/has");F("./Symbol");w.Map=v.default.Map;n.default("es6-map")||
(w.Map=(y=function(){function n(d){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(d)if(q.isArrayLike(d))for(var n=0;n<d.length;n++){var v=d[n];this.set(v[0],v[1])}else try{for(var n=C.__values(d),p=n.next();!p.done;p=n.next())v=p.value,this.set(v[0],v[1])}catch(g){k={error:g}}finally{try{p&&!p.done&&(r=n.return)&&r.call(n)}finally{if(k)throw k.error;}}var k,r}n.prototype._indexOfKey=function(n,q){for(var B=0,p=n.length;B<p;B++)if(d.is(n[B],q))return B;return-1};Object.defineProperty(n.prototype,
"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});n.prototype.clear=function(){this._keys.length=this._values.length=0};n.prototype.delete=function(d){d=this._indexOfKey(this._keys,d);if(0>d)return!1;this._keys.splice(d,1);this._values.splice(d,1);return!0};n.prototype.entries=function(){var d=this,n=this._keys.map(function(n,p){return[n,d._values[p]]});return new q.ShimIterator(n)};n.prototype.forEach=function(d,n){for(var q=this._keys,p=this._values,k=0,r=q.length;k<
r;k++)d.call(n,p[k],q[k],this)};n.prototype.get=function(d){d=this._indexOfKey(this._keys,d);return 0>d?void 0:this._values[d]};n.prototype.has=function(d){return-1<this._indexOfKey(this._keys,d)};n.prototype.keys=function(){return new q.ShimIterator(this._keys)};n.prototype.set=function(d,n){var q=this._indexOfKey(this._keys,d),q=0>q?this._keys.length:q;this._keys[q]=d;this._values[q]=n;return this};n.prototype.values=function(){return new q.ShimIterator(this._values)};n.prototype[Symbol.iterator]=
function(){return this.entries()};return n}(),y[Symbol.species]=y,y));w.default=w.Map;var y})},"@dojo/framework/shim/object":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],F)})(function(F,w){Object.defineProperty(w,"__esModule",{value:!0});var C=F("./global"),q=F("../has/has"),v=F("./Symbol");q.default("es6-object")?
(F=C.default.Object,w.assign=F.assign,w.getOwnPropertyDescriptor=F.getOwnPropertyDescriptor,w.getOwnPropertyNames=F.getOwnPropertyNames,w.getOwnPropertySymbols=F.getOwnPropertySymbols,w.is=F.is,w.keys=F.keys):(w.keys=function(d){return Object.keys(d).filter(function(d){return!d.match(/^@@.+/)})},w.assign=function(d){for(var n=[],q=1;q<arguments.length;q++)n[q-1]=arguments[q];if(null==d)throw new TypeError("Cannot convert undefined or null to object");var v=Object(d);n.forEach(function(d){d&&w.keys(d).forEach(function(n){v[n]=
d[n]})});return v},w.getOwnPropertyDescriptor=function(d,n){v.isSymbol(n);return Object.getOwnPropertyDescriptor(d,n)},w.getOwnPropertyNames=function(d){return Object.getOwnPropertyNames(d).filter(function(d){return!d.match(/^@@.+/)})},w.getOwnPropertySymbols=function(d){return Object.getOwnPropertyNames(d).filter(function(d){return!!d.match(/^@@.+/)}).map(function(d){return Symbol.for(d.substring(2))})},w.is=function(d,n){return d===n?0!==d||1/d===1/n:d!==d&&n!==n});q.default("es2017-object")?(F=
C.default.Object,w.getOwnPropertyDescriptors=F.getOwnPropertyDescriptors,w.entries=F.entries,w.values=F.values):(w.getOwnPropertyDescriptors=function(d){return w.getOwnPropertyNames(d).reduce(function(n,q){n[q]=w.getOwnPropertyDescriptor(d,q);return n},{})},w.entries=function(d){return w.keys(d).map(function(n){return[n,d[n]]})},w.values=function(d){return w.keys(d).map(function(n){return d[n]})})})},"esri/widgets/FeatureForm":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/date/locale ../moment ../core/accessorSupport/decorators ../layers/support/domains ../layers/support/fieldUtils ./Widget ./FeatureForm/FeatureFormViewModel ./support/widget".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p){var k={datePattern:"M/d/y",timePattern:"h:mm:ss a"};return function(r){function g(A){A=r.call(this)||this;A._fieldFocusNeeded=!1;A._activeDateEdit=null;A._activeInputName=null;A.feature=null;A.fieldConfig=null;A.groupDisplay="all";A.layer=null;A.strict=null;A.viewModel=new H;A._handleFormKeyDown=A._handleFormKeyDown.bind(A);A._handleInputBlur=A._handleInputBlur.bind(A);A._handleInputFocus=A._handleInputFocus.bind(A);A._handleNumberInputMouseDown=A._handleNumberInputMouseDown.bind(A);
A._handleInputKeyDown=A._handleInputKeyDown.bind(A);A._handleOptionChange=A._handleOptionChange.bind(A);A._handleGroupClick=A._handleGroupClick.bind(A);A._handleSubmit=A._handleSubmit.bind(A);A._afterScrollerCreateOrUpdate=A._afterScrollerCreateOrUpdate.bind(A);return A}q(g,r);g.prototype.postInitialize=function(){var A=this;this.own(this.watch("feature",function(){var g=A._getFocusableInput("forward");A._activeInputName=g&&g.name;A._fieldFocusNeeded=!0}),this.on("submit",function(g){0<g.invalid.length&&
(A._activeInputName=g.invalid[0],A._fieldFocusNeeded=!0,A.scheduleRender())}))};g.prototype.getValues=function(){return null};g.prototype.submit=function(){return null};g.prototype.render=function(){var g=this.viewModel.state;return p.tsx("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===g?this.renderForm():null)};g.prototype.renderForm=function(){return p.tsx("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,onkeydown:this._handleFormKeyDown},
this.renderFields())};g.prototype.renderFields=function(){var g=this;return this.viewModel.inputFields.map(function(A,k){return A&&A.inputFields?g.renderGroup(A,k):g.renderLabeledField(A)})};g.prototype.renderGroup=function(g,k){var A=this,r=g.description,d=g.label,n=g.inputFields,m=this.viewModel.findField(this._activeInputName),m=m&&m.group===g,K=this.id+"_group_"+k,q=this.id+"_group-label_"+k,B=this.id+"_group-description_"+k,v=r?p.tsx("p",{class:this.classes("esri-feature-form__group-description",
"esri-feature-form__description-text"),id:B},r):null,y="sequential"===this.groupDisplay,H=y?m?"true":"false":void 0;return p.tsx("fieldset",{class:this.classes("esri-feature-form__group",y?"esri-feature-form__group--sequential":null,!y||m?null:"esri-feature-form__group--collapsed",m?"esri-feature-form__group--active":null),"aria-expanded":H,"aria-labelledby":q,"aria-describedby":r?B:"","data-group":g,id:K,key:k,onclick:this._handleGroupClick},p.tsx("div",{class:"esri-feature-form__group-label",id:q},
d),v,n.map(function(m){return A.renderLabeledField(m)}))};g.prototype._getFocusableInput=function(g,k){var A=this.viewModel._allInputFields;g="forward"===g?A:A.slice().reverse();for(k=k?g.indexOf(k)+1:0;k<g.length;k++)if(A=g[k],A.visible&&A.editable)return A;return null};g.prototype.renderLabeledField=function(g){return p.tsx("label",{key:g.layer.id+"-"+g.name,class:"esri-feature-form__label"},[g.label,"unsupported"!==g.type?this.renderInputField(g):this.renderUnsupportedField(g),this.renderAuxiliaryText(g)])};
g.prototype.renderInputField=function(g){var k=g.domain,A=g.editable,r=g.type,d=this.viewModel.getValue(g.name),A=!A,n=this.getCommonInputProps(g);return k&&"coded-value"===k.type&&!A?this.renderSelectInputField(d,k.codedValues.map(function(m){return{value:m.code,name:m.name}}),n):"text"===r&&"text-area"===g.editorType||"rich-text"===g.editorType?p.tsx("textarea",C({},n)):"date"===r?this.renderDateInputField(d,n):p.tsx("input",C({type:"text"===r?"text":"number"},n))};g.prototype.renderDateInputField=
function(g,k){var A=this._formatDate(0),r=A.date,A=A.time,d=this.id+"-"+k.key,n=d+"-date",d=d+"-time",m=k["data-field"];return p.tsx("div",{key:k.key+"-date",class:"esri-feature-form__date-input-container"},p.tsx("div",{class:"esri-feature-form__date-input-part"},p.tsx("input",C({"aria-label":m.label,"aria-describedby":n,type:"text"},k,{"data-date-part":"date",class:this.classes(k.class,"esri-feature-form__input--date"),value:this._formatDate(g).date})),p.tsx("div",{class:"esri-feature-form__date-format-hint",
id:n},r)),p.tsx("div",{class:"esri-feature-form__date-input-part"},p.tsx("input",C({"aria-describedby":d,"aria-label":m.label,type:"text"},k,{"data-date-part":"time",class:this.classes(k.class,"esri-feature-form__input--time"),value:this._formatDate(g).time})),p.tsx("div",{class:"esri-feature-form__date-format-hint",id:d},A)))};g.prototype.renderUnsupportedField=function(g){g=this.viewModel.getValue(g.name);return p.tsx("input",{class:this.classes("esri-input","esri-feature-form__input","esri-feature-form__input--disabled"),
disabled:!0,type:"text",value:""+g})};g.prototype.renderSelectInputField=function(g,k,r){var A=!1;k=k.map(function(k){k.value===g&&(A=!0);return p.tsx("option",{value:""+k.value,key:k.name},k.name)});null==g||""===g||A||k.unshift(p.tsx("option",{value:""+g,key:"outlier-option"},g));var d=r["data-field"];d.required||null!=d.value||k.unshift(p.tsx("option",{value:"",key:"empty-option"}));return p.tsx("select",C({},r,{class:this.classes(r.class,"esri-select"),onchange:this._handleOptionChange}),k)};
g.prototype.renderAuxiliaryText=function(g){if(!g.valid)return p.tsx("div",{key:"error-message"},p.tsx("span",{class:this.classes("esri-feature-form__input-icon--invalid","esri-icon-notice-triangle")}),p.tsx("div",{class:"esri-feature-form__field-error-message"},g.errorMessage));if(g.valid&&g.description)return p.tsx("div",{key:"description",class:"esri-feature-form__description-text"},g.description)};g.prototype.getCommonInputProps=function(g){var k=g.editable,r=g.name,A=g.required,d=g.maxLength,
p=g.hint,m=g.type,n=g.valid,q=this.viewModel.getValue(r),k=!k;return C({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,"aria-invalid":n?"false":"true",class:this.classes("esri-input","esri-feature-form__input",k?"esri-feature-form__input--disabled":null,n?null:"esri-feature-form__input--invalid"),key:r,maxlength:-1<d?""+d:""},this._getNumberFieldConstraints(g),{disabled:k,value:null==q?"":""+q,"data-field":g,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,
onkeydown:this._handleInputKeyDown,onmousedown:"number"===m?this._handleNumberInputMouseDown:null,required:A,title:p})};g.prototype._handleNumberInputMouseDown=function(g){g=g.target;g.disabled||g.focus();this.scheduleRender()};g.prototype._getNumberFieldConstraints=function(g){return(g=G.getDomainRange(g.domain)||D.getFieldRange(g.field))&&g.max!==Number.MAX_VALUE&&g.min!==Number.MIN_VALUE?g:{min:null,max:null}};g.prototype._afterScrollerCreateOrUpdate=function(g){var k=g["data-field"],r=this.viewModel.findField(this._activeInputName);
k.editable&&this._fieldFocusNeeded&&r===k&&(this._fieldFocusNeeded=!1,g.focus())};g.prototype._handleInputFocus=function(g){this._activeInputName=g.target["data-field"].name};g.prototype._handleInputBlur=function(g){var k,r=g.target,d=r["data-field"],A=(g=g.relatedTarget)&&g["data-field"];if("date"===d.type){var p=r.getAttribute("data-date-part");this._activeDateEdit=C({},this._activeDateEdit,(k={},k[p]={value:r.value,input:r},k))}A&&"date"===d.type&&"date"===A.type&&d.field===A.field?""!==r.value&&
""===g.value&&(p=g.getAttribute("data-date-part"),g.value=this._formatDate(Date.now())[p]):(this._commitValue(r),this.scheduleRender())};g.prototype._commitValue=function(g){var k=g["data-field"];if(this._activeDateEdit){var r=this._activeDateEdit;g=r.date;var r=r.time,d=this._getDateEditValue(k,"date"),k=this._getDateEditValue(k,"time"),A=""===d||""===k;g&&(g=g.input,g.value=A?"":d,this._updateFieldValue(g));r&&(g=r.input,g.value=A?"":k,this._updateFieldValue(g));this._activeDateEdit=null}else this._updateFieldValue(g)};
g.prototype._getDateEditValue=function(g,k){var r=this._activeDateEdit[k];if(r)return""===r.value?"":(r=this._parseDate(r.value,k))?this._formatDate(r.getTime())[k]:this._formatDate(g.value)[k]};g.prototype._handleInputKeyDown=function(g){var k=g.key,r=g.altKey,d=g.ctrlKey,A=g.metaKey,p=g.shiftKey;if("Tab"===k){var m=g.target,n=m["data-field"],k=p?"backward":"forward",r=m.getAttribute("data-date-part");"backward"===k&&"time"===r||"forward"===k&&"date"===r||(this._commitValue(m),r=this.viewModel.findField(n.name),
this._activeInputName=(k=this._getFocusableInput(k,r))&&k.name,k?(g.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())}else"Enter"!==k?(m=g.target,n=m["data-field"],n=n.field.type,m="single"===n||"double"===n,"integer"!==n&&"small-integer"!==n&&!m||r||d||A||1!==k.length||(r=Number(k),d=["-","+"],A=["e","."],d=m?d.concat(A):d,isNaN(r)&&-1===d.indexOf(k)&&g.preventDefault())):(this._updateFieldValue(g.target),this.scheduleRender())};g.prototype._updateFieldValue=function(g){this.viewModel.setValue(g["data-field"].name,
this._parseValue(g))};g.prototype._parseValue=function(g){var k=g["data-field"],r=g.value,d=k.type;if(!k.required&&""===r)return null;if("number"===d)return parseFloat(r);if("date"===d){if(!r)return null;g=g.getAttribute("data-date-part");d=Number(r);if(!isNaN(d))return d;r=this._parseDate(r,g);if(!r)return null;var r=n(r),A=k.domain,p=n(),d=p;A&&"range"===A.type&&(A=n(A.maxValue),p.isAfter(A)||(d=A));k=this.viewModel.getValue(k.name);k=n(null!=k?k:d);"date"===g?(r.hour(k.hour()),r.minutes(k.minutes()),
r.seconds(k.seconds())):(r.date(k.date()),r.month(k.month()),r.year(k.year()));return r.valueOf()}return r};g.prototype._handleOptionChange=function(g){this._updateFieldValue(g.target);this.scheduleRender()};g.prototype._handleGroupClick=function(g){g=g.currentTarget;"false"===g.getAttribute("aria-expanded")&&(this._activeInputName=g["data-group"].inputFields[0].name,this._fieldFocusNeeded=!0,this.scheduleRender())};g.prototype._handleSubmit=function(g){g.preventDefault()};g.prototype._handleFormKeyDown=
function(g){"Enter"===g.key&&this.viewModel.submit()};g.prototype._formatDate=function(g){if(null==g)return{date:"",time:""};g=new Date(g);return{date:d.format(g,C({selector:"date"},k)),time:d.format(g,C({selector:"time"},k))}};g.prototype._parseDate=function(g,r){return null==g||""===g?null:d.parse(g,C({selector:r},k))};v([y.aliasOf("viewModel.feature")],g.prototype,"feature",void 0);v([y.aliasOf("viewModel.fieldConfig")],g.prototype,"fieldConfig",void 0);v([y.property(),p.renderable()],g.prototype,
"groupDisplay",void 0);v([y.aliasOf("viewModel.layer")],g.prototype,"layer",void 0);v([y.aliasOf("viewModel.strict")],g.prototype,"strict",void 0);v([y.property(),p.renderable(["viewModel.inputFields","viewModel.state"]),p.vmEvent(["value-change","submit"])],g.prototype,"viewModel",void 0);v([y.aliasOf("viewModel.getValues")],g.prototype,"getValues",null);v([y.aliasOf("viewModel.submit")],g.prototype,"submit",null);return g=v([y.subclass("esri.widgets.FeatureForm")],g)}(y.declared(B))})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(F,w,C,q,v,d,n,y,G){function D(g,k,r,d){return d.replace(/([a-z])\1*/ig,function(A){var B,m,I=A.charAt(0);A=A.length;var J=["abbr","wide","narrow"];switch(I){case "G":B=k[4>A?"eraAbbr":"eraNames"][0>g.getFullYear()?0:1];break;case "y":B=g.getFullYear();switch(A){case 1:break;case 2:if(!r.fullYear){B=String(B);B=B.substr(B.length-2);break}default:m=!0}break;case "Q":case "q":B=Math.ceil((g.getMonth()+1)/3);m=!0;break;case "M":case "L":B=g.getMonth();3>A?(B+=1,m=!0):(I=["months","L"==I?"standAlone":
"format",J[A-3]].join("-"),B=k[I][B]);break;case "w":B=p._getWeekOfYear(g,0);m=!0;break;case "d":B=g.getDate();m=!0;break;case "D":B=p._getDayOfYear(g);m=!0;break;case "e":case "c":if(B=g.getDay(),2>A){B=(B-q.getFirstDayOfWeek(r.locale)+8)%7;break}case "E":B=g.getDay();3>A?(B+=1,m=!0):(I=["days","c"==I?"standAlone":"format",J[A-3]].join("-"),B=k[I][B]);break;case "a":I=12>g.getHours()?"am":"pm";B=r[I]||k["dayPeriods-format-wide-"+I];break;case "h":case "H":case "K":case "k":m=g.getHours();switch(I){case "h":B=
m%12||12;break;case "H":B=m;break;case "K":B=m%12;break;case "k":B=m||24}m=!0;break;case "m":B=g.getMinutes();m=!0;break;case "s":B=g.getSeconds();m=!0;break;case "S":B=Math.round(g.getMilliseconds()*Math.pow(10,A-3));m=!0;break;case "v":case "z":if(B=p._getZone(g,!0,r))break;A=4;case "Z":I=p._getZone(g,!1,r);I=[0>=I?"+":"-",n.pad(Math.floor(Math.abs(I)/60),2),n.pad(Math.abs(I)%60,2)];4==A&&(I.splice(0,0,"GMT"),I.splice(3,0,":"));B=I.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}m&&(B=n.pad(B,A));return B})}function B(g,k,r,d){var p=function(m){return m};k=k||p;r=r||p;d=d||p;var A=g.match(/(''|[^'])+/g),m="'"==g.charAt(0);w.forEach(A,function(g,d){g?(A[d]=(m?r:k)(g.replace(/''/g,"'")),m=!m):A[d]=""});return d(A.join(""))}function H(g,r,p,n){n=d.escapeString(n);p.strict||(n=n.replace(" a"," ?a"));return n.replace(/([a-z])\1*/ig,function(d){var A;A=d.charAt(0);var m=d.length,n="",B="";p.strict?(1<m&&(n="0{"+(m-1)+"}"),2<m&&(B="0{"+(m-2)+"}")):(n="0?",B="0{0,2}");switch(A){case "y":A=
"\\d{2,4}";break;case "M":case "L":2<m?(A=r["months-"+("L"==A?"standAlone":"format")+"-"+k[m-3]].slice(0).join("|"),p.strict||(A=A.replace(/\./g,""),A="(?:"+A+")\\.?")):A="1[0-2]|"+n+"[1-9]";break;case "D":A="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+n+"[1-9][0-9]|"+B+"[1-9]";break;case "d":A="3[01]|[12]\\d|"+n+"[1-9]";break;case "w":A="[1-4][0-9]|5[0-3]|"+n+"[1-9]";break;case "E":case "e":case "c":A=".+?";break;case "h":A="1[0-2]|"+n+"[1-9]";break;case "k":A="1[01]|"+n+"\\d";break;case "H":A="1\\d|2[0-3]|"+
n+"\\d";break;case "K":A="1\\d|2[0-4]|"+n+"[1-9]";break;case "m":case "s":A="[0-5]\\d";break;case "S":A="\\d{"+m+"}";break;case "a":m=p.am||r["dayPeriods-format-wide-am"];n=p.pm||r["dayPeriods-format-wide-pm"];A=m+"|"+n;p.strict||(m!=m.toLowerCase()&&(A+="|"+m.toLowerCase()),n!=n.toLowerCase()&&(A+="|"+n.toLowerCase()),-1!=A.indexOf(".")&&(A+="|"+A.replace(/\./g,"")));A=A.replace(/\./g,"\\.");break;default:A=".*"}g&&g.push(d);return"("+A+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var p={};F.setObject(G.id.replace(/\//g,
"."),p);p._getZone=function(g,k,r){return k?C.getTimezoneName(g):g.getTimezoneOffset()};p.format=function(g,k){k=k||{};var r=v.normalizeLocale(k.locale),d=k.formatLength||"short",r=p._getGregorianBundle(r),A=[];g=F.hitch(this,D,g,r,k);if("year"==k.selector)return B(r["dateFormatItem-yyyy"]||"yyyy",g);var n;"date"!=k.selector&&(n=k.timePattern||r["timeFormat-"+d])&&A.push(B(n,g));"time"!=k.selector&&(n=k.datePattern||r["dateFormat-"+d])&&A.push(B(n,g));return 1==A.length?A[0]:r["dateTimeFormat-"+d].replace(/\'/g,
"").replace(/\{(\d+)\}/g,function(m,g){return A[g]})};p.regexp=function(g){return p._parseInfo(g).regexp};p._parseInfo=function(g){g=g||{};var k=v.normalizeLocale(g.locale),k=p._getGregorianBundle(k),r=g.formatLength||"short",d=g.datePattern||k["dateFormat-"+r],A=g.timePattern||k["timeFormat-"+r],r="date"==g.selector?d:"time"==g.selector?A:k["dateTimeFormat-"+r].replace(/\{(\d+)\}/g,function(m,g){return[A,d][g]}),n=[];return{regexp:B(r,F.hitch(this,H,n,k,g)),tokens:n,bundle:k}};p.parse=function(g,
k){var r=/[\u200E\u200F\u202A\u202E]/g,d=p._parseInfo(k),A=d.tokens,n=d.bundle;g=(new RegExp("^"+d.regexp.replace(r,"")+"$",d.strict?"":"i")).exec(g&&g.replace(r,""));if(!g)return null;var m=["abbr","wide","narrow"],B=[1970,0,1,0,0,0,0],q="";g=w.every(g,function(g,r){if(!r)return!0;var d=A[r-1];r=d.length;d=d.charAt(0);switch(d){case "y":if(2!=r&&k.strict)B[0]=g;else if(100>g)g=Number(g),d=""+(new Date).getFullYear(),r=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),B[0]=g<d?r+g:r-
100+g;else{if(k.strict)return!1;B[0]=g}break;case "M":case "L":if(2<r){if(r=n["months-"+("L"==d?"standAlone":"format")+"-"+m[r-3]].concat(),k.strict||(g=g.replace(".","").toLowerCase(),r=w.map(r,function(m){return m.replace(".","").toLowerCase()})),g=w.indexOf(r,g),-1==g)return!1}else g--;B[1]=g;break;case "E":case "e":case "c":r=n["days-"+("c"==d?"standAlone":"format")+"-"+m[r-3]].concat();k.strict||(g=g.toLowerCase(),r=w.map(r,function(m){return m.toLowerCase()}));g=w.indexOf(r,g);if(-1==g)return!1;
break;case "D":B[1]=0;case "d":B[2]=g;break;case "a":r=k.am||n["dayPeriods-format-wide-am"];d=k.pm||n["dayPeriods-format-wide-pm"];if(!k.strict){var p=/\./g;g=g.replace(p,"").toLowerCase();r=r.replace(p,"").toLowerCase();d=d.replace(p,"").toLowerCase()}if(k.strict&&g!=r&&g!=d)return!1;q=g==d?"p":g==r?"a":"";break;case "K":24==g&&(g=0);case "h":case "H":case "k":if(23<g)return!1;B[3]=g;break;case "m":B[4]=g;break;case "s":B[5]=g;break;case "S":B[6]=g}return!0});r=+B[3];"p"===q&&12>r?B[3]=r+12:"a"===
q&&12==r&&(B[3]=0);r=new Date(B[0],B[1],B[2],B[3],B[4],B[5],B[6]);k.strict&&r.setFullYear(B[0]);var v=A.join(""),d=-1!=v.indexOf("d"),v=-1!=v.indexOf("M");if(!g||v&&r.getMonth()>B[1]||d&&r.getDate()>B[2])return null;if(v&&r.getMonth()<B[1]||d&&r.getDate()<B[2])r=C.add(r,"hour",1);return r};var k=["abbr","wide","narrow"],r=[],g={};p.addCustomFormats=function(k,d){r.push({pkg:k,name:d});g={}};p._getGregorianBundle=function(k){if(g[k])return g[k];var d={};w.forEach(r,function(g){g=v.getLocalization(g.pkg,
g.name,k);d=F.mixin(d,g)},this);return g[k]=d};p.addCustomFormats(G.id.replace(/\/date\/locale$/,".cldr"),"gregorian");p.getNames=function(g,k,r,d){var A;d=p._getGregorianBundle(d);g=[g,r,k];"standAlone"==r&&(r=g.join("-"),A=d[r],1==A[0]&&(A=void 0));g[1]="format";return(A||d[g.join("-")]).concat()};p.isWeekend=function(g,k){k=q.getWeekend(k);g=(g||new Date).getDay();k.end<k.start&&(k.end+=7,g<k.start&&(g+=7));return g>=k.start&&g<=k.end};p._getDayOfYear=function(g){return C.difference(new Date(g.getFullYear(),
0,1,g.getHours()),g)+1};p._getWeekOfYear=function(g,k){1==arguments.length&&(k=0);var r=(new Date(g.getFullYear(),0,1)).getDay(),d=(r-k+7)%7,d=Math.floor((p._getDayOfYear(g)+d-1)/7);r==k&&d++;return d};return p})},"dojo/date":function(){define(["./has","./_base/lang"],function(F,w){var C={getDaysInMonth:function(q){var v=q.getMonth();return 1==v&&C.isLeapYear(q)?29:[31,28,31,30,31,30,31,31,30,31,30,31][v]},isLeapYear:function(q){q=q.getFullYear();return!(q%400)||!(q%4)&&!!(q%100)},getTimezoneName:function(q){var v=
q.toString(),d="",n=v.indexOf("(");if(-1<n)d=v.substring(++n,v.indexOf(")"));else if(n=/([A-Z\/]+) \d{4}$/,v=v.match(n))d=v[1];else if(v=q.toLocaleString(),n=/ ([A-Z\/]+)$/,v=v.match(n))d=v[1];return"AM"==d||"PM"==d?"":d},compare:function(q,v,d){q=new Date(+q);v=new Date(+(v||new Date));"date"==d?(q.setHours(0,0,0,0),v.setHours(0,0,0,0)):"time"==d&&(q.setFullYear(0,0,0),v.setFullYear(0,0,0));return q>v?1:q<v?-1:0},add:function(q,v,d){var n=new Date(+q),y=!1,G="Date";switch(v){case "day":break;case "weekday":var D;
(v=d%5)?D=parseInt(d/5):(v=0<d?5:-5,D=0<d?(d-5)/5:(d+5)/5);var B=q.getDay(),H=0;6==B&&0<d?H=1:0==B&&0>d&&(H=-1);B+=v;if(0==B||6==B)H=0<d?2:-2;d=7*D+v+H;break;case "year":G="FullYear";y=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":y=!0;G="Month";break;default:G="UTC"+v.charAt(0).toUpperCase()+v.substring(1)+"s"}if(G)n["set"+G](n["get"+G]()+d);y&&n.getDate()<q.getDate()&&n.setDate(0);return n},difference:function(q,v,d){v=v||new Date;d=d||"day";var n=v.getFullYear()-q.getFullYear(),
y=1;switch(d){case "quarter":q=q.getMonth();v=v.getMonth();y=Math.floor(v/3)+1+4*n-(Math.floor(q/3)+1);break;case "weekday":n=Math.round(C.difference(q,v,"day"));d=parseInt(C.difference(q,v,"week"));if(0==n%7)n=5*d;else{var y=0,G=q.getDay(),D=v.getDay();d=parseInt(n/7);v=n%7;q=new Date(q);q.setDate(q.getDate()+7*d);q=q.getDay();if(0<n)switch(!0){case 6==G:y=-1;break;case 0==G:y=0;break;case 6==D:y=-1;break;case 0==D:y=-2;break;case 5<q+v:y=-2}else if(0>n)switch(!0){case 6==G:y=0;break;case 0==G:y=
1;break;case 6==D:y=2;break;case 0==D:y=1;break;case 0>q+v:y=2}n=n+y-2*d}y=n;break;case "year":y=n;break;case "month":y=v.getMonth()-q.getMonth()+12*n;break;case "week":y=parseInt(C.difference(q,v,"day")/7);break;case "day":y/=24;case "hour":y/=60;case "minute":y/=60;case "second":y/=1E3;case "millisecond":y*=v.getTime()-q.getTime()}return Math.round(y)}};w.mixin(w.getObject("dojo.date",!0),C);return C})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(F,w){var C={};
F.setObject("dojo.cldr.supplemental",C);C.getFirstDayOfWeek=function(q){q={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[C._region(q)];return void 0===q?
1:q};C._region=function(q){q=w.normalizeLocale(q);q=q.split("-");var v=q[1];v?4==v.length&&(v=q[2]):v={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",
ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",
no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",
ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",
ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",
kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",
pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",
twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[q[0]];return v};C.getWeekend=function(q){var v=C._region(q);q={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[v];v={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[v];void 0===q&&(q=6);void 0===v&&(v=0);return{start:q,end:v}};
return C})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(F,w){var C={};w.setObject("dojo.regexp",C);C.escapeString=function(q,v){return q.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(d){return v&&-1!=v.indexOf(d)?d:"\\"+d})};C.buildGroupRE=function(q,v,d){if(!(q instanceof Array))return v(q);for(var n=[],y=0;y<q.length;y++)n.push(v(q[y]));return C.group(n.join("|"),d)};C.group=function(q,v){return"("+(v?"?:":"")+q+")"};return C})},"dojo/string":function(){define(["./_base/kernel",
"./_base/lang"],function(F,w){var C=/[&<>'"\/]/g,q={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},v={};w.setObject("dojo.string",v);v.escape=function(d){return d?d.replace(C,function(d){return q[d]}):""};v.rep=function(d,n){if(0>=n||!d)return"";for(var q=[];;){n&1&&q.push(d);if(!(n>>=1))break;d+=d}return q.join("")};v.pad=function(d,n,q,G){q||(q="0");d=String(d);n=v.rep(q,Math.ceil((n-d.length)/q.length));return G?d+n:n+d};v.substitute=function(d,
n,q,v){v=v||F.global;q=q?w.hitch(v,q):function(d){return d};return d.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(d,B,y){if(""==B)return"$";d=w.getObject(B,!1,n);y&&(d=w.getObject(y,!1,v).call(v,d,B));y=q(d,B);if("undefined"===typeof y)throw Error('string.substitute could not find key "'+B+'" in template');return y.toString()})};v.trim=String.prototype.trim?w.trim:function(d){d=d.replace(/^\s+/,"");for(var n=d.length-1;0<=n;n--)if(/\S/.test(d.charAt(n))){d=d.substring(0,n+1);break}return d};
return v})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(F,w,C){return C})},"esri/plugins/moment":function(){define(["require","exports","../intl/moment"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.load=function(q,v,d){C.loadMoment().then(function(n){d(n)})}})},"esri/intl/moment":function(){define("require exports ../core/tsSupport/awaiterHelper ../core/tsSupport/generatorHelper ../core/iteratorUtils ./locale @dojo/framework/shim/Promise".split(" "),
function(F,w,C,q,v,d){Object.defineProperty(w,"__esModule",{value:!0});var n=v.SetFromValues("ar ar-dz ar-kw ar-ly ar-ma ar-sa ar-tn bs ca cs da de de-at de-ch el en-au en-ca en-gb en-ie en-il en-nz es es-do es-us et fi fr fr-ca fr-ch he hi hr hu id it it-ch ja ko lt lv nb nl nl-be pl pt pt-br ro ru sl sr sr-cyrl sv th tr uk vi zh-cn zh-hk zh-tw".split(" "));w.loadMoment=function(v){void 0===v&&(v=d.getLocale());return C(this,void 0,void 0,function(){var d,y,B;return q(this,function(q){switch(q.label){case 0:return[4,
new Promise(function(d,k){F(["moment/moment"],d,k)})];case 1:return d=q.sent(),y=n.has(v),y||(B=v.split("-"),1<B.length&&n.has(B[0])&&(v=B[0],y=!0)),y?[4,new Promise(function(d,k){F(["moment/locale/"+v],d,k)})]:[3,3];case 2:return q.sent(),[3,4];case 3:v="en",q.label=4;case 4:return v!==d.locale()&&d.locale(v),[2,d]}})})}})},"esri/widgets/FeatureForm/FeatureFormViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/ReentrantObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ../../support/arcadeOnDemand ./FieldConfig ./FieldGroupConfig ./InputField ./InputFieldGroup".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p,k,r,g,A,K,N){function R(g){return!!g.fieldConfig}return function(J){function y(m){m=J.call(this)||this;m._arcade=null;m._fieldPool=new B.ReentrantObjectPool(K);m._fieldGroupPool=new B.ReentrantObjectPool(N);m._featureClone=null;m._needsArcade=!1;m.fieldConfig=null;m.strict=!1;return m}C(y,J);y.prototype.initialize=function(){var m=this,g=H.init(this,"fieldConfig",function(k){return d(m,void 0,void 0,function(){var m,d,p,A,n;return v(this,function(B){switch(B.label){case 0:return m=
[],k&&k.forEach(function(g){g.visibilityExpression&&m.push(g.visibilityExpression);g.fieldConfig&&g.fieldConfig.forEach(function(g){(g=g.visibilityExpression)&&m.push(g)})}),(d=0<m.length)?[4,r.loadArcade()]:[3,4];case 1:return p=B.sent(),A=p.arcadeUtils,(n=m.some(function(m){return A.hasGeometryOperations(m)}))?[4,A.enableGeometryOperations()]:[3,3];case 2:B.sent(),g.remove(),B.label=3;case 3:this._arcade=p,this.notifyChange("inputFields"),B.label=4;case 4:return this._needsArcade=d,[2]}})})});this.handles.add(g)};
y.prototype.destroy=function(){this.layer=this.feature=this.fieldConfig=null;this._fieldPool.destroy();this._fieldGroupPool.destroy()};Object.defineProperty(y.prototype,"_allInputFields",{get:function(){return this.inputFields.reduce(function(m,g){return g.inputFields?m.concat(g.inputFields):m.concat([g])},[])},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,"_inputFieldCache",{get:function(){var m=this,g=this._get("_inputFieldCache")||new Map;g.forEach(function(g){return m._disposeInputOrGroup(g)});
g.clear();(this.get("layer.fields")||[]).forEach(function(k){return g.set(k,m._fieldPool.acquire())});return g},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,"_inputFieldGroupCache",{get:function(){var m=this,g=this._get("_inputFieldGroupCache")||new Map;g.forEach(function(g){return m._disposeInputOrGroup(g)});g.clear();(this.fieldConfig||[]).filter(R).forEach(function(k){return g.set(k,m._fieldGroupPool.acquire())});return g},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,
"feature",{get:function(){return this._get("feature")},set:function(m){this._featureClone=m?m.clone():null;this._set("feature",m)},enumerable:!0,configurable:!0});y.prototype.castFieldConfig=function(m){return m?m.map(function(m){return m instanceof g||m instanceof A?m:m.fieldConfig?new A(m):new g(m)}):null};Object.defineProperty(y.prototype,"inputFields",{get:function(){var m=this,g=this._arcade,k=this._inputFieldCache,r=this._inputFieldGroupCache,d=this._featureClone,p=this._needsArcade,A=this.layer,
B=this.state,q=d&&d.clone();if("ready"!==B||p&&!g)return[];var v=this.get("layer.fields")||[],d=this.fieldConfig||[];return(0!==d.length?d.map(function(d){if(d.fieldConfig){var p=r.get(d),B=d.fieldConfig.map(function(e){var t=n.find(v,function(a){return a.name===e.name}),b=k.get(t);b.set({arcade:g,field:t,config:e,feature:q,group:p,layer:A,value:m.getValue(t.name)});return b}).filter(function(e){return e.visible});p.set({arcade:g,config:d,feature:q,inputFields:B});return p}var B=n.find(v,function(e){return e.name===
d.name}),e=k.get(B);e.set({arcade:g,field:B,config:d,feature:q,group:null,layer:A,value:m.getValue(B.name)});return e}):v.map(function(r){var d=k.get(r);d.set({arcade:g,config:null,field:r,feature:q,group:null,layer:A,value:m.getValue(r.name)});return d})).filter(function(m){return m.visible})},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,"layer",{get:function(){return this.get("feature.layer")},set:function(m){m?this._override("layer",m):this._clearOverride("layer")},enumerable:!0,
configurable:!0});Object.defineProperty(y.prototype,"state",{get:function(){return this.get("layer.loaded")&&this.feature?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(y.prototype,"valid",{get:function(){var m=this._allInputFields;return 0<m.length&&m.every(function(m){return m.valid})},enumerable:!0,configurable:!0});y.prototype.findField=function(m){return n.find(this._allInputFields,function(g){return g.name===m})};y.prototype.getValue=function(m){var g=this._featureClone;
return g&&g.get("attributes."+m)};y.prototype.setValue=function(m,g){var k=this,r=this._featureClone,d=this.strict;if(r&&r.attributes){var p=this.findField(m);if(p&&r.attributes[m]!==g){p.value=g;if(this.get("layer.typeIdField")===p.name){var A=new Set;this.layer.types.forEach(function(g){return Object.keys(g.domains).forEach(function(g){return A.add(g)})});A.forEach(function(g){(g=k.findField(g))&&g.notifyChange("domain")})}if(!d||p.valid)r.attributes[m]=g,this.notifyChange("inputFields"),this._emitChangeEvent(p)}}};
y.prototype.getValues=function(){var g=this._featureClone;return g&&D.clone(g.attributes)||null};y.prototype.submit=function(){var g=this._allInputFields,k=g.filter(function(g){return g.valid}).map(function(g){return g.name}),g=g.filter(function(g){return!g.valid}).map(function(g){return g.name}),r=this.getValues();this.emit("submit",{valid:k,invalid:g,values:r})};y.prototype._disposeInputOrGroup=function(g){g.inputFields?this._disposeGroup(g):this._disposeInput(g)};y.prototype._disposeGroup=function(g){var m=
this;g.inputFields.forEach(function(g){return m._disposeInput(g)});this._fieldGroupPool.release(g)};y.prototype._disposeInput=function(g){this._fieldPool.release(g)};y.prototype._emitChangeEvent=function(g){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:g.name,value:g.value,valid:g.valid})};q([p.property({readOnly:!0,dependsOn:["inputFields"]})],y.prototype,"_allInputFields",null);q([p.property({dependsOn:["layer.fields"],readOnly:!0})],y.prototype,"_inputFieldCache",null);
q([p.property({dependsOn:["fieldConfig"],readOnly:!0})],y.prototype,"_inputFieldGroupCache",null);q([p.property()],y.prototype,"feature",null);q([p.property()],y.prototype,"fieldConfig",void 0);q([k.cast("fieldConfig")],y.prototype,"castFieldConfig",null);q([p.property({readOnly:!0,dependsOn:["feature","fieldConfig","layer.fields","layer.loaded"]})],y.prototype,"inputFields",null);q([p.property({dependsOn:["feature.layer"]})],y.prototype,"layer",null);q([p.property({dependsOn:["layer.loaded","feature"]})],
y.prototype,"state",null);q([p.property()],y.prototype,"strict",void 0);q([p.property({dependsOn:["_allInputFields"]})],y.prototype,"valid",null);q([p.property()],y.prototype,"getValues",null);q([p.property()],y.prototype,"submit",null);return y=q([p.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],y)}(p.declared(G.HandleOwnerMixin(y.EventedAccessor)))})},"esri/widgets/FeatureForm/FieldConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./Format".split(" "),
function(F,w,C,q,v,d,n){return function(v){function y(d){d=v.call(this)||this;d.description=null;d.domain=null;d.editable=!0;d.editorType=null;d.format=null;d.hint=null;d.label=null;d.maxLength=-1;d.name=null;d.required=!1;d.visibilityExpression=null;return d}C(y,v);q([d.property()],y.prototype,"description",void 0);q([d.property()],y.prototype,"domain",void 0);q([d.property()],y.prototype,"editable",void 0);q([d.property()],y.prototype,"editorType",void 0);q([d.property({type:n})],y.prototype,"format",
void 0);q([d.property()],y.prototype,"hint",void 0);q([d.property()],y.prototype,"label",void 0);q([d.property()],y.prototype,"maxLength",void 0);q([d.property()],y.prototype,"name",void 0);q([d.property()],y.prototype,"required",void 0);q([d.property()],y.prototype,"visibilityExpression",void 0);return y=q([d.subclass("esri.widgets.FeatureForm.FieldConfig")],y)}(d.declared(v))})},"esri/widgets/FeatureForm/Format":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d,n){return function(d){function y(n){n=d.call(this)||this;n.digitSeparator=!1;n.format=null;n.places=null;return n}C(y,d);q([n.property()],y.prototype,"digitSeparator",void 0);q([n.property({json:{read:{source:"dateFormat",reader:v.fromJSON}}})],y.prototype,"format",void 0);q([n.property()],y.prototype,"places",void 0);return y=q([n.subclass("esri.widgets.FeatureForm.Format")],y)}(n.declared(d.JSONSupport))})},"esri/widgets/FeatureForm/FieldGroupConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig".split(" "),
function(F,w,C,q,v,d,n,y){return function(v){function G(d){d=v.call(this)||this;d.description=null;d.fieldConfig=null;d.label=null;d.visibilityExpression=null;return d}C(G,v);G.prototype.castFieldConfig=function(d){return d?d.map(function(d){return d.declaredClass?d:new y(d)}):null};q([d.property()],G.prototype,"description",void 0);q([d.property()],G.prototype,"fieldConfig",void 0);q([n.cast("fieldConfig")],G.prototype,"castFieldConfig",null);q([d.property()],G.prototype,"label",void 0);q([d.property()],
G.prototype,"visibilityExpression",void 0);return G=q([d.subclass("esri.widgets.FeatureForm.FieldGroupConfig")],G)}(d.declared(v))})},"esri/widgets/FeatureForm/InputField":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/i18n!./nls/FeatureForm ../../intl ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/CodedValueDomain ../../layers/support/domains ../../layers/support/fieldUtils".split(" "),function(F,
w,C,q,v,d,n,y,G,D,B){var H={type:"number"},p={type:"date",intlOptions:{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}};return function(k){function r(g){g=k.call(this)||this;g.arcade=null;g.config=null;g.feature=null;g.field=null;g.layer=null;g.description=null;g.editorType=null;g.error=null;g.format=null;g.group=null;g.hint=null;g.name=null;return g}C(r,k);Object.defineProperty(r.prototype,"compiledFunc",{get:function(){var g=this.arcade;return g&&g.arcadeUtils.createFunction(this.get("config.visibilityExpression"))},
enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"evaluatedVisibility",{get:function(){var g=this.compiledFunc;if(g){var k=this.arcade;return k.arcadeUtils.executeFunction(g,k.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"domain",{get:function(){var g=this.layer.typeIdField,k=g===this.name,r=this.get("field.domain");if(k&&!r)return new G({name:"__internal-type-based-coded-value-domain__",codedValues:this.layer.types.map(function(g){return{code:g.id,
name:g.name}})});k=this.feature;g=g&&this.layer.getFieldDomain(this.name,{feature:k})||r;r=this.get("config.domain");return this._isDomainCompatible(r)?r:g},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"editable",{get:function(){return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==this.get("config.editable")},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"errorMessage",{get:function(){return this._toErrorMessage()},enumerable:!0,
configurable:!0});Object.defineProperty(r.prototype,"label",{get:function(){return this.get("config.label")||this.field.alias||this.field.name},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"maxLength",{get:function(){if("date"===this.type)return-1;var g=this.get("field.length"),k=this.get("config.maxLength");return!isNaN(k)&&-1<=k&&(-1===g||k<=g)?k:g},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"required",{get:function(){var g=this.get("field.nullable"),
k=this.get("config.required");return this.editable&&(!g||!0===k)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"type",{get:function(){var g=this.field;return B.isNumericField(g)?"number":B.isStringField(g)?"text":B.isDateField(g)?"date":"unsupported"},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"valid",{get:function(){var g=this.editable?this._validate():null;this._set("error",g);return null===g},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,
"value",{get:function(){return this._get("value")},set:function(g){this.notifyChange("evaluatedVisibility");this._set("value",g)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"visible",{get:function(){return this._isEditorField()?!1:"boolean"===typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault()},enumerable:!0,configurable:!0});r.prototype._isDomainCompatible=function(g){var k=this.field;if(g&&"coded-value"===g.type){var r=typeof g.codedValues[0].code;
if("string"===r&&B.isStringField(k)||"number"===r&&B.isNumericField(k))return!0}return g&&"range"===g.type&&B.isNumericField(k)?!0:!1};r.prototype._validate=function(){var g=this.domain,k=this.field,r=this.value;return g?null!==r||this.required?D.validateDomainValue(g,r):null:B.validateFieldValue(k,r)};r.prototype._shownByDefault=function(){var g=this.get("field.type");return"oid"!==g&&"global-id"!==g&&!this._isGeometryField()};r.prototype._isEditorField=function(){return-1<B.getFeatureEditFields(this.layer).indexOf(this.name)};
r.prototype._isGeometryField=function(){return-1<B.getFeatureGeometryFields(this.layer).indexOf(this.name)};r.prototype._toErrorMessage=function(){var g=this.domain,k=this.field,r=this.value,n=this.type,q=this.error;return this.required&&null===r?v.validationErrors.cannotBeNull:q===D.DomainValidationError.VALUE_OUT_OF_RANGE||q===B.NumericRangeValidationError.OUT_OF_RANGE?(g=D.getDomainRange(g)||B.getFieldRange(k),d.substitute(v.validationErrors.outsideRange,{min:g.min,max:g.max},{format:{max:"date"===
n?p:H,min:"date"===n?p:H}})):q===D.DomainValidationError.INVALID_CODED_VALUE?v.validationErrors.invalidCodedValue:q===B.TypeValidationError.INVALID_TYPE?v.validationErrors.invalidType:null};q([y.property()],r.prototype,"arcade",void 0);q([y.property({dependsOn:["arcade","config.visibilityExpression"]})],r.prototype,"compiledFunc",null);q([y.property({dependsOn:["compiledFunc","feature"]})],r.prototype,"evaluatedVisibility",null);q([y.property()],r.prototype,"config",void 0);q([y.property()],r.prototype,
"feature",void 0);q([y.property()],r.prototype,"field",void 0);q([y.property()],r.prototype,"layer",void 0);q([y.property({aliasOf:"config.description"})],r.prototype,"description",void 0);q([y.property({dependsOn:["config","feature","field","layer"]})],r.prototype,"domain",null);q([y.property({dependsOn:["config","field","layer"]})],r.prototype,"editable",null);q([y.property({aliasOf:"config.editorType"})],r.prototype,"editorType",void 0);q([y.property({readOnly:!0})],r.prototype,"error",void 0);
q([y.property({dependsOn:["error","value"]})],r.prototype,"errorMessage",null);q([y.property({aliasOf:"config.format"})],r.prototype,"format",void 0);q([y.property()],r.prototype,"group",void 0);q([y.property({aliasOf:"config.hint"})],r.prototype,"hint",void 0);q([y.property({dependsOn:["field","config"]})],r.prototype,"label",null);q([y.property({dependsOn:["field.length","config"]})],r.prototype,"maxLength",null);q([y.property({aliasOf:"field.name"})],r.prototype,"name",void 0);q([y.property({dependsOn:["field",
"config"]})],r.prototype,"required",null);q([y.property({dependsOn:["field"]})],r.prototype,"type",null);q([y.property({dependsOn:["config","domain","field","layer","value"]})],r.prototype,"valid",null);q([y.property({value:null})],r.prototype,"value",null);q([y.property({dependsOn:["config","evaluatedVisibility","field","layer"]})],r.prototype,"visible",null);return r=q([y.subclass("esri.widgets.FeatureForm.InputField")],r)}(y.declared(n))})},"esri/widgets/FeatureForm/InputFieldGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d,n){return function(d){function v(n){n=d.call(this)||this;n.arcade=null;n.config=null;n.description=null;n.feature=null;n.label=null;n.visibilityExpression=null;return n}C(v,d);Object.defineProperty(v.prototype,"compiledFunc",{get:function(){var d=this.arcade;return d&&d.arcadeUtils.createFunction(this.visibilityExpression)},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"evaluatedVisibility",{get:function(){var d=this.compiledFunc;if(d){var n=this.arcade;return n.arcadeUtils.executeFunction(d,
n.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"inputFields",{get:function(){return this._get("inputFields")},set:function(d){var n=this;this.handles.removeAll();d&&this.handles.add(d.map(function(d){return d.watch("visible",n._dirtyEvaluatedVisibility)}));this._set("inputFields",d)},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"visible",{get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some(function(d){return d.visible})},
enumerable:!0,configurable:!0});v.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")};q([n.property()],v.prototype,"arcade",void 0);q([n.property({dependsOn:["arcade","visibilityExpression"]})],v.prototype,"compiledFunc",null);q([n.property()],v.prototype,"config",void 0);q([n.property({dependsOn:["compiledFunc","feature"]})],v.prototype,"evaluatedVisibility",null);q([n.property({aliasOf:"config.description"})],v.prototype,"description",
void 0);q([n.property()],v.prototype,"feature",void 0);q([n.property()],v.prototype,"inputFields",null);q([n.property({aliasOf:"config.label"})],v.prototype,"label",void 0);q([n.property({aliasOf:"config.visibilityExpression"})],v.prototype,"visibilityExpression",void 0);q([n.property({dependsOn:["evaluatedVisibility","inputFields"]})],v.prototype,"visible",null);return v=q([n.subclass("esri.widgets.FeatureForm.InputFieldGroup")],v)}(n.declared(d.HandleOwnerMixin(v)))})},"esri/widgets/FeatureTemplates":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper @dojo/framework/shim/IntersectionObserver dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./FeatureTemplates/FeatureTemplatesViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p,k){function r(g){return g.items?g.uid:g.layer.id}return function(g){function A(k){k=g.call(this)||this;k._iconIntersectionObserver=new d.default(function(g,k){g.forEach(function(g){if(g.isIntersecting){var r=g.target;if(!r["data-has-icon"]){r["data-has-icon"]=!0;var m=r["data-item"];m.fetchThumbnail().then(function(){m.thumbnail&&r.appendChild(m.thumbnail)})}k.unobserve(r)}})});k.filterEnabled=!0;k.filterFunction=null;k.filterText="";k.groupBy=null;k.layers=null;
k.viewModel=new H;k.renderItemIcon=k.renderItemIcon.bind(k);k._afterItemCreateOrUpdate=k._afterItemCreateOrUpdate.bind(k);k._afterItemRemoved=k._afterItemRemoved.bind(k);return k}q(A,g);A.prototype.postInitialize=function(){var g=this,k=function(k){k=k.label;return!g.filterText||-1<k.toLowerCase().indexOf(g.filterText.toLowerCase())};this.own(G.init(this,"viewModel",function(r,d){r&&!r.filterFunction&&(g.filterFunction=k);d&&d!==r&&d.filterFunction===k&&(d.filterFunction=null)}))};A.prototype.destroy=
function(){this._iconIntersectionObserver&&(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)};A.prototype.render=function(){var g=this,d=this.filterText,A=this.filterEnabled,B=this.viewModel,q=B.items,B=B.state;return k.tsx("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":n.widgetLabel},"loading"===B?this.renderLoader():"ready"===B?p.ItemList({id:this.id,identify:r,filterText:d,items:q,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,
noMatches:n.noMatches},filterEnabled:A,onItemSelect:function(m){g.viewModel.select(m)},onFilterChange:function(m){g.filterText=m;g.viewModel.refresh()},renderIcon:this.renderItemIcon}):null)};A.prototype.renderItemIcon=function(g){return k.tsx("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":g.item,"data-has-icon":!1})};A.prototype.renderLoader=function(){return k.tsx("div",
{class:"esri-feature-templates__loader",key:"loader"})};A.prototype._afterItemCreateOrUpdate=function(g){this._iconIntersectionObserver.observe(g)};A.prototype._afterItemRemoved=function(g){this._iconIntersectionObserver.unobserve(g)};v([D.property(),k.renderable()],A.prototype,"filterEnabled",void 0);v([D.aliasOf("viewModel.filterFunction")],A.prototype,"filterFunction",void 0);v([D.property(),k.renderable()],A.prototype,"filterText",void 0);v([D.aliasOf("viewModel.groupBy")],A.prototype,"groupBy",
void 0);v([D.aliasOf("viewModel.layers")],A.prototype,"layers",void 0);v([D.property(),k.renderable(["viewModel.items","viewModel.state"]),k.vmEvent("select")],A.prototype,"viewModel",void 0);return A=v([D.subclass("esri.widgets.FeatureTemplates")],A)}(D.declared(y.HandleOwnerMixin(B)))})},"@dojo/framework/shim/IntersectionObserver":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&
define(["require","exports","./global","intersection-observer"],F)})(function(F,w){Object.defineProperty(w,"__esModule",{value:!0});var C=F("./global");"!has('build-elide')";F("intersection-observer");w.default=C.default.IntersectionObserver})},"intersection-observer/intersection-observer":function(){define(["dojo","dijit","dojox"],function(F,w,C){(function(q,v){function d(g){this.time=g.time;this.target=g.target;this.rootBounds=g.rootBounds;this.boundingClientRect=g.boundingClientRect;this.intersectionRect=
g.intersectionRect||H();this.isIntersecting=!!g.intersectionRect;g=this.boundingClientRect;g=g.width*g.height;var k=this.intersectionRect,k=k.width*k.height;this.intersectionRatio=g?Number((k/g).toFixed(4)):this.isIntersecting?1:0}function n(g,k){k=k||{};if("function"!=typeof g)throw Error("callback must be a function");if(k.root&&1!=k.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=y(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=g;this._observationTargets=
[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(k.rootMargin);this.thresholds=this._initThresholds(k.threshold);this.root=k.root||null;this.rootMargin=this._rootMarginValues.map(function(g){return g.value+g.unit}).join(" ")}function y(g,k){var r=null;return function(){r||(r=setTimeout(function(){g();r=null},k))}}function G(g,k,r,d){"function"==typeof g.addEventListener?g.addEventListener(k,r,d||!1):"function"==typeof g.attachEvent&&g.attachEvent("on"+k,r)}function C(g,k,r,d){"function"==
typeof g.removeEventListener?g.removeEventListener(k,r,d||!1):"function"==typeof g.detatchEvent&&g.detatchEvent("on"+k,r)}function B(g){var k;try{k=g.getBoundingClientRect()}catch(K){}if(!k)return H();k.width&&k.height||(k={top:k.top,right:k.right,bottom:k.bottom,left:k.left,width:k.right-k.left,height:k.bottom-k.top});return k}function H(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function p(g,r){for(;r;){if(r==g)return!0;r=k(r)}return!1}function k(g){return(g=g.parentNode)&&11==g.nodeType&&
g.host?g.host:g}if("IntersectionObserver"in q&&"IntersectionObserverEntry"in q&&"intersectionRatio"in q.IntersectionObserverEntry.prototype)"isIntersecting"in q.IntersectionObserverEntry.prototype||Object.defineProperty(q.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var r=[];n.prototype.THROTTLE_TIMEOUT=100;n.prototype.POLL_INTERVAL=null;n.prototype.USE_MUTATION_OBSERVER=!0;n.prototype.observe=function(g){if(!this._observationTargets.some(function(k){return k.element==
g})){if(!g||1!=g.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:g,entry:null});this._monitorIntersections();this._checkForIntersections()}};n.prototype.unobserve=function(g){this._observationTargets=this._observationTargets.filter(function(k){return k.element!=g});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};n.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();
this._unregisterInstance()};n.prototype.takeRecords=function(){var g=this._queuedEntries.slice();this._queuedEntries=[];return g};n.prototype._initThresholds=function(g){g=g||[0];Array.isArray(g)||(g=[g]);return g.sort().filter(function(g,k,r){if("number"!=typeof g||isNaN(g)||0>g||1<g)throw Error("threshold must be a number between 0 and 1 inclusively");return g!==r[k-1]})};n.prototype._parseRootMargin=function(g){g=(g||"0px").split(/\s+/).map(function(g){g=/^(-?\d*\.?\d+)(px|%)$/.exec(g);if(!g)throw Error("rootMargin must be specified in pixels or percent");
return{value:parseFloat(g[1]),unit:g[2]}});g[1]=g[1]||g[0];g[2]=g[2]||g[0];g[3]=g[3]||g[1];return g};n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(G(q,"resize",this._checkForIntersections,!0),G(v,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in q&&(this._domObserver=new MutationObserver(this._checkForIntersections),
this._domObserver.observe(v,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,C(q,"resize",this._checkForIntersections,!0),C(v,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};n.prototype._checkForIntersections=function(){var g=this._rootIsInDom(),
k=g?this._getRootRect():H();this._observationTargets.forEach(function(r){var p=r.element,n=B(p),A=this._rootContainsTarget(p),v=r.entry,m=g&&A&&this._computeTargetAndRootIntersection(p,k);r=r.entry=new d({time:q.performance&&performance.now&&performance.now(),target:p,boundingClientRect:n,rootBounds:k,intersectionRect:m});v?g&&A?this._hasCrossedThreshold(v,r)&&this._queuedEntries.push(r):v&&v.isIntersecting&&this._queuedEntries.push(r):this._queuedEntries.push(r)},this);this._queuedEntries.length&&
this._callback(this.takeRecords(),this)};n.prototype._computeTargetAndRootIntersection=function(g,r){if("none"!=q.getComputedStyle(g).display){var d=B(g);g=k(g);for(var p=!1;!p;){var n=null,A=1==g.nodeType?q.getComputedStyle(g):{};if("none"==A.display)return;g==this.root||g==v?(p=!0,n=r):g!=v.body&&g!=v.documentElement&&"visible"!=A.overflow&&(n=B(g));if(n){var A=Math.max(n.top,d.top),y=Math.min(n.bottom,d.bottom),m=Math.max(n.left,d.left),d=Math.min(n.right,d.right),n=d-m,I=y-A,d=0<=n&&0<=I&&{top:A,
bottom:y,left:m,right:d,width:n,height:I};if(!d)break}g=k(g)}return d}};n.prototype._getRootRect=function(){var g;if(this.root)g=B(this.root);else{g=v.documentElement;var k=v.body;g={top:0,left:0,right:g.clientWidth||k.clientWidth,width:g.clientWidth||k.clientWidth,bottom:g.clientHeight||k.clientHeight,height:g.clientHeight||k.clientHeight}}return this._expandRectByRootMargin(g)};n.prototype._expandRectByRootMargin=function(g){var k=this._rootMarginValues.map(function(k,r){return"px"==k.unit?k.value:
k.value*(r%2?g.width:g.height)/100}),k={top:g.top-k[0],right:g.right+k[1],bottom:g.bottom+k[2],left:g.left-k[3]};k.width=k.right-k.left;k.height=k.bottom-k.top;return k};n.prototype._hasCrossedThreshold=function(g,k){g=g&&g.isIntersecting?g.intersectionRatio||0:-1;k=k.isIntersecting?k.intersectionRatio||0:-1;if(g!==k)for(var r=0;r<this.thresholds.length;r++){var d=this.thresholds[r];if(d==g||d==k||d<g!==d<k)return!0}};n.prototype._rootIsInDom=function(){return!this.root||p(v,this.root)};n.prototype._rootContainsTarget=
function(g){return p(this.root||v,g)};n.prototype._registerInstance=function(){0>r.indexOf(this)&&r.push(this)};n.prototype._unregisterInstance=function(){var g=r.indexOf(this);-1!=g&&r.splice(g,1)};q.IntersectionObserver=n;q.IntersectionObserverEntry=d}})(window,document)})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./has!host-browser?./_base/browser require".split(" "),
function(F,w,C,q,v,d,n,y){n.isDebug&&C(["./_firebug/firebug"]);return F})},"dijit/main":function(){define(["dojo/_base/kernel"],function(F){return F.dijit})},"dojox/main":function(){define(["dojo/_base/kernel"],function(F){return F.dojox})},"esri/widgets/FeatureTemplates/FeatureTemplatesViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/HandleOwner ../../core/ObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ./TemplateItem ./TemplateItemGroup".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B){var H=function(k){k=k.layer;return{key:k,label:k.title}},p=function(k){return k.layer.geometryType};return function(k){function r(g){g=k.call(this)||this;g._templateToLayer=new Map;g._itemPool=new n(D);g._groupPool=new n(B);g.filterFunction=null;g.groupBy="layer";return g}C(r,k);r.prototype.destroy=function(){this._templateToLayer.clear();this._templateToLayer=null};Object.defineProperty(r.prototype,"layers",{get:function(){return this._get("layers")},set:function(g){var k=
this;this.handles.removeAll();if(g){var r=function(){return k.notifyChange("state")};this.handles.add(g.map(function(g){return y.when(g,"loadStatus",r)}))}this._set("layers",g)},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"state",{get:function(){var g=this.layers;return g&&0!==g.length?g.some(function(g){return"loading"===g.loadStatus||"not-loaded"===g.loadStatus})?"loading":"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"items",{get:function(){var g=
this,k=this.layers;this._destroyItems(this._get("items"));if(!k||0===k.length)return[];this._templateToLayer.clear();var k=k.filter(function(g){var k=g.capabilities;return g.loaded&&k.operations.supportsEditing&&k.operations.supportsAdd}).map(function(k){var r=g._getTemplatesForLayer(k);if(0<r.length)return r.forEach(function(m){return g._templateToLayer.set(m,k)}),r}).filter(function(g){return null!=g}),r=this.groupBy;if("none"===r)return k.map(function(k){return k.filter(function(k){k=k.name;return!g.filterFunction||
g.filterFunction({label:k})})}).map(function(k){return k.map(function(k){return g._createItem(k)})}).reduce(function(g,k){return g.concat(k)},[]);k=k.reduce(function(k,d){d.forEach(function(m){var d=("layer"===r?H:"geometry"===r?p:r)({template:m,layer:g._templateToLayer.get(m)});if(d){var n="string"===typeof d?d:d.key,d="string"===typeof d?d:d.label;k.has(n)||k.set(n,{label:d,templates:[]});k.get(n).templates.push(m)}});return k},new Map);if(0===k.size)return[];var d=[],n=this.filterFunction;k.forEach(function(k){var r=
k.label,m=k.templates;!n||g.filterFunction(k)?d.push(g._createGroup(r,m.map(function(k){return g._createItem(k)}))):(k=m.filter(function(k){return g.filterFunction({label:k.name})}).map(function(k){return g._createItem(k)}),0<k.length&&d.push(g._createGroup(r,k)))});return d},enumerable:!0,configurable:!0});r.prototype.refresh=function(){this.notifyChange("items")};r.prototype.select=function(g){g=g.clone();this.emit("select",{item:g,template:g.template})};r.prototype._getTemplatesForLayer=function(g){var k=
g.templates||[];g=(g.types||[]).map(function(g){return g.templates}).reduce(function(g,k){return g.concat(k)},[]);return k.concat(g)};r.prototype._createItem=function(g){var k=this._itemPool.acquire();k.set({template:g,layer:this._templateToLayer.get(g)});return k};r.prototype._createGroup=function(g,k){var r=this._groupPool.acquire();r.set("label",g);r.items=k;return r};r.prototype._destroyItems=function(g){var k=this;g&&(g[0]instanceof D?g.forEach(function(g){return k._destroyItem(g)}):g.forEach(function(g){return k._destroyGroup(g)}))};
r.prototype._destroyGroup=function(g){var k=this;g.items.forEach(function(g){return k._itemPool.release(g)});g.items.length=0;this._groupPool.release(g)};r.prototype._destroyItem=function(g){this._itemPool.release(g)};q([G.property()],r.prototype,"filterFunction",void 0);q([G.property()],r.prototype,"groupBy",void 0);q([G.property()],r.prototype,"layers",null);q([G.property({dependsOn:["layers"]})],r.prototype,"state",null);q([G.property({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],
r.prototype,"items",null);return r=q([G.subclass("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],r)}(G.declared(d.HandleOwnerMixin(v.EventedAccessor)))})},"esri/widgets/FeatureTemplates/TemplateItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../symbols/support/symbolUtils".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p){return function(k){function r(g){g=k.call(this)||this;g.description=null;g.label=null;g.layer=null;g.template=null;g.thumbnail=null;return g}C(r,k);g=r;r.prototype.initialize=function(){var g=this;this.handles.add(B.init(this,["layer.renderer","template"],function(){return g._set("thumbnail",null)}))};r.prototype.clone=function(){var k=this.thumbnail?this.thumbnail.cloneNode(!0):null,r=new g({layer:this.layer,template:this.template});r._set("thumbnail",k);return r};
r.prototype.fetchThumbnail=function(){return d(this,void 0,void 0,function(){var g,k;return v(this,function(r){switch(r.label){case 0:return this._get("thumbnail")?[2,D.resolve()]:[4,this._getPreviewSymbol()];case 1:return g=r.sent(),[4,p.renderPreviewHTML(g,{maxSize:36})];case 2:return k=r.sent(),this._set("thumbnail",k),[2]}})})};r.prototype._getPreviewSymbol=function(){return d(this,void 0,void 0,function(){var g,k,r,d,p,B;return v(this,function(m){switch(m.label){case 0:g=this;k=g.layer;r=g.template;
d=g.layer.renderer;if(!d)return[3,2];p=new n({attributes:r.prototype.attributes});return[4,d.getSymbolAsync(p)];case 1:if(B=m.sent())return[2,B];m.label=2;case 2:return[2,this._getFallbackSymbolFromGeometry(k)]}})})};r.prototype._getFallbackSymbolFromGeometry=function(g){g=g.geometryType;if("point"===g||"multipoint"===g)return D.create(function(g){return F(["../../symbols/SimpleMarkerSymbol"],g)}).then(function(g){return new g});if("polyline"===g)return D.create(function(g){return F(["../../symbols/SimpleLineSymbol"],
g)}).then(function(g){return new g});if("polygon"===g||"mesh"===g||"multipatch"===g)return D.create(function(g){return F(["../../symbols/SimpleFillSymbol"],g)}).then(function(g){return new g})};var g;q([H.property({aliasOf:"template.description"})],r.prototype,"description",void 0);q([H.property({aliasOf:"template.name"})],r.prototype,"label",void 0);q([H.property()],r.prototype,"layer",void 0);q([H.property()],r.prototype,"template",void 0);q([H.property({readOnly:!0})],r.prototype,"thumbnail",void 0);
return r=g=q([H.subclass("esri.widgets.FeatureTemplates.TemplateItem")],r)}(H.declared(G.HandleOwnerMixin(y)))})},"esri/symbols/support/symbolUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/compilerUtils ../../core/maybe ../../core/promiseUtils ./previewSymbol2D ./previewSymbol3D ./previewWebStyleSymbol ./utils".split(" "),function(F,w,C,q,v,d,n,y,G,D,B){function H(k,g){switch(k.type){case "web-style":return D.previewWebStyleSymbol(k,
H,g);case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return G.previewSymbol3D(k,g);case "simple-marker":case "simple-line":case "simple-fill":case "picture-marker":case "picture-fill":case "text":case "cim":return y.previewSymbol2D(k,g);default:v.neverReached(k)}}function p(k){return k&&"opacity"in k?k.opacity*p(k.parent):1}Object.defineProperty(w,"__esModule",{value:!0});var k=null;w.renderDotDensityPreviewHTML=function(r,g,d){var p=r.backgroundColor,n=r.outline;r=
r.dotSize;var B=d&&d.swatchSize||22,q=Math.round(B*B/Math.pow(r,2)*.8),v=window.devicePixelRatio;d=document.createElement("canvas");var m=B*v;d.width=m;d.height=m;d.style.width=d.width/v+"px";d.style.height=d.height/v+"px";var A=d.getContext("2d");p&&(A.fillStyle=p.toCss(!0),A.fillRect(0,0,m,m),A.fill());A.fillStyle=g.toCss(!0);if(k&&k.length/2===q)for(g=0;g<2*q;g+=2){var p=k[g],y=k[g+1];A.fillRect(p,y,r*v,r*v);A.fill()}else for(k=[],g=0;g<2*q;g+=2)p=Math.floor(Math.random()*(m-0+1)+0),y=Math.floor(Math.random()*
(m-0+1)+0),k.push(p,y),A.fillRect(p,y,r*v,r*v),A.fill();n&&(n.color&&(A.strokeStyle=n.color.toCss(!0)),A.lineWidth=n.width,A.strokeRect(0,0,m,m));n=new Image(B,B);n.src=d.toDataURL();return n};w.renderColorRampPreviewHTML=function(k,g){var r=g&&"horizontal"===g.align,d=g&&g.width||(r?75:24);g=g&&g.height||(r?24:75);var p=window.devicePixelRatio,n=d*p,B=g*p,p=document.createElement("canvas");p.width=n;p.height=B;p.style.width=d+"px";p.style.height=g+"px";var q=p.getContext("2d"),m=q.createLinearGradient(0,
0,r?n:0,r?0:B),v=1/(k.length-1);k.forEach(function(g,k){return m.addColorStop(k*v,g.toString())});q.fillStyle=m;q.fillRect(0,0,n,B);k=document.createElement("div");k.style.width=d+"px";k.style.height=g+"px";k.appendChild(p);return k};w.renderPreviewHTML=H;w.getDisplayedSymbol=function(k,g){return q(this,void 0,void 0,function(){var r,q,v,y,J,H,m,I,L,G,w,D,M,W,ba,U;return C(this,function(A){switch(A.label){case 0:if(!k)return[2,void 0];r=p(k.layer||k.sourceLayer);if(d.isSome(k.symbol))return q=k.symbol.clone(),
B.applyColorToSymbol(q,null,r),[2,q];v=k.get("layer.renderer")||k.get("sourceLayer.renderer");return[4,v.getSymbolAsync(k)];case 1:y=A.sent();if(!y)return[2,void 0];y=y.clone();return!("visualVariables"in v)||"visualVariables"in v&&!v.visualVariables||"visualVariables"in v&&v.visualVariables&&!v.visualVariables.length?[2,y]:[4,n.create(function(g){return F(["../../renderers/visualVariables/support/visualVariableUtils"],g)})];case 2:J=A.sent();H=[];m=[];I=[];L=[];G=0;for(w=v.visualVariables;G<w.length;G++)switch(D=
w[G],D.type){case "color":H.push(D);break;case "opacity":m.push(D);break;case "rotation":L.push(D);break;case "size":I.push(D)}W=(M=!!H.length&&H[H.length-1])?J.getColor(M,k,g):null;U=(ba=!!m.length&&m[m.length-1])?J.getOpacity(ba,k,g):null;null!=r&&(U=null!=U?U*r:r);B.applyColorToSymbol(y,W,U);I.forEach(function(m){return B.applySizeToSymbol(y,J.getSize(m,k,g),m.axis)});L.forEach(function(m){return B.applyRotationToSymbol(y,J.getRotationAngle(m,k,g),m.axis)});return[2,y]}})})}})},"esri/symbols/support/previewSymbol2D":function(){define("require exports ../../core/Error ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./previewUtils ./renderUtils".split(" "),
function(F,w,C,q,v,d,n,y){function G(k,r){var g=B.getContext("2d"),d=[];r&&(r.weight&&d.push(r.weight),r.size&&d.push(r.size+"px"),r.family&&d.push(r.family));g.font=d.join(" ");return g.measureText(k).width}function D(k){if(0===k.length)return 0;if(2<k.length){var d=v.px2pt(1),g=parseFloat(k);switch(k.slice(-2)){case "px":return g;case "pt":return g*d;case "in":return 72*g*d;case "pc":return 12*g*d;case "mm":return g*H*d;case "cm":return g*p*d}}return parseFloat(k)}Object.defineProperty(w,"__esModule",
{value:!0});var B=document.createElement("canvas"),H=7.2/2.54,p=72/2.54;w.previewSymbol2D=function(k,r){var g=r&&r.size?v.pt2px(r.size):null,p=r&&r.maxSize?v.pt2px(r.maxSize):null,B=r&&null!=r.opacity?r.opacity:null,H=r&&null!=r.rotation?r.rotation:null,w=d.getStroke(k),J={shape:null,fill:null,stroke:w};w&&w.width&&(w.width=Math.min(w.width,80));var O=0,m=0;switch(k.type){case "simple-marker":var w=k.style,I=v.pt2px(k.size),O=Math.min(g||I||22,p||120),m=Math.min(g||I||22,p||120);switch(w){case "circle":J.shape=
{type:"circle",cx:.5*I,cy:.5*I,r:.5*I};break;case "cross":J.shape={type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[O,.5*m]},{command:"M",values:[.5*O,0]},{command:"L",values:[.5*O,m]}]};break;case "diamond":J.shape={type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[.5*O,0]},{command:"L",values:[O,.5*m]},{command:"L",values:[.5*O,m]},{command:"Z",values:[]}]};break;case "square":J.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[O,0]},
{command:"L",values:[O,m]},{command:"L",values:[0,m]},{command:"Z",values:[]}]};break;case "triangle":J.shape={type:"path",path:[{command:"M",values:[.5*O,0]},{command:"L",values:[O,m]},{command:"L",values:[0,m]},{command:"Z",values:[]}]};break;case "x":J.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[O,m]},{command:"M",values:[O,0]},{command:"L",values:[0,m]}]};break;case "path":J.shape={type:"path",path:k.path||""}}break;case "simple-line":g=Math.min(g||w&&w.width||22,
p||80);w.width=g;O=22<g?2*g:40;m=g;J.shape={type:"path",path:[{command:"M",values:[0,m]},{command:"L",values:[O,m]}]};break;case "picture-fill":case "simple-fill":O=Math.min(g||22,p||120);m=Math.min(g||22,p||120);J.shape=n.shapes.fill[0];break;case "picture-marker":var w=v.pt2px(k.width),L=v.pt2px(k.height),I=Math.max(w,L),L=w/L,w=1>=L?Math.ceil(I*L):I,L=1>=L?I:Math.ceil(I/L),O=Math.min(g||w||22,p||120),m=Math.min(g||L||22,p||120);J.shape={type:"image",x:-Math.round(O/2),y:-Math.round(m/2),width:O,
height:m,src:k.url||""};break;case "text":w=k.text||"Aa",I=k.font,g=Math.min(g||v.pt2px(I.size),p||120),L=G(w,{weight:I.weight,size:g,family:I.family}),O=(p=/[\uE600-\uE6FF]/.test(w))?g:L,m=g,L=.25*D((I?g:0).toString()),p&&(L+=5),J.shape={type:"text",text:w,x:0,y:L,align:"middle",decoration:I&&I.decoration,rotated:k.rotated,kerning:k.kerning},J.font=I&&{size:g,style:I.style,decoration:I.decoration,weight:I.weight,family:I.family}}if(!J.shape)return q.reject(new C("symbolPreview: renderPreviewHTML2D",
"symbol not supported."));var Q=d.getFill(k),g=k.color,p=null;Q&&"pattern"===Q.type&&g&&"picture-fill"!==k.type?p=d.getPatternUrlWithColor(Q.src,g.toCss(!0)).then(function(g){Q.src=g;J.fill=Q;return J}):(J.fill=Q,p=q.resolve(J));return p.then(function(g){return y.renderSymbol([[g]],[O,m],{node:r&&r.node,scale:!0,opacity:B,rotation:H})})}})},"esri/symbols/support/gfxUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../Color ../../request ../../core/ItemCache ../../core/promiseUtils ../../core/screenUtils".split(" "),
function(F,w,C,q,v,d,n,y){function G(d){if(!d)return null;var g;switch(d.type){case "simple-fill":case "picture-fill":case "simple-marker":g=G(d.outline);break;case "simple-line":var r=y.pt2px(d.width);"none"!==d.style&&0!==r&&(g={color:d.color,style:k(d.style),width:r,cap:d.cap,join:"miter"===d.join?y.pt2px(d.miterLimit):d.join});break;default:g=null}return g}Object.defineProperty(w,"__esModule",{value:!0});var D=F.toUrl("../../symbols/patterns/"),B={left:"start",center:"middle",right:"end",justify:"start"},
H={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},p=new d(1E3);w.getSVGAlign=function(k){return k=(k=k.horizontalAlignment)&&B[k.toLowerCase()]||"middle"};w.getSVGBaseline=function(k){return(k=k.verticalAlignment)&&H[k.toLowerCase()]||"alphabetic"};w.getSVGBaselineShift=function(k){return"bottom"===k.verticalAlignment?"super":null};w.getFill=function(k){var g=k.style,d=null;if(k)switch(k.type){case "simple-marker":"cross"!==g&&"x"!==g&&(d=k.color);break;case "simple-fill":"solid"===
g?d=k.color:"none"!==g&&(d={type:"pattern",x:0,y:0,src:D+g+".png",width:8,height:8});break;case "picture-fill":d={type:"pattern",src:k.url,width:y.pt2px(k.width)*k.xscale,height:y.pt2px(k.height)*k.yscale,x:y.pt2px(k.xoffset),y:y.pt2px(k.yoffset)};break;case "text":d=k.color}return d};w.getPatternUrlWithColor=function(k,g){var d=k+"-"+g;return void 0!==p.get(d)?n.resolve(p.get(d)):v(k,{responseType:"image"}).then(function(k){k=k.data;var r=k.naturalWidth,n=k.naturalHeight,B=document.createElement("canvas");
B.width=r;B.height=n;var q=B.getContext("2d");q.fillStyle=g;q.fillRect(0,0,r,n);q.globalCompositeOperation="destination-in";q.drawImage(k,0,0);k=B.toDataURL();p.put(d,k);return k})};w.getStroke=G;var k=function(){var k={};return function(g){if(k[g])return k[g];var d=g.replace(/-/g,"");return k[g]=d}}();w.defaultThematicColor=new q([128,128,128])})},"esri/core/ItemCache":function(){define(["require","exports","./MemCache"],function(F,w,C){return function(){function q(q,d){this._storage=new C.MemCacheStorage;
this._storage.maxSize=q;d&&this._storage.registerRemoveFunc("",d)}q.prototype.put=function(q,d){this._storage.put(q,d,1,1)};q.prototype.pop=function(q){return this._storage.pop(q)};q.prototype.get=function(q){return this._storage.get(q)};q.prototype.clear=function(){this._storage.clearAll()};q.prototype.destroy=function(){this._storage.clearAll()};return q}()})},"esri/symbols/support/previewUtils":function(){define(["require","exports"],function(F,w){Object.defineProperty(w,"__esModule",{value:!0});
w.shapes={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",
path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",
path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},
{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};w.getPathSymbolShapes=function(w){var q=22,v=22;1>w?q*=.75:1<w&&(v*=1.25);return[{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[19.25,0]},{command:"L",values:[0,v-11]},{command:"L",values:[q-11,v-11]},{command:"Z",
values:[]}]},{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[22,2.75]},{command:"L",values:[q-11,22]},{command:"L",values:[q-11,v-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[q-11,v-11]},{command:"L",values:[0,v-11]},{command:"L",values:[0,22]},{command:"L",values:[q-11,22]},{command:"Z",values:[]}]}]};w.getExtrudeSymbolShapes=function(w){w*=.5;return[{type:"path",path:[{command:"M",values:[0,.7*11]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[6.6,
22*.7+w]},{command:"L",values:[0,22*.7+w-.7*11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+w]},{command:"L",values:[22,w]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[0,.7*11]},{command:"Z",values:[]}]}]};w.getWaterSymbolShapes=function(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},
{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},
{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]};
w.getCubeShapes=function(w,q){var v=q?20:w,d=q?4:6,d=v=22>=v?v-.5*d:v-d;q=q?.35*v:.5*v;return[{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[d,.5*q]},{command:"L",values:[.5*d,q]},{command:"L",values:[0,.5*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*q]},{command:"L",values:[.5*d,q]},{command:"L",values:[.5*d,w]},{command:"L",values:[0,w-.5*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*d,q]},{command:"L",values:[.5*d,
w]},{command:"L",values:[d,w-.5*q]},{command:"L",values:[d,.5*q]},{command:"Z",values:[]}]}]};w.getCylinderShapes=function(w,q){var v=q?20:w;q=q?4:6;v=22>=v?v-.5*q:v-q;q=.5*v;var d=.15*v;w-=d;return[{type:"ellipse",cx:.5*v,cy:w,rx:q,ry:d},{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[0,w]},{command:"L",values:[v,w]},{command:"L",values:[v,d]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*v,cy:d,rx:q,ry:d}]};w.getConeShapes=function(w,q){var v=q?20:w;q=q?4:6;v=22>=v?v-.5*q:v-
q;q=.15*v;var d=v;w-=q;return[{type:"ellipse",cx:.5*v,cy:w,rx:.5*v,ry:q},{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[d,w]},{command:"L",values:[0,w]},{command:"Z",values:[]}]}]};w.getInvertedConeShapes=function(w){var q=w,q=22>q?q-3:q-6,v=.15*q,d=q;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[d,0]},{command:"L",values:[.5*d,w-v]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*q,cy:0,rx:.5*q,ry:v}]};w.getDiamondShapes=function(w){var q=w,q=22>
q?q-2:q-4,v=Math.floor(w/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*q,0]},{command:"L",values:[q,.5*w-v]},{command:"L",values:[.45*q-v,.5*w+v]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*q,0]},{command:"L",values:[.45*q-v,.5*w+v]},{command:"L",values:[0,.5*w-v]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*w-v]},{command:"L",values:[.45*q-v,.5*w+v]},{command:"L",values:[.45*q,w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[.45*q,w]},{command:"L",values:[q,.5*w-v]},{command:"L",values:[.45*q-v,.5*w+v]},{command:"Z",values:[]}]}]};w.getTetrahedronShapes=function(w){var q=w,q=22>q?q-1:q-2;return[{type:"path",path:[{command:"M",values:[.45*w,0]},{command:"L",values:[w,q]},{command:"L",values:[.45*w,.6*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*w,0]},{command:"L",values:[.45*w,.6*q]},{command:"L",values:[0,q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,q]},
{command:"L",values:[.45*w,.6*q]},{command:"L",values:[w,q]},{command:"Z",values:[]}]}]}})},"esri/symbols/support/renderUtils":function(){define("require exports ../../kernel ../../request ../../core/colorUtils ../../core/Error ../../core/has ../../core/promiseUtils ./svgUtils maquette".split(" "),function(F,w,C,q,v,d,n,y,G,D){function B(p,k,r){return p?q(p,{responseType:"image"}).then(function(g){g=g.data;var d=g.width,p=g.height,n=d/p,B=k;r&&(B=Math.min(B,Math.max(d,p)));return{image:g,width:1>=
n?Math.ceil(B*n):B,height:1>=n?B:Math.ceil(B/n)}}):y.reject(new d("renderUtils: imageDataSize","href not provided."))}Object.defineProperty(w,"__esModule",{value:!0});var H=D.createProjector();w.renderSymbol=function(d,k,r){var g=Math.ceil(k[0]);k=Math.ceil(k[1]);if(!d.some(function(g){return!!g.length}))return null;var p=r&&r.node||document.createElement("div");null!=r.opacity&&(p.style.opacity=r.opacity.toString());H.append(p,G.renderSVG.bind(null,d,g,k,r));return p};w.tintImageWithColor=function(d,
k,r,g,q){return B(d,k,q).then(function(p){var B=p.width?p.width:k,q=p.height?p.height:k,y;if(y=p.image)y=r&&"ignore"!==g?"multiply"===g&&255===r.r&&255===r.g&&255===r.b&&1===r.a?!1:!0:!1;if(y){var A=p.image.width,m=p.image.height;(n("edge")||n("ie"))&&/\.svg$/i.test(d)&&(--A,--m);var I,H;I=Math.ceil(B);H=Math.ceil(q);y=document.createElement("canvas");y.width=I;y.height=H;y.style.width=I+"px";y.style.height=H+"px";y=y.getContext("2d");y.clearRect(0,0,I,H);y.drawImage(p.image,0,0,A,m,0,0,B,q);p=y.getImageData(0,
0,B,q);A=[r.r/255,r.g/255,r.b/255,r.a];m=v.toHSV(r);for(I=0;I<p.data.length;I+=4){H=p.data;var w=I,G=A,D=m;switch(g){case "multiply":H[w+0]*=G[0];H[w+1]*=G[1];H[w+2]*=G[2];H[w+3]*=G[3];break;default:var K=v.toHSV({r:H[w+0],g:H[w+1],b:H[w+2]});K.h=D.h;K.s=D.s;K.v=K.v/100*D.v;D=v.toRGB(K);H[w+0]=D.r;H[w+1]=D.g;H[w+2]=D.b;H[w+3]*=G[3]}}y.putImageData(p,0,0);d=y.canvas.toDataURL("image/png")}else(y=C.id&&C.id.findCredential(d))&&y.token&&(p=-1===d.indexOf("?")?"?":"\x26",d=""+d+p+"token\x3d"+y.token);
return{url:d,width:B,height:q}}).catch(function(){return{url:d,width:k,height:k}})}})},"esri/core/colorUtils":function(){define(["require","exports"],function(F,w){function C(d,n){var p=[],k,r;if(d[0].length!==n.length)throw"dimensions do not match";var g=d.length,B=d[0].length,q=0;for(k=0;k<g;k++){for(r=q=0;r<B;r++)q+=d[k][r]*n[r];p.push(q)}return p}function q(d){d=[d.r/255,d.g/255,d.b/255].map(function(d){return.04045>=d?d/12.92:Math.pow((d+.055)/1.055,2.4)});d=C(G,d);return{x:100*d[0],y:100*d[1],
z:100*d[2]}}function v(d){d=C(D,[d.x/100,d.y/100,d.z/100]).map(function(d){return Math.min(1,Math.max(.0031308>=d?12.92*d:1.055*Math.pow(d,1/2.4)-.055,0))});return{r:Math.round(255*d[0]),g:Math.round(255*d[1]),b:Math.round(255*d[2])}}function d(d){d=[d.x/95.047,d.y/100,d.z/108.883].map(function(d){return d>Math.pow(6/29,3)?Math.pow(d,1/3):1/3*Math.pow(29/6,2)*d+4/29});return{l:116*d[1]-16,a:500*(d[0]-d[1]),b:200*(d[1]-d[2])}}function n(d){var n=d.l;d=[(n+16)/116+d.a/500,(n+16)/116,(n+16)/116-d.b/
200].map(function(d){return d>6/29?Math.pow(d,3):3*Math.pow(6/29,2)*(d-4/29)});return{x:95.047*d[0],y:100*d[1],z:108.883*d[2]}}function y(d){if("r"in d&&"g"in d&&"b"in d)return d;if("l"in d&&"c"in d&&"h"in d){var q=d.c,p=d.h;return v(n({l:d.l,a:q*Math.cos(p),b:q*Math.sin(p)}))}if("l"in d&&"a"in d&&"b"in d)return v(n(d));if("x"in d&&"y"in d&&"z"in d)return v(d);if("h"in d&&"s"in d&&"v"in d){p=(d.h+360)%360/60;q=d.v/100*255;d=d.s/100*q;var k=d*(1-Math.abs(p%2-1));switch(Math.floor(p)){case 0:p={r:d,
g:k,b:0};break;case 1:p={r:k,g:d,b:0};break;case 2:p={r:0,g:d,b:k};break;case 3:p={r:0,g:k,b:d};break;case 4:p={r:k,g:0,b:d};break;case 5:case 6:p={r:d,g:0,b:k};break;default:p={r:0,g:0,b:0}}p.r=Math.round(p.r+q-d);p.g=Math.round(p.g+q-d);p.b=Math.round(p.b+q-d);return p}}Object.defineProperty(w,"__esModule",{value:!0});var G=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],D=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];w.toRGB=y;w.toHSV=function(d){if("h"in d&&
"s"in d&&"v"in d)return d;var n=y(d);d=n.r;var p=n.g,n=n.b,k=Math.max(d,p,n),r=k-Math.min(d,p,n),g;0===r?g=0:k===d?g=(p-n)/r%6:k===p?g=(n-d)/r+2:k===n&&(g=(d-p)/r+4);0>g&&(g+=6);return{h:60*g,s:100*(0===r?0:r/k),v:100/255*k}};w.toLAB=function(n){return"l"in n&&"a"in n&&"b"in n?n:d(q(y(n)))};w.toLCH=function(n){if(!("l"in n&&"c"in n&&"h"in n)){var v=d(q(y(n)));n=v.l;var p=v.a,k=v.b,v=Math.sqrt(p*p+k*k),p=Math.atan2(k,p),p=0<p?p:p+2*Math.PI;n={l:n,c:v,h:p}}return n};w.toXYZ=function(d){return"x"in d&&
"y"in d&&"z"in d?d:q(y(d))}})},"esri/symbols/support/svgUtils":function(){define("require exports ../../Color ../../core/has ../../core/libs/gl-matrix-2/mat2df32 ../../core/libs/gl-matrix-2/math/mat2d ../../widgets/support/widget".split(" "),function(F,w,C,q,v,d,n){function y(g){return g.map(function(g){return g.command+" "+g.values.join(" ")}).join(" ").trim()}function G(g,k,d,m){if(g){if("circle"===g.type)return n.tsx("circle",{fill:k,"fill-rule":"evenodd",stroke:d.color,"stroke-width":d.width,
"stroke-linecap":d.cap,"stroke-linejoin":d.join,"stroke-dasharray":d.dashArray,"stroke-miterlimit":"4",cx:g.cx,cy:g.cy,r:g.r});if("ellipse"===g.type)return n.tsx("ellipse",{fill:k,"fill-rule":"evenodd",stroke:d.color,"stroke-width":d.width,"stroke-linecap":d.cap,"stroke-linejoin":d.join,"stroke-dasharray":d.dashArray,"stroke-miterlimit":"4",cx:g.cx,cy:g.cy,rx:g.rx,ry:g.ry});if("rect"===g.type)return n.tsx("rect",{fill:k,"fill-rule":"evenodd",stroke:d.color,"stroke-width":d.width,"stroke-linecap":d.cap,
"stroke-linejoin":d.join,"stroke-dasharray":d.dashArray,"stroke-miterlimit":"4",x:g.x,y:g.y,width:g.width,height:g.height});if("image"===g.type)return n.tsx("image",{href:g.src,x:g.x,y:g.y,width:g.width,height:g.height,preserveAspectRatio:"none"});if("path"===g.type)return g="string"!==typeof g.path?y(g.path):g.path,n.tsx("path",{fill:k,"fill-rule":"evenodd",stroke:d.color,"stroke-width":d.width,"stroke-linecap":d.cap,"stroke-linejoin":d.join,"stroke-dasharray":d.dashArray,"stroke-miterlimit":"4",
d:g});if("text"===g.type)return n.tsx("text",{fill:k,"fill-rule":"evenodd",stroke:d.color,"stroke-width":d.width,"stroke-linecap":d.cap,"stroke-linejoin":d.join,"stroke-dasharray":d.dashArray,"stroke-miterlimit":"4","text-anchor":m.align,"text-decoration":m.decoration,kerning:m.kerning,rotate:m.rotate,"text-rendering":L,"font-style":m.font.style,"font-variant":m.font.variant,"font-weight":m.font.weight,"font-size":m.font.size,"font-family":m.font.family,x:g.x,y:g.y},g.text)}return null}function D(g){var k=
{fill:"none",pattern:null,linearGradient:null};if(g)if("type"in g&&"pattern"===g.type){var d="patternId-"+ ++m;k.fill="url(#"+d+")";k.pattern={id:d,x:g.x,y:g.y,width:g.width,height:g.height,image:{x:0,y:0,width:g.width,height:g.height,href:g.src}}}else"type"in g&&"linear"===g.type?(d="linearGradientId-"+ ++I,k.fill="url(#"+d+")",k.linearGradient={id:d,x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,stops:g.colors.map(function(g){return{offset:g.offset,color:g.color&&(new C(g.color)).toString()}})}):g&&(g=new C(g),
k.fill=g.toString());return k}function B(g){var k={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(g&&(null!=g.width&&(k.width=g.width),g.cap&&(k.cap=g.cap),g.join&&(k.join=g.join.toString()),g.color&&(k.color=(new C(g.color)).toString()),g.style)){var d=null;g.style in W&&(d=W[g.style]);if(Array.isArray(d)){for(var d=d.slice(0),m=0;m<d.length;++m)d[m]*=g.width;if("butt"!==g.cap){for(m=0;m<d.length;m+=2)d[m]-=g.width,1>d[m]&&(d[m]=1);for(m=1;m<d.length;m+=2)d[m]+=g.width}d=d.join(",")}k.dashArray=
d}return k}function H(g,k){var d={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};g&&(d.align=g.align,d.decoration=g.decoration,d.kerning=g.kerning?"auto":"0",d.rotate=g.rotated?"90":"0",d.font.style=k.style||"normal",d.font.variant=k.variant||"normal",d.font.weight=k.weight||"normal",d.font.size=k.size&&k.size.toString()||"10pt",d.font.family=k.family||"serif");return d}function p(g){var k=g.pattern;g=g.linearGradient;return k?
n.tsx("pattern",{id:k.id,patternUnits:"userSpaceOnUse",x:k.x,y:k.y,width:k.width,height:k.height},n.tsx("image",{x:k.image.x,y:k.image.y,width:k.image.width,height:k.image.height,href:k.image.href})):g?(k=g.stops.map(function(g,k){return n.tsx("stop",{key:k+"-stop",offset:g.offset,"stop-color":g.color})}),n.tsx("linearGradient",{id:g.id,gradientUnits:"userSpaceOnUse",x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2},k)):null}function k(g,k,m){return d.translate(g,d.identity(g),[k,m])}function r(g,k,m,r,p){d.scale(g,
d.identity(g),[k,m]);g[4]=g[4]*k-r*k+r;g[5]=g[5]*m-p*m+p;return g}function g(g,k,m,r){var p=k%360*Math.PI/180;d.rotate(g,d.identity(g),p);k=Math.cos(p);var p=Math.sin(p),e=g[4],E=g[5];g[4]=e*k-E*p+r*p-m*k+m;g[5]=E*k+e*p-m*p-r*k+r;return g}function A(g,k){V&&"left"in V?(V.left>g&&(V.left=g),V.right<g&&(V.right=g),V.top>k&&(V.top=k),V.bottom<k&&(V.bottom=k)):V={left:g,bottom:k,right:g,top:k}}function K(g){var k=g.args,d=k.length;switch(g.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(g=
0;g<d;g+=2)A(k[g],k[g+1]);M.x=k[d-2];M.y=k[d-1];break;case "H":for(g=0;g<d;++g)A(k[g],M.y);M.x=k[d-1];break;case "V":for(g=0;g<d;++g)A(M.x,k[g]);M.y=k[d-1];break;case "m":g=0;"x"in M||(A(M.x=k[0],M.y=k[1]),g=2);for(;g<d;g+=2)A(M.x+=k[g],M.y+=k[g+1]);break;case "l":case "t":for(g=0;g<d;g+=2)A(M.x+=k[g],M.y+=k[g+1]);break;case "h":for(g=0;g<d;++g)A(M.x+=k[g],M.y);break;case "v":for(g=0;g<d;++g)A(M.x,M.y+=k[g]);break;case "c":for(g=0;g<d;g+=6)A(M.x+k[g],M.y+k[g+1]),A(M.x+k[g+2],M.y+k[g+3]),A(M.x+=k[g+
4],M.y+=k[g+5]);break;case "s":case "q":for(g=0;g<d;g+=4)A(M.x+k[g],M.y+k[g+1]),A(M.x+=k[g+2],M.y+=k[g+3]);break;case "A":for(g=0;g<d;g+=7)A(k[g+5],k[g+6]);M.x=k[d-2];M.y=k[d-1];break;case "a":for(g=0;g<d;g+=7)A(M.x+=k[g+5],M.y+=k[g+6])}}function N(g,k,d){var m=Q[g.toLowerCase()];"number"===typeof m&&(m?k.length>=m&&(g={action:g,args:k.slice(0,k.length-k.length%m)},d.push(g),K(g)):(g={action:g,args:[]},d.push(g),K(g)))}function R(g){var k={x:0,y:0,width:0,height:0};if("circle"===g.type)k.x=g.cx-g.r,
k.y=g.cy-g.r,k.width=2*g.r,k.height=2*g.r;else if("ellipse"===g.type)k.x=g.cx-g.rx,k.y=g.cy-g.ry,k.width=2*g.rx,k.height=2*g.ry;else if("image"===g.type||"rect"===g.type)k.x=g.x,k.y=g.y,k.width=g.width,k.height=g.height;else if("path"===g.type){g=("string"!==typeof g.path?y(g.path):g.path).match(X);var d=[];V={};M={};if(g){for(var m="",r=[],e=g.length,E=0;E<e;++E){var t=g[E],b=parseFloat(t);isNaN(b)?(m&&N(m,r,d),r=[],m=t):r.push(b)}N(m,r,d);g={x:0,y:0,width:0,height:0};V&&"left"in V&&(g.x=V.left,
g.y=V.top,g.width=V.right-V.left,g.height=V.bottom-V.top)}else g=null;k.x=g.x;k.y=g.y;k.width=g.width;k.height=g.height}return k}function J(g){for(var k={x:0,y:0,width:0,height:0},d=null,m=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,e=0;e<g.length;e++){var E=g[e];d?(d.x=Math.min(d.x,E.x),d.y=Math.min(d.y,E.y),m=Math.max(m,E.x+E.width),r=Math.max(r,E.y+E.height)):(d=k,d.x=E.x,d.y=E.y,m=E.x+E.width,r=E.y+E.height)}d&&(d.width=m-d.x,d.height=r-d.y);return d}function O(m,p,n,q,y,e){var E=p/2,
t=n/2,b=m.width+q,a=m.height+q,c=v.mat2df32.create(),f=v.mat2df32.create(),h=!1;if(y&&0!==b&&0!==a){y=b/a;var h=p>n?p:n,l=1,u=1;isNaN(h)||(1<y?(l=h/b,u=h/y/a):(u=h/a,l=h*y/b));d.multiply(f,f,r(c,l,u,E,t));h=!0}y=m.x+(b-q)/2;m=m.y+(a-q)/2;d.multiply(f,f,k(c,E-y,t-m));!h&&(b>p||a>n)&&(E=b/p>a/n,p=(E?p:n)/(E?b:a),d.multiply(f,f,r(c,p,p,y,m)));e&&d.multiply(f,f,g(c,e,y,m));return"matrix("+f[0]+","+f[1]+","+f[2]+","+f[3]+","+f[4]+","+f[5]+")"}Object.defineProperty(w,"__esModule",{value:!0});var m=0,I=
0,L=q("chrome")?"auto":"optimizeLegibility",Q={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},X=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,V={},M={},W={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};w.renderShape=G;w.generateFillAttributes=D;w.generateStrokeAttributes=B;w.generateTextAttributes=H;w.renderDef=p;w.getBoundingBox=R;w.computeBBox=
J;w.getTransformMatrix=O;w.renderSVG=function(g,k,d,m){for(var r=[],e=[],E=0;E<g.length;E++){for(var t=[],b=[],a=0,c=0,f=g[E];c<f.length;c++){var h=f[c],l=h.shape,u=h.fill,x=h.stroke,h=h.font,a=a+(x&&x.width||0),u=D(u),x=B(x),h="text"===l.type?H(l,h):null;r.push(p(u));t.push(G(l,u.fill,x,h));b.push(R(l))}b=O(J(b),k,d,a,m&&m.scale,m&&m.rotation);e.push(n.tsx("g",{transform:b},t))}return n.tsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:k,height:d},n.tsx("defs",null,r),e)}})},"esri/core/libs/gl-matrix-2/mat2df32":function(){define(["require",
"exports","./factories/mat2df32"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.mat2df32=C})},"esri/core/libs/gl-matrix-2/factories/mat2df32":function(){define(["require","exports"],function(F,w){Object.defineProperty(w,"__esModule",{value:!0});w.create=function(){var w=new Float32Array(6);w[0]=1;w[3]=1;return w};w.clone=function(w){var q=new Float32Array(6);q[0]=w[0];q[1]=w[1];q[2]=w[2];q[3]=w[3];q[4]=w[4];q[5]=w[5];return q};w.fromValues=function(w,q,v,d,n,y){var G=new Float32Array(6);
G[0]=w;G[1]=q;G[2]=v;G[3]=d;G[4]=n;G[5]=y;return G};w.createView=function(w,q){return new Float32Array(w,q,6)}})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["require","exports","./common"],function(F,w,C){function q(d,n,q){var v=n[0],y=n[1],B=n[2],w=n[3],p=n[4];n=n[5];var k=q[0],r=q[1],g=q[2],A=q[3],C=q[4];q=q[5];d[0]=v*k+B*r;d[1]=y*k+w*r;d[2]=v*g+B*A;d[3]=y*g+w*A;d[4]=v*C+B*q+p;d[5]=y*C+w*q+n;return d}function v(d,n,q){d[0]=n[0]-q[0];d[1]=n[1]-q[1];d[2]=n[2]-q[2];d[3]=n[3]-q[3];d[4]=
n[4]-q[4];d[5]=n[5]-q[5];return d}Object.defineProperty(w,"__esModule",{value:!0});w.copy=function(d,n){d[0]=n[0];d[1]=n[1];d[2]=n[2];d[3]=n[3];d[4]=n[4];d[5]=n[5];return d};w.identity=function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d};w.set=function(d,n,q,v,w,B,H){d[0]=n;d[1]=q;d[2]=v;d[3]=w;d[4]=B;d[5]=H;return d};w.invert=function(d,n){var q=n[0],v=n[1],w=n[2],B=n[3],H=n[4];n=n[5];var p=q*B-v*w;if(!p)return null;p=1/p;d[0]=B*p;d[1]=-v*p;d[2]=-w*p;d[3]=q*p;d[4]=(w*n-B*H)*p;d[5]=(v*
H-q*n)*p;return d};w.determinant=function(d){return d[0]*d[3]-d[1]*d[2]};w.multiply=q;w.rotate=function(d,n,q){var v=n[0],y=n[1],B=n[2],w=n[3],p=n[4];n=n[5];var k=Math.sin(q);q=Math.cos(q);d[0]=v*q+B*k;d[1]=y*q+w*k;d[2]=v*-k+B*q;d[3]=y*-k+w*q;d[4]=p;d[5]=n;return d};w.scale=function(d,n,q){var v=n[1],y=n[2],B=n[3],w=n[4],p=n[5],k=q[0];q=q[1];d[0]=n[0]*k;d[1]=v*k;d[2]=y*q;d[3]=B*q;d[4]=w;d[5]=p;return d};w.translate=function(d,n,q){var v=n[0],y=n[1],B=n[2],w=n[3],p=n[4];n=n[5];var k=q[0];q=q[1];d[0]=
v;d[1]=y;d[2]=B;d[3]=w;d[4]=v*k+B*q+p;d[5]=y*k+w*q+n;return d};w.fromRotation=function(d,n){var q=Math.sin(n);n=Math.cos(n);d[0]=n;d[1]=q;d[2]=-q;d[3]=n;d[4]=0;d[5]=0;return d};w.fromScaling=function(d,n){d[0]=n[0];d[1]=0;d[2]=0;d[3]=n[1];d[4]=0;d[5]=0;return d};w.fromTranslation=function(d,n){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=n[0];d[5]=n[1];return d};w.str=function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"};w.frob=function(d){return Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],
2)+Math.pow(d[2],2)+Math.pow(d[3],2)+Math.pow(d[4],2)+Math.pow(d[5],2)+1)};w.add=function(d,n,q){d[0]=n[0]+q[0];d[1]=n[1]+q[1];d[2]=n[2]+q[2];d[3]=n[3]+q[3];d[4]=n[4]+q[4];d[5]=n[5]+q[5];return d};w.subtract=v;w.multiplyScalar=function(d,n,q){d[0]=n[0]*q;d[1]=n[1]*q;d[2]=n[2]*q;d[3]=n[3]*q;d[4]=n[4]*q;d[5]=n[5]*q;return d};w.multiplyScalarAndAdd=function(d,n,q,v){d[0]=n[0]+q[0]*v;d[1]=n[1]+q[1]*v;d[2]=n[2]+q[2]*v;d[3]=n[3]+q[3]*v;d[4]=n[4]+q[4]*v;d[5]=n[5]+q[5]*v;return d};w.exactEquals=function(d,
n){return d[0]===n[0]&&d[1]===n[1]&&d[2]===n[2]&&d[3]===n[3]&&d[4]===n[4]&&d[5]===n[5]};w.equals=function(d,n){var q=d[0],v=d[1],w=d[2],B=d[3],H=d[4];d=d[5];var p=n[0],k=n[1],r=n[2],g=n[3],A=n[4];n=n[5];return Math.abs(q-p)<=C.EPSILON*Math.max(1,Math.abs(q),Math.abs(p))&&Math.abs(v-k)<=C.EPSILON*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(w-r)<=C.EPSILON*Math.max(1,Math.abs(w),Math.abs(r))&&Math.abs(B-g)<=C.EPSILON*Math.max(1,Math.abs(B),Math.abs(g))&&Math.abs(H-A)<=C.EPSILON*Math.max(1,Math.abs(H),
Math.abs(A))&&Math.abs(d-n)<=C.EPSILON*Math.max(1,Math.abs(d),Math.abs(n))};w.mul=q;w.sub=v})},"esri/symbols/support/previewSymbol3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/colorUtils ../../core/compilerUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./IconSymbol3DLayerResource ./ObjectSymbol3DLayerResource ./previewUtils ./renderUtils ./styleUtils ./utils".split(" "),function(F,w,C,q,v,d,
n,y,G,D,B,H,p,k,r,g,A){function K(g){var k=g.outline,e=y.isSome(g.material)?g.material.color:null,e=y.isSome(e)?e.toRgba().toString():null;if(y.isNone(k))return"fill"===g.type&&"255,255,255,1"===e?{color:"#bdc3c7",width:.75}:null;g=D.pt2px(k.size)||0;return{color:"rgba("+(y.isSome(k.color)?k.color.toRgba():"255,255,255,1")+")",width:Math.min(g,80)}}function N(k,d){var e=d&&d.resource,e=e&&e.href;return k.thumbnail&&k.thumbnail.url?G.resolve(k.thumbnail.url):e&&"object"!==d.type?G.resolve(A.getIconHref(k,
d)):k.styleOrigin&&(k.styleOrigin.styleName||k.styleOrigin.styleUrl)?g.resolveWebStyleSymbol(k.styleOrigin,{portal:k.styleOrigin.portal},"webRef").catch(function(e){return e}).then(function(e){return e&&e.thumbnail&&e.thumbnail.url||U}):G.resolve(U)}function R(g,k){void 0===k&&(k=1);var e=g.a;g=q.toHSV(g);k=q.toRGB({h:g.h,s:g.s/k,v:100-(100-g.v)/k});return[k.r,k.g,k.b,e]}function J(g,k){return Math.round(Math.min(Math.max(g+191.25*k,0),255))}function O(g){return"water"===g.type?y.isNone(g.color)?
null:g.color:y.isNone(g.material)||y.isNone(g.material.color)?null:g.material.color}function m(g,k){void 0===k&&(k=0);g=O(g);if(!g)return k=J(B.defaultThematicColor.r,k),[k,k,k,100];g=g.toRgba();for(var e=0;3>e;e++)g[e]=J(g[e],k);return g}function I(g){return g.outline?K(g):{color:"rgba(0, 0, 0, 1)",width:1.5}}function L(g,k){g=O(g);if(!g)return null;var e;e="rgba("+(J(g.r,k)+",");e+=J(g.g,k)+",";e+=J(g.b,k)+",";return e+g.a+");"}function Q(g,k){k=L(g,k);if(!k)return{};g=Math.min(g.size?D.pt2px(g.size):
.75,80);return{color:k,width:g}}function X(g,k,e){e*=.75;return{type:"linear",x1:e?.25*e:0,y1:e?.5*e:0,x2:e||4,y2:e?.5*e:4,colors:[{color:g,offset:0},{color:k,offset:1}]}}function V(g){var k=g.depth,e=g.height;return(g=g.width)&&k&&e&&g===k&&g<e}function M(g,d,e){var r=[];if(!g)return r;switch(g.type){case "icon":var t=g.resource&&g.resource.primitive||H.defaultPrimitive;switch(t){case "circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*d},fill:m(g,0),stroke:K(g)});break;case "square":r.push({shape:{type:"path",
path:[{command:"M",values:[0,d]},{command:"L",values:[0,0]},{command:"L",values:[d,0]},{command:"L",values:[d,d]},{command:"Z",values:[]}]},fill:m(g,0),stroke:K(g)});break;case "triangle":r.push({shape:{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[.5*d,0]},{command:"L",values:[d,d]},{command:"Z",values:[]}]},fill:m(g,0),stroke:K(g)});break;case "cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[.5*d,d]},{command:"M",values:[0,.5*d]},{command:"L",
values:[d,.5*d]}]},stroke:I(g)});break;case "x":r.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[d,d]},{command:"M",values:[d,0]},{command:"L",values:[0,d]}]},stroke:I(g)});break;case "kite":r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[.5*d,0]},{command:"L",values:[d,.5*d]},{command:"L",values:[.5*d,d]},{command:"Z",values:[]}]},fill:m(g,0),stroke:K(g)});break;default:v.neverReached(t)}break;case "object":switch(t=g.resource&&
g.resource.primitive||p.defaultPrimitive,t){case "cone":t=m(g,0);g=m(g,-.6);g=X(t,g,e?20:d);d=k.getConeShapes(d,e);r.push({shape:d[0],fill:g});r.push({shape:d[1],fill:g});break;case "inverted-cone":e=m(g,0);g=m(g,-.6);g=X(e,g,d);d=k.getInvertedConeShapes(d);r.push({shape:d[0],fill:g});r.push({shape:d[1],fill:e});break;case "cube":d=k.getCubeShapes(d,e);r.push({shape:d[0],fill:m(g,0)});r.push({shape:d[1],fill:m(g,-.3)});r.push({shape:d[2],fill:m(g,-.5)});break;case "cylinder":var t=m(g,0),b=m(g,-.6),
t=X(t,b,e?20:d);d=k.getCylinderShapes(d,e);r.push({shape:d[0],fill:t});r.push({shape:d[1],fill:t});r.push({shape:d[2],fill:m(g,0)});break;case "diamond":d=k.getDiamondShapes(d);r.push({shape:d[0],fill:m(g,-.3)});r.push({shape:d[1],fill:m(g,0)});r.push({shape:d[2],fill:m(g,-.3)});r.push({shape:d[3],fill:m(g,-.7)});break;case "sphere":e=m(g,0);g=m(g,-.6);g=X(e,g);g.x1=0;g.y1=0;g.x2=.25*d;g.y2=.25*d;r.push({shape:{type:"circle",cx:0,cy:0,r:.5*d},fill:g});break;case "tetrahedron":d=k.getTetrahedronShapes(d);
r.push({shape:d[0],fill:m(g,-.3)});r.push({shape:d[1],fill:m(g,0)});r.push({shape:d[2],fill:m(g,-.6)});break;default:v.neverReached(t)}}return r}function W(g,k){var e=k&&k.size?D.pt2px(k.size):null,d=k&&k.maxSize?D.pt2px(k.maxSize):null,t=k&&k.disableUpsampling,b=g.symbolLayers,a=[],c=0,f=0,h=b.getItemAt(b.length-1),l;h&&"icon"===h.type&&(l=h.size&&D.pt2px(h.size));b.forEach(function(b,h){if("icon"===b.type||"object"===b.type){var u="icon"===b.type?b.size&&D.pt2px(b.size):0,x=e||u?Math.ceil(Math.min(e||
u,d||120)):22;b&&b.resource&&b.resource.href?(h=N(g,b).then(function(a){var c=b.get("material.color"),f;f="icon"===b.type?"multiply":"tint";return r.tintImageWithColor(a,x,c,f,t)}).then(function(a){var b=a.width,h=a.height;c=Math.max(c,b);f=Math.max(f,h);return[{shape:{type:"image",x:0,y:0,width:b,height:h,src:a.url},fill:null,stroke:null}]}),a.unshift(h)):(h=x,"icon"===b.type&&l&&e&&(h=u/l*x),u=k&&"tall"===k.symbolConfig||("object"===b.type?V(b):!1),c=Math.max(c,u?20:h),f=Math.max(f,h),a.unshift(G.resolve(M(b,
h,u))))}});return G.eachAlways(a).then(function(a){var b=[];a.forEach(function(a){a.value?b.push(a.value):a.error&&ca.warn("error while building swatchInfo!",a.error)});return r.renderSymbol(b,[c,f],{node:k&&k.node,scale:!1,opacity:k&&k.opacity})})}function ba(g,d){var e=g.symbolLayers,E=[];g=A.isVolumetricSymbol(g);var t=d&&d.size?D.pt2px(d.size):null,b=(d&&d.maxSize?D.pt2px(d.maxSize):null)||80,a=0,c=0,f;e.forEach(function(h,l){if(h&&("line"===h.type||"path"===h.type)){var e=[];switch(h.type){case "line":var x=
Q(h,0),z=x&&x.width||0;0===l&&(f=z);var S=Math.min(t||z,b);l=0===l?S:t?z/f*S:S;c=Math.max(c,l);a=Math.max(a,20<l?2*l:40);x.width=l;e.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[a,.5*c]}]},stroke:x});break;case "path":l=Math.min(t||22,b);z=m(h,0);S=m(h,-.2);x=(x=L(h,-.4))?{color:x,width:1}:{};if("quad"===h.profile){var P=h.width||h.size;h=h.height||h.size;h=k.getPathSymbolShapes(P&&h?P/h:1);x=C({},x,{join:"bevel"});e.push({shape:h[0],fill:S,stroke:x});e.push({shape:h[1],
fill:S,stroke:x});e.push({shape:h[2],fill:z,stroke:x})}else e.push({shape:k.shapes.pathSymbol3DLayer[0],fill:S,stroke:x}),e.push({shape:k.shapes.pathSymbol3DLayer[1],fill:z,stroke:x});a=c=Math.max(c,l)}E.push(e)}});return G.resolve(r.renderSymbol(E,[a,c],{node:d&&d.node,scale:g,opacity:d&&d.opacity}))}Object.defineProperty(w,"__esModule",{value:!0});var U=F.toUrl("../../images/Legend/legend3dsymboldefault.png"),ca=n.getLogger("esri.symbols.support.previewSymbol3D");w.getSymbolLayerFill=m;w.previewSymbol3D=
function(g,p){if(0===g.symbolLayers.length)return G.reject(new d("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var e=null;switch(g.type){case "point-3d":e=W(g,p);break;case "line-3d":e=ba(g,p);break;case "polygon-3d":case "mesh-3d":e="mesh-3d"===g.type;g=g.symbolLayers;for(var E=p&&p.size?D.pt2px(p.size):null,t=p&&p.maxSize?D.pt2px(p.maxSize):null,E=E||22,b=[],a=0,c=0,f=!1,h=0;h<g.length;h++){var l=g.getItemAt(h),u=[];if(!e||"fill"===l.type){var x=k.shapes.fill[0];switch(l.type){case "fill":var z=
K(l),S=Math.min(E,t||120),a=Math.max(a,S),c=Math.max(c,S),f=!0;u.push({shape:x,fill:m(l,0),stroke:z});break;case "line":x={stroke:Q(l,0),shape:x};a=Math.max(a,22);c=Math.max(c,22);u.push(x);break;case "extrude":var z=C({join:"round"},Q(l,-.4)),x=m(l,0),l=m(l,-.2),S=Math.min(E,t||120),P=k.getExtrudeSymbolShapes(S);z.width=1;u.push({shape:P[0],fill:l,stroke:z});u.push({shape:P[1],fill:l,stroke:z});u.push({shape:P[2],fill:x,stroke:z});x=22*.7+.5*S;a=Math.max(a,22);c=Math.max(c,x);break;case "water":f=
O(l),x=R(f),l=R(f,2),z=R(f,3),S=k.getWaterSymbolShapes(),f=!0,u.push({shape:S[0],fill:x}),u.push({shape:S[1],fill:l}),u.push({shape:S[2],fill:z}),S=Math.min(E,t||120),a=Math.max(a,S),c=Math.max(c,S)}b.push(u)}}e=G.resolve(r.renderSymbol(b,[a,c],{node:p&&p.node,scale:f,opacity:p&&p.opacity}))}return e?e:G.reject(new d("symbolPreview: swatchInfo3D","symbol not supported."))}})},"esri/symbols/support/utils":function(){define("require exports ../../Color ../../symbols ../../core/compilerUtils ../../core/has ../../core/Logger ../../core/maybe ../../core/screenUtils ./gfxUtils ./Symbol3DMaterial".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B){function H(g,k){if(null==k)return g;g=g.toRgba();g[3]*=k;return new C(g)}function p(g,k,d){if(g=g.symbolLayers){var r=function(g){g=y.isSome(g)?g:null;k=k||g||null!=d&&A;return H(k,d)};g.forEach(function(g){if("water"===g.type)g.color=r(g.color);else{var k=y.isSome(g.material)?g.material.color:null,k=r(k);y.isNone(g.material)?g.material=new B.default({color:k}):g.material.color=k;null!=d&&"outline"in g&&y.isSome(g.outline)&&y.isSome(g.outline.color)&&(g.outline.color=
H(g.outline.color,d))}})}}function k(g,k,d){(g=g.symbolLayers)&&g.forEach(function(g){if(g)switch(g.type){case "icon":case "line":case "path":case "extrude":case "text":g.size=k;break;case "object":switch(d){case "width":g.width=k;break;case "depth":g.depth=k;break;case "height":g.height=k;break;case "width-and-depth":g.width=k;g.depth=k;break;default:g.width=k,g.depth=k,g.height=k}break;default:r.warn("symbolUtils: applySizeToSymbol","symbolLayer not supported")}})}Object.defineProperty(w,"__esModule",
{value:!0});var r=n.getLogger("esri.symbols.support.utils"),g=/\/resource\/(.*?)\.svg$/,A=new C("white");w.getSymbolOutlineSize=function(g){if(!g)return 0;if(q.isSymbol3D(g)){var k=g.symbolLayers&&g.symbolLayers.length;k?(g=g.symbolLayers.getItemAt(k-1),g="outline"in g?y.get(g,"outline","size"):void 0):g=void 0;return y.isSome(g)?g:0}return(g=D.getStroke(g))&&G.px2pt(g.width)||0};w.isVolumetricSymbol=function(g){if(!g||!g.symbolLayers)return!1;switch(g.type){case "point-3d":return g.symbolLayers.some(function(g){return"object"===
g.type});case "line-3d":return g.symbolLayers.some(function(g){return"path"===g.type});case "polygon-3d":return g.symbolLayers.some(function(g){return"object"===g.type||"extrude"===g.type});default:return!1}};w.getIconHref=function(k,r){r=r.resource.href;return!d("esri-canvas-svg-support")&&k.styleOrigin&&g.test(r)?r.replace(g,"/resource/png/$1.png"):r};w.applyOpacityToColor=H;w.applyColorToSymbol=function(g,k,d){if(g&&(k||null!=d))if(k&&(k=new C(k)),q.isSymbol3D(g))p(g,k,d);else if(q.isSymbol2D(g)){if(k=
k||g.color)g.color=H(k,d);null!=d&&"outline"in g&&g.outline&&g.outline.color&&(g.outline.color=H(g.outline.color,d))}};w.applySizeToSymbol=function(g,d,r){if(g&&null!=d)if(q.isSymbol3D(g))k(g,d,r);else if(q.isSymbol2D(g))switch(g.type){case "simple-marker":g.size=d;break;case "picture-marker":r=g.width/g.height;1<r?(g.width=d,g.height=d*r):(g.width=d*r,g.height=d);break;case "simple-line":g.width=d;break;case "text":g.font.size=d;break;case "simple-fill":case "picture-fill":break;case "cim":break;
default:v.neverReached(g)}};w.applyRotationToSymbol=function(g,k,d){g&&null!=k&&(q.isSymbol3D(g)?(g=g.symbolLayers)&&g.forEach(function(g){if(g&&"object"===g.type)switch(d){case "tilt":g.tilt=k;break;case "roll":g.roll=k;break;default:g.heading=k}}):!q.isSymbol2D(g)||"simple-marker"!==g.type&&"picture-marker"!==g.type&&"text"!==g.type||(g.angle=k))}})},"esri/symbols/support/previewWebStyleSymbol":function(){define(["require","exports","../../request","../../core/screenUtils"],function(F,w,C,q){Object.defineProperty(w,
"__esModule",{value:!0});w.previewWebStyleSymbol=function(v,d,n){var y=v.thumbnail&&v.thumbnail.url;return y?C(y,{responseType:"image"}).then(function(d){d=d.data;var v=!/\\.svg$/i.test(d.src)&&n&&n.disableUpsampling,B=Math.max(d.width,d.height),y=n&&null!=n.maxSize?q.pt2px(n.maxSize):120;v&&(y=Math.min(B,y));v=Math.min(y,n&&null!=n.size?q.pt2px(n.size):B);v!==B&&(B=0!==d.width&&0!==d.height?d.width/d.height:1,1<=B?(d.width=v,d.height=v/B):(d.width=v*B,d.height=v));return n&&n.node?(n.node.appendChild(d),
n.node):d}):v.fetchSymbol().then(function(q){return d(q,n)})}})},"esri/widgets/FeatureTemplates/TemplateItemGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(F,w,C,q,v,d,n){return function(d){function v(n){n=d.call(this)||this;n.items=null;n.label=null;return n}C(v,d);q([n.property()],v.prototype,"items",void 0);q([n.property()],
v.prototype,"label",void 0);return v=q([n.subclass("esri.widgets.FeatureTemplates.TemplateItemGroup")],v)}(n.declared(d.IdentifiableMixin(v)))})},"esri/widgets/FeatureTemplates/ItemList":function(){define(["require","exports","../../core/tsSupport/assignHelper","../support/jsxFactory","../support/widgetUtils"],function(F,w,C,q,v){function d(d){var p=d.identify,k=d.items,r=d.renderIcon,g=d.filterText,n=d.onItemMouseLeave,w=d.onItemMouseEnter,H=d.onItemSelect;return 0===k.length?q.tsx("div",{class:B.noMatchesMessage,
key:"no-matches"},d.messages.noMatches):k[0].items?q.tsx("div",{class:B.scroller,key:"item-container"},k.map(function(k){return G({group:k,filterText:g,identify:p,renderIcon:r,onItemMouseLeave:n,onItemMouseEnter:w,onItemSelect:H})})):q.tsx("ul",{class:v.classes(B.list,B.scroller),key:"item-container"},k.map(function(k){return y({item:k,identify:p,grouped:!0,onItemMouseLeave:n,onItemMouseEnter:w,onItemSelect:H,renderIcon:r,filterText:g})}))}function n(d){var p=d.id+"-placeholder";return q.tsx("div",
{class:B.filterContainer,key:"filter"},q.tsx("input",{"aria-labelledby":p,class:v.classes(B.input,B.filterInput),oninput:function(k){k=k.currentTarget;d.onFilterChange&&d.onFilterChange(k.value)},value:d.filterText,type:"search"}),d.filterText?null:q.tsx("div",{class:B.filterPlaceholder,id:p,key:"placeholder"},q.tsx("span",{class:B.searchIcon,"aria-hidden":"true"}),q.tsx("div",{class:B.filterPlaceholderText},d.messages.filterPlaceholder)))}function y(d){var p=d.identify,k=d.item,r=d.grouped,g=d.filterText,
n=d.onItemSelect,v=d.onItemMouseEnter,y=d.onItemMouseLeave;d=d.renderIcon;p=(p&&p(k)||k.id)+"__"+k.label;return q.tsx("li",{"aria-level":r?"2":"",class:B.item,"data-item":k,key:p,onclick:function(g){g=g.currentTarget["data-item"];n&&n(g)},onmouseenter:function(g){g=g.currentTarget["data-item"];v&&v(g)},onkeydown:function(g){if("Enter"===g.key||"Space"===g.key)g=g.currentTarget["data-item"],n&&n(g)},onmouseleave:function(g){g=g.currentTarget["data-item"];y&&y(g)},tabIndex:0},q.tsx("div",{class:B.itemContainer},
d&&d({item:k}),D({text:k.label,match:g})))}function G(d){var p=d.group,k=d.identify,r=d.onItemMouseLeave,g=d.onItemMouseEnter,n=d.onItemSelect,w=d.filterText,H=d.renderIcon;d=(k&&k(p)||p.id)+"-heading";return q.tsx("section",{"aria-labelledby":d,class:B.group,key:p.label},q.tsx("h4",{"aria-level":"1",id:d,class:v.classes(B.groupHeader)},D({text:p.label,match:w})),q.tsx("ul",{class:B.list},p.items.map(function(d){return y({item:d,identify:k,grouped:!0,onItemMouseLeave:r,onItemMouseEnter:g,onItemSelect:n,
renderIcon:H,filterText:w})})))}function D(d){var p=d.match;d=d.text;var k=null;if(p){var k=d.toLowerCase(),r=p.toLowerCase(),g=k.indexOf(r);-1===g?k=d:(k=d.substring(0,g),r=d.substr(g,p.length),p=d.substring(g+p.length),k=q.tsx("span",null,k,q.tsx("strong",null,r),p))}else k=d;return q.tsx("span",{class:B.itemLabel},k)}Object.defineProperty(w,"__esModule",{value:!0});var B={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",
item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",
widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};w.ItemList=function(y){var p=y.id,k=y.identify,r=y.filterEnabled,r=void 0===r?!0:r,g=y.items,A=y.messages,w=y.filterText,w=void 0===w?"":w,G=y.onFilterChange,H=y.renderIcon,J=y.onItemMouseLeave,D=y.onItemMouseEnter;y=y.onItemSelect;return q.tsx("div",{class:v.classes(B.base,B.widget)},r?n({filterText:w,messages:A,onFilterChange:G,id:p}):null,d({identify:k,items:g,messages:A,filterText:w,renderIcon:H,onItemMouseLeave:J,onItemMouseEnter:D,
onItemSelect:y}))};w.renderItem=y;w.renderGroup=G;w.renderLabel=D})},"esri/widgets/Editor/EditorViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/AbortController ../../core/arrayUtils ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/GraphicsLayer ../../layers/graphics/editingSupport ../../layers/support/fieldUtils ../../renderers/support/clickToleranceUtils ../../symbols/support/symbolUtils ../../views/2d/layers/support/popupUtils2D ../../views/support/layerViewUtils ./CreateWorkflowData ./Edits ./UpdateWorkflowData ./Workflow ../FeatureForm/FeatureFormViewModel ../FeatureTemplates/FeatureTemplatesViewModel ../Sketch/SketchViewModel ../Spinner/SpinnerViewModel".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p,k,r,g,A,K,N,R,J,O,m,I,L,Q,X,V,M,W,ba){function U(c,f,b){a.error(new B(c,f,b))}function ca(a){return a&&K.isEditableLayer(a.layer)}function Y(a,c){return a&&G.find(a,function(a){return a.layer===c})}function da(a,c){var f=a.layer,b=f.createQuery();b.objectIds=[a.getAttribute(f.objectIdField)];b.outFields=["*"];b.outSpatialReference=c.spatialReference;return f.queryFeatures(b).then(function(a){return a.features[0]})}function e(a,c,f,b,e){a.create(c.layer.geometryType);
var h=a.on("create",function(f){var h=f.state;f=f.graphic;if("cancel"===h)e();else if("complete"===h){var l=f.clone();l.attributes=v({},c.template.prototype.attributes);l.layer=c.layer;a.layer.remove(f);var u=l.symbol;l.symbol=null;J.getDisplayedSymbol(l).then(function(a){l.symbol=a||u;b(l)})}});f.map.add(a.layer);return{remove:function(){h.remove();f.map.remove(a.layer);a.cancel()}}}function E(a,c,f,b){var h=a.clone();c.layer.add(h);var l=function(){var c=a.layer;if("graphics"===c.type)return{remove:function(){}};
var b=a.attributes[c.objectIdField];f.whenLayerView(a.layer).then(function(a){return a.setVisibility(b,!1)});return{remove:function(){f.whenLayerView(a.layer).then(function(a){return a.setVisibility(b,!0)})}}}(),e={multipleSelectionEnabled:!1};c.update(h,e);var u=c.on("update",function(a){var f=a.graphics[0];"cancel"===a.state?c.update(f,e):b(f.clone())});f.map.add(c.layer);return{remove:function(){l.remove();u.remove();f.map.remove(c.layer);c.cancel();c.layer.removeAll()}}}function t(a){if(1===a.length)if(a=
a[0],"items"in a){if(1===a.items.length)return a.items[0]}else return a}var b=this,a=p.getLogger("esri.widgets.Editor.EditorViewModel"),c=["create","update"],f=function(a,c,f){return n(b,void 0,void 0,function(){var b,h;return d(this,function(l){switch(l.label){case 0:return 0===a.length?[2,void 0]:[4,c.hitTest(f)];case 1:b=l.sent();if(0===b.results.length)return[2,void 0];h=b.results.map(function(a){return a.graphic.layer});return[2,k.eachAlways(a.items.filter(function(a){var c=a.layer;return-1<
a.supports.indexOf("update")&&-1<h.indexOf(c)}).map(function(a){a=a.layer;var b=R.calculateTolerance(a.renderer),b=O.createQueryGeometry(f.mapPoint,b,c),h=a.displayField,l=[a.objectIdField];N.hasField(a.fields,h)&&l.push(h);return a.queryFeatures({geometry:b,outFields:l}).then(function(a){return a.features})}))]}})})};return function(a){function b(c){c=a.call(this,c)||this;c._sketchGraphicsLayer=new A({listMode:"hide"});c.activeWorkflow=null;c.activityQueue=[];c.failures=[];c.featureFormViewModel=
new V;c.featureTemplatesViewModel=new M;c.layerInfos=null;c.sketchViewModel=new W({layer:c._sketchGraphicsLayer});c.spinnerViewModel=new ba;return c}C(b,a);b.prototype.initialize=function(){var a=this;this.handles.add([r.on(this,"view.allLayerViews","change",function(){return a.notifyChange("editableItems")}),r.watch(this,"editableItems",function(){var c=a.activeWorkflow;if(c){var f=c.stepId;"create"===c.type?(a.updateCreationTemplates(),"awaiting-feature-creation-info"!==f||a.canCreate||a._cancelWorkflow()):
"update"===c.type&&("awaiting-feature-to-update"===f&&!a.canUpdate||"awaiting-update-feature-candidate"===f&&!c.data.candidates.some(function(c){var f=a.editableItems.find(function(a){return a.layer===c.layer});return f&&-1<f.supports.indexOf("update")}))&&a._cancelWorkflow()}})])};b.prototype.destroy=function(){this.view=null;this._cancelWorkflow()};Object.defineProperty(b.prototype,"allowedWorkflows",{get:function(){return this._get("allowedWorkflows")},set:function(a){a&&0!==a.length||(a=c.slice());
this._set("allowedWorkflows",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"canCreate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("create")})},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"canUpdate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("update")})},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"editableItems",{get:function(){var a=this,c=this.get("view.allLayerViews");
if(!c)return new D;this.handles.remove("layer-view-property-watchers");var f=function(){return a.notifyChange("editableItems")};return c.filter(ca).map(function(c){a.handles.add(r.watch(c,"suspended",f),"layer-view-property-watchers");var b=c.layer;c=c.suspended;var h=[],l=a.allowedWorkflows,e=b.capabilities.operations,u=Y(a.layerInfos,b),l=l.filter(function(a){return u?!1!==u.enabled&&("create"===a&&!1!==u.addEnabled||"update"===a&&!1!==u.updateEnabled):!0});!c&&G.find(l,function(a){return"create"===
a})&&e.supportsAdd&&h.push("create");!c&&G.find(l,function(a){return"update"===a})&&e.supportsUpdate&&h.push("update");!c&&!1!==(u&&u.deleteEnabled)&&e.supportsDelete&&h.push("delete");return{layer:b,supports:h}}).reverse()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var a=this.activeWorkflow;return a?a.stepId:"ready"},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"syncing",{get:function(){return 0<this.activityQueue.length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"view",{set:function(a){a&&"2d"!==a.type?U("editing:unsupported-view","SceneView is not supported"):(this.sketchViewModel.view=a,this.spinnerViewModel.view=a,this._set("view",a))},enumerable:!0,configurable:!0});b.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return n(this,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return this.canCreate?
[4,this._cancelWorkflow()]:(U("editing:unsupported-workflow","Create workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createCreateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",a),[2]}})})};b.prototype.startCreateWorkflowAtFeatureCreation=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(U("editing:unsupported-workflow","Update workflow is unsupported or disabled."),
[2]);case 1:return f.sent(),c=this._createCreateWorkflow("awaiting-feature-to-create"),c.data.creationInfo=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startCreateWorkflowAtFeatureEdit=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(U("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createCreateWorkflow("editing-new-feature"),
c.data.edits.feature=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startUpdateWorkflowAtFeatureSelection=function(){return n(this,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(U("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createUpdateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",
a),[2]}})})};b.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(U("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createUpdateWorkflow("awaiting-update-feature-candidate"),c.data.candidates=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startUpdateWorkflowAtFeatureEdit=
function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(U("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createUpdateWorkflow("editing-existing-feature"),c.data.edits.feature=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.deleteFeatureFromWorkflow=function(){return n(this,void 0,void 0,function(){var a;
return d(this,function(c){switch(c.label){case 0:a=this.activeWorkflow;if(!a||"create"===a.type)return U("editing:unsupported-workflow","Deleting requires an active update workflow."),[2];this._delete(a.data.edits.feature);return[4,a.reset()];case 1:return c.sent(),[2]}})})};b.prototype.cancelWorkflow=function(a){return n(this,void 0,void 0,function(){return d(this,function(c){return[2,this._cancelWorkflow(v({warn:!0},a))]})})};b.prototype.updateCreationTemplates=function(){this.featureTemplatesViewModel.layers=
this.editableItems.filter(function(a){return-1<a.supports.indexOf("create")}).map(function(a){return a.layer}).toArray()};b.prototype._highlight=function(a){var c=a&&G.find(this.view.allLayerViews.items,function(c){return c.layer===a.layer});m.hasHighlight(c)&&this.handles.add(c.highlight(a),"candidate-highlight")};b.prototype._unhighlight=function(){this.handles.remove("candidate-highlight")};b.prototype._cancelWorkflow=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return c=
this.activeWorkflow,c?[4,c.cancel(a)]:(a&&a.warn&&U("editing:no-active-workflow","There is no active workflow to cancel."),[2]);case 1:return f.sent(),this._set("activeWorkflow",null),[2]}})})};b.prototype._createCreateWorkflow=function(a){var c=this,f=this.handles,b=new I({edits:new L,viewModel:this});return new X({type:"create",data:b,steps:this._createWorkflowStepCreator(b,a),commit:function(){f.remove(c.activeWorkflow.stepId);return c._create(b.edits.feature)}})};b.prototype._createWorkflowStepCreator=
function(a,c){void 0===c&&(c="awaiting-feature-creation-info");var f=a.viewModel.handles,b={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",setUp:function(){return n(this,void 0,void 0,function(){return d(this,function(c){a.creationInfo=null;f.add(a.viewModel.featureTemplatesViewModel.on("select",function(c){c=c.item;a.creationInfo={layer:c.layer,template:c.template};a.viewModel.activeWorkflow.next()}),this.id);return[2]})})},tearDown:function(){return n(this,
void 0,void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",setUp:function(){return n(this,void 0,void 0,function(){var c,b=this;return d(this,function(h){c=function(){f.add(e(a.viewModel.sketchViewModel,a.creationInfo,a.viewModel.view,function(c){a.edits.feature=c;a.viewModel.activeWorkflow.next()},function(){f.remove(b.id);c()}),b.id)};c();return[2]})})},tearDown:function(){return n(this,void 0,
void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"editing-new-feature":function(){return{id:"editing-new-feature",setUp:function(){return n(this,void 0,void 0,function(){var c,b,h;return d(this,function(l){c=a.edits.feature;h=(b=Y(a.viewModel.layerInfos,c.layer))&&b.fieldConfig;a.viewModel.featureFormViewModel.set({feature:c,fieldConfig:h});f.add([a.viewModel.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(a.viewModel.featureFormViewModel.getValues())}),
E(c,a.viewModel.sketchViewModel,a.viewModel.view,function(c){return a.edits.updateGeometry(c.geometry)})],this.id);return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(c){a.edits.feature=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});f.remove(this.id);return[2]})})}}}},h=!1,l=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter(function(a){return h?!0:h=a===c}).map(function(a){return b[a]()});
a.viewModel.updateCreationTemplates();var u=t(a.viewModel.featureTemplatesViewModel.items);"awaiting-feature-creation-info"===l[0].id&&u&&(a.creationInfo={layer:u.layer,template:u.template},l.shift());return l};b.prototype._createUpdateWorkflow=function(a){var c=this,f=this.handles,b=new Q({edits:new L,viewModel:this});return new X({type:"update",data:b,steps:this._updateWorkflowStepCreator(b,a),commit:function(){var a;f.remove(c.activeWorkflow.stepId);var h=b.edits.feature,l=h.clone();if(!b.edits.attributesModified){var e=
h.layer.objectIdField;l.attributes=(a={},a[e]=h.getAttribute(e),a)}b.edits.geometryModified||(l.geometry=null);return c._update(l)}})};b.prototype._updateWorkflowStepCreator=function(a,c){void 0===c&&(c="awaiting-feature-to-update");var b=a.viewModel.handles,h={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){return n(this,void 0,void 0,function(){var c,h,l,e,u;return d(this,function(x){c=a.viewModel;h=c.spinnerViewModel;l=c.view;e=null;b.add({remove:function(){e&&
(e.abort(),e=null)}},this.id);a.edits.feature=null;u=l.on("click",function(c){c.stopPropagation();h.location=c.mapPoint;h.visible=!0;e&&e.abort();var b=a.viewModel.editableItems;e=new y.default;k.create(function(a,h){k.onAbort(e.signal,function(){return h(k.createAbortError())});a(f(b,l,c))}).then(function(c){a.viewModel.spinnerViewModel.visible=!1;k.throwIfAborted(e);a.candidates=c.reduce(function(a,c){return c.error?a:a.concat(c.value)},[]);0!==a.candidates.length&&(1===a.candidates.length?(a.edits.feature=
a.candidates[0],a.viewModel.activeWorkflow.go("editing-existing-feature")):a.viewModel.activeWorkflow.next())})});b.add(u,this.id);return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(a){b.remove(this.id);return[2]})})}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){return n(this,void 0,void 0,function(){var c,f;return d(this,function(h){c=a.edits;f=a.viewModel;c.feature=null;b.add(r.watch(c,
"feature",function(a){f._unhighlight();f._highlight(a)}),this.id);return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(c){a.viewModel._unhighlight();b.remove(this.id);return[2]})})}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){return n(this,void 0,void 0,function(){var c,f,h=this;return d(this,function(l){c=a.edits.feature;f=a.viewModel;a.editableItem=f.editableItems.find(function(a){return a.layer===c.layer});
return[2,da(c,f.view).then(function(c){a.edits.updateGeometry(c.geometry);a.edits.updateAttributes(c.attributes);a.edits.trackChanges();var l=c.layer,e=Y(f.layerInfos,l);f.featureFormViewModel.set({feature:c,fieldConfig:e&&e.fieldConfig});e=[f.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(f.featureFormViewModel.getValues())})];l.capabilities.editing.supportsGeometryUpdate?e.push(E(c,f.sketchViewModel,f.view,function(c){return a.edits.updateGeometry(c.geometry)})):f._highlight(c);
b.add(e,h.id)})]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(c){a.editableItem=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});b.remove(this.id);a.viewModel._unhighlight();return[2]})})}}}},l=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature"].filter(function(a){return l?!0:l=a===c}).map(function(a){return h[a]()})};b.prototype._create=function(a){return this._queueOperation(function(){return a.layer.applyEdits({addFeatures:[a]})})};
b.prototype._delete=function(a){return this._queueOperation(function(){return a.layer.applyEdits({deleteFeatures:[a]})})};b.prototype._update=function(a){return this._queueOperation(function(){return a.layer.applyEdits({updateFeatures:[a]})}).then()};b.prototype._queueOperation=function(a){var c=this;this.activityQueue.push(a);this.notifyChange("syncing");var f=function(a,c){a=c.indexOf(a);-1<a&&c.splice(a,1)};return a().then(function(a){var c=a.deleteFeatureResults,f=a.updateFeatureResults;if(a=
G.find(a.addFeatureResults,function(a){return!!a.error})||G.find(f,function(a){return!!a.error})||G.find(c,function(a){return!!a.error}))throw a.error;}).catch(function(b){U("editing:operation-error","An error ocurred.",{error:b});var h={error:b,retry:function(){f(h,c.failures);c._queueOperation(a)},cancel:function(){return f(h,c.failures)}};c._set("failures",c.failures.concat([h]))}).then(function(){f(a,c.activityQueue);c.notifyChange("syncing")})};q([g.property({readOnly:!0})],b.prototype,"activeWorkflow",
void 0);q([g.property({readOnly:!0})],b.prototype,"activityQueue",void 0);q([g.property({value:c.slice()})],b.prototype,"allowedWorkflows",null);q([g.property({readOnly:!0,dependsOn:["editableItems"]})],b.prototype,"canCreate",null);q([g.property({readOnly:!0,dependsOn:["editableItems"]})],b.prototype,"canUpdate",null);q([g.property({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],readOnly:!0})],b.prototype,"editableItems",null);q([g.property({readOnly:!0})],b.prototype,
"failures",void 0);q([g.property()],b.prototype,"featureFormViewModel",void 0);q([g.property()],b.prototype,"featureTemplatesViewModel",void 0);q([g.property()],b.prototype,"layerInfos",void 0);q([g.property()],b.prototype,"sketchViewModel",void 0);q([g.property()],b.prototype,"spinnerViewModel",void 0);q([g.property({dependsOn:["editableItems","activeWorkflow.stepId","view.ready"]})],b.prototype,"state",null);q([g.property({readOnly:!0})],b.prototype,"syncing",null);q([g.property()],b.prototype,
"view",null);q([g.property()],b.prototype,"startCreateWorkflowAtFeatureTypeSelection",null);q([g.property()],b.prototype,"startCreateWorkflowAtFeatureCreation",null);q([g.property()],b.prototype,"startCreateWorkflowAtFeatureEdit",null);q([g.property()],b.prototype,"startUpdateWorkflowAtFeatureSelection",null);q([g.property()],b.prototype,"startUpdateWorkflowAtMultipleFeatureSelection",null);q([g.property()],b.prototype,"startUpdateWorkflowAtFeatureEdit",null);q([g.property()],b.prototype,"deleteFeatureFromWorkflow",
null);q([g.property()],b.prototype,"cancelWorkflow",null);return b=q([g.subclass("esri.widgets.Editor.EditorViewModel")],b)}(g.declared(H.HandleOwner))})},"esri/layers/GraphicsLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/promiseUtils ../core/accessorSupport/decorators ./Layer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p){return function(k){function r(g){g=k.call(this)||this;g.elevationInfo=null;g.graphics=new H.default;g.screenSizePerspectiveEnabled=!0;g.type="graphics";return g}C(r,k);r.prototype.destroy=function(){this.removeAll()};r.prototype.add=function(g){this.graphics.add(g);return this};r.prototype.addMany=function(g){this.graphics.addMany(g);return this};r.prototype.removeAll=function(){this.graphics.removeAll();return this};r.prototype.remove=function(g){this.graphics.remove(g)};
r.prototype.removeMany=function(g){this.graphics.removeMany(g)};r.prototype.on=function(g,k){return this.inherited(arguments)};r.prototype.importLayerViewModule=function(g){return n(this,void 0,void 0,function(){return d(this,function(k){switch(g.type){case "2d":return[2,y.create(function(g){return F(["../views/2d/layers/GraphicsLayerView2D"],g)})];case "3d":return[2,y.create(function(g){return F(["../views/3d/layers/GraphicsLayerView3D"],g)})]}return[2]})})};r.prototype.graphicChanged=function(g){this.emit("graphic-update",
g)};q([G.property({type:p})],r.prototype,"elevationInfo",void 0);q([G.property(H.graphicsCollectionProperty)],r.prototype,"graphics",void 0);q([G.property({type:["show","hide"]})],r.prototype,"listMode",void 0);q([G.property()],r.prototype,"screenSizePerspectiveEnabled",void 0);q([G.property({readOnly:!0})],r.prototype,"type",void 0);return r=q([G.subclass("esri.layers.GraphicsLayer")],r)}(G.declared(B.ScaleRangeLayer(D)))})},"esri/renderers/support/clickToleranceUtils":function(){define(["require",
"exports"],function(F,w){function C(d,n){return n&&n.xoffset?Math.max(d,Math.abs(n.xoffset)):n&&n.yoffset?Math.max(d,Math.abs(n.yoffset)):d}function q(d,n){if("number"===typeof d)return d;if(d&&d.stops&&d.stops.length){d=d.stops;for(var q=n=0,v=0;v<d.length;v++){var w=d[v].size;"number"===typeof w&&(n+=w,q++)}return n/q}return n}function v(d,n){if(!n)return d;n=n.filter(function(d){return"size"===d.type}).map(function(n){var v=n.minSize;return(q(n.maxSize,d)+q(v,d))/2});var v=0,w=n.length;if(0===
w)return d;for(var D=0;D<w;D++)v+=n[D];return Math.max(Math.floor(v/w),d)}Object.defineProperty(w,"__esModule",{value:!0});w.calculateTolerance=function(d){if(!d)return 6;var n="visualVariables"in d?v(6,d.visualVariables):6;if("simple"===d.type)return C(n,d.symbol);if("unique-value"===d.type){var q=n;d.uniqueValueInfos.forEach(function(d){q=C(q,d.symbol)});return q}if("class-breaks"===d.type){var w=n;d.classBreakInfos.forEach(function(d){w=C(w,d.symbol)});return w}return n}})},"esri/views/2d/layers/support/popupUtils2D":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","../../../../core/tsSupport/decorateHelper","../../../../geometry/Extent"],function(F,w,C,q,v){Object.defineProperty(w,"__esModule",{value:!0});w.createQueryGeometry=function(d,n,q){var y=q.get("state.resolution"),y=n*("number"===typeof y?y:1);n=d.clone().offset(-y,-y);d=d.clone().offset(y,y);return new v({xmin:Math.min(n.x,d.x),ymin:Math.min(n.y,d.y),xmax:Math.max(n.x,d.x),ymax:Math.max(n.y,d.y),spatialReference:q.spatialReference})}})},"esri/widgets/Editor/CreateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d){return function(n){function v(){var d=null!==n&&n.apply(this,arguments)||this;d.creationInfo=null;d.edits=null;d.viewModel=null;return d}C(v,n);q([d.property()],v.prototype,"creationInfo",void 0);q([d.property()],v.prototype,"edits",void 0);q([d.property()],v.prototype,"viewModel",void 0);return v=q([d.subclass("esri.widgets.Editor.CreateWorkflowData")],v)}(d.declared(v))})},"esri/widgets/Editor/Edits":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d,n,y){function G(d){return n.isNone(d)?null:JSON.stringify(d)}return function(d){function n(n){n=d.call(this,n)||this;n._baselineAttributesJSON=null;n._baselineGeometryJSON=null;return n}C(n,d);Object.defineProperty(n.prototype,"attributesModified",{get:function(){var d=this._baselineAttributesJSON,p=this.feature;return!(!p||d===G(p.attributes))},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"geometryModified",{get:function(){var d=this._baselineGeometryJSON,
p=this.feature;return!(!p||d===G(p.geometry))},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"modified",{get:function(){return this.attributesModified||this.geometryModified},enumerable:!0,configurable:!0});n.prototype.trackChanges=function(){this.feature&&(this._baselineAttributesJSON=G(this.feature.attributes),this._baselineGeometryJSON=G(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))};n.prototype.updateAttributes=function(d){this.feature.attributes=
d;this.notifyChange("attributesModified")};n.prototype.updateGeometry=function(d){this.feature.geometry=d;this.notifyChange("geometryModified")};q([y.property()],n.prototype,"attributesModified",null);q([y.property()],n.prototype,"feature",void 0);q([y.property()],n.prototype,"geometryModified",null);q([y.property({dependsOn:["attributesModified","geometryModified"]})],n.prototype,"modified",null);return n=q([y.subclass("esri.widgets.Editor.Edits")],n)}(y.declared(d.HandleOwnerMixin(v)))})},"esri/widgets/Editor/UpdateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d){return function(n){function v(){var d=null!==n&&n.apply(this,arguments)||this;d.candidates=null;d.editableItem=null;d.edits=null;d.viewModel=null;return d}C(v,n);q([d.property()],v.prototype,"candidates",void 0);q([d.property()],v.prototype,"editableItem",void 0);q([d.property()],v.prototype,"edits",void 0);q([d.property()],v.prototype,"viewModel",void 0);return v=q([d.subclass("esri.widgets.Editor.UpdateWorkflowData")],v)}(d.declared(v))})},"esri/widgets/Editor/Workflow":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Error ../../core/Evented ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H){return function(p){function k(k){k=p.call(this,k)||this;k._indexHistory=[];k._lastStepIndex=-1;k._stepIndex=-1;k.data=null;k.started=!1;k.steps=null;k.type=null;return k}C(k,p);Object.defineProperty(k.prototype,"hasNextStep",{get:function(){return!!(this.steps&&this._stepIndex<this.steps.length-1)},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"hasPreviousStep",{get:function(){return 0<this._stepIndex},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,
"stepId",{get:function(){var k=this.steps;return(k=k&&k[this._stepIndex])&&k.id},enumerable:!0,configurable:!0});k.prototype.cancel=function(k){void 0===k&&(k={force:!0});return n(this,void 0,void 0,function(){var g=this;return d(this,function(d){return!1!==k.force?[2,this._cancel()]:[2,B.create(function(k,d){g.emit("cancel-request",{controller:{allow:function(){return g._cancel().then(k)},deny:function(){return d(new G("workflow:cancel-denied","Request to cancel workflow was denied."))}}})})]})})};
k.prototype.commit=function(){return n(this,void 0,void 0,function(){return d(this,function(k){return[2]})})};k.prototype.go=function(k){return n(this,void 0,void 0,function(){var g,r;return d(this,function(d){switch(d.label){case 0:return g=this.steps,r=y.findIndex(g,function(g){return g.id===k}),this._indexHistory.push(this._stepIndex),[4,this._go(r)];case 1:return d.sent(),[2]}})})};k.prototype.next=function(){return n(this,void 0,void 0,function(){return d(this,function(k){switch(k.label){case 0:return this._indexHistory.push(this._stepIndex),
[4,this._go(this._stepIndex+1)];case 1:return k.sent(),[2]}})})};k.prototype.previous=function(){return n(this,void 0,void 0,function(){return d(this,function(k){switch(k.label){case 0:return[4,this._go(this._indexHistory.pop())];case 1:return k.sent(),[2]}})})};k.prototype.reset=function(){return n(this,void 0,void 0,function(){return d(this,function(k){switch(k.label){case 0:return[4,this._cancel()];case 1:return k.sent(),[4,this.start()];case 2:return k.sent(),[2]}})})};k.prototype.start=function(){return n(this,
void 0,void 0,function(){var k;return d(this,function(g){switch(g.label){case 0:return this._set("started",!0),k=-1===this._stepIndex?0:this._stepIndex,[4,this._go(k)];case 1:return g.sent(),[2]}})})};k.prototype._cancel=function(){return n(this,void 0,void 0,function(){return d(this,function(k){switch(k.label){case 0:return this.started?[4,this.steps[this._stepIndex].tearDown()]:[3,2];case 1:k.sent(),k.label=2;case 2:return this._set("started",!1),this._resetIndexing(),[2]}})})};k.prototype._go=
function(k){void 0===k&&(k=-1);return n(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return-1>=k||k>=this.steps.length?[2]:this.started?-1<this._lastStepIndex?[4,this.steps[this._lastStepIndex].tearDown()]:[3,2]:(this._stepIndex=k,this._notifyStepProps(),[2]);case 1:g.sent(),g.label=2;case 2:return[4,this.steps[k].setUp()];case 3:return g.sent(),this._stepIndex=this._lastStepIndex=k,this._notifyStepProps(),[2]}})})};k.prototype._resetIndexing=function(){this._lastStepIndex=
this._stepIndex=-1;this._indexHistory.length=0;this._notifyStepProps()};k.prototype._notifyStepProps=function(){this.notifyChange("stepId");this.notifyChange("hasPreviousStep");this.notifyChange("hasNextStep")};q([H.property()],k.prototype,"data",void 0);q([H.property()],k.prototype,"hasNextStep",null);q([H.property()],k.prototype,"hasPreviousStep",null);q([H.property()],k.prototype,"started",void 0);q([H.property({readOnly:!0,dependsOn:["steps"]})],k.prototype,"stepId",null);q([H.property()],k.prototype,
"steps",void 0);q([H.property()],k.prototype,"type",void 0);q([H.property()],k.prototype,"commit",null);return k=q([H.subclass("esri.widgets.Editor.Workflow")],k)}(H.declared(D.EventedAccessor))})},"esri/widgets/Sketch/SketchViewModel":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../geometry ../../Graphic ../../symbols ../../core/Collection ../../core/compilerUtils ../../core/Error ../../core/Evented ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/coordsUtils ../../layers/GraphicsLayer ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../symbols/SimpleMarkerSymbol ../../views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic ../../views/draw/Draw ../../views/draw/support/createUtils ./support/OperationHandle".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p,k,r,g,A,K,N,R,J,O,m,I,L,Q,X,V,M,W,ba){function U(b,a){var c=b.history.undo.pop().updates,f=[];a.forEach(function(a,b){b=c[b];var h={};null!=b&&(A.isSome(b.geometry)&&(h.geometry=a.geometry,a.geometry=b.geometry),A.isSome(b.symbol)&&(h.symbol=a.symbol,a.symbol=b.symbol),f.push(h))});b.history.redo.push({updates:f})}function ca(b,a){var c=b.history.redo.pop().updates,f=[];a.forEach(function(a,b){b=c[b];var h={};null!=b&&(A.isSome(b.geometry)&&(h.geometry=a.geometry,
a.geometry=b.geometry),A.isSome(b.symbol)&&(h.symbol=a.symbol,a.symbol=b.symbol),f.push(h))});b.history.undo.push({updates:f})}function Y(b){return{updates:b.map(function(a){return{geometry:a.geometry}})}}function da(b){return{updates:b.map(function(a){return{symbol:a.symbol}})}}function e(b){b.canUndo()?b.complete():b.cancel()}var E=g.getLogger("esri.widgets.Sketch.SketchViewModel"),t=["Backspace","Delete"];return function(b){function a(a){a=b.call(this,a)||this;a._activeFillGraphic=null;a._activeLineGraphic=
null;a._centerIndicatorGraphic=null;a._centerSymbol=new Q({style:"cross",size:6,color:[255,255,255]});a._defaultSegmentOffset=48;a._handles=new r;a._internalGraphicsLayer=new m({listMode:"hide"});a._lineGraphic=null;a._operationHandle=null;a._vertexGraphics=[];a._viewHandles=new r;a._highlightHandlesByGraphic=new r;a._doUnnormalization=!1;a.activeFillSymbol=new I({style:"solid",color:[150,150,150,.2],outline:{color:[0,0,0,0]}});a.activeLineSymbol=new L({color:[12,207,255,1],width:2,style:"dash"});
a.activePointSymbol=new Q({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.activeVertexSymbol=new Q({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.createGraphic=null;a.defaultUpdateOptions={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform"};a.layer=null;a.pointSymbol=new Q({style:"circle",size:6,color:[255,255,255],
outline:{color:[50,50,50],width:1}});a.polygonSymbol=new I({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}});a.polylineSymbol=new L({color:[130,130,130,1],width:2});a.updateGraphics=new B;a.updateOnGraphicClick=!0;a.updatePointSymbol=new Q({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}});a.updatePolygonSymbol=new I({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}});a.updatePolylineSymbol=new L({color:[12,207,255],width:2});a.vertexSymbol=new Q({style:"circle",
size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});return a}q(a,b);a.prototype.initialize=function(){var a=this;this._handles.add([R.watch(this,"layer",function(){return a.cancel()}),R.on(this,"view.map.layers","change",function(c){0<=c.removed.indexOf(a.layer)&&a.cancel()}),R.on(this,"layer.graphics","change",function(c){if(A.isSome(a._operationHandle)){var f=0;for(c=c.removed;f<c.length;f++){var b=c[f];a.updateGraphics.includes(b)&&(1<a.updateGraphics.length?a._operationHandle.removeFromSelection(b):
e(a._operationHandle))}}})].concat(this._generateSceneViewHighlightHandles()))};a.prototype.destroy=function(){this.cancel();this._handles.removeAll();this._handles=null;this._viewHandles.removeAll();this._viewHandles=null;this._highlightHandlesByGraphic.removeAll();this._highlightHandlesByGraphic=null;this._removeDefaultLayer();this._draw&&this._draw.destroy();this._set("view",null);this.emit("destroy")};Object.defineProperty(a.prototype,"_defaultUpdateTool",{get:function(){return"3d"===this.view.type?
"move":"transform"},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"_draw",{get:function(){return"ready"===this.state||"active"===this.state?new M({view:this.view}):null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"activeTool",{get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"activeComponent",{get:function(){return this._operationHandle?
this._operationHandle.activeComponent:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"state",{get:function(){var a=!(!this.get("view.ready")||!this.layer),f=this._operationHandle;return a&&f?"active":a?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"view",{get:function(){return this._get("view")},set:function(a){var c=this,b=this._get("view");if(b){var l=b.map;b.container&&(b.cursor=null);l&&l.remove(this._internalGraphicsLayer);this._viewHandles.removeAll();
this.cancel()}this._doUnnormalization=null!=a&&"3d"===a.type&&"global"===a.viewingMode;this._handles.remove("view-ready");a&&this._handles.add(R.when(a,"ready",function(f){c._viewHandles.removeAll();f&&c._viewHandles.add(c._generateViewHandles(a))},!0),"view-ready");this._set("view",a)},enumerable:!0,configurable:!0});a.prototype.cancel=function(){this._operationHandle&&this._operationHandle.cancel()};a.prototype.complete=function(){this._operationHandle&&this._operationHandle.complete()};a.prototype.create=
function(a,f){var c=this;if("disabled"===this.state)this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel.");else if(this.cancel(),a){var b=this._setupCreateOperation(a,f);b&&(this.view.map.add(this._internalGraphicsLayer),f=function(){if(b===c._operationHandle){var f=b.cancelled?"cancel":"complete",h=c.createGraphic;c._operationHandle.destroy();c._operationHandle=
null;c._set("createGraphic",null);c.view&&c.view.map&&c.view.map.remove(c._internalGraphicsLayer);b.cancelled||c.layer.add(h);c._emitCreateEvent({graphic:h,state:f,tool:a,toolEventInfo:null})}},b.on("complete",f),b.on("cancel",f),this._operationHandle=b)}else this._logError("sketch:missing-parameter","Missing parameter 'tool'.")};a.prototype.update=function(a,f){return n(this,void 0,void 0,function(){var c,b,e,x,z,t,P,g=this;return d(this,function(h){switch(h.label){case 0:c=this;b=c.layer;e=c.state;
x=c.view;if("disabled"===e)return b||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),x||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),[2];this.cancel();z=Array.isArray(a)?a:[a];return z&&z.length?(t=z.some(function(a){return a.layer!==b?(g._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):A.isNone(a.geometry)?(g._logError("sketch:invalid-parameter",
"Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0):"2d"!==x.type||x.spatialReference.equals(a.geometry.spatialReference)?!1:(g._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0)}))?[2]:[4,this._setupUpdateOperation(z,f)]:(this._logError("sketch:missing-parameter","Missing parameter 'graphics'."),[2]);case 1:P=h.sent();if(!P)return[2];this.view.map.add(this._internalGraphicsLayer);
this._emitUpdateEvent({graphics:z,state:"start",tool:P.tool,toolEventInfo:null});this._setUpdateOperationHandle(P);return[2]}})})};a.prototype.undo=function(){this.canUndo()&&this._operationHandle.undo()};a.prototype.redo=function(){this.canRedo()&&this._operationHandle.redo()};a.prototype.canUndo=function(){return!(!this._operationHandle||!this._operationHandle.canUndo())};a.prototype.canRedo=function(){return!(!this._operationHandle||!this._operationHandle.canRedo())};a.prototype.toggleUpdateTool=
function(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()};a.prototype._hitTest=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return[4,this.view.hitTest(a)];case 1:return c=f.sent(),"2d"===this.view.type?[2,c]:0<c.results.length?[2,{screenPoint:a,results:[c.results[0]]}]:[2,{screenPoint:a,results:[]}]}})})};a.prototype._generateViewHandles=function(a){var c=this;return[a.on("click",function(a){if(!c.view.toolViewManager.handlesClickEvent(a)){var f=
c._operationHandle,b=c.defaultUpdateOptions,h=c.layer,e=c.state,t=c.updateGraphics,P=c.updateOnGraphicClick,f="active"===e&&"create"===f.type;"disabled"!==e&&!f&&P&&c._hitTest(N.createScreenPointFromEvent(a)).then(function(a){a=a.results;a.length?a.some(function(a){if(a.graphic){a=a.graphic;if(-1<t.indexOf(a))return!0;if(a.layer===h)return c.update([a],C({},b)),!0}return!1}):"active"===e&&c.cancel()})}})]};a.prototype._setupCreateOperation=function(a,f){if(a){var c;switch(a){case "point":c=this._setupCreatePointOperation(a,
f);break;case "multipoint":c=this._setupCreateMultipointOperation(a,f);break;case "polygon":case "polyline":c=this._setupCreatePolyOperation(a,f);break;case "rectangle":c=this._setupCreateRectangleOperation(a,f);break;case "circle":c=this._setupCreateCircleOperation(a,f)}return c}};a.prototype._setupCreatePointOperation=function(a,f){var c=this;f=this._draw.create(a,f);var b=[f.on("cursor-update",function(a){A.isSome(a.coordinates)?c._displayCrosshairCursor():c._displayDefaultCursor()}),f.on("draw-complete",
function(a){a=a.coordinates;a=new y.Point(a[0],a[1],c.view.spatialReference);a=new G(a,c.pointSymbol);c._set("createGraphic",a);x&&x.complete()})],e=[this.view.on("key-down",function(a){"Escape"===a.key&&x&&x.cancel()})],x=this._operationHandleForCreateAction(f,b.concat(e),a);return x};a.prototype._setupCreateMultipointOperation=function(a,f){var c=this;f=this._draw.create(a,f);var b=null,e=[],x=this._operationHandleForCreateAction(f,e,a);e.push(f.on("vertex-add",function(f){var h=f.type,l=f.vertices,
e=l[f.vertexIndex];b=f;c._drawMultipointGraphic(l,!0);c._emitCreateEvent({graphic:c.createGraphic,state:1===l.length?"start":"active",tool:a,toolEventInfo:{added:e,type:h}})}),f.on("vertex-remove",function(f){var h=f.type,l=f.vertices,e=l[f.vertexIndex];b=f;c._drawMultipointGraphic(l,!0);c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{removed:e,type:h}})}),f.on("vertex-update",function(f){var h=f.type,l=f.vertices,e=l[f.vertexIndex];b=f;c._drawMultipointGraphic(l,
!0);c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{type:h,updated:e}})}),f.on("cursor-update",function(a){b=a}),f.on("draw-complete",function(a){a=a.vertices.slice(0);(a=W.createMultipoint(a,c.view.spatialReference))?(c.createGraphic&&(c.createGraphic.geometry=a),x&&x.complete()):x&&x.cancel()}),f.on("undo",function(a){a=a.vertices;var f=b&&"cursor-update"!==b.type;c._resetCreateOperationGraphics();a.length&&c._drawMultipointGraphic(a,f)}),f.on("redo",function(a){a=
a.vertices;var f=b&&"cursor-update"!==b.type;c._resetCreateOperationGraphics();a.length&&c._drawMultipointGraphic(a,f)}));e.push(this.view.on("pointer-move",function(a){return c._displayCrosshairCursor()}),this.view.on("key-down",function(a){return c._getCommonUpdateOperationKeyDownHandlers(x,a)}));return x};a.prototype._setupCreatePolyOperation=function(a,f){var c=this,b=null;"polyline"===a?b=this._draw.create(a,f):"polygon"===a&&(b=this._draw.create(a,f));var e=new y.Point,x=null,z=!1;f=[b.on("vertex-add",
function(f){var b=f.type,h=f.vertices,l=h[f.vertexIndex];c._snap(a,h,z);x=f;c._drawVertexGraphics(a,h,{userClicked:!0});c._emitCreateEvent({graphic:c.createGraphic,state:1===h.length?"start":"active",tool:a,toolEventInfo:{added:l,type:b}})}),b.on("vertex-remove",function(f){var b=f.type,h=f.vertices,l=h[f.vertexIndex];c._snap(a,h,z);x=f;c._drawVertexGraphics(a,h,{userClicked:!0});c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{removed:l,type:b}})}),b.on("vertex-update",
function(f){var b=f.type,h=f.vertices,l=h[f.vertexIndex];c._snap(a,h,z);x=f;c._drawVertexGraphics(a,h,{userClicked:!0});c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{type:b,updated:l}})}),b.on("cursor-update",function(f){var b=f.type,h=f.vertices;f.mapPoint&&(c._snap(a,h,z),x=f,e=f.mapPoint,c._drawVertexGraphics(a,h,{userClicked:!1}),1<h.length&&c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:h[h.length-1],type:b}}))}),
b.on("draw-complete",function(f){f=f.vertices.slice(0);var b=null;"polyline"===a?b=W.createPolyline([f],c.view.spatialReference,c._doUnnormalization):"polygon"===a&&(b=W.createPolygon([f],c.view.spatialReference,c._doUnnormalization,!0));b?(c.createGraphic.geometry=b,k&&k.complete()):k&&k.cancel()}),b.on("undo",function(f){f=f.vertices;var b=x&&"cursor-update"!==x.type;c._resetCreateOperationGraphics();c._snap(a,f,z);f.length&&c._drawVertexGraphics(a,f,{userClicked:b})}),b.on("redo",function(f){f=
f.vertices;var b=x&&"cursor-update"!==x.type;c._resetCreateOperationGraphics();c._snap(a,f,z);f.length&&c._drawVertexGraphics(a,f,{userClicked:b})})];var t=[this.view.on("pointer-move",function(a){c.view.toMap(N.createScreenPoint(a.x,a.y))?c._displayCrosshairCursor():c._displayDefaultCursor()}),this.view.on("key-down",function(f){var h=b.vertices.slice(0),l=x&&"cursor-update"!==x.type;"Control"!==f.key||z||"2d"!==c.view.type?"z"===f.key&&k&&k.canUndo()?(f.stopPropagation(),k.undo()):"r"===f.key&&
k&&k.canRedo()?(f.stopPropagation(),k.redo()):"Escape"===f.key&&k&&k.cancel():(z=!0,c._snap(a,h,!l),c._drawVertexGraphics(a,h,{userClicked:l}))}),this.view.on("key-up",function(f){var h=b.vertices.slice(0),l=x&&"cursor-update"!==x.type;"Control"===f.key&&z&&(l||(h.pop(),h.push([e.x,e.y]),c._drawVertexGraphics(a,h,{userClicked:l})),z=!1)})];if("polygon"===a){var P=function(a,f,b){if(!a||!a.layer||!a.visible)return!1;a=c.view.toScreen(a.geometry);return c._isWithinScreenDistance(a,f,b)},g=function(a){if(!(2>=
c._vertexGraphics.length))return P(c._vertexGraphics[0],a,c._getVertexIntersectDistance())};t.push(this.view.on("pointer-move",function(a){var f=g(a);c._highlightHandlesByGraphic.forEach(function(a){return f?a.pause():a.resume()})}),this.view.on("pointer-down",function(a){g(a)?(a.stopPropagation(),b.complete()):c._vertexGraphics.some(function(f){return P(f,a,c._getVertexIntersectDistance())})&&a.stopPropagation()}))}var k=this._operationHandleForCreateAction(b,f.concat(t),a);return k};a.prototype._setupCreateCircleOperation=
function(a,f){var c=this,b=this._draw.create(a,f),e=!1,x=!0;f=[b.on("vertex-add",function(f){var b=f.type,h=f.vertices;f=h[f.vertexIndex];c._drawSegmentGraphic(a,h,{centered:x,constrained:e});c._emitCreateEvent({graphic:c.createGraphic,state:1===h.length?"start":"active",tool:a,toolEventInfo:{added:f,type:b}})}),b.on("cursor-update",function(f){var b=f.type;f=f.vertices;c._drawSegmentGraphic(a,f,{centered:x,constrained:e});2===f.length&&c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,
toolEventInfo:{coordinates:f[f.length-1],type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var f=null,f=W.createViewAlignedCoordinateSystem(c.view,a[0]);1===a.length?(a.push([a[0][0]+c._defaultSegmentOffset*c.view.resolution,a[0][1]]),f=W.createCircle(a,f,!0)):f=e?W.createEllipse(a,f,x):W.createCircle(a,f,x);c.createGraphic?c.createGraphic.geometry=f:(c._removeCreateGraphic(),c._set("createGraphic",new G(f,c.polygonSymbol)));t&&t.complete()})];var z=[this.view.on("pointer-move",function(a){c.view.toMap(N.createScreenPoint(a.x,
a.y))?c._displayCrosshairCursor():c._displayDefaultCursor()}),this.view.on("key-down",function(f){"Control"!==f.key||e?"Alt"===f.key&&x?(x=!1,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e})):"Escape"===f.key&&t&&t.cancel():(e=!0,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e}))}),this.view.on("key-up",function(f){"Control"===f.key?(e=!1,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e})):"Alt"===f.key&&(x=!0,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e}))})],
t=this._operationHandleForCreateAction(b,f.concat(z),a);return t};a.prototype._setupCreateRectangleOperation=function(a,f){var c=this,b=this._draw.create(a,f),e=!1,x=!1;f=[b.on("vertex-add",function(f){var b=f.type,h=f.vertices;f=h[f.vertexIndex];c._drawSegmentGraphic(a,h,{centered:x,constrained:e});c._emitCreateEvent({graphic:c.createGraphic,state:1===h.length?"start":"active",tool:a,toolEventInfo:{added:f,type:b}})}),b.on("cursor-update",function(f){var b=f.type;f=f.vertices;c._drawSegmentGraphic(a,
f,{centered:x,constrained:e});2===f.length&&c._emitCreateEvent({graphic:c.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:f[f.length-1],type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var f=null,f=W.createViewAlignedCoordinateSystem(c.view,a[0]);1===a.length&&(x=e=!1);f=e?W.createSquare(a,f,x):W.createRectangle(a,f,x);c.createGraphic?c.createGraphic.geometry=f:(c._removeCreateGraphic(),c._set("createGraphic",new G(f,c.polygonSymbol)));t&&t.complete()})];var z=[this.view.on("pointer-move",
function(a){c.view.toMap(N.createScreenPoint(a.x,a.y))?c._displayCrosshairCursor():c._displayDefaultCursor()}),this.view.on("key-down",function(f){"Control"!==f.key||e?"Alt"!==f.key||x?"Escape"===f.key&&t&&t.cancel():(x=!0,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e})):(e=!0,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e}))}),this.view.on("key-up",function(f){"Control"===f.key?(e=!1,c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e})):"Alt"===f.key&&(x=!1,
c._drawSegmentGraphic(a,b.vertices,{centered:x,constrained:e}))})],t=this._operationHandleForCreateAction(b,f.concat(z),a);return t};a.prototype._setupUpdateOperation=function(a,f){return n(this,void 0,void 0,function(){var c,b,e,x,z,t,P,g,k,m,r;return d(this,function(h){c=this;b=c._defaultUpdateTool;e=c.defaultUpdateOptions;x=c.layer;z=c.view;t=C({},e,f);P=t.tool||b;g=0;for(k=a;g<k.length;g++)m=k[g],x.remove(m),x.add(m);if("3d"===z.type){a=a.filter(function(a){return A.isSome(a.geometry)&&!a.geometry.hasZ&&
"mesh"!==a.geometry.type});if("reshape"===P&&1<a.length)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null];if("move"===P||1<a.length)return[2,this._setupMoveOrTransform3DOperation(a,t,z)];if(1===a.length){m=a[0];r=A.get(m.geometry,"type");if("point"===r)return[2,V.isSupportedGraphic(m)?this._setupPointTransform3DOperation(m,t,z):this._setupMoveOrTransform3DOperation(a,t,z)];if("reshape"===P&&X.isSupportedGraphic(m))return[2,this._setupReshape3DOperation(m,
t,z)];if("transform"===P)return[2,this._setupMoveOrTransform3DOperation(a,t,z,"transform")]}return[2,null]}if("move"===P)return[2,this._setupMoveOperation(a,t,z)];if(1<a.length)return"reshape"===P?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null]):[2,this._setupTransformOrReshapeOperation(a,P,t,z)];if(1===a.length){m=a[0];r=A.get(m.geometry,"type");if("point"===r||"multipoint"===r)return[2,this._setupMoveOperation(a,t,z)];if("transform"===
P||"reshape"===P)return[2,this._setupTransformOrReshapeOperation(a,P,t,z)]}return[2,null]})})};a.prototype._setupMoveOrTransform3DOperation=function(a,f,b,l,u){void 0===l&&(l="move");void 0===u&&(u=!1);return n(this,void 0,void 0,function(){var c,h,t,P,g=this;return d(this,function(x){switch(x.label){case 0:return[4,K.create(function(a){F(["../../views/3d/interactive/editingTools"],a)})];case 1:return c=x.sent().GraphicMove3DTool,h=new c({view:b}),this.view.tools.add(h),h.graphics.addMany(a),u||this.updateGraphics.addMany(a),
t=[],P=new ba.OperationHandle({activeComponent:h,tool:l,type:"update",onEnd:function(){t.forEach(function(a){return a.remove()});t.length=0;g.view.tools.remove(h);h.destroy()},undo:function(){U(P,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:l})},redo:function(){ca(P,g.updateGraphics.toArray());g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:l})},addToSelection:function(a){g.updateGraphics.push(a);h.graphics.push(a);g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),
state:"active",tool:g.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=g.updateGraphics.indexOf(a);P.history.undo.forEach(function(a){return a.updates.splice(c,1)});P.history.redo.forEach(function(a){return a.updates.splice(c,1)});g.updateGraphics.remove(a);0===g.updateGraphics.length?e(P):h.graphics.remove(a)},toggleTool:function(){return n(g,void 0,void 0,function(){var a,c;return d(this,function(h){switch(h.label){case 0:if(1!==this.updateGraphics.length||
!1===f.toggleToolOnClick||"transform"!==l)return[2];a=this.updateGraphics.getItemAt(0);return X.isSupportedGraphic(a)?[4,this._setupReshape3DOperation(a,f,b,!0)]:[2];case 1:return c=h.sent(),P.onEnd(),P.destroy(),this._setUpdateOperationHandle(c),[2]}})})}}),t.push.apply(t,this._getHandlesForComponent(P).concat([this.view.on("click",function(a){return g._getCommonUpdateOperationClickHandlers(P,a)}),this.view.on("key-down",function(a){return g._getCommonUpdateOperationKeyDownHandlers(P,a)})])),[2,
P]}})})};a.prototype._setupPointTransform3DOperation=function(a,f,b){return n(this,void 0,void 0,function(){var c,h,e,z,t,P,g,k=this;return d(this,function(l){switch(l.label){case 0:return c="transform",h=f.enableRotation,e=f.enableScaling,[4,K.create(function(a){F(["../../views/3d/interactive/editingTools"],a)})];case 1:return z=l.sent().GraphicTransform3DTool,t=new z({view:b,enableRotation:h,enableScaling:e}),this.view.tools.add(t),t.graphic=a,this.updateGraphics.add(a),P=[],g=new ba.OperationHandle({activeComponent:t,
tool:c,type:"update",onEnd:function(){P.forEach(function(a){return a.remove()});P.length=0;k.view.tools.remove(t);t.destroy()},undo:function(){U(g,k.updateGraphics.toArray());k._emitUndoEvent({graphics:k.updateGraphics.toArray(),tool:c})},redo:function(){ca(g,k.updateGraphics.toArray());k._emitRedoEvent({graphics:k.updateGraphics.toArray(),tool:c})},addToSelection:function(a){return n(k,void 0,void 0,function(){var c;return d(this,function(h){switch(h.label){case 0:return this.updateGraphics.add(a),
[4,this._setupMoveOrTransform3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:return c=h.sent(),g.onEnd(),g.destroy(),this._setUpdateOperationHandle(c),[2]}})})}}),P.push.apply(P,this._getHandlesForComponent(g).concat([this.view.on("click",function(a){return k._getCommonUpdateOperationClickHandlers(g,a)}),this.view.on("key-down",function(a){return k._getCommonUpdateOperationKeyDownHandlers(g,a)})])),[2,g]}})})};a.prototype._setupMoveOperation=function(a,f,b){return n(this,void 0,
void 0,function(){var c,h,x,z,t,P,g=this;return d(this,function(l){switch(l.label){case 0:return c=[],h="move",a.forEach(function(a){c.push(new G(a.geometry,a.symbol,a.attributes));a.symbol=g._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),x=[b.on("click",function(a){return g._getCommonUpdateOperationClickHandlers(t,a,f)}),b.on("key-down",function(a){return g._getCommonUpdateOperationKeyDownHandlers(t,a)}),b.on("key-down",function(a){"Control"!==a.key||a.repeat||(z.enableMoveAllGraphics=
!z.enableMoveAllGraphics)}),b.on("key-up",function(a){"Control"===a.key&&(z.enableMoveAllGraphics=!z.enableMoveAllGraphics)})],[4,this._getGraphicMover(a,f,b)];case 1:return z=l.sent(),t=new ba.OperationHandle({activeComponent:z,tool:h,type:"update",onEnd:function(){P.forEach(function(a){return a.remove()});x.forEach(function(a){return a.remove()});P=[];x=[];z.destroy();g._internalGraphicsLayer&&g._internalGraphicsLayer.removeMany(g.updateGraphics.toArray());g.updateGraphics.forEach(function(a,f){a.symbol=
c[f].symbol})},undo:function(){U(t,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:h})},redo:function(){ca(t,g.updateGraphics.toArray());g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:h})},addToSelection:function(a){c.push(new G(a.geometry,a.symbol,a.attributes));a.symbol=g._getUpdateSymbol(a.geometry);g.updateGraphics.push(a);z.graphics=g.updateGraphics.toArray();g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,
toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var f=g.updateGraphics.indexOf(a);t.history.undo.forEach(function(a){return a.updates.splice(f,1)});t.history.redo.forEach(function(a){return a.updates.splice(f,1)});var b=c.splice(f,1)[0];a.symbol=b.symbol;g.updateGraphics.remove(a);0===g.updateGraphics.length?e(t):z.graphics=g.updateGraphics.toArray()}}),P=this._getHandlesForComponent(t),[2,t]}})})};a.prototype._setupReshape3DOperation=function(a,f,b,l){void 0===
l&&(l=!1);return n(this,void 0,void 0,function(){var c,h,e,t,P,g=this;return d(this,function(u){switch(u.label){case 0:return c="reshape",[4,K.create(function(a){F(["../../views/3d/interactive/editingTools"],a)})];case 1:return h=u.sent().GraphicReshape3DTool,e=new h({view:b,graphic:a}),b.tools.add(e),l||this.updateGraphics.add(a),t=[],P=new ba.OperationHandle({activeComponent:e,tool:c,type:"update",onEnd:function(){t.forEach(function(a){return a.remove()});t.length=0;b.tools.remove(e);e.destroy()},
undo:function(){U(P,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:c})},redo:function(){ca(P,g.updateGraphics.toArray());g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:c})},addToSelection:function(a){return n(g,void 0,void 0,function(){var c;return d(this,function(h){switch(h.label){case 0:return this.updateGraphics.add(a),[4,this._setupMoveOrTransform3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:return c=h.sent(),P.onEnd(),
P.destroy(),this._setUpdateOperationHandle(c),[2]}})})},toggleTool:function(){return n(g,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return!1===f.toggleToolOnClick?[2]:[4,this._setupMoveOrTransform3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:return a=c.sent(),P.onEnd(),P.destroy(),this._setUpdateOperationHandle(a),[2]}})})}}),t.push.apply(t,this._getHandlesForComponent(P).concat([b.on("click",function(a){return g._getCommonUpdateOperationClickHandlers(P,
a)}),b.on("key-down",function(a){return g._getCommonUpdateOperationKeyDownHandlers(P,a)})])),[2,P]}})})};a.prototype._setupTransformOrReshapeOperation=function(a,f,b,l){return n(this,void 0,void 0,function(){var c,h,z,t,g,k,T,m,r,p,E=this;return d(this,function(u){switch(u.label){case 0:return c=b.multipleSelectionEnabled,h=void 0===c?!0:c,z=b.toggleToolOnClick,t=void 0===z?!0:z,g=[],a.forEach(function(a){g.push(new G(a.geometry,a.symbol,a.attributes));a.symbol=E._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),
k=[l.on("click",function(a){E._hitTest(N.createScreenPointFromEvent(a)).then(function(c){if(r)if(c=c.results,c.length){var f=r.activeComponent,b=a.native&&a.native.shiftKey;c.some(function(a){if(a.graphic){a=a.graphic;if(h&&b&&f&&"box"===f.type&&!f.isUIGraphic(a))return r.addToSelection(a),!0;if(f&&"box"===f.type&&f.isUIGraphic(a))return!1!==t&&1===E.updateGraphics.length&&(a=E.updateGraphics.getItemAt(0).geometry,"extent"===A.get(a,"type")?E._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."):
r.toggleTool()),!0;if(f&&"reshape"===f.type){if(a===f.graphic)return!1!==t&&r.toggleTool(),!0;if(f.isUIGraphic(a)||a.layer===E._internalGraphicsLayer)return!0}else a.layer===E.layer&&e(r)}return!1})?a.stopPropagation():e(r)}else e(r)})}),l.on("key-down",function(a){return E._getCommonUpdateOperationKeyDownHandlers(r,a)}),l.on("key-down",function(a){"Control"===a.key&&!a.repeat&&r&&(a=r.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)}),l.on("key-up",function(a){"Control"===
a.key&&r&&(a=r.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)})],"transform"!==f?[3,2]:[4,this._getBox(a,b,l)];case 1:return m=u.sent(),[3,4];case 2:return[4,this._getReshape(a,b,l)];case 3:m=u.sent(),u.label=4;case 4:return T=m,r=new ba.OperationHandle({activeComponent:T,type:"update",onEnd:function(){p.forEach(function(a){return a.remove()});k.forEach(function(a){return a.remove()});p=[];k=[];r.activeComponent.destroy();E._internalGraphicsLayer.removeMany(E.updateGraphics.toArray());
E.updateGraphics.forEach(function(a,c){g[c]&&g[c].symbol&&(a.symbol=g[c].symbol)})},undo:function(){U(r,E.updateGraphics.toArray());r.refreshComponent();E._emitUndoEvent({graphics:E.updateGraphics.toArray(),tool:r.tool})},redo:function(){ca(r,E.updateGraphics.toArray());r.refreshComponent();E._emitRedoEvent({graphics:E.updateGraphics.toArray(),tool:r.tool})},addToSelection:function(a){var c=r.activeComponent;g.push(new G(a.geometry,a.symbol,a.attributes));a.symbol=E._getUpdateSymbol(a.geometry);E.updateGraphics.add(a);
c.graphics=E.updateGraphics.toArray();c.refresh();r.resetHistory();E._emitUpdateEvent({graphics:E.updateGraphics.toArray(),state:"active",tool:E.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=r.activeComponent,f=E.updateGraphics.indexOf(a);r.history.undo.forEach(function(a){return a.updates.splice(f,1)});r.history.redo.forEach(function(a){return a.updates.splice(f,1)});var b=g.splice(f,1)[0];a.symbol=b.symbol;E.updateGraphics.remove(a);0===E.updateGraphics.length?
e(r):c.graphics=E.updateGraphics.toArray()},toggleTool:function(){return n(E,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:if(1<this.updateGraphics.length)return[2];c=null;return"transform"!==r.tool?[3,2]:[4,this._getReshape(a,b,l)];case 1:return c=f.sent(),[3,4];case 2:return"reshape"!==r.tool?[3,4]:[4,this._getBox(a,b,l)];case 3:c=f.sent(),f.label=4;case 4:return r.activeComponent.destroy(),r.activeComponent=c,r.activeComponent&&(p.forEach(function(a){return a.remove()}),
p=this._getHandlesForComponent(r)),[2]}})})}}),p=this._getHandlesForComponent(r),[2,r]}})})};a.prototype._getGraphicMover=function(a,f,b){return n(this,void 0,void 0,function(){var c,h,e,z=this;return d(this,function(l){switch(l.label){case 0:return c=f.enableMoveAllGraphics,h=void 0===c?!0:c,[4,K.create(function(a){return F(["../../views/draw/support/GraphicMover"],a)})];case 1:return e=l.sent(),[2,new e({enableMoveAllGraphics:h,graphics:a,view:b,callbacks:{onGraphicMoveStart:function(a){var c=a.dx,
f=a.dy;a=a.graphic;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move-start"}})},onGraphicMove:function(a){var c=a.dx,f=a.dy;a=a.graphic;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move"}})},onGraphicMoveStop:function(a){var c=a.dx,f=a.dy;a=a.graphic;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",
tool:z.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move-stop"}})},onGraphicPointerOver:function(a){return z._displayDefaultCursor()},onGraphicPointerOut:function(a){return z._displayDefaultCursor()}}})]}})})};a.prototype._getBox=function(a,f,b){return n(this,void 0,void 0,function(){var c,h,e,z,t,g,k,T=this;return d(this,function(l){switch(l.label){case 0:return c=f.enableRotation,h=void 0===c?!0:c,e=f.enableScaling,z=void 0===e?!0:e,t=f.preserveAspectRatio,g=void 0===t?!1:t,[4,K.create(function(a){return F(["../../views/draw/support/Box"],
a)})];case 1:return k=l.sent(),[2,new k({graphics:a,enableRotation:h,enableScaling:z,preserveAspectRatio:g,layer:this._internalGraphicsLayer,view:b,callbacks:{onMoveStart:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onMove:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onMoveStop:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),
state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onScaleStart:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onScale:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onScaleStop:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onRotateStart:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),
state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onRotate:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})},onRotateStop:function(a){return T._emitUpdateEvent({graphics:T.updateGraphics.toArray(),state:"active",tool:T.activeTool,toolEventInfo:C({},a)})}}})]}})})};a.prototype._getReshape=function(a,f,b){return n(this,void 0,void 0,function(){var c,h,e,z=this;return d(this,function(l){switch(l.label){case 0:return c=
f.enableMidpoints,h=void 0===c?!0:c,[4,K.create(function(a){return F(["../../views/draw/support/Reshape"],a)})];case 1:return e=l.sent(),[2,new e({enableMidpoints:h,graphic:a[0],layer:this._internalGraphicsLayer,view:b,callbacks:{onReshapeStart:function(a){return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:C({},a)})},onReshape:function(a){return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:C({},
a)})},onReshapeStop:function(a){var c=a.mover;a=a.type;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{mover:c,type:a}})},onMoveStart:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onMove:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),
state:"active",tool:z.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onMoveStop:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onVertexAdd:function(a){var c=a.type;a=a.added.map(function(a){return O.geometryToCoordinates(a.geometry)});z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{added:a,type:c}})},
onVertexRemove:function(a){var c=a.type;a=a.removed.map(function(a){return O.geometryToCoordinates(a.geometry)});z._emitUpdateEvent({graphics:z.updateGraphics.toArray(),state:"active",tool:z.activeTool,toolEventInfo:{removed:a,type:c}})}}})]}})})};a.prototype._getHandlesForComponent=function(a){var c=this,b=a.activeComponent;switch(b.type){case "graphic-mover":return[b.on("graphic-move-start",function(c){return a.addToHistory(Y(c.allGraphics))})];case "box":return[b.on("move-start",function(c){return a.addToHistory(Y(c.graphics))}),
b.on("rotate-start",function(c){return a.addToHistory(Y(c.graphics))}),b.on("scale-start",function(c){return a.addToHistory(Y(c.graphics))})];case "reshape":return[b.on("move-start",function(c){return a.addToHistory(Y([c.mover]))}),b.on("reshape-start",function(c){return a.addToHistory(Y([c.graphic]))}),b.on("vertex-add",function(c){return a.addToHistory(Y([c.oldGraphic]))}),b.on("vertex-remove",function(c){return a.addToHistory(Y([c.oldGraphic]))})];case "move-3d":return[b.on("graphic-move-start",
function(f){a.addToHistory(Y(f.allGraphics));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<f.allGraphics.length?f.allGraphics[0]:null,type:"move-start"}})}),b.on("graphic-move",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{dx:a.dx,dy:a.dy,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move"}})}),b.on("graphic-move-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-stop"}})}),b.on("click",function(){return a.toggleTool()})];case "transform-3d":return[b.on("graphic-translate-start",function(f){a.addToHistory(Y([f.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:f.graphic,dx:0,dy:0,type:"move-start"}})}),b.on("graphic-translate-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:0,dy:0,type:"move-stop"}})}),b.on("graphic-rotate-start",function(f){a.addToHistory(da([f.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:f.graphic,angle:0,type:"rotate-start"}})}),b.on("graphic-rotate-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,angle:0,type:"rotate-stop"}})}),
b.on("graphic-scale-start",function(f){a.addToHistory(da([f.graphic]));c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:f.graphic,xScale:1,yScale:1,type:"scale-start"}})}),b.on("graphic-scale-stop",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,xScale:1,yScale:1,type:"scale-stop"}})}),b.on("graphic-translate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dx,dy:a.dy,type:"move"}})}),b.on("graphic-rotate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,angle:a.angle,type:"rotate"}})}),b.on("graphic-scale",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale"}})})];case "reshape-3d":return[b.on("reshape-start",
function(f){a.addToHistory(Y([f.graphic]));f.isDragging&&(f=f.fromTranslation?{mover:f.graphic,dx:0,dy:0,type:"move-start"}:{mover:f.graphic,type:"reshape-start"},c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:f}))}),b.on("vertex-move",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,type:"reshape"}})}),b.on("translate",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),
state:"active",tool:c.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move"}})}),b.on("reshape-stop",function(a){a.isDragging&&(a=a.fromTranslation?{mover:a.graphic,dx:0,dy:0,type:"move-stop"}:{mover:a.graphic,type:"reshape-stop"},c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:a}))}),b.on("vertex-add",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{added:a.coords,
type:"vertex-add"}})}),b.on("vertex-remove",function(a){c._emitUpdateEvent({graphics:c.updateGraphics.toArray(),state:"active",tool:c.activeTool,toolEventInfo:{removed:a.coords,type:"vertex-remove"}})}),b.on("click",function(){return a.toggleTool()})];case "draw":return null;default:H.neverReached(b)}};a.prototype._setUpdateOperationHandle=function(a){var c=this;this._operationHandle=a;var b=this.view,l=b.map,e=b.popup,x=!0;e&&(x=e.autoOpenEnabled,e.autoOpenEnabled=!1);b=function(){if(a===c._operationHandle){var f=
a.cancelled?"cancel":"complete",b=c.updateGraphics.toArray(),h=c._operationHandle.tool;c._operationHandle.destroy();c._operationHandle=null;c._internalGraphicsLayer.removeMany(c.updateGraphics.toArray());c.updateGraphics.removeAll();l&&l.remove(c._internalGraphicsLayer);e&&(e.autoOpenEnabled=x);c._emitUpdateEvent({graphics:b,state:f,tool:h,toolEventInfo:null})}};a.on("complete",b);a.on("cancel",b)};a.prototype._getCommonUpdateOperationClickHandlers=function(a,f,b){var c=this,h=N.createScreenPointFromEvent(f),
x=this.view.toolViewManager.handlesClickEvent(f);this._hitTest(h).then(function(h){h=h.results;if(h.length||x){var l=f.native&&f.native.shiftKey,u=b?!!b.multipleSelectionEnabled:!0;h.some(function(f){return f.graphic&&(f=f.graphic,u&&l&&f.layer===c.layer)?(-1===c.updateGraphics.indexOf(f)?a.addToSelection(f):a.removeFromSelection(f),!0):!1})?f.stopPropagation():x||(h.some(function(a){return a.graphic&&-1<c.updateGraphics.indexOf(a.graphic)})?f.stopPropagation():e(a))}else e(a)})};a.prototype._getCommonUpdateOperationKeyDownHandlers=
function(a,f){if(a){var c=f.key;"z"===c&&a.canUndo()?(f.stopPropagation(),a.undo()):"r"===c&&a.canRedo()?(f.stopPropagation(),a.redo()):"Escape"===c?e(a):0<=t.indexOf(c)&&this._onDeleteKey()}};a.prototype._onDeleteKey=function(){if(this._operationHandle&&"update"===this._operationHandle.type){var a=this.activeComponent;a&&"reshape"!==a.type&&"reshape-3d"!==a.type&&(a=this.updateGraphics.toArray(),this.layer.removeMany(a),this._emitDeleteEvent({graphics:a,tool:this.activeTool}))}};a.prototype._getCreateSymbol=
function(a,f){void 0===f&&(f=!1);f="3d"!==this.view.type&&f;switch(a.type){case "point":case "multipoint":return f?this.activePointSymbol:this.pointSymbol;case "polyline":return f?this.activeLineSymbol:this.polylineSymbol;case "polygon":return f?this.activeFillSymbol:this.polygonSymbol}return null};a.prototype._getUpdateSymbol=function(a){if(A.isNone(a))return null;switch(a.type){case "point":case "multipoint":return this.updatePointSymbol;case "polyline":return this.updatePolylineSymbol;case "polygon":case "extent":return this.updatePolygonSymbol}return null};
a.prototype._drawMultipointGraphic=function(a,f){var c=null;!f&&1<a.length?(c=a.slice(0),c.pop(),c=W.createMultipoint(c,this.view.spatialReference)):c=W.createMultipoint(a,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=c:this._set("createGraphic",new G(c,this.pointSymbol));f&&1===a.length&&this._internalGraphicsLayer.add(this.createGraphic)};a.prototype._drawVertexGraphics=function(a,f,b){b=!(!b||!b.userClicked);var c="polygon"===a,h=c?this.polygonSymbol:this.polylineSymbol;
if(1===f.length){this._removeLineGraphic();this._removeActiveLineGraphic();a=f[0];var e=a[0],z=a[1],t=new y.Point(e,z,this.view.spatialReference),c=c?W.createPolygon([f],this.view.spatialReference,this._doUnnormalization,!0):W.createPolyline([f],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length?this._vertexGraphics[0].geometry=t:this._vertexGraphics.push(new G(t,this.activeVertexSymbol));this.createGraphic?this.createGraphic.geometry=c:this._set("createGraphic",new G(c,
h));b&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===f.length)h=f[1],e=h[0],z=h[1],a=new y.Point(e,z,this.view.spatialReference),e=this.vertexSymbol,h=W.createPolyline([f],this.view.spatialReference,this._doUnnormalization),c=c?W.createPolygon([f],this.view.spatialReference,this._doUnnormalization,!0):W.createPolyline([f],this.view.spatialReference,this._doUnnormalization),this._vertexGraphics.length||(f=f[0],t=new y.Point(f[0],f[1],this.view.spatialReference),f=new G(t,e),
this._vertexGraphics.push(f)),1===this._vertexGraphics.length?(f=this._vertexGraphics[0],a=new G(a,e),this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(a),this._internalGraphicsLayer.remove(f),this._internalGraphicsLayer.add(f)):this._vertexGraphics[1].geometry=a,this._showActiveLineGraphic(h),f=this._vertexGraphics[0],b&&(this._activeLineGraphic.symbol=this.polylineSymbol,f.symbol=this.vertexSymbol,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?
this.createGraphic.geometry=c:this._set("createGraphic",new G(c,this.polygonSymbol)),this._internalGraphicsLayer.remove(f),this._internalGraphicsLayer.add(f);else if(2<f.length){c=c?W.createPolygon([f],this.view.spatialReference,this._doUnnormalization,!0):W.createPolyline([f],this.view.spatialReference,this._doUnnormalization);"polygon"===a&&this._showFillGraphic(c);a=f.map(function(a){return[a[0],a[1]]});e=a.pop();t=[a[a.length-1],e];e=W.createPolyline([a],this.view.spatialReference,this._doUnnormalization);
t=W.createPolyline([t],this.view.spatialReference,this._doUnnormalization);this._showLineGraphic(e);this._showActiveLineGraphic(t);for(t=0;t<a.length;t++)(e=this._vertexGraphics[t])?e.symbol=b||t!==this._vertexGraphics.length-1?this.vertexSymbol:this.activeVertexSymbol:(z=f[t],e=z[0],z=z[1],this._showVertexGraphic(new y.Point(e,z,this.view.spatialReference)));b?(this._activeLineGraphic.symbol=this.polylineSymbol,b=f[f.length-1],e=b[0],z=b[1],this._showVertexGraphic(new y.Point(e,z,this.view.spatialReference))):
this._activeLineGraphic.symbol=this.activeLineSymbol;this.createGraphic?this.createGraphic.geometry=c:(this._removeCreateGraphic(),this._set("createGraphic",new G(c,h)));b=0;for(c=this._vertexGraphics;b<c.length;b++)f=c[b],this._internalGraphicsLayer.remove(f),this._internalGraphicsLayer.add(f)}};a.prototype._drawSegmentGraphic=function(a,f,b){if(f.length){var c=W.createViewAlignedCoordinateSystem(this.view,f[0]),h=!(!b||!b.centered);b=!(!b||!b.constrained);var e=null;1===f.length?this._removeCenterIndicatorGraphic():
("rectangle"===a?e=b?W.createSquare(f,c,h):W.createRectangle(f,c,h):"circle"===a&&(e=b?W.createEllipse(f,c,h):W.createCircle(f,c,h)),e.extent&&e.extent.center&&this._showCenterIndicatorGraphic(e.extent.center));e?this.createGraphic?this.createGraphic.geometry=e:(this._removeCreateGraphic(),this._set("createGraphic",new G(e,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}};a.prototype._showCenterIndicatorGraphic=function(a){this._centerIndicatorGraphic?
this._centerIndicatorGraphic.geometry=a:(this._centerIndicatorGraphic=new G(a,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))};a.prototype._removeCenterIndicatorGraphic=function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)};a.prototype._showActiveLineGraphic=function(a){this._activeLineGraphic?this._activeLineGraphic.geometry=a:(this._activeLineGraphic=
new G(a,this.activeLineSymbol),this._internalGraphicsLayer.graphics.add(this._activeLineGraphic,0))};a.prototype._showFillGraphic=function(a){this._activeFillGraphic?this._activeFillGraphic.geometry=a:(this._activeFillGraphic=new G(a,this._getCreateSymbol(a,!0)),this._internalGraphicsLayer.add(this._activeFillGraphic))};a.prototype._showLineGraphic=function(a){this._lineGraphic?this._lineGraphic.geometry=a:(this._lineGraphic=new G(a,this.polylineSymbol),this._internalGraphicsLayer.graphics.add(this._lineGraphic,
0))};a.prototype._showVertexGraphic=function(a,f){a=new G(a,f?this.activeVertexSymbol:this.vertexSymbol);this._vertexGraphics.push(a);this._internalGraphicsLayer.add(a)};a.prototype._resetCreateOperationGraphics=function(){this._removeActiveFillGraphic();this._removeLineGraphic();this._removeActiveLineGraphic();this._removeVertexGraphics()};a.prototype._removeCreateGraphic=function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))};a.prototype._removeCreateOperationGraphics=
function(){this._removeCenterIndicatorGraphic();this._removeActiveLineGraphic();this._removeActiveFillGraphic();this._removeLineGraphic();this._removeVertexGraphics()};a.prototype._removeActiveLineGraphic=function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)};a.prototype._removeActiveFillGraphic=function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),
this._activeFillGraphic.destroy(),this._activeFillGraphic=null)};a.prototype._removeLineGraphic=function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),this._lineGraphic=null)};a.prototype._removeVertexGraphics=function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach(function(a){return a.destroy()}),this._vertexGraphics=[])};a.prototype._removeDefaultLayer=function(){this._internalGraphicsLayer&&
(this.view&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)};a.prototype._operationHandleForCreateAction=function(a,f,b){var c=this;return new ba.OperationHandle({activeComponent:this._draw,tool:b,type:"create",onEnd:function(){f.forEach(function(a){return a.remove()});f.length=0;c._removeCreateOperationGraphics();c._internalGraphicsLayer&&c._internalGraphicsLayer.remove(c.createGraphic);c._displayDefaultCursor()},undo:function(){a.undo();
c._emitUndoEvent({graphics:[c.createGraphic],tool:b})},redo:function(){a.redo();c._emitRedoEvent({graphics:[c.createGraphic],tool:b})},canUndo:function(){return a&&a.canUndo()},canRedo:function(){return a&&a.canRedo()}})};a.prototype._snap=function(a,f,b){b&&this._snapLastVertexToAxis(f);"polygon"===a&&this._snapLastPolygonVertexToFirst(f)};a.prototype._snapLastPolygonVertexToFirst=function(a){if(!(2>=a.length)){var c=a[0];a=a[a.length-1];var b=this.view.toScreen(new y.Point(c[0],c[1],this.view.spatialReference)),
l=this.view.toScreen(new y.Point(a[0],a[1],this.view.spatialReference));this._isWithinScreenDistance(b,l,this._getVertexIntersectDistance())&&(a[0]=c[0],a[1]=c[1])}};a.prototype._getVertexIntersectDistance=function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?N.pt2px(this.vertexSymbol.size)/2+3:3};a.prototype._isWithinScreenDistance=function(a,f,b){var c=a.x-f.x;a=a.y-f.y;return Math.sqrt(c*c+a*a)<=b};a.prototype._snapLastVertexToAxis=function(a){if(!(2>a.length)){var c=a.pop(),
b=a[a.length-1],l=W.createViewAlignedCoordinateSystem(this.view,b),b=l.mapToLocal(b),c=l.mapToLocal(c),e=Math.abs(c.x-b.x),x=Math.abs(c.y-b.y),l=l.localToMap(W.makeSurfacePoint(e>x?c.x:b.x,e>x?b.y:c.y));a.push(l)}};a.prototype._displayCrosshairCursor=function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")};a.prototype._displayDefaultCursor=function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)};a.prototype._logError=
function(a,f,b){E.error(new p(a,f,b))};a.prototype._generateSceneViewHighlightHandles=function(){var a=this,f=function(c,f){var b=a.view;if(b&&"2d"!==b.type){var h=b.allLayerViews.find(function(a){return a.layer.uid===f.uid});h&&(c.added&&c.added.forEach(function(c){a._highlightHandlesByGraphic.add(h.highlight(c),c.uid)}),c.removed&&c.removed.forEach(function(c){a._highlightHandlesByGraphic.remove(c.uid)}))}};return[this.updateGraphics.on("after-add",function(c){f({added:[c.item]},a.layer)}),this.updateGraphics.on("after-remove",
function(c){f({removed:[c.item]},a.layer)}),this._internalGraphicsLayer.graphics.on("after-add",function(c){f({added:[c.item]},a._internalGraphicsLayer)}),this._internalGraphicsLayer.graphics.on("after-remove",function(c){f({removed:[c.item]},a._internalGraphicsLayer)}),R.on(this,"view.allLayerViews","change",function(c){if(c.added){var b=0;for(c=c.added;b<c.length;b++){var h=c[b];h.layer===a.layer?f({added:a.updateGraphics.toArray(),removed:[]},h.layer):h.layer===a._internalGraphicsLayer&&f({added:a._internalGraphicsLayer.graphics.toArray(),
removed:[]},h.layer)}}})]};a.prototype._emitCreateEvent=function(a){this.emit("create",C({},a,{type:"create"}))};a.prototype._emitUpdateEvent=function(a){this.emit("update",C({},a,{type:"update"}))};a.prototype._emitUndoEvent=function(a){this.emit("undo",C({},a,{type:"undo"}))};a.prototype._emitRedoEvent=function(a){this.emit("redo",C({},a,{type:"redo"}))};a.prototype._emitDeleteEvent=function(a){this.emit("delete",C({},a,{type:"delete"}))};v([J.property({dependsOn:["state"],readOnly:!0})],a.prototype,
"_draw",null);v([J.property()],a.prototype,"_operationHandle",void 0);v([J.property({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],a.prototype,"activeTool",null);v([J.property()],a.prototype,"activeFillSymbol",void 0);v([J.property()],a.prototype,"activeLineSymbol",void 0);v([J.property()],a.prototype,"activePointSymbol",void 0);v([J.property()],a.prototype,"activeVertexSymbol",void 0);v([J.property({readOnly:!0})],a.prototype,"createGraphic",void 0);v([J.property()],a.prototype,
"defaultUpdateOptions",void 0);v([J.property()],a.prototype,"layer",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"pointSymbol",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"polygonSymbol",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"polylineSymbol",void 0);v([J.property({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],a.prototype,"state",null);v([J.property({readOnly:!0})],a.prototype,"updateGraphics",void 0);v([J.property()],a.prototype,
"updateOnGraphicClick",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"updatePointSymbol",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"updatePolygonSymbol",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"updatePolylineSymbol",void 0);v([J.property({types:D.symbolTypes})],a.prototype,"vertexSymbol",void 0);v([J.property({value:null})],a.prototype,"view",null);v([J.property()],a.prototype,"cancel",null);v([J.property()],a.prototype,"complete",null);v([J.property()],
a.prototype,"create",null);v([J.property()],a.prototype,"update",null);v([J.property()],a.prototype,"undo",null);v([J.property()],a.prototype,"redo",null);v([J.property()],a.prototype,"canUndo",null);v([J.property()],a.prototype,"canRedo",null);v([J.property()],a.prototype,"toggleUpdateTool",null);return a=v([J.subclass("esri.widgets.Sketch.SketchViewModel")],a)}(J.declared(k.EventedAccessor))})},"esri/views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic":function(){define(["require",
"exports","../../../../../core/maybe"],function(F,w,C){function q(q){return C.isSome(q)&&("polygon"===q.type||"polyline"===q.type)}Object.defineProperty(w,"__esModule",{value:!0});w.isSupportedGeometry=q;w.isSupportedGraphic=function(v){return q(v.geometry)}})},"esri/views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic":function(){define(["require","exports","../../../../../core/maybe"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.isSupportedGraphic=function(q){var v=
C.isSome(q.symbol)&&"point-3d"===q.symbol.type&&q.symbol.symbolLayers;return!!v&&0<v.length&&v.some(function(d){return"object"===d.type})&&C.isSome(q.geometry)&&"point"===q.geometry.type&&"graphics"===q.layer.type}})},"esri/views/draw/Draw":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/accessorSupport/decorators ./MultipointDrawAction ./PointDrawAction ./PolygonDrawAction ./PolylineDrawAction ./SegmentDrawAction".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H){return function(d){function k(){var k=null!==d&&d.apply(this,arguments)||this;k.activeAction=null;k.type="draw";k.view=null;return k}C(k,d);k.prototype.destroy=function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)};k.prototype.create=function(k,g){this.reset();g=v({view:this.view},g);switch(k){case "point":this.activeAction=new G(g);break;case "polygon":this.activeAction=new D(g);break;case "polyline":this.activeAction=new B(g);break;
case "multipoint":this.activeAction=new y(g);break;case "rectangle":case "circle":case "ellipse":case "triangle":this.activeAction=new H(g)}return this.activeAction};k.prototype.complete=function(){this.activeAction&&this.activeAction.complete();this.activeAction=null};k.prototype.reset=function(){this.activeAction&&this.activeAction.destroy();this.activeAction=null};q([n.property()],k.prototype,"activeAction",void 0);q([n.property({readOnly:!0})],k.prototype,"type",void 0);q([n.property()],k.prototype,
"view",void 0);return k=q([n.subclass("esri.views.draw.Draw")],k)}(n.declared(d))})},"esri/views/draw/MultipointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),function(F,w,C,q,v,d,n,y,G,D,B){return function(w){function p(k){k=w.call(this,k)||this;k._cursorMoved=!1;k._cursorScreenPoint=
null;k._dragEnabled=!0;k._pointerDownEvent=null;k._viewHandles=new v;k.vertices=[];k.view=null;return k}C(p,w);p.prototype.initialize=function(){this._addViewHandles()};p.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};p.prototype.addVertex=function(k,d){var g=this;isNaN(d)?(d=this.vertices.length,this.vertices.push(k)):this.vertices.splice(d,0,k);this.history.push({vertex:k,vertexIndex:d,undo:function(){return g._undoVertexAdd(null,k,d)},redo:function(){return g._redoVertexAdd(null,
k,d)}});this._set("redoHistory",[]);var r=new D.VertexAddEvent(this.view,null,d,this.vertices);this.emit("vertex-add",r);r.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};p.prototype.removeVertex=function(k){var d=this,g=this.vertices.splice(k,1)[0];this.history.push({vertex:g,vertexIndex:k,undo:function(){return d._undoVertexRemove(null,g,k)},redo:function(){return d._redoVertexRemove(null,g,k)}});this._set("redoHistory",[]);this.emit("vertex-remove",new D.VertexRemoveEvent(this.view,
null,k,this.vertices))};p.prototype.updateVertex=function(k,d){var g=this,r=this.vertices[d];this.vertices[d]=k;this.history.push({vertex:k,vertexIndex:d,undo:function(){return g._undoVertexUpdate(null,r,d)},redo:function(){return g._redoVertexUpdate(null,k,d)}});this._set("redoHistory",[]);this.emit("vertex-update",new D.VertexUpdateEvent(this.view,null,d,this.vertices))};p.prototype.complete=function(){this._completeDrawing()};p.prototype._addViewHandles=function(){var k=this;this._removeViewHandles();
this._viewHandles.add([this.view.on("click",function(k){k.stopPropagation()}),this.view.on("pointer-down",function(d){k._cursorMoved&&k.vertices.pop();k._pointerDownEvent=d;k._cursorMoved=!1;k._cursorScreenPoint=n.createScreenPointFromEvent(d)}),this.view.on("pointer-move",function(d){k._cursorMoved&&k.vertices.pop();k._cursorMoved=!0;k._cursorScreenPoint=n.createScreenPointFromEvent(d);k._cursorUpdateHandler(d)}),this.view.on("pointer-up",function(d){k._pointerDownEvent&&(k._cursorMoved?(k.vertices.pop(),
k._cursorMoved=!1):(k._pointerDownEvent=null,k._vertexAddHandler(d)))}),this.view.on("drag",function(d){k._dragEnabled&&k._pointerDownEvent&&d.stopPropagation()}),this.view.on("drag",["Shift"],function(k){k.stopPropagation()}),this.view.on("double-click",function(d){d.stopPropagation();k._drawCompleteHandler(d)}),this.view.on("double-click",["Control"],function(d){d.stopPropagation();k._drawCompleteHandler(d)}),this.view.on("key-down",function(d){d.key===B.KEYS.vertexAddKey&&!d.repeat&&k._cursorScreenPoint?
(k._cursorMoved&&(k.vertices.pop(),k._cursorMoved=!1),k._vertexAddHandler(d)):d.key===B.KEYS.drawCompleteKey&&!d.repeat&&k._cursorScreenPoint?(k._cursorMoved&&(k.vertices.pop(),k._cursorMoved=!1),k._vertexAddHandler(d),k._drawCompleteHandler(d)):d.key!==B.KEYS.undoKey||d.repeat?d.key!==B.KEYS.redoKey||d.repeat||k.redo():k.undo()})])};p.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};p.prototype._addVertex=function(k,d){var g=this;this.vertices.push(k);var r=this.vertices.indexOf(k);
this.history.push({vertex:k,vertexIndex:r,undo:function(){return g._undoVertexAdd(d,k,r)},redo:function(){return g._redoVertexAdd(d,k,r)}});this._set("redoHistory",[]);var p=new D.VertexAddEvent(this.view,d,r,this.vertices);this.emit("vertex-add",p);p.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};p.prototype._updateCursor=function(k,d){this.vertices.push(k);k=this.vertices.indexOf(k);d=new D.CursorUpdateEvent(this.view,d,k,this.vertices);this.emit("cursor-update",d)};p.prototype._completeDrawing=
function(k){this._cursorMoved=!1;this._pointerDownEvent=null;1>this.vertices.length||(k=new D.DrawCompleteEvent(k,this.vertices),this.emit("draw-complete",k),k.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles())};p.prototype._undoVertexAdd=function(k,d,g){this.vertices.splice(g,1);this.emit("undo",new D.VertexRemoveEvent(this.view,k,g,this.vertices))};p.prototype._redoVertexAdd=function(k,d,g){this.vertices.splice(g,0,d);this.emit("redo",new D.VertexAddEvent(this.view,k,g,this.vertices))};
p.prototype._undoVertexRemove=function(k,d,g){this.vertices.splice(g,0,d);this.emit("undo",new D.VertexAddEvent(this.view,k,g,this.vertices))};p.prototype._redoVertexRemove=function(k,d,g){this.vertices.splice(g,1);this.emit("redo",new D.VertexRemoveEvent(this.view,k,g,this.vertices))};p.prototype._undoVertexUpdate=function(k,d,g){this.vertices[g]=d;this.emit("undo",new D.VertexUpdateEvent(this.view,k,g,this.vertices))};p.prototype._redoVertexUpdate=function(k,d,g){this.vertices[g]=d;this.emit("redo",
new D.VertexUpdateEvent(this.view,k,g,this.vertices))};p.prototype._vertexAddHandler=function(k){var r=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(r)&&this._addVertex(r,k.native)};p.prototype._cursorUpdateHandler=function(k){var r=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(r)&&this._updateCursor(r,k.native)};p.prototype._drawCompleteHandler=function(k){this._completeDrawing(k.native)};q([y.property({readOnly:!0})],p.prototype,"vertices",void 0);q([y.property()],
p.prototype,"view",void 0);return p=q([y.subclass("esri.views.draw.MultipointDrawAction")],p)}(y.declared(G))})},"esri/views/draw/DrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/accessorSupport/decorators".split(" "),function(F,w,C,q,v,d){return function(n){function v(){var d=null!==n&&n.apply(this,arguments)||this;d.history=[];d.redoHistory=[];d.view=null;return d}C(v,n);v.prototype.canUndo=
function(){return 0<this.history.length};v.prototype.canRedo=function(){return 0<this.redoHistory.length};v.prototype.undo=function(){if(this.canUndo()){var d=this.history.pop();d.undo();this.redoHistory.push(d)}};v.prototype.redo=function(){if(this.canRedo()){var d=this.redoHistory.pop();d.redo();this.history.push(d)}};v.prototype.getCoordsFromScreenPoint=function(d){return(d=this.view.toMap(d))?[d.x,d.y]:null};v.prototype.isDuplicateVertex=function(d,n){if(d.length){d=d[d.length-1];var q=d[1];return d[0]===
n[0]&&q===n[1]}return!1};q([d.property({readOnly:!0})],v.prototype,"history",void 0);q([d.property({readOnly:!0})],v.prototype,"redoHistory",void 0);q([d.property()],v.prototype,"view",void 0);return v=q([d.subclass("esri.views.draw.DrawAction")],v)}(d.declared(v.EventedAccessor))})},"esri/views/draw/input/DrawEvents":function(){define(["require","exports","../../../core/tsSupport/declareExtendsHelper"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});F=function(){function q(q,d,n,
y){this.view=q;this.native=d;this.vertexIndex=n;this.vertices=y;this.defaultPrevented=!1;this.type="vertex-add"}q.prototype.preventDefault=function(){this.defaultPrevented=!0};return q}();w.VertexAddEvent=F;F=function(){function q(q,d,n,y){this.view=q;this.native=d;this.vertexIndex=n;this.vertices=y;this.defaultPrevented=!1;this.type="vertex-update"}q.prototype.preventDefault=function(){this.defaultPrevented=!0};return q}();w.VertexUpdateEvent=F;F=function(){function q(q,d,n,y){this.view=q;this.native=
d;this.vertexIndex=n;this.vertices=y;this.defaultPrevented=!1;this.type="vertex-remove"}q.prototype.preventDefault=function(){this.defaultPrevented=!0};return q}();w.VertexRemoveEvent=F;F=function(){function q(q,d,n,y,w){void 0===w&&(w=null);this.view=q;this.native=d;this.vertexIndex=n;this.vertices=y;this.mapPoint=w;this.defaultPrevented=!1;this.type="cursor-update"}q.prototype.preventDefault=function(){this.defaultPrevented=!0};return q}();w.CursorUpdateEvent=F;F=function(){function q(q,d){this.native=
q;this.vertices=d;this.defaultPrevented=!1;this.type="draw-complete"}q.prototype.preventDefault=function(){this.defaultPrevented=!0};return q}();w.DrawCompleteEvent=F})},"esri/views/draw/input/Keys":function(){define(["require","exports"],function(F,w){Object.defineProperty(w,"__esModule",{value:!0});w.KEYS={drawCompleteKey:"c",redoKey:"r",undoKey:"z",vertexAddKey:"f",panKey:" "}})},"esri/views/draw/PointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/Keys ../input/recognizers/PointerClickHoldAndDrag".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B){var H=function(){function k(k,g,d){this.view=k;this.native=g;this.coordinates=d;this.defaultPrevented=!1;this.type="cursor-update"}k.prototype.preventDefault=function(){this.defaultPrevented=!0};return k}(),p=function(){function k(k,g){this.native=k;this.coordinates=g;this.defaultPrevented=!1;this.type="draw-complete"}k.prototype.preventDefault=function(){this.defaultPrevented=!0};return k}();return function(k){function r(g){g=k.call(this,g)||this;g._clickDelay=B.DefaultParameters.maximumClickDelay;
g._cursorMoved=!1;g._cursorScreenPoint=null;g._pointerDownEvent=null;g._viewHandles=new v;g.coordinates=[];g.view=null;return g}C(r,k);r.prototype.initialize=function(){this._addViewHandles()};r.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};r.prototype.complete=function(){if(this._cursorScreenPoint){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(g)&&(this._set("coordinates",g),this._completeDrawing())}};r.prototype._addViewHandles=
function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(k){k.stopPropagation();var r=g.getCoordsFromScreenPoint(k.screenPoint);d.isSome(r)&&(g._set("coordinates",r),g._drawCompleteHandler(k))}),this.view.on("pointer-down",function(k){g._pointerDownEvent=k;g._cursorMoved=!1}),this.view.on("pointer-move",function(k){g._cursorMoved=!0;g._cursorScreenPoint=n.createScreenPointFromEvent(k);g._cursorUpdateHandler(k)}),this.view.on("pointer-up",function(k){if(g._pointerDownEvent&&
!g._cursorMoved&&k.timestamp-g._pointerDownEvent.timestamp>g._clickDelay){g._cursorScreenPoint=n.createScreenPointFromEvent(k);var r=g.getCoordsFromScreenPoint(g._cursorScreenPoint);d.isSome(r)&&(g._set("coordinates",r),g._drawCompleteHandler(k))}}),this.view.on("key-down",function(k){if(k.key===D.KEYS.drawCompleteKey&&g._cursorScreenPoint){var r=g.getCoordsFromScreenPoint(g._cursorScreenPoint);d.isSome(r)&&(g._set("coordinates",r),g._drawCompleteHandler(k))}})])};r.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};
r.prototype._updateCursor=function(g,k){this.emit("cursor-update",new H(this.view,k,g))};r.prototype._completeDrawing=function(g){this._cursorMoved=!1;this._pointerDownEvent=null;g=new p(g,this.coordinates);this.emit("draw-complete",g);g.defaultPrevented||this._removeViewHandles()};r.prototype._cursorUpdateHandler=function(g){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),g.native)};r.prototype._drawCompleteHandler=function(g){this._completeDrawing(g.native)};q([y.property({readOnly:!0})],
r.prototype,"coordinates",void 0);q([y.property()],r.prototype,"view",void 0);return r=q([y.subclass("esri.views.draw.PointDrawAction")],r)}(y.declared(G))})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/clock ../InputHandler ./support".split(" "),function(F,w,C,q,v,d){Object.defineProperty(w,"__esModule",{value:!0});w.DefaultParameters={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilTouchDrag:6,
holdDelay:500};F=function(n){function v(d,v,B,y,p){void 0===d&&(d=w.DefaultParameters.maximumClickDelay);void 0===v&&(v=w.DefaultParameters.movementUntilMouseDrag);void 0===B&&(B=w.DefaultParameters.movementUntilTouchDrag);void 0===y&&(y=w.DefaultParameters.holdDelay);void 0===p&&(p=q.default);var k=n.call(this,!1)||this;k.maximumClickDelay=d;k.movementUntilMouseDrag=v;k.movementUntilTouchDrag=B;k.holdDelay=y;k._clock=p;k._pointerState=new Map;k._pointerDrag=k.registerOutgoing("pointer-drag");k._immediateClick=
k.registerOutgoing("immediate-click");k._pointerHold=k.registerOutgoing("hold");k.registerIncoming("pointer-down",k._handlePointerDown.bind(k));k.registerIncoming("pointer-up",function(d){k._handlePointerLoss(d,"pointer-up")});k.registerIncoming("pointer-capture-lost",function(d){k._handlePointerLoss(d,"pointer-capture-lost")});k.registerIncoming("pointer-cancel",function(d){k._handlePointerLoss(d,"pointer-cancel")});k._moveHandle=k.registerIncoming("pointer-move",k._handlePointerMove.bind(k));k._moveHandle.pause();
return k}C(v,n);v.prototype.onUninstall=function(){this._pointerState.forEach(function(d){null!=d.holdTimeout&&(d.holdTimeout.remove(),d.holdTimeout=null)});n.prototype.onUninstall.call(this)};v.prototype._handlePointerDown=function(d){var n=this,q=d.data,v=q.native.pointerId,p=null;0===this._pointerState.size&&(p=this._clock.setTimeout(function(){var k=n._pointerState.get(v);k&&(k.isDragging||(n._pointerHold.emit(k.previousEvent,void 0,d.modifiers),k.holdEmitted=!0),k.holdTimeout=null)},this.holdDelay));
p={startEvent:q,previousEvent:q,startTimestamp:d.timestamp,isDragging:!1,downButton:q.native.button,holdTimeout:p,modifiers:new Set};this._pointerState.set(v,p);this.startCapturingPointer(q.native);this._moveHandle.resume();1<this._pointerState.size&&this.startDragging(d)};v.prototype._createPointerDragData=function(d,n,q){return{action:d,startEvent:n.startEvent,previousEvent:n.previousEvent,currentEvent:q}};v.prototype._handlePointerMove=function(n){var q=n.data,v=this._pointerState.get(q.native.pointerId);
v&&(v.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",v,q),void 0,v.modifiers):d.euclideanDistance(q,v.startEvent)>("touch"===q.native.pointerType?this.movementUntilTouchDrag:this.movementUntilMouseDrag)&&this.startDragging(n),v.previousEvent=q)};v.prototype.startDragging=function(d){var n=this,q=d.data,v=q.native.pointerId;this._pointerState.forEach(function(p){null!=p.holdTimeout&&(p.holdTimeout.remove(),p.holdTimeout=null);p.isDragging||(p.modifiers=d.modifiers,p.isDragging=
!0,v===p.startEvent.native.pointerId?n._pointerDrag.emit(n._createPointerDragData("start",p,q)):n._pointerDrag.emit(n._createPointerDragData("start",p,p.previousEvent),d.timestamp))})};v.prototype._handlePointerLoss=function(d,n){var q=d.data,v=q.native.pointerId,p=this._pointerState.get(v);p&&(null!=p.holdTimeout&&(p.holdTimeout.remove(),p.holdTimeout=null),p.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",p,"pointer-up"===n?q:p.previousEvent),void 0,p.modifiers):"pointer-up"===
n&&p.downButton===q.native.button&&d.timestamp-p.startTimestamp<=this.maximumClickDelay&&!p.holdEmitted&&this._immediateClick.emit(q),this._pointerState.delete(v),this.stopCapturingPointer(q.native),0===this._pointerState.size&&this._moveHandle.pause())};return v}(v.InputHandler);w.PointerClickHoldAndDrag=F})},"esri/views/input/recognizers/support":function(){define(["require","exports","../../../core/screenUtils"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.manhattanDistance=
function(q,v){return Math.abs(v.x-q.x)+Math.abs(v.y-q.y)};w.euclideanDistance=function(q,v){var d=v.x-q.x;q=v.y-q.y;return Math.sqrt(d*d+q*q)};w.fitCircleLSQ=function(q,v){v?(v.radius=0,v.center.x=0,v.center.y=0):v={radius:0,center:C.createScreenPoint()};if(0===q.length)return v;if(1===q.length)return v.center.x=q[0].x,v.center.y=q[0].y,v;if(2===q.length){var d=q[0];q=q[1];var n=[q.x-d.x,q.y-d.y],y=n[0],n=n[1];v.radius=Math.sqrt(y*y+n*n)/2;v.center.x=(d.x+q.x)/2;v.center.y=(d.y+q.y)/2;return v}for(var w=
0,D=0,B=0;B<q.length;B++)w+=q[B].x,D+=q[B].y;for(var w=w/q.length,D=D/q.length,H=q.map(function(g){return g.x-w}),p=q.map(function(g){return g.y-D}),k=d=v=0,r=0,g=y=0,B=n=0;B<H.length;B++){var A=H[B],F=p[B],N=A*A,R=F*F;v+=N;d+=R;k+=A*F;r+=N*A;y+=R*F;g+=A*R;n+=F*N}B=v;H=k;p=d;r=.5*(r+g);y=.5*(y+n);n=B*p-k*H;g=(r*p-y*H)/n;y=(B*y-k*r)/n;n=C.createScreenPoint(g+w,y+D);return{radius:Math.sqrt(g*g+y*y+(v+d)/q.length),center:n}}})},"esri/views/draw/PolygonDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B){return function(w){function p(k){k=w.call(this,k)||this;k._cursorScreenPoint=null;k._panEnabled=!1;k._cursorVertexAdded=!1;k._popVertexOnPointerMove=!1;k._addVertexOnPointerUp=!1;k._activePointerId=null;k._viewHandles=new v;k.mode="hybrid";k.vertices=[];k.view=null;return k}C(p,w);p.prototype.initialize=function(){this._addViewHandles()};p.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(p.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});p.prototype.addVertex=function(k,d){var g=this;this.vertices.splice(d,0,k);this.history.push({vertex:k,vertexIndex:d,undo:function(){return g._undoVertexAdd(null,k,d)},redo:function(){return g._redoVertexAdd(null,k,d)}});this._set("redoHistory",
[]);var r=new D.VertexAddEvent(this.view,null,d,this.vertices);this.emit("vertex-add",r);r.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};p.prototype.removeVertex=function(d){var k=this,g=this.vertices.splice(d,1)[0];this.history.push({vertex:g,vertexIndex:d,undo:function(){return k._undoVertexRemove(null,g,d)},redo:function(){return k._redoVertexRemove(null,g,d)}});this._set("redoHistory",[]);this.emit("vertex-remove",new D.VertexRemoveEvent(this.view,null,d,this.vertices))};
p.prototype.updateVertex=function(d,r){var g=this,k=this.vertices[r];this.vertices[r]=d;this.history.push({vertex:d,vertexIndex:r,undo:function(){return g._undoVertexUpdate(null,k,r)},redo:function(){return g._redoVertexUpdate(null,d,r)}});this._set("redoHistory",[]);this.emit("vertex-update",new D.VertexUpdateEvent(this.view,null,r,this.vertices))};p.prototype.complete=function(){this._completeDrawing()};p.prototype._addViewHandles=function(){var k=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(d){d.stopPropagation()}),this.view.on("pointer-down",function(d){k._shouldHandlePointerEvent(d)&&!k._panEnabled&&(k._activePointerId=d.pointerId,k._addVertexOnPointerUp=!0,k._cursorScreenPoint=n.createScreenPointFromEvent(d),"touch"===d.pointerType&&k._updateCursor(d.native))}),this.view.on("pointer-move",function(d){k._popVertexOnPointerMove&&(k.vertices.pop(),k._popVertexOnPointerMove=!1);k._cursorScreenPoint=n.createScreenPointFromEvent(d);"touch"!==d.pointerType&&k._updateCursor(d.native)}),
this.view.on("pointer-drag",function(d){k._shouldHandlePointerEvent(d)&&(k._cursorScreenPoint=n.createScreenPointFromEvent(d),k._dragEnabled&&!k._panEnabled?k._vertexAddHandler(d):k._addVertexOnPointerUp=!1)}),this.view.on("pointer-up",function(d){k._shouldHandlePointerEvent(d)&&(k._activePointerId=null,k._addVertexOnPointerUp?k._clickEnabled?k._vertexAddHandler(d):(1===k.vertices.length&&k.vertices.pop(),k._drawCompleteHandler(d)):k._updateCursor(d.native,"touch"===d.pointerType))}),this.view.on("drag",
function(r){k._dragEnabled&&d.isSome(k._activePointerId)&&!k._panEnabled&&r.stopPropagation()}),this.view.on("drag",["Shift"],function(d){d.stopPropagation()}),this.view.on("double-click",function(d){d.stopPropagation();k._drawCompleteHandler(d)}),this.view.on("double-click",["Control"],function(d){d.stopPropagation();k._drawCompleteHandler(d)}),this.view.on("key-down",function(d){var g=d.key,r=d.repeat;g===B.KEYS.vertexAddKey&&!r&&k._cursorScreenPoint?k._vertexAddHandler(d):g===B.KEYS.drawCompleteKey&&
!r&&k._cursorScreenPoint&&2<k.vertices.length?(k._vertexAddHandler(d),k._drawCompleteHandler(d)):g!==B.KEYS.undoKey||r?g!==B.KEYS.redoKey||r?g!==B.KEYS.panKey||r||(k._panEnabled=!0):k.redo():k.undo()}),this.view.on("key-up",function(d){d.key===B.KEYS.panKey&&(k._panEnabled=!1)})])};p.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};p.prototype._addVertex=function(d,r){var g=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,d)){var k=this.vertices.length;this.vertices.push(d);
this.history.push({vertex:d,vertexIndex:k,undo:function(){return g._undoVertexAdd(r,d,k)},redo:function(){return g._redoVertexAdd(r,d,k)}});this._set("redoHistory",[]);var p=new D.VertexAddEvent(this.view,r,k,this.vertices);this.emit("vertex-add",p);p.defaultPrevented&&this.history.pop()}};p.prototype._updateCursor=function(d,r){void 0===r&&(r=!1);this._popCursorVertex();var g=this.view.toMap(this._cursorScreenPoint),k=null;g&&!r&&(k=this._pushCursorVertex([g.x,g.y]));d=new D.CursorUpdateEvent(this.view,
d,k,this.vertices,g);this.emit("cursor-update",d)};p.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();3>this.vertices.length||(d=new D.DrawCompleteEvent(d,this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};p.prototype._undoVertexAdd=function(d,r,g){this.vertices.splice(g,1);this.emit("undo",new D.VertexRemoveEvent(this.view,d,g,this.vertices))};p.prototype._redoVertexAdd=function(d,r,g){this.vertices.splice(g,0,r);this.emit("redo",
new D.VertexAddEvent(this.view,d,g,this.vertices))};p.prototype._undoVertexRemove=function(d,r,g){this.vertices.splice(g,0,r);this.emit("undo",new D.VertexAddEvent(this.view,d,g,this.vertices))};p.prototype._redoVertexRemove=function(d,r,g){this.vertices.splice(g,1);this.emit("redo",new D.VertexRemoveEvent(this.view,d,g,this.vertices))};p.prototype._undoVertexUpdate=function(d,r,g){this.vertices[g]=r;this.emit("undo",new D.VertexUpdateEvent(this.view,d,g,this.vertices))};p.prototype._redoVertexUpdate=
function(d,r,g){this.vertices[g]=r;this.emit("redo",new D.VertexUpdateEvent(this.view,d,g,this.vertices))};p.prototype._pushCursorVertex=function(d){this._popCursorVertex();this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};p.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};p.prototype._shouldHandlePointerEvent=function(k){return("mouse"!==k.pointerType||0===k.button)&&(d.isNone(this._activePointerId)||this._activePointerId===
k.pointerId)};p.prototype._vertexAddHandler=function(k){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],k.native);else{var r=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(r)&&this._addVertex(r,k.native)}};p.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};q([y.property({dependsOn:["mode"]})],p.prototype,"_clickEnabled",null);q([y.property({dependsOn:["mode"]})],p.prototype,"_dragEnabled",null);q([y.property({cast:function(d){return-1===
["hybrid","freehand","click"].indexOf(d)?"hybrid":d}})],p.prototype,"mode",void 0);q([y.property({readOnly:!0})],p.prototype,"vertices",void 0);q([y.property()],p.prototype,"view",void 0);return p=q([y.subclass("esri.views.draw.PolygonDrawAction")],p)}(y.declared(G))})},"esri/views/draw/PolylineDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B){return function(w){function p(d){d=w.call(this,d)||this;d._cursorScreenPoint=null;d._panEnabled=!1;d._cursorVertexAdded=!1;d._popVertexOnPointerMove=!1;d._addVertexOnPointerUp=!1;d._activePointerId=null;d._viewHandles=new v;d.mode="hybrid";d.vertices=[];d.view=null;return d}C(p,w);p.prototype.initialize=function(){this._addViewHandles()};p.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(p.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});p.prototype.addVertex=function(d,r){var g=this;this.vertices.splice(r,0,d);this.history.push({vertex:d,vertexIndex:r,undo:function(){return g._undoVertexAdd(null,d,r)},redo:function(){return g._redoVertexAdd(null,d,r)}});this._set("redoHistory",
[]);var k=new D.VertexAddEvent(this.view,null,r,this.vertices);this.emit("vertex-add",k);k.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};p.prototype.removeVertex=function(d){var k=this,g=this.vertices.splice(d,1)[0];this.history.push({vertex:g,vertexIndex:d,undo:function(){return k._undoVertexRemove(null,g,d)},redo:function(){return k._redoVertexRemove(null,g,d)}});this._set("redoHistory",[]);this.emit("vertex-remove",new D.VertexRemoveEvent(this.view,null,d,this.vertices))};
p.prototype.updateVertex=function(d,r){var g=this,k=this.vertices[r];this.vertices[r]=d;this.history.push({vertex:d,vertexIndex:r,undo:function(){return g._undoVertexUpdate(null,k,r)},redo:function(){return g._redoVertexUpdate(null,d,r)}});this._set("redoHistory",[]);this.emit("vertex-update",new D.VertexUpdateEvent(this.view,null,r,this.vertices))};p.prototype.complete=function(){this._completeDrawing()};p.prototype._addViewHandles=function(){var k=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(d){d.stopPropagation()}),this.view.on("pointer-down",function(d){k._shouldHandlePointerEvent(d)&&!k._panEnabled&&(k._activePointerId=d.pointerId,k._addVertexOnPointerUp=!0,k._cursorScreenPoint=n.createScreenPointFromEvent(d),"touch"===d.pointerType&&k._updateCursor(d.native))}),this.view.on("pointer-move",function(d){k._popVertexOnPointerMove&&(k.vertices.pop(),k._popVertexOnPointerMove=!1);k._cursorScreenPoint=n.createScreenPointFromEvent(d);"touch"!==d.pointerType&&k._updateCursor(d.native)}),
this.view.on("pointer-drag",function(d){k._shouldHandlePointerEvent(d)&&(k._cursorScreenPoint=n.createScreenPointFromEvent(d),k._dragEnabled&&!k._panEnabled?k._vertexAddHandler(d):k._addVertexOnPointerUp=!1)}),this.view.on("pointer-up",function(d){k._shouldHandlePointerEvent(d)&&(k._activePointerId=null,k._addVertexOnPointerUp?k._clickEnabled?k._vertexAddHandler(d):(1===k.vertices.length&&k.vertices.pop(),k._drawCompleteHandler(d)):k._updateCursor(d.native,"touch"===d.pointerType))}),this.view.on("drag",
function(r){k._dragEnabled&&d.isSome(k._activePointerId)&&!k._panEnabled&&r.stopPropagation()}),this.view.on("drag",["Shift"],function(d){d.stopPropagation()}),this.view.on("double-click",function(d){d.stopPropagation();k._drawCompleteHandler(d)}),this.view.on("double-click",["Control"],function(d){d.stopPropagation();k._drawCompleteHandler(d)}),this.view.on("key-down",function(d){var g=d.key,r=d.repeat;g===B.KEYS.vertexAddKey&&!r&&k._cursorScreenPoint?k._vertexAddHandler(d):g===B.KEYS.drawCompleteKey&&
!r&&k._cursorScreenPoint&&1<k.vertices.length?(k._vertexAddHandler(d),k._drawCompleteHandler(d)):g!==B.KEYS.undoKey||r?g!==B.KEYS.redoKey||r?g!==B.KEYS.panKey||r||(k._panEnabled=!0):k.redo():k.undo()}),this.view.on("key-up",function(d){d.key===B.KEYS.panKey&&(k._panEnabled=!1)})])};p.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};p.prototype._addVertex=function(d,r){var g=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,d)){this.vertices.push(d);var k=
this.vertices.length-1;this.history.push({vertex:d,vertexIndex:k,undo:function(){return g._undoVertexAdd(r,d,k)},redo:function(){return g._redoVertexAdd(r,d,k)}});this._set("redoHistory",[]);var p=new D.VertexAddEvent(this.view,r,k,this.vertices);this.emit("vertex-add",p);p.defaultPrevented&&this.history.pop()}};p.prototype._updateCursor=function(d,r){void 0===r&&(r=!1);this._popCursorVertex();var g=this.view.toMap(this._cursorScreenPoint),k=null;g&&!r&&(k=this._pushCursorVertex([g.x,g.y]));d=new D.CursorUpdateEvent(this.view,
d,k,this.vertices,g);this.emit("cursor-update",d)};p.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();2>this.vertices.length||(d=new D.DrawCompleteEvent(d,this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};p.prototype._undoVertexAdd=function(d,r,g){this.vertices.splice(g,1);this.emit("undo",new D.VertexRemoveEvent(this.view,d,g,this.vertices))};p.prototype._redoVertexAdd=function(d,r,g){this.vertices.splice(g,0,r);this.emit("redo",
new D.VertexAddEvent(this.view,d,g,this.vertices))};p.prototype._undoVertexRemove=function(d,r,g){this.vertices.splice(g,0,r);this.emit("undo",new D.VertexAddEvent(this.view,d,g,this.vertices))};p.prototype._redoVertexRemove=function(d,r,g){this.vertices.splice(g,1);this.emit("redo",new D.VertexRemoveEvent(this.view,d,g,this.vertices))};p.prototype._undoVertexUpdate=function(d,r,g){this.vertices[g]=r;this.emit("undo",new D.VertexUpdateEvent(this.view,d,g,this.vertices))};p.prototype._redoVertexUpdate=
function(d,r,g){this.vertices[g]=r;this.emit("redo",new D.VertexUpdateEvent(this.view,d,g,this.vertices))};p.prototype._pushCursorVertex=function(d){this._popCursorVertex();this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};p.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};p.prototype._shouldHandlePointerEvent=function(k){return("mouse"!==k.pointerType||0===k.button)&&(d.isNone(this._activePointerId)||this._activePointerId===
k.pointerId)};p.prototype._vertexAddHandler=function(k){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],k.native);else{var r=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(r)&&this._addVertex(r,k.native)}};p.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};q([y.property({dependsOn:["mode"]})],p.prototype,"_clickEnabled",null);q([y.property({dependsOn:["mode"]})],p.prototype,"_dragEnabled",null);q([y.property({cast:function(d){return-1===
["hybrid","freehand","click"].indexOf(d)?"hybrid":d}})],p.prototype,"mode",void 0);q([y.property({readOnly:!0})],p.prototype,"vertices",void 0);q([y.property()],p.prototype,"view",void 0);return p=q([y.subclass("esri.views.draw.PolylineDrawAction")],p)}(y.declared(G))})},"esri/views/draw/SegmentDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B){return function(w){function p(d){d=w.call(this,d)||this;d._isDragging=!1;d._panEnabled=!1;d._cursorScreenPoint=null;d._viewHandles=new v;d._cursorVertexAdded=!1;d._activePointerId=null;d.mode="freehand";d.vertices=[];d.view=null;return d}C(p,w);p.prototype.initialize=function(){this._addViewHandles()};p.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};p.prototype.complete=function(){this._completeDrawing()};p.prototype._addViewHandles=
function(){this._removeViewHandles();"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())};p.prototype._getDragModeViewHandles=function(){var k=this;return[this.view.on("click",function(d){d.stopPropagation();d.mapPoint&&!k._panEnabled&&(k._set("vertices",[[d.mapPoint.x,d.mapPoint.y]]),k._drawCompleteHandler(d))}),this.view.on("pointer-down",function(d){k._shouldHandlePointerEvent(d)&&!k._panEnabled&&(k._cursorScreenPoint=
n.createScreenPointFromEvent(d),k._set("vertices",[]),k._activePointerId=d.pointerId,k._vertexAddHandler(d),k._isDragging=!1,"touch"===d.pointerType&&k._cursorUpdateHandler(d))}),this.view.on("pointer-move",function(r){k._cursorScreenPoint=n.createScreenPointFromEvent(r);d.isNone(k._activePointerId)&&"touch"!==r.pointerType&&0===k.vertices.length&&k._cursorUpdateHandler(r)}),this.view.on("pointer-drag",function(d){k._shouldHandlePointerEvent(d)&&(k._isDragging=!0,k._cursorScreenPoint=n.createScreenPointFromEvent(d),
k._cursorUpdateHandler(d))}),this.view.on("pointer-up",function(d){k._shouldHandlePointerEvent(d)&&(k._activePointerId=null,k._popCursorVertex(),k._isDragging&&!k._panEnabled&&(k._vertexAddHandler(d),k._drawCompleteHandler(d)),k._isDragging=!1)}),this.view.on("key-down",function(d){d.key===B.KEYS.drawCompleteKey&&k._cursorScreenPoint?k._drawCompleteHandler(d):d.key===B.KEYS.panKey&&(k._panEnabled=!0)}),this.view.on("key-up",function(d){d.key===B.KEYS.panKey&&(k._panEnabled=!1)}),this.view.on("drag",
function(r){d.isSome(k._activePointerId)&&r.stopPropagation()}),this.view.on("drag",["Shift"],function(d){d.stopPropagation()})]};p.prototype._getClickModeViewHandles=function(){var k=this;return[this.view.on("click",function(d){d.stopPropagation()}),this.view.on("pointer-down",function(d){k._cursorScreenPoint=n.createScreenPointFromEvent(d);k._activePointerId=d.pointerId;k._isDragging=!1;"touch"===d.pointerType&&k._cursorUpdateHandler(d)}),this.view.on("pointer-move",function(r){k._cursorScreenPoint=
n.createScreenPointFromEvent(r);d.isNone(k._activePointerId)&&"touch"!==r.pointerType&&k._cursorUpdateHandler(r)}),this.view.on("pointer-drag",function(d){k._shouldHandlePointerEvent(d)&&(k._isDragging=!0)}),this.view.on("pointer-up",function(d){k._shouldHandlePointerEvent(d)&&(k._activePointerId=null,k._isDragging||k._vertexAddHandler(d),2!==k.vertices.length||k._isDragging||k._drawCompleteHandler(d),k._isDragging=!1)}),this.view.on("key-down",function(d){d.key===B.KEYS.vertexAddKey&&k._cursorScreenPoint&&
(k._vertexAddHandler(d),2===k.vertices.length&&k._drawCompleteHandler(d));d.key===B.KEYS.drawCompleteKey&&k._cursorScreenPoint&&2===k.vertices.length&&k._drawCompleteHandler(d)})]};p.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};p.prototype._addVertex=function(d,p){this._popCursorVertex();this.isDuplicateVertex(this.vertices,d)||(this.vertices.push(d),d=this.vertices.indexOf(d),p=new D.VertexAddEvent(this.view,p,d,this.vertices),this.emit("vertex-add",p))};p.prototype._updateCursor=
function(k,p){var g=null;d.isSome(k)&&(g=this._pushCursorVertex(k));k=new D.CursorUpdateEvent(this.view,p,g,this.vertices);this.emit("cursor-update",k)};p.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();this._isDragging=!1;this._cursorScreenPoint=null;1>this.vertices.length||(d=new D.DrawCompleteEvent(d,this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};p.prototype._pushCursorVertex=function(d){this._popCursorVertex();
this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};p.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};p.prototype._shouldHandlePointerEvent=function(k){return("mouse"!==k.pointerType||0===k.button)&&(d.isNone(this._activePointerId)||this._activePointerId===k.pointerId)};p.prototype._vertexAddHandler=function(k){var p=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(p)&&this._addVertex(p,k.native)};
p.prototype._cursorUpdateHandler=function(d){var k=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(k,d.native)};p.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};q([y.property({cast:function(d){return-1===["freehand","click"].indexOf(d)?"freehand":d}})],p.prototype,"mode",void 0);q([y.property({readOnly:!0})],p.prototype,"vertices",void 0);q([y.property()],p.prototype,"view",void 0);return p=q([y.subclass("esri/views/2d/engine/markup/SegmentDrawAction")],
p)}(y.declared(G))})},"esri/views/draw/support/createUtils":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../geometry ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H,p,k,r,g){function A(g,d){return{x:g,y:d}}function K(d,p,m,n){void 0===n&&(n=!0);d=d.map(function(g){return Array.apply([],g)});d.forEach(function(g,d){g[0][0]===g[g.length-1][0]&&g[0][1]===g[g.length-1][1]||g.push(g[0])});var q=new v.Polygon({rings:d,spatialReference:p});q.rings.forEach(function(g){q.isClockwise(g)||g.reverse()});m&&r.unnormalizeGeometryOnDatelineCrossing(q);n&&q.isSelfIntersecting&&g.isValid(p)&&(q=k.simplify(q));return q}Object.defineProperty(w,
"__esModule",{value:!0});w.makeMapPoint=function(g,d){return[g,d]};w.makeSurfacePoint=A;F=function(){function g(g){this.spatialReference=g}g.prototype.mapToLocalMultiple=function(g){var d=this;return g.map(function(g){return d.mapToLocal(g)})};Object.defineProperty(g.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!0,configurable:!0});return g}();var N=function(g){function d(d,k){k=g.call(this,k)||this;k.transform=y.mat2df64.create();k.transformInv=y.mat2df64.create();k.transform=
y.mat2df64.clone(d);n.mat2d.invert(k.transformInv,k.transform);return k}C(d,g);d.prototype.mapToLocal=function(g){return A(this.transform[0]*g[0]+this.transform[2]*g[1]+this.transform[4],this.transform[1]*g[0]+this.transform[3]*g[1]+this.transform[5])};d.prototype.localToMap=function(g){return[this.transformInv[0]*g.x+this.transformInv[2]*g.y+this.transformInv[4],this.transformInv[1]*g.x+this.transformInv[3]*g.y+this.transformInv[5]]};return d}(F);w.AffineCoordinateSystem=N;var R=function(g){function d(d,
k){var m=g.call(this,d.spatialReference)||this;m.view=d;m.pWS=H.vec3f64.create();m.tangentFrameUpWS=H.vec3f64.create();m.tangentFrameRightWS=H.vec3f64.create();m.tangentFrameForwardWS=H.vec3f64.create();m.localFrameRightWS=H.vec3f64.create();m.localFrameUpWS=H.vec3f64.create();m.worldToLocalTransform=D.quatf64.create();m.localToWorldTransform=D.quatf64.create();m.scale=1;m.scale=d.resolution;m.pMS=k;d=d.state.camera.viewRight;m.view.renderCoordsHelper.toRenderCoords(m.pMS,m.pWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,
0,m.tangentFrameRightWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,1,m.tangentFrameUpWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,2,m.tangentFrameForwardWS);k=H.vec3f64.create();B.vec3.scale(k,m.tangentFrameForwardWS,B.vec3.dot(d,m.tangentFrameForwardWS));B.vec3.subtract(m.localFrameRightWS,d,k);B.vec3.normalize(m.localFrameRightWS,m.localFrameRightWS);B.vec3.cross(m.localFrameUpWS,m.tangentFrameForwardWS,m.localFrameRightWS);G.quat.rotationTo(m.worldToLocalTransform,m.localFrameRightWS,
m.tangentFrameRightWS);G.quat.invert(m.localToWorldTransform,m.worldToLocalTransform);return m}C(d,g);Object.defineProperty(d.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!0,configurable:!0});d.prototype.mapToLocal=function(g){var d=H.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new v.Point({x:g[0],y:g[1],spatialReference:this.spatialReference}),d);B.vec3.transformQuat(d,d,this.worldToLocalTransform);g=this.view.renderCoordsHelper.fromRenderCoords(d,
this.view.spatialReference);return A(g.x/this.scale,g.y/this.scale)};d.prototype.localToMap=function(g){var d=H.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new v.Point({x:g.x*this.scale,y:g.y*this.scale,spatialReference:this.spatialReference}),d);B.vec3.transformQuat(d,d,this.localToWorldTransform);g=this.view.renderCoordsHelper.fromRenderCoords(d,this.view.spatialReference);return[g.x,g.y]};return d}(F);w.SceneViewCoordinateSystem=R;w.createViewAlignedCoordinateSystem=function(g,
d){return"2d"===g.type?new N(g.state.transform,g.spatialReference):"3d"===g.type?new R(g,new v.Point({x:d[0],y:d[1],spatialReference:g.spatialReference})):null};w.createPoint=function(g,d){return new v.Point({x:g[0],y:g[1],spatialReference:d})};w.createMultipoint=function(g,d){return new v.Multipoint({points:g,spatialReference:d})};w.createPolyline=function(g,d,k){g=new v.Polyline({paths:g,spatialReference:d});k&&r.unnormalizeGeometryOnDatelineCrossing(g);return g};w.createPolygon=K;w.createTriangleMS=
function(g,d,k,p){var m=d.mapToLocalMultiple(g);g=m[0];var n=m[1],r=Math.round(n.x-g.x),q=Math.round(n.y-g.y),v=m=null,w=null;k&&p?(k=Math.sqrt(r*r+q*q),m=A(-.8660254037844386*k+g.x,.5*k+g.y),v=A(.8660254037844386*k+g.x,.5*k+g.y),w=A(g.x,g.y-k)):k?(m=A(0<q?n.x:g.x,g.y+q),v=A(g.x-r,0<q?n.y:g.y-q),w=A(0<q?g.x:n.x,g.y-q)):p?(k=Math.max(Math.abs(r),Math.abs(q)),p=k*Math.sqrt(3)/2,m=A(g.x,0<q?g.y+k:g.y),v=A(0<r?g.x+k:g.x-k,0<q?g.y+k:g.y),w=A(0<r?g.x+k/2:g.x-k/2,0<q?g.y+k-p:g.y-p)):(m=A(0<q?g.x+r/2:n.x,
g.y),v=A(0<q?g.x:g.x+r/2,n.y),w=A(0<q?n.x:g.x,0<q?n.y:g.y));return K([[m,w,v].map(function(g){return d.localToMap(g)})],d.spatialReference,d.doUnnormalization,!0)};w.createSquare=function(g,d,k){var m=d.mapToLocalMultiple(g);g=[];var p=m[0].x,n=m[0].y,r=Math.round(m[1].x-p),q=Math.round(m[1].y-n),m=Math.max(Math.abs(r),Math.abs(q));k?(k=p+m,r=n+m,p-=m,n-=m,g.push(A(k,n),A(p,n),A(p,r),A(k,r))):(k=0<r?p+m:p-m,m=0<q?n+m:n-m,g.push(A(p,n),A(k,n),A(k,m),A(p,m)));return K([g.map(function(g){return d.localToMap(g)})],
d.spatialReference,d.doUnnormalization,!0)};w.createRectangle=function(g,d,k){var m=d.mapToLocalMultiple(g);1===m.length&&(g=m[0],m=[A(g.x-48,g.y+48),A(g.x+48,g.y-48),A(g.x+48,g.y-48),A(g.x-48,g.y+48)]);g=[];var p=m[0].x,n=m[0].y,r=m[1].x,m=m[1].y;if(k){k=Math.round(r-p);var q=Math.round(m-n);g.push(A(p-k,n-q),A(r,n-q),A(r,m),A(p-k,m))}else g.push(A(p,n),A(r,n),A(r,m),A(p,m));return K([g.map(function(g){return d.localToMap(g)})],d.spatialReference,d.doUnnormalization,!0)};w.createCircle=function(g,
n,m){var q=n.mapToLocalMultiple(g),w=g=null;m?(g=q[0],w=q[1]):(g=q[0],q=q[1],m=Math.round(q.x-g.x),q=Math.round(q.y-g.y),w=Math.max(Math.abs(m),Math.abs(q)),g=A(0<m?g.x+w/2:g.x-w/2,0<q?g.y+w/2:g.y-w/2),w=A(Math.abs(m)>Math.abs(q)?g.x-w/2:g.x,Math.abs(m)>Math.abs(q)?g.y:g.y-w/2));g=n.localToMap(g);m=n.localToMap(w);n.doUnnormalization&&r.unnormalizeVerticesOnDatelineCrossing([[g,m]],n.spatialReference);g=new v.Point({x:g[0],y:g[1],spatialReference:n.spatialReference});m=new v.Point({x:m[0],y:m[1],
spatialReference:n.spatialReference});m=d.getMetersPerUnitForSR(n.spatialReference)*k.distance(g,m,null);n=new p({center:g,radius:m,radiusUnit:"meters",spatialReference:n.spatialReference});return K(n.rings,n.spatialReference,!1)};w.createEllipse=function(g,d,k){var m=d.mapToLocalMultiple(g);g=m[0];var p=m[1],m=Math.round(p.x-g.x),p=Math.round(p.y-g.y);g=A(k?g.x:g.x+m/2,k?g.y:g.y+p/2);m=k?m:m/2;k=k?p:p/2;for(var p=[],n=2*Math.PI/60,r=0;60>r;r++){var q=A(m*Math.cos(r*n)+g.x,k*Math.sin(r*n)+g.y);p.push(q)}p.push(p[0]);
return K([p.map(function(g){return d.localToMap(g)})],d.spatialReference,d.doUnnormalization,!1)}})},"esri/core/libs/gl-matrix-2/mat2d":function(){define(["require","exports","./math/mat2d"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.mat2d=C})},"esri/core/libs/gl-matrix-2/mat2df64":function(){define(["require","exports","./factories/mat2df64"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.mat2df64=C})},"esri/core/libs/gl-matrix-2/factories/mat2df64":function(){define(["require",
"exports"],function(F,w){Object.defineProperty(w,"__esModule",{value:!0});w.create=function(){return[1,0,0,1,0,0]};w.clone=function(w){return[w[0],w[1],w[2],w[3],w[4],w[5]]};w.fromValues=function(w,q,v,d,n,y){return[w,q,v,d,n,y]};w.createView=function(w,q){return new Float64Array(w,q,6)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.quat=C})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(F,w,C,q,v,d,n,y){function G(g,d,k){k*=.5;var p=Math.sin(k);g[0]=p*d[0];g[1]=p*d[1];g[2]=p*d[2];g[3]=Math.cos(k);return g}function D(g,d,k){var p=d[0],m=d[1],n=d[2];d=d[3];var r=k[0],q=k[1],v=k[2];k=k[3];g[0]=p*k+d*r+m*v-n*q;g[1]=m*k+d*q+n*r-p*v;g[2]=n*k+d*v+p*q-m*r;g[3]=d*k-p*r-m*q-n*v;return g}function B(g,k,p,n){var m=k[0],r=k[1],q=k[2];k=k[3];var v=p[0],w=p[1],y=p[2];p=p[3];var B,A,H;A=m*v+r*w+q*y+k*p;0>A&&(A=-A,v=-v,w=-w,y=-y,p=-p);1-A>d.EPSILON?(B=Math.acos(A),H=Math.sin(B),A=Math.sin((1-
n)*B)/H,n=Math.sin(n*B)/H):A=1-n;g[0]=A*m+n*v;g[1]=A*r+n*w;g[2]=A*q+n*y;g[3]=A*k+n*p;return g}function H(g,d){var k=d[0]+d[4]+d[8];if(0<k)k=Math.sqrt(k+1),g[3]=.5*k,k=.5/k,g[0]=(d[5]-d[7])*k,g[1]=(d[6]-d[2])*k,g[2]=(d[1]-d[3])*k;else{var p=0;d[4]>d[0]&&(p=1);d[8]>d[3*p+p]&&(p=2);var m=(p+1)%3,n=(p+2)%3,k=Math.sqrt(d[3*p+p]-d[3*m+m]-d[3*n+n]+1);g[p]=.5*k;k=.5/k;g[3]=(d[3*m+n]-d[3*n+m])*k;g[m]=(d[3*m+p]+d[3*p+m])*k;g[n]=(d[3*n+p]+d[3*p+n])*k}return g}Object.defineProperty(w,"__esModule",{value:!0});
w.identity=function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g};w.setAxisAngle=G;w.getAxisAngle=function(g,k){var p=2*Math.acos(k[3]),n=Math.sin(p/2);n>d.EPSILON?(g[0]=k[0]/n,g[1]=k[1]/n,g[2]=k[2]/n):(g[0]=1,g[1]=0,g[2]=0);return p};w.multiply=D;w.rotateX=function(g,d,k){k*=.5;var p=d[0],m=d[1],n=d[2];d=d[3];var r=Math.sin(k);k=Math.cos(k);g[0]=p*k+d*r;g[1]=m*k+n*r;g[2]=n*k-m*r;g[3]=d*k-p*r;return g};w.rotateY=function(g,d,k){k*=.5;var p=d[0],m=d[1],n=d[2];d=d[3];var r=Math.sin(k);k=Math.cos(k);g[0]=
p*k-n*r;g[1]=m*k+d*r;g[2]=n*k+p*r;g[3]=d*k-m*r;return g};w.rotateZ=function(g,d,k){k*=.5;var p=d[0],m=d[1],n=d[2];d=d[3];var r=Math.sin(k);k=Math.cos(k);g[0]=p*k+m*r;g[1]=m*k-p*r;g[2]=n*k+d*r;g[3]=d*k-n*r;return g};w.calculateW=function(g,d){var k=d[0],p=d[1];d=d[2];g[0]=k;g[1]=p;g[2]=d;g[3]=Math.sqrt(Math.abs(1-k*k-p*p-d*d));return g};w.slerp=B;w.random=function(g){var k=d.RANDOM(),p=d.RANDOM(),n=d.RANDOM(),m=Math.sqrt(1-k),k=Math.sqrt(k);g[0]=m*Math.sin(2*Math.PI*p);g[1]=m*Math.cos(2*Math.PI*p);
g[2]=k*Math.sin(2*Math.PI*n);g[3]=k*Math.cos(2*Math.PI*n);return g};w.invert=function(g,d){var k=d[0],p=d[1],m=d[2];d=d[3];var n=k*k+p*p+m*m+d*d,n=n?1/n:0;g[0]=-k*n;g[1]=-p*n;g[2]=-m*n;g[3]=d*n;return g};w.conjugate=function(g,d){g[0]=-d[0];g[1]=-d[1];g[2]=-d[2];g[3]=d[3];return g};w.fromMat3=H;w.fromEuler=function(g,d,k,p){var m=.5*Math.PI/180;d*=m;k*=m;p*=m;m=Math.sin(d);d=Math.cos(d);var n=Math.sin(k);k=Math.cos(k);var r=Math.sin(p);p=Math.cos(p);g[0]=m*k*p-d*n*r;g[1]=d*n*p+m*k*r;g[2]=d*k*r-m*
n*p;g[3]=d*k*p+m*n*r;return g};w.str=function(g){return"quat("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"};w.copy=y.copy;w.set=y.set;w.add=y.add;w.mul=D;w.scale=y.scale;w.dot=y.dot;w.lerp=y.lerp;w.length=y.length;w.len=w.length;w.squaredLength=y.squaredLength;w.sqrLen=w.squaredLength;w.normalize=y.normalize;w.exactEquals=y.exactEquals;w.equals=y.equals;w.rotationTo=function(g,d,q){var v=n.dot(d,q);if(-.999999>v)return n.cross(p,k,d),1E-6>n.len(p)&&n.cross(p,r,d),n.normalize(p,p),G(g,p,Math.PI),g;if(.999999<
v)return g[0]=0,g[1]=0,g[2]=0,g[3]=1,g;n.cross(p,d,q);g[0]=p[0];g[1]=p[1];g[2]=p[2];g[3]=1+v;return w.normalize(g,g)};var p=v.create(),k=v.fromValues(1,0,0),r=v.fromValues(0,1,0);w.sqlerp=function(d,k,p,n,m,r){B(g,k,m,r);B(A,p,n,r);B(d,g,A,2*r*(1-r));return d};var g=q.create(),A=q.create();w.setAxes=function(g,d,k,p){var m=K;m[0]=k[0];m[3]=k[1];m[6]=k[2];m[1]=p[0];m[4]=p[1];m[7]=p[2];m[2]=-d[0];m[5]=-d[1];m[8]=-d[2];return w.normalize(g,H(g,m))};var K=C.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(F,w){Object.defineProperty(w,"__esModule",{value:!0});w.create=function(){return[1,0,0,0,1,0,0,0,1]};w.clone=function(w){return[w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8]]};w.fromValues=function(w,q,v,d,n,y,G,D,B){return[w,q,v,d,n,y,G,D,B]};w.createView=function(w,q){return new Float64Array(w,q,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(F,w){Object.defineProperty(w,"__esModule",{value:!0});w.create=function(){return[0,
0,0,1]};w.clone=function(w){return[w[0],w[1],w[2],w[3]]};w.fromValues=function(w,q,v,d){return[w,q,v,d]};w.createView=function(w,q){return new Float64Array(w,q,4)}})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(F,w,C){function q(d,n,p){d[0]=n[0]-p[0];d[1]=n[1]-p[1];d[2]=n[2]-p[2];d[3]=n[3]-p[3];return d}function v(d,n,p){d[0]=n[0]*p[0];d[1]=n[1]*p[1];d[2]=n[2]*p[2];d[3]=n[3]*p[3];return d}function d(d,n,p){d[0]=n[0]/p[0];d[1]=n[1]/p[1];d[2]=n[2]/
p[2];d[3]=n[3]/p[3];return d}function n(d,n){var p=n[0]-d[0],k=n[1]-d[1],r=n[2]-d[2];d=n[3]-d[3];return Math.sqrt(p*p+k*k+r*r+d*d)}function y(d,n){var p=n[0]-d[0],k=n[1]-d[1],r=n[2]-d[2];d=n[3]-d[3];return p*p+k*k+r*r+d*d}function G(d){var n=d[0],p=d[1],k=d[2];d=d[3];return Math.sqrt(n*n+p*p+k*k+d*d)}function D(d){var n=d[0],p=d[1],k=d[2];d=d[3];return n*n+p*p+k*k+d*d}Object.defineProperty(w,"__esModule",{value:!0});w.copy=function(d,n){d[0]=n[0];d[1]=n[1];d[2]=n[2];d[3]=n[3];return d};w.set=function(d,
n,p,k,r){d[0]=n;d[1]=p;d[2]=k;d[3]=r;return d};w.add=function(d,n,p){d[0]=n[0]+p[0];d[1]=n[1]+p[1];d[2]=n[2]+p[2];d[3]=n[3]+p[3];return d};w.subtract=q;w.multiply=v;w.divide=d;w.ceil=function(d,n){d[0]=Math.ceil(n[0]);d[1]=Math.ceil(n[1]);d[2]=Math.ceil(n[2]);d[3]=Math.ceil(n[3]);return d};w.floor=function(d,n){d[0]=Math.floor(n[0]);d[1]=Math.floor(n[1]);d[2]=Math.floor(n[2]);d[3]=Math.floor(n[3]);return d};w.min=function(d,n,p){d[0]=Math.min(n[0],p[0]);d[1]=Math.min(n[1],p[1]);d[2]=Math.min(n[2],
p[2]);d[3]=Math.min(n[3],p[3]);return d};w.max=function(d,n,p){d[0]=Math.max(n[0],p[0]);d[1]=Math.max(n[1],p[1]);d[2]=Math.max(n[2],p[2]);d[3]=Math.max(n[3],p[3]);return d};w.round=function(d,n){d[0]=Math.round(n[0]);d[1]=Math.round(n[1]);d[2]=Math.round(n[2]);d[3]=Math.round(n[3]);return d};w.scale=function(d,n,p){d[0]=n[0]*p;d[1]=n[1]*p;d[2]=n[2]*p;d[3]=n[3]*p;return d};w.scaleAndAdd=function(d,n,p,k){d[0]=n[0]+p[0]*k;d[1]=n[1]+p[1]*k;d[2]=n[2]+p[2]*k;d[3]=n[3]+p[3]*k;return d};w.distance=n;w.squaredDistance=
y;w.length=G;w.squaredLength=D;w.negate=function(d,n){d[0]=-n[0];d[1]=-n[1];d[2]=-n[2];d[3]=-n[3];return d};w.inverse=function(d,n){d[0]=1/n[0];d[1]=1/n[1];d[2]=1/n[2];d[3]=1/n[3];return d};w.normalize=function(d,n){var p=n[0],k=n[1],r=n[2];n=n[3];var g=p*p+k*k+r*r+n*n;0<g&&(g=1/Math.sqrt(g),d[0]=p*g,d[1]=k*g,d[2]=r*g,d[3]=n*g);return d};w.dot=function(d,n){return d[0]*n[0]+d[1]*n[1]+d[2]*n[2]+d[3]*n[3]};w.lerp=function(d,n,p,k){var r=n[0],g=n[1],q=n[2];n=n[3];d[0]=r+k*(p[0]-r);d[1]=g+k*(p[1]-g);
d[2]=q+k*(p[2]-q);d[3]=n+k*(p[3]-n);return d};w.random=function(d,n){n=n||1;var p,k,r,g,q,v;do p=2*C.RANDOM()-1,k=2*C.RANDOM()-1,q=p*p+k*k;while(1<=q);do r=2*C.RANDOM()-1,g=2*C.RANDOM()-1,v=r*r+g*g;while(1<=v);q=Math.sqrt((1-q)/v);d[0]=n*p;d[1]=n*k;d[2]=n*r*q;d[3]=n*g*q;return d};w.transformMat4=function(d,n,p){var k=n[0],r=n[1],g=n[2];n=n[3];d[0]=p[0]*k+p[4]*r+p[8]*g+p[12]*n;d[1]=p[1]*k+p[5]*r+p[9]*g+p[13]*n;d[2]=p[2]*k+p[6]*r+p[10]*g+p[14]*n;d[3]=p[3]*k+p[7]*r+p[11]*g+p[15]*n;return d};w.transformQuat=
function(d,n,p){var k=n[0],r=n[1],g=n[2],q=p[0],v=p[1],w=p[2];p=p[3];var y=p*k+v*g-w*r,B=p*r+w*k-q*g,D=p*g+q*r-v*k,k=-q*k-v*r-w*g;d[0]=y*p+k*-q+B*-w-D*-v;d[1]=B*p+k*-v+D*-q-y*-w;d[2]=D*p+k*-w+y*-v-B*-q;d[3]=n[3];return d};w.str=function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"};w.exactEquals=function(d,n){return d[0]===n[0]&&d[1]===n[1]&&d[2]===n[2]&&d[3]===n[3]};w.equals=function(d,n){var p=d[0],k=d[1],r=d[2];d=d[3];var g=n[0],q=n[1],v=n[2];n=n[3];return Math.abs(p-g)<=C.EPSILON*Math.max(1,
Math.abs(p),Math.abs(g))&&Math.abs(k-q)<=C.EPSILON*Math.max(1,Math.abs(k),Math.abs(q))&&Math.abs(r-v)<=C.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(d-n)<=C.EPSILON*Math.max(1,Math.abs(d),Math.abs(n))};w.sub=q;w.mul=v;w.div=d;w.dist=n;w.sqrDist=y;w.len=G;w.sqrLen=D})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(F,w,C){Object.defineProperty(w,"__esModule",{value:!0});w.quatf64=C})},"esri/geometry/Circle":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(F,w,C,q,v,d,n,y,G,D,B,H){return function(p){function k(){for(var d=[],k=0;k<arguments.length;k++)d[k]=arguments[k];d=p.apply(this,d)||this;d.center=null;d.geodesic=!1;d.numberOfPoints=60;d.radius=1E3;d.radiusUnit="meters";return d}q(k,p);r=k;k.prototype.normalizeCtorArgs=function(d,k){var g;if(d&&d.center)g=d;else{if(d&&d.rings)return this.inherited(arguments);g={center:d}}return C({},this.inherited(arguments,[]),g,k)};k.prototype.initialize=function(){var g=this.center,k=this.numberOfPoints;
this.hasZ=g&&g.hasZ;if(0===this.rings.length&&g){var n=d.convertUnit(this.radius,this.radiusUnit,"meters"),p=g.spatialReference,r="geographic";if(p.isWebMercator)r="webMercator";else if(null!=H[p.wkid]||p.wkt&&0===p.wkt.indexOf("PROJCS"))r="projected";if(this.geodesic){p=void 0;switch(r){case "webMercator":p=B.webMercatorToGeographic(g);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":p=
g}g=this._createGeodesicCircle(p,n,k);"webMercator"===r&&(g=B.geographicToWebMercator(g))}else p=void 0,"webMercator"===r||"projected"===r?p=n/this._convert2Meters(1,g.spatialReference):"geographic"===r&&(p=d.lengthToDegrees(n,"meters")),g=this._createPlanarCircle(g,p,k);this.spatialReference=g.spatialReference;this.addRing(g.rings[0])}};k.prototype.clone=function(){var d=this.numberOfPoints,k=this.radius,n=this.radiusUnit,p=this.geodesic;return new r({center:this.center.clone(),numberOfPoints:d,
radius:k,radiusUnit:n,geodesic:p})};k.prototype._createGeodesicCircle=function(d,k,n){for(var g=0,p=[];360>g;){var r=[0,0];D.directGeodeticSolver(r,[d.x,d.y],g,k);this.hasZ&&r.push(d.z);p.push(r);g+=360/n}p.push(p[0]);return new G(p)};k.prototype._createPlanarCircle=function(d,k,n){for(var g=0,p=[];g<2*Math.PI;){var r=[d.x+Math.cos(-g)*k,d.y+Math.sin(-g)*k];this.hasZ&&r.push(d.z);p.push(r);g+=Math.PI/(n/2)}p.push(p[0]);return new G({spatialReference:d.spatialReference,rings:[p]})};k.prototype._convert2Meters=
function(d,k){if(null!=H[k.wkid])k=H.values[H[k.wkid]];else{k=k.wkt;var g=k.lastIndexOf(",")+1,n=k.lastIndexOf("]]");k=parseFloat(k.substring(g,n))}return d*k};var r;v([n.property({type:y})],k.prototype,"center",void 0);v([n.property()],k.prototype,"geodesic",void 0);v([n.property()],k.prototype,"numberOfPoints",void 0);v([n.property()],k.prototype,"radius",void 0);v([n.property()],k.prototype,"radiusUnit",void 0);return k=r=v([n.subclass("esri.geometry.Circle")],k)}(n.declared(G))})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/Logger ../../core/unitUtils".split(" "),
function(F,w,C,q,v,d,n){function y(d){if(!d||!d.isGeographic)return null;if(d.wkid){var g=N[d.wkid];if(g)return g}if(d.wkt){d=K.exec(d.wkt);if(!d||2!==d.length)return null;g=d[1].split(",");if(!g||3!==g.length)return null;d=parseFloat(g[1]);g=parseFloat(g[2]);return isNaN(d)||isNaN(g)?null:{a:d,f:0===g?0:1/g}}return null}function G(d){d=y(d||A);if("b"in d&&"eSq"in d&&"radius"in d)return d;var g=d.a*(1-d.f);return C.assign(d,{b:g,eSq:1-Math.pow(g/d.a,2),radius:(2*d.a+g)/3})}function D(d,k,n){var m=
G(n);n=m.a;var m=m.eSq,p=Math.sqrt(m),r=Math.sin(k[1]*g);k=n*k[0]*g;n=0<m?n*(1-m)*(r/(1-m*r*r)-1/(2*p)*Math.log((1-p*r)/(1+p*r)))*.5:n*r;d[0]=k;d[1]=n;return d}function B(d){return null!==y(d)}function H(d,g){if("polyline"!==d.type&&"polygon"!==d.type)throw r.error("invalid geometry: the input geometry is neither polyline nor polygon"),new v("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var n=d.spatialReference;if(!B(n))throw r.error("invalid spatialreference: the input geometry spatialreference is not supported"),
new v("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var m=G(n).radius/1E4;g<m&&(g=m);for(var m=[],w=[0,0],y={distance:null},A=0,D="polyline"===d.type?d.paths:d.rings;A<D.length;A++){var C=D[A],F=[];m.push(F);F.push([C[0][0],C[0][1]]);for(var H=C[0][0],J=C[0][1],K=void 0,N=void 0,R=0;R<C.length-1;R++)if(K=C[R+1][0],N=C[R+1][1],H!==K||J!==N){var da=[H,J];k(y,[H,J],[K,N],n);H=y.azimuth;J=y.distance;K=J/g;if(1<K){for(N=1;N<=K-1;N++)p(w,da,H,N*g,
n),F.push(w.slice(0));p(w,da,H,(J+Math.floor(K-1)*g)/2,n);F.push(w.slice(0))}p(w,da,H,J,n);F.push(w.slice(0));H=w[0];J=w[1]}}return"polyline"===d.type?new q.Polyline({paths:m,spatialReference:n}):new q.Polygon({rings:m,spatialReference:n})}function p(d,k,n,m,p){var r=k[0]*g,q=k[1]*g;k=n*g;p=G(p);var v=p.a,w=p.b;p=p.f;n=Math.sin(k);k=Math.cos(k);for(var y=(1-p)*Math.tan(q),q=1/Math.sqrt(1+y*y),A=y*q,B=Math.atan2(y,k),y=q*n,D=y*y,I=1-D,v=I*(v*v-w*w)/(w*w),C=1+v/16384*(4096+v*(-768+v*(320-175*v))),F=
v/1024*(256+v*(-128+v*(74-47*v))),v=m/(w*C),e=2*Math.PI,E,t,b,a;1E-12<Math.abs(v-e);)b=Math.cos(2*B+v),E=Math.sin(v),t=Math.cos(v),a=F*E*(b+F/4*(t*(-1+2*b*b)-F/6*b*(-3+4*E*E)*(-3+4*b*b))),e=v,v=m/(w*C)+a;m=A*E-q*t*k;w=p/16*I*(4+p*(4-3*I));m=Math.atan2(A*t+q*E*k,(1-p)*Math.sqrt(D+m*m))/g;r=(r+(Math.atan2(E*n,q*t-A*E*k)-(1-w)*p*y*(v+w*E*(b+w*t*(-1+2*b*b)))))/g;d.splice(0,d.length);d.push(r,m);return d}function k(d,k,n,m){var p=k[0]*g;k=k[1]*g;var r=n[0]*g;n=n[1]*g;var q=G(m),v=q.a;m=q.b;var w=q.f,y=
q.radius,A=r-p,B=Math.atan((1-w)*Math.tan(k)),D=Math.atan((1-w)*Math.tan(n)),q=Math.sin(B),B=Math.cos(B),C=Math.sin(D),D=Math.cos(D),F=1E3,H=A,e,E,t,b,a,c,f,h;do{b=Math.sin(H);a=Math.cos(H);t=Math.sqrt(D*b*D*b+(B*C-q*D*a)*(B*C-q*D*a));if(0===t)return{distance:0};a=q*C+B*D*a;c=Math.atan2(t,a);f=B*D*b/t;E=1-f*f;b=a-2*q*C/E;isNaN(b)&&(b=0);h=w/16*E*(4+w*(4-3*E));e=H;H=A+(1-h)*w*f*(c+h*t*(b+h*a*(-1+2*b*b)))}while(1E-12<Math.abs(H-e)&&0<--F);if(0===F)return d=r-p,{azimuth:Math.atan2(Math.sin(d)*Math.cos(n),
Math.cos(k)*Math.sin(n)-Math.sin(k)*Math.cos(n)*Math.cos(d))/g,distance:Math.acos(Math.sin(k)*Math.sin(n)+Math.cos(k)*Math.cos(n)*Math.cos(r-p))*y};p=E*(v*v-m*m)/(m*m);k=p/1024*(256+p*(-128+p*(74-47*p)));r=Math.atan2(B*Math.sin(H),B*C*Math.cos(H)-q*D);d.azimuth=Math.atan2(D*Math.sin(H),B*C-q*D*Math.cos(H))/g;d.distance=m*(1+p/16384*(4096+p*(-768+p*(320-175*p))))*(c-k*t*(b+k/4*(a*(-1+2*b*b)-k/6*b*(-3+4*t*t)*(-3+4*b*b))));d.reverseAzimuth=r/g;return d}Object.defineProperty(w,"__esModule",{value:!0});
var r=d.getLogger("esri.geometry.support.geodesicUtils"),g=Math.PI/180,A=q.SpatialReference.WGS84,K=/SPHEROID\[([^\]]+)]/i,N={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,
f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,
f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},
104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};w.isSupported=B;w.geodesicAreas=function(d,g){void 0===g&&(g="square-meters");if(d.some(function(d){return!B(d.spatialReference)}))throw r.error("invalid spatialreference: the input geometries spatialreference is not supported"),
new v("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var k=[],m=0;m<d.length;m++){var p=d[m],q=p.spatialReference,q=.0015696101447650193*G(q).radius;k.push(H(p,q))}d=[];for(var m=[0,0],p=[0,0],w=0;w<k.length;w++){for(var q=k[w],y=q.rings,q=q.spatialReference,A=0,C=0;C<y.length;C++){var F=y[C];D(m,F[0],q);D(p,F[F.length-1],q);for(var K=p[0]*m[1]-m[0]*p[1],J=0;J<F.length-1;J++)D(m,F[J+1],q),D(p,F[J],q),K+=p[0]*m[1]-m[0]*p[1];A+=K}A=n.convertUnit(A,
"square-meters",g);d.push(A/-2)}return d};w.geodesicLengths=function(d,g){void 0===g&&(g="meters");if(!d&&!d)throw r.error("invalid geometry type: the input geometries type is not supported"),new v("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(d.some(function(e){return!B(e.spatialReference)}))throw r.error("invalid spatialreference: the input geometries spatialreference is not supported"),new v("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");
for(var p=[],m=0;m<d.length;m++){for(var q=d[m],w=q.spatialReference,q="polyline"===q.type?q.paths:q.rings,y=0,A=0;A<q.length;A++){for(var D=q[A],C=0,G=1;G<D.length;G++){var F=D[G-1][0],H=D[G][0],K=D[G-1][1],J=D[G][1];if(K!==J||F!==H){var N={distance:null};k(N,[F,K],[H,J],w);C+=N.distance}}y+=C}y=n.convertUnit(y,"meters",g);p.push(y)}return p};w.geodesicDensify=H;w.directGeodeticSolver=p;w.inverseGeodeticSolver=k;w.geodesicDistance=function(d,g,p){void 0===p&&(p="meters");if(!d||!g)throw d="one or both input parameters are missing",
r.error("missing-parameters: "+d),new v("geodesic-distance:missing-parameters",d);if(!d.spatialReference||!g.spatialReference)throw d="one or both input points do not have a spatial reference",r.error("invalid-parameters: "+d),new v("geodesic-distance:invalid-parameters",d);if(!d.spatialReference.equals(g.spatialReference))throw d="spatial references of input parameters do not match",r.error("invalid-parameters: "+d),new v("geodesic-distance:invalid-parameters",d);var m=d.spatialReference;if(!B(m))throw d=
"spatial references is not supported",r.error("not-supported: "+d),new v("geodesic-distance:not-supported",d);if(d.equals(g))return{distance:0,azimuth:0,reverseAzimuth:0};var q={distance:null};k(q,[d.x,d.y],[g.x,g.y],m);q.distance=n.convertUnit(q.distance,"meters",p);return q};w.pointFromDistance=function(d,g,k){if(!d||null==g||null==k)throw d="one or more input parameters are missing or undefined",r.error("missing-parameters: "+d),new v("point-from-distance:missing-parameters",d);if(0>k||360<k)throw d=
"azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees",r.error("out-of-bounds: "+d),new v("point-from-distance:-of-bounds",d);if(!d.spatialReference)throw d="the input point must have a spatial reference",r.error("missing-spatial-reference: "+d),new v("point-from-distance:missing-spatial-reference",d);var m=d.spatialReference;if(!B(m))throw d="spatial references is not supported",r.error("not-supported: "+d),new v("geodesic-distance:not-supported",d);var n=[0,0];p(n,
[d.x,d.y],k,g,m);return new q.Point({x:n[0],y:n[1],spatialReference:m})}})},"esri/geometry/geometryEngine":function(){define("require exports esri/kernel esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint dojo/_base/lang".split(" "),function(F,w,C,q,v,d,n,y,G,D){function B(e){if(void 0===n.fromJson){if(void 0!==e.x&&void 0!==e.y)return new n(e);if(void 0!==e.paths)return new d(e);if(void 0!==e.rings)return new v(e);
if(void 0!==e.points)return new G(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new y(e)}else{if(void 0!==e.x&&void 0!==e.y)return n.fromJson(e);if(void 0!==e.paths)return d.fromJson(e);if(void 0!==e.rings)return v.fromJson(e);if(void 0!==e.points)return G.fromJson(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return y.fromJson(e)}}function H(e){if(void 0===n.fromJson){if(void 0!==e.x&&void 0!==e.y)return new n(e);if(void 0!==e.paths)return new d(e);
if(void 0!==e.rings)return new v(e);if(void 0!==e.points)return new G(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new y(e)}else{if(void 0!==e.x&&void 0!==e.y)return n.fromJSON(e);if(void 0!==e.paths)return d.fromJSON(e);if(void 0!==e.rings)return v.fromJSON(e);if(void 0!==e.points)return G.fromJSON(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return y.fromJSON(e)}}function p(e,d){var t;if(null==e||void 0===e||"number"===typeof e)return e;
var b=e.toString();if(""===b)return null;if(2==d){if(t=U[b],void 0!==t)return t}else if(0==d){t=ba[b];if(void 0!==t)return t;t=ca[e];if(void 0!==t)return t}else if(3==d&&(t=ba[b],void 0!==t))return t;if(1==d&&(t=ca[e],void 0!==t))return t;if(!0===/^\d+$/.test(b))return parseInt(b);throw Error("Unrecognised Unit Type");}function k(e){if(void 0!==e&&null!==e)switch(e){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function r(e,
k){if(null===e||void 0===e||e.u())return null;switch(e.G()){case m.Fj.Point:var t=new n(e.Be(),e.nf(),k);if(M){var b=e.hasAttribute(m.Wc.M);e.hasAttribute(m.Wc.Z)&&t.set("z",e.rH());b&&t.set("m",e.aH())}return t;case m.Fj.Polygon:var t=e.hasAttribute(m.Wc.Z),b=e.hasAttribute(m.Wc.M),a=g(e,t,b),t=new v({rings:a,hasZ:t,hasM:b});M?t.set("spatialReference",k):t.setSpatialReference(k);t.setCacheValue("_geVersion",e);return t;case m.Fj.Polyline:return t=e.hasAttribute(m.Wc.Z),b=e.hasAttribute(m.Wc.M),a=
g(e,t,b),t=new d({paths:a,hasZ:t,hasM:b}),M?t.set("spatialReference",k):t.setSpatialReference(k),t.setCacheValue("_geVersion",e),t;case m.Fj.MultiPoint:var t=e.hasAttribute(m.Wc.Z),b=e.hasAttribute(m.Wc.M),c=a=null;t&&(a=e.Pa(m.Wc.Z));b&&(c=e.Pa(m.Wc.M));var f=new m.b,h=e.D();k=new G(k);M&&(k.set("hasZ",t),k.set("hasM",b));for(var l=0;l<h;l++){e.w(l,f);var u=[f.x,f.y];t&&u.push(a.get(l));b&&u.push(c.get(l));k.addPoint(u)}k.setCacheValue("_geVersion",e);return k;case m.Fj.Envelope:return a=e.hasAttribute(m.Wc.Z),
t=e.hasAttribute(m.Wc.M),b=new y(e.R.o,e.R.A,e.R.v,e.R.B,k),M&&(a&&(a=e.xf(m.Wc.Z,0),b.set("zmin",a.ca),b.set("zmax",a.ha)),t&&(a=e.xf(m.Wc.M,0),b.set("mmin",a.ca),b.set("mmax",a.ha))),b.setCacheValue("_geVersion",e),b}return null}function g(e,d,t){var b=[],a=e.aa(),c=null,f=null;d&&(c=e.Pa(m.Wc.Z));t&&(f=e.Pa(m.Wc.M));for(var h=new m.b,l=0;l<a;l++){for(var u=e.wa(l),x=e.La(l),z=0,g=0,P=NaN,k=NaN,T=NaN,n=NaN,p=e.Qb(l),r=[],q=u;q<u+x;q++){e.w(q,h);var n=T=NaN,E=[h.x,h.y];d&&(T=c.get(q),E.push(T));
t&&(n=f.get(q),E.push(n));q==u&&p&&(z=h.x,g=h.y,P=T,k=n);r.push(E)}!p||z==h.x&&g==h.y&&(!d||isNaN(P)&&isNaN(T)||P==T)&&(!t||isNaN(k)&&isNaN(n)||k==n)||r.push(r[0].slice(0));b.push(r)}return b}function A(e){var d=e._geVersion;if(null==d||void 0==d){if(Object.freeze&&Object.isFrozen(e))return 102100===e.wkid?da:4326===e.wkid?Y:d=m.Sd.create(e.wkid);-1!=e.wkid&&null!==e.wkid&&void 0!==e.wkid?(d=m.Sd.create(e.wkid),e._geVersion=d):""!==e.wkt&&void 0!==e.wkt&&null!==e.wkt&&(d=m.Sd.oR(e.wkt),e._geVersion=
d)}return d}function K(e){if(null==e)return null;if(void 0===e.getCacheValue){var d=e._geVersion;if(null==d||void 0==d)d=m.cc.cG(e),e._geVersion=d}else if(d=e.getCacheValue("_geVersion"),null==d||void 0==d)d=m.cc.cG(e),e.setCacheValue("_geVersion",d);return d}function N(e){return null===e.spatialReference?null:A(e.spatialReference)}function R(e){return"[object Array]"===Object.prototype.toString.call(e)}function J(e){if(null===e||void 0===e||e.u())return null;switch(e.G()){case m.Fj.Point:var d={};
d.x=e.Be();d.y=e.nf();if(M){var t=e.hasAttribute(m.Wc.M);e.hasAttribute(m.Wc.Z)&&(d.z=e.rH());t&&(d.m=e.aH())}return d;case m.Fj.Polygon:return d=e.hasAttribute(m.Wc.Z),t=e.hasAttribute(m.Wc.M),{rings:g(e,d,t),hasZ:d,hasM:t};case m.Fj.Polyline:return d=e.hasAttribute(m.Wc.Z),t=e.hasAttribute(m.Wc.M),{paths:g(e,d,t),hasZ:d,hasM:t};case m.Fj.MultiPoint:var d=e.hasAttribute(m.Wc.Z),t=e.hasAttribute(m.Wc.M),b=null,a=null;d&&(b=e.Pa(m.Wc.Z));t&&(a=e.Pa(m.Wc.M));var c=new m.b,f=e.D(),h={points:[]};M&&(h.hasZ=
d,h.hasM=t);for(var l=0;l<f;l++){e.w(l,c);var u=[c.x,c.y];d&&u.push(b.get(l));t&&u.push(a.get(l));h.points.push(u)}return h;case m.Fj.Envelope:return b=e.hasAttribute(m.Wc.Z),d=e.hasAttribute(m.Wc.M),t={},t.xmin=e.R.o,t.ymin=e.R.A,t.xmax=e.R.v,t.ymax=e.R.B,M&&(b&&(b=e.xf(m.Wc.Z,0),t.zmin=b.ca,t.zmax=b.ha),d&&(b=e.xf(m.Wc.M,0),t.mmin=b.ca,t.mmax=b.ha)),t}return null}var O=this&&this.__extends||function(e,d){function t(){this.constructor=e}for(var b in d)d.hasOwnProperty(b)&&(e[b]=d[b]);e.prototype=
null===d?Object.create(d):(t.prototype=d.prototype,new t)},m;(function(e){var d=function(){function b(){}b.Bm=!1;b.jw=!1;b.yz="";return b}();e.Xh=d;if("undefined"!==typeof window)e.Xh.yz="browser","Float64Array"in window&&(e.Xh.jw=!0),"ArrayBuffer"in window&&(e.Xh.Bm=!0);else if("undefined"!==typeof process)d.yz="node",e.Xh.Bm=!0,e.Xh.jw=!0;else{d.yz="browser";try{var t=new ArrayBuffer(0);new Uint8Array(t);e.Xh.Bm=!0;e.Xh.jw=!0}catch(b){e.Xh.Bm=!1}}})(m||(m={}));(function(e){(function(e){e[e.Unknown=
0]="Unknown";e[e.Point=33]="Point";e[e.Line=322]="Line";e[e.Envelope=197]="Envelope";e[e.MultiPoint=550]="MultiPoint";e[e.Polyline=1607]="Polyline";e[e.Polygon=1736]="Polygon"})(e.Fj||(e.Fj={}));(function(e){e[e.enumMild=0]="enumMild";e[e.enumMedium=1]="enumMedium";e[e.enumHot=2]="enumHot"})(e.tM||(e.tM={}));var d=function(){function t(){this.description=null;this.BB=0}t.prototype.G=function(){return 0};t.prototype.tb=function(){return-1};t.prototype.Fg=function(b){this.Bc();b!=this.description&&
this.mo(b)};t.prototype.mo=function(){};t.prototype.om=function(b){this.Bc();b!=this.description&&(b=e.ye.vT(this.description,b),b!=this.description&&this.mo(b))};t.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};t.prototype.Ud=function(b){this.Bc();this.description.hasAttribute(b)||(b=e.ye.uT(this.description,b),this.mo(b))};t.prototype.xf=function(){return null};t.prototype.Qn=function(){};t.prototype.s=function(){};t.prototype.Cp=function(){};t.prototype.ac=function(b){this.s(b)};
t.prototype.u=function(){return!0};t.prototype.Oa=function(){};t.prototype.Xc=function(){};t.prototype.Ka=function(){return null};t.prototype.copyTo=function(){};t.prototype.hf=function(){return 0};t.prototype.Rb=function(){return 0};t.prototype.uH=function(){return this.hasAttribute(1)};t.lf=function(b){return((b&192)>>6)+1>>1};t.Jo=function(b){return 0!=(b&32)};t.l_=function(b){return 0!=(b&64)};t.OU=function(b){return 0!=(b&128)};t.Oc=function(b){return 0!=(b&256)};t.gh=function(b){return 0!=(b&
512)};t.Ic=function(b){return 0!=(b&1024)};t.prototype.Vf=function(){var b=this.Ka();this.copyTo(b);return b};t.prototype.Gg=function(){return null};t.oe=function(b){var a=b.Ka();b.copyTo(a);return a};t.prototype.Bc=function(){0<=this.BB&&(this.BB+=2147483649)};t.gy=function(b){var a=b.G();if(t.gh(a))return b.D();if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(t.Oc(a))return 2;throw e.g.X("missing type");};return t}();e.T=d})(m||(m={}));(function(e){var d=function(){function t(){this.y=
this.x=0}t.pa=function(b,a){var c=new t;c.x=b;c.y=a;return c};t.El=function(b){var a=new t;a.x=b.x;a.y=b.y;return a};t.prototype.ka=function(b,a){this.x=b;this.y=a};t.prototype.L=function(b){this.x=b.x;this.y=b.y};t.prototype.Uq=function(b,a){return this.x===b&&this.y===a};t.prototype.wA=function(b){return 2.220446049250313E-16>=Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};t.prototype.ub=function(b){return this.x===b.x&&this.y===b.y};t.prototype.Eb=function(b){return b==this?
!0:b instanceof t?this.x==b.x&&this.y==b.y:!1};t.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};t.prototype.zc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};t.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=b.x,this.y+=b.y)};t.prototype.Lr=function(){this.x=-this.x;this.y=-this.y};t.prototype.bu=function(b){this.x=-b.x;this.y=-b.y};t.prototype.IU=function(b,a,c){this.x=b.x*(1-c)+a.x*c;this.y=b.y*(1-c)+a.y*c};t.prototype.ru=function(b,a){this.x=this.x*b+a.x;this.y=
this.y*b+a.y};t.prototype.EX=function(b,a,c){this.x=a.x*b+c.x;this.y=a.y*b+c.y};t.prototype.scale=function(b){this.x*=b;this.y*=b};t.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};t.prototype.normalize=function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};t.prototype.qk=function(){return this.x*this.x+this.y*this.y};t.Cb=function(b,a){return Math.sqrt(this.sc(b,
a))};t.xz=function(b,a,c,f){b-=c;a-=f;return Math.sqrt(b*b+a*a)};t.prototype.oi=function(b){return this.x*b.x+this.y*b.y};t.prototype.yE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};t.prototype.Ui=function(b){return this.x*b.y-this.y*b.x};t.prototype.qu=function(b,a){var c=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;this.y=c};t.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};t.prototype.aI=function(b){this.x=-b.y;this.y=b.x};t.prototype.Ur=function(){var b=this.x;this.x=
this.y;this.y=-b};t.prototype.dv=function(){this.y=this.x=NaN};t.prototype.Hy=function(){return isNaN(this.x)};t.prototype.$u=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};t.vs=function(b,a){var c=b.$u(),f=a.$u();return f==c?(c=b.Ui(a),0>c?1:0<c?-1:0):c<f?-1:1};t.AZ=function(b,a){return t.vs(b,a)};t.sc=function(b,a){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b};t.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};t.prototype.$c=function(){this.y=this.x=NaN};t.prototype.isNaN=
function(){return isNaN(this.x)||isNaN(this.y)};t.prototype.RO=function(){return this.Hy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};t.prototype.offset=function(b,a){var c=t.Cb(b,a),f=t.pa(this.x,this.y);if(0==c)return t.Cb(f,b);var h=new t;h.L(a);h.sub(b);f.sub(b);return f.Ui(h)/c};t.zp=function(b,a,c){var f=new e.Xb;f.set(a.x);f.sub(b.x);var h=new e.Xb;h.set(c.y);h.sub(b.y);var l=new e.Xb;l.set(a.y);l.sub(b.y);var u=new e.Xb;u.set(c.x);u.sub(b.x);f.Vg(h);l.Vg(u);
f.sub(l);if(!f.lt())return c=f.value(),0>c?-1:0<c?1:0;f=new e.Tp(a.x);h=new e.Tp(b.x);l=new e.Tp(b.y);f=f.Zt(h);b=new e.Tp(c.y);b=b.Zt(l);a=new e.Tp(a.y);a=a.Zt(l);c=new e.Tp(c.x);c=c.Zt(h);f=f.ds(b);a=a.ds(c);f=f.ds(a);return f.oV()?-1:f.$T()?1:0};t.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return t}();e.b=d})(m||(m={}));(function(e){var d=function(){function e(b){this.kz=this.Au=0;this.HY=b}e.prototype.reset=function(){this.kz=this.Au=0};e.prototype.add=function(b){b-=this.kz;var a=this.Au+
b;this.kz=a-this.Au-b;this.Au=a};e.prototype.sub=function(b){this.add(-b)};e.prototype.en=function(){return this.HY+this.Au};return e}();e.ry=d;d=function(){function e(){}e.Fl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};e.sign=function(b){return 0>b?-1:0<b?1:0};e.gM=function(b){return b-360*Math.floor(b/360)};e.round=function(b){return Math.floor(b+.5)};e.Yx=function(b){return b*b};e.Xq=function(b,a,c){var f;.5>=c?f=b+(a-b)*c:f=a-(a-b)*(1-c);return f};e.cI=function(b,a,c,f){.5>=c?(f.x=b.x+
(a.x-b.x)*c,f.y=b.y+(a.y-b.y)*c):(f.x=a.x-(a.x-b.x)*(1-c),f.y=a.y-(a.y-b.y)*(1-c))};e.mV=function(b,a,c,f,h,l){.5>=h?(l.x=b+(c-b)*h,l.y=a+(f-a)*h):(l.x=c-(c-b)*(1-h),l.y=f-(f-a)*(1-h))};return e}();e.Ub=d})(m||(m={}));(function(e){var d=function(t){function b(){t.call(this);this.oa=this.sa=this.ra=this.ua=0;this.la=null}O(b,t);b.prototype.ec=function(){return e.b.pa(this.ua,this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Mc=function(a){this.Qm(0,a)};b.prototype.wC=function(a,
c){this.Qm(0,e.b.pa(a,c))};b.prototype.Dp=function(a){this.AE(0,a)};b.prototype.setStart=function(a){this.KE(0,a)};b.prototype.dt=function(a,c){return this.ae(0,a,c)};b.prototype.Tx=function(a,c,f){this.oo(0,a,c,f)};b.prototype.Cc=function(){return e.b.pa(this.sa,this.oa)};b.prototype.Ps=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Zc=function(a){this.Qm(1,a)};b.prototype.vm=function(a,c){this.Qm(1,e.b.pa(a,c))};b.prototype.Bp=function(a){this.AE(1,a)};b.prototype.setEnd=function(a){this.KE(1,
a)};b.prototype.Os=function(a,c){return this.ae(1,a,c)};b.prototype.Lx=function(a,c,f){this.oo(1,a,c,f)};b.prototype.tb=function(){return 1};b.prototype.u=function(){return this.Hc()};b.prototype.Oa=function(){};b.prototype.hf=function(){return 0};b.prototype.Ma=function(a,c,f,b,l){return this.PO(a,c,f,b,l)};b.prototype.Yb=function(a,c){return 0!=this.ys(a,c,!1)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.av=function(){return null};b.prototype.Hc=function(){return!1};b.prototype.Jy=
function(a){this.Bc();if(null==this.la&&0<a)this.la=e.J.gf(2*a);else if(null!=this.la&&this.la.length<2*a){for(var c=this.la.slice(0),f=this.la.length;f<2*a;f++)c[f]=0;this.la=c}};b.bX=function(a,c,f){if(0<f)var b=0;for(var l=0;l<f;l++)c[0+b]=a[0],b++};b.prototype.Qm=function(a,c){0!=a?(this.sa=c.x,this.oa=c.y):(this.ua=c.x,this.ra=c.y)};b.prototype.mo=function(a){if(null!=this.la){for(var c=e.ye.vx(a,this.description),f=[],h=b.vl(this.description,0),l=b.vl(this.description,1),u=b.vl(a,0),x=b.vl(a,
1),z=0,t=1,d=a.Ga;t<d;t++){var g=a.rd(t),k=e.ma.Xa(g);if(-1==c[t])for(var m=e.ma.de(g),g=0;g<k;g++)f[u+z]=m,f[x+z]=m,z++;else for(m=this.description.xk(c[t])-2,g=0;g<k;g++)f[u+z]=this.la[h+m],f[x+z]=this.la[l+m],z++,m++}this.la=f}this.description=a};b.prototype.AE=function(a,c){if(this.Hc())throw e.g.X("empty geometry");c.Fg(this.description);c.Hc()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Td(f),l=0,u=e.ma.Xa(b);l<u;l++){var x=this.ae(a,b,l);c.setAttribute(b,l,x)}};
b.prototype.KE=function(a,c){this.Bc();if(c.Hc())throw e.g.X("empty geometry");for(var f=c.description,b=0,l=f.Ga;b<l;b++)for(var u=f.Td(b),x=e.ma.Xa(u),z=0;z<x;z++){var t=c.Yc(u,z);this.oo(a,u,z,t)}};b.prototype.ae=function(a,c,f){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=f?this.oa:this.sa:0!=f?this.ra:this.ua;if(f>=e.ma.Xa(c))throw e.g.wd();var h=this.description.mg(c);return 0<=h?(null!=this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,
a)+this.description.xk(h)-2+f]):e.ma.de(c)};b.prototype.oo=function(a,c,f,h){this.Bc();if(f>=e.ma.Xa(c))throw e.g.wd();var l=this.description.mg(c);0>l&&(this.Ud(c),l=this.description.mg(c));0==c?0!=a?0!=f?this.oa=h:this.sa=h:0!=f?this.ra=h:this.ua=h:(null==this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,a)+this.description.xk(l)-2+f]=h)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.description=this.description;a.Jy(this.description.af.length-2);b.bX(this.la,
a.la,2*(this.description.af.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.Bc();this.iq(a)};b.prototype.xf=function(a,c){var f=new e.Ac;if(this.Hc())return f.Oa(),f;f.ca=this.ae(0,a,c);f.ha=f.ca;f.ml(this.ae(1,a,c));return f};b.prototype.SJ=function(a){this.Hc()?a.Oa():(a.ca=this.ae(0,0,0),a.ha=a.ca,a.ml(this.ae(1,0,0)))};b.prototype.Fx=function(a,c){c.Fg(this.description);c.rb(this.gc(a));for(var f=1,b=this.description.Ga;f<b;f++)for(var l=this.description.Td(f),u=e.ma.Xa(l),x=
0;x<u;x++){var z=this.Yc(a,l,x);c.setAttribute(l,x,z)}};b.prototype.MO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var c=0;c<2*(this.description.af.length-2);c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.OH=function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,c=this.description.Ga;a<c;a++)for(var f=
this.description.rd(a),b=0,l=e.ma.Xa(f);b<l;b++){var u=this.ae(0,f,b),x=this.ae(1,f,b);this.oo(0,f,b,x);this.oo(1,f,b,u)}};b.prototype.ys=function(a,c,f){var b=a.G();switch(this.G()){case 322:if(322==b)return e.Hb.QO(this,a,c,f);throw e.g.za();default:throw e.g.za();}};b.prototype.PO=function(a,c,f,b,l){var h=a.G();switch(this.G()){case 322:if(322==h)return e.Hb.Gy(this,a,c,f,b,l);throw e.g.za();default:throw e.g.za();}};b.prototype.Cy=function(){return null};b.vl=function(a,c){return c*(a.af.length-
2)};b.prototype.gc=function(a,c){if(void 0===c)return c=new e.b,this.gc(a,c),c;e.Ub.mV(this.ua,this.ra,this.sa,this.oa,a,c)};b.prototype.pe=function(){return null};b.prototype.qH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.fh=function(){return null};b.prototype.Go=function(){return null};b.prototype.Eg=function(){return null};b.prototype.Dy=function(a,c){return void 0!==c?this.cy(c)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Hl=function(){return null};
b.prototype.yh=function(){};b.prototype.Yc=function(){return null};b.prototype.pf=function(){return null};b.prototype.cy=function(){return null};b.prototype.bI=function(){return null};b.prototype.Cb=function(a,c){if(!c&&0!=this.ys(a,0,!1))return 0;c=1.7976931348623157E308;var f,b;f=this.ec();b=a.pe(f,!1);f.sub(a.gc(b));f=f.length();f<c&&(c=f);f=this.Cc();b=a.pe(f,!1);f.sub(a.gc(b));f=f.length();f<c&&(c=f);f=a.ec();b=this.pe(f,!1);f.sub(this.gc(b));f=f.length();f<c&&(c=f);f=a.Cc();b=this.pe(f,!1);
f.sub(this.gc(b));f=f.length();f<c&&(c=f);return c};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};return b}(e.T);e.cE=d})(m||(m={}));new m.b;(function(e){(function(e){e[e.Unknown=-1]="Unknown";e[e.Not=0]="Not";e[e.Weak=1]="Weak";e[e.Strong=2]="Strong"})(e.vM||(e.vM={}));(function(e){e[e.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";e[e.IsWeakSimple=2]="IsWeakSimple";e[e.IsStrongSimple=4]="IsStrongSimple";e[e.DirtyOGCFlags=8]="DirtyOGCFlags";e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";
e[e.DirtyExactIntervals=64]="DirtyExactIntervals";e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals";e[e.DirtyIntervals=192]="DirtyIntervals";e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope";e[e.DirtyLength2D=512]="DirtyLength2D";e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D";e[e.DirtyCoordinates=1993]="DirtyCoordinates";e[e.DirtyAllInternal=65535]="DirtyAllInternal";e[e.DirtyAll=16777215]="DirtyAll"})(e.$L||(e.$L={}));var d=function(d){function b(){d.call(this);this.tn=65535;this.qa=0;this.lh=-1;this.ob=
null}O(b,d);b.prototype.iq=function(){};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return 0==this.qa};b.prototype.yk=function(a){return 0!=(this.tn&a)};b.prototype.lg=function(a,c){this.tn=c?this.tn|a:this.tn&~a};b.prototype.wc=function(){this.yk(32)&&this.ZO()};b.prototype.Cu=function(){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");};b.prototype.Ae=
function(a,c){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");this.wc();c.Fg(this.description);c.u()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Td(f),l=0,u=e.ma.Xa(b);l<u;l++){var x=this.ya[f].Of(u*a+l);c.setAttribute(b,l,x)}};b.prototype.vu=function(a,c){this.wc();for(var f=c.description,b=0;b<f.Ga;b++)for(var l=f.Td(b),u=e.ma.Xa(l),x=0;x<u;x++){var z=c.Yc(l,x);this.setAttribute(l,a,x,z)}};b.prototype.w=function(a,c){if(0>a||a>=this.D())throw e.g.wd();this.wc();
this.ya[0].fc(2*a,c)};b.prototype.Ba=function(a){var c=new e.b;this.w(a,c);return c};b.prototype.Nc=function(a,c){this.ya[0].fc(2*a,c)};b.prototype.rb=function(a,c,f){if(0>a||a>=this.qa)throw e.g.wd();this.wc();var b=this.ya[0];void 0!==f?(b.write(2*a,c),b.write(2*a+1,f)):b.fo(2*a,c);this.Dc(1993)};b.prototype.lA=function(a){if(0>a||a>=this.D())throw e.g.wd();this.wc();var c=this.ya[0],f=new e.qd;f.x=c.read(2*a);f.y=c.read(2*a+1);f.z=this.hasAttribute(1)?this.ya[1].Of(a):e.ma.de(1);return f};b.prototype.BC=
function(a,c){if(0>a||a>=this.D())throw e.g.wd();this.Ud(1);this.wc();this.Dc(1993);var f=this.ya[0];f.write(2*a,c.x);f.write(2*a+1,c.y);this.ya[1].Dm(a,c.z)};b.prototype.Yc=function(a,c,f){if(0>c||c>=this.qa)throw e.g.wd();var b=e.ma.Xa(a);if(f>=b)throw e.g.wd();this.wc();var l=this.description.mg(a);return 0<=l?this.ya[l].Of(c*b+f):e.ma.de(a)};b.prototype.KG=function(a,c,f){return this.Yc(a,c,f)};b.prototype.setAttribute=function(a,c,f,b){if(0>c||c>=this.qa)throw e.g.wd();var h=e.ma.Xa(a);if(f>=
h)throw e.g.wd();this.Ud(a);this.wc();a=this.description.mg(a);this.Dc(1993);this.ya[a].Dm(c*h+f,b)};b.prototype.Pa=function(a){this.Cu();this.Ud(a);this.wc();return this.ya[this.description.mg(a)]};b.prototype.Yn=function(a,c){if(null!=c&&e.ma.si(a)!=c.si())throw e.g.F();this.Ud(a);a=this.description.mg(a);null==this.ya&&(this.ya=e.Uc.IB(this.description.Ga));this.ya[a]=c;this.Dc(16777215)};b.prototype.mo=function(a){var c=null;if(null!=this.ya)for(var f=e.ye.vx(a,this.description),c=[],b=0,l=a.Ga;b<
l;b++)-1!=f[b]&&(c[b]=this.ya[f[b]]);this.description=a;this.ya=c;this.lh=-1;this.Dc(16777215)};b.prototype.PE=function(a){this.fv(!0);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.YO=function(a){this.fv(!1);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.Qn=function(a){this.fv(!0);this.R.copyTo(a)};b.prototype.s=function(a){this.PE(a)};b.prototype.Cp=function(a){this.PE(a)};b.prototype.ac=function(a){this.YO(a)};b.prototype.xf=function(a,c){var f=new e.Ac;if(this.Hc())return f.Oa(),
f;this.fv(!0);return this.R.xf(a,c)};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=this.D(),f=0,b=this.description.Ga;f<b;f++)a=this.ya[f].Ak(a,0,c*e.ma.Xa(this.description.Td(f)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||this.Hc()!=a.Hc())return!1;if(this.Hc())return!0;var c=this.D();if(c!=a.D())return!1;for(var f=0;f<this.description.Ga;f++){var h=this.description.rd(f),l=this.Pa(h),u=a.Pa(h);
if(!l.Eb(u,0,c*e.ma.Xa(h)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();this.xE(a)};b.prototype.xE=function(a){this.wc();a.description=this.description;a.ya=null;var c=this.description.Ga,f=null;if(null!=this.ya)for(var f=[],b=0;b<c;b++)null!=this.ya[b]&&(f[b]=this.ya[b].Tr(this.D()*e.ma.Xa(this.description.Td(b))));null!=this.R?(a.R=this.R.Ka(),this.R.copyTo(a.R)):a.R=null;a.qa=this.qa;a.tn=this.tn;a.ya=f;try{this.iq(a)}catch(l){throw a.Oa(),e.g.TN();}};b.prototype.ME=
function(){this.qa=0;this.lh=-1;this.ya=null;this.Dc(16777215)};b.prototype.Dc=function(a){16777215==a&&(this.lh=-1,this.Iy());this.tn|=a;this.DO();this.Bc()};b.prototype.fv=function(a){this.wc();if(this.yk(192))if(null==this.R?this.R=new e.ci(this.description):this.R.Fg(this.description),this.u())this.R.Oa();else{this.Oy(a);for(var c=1;c<this.description.Ga;c++)for(var f=this.description.Td(c),b=e.ma.Xa(f),l=this.ya[c],u=0;u<b;u++){var x=new e.Ac;x.Oa();for(var z=0;z<this.qa;z++){var d=l.Of(z*b+
u);x.Nb(d)}this.R.setInterval(f,u,x)}a&&this.lg(192,!1)}};b.prototype.Oy=function(){this.R.Oa();for(var a=this.ya[0],c=new e.b,f=0;f<this.qa;f++)a.fc(2*f,c),this.R.Nb(c)};b.prototype.uo=function(a){a.Oa();for(var c=this.ya[0],f=new e.b,b=0;b<this.qa;b++)c.fc(2*b,f),a.Nb(f)};b.prototype.ZO=function(){if(this.lh<this.qa){null==this.ya&&(this.ya=e.Uc.IB(this.description.Ga));this.lh=2147483647;for(var a=0;a<this.description.Ga;a++){var c=this.description.Td(a);if(null!=this.ya[a]){var f=e.ma.Xa(c),b=
e.J.truncate(this.ya[a].size/f);b<this.qa&&(b=e.J.truncate(this.lh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*f,e.ma.de(c)));b<this.lh&&(this.lh=b)}else this.ya[a]=e.Uc.qz(c,this.qa),this.lh=this.qa}}this.Py();this.lg(32,!1)};b.prototype.zl=function(a){if(0>a)throw e.g.F();a!=this.qa&&(this.qa=a,this.Dc(65535))};b.prototype.Lk=function(a){if(!this.yk(1)){if(!this.yk(2))return 0;if(this.OV>=a)return this.yk(8)?1:2}return-1};b.prototype.Zg=function(a,c){this.OV=c;if(-1==a)this.lg(1,!0),
this.lg(8,!0);else if(this.lg(1,!1),this.lg(8,!0),0==a)this.lg(2,!1),this.lg(4,!1);else if(1==a)this.lg(2,!0),this.lg(4,!1);else if(2==a)this.lg(2,!0),this.lg(4,!0);else throw e.g.X("internal error.");};b.prototype.DO=function(){null!=this.ob&&(this.ob=null)};b.prototype.DE=function(a,c,f,b){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");if(0>c||c>=this.qa)throw e.g.X("index out of bounds");this.wc();b.Fg(this.description);b.u()&&b.nq();for(var h=0;h<this.description.Ga;h++)for(var u=this.description.Td(h),
x=0,z=e.ma.Xa(u);x<z;x++){var d=this.ya[h].Of(z*a+x),t=this.ya[h].Of(z*c+x);b.setAttribute(u,x,e.Ub.Xq(d,t,f))}};b.prototype.xs=function(a,c){var f=this.ya[0].f,b=f[2*a]-f[2*c],f=f[2*a+1]-f[2*c+1];return Math.sqrt(b*b+f*f)};b.prototype.Yh=function(a,c){if(0>a||a>=this.qa)throw e.g.wd();if(c.u())throw e.g.F();this.wc();for(var f=c.description,b=0;b<f.Ga;b++)for(var l=f.rd(b),u=e.ma.Xa(l),x=0;x<u;x++){var z=c.Yc(l,x);this.setAttribute(l,a,x,z)}};b.prototype.Xu=function(){return null};b.prototype.Hj=
function(){return null};return b}(e.T);e.Mu=d})(m||(m={}));(function(e){var d=function(){function d(){this.pb=this.Oo=null;this.Gn=124234251;this.Dw=!0;this.qf=-1;this.pb=new e.ad(7);this.Oo=null}d.prototype.Ep=function(b){this.Oo=b};d.prototype.OR=function(){this.Dw=!1};d.prototype.Qe=function(b){this.pb.Qe(b)};d.prototype.Ks=function(b){var a=this.pb.Pe();this.mY(a);this.pY(b,a);return a};d.prototype.IR=function(b){this.pb.kd(b)};d.prototype.addElement=function(b,a){var c;-1==a?(-1==this.qf&&(this.qf=
this.Ks(-1)),c=this.qf):c=a;return this.WE(b,0,c)};d.prototype.$E=function(b){-1==this.qf&&(this.qf=this.Ks(-1));return this.WE(b,1,this.qf)};d.prototype.ro=function(b){var a;-1==this.qf&&(this.qf=this.Ks(-1));a=this.qf;var c=this.pb.f;if(-1==a||-1==c[7*a])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),c=this.pb.f,c[7*a]=b,this.pq(-1,b,a,c),b;var f=-1==a?-1:c[7*a+2];b=this.pb.nl([-1,-1,f,b,this.Ll(),-1,-1]);c=this.pb.f;c[7*f+1]=b;this.Vy(b,c);-1===c[7*b+2]&&(c[7*a]=b);this.pq(-1,b,a,c);return b};
d.prototype.jv=function(b,a,c,f){var h=-1;-1==h&&(-1==this.qf&&(this.qf=this.Ks(-1)),h=this.qf);var l=this.pb.f;if(-1==h||-1==l[7*h])return c=this.pb.nl([-1,-1,-1,c,this.Ll(),-1,-1]),l=this.pb.f,l[7*h]=c,this.pq(-1,c,h,l),c;var u;f?(f=-1!=a?this.Oo.compare(this,c,a):-1,u=-1!=b?this.Oo.compare(this,c,b):1):(f=-1,u=1);if(0==f||0==u)return l[7*h+3]=0==f?a:b,-1;(-1!=a&&-1!=b?this.Gn>e.J.HB(this.Gn)>>1:-1!=a)?b=a:f=u;for(a=!0;;){if(0>f)if(u=l[7*b],-1!=u)b=u;else{f=b;c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,
-1]);l=this.pb.f;l[7*b]=c;break}else if(u=l[7*b+1],-1!=u)b=u;else{f=l[7*b+6];c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,-1]);l=this.pb.f;l[7*b+1]=c;break}a&&(f*=-1,a=!1)}this.Vy(c,l);-1===l[7*c+2]&&(l[7*h]=c);this.pq(f,c,h,l);return c};d.prototype.QG=function(){return this.$S(this.qf)};d.prototype.Kd=function(b,a){a=-1==a?this.qf:a;this.Dw?this.HR(b,a):this.fZ(b,a)};d.prototype.search=function(b,a){for(a=this.fw(a);-1!=a;){var c=this.Oo.compare(this,b,a);if(0==c)return a;a=0>c?this.Pl(a):this.Nq(a)}return-1};
d.prototype.HX=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?a=this.Pl(a):(c=a,a=this.Nq(a))}return c};d.prototype.lK=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?(c=a,a=this.Pl(a)):a=this.Nq(a)}return c};d.prototype.ja=function(b){return this.pb.S(b,3)};d.prototype.Pl=function(b){return this.pb.S(b,0)};d.prototype.Nq=function(b){return this.pb.S(b,1)};d.prototype.getParent=function(b){return this.pb.S(b,
2)};d.prototype.nb=function(b){return this.pb.S(b,6)};d.prototype.Ve=function(b){return this.pb.S(b,5)};d.prototype.xc=function(b){return-1==b?this.Ol(this.qf):this.Ol(b)};d.prototype.Fc=function(b){return-1==b?this.Zs(this.qf):this.Zs(b)};d.prototype.ST=function(b){return-1==b?this.nH(this.qf):this.nH(b)};d.prototype.kk=function(b,a){this.nC(b,a)};d.prototype.fw=function(b){return-1==b?this.iH(this.qf):this.iH(b)};d.prototype.clear=function(){this.pb.Vi(!1);this.qf=-1};d.prototype.size=function(b){return-1==
b?this.kH(this.qf):this.kH(b)};d.prototype.OP=function(b,a){for(var c=a[7*b],f=a[7*b+1],h=a[7*b+4];-1!=c||-1!=f;){var l=-1!=c?a[7*c+4]:2147483647,f=-1!=f?a[7*f+4]:2147483647;if(h<=Math.min(l,f))break;l<=f?this.iK(c,a):this.hK(b,a);c=a[7*b];f=a[7*b+1]}};d.prototype.Vy=function(b,a){if(this.Dw)for(var c=a[7*b+4],f=a[7*b+2];-1!=f&&a[7*f+4]>c;)a[7*f]==b?this.iK(b,a):this.hK(f,a),f=a[7*b+2]};d.prototype.hK=function(b,a){var c=a[7*b+1],f;a[7*c+2]=a[7*b+2];a[7*b+2]=c;f=a[7*c];a[7*b+1]=f;-1!=f&&(a[7*f+2]=
b);a[7*c]=b;f=a[7*c+2];-1!=f&&(a[7*f]==b?a[7*f]=c:a[7*f+1]=c)};d.prototype.iK=function(b,a){var c=a[7*b+2],f;a[7*b+2]=a[7*c+2];a[7*c+2]=b;f=a[7*b+1];a[7*c]=f;-1!=f&&(a[7*f+2]=c);a[7*b+1]=c;f=a[7*b+2];-1!=f&&(a[7*f]===c?a[7*f]=b:a[7*f+1]=b)};d.prototype.sl=function(b,a){this.pb.P(b,2,a)};d.prototype.rC=function(b,a){this.pb.P(b,0,a)};d.prototype.vC=function(b,a){this.pb.P(b,1,a)};d.prototype.uC=function(b,a){this.pb.P(b,5,a)};d.prototype.Qx=function(b,a){this.pb.P(b,6,a)};d.prototype.OK=function(b,
a){this.pb.P(a,0,b)};d.prototype.mY=function(b){this.pb.P(b,4,0)};d.prototype.pY=function(b,a){this.pb.P(a,5,b)};d.prototype.iH=function(b){return-1==b?-1:this.pb.S(b,0)};d.prototype.Ol=function(b){return-1==b?-1:this.pb.S(b,1)};d.prototype.Zs=function(b){return-1==b?-1:this.pb.S(b,2)};d.prototype.$S=function(b){return-1==b?-1:this.pb.S(b,3)};d.prototype.kH=function(b){return-1==b?0:this.pb.S(b,4)};d.prototype.nH=function(b){return this.pb.S(b,5)};d.prototype.Bx=function(b){return this.pb.nl([-1,
-1,-1,b,this.Ll(),-1,-1])};d.prototype.Kl=function(b){-1!=b&&this.pb.kd(b)};d.prototype.Ll=function(){this.Gn=e.J.HB(this.Gn);return this.Gn&1073741823};d.prototype.WE=function(b,a,c){var f=this.pb.f;if(-1==c||-1==f[7*c])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),f=this.pb.f,f[7*c]=b,this.pq(-1,b,c,f),b;for(var h=-1==c?-1:f[7*c];;){var l=-1==a?1:this.Oo.compare(this,b,h);if(0>l)if(l=this.Pl(h),-1!=l)h=l;else{a=h;b=this.pb.nl([-1,-1,h,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*h]=b;break}else{if(1==
a&&0==l)return f[7*c+3]=h,-1;l=f[7*h+1];if(-1!=l)h=l;else{a=f[7*h+6];b=this.pb.nl([-1,-1,h,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*h+1]=b;break}}}this.Vy(b,f);-1===f[7*b+2]&&(f[7*c]=b);this.pq(a,b,c,f);return b};d.prototype.pq=function(b,a,c,f){var h;-1!=b?(h=f[7*b+5],f[7*b+5]=a):h=-1==c?-1:f[7*c+2];f[7*a+5]=h;-1!=h&&(f[7*h+6]=a);f[7*a+6]=b;b==(-1==c?-1:f[7*c+1])&&(f[7*c+1]=a);-1==b&&(f[7*c+2]=a);f[7*c+4]=(-1==c?0:f[7*c+4])+1};d.prototype.$B=function(b,a){var c=this.pb.f,f=c[7*b+5];b=c[7*b+6];-1!=f?c[7*
f+6]=b:c[7*a+1]=b;-1!=b?c[7*b+5]=f:c[7*a+2]=f;c[7*a+4]=-1===a?-1:c[7*a+4]-1};d.prototype.fZ=function(b,a){this.$B(b,a);var c=this.Pl(b),f=this.Nq(b),h=this.getParent(b),l=b;if(-1!=c&&-1!=f){this.Gn=e.J.HB(this.Gn);var u;u=1073741823<this.Gn?this.nb(b):this.Ve(b);var x=this.getParent(u)==b;this.pb.ay(b,u,0);this.pb.ay(b,u,1);this.pb.ay(b,u,2);-1!=h?this.Pl(h)==b?this.rC(h,u):this.vC(h,u):this.OK(u,a);x?(c==u?(this.rC(u,b),this.sl(f,u)):f==u&&(this.vC(u,b),this.sl(c,u)),this.sl(b,u),h=u):(this.sl(c,
u),this.sl(f,u),h=this.getParent(b),l=u);c=this.Pl(b);f=this.Nq(b);-1!=c&&this.sl(c,b);-1!=f&&this.sl(f,b)}c=-1!=c?c:f;-1==h?this.OK(c,a):this.Pl(h)==l?this.rC(h,c):this.vC(h,c);-1!=c&&this.sl(c,h);this.Kl(b,a)};d.prototype.HR=function(b,a){var c=this.pb.f;c[7*b+4]=2147483647;var f=-1,h=-1,l=-1===a?-1:c[7*a],e=l==b;e&&(f=c[7*l],h=c[7*l+1],-1==f&&-1==h)?(this.$B(l,a),this.Kl(l,a),c[7*a]=-1):(this.OP(b,c),l=c[7*b+2],-1!=l&&(c[7*l]==b?c[7*l]=-1:c[7*l+1]=-1),this.$B(b,a),this.Kl(b,a),e&&(c[7*a]=-1==f||
-1!=c[7*f+2]?h:f))};d.prototype.nC=function(b,a){this.pb.P(b,3,a)};return d}();e.uk=d})(m||(m={}));(function(e){var d=function(){function d(b,a){void 0!==b&&this.I(b,a)}d.prototype.I=function(b,a){this.ca=b;this.ha=a;this.normalize()};d.prototype.Yb=function(b){return this.ca<=b.ca?this.ha>=b.ca:b.ha>=this.ca};d.prototype.move=function(b){this.u()||(this.ca+=b,this.ha+=b)};d.prototype.normalize=function(){if(!isNaN(this.ca)){if(this.ca>this.ha){var b=this.ca;this.ca=this.ha;this.ha=b}isNaN(this.ha)&&
this.Oa()}};d.prototype.Oa=function(){this.ha=this.ca=NaN};d.prototype.u=function(){return isNaN(this.ca)};d.prototype.Nb=function(b){"number"===typeof b?this.u()?this.ha=this.ca=b:this.ml(b):b.u()||(this.u()?(this.ca=b.ca,this.ha=b.ha):(this.ca>b.ca&&(this.ca=b.ca),this.ha<b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa()))};d.prototype.ml=function(b){b<this.ca?this.ca=b:b>this.ha&&(this.ha=b)};d.prototype.contains=function(b){return"number"===typeof b?b>=this.ca&&b<=this.ha:b.ca>=this.ca&&b.ha<=this.ha};
d.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ca<b.ca&&(this.ca=b.ca),this.ha>b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa())};d.prototype.O=function(b){this.u()||(this.ca-=b,this.ha+=b,this.ha<this.ca&&this.Oa())};d.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ca)+Math.abs(this.ha)+1)};d.prototype.kC=function(b,a){b>a?(this.ca=a,this.ha=b):(this.ca=b,this.ha=a)};d.prototype.wu=function(b){return e.J.pk(b,this.ca,this.ha)};d.prototype.N=
function(){return this.ha-this.ca};d.prototype.Wf=function(){return.5*(this.ca+this.ha)};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?this.u()&&b.u()?!0:this.ca!=b.ca||this.ha!=b.ha?!1:!0:!1};d.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return d}();e.Ac=d})(m||(m={}));(function(e){var d=new e.Ac,t=new e.Ac,b=function(){return function(){this.Le=null;this.qb=-1;this.wb=new e.Hb;this.YA=55555555;this.Fw=this.Iw=!1;this.rg=new e.Ac;this.rg.kC(0,0)}}();e.k_=b;var a=function(){function a(a,
c,l){this.a=a;this.il=NaN;this.aJ=this.Ar=0;this.bJ=NaN;this.ta=c;this.Dr=10*c;this.cJ=this.dJ=NaN;this.Ng=!1;this.rn=this.Yt=this.vp=this.St=this.Rt=-1;this.PA=l;this.zB=new b;this.kJ=new b;e.J.truncate(3*a.vd/2)}a.prototype.AH=function(a,c,b,e){a.Le=null===e?null:e[b[5*c]];a.Fw=null!=a.Le;a.Fw||(e=b[5*c+2],-1!==e&&this.a.gX(b[5*c],b[5*e],a.wb),a.Le=a.wb,a.rg.kC(a.wb.ua,a.wb.sa),a.rg.ha+=this.ta,a.wb.BJ(),a.Iw=a.wb.oa==a.wb.ra,a.Iw||(a.YA=(a.wb.sa-a.wb.ua)/(a.wb.oa-a.wb.ra)))};a.prototype.RQ=function(a,
c){var f=a.ys(c,this.ta,!0);if(0!=f)return 2==f?this.Az():this.Wi();a.Oq(L);a.Ps(Q);c.Oq(X);c.Ps(V);I.ka(this.Ar,this.il);L.ub(X)&&this.il==L.y?0>Q.compare(V)?I.L(Q):I.L(V):L.ub(V)&&this.il==L.y?0>Q.compare(X)?I.L(Q):I.L(X):X.ub(Q)&&this.il==X.y?0>L.compare(V)?I.L(L):I.L(V):Q.ub(V)&&this.il==Q.y&&(0>L.compare(X)?I.L(L):I.L(X));return a.pf(I.y,I.x)<c.pf(I.y,I.x)?-1:1};a.prototype.PQ=function(a,c){if(a.wb.ra==c.wb.ra&&a.wb.ua==c.wb.ua)return a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa?this.PA?this.Az():0:this.VF(a,
c);if(a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa)return this.UF(a,c);var f=this.UF(a,c);a=this.VF(a,c);return 0>f&&0>a?-1:0<f&&0<a?1:this.Wi()};a.prototype.LQ=function(a,c){if(a.sa>c.sa){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.sa-a.ua)<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 1};a.prototype.MQ=function(a,c){if(a.ua<c.ua){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-
c.ua)*(a.ua-a.sa)<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi();return-1};a.prototype.NQ=function(a,c){var f=new e.b;f.zc(c.Cc(),c.ec());f.Ur();f.normalize();var b=new e.b;b.zc(a.ec(),c.ec());var h=new e.b;h.zc(a.Cc(),c.ec());var b=b.oi(f),f=h.oi(f),h=Math.abs(b),z=Math.abs(f);if(h<z){if(h<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi()}else if(z<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 0>b&&0>f?-1:0<b&&0<f?1:this.Wi()};a.prototype.TF=function(a,c){return a.ra==c.ra&&a.ua==c.ua?
this.LQ(a,c):a.oa==c.oa&&a.sa==c.sa?this.MQ(a,c):this.NQ(a,c)};a.prototype.OQ=function(a,c){return a.oa==c.oa&&a.sa==c.sa&&a.ra==c.ra&&a.ua==c.ua?this.PA?this.Az():0:this.Wi()};a.prototype.UF=function(a,c){var f=1;if(a.wb.ra<c.wb.ra){var f=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var h=b.ua-a.ua;c=c.YA*(b.ra-a.ra);var e=this.Dr;return h<c-e?-f:h>c+e?f:a.Si(b.ua,b.ra,this.ta)?this.Wi():h<c?-f:f};a.prototype.VF=function(a,c){var f=1;if(c.wb.oa<a.wb.oa){var f=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var h=b.sa-a.ua;c=c.YA*
(b.oa-a.ra);var e=this.Dr;return h<c-e?-f:h>c+e?f:a.Si(b.sa,b.oa,this.ta)?this.Wi():h<c?-f:f};a.prototype.Az=function(){this.Ng=!0;this.mj=new e.$d(5,this.vp,this.Yt);return-1};a.prototype.Wi=function(){this.Ng=!0;this.PA?this.mj=new e.$d(4,this.vp,this.Yt):this.Yt=this.vp=this.St=this.Rt=-1;return-1};a.prototype.QQ=function(a,c,b,e){if(this.Ng)return-1;var f=this.bJ==this.il&&this.aJ==this.Ar,h;f&&a==this.Rt?h=this.cJ:(h=NaN,this.Rt=-1);f&&c==this.St?f=this.dJ:(f=NaN,this.St=-1);b.Le.SJ(d);e.Le.SJ(t);
if(d.ha<t.ca)return-1;if(t.ha<d.ca)return 1;this.bJ=this.il;this.aJ=this.Ar;isNaN(h)&&(this.Rt=a,this.cJ=h=a=b.Le.pf(this.il,this.Ar));isNaN(f)&&(this.St=c,this.dJ=f=a=e.Le.pf(this.il,this.Ar));return Math.abs(h-f)<=this.ta?this.RQ(b.Le,e.Le):h<f?-1:h>f?1:0};a.prototype.Gs=function(){this.Ng=!1};a.prototype.en=function(){return this.mj};a.prototype.QK=function(a,c){this.il=a;this.Ar=c;this.Yt=this.vp=this.St=this.Rt=-1};a.prototype.compare=function(a,c,b){if(this.Ng)return-1;a=a.ja(b);this.rn=b;return this.XF(c,
c,a,a)};a.prototype.XF=function(a,c,b,e){var f;this.vp==c?f=this.zB:(this.vp=c,f=this.zB,this.zB.qb=a,this.AH(f,c,this.a.Dd.f,this.a.wf));var h;null==h&&(this.Yt=e,h=this.kJ,this.kJ.qb=b,this.AH(h,e,this.a.Dd.f,this.a.wf));if(f.Fw||h.Fw)return this.QQ(c,e,f,h);if(f.rg.ha<h.rg.ca)return-1;if(h.rg.ha<f.rg.ca)return 1;a=f.Iw?1:0;a|=h.Iw?2:0;return 0==a?this.PQ(f,h):1==a?this.TF(f.wb,h.wb):2==a?-1*this.TF(h.wb,f.wb):this.OQ(f.wb,h.wb)};return a}();e.fE=a})(m||(m={}));(function(e){var d=function(){function d(b,
a){this.a=b;this.ta=a;this.Ng=!1;this.vp=-1;this.rg=new e.Ac;this.wr=new e.b;this.wr.$c();this.Fe=new e.Hb;this.rn=-1;this.hB=1.7976931348623157E308}d.prototype.Gs=function(){this.Ng=!1;this.hB=1.7976931348623157E308};d.prototype.Yh=function(b){this.wr.L(b)};d.prototype.compare=function(b,a){return this.YF(a,b.ja(a))};d.prototype.YF=function(b,a){var c=null!=this.a.ic(a);c||(this.a.pd(a,this.Fe),this.rg.kC(this.Fe.ua,this.Fe.sa));if(c)throw e.g.X("not implemented");if(this.wr.x+this.ta<this.rg.ca)return-1;
if(this.wr.x-this.ta>this.rg.ha)return 1;if(this.Fe.ra==this.Fe.oa)return this.rn=b,this.Ng=!0,0;this.Fe.BJ();a=this.Fe.ec();c=new e.b;c.zc(this.Fe.Cc(),a);c.Ur();var f=new e.b;f.zc(this.wr,a);a=c.oi(f);a/=c.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Fe.mt(this.wr,this.ta)&&(c=Math.abs(a),c<this.hB&&(this.rn=b,this.hB=c),this.Ng=!0,c<.25*this.ta)?0:0>a?-1:1};return d}();e.aO=d})(m||(m={}));(function(e){function d(b,a,c,f){c=new Float64Array(b.subarray(c,f));b.set(c,a)}var t=function(){function b(a){this.xa=
this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};
b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.oX=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-
1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=c;this.f=f}this.size=a};b.prototype.yf=function(a){(null==
this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var h=this.size,l=a.size;if(f>h||f>l&&h!=l)return!1;for(f>h&&(f=h);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Sq=function(a,
c,f,b,l,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;u-=a;for(var h=this.f.slice(a,a+u),z=0;z<u;z++)this.f[a+2*b+z]=h[z];if(l)for(l=0;l<b;l++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else for(l=0,h=b-1;l<b;++l)u=c[f+h],this.f[a++]=u.x,this.f[a++]=u.y,h--};b.prototype.Rk=function(a,c,f,b,l,u,x){if(this.xa)throw e.g.Da();if(!l&&(1>u||0!=b%u))throw e.g.F();var h=this.size-x;h<b&&this.resize(this.size+b-h);for(h=0;h<x-a;h++)this.f[a+
b+h]=this.f[a+h];this.f==c.f&&a<f&&(f+=b);if(l)for(h=0;h<b;h++)this.f[h+a]=c.f[f+h];else for(l=b,x=0;x<b;x+=u)for(l-=u,h=0;h<u;h++)this.f[a+x+h]=c.f[f+l+h]};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;for(var h=this.f.slice(a,a+b),u=0;u<b;u++)this.f[a+f+u]=h[u];for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();for(var b=this.f.slice(a,a+(f-a)),l=0;l<f-a;l++)this.f[l+a+2]=b[l];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,f,b,l){if(0>
a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),l)for(l=0;l<c;l++)this.f[a+l]=f[b+l];else for(l||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,l,u){if(0>a||0>c||0>b)throw e.g.F();if(!l&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,l,u);else if(l)for(l=0;l<c;l++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-u,1==u)for(l=0;l<c;l++)this.f[a]=f.f[b],a++,
b--;else for(l=0,c=e.J.truncate(c/u);l<c;l++){for(var h=0;h<u;h++)this.f[a+h]=f.f[b+h];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<f-(a+c)){f-=a+c;for(var b=this.f.slice(a+c,a+f+c),l=0;l<f;l++)this.f[a+l]=b[l]}this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,l=0;l<b;l+=f){c-=f;for(var u=0;u<f;u++){var x=this.f[a+l+u];this.f[a+l+u]=this.f[a+c+u];this.f[a+c+u]=x}}};b.prototype.Zh=
function(a,c,f){if(0>c||0>f||0>c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,l){if(!b||a!=f){for(var h=0;h<c;h++)this.f[a+h]=this.f[f+h];if(!b)for(f=a,a=a+c-l,b=0,c=e.J.truncate(c/2);b<c;b++){for(h=0;h<l;h++){var x=this.f[f+h];this.f[f+h]=this.f[a+h];this.f[a+h]=x}f+=l;a-=l}}};b.prototype.ks=function(a,c,f,b,l){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,
this.f[a+1]=f[b].y,a+=l};b.prototype.hy=function(a,c,f,b,l){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=b;b<c;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=l};b.prototype.pl=function(a,c,f,b,l){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(l)for(l=0;l<c;l++)f[b+l]=this.f[a+l];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],b--};b.prototype.Hx=function(a,c,f,b,l){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(l||(a+=c-1),
l=l?2:-2,c=b+c;b<c;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=l};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){var b=this.f.slice(0,a),l=this.f.slice(c);a=this.f.slice(a,c).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(l))};b.prototype.si=function(){return 1};b.Bb=0;return b}();e.Rd=t;t=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Float64Array(c);
this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){var f=new b(a),h=f.f;2>a&&(a=2);if(0!==c)for(var l=0;l<a;l++)h[l]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Float64Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Float64Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,
c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=
function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=new Float64Array(this.f,0,a);this.f=f}}else{a>this.f.length&&
(f=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),f=new Float64Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==
a||!(a instanceof b))return!1;var h=this.size,l=a.size;if(f>h||f>l&&h!=l)return!1;for(f>h&&(f=h);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,f,b,l,u,x){if(this.xa)throw e.g.Da();if(!l&&(1>u||0!=b%u))throw e.g.F();var h=this.size-x;h<b&&this.resize(this.size+b-h);d(this.f,a+b,a,a+(x-a));this.f==c.f&&a<f&&(f+=b);if(l)this.f.set(c.f.subarray(f,f+b),a);else for(l=b,x=0;x<b;x+=u)for(l-=u,h=0;h<u;h++)this.f[a+x+h]=c.f[f+l+h]};b.prototype.Sq=function(a,c,f,b,l,u){if(this.xa)throw e.g.Da();
0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;d(this.f,a+2*b,a,a+(u-a));if(l)for(l=0;l<b;l++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else{l=0;for(var h=b-1;l<b;++l)u=c[f+h],this.f[a++]=u.x,this.f[a++]=u.y,h--}};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;d(this.f,a+b,a,a+b);for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(f-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,
c,f,b,l){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),l)this.f.set(f.subarray(b,c),a);else for(l||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,l,u){if(0>a||0>c||0>b)throw e.g.F();if(!l&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,l,u);else if(l)for(l=0;l<c;l++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-u,1==u)for(l=0;l<c;l++)this.f[a]=f.f[b],
a++,b--;else for(l=0,c=e.J.truncate(c/u);l<c;l++){for(var h=0;h<u;h++)this.f[a+h]=f.f[b+h];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<f-(a+c)&&d(this.f,a,a+c,a+(f-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,l=0;l<b;l+=f){c-=f;for(var u=0;u<f;u++){var x=this.f[a+l+u];this.f[a+l+u]=this.f[a+c+u];this.f[a+c+u]=x}}};b.prototype.Zh=function(a,c,f){if(0>c||0>f||0>
c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,l){if(!b||a!=f)if(this.f.set(this.f.subarray(f,f+c),a),!b)for(f=a,a=a+c-l,b=0,c=e.J.truncate(c/2);b<c;b++){for(var h=0;h<l;h++){var x=this.f[f+h];this.f[f+h]=this.f[a+h];this.f[a+h]=x}f+=l;a-=l}};b.prototype.ks=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=h;h<c;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=l};b.prototype.hy=
function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=h;h<c;h++)this.f[a]=b[h][0],this.f[a+1]=b[h][1],a+=l};b.prototype.pl=function(a,c,b,h,l){if(0>a||0>c||0>h||this.size<c+a)throw e.g.F();if(l)for(l=0;l<c;l++)b[h+l]=this.f[a+l];else for(h=h+c-1;a<c;a++)b[h]=this.f[a],h--};b.prototype.Hx=function(a,c,b,h,l){if(0>a||0>c||0>h||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(l||(a+=c-1),l=l?2:-2,c=h+c;h<c;h++)b[h][0]=this.f[a],
b[h][1]=this.f[a+1],a+=l};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){Array.prototype.sort.call(this.f.subarray(a,c),b)};b.prototype.si=function(){return 1};return b}();e.KL=t})(m||(m={}));!0===m.Xh.Bm&&!0===m.Xh.jw&&(m.Rd=m.KL);(function(e){function d(b,a,c,f){c=new Int32Array(b.subarray(c,f));b.set(c,a)}e.BZ=function(){return function(){this.random=1973}}();var t=function(){function b(a){this.xa=this.Ce=
!1;this.f=[];var c=a;2>c&&(c=2);this.f=this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};
b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};
b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),h=this.f.length;h<a;h++)b[h]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");
this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var h=this.size,l=a.size;if(f>h||f>l&&h!=l)return!1;for(f>h&&(f=h);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,h,l,u,x){if(this.xa)throw e.g.Da();if(!l&&(1>u||0!=h%u))throw e.g.F();for(var f=0;f<x-a;f++)this.f[a+h+f]=this.f[a+f];this.f==
c.f&&a<b&&(b+=h);if(l)for(f=0;f<h;f++)this.f[f+a]=c.f[b+f];else for(l=h,x=0;x<h;x+=u)for(l-=u,f=0;f<u;f++)this.f[a+x+f]=c.f[b+l+f]};b.prototype.Sq=function(a,c,b,h,l,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;u-=a;for(var f=this.f.slice(a,a+u),z=0;z<u;z++)this.f[a+2*h+z]=f[z];if(l)for(l=0;l<h;l++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else for(l=0,f=h-1;l<h;++l)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--};b.prototype.Vj=
function(a,c,b,h){if(this.xa)throw e.g.Da();h-=a;for(var f=this.f.slice(a,a+h),u=0;u<h;u++)this.f[a+b+u]=f[u];for(h=0;h<b;h++)this.f[a+h]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),l=0;l<b-a;l++)this.f[l+a+2]=f[l];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(b.length<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),l)for(l=0;l<c;l++)this.f[a+l]=b[h+l];else for(l||(a+=c-1),c=h+c;h<
c;h++)this.f[a]=b[h],a--};b.prototype.ho=function(a,c,b,h,l,u){if(0>a||0>c||0>h)throw e.g.F();if(!l&&(0>=u||0!=c%u))throw e.g.F();if(b.size<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,h,l,u);else if(l)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h++;else if(h=h+c-u,1==u)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h--;else for(l=0,c=e.J.truncate(c/u);l<c;l++){for(var f=0;f<u;f++)this.f[a+f]=b.f[h+f];a+=u;h-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();
if(0<b-(a+c)){b-=a+c;for(var f=this.f.slice(a+c,a+b+c),l=0;l<b;l++)this.f[a+l]=f[l]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,l=0;l<f;l+=b){c-=b;for(var u=0;u<b;u++){var x=this.f[a+l+u];this.f[a+l+u]=this.f[a+c+u];this.f[a+c+u]=x}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,h,l){if(!h||a!=b){for(var f=0;f<c;f++)this.f[a+f]=this.f[b+
f];if(!h)for(b=a,a=a+c-l,h=0,c=e.J.truncate(c/2);h<c;h++){for(f=0;f<l;f++){var x=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=x}b+=l;a-=l}}};b.prototype.ks=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=h;h<c;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=l};b.prototype.pl=function(a,c,b,h,l){if(0>a||0>c||0>h||this.size<c+a)throw e.g.F();if(l)for(l=0;l<c;l++)b[h+l]=this.f[a+l];else for(h=h+c-1;a<c;a++)b[h]=this.f[a],
h--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var f=this.f.slice(0,a),l=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(l))};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-
1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.nA=function(a){return 0<=this.Ov(a)};b.Bb=0;return b}();e.ia=t;t=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Int32Array(c);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,
b-a,1))};b.zd=function(a,c){var f=new b(a),h=f.f;2>a&&(a=2);if(0!==c)for(var l=0;l<a;l++)h[l]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Int32Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int32Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=
a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=
function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,h=this.size;h<a;h++)b[h]=c}this.size=a};b.prototype.yf=
function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var h=this.size,l=a.size;if(f>h||f>l&&h!=l)return!1;for(f>h&&(f=h);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=
function(a,c,b,h,l,u,x){if(this.xa)throw e.g.Da();if(!l&&(1>u||0!=h%u))throw e.g.F();d(this.f,a+h,a,a+(x-a));this.f==c.f&&a<b&&(b+=h);if(l)this.f.set(c.f.subarray(b,b+h),a);else for(l=h,x=0;x<h;x+=u){l-=u;for(var f=0;f<u;f++)this.f[a+x+f]=c.f[b+l+f]}};b.prototype.Sq=function(a,c,b,h,l,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;d(this.f,a+2*h,a,a+(u-a));if(l)for(l=0;l<h;l++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else{l=0;
for(var f=h-1;l<h;++l)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--}};b.prototype.Vj=function(a,c,b,h){if(this.xa)throw e.g.Da();h-=a;d(this.f,a+h,a,a+h);for(h=0;h<b;h++)this.f[a+h]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(b.length<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),l)this.f.set(b.subarray(h,c),a);else for(l||(a+=c-1),c=h+c;h<c;h++)this.f[a]=
b[h],a--};b.prototype.ho=function(a,c,b,h,l,u){if(0>a||0>c||0>h)throw e.g.F();if(!l&&(0>=u||0!=c%u))throw e.g.F();if(b.size<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,h,l,u);else if(l)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h++;else if(h=h+c-u,1==u)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h--;else for(l=0,c=e.J.truncate(c/u);l<c;l++){for(var f=0;f<u;f++)this.f[a+f]=b.f[h+f];a+=u;h-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();
0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,l=0;l<f;l+=b){c-=b;for(var u=0;u<b;u++){var x=this.f[a+l+u];this.f[a+l+u]=this.f[a+c+u];this.f[a+c+u]=x}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,h,l){if(!h||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!h)for(b=a,a=a+c-l,h=0,c=e.J.truncate(c/
2);h<c;h++){for(var f=0;f<l;f++){var x=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=x}b+=l;a-=l}};b.prototype.ks=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=h;h<c;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=l};b.prototype.pl=function(a,c,b,h,l){if(0>a||0>c||0>h||this.size<c+a)throw e.g.F();if(l)for(l=0;l<c;l++)b[h+l]=this.f[a+l];else for(h=h+c-1;a<c;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):
this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){10>c-a?b.ul(this.f,a,c,f):b.Oi(this.f,a,c-1,f)};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==
a)return c;return-1};b.prototype.nA=function(a){return 0<=this.Ov(a)};b.ul=function(a,c,b,h){for(var f=c;f<b;f++){for(var e=a[f],x=f-1;x>=c&&0<h(a[x],e);)a[x+1]=a[x],x--;a[x+1]=e}};b.Wg=function(a,c,b){var f=a[b];a[b]=a[c];a[c]=f};b.Oi=function(a,c,f,h){if(!(c>=f))for(;;){if(9>f-c){b.ul(a,c,f+1,h);break}var l=a[c];b.Wg(a,c,f);for(var e=c,x=c;x<f;x++)0>=h(a[x],l)&&(b.Wg(a,e,x),e+=1);b.Wg(a,e,f);e-c<f-e?(b.Oi(a,c,e-1,h),c=e+1):(b.Oi(a,e+1,f,h),f=e-1)}};return b}();e.jy=t})(m||(m={}));!0===m.Xh.Bm&&
(m.ia=m.jy);(function(e){function d(b,a,c,f){c=new Int8Array(b.subarray(c,f));b.set(c,a)}var t=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=
function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};
b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),h=this.f.length;h<
a;h++)b[h]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var h=this.size,l=a.size;if(f>h||f>l&&h!=l)return!1;for(f>h&&(f=h);c<f;c++)if(this.read(c)!=
a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,h,l,u,x){if(this.xa)throw e.g.Da();if(!l&&(1>u||0!=h%u))throw e.g.F();for(var f=0;f<x-a;f++)this.f[a+h+f]=this.f[a+f];this.f==c.f&&a<b&&(b+=h);if(l)for(f=0;f<h;f++)this.f[f+a]=c.f[b+f];else for(l=h,x=0;x<h;x+=u)for(l-=u,f=0;f<u;f++)this.f[a+x+f]=c.f[b+l+f]};b.prototype.Sq=function(a,c,b,h,l,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*h):this.size+=2*h;u-=a;for(var f=this.f.slice(a,a+
u),z=0;z<u;z++)this.f[a+2*h+z]=f[z];if(l)for(l=0;l<h;l++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else for(l=0,f=h-1;l<h;++l)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--};b.prototype.Vj=function(a,c,b,h){if(this.xa)throw e.g.Da();h-=a;for(var f=this.f.slice(a,a+h),u=0;u<h;u++)this.f[a+b+u]=f[u];for(h=0;h<b;h++)this.f[a+h]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),l=0;l<b-a;l++)this.f[l+a+2]=f[l];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,
c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(b.length<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),l)for(l=0;l<c;l++)this.f[a+l]=b[h+l];else for(l||(a+=c-1),c=h+c;h<c;h++)this.f[a]=b[h],a--};b.prototype.ho=function(a,c,b,h,l,u){if(0>a||0>c||0>h)throw e.g.F();if(!l&&(0>=u||0!=c%u))throw e.g.F();if(b.size<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,h,l,u);else if(l)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h++;else if(h=h+c-u,1==u)for(l=0;l<c;l++)this.f[a]=
b.f[h],a++,h--;else for(l=0,c=e.J.truncate(c/u);l<c;l++){for(var f=0;f<u;f++)this.f[a+f]=b.f[h+f];a+=u;h-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<b-(a+c)){b-=a+c;for(var f=this.f.slice(a+c,a+b+c),l=0;l<b;l++)this.f[a+l]=f[l]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,l=0;l<f;l+=b){c-=b;for(var u=0;u<b;u++){var x=this.f[a+l+u];this.f[a+l+u]=this.f[a+c+u];this.f[a+c+u]=
x}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,h,l){if(!h||a!=b){for(var f=0;f<c;f++)this.f[a+f]=this.f[b+f];if(!h)for(b=a,a=a+c-l,h=0,c=e.J.truncate(c/2);h<c;h++){for(f=0;f<l;f++){var x=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=x}b+=l;a-=l}}};b.prototype.ks=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=h;h<
c;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=l};b.prototype.pl=function(a,c,b,h,l){if(0>a||0>c||0>h||this.size<c+a)throw e.g.F();if(l)for(l=0;l<c;l++)b[h+l]=this.f[a+l];else for(h=h+c-1;a<c;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var f=this.f.slice(0,a),l=this.f.slice(c);a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(l))};b.prototype.si=function(){return 1};
b.prototype.iC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.Bb=0;return b}();e.Fm=t;t=function(){function b(a){this.f=null;var c=a;2>c&&(c=2);this.f=new Int8Array(c);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),
this.Zd(a,b-a,1))};b.zd=function(a,c){var f=new b(a),h=f.f;2>a&&(a=2);if(0!==c)for(var l=0;l<a;l++)h[l]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Int8Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int8Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),
this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=
function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,h=this.size;h<a;h++)b[h]=c}this.size=a};b.prototype.yf=
function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var h=this.size,l=a.size;if(f>h||f>l&&h!=l)return!1;for(f>h&&(f=h);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=
function(a,c,b,h,l,u,x){if(this.xa)throw e.g.Da();if(!l&&(1>u||0!=h%u))throw e.g.F();d(this.f,a+h,a,a+(x-a));this.f==c.f&&a<b&&(b+=h);if(l)this.f.set(c.f.subarray(b,b+h),a);else for(l=h,x=0;x<h;x+=u){l-=u;for(var f=0;f<u;f++)this.f[a+x+f]=c.f[b+l+f]}};b.prototype.Vj=function(a,c,b,h){if(this.xa)throw e.g.Da();h-=a;d(this.f,a+h,a,a+h);for(h=0;h<b;h++)this.f[a+h]=c};b.prototype.Sq=function(a,c,b,h,l,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*h>this.f.length?this.resize(this.size+2*
h):this.size+=2*h;d(this.f,a+2*h,a,a+(u-a));if(l)for(l=0;l<h;l++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else{l=0;for(var f=h-1;l<h;++l)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--}};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(b.length<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),l)this.f.set(b.subarray(h,c),a);else for(l||(a+=c-1),c=h+c;h<c;h++)this.f[a]=
b[h],a--};b.prototype.ho=function(a,c,b,h,l,u){if(0>a||0>c||0>h)throw e.g.F();if(!l&&(0>=u||0!=c%u))throw e.g.F();if(b.size<h+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,h,l,u);else if(l)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h++;else if(h=h+c-u,1==u)for(l=0;l<c;l++)this.f[a]=b.f[h],a++,h--;else for(l=0,c=e.J.truncate(c/u);l<c;l++){for(var f=0;f<u;f++)this.f[a+f]=b.f[h+f];a+=u;h-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();
0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,l=0;l<f;l+=b){c-=b;for(var u=0;u<b;u++){var x=this.f[a+l+u];this.f[a+l+u]=this.f[a+c+u];this.f[a+c+u]=x}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,h,l){if(!h||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!h)for(b=a,a=a+c-l,h=0,c=e.J.truncate(c/
2);h<c;h++){for(var f=0;f<l;f++){var x=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=x}b+=l;a-=l}};b.prototype.ks=function(a,c,b,h,l){if(0>a||0>c||0>h)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),l||(a+=c-1<<1),l=l?2:-2,c+=h;h<c;h++)this.f[a]=b[h].x,this.f[a+1]=b[h].y,a+=l};b.prototype.pl=function(a,c,b,h,l){if(0>a||0>c||0>h||this.size<c+a)throw e.g.F();if(l)for(l=0;l<c;l++)b[h+l]=this.f[a+l];else for(h=h+c-1;a<c;a++)b[h]=this.f[a],h--};b.prototype.clear=function(a){a?this.resize(0):
this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){c=this.f.subarray(a,c);Array.prototype.sort.call(c,b);this.f.set(c,a)};b.prototype.iC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.prototype.si=function(){return 1};return b}();e.ky=t})(m||(m={}));!0===m.Xh.Bm&&(m.Fm=m.ky);(function(e){var d=
function(){function d(){}d.vq=function(b,a){return e.Fm.zd(b,a)};d.Um=function(b,a){return e.Rd.zd(b,a)};d.pz=function(b,a,c){switch(b){case 1:b=e.Rd.zd(a,c);break;case 2:b=e.ia.zd(a,c);break;case 4:b=e.Fm.zd(a,c);break;default:throw e.g.za();}return b};d.qz=function(b,a){return d.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};d.wh=function(b,a){return e.ia.zd(b,a)};d.IB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);return c};return d}();e.Uc=d})(m||(m={}));(function(e){var d=function(){function d(){}
d.vq=function(b,a){return e.ky.zd(b,a)};d.Um=function(b,a){return e.Rd.zd(b,a)};d.pz=function(b,a,c){switch(b){case 1:b=e.Rd.zd(a,c);break;case 2:b=e.jy.zd(a,c);break;case 4:b=e.ky.zd(a,c);break;default:throw e.g.za();}return b};d.qz=function(b,a){return e.Uc.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};d.wh=function(b,a){return e.jy.zd(b,a)};d.IB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);return c};return d}();e.LL=d})(m||(m={}));!0===m.Xh.Bm&&(m.Uc=m.LL);(function(e){e.ea=function(){return function(e){void 0===
e&&(e=0);this.j=e}}()})(m||(m={}));(function(e){var d=function(){function d(){}d.bind=function(b){e.Vc=b.PeDefs;e.Tf=b.PeFactory;e.QD=b.PeVertcs;e.ND=b.PeCoordsys;e.fi=b.PeCSTransformations;e.PD=b.PeGTTransformations;e.yN=b.PeGeogtran;e.xN=b.PeFactoryCodechange;e.OD=b.PeGCSExtent;e.Bg=b.PePCSInfo;e.zN=b.PeHorizon;e.ND=b.PeCoordsys;e.fq=b.PeGTlistExtended;e.fq.PE_GTLIST_OPTS_USE_DEFAULT=128;e.Tf.initialize(null);e.wy=b.PeGTlistExtendedEntry;d.QY=e.Tf.fromString(e.Vc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};
d.w_=function(){};d.QY=null;return d}();e.AN=d;e.Tf=null;e.QD=null;e.ND=null;e.zN=null;e.Bg=null;e.fq=null;e.wy=null;e.OD=null;e.xN=null;e.yN=null;e.Vc=null;e.PD=null;e.fi=null})(m||(m={}));(function(e){var d=function(){function b(){}b.Ab=function(a,c){return 0<=c?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Qi=function(a){return 3.552713678800501E-15>a};b.MD=function(a,c,f){return b.K(a-c)<=f*(1+(b.K(a)+b.K(c))/2)};b.W=function(a,c){return b.MD(a,c,3.552713678800501E-15)};b.jW=function(a){return 3.552713678800501E-15>=
b.K(a)};b.xd=function(a){return b.jW(a)};return b}();e.l=d;var t=function(){function b(){}b.Sp=function(a,c){a=d.K(a);c=d.K(c);var b=0;0!=a+c&&(a>c?(b=c/a,b=a*Math.sqrt(1+b*b)):(b=a/c,b=c*Math.sqrt(1+b*b)));return b};b.Or=function(a,c,f,h,l){for(var e=[0,0,0],x=[0,0,0],z=0;2>=z;z++)c[z]-=a[z],f[z]-=c[z];f=e[1]*x[2]-e[2]*x[1];c=e[2]*x[0]-e[0]*x[2];e=e[0]*x[1]-e[1]*x[0];a=-1*(f*a[0]+c*a[1]+e*a[2]);h[0]=f;h[1]=c;h[2]=e;h[3]=a;x=b.eo(h);h[0]/=x;h[1]/=x;h[2]/=x;h[3]/=x;0!=l&&(x=d.xd(e)?d.xd(a)?d.Ab(1,
c):-d.Ab(1,a):d.Ab(1,e),x*=d.Ab(1,l),h[0]*=x,h[1]*=x,h[2]*=x,h[3]*=x)};b.fy=function(a,c,b){b[0]=a[1]*c[2]-c[1]*a[2];b[1]=a[2]*c[0]-c[2]*a[0];b[2]=a[0]*c[1]-c[0]*a[1]};b.Eu=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.eo=function(a){return b.Sp(b.Sp(a[0],a[1]),a[2])};b.Dk=function(a,c,f,h,l,e,x,z){a=b.n(a,c,f);var u=Math.cos(f);e.j=(a+l)*u*Math.cos(h);x.j=(a+l)*u*Math.sin(h);z.j=(a*(1-c)+l)*Math.sin(f)};b.jQ=function(a,c,f,h,l,e,x){var u=b.Sp(c,f),t=1*Math.sqrt(1-a),g=t/1;if(d.W(u,0))e.j=
0,l.j=d.Ab(1.570796326794897,h),x.j=d.K(h)-t;else{e.j=Math.atan2(f,c);f=Math.atan2(1*h,t*u);e=Math.cos(f);var k=Math.sin(f);c=t*a/(1-a);a*=1;f=Math.atan2(h+c*k*k*k,u-a*e*e*e);3.141592653589793<d.K(f)&&(f=d.Ab(3.141592653589793,f)-f);f=Math.atan(g*Math.tan(f));k=Math.sin(f);e=Math.cos(f);l.j=Math.atan2(h+c*k*k*k,u-a*e*e*e);1.570796326794897<d.K(l.j)&&(l.j=d.Ab(3.141592653589793,l.j)-l.j);f=Math.atan(g*Math.tan(l.j));k=Math.sin(f);e=Math.cos(f);x.j=(h-t*k)*Math.sin(l.j)+(u-1*e)*Math.cos(l.j)}};b.n=
function(a,c,b){b=Math.sin(b);return a/Math.sqrt(1-c*b*b)};b.du=function(a,c){return Math.atan2(Math.sin(c)*(1-a),Math.cos(c))};b.ik=function(a,c){return Math.atan2(Math.sin(c),Math.cos(c)*(1-a))};b.xp=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var f,h,l,e,x,z,t,g,k;if(.006884661117170036>a){e=Math.sqrt(1-a);x=(1-e)/(1+e);z=x*x;t=x*z;g=x*t;f=x*g;k=x*f;h=x*k;l=1.572916666666667*t-3.2578125*f+4.295068359375*h;e=2.142578125*g-6.071484375*k;a=3.129296875*f-11.249837239583334*
h;var m=4.775276692708333*k,n=7.958636765252976*h,p=Math.cos(2*c);return c+Math.sin(2*c)*(1.5*x-.84375*t+.525390625*f-.2688395182291667*h-l+a-n+p*(2*(1.3125*z-1.71875*g+1.650146484375*k)-4*e+6*m+p*(4*l-12*a+24*n+p*(8*e-32*m+p*(16*a-80*n+p*(32*m+64*p*n))))))}e=1-a;x=a/2;z=d.K(c);t=z*b.Tu(a)/(1.570796326794897*e);g=9999;k=z;for(z=0;1E-16<g&&50>z;z++)h=b.Cm(a,k),f=(b.EG(k,a)-x*Math.sin(2*k)/h)/e-t,h=1/(h*h*h),l=f/h,f=k-l,g=d.K(l),k=f;return 0<=c?k:-k};b.pX=function(a,c){return d.Qi(c)?a:a*b.Tu(c)/1.570796326794897};
b.da=function(a){a=b.qG(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>d.K(a)||d.W(d.K(a),3.141592653589793)?a:a-6.283185307179586};b.qG=function(a,c){return a-Math.floor(a/c)*c};b.Yg=function(a,c){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var f=c*c,h=f*f;return a/(1+c)*(1+.25*f+.015625*h+.00390625*f*h)*1.570796326794897}return a*b.Tu(c)};b.Nr=function(a,c){var f=d.Ab(1,Math.sin(c));c=d.K(b.qG(c,3.141592653589793));c=1.570796326794897>=c?c:3.141592653589793-c;
var h;d.W(c,1.570796326794897)?h=c:h=Math.atan(Math.sqrt(1-a)*Math.tan(c));return h*f};b.q=function(a,c,f){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var h=c*c,l=c*h,e=c*l,x=c*e,z=c*x,d=c*z,t=-.7291666666666666*l+.2278645833333333*x+.03987630208333334*d,g=.615234375*e-.21533203125*z,k=-.54140625*x+.20302734375*d,m=.48876953125*z,n=-.4488699776785715*d,p=Math.cos(2*f);return a/(1+c)*((1+.25*h+.015625*e+.00390625*z)*f+Math.sin(2*f)*(-1.5*c+.1875*l+.0234375*x+.00732421875*d-t+k-n+p*(2*
(.9375*h-.234375*e-.03662109375*z)-4*g+6*m+p*(4*t-12*k+24*n+p*(8*g-32*m+p*(16*k-80*n+p*(32*m+64*p*n)))))))}return a*(b.EG(f,c)-.5*c*Math.sin(2*f)/b.Cm(c,f))};b.Cm=function(a,c){c=Math.sin(c);return Math.sqrt(1-a*c*c)};b.Tu=function(a){return d.MD(a,1,2.220446049250313E-16)?1:1>a?b.Lv(0,1-a)-a/3*b.Iv(0,1-a):NaN};b.EG=function(a,c){var f=d.Ab(1,a);a=d.K(a);var h=Math.floor(a/1.570796326794897),l;if(1<c)l=0==a?0:NaN;else if(d.xd(h))l=b.sin(a),l=l*b.Lv(1-l*l,1-c*l*l)-c/3*l*l*l*b.Iv(1-l*l,1-c*l*l);else{l=
e.J.truncate(h%2);var u=b.Tu(c);0<l?(l=Math.sin(1.570796326794897*(h+1)-a),l=l*b.Lv(1-l*l,1-c*l*l)-c/3*l*l*l*b.Iv(1-l*l,1-c*l*l),l=u*(h+1)-l):(l=Math.sin(a-1.570796326794897*h),l=l*b.Lv(1-l*l,1-c*l*l)-c/3*l*l*l*b.Iv(1-l*l,1-c*l*l),l=u*h+l)}return l*f};b.sin=function(a){a=b.da(a);var c=d.Ab(1,a);a=d.K(a);return d.W(a,3.141592653589793)?0:d.W(a,1.570796326794897)?1*c:Math.sin(a)*c};b.Iv=function(a,c){for(var b=1,h=0,l=1,e,x,z,t;;){e=.2*(a+c+3*b);x=(e-a)/e;z=(e-c)/e;t=(e-b)/e;if(1E-4>d.K(x)&&1E-4>d.K(z)&&
1E-4>d.K(t))break;t=Math.sqrt(c);e=Math.sqrt(b);t=Math.sqrt(a)*(t+e)+t*e;h+=l/(e*(b+t));l*=.25;a=.25*(a+t);c=.25*(c+t);b=.25*(b+t)}a=x*z;b=t*t;c=a-b;b=a-6*b;x=b+c+c;return 3*h+l*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*t*x)+t*(.1666666666666667*x+t*(-.4090909090909091*c+.1153846153846154*t*a)))/(e*Math.sqrt(e))};b.Lv=function(a,c){for(var b,h,l,e,x=1;;x=.25*(x+b)){b=(a+c+x)/3;h=2-(b+a)/b;l=2-(b+c)/b;e=2-(b+x)/b;if(1E-4>d.K(h)&&1E-4>d.K(l)&&1E-4>d.K(e))break;b=Math.sqrt(c);h=
Math.sqrt(x);b=Math.sqrt(a)*(b+h)+b*h;a=.25*(a+b);c=.25*(c+b)}a=h*l-e*e;c=h*l*e;return(1+(.04166666666666666*a-.1-.06818181818181818*c)*a+.07142857142857142*c)/Math.sqrt(b)};b.Cx=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,h,l;if(.006884661117170036>a){b=a*a;h=a*b;l=a*h;var e=a*l,x=a*e,z=a*x,t=-(.02708333333333333*h+.03430059523809524*l+.03149181547619048*e+.02634359154541446*x+.02156896735835538*z),g=.007669890873015873*l+.01299603174603175*e+.0148051353064374*x+
.01454454953803912*z,k=-(.002275545634920635*e+.004830845032667949*x+.006558395368616723*z),m=6.957236677288761E-4*x+.001775193002406544*z,n=-(2.17324089394402E-4*z),p=Math.cos(2*c);return c+Math.sin(2*c)*(-(.5*a+.2083333333333333*b+.09375*h+.04878472222222222*l+.02916666666666667*e+.01938905423280423*x+.01388255931712963*z)-t+k-n+p*(2*(.1041666666666667*b+.0875*h+.06050347222222222*l+.04151785714285714*e+.02958958540013228*x+.02203667534722222*z)-4*g+6*m+p*(4*t-12*k+24*n+p*(8*g-32*m+p*(16*k-80*n+
p*(32*m+64*p*n))))))}0==c||d.W(d.K(c),1.570796326794897)?b=c:(h=Math.sqrt(a),l=h*Math.sin(c),b=Math.tan(.7853981633974483+c/2)*Math.pow((1-l)/(1+l),h/2),b=2*Math.atan(b)-1.570796326794897);return b};b.BQ=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,h;if(.006884661117170036>a){p=a*a;k=a*p;m=a*k;b=a*m;n=a*b;h=a*n;var l=.05833333333333333*k+.07232142857142858*m+.05634300595238095*b+.0355325796406526*n+.020235546186067*h,e=.02653149801587302*m+.04379960317460317*b+.0429211791776896*
n+.03255384637546096*h,x=.01294022817460318*b+.02668104344536636*n+.03155651254609588*h,z=.00659454790965208*n+.0163075268674227*h,t=.003463473736911237*h,g=Math.cos(2*c);return c+Math.sin(2*c)*(.5*a+.2083333333333333*p+.08333333333333333*k+.03611111111111111*m+.01875*b+.01195601851851852*n+.008863673941798942*h-l+x-t+g*(2*(.1458333333333333*p+.1208333333333333*k+.07039930555555556*m+.03616071428571429*b+.01839451058201058*n+.01017113095238095*h)-4*e+6*z+g*(4*l-12*x+24*t+g*(8*e-32*z+g*(16*x-80*t+
g*(32*z+64*g*t))))))}for(var k=Math.sqrt(a),m=k/2,n=Math.tan(.7853981633974483+c/2),l=0,e=1,p=c;0!=e;p=h)if(b=k*Math.sin(p),h=n*Math.pow((1+b)/(1-b),m),h=2*Math.atan(h)-1.570796326794897,l++,d.W(h,p)||3E4<l)e=0;return p};return b}();e.C=t})(m||(m={}));(function(e){var d=function(){function d(b){this.Zl=this.Pt=null;this.vw=!1;this.mB=this.nB=0;this.kB=new e.b;this.xB=new e.b;this.ix=!1;this.kr=new e.h;this.II=this.fx=0;this.gx=null;this.al=!1;this.Fr=null;this.KA=0;this.uf=b;this.wt=e.Ib.iw(this.uf,
0,!0);this.kB.$c();this.xB.$c();this.eJ=NaN;var a=b.getCode();0<a?(this.ll=a,e.Tf.getCode(b)):this.ll=e.Tf.getCode(b);0>this.ll&&(this.ll=0);var c=this.uf.getType();this.vI=c==e.Vc.PE_TYPE_PROJCS?2:1;if(c==e.Vc.PE_TYPE_PROJCS&&!b.loadConstants())throw e.g.F("PeProjcs.loadConstants failed");a=c==e.Vc.PE_TYPE_GEOGCS?this.uf:this.uf.getGeogcs();c!=e.Vc.PE_TYPE_GEOGCS&&e.Tf.getCode(a);this.Fr=b.getUnit();this.eJ=a.getPrimem().getLongitude();this.II=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>
Math.abs(b-1)&&(b=1);this.mB=b;0!=(c&e.Vc.PE_TYPE_PROJCS)?(a=this.uf,this.nB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.uf.getUnit().getUnitFactor(),this.gx=e.Bg.generate(a,e.Bg.PE_PCSINFO_OPTION_NONE),this.al=this.gx.isPannableRectangle(),this.KA=e.Ib.qP(this.gx.getCentralMeridian(),this.mB)):(this.ix=this.al=!0,this.nB=0,c=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*c,this.KA=0);this.al&&(this.dy(),this.uL(),this.vL(),this.tL(),this.iZ(),this.jZ())}d.prototype.$s=
function(){return this.ll};d.prototype.Sj=function(){return this.gx};d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.ll&&0==a.ll?b.wt===a.wt:!1};d.prototype.Jc=function(){return this.al};d.prototype.Bh=function(b){b.I(this.gp)};d.prototype.bw=function(){return this.gp.o};d.prototype.aw=function(){return this.gp.v};d.prototype.zT=function(b){b.I(this.hx)};d.prototype.iZ=function(){var b=this.uf.getType();if(b==e.Vc.PE_TYPE_PROJCS){var b=this.uf,a=this.Sj().getCentralMeridian(),c=b.getGeogcs();
if(null==c)throw e.g.X("internal error");c=1/c.getUnit().getUnitFactor()*Math.PI;a=[[a+c,0]];e.fi.geogToProj(b,1,a);var a=a[0][0],c=b.getParameters()[e.Vc.PE_PARM_X0].getValue(),f=this.Mk(),b=new e.h;f.s(b);var f=Math.abs(a-c),a=f+c,c=-1*f+c,f=b.B,b=b.A,h=new e.h;h.I(c,b,a,f);null==this.gp&&(this.gp=h)}else if(b==e.Vc.PE_TYPE_GEOGCS)c=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-c,-c/2,c,c/2),null==this.gp&&(this.gp=b);else throw e.g.X("internal error");};d.prototype.jZ=function(){var b=
this.uf.getType();if(b==e.Vc.PE_TYPE_PROJCS){var a=this.uf,b=this.Sj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw e.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,c=this.Vs(),f=new e.h;c.s(f);c=new e.h;c.I(b-a,f.A,b+a,f.B);null==this.hx&&(this.hx=c)}else if(b==e.Vc.PE_TYPE_GEOGCS)a=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);else throw e.g.X("internal error");};d.prototype.ee=function(){return this.mB};d.prototype.bn=
function(){return this.nB};d.prototype.Vs=function(){if(this.al)return this.Zl;var b=this.Zl;if(null!=b)return b;this.dy();return this.Zl};d.prototype.Ws=function(){if(this.al)return null;if(null!=this.Zl)return this.hI;this.dy();return this.hI};d.prototype.dy=function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b;b=this.uf;var a=b.getGeogcs(),c=b.horizonGcsGenerate();if(null!=c){var f=c[0].getNump(),h=c[0].getKind();b=0<c[0].getInclusive();var l=this.ee(),u=90*l,x=360*l,z=370*l,d=180*l*e.Vc.PE_HORIZON_DELTA/
Math.PI,t=new e.h,g=null;if(1<f)for(var k=1;k<f;k++)if(c[k].getKind()==e.Vc.PE_HORIZON_LINE){null==g&&(g=new e.Ua);var m=c[k].getCoord();g.$x(m[0][0],m[0][1]);g.Xj(m[1][0],m[1][1])}if(h==e.Vc.PE_HORIZON_RECT)c=c[0].getCoord(),t.I(c[0][0],c[0][1]),t.Nb(c[1][0],c[1][1]),Math.abs(t.B-u)<1E-7*d&&(t.B=u),Math.abs(t.A+u)<1E-7*d&&(t.A=-u),t.N()>z&&(c=-400*l,t.I(c,t.A,c+5*x,t.B)),c=new e.ci(t),null==this.Zl&&(this.Zl=c,this.vw=b);else{z=new e.Ja;x=this.Sj().isGcsHorizonMultiOverlap();t=e.Ou.iG(a,e.ts.Integer64);
if(x){z=new e.QM;d=e.ei.local().V(z,t,null);for(k=0;k<f;k++)if(c[k].getKind()==e.Vc.PE_HORIZON_POLY){a=c[k].getSize();l=c[k].getCoord();h=[];for(u=0;u<a;u++)h[u]=e.b.pa(l[u][0],l[u][1]);c[k].getInclusive();x&&(l=new e.Ja,l.Bl(h,a-1),z.SY(l),d.Re())}z=d.next()}else for(k=0;k<f;k++)if(c[k].getKind()==e.Vc.PE_HORIZON_POLY){a=c[k].getSize();l=c[k].getCoord();x=[];for(u=0;u<a;u++)x[u]=e.b.pa(l[u][0],l[u][1]);c[k].getInclusive();z.Bl(x,a-1)}b?e.tk.local().qo(z,t,1):e.cq.local().qo(z,t,1);e.Gj.local().qo(z,
t,1);null==this.Zl&&(this.Zl=z,this.vw=b,this.hI=g)}}}};d.prototype.Uv=function(){if(this.al)return this.vw;null==this.Zl&&this.dy();return this.vw};d.prototype.uL=function(){if(2==this.vI){var b=this.uf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var c=b[0].getNump(),f=!1;if(a==e.Vc.PE_HORIZON_RECT)b=b[0].getCoord(),c=new e.h,c.I(b[0][0],b[0][1]),c.Nb(b[1][0],b[1][1]),b=new e.ci(c);else{a=-1;for(f=0;f<c;f++)b[f].getKind()==e.Vc.PE_HORIZON_POLY&&(a=f);f=b[a].getSize()-
1;b=b[a].getCoord();c=[];for(a=0;a<f;a++)c[a]=e.b.pa(b[a][0],b[a][1]);b=a=new e.Ja;a.Bl(c,f);f=!0}this.Sj().isDensificationNeeded()&&(c=1E5*this.bn(),b=e.Jm.local().V(b,c,null));f&&(f=new e.ci,b.Qn(f),b.hf(),b.Rb(),b.gT(),e.tk.local().qo(b,null,1));null==this.Pt&&(this.Pt=b)}}};d.prototype.Mk=function(){if(this.al)return this.Pt;var b=this.Pt;if(null!=b)return b;this.uL();return this.Pt};d.prototype.vL=function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b=90*this.ee(),b=[[0,b],[0,-b]];e.fi.geogToProj(this.uf,
2,b);var a=this.Sj(),c=a.getNorthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(c&&this.kB.ka(b[0][0],b[0][1]),a&&this.xB.ka(b[1][0],b[1][1]))}this.ix=!0};d.prototype.dA=function(b,a){this.al||this.ix||this.vL();b?a.L(this.xB):a.L(this.kB)};d.prototype.tL=function(){if(1==this.vI){var b=400*this.ee();this.kr.I(-b,-b,b,b)}else b=e.Bg.generate(this.uf,e.Bg.PE_PCSINFO_OPTION_DOMAIN),b=e.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),
b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};d.prototype.ZS=function(b){this.al&&b.I(this.kr);this.kr.u()&&this.tL();b.I(this.kr)};d.prototype.dn=function(){return this.eJ};d.prototype.pi=function(){return this.KA};d.prototype.Nd=function(){return this.Fr};d.prototype.Xs=function(){return this.II};return d}();e.TD=d})(m||(m={}));(function(e){var d=function(){function d(b){this.IV=b;this.wt=e.Ib.iw(b,0,!0);var a=b.getCode();this.nt=0<a?a:e.Tf.getCode(b);0>this.nt&&(this.nt=0);this.Fr=a=this.IV.getUnit();
this.XI=1/a.getUnitFactor();e.Tf.getCode(b)}d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nt&&0==a.nt?b.wt===a.wt:!1};d.prototype.$s=function(){return this.nt};return d}();e.FN=d})(m||(m={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,h,l,u,x){if(null!=l||null!=u||null!=x){f=e.C.da(f);a=e.C.da(a);c=e.C.da(c);h=e.C.da(h);1.570796326794897<e.l.K(c)&&(c=e.l.Ab(3.141592653589793,c)-c,a=e.C.da(a+3.141592653589793));1.570796326794897<e.l.K(h)&&(h=e.l.Ab(3.141592653589793,
h)-h,f=e.C.da(f+3.141592653589793));var z=e.C.da(f-a);if(e.l.W(c,h)&&(e.l.W(a,f)||e.l.W(e.l.K(c),1.570796326794897)))null!=l&&(l.j=0),null!=u&&(u.j=0),null!=x&&(x.j=0);else{if(e.l.W(c,-h)){if(e.l.W(e.l.K(c),1.570796326794897)){null!=l&&(l.j=3.141592653589793*b);null!=u&&(u.j=0<c?e.C.da(3.141592653589793-e.C.da(f)):e.C.da(f));null!=x&&(x.j=0<c?e.C.da(f):e.C.da(3.141592653589793-e.C.da(f)));return}if(e.l.W(e.l.K(z),3.141592653589793)){null!=l&&(l.j=3.141592653589793*b);null!=u&&(u.j=0);null!=x&&(x.j=
0);return}}var d=1.570796326794897==e.l.K(c)?0:Math.cos(c),t=Math.sin(c),g=1.570796326794897==e.l.K(h)?0:Math.cos(h),k=Math.sin(h),m=1.570796326794897==e.l.K(z)?0:Math.cos(z),n=3.141592653589793==e.l.K(z)?0:Math.sin(z);if(null!=l){var p=Math.sin((h-c)/2),z=Math.sin(z/2);l.j=2*Math.asin(Math.sqrt(p*p+d*g*z*z))*b}null!=u&&(e.l.W(e.l.K(c),1.570796326794897)?u.j=0>c?f:e.C.da(3.141592653589793-f):u.j=Math.atan2(g*n,d*k-t*g*m));null!=x&&(e.l.W(e.l.K(h),1.570796326794897)?x.j=0>h?a:e.C.da(3.141592653589793-
a):(x.j=Math.atan2(d*n,k*d*m-g*t),x.j=e.C.da(x.j+3.141592653589793)))}}};d.Uf=function(b,a,c,f,h,l,u){if(null!=l||null!=u){a=e.C.da(a);c=e.C.da(c);1.570796326794897<e.l.K(c)&&(c=e.l.Ab(3.141592653589793,c)-c,a=e.C.da(a+3.141592653589793));e.l.W(e.l.K(c),1.570796326794897)&&(a=0);h=e.C.da(h);var x=e.l.W(e.l.K(h),1.570796326794897)?0:Math.cos(h),z=e.l.W(e.l.K(h),3.141592653589793)?0:Math.sin(h),d=e.l.W(e.l.K(c),1.570796326794897)?0:Math.cos(c),t=Math.sin(c);b=f/b;f=e.l.W(e.l.K(b),1.570796326794897)?
0:Math.cos(b);var g=e.l.W(e.l.K(b),3.141592653589793)?0:Math.sin(b),k=Math.asin(t*f+d*g*x);null!=u&&(u.j=k);null!=l&&(l.j=e.l.W(e.l.K(k),1.570796326794897)?e.l.W(c,-k)?0>k?h:e.C.da(3.141592653589793-h):a:e.l.W(e.l.K(c),1.570796326794897)&&e.l.W(b,3.141592653589793)?0>c?h:e.C.da(3.141592653589793-h):e.C.da(a+Math.atan2(g*z,d*f-t*g*x)))}};return d}();e.vh=d})(m||(m={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,h,l,u,x,z){var d=new e.ea(0),t=new e.ea(0),g=[0,0,0],k=[0,0,0],m=
[0,0,0],n=new e.ea(0),p=new e.ea(0),r=new e.ea(0),q=new e.ea(0),v=new e.ea(0);if(null!=u||null!=x||null!=z)if(e.l.Qi(a))e.vh.Cb(b,c,f,h,l,u,x,z);else{h=e.C.da(h);c=e.C.da(c);var E=e.C.da(h-c);if(e.l.W(f,l)&&(e.l.W(c,h)||e.l.W(e.l.K(f),1.570796326794897)))null!=u&&(u.j=0),null!=x&&(x.j=0),null!=z&&(z.j=0);else{if(e.l.W(f,-l)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=u&&(u.j=2*e.C.Yg(b,a));null!=x&&(x.j=0<f?e.C.da(3.141592653589793-e.C.da(h)):e.C.da(h));null!=z&&(z.j=0<f?e.C.da(h):e.C.da(3.141592653589793-
e.C.da(h)));return}e.l.W(e.l.K(E),3.141592653589793)&&(null!=u&&(u.j=2*e.C.Yg(b,a)),null!=x&&(x.j=0),null!=z&&(z.j=0))}else if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(l),1.570796326794897))e.l.W(e.l.K(f),1.570796326794897)?c=h:h=c;var w=0,y;0>E&&(w=1,y=c,c=h,h=y,y=f,f=l,l=y);var E=e.C.du(a,f),A=e.C.du(a,l);if(null!=x||null!=z)e.vh.Cb(b,c,E,h,A,null,d,t),d=Math.atan2(Math.sin(d.j)*Math.cos(f-E),Math.cos(d.j)),t=Math.atan2(Math.sin(t.j)*Math.cos(l-A),Math.cos(t.j)),0!=w&&(y=d,d=t,t=y),null!=
x&&(x.j=d),null!=z&&(z.j=t);null!=u&&(e.C.Dk(1,a,f,c,0,r,q,v),g[0]=r.j,g[1]=q.j,g[2]=v.j,e.C.Dk(1,a,l,h,0,r,q,v),k[0]=r.j,k[1]=q.j,k[2]=v.j,m[0]=g[1]*k[2]-k[1]*g[2],m[1]=-(g[0]*k[2]-k[0]*g[2]),m[2]=g[0]*k[1]-k[0]*g[1],a=1-e.C.Cm(a,e.C.Nr(a,e.C.ik(a,Math.acos(m[2]/Math.sqrt(m[0]*m[0]+m[1]*m[1]+m[2]*m[2]))))),a*=2-a,x=Math.atan2(-m[1],-m[0]),m=e.C.da(x-1.570796326794897),x=e.C.da(x+1.570796326794897),m=e.l.K(e.C.da(c-m))<=e.l.K(e.C.da(c-x))?m:x,e.vh.Cb(1,m,0,c,E,n,null,null),e.vh.Cb(1,m,0,h,A,p,null,
null),3.141592653589793<n.j+p.j&&(m=e.C.da(m+3.141592653589793),e.vh.Cb(1,m,0,c,E,n,null,null),e.vh.Cb(1,m,0,h,A,p,null,null)),n.j*=e.l.Ab(1,f),p.j*=e.l.Ab(1,l),n.j=e.C.ik(a,n.j),p.j=e.C.ik(a,p.j),c=e.C.q(b,a,n.j),b=e.C.q(b,a,p.j),u.j=e.l.K(b-c))}}};d.Uf=function(b,a,c,f,h,l,u,x){var z=0,d=new e.ea(0),t=new e.ea(0),g=[0,0,0],k=[0,0,0],m=new e.ea(0),n=new e.ea(0),p=new e.ea(0);if(null!=u||null!=x)if(e.l.Qi(a))e.vh.Uf(b,c,f,h,l,u,x);else if(e.l.xd(h))null!=u&&(u.j=c),null!=x&&(x.j=f);else{l=e.C.da(l);
0>h&&(h=e.l.K(h),l=e.C.da(l+3.141592653589793));c=e.C.da(c);f=e.C.da(f);1.570796326794897<e.l.K(f)&&(c=e.C.da(c+3.141592653589793),f=e.l.Ab(3.141592653589793,f)-f);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);var r;if(e.l.xd(f))r=e.l.K(1.570796326794897-e.l.K(l)),r=e.C.ik(a,r),r=1-e.C.Cm(a,e.C.Nr(a,r)),r*=2-r,b=h/e.C.Yg(b,r)*1.570796326794897,b=e.C.xp(r,b),b=e.C.du(r,b),e.vh.Uf(1,c,f,b,l,u,d),null!=x&&(z=d.j),null!=x&&(x.j=e.C.ik(a,z));else if(e.l.W(e.l.K(f),1.570796326794897))z=e.C.Yg(b,a),d=2*z,b=e.l.Ab(1.570796326794897,
f),l=0<b?e.C.da(3.141592653589793-l):l,f=z-h,e.l.K(f)<=z?null!=u&&(u.j=l):(f=Math.floor(h/d),0==e.J.truncate(f%2)?(null!=u&&(u.j=l),f=z-(h-f*d)):(null!=u&&(u.j=e.C.da(l+3.141592653589793)),f=z-((f+1)*d-h))),null!=x&&(x.j=e.C.xp(a,f/z*b));else{r=e.C.du(a,f);l=Math.atan2(Math.sin(l),Math.cos(l)*Math.cos(f-r));var q=e.J.truncate(e.l.Ab(1,r))*(1.570796326794897>=e.l.K(l)?1:-1);l=e.C.da(c+Math.atan(Math.tan(l)*-Math.sin(r)));e.vh.Cb(b,l,0,c,r,null,t,null);r=e.l.K(1.570796326794897-e.l.K(t.j));r=e.C.ik(a,
r);r=1-e.C.Cm(a,e.C.Nr(a,r));r*=2-r;e.C.Dk(1,a,0,l,0,m,n,p);g[0]=m.j;g[1]=n.j;g[2]=p.j;e.C.Dk(1,a,f,c,0,m,n,p);k[0]=m.j;k[1]=n.j;k[2]=p.j;f=Math.acos((g[0]*k[0]+g[1]*k[1]+g[2]*k[2])/Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2]));f=e.C.ik(r,f);f=e.C.q(b,r,f)+h*q;h=0<f?t.j:e.C.da(t.j+3.141592653589793);b=e.l.K(f)/e.C.Yg(b,r)*1.570796326794897;b=e.C.xp(r,b);b=e.C.du(r,b);e.vh.Uf(1,l,0,b,h,u,d);null!=x&&(z=d.j);null!=x&&(x.j=e.C.ik(a,z))}}};return d}();e.yl=d})(m||(m={}));(function(e){var d=function(){function d(){}
d.Cb=function(b,a,c,f,h,l,u,x,z){var d=0,t=0,g=0;if(null!=u||null!=x||null!=z)if(e.l.Qi(a))e.vh.Cb(b,c,f,h,l,u,x,z);else{var k=e.C.da(h-c);if(e.l.W(f,l)&&(e.l.xd(k)||e.l.W(e.l.K(f),1.570796326794897)))null!=u&&(u.j=0),null!=x&&(x.j=0),null!=z&&(z.j=0);else{if(e.l.W(f,-l)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=u&&(u.j=2*e.C.Yg(b,a));null!=x&&(x.j=0<f?e.C.da(3.141592653589793-e.C.da(h)):e.C.da(h));null!=z&&(z.j=0<f?e.C.da(h):e.C.da(3.141592653589793-e.C.da(h)));return}e.l.W(e.l.K(k),3.141592653589793)&&
(null!=u&&(u.j=2*e.C.Yg(b,a)),null!=x&&(x.j=0),null!=z&&(z.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(l),1.570796326794897)){e.yl.Cb(b,a,c,f,h,l,u,x,z);return}if(e.l.xd(k)||e.l.W(e.l.K(k),3.141592653589793)){e.yl.Cb(b,a,c,f,h,l,u,x,z);return}}var m=1-Math.sqrt(1-a),n=a/(1-a),p=b*(1-m);b=e.C.Nr(a,f);var r=e.C.Nr(a,l);a=1.570796326794897==e.l.K(b)?0:Math.cos(b);var q=Math.sin(b),v=1.570796326794897==e.l.K(r)?0:Math.cos(r),E=Math.sin(r),w=k,y=Math.cos(w),A=Math.sin(w),B=1,D=0,C,G,I,
F,L;do{C=w;G=Math.sqrt(Math.pow(v*A,2)+Math.pow(a*E-q*v*y,2));I=q*E+a*v*y;F=Math.atan2(G,I);if(0==G){B=0;break}L=a*v*A/G;d=Math.cos(Math.asin(L));d*=d;t=I-2*q*E/d;1<e.l.K(t)&&(t=e.l.Ab(1,t));g=t*t;w=m/16*d*(4+m*(4-3*d));w=k+(1-w)*m*L*(F+w*G*(t+w*I*(2*g-1)));y=Math.cos(w);A=Math.sin(w);D++;if(3.141592653589793<e.l.K(w)&&30<D){B=0;break}}while(5E3>=D&&!e.l.W(C,w));if(0!=B)n*=d,m=n*(256+n*(-128+n*(74-47*n)))/1024,null!=u&&(u.j=p*(1+n*(4096+n*(-768+n*(320-175*n)))/16384)*(F-m*G*(t+m/4*(I*(2*g-1)-m/6*
t*(4*G*G-3)*(4*g-3))))),null!=x&&(e.l.W(e.l.K(f),1.570796326794897)?x.j=0>f?h:e.C.da(3.141592653589793-h):x.j=Math.atan2(v*A,a*E-q*v*y)),null!=z&&(e.l.W(e.l.K(l),1.570796326794897)?z.j=0>l?c:e.C.da(3.141592653589793-c):(z.j=Math.atan2(a*A,a*E*y-q*v),z.j=e.C.da(z.j+3.141592653589793)));else{w=e.l.Ab(3.141592653589793,k);I=q*E-a*v;F=Math.acos(I);G=Math.sin(F);d=1;D=L=0;do g=L,d*=d,y=d*d,L=m*d*(1+m+m*m),t=m*m*y*(1+2.25*m),B=m*m*m*y*d,y=1-.25*L+.1875*t-.1953125*B,L=.25*L-.25*t+.29296875*B,A=.03125*t-
.05859375*B,B*=.00651041666666667,t=I-2*q*E/d,1<e.l.K(t)&&(t=e.l.Ab(1,t)),d=Math.acos(t),I=Math.cos(2*d),C=Math.cos(3*d),L=e.l.W(f,-l)?e.C.da(3.141592653589793-k)/(3.141592653589793*m*y):e.C.da(w-k)/(m*(y*F+L*G*t+A*Math.sin(2*F)*I+B*Math.sin(3*F)*C)),A=L*G/(a*v),w=1.570796326794897<e.l.K(k)?e.l.Ab(3.141592653589793,A)-Math.asin(A):Math.asin(A),y=Math.cos(w),G=Math.sqrt(Math.pow(v*A,2)+Math.pow(a*E-q*v*y,2)),F=3.141592653589793-Math.asin(e.l.K(G)),I=Math.cos(F),d=Math.cos(Math.asin(L)),D++;while(70>=
D&&!e.l.W(g,L));null!=u&&(d*=d,n*=d,y=1+n*(4096+n*(-768+n*(320-175*n)))/16384,e.l.W(f,-l)?u.j=3.141592653589793*p*y:(t=I-2*q*E/d,d=Math.acos(t),I=Math.cos(2*d),C=Math.cos(3*d),u.j=p*(y*F+n*(-512+n*(128+n*(-60+35*n)))/2048*G*t+n*(-4+5*n)/6144*n*n*Math.sin(2*F)*I+B*Math.sin(3*F)*C+-7.62939453125E-5*n*n*n*n*Math.sin(4*F)*Math.cos(4*d))));null!=x&&(e.l.xd(f)&&e.l.xd(l)?(d=Math.sqrt(1-L*L),x.j=Math.acos(d),0>k&&(x.j*=-1)):e.l.W(e.l.K(f),1.570796326794897)?x.j=0>f?h:e.C.da(3.141592653589793-h):(u=L/a,p=
Math.sqrt(1-u*u),0>a*E-q*v*Math.cos(w)&&(p*=-1),x.j=Math.atan2(u,p),e.l.W(f,-l)&&e.l.K(e.C.da(c-h))>3.141592653589793*(1-m*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(x.j)||0>f&&1.570796326794897<e.l.K(x.j))&&(x.j=e.l.Ab(3.141592653589793,x.j)-x.j)));if(null!=z)if(e.l.xd(f)&&e.l.xd(l))d=Math.sqrt(1-L*L),z.j=Math.acos(d),0<=k&&(z.j*=-1);else if(e.l.W(e.l.K(l),1.570796326794897))z.j=0>l?c:e.C.da(3.141592653589793-c);else if(k=L/v,u=Math.sqrt(1-k*k),p=Math.sin(w/2),0>Math.sin(r-b)-2*a*E*p*p&&(u*=-1),
z.j=Math.atan2(k,u),z.j=e.C.da(z.j+3.141592653589793),e.l.W(f,-l)&&!e.l.xd(f)&&!e.l.W(e.l.K(f),1.570796326794897)&&e.l.K(e.C.da(c-h))>3.141592653589793*(1-m*Math.cos(f))&&(null!=x?p=x.j:(u=L/a,p=Math.sqrt(1-u*u),0>a*E-q*v*Math.cos(w)&&(p*=-1),p=Math.atan2(u,p),e.l.W(f,-l)&&e.l.K(e.C.da(c-h))>3.141592653589793*(1-m*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(p)||0>f&&1.570796326794897<e.l.K(p))&&(p=e.l.Ab(3.141592653589793,p)-p)),1.570796326794897>=e.l.K(p)&&1.570796326794897<e.l.K(z.j)||1.570796326794897<=
e.l.K(p)&&1.570796326794897>e.l.K(z.j)))z.j=-1*e.C.da(z.j+3.141592653589793)}}}};d.Uf=function(b,a,c,f,h,l,u,x){if(null!=u||null!=x)if(e.l.Qi(a))e.vh.Uf(b,c,f,h,l,u,x);else if(l=e.C.da(l),e.l.W(e.l.K(f),1.570796326794897)||e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793))e.yl.Uf(b,a,c,f,h,l,u,x);else{var z=1.570796326794897==e.l.K(l)?0:Math.cos(l),d=3.141592653589793==e.l.K(l)?0:Math.sin(l);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);l=1-Math.sqrt(1-a);var t=e.C.Nr(a,f);f=1.570796326794897==e.l.K(t)?0:Math.cos(t);
var g=Math.sin(t),t=Math.atan2(Math.tan(t),z),k=f*d,m=k*k,n=1-m,p=a/(1-a)*n;a=p*(256+p*(-128+p*(74-47*p)))/1024;var r=a/4,q=a/6,v=h/(b*(1-l)*(1+p*(4096+p*(-768+p*(320-175*p)))/16384)),E=v,w;do{w=E;h=1.570796326794897==e.l.K(E)?0:Math.cos(E);var p=3.141592653589793==e.l.K(E)?0:Math.sin(E),y=p*p;b=Math.cos(2*t+E);E=b*b;E=a*p*(b+r*(h*(2*E-1)-q*b*(4*y-3)*(4*E-3)))+v}while(!e.l.W(w,E));h=1.570796326794897==e.l.K(E)?0:Math.cos(E);p=3.141592653589793==e.l.K(E)?0:Math.sin(E);null!=u&&(d=Math.atan2(p*d,f*
h-g*p*z),n=l/16*n*(4+l*(4-3*n)),b=Math.cos(2*t+E),u.j=e.C.da(c+(d-(1-n)*l*k*(E+n*p*(b+n*h*(2*b*b-1))))));null!=x&&(n=g*p-f*h*z,n=(1-l)*Math.sqrt(m+n*n),x.j=Math.atan2(g*h+f*p*z,n))}};return d}();e.Nu=d})(m||(m={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,h,l,u,x,z){var d=e.C.da(h-c),t=e.l.W(e.l.K(f),1.570796326794897),g=e.l.W(e.l.K(l),1.570796326794897);if(e.l.W(f,l)&&(e.l.xd(d)||t))null!=u&&(u.j=0),null!=x&&(x.j=0),null!=z&&(z.j=0);else{var k,m;e.l.Qi(a)?(k=Math.sin(f),
m=Math.sin(l),k=Math.sqrt((1+k)/(1-k)),m=Math.sqrt((1+m)/(1-m)),k=Math.log(m)-Math.log(k),k=Math.atan2(d,k),null!=u&&(u.j=e.l.W(f,l)?e.l.K(b*Math.cos(f)*d):e.l.K((b*l-b*f)/Math.cos(k)))):(m=e.C.Cx(a,l),k=Math.sin(e.C.Cx(a,f)),m=Math.sin(m),k=Math.sqrt((1+k)/(1-k)),m=Math.sqrt((1+m)/(1-m)),k=Math.log(m)-Math.log(k),k=Math.atan2(d,k),null!=u&&(e.l.W(f,l)?u.j=e.l.K(b*d*Math.cos(f)/e.C.Cm(a,f)):(d=e.C.q(b,a,f),b=e.C.q(b,a,l),u.j=e.l.K((b-d)/Math.cos(k)))));if(null!=x||null!=z)u=e.C.da(k+3.141592653589793),
t&&g||!t&&!g||(t?k=0>f?h:e.C.da(3.141592653589793-h):g&&(u=0>l?c:e.C.da(3.141592653589793-c))),null!=x&&(x.j=k),null!=z&&(z.j=u)}};d.Uf=function(b,a,c,f,h,l,u,x){l=e.C.da(l);0>h&&(h=e.l.K(h),l=e.C.da(l+3.141592653589793));e.l.Qi(a)?e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?l:e.C.da(3.141592653589793-l),l=h/b%6.283185307179586,3.141592653589793>=l?b=f-e.l.Ab(l,f):(c=e.C.da(c+3.141592653589793),b=-f+e.l.Ab(l-3.141592653589793,f))):e.l.W(e.l.K(l),1.570796326794897)?(c=e.C.da(c+e.l.Ab(h,l)/(b*Math.cos(f))),
b=f):(b=f+h*Math.cos(l)/b,1.570796326794897<e.l.K(b)&&(b=1.570796326794897),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793))||(1.570796316258184<e.l.K(b)&&(b=e.l.Ab(1.570796316258184,b)),a=Math.sin(f),f=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.da(c+Math.tan(l)*a))):e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?l:e.C.da(3.141592653589793-l),l=h/e.C.pX(b,a),l%=6.283185307179586,3.141592653589793>=l?(b=f-e.l.Ab(l,f),b=e.C.xp(a,
b)):(c=e.C.da(c+3.141592653589793),b=-f+e.l.Ab(l-3.141592653589793,f),b=e.C.xp(a,b))):e.l.W(e.l.K(l),1.570796326794897)?(c=e.C.da(c+e.l.Ab(h,l)*e.C.Cm(a,f)/(b*Math.cos(f))),b=f):(b=1.570796326794897*(h*Math.cos(l)+e.C.q(b,a,f))/e.C.Yg(b,a),1.570796326794897<e.l.K(b)&&(b=e.l.Ab(1.570796326794897,b)),b=e.C.xp(a,b),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793))||(h=e.C.Cx(a,f),f=e.C.Cx(a,b),1.570796316258184<e.l.K(f)&&(f=e.l.Ab(1.570796316258184,b),b=e.C.BQ(a,f)),a=
Math.sin(h),f=Math.sin(f),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.da(c+Math.tan(l)*a)));null!=u&&(u.j=c);null!=x&&(x.j=b)};return d}();e.UD=d})(m||(m={}));(function(e){var d=function(){function d(){}d.Fz=function(b,a,c,f,h,l,u){e.Nu.Cb(b,a,c,f,h,l,null,u,null)};d.Xi=function(b,a,c,f,h,l,u,x){e.Nu.Uf(b,a,c,f,h,l,u,x)};d.Ld=function(b,a,c,f,h,l,u,x,z,d){switch(d){case 2:e.yl.Cb(b,a,c,f,h,l,u,x,z);break;case 3:e.VD.Cb(b,a,c,f,h,l,u,x,z);break;case 1:e.UD.Cb(b,
a,c,f,h,l,u,x,z);break;default:e.Nu.Cb(b,a,c,f,h,l,u,x,z)}};d.Oj=function(b,a,c,f,h,l,u,x,z){switch(z){case 2:e.yl.Uf(b,a,c,f,h,l,u,x);break;case 3:e.VD.Uf(b,a,c,f,h,l,u,x);break;case 1:e.UD.Uf(b,a,c,f,h,l,u,x);break;default:e.Nu.Uf(b,a,c,f,h,l,u,x)}};return d}();e.mb=d})(m||(m={}));(function(e){var d=function(){function a(){this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);return b};a.aG=function(c,b){var f=new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;
f.y.set(b);return f};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()};a.prototype.value=function(){return e.b.pa(this.x.value(),this.y.value())};return a}();e.IZ=d;var t=function(){function a(){this.z=this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);b.z=new e.Xb;b.z.set(c.z);return b};a.aG=function(c,b,h){var f=new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;f.y.set(b);f.z=new e.Xb;f.z.set(h);return f};a.prototype.Lg=function(){return this.x.Lg()&&
this.y.Lg()&&this.z.Lg()};a.prototype.value=function(){return new e.qd(this.x.value(),this.y.value(),this.z.value())};a.prototype.oi=function(a){var c=new e.Xb,b=new e.Xb,l=new e.Xb;c.pm(this.x,a.x);b.pm(this.y,a.y);l.pm(this.z,a.z);a=new e.Xb;a.bP(c,b);a.add(l);return a};a.prototype.jG=function(c){var b=new a;b.x.pm(this.y,c.z);b.y.pm(this.z,c.x);b.z.pm(this.x,c.y);var h=new e.Xb,l=new e.Xb,u=new e.Xb;h.pm(this.z,c.y);l.pm(this.x,c.z);u.pm(this.y,c.x);b.x.sub(h);b.y.sub(l);b.z.sub(u);return b};return a}();
e.JZ=t;var b=function(){function a(){}a.pO=function(c,b,h){var f=b.x;b=b.y;a.Dk(1,c,Math.cos(f),Math.sin(f),Math.cos(b),Math.sin(b),h)};a.mO=function(c,b){var f=new e.qd;a.pO(c,b,f);return f};a.HZ=function(c,b,h,l,u,x){var f=new e.qd;a.Dk(c,b,h,l,u,x,f);return f};a.Dk=function(a,b,h,l,e,x,z){a/=Math.sqrt(1-b*x*x);z.I(a*e*h,a*e*l,a*(1-b)*x)};a.Su=function(a,b){var c=new e.Xb,f=new e.Xb,u=new e.Xb,x=new e.Xb;c.cos(b.x);f.sin(b.x);u.cos(b.y);x.sin(b.y);b=new e.Xb;b.set(x);b.Vg(x);b.yp(a);b.yp(-1);b.iP();
b.sqrt();var z=new e.Xb;z.set(1);z.Wm(b);b=new e.Xb;b.set(z);b.Vg(u);b.Vg(c);c=new e.Xb;c.set(z);c.Vg(u);c.Vg(f);f=new e.Xb;f.set(z);f.yp(1-a);f.Vg(x);return t.aG(b,c,f)};a.LN=function(a,b,h){var c=b.x,f=b.y;h.ka(Math.atan2(f,c),Math.atan2(b.z,(1-a)*Math.sqrt(c*c+f*f)))};a.Y_=function(c,b,h){c=new e.b;a.LN(b,h,c);return c};a.MU=function(c,b,h,l){if(Math.abs(b.x-h.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(h.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(h.y)==.5*Math.PI)&&b.x!=h.x)return NaN;
l=a.RC(l,Math.min(b.x,h.x),Math.max(b.x,h.x));if(!(new e.Ac(b.x,h.x)).contains(l))return NaN;var f=d.pa(b);h=d.pa(h);f=a.Su(c,f);h=a.Su(c,h);h=f.jG(h);if(h.z.Lg())return b=b.y;var x=new e.Xb;x.set(h.x);x.Wm(h.z);x.yp(-1);var z=new e.Xb;z.set(h.y);z.Wm(h.z);z.yp(-1);var t=new e.Xb;t.set(z);t.Vg(z);f=new e.Xb;f.set(x);f.Vg(x);f.add(t);f.sqrt();if(f.Lg()||x.Lg()&&z.Lg())return b=b.y;b=Math.atan2(z.value(),x.value());b=Math.atan2(f.value()*Math.cos(b-l),1-c);l=a.mO(c,e.b.pa(l,b));c=new e.qd(l.x,l.y,-l.z);
l=h.value().oi(l);c=h.value().oi(c);Math.abs(c)<Math.abs(l)&&(b=-b);return b};a.uA=function(c,b,h,l,u,x){x[0]=NaN;x[1]=NaN;if(Math.abs(h.x-l.x)>Math.PI||Math.abs(h.y)>.5*Math.PI||Math.abs(l.y)>.5*Math.PI||(Math.abs(h.y)==.5*Math.PI||Math.abs(l.y)==.5*Math.PI)&&h.x!=l.x||Math.abs(u)>=.5*Math.PI||0<h.y&&0<l.y&&h.y>u&&l.y>u||0>h.y&&0>l.y&&h.y<u&&l.y<u)return 0;var f=d.pa(h);c=d.pa(l);f=a.Su(b,f);c=a.Su(b,c);var t=f.jG(c);if(t.z.Lg())return(new e.Ac(h.y,l.y)).contains(u)?(x[0]=h.x,1):0;c=new e.Xb;c.set(t.x);
c.Wm(t.z);c.yp(-1);f=new e.Xb;f.set(t.y);f.Wm(t.z);f.yp(-1);t=new e.Xb;t.set(f);t.Vg(f);var g=new e.Xb;g.set(c);g.Vg(c);g.add(t);g.sqrt();if(g.Lg()||c.Lg()&&f.Lg())return 0==u?(x[0]=h.x,x[1]=l.x,2):0;b=(1-b)*Math.tan(u)/g.value();if(1<Math.abs(b))return 0;b=Math.acos(b);t=Math.atan2(f.value(),c.value());c=Math.min(h.x,l.x);f=Math.max(h.x,l.x);l=a.RC(t-b,c,f);b=0!=u?a.RC(t+b,c,f):l;u=0;c<=l&&l<=f&&(x[u]=l,u++);b!=l&&c<=b&&b<=f&&(x[u]=b,u++,2==u&&Math.abs(x[0]-h.x)>Math.abs(x[1]-h.x)&&(h=x[0],x[0]=
x[1],x[1]=h));return u};a.RC=function(a,b,h){a>h?(b=Math.ceil((a-h)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.KB=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();e.yy=b})(m||(m={}));(function(e){var d=function(){function d(){}d.TY=function(b,a){var c=8;0>c&&(c=8);var f=[0,0,0,0],h=new e.b;h.L(a);h.scale(9102==e.fb.kc(b).Nd().yc()?1:e.fb.kc(b).Nd().Ai/3.141592653589793*
180);-180>h.x?(h.x-=h.x%360,-180>h.x&&(h.x+=360)):180<h.x&&(h.x-=h.x%360,180<h.x&&(h.x-=360));90<h.y&&(h.y=90);-90>h.y&&(h.y=-90);b=5*c;a=(b+31)/32;for(var l=-180,u=180,x=b-1,z=a-1;0<=z;z--)for(var t=x-32*z,g=Math.min(32,b-32*z),k=1;k<g;k+=2){var m=.5*(u+l);h.x>=m?(f[z]|=1<<t,l=m):u=m;t-=2;x-=2}l=-90;u=90;x=b-2;for(z=a-1;0<=z;z--)for(t=x-32*z,g=Math.min(32,b-32*z),k=0;k<g;k+=2)m=.5*(u+l),h.y>=m?(f[z]|=1<<t,l=m):u=m,t-=2,x-=2;return d.vO(f,c,c)};d.vO=function(b,a,c){for(var f=[],h=0;h<a;h++)f[h]="";
for(var l=h=0,e=0;e<a;e++){var x=b[h]>>l&31,l=l+5;if(31<l){var z=37-l,x=x&(1<<z)-1,l=l-32;h++;x|=(b[h]&(1<<l)-1)<<z}f[a-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[x]}if(c>a)for(e=0;e<c-a;e++)f.push("0");else c<a&&(f.length=c);return f.join("")};return d}();e.sM=d})(m||(m={}));(function(e){var d={gcstol:[0,1E-8,1,1.11111E-8,2,1.68845E-8,3,2.17661E-8,4,2.22508E-8,5,2.34848E-8,6,2.37811E-8,7,2.88455E-8,8,3.1456E-8,9,3.29779E-8,10,3.66789E-8,11,4.23597E-8,12,4.79463E-8,13,6.45223E-8,14,7.26274E-8,
15,7.49945E-8,16,7.52506E-8,17,7.97991E-8,18,9.66202E-8,19,9.79918E-8,20,9.89735E-8,21,1.02314E-7,22,1.08146E-7,23,2.29734E-7,24,2.42985E-7,25,2.7546E-7,26,3.37034E-7,27,4.30795E-7,28,5.20871E-7,29,5.50921E-7,30,6.74068E-7,31,6.86177E-7,32,7.25263E-7,33,7.44101E-7,34,7.74267E-7,35,9.62954E-7,36,1.06103E-6,37,1.14363E-6,38,1.16219E-6,39,1.36419E-6,40,1.36744E-6,41,1.43239E-6,42,1.73624E-6,43,1.84825E-6,44,1.90986E-6,45,1.97572E-6,46,2.12207E-6,47,2.72837E-6,48,3.1831E-6,49,3.58099E-6,50,3.81972E-6,
51,4.09256E-6,52,4.40737E-6,53,4.77465E-6,54,5.16178E-6,55,5.20871E-6,56,5.72958E-6,57,6.03113E-6,58,6.98729E-6,59,9.24125E-6,60,1.14592E-5],pcstol:[0,6.66667E-9,1,2E-8,2,4.97098E-5,3,.001,4,.00109362,5,.00328087,6,.00497101],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,
102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,
102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,
102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,
102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,
3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,
29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077],pcsid:[2066,6,2136,5,2155,5,2157,3,2158,3,2159,5,2160,5,2219,3,2220,3,2244,5,2245,5,2256,5,2265,5,2266,5,2269,5,2270,5,2273,5,2290,3,2291,3,2294,3,
2295,3,2313,3,2314,5,2964,5,2967,5,2968,5,2991,3,2992,5,2993,3,2994,5,3073,3,3076,3,3079,3,3091,5,3106,3,3108,3,3109,3,3141,3,3142,3,3167,2,3337,3,3347,3,3348,3,3359,5,3360,3,3361,5,3362,3,3363,5,3364,3,3365,5,3366,5,3402,3,3403,3,3405,3,3406,3,3439,3,3440,3,3447,3,3449,3,3450,3,3453,5,3454,5,3460,3,3479,5,3480,3,3481,5,3482,3,3483,5,3484,3,3485,5,3486,3,3487,5,3488,3,3489,3,3490,5,3491,3,3492,5,3493,3,3494,5,3495,3,3496,5,3497,3,3498,5,3499,3,3500,5,3501,3,3502,5,3503,3,3504,5,3505,3,3506,5,3507,
3,3508,5,3509,3,3510,5,3511,3,3512,5,3513,3,3514,3,3515,5,3516,3,3517,5,3518,3,3519,5,3520,3,3521,5,3522,3,3523,5,3524,3,3525,5,3526,3,3527,5,3528,3,3529,5,3530,3,3531,5,3532,3,3533,5,3534,3,3535,5,3536,3,3537,5,3538,3,3539,5,3540,3,3541,5,3542,3,3543,5,3544,3,3545,5,3546,3,3547,5,3548,3,3549,5,3550,3,3551,5,3552,3,3553,5,3582,5,3583,3,3584,5,3585,3,3586,5,3587,3,3588,5,3589,3,3590,5,3591,3,3592,3,3593,5,3598,5,3599,3,3600,5,3605,5,3606,3,3607,3,3608,5,3609,3,3610,5,3611,3,3612,5,3613,3,3614,5,3615,
3,3616,5,3617,3,3618,5,3619,3,3620,5,3621,3,3622,5,3623,3,3624,5,3625,3,3626,5,3627,3,3628,5,3629,3,3630,5,3631,3,3632,5,3633,3,3634,5,3635,3,3636,5,3640,5,3641,3,3642,5,3643,3,3644,5,3645,3,3646,5,3647,3,3648,5,3649,3,3650,5,3651,3,3652,5,3653,3,3654,5,3655,3,3656,5,3657,3,3658,5,3659,3,3660,5,3661,3,3662,5,3663,3,3664,5,3668,5,3669,3,3670,5,3671,3,3672,5,3673,3,3674,5,3675,3,3676,5,3677,5,3678,3,3679,5,3680,5,3681,3,3682,5,3683,5,3684,3,3685,3,3686,5,3687,3,3688,5,3689,3,3690,5,3691,3,3692,5,3696,
5,3697,3,3698,5,3699,3,3700,5,3740,3,3749,3,3783,3,3784,3,3793,3,3794,3,3802,3,3816,3,3829,3,3854,3,3920,3,3978,3,3979,3,3991,5,3992,5,4026,3,4037,3,4038,3,4217,5,4438,5,4439,5,4467,3,4471,3,4474,3,4559,3,4839,3,5018,3,5048,3,5167,3,5168,3,5223,3,5234,3,5235,3,5243,3,5266,3,5316,3,5320,3,5321,3,5330,3,5331,3,5337,3,5361,3,5362,3,5382,3,5383,3,5396,3,5456,3,5457,3,5469,3,5472,4,5490,3,5518,3,5523,3,5559,3,5588,5,5589,5,5596,3,5627,3,5629,3,5641,3,5643,3,5644,3,5654,5,5655,5,5659,3,5700,3,5825,3,5836,
3,5837,3,5842,3,5844,3,5880,3,5887,3,5890,3,20499,3,20538,3,20539,3,20790,3,20791,3,21291,3,21292,3,21500,3,21817,3,21818,3,22032,3,22033,3,22091,3,22092,3,22332,3,22391,3,22392,3,22700,3,22770,3,22780,3,22832,3,23090,3,23095,3,23239,3,23240,3,23433,3,23700,3,24047,3,24048,3,24100,5,24200,3,24305,3,24306,3,24382,4,24383,3,24500,3,24547,3,24548,3,24571,2,24600,3,25E3,3,25231,3,25884,3,25932,3,26237,3,26331,3,26332,3,26591,3,26592,3,26632,3,26692,3,26855,5,26856,5,27120,3,27200,3,27291,4,27292,4,27429,
3,27492,3,27500,3,27700,3,28232,3,28600,3,28991,3,28992,3,29100,3,29220,3,29221,3,29333,3,29635,3,29636,3,29701,3,29738,3,29739,3,29849,3,29850,3,29871,2,29872,5,29873,3,29900,3,29901,3,29903,3,30200,6,30339,3,30340,3,30591,3,30592,3,30791,3,30792,3,31028,3,31121,3,31154,3,31170,3,31171,3,31370,3,31528,3,31529,3,31600,3,31700,3,31838,3,31839,3,31901,3,32061,3,32062,3,32098,3,32099,5,32100,3,32104,3,32161,3,32766,3,53034,3,53048,3,53049,3,54034,3,65061,5,65062,5,65161,3,65163,3,102041,5,102064,4,102068,
1,102069,0,102217,5,102218,3,102219,5,102220,5,102378,5,102379,5,102380,3,102381,5,102589,5,102599,5,102600,5,102604,5,102605,3,102606,3,102647,3,102704,5,102705,5,102733,5,102761,5,102762,3,102763,5,102764,3,102765,3,102766,5,102970,5,102974,5,102993,3,102994,3,102995,5,102996,5,103015,3,103016,5,103017,3,103018,5,103025,3,103026,3,103027,5,103028,5,103035,3,103036,3,103037,5,103038,5,103039,3,103040,3,103041,5,103042,5,103043,3,103044,3,103045,5,103046,5,103047,3,103048,3,103049,5,103050,5,103051,
3,103052,5,103053,3,103054,5,103055,3,103056,5,103057,3,103058,3,103059,5,103060,5,103061,3,103062,3,103063,5,103064,5,103069,5,103070,3,103071,3,103072,5,103073,5,103086,3,103087,3,103088,5,103089,5,103094,5,103095,3,103096,5,103103,3,103104,5,103105,3,103106,5,103121,3,103122,5,103123,3,103124,3,103125,5,103126,5,103127,3,103128,3,103129,5,103130,5,103131,3,103132,3,103133,5,103134,5,103135,3,103136,3,103137,5,103138,5,103139,3,103140,5,103141,3,103142,5,103143,3,103144,5,103145,3,103146,5,103147,
3,103148,3,103149,5,103150,5,103151,3,103152,5,103172,3,103173,5,103174,3,103175,3,103176,5,103177,5,103178,3,103179,3,103180,5,103181,5,103182,3,103183,3,103184,5,103185,5,103228,3,103229,3,103230,5,103231,5,103250,3,103251,5,103252,3,103253,5,103260,3,103261,3,103262,5,103263,5,103270,3,103271,3,103272,5,103273,5,103274,3,103275,3,103276,5,103277,5,103278,3,103279,3,103280,5,103281,5,103282,3,103283,3,103284,5,103285,5,103286,3,103287,5,103288,3,103289,5,103290,3,103291,5,103292,3,103293,3,103294,
5,103295,5,103296,3,103297,3,103298,5,103299,5,103376,5,103377,3,103378,3,103379,5,103380,5,103393,3,103394,3,103395,5,103396,5,103472,3,103473,5,103474,3,103475,5,103482,3,103483,5,103484,3,103485,5,103500,3,103501,5,103502,3,103503,3,103504,5,103505,5,103506,3,103507,3,103508,5,103509,5,103510,3,103511,3,103512,5,103513,5,103514,3,103515,5,103516,3,103517,5,103518,3,103519,5,103520,3,103521,5,103522,3,103523,3,103524,5,103525,5,103526,3,103527,5,103561,5,103562,5,103563,3,103564,3,103565,5,103566,
5,103567,3,103568,3,103569,5,103570,5,103585,5,103695,5],pcsidc:[[2E3,2045,3],[2056,2065,3],[2067,2135,3],[2137,2153,3],[2161,2170,3],[2172,2193,3],[2196,2198,3],[2200,2203,3],[2206,2217,3],[2222,2224,5],[2251,2253,5],[2280,2282,5],[2308,2311,3],[2315,2325,3],[2327,2394,3],[2400,2462,3],[2523,2576,3],[2578,2693,3],[2695,2758,3],[2867,2888,5],[2891,2930,5],[2931,2941,3],[2969,2973,3],[2975,2982,3],[2984,2988,3],[2995,3002,3],[3006,3051,3],[3054,3059,3],[3061,3066,3],[3068,3071,3],[3084,3087,3],[3112,
3118,3],[3120,3138,3],[3146,3151,3],[3153,3157,3],[3161,3166,3],[3168,3172,3],[3174,3203,3],[3294,3313,3],[3315,3335,3],[3339,3345,3],[3350,3358,3],[3367,3369,3],[3374,3399,3],[3408,3416,3],[3425,3432,5],[3441,3446,5],[3456,3459,5],[3465,3478,3],[3554,3559,3],[3561,3565,5],[3568,3570,5],[3571,3581,3],[3594,3597,3],[3601,3604,3],[3637,3639,3],[3665,3667,3],[3693,3695,3],[3701,3727,3],[3728,3733,5],[3744,3747,3],[3753,3758,5],[3761,3763,3],[3765,3769,3],[3779,3781,3],[3788,3791,3],[3797,3799,3],[3832,
3841,3],[3844,3852,3],[3873,3885,3],[3890,3893,3],[3907,3912,3],[3942,3950,3],[3968,3970,3],[3973,3976,3],[3986,3989,3],[3994,3997,3],[4399,4413,5],[4418,4433,5],[4491,4554,3],[5069,5072,3],[5105,5130,3],[5180,5184,3],[5253,5259,3],[5269,5275,3],[5292,5311,3],[5343,5349,3],[5355,5357,3],[5387,5389,3],[5459,5463,3],[5479,5482,3],[5530,5539,3],[5550,5552,3],[5562,5583,3],[5623,5625,5],[5631,5639,3],[5649,5653,3],[5663,5680,3],[5682,5685,3],[5875,5877,3],[20002,20032,3],[20062,20092,3],[20135,20138,
3],[20248,20258,3],[20348,20358,3],[20436,20440,3],[20822,20824,3],[20934,20936,3],[21035,21037,3],[21095,21097,3],[21148,21150,3],[21413,21423,3],[21473,21483,3],[21780,21782,3],[21891,21894,3],[22171,22177,3],[22181,22187,3],[22191,22197,3],[22234,22236,3],[22521,22525,3],[22991,22994,3],[23028,23038,3],[23830,23853,3],[23866,23872,3],[23877,23884,3],[23886,23894,3],[23946,23948,3],[24311,24313,3],[24342,24347,3],[24370,24374,4],[24375,24381,3],[24718,24721,3],[24817,24821,3],[24877,24882,3],[24891,
24893,3],[25391,25395,3],[25828,25838,3],[26191,26195,3],[26391,26393,3],[26703,26722,3],[26729,26760,5],[26766,26798,5],[26860,26870,5],[26891,26899,3],[26903,26923,3],[26929,26946,3],[26948,26998,3],[27037,27040,3],[27205,27232,3],[27258,27260,3],[27391,27398,3],[27561,27564,3],[27571,27574,3],[27581,27584,3],[27591,27594,3],[28191,28193,3],[28348,28358,3],[28402,28432,3],[28462,28492,3],[29118,29122,3],[29177,29185,3],[30161,30179,3],[30491,30494,3],[30729,30732,3],[31251,31259,3],[31265,31268,
3],[31275,31278,3],[31288,31297,3],[31461,31465,3],[31491,31495,3],[31917,31922,3],[31965,31985,3],[31992,32E3,3],[32001,32003,5],[32005,32031,5],[32033,32060,5],[32074,32077,5],[32081,32086,3],[32107,32130,3],[32133,32158,3],[32164,32167,5],[32180,32199,3],[32201,32260,3],[32301,32360,3],[32601,32662,3],[32664,32667,5],[32701,32761,3],[53001,53004,3],[53008,53019,3],[53021,53032,3],[53042,53046,3],[54001,54004,3],[54008,54019,3],[54021,54032,3],[54042,54046,3],[54048,54053,3],[102001,102040,3],[102042,
102063,3],[102065,102067,3],[102070,102112,3],[102114,102117,3],[102118,102121,5],[102122,102208,3],[102210,102216,3],[102221,102300,3],[102304,102377,3],[102382,102388,3],[102389,102391,5],[102401,102444,3],[102450,102452,3],[102461,102468,5],[102469,102492,3],[102500,102519,5],[102530,102549,3],[102570,102588,3],[102590,102598,3],[102601,102603,3],[102608,102628,3],[102629,102646,5],[102648,102672,5],[102675,102700,5],[102701,102703,3],[102707,102730,5],[102735,102758,5],[102767,102798,3],[102962,
102969,3],[102971,102973,3],[102975,102989,3],[102990,102992,5],[102997,103002,3],[103003,103008,5],[103009,103011,3],[103012,103014,5],[103019,103021,3],[103022,103024,5],[103029,103031,3],[103032,103034,5],[103065,103068,3],[103074,103076,3],[103077,103079,5],[103080,103082,3],[103083,103085,5],[103090,103093,3],[103097,103099,3],[103100,103102,5],[103107,103109,3],[103110,103112,5],[103113,103116,3],[103117,103120,5],[103153,103157,3],[103158,103162,5],[103163,103165,3],[103166,103171,5],[103186,
103188,3],[103189,103191,5],[103192,103195,3],[103196,103199,5],[103200,103224,3],[103225,103227,5],[103232,103237,3],[103238,103243,5],[103244,103246,3],[103247,103249,5],[103254,103256,3],[103257,103259,5],[103264,103266,3],[103267,103269,5],[103300,103375,3],[103381,103383,3],[103384,103386,5],[103387,103389,3],[103390,103392,5],[103397,103399,3],[103400,103471,5],[103476,103478,3],[103479,103481,5],[103486,103488,3],[103489,103491,5],[103492,103495,3],[103496,103499,5],[103539,103543,3],[103544,
103548,5],[103549,103551,3],[103552,103557,5],[103558,103560,3],[103571,103573,3],[103574,103576,5],[103577,103580,3],[103581,103583,5],[103600,103694,3],[103700,103793,5],[103794,103799,3]],gcsid:[4042,0,4075,0,4081,0,4168,0,4170,0,4188,0,4261,1,4262,0,4263,0,4288,0,4289,0,4305,1,4322,0,4324,0,4326,0,4466,0,4469,0,4475,0,4483,0,4490,0,4555,0,4558,0,4614,0,4619,0,4657,0,4670,0,4671,0,4674,0,4682,0,4683,0,4718,0,4720,0,4721,0,4723,0,4726,0,4737,0,4738,0,4759,0,4761,0,4807,1,4808,0,4809,0,4816,1,4817,
0,4818,0,4819,1,4820,0,4821,1,4823,0,4824,0,4901,1,4902,1,4903,0,4904,0,5228,0,5229,0,5233,0,5252,0,5264,0,5340,0,5354,0,5360,0,5371,0,5373,0,5381,0,5393,0,5464,0,5467,0,5489,0,5524,0,5527,0,5546,0,5561,0,5593,0,5681,0,5886,0,37225,1,37235,0,37257,0,37259,0,37260,0,104020,0,104139,1,104140,1,104223,0,104286,0,104287,0,104304,0,104305,0,104896,0,104900,5,104901,0,104902,0,104903,9,104904,2,104905,2,104906,59,104907,54,104908,0,104909,58,104910,31,104911,56,104912,6,104913,50,104914,41,104915,10,104916,
3,104917,30,104918,8,104919,60,104920,53,104921,44,104922,48,104923,51,104924,38,104925,0,104926,49,104927,57,104928,21,104929,23,104930,35,104931,49,104932,27,104933,17,104934,13,104935,7,104936,56,104937,40,104938,28,104939,37,104940,15,104941,55,104942,22,104943,4,104944,0,104945,20,104946,42,104947,47,104948,52,104949,43,104950,46,104951,39,104952,24,104953,16,104954,50,104955,36,104956,33,104957,46,104958,14,104959,19,104960,0,104961,34,104962,32,104963,29,104964,45,104965,26,104966,25,104967,
41,104968,11,104969,12,104970,18],gcsidc:[[4001,4016,0],[4018,4025,0],[4027,4029,0],[4031,4036,0],[4044,4047,0],[4052,4054,0],[4120,4166,0],[4172,4176,0],[4178,4185,0],[4190,4196,0],[4198,4216,0],[4218,4222,0],[4224,4232,0],[4234,4260,0],[4265,4267,0],[4269,4286,0],[4291,4303,0],[4306,4319,0],[4600,4610,0],[4621,4625,0],[4627,4633,0],[4636,4639,0],[4641,4646,0],[4659,4667,0],[4676,4680,0],[4686,4697,0],[4699,4706,0],[4740,4757,0],[4763,4765,0],[4801,4806,0],[4810,4812,1],[4813,4815,0],[37001,37008,
0],[37201,37208,0],[37211,37224,0],[37226,37233,0],[37237,37243,0],[37245,37247,0],[37249,37255,0],[104100,104138,0],[104141,104145,0],[104256,104261,0],[104700,104786,0],[104990,104992,0]]},t={c:[[2E3,2045,9001],[2056,2065,9001],[2067,2135,9001],[2137,2153,9001],[2161,2170,9001],[2172,2193,9001],[2196,2198,9001],[2200,2203,9001],[2206,2217,9001],[2222,2224,9002],[2251,2253,9002],[2280,2282,9002],[2308,2311,9001],[2315,2325,9001],[2327,2394,9001],[2400,2462,9001],[2523,2576,9001],[2578,2693,9001],
[2695,2758,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2941,9001],[2969,2973,9001],[2975,2982,9001],[2984,2988,9001],[2995,3002,9001],[3006,3051,9001],[3054,3059,9001],[3061,3066,9001],[3068,3071,9001],[3084,3087,9001],[3112,3118,9001],[3120,3138,9001],[3146,3151,9001],[3153,3157,9001],[3161,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3335,9001],[3339,3345,9001],[3350,3358,
9001],[3367,3369,9001],[3374,3399,9001],[3408,3416,9001],[3425,3432,9003],[3441,3446,9003],[3456,3459,9003],[3465,3478,9001],[3554,3559,9001],[3561,3565,9003],[3568,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3733,9003],[3744,3747,9001],[3753,3758,9003],[3761,3763,9001],[3765,3769,9001],[3779,3781,9001],[3788,3791,9001],[3797,3799,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3907,
3912,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4052,4054,9102],[4120,4166,9102],[4172,4176,9102],[4178,4185,9102],[4190,4196,9102],[4198,4216,9102],[4218,4222,9102],[4224,4232,9102],[4234,4260,9102],[4265,4267,9102],[4269,4286,9102],[4291,4303,9102],[4306,4319,9102],[4399,4413,9003],[4418,4433,9003],[4491,4554,9001],[4600,4610,9102],[4621,4625,9102],[4627,4633,9102],
[4636,4639,9102],[4641,4646,9102],[4659,4667,9102],[4676,4680,9102],[4686,4697,9102],[4699,4706,9102],[4740,4757,9102],[4763,4765,9102],[4801,4806,9102],[4810,4812,9105],[4813,4815,9102],[5069,5072,9001],[5105,5130,9001],[5180,5184,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5343,5349,9001],[5355,5357,9001],[5387,5389,9001],[5459,5463,9001],[5479,5482,9001],[5530,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,
9001],[5875,5877,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21891,21894,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,
23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26703,26722,9001],[26729,26760,9003],[26766,26798,9003],[26860,26870,9003],[26891,26899,9001],[26903,26923,9001],[26929,26946,9001],[26948,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],
[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29118,29122,9001],[29177,29185,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31278,9001],[31288,31297,9001],[31461,31465,9001],[31491,31495,9001],[31917,31922,9001],[31965,31985,9001],[31992,32E3,9001],[32001,32003,9003],[32005,32031,9003],[32033,32060,9003],[32074,32077,9003],[32081,32086,9001],[32107,32130,
9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37001,37008,9102],[37201,37208,9102],[37211,37224,9102],[37226,37233,9102],[37237,37243,9102],[37245,37247,9102],[37249,37255,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53042,53046,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[102001,102040,9001],[102042,102063,9001],
[102065,102067,9001],[102070,102112,9001],[102114,102117,9001],[102122,102208,9001],[102210,102216,9001],[102221,102300,9001],[102304,102377,9001],[102382,102388,9001],[102389,102391,9003],[102401,102444,9001],[102450,102452,9001],[102461,102468,9003],[102469,102492,9001],[102500,102519,9002],[102530,102549,9001],[102570,102588,9001],[102590,102598,9001],[102601,102603,9001],[102608,102628,9001],[102629,102646,9003],[102648,102672,9003],[102675,102700,9003],[102701,102703,9001],[102707,102730,9003],
[102735,102758,9003],[102767,102798,9001],[102962,102969,9001],[102971,102973,9001],[102975,102989,9001],[102990,102992,9002],[102997,103002,9001],[103003,103008,9003],[103009,103011,9001],[103012,103014,9003],[103019,103021,9001],[103022,103024,9003],[103029,103031,9001],[103032,103034,9003],[103065,103068,9001],[103074,103076,9001],[103077,103079,9002],[103080,103082,9001],[103083,103085,9003],[103090,103093,9001],[103097,103099,9001],[103100,103102,9003],[103107,103109,9001],[103110,103112,9003],
[103113,103116,9001],[103117,103120,9003],[103153,103157,9001],[103158,103162,9003],[103163,103165,9001],[103166,103168,9002],[103169,103171,9003],[103186,103188,9001],[103189,103191,9003],[103192,103195,9001],[103196,103199,9003],[103200,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103300,103375,9001],[103381,103383,9001],[103384,103386,9002],
[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103400,103471,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103600,103694,9001],[103700,103793,9003],[103794,103799,9001],[104100,104138,9102],
[104141,104145,9102],[104256,104261,9102],[104700,104786,9102],[104900,104970,9102],[104990,104992,9102]],nc:[2066,9039,2136,9094,2155,9003,2157,9001,2158,9001,2159,9094,2160,9094,2219,9001,2220,9001,2244,9003,2245,9003,2256,9002,2265,9002,2266,9002,2269,9002,2270,9002,2273,9002,2290,9001,2291,9001,2294,9001,2295,9001,2313,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2964,9003,2967,9003,2968,9003,2991,9001,2992,9002,2993,9001,2994,9002,3073,
9001,3076,9001,3079,9001,3091,9003,3106,9001,3108,9001,3109,9001,3141,9001,3142,9001,3167,9301,3337,9001,3347,9001,3348,9001,3359,9003,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3366,9005,3402,9001,3403,9001,3405,9001,3406,9001,3439,9001,3440,9001,3447,9001,3449,9001,3450,9001,3453,9003,3454,9003,3460,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,
3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,
9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,
3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,
9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3740,9001,3749,9001,3783,9001,3784,9001,3793,9001,3794,9001,3802,9001,3816,9001,3829,9001,3854,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4075,9102,4081,9102,4168,9102,4170,9102,4188,9102,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4305,9105,4322,9102,4324,9102,4326,9102,4438,9003,4439,9003,4466,9102,4467,9001,4469,9102,4471,9001,4474,9001,4475,9102,4483,9102,
4490,9102,4555,9102,4558,9102,4559,9001,4614,9102,4619,9102,4657,9102,4670,9102,4671,9102,4674,9102,4682,9102,4683,9102,4718,9102,4720,9102,4721,9102,4723,9102,4726,9102,4737,9102,4738,9102,4759,9102,4761,9102,4807,9105,4808,9102,4809,9102,4816,9105,4817,9102,4818,9102,4819,9105,4820,9102,4821,9105,4823,9102,4824,9102,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5018,9001,5048,9001,5167,9001,5168,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5252,9102,5264,9102,5266,
9001,5316,9001,5320,9001,5321,9001,5330,9001,5331,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5393,9102,5396,9001,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5518,9001,5523,9001,5524,9102,5527,9102,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,
5842,9001,5844,9001,5880,9001,5886,9102,5887,9001,5890,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23433,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,
9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,26855,9003,26856,9003,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27492,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29100,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,29900,9001,29901,9001,29903,9001,30200,9039,30339,9001,30340,9001,30591,9001,30592,
9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37225,9105,37235,9102,37257,9102,37259,9102,37260,9102,53034,9001,53048,9001,53049,9001,54034,9001,65061,9003,65062,9003,65161,9001,65163,9001,102041,9003,102064,9085,102068,109030,102069,109031,102118,9003,102119,9002,102120,9003,102121,9003,
102217,9003,102218,9001,102219,9003,102220,9003,102378,9002,102379,9002,102380,9001,102381,9002,102589,9003,102599,9003,102600,9003,102604,9003,102605,9001,102606,9001,102647,9001,102704,9003,102705,9003,102733,9003,102761,9003,102762,9001,102763,9003,102764,9001,102765,9001,102766,9003,102970,9002,102974,9003,102993,9001,102994,9001,102995,9003,102996,9003,103015,9001,103016,9003,103017,9001,103018,9003,103025,9001,103026,9001,103027,9003,103028,9003,103035,9001,103036,9001,103037,9003,103038,9003,
103039,9001,103040,9001,103041,9003,103042,9003,103043,9001,103044,9001,103045,9003,103046,9003,103047,9001,103048,9001,103049,9003,103050,9003,103051,9001,103052,9003,103053,9001,103054,9003,103055,9001,103056,9003,103057,9001,103058,9001,103059,9003,103060,9003,103061,9001,103062,9001,103063,9003,103064,9003,103069,9003,103070,9001,103071,9001,103072,9003,103073,9003,103086,9001,103087,9001,103088,9003,103089,9003,103094,9002,103095,9001,103096,9003,103103,9001,103104,9003,103105,9001,103106,9003,
103121,9001,103122,9003,103123,9001,103124,9001,103125,9002,103126,9002,103127,9001,103128,9001,103129,9003,103130,9003,103131,9001,103132,9001,103133,9003,103134,9003,103135,9001,103136,9001,103137,9002,103138,9002,103139,9001,103140,9003,103141,9001,103142,9003,103143,9001,103144,9003,103145,9001,103146,9002,103147,9001,103148,9001,103149,9003,103150,9003,103151,9001,103152,9003,103172,9001,103173,9003,103174,9001,103175,9001,103176,9003,103177,9003,103178,9001,103179,9001,103180,9003,103181,9003,
103182,9001,103183,9001,103184,9003,103185,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,
103296,9001,103297,9001,103298,9003,103299,9003,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,
103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103695,9003,104020,9102,104139,9105,104140,9105,104223,9102,104286,9102,104287,9102,104304,9102,104305,9102,104896,9102]},b=function(){function a(){}a.xG=function(c){!1===a.ul&&a.hq();var b=a.eU(c);if(-1==b){var h=a.Qv(c);h!=c&&(b=a.xG(h))}return b};a.eU=function(c){return void 0!==a.hv[c]?
a.hv[c]:-1};a.uS=function(c){!1===a.ul&&a.hq();var b=a.KF(c);if(1E38==b){var h=a.Qv(c);h!=c&&(b=a.KF(h));if(1E38==b)return 1E-10}return b};a.SU=function(c){if(void 0!==a.$p[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.$p[b]?!0:!1};a.UU=function(c){if(void 0!==a.Dj[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.Dj[b]?!0:!1};a.KF=function(c){!1===a.ul&&a.hq();return void 0!==a.$p[c]?a.$p[c]:void 0!==a.Dj[c]?a.Dj[c]:1E38};a.sZ=function(c){!1===a.ul&&a.hq();return void 0!==a.HC[c]?a.HC[c]:c};
a.Qv=function(c){!1===a.ul&&a.hq();return void 0!==a.PC[c]?a.PC[c]:c};a.hq=function(){for(var c=d,b,h=0;h<c.pcsid.length;h+=2)a.Dj[c.pcsid[h]]=c.pcstol[2*c.pcsid[h+1]+1];for(h=0;h<c.pcsidc.length;h+=1){b=c.pcsidc[h];for(var l=b[0];l<=b[1];l++)a.Dj[l]=c.pcstol[2*b[2]+1]}for(h=0;h<c.gcsid.length;h+=2)a.$p[c.gcsid[h]]=c.gcstol[2*c.gcsid[h+1]+1];for(h=0;h<c.gcsidc.length;h+=1)for(b=c.gcsidc[h],l=b[0];l<=b[1];l++)a.Dj[l]=c.gcstol[2*b[2]+1];for(h=0;h<t.c.length;h+=1)for(b=t.c[h],l=b[0];l<=b[1];l++)a.hv[l]=
b[2];for(h=0;h<t.nc.length;h+=2)a.hv[t.nc[h]]=t.nc[h+1];t=null;for(h=0;h<c.newtoold.length;h+=2)a.HC[c.newtoold[h+1]]=c.newtoold[h],a.PC[c.newtoold[h]]=c.newtoold[h+1];d=null;a.ul=!0};a.ul=!1;a.$p=[];a.Dj=[];a.HC=[];a.PC=[];a.hv=[];return a}();e.us=b})(m||(m={}));(function(e){function d(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var t=[],b=function(){function a(){}a.wS=function(c){try{for(var b=0;b<t.length;b++)if(t[b].wkttext===c)return t[b].unit;for(var h,
l=b="",u=!1,x=0;x<c.length;x++){var z=c[x];!0===u?'"'==z?'"'==c[x+1]?b+=z:u=!1:b+=z:/[\s]/.test(z)||(","==z?(l=""!==b?l+(d(b)+","):l+",",b=""):")"==z||"]"==z?(l=""!==b?l+(d(b)+"]}"):l+"]}",b=""):"("==z||"["==z?(l+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==z?(u=!0,b=""):b+=z)}h=JSON.parse(l);var g=a.pF(h);if(null===g)return null;h=null;for(z=0;z<g.values.length;z++)if("object"===typeof g.values[z]&&"UNIT"===g.values[z].entity){h=g.values[z];break}if(null===h)return null;var k=
e.oc.bR("GEOGCS"===g.entity?1:0,h.values[1],h.values[2]);t.push({wkttext:c,unit:k});10<t.length&&t.shift();return k}catch(Z){return null}};a.pF=function(c){if(null===c)return null;if("GEOGCS"===c.entity||"PROJCS"===c.entity)return c;for(var b=[],h=0;h<c.values.length;h++)if("object"===typeof c.values[h]&&void 0!==c.values[h].entity){if("GEOGCS"===c.values[h].entity||"PROJCS"==c.values[h].entity)return c.values[h];b.push(c.values[h])}for(c=0;c<b.length;c++)if(h=a.pF(b[c]),null!==h)return h;return null};
a.vS=function(a){var c=-1;if(null!=a&&0<a.length){var b,l;b=a.indexOf("PROJCS");if(0<=b){var e=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,l=a.indexOf("]",b+1),0<l)))try{e=parseFloat(a.substring(b,l))}catch(z){e=0}0<e&&(c=.001/e)}else if(b=a.indexOf("GEOGCS"),0<=b){var x=0,e=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;l=a.indexOf(",",b+1);if(0<l)try{x=parseFloat(a.substring(b,l))}catch(z){x=0}if(0<x&&(b=a.indexOf("UNIT",l+1),0<=b&&(b=a.indexOf(",",
b+4),0<b&&(b++,l=a.indexOf("]",b+1),0<l))))try{e=parseFloat(a.substring(b,l))}catch(z){e=0}}0<x&&0<e&&(c=.001/(x*e))}}return c};return a}();e.oE=b})(m||(m={}));(function(e){(function(e){e[e.NONE=0]="NONE";e[e.LINEAR=1]="LINEAR";e[e.ANGULAR=2]="ANGULAR"})(e.FM||(e.FM={}));(function(e){e[e.enumFloat=0]="enumFloat";e[e.enumDouble=1]="enumDouble";e[e.enumInt32=2]="enumInt32";e[e.enumInt64=3]="enumInt64";e[e.enumInt8=4]="enumInt8";e[e.enumInt16=5]="enumInt16"})(e.GN||(e.GN={}));(function(e){e[e.POSITION=
0]="POSITION";e[e.Z=1]="Z";e[e.M=2]="M";e[e.ID=3]="ID";e[e.NORMAL=4]="NORMAL";e[e.TEXTURE1D=5]="TEXTURE1D";e[e.TEXTURE2D=6]="TEXTURE2D";e[e.TEXTURE3D=7]="TEXTURE3D";e[e.ID2=8]="ID2";e[e.MAXSEMANTICS=10]="MAXSEMANTICS"})(e.Wc||(e.Wc={}));var d=function(){function d(b,a){this.Qt=this.af=null;this.Er=this.Ga=0;this.Sh=this.wg=null;this.bm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.wg=a.wg.slice(0);this.Sh=a.Sh.slice(0);this.bm=a.bm;this.Qt=[];for(a=b=0;a<this.Ga;a++)this.Qt[a]=b,b+=d.Xa(this.wg[a]);
this.Er=b;this.af=[];for(a=0;a<this.Ga;a++){b=d.Xa(this.rd(a));for(var c=d.de(this.rd(a)),f=0;f<b;f++)this.af[this.Qt[a]+f]=c}}else this.Er=this.Ga=0}d.prototype.rd=function(b){if(0>b||b>this.Ga)throw e.g.F();return this.wg[b]};d.prototype.mg=function(b){return this.Sh[b]};d.Wz=function(b){return d.tc[b]};d.si=function(b){return d.bd[b]};d.Mg=function(b){return d.fe[b]};d.Cj=function(b){return d.Mg(d.si(b))*d.Xa(b)};d.Xa=function(b){return d.Bb[b]};d.Wg=function(b){return 2>b};d.rk=function(b){return d.Wg(d.si(b))};
d.prototype.hasAttribute=function(b){return 0<=this.Sh[b]};d.prototype.uH=function(){return this.hasAttribute(1)};d.de=function(b){return d.$[b]};d.prototype.ET=function(b){return this.Qt[b]};d.PH=function(b,a){return d.$[b]===a};d.Oi=function(b){if(4==b)return 2;if(8==b)return 3;throw e.g.F();};d.prototype.Eb=function(b){return this===b};d.prototype.Ak=function(){for(var b=e.J.dh(this.wg[0]),a=1;a<this.Ga;a++)b=e.J.dh(this.wg[a],b);return b};d.prototype.xk=function(b){return this.Qt[b]};d.prototype.jc=
function(){return this.bm};d.prototype.Td=function(b){return this.wg[b]};d.$=[0,0,NaN,0,0,0,0,0,0];d.tc=[1,1,1,0,2,1,1,1,0];d.bd=[1,1,1,2,0,0,0,0,2];d.fe=[4,8,4,8,1,2];d.Bb=[2,1,1,1,3,1,2,3,2];return d}();e.ma=d})(m||(m={}));(function(e){function d(a,b,h,l){var c=a.Jd,f=a.e+b+1;1===h?l=5<=c[f]:2===h?l=5<c[f]||5==c[f]&&(l||0>f||void 0!==c[f+1]||c[f-1]&1):3===h?l=l||void 0!==c[f]||0>f:(l=!1,0!==h&&g("!Big.RM!"));if(1>f||!c[0])l?(a.e=-b,a.Jd=[1]):a.Jd=[a.e=0];else{c.length=f--;if(l)for(;9<++c[f];)c[f]=
0,f--||(++a.e,c.unshift(1));for(f=c.length;!c[--f];c.pop());}}function g(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(c){if(c instanceof a)this.me=c.me,this.e=c.e,this.Jd=c.Jd.slice();else{var f,l,e;0===c&&0>1/c?c="-0":b.test(c+="")||g(NaN);this.me="-"==c.charAt(0)?(c=c.slice(1),-1):1;-1<(f=c.indexOf("."))&&(c=c.replace(".",""));0<(l=c.search(/e/i))?(0>f&&(f=l),f+=+c.slice(l+1),c=c.substring(0,l)):0>f&&(f=c.length);for(l=0;"0"==c.charAt(l);l++);
if(l==(e=c.length))this.Jd=[this.e=0];else{for(;"0"==c.charAt(--e););this.e=f-l-1;this.Jd=[];for(f=0;l<=e;this.Jd[f++]=+c.charAt(l++));}}}a.prototype.abs=function(){var c=new a(this);c.me=1;return c};a.prototype.RF=function(){var c=0,b=this.Jd,l=(c=new a(c)).Jd,e=this.me,x=c.me,z=this.e,d=c.e;if(!b[0]||!l[0])return b[0]?e:l[0]?-x:0;if(e!=x)return e;c=0>e;if(z!=d)return z>(d^c)?1:-1;e=-1;for(x=(z=b.length)<(d=l.length)?z:d;++e<x;)if(b[e]!=l[e])return b[e]>(l[e]^c)?1:-1;return z==d?0:z>(d^c)?1:-1};
a.prototype.Wm=function(c){var b=this.Jd,f=(c=new a(c)).Jd,e=this.me==c.me?1:-1,x=a.bd;(x!==~~x||0>x||1E6<x)&&g("!Big.DP!");if(!b[0]||!f[0])return b[0]==f[0]&&g(NaN),f[0]||g(e/0),new a(0*e);var z,t,k,Z,m=f.slice(),n=z=f.length,p=b.length,r=b.slice(0,z),q=r.length,v=c,E=v.Jd=[],w=0,y=x+(v.e=this.e-c.e)+1;v.me=e;e=0>y?0:y;for(m.unshift(0);q++<z;r.push(0));do{for(t=0;10>t;t++){if(z!=(q=r.length))k=z>q?1:-1;else for(Z=-1,k=0;++Z<z;)if(f[Z]!=r[Z]){k=f[Z]>r[Z]?1:-1;break}if(0>k){for(c=q==z?f:m;q;){if(r[--q]<
c[q]){for(Z=q;Z&&!r[--Z];r[Z]=9);--r[Z];r[q]+=10}r[q]-=c[q]}for(;!r[0];r.shift());}else break}E[w++]=k?t:++t;r[0]&&k?r[q]=b[n]||0:r=[b[n]]}while((n++<p||void 0!==r[0])&&e--);E[0]||1==w||(E.shift(),v.e--);w>y&&d(v,x,a.Mg,void 0!==r[0]);return v};a.prototype.$T=function(){return 0<this.RF()};a.prototype.oV=function(){return 0>this.RF()};a.prototype.Zt=function(c){var b,f,e=this.me,x=(c=new a(c)).me;if(e!=x)return c.me=-x,this.EJ(c);var z=this.Jd.slice();f=this.e;var d=c.Jd,g=c.e;if(!z[0]||!d[0])return d[0]?
(c.me=-x,c):new a(z[0]?this:0);if(e=f-g){(b=0>e)?(e=-e,f=z):(g=f,f=d);f.reverse();for(x=e;x--;f.push(0));f.reverse()}else for(f=((b=z.length<d.length)?z:d).length,e=x=0;x<f;x++)if(z[x]!=d[x]){b=z[x]<d[x];break}b&&(f=z,z=d,d=f,c.me=-c.me);if(0<(x=(f=d.length)-(b=z.length)))for(;x--;z[b++]=0);for(x=b;f>e;){if(z[--f]<d[f]){for(b=f;b&&!z[--b];z[b]=9);--z[b];z[f]+=10}z[f]-=d[f]}for(;0==z[--x];z.pop());for(;0==z[0];)z.shift(),--g;z[0]||(c.me=1,z=[g=0]);c.Jd=z;c.e=g;return c};a.prototype.EJ=function(c){var b,
f=this.me;b=(c=new a(c)).me;if(f!=b)return c.me=-b,this.Zt(c);b=this.e;var e=this.Jd,x=c.e,z=c.Jd;if(!e[0]||!z[0])return z[0]?c:new a(e[0]?this:0*f);e=e.slice();if(f=b-x){0<f?(x=b,b=z):(f=-f,b=e);for(b.reverse();f--;b.push(0));b.reverse()}0>e.length-z.length&&(b=z,z=e,e=b);f=z.length;for(b=0;f;)b=(e[--f]=e[f]+z[f]+b)/10|0,e[f]%=10;b&&(e.unshift(b),++x);for(f=e.length;0==e[--f];e.pop());c.Jd=e;c.e=x;return c};a.prototype.pow=function(c){var b=this,f=new a(1),e=f,x=0>c;(c!==~~c||-1E6>c||1E6<c)&&g("!pow!");
for(c=x?-c:c;;){c&1&&(e=e.ds(b));c>>=1;if(!c)break;b=b.ds(b)}return x?f.Wm(e):e};a.prototype.round=function(c,b){var f=this;null==c?c=0:(c!==~~c||0>c||1E6<c)&&g("!round!");d(f=new a(f),c,null==b?a.Mg:b);return f};a.prototype.sqrt=function(){var c,b,e;b=this.Jd;c=this.me;e=this.e;var u=new a("0.5");if(!b[0])return new a(this);0>c&&g(NaN);c=Math.sqrt(this.toString());0==c||c==1/0?(c=b.join(""),c.length+e&1||(c+="0"),b=new a(Math.sqrt(c).toString()),b.e=((e+1)/2|0)-(0>e||e&1)):b=new a(c.toString());
c=b.e+(a.bd+=4);do e=b,b=u.ds(e.EJ(this.Wm(e)));while(e.Jd.slice(0,c).join("")!==b.Jd.slice(0,c).join(""));d(b,a.bd-=4,a.Mg);return b};a.prototype.ds=function(c){var b,f=this.Jd,e=(c=new a(c)).Jd,x=f.length,z=e.length,d=this.e,g=c.e;c.me=this.me==c.me?1:-1;if(!f[0]||!e[0])return new a(0*c.me);c.e=d+g;x<z&&(b=f,f=e,e=b,g=x,x=z,z=g);for(b=Array(g=x+z);g--;b[g]=0);for(d=z;d--;){z=0;for(g=x+d;g>d;)z=b[g]+e[d]*f[g-d-1]+z,b[g--]=z%10,z=z/10|0;b[g]=(b[g]+z)%10}z&&++c.e;b[0]||b.shift();for(d=b.length;!b[--d];b.pop());
c.Jd=b;return c};a.prototype.toString=function(){var a=this.e,c=this.Jd.join(""),b=c.length;if(-7>=a||21<=a)c=c.charAt(0)+(1<b?"."+c.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;c="0"+c);c="0."+c}else if(0<a)if(++a>b)for(a-=b;a--;c+="0");else a<b&&(c=c.slice(0,a)+"."+c.slice(a));else 1<b&&(c=c.charAt(0)+"."+c.slice(1));return 0>this.me&&this.Jd[0]?"-"+c:c};a.bd=20;a.Mg=1;return a}();e.Tp=a})(m||(m={}));(function(e){var d=function(){function b(a){this.Nf=a}b.prototype.hs=function(a,c,b){var f=
new e.b,l=new e.b,u=this.Nf;b.Gd(a,c,function(a,c){u.fc(2*a,f);u.fc(2*c,l);return f.compare(l)})};b.prototype.Qq=function(a){return this.Nf.read(2*a+1)};return b}(),g=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var c=a.G();return 1736==c?0==a.hf()?!1:!0:1607==c?(c=[!1],b.mE(a,!0,c),c[0]):197==c||e.T.Oc(c)&&!a.OH()?!0:!1};b.Rm=function(a){var c=a.G();if(1736==c)return c=new e.Ua(a.description),a.u()||a.xE(c),c;if(1607==c)return b.mE(a,!1,null);if(197==c)return c=new e.Ua(a.description),
a.u()||c.jd(a,!1),c;if(e.T.Oc(c)){c=new e.Ed(a.description);if(!a.u()&&!a.OH()){var f=new e.Wa;a.Dp(f);c.add(f);a.Bp(f);c.add(f)}return c}if(e.T.Jo(c))return null;throw e.g.F();};b.mE=function(a,c,b){null!=b&&(b[0]=!1);var f=null;c||(f=new e.Ed(a.description));if(!a.u()){var l=new e.ia(0);l.yb(2*a.aa());for(var u=0,x=a.aa();u<x;u++)if(0<a.La(u)&&!a.Eo(u)){var z=a.wa(u);l.add(z);z=a.Gc(u)-1;l.add(z)}if(0<l.size){x=new e.Hu;u=a.Pa(0);x.sort(l,0,l.size,new d(u));x=new e.b;u.fc(2*l.get(0),x);for(var z=
0,g=1,t=new e.Wa,k=new e.b,m=1,n=l.size;m<n;m++)if(u.fc(2*l.get(m),k),k.ub(x))l.get(z)>l.get(m)?(l.set(z,2147483647),z=m):l.set(m,2147483647),g++;else{if(0==(g&1))l.set(z,2147483647);else if(c)return null!=b&&(b[0]=!0),null;x.L(k);z=m;g=1}if(0==(g&1))l.set(z,2147483647);else if(c)return null!=b&&(b[0]=!0),null;if(!c)for(l.Gd(0,l.size,function(a,c){return a-c}),m=0,n=l.size;m<n&&2147483647!=l.get(m);m++)a.Ae(l.get(m),t),f.add(t)}}return c?null:f};return b}();e.Pi=g})(m||(m={}));(function(e){var d=
function(){function d(){this.ag=new e.ia(0);this.ut=new e.ia(0);this.UI=1;this.At=NaN}d.prototype.sort=function(b,a,c,f){if(32>c-a)f.hs(a,c,b);else{var h=!0;try{for(var e=Infinity,u=-Infinity,x=a;x<c;x++){var z=f.Qq(b.get(x));z<e&&(e=z);z>u&&(u=z)}if(this.reset(c-a,e,u,c-a)){for(x=a;x<c;x++){var d=b.get(x),z=f.Qq(d),g=this.LG(z);this.ag.set(g,this.ag.get(g)+1);this.ut.write(x-a,d)}var t=this.ag.get(0);this.ag.set(0,0);for(var x=1,k=this.ag.size;x<k;x++){var m=this.ag.get(x);this.ag.set(x,t);t+=m}for(x=
a;x<c;x++){var d=this.ut.read(x-a),z=f.Qq(d),g=this.LG(z),n=this.ag.get(g);b.set(n+a,d);this.ag.set(g,n+1)}h=!1}}catch(ha){this.ag.resize(0),this.ut.resize(0)}if(h)f.hs(a,c,b);else{x=c=0;for(k=this.ag.size;x<k;x++)h=c,c=this.ag.get(x),c>h&&f.hs(a+h,a+c,b);100<this.ag.size&&(this.ag.resize(0),this.ut.resize(0))}}};d.prototype.reset=function(b,a,c,f){if(2>b||c==a)return!1;b=Math.min(d.QV,b);this.ag.yb(b);this.ag.resize(b);this.ag.Zh(0,0,this.ag.size);this.UI=a;this.ut.resize(f);this.At=(c-a)/(b-1);
return!0};d.prototype.LG=function(b){return e.J.truncate((b-this.UI)/this.At)};d.QV=65536;return d}();e.Hu=d})(m||(m={}));(function(e){var d;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(d||(d={}));var g=function(){function a(){}a.Ev=function(c,b,f,h,d,g){var l=new a;l.un=new e.b;l.In=new e.b;l.Ow=new e.b;l.un.L(c);l.In.L(b);l.Ow.L(f);l.qp=h;l.Nh=d;l.Qh=g;return l};
a.pa=function(c,b,f,h){var l=new a;l.un=new e.b;l.In=new e.b;l.Ow=new e.b;l.un.L(c);l.In.L(b);l.Ow.$c();l.qp=4;l.Nh=f;l.Qh=h;return l};return a}(),b=function(){function a(a,c,b,f,h,e){this.Lw=null;this.Ca=0;this.jB=a;this.oJ=this.mJ=0;this.Qa=c;this.fk=b;this.Xk=f;this.tr=h;this.lc=e}a.prototype.next=function(){for(var a=new e.Wa;;){if(this.Ca==this.jB.D())return null;this.jB.Ae(this.Ca,a);this.Ca++;if(!a.u())break}var c=!1;null==this.Lw&&(this.mJ=a.Be(),this.oJ=a.nf(),this.Lw=f.buffer(a,this.Qa,
this.fk,this.Xk,this.tr,this.lc),c=!0);var b;this.Ca<this.jB.D()?(b=new e.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!c){var c=new e.Hd,h=a.Be()-this.mJ,a=a.nf()-this.oJ;c.Ag(h,a);b.Xc(c)}return b};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),a=function(){function a(a,c){this.$a=a;this.Ca=0;this.dr=c}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;this.Ca++;if(!a.Eo(c))for(var b=a.Ba(a.Gc(c)-1);this.Ca<a.aa();){var f=a.Ba(a.wa(this.Ca));
if(a.Eo(this.Ca))break;if(f!=b)break;b=a.Ba(a.Gc(this.Ca)-1);this.Ca++}if(1==this.Ca-c)return this.$a.xF(this.$a.Y,c,this.dr);b=new e.Ua(this.$a.Y.description);b.Ti(this.$a.Y,c,!0);for(c+=1;c<this.Ca;c++)b.Bs(this.$a.Y,c,0,a.ew(c),!1);return this.$a.xF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),c=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;a.Sm(this.Ca);
for(this.Ca++;this.Ca<a.aa()&&!(0<a.Sm(this.Ca));)this.Ca++;return 0==c&&this.Ca==a.aa()?this.$a.Wy(a,0,a.aa()):this.$a.Wy(a,c,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),f=function(){function f(a){this.Ft=this.Zw=this.Gt=this.Wd=null;this.te=[];this.lc=a;this.vb=this.xw=this.HV=this.Qa=this.ZA=this.Vt=this.ta=0;this.WA=this.Xk=-1;this.dr=!0}f.buffer=function(a,c,b,h,d,g){if(null==a)throw e.g.F();if(0>h)throw e.g.F();if(a.u())return new e.Ja(a.description);
var l=new e.h;a.ac(l);0<c&&l.O(c,c);g=new f(g);g.fk=b;g.Y=a;g.ta=e.na.be(b,l,!0);g.Vt=e.na.be(null,l,!0);g.Qa=c;g.HV=a.G();0>=d&&(d=96);g.vb=Math.abs(g.Qa);g.xw=0!=g.vb?1/g.vb:0;isNaN(h)||0==h?h=1E-5*g.vb:h>.5*g.vb&&(h=.5*g.vb);12>d&&(d=12);a=Math.abs(c)*(1-Math.cos(Math.PI/d));a>h?h=a:(a=Math.PI/Math.acos(1-h/Math.abs(c)),a<d-1&&(d=e.J.truncate(a),12>d&&(d=12,h=Math.abs(c)*(1-Math.cos(Math.PI/d)))));g.Xk=h;g.tr=d;g.ZA=Math.min(g.Vt,.25*h);return g.yF()};f.prototype.Rv=function(){if(null==this.Wd)this.Wd=
[];else if(0!==this.Wd.length)return;var a=this.CF(),a=e.J.truncate((a+3)/4),c=.5*Math.PI/a;this.WA=c;for(var b=0;b<4*a;b++)this.Wd.push(null);for(var f=Math.cos(c),c=Math.sin(c),h=e.b.pa(0,1),b=0;b<a;b++)this.Wd[b+0*a]=e.b.pa(h.y,-h.x),this.Wd[b+1*a]=e.b.pa(-h.x,-h.y),this.Wd[b+2*a]=e.b.pa(-h.y,h.x),this.Wd[b+3*a]=h,h=e.b.pa(h.x,h.y),h.qu(f,c)};f.prototype.yF=function(){var a=this.Y.G();if(e.T.Oc(a))return a=new e.Ua(this.Y.description),a.dc(this.Y,!0),this.Y=a,this.yF();if(this.Qa<=this.ta)if(e.T.OU(a)){if(0>=
this.Qa&&(a=new e.h,this.Y.s(a),a.N()<=2*-this.Qa||a.fa()<=2*this.Qa))return new e.Ja(this.Y.description)}else return new e.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.SP();case 550:return this.RP();case 1607:return this.UP();case 1736:return this.TP();case 197:return this.PP();default:throw e.g.za();}};f.prototype.UP=function(){if(this.QH(this.Y)){var c=new e.Wa;this.Y.Ae(0,c);var b=new e.h;this.Y.s(b);c.rb(b.Wf());return this.rv(c)}this.Y=this.OW(this.Y);c=new a(this,this.dr);
return e.ei.local().V(c,this.fk,this.lc).next()};f.prototype.TP=function(){if(0==this.Qa)return this.Y;var a=e.Km.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.lc);if(0>this.Qa){var b=this.Y,b=this.Wy(b,0,b.aa());return a.V(b,this.fk,!1,this.lc)}if(this.QH(this.Y))return a=new e.Wa,this.Y.Ae(0,a),b=new e.h,this.Y.s(b),a.rb(b.Wf()),this.rv(a);a=new c(this);return e.ei.local().V(a,this.fk,this.lc).next()};f.prototype.Wy=function(a,c,b){for(var h=new e.Ja(a.description);c<b;c++)if(!(1>a.La(c))){var l=
a.Sm(c),u=new e.h;a.jk(c,u);if(0<this.Qa)if(0<l)if(this.RH(a,c))l=new e.Wa,a.Ae(a.wa(c),l),l.rb(u.Wf()),this.iv(h,l);else{var x=l=new e.Ua(a.description),x=e.Ju.VH(this.Y,c)||2==this.to(this.Y,c,x,!0,1)?this.wF(a,c):this.so(l);h.add(x,!1)}else{if(!(u.N()+this.ta<=2*this.vb||u.fa()+this.ta<=2*this.vb||(x=l=new e.Ua(a.description),this.to(this.Y,c,x,!0,1),l.u()))){var d=new e.h;d.I(u);d.O(this.vb,this.vb);x.oq(d);x=this.so(l);u=1;for(l=x.aa();u<l;u++)h.Ti(x,u,!0)}}else if(0<l){if(!(u.N()+this.ta<=2*
this.vb||u.fa()+this.ta<=2*this.vb||(x=l=new e.Ua(a.description),this.to(this.Y,c,x,!0,-1),l.u())))for(d=new e.h,x.ac(d),d.O(this.vb,this.vb),x.oq(d),x=this.so(l),u=1,l=x.aa();u<l;u++)h.Ti(x,u,!0)}else for(x=l=new e.Ua(a.description),this.to(this.Y,c,x,!0,-1),x=this.so(l),u=0,l=x.aa();u<l;u++)h.Ti(x,u,!0)}if(0<this.Qa)return 1<h.aa()?h=this.so(h):f.We(h);a=new e.h;h.ac(a);if(h.u())return f.We(h);a.O(this.vb,this.vb);h.oq(a);h=this.so(h);a=new e.Ja(h.description);u=1;for(l=h.aa();u<l;u++)a.Ti(h,u,
!1);return f.We(a)};f.prototype.SP=function(){return this.rv(this.Y)};f.prototype.rv=function(a){var c=new e.Ja(this.Y.description);this.iv(c,a);return this.nY(c)};f.prototype.RP=function(){var a=new b(this.Y,this.Qa,this.fk,this.Xk,this.tr,this.lc);return e.ei.local().V(a,this.fk,this.lc).next()};f.prototype.PP=function(){var a=new e.Ja(this.Y.description);if(0>=this.Qa){if(0==this.Qa)a.jd(this.Y,!1);else{var c=new e.ci;this.Y.Qn(c);c.O(this.Qa,this.Qa);a.jd(c,!1)}return a}a.jd(this.Y,!1);this.Y=
a;return this.wF(a,0)};f.prototype.wF=function(a,c){this.Rv();var b=new e.Ja(a.description),h=new e.b,l=new e.b,u=new e.b,d=new e.b,g=new e.b,t=new e.b,k=new e.b,m=new e.b,n=a.La(c),p=a.wa(c),r=0;for(c=a.La(c);r<c;r++){a.w(p+r,l);a.w(p+(r+1)%n,d);a.w(p+(r+2)%n,t);k.zc(d,l);if(0==k.length())throw e.g.za();k.uw();k.normalize();k.scale(this.vb);h.add(k,l);u.add(k,d);0==r?b.zu(h):b.aj(h);b.aj(u);m.zc(t,d);if(0==m.length())throw e.g.za();m.uw();m.normalize();m.scale(this.vb);g.add(m,d);this.XE(b,d,u,g,
!1)}return f.We(b)};f.prototype.xF=function(a,c,b){this.Rv();if(1>a.La(c))return null;if(this.RH(a,c)&&0<this.Qa){b=new e.Wa;a.Ae(a.wa(c),b);var f=new e.h;a.jk(c,f);b.rb(f.Wf());return this.rv(b)}f=new e.Ua(a.description);if(a.Eo(c))this.to(a,c,f,b,1),this.to(a,c,f,b,-1);else{var h=new e.Ua(a.description);h.Ti(a,c,!1);h.Bs(a,c,0,a.ew(c),!1);this.to(h,0,f,b,1)}return this.so(f)};f.prototype.Pr=function(){this.kx++};f.prototype.so=function(a){return e.Dg.ol(a,this.Vt,!0,!0,this.lc)};f.prototype.CF=
function(){if(0==this.Xk)return this.tr;var a=1-this.Xk*Math.abs(this.xw),c;-1>a?c=4:c=2*Math.PI/Math.acos(a)+.5;4>c?c=4:c>this.tr&&(c=this.tr);return e.J.truncate(c)};f.prototype.XE=function(a,c,b,f,h){this.Rv();var l=new e.b;l.zc(b,c);l.scale(this.xw);var u=new e.b;u.zc(f,c);u.scale(this.xw);l=Math.atan2(l.y,l.x)/this.WA;0>l&&(l=this.Wd.length+l);l=this.Wd.length-l;u=Math.atan2(u.y,u.x)/this.WA;0>u&&(u=this.Wd.length+u);u=this.Wd.length-u;u<l&&(u+=this.Wd.length);var x=e.J.truncate(u),u=e.J.truncate(Math.ceil(l)),
l=new e.b;l.L(this.Wd[u%this.Wd.length]);l.ru(this.vb,c);var d=10*this.ta;l.sub(b);l.length()<d&&(u+=1);l.L(this.Wd[x%this.Wd.length]);l.ru(this.vb,c);l.sub(f);l.length()<d&&--x;b=x-u;b++;x=0;for(u%=this.Wd.length;x<b;x++,u=(u+1)%this.Wd.length)l.L(this.Wd[u]),l.ru(this.vb,c),a.aj(l),this.Pr();h&&a.aj(f)};f.prototype.to=function(a,c,b,f,h){var l=new e.fd,u=l.kP(a,c);l.zq(this.ZA,!1,!1);if(2>l.D(u)){if(0>h)return 1;h=a;l=new e.Wa;h.Ae(h.wa(c),l);this.iv(b,l);return 1}var x=l.Ba(l.cb(l.Pb(u))),d=new e.Hd;
d.Ag(-x.x,-x.y);l.Xc(d);if(f&&(this.oS(l,u,h),2>l.D(u))){if(0>h)return 1;h=a;l=new e.Wa;h.Ae(h.wa(c),l);this.iv(b,l);return 1}this.te.length=0;var z=l.Pb(u);c=l.cb(z);var t=1==h?l.Ra(c):l.U(c);a=1==h?l.U(c):l.Ra(c);var k=!0;f=new e.b;for(var u=new e.b,S=new e.b,m=new e.b,n=new e.b,p=new e.b,r=new e.b,q=new e.b,v=new e.b,E=new e.b,w=this.vb,z=l.La(z),y=0;y<z;y++)l.w(a,u),k&&(l.w(c,f),l.w(t,S),q.zc(f,S),q.normalize(),E.aI(q),E.scale(w),m.add(E,f)),r.zc(u,f),r.normalize(),v.aI(r),v.scale(w),n.add(f,
v),t=q.Ui(r),k=q.oi(r),0>t||0>k&&0==t?this.te.push(g.Ev(m,n,f,2,this.te.length+1,this.te.length-1)):m.ub(n)||(this.te.push(g.pa(m,f,this.te.length+1,this.te.length-1,"dummy")),this.te.push(g.pa(f,n,this.te.length+1,this.te.length-1,"dummy"))),p.add(u,v),this.te.push(g.Ev(n,p,f,1,this.te.length+1,this.te.length-1)),m.L(p),E.L(v),S.L(f),f.L(u),q.L(r),t=c,c=a,k=!1,a=1==h?l.U(c):l.Ra(c);this.te[this.te.length-1].Nh=0;this.te[0].Qh=this.te.length-1;this.QW(b);d.Ag(x.x,x.y);b.kF(d,b.aa()-1);return 1};f.prototype.QW=
function(a){for(var c=this.CQ(),b=!0,f=c+1,h=c;f!=c;h=f){var e=this.te[h],f=-1!=e.Nh?e.Nh:(h+1)%this.te.length;0!=e.qp&&(b&&a.zu(e.un),2==e.qp?this.XE(a,e.Ow,e.un,e.In,!0):a.aj(e.In),b=!1)}};f.prototype.CQ=function(){null==this.Ft&&(this.Ft=[null,null,null,null,null,null,null,null,null]);for(var a=0,c=0,b=this.te.length;c<b;){var f=this.te[c];if(0!=(f.qp&3)){a=c;break}c=f.Nh}b=a+1;for(c=a;b!=a;c=b){for(var f=this.te[c],b=f.Nh,h=1,d=null;b!=c;){d=this.te[b];if(0!=(d.qp&3))break;b=d.Nh;h++}1!=h&&1==
(f.qp&d.qp)&&(null==this.Gt&&(this.Gt=new e.Hb,this.Zw=new e.Hb),this.Gt.Mc(f.un),this.Gt.Zc(f.In),this.Zw.Mc(d.un),this.Zw.Zc(d.In),1==this.Gt.Ma(this.Zw,this.Ft,null,null,this.Vt)&&(f.In.L(this.Ft[0]),d.un.L(this.Ft[0]),f.Nh=b,d.Qh=c))}return a};f.prototype.sw=function(a,c,b){var f=new e.b;f.zc(b,a);b=f.length();b=this.vb*this.vb-b*b*.25;if(0<b){b=Math.sqrt(b);f.normalize();f.Ur();var h=new e.b;h.zc(c,a);if(h.oi(f)+b>=this.vb)return!0}return!1};f.prototype.oS=function(a,c,b){for(var f=0;1>f;f++){var h=
!1,l=a.Pb(c),u=a.La(l);if(0==u)break;var x=u;if(3>u)break;!a.Qb(l)&&(x=u-1);for(var l=a.cb(l),u=0<b?a.Ra(l):a.U(l),d=0<b?a.U(l):a.Ra(l),g=u,t=!0,k=new e.b,m=new e.b,n=new e.b,p=new e.b,r=new e.b,q=e.b.pa(0,0),v=new e.b,E=new e.b,w=new e.b,y=new e.b,A=this.vb,B=0,D=0;D<x;){a.w(d,m);t&&(a.w(l,k),a.w(u,n),g=u);E.zc(k,n);E.normalize();v.zc(m,k);v.normalize();if(g==d)break;var C=E.Ui(v),G=E.oi(v),I=!0;0>C||0>G&&0==C||!this.sw(n,k,m)||(q.L(m),I=!1,++B,h=!0);if(I){if(0<B)for(;;){C=0<b?a.Ra(g):a.U(g);if(C==
l)break;a.w(C,p);if(this.sw(p,n,q))n.L(p),g=C,I=!1,++B;else{C!=d&&this.sw(p,n,m)&&this.sw(p,k,m)&&(n.L(p),g=C,I=!1,++B);break}}if(!I)continue;if(0<B){g=0<b?a.Ra(u):a.U(u);for(t=1;t<B;t++)I=0<b?a.Ra(g):a.U(g),a.ud(g,!0),g=I;w.zc(k,n);B=w.length();B=A*A-B*B*.25;B=Math.sqrt(B);A-B>.5*this.Xk?(r.add(n,k),r.scale(.5),w.normalize(),w.Ur(),y.L(w),y.scale(A-B),r.add(y),a.Qf(u,r)):a.ud(u,!0);B=0}n.L(k);g=l}k.L(m);u=l;l=d;d=0<b?a.U(l):a.Ra(l);D++;t=!1}if(0<B){g=0<b?a.Ra(u):a.U(u);for(t=1;t<B;t++)I=0<b?a.Ra(g):
a.U(g),a.ud(g,!0),g=I;r.add(n,k);r.scale(.5);w.zc(k,n);B=w.length();B=A*A-B*B*.25;B=Math.sqrt(B);w.normalize();w.Ur();y.L(w);y.scale(A-B);r.add(y);a.Qf(u,r)}a.zq(this.ZA,!1,!1);if(!h)break}};f.prototype.RH=function(a,c){if(1==a.La(c))return!0;var b=new e.h;a.jk(c,b);return Math.max(b.N(),b.fa())<.5*this.Xk?!0:!1};f.prototype.QH=function(a){var c=new e.h;a.s(c);return Math.max(c.N(),c.fa())<.5*this.Xk?!0:!1};f.prototype.OW=function(a){a=e.GD.local().V(a,.25*this.Xk,!1,this.lc);for(var c=0,b=0,f=a.aa();b<
f;b++)c=Math.max(a.La(b),c);if(32>c)return this.dr=!1,a;this.dr=!0;return e.Dg.ol(a,this.Vt,!1,!0,this.lc)};f.prototype.iv=function(a,c){c=c.w();if(null!=this.Wd&&0!==this.Wd.length){var b=new e.b;b.L(this.Wd[0]);b.ru(this.vb,c);a.zu(b);for(var f=1,h=this.Wd.length;f<h;f++)b.L(this.Wd[f]),b.ru(this.vb,c),a.aj(b)}else for(var f=this.CF(),b=e.J.truncate((f+3)/4),f=.5*Math.PI/b,h=Math.cos(f),l=Math.sin(f),u=new e.b,d=3;0<=d;d--){u.ka(0,this.vb);switch(d){case 0:for(f=0;f<b;f++)a.Xj(u.x+c.x,u.y+c.y),
u.qu(h,l);break;case 1:for(f=0;f<b;f++)a.Xj(-u.y+c.x,u.x+c.y),u.qu(h,l);break;case 2:for(f=0;f<b;f++)a.Xj(-u.x+c.x,-u.y+c.y),u.qu(h,l);break;default:for(a.$x(u.y+c.x,-u.x+c.y),f=1;f<b;f++)u.qu(h,l),a.Xj(u.y+c.x,-u.x+c.y)}this.Pr()}};f.We=function(a){a.Zg(1,0);return a};f.prototype.nY=function(a){a.Zg(2,this.ta);a.Al();return a};return f}();e.PL=f})(m||(m={}));(function(e){var d=function(){function d(b){this.Ha=b;this.a=new e.fd;this.od=new e.ia(0)}d.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<
c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};d.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,h=new e.h,l=new e.b,u=new e.b,x=[0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0];new e.Cg;var g=
new e.Hb,t=new e.ia(0);t.yb(Math.min(100,b.D()));for(var k=!1,m=0;!k&&4>m;m++){var n=!1,p=0!=(m&1),r=0;switch(m){case 0:r=this.Ha.o;n=a.o<=r&&a.v>=r;break;case 1:r=this.Ha.A;n=a.A<=r&&a.B>=r;break;case 2:r=this.Ha.v;n=a.o<=r&&a.v>=r;break;case 3:r=this.Ha.B,n=a.A<=r&&a.B>=r}if(n)for(k=!0,n=this.a.Pb(this.Y);-1!=n;){var q=-1,v=-1,E=this.a.cb(n),w=E;do{var y=this.a.ic(w);null==y&&(y=g,this.a.w(w,l),y.Mc(l),this.a.w(this.a.U(w),u),y.Zc(u));y.s(f);var A=this.ji(f,m,r),B=0,D=-1;if(-1==A){y=y.Tq(p,r,x,
d);0<y?B=this.a.zm(w,d,y):B=0;for(var B=B+1,C=w,G=this.a.U(C),y=0;y<B;y++){this.a.w(C,l);this.a.w(G,u);D=this.a.ic(C);null==D&&(D=g,D.Mc(l),D.Zc(u));D.s(h);D=this.ji(h,m,r);if(-1==D){if(p)D=Math.abs(l.y-r),I=Math.abs(u.y-r),D<I?(l.y=r,this.a.Qf(C,l)):(u.y=r,this.a.Qf(G,u));else{var D=Math.abs(l.x-r),I=Math.abs(u.x-r);D<I?(l.x=r,this.a.Qf(C,l)):(u.x=r,this.a.Qf(G,u))}D=this.a.ic(C);null==D&&(D=g,D.Mc(l),D.Zc(u));D.s(h);D=this.ji(h,m,r)}I=q;q=D;-1==v&&(v=q);if(0!=I||1!=q)1==I&&0==q||0!=I||0!=q||t.add(C);
1==q&&(k=!1);D=C=G;G=this.a.U(G)}}if(0==B){I=q;q=A;-1==v&&(v=q);if(0!=I||1!=q)1==I&&0==q||0!=I||0!=q||t.add(w);1==q&&(k=!1);D=this.a.U(w)}w=D}while(w!=E);0==v&&0==q&&t.add(E);y=0;for(q=t.size;y<q;y++)v=t.get(y),this.a.ud(v,!1);t.clear(!1);n=3>this.a.La(n)?this.a.Rr(n):this.a.Sb(n)}}if(k)return b.Ka();this.fC();0<c&&this.vz(c);return this.a.Se(this.Y)};d.prototype.jz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0],l=new e.Cg,u=b,x=new e.h;b.ac(x);for(var d=0;4>d;d++){var g=
!1,t=0!=(d&1),k=0;switch(d){case 0:k=this.Ha.o;g=x.o<=k&&x.v>=k;break;case 1:k=this.Ha.A;g=x.A<=k&&x.B>=k;break;case 2:k=this.Ha.v;g=x.o<=k&&x.v>=k;break;case 3:k=this.Ha.B,g=x.A<=k&&x.B>=k}if(g){g=u;u=b.Ka();g=g.Fa();g.yj();for(var m,n=new e.b;g.Ya();)for(var p,r=!0;g.Ea();){var q=g.ba();q.s(a);var v=this.ji(a,d,k);if(-1==v){if(v=q.Tq(t,k,f,h),0<v){var E=0;m=q.ec();for(var w=0;w<=v;w++)if(p=w<v?h[w]:1,E!=p){q.yh(E,p,l);var y=l.get();y.Mc(m);w<v&&(t?(n.x=f[w],n.y=k):(n.x=k,n.y=f[w]),y.Zc(n));y.s(c);
var A=this.ji(c,d,k);if(-1==A){m=y.ec();E=y.Cc();if(t)A=Math.abs(m.y-k),B=Math.abs(E.y-k),A<B?(m.y=k,y.Mc(m)):(E.y=k,y.Zc(E));else{var A=Math.abs(m.x-k),B=Math.abs(E.x-k);A<B?(m.x=k,y.Mc(m)):(E.x=k,y.Zc(E))}y.s(c);A=this.ji(c,d,k)}m=y.Cc();E=p;p=A;1==p?(u.dc(y,r),r=!1):r=!0}}}else p=v,1==p?(u.dc(q,r),r=!1):r=!0}}}return u};d.prototype.fC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();
for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,h=this.a.La(a);f<h;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Cz()};d.prototype.vz=function(b){for(var a=new e.b,c=new e.b,f=e.J.gf(2048,0),h=this.a.Pb(this.Y);-1!=h;h=this.a.Sb(h)){var l=this.a.cb(h),u=l;do{var x=this.a.U(u);
this.a.w(u,a);var d=-1;a.x==this.Ha.o?(this.a.w(x,c),c.x==this.Ha.o&&(d=1)):a.x==this.Ha.v&&(this.a.w(x,c),c.x==this.Ha.v&&(d=1));a.y==this.Ha.A?(this.a.w(x,c),c.y==this.Ha.A&&(d=0)):a.y==this.Ha.B&&(this.a.w(x,c),c.y==this.Ha.B&&(d=0));if(-1!=d&&(d=e.b.Cb(a,c),d=e.J.truncate(Math.min(Math.ceil(d/b),2048)),!(1>=d))){for(var g=1;g<d;g++)f[g-1]=1*g/d;this.a.zm(u,f,d-1)}u=x}while(u!=l)}};d.prototype.Am=function(b,a){var c=this.a.Vd(),f=new e.b,h=new e.ia(0);h.yb(100);for(var l=this.a.Pb(this.Y);-1!=
l;l=this.a.Sb(l))for(var u=this.a.cb(l),x=0,d=this.a.La(l);x<d;x++){var g=this.a.U(u);this.a.w(u,f);if(b?f.y==a:f.x==a)if(this.a.w(g,f),b?f.y==a:f.x==a)1!=this.a.Sa(u,c)&&(h.add(u),this.a.Va(u,c,1)),1!=this.a.Sa(g,c)&&(h.add(g),this.a.Va(g,c,1));u=g}this.a.le(c);if(!(3>h.size)){var t=this;h.Gd(0,h.size,function(a,c){return t.ki(a,c)});c=new e.b;l=new e.b;u=new e.b;l.$c();for(var k=-1,x=new e.ia(0),d=new e.ia(0),g=this.a.Vd(),m=this.a.Vd(),n=0,p=h.size;n<p;n++){var r=h.get(n);this.a.w(r,f);if(!f.ub(l)){if(-1!=
k){for(var q=k;q<n;q++){var k=h.get(q),v=this.a.U(k),r=this.a.Ra(k),E=!1;0>this.ki(k,v)&&(this.a.w(v,c),b?c.y==a:c.x==a)&&(x.add(k),E=!0,this.a.Va(k,m,1));0>this.ki(k,r)&&(this.a.w(r,c),b?c.y==a:c.x==a)&&(E||x.add(k),this.a.Va(k,g,1))}q=0;for(E=x.size;q<E;q++){k=x.get(q);r=this.a.Sa(k,g);v=this.a.Sa(k,m);if(1==r){r=this.a.Ra(k);this.a.w(r,u);var w=[0];w[0]=0;if(!u.ub(f)){var y=e.b.Cb(l,u);w[0]=e.b.Cb(u,f)/y;0==w[0]?w[0]=2.220446049250313E-16:1==w[0]&&(w[0]=.9999999999999998);this.a.zm(r,w,1);r=this.a.Ra(k);
this.a.Qf(r,f);d.add(r);this.a.Va(r,g,1);this.a.Va(r,m,-1)}}1==v&&(v=this.a.U(k),this.a.w(v,u),w=[0],w[0]=0,u.ub(f)||(y=e.b.Cb(l,u),w[0]=e.b.Cb(l,f)/y,0==w[0]?w[0]=2.220446049250313E-16:1==w[0]&&(w[0]=.9999999999999998),this.a.zm(k,w,1),r=this.a.U(k),this.a.Qf(r,f),d.add(r),this.a.Va(r,g,-1),this.a.Va(r,m,1)))}k=x;x=d;d=k;d.clear(!1)}k=n;l.L(f)}}this.a.le(g);this.a.le(m)}};d.prototype.sm=function(b,a){var c=new e.b,f=new e.ia(0);f.yb(100);for(var h=this.a.Vd(),l=0,u=this.od.size;l<u;l++){var x=this.od.get(l);
if(-1!=x){var d=this.a.U(x);this.a.w(x,c);if(b?c.y==a:c.x==a)if(this.a.w(d,c),b?c.y==a:c.x==a)-2!=this.a.Sa(x,h)&&(f.add(x),this.a.Va(x,h,-2)),-2!=this.a.Sa(d,h)&&(f.add(d),this.a.Va(d,h,-2))}}if(0!=f.size){var g=this;f.Gd(0,f.size,function(a,c){return g.ki(a,c)});l=0;for(u=f.size;l<u;l++){var t=f.get(l);this.a.Va(t,h,l)}x=new e.b;d=new e.b;d.$c();for(var k=-1,l=0,u=f.size;l<u;l++)if(t=f.get(l),-1!=t&&(this.a.w(t,c),!c.ub(d))){if(-1!=k)for(;;){for(var t=!1,m=1<l-k?l-1:l,n=k;n<m;n++){var p=f.get(n);
if(-1!=p){var r=-1,q=this.a.U(p);0>this.ki(p,q)&&(this.a.w(q,x),b?x.y==a:x.x==a)&&(r=q);var q=-1,v=this.a.Ra(p);0>this.ki(p,v)&&(this.a.w(v,x),b?x.y==a:x.x==a)&&(q=v);if(-1!=r&&-1!=q)this.ii(p,f,h),this.a.ud(p,!1),this.ii(r,f,h),this.a.ud(r,!1),t=!0;else if(-1!=r||-1!=q){for(v=n+1;v<l;v++){var E=f.get(v);if(-1!=E){var w=this.a.U(E),y=-1;0>this.ki(E,w)&&(this.a.w(w,x),b?x.y==a:x.x==a)&&(y=w);var w=this.a.Ra(E),A=-1;0>this.ki(E,w)&&(this.a.w(w,x),b?x.y==a:x.x==a)&&(A=w);if(-1!=y&&-1!=A){this.ii(E,f,
h);this.a.ud(E,!1);this.ii(y,f,h);this.a.ud(y,!1);t=!0;break}if(-1!=r&&-1!=A){this.ou(f,p,r,E,A,h);t=!0;break}else if(-1!=q&&-1!=y){this.ou(f,E,y,p,q,h);t=!0;break}}}if(t)break}}}if(!t)break}k=l;d.L(c)}}this.a.le(h)};d.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};d.prototype.ou=function(b,a,c,f,h,e){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(c,h);this.a.Kc(h,c);this.ii(f,b,
e);this.a.Mi(f,!1);this.ii(h,b,e);this.a.Mi(h,!0)};d.prototype.Cz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);-1!=c&&this.a.Aj(c,-1)}for(var f=0,h=0,e=this.a.Pb(this.Y);-1!=e;){var u=this.a.cb(e);if(-1==u||e!=this.a.ld(u)){var x=e,e=this.a.Sb(e);this.a.jg(x,-1);this.a.Sr(x)}else{c=u;x=0;do this.a.Aj(c,e),x++,c=this.a.U(c);while(c!=u);2>=x?(c=this.a.Sa(u,this.Ki),this.od.set(c,-1),u=this.a.ud(u,!1),2==x&&(c=this.a.Sa(u,this.Ki),this.od.set(c,-1),this.a.ud(u,!1)),x=e,e=this.a.Sb(e),
this.a.jg(x,-1),this.a.Sr(x)):(this.a.Np(e,!1),this.a.sh(e,this.a.Ra(u)),this.a.nk(e,x),h+=x,f++,e=this.a.Sb(e))}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(e=this.a.ld(c),-1==e)){e=this.a.Yf(this.Y,-1);x=0;u=c;do this.a.Aj(c,e),x++,c=this.a.U(c);while(c!=u);2>=x?(c=this.a.Sa(u,this.Ki),this.od.set(c,-1),u=this.a.ud(u,!1),2==x&&(c=this.a.Sa(u,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(u,!1)),x=e,this.a.jg(x,-1),this.a.Sr(x)):(this.a.$n(e,!0),this.a.nk(e,x),this.a.jg(e,u),this.a.sh(e,
this.a.Ra(u)),this.a.Np(e,!1),h+=x,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,h);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.zC(b)};d.Hm=function(b,a,c,f){return(new d(a)).hz(b,c,f)};d.clip=function(b,a,c,f){if(b.u())return b;if(a.u())return b.Ka();var h=b.G();if(33==h)return c=b.w(),a.contains(c)?b:b.Ka();if(197==h)return c=new e.h,b.s(c),c.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(c),a):b.Ka();var l=new e.h;b.ac(l);if(a.contains(l))return b;if(!a.Yb(l))return b.Ka();l=b.ob;if(null!=l&&
(l=l.Hi,null!=l)){l=l.Rn(a);if(1==l){if(1736!=h)throw e.g.za();b=new e.Ja(b.description);b.oq(a);return b}if(0==l)return b.Ka()}switch(h){case 550:f=null;for(var h=b.D(),l=b.Pa(0),u=0,x=0;x<h;x++)c=new e.b,l.fc(2*x,c),a.contains(c)||(0==u&&(f=b.Ka()),u<x&&f.Id(b,u,x),u=x+1);0<u&&f.Id(b,u,h);return 0==u?b:f;case 1736:case 1607:return d.Hm(b,a,c,f);default:throw e.g.za();}};d.prototype.ki=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.ne=d})(m||
(m={}));(function(e){var d=function(){function d(b,a){this.Ha=b;this.a=new e.fd;this.od=new e.ia(0);this.ke=a}d.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};d.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==
this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,h=new e.h,l=new e.b,u=new e.b,x=[0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0],g=new e.Hb,t=new e.ia(0);t.yb(256);for(var k=!1,m=0;!k&&4>m;m++){var n=!1,p=0!=(m&1),r=0;switch(m){case 0:r=this.Ha.o;n=a.o<=r&&a.v>=r;break;case 1:r=this.Ha.A;n=a.A<=r&&a.B>=r;break;case 2:r=this.Ha.v;n=a.o<=r&&a.v>=r;break;case 3:r=this.Ha.B,n=a.A<=r&&a.B>=r}if(n)for(k=!0,n=this.a.Pb(this.Y);-1!=n;){var q=!0,v=-1,E=-1,w=this.a.cb(n),y=w;do{var A=
this.a.ic(y);null==A&&(A=g,this.a.w(y,l),A.Mc(l),this.a.w(this.a.U(y),u),A.Zc(u));A.s(f);var B=this.ji(f,m,r),D=0,C=-1;if(-1==B){A=A.Tq(p,r,x,d);0<A?D=this.a.EY(y,d,A):D=0;for(var D=D+1,I=y,G=this.a.U(I),A=0;A<D;A++){this.a.w(I,l);this.a.w(G,u);C=this.a.ic(I);null==C&&(C=g,C.Mc(l),C.Zc(u));C.s(h);C=this.ji(h,m,r);if(-1==C){if(p)C=Math.abs(l.y-r),F=Math.abs(u.y-r),C<F?(l.y=r,this.a.Qf(I,l)):(u.y=r,this.a.Qf(G,u));else{var C=Math.abs(l.x-r),F=Math.abs(u.x-r);C<F?(l.x=r,this.a.Qf(I,l)):(u.x=r,this.a.Qf(G,
u))}C=this.a.ic(I);null==C&&(C=g,C.Mc(l),C.Zc(u));C.s(h);C=this.ji(h,m,r)}F=v;v=C;-1==E&&(E=v);if(0!=F||1!=v)1==F&&0==v||0!=F||0!=v||t.add(I);1==v&&(q=k=!1);C=I=G;G=this.a.U(G)}}if(0==D){F=v;v=B;-1==E&&(E=v);if(0!=F||1!=v)1==F&&0==v||0!=F||0!=v||t.add(y);1==v&&(q=k=!1);C=this.a.U(y)}y=C;if(256<=t.size){A=1;for(B=t.size-1;A<B;A++)D=t.get(A),this.a.ud(D,!1);t.set(1,t.Fc());t.yf(2)}}while(y!=w);if(!q)for(0==E&&0==v&&t.add(w),A=0,B=t.size;A<B;A++)D=t.get(A),this.a.ud(D,!1);t.clear(!1);n=q||0==this.a.La(n)?
this.a.Rr(n):this.a.Sb(n)}}if(k)return b.Ka();this.fC();0<c&&this.vz(c);return this.a.Se(this.Y)};d.prototype.jz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0],l=new e.Cg,u=b,x=new e.h;b.ac(x);for(var d=new e.b,g=new e.b,t=null,k=null,m=0;4>m;m++){var n=!1,p=0!=(m&1),r=0;switch(m){case 0:r=this.Ha.o;n=x.o<=r&&x.v>=r;break;case 1:r=this.Ha.A;n=x.A<=r&&x.B>=r;break;case 2:r=this.Ha.v;n=x.o<=r&&x.v>=r;break;case 3:r=this.Ha.B,n=x.A<=r&&x.B>=r}if(n)for(n=u,u=b.Ka(),n=
n.Fa(),n.yj();n.Ya();)for(var q,v=!0;n.Ea();){var E=n.ba();E.s(a);var w=this.ji(a,m,r);if(-1==w){if(w=E.Tq(p,r,f,h),0<w){var y=0;E.Oq(d);for(var A=0;A<=w;A++)if(q=A<w?h[A]:1,y!=q){E.yh(y,q,l);var B=l.get();B.Mc(d);A<w&&(p?(g.x=f[A],g.y=r):(g.x=r,g.y=f[A]),B.Zc(g));B.s(c);var D=this.ji(c,m,r);-1==D&&(null==t&&(t=new e.b),null==k&&(k=new e.b),B.Oq(t),B.Ps(k),p?(y=Math.abs(t.y-r),D=Math.abs(k.y-r),y<D?(t.y=r,B.Mc(t)):(k.y=r,B.Zc(k))):(y=Math.abs(t.x-r),D=Math.abs(k.x-r),y<D?(t.x=r,B.Mc(t)):(k.x=r,B.Zc(k))),
B.s(c),D=this.ji(c,m,r));B.Ps(d);y=q;q=D;1==q?(u.dc(B,v),v=!1):v=!0}}}else q=w,1==q?(u.dc(E,v),v=!1):v=!0}}return u};d.prototype.fC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,h=this.a.La(a);f<h;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,
this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Cz()};d.prototype.vz=function(b){for(var a=new e.b,c=new e.b,f=null,h=null,l=e.J.gf(2048,0),u=this.a.Pb(this.Y);-1!=u;u=this.a.Sb(u)){var x=this.a.cb(u),d=x;do{var g=this.a.U(d);this.a.w(d,a);var t=-1;a.x==this.Ha.o?(this.a.w(g,c),c.x==this.Ha.o&&(t=1)):a.x==this.Ha.v&&(this.a.w(g,c),c.x==this.Ha.v&&(t=1));a.y==this.Ha.A?(this.a.w(g,c),c.y==this.Ha.A&&(t=0)):a.y==this.Ha.B&&
(this.a.w(g,c),c.y==this.Ha.B&&(t=0));if(-1!=t){null==f&&(f=new e.b);null==h&&(h=new e.b);f.L(a);h.ka(0,0);if(0==t){var k=a.x-this.Ha.o;h.x=e.Ub.sign(c.x-a.x);f.x=b*e.Ub.Fl(Math.floor(Math.abs(k/b)),k)+this.Ha.o;0>f.x&&(f.x+=b)}else k=a.y-this.Ha.A,h.y=e.Ub.sign(c.y-a.y),f.y=b*e.Ub.Fl(Math.floor(Math.abs(k/b)),k)+this.Ha.A,0>f.y&&(f.y+=b);var k=0!=t?c.y-a.y:c.x-a.x,m=Math.abs(k);if(65536<m/b)throw e.g.X("internal error");if(0<m){m=e.J.truncate(m/b)+2;l.length<m&&(l=e.J.gf(m));for(var n=m=0;;n++){var p=
new e.b;p.x=f.x+h.x*n*b;p.y=f.y+h.y*n*b;p=(0!=t?p.y-a.y:p.x-a.x)/k;if(1<=p)break;0>=p||(l[m]=p,m++)}0!=m&&this.a.zm(d,l,m)}}d=g}while(d!=x)}};d.prototype.Am=function(b,a){for(var c=-1,f=new e.b,h=null,l=this.a.Pb(this.Y);-1!=l;l=this.a.Sb(l))for(var u=this.a.cb(l),x=0,d=this.a.La(l);x<d;x++){var g=this.a.U(u);this.a.w(u,f);if(b?f.y==a:f.x==a)if(this.a.w(g,f),b?f.y==a:f.x==a)-1==c&&(c=this.a.Vd()),null==h&&(h=new e.ia(0),h.yb(100)),1!=this.a.Sa(u,c)&&(h.add(u),this.a.Va(u,c,1)),1!=this.a.Sa(g,c)&&
(h.add(g),this.a.Va(g,c,1));u=g}-1!=c&&this.a.le(c);if(!(null==h||3>h.size)){var t=this;h.Gd(0,h.size,function(a,c){return t.ki(a,c)});c=new e.b;l=new e.b;u=new e.b;l.$c();for(var k=-1,x=new e.ia(0),d=new e.ia(0),g=null,m=this.a.Vd(),n=this.a.Vd(),p=0,r=h.size;p<r;p++){var q=h.get(p);this.a.w(q,f);if(!f.ub(l)){if(-1!=k){for(var v=k;v<p;v++){var k=h.get(v),E=this.a.U(k),q=this.a.Ra(k),w=!1;this.a.w(E,c);0>l.compare(c)&&(b?c.y==a:c.x==a)&&(x.add(k),w=!0,this.a.Va(k,n,1));this.a.w(q,c);0>l.compare(c)&&
(b?c.y==a:c.x==a)&&(w||x.add(k),this.a.Va(k,m,1))}v=0;for(w=x.size;v<w;v++){k=x.get(v);q=this.a.Sa(k,m);E=this.a.Sa(k,n);if(1==q&&(q=this.a.Ra(k),this.a.w(q,u),!u.ub(f))){null==g&&(g=[]);var y=e.b.Cb(l,u);g[0]=e.b.Cb(u,f)/y;0==g[0]?g[0]=2.220446049250313E-16:1==g[0]&&(g[0]=.9999999999999998);this.a.zm(q,g,1);q=this.a.Ra(k);this.a.Qf(q,f);d.add(q);this.a.Va(q,m,1);this.a.Va(q,n,-1)}1==E&&(E=this.a.U(k),this.a.w(E,u),u.ub(f)||(null==g&&(g=[]),y=e.b.Cb(l,u),g[0]=e.b.Cb(l,f)/y,0==g[0]?g[0]=2.220446049250313E-16:
1==g[0]&&(g[0]=.9999999999999998),this.a.zm(k,g,1),q=this.a.U(k),this.a.Qf(q,f),d.add(q),this.a.Va(q,m,-1),this.a.Va(q,n,1)))}k=x;x=d;d=k;d.clear(!1)}k=p;l.L(f)}}this.a.le(m);this.a.le(n)}};d.prototype.sm=function(b,a){for(var c=new e.b,f=null,h=-1,l=0,u=this.od.size;l<u;l++){var x=this.od.get(l);if(-1!=x){var d=this.a.U(x);this.a.w(x,c);if(b?c.y==a:c.x==a)if(this.a.w(d,c),b?c.y==a:c.x==a)-1==h&&(h=this.a.Vd()),null==f&&(f=new e.ia(0),f.yb(100)),-2!=this.a.Sa(x,h)&&(f.add(x),this.a.Va(x,h,-2)),-2!=
this.a.Sa(d,h)&&(f.add(d),this.a.Va(d,h,-2))}}if(null==f)-1!=h&&this.a.le(h);else{var g=this;f.Gd(0,f.size,function(a,c){return g.ki(a,c)});l=0;for(u=f.size;l<u;l++){var t=f.get(l);this.a.Va(t,h,l)}x=new e.b;d=new e.b;d.$c();for(var k=-1,l=0,u=f.size;l<u;l++)if(t=f.get(l),-1!=t&&(this.a.w(t,c),!c.ub(d))){if(-1!=k)for(;;){for(var t=!1,m=1<l-k?l-1:l,n=k;n<m;n++){var p=f.get(n);if(-1!=p){var r=-1,q=this.a.U(p);this.a.w(q,x);0>d.compare(x)&&(b?x.y==a:x.x==a)&&(r=q);var q=-1,v=this.a.Ra(p);this.a.w(v,
x);0>d.compare(x)&&(b?x.y==a:x.x==a)&&(q=v);if(-1!=r&&-1!=q)this.ii(p,f,h),this.a.ud(p,!1),this.ii(r,f,h),this.a.ud(r,!1),t=!0;else if(-1!=r||-1!=q){for(v=n+1;v<l;v++){var E=f.get(v);if(-1!=E){var w=this.a.U(E),y=-1;this.a.w(w,x);0>d.compare(x)&&(b?x.y==a:x.x==a)&&(y=w);var w=this.a.Ra(E),A=-1;this.a.w(w,x);0>d.compare(x)&&(b?x.y==a:x.x==a)&&(A=w);if(-1!=y&&-1!=A){this.ii(E,f,h);this.a.ud(E,!1);this.ii(y,f,h);this.a.ud(y,!1);t=!0;break}if(-1!=r&&-1!=A){this.ou(f,p,r,E,A,h);t=!0;break}else if(-1!=
q&&-1!=y){this.ou(f,E,y,p,q,h);t=!0;break}}}if(t)break}}}if(!t)break}k=l;d.L(c)}this.a.le(h)}};d.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};d.prototype.ou=function(b,a,c,f,h,e){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(c,h);this.a.Kc(h,c);this.ii(f,b,e);this.a.Mi(f,!1);this.ii(h,b,e);this.a.Mi(h,!0)};d.prototype.Cz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);
-1!=c&&this.a.Aj(c,-1)}for(var f=0,h=0,e=this.a.Pb(this.Y);-1!=e;){var u=this.a.cb(e);if(-1==u||e!=this.a.ld(u)){var x=e,e=this.a.Sb(e);this.a.jg(x,-1);this.a.Sr(x)}else{c=u;x=0;do this.a.Aj(c,e),x++,c=this.a.U(c);while(c!=u);this.a.Np(e,!1);this.a.sh(e,this.a.Ra(u));this.a.nk(e,x);h+=x;f++;e=this.a.Sb(e)}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(e=this.a.ld(c),-1==e)){e=this.a.Yf(this.Y,-1);x=0;u=c;do this.a.Aj(c,e),x++,c=this.a.U(c);while(c!=u);2>=x?(c=this.a.Sa(u,this.Ki),this.od.set(c,
-1),u=this.a.ud(u,!1),2==x&&(c=this.a.Sa(u,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(u,!1)),x=e,this.a.jg(x,-1),this.a.Sr(x)):(this.a.$n(e,!0),this.a.nk(e,x),this.a.jg(e,u),this.a.sh(e,this.a.Ra(u)),this.a.Np(e,!1),h+=x,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,h);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.zC(b)};d.We=function(b,a,c,f,h){return(new d(a,h)).hz(b,c,f)};d.clip=function(b,a,c,f,h){return d.rq(b,a,null,c,f,h)};d.rq=function(b,a,c,f,h,l){var u=b.G();if(33==u)return h=
b.w(),a.contains(h)?b:b.Ka();if(197==u)return h=new e.h,b.s(h),h.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(h),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var x=new e.h;b.ac(x);if(a.contains(x))return b;if(!a.Yb(x))return b.Ka();if(null!=c||isNaN(f))f=e.na.Zy(c,a,!1);if(!e.T.gh(u))throw e.g.F();c=b.ob;if(null!=c&&(c=c.Hi,null!=c)){c=c.Rn(a);if(1==c){if(1736!=u)throw e.g.X("internal error");b=new e.Ja(b.description);b.oq(a);return b}if(0==c)return b.Ka()}switch(u){case 550:l=null;u=b.D();f=b.Pa(0);
c=0;h=new e.b;for(x=0;x<u;x++)f.fc(2*x,h),a.contains(h)||(0==c&&(l=b.Ka()),c<x&&l.Id(b,c,x),c=x+1);0<c&&l.Id(b,c,u);return 0==c?b:l;case 1736:case 1607:return d.We(b,a,f,h,l);default:throw e.g.X("internal error");}};d.prototype.ki=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.uh=d})(m||(m={}));(function(e){var d=new e.b,g=function(){function a(a,b,h,l,u){this.Cn=new e.b;this.fl=new e.b;this.oj=new e.b;this.a=a;this.px=h;this.ap=l;this.Cn=b;this.dm=
u;this.fl.$c();this.oj.$c()}a.prototype.GF=function(a){this.a.w(a,this.fl);a=e.J.truncate((this.fl.x-this.Cn.x)*this.ap+.5);var c=e.J.truncate((this.fl.y-this.Cn.y)*this.ap+.5);return b.vH(a,c)};a.prototype.Vz=function(a){return this.a.Sa(a,this.dm)};a.prototype.zz=function(a,f){this.a.w(a,this.fl);this.a.w(f,this.oj);return b.pw(this.fl.x,this.fl.y,this.oj.x,this.oj.y,this.px)};return a}();e.EZ=function(){return function(){}}();var b=function(){function a(){this.Cn=new e.b;this.er=[0,0,0,0];this.tt=
[0,0,0,0];this.ep=this.dm=-1}a.bS=function(c,b){var f=new a;f.a=c;f.ta=b;f.px=b*b;f.Nw=2*b;f.ap=1/f.Nw;return f.EQ()};a.pw=function(a,b,h,e,u){a-=h;b-=e;return a*a+b*b<=u};a.vH=function(a,b){return e.J.dh(b,e.J.dh(a))};a.prototype.GQ=function(c,b){this.a.Nc(c,d);for(var f=(d.y-this.Cn.y)*this.ap,l=e.J.truncate((d.x-this.Cn.x)*this.ap),u=e.J.truncate(f),x=f=0;1>=x;x+=1)for(var z=0;1>=z;z+=1){var g=a.vH(l+x,u+z),t=this.cm.hT(g);-1!=t&&(this.er[f]=t,this.tt[f]=g,f++)}for(l=f-1;1<=l;l--)for(t=this.er[l],
u=l-1;0<=u;u--)if(t==this.er[u]){this.tt[u]=-1;f--;l!=f&&(this.tt[l]=this.tt[f],this.er[l]=this.er[f]);break}for(u=0;u<f;u++)this.HQ(c,this.tt[u],d,this.er[u],b)};a.prototype.HQ=function(c,b,h,l,u){for(var f=new e.b;-1!=l;l=this.cm.xT(l)){var d=this.cm.ja(l);c==d||-1!=b&&this.a.Sa(d,this.dm)!=b||(this.a.Nc(d,f),a.pw(h.x,h.y,f.x,f.y,this.px)&&u.add(l))}};a.prototype.Ln=function(a,b,h){var c=this.a.Sa(a,this.ep),f=this.a.Sa(b,this.ep);-1==c&&(c=this.Od.mi(),this.Od.addElement(c,a),this.a.Va(a,this.ep,
c));-1==f?this.Od.addElement(c,b):this.Od.mz(c,f);this.a.Va(b,this.ep,-2);b=this.WV(a,b);h&&(h=this.Yw.GF(a),this.a.Va(a,this.dm,h));return b};a.VV=function(c,b,h){c.Eb(b);h=c;var f=new e.b;a.FX(c.w(),b.w(),f);h.rb(f)};a.FX=function(a,b,h){var c=a.x;a.x!=b.x&&(c=(1*a.x+1*b.x)/2);var f=a.y;a.y!=b.y&&(f=(1*a.y+1*b.y)/2);h.ka(c,f)};a.prototype.WV=function(a,b){var c=new e.b;this.a.w(a,c);var f=new e.b;this.a.w(b,f);var u=this.a.oH(a);b=this.a.oH(b);var x=u+b,d=0,g=c.x;c.x!=f.x&&(g=(c.x*u+f.x*b)/x,d++);
var t=c.y;c.y!=f.y&&(t=(c.y*u+f.y*b)/x,d++);0<d&&this.a.rb(a,g,t);this.a.qY(a,x);return 0!=d};a.prototype.EQ=function(){var a=this.a.vd,b=this.a.TG();this.Cn=b.Yz();b=Math.max(b.fa(),b.N())/2147483646;this.Nw<b&&(this.Nw=b,this.ap=1/this.Nw);this.Od=new e.Lu;this.Od.pu(e.J.truncate(this.a.vd/3+1));this.Od.Vn(e.J.truncate(this.a.vd/3+1));this.dm=this.a.Vd();this.ep=this.a.Vd();this.Yw=new g(this.a,this.Cn,this.px,this.ap,this.dm);this.cm=new e.EM(e.J.truncate(4*a/3),this.Yw);this.cm.xX(this.a.vd);
a=!1;for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(var h=this.a.Pb(b);-1!=h;h=this.a.Sb(h))for(var l=this.a.cb(h),u=0,x=this.a.La(h);u<x;u++){var d=this.Yw.GF(l);this.a.Va(l,this.dm,d);this.cm.addElement(l,d);l=this.a.U(l)}var t=new e.ia(0);t.yb(10);for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(h=this.a.Pb(b);-1!=h;h=this.a.Sb(h))for(l=this.a.cb(h),u=0,x=this.a.La(h);u<x;u++){if(-2!=this.a.Sa(l,this.ep))for(d=this.a.Sa(l,this.dm),this.cm.kd(l,d);;){this.GQ(l,t);if(0==t.size)break;for(var d=!1,k=0,m=t.size;k<
m;k++){var n=t.get(k),p=this.cm.ja(n);this.cm.Kd(n);d=this.Ln(l,p,k+1==m)||d}a=a||d;t.clear(!1);if(!d)break}l=this.a.U(l)}a&&this.xP();this.Yw=this.cm=null;this.a.le(this.dm);this.a.le(this.ep);return a};a.prototype.xP=function(){for(var a=new e.b,b=this.Od.Ge;-1!=b;b=this.Od.bA(b)){var h=this.Od.xc(b);this.a.w(this.Od.ja(h),a);for(h=this.Od.nb(h);-1!=h;h=this.Od.nb(h))this.a.Qf(this.Od.ja(h),a)}};return a}();e.Iu=b})(m||(m={}));(function(e){var d=function(){function d(b){void 0===b&&(b=null);this.Oe=
null;this.xa=!1;null===b?this.Oe=[]:this.Oe=b}d.prototype.copyTo=function(b){if(b.xa)throw e.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Oe.length;a++)b.Oe.push(this.Oe[a].Vf())};d.prototype.count=function(){return this.Oe.length};d.prototype.jT=function(b){return this.Oe[b]};d.prototype.add=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.push(b.Vf())};d.prototype.clear=function(){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");
this.Oe.length=0};d.prototype.remove=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.splice(b,1)};d.prototype.Wv=function(){for(var b=this.oe(),a=0;a<b.count();a++)b.jT(a).kt();b.Oe=b.Oe.reverse();return b};d.prototype.oe=function(){var b=new d;this.copyTo(b);return b};d.prototype.Vf=function(){return this.oe()};d.prototype.transform=function(b,a,c,f){if(b.length<a)throw e.g.X("invalid Argument");var h=c;for(c=0;c<this.Oe.length;c++){var l=this.Oe[c];if(null!=
l.cn()){var u=l.nn,x=u?1:0,d=u?l.cn().getGeogcs2():l.cn().getGeogcs1(),d=d.getUnit().getUnitFactor(),d=h/d;if(3.552713678800501E-15<Math.abs(d-1))for(h=0;h<a;h++)b[h][0]*=d,b[h][1]*=d;e.PD.geogToGeog(l.cn(),a,b,null,x);h=(u?l.cn().getGeogcs1():l.cn().getGeogcs2()).getUnit().getUnitFactor()}}d=h/f;if(3.552713678800501E-15<Math.abs(d-1))for(h=0;h<a;h++)b[h][0]*=d,b[h][1]*=d;return a};d.prototype.getName=function(){if(0==this.Oe.length)return"";for(var b="",a=0,c=this.Oe.length;a<c;++a)""!==b&&(b+=" + "),
b+=this.Oe[a].getName();return b};d.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof d)||this.Oe.length!=b.Oe.length)return!1;for(var a=0;a<this.Oe.length;a++)if(!this.Oe[a].Eb(b.Oe[a]))return!1;return!0};d.prototype.Mp=function(){this.xa=!0};d.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};d.create=function(){return new d};d.aq=function(b,a){var c=new d;c.add(e.io.create(b,a));return c};d.bq=function(b,
a){var c=new d;c.add(e.io.fG(b,a));return c};return d}();e.ny=d})(m||(m={}));(function(e){var d=Math.PI,g=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.WQ=function(c,b){var f=new a;f.x=c;f.y=b;f.type=0;f.ui=0;return f};a.El=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=0;b.ui=0;return b};a.VQ=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=c.type;b.ui=c.ui;return b};a.ce=function(c,b,f){var h=new a;h.x=c.x+b*Math.cos(f);h.y=c.y+b*Math.sin(f);h.type=c.type;h.ui=c.ui;return h};a.Dv=function(c,
b){var f=new a;f.x=.5*(c.x+b.x);f.y=.5*(c.y+b.y);f.type=c.type;f.ui=c.ui;return f};a.ZF=function(c,b){var f=new a;f.x=c.x+.001*(b.x-c.x);f.y=c.y+.001*(b.y-c.y);f.type=c.type;f.ui=c.ui;return f};return a}(),c=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(e.JM||(e.JM={}));var f=function(){function f(a){this.sB=this.$b=this.Sg=null;this.ke=a}f.V=function(a,c,b,h,d,g){if(null==a)throw e.g.F();if(1>a.tb())throw e.g.F();
if(0==c||a.u())return a;g=new f(g);g.Yo=a;g.Qa=c;g.ta=d;g.jj=b;g.iB=h;return g.Ay()};f.prototype.zO=function(){var a=this.Yo,c=a.ec(),b=a.Cc(),f=new e.b;f.zc(b,c);f.normalize();f.uw();f.scale(this.Qa);c.add(f);b.add(f);f=a.Ka();a.Mc(c);a.Zc(b);return f};f.prototype.yO=function(){var a=this.Yo;if(0<this.Qa&&2!=this.jj){var c=new e.Ja;c.jd(a,!1);this.Yo=c;return this.Ay()}a=new e.ci(a.R);a.O(this.Qa,this.Qa);return a};f.prototype.kK=function(a,c,b,f){return(c.x-a.x)*(f.x-b.x)+(c.y-a.y)*(f.y-b.y)};f.prototype.pc=
function(c,f){if(void 0===f)this.$b.push(c),this.Kf++;else if(0==this.Kf)this.pc(c);else{var h=this.qx,e,l;e=this.Sg[0==f?h-1:f-1];l=this.Sg[f];var u=this.kK(e,l,this.$b[this.Kf-1],c);0<u?this.pc(c):0>u&&(0<this.kK(e,l,l,this.$b[this.Kf-1])?(l=this.Sg[0==f?h-2:1==f?h-1:f-2],h=a.ce(e,this.Qa,Math.atan2(e.y-l.y,e.x-l.x)-b),this.$b[this.Kf-1]=h,1==this.jj||2==this.jj?(h=a.Dv(h,e),this.pc(h),h=a.ce(e,this.Qa,this.ww+b),e=a.Dv(h,e),e.type|=256,this.pc(e)):(h=a.ce(e,this.Qa,this.ww+b),h.type|=256),this.pc(h),
this.pc(c,f)):(h=a.ce(l,this.Qa,this.ww+b),this.pc(h),1==this.jj||2==this.jj?(h=a.Dv(h,l),this.pc(h),h=a.ce(l,this.Qa,this.JA-b),e=a.Dv(h,l),e.type|=256,this.pc(e)):(h=a.ce(l,this.Qa,this.JA-b),h.type|=256),this.pc(h)))}};f.prototype.zF=function(){var c,f,h,z,t,k,m=this.qx;this.Kf=0;var n=.5*this.ta,p=0,r=0;for(c=0;c<m;c++){z=this.Sg[c];t=0==c?this.Sg[m-1]:this.Sg[c-1];k=c==m-1?this.Sg[0]:this.Sg[c+1];var q=t.x-z.x,v=t.y-z.y,E=k.x-z.x,w=k.y-z.y;f=Math.atan2(v,q);h=Math.atan2(w,E);this.ww=f;this.JA=
h;0==c&&(p=f,r=h);q=q*w-E*v;v=h;h<f&&(h+=g);if(0<q*this.Qa)1==this.jj||2==this.jj?(f=a.ce(z,this.Qa,f+b),this.pc(f),f=a.ZF(z,f),this.pc(f),f=a.ce(z,this.Qa,h-b),z=a.ZF(z,f),z.type|=256,this.pc(z),this.pc(f)):(q=.5*(h-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(z,q,.5*(f+h)),this.pc(f,c));else if(0!=(z.type&512)){q=1-n/Math.abs(this.Qa);t=1;k=0>this.Qa?-d:d;-1<q&&1>q&&(v=2*Math.acos(q),.017453292519943295>v&&(v=.017453292519943295),t=e.J.truncate(d/v+1.5),1<t&&(k/=t));v=f+b;f=a.ce(z,this.Qa,v);0==c&&
(f.type|=1024);this.pc(f,c);q=this.Qa/Math.cos(k/2);v+=k/2;f=a.ce(z,q,v);f.type|=1024;for(this.pc(f);0<--t;)v+=k,f=a.ce(z,q,v),f.type|=1024,this.pc(f);f=a.ce(z,this.Qa,h-b);f.type|=1024;this.pc(f)}else if(1==this.jj)f=a.ce(z,this.Qa,f+b),this.pc(f,c),f=a.ce(z,this.Qa,h-b),this.pc(f);else if(0==this.jj)for(q=1-n/Math.abs(this.Qa),t=1,k=h-b-(f+b),-1<q&&1>q&&(v=2*Math.acos(q),.017453292519943295>v&&(v=.017453292519943295),t=e.J.truncate(Math.abs(k)/v+1.5),1<t&&(k/=t)),q=this.Qa/Math.cos(.5*k),v=f+b+
.5*k,f=a.ce(z,q,v),this.pc(f,c);0<--t;)v+=k,f=a.ce(z,q,v),this.pc(f);else 2==this.jj?(q=t.x-z.x,v=t.y-z.y,E=k.x-z.x,w=k.y-z.y,t=(q*E+v*w)/Math.sqrt(q*q+v*v)/Math.sqrt(E*E+w*w),.99999999<t?(f=a.ce(z,1.4142135623730951*this.Qa,h-.25*d),this.pc(f,c),f=a.ce(z,1.4142135623730951*this.Qa,h+.25*d),this.pc(f)):(t=Math.abs(this.Qa/Math.sin(.5*Math.acos(t))),k=Math.abs(this.iB*this.Qa),t>k?(q=.5*(h-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(z,q,.5*(f+h)),h=e.b.pa(f.x,f.y),f=e.b.pa(z.x,z.y),z=new e.b,z.zc(h,
f),h=new e.b,h.EX(k/z.length(),z,f),f=(t-k)*Math.abs(this.Qa)/Math.sqrt(t*t-this.Qa*this.Qa),0<this.Qa?z.uw():z.Ur(),z.scale(f/z.length()),f=new e.b,f.add(h,z),t=new e.b,t.zc(h,z),f=a.El(f),this.pc(f,c),f=a.El(t),this.pc(f)):(q=.5*(h-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(z,q,.5*(f+h)),this.pc(f,c)))):(h=v,0<this.Qa?(h>f&&(h-=g),t=f-h<b):(h<f&&(h+=g),t=h-f<b),t?(q=1.4142135623730951*this.Qa,v=0>q?f+.25*d:f+.75*d,f=a.ce(z,q,v),this.pc(f,c),v=0>q?h-.25*d:h-.75*d,f=a.ce(z,q,v),this.pc(f)):(q=.5*(h-
f),q=this.Qa/Math.abs(Math.sin(q)),h<f&&(h+=g),f=a.ce(z,q,(f+h)/2),this.pc(f,c)))}this.ww=p;this.JA=r;this.pc(this.$b[0],0);z=a.VQ(this.$b[this.Kf-1]);this.$b[0]=z;return this.tX()};f.prototype.kv=function(a,c){if(!(2>c))for(var b=0;b<c;b++){var f=this.$b[a+b];0!=b?this.sB.aj(e.b.pa(f.x,f.y)):this.sB.zu(e.b.pa(f.x,f.y))}};f.prototype.AO=function(c,b,f){var h=c.wa(b),e=c.Gc(b);this.$b=[];this.sB=f;if(c.Qb(b)){for(b=c.Ba(h);c.Ba(e-1).ub(b);)e--;if(2<=e-h){this.qx=e-h;this.Sg=[];for(b=h;b<e;b++)this.Sg.push(a.El(c.Ba(b)));
this.zF()&&this.kv(0,this.Kf-1)}}else{for(b=c.Ba(h);h<e&&c.Ba(h+1).ub(b);)h++;for(b=c.Ba(e-1);h<e&&c.Ba(e-2).ub(b);)e--;if(2<=e-h){this.qx=2*(e-h)-2;this.Sg=[];f=a.El(c.Ba(h));f.type|=1536;this.Sg.push(f);for(b=h+1;b<e-1;b++)f=a.El(c.Ba(b)),this.Sg.push(f);f=a.El(c.Ba(e-1));f.type|=512;this.Sg.push(f);for(b=e-2;b>=h+1;b--)f=a.El(c.Ba(b)),f.type|=1024,this.Sg.push(f);if(this.zF())if(2<=this.$b.length){c=-1;(e=0!=(this.$b[this.Kf-1].type&1024))||(c=0);for(b=1;b<this.Kf;b++)(h=0!=(this.$b[b].type&1024))?
e||(e=b-1,1<e-c+1&&this.kv(c,e-c+1)):e&&(c=b-1),e=h;e||(e=this.Kf-1,1<e-c+1&&this.kv(c,e-c+1))}else c=0,e=this.Kf-1,0<=c&&1<=e-c&&this.kv(c,e-c+1)}}this.Sg=null;this.qx=0;this.$b=null;this.Kf=0};f.prototype.tX=function(){for(var a=!1,c=0;c<this.Kf;c++){var b=this.$b[c];b.Nh=c+1;b.Qh=c-1;this.$b[c]=b}b=this.$b[0];b.Qh=this.Kf-2;this.$b[0]=b;b=this.$b[this.Kf-2];b.Nh=0;this.$b[this.Kf-2]=b;for(c=b=0;c<this.Kf;c++)if(0!=(this.$b[b].type&256)){var f=this.CR(b);if(-1!=f)b=f;else{a=!0;break}}else b=this.$b[b].Nh;
if(a)return!1;this.TQ(b);return!0};f.prototype.CR=function(a){for(var c=this.Kf-1,b=a,f,h,e=1;e<=c-2;e++){f=b=this.$b[b].Nh;h=a;for(var l=1;l<=e;l++){h=this.$b[h].Qh;if(0==(this.$b[h].type&256)&&0==(this.$b[f].type&256)){var d=this.aU(h,f);if(-1!=d)return d}f=this.$b[f].Qh}}return-1};f.prototype.aU=function(a,b){var f,h,l,u;f=this.$b[this.$b[a].Qh];h=this.$b[a];l=this.$b[this.$b[b].Qh];u=this.$b[b];if(!this.IX(f,h,l,u))return-1;var d=new c;return this.pS(f,h,l,u,d)&&!d.oF&&e.J.SK((h.x-f.x)*(u.y-l.y)-
(h.y-f.y)*(u.x-l.x))!=e.J.SK(this.Qa)?(f=this.$b[a].Qh,d.Pn.type=h.type,d.Pn.Nh=b,d.Pn.Qh=f,this.$b[a]=d.Pn,d.Pn=this.$b[b],d.Pn.Qh=a,this.$b[b]=d.Pn,b):-1};f.prototype.IX=function(a,c,b,f){return Math.max(a.x,c.x)>=Math.min(b.x,f.x)&&Math.max(b.x,f.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,f.y)&&Math.max(b.y,f.y)>=Math.min(a.y,c.y)};f.prototype.pS=function(c,b,f,h,e){e.oF=!1;var l,u,x;l=(b.y-c.y)*(h.x-f.x)-(b.x-c.x)*(h.y-f.y);u=(f.y-c.y)*(b.x-c.x)-(f.x-c.x)*(b.y-c.y);l=0==l?2:u/l;return 0<=
l&&1>=l&&(x=l,l=(h.y-f.y)*(b.x-c.x)-(h.x-f.x)*(b.y-c.y),u=(c.y-f.y)*(h.x-f.x)-(c.x-f.x)*(h.y-f.y),l=0==l?2:u/l,0<=l&&1>=l)?(e.Pn=a.WQ(c.x+l*(b.x-c.x),c.y+l*(b.y-c.y)),e.Pn.ui=f.ui+x*(h.ui-f.ui),0!=x&&1!=x||0!=l&&1!=l||(e.oF=!0),e.N_=l,e.O_=x,(0==x||1==x)&&0<l&&1>l||(0==l||1==l)&&0<x&&1>x?!1:!0):!1};f.prototype.TQ=function(a){for(;this.$b[a].Qh<a;)a=this.$b[a].Qh;var c=0,b=a;do b=this.$b[b],this.$b[c]=b,b=b.Nh,c++;while(b!=a);this.$b[c]=this.$b[0];this.Kf=c+1};f.prototype.vE=function(a){var c=this.Yo,
b=c.Fa();if(null!=b){b.yj();for(var f=-1;b.Ya();)f++,this.AO(c,f,a)}};f.prototype.Ay=function(){var a=this.Yo.G();return 322==a?this.zO():197==a?this.yO():e.T.Oc(a)?(a=new e.Ua,a.dc(this.Yo,!0),this.Yo=a,this.Ay()):1607==a?(a=new e.Ua,this.vE(a),a):1736==a?(a=new e.Ja,this.vE(a),a):null};return f}();e.TL=f})(m||(m={}));(function(e){var d=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.a.w(a,c)};a.prototype.Kd=function(a){var c=this.Sk.Na.ja(a);this.Sk.Na.Kd(a,-1);this.Sk.a.ud(c,
!1)};return a}(),g=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.GV.w(a,c)};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),b=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){c.L(this.Sk.JV[a])};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new e.uk,this.Na.Qe(20),this.a=new e.fd,this.xV=this.a.bh(550),this.Nt=this.a.Yf(this.xV,-1),this.wi=new d(this)):a instanceof Array?(this.Na=new e.uk,
this.Na.Qe(20),this.JV=a,this.wi=new b(this)):(this.Na=new e.uk,this.Na.Qe(20),this.GV=a,this.wi=new g(this))}a.prototype.Jb=function(a){var c=a.G();if(e.Mu.gh(c))this.hP(a);else if(e.xl.Oc(c))this.oP(a);else if(197==c)this.eP(a);else if(33==c)this.lP(a);else throw e.g.F("invalid shape type");};a.prototype.US=function(){var a=new e.Wa,c=this.Na.xc(-1),b=new e.Ja(this.a.Hr);this.a.wj(this.Na.ja(c),a);b.Rf(a);for(c=this.Na.nb(c);-1!=c;c=this.Na.nb(c))this.a.wj(this.Na.ja(c),a),b.lineTo(a);return b};
a.UQ=function(c){var b=new a(c),f=c.D(),u=1,x=new e.b,d=new e.b,g=new e.b;for(c.w(0,x);;){c.w(u,d);if(!(d.wA(x)&&u<f-1))break;u++}b.Na.addElement(0,-1);b.Na.ro(u);for(f=u+1;f<c.D();f++)c.w(f,g),u=b.OC(g),-1!=u&&b.Na.kk(u,f);g=new e.Wa;u=b.Na.xc(-1);f=new e.Ja(c.description);c.Ae(b.Na.ja(u),g);f.Rf(g);for(u=b.Na.nb(u);-1!=u;u=b.Na.nb(u))c.Ae(b.Na.ja(u),g),f.lineTo(g);return f};a.pa=function(c,b,e){for(var f=new a(c),h=1,l=c[0];c[h].wA(l)&&h<b-1;)h++;f.Na.addElement(0,-1);f.Na.ro(h);for(h+=1;h<b;h++)l=
f.OC(c[h]),-1!=l&&f.Na.kk(l,h);c=0;for(b=f.Na.xc(-1);-1!=b;b=f.Na.nb(b))e[c++]=f.Na.ja(b);return c};a.VH=function(c,b){var f=c.wa(b),h=c.Gc(b);b=!c.Qb(b)&&c.Eo(b);c=c.Pa(0);f*=2;h*=2;b&&(h-=2);if(6>h-f)return!0;b=new e.b;var d=new e.b,z=new e.b;c.fc(f,b);c.fc(f+2,d);c.fc(f+4,z);var g=a.fe(d,z,b);if(g.lt()||!a.tc(g.value()))return!1;for(var t=e.b.pa(d.x,d.y),k=new e.b,f=f+6;f<h;f+=2){k.L(d);d.L(z);c.fc(f,z);g=a.fe(d,z,b);if(g.lt()||!a.tc(g.value()))return!1;g=a.fe(t,z,b);if(g.lt()||!a.tc(g.value()))return!1;
g=a.fe(d,z,k);if(g.lt()||!a.tc(g.value()))return!1}return!0};a.prototype.hP=function(a){for(var c=new e.Wa,b=new e.b,f=0;f<a.D();f++){a.w(f,b);var d=this.As(b);if(-1!=d){a.Ae(f,c);var z=this.a.pc(this.Nt,c);this.Na.kk(d,z)}}};a.prototype.eP=function(a){for(var c=new e.Wa,b=new e.b,f=0;4>f;f++){a.Gx(f,b);var d=this.As(b);if(-1!=d){a.ig(f,c);var z=this.a.pc(this.Nt,c);this.Na.kk(d,z)}}};a.prototype.oP=function(a){var c=new e.Wa,b=a.ec(),b=this.As(b);if(-1!=b){a.Dp(c);var f=this.a.pc(this.Nt,c);this.Na.kk(b,
f)}b=a.Cc();b=this.As(b);-1!=b&&(a.Bp(c),a=this.a.pc(this.Nt,c),this.Na.kk(b,a))};a.prototype.lP=function(a){var c=a.w(),c=this.As(c);-1!=c&&(a=this.a.pc(this.Nt,a),this.Na.kk(c,a))};a.prototype.As=function(a){var c=-1;if(0==this.Na.size(-1))return c=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ja(this.Na.xc(-1)));a.wA(b)||(c=this.Na.ro(-5));return c}return c=this.OC(a)};a.prototype.OC=function(c){var b=-1,f=this.Na.xc(-1),u=this.Na.Fc(-1),d=this.Na.ja(f),z=this.Na.ja(u),
g=new e.b,t=new e.b;this.wi.w(d,g);this.wi.w(z,t);d=e.b.zp(t,c,g);if(a.tc(d))b=this.Na.ro(-1),g=this.MC(c,u,f),g!=f&&this.NC(c,f,this.Na.Ve(g));else if(a.vl(d)){for(var t=this.Na.fw(-1),k=this.Na.xc(-1),m=this.Na.Fc(-1),n,d=new e.b,z=new e.b;k!=this.Na.Ve(m);)n=this.Na.ja(t),this.wi.w(n,d),n=e.b.zp(d,c,g),a.vl(n)?(m=t,t=this.Na.Pl(t)):(k=t,t=this.Na.Nq(t));t=m;g=k;n=this.Na.ja(t);k=this.Na.ja(g);this.wi.w(n,d);this.wi.w(k,z);if(g==f||(d=e.b.zp(z,c,d),a.tc(d)))b=this.Na.jv(g,t,-2,!1),this.NC(c,t,u),
this.MC(c,g,f)}else null==this.wb&&(this.wb=new e.Hb),this.wb.Mc(t),this.wb.Zc(g),g=this.wb.pe(c,!0),0>g?(g=this.Na.Ve(u),this.Na.Kd(u,-1),b=this.Na.ro(-3),this.MC(c,g,f)):1<g&&(g=this.Na.nb(f),this.Na.Kd(f,-1),b=this.Na.jv(-1,g,-3,!1),this.NC(c,g,u));return b};a.prototype.NC=function(c,b,l){if(b!=l){var f=this.Na.ja(b),h=this.Na.nb(b),d=new e.b,g=new e.b;for(this.wi.w(f,d);b!=l&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(h),g);f=e.b.zp(g,c,d);if(a.tc(f))break;f=b;b=h;d.L(g);h=this.Na.nb(b);this.wi.Kd(f)}}};
a.prototype.MC=function(c,b,l){if(b==l)return l;var f=this.Na.ja(b),h=this.Na.Ve(b),d=new e.b,g=new e.b;for(this.wi.w(f,d);b!=l&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(h),g);f=e.b.zp(d,c,g);if(a.tc(f))break;f=b;b=h;d.L(g);h=this.Na.Ve(b);this.wi.Kd(f)}return b};a.fe=function(a,c,b){var f=new e.Xb;f.set(c.x);f.sub(a.x);var h=new e.Xb;h.set(b.y);h.sub(a.y);var l=new e.Xb;l.set(c.y);l.sub(a.y);c=new e.Xb;c.set(b.x);c.sub(a.x);f.Vg(h);l.Vg(c);f.sub(l);return f};a.tc=function(a){return 0>a};a.vl=function(a){return 0<
a};a.hq=function(a){return 0==a};return a}();e.Ju=a})(m||(m={}));(function(e){var d=function(){function d(b){this.ke=this.a=null;this.FI=!0;this.ke=b}d.yJ=function(b,a,c){b=e.na.Cs(b);return e.Iu.pw(a.Be(),a.nf(),c.Be(),c.nf(),e.Ub.Yx(b))};d.FQ=function(b,a){var c=new e.Wa;e.Iu.VV(b,a,c);return c};d.V=function(b,a,c,f){c=new d(c);c.a=b;c.ta=a;c.FI=f;return c.LO()};d.prototype.FO=function(b){return e.Iu.bS(this.a,b)};d.prototype.IO=function(b){return e.Ku.V(this.a,b,this.ke)};d.prototype.LO=function(){for(var b=
this.ta,a=e.na.Cs(b),b=e.na.rP(b),c=1.00001*b,b=1.000001*b,f=!1,h=30<this.a.vd+10?1E3:(this.a.vd+10)*(this.a.vd+10),l=0,u=this.a.dU();;l++){if(l>h)throw e.g.X("Internal Error: max number of iterations exceeded");var d=this.FO(a),f=f||d;this.FI&&(d=0!=this.a.zq(a,!0,!1),f=f||d);d=!1;if(0==l||u||e.Ku.tJ(!0,this.a,b,null,this.ke))d=this.IO(c),f=f||d;if(!d)break}return f};return d}();e.sk=d})(m||(m={}));(function(e){var d=function(){function b(a){this.we=this.Tc=null;this.kx=0;this.lc=a;this.LA=!0}b.prototype.gw=
function(a,c){var b=this.a.ic(a);if(null==b){if(!this.a.pd(a,c))return null;b=c}return b};b.prototype.Pr=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.mR=function(){var a=this.a.Qr(!1),c=!1,b=new e.Hb,h=new e.Hb,l=new e.h;l.Oa();var u=new e.h;u.Oa();for(var d=new e.Wa,z=new e.dE,g=a.next();-1!=g;g=a.next()){var t=null,k=!1;if(!e.T.Jo(this.a.hc(a.Ck))){t=this.gw(g,b);if(null==t)continue;t.s(l);l.O(this.ta,this.ta);if(t.fh(this.ta))if(t.fh(0))k=!0,t=null;else continue}var m=
this.a.Qr(a),n=m.next();for(-1!=n&&(n=m.next());-1!=n;n=m.next()){var p=null,r=!1;if(!e.T.Jo(this.a.hc(m.Ck))){p=this.gw(n,h);if(null==p)continue;p.s(u);if(p.fh(this.ta))if(p.fh(0))r=!0,p=null;else continue}var q=0,v=0;if(null!=t&&null!=p)l.TH(u)&&(z.Ap(t),z.Ap(p),z.Ma(this.ta,!1),q=z.Rl(0),v=z.Rl(1),0<q+v&&(this.a.bs(g,z,0,!0),this.a.bs(n,z,1,!0)),z.clear());else if(null!=t){var E=new e.b;this.a.w(n,E);if(l.contains(E)){z.Ap(t);this.a.wj(n,d);z.sA(this.ta,d,!1);q=z.Rl(0);if(0<q)if(this.a.bs(g,z,
0,!0),r){r=-1;for(E=this.a.U(n);-1!=E&&E!=n&&(p=this.gw(E,h),r=E,null!=p&&p.fh(0));E=this.a.U(E));for(E=n;-1!=E&&(this.a.Yh(E,z.cg),E!=r);E=this.a.U(E));}else this.a.Yh(n,z.cg);z.clear()}}else if(null!=p){if(E=new e.b,this.a.w(g,E),u.O(this.ta,this.ta),u.contains(E)){z.Ap(p);this.a.wj(g,d);z.sA(this.ta,d,!1);v=z.Rl(0);if(0<v)if(this.a.bs(n,z,0,!0),k){r=-1;for(E=this.a.U(g);-1!=E&&E!=g&&(p=this.gw(E,h),r=E,null!=p&&p.fh(0));E=this.a.U(E));for(E=g;-1!=E&&(this.a.Yh(E,z.cg),E!=r);E=this.a.U(E));}else this.a.Yh(g,
z.cg);z.clear()}}else continue;if(0!=q+v){if(0!=q){t=this.a.ic(g);if(null==t){if(!this.a.pd(g,b))continue;t=b;b.s(l)}else t.s(l);if(t.fh(this.ta))break}c=!0}}}return c};b.prototype.nR=function(){return this.DW()};b.prototype.DW=function(){return(new e.WD).IY(this.a,this.ta)};b.prototype.uJ=function(){var a=!1,c,b;null==this.Tc&&(this.Tc=new e.uk);var h=new e.ia(0);h.yb(this.a.vd+1);for(var l=this.a.Qr(),u=l.next();-1!=u;u=l.next())h.add(u);this.a.Xx(h,h.size);h.add(-1);l=this.a.Vd();u=this.a.Vd();
this.we=new e.fE(this.a,this.ta,!this.LA);this.Tc.Ep(this.we);var d=new e.ia(0),z=new e.ia(0),g=0;new e.b;var t=this.a.Dd;this.a.xb.wc();for(var k=this.a.xb.ya[0].f,m,n,p=h.get(g++);-1!=p;){n=t.S(p,0);m=k[2*n];n=k[2*n+1];var r=m,q=n;do{var v=t.S(p,2),E=t.S(p,1);-1!=v&&(c=t.S(v,0),b=k[2*c],c=k[2*c+1],0>(q<c?-1:q>c?1:r<b?-1:r>b?1:0)&&(z.add(p),z.add(v)));-1!=E&&(c=t.S(E,0),b=k[2*c],c=k[2*c+1],0>(q<c?-1:q>c?1:r<b?-1:r>b?1:0)&&(z.add(E),z.add(E)));b=this.a.Sa(p,l);-1!=b&&(d.add(b),this.a.Va(p,l,-1));
b=this.a.Sa(p,u);-1!=b&&(d.add(b),this.a.Va(p,u,-1));p=h.get(g++);-1!==p&&(q=t.S(p,0),r=k[2*q],q=k[2*q+1])}while(-1!=p&&r===m&&q===n);r=1==d.size&&2==z.size;b=q=-1;v=0;for(E=d.size;v<E;v++){c=d.get(v);var w=this.Tc.Ve(c);-1==w||d.nA(w)||(q=w);c=this.Tc.nb(c);-1==c||d.nA(c)||(b=c);if(-1!=q&&-1!=b)break}this.we.QK(n,m);v=0;for(E=d.size;v<E;v++)c=d.get(v),this.Tc.Kd(c,-1);d.clear(!1);if(!r&&-1!=q&&-1!=b&&this.tQ(q,b)){a=!0;this.mj=this.we.en();break}v=0;for(E=z.size;v<E;v+=2){n=z.get(v);m=z.get(v+1);
r?(n=this.Tc.jv(q,b,n,!0),r=!1):n=this.Tc.addElement(n,-1);if(this.we.Ng){this.mj=this.we.en();a=!0;break}-1==this.a.Sa(m,l)?this.a.Va(m,l,n):this.a.Va(m,u,n)}if(a)break;z.yf(0)}this.a.le(l);this.a.le(u);return a};b.prototype.tQ=function(a,c){this.we.compare(this.Tc,this.Tc.ja(a),c);a=this.we.Ng;this.we.Gs();return a};b.Cj=function(a){for(var c=a.sd;-1!=c;c=a.Ue(c))if(e.T.Ic(a.hc(c)))return!0;return!1};b.Gm=function(a,c,f,h){if(!b.Cj(a))return!1;c=new b(h);c.a=a;c.ta=f;if(15>a.vd)a=c.mR();else return c.nR();
return a};b.V=function(a,c,f){return b.Gm(a,a.TG(),c,f)};b.tJ=function(a,c,f,h,l){if(!b.Cj(c))return!1;var u=new b(l);u.a=c;u.ta=f;u.LA=a;if(u.uJ())return null!=h&&h.ms(u.mj),!0;var d=new e.Hd;d.xC();c.Xc(d);u=new b(l);u.a=c;u.ta=f;u.LA=a;a=u.uJ();d.xC();c.Xc(d);return a?(null!=h&&h.ms(u.mj),!0):!1};b.qm=function(a,c){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*c<1*a*c};b.kR=function(a,c,f,h){if(e.T.Ic(c.G()))return(new b(h)).lR(a,c,f);throw e.g.X("crack_A_with_B");};b.prototype.lR=
function(a,c,f){var h=new e.h;a.ac(h);var l=new e.h;c.ac(l);l.O(f,f);if(!l.Yb(h))return a;var u=a.ob,d=null;null!=u&&(d=u.Mb);b.qm(a,a.D())&&(d=e.na.Lj(a,l));var z=null!=d?d.mf():null,t=c.Fa();c=a.Fa();for(var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[];t.Ya();)for(;t.Ea();){var m=t.ba();if(null!=d)for(z.Wn(m,f),u=z.next();-1!=u;u=z.next()){if(this.Pr(),c.Tb(d.ja(u),-1),c.Ea())for(var u=c.ba(),n=u.Ma(m,null,k,null,f),u=0;u<n;++u){var p=k[u];if(0!=p&&1!=p){var r=c.Db(),q=new g;q.t=p;q.index=r;l.push(q)}}}else{var v=
new e.h;m.ac(v);v.O(f,f);if(h.Yb(v))for(c.yj();c.Ya();)for(;c.Ea();)if(this.Pr(),u=c.ba(),p=new e.h,u.ac(p),p.Yb(v))for(n=u.Ma(m,null,k,null,f),u=0;u<n;++u)p=k[u],0!=p&&1!=p&&(r=c.Db(),q=new g,q.t=p,q.index=r,l.push(q))}}if(0==l.length)return a;l=l.sort(g.Hs);a=a.Ka();for(c.yj();c.Ya()&&!c.Ea(););f=c.ba();h=new e.Cg;d=-1;u=0;for(z=l.length;u<z;){k=l[u].index;for(t=u+1;t<z&&l[t].index==k;)++t;for(;c.Db()<k;){this.Pr();m=c.Ea();p=c.Ta;(v=m||!c.Fo()||c.Go())&&a.dc(f,d!=p);d=p;if(!m)for(;c.Ya()&&!c.Ea(););
f=c.ba()}for(k=0;u<t;u++)p=l[u].t,p!=k&&(f.yh(k,p,h),k=p,p=c.Ta,a.dc(h.get(),d!=p),d=p);if(v=(m=c.Ea())||!c.Fo()||c.Go())f.yh(k,1,h),a.dc(h.get(),!1);if(m)f=c.ba();else{for(;c.Ya()&&!c.Ea(););c.Ea()?f=c.ba():f=null}u=t}null!=f&&(p=c.Ta,(v=(m=c.Ea())||!c.Fo()||c.Go())&&a.dc(f,d!=p),d=p);for(m=c.Ea();;){if(!m){for(;c.Ya()&&!(m=c.Ea()););if(!m)break}f=c.ba();p=c.Ta;(v=(m=c.Ea())||!c.Fo()||c.Go())&&a.dc(f,d!=p);d=p}return a};return b}();e.Ku=d;var g=function(){function b(){}b.Hs=function(a,c){return a.index==
c.index?a.t>c.t?1:a.t<c.t?-1:0:a.index>c.index?1:-1};return b}()})(m||(m={}));(function(e){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(e.VL||(e.VL={}));var d=function(){return function(a,b,h,e,u,d,z,g,t,k,m){this.Y=a;this.nx=b;this.It=h;this.Pg=e;this.yn=k;this.em=m}}();e.GZ=d;var g=function(){function a(a,c){this.YI=a;this.gj=c}a.prototype.HO=function(a,c){var b=new e.b;this.gj.w(a,b);var f=new e.b;this.gj.w(c,
f);b=b.compare(f);if(0!=b)return b;b=this.gj.Sa(a,this.YI);f=this.gj.Sa(c,this.YI);return b<f?-1:b==f?0:1};return a}(),b=function(){return function(a,b,h,e,u,d,z,g,t){this.Pg=a;this.It=b;this.tB=h;this.hJ=e;this.dj=u;this.em=d;this.yn=z;this.iJ=g;this.MV=t}}();e.FZ=b;var a=function(){function a(){}a.UL=function(c,b,l,u,x,z){if(b.u())c=new d(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),x.push(c);else{var f=new e.fd;f.Jb(b);f.Jb(l);e.sk.V(f,u,z,!0);b=0;l=f.Vd();for(u=f.sd;-1!=u;u=f.Ue(u))for(z=f.Pb(u);-1!=
z;z=f.Sb(z))for(var h=f.cb(z),g=0,t=f.La(z);g<t;h=f.U(h),g++)f.Va(h,l,b++);b=a.lM(l,f);a.tW(c,b,f,x)}};a.lM=function(c,b){for(var f=b.vd,h=new e.ia(0),d=b.sd;-1!=d;d=b.Ue(d))for(var z=b.Pb(d);-1!=z;z=b.Sb(z))for(var t=b.cb(z),k=0,m=b.La(z);k<m;t=b.U(t),k++)h.add(t);var n=new g(c,b);h.Gd(0,f,function(a,c){return n.HO(a,c)});c=[];var p=[],r=b.Vd(),q=b.Vd(),d=b.sd,z=b.Ue(d),m=new e.b,v=new e.b,E=h.get(0),w=b.ld(E),y=b.ng(w);b.w(E,m);for(var A=1,t=0;A<f-1;){for(var B=!1,k=A;k<f;k++)if(k!=t){var D=h.get(k),
C=b.ld(D),I=b.ng(C);b.w(D,v);if(m.ub(v))y==d&&I==z&&(B=a.nZ(r,q,b,c,p,w,E,C,D));else break}if(B||t==A-1){B&&t==A-1&&A--;if(++t==f)break;E=h.get(t);w=b.ld(E);y=b.ng(w);b.w(E,m)}B||(A=t+1)}f=[];for(d=b.sd;-1!=d;d=b.Ue(d))for(z=b.Pb(d);-1!=z;z=b.Sb(z))for(h=b.cb(z),k=0,m=b.La(z);k<m;h=b.U(h),k++){t=b.Sa(h,q);if(0<=t)for(;t<p.length&&p[t].Pg==h;)f.push(p[t++]);t=b.Sa(h,r);if(0<=t)for(;t<c.length&&c[t].Pg==h;)f.push(c[t++])}b.le(r);b.le(q);return f};a.nZ=function(c,b,e,u,d,z,g,t,k){var f=e.Rj(z),h=e.Rj(t),
l=e.cb(z),x=e.cb(t),m=e.Ra(g),S=e.Ra(k),n=!1,p=!1,P=!1,r=!1;g!=l&&(k!=x&&(n=a.tZ(c,e,u,z,m,t,S)),k!=h&&(p=a.vZ(c,e,u,z,m,t,k)));g!=f&&(k!=x&&(P=a.xZ(b,e,d,z,g,t,S,l)),k!=h&&(r=a.GL(b,e,d,z,g,t,k,l)));n&&p&&P?(c=u.length-1,2==d[r?d.length-2:d.length-1].dj&&(u[c-1]=u[c],--u.length)):n&&p&&r&&2==d[d.length-1].dj&&(d=u[u.length-1],--u.length,e.Sa(d.Pg,c)==u.length&&e.Va(d.Pg,c,-1));return n||p||P||r};a.tZ=function(a,c,l,u,d,g,t){var f,h;h=new e.Hb;var x=new e.Hb,z=[0,0],k=[0,0];f=c.ic(d);null==f&&(c.pd(d,
h),f=h);h=c.ic(t);null==h&&(c.pd(t,x),h=x);f=f.Ma(h,null,z,k,0);2>f&&(u=new b(d,u,z[0],NaN,f,t,g,k[0],NaN),l.push(u),u=c.Sa(d,a),0>u&&c.Va(d,a,l.length-1));return!0};a.vZ=function(a,c,l,u,d,g,t){var f,h;h=new e.Hb;var x=new e.Hb,z=[0,0],k=[0,0];f=c.ic(d);null==f&&(c.pd(d,h),f=h);h=c.ic(t);null==h&&(c.pd(t,x),h=x);f=f.Ma(h,null,z,k,0);return 2>f?(u=new b(d,u,z[0],NaN,f,t,g,k[0],NaN),l.push(u),u=c.Sa(d,a),0>u&&c.Va(d,a,l.length-1),!0):!1};a.xZ=function(a,c,l,u,d,g,t,k){var f,h;h=new e.Hb;var x=new e.Hb,
z=[0,0],m=[0,0];f=c.ic(d);null==f&&(c.pd(d,h),f=h);h=c.ic(t);null==h&&(c.pd(t,x),h=x);f=f.Ma(h,null,z,m,0);if(2==f)return u=new b(d,u,z[0],z[1],f,t,g,m[0],m[1]),l.push(u),u=c.Sa(d,a),0>u&&c.Va(d,a,l.length-1),!0;x=!1;d==k&&(u=new b(d,u,z[0],NaN,f,t,g,m[0],NaN),l.push(u),u=c.Sa(d,a),0>u&&c.Va(d,a,l.length-1),x=!0);return x};a.GL=function(a,c,l,u,d,g,t,k){var f,h;h=new e.Hb;var x=new e.Hb,z=[0,0],m=[0,0];f=c.ic(d);null==f&&(c.pd(d,h),f=h);h=c.ic(t);null==h&&(c.pd(t,x),h=x);f=f.Ma(h,null,z,m,0);if(2==
f)return u=new b(d,u,z[0],z[1],f,t,g,m[0],m[1]),l.push(u),u=c.Sa(d,a),0>u&&c.Va(d,a,l.length-1),!0;x=!1;d==k&&(u=new b(d,u,z[0],NaN,f,t,g,m[0],NaN),l.push(u),u=c.Sa(d,a),0>u&&c.Va(d,a,l.length-1),x=!0);return x};a.tW=function(c,b,l,u){var f,h=[];h[0]=new e.b;h[1]=new e.b;h[2]=new e.b;h[3]=new e.b;var g=new e.b,t=new e.b,k=new e.b,m=new e.b,n=null;null!=u&&(n=new e.Cg,n.Js());var p,r=0,q=null,v=new e.Hb;new e.Hb;for(var E=l.Pb(l.sd);-1!=E;E=l.Sb(E)){var w,y=4,A=-1,B,D,C,I=-1,G,F,L,H,K=-1,Q=-1,J=NaN;
w=!0;var N=!1,M=!0,X=!0,O=!0,R=0;C=E;G=0;for(var V=l.cb(E),W=l.La(E),ba=0;ba<W;V=l.U(V),ba++){p=l.ic(V);if(null==p){if(!l.pd(V,v))continue;p=v}-1==I&&(I=V);for(var U=0;r<b.length&&V==b[r].Pg;){A=b[r].It;B=b[r].Pg;D=b[r].tB;F=b[r].yn;L=b[r].em;H=b[r].iJ;if(2==b[r].dj){if(N||(C=A,I=B,G=D,K=F,Q=L,J=H,y=2,null!=u?q=new e.Ua:R=0,O=!1,X=!0),D=b[r].hJ,H=b[r].MV,null!=u?(p.yh(U,b[r].hJ,n),q.dc(n.get(),X)):R++,U=D,N=!0,X=w=!1,r+1==b.length||2!=b[r+1].dj||b[r+1].Pg==B&&b[r+1].tB!=U)null!=u?(f=new d(q,2,A,B,
D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):null.add(R),C=A,I=B,G=D,K=F,Q=L,J=H,y=2,N=w=!1,X=O=!0}else{var Y=l.U(B);if(r<b.length-1&&b[r+1].Pg==Y&&b[r+1].em==L&&2==b[r+1].dj)D!=U&&(O&&(null!=u?q=new e.Ua:R=0),w=0<r&&b[r-1].It==A?1==y?0:0==y?1:3:3,null!=u?(p.yh(U,D,n),q.dc(n.get(),X),f=new d(q,w,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):(R++,null.add(R)),U=D,C=A,I=B,G=D,K=F,Q=L,J=H,y=w,w=M=!1,X=O=!0);else if(!a.aM(c,l,b,r,g,t)){a.ML(l,b,r,E,V,k,m);var aa=!1,Y=!1;f=!0;if(!(g.ub(k)||t.ub(k)||g.ub(m)||t.ub(m))){h[0].L(g);
h[1].L(t);h[2].L(k);h[3].L(m);h.sort(e.b.vs);var ca=h[0],da=h[1],fa=h[2],ga=h[3];ca.ub(g)?da.ub(t)?c?(Y=aa=!0,f=!1):aa=!1:ga.ub(t)?c?f=Y=aa=!0:aa=!1:(aa=!0,f=da.ub(k)):da.ub(g)?fa.ub(t)?c?(Y=aa=!0,f=!1):aa=!1:ca.ub(t)?c?f=Y=aa=!0:aa=!1:(aa=!0,f=fa.ub(k)):fa.ub(g)?ga.ub(t)?c?(Y=aa=!0,f=!1):aa=!1:da.ub(t)?c?f=Y=aa=!0:aa=!1:(aa=!0,f=ga.ub(k)):ca.ub(t)?c?(Y=aa=!0,f=!1):aa=!1:fa.ub(t)?c?f=Y=aa=!0:aa=!1:(aa=!0,f=ca.ub(k))}if(aa){aa=V==B;if(D!=U||aa&&0==U)O&&(null!=u?q=new e.Ua:R=0),null!=u?(p.yh(U,D,n),
q.dc(n.get(),X)):R++;if(f)if(1!=y){if(D!=U||aa&&0==U)null!=u?(f=new d(q,1,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):null.add(R);if(!Y)y=1;else if(r==b.length-2||b[r+2].It!=A)y=0}else{if(D!=U||aa&&0==U)null!=u?(f=new d(q,3,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):null.add(R);y=1}else if(0!=y){if(D!=U||aa&&0==U)null!=u?(f=new d(q,0,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):null.add(R);if(!Y)y=0;else if(r==b.length-2||b[r+2].It!=A)y=1}else{if(D!=U||aa&&0==U)null!=u?(f=new d(q,3,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):
null.add(R);y=0}if(D!=U||aa&&0==U)U=D,C=A,I=B,G=D,K=F,Q=L,J=H,w=M=!1,X=O=!0}}}r++}1!=U&&(O&&(null!=u?q=new e.Ua:R=0),null!=u?(p.yh(U,1,n),q.dc(n.get(),X)):R++,X=O=!1,M=!0)}M&&(D=1,B=l.Rj(E),B=l.Ra(B),L=F=-1,H=NaN,w?null!=u?(f=new d(q,4,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):null.add(R):(w=1==y?0:0==y?1:3,null!=u?(f=new d(q,w,A,B,D,y,C,I,G,F,L,H,K,Q,J),u.push(f)):null.add(R)))}};a.aM=function(c,b,l,u,d,g){var f=l[u].iJ;if(1==f)return a.QL(c,b,l,u,d,g);if(0==f)return a.XL(c,b,l,u,d,g);throw e.g.za();
};a.QL=function(a,c,b,u,d,g){var f=new e.Hb,h=b[u].Pg,l=b[u].yn,x=b[u].em,z=-1,t=-1,k=-1,m=-1;if(!a&&0<u)var n=b[u-1],z=n.Pg,t=n.yn,k=n.em,m=n.dj;var p=-1,r=-1,q=-1,v=-1;u<b.length-1&&(n=b[u+1],p=n.Pg,r=n.yn,q=n.em,v=n.dj);var E=c.U(h),n=c.U(x);if(!a)return 0<u&&z==h&&t==l&&k==n&&2==m||u<b.length-1&&p==E&&r==l&&q==n&&2==v?(a=c.ic(x),null==a&&(c.pd(x,f),a=f),g.L(a.Eg(1)),d.bu(g),g.normalize(),d.normalize(),!1):u<b.length-1&&p==h&&r==l&&q==n?(a=c.ic(x),null==a&&(c.pd(x,f),a=f),d.L(a.Eg(1)),a=c.ic(n),
null==a&&(c.pd(n,f),a=f),g.L(a.Eg(0)),d.Lr(),g.normalize(),d.normalize(),!1):!0;if(u==b.length-1||p!=h||r!=l||q!=n||2==v)return a=c.ic(x),null==a&&(c.pd(x,f),a=f),g.L(a.Eg(1)),d.bu(g),g.normalize(),d.normalize(),!1;a=c.ic(x);null==a&&(c.pd(x,f),a=f);d.L(a.Eg(1));a=c.ic(n);null==a&&(c.pd(n,f),a=f);g.L(a.Eg(0));d.Lr();g.normalize();d.normalize();return!1};a.XL=function(a,c,b,u,d,g){var f=new e.Hb,h=b[u].Pg,l=b[u].yn,x=b[u].em,z=-1,t=-1,k=-1,m=-1;if(!a&&u<b.length-1)var n=b[u+1],z=n.Pg,t=n.yn,k=n.em,
m=n.dj;var p=-1,r=-1,q=-1,n=-1;0<u&&(n=b[u-1],p=n.Pg,r=n.yn,q=n.em,n=n.dj);var v=c.U(h),E=c.Ra(x);return a?0==u||p!=h||r!=l||q!=E||2==n?(a=c.ic(x),null==a&&(c.pd(x,f),a=f),g.L(a.Eg(0)),d.bu(g),g.normalize(),d.normalize(),!1):!0:0<u&&p==h&&r==l&&q==E&&2==n||u<b.length-1&&z==v&&t==l&&k==E&&2==m?(a=c.ic(x),null==a&&(c.pd(x,f),a=f),g.L(a.Eg(0)),d.bu(g),g.normalize(),d.normalize(),!1):!0};a.ML=function(a,c,b,u,d,g,t){var f=new e.Hb,h=a.ic(d);null==h&&(a.pd(d,f),h=f);b=c[b];c=b.Pg;b=b.tB;d=a.U(c);if(1==
b)g.L(h.Eg(1)),-1!=d&&d!=a.Rj(u)?(h=a.ic(d),null==h&&(a.pd(d,f),h=f),t.L(h.Eg(0)),h=a.ic(c),null==h&&a.pd(c,f)):t.L(g),g.Lr(),t.normalize(),g.normalize();else if(0==b)t.L(h.Eg(b)),g.bu(t),t.normalize(),g.normalize();else throw e.g.za();};return a}();e.WL=a})(m||(m={}));(function(e){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(e.iO||(e.iO={}));var d=function(){function a(a,c,b){this.nd=c;this.Ai=b;this.bB=a}a.prototype.Eb=function(c){return c instanceof a?this.Ai===
c.Ai:!1};a.lH=function(c){return 0!==c.nd?null:-1===c.bB?new a(-1,2,c.Ai*c.Ai):a.ze(f[c.bB])};a.ze=function(a){a=c[a];return void 0===a?null:a};a.bR=function(c,b,f){var h=null;if(void 0!==f&&null!==f)try{"EPSG"===f.values[0]&&(h=a.ze(parseInt(f.values[1])))}catch(P){}null===h&&(h=new a(-1,c,b));return h};a.prototype.yc=function(){return this.bB};a.prototype.OG=function(a){if(a.nd!=this.nd)throw e.g.Da();return this.Ai/a.Ai};a.li=function(a,c,b){return c.OG(b)*a};a.dG=function(a,c,b,f,h){b=b.OG(f);
for(f=0;f<c;f++)h[f]=a[f]*b};return a}();e.oc=d;for(var g=[109402,4046.8564224,109403,4046.87260987425,109463,100,109401,1E4,109461,225E8,109460,25E8,109451,1E-4,109444,404.68564224000005,109424,404.6849341289498,109428,404.68493792602754,109416,404.67838076760535,109420,404.68423895571647,109448,404.683871963536,109411,404.6872609874253,109450,.01,109408,3.34450944,109405,.09290304,109430,.09290354800069446,109423,.0929028774400711,109427,.09290287831176021,109441,.09290349665192114,109407,.09290137299531805,
109440,.09290286332673177,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109419,.09290271785025629,109447,.0929026336004445,109406,.09290341161327487,109453,6.4516E-4,109454,6.451625806477421E-4,109414,1E6,109445,.04046856422400001,109425,.04046849341289498,109429,.04046849379260275,109417,.04046783807676053,109421,.04046842389557164,109449,.0404683871963536,109412,.04046872609874253,109404,1,109410,1.000027193184865,109413,2589998.4703195216,109452,
1E-6,109409,3429904,109458,3434290.937856,109457,3434528.1495040003,109464,1.244521604938272E-7,109455,25.292852640000003,109456,25.29295381171408,109459,2.89612324,109439,2589988.110336,109462,.7168473118308245,109442,.83612736,109422,.83612589696064,109426,.836125904805842,109415,.8361123569578626,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109418,.8361244606523066,109446,.8361237024040001,109443,.8361307045194736],b=[9103,2.908882086657216E-4,
9104,4.84813681109536E-6,9102,.0174532925199433,9106,.01570796326794897,9105,.01570796326794897,9109,1E-6,9114,9.817477042468104E-4,1031,4.84813681109536E-9,9112,1.570796326794897E-4,9101,1,9113,1.570796326794897E-6],a=[109031,15E4,109461,109030,5E4,109460,1033,.01,109451,9097,20.1168,109444,9052,20.1167824,109424,9062,20.116782494375872,109428,9038,20.1166195164,109416,9042,20.116765121552632,109420,9301,20.116756,109448,9033,20.11684023368047,109411,109005,.1,109450,9014,1.8288,109408,9002,.3048,
109405,9070,.3048008333333334,109430,9051,.3047997333333333,109423,9061,.3047997347632708,109427,9095,.3048007491,109441,9005,.3047972654,109407,9094,.3047997101815088,109440,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9041,.304799471538676,109419,9300,.3047993333333334,109447,9003,.3048006096012192,109406,109008,.0254,109453,109009,.0254000508001016,109454,9036,1E3,109414,9098,.201168,109445,9053,.201167824,109425,9063,.2011678249437587,109429,9039,
.201166195164,109417,9043,.2011676512155263,109421,9302,.20116756,109449,9034,.2011684023368047,109412,9001,1,109404,9031,1.0000135965,109410,9035,1609.3472186944375,109413,1025,.001,109452,9030,1852,109409,109013,1853.184,109458,109012,1853.248,109457,109016,3.527777777777778E-4,109464,109010,5.0292,109455,109011,5.029210058420118,109456,109014,1.7018,109459,9093,1609.344,109439,109015,.8466683600033867,109462,9096,.9144,109442,9050,.9143992,109422,9060,.9143992042898124,109426,9037,.9143917962000001,
109415,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9040,.9143984146160287,109418,9099,.914398,109446,109002,.9144018288036576,109443,109001,.9144,109442,109003,20.1168,109444,109004,.201168,109445,109006,.01,109451,109007,.001,109452],c=[],f=[],h=0;h<g.length;h+=2)c[g[h]]=new d(g[h],2,g[h+1]);g=null;for(h=0;h<b.length;h+=2)c[b[h]]=new d(b[h],1,b[h+1]);b=null;for(h=0;h<a.length;h+=3)c[a[h]]=new d(a[h],0,a[h+1]),f[a[h]]=a[h+2];a=null})(m||(m={}));(function(e){var d=
function(){function e(){this.Gb=this.qb=0}e.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};e.prototype.value=function(){return this.qb};e.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.iP=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=a};e.prototype.bP=function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+
a.Gb+2.220446049250313E-16*Math.abs(this.qb)};e.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.Vg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.yp=function(b){var a=this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);
this.qb=a};e.prototype.pm=function(b,a){var c=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(c);this.qb=c};e.prototype.Wm=function(b){var a=Math.abs(b.qb),c=this.qb/b.qb,f=(this.Gb+Math.abs(c)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,f*=1+(1+b)*b);this.qb=c;this.Gb=f+2.220446049250313E-16*Math.abs(c)};e.prototype.sqrt=function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-
this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};e.prototype.sin=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(c)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};e.prototype.cos=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=c;c=Math.abs(c);this.Gb=(Math.abs(a)+.5*c*b.Gb)*b.Gb+2.220446049250313E-16*c};e.prototype.Lg=function(){return Math.abs(this.qb)<=
this.Gb};e.prototype.lt=function(){return this.Lg()&&0!=this.Gb};return e}();e.Xb=d})(m||(m={}));var I=new m.b,L=new m.b,Q=new m.b,X=new m.b,V=new m.b;(function(e){var d;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(d||(d={}));var g=function(){function b(a,c,b,h,e,u,d){void 0!==c?(this.bb=a,this.Ck=c,this.Gl=b,this.Ji=h,this.Ca=u,this.QA=d,this.Uw=e):(this.bb=a.bb,this.Ck=a.Ck,this.Gl=a.Gl,this.Ji=a.Ji,this.Ca=a.Ca,this.QA=a.QA,
this.Uw=a.Uw);this.nI=!0}b.prototype.next=function(){return this.nI?(this.nI=!1,this.Ji):-1!=this.Ji?(this.Ji=this.bb.U(this.Ji),this.Ca++,-1!=this.Ji&&this.Ji!=this.Uw?this.Ji:this.YV()):-1};b.prototype.YV=function(){this.Gl=this.bb.Sb(this.Gl);for(this.Ca=0;-1!=this.Ck;){for(;-1!=this.Gl;this.Gl=this.bb.Sb(this.Gl))if(this.Uw=this.Ji=this.bb.cb(this.Gl),-1!=this.Ji)return this.Ji;this.Ck=this.bb.Ue(this.Ck);if(-1==this.Ck)break;if(!this.QA||e.T.Ic(this.bb.hc(this.Ck)))this.Gl=this.bb.Pb(this.Ck)}return-1};
b.xR=function(a,c,f,h,e,u,d){return new b(a,c,f,h,e,u,d)};return b}();e.MZ=g;d=function(){function b(){this.Xo=this.on=this.Yk=this.md=this.el=this.jp=this.nj=this.td=this.Bi=this.ph=this.wf=this.Hr=this.Kr=this.xb=this.nm=null;this.cx=this.sd=-1;this.vd=0;this.OA=!1;this.Hr=this.Kr=this.xb=null}b.prototype.ti=function(a){return null!=this.wf?this.wf[a]:null};b.prototype.th=function(a,c){if(null==this.wf){if(null==c)return;this.wf=[];for(var b=0,h=this.xb.D();b<h;b++)this.wf.push(null)}this.wf[a]=
c};b.prototype.Lp=function(a,c){this.td.P(a,1,c)};b.prototype.Kp=function(a,c){this.td.P(a,2,c)};b.prototype.tC=function(a,c){this.td.P(a,6,c)};b.prototype.Lq=function(a){return this.td.S(a,6)};b.prototype.Rx=function(a,c){this.td.P(a,7,c)};b.prototype.dw=function(a){return this.td.S(a,0)};b.prototype.FK=function(a,c){this.md.P(a,1,c)};b.prototype.JK=function(a,c){this.md.P(a,0,c)};b.prototype.UG=function(a){return this.md.S(a,7)};b.prototype.Ip=function(a,c){this.md.P(a,3,c)};b.prototype.Jp=function(a,
c){this.md.P(a,4,c)};b.prototype.eW=function(a){null==this.md&&(this.md=new e.ad(8));var c=this.md.Pe();this.md.P(c,2,a);this.md.P(c,5,0);this.md.P(c,6,0);this.md.P(c,7,c);return c};b.prototype.CS=function(a){this.md.kd(a)};b.prototype.gW=function(a){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));var c=this.td.Pe();this.td.P(c,0,c);this.td.P(c,3,0);this.td.P(c,6,0);this.Rx(c,a);c>=this.nj.size&&(a=16>c?16:e.J.truncate(3*c/2),this.nj.resize(a),this.jp.resize(a));
this.nj.set(c,0);this.jp.set(c,0);return c};b.prototype.DG=function(a){this.td.kd(a)};b.prototype.Dz=function(a){this.Dd.kd(a);this.vd--};b.prototype.xJ=function(a){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));var c=this.Dd.Pe(),b=0<=a?a:c;this.Dd.P(c,0,b);if(0>a){if(b>=this.xb.D()){a=16>b?16:e.J.truncate(3*b/2);this.xb.resize(a);if(null!=this.wf)for(var h=0;h<a;h++)this.wf.push(null);null!=this.ph&&this.ph.resize(a);this.Kr=this.xb.Pa(0)}this.xb.rb(b,
-1E38,-1E38);null!=this.wf&&(this.wf[b]=null);null!=this.ph&&this.ph.write(b,1)}this.Dd.P(c,4,2*b);this.vd++;return c};b.prototype.Wj=function(a,c,b){var f=-1!=c?this.Ra(c):this.Rj(a),e=-1!=f?this.U(f):-1,u=this.xJ(null==b?this.vd:-1),d=this.Za(u);null!=b&&this.xb.vu(d,b);this.Aj(u,a);this.Kc(u,e);this.Lc(u,f);-1!=e&&this.Lc(e,u);-1!=f&&this.Kc(f,u);b=this.Qb(a);f=this.cb(a);-1==c&&this.sh(a,u);c==f&&this.jg(a,u);b&&-1==e&&(this.Kc(u,u),this.Lc(u,u));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,
this.D(a)+1);return u};b.prototype.an=function(){null==this.Xo&&(this.Xo=new e.Wa(this.xb.description));return this.Xo};b.prototype.Hp=function(a,c){this.md.P(a,2,this.md.S(a,2)&-134217729||(1==c?134217728:0))};b.prototype.xo=function(a){return 0!=(this.md.S(a,2)&134217728)?1:0};b.prototype.fP=function(a){var c=this.bh(a.G(),a.description);1736==a.G()&&this.Hp(c,a.xo());this.gF(c,a);return c};b.prototype.gP=function(a){var c=this.bh(a.G(),a.description);this.hF(c,a);return c};b.prototype.PW=function(a,
c){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));this.td.Qe(this.td.yd+a);this.Dd.Qe(this.Dd.yd+c);this.nj.yb(this.nj.size+a);this.jp.yb(this.jp.size+a)};b.prototype.gF=function(a,c){this.PW(c.aa(),c.D());this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);for(var b=null!=this.wf&&null!=c.cf,h=0,l=c.aa();h<l;h++)if(!(2>c.La(h))){var u=this.Yf(a,-1);this.$n(u,c.Qb(h));for(var d=c.wa(h),g=c.Gc(h);d<g;d++){var t=this.Wj(u,-1,null);if(b)if(t=this.Za(t),0!=(c.jH(d)&
1))this.th(t,null);else{var k=new e.Cg;c.ic(d,k,!0);this.th(t,k.get())}}}};b.prototype.hF=function(a,c){this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);a=this.Yf(a,-1);var b=0;for(c=c.D();b<c;b++)this.Wj(a,-1,null)};b.prototype.GY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var l=this.an(),u=this.ld(a),d=0,g=c.Rl(b);d<g;d++){var t=this.Za(a),k=this.U(a),m=c.Mq(b,d);0==d&&(m.Dp(l),this.Yh(a,l));322==m.G()?this.th(t,null):this.th(t,e.T.oe(m));m.Bp(l);d<g-1?a=this.Wj(u,k,l):this.Yh(f,l)}};
b.prototype.FY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var l=this.an(),u=this.ld(a),d=0,g=c.Rl(b);d<g;d++){var t=this.Za(a),k=this.U(a),m=c.Mq(b,g-d-1);0==d&&(m.Bp(l),this.Yh(a,l));322==m.G()?this.th(t,null):this.th(t,e.T.oe(m));m.Dp(l);d<g-1?a=this.Wj(u,k,l):this.Yh(f,l)}};b.prototype.TG=function(){var a=new e.h;a.Oa();for(var c=this.Qr(),b=new e.b,h=!0,l=c.next();-1!=l;l=c.next())this.w(l,b),h?a.Nb(b.x,b.y):a.ml(b.x,b.y),h=!1;return a};b.prototype.Jb=function(a){var c=a.G();
if(e.T.Ic(c))return this.fP(a);if(550==c)return this.gP(a);throw e.g.za();};b.prototype.wP=function(a,c){var b=c.G();if(e.T.Ic(b))this.gF(a,c);else if(550==b)this.hF(a,c);else throw e.g.za();};b.prototype.kP=function(a,c){var b=this.bh(1736,a.description);if(2>a.La(c))return b;this.nm.Id(a,a.wa(c),a.Gc(c));this.Kr=this.xb.Pa(0);var h=this.Yf(b,-1);this.$n(h,a.Qb(c)||!0);var l=null!=this.wf&&null!=a.cf,u=a.wa(c);for(c=a.Gc(c);u<c;u++){var d=this.Wj(h,-1,null);if(l)if(d=this.Za(d),0!=(a.jH(u)&1))this.th(d,
null);else{var g=new e.Cg;a.ic(u,g,!0);this.th(d,g.get())}}return b};b.prototype.Se=function(a){var c=this.hc(a),b=e.uM.bh(c,this.nm.description),h=this.D(a);if(0==h)return b;if(e.T.Ic(c)){for(var c=this.aa(a),l=e.Uc.wh(c+1),u=e.Uc.vq(c+1,0),d=b.description,g=0,t=d.Ga;g<t;g++){for(var k=d.rd(g),m=e.ma.Xa(k),n=e.Uc.qz(k,h),p=this.xb.Pa(k),r=0,q=0,v=0,E=this.Pb(a);-1!=E;E=this.Sb(E)){var w=0;this.Qb(E)&&(w|=1);this.RU(E)&&(w|=4);0!=w&&u.iC(q,w);var y=this.La(E);l.write(q++,v);v+=y;if(0==k)for(var y=
p,A=n,B=new e.b,w=this.cb(E);r<v;w=this.U(w),r++){var D=this.Za(w);y.fc(2*D,B);A.fo(2*r,B)}else for(w=this.cb(E);r<v;w=this.U(w),r++)for(D=this.Za(w),A=0;A<m;A++)B=p.Of(D*m+A),n.Dm(r*m+A,B)}b.Yn(k,n);l.write(c,h)}b.GK(u);b.HK(l);b.Dc(16777215)}else if(550==c){d=b.description;b.resize(h);g=0;for(t=d.Ga;g<t;g++){k=d.rd(g);m=e.ma.Xa(k);n=b.Pa(k);p=this.xb.Pa(k);r=0;E=this.Pb(a);y=this.La(E);for(w=this.cb(E);r<y;w=this.U(w),r++)for(D=this.Za(w),A=0;A<m;A++)B=p.Of(D*m+A),n.Dm(r*m+A,B);b.Yn(k,n)}b.Dc(16777215)}return b};
b.prototype.aC=function(a){for(var c=this.Pb(a);-1!=c;c=this.Rr(c));var c=this.IT(a),b=this.Ue(a);-1!=c?this.FK(c,b):this.sd=b;-1!=b?this.JK(b,c):this.cx=c;this.CS(a)};b.prototype.bh=function(a,c){return void 0===c?this.gG(a,e.ye.Ig()):this.gG(a,c)};b.prototype.gG=function(a,c){a=this.eW(a);null==this.xb?this.xb=this.nm=new e.Ed(c):this.nm.om(c);this.Hr=this.nm.description;this.OA=1<this.Hr.Ga;-1==this.sd?this.sd=a:(this.JK(a,this.cx),this.FK(this.cx,a));return this.cx=a};b.prototype.Ue=function(a){return this.md.S(a,
1)};b.prototype.IT=function(a){return this.md.S(a,0)};b.prototype.hc=function(a){return this.md.S(a,2)&2147483647};b.prototype.xK=function(a,c,b){c=this.Yk[c];a=this.UG(a);a>=c.size&&c.resize(Math.max(e.J.truncate(1.25*a),16),-1);c.write(a,b)};b.prototype.VG=function(a,c){a=this.UG(a);c=this.Yk[c];return a<c.size?c.read(a):-1};b.prototype.hG=function(){null==this.Yk&&(this.Yk=[]);for(var a=0;a<this.Yk.length;a++)if(null==this.Yk[a])return this.Yk[a]=e.Uc.wh(0),a;this.Yk.push(e.Uc.wh(0));return this.Yk.length-
1};b.prototype.uX=function(a){this.Yk[a]=null};b.prototype.Pb=function(a){return this.md.S(a,3)};b.prototype.Xv=function(a){return this.md.S(a,4)};b.prototype.D=function(a){return this.md.S(a,5)};b.prototype.aa=function(a){return this.md.S(a,6)};b.prototype.zq=function(a,c,b){for(var f=0,l=this.sd;-1!=l;l=this.Ue(l)){var u=this.hc(l);if(e.T.Ic(u)&&(!b||1736==u))for(var u=1736==this.hc(l),d=this.Pb(l);-1!=d;){for(var g=0,t=this.cb(d);g<e.J.truncate(this.La(d)/2);){var k=this.U(t);if(-1==k)break;var m=
this.Za(t),n=this.ti(m);null!=n?m=n.Rb():(n=this.Za(k),m=this.xb.xs(m,n));m<=a?(0==m?0==f&&(f=-1):f=1,k!=this.Rj(d)&&(this.JC(k,t),this.ud(k,!0))):t=this.U(t);g++}g=this.cb(d);for(t=this.Qb(d)?g:this.Rj(d);0<this.La(d);)if(k=this.Ra(t),-1!=k){var p=this.Za(k),n=this.ti(p);null!=n?m=n.Rb():(m=this.Za(t),m=this.xb.xs(m,p));if(m<=a)0==m?0==f&&(f=-1):f=1,this.JC(k,t),this.ud(k,!1),g==k&&(g=this.cb(d));else if(t=this.Ra(t),t==g)break}else{this.ud(t,!0);0==f&&(f=-1);break}t=this.La(d);c&&(u?3>t:2>t)?(d=
this.Rr(d),f=0<t?1:0==f?-1:f):d=this.Sb(d)}}return f};b.prototype.JC=function(a,c){var b=this.Za(a),h=this.Za(c);null!=this.ph&&(b=this.ph.read(b),this.ph.write(h,b));if(null!=this.Bi)for(h=0,b=this.Bi.length;h<b;h++)if(null!=this.Bi[h]){var e=this.Sa(a,h);-1!=e&&this.Va(c,h,e)}};b.prototype.zm=function(a,c,b){var f=0,l=this.U(a);if(-1==l)throw e.g.za();for(var u=this.Za(a),d=this.Za(l),g=this.ti(u),t=null==g?this.xb.xs(u,d):g.Rb(),k=0;k<b;k++){var m=c[k];if(0<m&&1>m){var n=m;null!=g&&(n=0<t?g.Dy(m)/
t:0);this.xb.DE(u,d,n,this.an());var p=this.Wj(this.ld(a),l,this.an());f++;if(null!=g){var r=g.Hl(0,m),n=this.Za(this.Ra(p));this.th(n,r);this.Qf(p,r.Cc());if(k==b-1||1==c[k+1])m=g.Hl(m,1),this.th(n,m)}}}return f};b.prototype.EY=function(a,c,b){var f=0,l=this.U(a);if(-1==l)throw e.g.X("internal error");var u=this.Za(a),d=this.Za(l),g=this.ti(u),t=null==g?this.xb.xs(u,d):g.Rb(),k=0;a=this.ld(a);for(var m=0;m<b;m++){var n=c[m];if(k<n&&1>n){var p=n;null!=g&&(p=0<t?g.Dy(n)/t:0);this.xb.DE(u,d,p,this.an());
p=this.tU(a,l,this.an());f++;if(null!=g){var k=g.Hl(k,n),r=this.Za(this.Ra(p));this.th(r,k);this.rb(p,k.sa,k.oa);if(m==b-1||1==c[m+1])k=g.Hl(n,1),p=this.Za(p),this.th(p,k)}}k=n}return f};b.prototype.tU=function(a,c,b){var f=-1!=c?this.Ra(c):this.Rj(a),e=-1!=f?this.U(f):-1,u=this.xJ(null==b?this.vd:-1),d=this.Za(u);null!=b&&this.xb.vu(d,b);this.Aj(u,a);this.Kc(u,e);this.Lc(u,f);-1!=e&&this.Lc(e,u);-1!=f&&this.Kc(f,u);b=this.Qb(a);f=this.cb(a);-1==c&&this.sh(a,u);c==f&&(b&&-1!=f||this.jg(a,u));b&&-1==
e&&(this.Kc(u,u),this.Lc(u,u));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return u};b.prototype.EF=function(a,c,b){var f=this.Za(c),l=this.Za(b);if(0>f||l>this.vd-1)throw e.g.F("invalid call");if(f>l&&!this.Qb(a))throw e.g.F("cannot iterate across an open path");for(a=0;c!=b;c=this.U(c))f=this.Za(c),l=this.ti(f),null!=l?a+=l.Rb():(l=this.Za(this.U(c)),a+=this.xb.xs(f,l));return a};b.prototype.Yh=function(a,c){var b=this.Za(a);this.xb.vu(b,c);b=this.ti(b);null!=b&&b.setStart(c);a=
this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&b.setEnd(c))};b.prototype.wj=function(a,c){a=this.Za(a);this.xb.Ae(a,c)};b.prototype.Qf=function(a,c){this.rb(a,c.x,c.y)};b.prototype.rb=function(a,c,b){var f=this.Za(a);this.xb.rb(f,c,b);f=this.ti(f);null!=f&&f.wC(c,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&f.vm(c,b))};b.prototype.w=function(a,c){this.xb.w(this.Dd.S(a,0),c)};b.prototype.Nc=function(a,c){this.xb.ya[0].fc(2*this.Dd.S(a,0),c)};b.prototype.Ba=function(a){var c=new e.b;this.xb.w(this.Dd.S(a,
0),c);return c};b.prototype.pH=function(a,c){this.Kr.fc(2*a,c)};b.prototype.Yc=function(a,c,b){return this.xb.Yc(a,this.Za(c),b)};b.prototype.setAttribute=function(a,c,b,h){this.xb.setAttribute(a,this.Za(c),b,h)};b.prototype.Za=function(a){return this.Dd.S(a,0)};b.prototype.nf=function(a){var c=new e.b;this.w(a,c);return c.y};b.prototype.Uq=function(a,c){a=this.Za(a);c=this.Za(c);var b=this.xb.ya[0].f;return b[2*a]===b[2*c]&&b[2*a+1]===b[2*c+1]};b.prototype.qw=function(a,c){a=this.Za(a);var b=this.xb.ya[0].f;
return b[2*a]===c.x&&b[2*a+1]===c.y};b.prototype.qY=function(a,c){1>c&&(c=1);if(null==this.ph){if(1==c)return;this.ph=e.Uc.Um(this.xb.D(),1)}a=this.Za(a);a>=this.ph.size&&this.ph.resize(a+1,1);this.ph.write(a,c)};b.prototype.oH=function(a){a=this.Za(a);return null==this.ph||a>=this.ph.size?1:this.ph.read(a)};b.prototype.Va=function(a,c,b){c=this.Bi[c];a=this.Za(a);c.size<this.xb.D()&&c.resize(this.xb.D(),-1);c.write(a,b)};b.prototype.Sa=function(a,c){a=this.Za(a);c=this.Bi[c];return a<c.size?c.read(a):
-1};b.prototype.Vd=function(){null==this.Bi&&(this.Bi=[]);for(var a=0;a<this.Bi.length;a++)if(null==this.Bi[a])return this.Bi[a]=e.Uc.wh(0,-1),a;this.Bi.push(e.Uc.wh(0,-1));return this.Bi.length-1};b.prototype.le=function(a){this.Bi[a]=null};b.prototype.ic=function(a){return null!=this.wf?(a=this.Za(a),this.wf[a]):null};b.prototype.pd=function(a,c){var b=this.Dd.S(a,2);if(-1==b)return!1;if(this.OA){var h=new e.Wa;this.wj(a,h);c.setStart(h);this.wj(b,h);c.setEnd(h)}else this.xb.Nc(this.Dd.S(a,0),I),
c.Qm(0,I),this.xb.Nc(this.Dd.S(b,0),I),c.Qm(1,I);return!0};b.prototype.gX=function(a,c,b){if(this.OA){var f=new e.Wa;this.wj(a,f);b.setStart(f);this.wj(c,f);b.setEnd(f)}else this.xb.Nc(a,I),b.Qm(0,I),this.xb.Nc(c,I),b.Qm(1,I)};b.prototype.Yf=function(a,c){var b;if(-1!=c){if(a!=this.ng(c))throw e.g.za();b=this.ct(c)}else b=this.Xv(a);var h=this.gW(a);-1!=c&&this.Lp(c,h);this.Kp(h,c);this.Lp(h,b);-1!=b?this.Kp(b,h):this.Ip(a,h);-1==c&&this.Jp(a,h);this.wm(a,this.aa(a)+1);return h};b.prototype.BH=function(a,
c,b,h){a=this.Yf(a,-1);for(var f=0,e=c,d=!1;e==b&&(d=!0),this.Aj(e,a),f++,e=this.U(e),e!=c;);this.$n(a,!0);this.nk(a,f);d&&(c=b);this.jg(a,c);this.sh(a,this.Ra(c));this.Np(a,!1);null!=h&&(h[0]=d);return a};b.prototype.Rr=function(a){var c=this.ct(a),b=this.Sb(a),h=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(h,b);-1!=b?this.Lp(b,c):this.Jp(h,c);this.DQ(a);this.wm(h,this.aa(h)-1);this.DG(a);return b};b.prototype.DQ=function(a){var c=this.cb(a);if(-1!=c){for(var b=0,h=this.La(a);b<h;b++){var e=c,c=this.U(c);
this.Dz(e)}c=this.ng(a);this.lk(c,this.D(c)-this.La(a))}this.nk(a,0)};b.prototype.Sb=function(a){return this.td.S(a,2)};b.prototype.ct=function(a){return this.td.S(a,1)};b.prototype.La=function(a){return this.td.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.$n=function(a,c){if(this.Qb(a)!=c){if(0<this.La(a)){var b=this.cb(a),h=this.Rj(a);c?(this.Kc(h,b),this.Lc(b,h)):(this.Kc(h,-1),this.Lc(b,-1));b=this.Za(h);this.th(b,null)}this.tC(a,(this.Lq(a)|1)-1|(c?1:0))}};b.prototype.ng=
function(a){return this.td.S(a,7)};b.prototype.RU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.oC=function(a,c){this.tC(a,(this.Lq(a)|2)-2|(c?2:0))};b.prototype.gA=function(a){if(this.XU(a))return this.nj.get(this.dw(a));var c=new e.Hb,b=this.cb(a);if(-1==b)return 0;var h=new e.b;this.w(b,h);for(var l=0,u=0,d=this.La(a);u<d;u++,b=this.U(b)){var g=this.ic(b);if(null==g){if(!this.pd(b,c))continue;g=c}l+=g.Cy(h.x,h.y)}this.Np(a,!0);this.nj.set(this.dw(a),l);return l};b.prototype.$r=function(a,c,
b){c=this.el[c];a=this.dw(a);c.size<this.nj.size&&c.resize(this.nj.size,-1);c.write(a,b)};b.prototype.Tj=function(a,c){a=this.dw(a);c=this.el[c];return a<c.size?c.read(a):-1};b.prototype.rz=function(){null==this.el&&(this.el=[]);for(var a=0;a<this.el.length;a++)if(null==this.el[a])return this.el[a]=e.Uc.wh(0),a;this.el.push(e.Uc.wh(0));return this.el.length-1};b.prototype.bC=function(a){this.el[a]=null};b.prototype.XV=function(a,c,b){if(-1==b)throw e.g.F();if(c!=b){var f=this.Sb(b),l=this.ct(b),u=
this.ng(b);-1==l?this.Ip(u,f):this.Kp(l,f);-1==f?this.Jp(u,l):this.Lp(f,l);this.lk(u,this.D(u)-this.La(b));this.wm(u,this.aa(u)-1);l=-1==c?this.Xv(a):this.ct(c);this.Lp(b,l);this.Kp(b,c);-1==c?this.Jp(a,b):this.Lp(c,b);-1==l?this.Ip(a,b):this.Kp(l,b);this.lk(a,this.D(a)+this.La(b));this.wm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Kj=function(a,c){this.xb.Ae(this.Za(c),this.an());this.Wj(a,-1,this.an())};b.prototype.ud=function(a,c){var b=this.ld(a),h=this.Ra(a),l=this.U(a);-1!=h&&this.Kc(h,l);var u=
this.La(b);a==this.cb(b)&&this.jg(b,1<u?l:-1);-1!=l&&this.Lc(l,h);a==this.Rj(b)&&this.sh(b,1<u?h:-1);if(-1!=h&&-1!=l){var h=this.Za(h),d=this.Za(l);c?(c=this.ti(h),null!=c&&(h=new e.b,this.xb.w(d,h),c.Zc(h))):(d=this.Za(a),c=this.ti(d),this.th(h,c),null!=c&&(h=this.xb.Ba(h),c.Mc(h)))}this.nk(b,u-1);b=this.ng(b);this.lk(b,this.D(b)-1);this.Dz(a);return l};b.prototype.cb=function(a){return this.td.S(a,4)};b.prototype.Rj=function(a){return this.td.S(a,5)};b.prototype.U=function(a){return this.Dd.S(a,
2)};b.prototype.Ra=function(a){return this.Dd.S(a,1)};b.prototype.ld=function(a){return this.Dd.S(a,3)};b.prototype.pc=function(a,c){return this.Wj(a,-1,c)};b.prototype.Qr=function(a){if(void 0===a)return this.Qr(!1);if(a instanceof g)return new g(a);var c,b=-1,h=-1,l=-1,u=0,d=!1;for(c=this.sd;-1!=c;c=this.Ue(c))if(!a||e.T.Ic(this.hc(c))){for(b=this.Pb(c);-1!=b;b=this.Sb(b))if(l=h=this.cb(b),u=0,-1!=h){d=!0;break}if(d)break}return g.xR(this,c,b,h,l,u,a)};b.prototype.Xc=function(a){this.nm.Xc(a);if(null!=
this.wf)for(var c=0,b=this.wf.length;c<b;c++)null!=this.wf[c]&&this.wf[c].Xc(a)};b.prototype.bs=function(a,c,b,h){h?this.GY(a,c,b):this.FY(a,c,b)};b.prototype.Lc=function(a,c){this.Dd.P(a,1,c)};b.prototype.Kc=function(a,c){this.Dd.P(a,2,c)};b.prototype.Aj=function(a,c){this.Dd.P(a,3,c)};b.prototype.nk=function(a,c){this.td.P(a,3,c)};b.prototype.jg=function(a,c){this.td.P(a,4,c)};b.prototype.sh=function(a,c){this.td.P(a,5,c)};b.prototype.wm=function(a,c){this.md.P(a,6,c)};b.prototype.lk=function(a,
c){this.md.P(a,5,c)};b.prototype.fK=function(a){var c=a;do{var b=this.U(c);this.Kc(c,this.Ra(c));this.Lc(c,b);c=b}while(c!=a)};b.prototype.zC=function(a){this.vd=a};b.prototype.Sr=function(a){var c=this.ct(a),b=this.Sb(a),h=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(h,b);-1!=b?this.Lp(b,c):this.Jp(h,c);this.jg(a,-1);this.sh(a,-1);this.DG(a)};b.prototype.Mi=function(a,c){var b=this.Ra(a),h=this.U(a);-1!=b&&this.Kc(b,h);-1!=h&&this.Lc(h,b);if(-1!=b&&-1!=h)if(b=this.Za(b),h=this.Za(h),c){if(c=this.ti(b),
null!=c){var l=new e.b;this.xb.w(h,l);c.Zc(l)}}else h=this.Za(a),c=this.ti(h),this.th(b,c),null!=c&&(l=new e.b,this.xb.w(b,l),c.Mc(l));this.Dz(a)};b.prototype.XU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Np=function(a,c){this.tC(a,(this.Lq(a)|4)-4|(c?4:0))};b.prototype.Xx=function(a,c){var b=this.Dd.f;this.xb.wc();var h=this.xb.ya[0].f;a.Gd(0,c,function(a,c){a=b[5*a];c=b[5*c];var f=h[2*a];a=h[2*a+1];var e=h[2*c];c=h[2*c+1];return a<c?-1:a>c?1:f<e?-1:f>e?1:0})};b.prototype.dU=function(){for(var a=
this.sd;-1!=a;a=this.Ue(a))if(!e.T.Ic(this.hc(a)))return!0;return!1};b.prototype.EC=function(a,c){for(var b=this.Pb(a),h=this.Pb(c),e=this.Xv(a),u=this.Xv(c),d=this.Pb(a);-1!=d;d=this.Sb(d))this.Rx(d,c);for(d=this.Pb(c);-1!=d;d=this.Sb(d))this.Rx(d,a);this.Ip(a,h);this.Ip(c,b);this.Jp(a,u);this.Jp(c,e);b=this.D(a);h=this.aa(a);e=this.aa(c);this.lk(a,this.D(c));this.lk(c,b);this.wm(a,e);this.wm(c,h);b=this.md.S(a,2);this.md.P(a,2,this.md.S(c,2));this.md.P(c,2,b)};return b}();e.fd=d})(m||(m={}));(function(e){var d=
function(d){function b(a,c,b,h){d.call(this);this.R=new e.h;void 0===a?this.$F():"number"===typeof a?this.YQ(a,c,b,h):a instanceof e.Wa?void 0!==c?this.Ev(a,c,b):this.ZQ(a):a instanceof e.ma?void 0!==c?this.aR(a,c):this.$Q(a):a instanceof e.h?this.XQ(a):this.$F()}O(b,d);b.prototype.Ev=function(a,c,b){this.description=e.ye.Ig();this.R.Oa();a.u()||this.cv(a,c,b)};b.prototype.XQ=function(a){this.description=e.ye.Ig();this.R.I(a);this.R.normalize()};b.prototype.$Q=function(a){if(null==a)throw e.g.F();
this.description=a;this.R.Oa()};b.prototype.aR=function(a,c){if(null==a)throw e.g.F();this.description=a;this.R.I(c);this.R.normalize()};b.prototype.$F=function(){this.description=e.ye.Ig();this.R.Oa()};b.prototype.ZQ=function(a){this.description=e.ye.Ig();this.R.Oa();a.u()||this.cv(a)};b.prototype.YQ=function(a,c,b,h){this.description=e.ye.Ig();this.I(a,c,b,h)};b.prototype.I=function(a,c,b,h){this.Bc();if("number"===typeof a)this.R.I(a,c,b,h);else for(this.Oa(),c=0,b=a.length;c<b;c++)this.Nb(a[c])};
b.prototype.Gp=function(a){this.Bc();if(!a.ZU())throw e.g.F();this.R.I(a)};b.prototype.Oa=function(){this.Bc();this.R.Oa()};b.prototype.u=function(){return this.R.u()};b.prototype.N=function(){return this.R.N()};b.prototype.fa=function(){return this.R.fa()};b.prototype.Hk=function(){return this.R.Hk()};b.prototype.Cq=function(){return this.R.Cq()};b.prototype.Bq=function(){return this.R.Wf()};b.prototype.Nb=function(a){if(a instanceof e.b)this.Bc(),this.R.Nb(a);else if(a instanceof e.h)this.Bc(),
this.R.Nb(a);else if(a instanceof e.Wa){if(this.Bc(),!a.Hc()){var c=a.description;this.description!=c&&this.om(c);if(this.u())this.cv(a);else{this.R.Nb(a.w());for(var f=1,h=c.Ga;f<h;f++)for(var l=c.Td(f),u=e.ma.Xa(l),d=0;d<u;d++){var g=a.Yc(l,d),t=this.xf(l,d);t.Nb(g);setInterval(l,d,t)}}}}else if(a instanceof b&&!a.u())for(c=a.description,c!=this.description&&this.om(c),this.R.Nb(a.R),f=1,h=c.Ga;f<h;f++)for(l=c.rd(f),u=e.ma.Xa(l),d=0;d<u;d++)g=a.xf(l,d),t=this.xf(l,d),t.Nb(g),setInterval(l,d,t)};
b.prototype.cv=function(a,c,b){if(void 0!==c){this.R.I(a.w(),c,b);c=a.description;b=1;for(var f=c.Ga;b<f;b++)for(var l=c.Td(b),u=e.ma.Xa(l),d=0;d<u;d++){var g=a.Yc(l,d);this.setInterval(l,d,g,g)}}else for(this.R.I(a.la[0],a.la[1]),c=a.description,b=1,f=c.Ga;b<f;b++)for(l=c.Td(b),u=e.ma.Xa(l),d=0;d<u;d++)g=a.Yc(l,d),this.setInterval(l,d,g,g)};b.prototype.setInterval=function(a,c,b,h){var f=null;"number"===typeof b?f=new e.Ac(b,h):f=b;this.Bc();if(0==a)if(0==c)this.R.o=f.ca,this.R.v=f.ha;else if(1==
c)this.R.A=f.ca,this.R.B=f.ha;else throw e.g.wd();else this.LE(0,a,c,f.ca),this.LE(1,a,c,f.ha)};b.prototype.O=function(a,c){this.Bc();this.R.O(a,c)};b.prototype.Xc=function(a){if(a instanceof e.Hd)this.Bc(),a.KC(this.R);else if(this.Bc(),!this.R.u()){var c=new e.dM;this.Cp(c);c.QU()?c.Oa():a.KC(c)}};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.Bc();a.description=this.description;a.R.I(this.R);a.la=null;if(null!=this.la){a.Yu();for(var c=0;c<2*(this.description.af.length-2);c++)a.la[c]=
this.la[c]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.hf=function(){return this.R.IG()};b.prototype.Rb=function(){return this.R.ZG()};b.prototype.G=function(){return 197};b.prototype.tb=function(){return 2};b.prototype.Qn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B};b.prototype.Cp=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B;a.I(this.R.o,this.R.A,this.ae(0,1,0),this.R.v,this.R.B,this.ae(1,
1,0))};b.prototype.xf=function(a,c){var b=new e.Ac;b.I(this.ae(0,a,c),this.ae(1,a,c));return b};b.prototype.ig=function(a,c){c.Fg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var h=this.description.rd(a),l=e.ma.Xa(h),u=0;u<l;u++)c.setAttribute(h,u,this.ae(0,h,u));c.rb(this.R.o,this.R.A);break;case 1:for(a=0;a<b;a++)for(h=this.description.rd(a),l=e.ma.Xa(h),u=0;u<l;u++)c.setAttribute(h,u,this.ae(1,h,u));c.rb(this.R.o,this.R.B);break;case 2:for(a=0;a<b;a++)for(h=
this.description.rd(a),l=e.ma.Xa(h),u=0;u<l;u++)c.setAttribute(h,u,this.ae(0,h,u));c.rb(this.R.v,this.R.B);break;case 3:for(a=0;a<b;a++)for(h=this.description.rd(a),l=e.ma.Xa(h),u=0;u<l;u++)c.setAttribute(h,u,this.ae(1,h,u));c.rb(this.R.v,this.R.A);break;default:throw e.g.wd();}};b.prototype.Gx=function(a,c){a=this.R.Gx(a);c.ka(a.x,a.y)};b.prototype.bT=function(a,c){return c*(a.Er-2)};b.prototype.JG=function(a,c,b){if(this.R.u())throw e.g.X("empty geometry");if(0==c)return 0!=a?0!=b?this.R.B:this.R.v:
0!=b?this.R.A:this.R.o;if(b>=e.ma.Xa(c))throw e.g.F();var f=this.description.mg(c);this.Yu();return 0<=f?this.la[this.bT(this.description,a)+this.description.ET(f)-2+b]:e.ma.de(c)};b.prototype.Yu=function(){this.Bc();if(null==this.la&&2<this.description.af.length){this.la=[];for(var a=b.$(this.description,0),c=b.$(this.description,1),f=0,h=1,l=this.description.Ga;h<l;h++)for(var u=this.description.rd(h),d=e.ma.Xa(u),u=e.ma.de(u),g=0;g<d;g++)this.la[a+f]=u,this.la[c+f]=u,f++}};b.prototype.mo=function(a){if(null!=
this.la)if(2<a.af.length){for(var c=e.ye.vx(a,this.description),f=[],h=b.$(this.description,0),l=b.$(this.description,1),u=b.$(a,0),d=b.$(a,1),g=0,t=1,k=a.Ga;t<k;t++){var m=a.rd(t),n=e.ma.Xa(m);if(-1==c[t])for(var p=e.ma.de(m),m=0;m<n;m++)f[u+g]=p,f[d+g]=p,g++;else for(p=this.description.xk(c[t])-2,m=0;m<n;m++)f[u+g]=this.la[h+p],f[d+g]=this.la[l+p],g++,p++}this.la=f}else this.la=null;this.description=a};b.prototype.ae=function(a,c,f){if(this.R.u())throw e.g.X("This operation was performed on an Empty Geometry.");
if(0==c)return 0!=a?0!=f?this.R.B:this.R.v:0!=f?this.R.A:this.R.o;if(f>=e.ma.Xa(c))throw e.g.wd();var h=this.description.mg(c);return 0<=h?(this.Yu(),this.la[b.$(this.description,a)+this.description.xk(h)-2+f]):e.ma.de(c)};b.prototype.LE=function(a,c,f,h){this.Bc();if(0==c)0!=a?0!=f?this.R.B=h:this.R.v=h:0!=f?this.R.A=h:this.R.o=h;else{if(f>=e.ma.Xa(c))throw e.g.wd();if(!this.hasAttribute(c)){if(e.ma.PH(c,h))return;this.Ud(c)}c=this.description.mg(c);this.Yu();this.la[b.$(this.description,a)+this.description.xk(c)-
2+f]=h}};b.$=function(a,c){return c*(a.af.length-2)};b.prototype.Ma=function(a){this.Bc();var c=new e.h;a.s(c);return this.R.Ma(c)};b.prototype.Yb=function(a){return a instanceof e.h?this.R.Yb(a):this.R.Yb(a.R)};b.prototype.xv=function(a,c,b){this.Bc();a.u()?this.Oa():void 0!==c?this.cv(a,c,b):this.R.xv(a.Be(),a.nf())};b.prototype.offset=function(a,c){this.Bc();this.R.offset(a,c)};b.prototype.normalize=function(){this.Bc();this.R.normalize()};b.prototype.Wf=function(a){if(void 0!==a)if(a.Fg(this.description),
this.u())a.Oa();else{for(var c=this.description.Ga,b=1;b<c;b++)for(var h=this.description.rd(b),l=e.ma.Xa(h),u=0;u<l;u++){var d=.5*(this.JG(0,h,u)+this.JG(1,h,u));a.setAttribute(h,u,d)}a.rb(this.R.Wf())}else{a=new e.Wa(this.description);if(this.u())return a;c=this.description.Ga;for(b=1;b<c;b++)for(h=this.description.Td(b),l=e.ma.Xa(h),u=0;u<l;u++)d=.5*(this.ae(0,h,u)+this.ae(1,h,u)),a.setAttribute(h,u,d);a.rb(this.R.Hk(),this.R.Cq());return a}};b.prototype.Yz=function(){return new e.Wa(this.R.Yz())};
b.prototype.contains=function(a){return a instanceof e.Wa?a.u()?!1:this.R.contains(a.Be(),a.nf()):this.R.contains(a.R)};b.prototype.gR=function(a){return this.R.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.R.Eb(a.R))return!1;for(var c=0,f=2*(this.description.af.length-2);c<f;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc(),a=e.J.dh(a,
this.R.jc());if(!this.u()&&null!=this.la)for(var c=0,b=2*(this.description.af.length-2);c<b;c++)a=e.J.dh(a,this.la[c]);return a};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.R.o+", "+this.R.A+", "+this.R.v+", "+this.R.B+"]"};return b}(e.T);e.ci=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=c,this.B=f)}d.pa=function(b,a,c,f){var h=new d;h.o=b;h.A=
a;h.v=c;h.B=f;return h};d.prototype.I=function(b,a,c,f){"number"===typeof b?void 0!==c?(this.o=b,this.A=a,this.v=c,this.B=f,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof e.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof d?this.I(b.o,b.A,b.v,b.B):b instanceof e.Ac&&(b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha))};d.prototype.nT=function(b,a){var c=
new d;c.I(this.o,this.A,this.v,this.B);c.O(b,a);return c};d.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var c=1;c<a;c++){var f=b[c];f.x<this.o?this.o=f.x:f.x>this.v&&(this.v=f.x);f.y<this.A?this.A=f.y:f.y>this.B&&(this.B=f.y)}}else if(null==b||0==b.length)this.Oa();else for(f=b[0],this.I(f.x,f.y),c=1;c<b.length;c++)f=b[c],this.ml(f.x,f.y)};d.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};
d.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof e.b?this.Nb(b.x,b.y):b instanceof e.qd?this.Nb(b.x,b.y):b instanceof d&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};d.prototype.ml=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};d.prototype.O=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>
this.v||this.A>this.B)&&this.Oa())};d.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};d.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.TH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);
b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};d.prototype.Gx=function(b){switch(b){case 0:return e.b.pa(this.o,this.A);case 1:return e.b.pa(this.o,this.B);case 2:return e.b.pa(this.v,this.B);case 3:return e.b.pa(this.v,this.A);default:throw e.g.wd();}};d.prototype.PB=function(b){if(null==b||4>b.length)throw e.g.F();null!=b[0]?b[0].ka(this.o,this.A):b[0]=e.b.pa(this.o,this.A);null!=b[1]?b[1].ka(this.o,this.B):b[1]=e.b.pa(this.o,this.B);null!=b[2]?b[2].ka(this.v,this.B):
b[2]=e.b.pa(this.v,this.B);null!=b[3]?b[3].ka(this.v,this.A):b[3]=e.b.pa(this.v,this.A)};d.prototype.IG=function(){return this.u()?0:this.N()*this.fa()};d.prototype.ZG=function(){return this.u()?0:2*(this.N()+this.fa())};d.prototype.Hk=function(){return(this.v+this.o)/2};d.prototype.Cq=function(){return(this.B+this.A)/2};d.prototype.N=function(){return this.v-this.o};d.prototype.fa=function(){return this.B-this.A};d.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};
d.prototype.xv=function(b,a){if(void 0!==a)this.move(b-this.Hk(),a-this.Cq());else if(b instanceof e.b)this.xv(b.x,b.y);else if(b instanceof e.Wa){a=(this.v-this.o)/2;var c=(this.B-this.A)/2;this.o=b.Be()-a;this.v=b.Be()+a;this.A=b.nf()-c;this.B=b.nf()+c}else throw e.g.F();};d.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};d.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,
this.B);this.A=b;this.B=a}};d.prototype.Tn=function(b){b.ka(this.o,this.A)};d.prototype.TJ=function(b){b.ka(this.v,this.A)};d.prototype.WJ=function(b){b.ka(this.o,this.B)};d.prototype.Un=function(b){b.ka(this.v,this.B)};d.prototype.ZU=function(){return this.u()||this.o<=this.v&&this.A<=this.B};d.prototype.Wf=function(){return e.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};d.prototype.Yz=function(){return e.b.pa(this.o,this.A)};d.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&
a>=this.A&&a<=this.B;if(b instanceof e.Wa)return this.contains(b.Be(),b.nf());if(b instanceof e.b)return this.contains(b.x,b.y);if(b instanceof d)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw e.g.F();};d.prototype.Tm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof e.b)return this.Tm(b.x,b.y);if(b instanceof d)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw e.g.F();};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?
this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};d.prototype.jc=function(){var b=this.o,b=e.J.truncate(b^b>>>32),a=e.J.dh(b),b=this.v,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.A,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.B,b=e.J.truncate(b^b>>>32);return a=e.J.dh(b,a)};d.prototype.Ny=function(b){var a=new e.b;a.L(b);if(a.Hy())return a;if(this.u())return a.dv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;
b=this.Wf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};d.prototype.Wu=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,c=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+c+this.B-b.y:b.y==this.A?2*a+c+this.v-b.x:this.Wu(this.Ny(b))};d.prototype.zE=function(b){if(this.u())return-1;b=this.Wu(b);var a=this.B-this.A,c=this.v-this.o;return b<a?0:(b-=a)<c?1:b-c<a?2:3};d.prototype.no=
function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};d.prototype.gz=function(b,a){var c=this.wk(b),f=this.wk(a);if(0!=(c&f))return 0;if(0==(c|f))return 4;var h=(0!=c?1:0)|(0!=f?2:0);do{var e=a.x-b.x,u=a.y-b.y;e>u?0!=(c&d.bd)?(0!=(c&d.Bb)?(b.y+=u*(this.o-b.x)/e,b.x=this.o):(b.y+=u*(this.v-b.x)/e,b.x=this.v),c=this.wk(b)):0!=(f&d.bd)?(0!=(f&d.Bb)?(a.y+=u*(this.o-a.x)/e,a.x=this.o):(a.y+=u*(this.v-a.x)/e,a.x=this.v),
f=this.wk(a)):0!=c?(0!=(c&d.tc)?(b.x+=e*(this.A-b.y)/u,b.y=this.A):(b.x+=e*(this.B-b.y)/u,b.y=this.B),c=this.wk(b)):(0!=(f&d.tc)?(a.x+=e*(this.A-a.y)/u,a.y=this.A):(a.x+=e*(this.B-a.y)/u,a.y=this.B),f=this.wk(a)):0!=(c&d.fe)?(0!=(c&d.tc)?(b.x+=e*(this.A-b.y)/u,b.y=this.A):(b.x+=e*(this.B-b.y)/u,b.y=this.B),c=this.wk(b)):0!=(f&d.fe)?(0!=(f&d.tc)?(a.x+=e*(this.A-a.y)/u,a.y=this.A):(a.x+=e*(this.B-a.y)/u,a.y=this.B),f=this.wk(a)):0!=c?(0!=(c&d.Bb)?(b.y+=u*(this.o-b.x)/e,b.x=this.o):(b.y+=u*(this.v-b.x)/
e,b.x=this.v),c=this.wk(b)):(0!=(f&d.Bb)?(a.y+=u*(this.o-a.x)/e,a.x=this.o):(a.y+=u*(this.v-a.x)/e,a.x=this.v),f=this.wk(a));if(0!=(c&f))return 0}while(0!=(c|f));return h};d.prototype.wk=function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};d.prototype.fh=function(b){return!this.u()&&(this.N()<=b||this.fa()<=b)};d.prototype.Cb=function(b){return b instanceof e.b?Math.sqrt(this.ZK(b)):Math.sqrt(this.Zx(b))};d.prototype.Zx=function(b){var a=0,c=0,f;f=this.o-
b.v;f>a&&(a=f);f=this.A-b.B;f>c&&(c=f);f=b.o-this.v;f>a&&(a=f);f=b.A-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.ZK=function(b){var a=0,c=0,f;f=this.o-b.x;f>a&&(a=f);f=this.A-b.y;f>c&&(c=f);f=b.x-this.v;f>a&&(a=f);f=b.y-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.Sn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};d.CO=function(b,a,c,f){var h=1;isNaN(b)||(h+=Math.abs(b));isNaN(a)||(h+=Math.abs(a));isNaN(c)||(h+=Math.abs(c));isNaN(f)||(h+=Math.abs(f));return 2.220446049250313E-14*h};d.Bb=1;d.tc=
4;d.bd=3;d.fe=12;return d}();e.h=d})(m||(m={}));(function(e){var d;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=
12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(d||(d={}));var g=function(){function b(a,c){this.Ci=a;this.pI=c}b.prototype.hs=function(a,c,b){this.Ci.DY(b,a,c,this.pI)};b.prototype.Qq=function(a){return this.Ci.Ms(a,this.pI)};return b}();d=function(){function b(){this.ax=this.bp=this.If=this.Bd=null;this.lr=new e.h;this.on=this.ck=this.dk=this.Qd=this.fg=this.Yd=
this.Qw=this.Uo=this.Ad=this.Lb=null;this.Zb=-1;this.ta=0;this.ql()}b.prototype.cs=function(){this.ql();this.Bw=!0;null==this.Lb?(this.Uo=new e.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.jd=function(a,c){if(!this.Bw)throw e.g.Da();var b=new e.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw e.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Pc=!1)};b.prototype.bL=function(){this.ql();this.Aw=!0;null==this.Lb?(this.Uo=new e.ia(0),
this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.ZE=function(a,c){if(!this.Aw)throw e.g.Da();var b=new e.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.tG=function(){if(!this.Aw)throw e.g.Da();this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Pc=!1)};b.prototype.aL=function(){this.ql();this.zw=!0;null==this.Ad?(this.Qw=new e.ia(0),this.Ad=[]):(this.Qw.yf(0),this.Ad.length=0)};b.prototype.VE=
function(a,c){if(!this.zw)throw e.g.Da();var b=new e.h;b.I(c);this.Qw.add(a);this.Ad.push(b)};b.prototype.sG=function(){if(!this.zw)throw e.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Pc=!1)};b.prototype.next=function(){if(this.Pc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.qA();break;case 1:a=this.mU();break;case 2:a=this.jU();break;case 3:a=this.lU();break;case 4:a=this.NY();
break;case 5:a=this.JY();break;case 6:a=this.KY();break;case 7:a=this.LY();break;case 8:a=this.by();break;case 9:a=this.FC();break;case 10:a=this.CA();break;case 11:a=this.cV();break;case 12:a=this.$U();break;case 13:a=this.aV();break;case 14:a=this.bV();break;case 15:a=this.$J();break;case 16:a=this.ZJ();break;default:throw e.g.za();}return this.Pc?!1:!0};b.prototype.yC=function(a){this.ta=a};b.prototype.eA=function(a){return this.Lb[a]};b.prototype.Iz=function(a){return this.Ad[a]};b.prototype.Ql=
function(a){return this.Uo.read(a)};b.prototype.Ml=function(a){return this.Qw.read(a)};b.JB=function(a){return 1==(a&1)};b.Gm=function(a){return 0==(a&1)};b.prototype.ql=function(){this.Bw=this.zw=this.Aw=!1;this.dg=this.eg=this.nh=this.Ne=-1;this.Pc=!0};b.prototype.qA=function(){this.bg=this.sg=-1;if(10>this.Lb.length)return this.Ne=this.Lb.length,this.Zb=5,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];
this.Bd.zs(c.o,c.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,2*this.Lb.length,!0);this.Ne=2*this.Lb.length;this.Zb=4;return!0};b.prototype.mU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();
this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,this.Yd.size,!0);this.Ne=this.Yd.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Zb=7;return this.ZJ()};b.prototype.jU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.If&&(this.If=new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.If.cs();for(var a=0;a<this.Ad.length;a++){var c=this.Ad[a];
this.If.zs(c.o,c.v)}this.If.yq();this.fg.yb(2*this.Ad.length);this.fg.resize(0);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.fg,this.fg.size,!1);this.nh=this.fg.size;-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return this.$J()};b.prototype.lU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));null==this.If&&(this.If=
new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.If.cs();for(a=0;a<this.Ad.length;a++)c=this.Ad[a],this.If.zs(c.o,c.v);this.If.yq();this.Yd.yb(2*this.Lb.length);this.fg.yb(2*this.Ad.length);this.Yd.resize(0);this.fg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.Yd,this.Yd.size,!0);this.yu(this.fg,this.fg.size,!1);this.Ne=this.Yd.size;
this.nh=this.fg.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return!0};b.prototype.NY=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;this.bp.dC(this.Lb[c].o,this.Lb[c].v,this.ta);this.sg=c;this.Zb=10;return!0};b.prototype.JY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.nh=this.sg=this.Ne;this.Zb=
13;return!0};b.prototype.KY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.sg=this.Ne;this.nh=this.Ad.length;this.Zb=14;return!0};b.prototype.LY=function(){var a=this.Yd.get(this.Ne-1),c=this.fg.get(this.nh-1),f=this.Ms(a,!0),h=this.Ms(c,!1);return f>h?this.by():f<h?this.FC():b.JB(a)?this.by():b.JB(c)?this.FC():this.by()};b.prototype.by=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return-1!=this.eg&&-1!=this.dk.get(c)?(this.Qd.kd(this.eg,this.dk.get(c)),this.dk.set(c,
-1)):this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.dg&&0<this.Qd.at(this.dg))for(a=this.Qd.xc(this.dg);-1!=a;){var f=this.Qd.getData(a);this.If.eh(f);this.ck.set(f,-1);f=this.Qd.nb(a);this.Qd.kd(this.dg,a);a=f}0<this.If.size()?(this.ax.dC(this.Lb[c].o,this.Lb[c].v,this.ta),this.sg=c,this.Zb=12):(-1==this.eg&&(null==this.Qd&&(this.Qd=new e.Xp),this.dk=new e.ia(0),this.dk.resize(this.Lb.length,-1),this.dk.Zh(-1,0,this.Lb.length),this.eg=this.Qd.mi(1)),this.dk.set(c,
this.Qd.addElement(this.eg,c)),this.Zb=7);return!0};b.prototype.FC=function(){var a=this.fg.get(--this.nh),c=a>>1;if(b.Gm(a))return-1!=this.dg&&-1!=this.ck.get(c)?(this.Qd.kd(this.dg,this.ck.get(c)),this.ck.set(c,-1)):this.If.remove(c),0==this.nh?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.eg&&0<this.Qd.at(this.eg))for(a=this.Qd.xc(this.eg);-1!=a;){var f=this.Qd.getData(a);this.Bd.eh(f);this.dk.set(f,-1);f=this.Qd.nb(a);this.Qd.kd(this.eg,a);a=f}0<this.Bd.size()?(this.bp.dC(this.Ad[c].o,this.Ad[c].v,
this.ta),this.bg=c,this.Zb=11):(-1==this.dg&&(null==this.Qd&&(this.Qd=new e.Xp),this.ck=new e.ia(0),this.ck.resize(this.Ad.length,-1),this.ck.Zh(-1,0,this.Ad.length),this.dg=this.Qd.mi(0)),this.ck.set(c,this.Qd.addElement(this.dg,c)),this.Zb=7);return!0};b.prototype.CA=function(){this.bg=this.bp.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=4;return!0};b.prototype.cV=function(){this.sg=this.bp.next();if(-1!=this.sg)return!1;this.bg=this.sg=-1;var a=this.fg.get(this.nh)>>
1;this.If.eh(a);this.Zb=7;return!0};b.prototype.$U=function(){this.bg=this.ax.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=7;return!0};b.prototype.aV=function(){if(-1==--this.nh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Lb[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.bV=function(){if(-1==--this.nh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Ad[this.nh];this.lr.O(this.ta,this.ta);
return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.$J=function(){if(null==this.Bd)return this.Pc=!0,!1;this.Ne=this.Yd.size;0<this.Bd.size()&&this.Bd.reset();-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Pc=!1;return!0};b.prototype.ZJ=function(){if(null==this.If)return this.Pc=!0,!1;this.nh=this.fg.size;0<this.If.size()&&this.If.reset();-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Pc=!1;return!0};b.prototype.yu=function(a,c,b){null==this.on&&(this.on=
new e.Hu);b=new g(this,b);this.on.sort(a,0,c,b)};b.prototype.DY=function(a,c,f,h){var e=this;a.Gd(c,f,function(a,c){var f=e.Ms(a,h),l=e.Ms(c,h);return f<l||f==l&&b.Gm(a)&&b.JB(c)?-1:1})};b.prototype.Ms=function(a,c){var f=.5*this.ta;if(c)return c=this.Lb[a>>1],f=b.Gm(a)?c.A-f:c.B+f;c=this.Ad[a>>1];return f=b.Gm(a)?c.A-f:c.B+f};return b}();e.fD=d})(m||(m={}));(function(e){var d=function(){function d(){}d.pa=function(b,a,c,f,h,e){var l=new d;l.o=b;l.A=a;l.Bf=c;l.v=f;l.B=h;l.$g=e;return l};d.prototype.Oa=
function(){this.Bf=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};d.prototype.QU=function(){return isNaN(this.Bf)};d.prototype.I=function(b,a,c,f,h,e){void 0!==f?"number"===typeof b?(this.o=b,this.A=a,this.Bf=c,this.v=f,this.B=h,this.$g=e):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.Bf=b.z-.5*f,this.$g=this.Bf+f):(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c)};d.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.Bf+=b.z;this.v+=b.x;this.B+=b.y;
this.$g+=b.z};d.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};d.prototype.ml=function(b,a,c){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.Bf)?this.Bf>c?this.Bf=c:this.$g<c&&(this.$g=c):this.$g=this.Bf=c};d.prototype.Nb=function(b,a,c,f,h,l){if("number"===typeof b)f?(this.Nb(b,a,c),this.Nb(f,h,l)):this.u()?(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c):this.ml(b,a,c);else if(b instanceof e.qd)this.Nb(b.x,b.y,b.z);
else if(b instanceof d)b.u()||(this.Nb(b.o,b.A,b.Bf),this.Nb(b.v,b.B,b.$g));else throw e.g.F();};d.prototype.pa=function(b,a,c){b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha,this.Bf=c.ca,this.$g=c.ha)};d.prototype.PB=function(b){if(null==b||8>b.length)throw e.g.F();b[0]=new e.qd(this.o,this.A,this.Bf);b[1]=new e.qd(this.o,this.B,this.Bf);b[2]=new e.qd(this.v,this.B,this.Bf);b[3]=new e.qd(this.v,this.A,this.Bf);b[4]=new e.qd(this.o,this.A,this.$g);b[5]=new e.qd(this.o,this.B,
this.$g);b[6]=new e.qd(this.v,this.B,this.$g);b[7]=new e.qd(this.v,this.A,this.$g)};d.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var c=b[a];this.ml(c.x,c.y,c.z)}}};return d}();e.dM=d})(m||(m={}));(function(e){(function(e){e.za=function(){var e=Error();e.message="Internal Error";return e};e.df=function(){var e=Error();e.message="Not Implemented";return e};e.vk=function(){var e=Error();e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";
return e};e.Da=function(){var e=Error();e.message="Invalid Call";return e};e.F=function(e){var b=Error();b.message="Illegal Argument Exception";void 0!==e&&(b.message+=": "+e);return b};e.TN=function(){var e=Error();e.message="Runtime Exception.";return e};e.X=function(e){var b=Error();b.message="Geometry Exception: "+e;return b};e.JL=function(){var e=Error();e.message="Assert Failed Exception";return e};e.wd=function(){var e=Error();e.message="IndexOutOfBoundsException";return e};e.n_=function(e){e.message=
"UserCancelException";return e}})(e.g||(e.g={}))})(m||(m={}));(function(e){e=e.Om||(e.Om={});e[e.forward=0]="forward";e[e.reverse=1]="reverse"})(m||(m={}));(function(e){var d=function(){function a(a,b){this.$a=a;this.VI=b;this.ZI=-1;this.Wl=!1}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(++this.ZI==this.VI.D())return null;var a=this.VI.Ba(this.ZI);a.scale(this.$a.mc);var b=new e.Ja;this.$a.Yy(a,this.Wl,b);return b};a.prototype.Ia=function(){return 0};return a}(),g=function(){function a(a,
b,h){this.$a=a;this.ex=b;this.Mo=!1;this.So=h;this.Pw=[0];this.Uk=[0];this.gk=[0];this.Ct=[0];this.Wl=!1;this.fr=new e.Ja;this.Wk=[]}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(this.Mo){this.Mo=!1;this.Cd.ba();var a=e.T.oe(this.fr);return a=e.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)}null==this.Cd&&(this.Cd=this.ex.Fa(),this.Cd.Ya(),null!=this.So&&this.So.Bl(null,0));if(!this.Cd.Ea()){if(!this.Cd.Ya())return null;null!=this.So&&this.So.Bl(null,0)}a=null;this.Uk[0]=0;this.lB=this.Pw[0]=
0;this.Di=NaN;this.Mo=!1;for(var f=this.Wk.length=0,h=new e.b,l=new e.b,u=[0];this.Cd.Ea()&&8>this.lB;){var d=this.Cd.ba();h.L(d.ec());l.L(d.Cc());h.scale(this.$a.mc);l.scale(this.$a.mc);e.Ej.Bv(h,l)?h.x=l.x:e.Ej.zv(h,l)&&(l.x=h.x);this.Wk.length=0;e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,h,l,this.$a.vB,this.$a.Tt,u,this.gk,this.Ct,this.Wk,this.Pw);null!=this.So&&(d=this.Wk.slice(0),this.So.EH(this.So.aa()-1,d,d.length-1));e.Ej.Av(h,l)?(this.fr.Oa(),this.$a.Yy(h,this.Wl,this.fr),this.Mo=!0):(this.fr.Oa(),
this.Mo=this.dz(u[0],this.fr));if(this.Mo){this.Cd.Li();if(this.Cd.oA()){this.Cd.Li();this.Cd.ba();break}this.Cd.zX();break}null==a&&(a=new e.Ja,a.Bl(null,0));this.dF(a);f++}this.Pw[0]=0;if(0<f){for(u=this.Cd.Db();0<f;)this.Cd.Li(),h.L(this.ex.Ba(this.Cd.Db())),l.L(this.ex.Ba(this.Cd.Jk())),h.scale(this.$a.mc),l.scale(this.$a.mc),this.Wl&&(e.Ej.Bv(h,l)?h.x=l.x:e.Ej.zv(h,l)&&(l.x=h.x)),this.Wk.length=0,e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,l,h,this.$a.vB,this.$a.Tt,null,this.gk,this.Ct,this.Wk,
this.Pw),this.dF(a),f--;h.L(this.ex.Ba(this.Cd.Db()));h.scale(this.$a.mc);b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,h,this.Di+1.570796326794897,this.Di+4.71238898038469,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN);this.Cd.Tb(u);this.Cd.ba();f=e.na.ah(null,a,!0);return a=e.Dg.ol(a,f,!0,!0,this.$a.lc)}this.Mo=!1;this.Cd.ba();a=e.T.oe(this.fr);return a=e.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)};a.prototype.dF=function(a){var c=this.Wk[0],h,l=this.gk[0]-1.570796326794897,u=this.Ct[0]+1.570796326794897,d;
if(!isNaN(this.Di)){this.Di>=this.gk[0]?(h=this.Di+1.570796326794897,l=h+3.141592653589793-(this.Di-this.gk[0])):(h=this.Di+1.570796326794897,l=h+3.141592653589793-(6.283185307179586-(this.gk[0]-this.Di)));d=this.Di>=this.gk[0]&&3.141592653589793>=this.Di-this.gk[0]?!1:this.Di<this.gk[0]&&3.141592653589793<=this.gk[0]-this.Di?!1:!0;var g=!1;if(Math.abs(l-h)<=.5*this.$a.Qo)if(d){var t=a.Ba(a.D()-2);t.scale(this.$a.mc);var k=new e.ea(0);e.mb.Fz(this.$a.Vb,this.$a.rc,c.x,c.y,t.x,t.y,k);for(t=k.j;t<=
h;)t+=6.283185307179586;for(;t>h;)t-=6.283185307179586;t<l&&(g=!0)}else g=!0;g?(a.cC(0,a.D()-1),this.Wl||(c=new e.b,c.L(a.Ba(a.D()-1)),c.scale(this.$a.mc),-3.141592653589793>c.x-this.Uk[0]?this.Uk[0]-=6.283185307179586:3.141592653589793<c.x-this.Uk[0]&&(this.Uk[0]+=6.283185307179586)),d||(l=.5*(l+h))):(d?(h=new e.b,h.L(c),h.scale(1/this.$a.mc),a.Zf(0,-1,h)):b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,this.Wk[0],h,l,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN),this.lB+=1)}b.Xy(this.$a.Vb,this.$a.rc,
this.$a.mc,this.$a.vb,this.$a.$e,this.Wk,l,u,this.Wl,this.Uk,a);this.Di=this.Ct[0]};a.prototype.dz=function(a,b){return this.$a.dz(this.Wk,a,this.gk[0],this.Ct[0],this.Wl,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(c,b,h,l,u,d){if(null==c)throw e.g.F("Geometry::Geodesic_bufferer::buffer");if(c.u())return new e.Ja(c.description);var f=new a;f.mh=b;f.Qc=e.fb.kc(b);var x=e.fb.hw(f.Qc);f.lc=d;f.Vb=e.fb.Sv(f.Qc);f.rc=x*(2-x);f.mc=f.Qc.Nd().Ai;f.ta=f.mh.Bo();
f.pr=f.Qc.Bo();f.Tt=f.pr*f.mc;f.or=1.570796326794897/f.mc;f.E_=3.141592653589793/f.mc;f.Et=6.283185307179586/f.mc;f.F_=f.Et/6;f.qB=0;f.D_=1.5707963267948966*f.Vb/f.qB;4==h?(f.$e=2,f.Jw=!0):(f.$e=h,f.Jw=!1);f.Qa=l;f.vb=Math.abs(l);isNaN(u)||.001>u?f.sY():f.Po=u;h=c.G();e.T.Oc(h)?(h=new e.Ua(c.description),h.dc(c,!0),c=h,h=1607):197==h&&(h=new e.h,c.s(h),h.N()<=f.ta||h.fa()<=f.ta?(h=new e.Ua(c.description),h.jd(c,!1),c=h,h=1607):(h=new e.Ja(c.description),h.jd(c,!1),c=h,h=1736));f.tY();e.T.Jo(h)||f.uY();
if(f.vb<=.5*f.Po)return 1736!=h?new e.Ja(c.description):f.Jw?c:e.Ej.Ls(c,f.mh,f.$e,f.vB,-1,d);if(0>f.Qa&&1736!=h)return new e.Ja(c.description);f.Jw&&e.T.Ic(h)?(b=e.Ej.Ls(c,b,4,NaN,f.Po,d),c=e.fb.Xg(b,f.mh,f.Qc,d)):c=e.fb.Xg(c,f.mh,f.Qc,d);c=e.gi.Mj(c,f.Qc);if(c.u())return new e.Ja(c.description);!f.Jw&&e.T.Ic(h)&&(c=e.Ej.zJ(f.mc,c));c=a.mQ(c,f.Qc);switch(h){case 1736:d=f.XP(c);break;case 1607:d=f.YP(c);break;case 550:d=f.VP(c);break;case 33:d=f.WP(c);break;default:throw e.g.X("corrupted_geometry");
}f=e.fb.Xg(d,f.Qc,f.mh,f.lc);f.om(c.description);return f};a.prototype.XP=function(a){var c=new e.Ja;a=new g(this,a,c);a=e.ei.local().V(a,this.Qc,this.lc).next();a=e.Vp.Nj(a,this.Qc,2);var b=new e.Hd;b.scale(1/this.mc,1/this.mc);c.Xc(b);c=e.Vp.Nj(c,this.Qc,2);return 0<=this.Qa?e.ei.local().V(c,a,this.Qc,this.lc):e.cq.local().V(c,a,this.Qc,this.lc)};a.prototype.YP=function(a){a=new g(this,a,null);a=e.ei.local().V(a,this.Qc,this.lc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.VP=function(a){a=
new d(this,a);a=e.ei.local().V(a,this.Qc,this.lc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.WP=function(a){a=a.w();a.scale(this.mc);var c=new e.Ja;this.Yy(a,!1,c);return c=e.Vp.Nj(c,this.Qc,2)};a.prototype.dz=function(c,b,h,l,u,d){var f=c[0],x=c[c.length-1],g=f.y>x.y?f.y:x.y,t=e.C.q(this.Vb,this.rc,f.y<x.y?f.y:x.y),g=e.C.q(this.Vb,this.rc,g);if(.001<this.qB-(t+b+this.vb)&&.001<this.qB+(g-b-this.vb))return!1;b=h-1.570796326794897;h=l+1.570796326794897;var t=b-3.141592653589793,g=b+3.141592653589793,
k=h+3.141592653589793,m=[NaN],n=[NaN],p=[NaN],r=[NaN];l=!1;a.zD(this.Vb,this.rc,this.vb,f,b,t,x,h,m,n);a.zD(this.Vb,this.rc,this.vb,x,k,h,f,t,p,r);h<m[0]&&m[0]<k?l=!0:h<n[0]&&n[0]<k&&(l=!0);l||(t<p[0]&&p[0]<b?l=!0:t<r[0]&&r[0]<b&&(l=!0));if(!l&&u)return!1;for(var q=[],v=c.length-1;0<=v;v--)q.push(c[v]);d.Oa();d.Bl(null,0);v=[0];a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,c,b,h,u,v,d);a.Fs(this.Vb,this.rc,this.mc,this.vb,x,h,k,this.Qo,u,v,d,m[0],n[0]);a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,
q,k,g,u,v,d);a.Fs(this.Vb,this.rc,this.mc,this.vb,f,t,b,this.Qo,u,v,d,p[0],r[0]);c=!1;u||(c=this.OF(this.mc,d));return l||c};a.prototype.Yy=function(c,b,e){e.Oa();e.Bl(null,0);a.Fs(this.Vb,this.rc,this.mc,this.vb,c,-this.Qo,6.283185307179586,this.Qo,b,[0],e,NaN,NaN);b||this.OF(this.mc,e)};a.prototype.OF=function(a,b){var c=this.yQ(a,b);a=this.zQ(a,b);return c||a};a.prototype.yQ=function(a,b){var c=b.D(),f=!1,u=new e.h;b.s(u);if(!e.l.W(u.B*a,1.570796326794897)&&!e.l.W(u.A*a,-1.570796326794897))return!1;
for(var d=new e.b,c=c-1;0<=c;c--)b.w(c,d),d.y==u.B&&e.l.W(d.y*a,1.570796326794897)?(f=!0,this.IJ(d,c,b)):d.y==u.A&&e.l.W(d.y*a,-1.570796326794897)&&(f=!0,this.IJ(d,c,b));return f};a.prototype.zQ=function(a,b){var c=b.Ba(0),f=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(c.x-f.x)*a?(this.NW(b),!0):this.xQ(b)};a.prototype.xQ=function(a){return 0>a.hf()?(this.MW(a),!0):!1};a.prototype.IJ=function(a,b,h){var c=h.D(),f=0<b?b-1:c-1,c=h.Ba(b<c-1?b+1:0),f=h.Ba(f);if(!e.l.W(c.y,a.y)&&!e.l.W(c.x,a.x)){var d=
new e.b;d.ka(c.x,a.y);h.rb(b,d)}e.l.W(f.y,a.y)||e.l.W(f.x,a.x)||(c=new e.b,c.ka(f.x,a.y),h.Zf(0,b,c))};a.prototype.NW=function(a){var c=new e.Ja,b=new e.Ja,l=new e.Hd,u=a.Ba(0),d=a.Ba(a.D()-1),g=new e.b;u.x>d.x?(d=this.or,l.Ag(-this.Et,0)):(d=-this.or,l.Ag(this.Et,0));c.add(a,!1);a.Oa();b.add(c,!1);b.Xc(l);u=new e.h;b.s(u);u.O((this.Et-u.N())/2,0);u.A=-this.or;u.B=this.or;for(var t=0;t<b.D();t++)b.w(t,g),c.Zf(0,-1,g);b.Xc(l);for(t=0;t<b.D();t++)b.w(t,g),c.Zf(0,-1,g);b=c.Ba(0);l=c.Ba(c.D()-1);g.ka(l.x,
d);c.Zf(0,-1,g);g.ka(.5*(l.x+b.x),d);c.Zf(0,-1,g);g.ka(b.x,d);c.Zf(0,-1,g);c=e.gi.ht(c,this.Qc,2,!0,u.o);c=e.gi.ht(c,this.Qc,2,!0,u.v);c=e.ne.clip(c,u,this.pr,NaN);a.add(c,!1)};a.prototype.MW=function(a){var c=new e.h;a.s(c);c.O((this.Et-c.N())/2,0);c.A=-this.or;c.B=this.or;a.Bl(null,0);var b=new e.b;b.ka(c.o,c.A);a.Zf(1,-1,b);b.ka(c.o,c.B);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.B);a.Zf(1,-1,b);b.ka(c.v,c.B);a.Zf(1,-1,b);b.ka(c.v,c.A);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.A);a.Zf(1,-1,b)};a.Xy=function(c,b,
h,l,u,d,g,t,k,m,n){var f=null;k||(f=new e.b,f.$c(),0<n.D()&&(f.L(n.Ba(n.D()-1)),f.scale(h)));var x=new e.ea(0),z=new e.ea(0),p=new e.ea(0),S=new e.b,r=new e.b,P=d[d.length-1];h=1/h;for(var q=0;q<d.length;q++){var v=d[q],Z;0==q?Z=g:q==d.length-1?Z=t:(e.mb.Ld(c,b,P.x,P.y,v.x,v.y,null,null,x,u),Z=x.j-1.570796326794897);e.mb.Xi(c,b,v.x,v.y,l,Z,z,p);k?r.ka(z.j,p.j):(S.ka(z.j,p.j),a.LF(v.x,S.x,f.x,m),r.ka(m[0]+S.x,S.y),f.L(r));r.scale(h);n.Zf(0,-1,r)}};a.Fs=function(c,b,h,l,u,d,g,t,k,m,n,p,r){if(!(g-d<
t)){var f=new e.ea(0),x=new e.ea(0),z=new e.b,S=new e.b,q=null;k||(q=new e.b,q.$c(),0<n.D()&&(q.L(n.Ba(n.D()-1)),q.scale(h)));var P=e.J.truncate(Math.ceil(d/t)),v=P++*t;v==d&&(v=P++*t);for(h=1/h;v<g+t;){d<p&&p<v?(v=p,P--):d<r&&r<v&&(v=r,P--);if(v>=g)break;e.mb.Xi(c,b,u.x,u.y,l,v,f,x);k?S.ka(f.j,x.j):(z.ka(f.j,x.j),a.LF(u.x,z.x,q.x,m),S.ka(m[0]+z.x,z.y),q.L(S));S.scale(h);n.Zf(0,-1,S);d=v;v=P++*t}}};a.zD=function(a,b,h,l,u,d,g,t,k,m){var c=new e.b,f=new e.b,x=new e.ea(0),z=new e.ea(0);e.mb.Xi(a,b,
l.x,l.y,h,u,x,z);c.ka(x.j,z.j);e.mb.Xi(a,b,l.x,l.y,h,d,x,z);f.ka(x.j,z.j);h=new e.ea(0);e.mb.Fz(a,b,g.x,g.y,c.x,c.y,h);k[0]=h.j;e.mb.Fz(a,b,g.x,g.y,f.x,f.y,h);for(m[0]=h.j;k[0]<=m[0];)k[0]+=6.283185307179586;for(;k[0]>m[0];)k[0]-=6.283185307179586;for(;k[0]>=t;)k[0]-=6.283185307179586,m[0]-=6.283185307179586;for(;k[0]<t;)k[0]+=6.283185307179586,m[0]+=6.283185307179586};a.LF=function(a,b,e,l){if(isNaN(e)){for(;3.141592653589793<l[0]+b-a;)l[0]-=6.283185307179586;for(;3.141592653589793<a-(l[0]+b);)l[0]+=
6.283185307179586}else 3.141592653589793<l[0]+b-e?l[0]-=6.283185307179586:3.141592653589793<e-(l[0]+b)&&(l[0]+=6.283185307179586)};a.mQ=function(a,b){var c=a.G(),f;e.T.Ic(c)?f=a.aa():550==c?f=a.D():f=1;if(1==f)return a;var u=new e.ia(0);u.resize(f);for(var d=[],g=new e.h,t=0;t<f;t++){u.write(t,t);var k;e.T.Ic(c)?(a.jk(t,g),k=g.Wf()):k=a.Ba(t);k=e.sM.TY(b,k);d[t]=k}u.Gd(0,u.size,function(a,c){return d[a]<d[c]?-1:d[a]>d[c]?1:0});g=a.Ka();for(t=0;t<f;t++)k=u.read(t),e.T.Ic(c)?g.Ti(a,k,!0):g.Id(a,k,k+
1);return g};a.prototype.tY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b;b.ka(0,10*this.mc);var h=45*this.mc,l=new e.ea(0),u=new e.ea(0),d=new e.ea(0),g=new e.ea(0),t=new e.ea(0),k=new e.ea(0),m=new e.ea(0),n=new e.ea(0),p=new e.b,r=new e.b,q=new e.b,v=new e.b;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,0,l,u);p.ka(l.j,u.j);e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,h,d,g);r.ka(d.j,g.j);for(var l=new e.ea(0),u=new e.ea(0),w=new e.ea(0);;){e.mb.Xi(this.Vb,
this.rc,b.x,b.y,a,.5*(0+h),t,k);q.ka(t.j,k.j);e.mb.Ld(this.Vb,this.rc,p.x,p.y,r.x,r.y,l,u,null,2);e.mb.Oj(this.Vb,this.rc,p.x,p.y,.5*l.j,u.j,m,n,2);v.ka(m.j,n.j);e.mb.Ld(this.Vb,this.rc,q.x,q.y,v.x,v.y,w,null,null,2);if(w.j<=this.Po)break;h*=.9;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,h,d,g);r.ka(d.j,g.j)}this.Qo=6.283185307179586/Math.ceil(6.283185307179586/(h-0))};a.prototype.uY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b,h=new e.b;
b.ka(0,10*this.mc);h.ka(10*this.mc,10*this.mc);var l=new e.ea(0),u=new e.ea(0),d=new e.ea(0);e.mb.Ld(this.Vb,this.rc,b.x,b.y,h.x,h.y,d,l,u,this.$e);var g=new e.ea(0),t=new e.ea(0),k=new e.ea(0),m=new e.ea(0),n=new e.b,p=new e.ea(0),r=new e.ea(0),q=new e.ea(0),v=new e.ea(0),w=new e.ea(0),E=new e.ea(0),y=new e.ea(0),A=new e.ea(0),B=new e.ea(0),D=new e.b,C=new e.b,I=new e.b,G=new e.b,F=1,l=l.j,u=u.j+1.570796326794897,d=d.j;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,l-1.570796326794897,r,q);D.ka(r.j,q.j);e.mb.Xi(this.Vb,
this.rc,h.x,h.y,a,u,v,w);C.ka(v.j,w.j);for(var r=new e.ea(0),q=new e.ea(0),u=new e.ea(0),L=new e.ea(0);;){e.mb.Oj(this.Vb,this.rc,b.x,b.y,.5*(0+F)*d,l,g,t,this.$e);n.ka(g.j,t.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,n.x,n.y,null,null,p,this.$e);e.mb.Xi(this.Vb,this.rc,n.x,n.y,a,p.j+1.570796326794897,E,y);I.ka(E.j,y.j);e.mb.Ld(this.Vb,this.rc,D.x,D.y,C.x,C.y,r,q,null,2);e.mb.Oj(this.Vb,this.rc,D.x,D.y,.5*r.j,q.j,A,B,2);G.ka(A.j,B.j);e.mb.Ld(this.Vb,this.rc,I.x,I.y,G.x,G.y,u,null,null,2);if(u.j<=this.Po)break;
F*=.9;e.mb.Oj(this.Vb,this.rc,b.x,b.y,F*d,l,k,m,this.$e);h.ka(k.j,m.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,h.x,h.y,null,null,L,this.$e);e.mb.Xi(this.Vb,this.rc,h.x,h.y,a,L.j+1.570796326794897,v,w);C.ka(v.j,w.j)}a=F*d;1E5<a&&(a=1E5);this.vB=a};a.prototype.sY=function(){var a;a=5E4<this.vb?100:1E4<this.vb?10:1;500>this.vb/a&&(a=this.vb/500);.01>a&&(a=.01);this.Po=a};return a}();e.rM=b})(m||(m={}));(function(e){var d=function(){function d(){}d.tc=function(b,a){var c=new e.b;c.L(a);b.push(c)};d.rk=function(b,
a){b.add(a.x);b.add(a.y)};d.YC=function(b){b.yf(b.size-2)};d.oy=function(b,a){a.ka(b.get(b.size-2),b.get(b.size-1))};d.Ls=function(b,a,c,f,h,l){if(null==b)throw e.g.F();var u=b.G();if(b.u()||e.T.Jo(u))return b;var x=new d;x.mh=a;x.Qc=e.fb.kc(a);var g=e.fb.hw(x.Qc);x.lc=l;x.Vb=e.fb.Sv(x.Qc);x.rc=g*(2-g);x.mc=x.Qc.Nd().Ai;x.pr=x.Qc.Bo();x.Tt=x.pr*x.mc;x.gB=f;x.fB=h;x.$e=c;197==u?(c=new e.Ja(b.description),c.jd(b,!1)):e.T.Oc(u)?(c=new e.Ua(b.description),c.dc(b,!0)):c=b;if(4!=x.$e){a=0==x.mh.Eb(x.Qc)?
e.fb.Xg(c,x.mh,x.Qc,l):e.gi.Mj(c,x.Qc);if(a.u())return a;a=d.zJ(x.mc,a);a=x.Gz(a);a=e.Vp.Nj(a,x.Qc,x.$e);x=e.fb.Xg(a,x.Qc,x.mh,l)}else{2==e.Sd.Fb(a)?(b=e.fb.Mk(a),l=e.tk.local().V(c,b,a,l),l==b&&(l=new e.Ja,b.copyTo(l))):l=e.gi.Mj(c,x.Qc);a=l;if(a.u())return a;x=x.wY(a)}return x};d.zJ=function(b,a){var c=new e.h;a.ac(c);if(3.141592653589793>c.N()*b)return a;for(var f=!1,c=a.Fa(),h=new e.b,l=new e.b;c.Ya();)for(;c.Ea();){var u=c.ba();h.L(u.ec());l.L(u.Cc());h.scale(b);l.scale(b);if(3.141592653589793<
Math.abs(h.x-l.x)){var x=d.Av(h,l);if(!x){f=!0;break}if(6.283185307179586<Math.abs(h.x-l.x)){f=!0;break}}}if(!f)return a;var f=a.Ka(),g=1<a.description.Ga,t=new e.b,k=new e.b,m=new e.b,n=new e.b,p=new e.Wa;for(c.yj();c.Ya();)for(var r=NaN,q=[0];c.Ea();){u=c.ba();h.L(u.ec());l.L(u.Cc());h.scale(b);l.scale(b);isNaN(r)?(d.fe(h.x,NaN,q),k.L(h)):k.L(m);r=k.x;if(x=d.Av(h,l)){if(6.283185307179586<l.x-h.x)for(;6.283185307179586<l.x-h.x;)l.x-=6.283185307179586;if(-6.283185307179586>l.x-h.x)for(;-6.283185307179586>
l.x-h.x;)l.x+=6.283185307179586;d.fe(l.x,NaN,q);m.L(l)}else t.L(l),d.VM(t),d.fe(t.x,r,q),m.ka(q[0]+t.x,t.y);.5>Math.abs(m.x-l.x)&&m.L(l);g?(u.Fx(0,p),n.L(k),n.scale(1/b),p.rb(n),(x=c.jn())?f.Rf(p):f.lineTo(p),c.Io()&&!a.Qb(c.Ta)&&(u.Fx(1,p),n.L(m),n.scale(1/b),p.rb(n),f.lineTo(p))):((x=c.jn())&&f.rA(null,0),u=f.aa()-1,n.L(k),n.scale(1/b),f.Zf(u,-1,n),c.Io()&&!a.Qb(c.Ta)&&(n.L(m),n.scale(1/b),f.Zf(u,-1,n)))}return f};d.GG=function(b,a,c,f,h,l,u,x,g,t,k,m){var z=new e.b,n=new e.b,p=0<f.compare(h);d.qF(p,
f,h,z,n);d.vG(b,a,c,z,n,l,NaN,u,x,g,t,null,k,m);p&&d.qy(g,t,null,k)};d.prototype.Gz=function(b){var a=b.Ka(),c=b.Fa(),f=[],h=null,l=null,u=1<b.description.Ga;u&&(h=new e.Rd(0),l=new e.Cg);for(var x=[0],g=new e.b,t=new e.b,k=new e.b,m=new e.b;c.Ya();)for(x[0]=0;c.Ea();){var n=c.ba();g.L(n.ec());t.L(n.Cc());g.scale(this.mc);t.scale(this.mc);var p=0<g.compare(t);d.qF(p,g,t,k,m);f.length=0;null!=h&&h.yf(0);0<this.gB?d.vG(this.Vb,this.rc,this.$e,k,m,this.gB,this.fB,this.Tt,null,null,null,u?h:null,f,x):
d.RV(this.Vb,this.rc,this.$e,k,m,this.fB,this.Tt,u?h:null,f,x);p&&d.qy(null,null,u?h:null,f);f[0].L(n.ec());f[f.length-1].L(n.Cc());for(var r=1;r<f.length-1;r++)f[r].scale(1/this.mc);u?(p=d.SE(p,n,l),d.iE(c.jn(),c.Io()&&!b.Qb(c.Ta),n,p,h,f,a)):d.gE(c.jn(),c.Io()&&!b.Qb(c.Ta),f,a)}return a};d.prototype.wY=function(b){var a=b.Ka(),c=b.Fa(),f=[],h=null,l=new e.Cg,u=1<b.description.Ga;for(u&&(h=new e.Rd(0));c.Ya();)for(;c.Ea();){var x=c.ba(),g=x.ec(),t=x.Cc(),g=0<g.compare(t),t=d.SE(g,x,l);f.length=0;
null!=h&&h.yf(0);d.FL(this.Vb,this.rc,this.mc,t,this.mh,this.gB,this.fB,u?h:null,f);g&&d.qy(null,null,u?h:null,f);u?d.iE(c.jn(),c.Io()&&!b.Qb(c.Ta),x,t,h,f,a):d.gE(c.jn(),c.Io()&&!b.Qb(c.Ta),f,a)}return a};d.gE=function(b,a,c,f){b&&f.rA(null,0);b=f.aa()-1;var e=c.slice(0);f.EH(b,e,e.length-1);a&&f.Zf(b,-1,c[c.length-1])};d.iE=function(b,a,c,f,h,l,u){var d=new e.Wa;c.Dp(d);b?u.Rf(d):u.lineTo(d);if(2<l.length){b=f.Rb();for(var g=1;g<l.length-1;g++){var t=f.bI(h.get(g)*b);f.Fx(t,d);d.rb(l[g]);u.lineTo(d)}}a&&
(c.Bp(d),u.lineTo(d))};d.vG=function(b,a,c,f,h,l,u,x,g,t,k,m,n,p){var z=new e.ea(0),S=new e.ea(0),r=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,h.x,h.y,r,z,S,c);var r=r.j,q=z=z.j,S=S.j;0>q&&(q+=6.283185307179586);0>S&&(S+=6.283185307179586);null!=g&&(g[0]=r);null!=t&&(t[0]=q);null!=k&&(k[0]=S);t=g=NaN;null!=m&&(t=e.C.Yg(b,a),k=e.C.q(b,a,f.y),g=(t-k)/r,t=(t+k)/r);k=d.Bv(f,h);var S=d.zv(f,h),q=k||S,P=d.tE(f,h,x),v=new e.ea(0),Z=new e.ea(0),T=new e.b,w=new e.b,E=new e.b;d.fe(f.x,NaN,p);var y=[p[0]];if(r<=l)d.tc(n,
f),d.fe(h.x,NaN,p),null!=m&&m.add(0),q?(k&&d.my(f,h,m,n),S&&d.iy(f,h,m,n)):P?d.ly(f,h,z,g,t,m,n):0<u&&(w.ka(f.x-y[0],f.y),T.ka(h.x-p[0],h.y),d.FA(b,a,c,f,r,z,w,T,0,1,u,m,n,y)),d.tc(n,h);else{l=1+e.J.truncate(Math.ceil(r/l));var ea=r/(l-1),A=new e.b,B=0;d.tc(n,f);A.L(f);w.ka(f.x-p[0],f.y);null!=m&&m.add(0);for(var D=1;D<l;D++){var C;D<l-1?(e.mb.Oj(b,a,f.x,f.y,D*ea,z,v,Z,c),T.ka(v.j,Z.j),d.fe(T.x,A.x,p),E.ka(p[0]+T.x,T.y),C=D/(l-1)):(d.fe(h.x,NaN,p),T.ka(h.x-p[0],h.y),E.L(h),C=1);q?(1==D&&k&&d.my(f,
E,m,n),D==l-1&&S&&d.iy(A,h,m,n)):P?d.rE(A,E,x)&&(f.x<h.x?A.x>E.x&&(p[0]+=6.283185307179586,E.ka(p[0]+T.x,T.y)):A.x<E.x&&(p[0]-=6.283185307179586,E.ka(p[0]+T.x,T.y)),d.ly(A,E,z,g,t,m,n)):0<u&&d.FA(b,a,c,f,r,z,w,T,B,C,u,m,n,y);d.tc(n,E);null!=m&&m.add(C);A.L(E);w.L(T);y[0]=p[0];B=C}}};d.RV=function(b,a,c,f,h,l,u,x,g,t){var z=new e.ea(0),k=new e.ea(0),m=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,h.x,h.y,m,z,k,c);var k=m.j,z=z.j,n=m=NaN;if(null!=x)var n=e.C.Yg(b,a),p=e.C.q(b,a,f.y),m=(n-p)/k,n=(n+p)/k;var p=d.Bv(f,
h),r=d.zv(f,h),S=p||r;u=d.tE(f,h,u);var q=d.Av(f,h),q=S||u||q;d.fe(f.x,NaN,t);var v=new e.b;d.tc(g,f);v.L(f);null!=x&&x.add(0);q?(S?(p&&d.my(f,h,x,g),r&&d.iy(f,h,x,g)):u&&d.ly(f,h,z,m,n,x,g),d.fe(h.x,NaN,t),d.tc(g,h)):k<=l?(d.fe(h.x,NaN,t),d.tc(g,h)):(m=new e.b,u=new e.b,m.L(f),u.L(h),m.x-=t[0],u.x-=t[0],-3.141592653589793>u.x?u.x+=6.283185307179586:3.141592653589793<u.x&&(u.x-=6.283185307179586),d.FA(b,a,c,f,k,z,m,u,0,1,l,x,g,t),d.tc(g,h),d.fe(h.x,NaN,t));null!=x&&x.add(1)};d.FA=function(b,a,c,f,
h,l,u,x,g,t,k,m,n,p){var z=new e.b,r=new e.b;z.ka(u.x+p[0],u.y);new e.ea(0);new e.ea(0);new e.ea(0);new e.ea(0);var S=new e.ea(0),q=new e.ea(0),P=new e.ea(0),v=new e.b,Z=new e.b,w=new e.b,E=new e.b;v.L(u);Z.L(x);u=new e.Rd(0);x=new e.Rd(0);d.rk(u,Z);x.add(t);var T=new e.b,y=new e.Hb,ea=[];for(d.rG(4,ea);0<u.size;){for(var A=!1,B,D=NaN,C=0;3>C;C++)if(B=ea[C]*t+(1-ea[C])*g,e.mb.Oj(b,a,f.x,f.y,B*h,l,S,q,c),w.ka(S.j,q.j),0==C&&(D=B,E.L(w)),d.xO(v,w,Z,y),y.gc(y.pe(w,!0),T),e.mb.Ld(b,a,w.x,w.y,T.x,T.y,
P,null,null,2),P.j>k){A=!0;break}A?(Z.L(E),t=D,d.rk(u,Z),x.add(t)):(d.YC(u),x.Fk(x.size-1,1,x.size-1),0<u.size&&(d.fe(Z.x,z.x,p),r.ka(p[0]+Z.x,Z.y),d.tc(n,r),z.L(r),null!=m&&m.add(t),v.L(Z),g=t,d.oy(u,Z),t=x.get(x.size-1)))}};d.FL=function(b,a,c,f,h,l,u,x,g){var t=new e.b,z=new e.b,k=new e.b,m=new e.b,n=new e.b,p=new e.b,r=new e.b,q=new e.b,v=new e.b,w=new e.b,E=new e.ea(0),y=new e.ea(0),A=new e.b,B=[[],[]],D=1==e.Sd.Fb(h);h=h.re(0);var C=f.ec(),I=f.Cc();D?(p.ka(C.x*c,C.y*c),r.ka(I.x*c,I.y*c)):(B[0][0]=
C.x,B[0][1]=C.y,B[1][0]=I.x,B[1][1]=I.y,e.fb.lu(),p.x=B[0][0]*c,p.y=B[0][1]*c,r.x=B[1][0]*c,r.y=B[1][1]*c);var G=0,F=0,L=1,H=f.Go();t.L(C);z.L(I);var I=new e.Rd(0),K=new e.Rd(0),Q=new e.Rd(0);d.rk(I,z);d.rk(K,r);Q.add(L);d.tc(g,t);null!=x&&x.add(F);var J=[],N;N=0<u?H?5:3:H?5:1;d.rG(N,J);for(var M=new e.ea(0),X=new e.ea(0),R=new e.ea(0),O=new e.ea(0),V=new e.ea(0),U=new e.ea(0),W=new e.ea(0);0<K.size;){var ba=!1,Y,aa=NaN;e.mb.Ld(b,a,p.x,p.y,r.x,r.y,M,X,null,2);for(C=0;C<N;C++){if(0==C){if(!H&&0>=u&&
M.j<=l&&3.141592653589793>Math.abs(p.x-r.x))break;if(f.Dy(F,L)<=h)break}Y=J[C]*L+(1-J[C])*F;f.gc(Y,k);D?q.ka(k.x*c,k.y*c):(B[0][0]=k.x,B[0][1]=k.y,e.fb.lu(),q.x=B[0][0]*c,q.y=B[0][1]*c);if(0==C&&(aa=Y,n.L(k),w.L(q),0<l&&(M.j>l||3.141592653589793<=Math.abs(p.x-r.x)))){ba=!0;break}if(H&&0<l){if(e.mb.Ld(b,a,p.x,p.y,q.x,q.y,R,null,null,2),R.j>l||3.141592653589793<=Math.abs(p.x-q.x)){ba=!0;break}}else if(0<u)if(H?(m.IU(t,z,J[C]),D?v.ka(m.x*c,m.y*c):(B[0][0]=m.x,B[0][1]=m.y,e.fb.lu(),v.x=B[0][0]*c,v.y=
B[0][1]*c)):(m.L(k),v.L(q)),e.mb.Ld(b,a,p.x,p.y,v.x,v.y,O,null,null,2),O.j<=M.j){e.mb.Oj(b,a,p.x,p.y,O.j,X.j,E,y,2);A.ka(E.j,y.j);e.mb.Ld(b,a,A.x,A.y,q.x,q.y,V,null,null,2);if(V.j>u){ba=!0;break}if(H){e.mb.Ld(b,a,A.x,A.y,v.x,v.y,U,null,null,2);if(U.j>u){ba=!0;break}e.mb.Ld(b,a,v.x,v.y,q.x,q.y,W,null,null,2);if(W.j>u){ba=!0;break}}}else{ba=!0;break}}ba?(z.L(n),r.L(w),L=aa,d.rk(I,z),d.rk(K,r),Q.add(L)):(d.YC(I),d.YC(K),Q.Fk(Q.size-1,1,Q.size-1),d.tc(g,z),G+=M.j,null!=x&&x.add(G),0<K.size&&(t.L(z),p.L(r),
F=L,d.oy(I,z),d.oy(K,r),L=Q.get(Q.size-1)))}if(null!=x)for(b=1/G,C=0;C<x.size;C++)x.write(C,x.read(C)*b)};d.qy=function(b,a,c,f){f.reverse();null!=c&&c.Zd(0,c.size,1);c=null!=b?b[0]:NaN;f=null!=a?a[0]:NaN;null!=b&&(b[0]=f);null!=a&&(a[0]=c)};d.qF=function(b,a,c,f,e){b?(f.L(c),e.L(a)):(f.L(a),e.L(c))};d.SE=function(b,a,c){if(!b)return a;c.create(a.G());a.copyTo(c.get());c.get().reverse();return c.get()};d.fe=function(b,a,c){if(isNaN(a)){for(;3.141592653589793<c[0]-b;)c[0]-=6.283185307179586;for(;3.141592653589793<
b-c[0];)c[0]+=6.283185307179586}else 3.141592653589793<c[0]+b-a?c[0]-=6.283185307179586:3.141592653589793<a-(c[0]+b)&&(c[0]+=6.283185307179586)};d.xO=function(b,a,c,f){3.141592653589793>Math.abs(a.x-b.x)?(f.Mc(b),3.141592653589793<=c.x-b.x?f.vm(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?f.vm(c.x+6.283185307179586,c.y):f.vm(c.x,c.y)):(f.Mc(c),3.141592653589793<=b.x-c.x?f.vm(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?f.vm(b.x+6.283185307179586,b.y):f.vm(b.x,b.y))};d.rG=function(b,
a){for(var c=0;c<b;c++){var f=Math.ceil(c/2)/(b+1);0!=c%2&&(f=-f);a[c]=.5+f}};d.Bv=function(b,a){return e.l.W(b.y,1.570796326794897)&&!e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&!e.l.W(a.y,-1.570796326794897)?!0:!1};d.zv=function(b,a){return e.l.W(a.y,1.570796326794897)&&!e.l.W(b.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)&&!e.l.W(b.y,-1.570796326794897)?!0:!1};d.tE=function(b,a,c){return!d.rE(b,a,c)||e.l.W(b.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)||e.l.W(a.y,
1.570796326794897)||e.l.W(a.y,-1.570796326794897)?!1:!0};d.rE=function(b,a,c){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=c?!0:!1};d.Av=function(b,a){return e.l.W(b.y,1.570796326794897)&&e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&e.l.W(a.y,-1.570796326794897)?!0:!1};d.my=function(b,a,c,f){if(0<b.y){var h=new e.b;h.ka(a.x,1.570796326794897)}else h=new e.b,h.ka(a.x,-1.570796326794897);e.l.W(b.x,h.x)||e.l.W(a.y,h.y)||(d.tc(f,h),null!=c&&c.add(0))};d.iy=function(b,a,c,f){if(0<
a.y){var h=new e.b;h.ka(b.x,1.570796326794897)}else h=new e.b,h.ka(b.x,-1.570796326794897);e.l.W(a.x,h.x)||e.l.W(b.y,h.y)||(d.tc(f,h),null!=c&&c.add(1))};d.ly=function(b,a,c,f,h,l,u){e.l.xd(c)?(0<1.570796326794897-b.y&&(c=new e.b,c.ka(b.x,1.570796326794897),d.tc(u,c),null!=l&&l.add(f)),0<1.570796326794897-a.y&&(c=new e.b,c.ka(a.x,1.570796326794897),d.tc(u,c),null!=l&&l.add(f))):(0<1.570796326794897+b.y&&(c=new e.b,c.ka(b.x,-1.570796326794897),d.tc(u,c),null!=l&&l.add(h)),0<1.570796326794897+a.y&&
(c=new e.b,c.ka(a.x,-1.570796326794897),d.tc(u,c),null!=l&&l.add(h)))};d.VM=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return d}();e.Ej=d})(m||(m={}));(function(e){var d=function(){function d(){}d.Nj=function(b,a,c){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=b,h=f.G();if(e.T.Ic(h)){f=e.gi.Mj(b,a);b=new e.h;f.s(b);for(var h=e.na.be(a,b,!1),l=e.fb.Bh(a),
u=Math.floor((b.o-l.o)/l.N())*l.N()+l.o;u<b.v;)u>b.o+h&&u<b.v-h&&(f=e.gi.ht(f,a,c,!0,u)),u+=l.N()}else{if(197==h)return b=new e.Ja(f.description),b.jd(f,!1),d.Nj(b,a,c);if(e.T.Oc(h))return b=new e.Ua(f.description),b.dc(f,!0),d.Nj(b,a,c)}return d.jV(f,a)};d.jV=function(b,a){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var c;c=b.G();197==c?(c=new e.Ja(b.description),c.jd(b,!1)):e.T.Oc(c)?(c=new e.Ua(b.description),c.dc(b,!0)):c=b;c=e.gi.Mj(c,a);return c.u()?c:1==e.Sd.Fb(a)?e.gi.Xm(c,
a,0,c!=b,0):d.dV(c,a,c!=b)};d.dV=function(b,a,c){if(!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=e.fb.ee(a),h=0-180*f,f=360*f;2==e.Sd.Fb(a)&&(h=e.fb.Bh(a),f=h.v,h=h.o,f-=h);return e.gi.Aq(b,h,f,a,c,0,!0)};return d}();e.Vp=d})(m||(m={}));(function(e){var d=function(){function d(){}d.fV=function(b,a){var c=Math.abs(b%a);return isNaN(c)||c==b||c<=Math.abs(a)/2?c:0>b?-1*(c-a):0<b?1*(c-a):0*(c-a)};d.K=function(b){return 0>b?-b:b};d.Ab=function(b,a){return 0<=a?d.K(b):-d.K(b)};d.W=function(b,a){return b==
a||d.K(b-a)<=d.gD*(1+(d.K(b)+d.K(a))/2)};d.xd=function(b){return 0==b||d.K(b)<=d.gD};d.Fu=function(b){b=d.fV(b,d.mA);return d.K(b)<=d.Oi?b:0>b?b+d.mA:b-d.mA};d.KB=function(b,a){b.j=d.Fu(b.j);a.j=d.Fu(a.j);d.K(a.j)>d.ss&&(b.j=d.Fu(b.j+d.Oi),a.j=d.Ab(d.Oi,a.j)-a.j)};d.Yg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var c=a*a;return b/(1+a)*(1+c*(.25+c*(.015625+1/256*c)))*d.ss};d.SS=function(b,a,c,f,h){var l,u,x,g,k,t,m,n=0,p=t=0,r=0,q=0,v=0;k=0;var w,E,y;m=0;var A,B,D;y=new e.ea;l=new e.ea;if(null!=
h)if(y.j=b,l.j=a,d.KB(y,l),b=y.j,a=l.j,y.j=c,l.j=f,d.KB(y,l),c=y.j,f=l.j,c=d.Fu(c-b),d.W(a,f)&&(d.xd(c)||d.W(d.K(a),d.ss)))null!=h&&(h.j=0);else{if(d.W(a,-f)){if(d.W(d.K(a),d.ss)){null!=h&&(h.j=2*d.Yg(6378137,.0066943799901413165));return}if(d.W(d.K(c),d.Oi)){null!=h&&(h.j=2*d.Yg(6378137,.0066943799901413165));return}}if(d.xd(.0066943799901413165))q=Math.cos(a),v=Math.cos(f),null!=h&&(n=Math.sin((f-a)/2),t=Math.sin(c/2),m=2*Math.asin(Math.sqrt(n*n+q*v*t*t)),h.j=6378137*m);else{y=1-Math.sqrt(.9933056200098587);
b=1-y;l=Math.atan(b*Math.tan(a));a=Math.sin(l);l=Math.cos(l);u=Math.atan(b*Math.tan(f));f=Math.sin(u);u=Math.cos(u);g=x=c;B=0;D=1;A=c;for(E=!0;1==E;)B+=1,1==D&&(k=Math.sin(A),t=Math.cos(A),n=u*k,m=l*f-a*u*t,n=Math.sqrt(n*n+m*m),t=a*f+l*u*t,m=Math.atan2(n,t),p=1E-15>d.K(n)?l*u*k/d.Ab(1E-15,n):l*u*k/n,r=1-p*p,q=1E-15>d.K(r)?t-a*f/d.Ab(1E-15,r)*2:t-a*f/r*2,v=q*q,k=((-3*r+4)*y+4)*r*y/16),w=(1-k)*y*(m+k*n*(q+t*k*(2*v-1))),1==D?(A=c+w*p,1E-14>d.K(A-g)?E=!1:d.K(A)>d.Oi?(D=2,A=d.Oi,0>c&&(A=-A),p=0,r=1,x=
g=2,m=d.Oi-d.K(Math.atan(a/l)+Math.atan(f/u)),n=Math.sin(m),t=Math.cos(m),k=((-3*r+4)*y+4)*r*y/16,1E-14>d.K(p-x)?E=!1:(q=1E-15>d.K(r)?t-a*f/d.Ab(1E-15,r)*2:t-a*f/r*2,v=q*q)):(0>(A-g)*(g-x)&&5<B&&(A=(2*A+3*g+x)/6),x=g,g=A)):(p=(A-c)/w,0>(p-g)*(g-x)&&5<B&&(p=(2*p+3*g+x)/6),x=g,g=p,r=1-p*p,k=p*n/(l*u),t=-Math.sqrt(d.K(1-k*k)),A=Math.atan2(k,t),n=u*k,m=l*f-a*u*t,n=Math.sqrt(n*n+m*m),t=a*f+l*u*t,m=Math.atan2(n,t),k=((-3*r+4)*y+4)*r*y/16,1E-14>d.K(p-x)?E=!1:(q=1E-15>d.K(r)?t-a*f/d.Ab(1E-15,r)*2:t-a*f/r*
2,v=q*q));null!=h&&(p=Math.sqrt(1+(1/(b*b)-1)*r),p=(p-1)/(p+1),r=p*(1-.375*p*p),h.j=(1+p*p/4)/(1-p)*b*6378137*(m-r*n*(q+r/4*(t*(-1+2*v)-r/6*q*(-3+4*n*n)*(-3+4*v)))))}}};d.Oi=3.141592653589793;d.ss=1.5707963267948966;d.mA=6.283185307179586;d.gD=3.552713678800501E-15;return d}();e.pM=d})(m||(m={}));(function(e){var d=function(){return function(b){this.ue=b;this.ll=this.ue.getCode();0>this.ll&&(this.ll=0)}}();e.SZ=d;var g=function(){function b(a){void 0===a&&(a=null);this.Kh=null;this.nn=!1;null!==a&&
(this.Kh=new d(a))}b.prototype.yc=function(){return null!=this.Kh?this.Kh.ll:0};b.prototype.Vf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Kh=this.Kh;a.nn=this.nn};b.prototype.Wv=function(){var a=this.Vf();a.kt();return a};b.prototype.kt=function(){this.nn=!this.nn};b.prototype.cn=function(){return null!=this.Kh?this.Kh.ue:null};b.prototype.BK=function(a){if(0>=a)throw e.g.F();if(a!=this.yc()){a=e.Tf.geogtran(a);if(null==a)throw e.g.F("Geogtran not found.");this.Kh=
new d(a)}};b.prototype.mH=function(){return null==this.Kh?null:this.Kh.ue.toString()};b.prototype.getName=function(){if(null==this.Kh||null==this.Kh.ue)return"";var a="";this.nn&&(a+="~");return a+=this.Kh.ue.getName()};b.prototype.oY=function(a){if(null==a)throw e.g.F();var c=null;try{c=e.Tf.fromString(e.Vc.PE_TYPE_GEOGTRAN,a)}catch(f){throw e.g.F();}this.Kh=new d(c)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.yc()||this.yc()!=a.yc())||this.cn().isEqual(a.cn()))?this.nn==
a.nn:!1};b.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,c){var f=new b;f.BK(a);c&&f.kt();return f};b.fG=function(a,c){var f=new b;f.oY(a);c&&f.kt();return f};return b}();e.io=g})(m||(m={}));(function(e){var d=function(){function b(){}b.pa=function(a,c,f,e){var h=new b;h.vn=a;h.wn=c;h.MI=f;h.NI=e;return h};b.Hs=function(a,c){return a.vn==c.vn?a.wn==c.wn?0:a.wn<c.wn?-1:1:a.vn<c.vn?-1:1};return b}(),
g=function(){function b(){this.Hw=!1;this.OI=[];this.$A=[];this.jI=this.Hw=this.iI=!1;this.kq()}b.zo=function(){null==b.FG&&(b.FG=new b);return b.FG};b.c_=function(){return b.zo().Hw};b.f_=function(){return b.zo().jI};b.z_=function(a,c){if(a==c)return null;var f=b.zo();if(f.iI){var e=b.EA(f.$A,a,c);return null!=e?e:null}e=b.EA(f.$A,a,c);return null!=e?e:b.EA(f.OI,a,c)};b.fO=function(a,c,b,h,l){var f=e.ny.create();if(0<a)try{var d=e.io.create(a,c);if(0==d.yc())return null;f.add(d);if(0<b){var g=e.io.create(b,
h);if(0==g.yc())return null;f.add(g)}l&&(f=f.Wv())}catch(S){f=null}return f};b.EA=function(a,c,f){if(c==f||0==a.length)return null;for(var e=d.pa(c,f,0,0),l=!1,u=!1,g=0,z=0,k=-1,t=0;t<a.length;t++)if(0===d.Hs(e,a[t])){k=t;break}if(0>k||a[k].vn!=e.vn||a[k].wn!=e.wn){e=d.pa(f,c,0,0);c=-1;for(t=0;t<a.length;t++)if(0===d.Hs(e,a[t])){c=t;break}0<=c&&a[c].vn==e.vn&&a[c].wn==e.wn&&(g=a[c].MI,z=a[c].NI,u=l=!0)}else g=a[k].MI,z=a[k].NI,l=!1,u=!0;if(!u)return null;0==g&&(g=z,z=0);e=a=!1;0>g&&(g=-g,a=!0);0>
z&&(z=-z,e=!0);return b.fO(g,a,z,e,l)};b.prototype.kq=function(){this.BE(this.OI)&&(this.Hw=!0);this.BE(this.$A)&&(this.jI=!0);this.iI=!this.Hw};b.prototype.BE=function(a){try{for(var c=[],c=c.sort(d.Hs),b=0;b<c.length;b++)a.push(c[b])}catch(h){}return!0};b.Q_=function(){return null};return b}();e.RZ=g})(m||(m={}));(function(e){var d=function(){function e(){}e.prototype.My=function(b){this.Hi=b};e.prototype.NE=function(b){this.Mb=b};e.prototype.OE=function(b){this.np=b};e.JF=function(b){return b.u()||
1607!=b.G()&&1736!=b.G()?!1:!0};e.HF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};e.IF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return e}();e.wl=d})(m||(m={}));(function(e){var d=function(){function d(){}d.mX=function(b){var a=new e.Ja;a.$x(b.R.o,b.R.A);a.Xj(b.R.o,b.R.B);a.Xj(b.R.v,b.R.B);a.Xj(b.R.v,b.R.A);return a};d.Xg=function(b,a){return null===b?null:e.os.local().V(b,a,null)};d.gZ=function(b,a){var c=e.ei.local();b=new e.hd(b);return c.V(b,a,
null).next()};d.Vm=function(b,a,c){return e.cq.local().V(b,a,c,null)};d.Pp=function(b,a,c){return e.uy.local().V(b,a,c,null)};d.OY=function(b,a,c){var f=e.uy.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Eb=function(b,a,c){return e.Gj.local().V(3,b,a,c,null)};d.QR=function(b,a,c){return e.Gj.local().V(4,b,a,c,null)};d.LU=function(b,a,c){var f=e.tk.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);
return f};d.NR=function(b,a,c){var f=e.cq.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Ma=function(b,a,c){return e.tk.local().V(b,a,c,null)};d.rZ=function(b,a,c){return e.Gj.local().V(2,b,a,c,null)};d.contains=function(b,a,c){return e.Gj.local().V(1,b,a,c,null)};d.yR=function(b,a,c){return e.Gj.local().V(16,b,a,c,null)};d.touches=function(b,a,c){return e.Gj.local().V(8,b,a,c,null)};d.oW=function(b,a,c){return e.Gj.local().V(32,b,a,c,null)};
d.NU=function(b,a,c){return e.Gj.local().V(1073741824,b,a,c,null)};d.YB=function(b,a,c,f){return e.pN.local().V(b,a,c,f,null)};d.Cb=function(b,a,c,f){var h=null;if(null!=c){if(h=c.Nd(),null!=f&&h.yc()!=f.yc()&&h.nd!=f.nd)throw e.g.vk();}else if(null!=f)throw e.g.F();b=e.hN.local().V(b,a,null);null!==h&&null!==f&&(b=e.oc.li(b,h,f));return b};d.clip=function(b,a,c){return e.bN.local().V(b,e.h.pa(a.R.o,a.R.A,a.R.v,a.R.B),c,null)};d.Hl=function(b,a,c){if(null==b||null==a)return null;b=e.dN.local().V(!0,
b,a,c,null);for(a=[];null!=(c=b.next());)c.u()||a.push(c);return a.slice(0)};d.QP=function(b,a,c,f,h,l,u,g){if(!0===h)return d.YM(b,a,c,f,l,u,g);h=c;if(null!=a){if(u=a.Nd(),null!=f&&u.yc()!=f.yc()){if(u.nd!=f.nd)throw e.g.vk();h=[];e.oc.dG(c,c.length,f,u,h)}}else if(null!=f)throw e.g.F();c=e.CD.local();if(l){b=new e.hd(b);a=c.V(b,a,h,l,null);for(b=[];null!=(l=a.next());)b.push(l);l=b.slice(0)}else for(l=[],f=0;f<b.length;f++)l[f]=c.V(b[f],a,h[f],null);return l};d.YM=function(b,a,c,f,h,l,d){if(null===
a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.yc()?a.Nd():e.oc.ze(9001);if(0!==f.nd)throw e.g.F();e.oc.dG(c,c.length,f,e.oc.ze(9001),c);f=e.HD.local();if(h){b=new e.hd(b);a=f.V(b,a,l,c,d,!1,h,null);for(c=[];null!=(l=a.next());)c.push(l);h=c.slice(0)}else{h=[];for(var u=0;u<b.length;u++)h[u]=f.V(b[u],a,l,c[u],d,!1,null)}return h};d.buffer=function(b,a,c,f,h,l,d){var u=c;if(!1===h){if(null!=a){if(h=a.Nd(),null!=f&&h.yc()!=f.yc()){if(h.nd!=f.nd)throw e.g.vk();u=e.oc.li(c,f,h)}}else if(null!=f)throw e.g.F();
b=e.CD.local().V(b,a,u,null)}else{if(null===a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.yc()?a.Nd():e.oc.ze(9001);if(0!==f.nd)throw e.g.F();u=e.oc.li(c,f,e.oc.ze(9001));b=e.HD.local().V(b,a,l,u,d,!1,null)}return b};d.mW=function(b,a,c,f,h,l,d){if(null!=a){var u=a.Nd();if(null!=d&&u.yc()!=d.yc()){if(u.nd!=d.nd)throw e.g.vk();c=e.oc.li(c,d,u)}}else if(null!=d)throw e.g.F();b=new e.hd(b);a=e.LD.local().V(b,a,c,f,h,l,null);for(c=[];null!=(f=a.next());)c.push(f);return c.slice(0)};d.offset=function(b,
a,c,f,h,l,d){if(null!=a){var u=a.Nd();if(null!=d&&u.yc()!=d.yc()){if(u.nd!=d.nd)throw e.g.vk();c=e.oc.li(c,d,u)}}else if(null!=d)throw e.g.F();return e.LD.local().V(b,a,c,f,h,l,null)};d.hR=function(b){return e.ED.local().V(b,null)};d.iR=function(b,a){var c=e.ED.local();b=new e.hd(b);c=c.V(b,a,null);for(b=[];null!=(a=c.next());)b.push(a);return b};d.Zz=function(b,a,c){return e.sy.local().Zz(b,a,c)};d.$z=function(b,a){return e.sy.local().$z(b,a)};d.aA=function(b,a,c,f){return e.sy.local().aA(b,a,c,
f)};d.CC=function(b,a){return e.Km.local().V(b,a,!1,null)};d.YU=function(b,a){return e.Km.local().Wq(b,a,null)};d.GS=function(b,a,c,f,h){var l=e.GD.local();if(null!=a){if(a=a.Nd(),null!=h&&a.yc()!=h.yc()){if(a.nd!=h.nd)throw e.g.vk();c=e.oc.li(c,h,a)}}else if(null!=h)throw e.g.F();return l.V(b,c,f,null)};d.Ls=function(b,a,c,f){var h=e.Jm.local();if(null!=a){if(a=a.Nd(),null!=f&&a.yc()!=f.yc()){if(a.nd!=f.nd)throw e.g.vk();c=e.oc.li(c,f,a)}}else if(null!=f)throw e.g.F();return h.V(b,c,null)};d.Ez=
function(b,a,c,f,h){void 0===h&&(h=0);var l=e.jN.local();if(4==h)throw e.g.df();if(0!==h)throw e.g.df();if(null!=a){var d=a.Nd();if(null!=f&&d.yc()!=f.yc()){if(d.nd!=f.nd)throw e.g.vk();c=e.oc.li(c,f,d)}}else if(null!=f)throw e.g.F();return l.V(b,c,a,h,null)};d.MS=function(b,a,c,f){if(null===b)return 0;if(4==f)throw e.g.df();if(0!==f)throw e.g.df();if(197==b.G())b=d.mX(b);else if(1736!=b.G())return 0;f=e.fb.kc(a);b=e.fb.Xg(b,a,f,null);b=e.qM.NS([b])[0];if(null!==c){if(2!==c.nd)throw e.g.F("Unit must be a area unit type");
b=e.oc.li(b,e.oc.ze(109404),c)}return b};d.QS=function(b,a,c,f){b=e.lN.local().V(b,a,f,null);if(null!==c){if(0!==c.nd)throw e.g.F("Unit must be a linear unit type");b=e.oc.li(b,e.oc.ze(9001),c)}return b};d.wW=function(b,a,c){if(null===b)return 0;var f=null;if(null!=a){f=a.Nd();if(0==f.nd&&(f=e.oc.lH(f),null==f&&null!==c))throw e.g.F();if(null!=c&&f.yc()!=c.yc()&&f.nd!=c.nd)throw e.g.vk();}else if(null!=c)throw e.g.F();return 1736==b.G()||197==b.G()?(b=b.hf(),null!==c?e.oc.li(b,f,c):b):0};d.xW=function(b,
a,c){if(null===b||b.u()||1>b.tb())return 0;var f=null;if(null!=a){if(f=a.Nd(),null!=c&&f.yc()!=c.yc()&&f.nd!=c.nd)throw e.g.vk();}else if(null!=c)throw e.g.F();1736==b.G()||197==b.G()?a=b.Gg():e.T.Oc(b.G())?(a=new e.Ua(b.description),a.dc(b,!0)):a=b;b=0;a=a.Fa();for(var h=new e.b,l=new e.b;a.Ya();)for(;a.Ea();){var d=a.ba();d.Oq(h);d.Ps(l);b+=e.b.Cb(h,l)}null!==f&&null!==c&&(b=e.oc.li(b,f,c));return b};d.$Z=function(b,a){return e.Sd.PS(b,a)};d.cG=function(b){return void 0!==b.points?d.kW(b,void 0===
b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?d.wH(b.rings,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?d.wH(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?d.uW(b):void 0!==b.xmin?d.cW(b):null};d.uW=function(b){if(null==b.x||"NaN"==b.x)return new e.Wa;var a=new e.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.rY(b.z);void 0!==b.m&&null!==b.m&&a.bY(b.m);return a};d.cW=function(b){if(null==b.xmin||"NaN"==b.xmin)return new e.ci;var a=
new e.ci(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};d.kW=function(b,a,c){var f=0,h=new e.Ed,l=3*b.points.length;0!=l%2&&l++;2>l&&(l=2);var d=e.J.truncate(3*b.points.length/2);4>d?d=4:16>d&&(d=16);for(var l=e.Uc.Um(l,0),g=e.Uc.Um(d),d=e.Uc.Um(d),z=0;z<b.points.length;z++)l.write(2*z,b.points[z][0]),l.write(2*z+1,b.points[z][1]),g.write(z,a||c?b.points[z][2]:NaN),d.write(z,c&&
a?b.points[z][3]:NaN),f++;0!=f&&(h.resize(f),h.Yn(0,l));a&&(h.Ud(1),h.Yn(1,g));c&&(h.Ud(2),h.Yn(2,0==a?g:d));h.Dc(16777215);return h};d.wH=function(b,a,c,f){var h,l=0,d=2;"P"==f?(h=new e.Ja,l=1,d=3):h=new e.Ua;for(var g=e.Uc.wh(0),z=e.Uc.vq(0),k=0,t=0,m=[],n=[],p=0;p<b.length;p++){var r=b[p].length;m[p]=!1;if("P"===f&&b[p][0][0]===b[p][b[p].length-1][0]&&b[p][0][1]===b[p][b[p].length-1][1]){var q=0==c?!0:b[p][0][3]===b[p][b[p].length-1][3]||void 0===b[p][0][3]&&void 0===b[p][b[p].length-1][3];(0==
a||b[p][0][2]===b[p][b[p].length-1][2]||void 0===b[p][0][2]&&void 0===b[p][b[p].length-1][2])&&q&&(m[p]=!0,--r)}r>=d?(n[p]=!1,t+=1,g.add(k),z.add(l),k+=r):n[p]=!0}f=3*k;0!=f%2&&f++;2>f&&(f=2);p=e.J.truncate(3*k/2);4>p?p=4:16>p&&(p=16);f=e.Uc.Um(f,0);l=e.Uc.Um(p);d=e.Uc.Um(p);for(p=r=0;p<b.length;p++)if(!1===n[p])for(q=0;q<b[p].length;q++){var v=!1;q===b[p].length-1&&!0===m[p]&&(v=!0);v||(f.write(2*r,b[p][q][0]),f.write(2*r+1,b[p][q][1]),l.write(r,a||c?b[p][q][2]:NaN),d.write(r,c&&a?b[p][q][3]:NaN),
r++)}0!=k&&(b=h,g.resize(t),z.resize(t),0<k&&(g.add(k),z.add(0)),b.Yn(0,f),b.GK(z),b.HK(g));a&&(h.Ud(1),h.Yn(1,l));c&&(h.Ud(2),h.Yn(2,0==a?l:d));h.Dc(16777215);return h};return d}();e.cc=d})(m||(m={}));(function(e){var d=function(){function e(){}e.Hm=function(b){var a=0,c,f=b.length,e=b[0],l;for(c=0;c<f-1;c++)l=b[c+1],a+=(l[0]-e[0])*(l[1]+e[1]),e=l;return 0<=a};e.rotate=function(b,a,c){a=a*Math.PI/180;var f=Math.cos(a),h=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var l=0;l<b.paths.length;l++){for(var d=
b.paths[l],g=[],z=0;z<d.length;z++){var k=d[z].slice(0);g.push(k);var t=f*(d[z][0]-c.x)-h*(d[z][1]-c.y)+c.x,m=h*(d[z][0]-c.x)+f*(d[z][1]-c.y)+c.y;k[0]=t;k[1]=m}a.paths.push(g)}return a}if(void 0!==b.rings){a={rings:[]};for(l=0;l<b.rings.length;l++){for(var d=b.rings[l],g=[],n=e.Hm(d),z=0;z<d.length;z++)k=d[z].slice(0),g.push(k),t=f*(d[z][0]-c.x)-h*(d[z][1]-c.y)+c.x,m=h*(d[z][0]-c.x)+f*(d[z][1]-c.y)+c.y,k[0]=t,k[1]=m;e.Hm(g)!==n&&g.reverse();a.rings.push(g)}return a}if(void 0!==b.x)return a={x:f*(b.x-
c.x)-h*(b.y-c.y)+c.x,y:h*(b.x-c.x)+f*(b.y-c.y)+c.y},void 0!==b.z&&(a.z=b.z),void 0!==b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(z=0;z<b.length;z++)l=b[z].slice(0),l[0]=f*(b[z][0]-c.x)-h*(b[z][1]-c.y)+c.x,l[1]=h*(b[z][0]-c.x)+f*(b[z][1]-c.y)+c.y,a.points.push(l);return a}return null};e.zG=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var h=0;h<b.paths.length;h++){for(var l=b.paths[h],d=[],g=0;g<l.length;g++){var z=l[g].slice(0);d.push(z);f=a.x-l[g][0];z[0]=l[g][0]+
2*f}c.paths.push(d)}return c}if(void 0!==b.rings){c={rings:[]};for(h=0;h<b.rings.length;h++){for(var l=b.rings[h],k=e.Hm(l),d=[],g=0;g<l.length;g++)z=l[g].slice(0),d.push(z),f=a.x-l[g][0],z[0]=l[g][0]+2*f;e.Hm(d)!==k&&d.reverse();c.rings.push(d)}return c}if(void 0!==b.x)return f=a.x-b.x,c={x:b.x+2*f,y:b.y},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};h=b.points;for(g=0;g<h.length;g++)l=h[g].slice(0),f=a.x-l[0],l[0]+=2*f,c.points.push(l);return c}return void 0!==
b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.x-b.xmin,c.xmax=b.xmin+2*f,f=a.x-b.xmax,c.xmin=b.xmax+2*f,c):null};e.AG=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var h=0;h<b.paths.length;h++){for(var l=b.paths[h],d=[],g=0;g<l.length;g++){var z=l[g].slice(0);d.push(z);f=a.y-l[g][1];z[1]=l[g][1]+2*f}c.paths.push(d)}return c}if(void 0!==b.rings){c={rings:[]};for(h=0;h<b.rings.length;h++){for(var l=
b.rings[h],k=e.Hm(l),d=[],g=0;g<l.length;g++)z=l[g].slice(0),d.push(z),f=a.y-l[g][1],z[1]=l[g][1]+2*f;e.Hm(d)!==k&&d.reverse();c.rings.push(d)}return c}if(void 0!==b.x)return f=a.y-b.y,c={y:b.y+2*f,x:b.x},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};h=b.points;for(g=0;g<h.length;g++)l=h[g].slice(0),f=a.y-l[1],l[1]+=2*f,c.points.push(l);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==
b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.y-b.ymin,c.ymax=b.ymin+2*f,f=a.y-b.ymax,c.ymin=b.ymax+2*f,c):null};return e}();e.Wp=d})(m||(m={}));(function(e){var d=function(){function d(){}d.bh=function(b,a){null==a&&(a=e.ye.Ig());switch(b){case 33:return new e.Wa(a);case 322:return new e.Hb(a);case 197:return new e.ci(a);case 550:return new e.Ed(a);case 1607:return new e.Ua(a);case 1736:return new e.Ja(a);default:throw e.g.X("invalid argument.");}};return d}();e.uM=d})(m||(m={}));(function(e){var d=
function(){function d(b,a){this.tf=e.ia.zd(b,-1);this.va=new e.Lu;this.bm=a}d.prototype.xX=function(b){this.va.pu(Math.min(this.tf.size,b));this.va.Vn(b)};d.prototype.addElement=function(b,a){if(void 0===a)return this.cP(b);a=e.J.truncate(a%this.tf.size);var c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,b)};d.prototype.cP=function(b){var a=this.bm.Vz(b),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,
b)};d.prototype.kd=function(b,a){if(void 0===a)this.GR(b);else{a=e.J.truncate(a%this.tf.size);var c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),h=-1;-1!=f;){var l=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(c,h,f),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):h=f;f=l}}};d.prototype.GR=function(b){var a=this.bm.Vz(b),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),h=-1;-1!=f;){var l=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(c,
h,f),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):h=f;f=l}};d.prototype.hT=function(b){b=e.J.truncate(b%this.tf.size);b=this.tf.get(b);return-1==b?-1:this.va.xc(b)};d.prototype.xT=function(b){return this.va.nb(b)};d.prototype.Kd=function(b){var a=this.bm.Vz(this.ja(b)),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),h=-1;-1!=f;){if(f==b){this.va.kd(c,h,f);-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1));return}h=f;f=this.va.nb(f)}throw e.g.F();
};d.prototype.ja=function(b){return this.va.ja(b)};d.prototype.clear=function(){this.tf=e.ia.zd(this.tf.size,-1);this.va.clear()};d.prototype.size=function(){return this.va.eH()};return d}();e.EM=d})(m||(m={}));(function(e){var d=function(){function d(){this.kj=new e.ad(3);this.va=new e.ad(6);this.sV=!1;this.Ge=-1}d.prototype.Kl=function(b){this.kj.kd(b)};d.prototype.Bx=function(){return this.kj.Pe()};d.prototype.Pv=function(b){this.va.kd(b)};d.prototype.FB=function(){return this.va.Pe()};d.prototype.uC=
function(b,a){this.kj.P(b,1,a)};d.prototype.Qx=function(b,a){this.kj.P(b,2,a)};d.prototype.aY=function(b,a){this.kj.P(b,3,a)};d.prototype.sC=function(b,a){this.va.P(b,4,a)};d.prototype.dY=function(b,a){this.va.P(b,3,a)};d.prototype.KK=function(b,a){this.va.P(b,2,a)};d.prototype.mi=function(b){var a=this.FB();this.va.P(a,3,this.Ge);this.va.P(a,4,0);this.va.P(a,5,b);-1!=this.Ge&&this.KK(this.Ge,a);return this.Ge=a};d.prototype.zh=function(b){this.QF(b);var a=this.va.S(b,2),c=this.va.S(b,3);-1!=a?this.dY(a,
c):this.Ge=c;-1!=c&&this.KK(c,a);this.Pv(b);return c};d.prototype.pu=function(b){this.va.Qe(b)};d.prototype.$G=function(b){return this.va.S(b,5)};d.prototype.$X=function(b,a){this.va.P(b,5,a)};d.prototype.addElement=function(b,a){return this.oU(b,a)};d.prototype.oU=function(b,a){var c=this.Bx();this.Qx(c,-1);-1==this.va.S(b,0)&&this.va.P(b,0,c);var f=this.va.S(b,1);this.uC(c,f);-1!=f&&this.Qx(f,c);this.va.P(b,1,c);this.setData(c,a);this.sC(b,this.at(b)+1);this.sV&&this.aY(c,b);return c};d.prototype.kd=
function(b,a){var c=this.Ve(a),f=this.nb(a);-1!=c?this.Qx(c,f):this.va.P(b,0,f);-1!=f?this.uC(f,c):this.va.P(b,1,c);this.Kl(a);this.sC(b,this.at(b)-1);return f};d.prototype.Vn=function(b){this.kj.Qe(b)};d.prototype.getData=function(b){return this.kj.S(b,0)};d.prototype.setData=function(b,a){this.kj.P(b,0,a)};d.prototype.nb=function(b){return this.kj.S(b,2)};d.prototype.Ve=function(b){return this.kj.S(b,1)};d.prototype.xc=function(b){return this.va.S(b,0)};d.prototype.Fc=function(b){return this.va.S(b,
1)};d.prototype.clear=function(){for(var b=this.Ge;-1!=b;)b=this.zh(b)};d.prototype.QF=function(b){for(var a=this.Fc(b);-1!=a;){var c=a,a=this.Ve(c);this.Kl(c)}this.va.P(b,0,-1);this.va.P(b,1,-1);this.sC(b,0)};d.prototype.u=function(){return 0==this.kj.size};d.prototype.eH=function(){return this.kj.size};d.prototype.at=function(b){return this.va.S(b,4)};d.prototype.bA=function(b){return this.va.S(b,3)};return d}();e.Xp=d})(m||(m={}));(function(e){var d=function(){function d(b){void 0===b?(this.Qg=
new e.ad(2),this.va=new e.ad(4),this.Ge=-1,this.Cw=!0):(this.Qg=new e.ad(2),this.va=new e.ad(b?4:2),this.Ge=-1,this.Cw=b)}d.prototype.Kl=function(b){this.Qg.kd(b)};d.prototype.Bx=function(){return this.Qg.Pe()};d.prototype.Pv=function(b){this.va.kd(b)};d.prototype.FB=function(){return this.va.Pe()};d.prototype.mi=function(){var b=this.FB();this.Cw&&(this.va.P(b,3,this.Ge),-1!=this.Ge&&this.va.P(this.Ge,2,b),this.Ge=b);return b};d.prototype.zh=function(b){for(var a=this.xc(b);-1!=a;){var c=a,a=this.nb(a);
this.Kl(c)}this.Cw&&(a=this.va.S(b,2),c=this.va.S(b,3),-1!=a?this.va.P(a,3,c):this.Ge=c,-1!=c&&this.va.P(c,2,a));this.Pv(b)};d.prototype.pu=function(b){this.va.Qe(b)};d.prototype.addElement=function(b,a){var c=this.va.S(b,1),f=this.Bx();-1!=c?this.Qg.P(c,1,f):this.va.P(b,0,f);this.va.P(b,1,f);this.Qg.P(f,0,a);return f};d.prototype.Vn=function(b){this.Qg.Qe(b)};d.prototype.kd=function(b,a,c){-1!=a?(this.Qg.P(a,1,this.Qg.S(c,1)),this.va.S(b,1)==c&&this.va.P(b,1,a)):(this.va.P(b,0,this.Qg.S(c,1)),this.va.S(b,
1)==c&&this.va.P(b,1,-1));this.Kl(c)};d.prototype.mz=function(b,a){var c=this.va.S(b,1),f=this.va.S(a,0);-1!=f&&(-1!=c?this.Qg.P(c,1,f):this.va.P(b,0,f),this.va.P(b,1,this.va.S(a,1)));this.Cw&&(c=this.va.S(a,2),f=this.va.S(a,3),-1!=c?this.va.P(c,3,f):this.Ge=f,-1!=f&&this.va.P(f,2,c));this.Pv(a)};d.prototype.ja=function(b){return this.Qg.S(b,0)};d.prototype.kk=function(b,a){this.Qg.P(b,0,a)};d.prototype.nb=function(b){return this.Qg.S(b,1)};d.prototype.xc=function(b){return this.va.S(b,0)};d.prototype.yo=
function(b){return this.ja(this.xc(b))};d.prototype.clear=function(){this.Qg.Vi(!0);this.va.Vi(!0);this.Ge=-1};d.prototype.u=function(b){return void 0===b?0==this.Qg.size:-1==this.va.S(b,0)};d.prototype.eH=function(){return this.Qg.size};d.prototype.bA=function(b){return this.va.S(b,3)};return d}();e.Lu=d})(m||(m={}));(function(e){var d=function(){function d(){}d.ZD=function(b,a,c,f,h,l,u){var g=new e.b;g.L(b);b=new e.b;b.L(a);h.Ny(g);h.Ny(b);a=h.Wu(g);var z=h.Wu(b);0==z&&(z=h.ZG());if(g.x!=b.x&&
(g.y!=b.y||g.y!=h.A&&g.y!=h.B)||z>a!=l){a=h.zE(g);var z=h.zE(b),k,t=l?1:3;do a=a+t&3,k=h.Gx(a),0!=u&&(f=d.ZD(g,k,c,f,h,l,u)),c[f++].ka(k.x,k.y),g=k;while((a&3)!=z);0!=u&&(f=d.ZD(g,b,c,f,h,l,u))}else if(h=new e.b,h.ka(b.x-g.x,b.y-g.y),0!=u&&(u=e.J.truncate(h.RO()/u),0<u))for(h.scale(1/(u+1)),l=0;l<u;l++)g.add(h),c[f++].ka(g.x,g.y);return f};d.be=function(b,a,c){a=a.no();b=null!=b&&void 0!==b.re?b.re(0):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.Cs=function(b){return 2*Math.sqrt(2)*b};d.rP=function(b){return Math.sqrt(2)*
b};d.ah=function(b,a,c){var f=new e.h;a.s(f);return d.be(b,f,c)};d.FF=function(b,a,c){a=a.xf(1,0).no();b=null!=b?b.re(1):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.a_=function(b,a){var c=new e.h;b.ac(c);c.Nb(a);return c};d.Zv=function(b,a){var c=new e.h;b.ac(c);b=new e.h;a.ac(b);c.Nb(b);return c};d.j_=function(b,a){var c=b.mT(a),f=b.wa(a),h=b.Gc(a),l=b.Ba(c);c==f?(h=b.Ba(h-1),c=b.Ba(f+1)):c==h-1?(h=b.Ba(c-1),c=b.Ba(f)):(h=b.Ba(c-1),c=b.Ba(c+1));l=e.b.zp(h,l,c);return 0==l?0<b.Sm(a):-1==l};d.aQ=function(b){var a=
new e.h;b.ac(a);if(a.u())return null;var c=new e.gq(a,8),f=-1,h=new e.h,l=!1;do for(var d=0,g=b.aa();d<g;d++)if(b.jk(d,h),f=c.lw(d,h,f),-1==f){if(l)throw e.g.X("internal error");b.uo(a,!1);l=!0;c.reset(a,8);break}else l=!1;while(l);return c};d.AF=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=-1,h=b.Fa(),l=new e.h,d=!1;h.Ya();)for(;h.Ea();){var g=h.ba(),k=h.Db();g.s(l);f=c.lw(k,l,f);if(-1==f){if(d)throw e.g.za();b.uo(a,!1);d=!0;c.reset(a,8);h.yj();break}}return c};d.Lj=function(b,a){var c=
new e.h;b.ac(c);for(var f=new e.gq(c,8),h=-1,l=new e.h,d=b.Fa(),g=!1;d.Ya();)for(;d.Ea();){var k=d.ba(),t=d.Db();k.s(l);if(l.Yb(a)&&(h=f.lw(t,l,h),-1==h)){if(g)throw e.g.X("internal error.");b.uo(c,!1);g=!0;f.reset(c,8);d.yj();break}}return f};d.S_=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=new e.b,h=new e.h,l=!1,d=0;d<b.D();d++)if(b.w(d,f),h.I(f),-1==c.eh(d,h)){if(l)throw e.g.za();b.uo(a,!1);l=!0;c.reset(a,8);d=-1}return c};d.BF=function(b,a){for(var c=new e.gq(a,8),f=new e.b,h=
!1,l=new e.h,d=0;d<b.D();d++)if(b.w(d,f),a.contains(f)&&(l.I(f),-1==c.eh(d,l))){if(h)throw e.g.za();h=!0;d=new e.h;b.uo(d,!1);c.reset(d,8);d=-1}return c};d.cT=function(b,a,c){var f=new e.h,h=new e.h;b.ac(f);a.ac(h);f.O(c,c);h.O(c,c);var l=new e.h;l.I(f);l.Ma(h);b=b.Fa();a=a.Fa();var d=new e.fD;d.yC(c);var g=!1;for(d.bL();b.Ya();)for(;b.Ea();)b.ba().s(f),f.Yb(l)&&(g=!0,c=new e.h,c.I(f),d.ZE(b.Db(),c));d.tG();if(!g)return null;f=!1;for(d.aL();a.Ya();)for(;a.Ea();)a.ba().s(h),h.Yb(l)&&(f=!0,c=new e.h,
c.I(h),d.VE(a.Db(),c));d.sG();return f?d:null};d.dT=function(b,a,c,f,h){var l=b.G(),d=a.G(),g=new e.h,k=new e.h;b.ac(g);a.ac(k);g.O(c,c);k.O(c,c);var t=new e.h;t.I(g);t.Ma(k);var m=new e.fD;m.yC(c);var n=!1;m.bL();var p=0;for(c=b.aa();p<c;p++)if(!f||1736!=l||b.rw(p))b.jk(p,g),g.Yb(t)&&(n=!0,m.ZE(p,g));m.tG();if(!n)return null;b=!1;m.aL();f=0;for(c=a.aa();f<c;f++)if(!h||1736!=d||a.rw(f))a.jk(f,k),k.Yb(t)&&(b=!0,m.VE(f,k));m.sG();return b?m:null};d.o_=function(b,a){return 0<b.Lk(a)};d.R_=function(b,
a){var c=new e.h;b.hX(a,c);var c=new e.gq(c,8),f=-1,h=new e.h;b=b.Fa();b.eC(a);if(b.Ya())for(;b.Ea();){a=b.ba();var l=b.Db();a.ac(h);f=c.lw(l,h,f);if(-1==f)throw e.g.X("internal error");}return c};d.Fv=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=e.b.El(a[f]):b[f].L(a[f])};d.oz=function(b,a,c,f){var e=0;for(f+=0;e<f;c++,e++)null==b[e]&&(b[e]=[0,0]),b[e][0]=a[c].x,b[e][1]=a[c].y};d.nz=function(b,a,c,f){var h=a,l=0;for(a=f+a;h<a;l++,h++)null==b[h]?b[h]=e.b.pa(c[l][0],c[l][1]):b[h].ka(c[l][0],
c[l][1])};d.jR=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=new e.Wa(a[f]):a[f].copyTo(b[f])};d.EP=function(b,a,c,f){var e=f.ca;f=f.ha;for(var l=0;l<a;l+=c){var d=b.read(l);d<e?b.write(l,e):d>f&&b.write(l,f)}};d.uP=function(b,a,c,f){var e=f.ca;f=f.ha;for(var l=0;l<a;l+=c){var d=b.read(l);d<e?b.write(l,e):d>f&&b.write(l,f)}};d.UK=function(b,a,c){if(b.hasAttribute(c)){var f=b.G();if(e.T.gh(f)){var h=e.ma.si(c),f=e.ma.Xa(c),l=b.D();if(1==h){b=b.Pa(c);d.EP(b,l*f,f,a);return}if(2==h){b=
b.Pa(c);d.uP(b,l*f,f,a);return}throw e.g.X("snap_coordinate not implemented");}if(197==f)l=b.xf(c,0),f=!1,l.ca<a.ca&&(f=!0,l.ca=a.ca),l.ha>a.ha&&(f=!0,l.ha=a.ha),f&&b.setInterval(c,0,l);else if(33==f)l=b.Yc(c,0),f=!1,l<a.ca&&(f=!0,l=a.ca),l>a.ha&&(f=!0,l=a.ha),f&&b.setAttribute(c,0,l);else if(e.T.Oc(f))l=b.dt(c,0),f=!1,l<a.ca&&(f=!0,l=a.ca),l>a.ha&&(f=!0,l=a.ha),f&&b.Tx(c,0,l),l=b.Os(c,0),l<a.ca&&(f=!0,l=a.ca),l>a.ha&&(f=!0,l=a.ha),f&&b.Lx(c,0,l);else throw e.g.X("snap_coordinate not implemented");
}};d.jo=function(b,a,c,f,e){var h=0;null!=a&&(h=a.re(b),e&&!f||null==a||(h+=1.01*a.fA(b)));f&&(c*=4,h*=1.01);return Math.max(h,c)};d.T_=function(b,a,c,f){a=e.h.CO(a.Be(),a.nf(),c.Be(),c.nf());return d.jo(0,b,a,f,!1)};d.Zy=function(b,a,c){a=a.no();return d.jo(0,b,a,c,!1)};d.U_=function(b,a,c){a=a.no();return d.jo(1,b,a,c,!1)};d.gQ=function(b,a){var c=new e.h;a.s(c);return d.Zy(b,c,!0)};d.$y=function(b,a){a=a.no();return d.jo(0,b,a,!1,!0)};d.V_=function(b,a,c){a=a.no();return d.jo(1,b,a,c,!0)};d.vv=
function(b,a){var c=new e.h;a.s(c);return d.$y(b,c)};d.NH=function(b,a,c,f){f*=f;var h=new e.b;h.zc(b,a);b=new e.b;b.zc(c,a);a=h.qk();c=b.qk();if(a<=f&&c<=f)return!0;var l=e.Ub.Yx(h.Ui(b));return l<=f*a||l<=f*c?0<=h.oi(b):!1};d.VK=function(b,a,c,f){for(var h=0;h<a;h++){var l=b[h].y,d=e.J.pk(l,c,f);d!=l&&(b[h].y=d)}};return d}();e.na=d})(m||(m={}));(function(e){var d=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,f){a=a.ja(f);f=this.ab.Pk(b);var e=this.ab.Pk(a);return f<e?-1:f==
e?c.Vq(b)&&c.tw(a)?-1:c.Vq(a)&&c.tw(b)?1:0:1};return a}(),g=function(){function a(a){this.ab=a}a.prototype.hs=function(a,c,b){this.ab.AY(b,a,c)};a.prototype.Qq=function(a){return this.ab.Pk(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.pj=new e.Ac;this.oh=new e.ia(0);this.Og=[0,0]}a.prototype.Ni=function(a,
c){this.pj.ca=a.ca-c;this.pj.ha=a.ha+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.dC=function(a,c,b){if(a>c)throw e.g.F();this.pj.ca=a-b;this.pj.ha=c+b;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.Wn=function(a,c){this.pj.ca=a-c;this.pj.ha=a+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw e.g.Da();if(0>this.Ee)return-1;for(var a=!0;a;)switch(this.Og[this.Ee]){case 1:a=this.pW();break;case 2:a=this.qW();break;case 3:a=this.rW();break;
case 4:a=this.sW();break;case 5:a=this.CX();break;case 6:a=this.lV();break;case 7:a=this.vP();break;case 0:a=this.qA();break;default:throw e.g.za();}return-1!=this.jh?this.Gq()>>1:-1};a.CZ=function(c,b,f){var e=new a;e.ab=c;e.oh.yb(20);e.Ni(b,f);return e};a.DZ=function(c,b,f){var e=new a;e.ab=c;e.oh.yb(20);e.Wn(b,f);return e};a.pa=function(c){var b=new a;b.ab=c;b.oh.yb(20);b.Ee=-1;return b};a.prototype.qA=function(){this.jh=this.HI=this.lj=this.Sc=-1;if(null!=this.ab.Je&&0<this.ab.Je.size)return this.Og[0]=
1,this.lj=this.ab.Mf,!0;this.Ee=-1;return!1};a.prototype.pW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.jh=this.Ee=-1,!1;var a=this.ab.Hq(this.Sc);if(this.pj.ha<a)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Qj(this.Sc),-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6),!0;if(a<this.pj.ca)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Nk(this.Sc),-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5),!0;this.Og[this.Ee]=2;this.HI=this.Sc;a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=
a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);return!0};a.prototype.qW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=3,this.lj=this.ab.Nk(this.HI),!0;if(this.ab.Hq(this.Sc)<this.pj.ca){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Nk(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.rW=function(){this.Sc=
this.lj;if(-1==this.Sc)return this.Og[this.Ee]=4,!0;if(this.pj.ha<this.ab.Hq(this.Sc)){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Qj(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.sW=function(){if(0==this.oh.size)return this.jh=this.Ee=-1,!1;this.Sc=this.oh.get(this.oh.size-1);this.oh.resize(this.oh.size-1);var a=
this.ab.Ok(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);-1!=this.ab.Qj(this.Sc)&&this.oh.add(this.ab.Qj(this.Sc));-1!=this.ab.Nk(this.Sc)&&this.oh.add(this.ab.Nk(this.Sc));return!0};a.prototype.lV=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq())&&this.ab.Pk(this.Gq())<=this.pj.ha)return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.CX=function(){this.jh=this.Ei;if(-1!=this.jh&&c.tw(this.Gq())&&this.ab.Pk(this.Gq())>=this.pj.ca)return this.Ei=this.JT(),!1;this.Ee--;
return!0};a.prototype.vP=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq()))return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.dH=function(){return this.ab.pg?this.ab.vg.nb(this.jh):this.ab.sj.nb(this.jh)};a.prototype.JT=function(){return this.ab.pg?this.ab.vg.Ve(this.jh):this.ab.sj.Ve(this.jh)};a.prototype.Gq=function(){return this.ab.pg?this.ab.vg.ja(this.jh):this.ab.sj.getData(this.jh)};return a}();e.WZ=a;var c=function(){function c(a){this.on=this.zi=this.vg=this.sj=this.xn=this.ak=
this.Je=this.bk=null;this.pg=a;this.ar=this.Ew=!1}c.prototype.cs=function(){this.ql(!0)};c.prototype.zs=function(a,c){if(!this.Ew)throw e.g.Da();this.bk.push(new e.Ac(a,c))};c.prototype.yq=function(){if(!this.Ew)throw e.g.X("invalid call");this.Ew=!1;this.ar=!0;this.pg||(this.qU(),this.Mw=this.bk.length)};c.prototype.eh=function(a){if(!this.pg||!this.ar)throw e.g.F("invalid call");if(-1==this.Mf){var c=this.bk.length;if(this.RA){var b=new e.ia(0);b.yb(2*c);this.VJ(b);this.zi.yb(2*c);this.zi.resize(0);
this.UJ(b);this.xn.resize(c,-1);this.xn.Zh(-1,0,c);this.RA=!1}else this.xn.Zh(-1,0,c);this.Mf=this.Hv()}c=this.DH(a<<1,this.Mf);b=this.vg.addElement((a<<1)+1,this.hA(c));this.MK(c,b);this.xn.set(a,c);this.Mw++};c.prototype.remove=function(a){if(!this.pg||!this.ar)throw e.g.X("invalid call");var c=this.xn.get(a);if(-1==c)throw e.g.F("the interval does not exist in the interval tree");this.xn.set(a,-1);this.Mw--;var b=this.hA(c),f;f=this.vg.ST(b);this.vg.Kd(this.qT(c),b);this.vg.Kd(this.MT(c),b);a=
this.vg.size(b);0==a&&(this.vg.IR(b),this.PK(f,-1));this.ak.kd(c);for(var b=this.fH(f),h=this.Qj(f),d=this.Nk(f),c=0;!(0<a||f==this.Mf||-1!=h&&-1!=d);)f==this.Qj(b)?-1!=h?(this.rl(b,h),this.mk(h,b),this.rl(f,-1)):-1!=d?(this.rl(b,d),this.mk(d,b),this.tl(f,-1)):this.rl(b,-1):-1!=h?(this.tl(b,h),this.mk(h,b),this.rl(f,-1)):-1!=d?(this.tl(b,d),this.mk(d,b),this.tl(f,-1)):this.tl(b,-1),this.mk(f,-1),c++,f=b,b=this.Ok(f),a=-1!=b?this.vg.size(b):0,h=this.Qj(f),d=this.Nk(f),b=this.fH(f)};c.prototype.reset=
function(){if(!this.pg||!this.ar)throw e.g.F("invalid call");this.ql(!1)};c.prototype.size=function(){return this.Mw};c.prototype.mf=function(){return a.pa(this)};c.prototype.VJ=function(a){for(var c=this.bk.length,b=0;b<2*c;b++)a.add(b);this.BY(a,2*c)};c.prototype.UJ=function(a){for(var c=NaN,b=0;b<a.size;b++){var f=a.get(b),e=this.Pk(f);e!=c&&(this.zi.add(f),c=e)}};c.prototype.qU=function(){var a=this.bk.length,c=new e.ia(0);c.yb(2*a);this.VJ(c);this.zi.yb(2*a);this.zi.resize(0);this.UJ(c);this.ak.Qe(a);
this.sj.Vn(2*a);var b=e.Uc.wh(a);b.Zh(-1,0,a);this.Mf=this.Hv();for(a=0;a<c.size;a++){var f=c.get(a),d=b.get(f>>1);-1!=d?this.MK(d,this.sj.addElement(this.hA(d),f)):(d=this.DH(f,this.Mf),b.set(f>>1,d))}};c.prototype.DH=function(a,c){var b=c,f=c,h,l=-1,d=0,g=this.zi.size-1,k=0,t=a>>1,m=NaN,n=NaN;h=!0;for(var p=this.wT(t),t=this.tT(t);h;){d<g?(k=d+e.J.truncate((g-d)/2),-1==this.Pz(b)&&this.vK(b,this.zi.get(k),this.zi.get(k+1))):-1==this.Pz(b)&&this.vK(b,this.zi.get(d),this.zi.get(d));var r=this.Hq(b);
if(t<r)-1!=c&&(c==b?(f=b,m=r,c=this.Qj(b),-1!=c?n=this.Hq(c):n=NaN):n>r&&(r<m?this.rl(f,b):this.tl(f,b),this.tl(b,c),this.pg&&(this.mk(b,f),this.mk(c,b)),f=b,m=r,c=-1,n=NaN)),g=this.rT(b),-1==g&&(g=this.Hv(),this.YX(b,g)),b=g,g=k;else if(p>r)-1!=c&&(c==b?(f=b,m=r,c=this.Nk(b),-1!=c?n=this.Hq(c):n=NaN):n<r&&(r<m?this.rl(f,b):this.tl(f,b),this.rl(b,c),this.pg&&(this.mk(b,f),this.mk(c,b)),f=b,m=r,c=-1,n=NaN)),d=this.NT(b),-1==d&&(d=this.Hv(),this.iY(b,d)),b=d,d=k+1;else{h=this.Ok(b);-1==h&&(h=this.wR(b),
this.PK(b,h));var q=this.dP(h,a),l=this.uR();this.lY(l,h);this.XX(l,q);b!=c&&(r<m?this.rl(f,b):this.tl(f,b),this.pg&&this.mk(b,f),-1!=c&&(n<r?this.rl(b,c):this.tl(b,c),this.pg&&this.mk(c,b)));h=!1}}return l};c.prototype.Hv=function(){return this.Je.Pe()};c.prototype.wR=function(a){return this.pg?this.vg.Ks(a):this.sj.mi(a)};c.prototype.uR=function(){return this.ak.Pe()};c.prototype.ql=function(a){a?(this.Ew=this.RA=!0,this.ar=!1,null==this.zi?this.zi=e.Uc.wh(0):this.zi.resize(0),null==this.bk?this.bk=
[]:this.bk.length=0):this.RA=!1;this.pg?null==this.xn?(this.xn=e.Uc.wh(0),this.vg=new e.uk,this.vg.Ep(new d(this))):this.vg.clear():null==this.sj?this.sj=new e.Xp:this.sj.clear();null==this.Je?(this.ak=new e.ad(3),this.Je=new e.ad(this.pg?8:7)):(this.ak.Vi(!1),this.Je.Vi(!1));this.Mf=-1;this.Mw=0};c.prototype.vK=function(a,c,b){this.SX(a,c);this.TX(a,b)};c.prototype.Hq=function(a){var c=this.Pz(a);if(-1==c)return NaN;c=this.Pk(c);a=this.Pk(this.YS(a));return c==a?c:.5*(c+a)};c.prototype.SX=function(a,
c){this.Je.P(a,0,c)};c.prototype.TX=function(a,c){this.Je.P(a,1,c)};c.prototype.YX=function(a,c){this.Je.P(a,3,c)};c.prototype.iY=function(a,c){this.Je.P(a,4,c)};c.prototype.PK=function(a,c){this.Je.P(a,2,c)};c.prototype.rl=function(a,c){this.Je.P(a,5,c)};c.prototype.tl=function(a,c){this.Je.P(a,6,c)};c.prototype.mk=function(a,c){this.Je.P(a,7,c)};c.prototype.lY=function(a,c){this.ak.P(a,0,c)};c.prototype.dP=function(a,c){return this.pg?this.vg.addElement(c,a):this.sj.addElement(a,c)};c.prototype.XX=
function(a,c){this.ak.P(a,1,c)};c.prototype.MK=function(a,c){this.ak.P(a,2,c)};c.prototype.Ol=function(a){return this.pg?this.vg.xc(a):this.sj.xc(a)};c.prototype.Zs=function(a){return this.pg?this.vg.Fc(a):this.sj.Fc(a)};c.Vq=function(a){return 0==(a&1)};c.tw=function(a){return 1==(a&1)};c.prototype.Pz=function(a){return this.Je.S(a,0)};c.prototype.YS=function(a){return this.Je.S(a,1)};c.prototype.Ok=function(a){return this.Je.S(a,2)};c.prototype.rT=function(a){return this.Je.S(a,3)};c.prototype.NT=
function(a){return this.Je.S(a,4)};c.prototype.Qj=function(a){return this.Je.S(a,5)};c.prototype.Nk=function(a){return this.Je.S(a,6)};c.prototype.fH=function(a){return this.Je.S(a,7)};c.prototype.hA=function(a){return this.ak.S(a,0)};c.prototype.qT=function(a){return this.ak.S(a,1)};c.prototype.MT=function(a){return this.ak.S(a,2)};c.prototype.wT=function(a){return this.bk[a].ca};c.prototype.tT=function(a){return this.bk[a].ha};c.prototype.BY=function(a,c){null==this.on&&(this.on=new e.Hu);var b=
new g(this);this.on.sort(a,0,c,b)};c.prototype.AY=function(a,b,f){var e=this;a.Gd(b,f,function(a,b){var f=e.Pk(a),h=e.Pk(b);return f<h||f==h&&c.Vq(a)&&c.tw(b)?-1:1})};c.prototype.Pk=function(a){var b=this.bk[a>>1];return c.Vq(a)?b.ca:b.ha};return c}();e.ns=c})(m||(m={}));(function(e){var d=function(){function d(b){if(null==b)throw e.g.X("Invalid arguement");this.Ke=b;var a=b.eT();a.bU()?b.je.UH()?this.Zo=e.di.PannableFold:this.Zo=e.di.Clip:this.Zo=e.di.DontClip;a.cU()?b.He.UH()?this.Dn=e.di.PannableFold:
this.Dn=e.di.Clip:this.Dn=e.di.DontClip;this.pn=a.yv;this.yI=a.uz;b=this.Ke.EI;this.mI=b.et(2147483648);this.Gw=b.et(1073741824)}d.Xg=function(b,a,c){return a.xr.Xg(b,c)};d.gs=function(b,a,c,f){return b.xr.gs(a,c,f)};d.Du=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.gs(a,c,f);if(b==c)return b;for(var e=a=0;e<c;e++){var l=f[e];l.isNaN()||(a<e&&f[a].L(l),a++)}for(;a<c;a++)f[a].$c();return b};d.LC=function(b,a,c,f){return b.xr.LC(a,c,f)};d.iL=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.LC(a,c,f);if(b==c)return b;
for(var e=a=0;e<c;e++){var l=f[e];isNaN(l.x)||(a<e&&f[a].I(l.x,l.y,l.z),a++)}for(;a<c;a++)f[a].dv();return b};d.transform=function(b,a,c,f,h){if(b.Ho())return e.na.jR(f,a,c),c;for(var l=[],u=0,g=0;g<c;){for(var k=Math.min(l.length,c-g),t=g,m=0;t<k;t++,m++)null==l[m]?l[m]=a[t].w():a[t].w(l[m]);var n;n=h?d.Du(b,l,k,l):d.gs(b,l,k,l);for(m=t=0;t<n;t++,m++)null==f[g]&&(f[g]=new e.Wa(a[g])),f[g].rb(l[m]);g+=k;u+=n}return u};d.jL=function(b,a,c){if(0==c)return[];var f=new e.Ed;f.nP(a,2*c);a=this.Xg(f,b,
null);b=a.Pa(0);a=2*a.D();c=e.J.gf(a);b.pl(0,a,c,0,!0);return c};d.prototype.gs=function(b,a,c){if(this.Ke.Ho())return b!=c&&e.na.Fv(c,b,a),a;var f=this.Ke.je,h=this.Ke.He,l=f.Fb(),d=h.Fb();if(0==l&&l===d){var g=f.Yi(),h=h.Yi(),h=g/h,g=new e.Hd;g.Op(h,h);g.ZY(b,a,c);return a}g=e.J.qv(Math.min(a,64));if(3==l){var k;k=f.ij;f=k.Gk();l=f.Fb();c!=b&&e.na.Fv(c,b,a);e.Ib.Dl(k,c,a,!0);k.Du(e.Om.forward,c,a);e.Ib.Cl(k,c,a,!0)}if(3==l||3===d)throw e.g.X("image: transform_in_place_");if(2==l)this.Zo==e.di.Clip?
(c!=b&&e.na.Fv(c,b,a),b=f.Mk(),e.Ib.JU(b,f,c,a)):(c!=b&&e.na.Fv(c,b,a),f.Jc()&&(l=f.re(0),k=f.qe(),e.Ib.yY(c,a,k,l),e.Ib.BG(c,a,f,0))),e.Ib.wN(f,c,a,g);else for(l=f.re(0),k=f.qe(),f=0;f<a;f++)e.Ib.zY(b[f],k,l,c[f]);e.Ib.uN(this.Ke,c,a,g);b=0;(d=2==d)?b=h.pi():isNaN(this.pn)||(b=this.pn);d&&this.Dn!=e.di.Clip||e.Ib.BG(c,a,h.kc(),b);d&&(e.Ib.LH(c,a,h,this.Dn),e.Ib.vN(h,c,a,g));b=a;for(f=0;f<a;++f)c[f].isNaN()&&b--;return b};d.prototype.LC=function(b,a,c){a=0>a?b.length:a;if(this.Ke.Ho()){for(var f=
0;f<a;++f)null==c[f]&&(c[f]=new e.qd),c[f].I(b[f].x,b[f].y,b[f].z);return a}var h=this.Ke.je,f=this.Ke.He,l=h.Fb(),d=f.Fb();if(0==l&&l==d)return h=h.Yi(),f=f.Yi(),f=h/f,h=new e.eO,h.Op(f,f,f),h.transform(b,a,c),a;l=new e.Ed;l.Ud(1);l.Ud(3);l.mP(b);b=l.Pa(3);f=0;for(h=a;f<h;f++)b.write(f,f);l=this.Xg(l,null);for(f=0;f<a;++f)null==c[f]?c[f]=e.qd.pa(NaN,NaN,NaN):c[f].dv();if(null==l)return 0;b=l.Pa(3);var d=l.Pa(0),g=l.Pa(1);l.fX(c,a);f=0;for(h=l.D();f<h;f++)a=b.read(f),d.oX(2*f,c[a]),c[a].z=g.read(f);
return l.D()};d.prototype.Xg=function(b,a){if(this.Ke.Ho()||b.u())return b;if(33==b.G())return this.PJ(b);var c=this.Ke.je,f=this.Ke.He,h=c.Fb(),l=f.Fb();if(0==h&&h==l)return c=c.Yi(),f=f.Yi(),c/=f,f=new e.Hd,f.Op(c,c),c=e.T.oe(b),c.Xc(f),c;switch(b.G()){case 1607:case 1736:f=this.NJ(b,a);break;case 550:f=this.WW(b,a);break;case 197:f=this.VW(b,a);break;default:throw e.g.X("");}return f};d.prototype.PJ=function(b){var a=b.w(),c=[];c[0]=a;this.gs(c,1,c);b=new e.Wa(b);b.rb(c[0]);return b};d.prototype.NJ=
function(b,a){if(b.hn())throw e.g.X("curves not supported");var c=b.G();if(1736==c)return this.XW(b,a);if(1607==c)return this.YW(b,a);throw e.g.X("projectMultiPath");};d.prototype.XW=function(b,a){var c=this.Ke.je,f=this.Ke.He,h=c.Fb(),l=f.Fb(),u=e.J.qv(Math.min(b.D(),64));b=e.Ja.oe(b);if(3==h){var g=c.ij,c=g.Gk(),h=c.Fb();b=g.Dl(b,!0);this.qq(g,e.Om.forward,b);b=g.Cl(b,!0)}g=null;3==l&&(g=f.ij,f=g.Gk(),l=f.Fb());var k=2==h,t=2==l,m=t?f.kc():f,n=!t&&!this.Gw,l=!1,p=b;if(k){if(p=e.Ib.MJ(p,c,this.Zo,
a),p.u())return p}else{b=new e.h;p.ac(b);h=c.qe();if(b.A<h.A||b.B>h.B){var r=e.h.pa(b.o-1,h.A,b.v+1,h.B),p=e.uh.rq(p,r,c,NaN,0,a);if(p.u())return p}b.N()>2*h.N()&&(p=e.Ib.Aq(p,-2*h.N(),2*h.N(),c,!0,0,!0,a))}b=this.yI;(h=!isNaN(b))&&(p=e.Jm.local().V(p,b,a));var r=t?f.Sj():null,q=NaN;k&&(q=c.pi());var v=null!=f.Ws();if(this.mI)k&&(e.Ib.qs(c,q,p,u),h&&(k=c.Ch(),q=c.kc().Ch(),b*=q/k)),e.Ib.ps(this.Ke,p,n,u),h&&(k=c.kc().Ch(),q=f.kc().Ch(),b*=q/k),c=p;else{var w=new e.Ua(p.description);w.UE(p);k&&(e.Ib.qs(c,
q,w,u),h&&(k=c.Ch(),q=c.kc().Ch(),b*=q/k));e.Ib.ps(this.Ke,w,n,u);h&&(k=c.kc().bn(),q=f.kc().bn(),b*=q/k);n=NaN;t?(r=f.Sj(),n=f.pi()):isNaN(this.pn)||(n=this.pn);k=d.se(c)|d.se(f);q=10*m.re(0);this.Gw&&(k=3,q=0);c=e.Ib.KS(p,c,w,m,n,a,k,q)}v&&(c=e.Ib.jF(c,f,a));t&&(l||(t=m.qe().N(),c.xf(0,0).N()>=t-m.re(0)&&(m=r.getNorthPoleLocation(),t=r.getSouthPoleLocation(),p=r.getNorthPoleGeometry(),r=r.getSouthPoleGeometry(),n=0,p==e.Bg.PE_POLE_POINT&&m!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(n=1),r==e.Bg.PE_POLE_POINT&&
t!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(n|=2),0!==n&&(l=!0))),c=e.Ib.tA(c,f,this.Dn,a),h&&(c=e.Jm.local().V(c,b,a)),e.Ib.vy(f,c,u));if(c.u())return c;l&&(c=e.Km.local().V(c,f,!1,a));null!=g&&(c=g.Cl(c,!1),this.qq(g,e.Om.reverse,c),c=g.Dl(c,!1));return c};d.se=function(b){if(2!=b.Fb())return 0;var a=0,c=b.Sj();b=c.getNorthPoleLocation();var f=c.getSouthPoleLocation(),h=c.getNorthPoleGeometry(),c=c.getSouthPoleGeometry();h==e.Bg.PE_POLE_POINT&&b!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);c==e.Bg.PE_POLE_POINT&&
f!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};d.prototype.YW=function(b,a){var c=this.Ke.je,f=this.Ke.He,h=c.Fb(),l=f.Fb(),u=e.J.qv(Math.min(b.D(),64));b=e.Ua.oe(b);if(3==h){var g=c.ij,c=g.Gk(),h=c.Fb();b=g.Dl(b,!0);this.qq(g,e.Om.forward,b);b=g.Cl(b,!0)}g=null;3==l&&(g=f.ij,f=g.Gk(),l=f.Fb());var k=2==h,h=(l=2==l)?f.kc():f,t=!l&&!this.Gw;if(k){if(b=e.Ib.MJ(b,c,this.Zo,a),b.u())return b}else{var m=new e.h;b.ac(m);var n=c.qe();if(m.A<n.A||m.B>n.B)if(m=e.h.pa(m.o-1,n.A,m.v+1,n.B),b=e.uh.rq(b,m,
c,NaN,0,a),b.u())return b}var p=NaN;k&&(p=c.pi());var m=null!=f.Ws(),n=this.yI,r=!isNaN(n);r&&(b=e.Jm.local().V(b,n,a));if(this.mI)k&&e.Ib.qs(c,p,b,u),r&&(k=c.Ch(),p=c.kc().Ch(),n*=p/k),e.Ib.ps(this.Ke,b,t,u),r&&(k=c.kc().Ch(),p=f.kc().Ch(),n*=p/k),c=b;else{var q=new e.Ua(b.description);q.UE(b);k&&(e.Ib.qs(c,p,q,u),r&&(k=c.Ch(),p=c.kc().Ch(),n*=p/k));e.Ib.ps(this.Ke,q,t,u);r&&(k=c.kc().Ch(),p=f.kc().Ch(),n*=p/k);t=NaN;l?t=f.pi():isNaN(this.pn)||(t=this.pn);k=d.se(c)|d.se(f);p=10*h.re(0);this.Gw&&
(k=3,p=0);c=e.Ib.LS(b,c,q,h,t,a,k,p)}m&&(c=e.Ib.jF(c,f,a));l&&(c=e.Ib.tA(c,f,this.Dn,a),r&&(c=e.Jm.local().V(c,n,a)),e.Ib.vy(f,c,u));if(c.u())return c;null!=g&&(c=g.Cl(c,!1),this.qq(g,e.Om.reverse,c),c=g.Dl(c,!1));return c};d.prototype.VW=function(b,a){var c=(b.fa()+b.N())/400;if(0!=c){var f=e.Jm.local().V(b,c,a),f=this.NJ(f,a),c=b.Ka();f.Qn(c)}else c=new e.Wa(b.Bq()),f=this.PJ(c),c=b.Ka(),f.u()?c.Oa():(b.copyTo(c),f=f.w(),c.I(f.x,f.y,f.x,f.y));return c};d.prototype.WW=function(b,a){b=e.T.oe(b);var c=
this.Ke.je,f=this.Ke.He,h=c.Fb(),l=f.Fb(),d=e.J.qv(Math.min(b.D(),64));if(3==h){var g=c.ij,c=g.Gk(),h=c.Fb();b=g.Cl(b,!0);this.qq(g,e.Om.forward,b);b=g.Dl(b,!0)}if(2==h){this.Zo==e.di.Clip?b=e.tk.local().V(b,c.Mk(),c,a):c.Jc()&&(h=new e.h,b.ac(h),c.qe().contains(h)||(this.Zo==e.di.PannableFold&&(b=e.Ib.Mj(b,c)),e.Ib.xu(b,c.qe(),c.re(0),!0),b=e.Ib.Xm(b,c,0,!0,0,a)));if(b.u())return b;e.Ib.qs(c,0,b,d)}else e.Ib.xu(b,c.qe(),c.re(0),!0);e.Ib.ps(this.Ke,b,!1,d);c=0;h=!1;g=null;3==l&&(h=!0,g=f.ij,f=g.Gk(),
l=f.Fb());(l=2==l)?c=f.pi():isNaN(this.pn)||(c=this.pn);l&&this.Dn!=e.di.Clip||(b=e.Ib.Xm(b,f.kc(),c,!1,0,a));if(l&&(b=e.Ib.tA(b,f,this.Dn,a),e.Ib.vy(f,b,d),b.u()))return b;h&&(b=g.Cl(b,!0),this.qq(g,e.Om.reverse,b),b=g.Dl(b,!0));return b};d.prototype.qq=function(b,a,c){var f=c.D();if(0!=f){for(var h=c.Pa(0),l=e.J.gf(200,0),d=[],g=0;g<f;){var k=Math.min(100,f-g);h.pl(2*g,2*k,l,2,!0);for(var t=0;t<k;++t)d[t]=e.b.pa(l[2*g],l[2*g+1]);b.Du(a,d,k);g+=k}c.Dc(1993)}};d.rk=function(b,a,c){if(null==b||null==
a||!a.Jc())throw e.g.X("Invalid Arguement");if(b.u())return b;var f;f=b.G();197==f?(f=new e.Ja(b.description),f.jd(b,!1)):e.T.Oc(f)?(f=new e.Ua(b.description),f.dc(b,!0)):f=b;f=e.Ib.Mj(f,a);return f.u()?f:e.Ib.Xm(f,a,0,f!=b,0,c)};d.Nj=function(b,a,c,f){if(null==b||null==a||!a.Jc())throw e.g.X("Invalid Arguement");if(b.u())return b;var h=b.G();if(e.T.Ic(h)){b=e.Ib.Mj(b,a);h=new e.h;b.s(h);for(var l=e.na.Zy(a,h,!1),u=a.Bh(),g=Math.floor((h.o-u.o)/u.N())*u.N()+u.o;g<h.v;)g>h.o+l&&g<h.v-l&&(b=e.Ib.pU(b,
a,c,g)),g+=u.N()}else{if(197==h)return h=new e.Ja(b.description),h.jd(b,!1),d.Nj(h,a,c,f);if(e.T.Oc(h))return h=new e.Ua(b.description),h.dc(b,!0),d.Nj(h,a,c,f)}return d.rk(b,a,f)};d.Yp=function(b,a,c,f){var h=a.Fb(),l=new e.eE;a.iX(l);if(0==h)return d.Dj(b,l,a,c);f==e.Up.foldAndClipWithHorizon&&a.Jc()&&(b=d.rk(b,a,c));b=d.Dj(b,l,a,c);if(f==e.Up.clipToDomainOnly||b.u())return b;if(1==h)return f==e.Up.clipWithHorizon?(f=new e.h,b.ac(f),h=a.qe(),l=.01*h.N(),f.A=h.A,f.B=h.B,f.o-=l,f.v+=l,e.uh.rq(b,f,
a,NaN,0,c)):b;if(2==h)return h=a.Mk(),f==e.Up.clipWithHorizon||f==e.Up.foldAndClipWithHorizon?(a=e.tk.local().V(b,h,a,c),a==h?e.T.oe(a):a):b;if(3==h)return b;throw e.g.X("missing implementation");};d.Dj=function(b,a,c,f){var h=a.WT(),l=b.hasAttribute(1),d=b.hasAttribute(2),g=new e.Ac;g.Oa();var k=new e.Ac;k.Oa();l&&(g=a.XT());d&&(k=a.sT());a=e.uh.rq(b,h,c,NaN,0,f);l&&(l=a.xf(1,0),g.contains(l)||(b==a&&(a=e.T.oe(a)),e.na.UK(a,g,1)));d&&(l=a.xf(2,0),k.contains(l)||(b==a&&(a=e.T.oe(a)),e.na.UK(a,k,2)));
return a};return d}();e.ko=d})(m||(m={}));(function(e){var d=function(d){function b(a,c,b,h){d.call(this);void 0===a?this.description=e.ye.Ig():void 0===b?this.description=a:(this.description=e.ye.Ig(),this.wC(a,c),this.vm(b,h))}O(b,d);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,c=this.ra-this.oa;return Math.sqrt(a*a+c*c)};b.prototype.fh=function(a){var c=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(c*c+b*b)<=a};b.prototype.Go=function(){return!1};b.prototype.Eg=
function(){var a=new e.b;a.zc(this.Cc(),this.ec());return a};b.fR=function(a,c){return new b(a.x,a.y,c.x,c.y)};b.prototype.Qn=function(a){a.Oa();a.Fg(this.description);var c=new e.h;this.s(c);a.Gp(c);for(var c=1,b=this.description.Ga;c<b;c++)for(var h=this.description.rd(c),l=e.ma.Xa(h);c<l;c++){var d=this.xf(h,0);a.setInterval(h,0,d)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Cp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.ae(0,1,0));a.Nb(this.sa,
this.oa,this.ae(1,1,0))};b.prototype.Xc=function(a){if(a instanceof e.Hd){this.Bc();var c=new e.b;c.x=this.ua;c.y=this.ra;a.$h(c,c);this.ua=c.x;this.ra=c.y;c.x=this.sa;c.y=this.oa;a.$h(c,c);this.sa=c.x;this.oa=c.y}else this.Bc(),c=new e.qd,c.x=this.ua,c.y=this.ra,c.z=this.ae(0,1,0),c=a.Rp(c),this.ua=c.x,this.ra=c.y,this.oo(0,1,0,c.z),c.x=this.sa,c.y=this.oa,c.z=this.ae(1,1,0),c=a.Rp(c),this.sa=c.x,this.oa=c.y,this.oo(1,1,0,c.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.Cy=
function(a,c){return(this.sa-a-(this.ua-a))*(this.oa-c+(this.ra-c))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.bI=function(a){return a/this.Rb()};b.prototype.PG=function(a){return e.Ub.Xq(this.ua,this.sa,a)};b.prototype.XS=function(a){return e.Ub.Xq(this.ra,this.oa,a)};b.prototype.Hl=function(a,c){var b=new e.Cg;this.yh(a,c,b);return b.get()};b.prototype.yh=function(a,c,b){if(null==b)throw e.g.F();b.Js();b=b.get();b.Fg(this.description);var f=new e.b;this.gc(a,f);b.wC(f.x,f.y);
this.gc(c,f);b.vm(f.x,f.y);for(var f=1,l=this.description.Ga;f<l;f++)for(var d=this.description.Td(f),g=e.ma.Xa(d),k=0;k<g;k++){var t=this.Yc(a,d,k);b.Tx(d,k,t);t=this.Yc(c,d,k);b.Lx(d,k,t)}};b.prototype.Yc=function(a,c,b){if(0==c)return 0==b?this.gc(a).x:this.gc(a).y;switch(e.ma.Wz(c)){case 0:return.5>a?this.dt(c,b):this.Os(c,b);case 1:var f=this.dt(c,b);c=this.Os(c,b);return e.Ub.Xq(f,c,a);case 2:throw e.g.X("not implemented");}throw e.g.za();};b.prototype.pe=function(a,c){var b=this.sa-this.ua,
e=this.oa-this.ra,l=b*b+e*e;if(0==l)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*e)/l;c||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,c,b,e){if(a){a=this.oa-this.ra;if(0==a)return c==this.oa?-1:0;c=(c-this.ra)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.PG(c))}else{a=this.sa-this.ua;if(0==a)return c==this.sa?-1:0;c=(c-this.ua)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.XS(c))}null!=e&&(e[0]=c);return 1};b.prototype.pf=function(a,c){var b=this.oa-this.ra;if(0==b)return a==this.oa?c:NaN;b=(a-
this.ra)/b;a=this.PG(b);1==b&&(a=this.sa);return a};b.prototype.av=function(a,c,b){return 0<=this.lq(a.x,a.y,c,b)};b.prototype.Si=function(a,c,b){return 0<=this.lq(a,c,b,!0)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.BJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,c=this.description.Er-2;a<c;a++){var b=this.la[a];this.la[a]=this.la[a+c];this.la[a+c]=b}}};b.prototype.ev=
function(a,c){a=e.b.pa(a,c);a.sub(this.ec());c=new e.b;c.zc(this.Cc(),this.ec());var b=c.Ui(a);a=8.881784197001252E-16*(Math.abs(c.x*a.y)+Math.abs(c.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,c,b,h){var f=this.ua,d=this.ra,g=a-f,k=c-d,g=Math.sqrt(g*g+k*k);if(g<=Math.max(b,6.661338147750939E-16*g))return h&&0==g?NaN:0;g=a-this.sa;k=c-this.oa;g=Math.sqrt(g*g+k*k);if(g<=Math.max(b,6.661338147750939E-16*g))return h&&0==g?NaN:1;g=this.sa-this.ua;k=this.oa-this.ra;h=Math.sqrt(g*g+k*k);if(0<
h){var t=1/h,g=g*t,k=k*t,m=a-f,n=c-d,p=m*g+n*k,r=1.7763568394002505E-15*(Math.abs(m*g)+Math.abs(n*k)),q=g,g=-k,k=q,r=Math.max(b,r);if(p<-r||p>h+r)return NaN;if(Math.abs(m*g+n*k)<=Math.max(b,1.7763568394002505E-15*(Math.abs(m*g)+Math.abs(n*k)))&&(g=e.J.pk(p*t,0,1),.5>=g?(k=this.ua+(this.sa-this.ua)*g,h=this.ra+(this.oa-this.ra)*g):(k=this.sa-(this.sa-this.ua)*(1-g),h=this.oa-(this.oa-this.ra)*(1-g)),e.b.xz(k,h,a,c)<=b)){if(.5>g){if(e.b.xz(k,h,f,d)<=b)return 0}else if(e.b.xz(k,h,this.sa,this.oa)<=b)return 1;
return g}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.MO(a)};b.prototype.IE=function(a,c,b){var f=b?this.ua:this.sa;b=b?this.ra:this.oa;var l=new e.b;l.x=a.sa-f;l.y=a.oa-b;return c.oi(l)>6.661338147750939E-16*c.yE(l)?(l.x=a.ua-f,l.y=a.ra-b,c.oi(l)<=6.661338147750939E-16*c.yE(l)):!0};b.prototype.HE=function(a){var c=new e.b;c.x=this.sa-this.ua;c.y=this.oa-this.ra;if(!this.IE(a,c,!1))return!1;c.Lr();return this.IE(a,c,!0)?!0:!1};b.We=
function(a,c){var b=a.ev(c.ua,c.ra),e=a.ev(c.sa,c.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=c.ev(a.ua,a.ra);e=c.ev(a.sa,a.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=a.Rb();e=c.Rb();return b>e?a.HE(c):c.HE(a)};b.se=function(a,c,b){var f=e.b.pa(NaN,NaN),l=a.sa-a.ua,d=a.oa-a.ra,g=c.sa-c.ua,k=c.oa-c.ra,t=g*d-l*k;if(0==t)return f;var m=8.881784197001252E-16*(Math.abs(g*d)+Math.abs(l*k)),n=c.ua-a.ua,p=c.ra-a.ra,r=g*p-n*k,q=r/t,v=Math.abs(t),g=(8.881784197001252E-16*(Math.abs(g*p)+Math.abs(n*k))*v+m*Math.abs(r))/(t*
t)+2.220446049250313E-16*Math.abs(q);if(q<-g||q>1+g)return f;k=l*p-n*d;g=k/t;l=(8.881784197001252E-16*(Math.abs(l*p)+Math.abs(n*d))*v+m*Math.abs(k))/(t*t)+2.220446049250313E-16*Math.abs(g);if(g<-l||g>1+l)return f;q=e.J.pk(q,0,1);l=e.J.pk(g,0,1);d=a.gc(q);t=c.gc(l);m=new e.b;m.zc(d,t);if(m.length()>b&&(m.add(d,t),m.scale(.5),q=a.pe(m,!1),l=c.pe(m,!1),a=a.gc(q),c=c.gc(l),a.sub(c),a.length()>b))return f;f.ka(q,l);return f};b.QO=function(a,c,f,e){var h=0;if(a.ua==c.ua&&a.ra==c.ra||a.ua==c.sa&&a.ra==c.oa)if(h++,
!e)return 1;if(a.sa==c.ua&&a.oa==c.ra||a.sa==c.sa&&a.oa==c.oa){h++;if(2==h)return 2;if(!e)return 1}return c.Si(a.ua,a.ra,f)||c.Si(a.sa,a.oa,f)||a.Si(c.ua,c.ra,f)||a.Si(c.sa,c.oa,f)?1:e&&0!=h?0:0==b.We(a,c)?0:1};b.Gy=function(a,c,f,h,l,d){var u=0,g=a.lq(c.ua,c.ra,d,!1),k=a.lq(c.sa,c.oa,d,!1),t=c.lq(a.ua,a.ra,d,!1),m=c.lq(a.sa,a.oa,d,!1);isNaN(g)||(null!=h&&(h[u]=g),null!=l&&(l[u]=0),null!=f&&(f[u]=e.b.pa(c.ua,c.ra)),u++);isNaN(k)||(null!=h&&(h[u]=k),null!=l&&(l[u]=1),null!=f&&(f[u]=e.b.pa(c.sa,c.oa)),
u++);2==u||isNaN(t)||0==g&&0==t||0==k&&1==t||(null!=h&&(h[u]=0),null!=l&&(l[u]=t),null!=f&&(f[u]=e.b.pa(a.ua,a.ra)),u++);2==u||isNaN(m)||1==g&&0==m||1==k&&1==m||(null!=h&&(h[u]=1),null!=l&&(l[u]=m),null!=f&&(f[u]=e.b.pa(c.sa,c.oa)),u++);if(0<u)return 2==u&&null!=h&&h[0]>h[1]&&(a=h[0],h[0]=h[1],h[1]=a,null!=l&&(h=l[0],l[0]=l[1],l[1]=h),null!=f&&(l=e.b.pa(f[0].x,f[0].y),f[0]=f[1],f[1]=l)),u;u=b.se(a,c,d);if(isNaN(u.x))return 0;null!=f&&(f[0]=a.gc(u.x));null!=h&&(h[0]=u.x);null!=l&&(l[0]=u.y);return 1};
b.prototype.qH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+"]"};return b}(e.cE);e.Hb=d})(m||(m={}));(function(e){var d=function(){function e(){this.am=[];this.Ca=-1}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){if(null!=this.am&&0!=this.am.length){this.Ca++;var b=this.am[0];1>=this.am.length?this.am=[]:this.am=this.am.slice(1);return b}return this.am=
null};e.prototype.SY=function(b){this.am.push(b)};e.prototype.Re=function(){return!0};return e}();e.QM=d})(m||(m={}));(function(e){(function(e){e[e.enumFillRuleOddEven=0]="enumFillRuleOddEven";e[e.enumFillRuleWinding=1]="enumFillRuleWinding"})(e.IN||(e.IN={}));var d=function(d){function b(a,c){d.call(this);this.$f=!1;this.ur=null;this.gr=this.hr=0;this.bj=null;this.hh=!1;this.Xd=this.tj=this.cf=this.jb=this.kb=null;this.mr=this.Ta=this.ir=0;if(void 0===c)this.$f=a,this.hh=!1,this.qa=this.gr=this.hr=
this.ir=0,this.description=e.ye.Ig();else{if(null==c)throw e.g.F();this.$f=a;this.hh=!1;this.qa=this.gr=this.hr=this.ir=0;this.description=c}this.bj=null;this.Ta=0}O(b,d);b.prototype.hn=function(){return 0<this.ir};b.prototype.Fy=function(){this.Bc();null==this.ur?this.ur=new e.Wa(this.description):this.ur.Fg(this.description)};b.prototype.$x=function(a,c){var b=new e.b;b.x=a;b.y=c;this.zu(b)};b.prototype.zu=function(a){this.Fy();this.ur.rb(a);this.hh=!0};b.prototype.Rf=function(a){if(a.u())throw e.g.F();
this.om(a.description);this.Fy();a.copyTo(this.ur);this.hh=!0};b.prototype.By=function(){var a=1;this.hh&&(this.Fy(),null==this.kb?(this.kb=e.Uc.wh(2),this.kb.write(0,0),this.jb=e.Uc.vq(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.$f&&this.jb.write(this.jb.size-2,1),a++);var c=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.zl(c+a);this.jb.write(this.kb.size-1,0);this.hh&&(this.vu(c,this.ur),this.hh=!1)};b.prototype.Xj=function(a,c){this.By();this.rb(this.qa-
1,a,c)};b.prototype.aj=function(a){this.By();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.By();this.vu(this.qa-1,a)};b.prototype.nW=function(a){this.Bc();if(this.$f)throw e.g.za();var c=this.aa();if(a>c)throw e.g.za();if(this.Qb(a)){if(null==this.jb)throw e.g.za();var b=this.qa,h=this.wa(a),l=this.Gc(a);this.zl(this.qa+1);this.wc();for(var d=0,g=this.description.Ga;d<g;d++)if(null!=this.ya[d]){var k=e.ma.Xa(this.description.Td(d));this.ya[d].Rk(k*l,this.ya[d],k*h,k,!0,1,k*b)}for(;c>a;c--)b=
this.kb.read(c),this.kb.write(c,b+1);this.jb.fz(a,1)}};b.prototype.sq=function(){var a;this.Cu();void 0===a&&(this.hh=!1,a=this.aa()-1);var c=this.jb.read(a);this.jb.write(a,c|1);null!=this.cf&&(a=this.Gc(a)-1,this.cf.write(a,1),this.tj.write(a,-1))};b.Dj=function(a){return b.se[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Eo=function(a){if(this.Qb(a))return!0;var c=this.wa(a);a=this.Gc(a)-1;if(c>a)return!1;c=this.Ba(c);a=this.Ba(a);return c.ub(a)};b.prototype.ft=function(a){return 0!=
(this.jb.read(a)&2)};b.prototype.dc=function(a,c){this.om(a.description);if(322==a.G()){var b=new e.Wa;if(c||this.u())a.Dp(b),this.Rf(b);a.Bp(b);this.lineTo(b)}else throw e.g.za();};b.prototype.oq=function(a){var c=0==this.qa;this.$x(a.o,a.A);this.Xj(a.o,a.B);this.Xj(a.v,a.B);this.Xj(a.v,a.A);this.sq();this.hh=!1;c&&this.lg(256,!1)};b.prototype.jd=function(a,c){if(!a.u()){for(var b=0==this.qa,h=new e.Wa(this.description),l=0;4>l;l++)a.ig(c?4-l-1:l,h),0==l?this.Rf(h):this.lineTo(h);this.sq();this.hh=
!1;b&&!c&&this.lg(256,!1)}};b.prototype.add=function(a,c){for(var b=0;b<a.aa();b++)this.Ti(a,b,!c)};b.prototype.Ti=function(a,c,b){this.Yf(-1,a,c,b)};b.prototype.Bl=function(a,c){this.rA(a,c)};b.prototype.Bs=function(a,c,b,h,l){l||0!=this.aa()||(l=!0);0>c&&(c=a.aa()-1);if(c>=a.aa()||0>b||0>h||h>a.ew(c))throw e.g.X("index out of bounds");if(0!=h){var f=a.Qb(c)&&b+h==a.ew(c);if(!f||1!=h){this.hh=!1;this.om(a.description);b=a.wa(c)+b+1;l&&(h++,b--);f&&h--;f=this.qa;this.zl(this.qa+h);this.wc();if(l){if(0==
h)return;this.kb.add(this.qa);l=a.jb.read(c);l&=-5;this.$f&&(l|=1);this.jb.write(this.jb.size-1,l);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);l=0;for(var d=this.description.Ga;l<d;l++){var g=this.description.rd(l),k=e.ma.Xa(g),t=a.description.mg(g);0>t||null==a.ya[t]?this.ya[l].Vj(k*f,e.ma.de(g),h*k,k*f):this.ya[l].Rk(k*f,a.ya[t],k*b,h*k,!0,k,k*f)}if(this.hn())throw e.g.za();if(a.ft(c))throw e.g.za();this.Dc(1993)}}};b.prototype.eK=function(){for(var a=0,c=this.aa();a<c;a++)this.BX(a)};
b.prototype.BX=function(a){this.wc();if(a>=this.aa())throw e.g.F();var c=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var h=0,l=this.description.Ga;h<l;h++)if(null!=this.ya[h]){var d=e.ma.Xa(this.description.Td(h));this.ya[h].Zd(d*(c+a),d*(b-a),d)}this.Dc(1993)};b.prototype.Rr=function(a){this.wc();var c=this.aa();0>a&&(a=c-1);if(a>=c)throw e.g.F();for(var b=this.wa(a),h=this.La(a),l=0,d=this.description.Ga;l<d;l++)if(null!=this.ya[l]){var g=e.ma.Xa(this.description.Td(l));this.ya[l].Fk(g*b,g*h,g*
this.qa)}for(b=a+1;b<=c;b++)l=this.kb.read(b),this.kb.write(b-1,l-h);if(null==this.jb)for(b=a+1;b<=c;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(c);this.jb.resize(c);this.qa-=h;this.lh-=h;this.Dc(1993)};b.prototype.Yf=function(a,c,b,h){if(c==this)throw e.g.F();if(b>=c.aa())throw e.g.F();var f=this.aa();if(a>f)throw e.g.F();0>a&&(a=f);0>b&&(b=c.aa()-1);this.hh=!1;this.om(c.description);c.wc();var d=c.wa(b),g=c.La(b),k=this.qa,t=c.Qb(b)&&!h?1:0;this.zl(this.qa+g);this.wc();for(var m=a<
f?this.wa(a):k,n=0,p=this.description.Ga;n<p;n++){var r=this.description.Td(n),q=c.description.mg(r),v=e.ma.Xa(r);0<=q&&null!=c.ya[q]?(0!=t&&this.ya[n].Rk(m*v,c.ya[q],v*d,v,!0,v,v*k),this.ya[n].Rk((m+t)*v,c.ya[q],v*(d+t),v*(g-t),h,v,v*(k+t))):this.ya[n].Vj(m*v,e.ma.de(r),v*g,v*k)}this.kb.add(k+g);for(h=f;h>=a+1;h--)d=this.kb.read(h-1),this.kb.write(h,d+g);c.ft(b);this.jb.add(0);for(h=f-1;h>=a+1;h--)f=this.jb.read(h),f&=-5,this.jb.write(h+1,f);f=c.CT().read(b);f&=-5;this.$f&&(f|=1);this.jb.write(a,
f)};b.prototype.rA=function(a,c){var b=-1,h=this.aa();if(b>h)throw e.g.F();0>b&&(b=h);this.hh=!1;var l=this.qa;this.zl(this.qa+c);this.wc();var d=b<h?this.wa(b):l;null!=a?this.ya[0].Sq(2*d,a,0,c,!0,2*l):(a=e.ma.de(0),this.ya[0].Vj(2*d,a,2*c,2*l));for(var g=1,k=this.description.Ga;g<k;g++){a=this.description.rd(g);var t=e.ma.Xa(a);a=e.ma.de(a);this.ya[g].Vj(d*t,a,t*c,t*l)}this.kb.add(this.qa);for(l=h;l>=b+1;l--)d=this.kb.read(l-1),this.kb.write(l,d+c);this.jb.add(0);for(l=h-1;l>=b+1;l--)h=this.jb.read(l),
h&=-5,this.jb.write(l+1,h);this.$f&&this.jb.write(b,1)};b.prototype.EH=function(a,c,b){var f=-1;0>a&&(a=this.aa());if(a>this.aa()||f>this.La(a)||b>c.length)throw e.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>f&&(f=this.La(a));this.wc();var l=this.qa;this.zl(this.qa+b);this.wc();for(var d=0,g=this.description.Ga;d<g;d++){var k=this.description.Td(d),t=e.ma.Xa(k);this.ya[d].ho(t*(this.wa(a)+f+b),(l-this.wa(a)-f)*t,this.ya[d],t*(this.wa(a)+
f),!0,t);0==d?this.ya[d].ks(t*(this.wa(a)+f),b,c,0,!0):this.ya[d].Zh(e.ma.de(k),(this.wa(a)+f)*t,b*t)}this.hn()&&(this.cf.ho(this.wa(a)+f+b,l-this.wa(a)-f,this.cf,this.wa(a)+f,!0,1),this.tj.ho(this.wa(a)+f+b,l-this.wa(a)-f,this.tj,this.wa(a)+f,!0,1),this.cf.Zh(1,this.wa(a)+f,b),this.tj.Zh(-1,this.wa(a)+f,b));a+=1;for(c=this.aa();a<=c;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Zf=function(a,c,b){var f=this.aa();0>a&&(a=this.aa());if(a>=f||c>this.La(a))throw e.g.X("index out of bounds");a==
this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>c&&(c=this.La(a));var l=this.qa;this.zl(this.qa+1);this.wc();var d=this.wa(a);this.ya[0].eh(2*(d+c),b,2*l);b=1;for(var g=this.description.Ga;b<g;b++){var k=this.description.Td(b),t=e.ma.Xa(k);this.ya[b].Vj(t*(d+c),e.ma.de(k),t,t*l)}for(a+=1;a<=f;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.cC=function(a,c){var b=this.aa();0>a&&(a=b-1);if(a>=b||c>=this.La(a))throw e.g.X("index out of bounds");this.wc();var h=this.wa(a);
0>c&&(c=this.La(a)-1);h+=c;c=0;for(var l=this.description.Ga;c<l;c++)if(null!=this.ya[c]){var d=e.ma.Xa(this.description.Td(c));this.ya[c].Fk(d*h,d,d*this.qa)}for(;b>=a+1;b--)h=this.kb.read(b),this.kb.write(b,h-1);this.qa--;this.lh--;this.Dc(1993)};b.prototype.EF=function(a,c,b,h){a=this.wa(a)+c;b=this.wa(b)+h;if(b<a||0>a||b>this.D()-1)throw e.g.F();h=this.Fa();c=0;h.Tb(a);do{for(;h.Ea();){a=h.ba();if(h.Db()==b)break;a=a.Rb();c+=a}if(h.Db()==b)break}while(h.Ya());return c};b.prototype.fQ=function(a,
c,b){c=this.wa(a)+c;b=this.wa(a)+b;if(0>c||b>this.D()-1)throw e.g.F();var f=this.Fa();if(c>b){if(!this.Qb(a))throw e.g.F("cannot iterate across an open path");f.jC()}var l=a=0;f.Tb(c);do l+=a,a=f.ba().Rb();while(f.Db()!=b);return l};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.FU=function(a,c,b,h){for(var f=a;f<b-1;f++)if(this.Qb(f))throw e.g.F("cannot interpolate across closed paths");f=this.description.Ga;if(1!=f){var d=this.EF(a,c,b,h);if(0!=d)for(var g=1;g<f;g++){var k=this.description.rd(g);
if(2!=e.ma.Wz(k))for(var t=e.ma.Xa(k),m=0;m<t;m++)this.HU(k,a,c,b,h,d,m)}}};b.prototype.EU=function(a,c,b){var f=this.description.Ga;if(1!=f){var l=this.fQ(a,c,b);if(0!=l)for(var d=1;d<f;d++){var g=this.description.rd(d);if(2!=e.ma.Wz(g))for(var k=e.ma.Xa(g),t=0;t<k;t++)this.GU(g,a,c,b,l,t)}}};b.prototype.HU=function(a,c,b,h,l,d,g){var f=this.Fa();c=this.wa(c)+b;h=this.wa(h)+l;l=this.Yc(a,c,g);b=this.Yc(a,h,g);var u=l,k=0;f.Tb(c);do if(f.Ea()){f.ba();if(f.Db()==h)break;this.setAttribute(a,f.Db(),
g,u);f.Li();do{c=f.ba();if(f.Jk()==h)return;c=c.Rb();k+=c;u=e.Ub.Xq(l,b,k/d);f.Fo()||this.setAttribute(a,f.Jk(),g,u)}while(f.Ea())}while(f.Ya())};b.prototype.GU=function(a,c,b,h,l,d){var f=this.Fa(),u=this.wa(c)+b;c=this.wa(c)+h;if(c!=u){h=this.Yc(a,u,d);b=this.Yc(a,c,d);var g=0;f.Tb(u);f.jC();u=h;do{var k=f.ba();this.setAttribute(a,f.Db(),d,u);u=k.Rb();g+=u;u=e.Ub.Xq(h,b,g/l)}while(f.Jk()!=c)}};b.prototype.Oa=function(){this.ir=0;this.hh=!1;this.Xd=this.cf=this.tj=this.jb=this.kb=null;this.ME()};
b.prototype.Xc=function(a){a instanceof e.Hd?this.kF(a,-1):this.yP(a)};b.prototype.kF=function(a,c){if(!this.u()&&!a.Ho()){this.wc();var b=this.ya[0],h=new e.b,l=new e.b,d,g,k;for(0>c?(d=this.hn(),g=0,k=this.qa):(d=this.ft(c),g=this.wa(c),k=this.Gc(c));g<k;g++){h.x=b.read(2*g);h.y=b.read(2*g+1);if(d&&(c=this.tj.read(g),0<=c))switch(this.cf.read(g)&7){case 2:l.x=this.Xd.read(c);l.y=this.Xd.read(c+1);a.$h(l,l);this.Xd.write(c,l.x);this.Xd.write(c+1,l.y);l.x=this.Xd.read(c+3);l.y=this.Xd.read(c+4);a.$h(l,
l);this.Xd.write(c+3,l.x);this.Xd.write(c+4,l.y);break;case 4:throw e.g.za();}a.$h(h,h);b.write(2*g,h.x);b.write(2*g+1,h.y)}this.Dc(1993)}};b.prototype.yP=function(a){if(!this.u()){this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],h=new e.qd,l=new e.qd,d=this.hn(),g=0;g<this.qa;g++){h.x=c.read(2*g);h.y=c.read(2*g+1);h.z=b.read(g);if(d){var k=this.tj.read(g);if(0<=k)switch(this.cf.read(g)&7){case 2:l.x=this.Xd.read(k);l.y=this.Xd.read(k+1);l.z=this.Xd.read(k+2);l=a.Rp(l);this.Xd.write(k,l.x);
this.Xd.write(k+1,l.y);this.Xd.write(k+1,l.z);l.x=this.Xd.read(k+3);l.y=this.Xd.read(k+4);l.z=this.Xd.read(k+5);l=a.Rp(l);this.Xd.write(k+3,l.x);this.Xd.write(k+4,l.y);this.Xd.write(k+5,l.z);break;case 4:throw e.g.za();}}h=a.Rp(h);c.write(2*g,h.x);c.write(2*g+1,h.y);b.write(g,h.z)}this.Dc(1993)}};b.prototype.Py=function(){null==this.kb&&(this.kb=e.Uc.wh(1,0),this.jb=e.Uc.vq(1,0));null!=this.cf&&(this.cf.resize(this.lh,1),this.tj.resize(this.lh,-1))};b.prototype.iq=function(a){a.hh=!1;a.ir=this.ir;
a.mr=this.mr;null!=this.kb?a.kb=e.ia.Bk(this.kb):a.kb=null;null!=this.jb?a.jb=e.Fm.Bk(this.jb):a.jb=null;null!=this.tj?a.tj=e.ia.Bk(this.tj):a.tj=null;null!=this.cf?a.cf=e.Fm.Bk(this.cf):a.cf=null;null!=this.Xd?a.Xd=e.Rd.Bk(this.Xd):a.Xd=null;a.hr=this.hr;a.gr=this.gr;this.yk(1024)?a.bj=null:a.bj=this.bj};b.prototype.Rb=function(){if(!this.yk(512))return this.hr;for(var a=this.Fa(),c=new e.ry(0);a.Ya();)for(;a.Ea();)c.add(a.ba().Rb());this.hr=c.en();this.lg(512,!1);return c.en()};b.prototype.Eb=function(a){if(a==
this)return!0;if(!(a instanceof b&&d.prototype.Eb.call(this,a)))return!1;var c=this.aa();return c!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,c+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,c)?!1:d.prototype.Eb.call(this,a)};b.prototype.Fa=function(){return new e.YN(this)};b.prototype.Oy=function(a){d.prototype.Oy.call(this,a);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.uo=function(a,c){d.prototype.uo.call(this,a,c);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};
b.prototype.Iy=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.hf=function(){if(!this.$f)return 0;this.gv();return this.gr};b.prototype.rw=function(a){if(!this.$f)return!1;if(!this.yk(8))return 0!=(this.jb.read(a)&4);this.gv();return 0<this.bj.read(a)};b.prototype.Sm=function(a){if(!this.$f)return 0;this.gv();return this.bj.read(a)};b.prototype.gv=function(){if(this.yk(1024)){var a=this.aa();null==this.bj?this.bj=new e.Rd(a):this.bj.size!=a&&this.bj.resize(a);
for(var a=new e.ry(0),c=new e.ry(0),b=new e.b,h=0,l=this.Fa();l.Ya();){c.reset();for(this.w(this.wa(l.Ta),b);l.Ea();)c.add(l.ba().Cy(b.x,b.y));a.add(c.en());var d=h++;this.bj.write(d,c.en())}this.gr=a.en();this.lg(1024,!1)}};b.prototype.yT=function(){if(this.$f){this.Al();for(var a=0,c=this.aa(),b=0;b<c;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Al=function(){if(this.yk(8)){this.gv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=e.Uc.vq(a+1);for(var c=1,b=0;b<a;b++){var h=this.bj.read(b);
0==b&&(c=0<h?1:-1);0<h*c?this.jb.iC(b,4):this.jb.fz(b,4)}this.lg(8,!1)}};b.prototype.cw=function(a){var c=this.Ta,b=this.aa();if(0<=c&&c<b){if(a<this.Gc(c)){if(a>=this.wa(c))return c;c--}else c++;if(0<=c&&c<b&&a>=this.wa(c)&&a<this.Gc(c))return this.Ta=c}if(5>b){for(c=0;c<b;c++)if(a<this.Gc(c))return this.Ta=c;throw e.g.X("corrupted geometry");}c=0;for(--b;b>c;){var h=c+(b-c>>1),l=this.wa(h);if(a<l)b=h-1;else if(c=this.Gc(h),a>=c)c=h+1;else return this.Ta=h}return this.Ta=c};b.prototype.mT=function(a){var c=
this.Pa(0);this.DT();var b=this.Gc(a),h=this.wa(a);a=-1;var l=new e.b,d=new e.b;l.y=-Infinity;l.x=-Infinity;for(h+=0;h<b;h++)c.fc(2*h,d),-1==l.compare(d)&&(a=h,l.L(d));return a};b.prototype.iA=function(){var a=this.D();if(!this.$f)for(var a=a-this.aa(),c=0,b=this.aa();c<b;c++)this.Qb(c)&&a++;return a};b.prototype.ew=function(a){var c=this.La(a);this.Qb(a)||c--;return c};b.prototype.Ka=function(){return new b(this.$f,this.description)};b.prototype.tb=function(){return this.$f?2:1};b.prototype.G=function(){return this.$f?
1736:1607};b.prototype.DT=function(){this.Cu()};b.prototype.HK=function(a){this.kb=a;this.Dc(16777215)};b.prototype.OT=function(){this.Cu();return this.cf};b.prototype.CT=function(){this.Cu();return this.jb};b.prototype.GK=function(a){this.jb=a;this.Dc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Gc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};
b.prototype.Xu=function(a,c){null==this.ob&&(this.ob=new e.wl);c=e.xy.kX(c);var b=this.ob.Hi;if(null!=b)if(b.jl<a||c>b.KT())this.ob.My(null);else return!0;b=e.xy.create(this,a,c);this.ob.My(b);return!0};b.prototype.jc=function(){var a=d.prototype.jc.call(this);if(!this.Hc()){var c=this.aa();null!=this.kb&&this.kb.Ak(a,0,c+1);null!=this.jb&&this.jb.Ak(a,0,c)}return a};b.prototype.jH=function(a){return null!=this.cf?this.cf.read(a):1};b.prototype.ic=function(a,c,b){var f=this.cw(a);if(a==this.Gc(f)-
1&&!this.Qb(f))throw e.g.X("index out of bounds");this.wc();var l=this.cf,d=1;null!=l&&(d=l.read(a)&7);switch(d){case 1:c.Js();break;case 2:throw e.g.za();case 4:throw e.g.za();default:throw e.g.za();}c=c.get();b?c.Fg(e.ye.Ig()):c.Fg(this.description);f=a==this.Gc(f)-1&&this.Qb(f)?this.wa(f):a+1;l=new e.b;this.w(a,l);c.Mc(l);this.w(f,l);c.Zc(l);if(!b)for(b=1,l=this.description.Ga;b<l;b++)for(var d=this.description.Td(b),g=e.ma.Xa(d),k=0;k<g;k++){var t=this.Yc(d,a,k);c.Tx(d,k,t);t=this.Yc(d,f,k);c.Lx(d,
k,t)}};b.prototype.jk=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw e.g.X("not implemented");var b=this.Pa(0),h=new e.b,l=new e.h;l.Oa();var d=this.wa(a);for(a=this.Gc(a);d<a;d++)b.fc(2*d,h),l.Nb(h);c.I(l)}};b.prototype.hX=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw e.g.X("not implemented");var b=this.Pa(0),h=new e.b,l=new e.h;l.Oa();var d=this.wa(a);for(a=this.Gc(a);d<a;d++)b.fc(2*d,h),l.Nb(h);c.I(l)}};b.prototype.Hj=
function(a){null==this.ob&&(this.ob=new e.wl);if(0==a||16>this.D())return!1;a=e.na.AF(this);this.ob.NE(a);return!0};b.prototype.BO=function(){null==this.ob&&(this.ob=new e.wl);if(null!=this.ob.np)return!0;this.ob.OE(null);var a=e.na.aQ(this);this.ob.OE(a);return!0};b.prototype.Hp=function(a){this.mr=a};b.prototype.xo=function(){return this.mr};b.prototype.UE=function(a){if(this==a)throw e.g.X("MultiPathImpl.add");for(var c=this.aa(),b=0;b<a.aa();b++)this.Ti(a,b,!0),this.nW(c),c++};b.prototype.nQ=
function(a){var c=this.cw(a),b=this.wa(c);if(b!=a){c=this.Gc(c);if(a>=c||a<b)throw e.g.X("change_ring_start_point");for(var h=0,l=this.description.Ga;h<l;h++){var d=this.description.rd(h),d=e.ma.Xa(d);this.ya[h].rotate(b*d,a*d,c*d)}}};b.se=[0,0,6,0,8,0];return b}(e.Mu);e.xl=d})(m||(m={}));(function(e){var d=function(d){function b(a){d.call(this);if(void 0!==a){if(null==a)throw e.g.F();this.description=a}else this.description=e.ye.Ig();this.qa=0}O(b,d);b.prototype.Ka=function(){return new b(this.description)};
b.prototype.add=function(a){this.resize(this.qa+1);this.Yh(this.qa-1,a)};b.prototype.lv=function(a,c){this.resize(this.qa+1);var b=new e.b;b.ka(a,c);this.rb(this.qa-1,b)};b.prototype.Id=function(a,c,b){b=0>b?a.D():b;if(0>c||c>a.D()||b<c)throw e.g.F();if(c!=b){this.om(a.description);b-=c;var f=this.qa;this.resize(this.qa+b);this.wc();for(var l=0,d=a.description.Ga;l<d;l++){var g=a.description.Td(l),k=e.ma.Xa(g),t=this.Pa(g),g=a.Pa(g);t.Rk(f*k,g,c*k,b*k,!0,1,f*k)}}};b.prototype.YE=function(a,c){var b=
a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;c=this.qa;this.resize(this.qa+b);for(var h=0;h<b;h++)this.rb(c+h,a[0+h])}};b.prototype.cC=function(a){if(0>a||a>=this.D())throw e.g.X("index out of bounds");this.wc();for(var c=0,b=this.description.Ga;c<b;c++)if(null!=this.ya[c]){var h=e.ma.Xa(this.description.Td(c));this.ya[c].Fk(h*a,h,h*this.qa)}this.qa--;this.lh--;this.Dc(1993)};b.prototype.resize=function(a){this.zl(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){d.prototype.ME.call(this)};
b.prototype.Xc=function(a){if(a instanceof e.Hd){if(!this.u()){this.wc();for(var c=this.ya[0],b=new e.b,h=0;h<this.qa;h++)b.x=c.read(2*h),b.y=c.read(2*h+1),a.$h(b,b),c.write(2*h,b.x),c.write(2*h+1,b.y);this.Dc(1993)}}else if(!this.u()){this.wc();this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],l=new e.qd,h=0;h<this.qa;h++){l.x=c.read(2*h);l.y=c.read(2*h+1);l.z=b.read(h);var d=a.Rp(l);c.write(2*h,d.x);c.write(2*h+1,d.y);b.write(h,d.z)}this.Dc(1993)}};b.prototype.tb=function(){return 0};b.prototype.G=
function(){return 550};b.prototype.hf=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?d.prototype.Eb.call(this,a):!1};b.prototype.mP=function(a){var c=a.length,b=c;if(0>c||0>c||0>b)throw e.g.F();this.Ud(1);if(0!=b){c=b-0;b=this.qa;this.aK(this.qa+c);for(var h=this.Pa(0),l=0;l<c;l++){var d=a[0+l].y;h.write(2*(b+l),a[0+l].x);h.write(2*(b+l)+1,d)}h=this.Pa(1);for(l=0;l<c;l++)h.write(b+l,a[0+l].z);this.Dc(1993)}};b.prototype.nP=function(a,
c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;if(0!=(b&1))throw e.g.F();c=this.qa;this.aK(this.qa+b/2);this.ya[0].js(2*c,b,a,0,!0)}};b.prototype.aK=function(a){var c=this.qa;this.zl(a);if(this.qa>c){a=1;for(var b=this.description.Ga;a<b;a++){var h=this.description.rd(a),l=e.ma.Xa(h);this.ya[a].Vj(l*c,e.ma.de(h),l*(this.qa-c),l*c)}}};b.prototype.eX=function(a,c){var b=this.qa,b=Math.min(b,c+1E3);if(0>c||c>=this.qa||b<c||1E3!=a.length)throw e.g.F();var h=this.Pa(0),l=b-c,d=[];
h.pl(2*c,2*l,d,0,!0);for(h=0;h<l;h++)a[h]=e.b.pa(d[2*h],d[2*h+1]);return b};b.prototype.fX=function(a,c){var b=this.qa,b=Math.min(b,0+c);if(0>=this.qa||0>b||a.length!=c)throw e.g.F();c=this.Pa(0);var h=null,l=e.ma.de(1),d=this.hasAttribute(1);d&&(h=this.Pa(1));var b=b-0,g=[],k=[];c.pl(0,2*b,g,0,!0);h.pl(0,b,k,0,!0);for(c=0;c<b;c++)a[c]=new e.qd(g[2*c],g[2*c+1],d?k[c]:l)};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.Xu=function(){return!1};b.prototype.Hj=function(){return!1};
b.prototype.Gg=function(){return null};return b}(e.Mu);e.Ed=d})(m||(m={}));(function(e){(function(e){e[e.NotDetermined=0]="NotDetermined";e[e.Structure=1]="Structure";e[e.DegenerateSegments=2]="DegenerateSegments";e[e.Clustering=3]="Clustering";e[e.Cracking=4]="Cracking";e[e.CrossOver=5]="CrossOver";e[e.RingOrientation=6]="RingOrientation";e[e.RingOrder=7]="RingOrder";e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";e[e.OGCDisconnectedInterior=
10]="OGCDisconnectedInterior"})(e.XM||(e.XM={}));var d=function(){function e(b,a,c){void 0===b?(this.Ii=0,this.mm=this.lm=-1):(this.Ii=b,this.lm=a,this.mm=c)}e.prototype.ms=function(b){this.Ii=b.Ii;this.lm=b.lm;this.mm=b.mm};return e}();e.$d=d})(m||(m={}));(function(e){var d=function(){function d(){}d.YZ=function(b){if(!1===b)throw e.g.JL();};d.SK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};d.qv=function(b){var a;void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=d.gf(2,a);return c};d.gf=function(b,
a){void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=a;return c};d.Nv=function(b,a){var c,f;void 0===c&&(c=0);for(void 0===f&&(f=b.length-1);c<=f;c++)b[c]=a};d.pk=function(b,a,c){return b<a?a:b>c?c:b};d.t_=function(){return 4};d.dh=function(b,a){var c=5381;void 0!==a?c=(a<<5)+a+(b&255):c=(c<<5)+c+(b&255);c=(c<<5)+c+(b>>8&255);c=(c<<5)+c+(b>>16&255);return(c<<5)+c+(b>>24&255)&2147483647};d.Zi=function(){throw Error("Not Implemented");};d.p_=function(){return-Infinity};d.r_=function(){return Infinity};
d.h_=function(){return 2147483647};d.UZ=function(){return 2.220446049250313E-16};d.VZ=function(){return 1.7976931348623157E308};d.HB=function(b){return d.dZ(b)+12345&2147483647};d.gI=function(b){var a=32,c=b%d.pA|0,f=b/d.pA|0;if(0===(a&=63))return b;32>a?(b=c>>>a|f<<32-a,a=f>>a):(b=f>>a-32,a=0<=f?0:-1);return a*d.pA+(b>>>0)};d.dZ=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};d.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};d.gV=Math.pow(2,53)-1;d.XZ=-d.gV;d.iD=
65536;d.K_=16777216;d.pA=d.iD*d.iD;return d}();e.J=d})(m||(m={}));(function(e){(function(e){e[e.Project=0]="Project";e[e.Union=1]="Union";e[e.Difference=2]="Difference";e[e.Proximity2D=3]="Proximity2D";e[e.Relate=4]="Relate";e[e.Equals=5]="Equals";e[e.Disjoint=6]="Disjoint";e[e.Intersects=7]="Intersects";e[e.Within=8]="Within";e[e.Contains=9]="Contains";e[e.Crosses=10]="Crosses";e[e.Touches=11]="Touches";e[e.Overlaps=12]="Overlaps";e[e.Buffer=13]="Buffer";e[e.Distance=14]="Distance";e[e.Intersection=
15]="Intersection";e[e.Clip=16]="Clip";e[e.Cut=17]="Cut";e[e.DensifyByLength=18]="DensifyByLength";e[e.DensifyByAngle=19]="DensifyByAngle";e[e.LabelPoint=20]="LabelPoint";e[e.GeodesicBuffer=21]="GeodesicBuffer";e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";e[e.ShapePreservingDensify=23]="ShapePreservingDensify";e[e.GeodeticLength=24]="GeodeticLength";e[e.GeodeticArea=25]="GeodeticArea";e[e.Simplify=26]="Simplify";e[e.SimplifyOGC=27]="SimplifyOGC";e[e.Offset=28]="Offset";e[e.Generalize=
29]="Generalize";e[e.SymmetricDifference=30]="SymmetricDifference";e[e.ConvexHull=31]="ConvexHull";e[e.Boundary=32]="Boundary";e[e.SimpleRelation=33]="SimpleRelation"})(e.sN||(e.sN={}));var d=function(){function d(){}d.prototype.G=function(){return null};d.prototype.qo=function(){return!1};d.prototype.wv=function(){return!1};d.NZ=function(b){e.T.gh(b.G())&&(b=b.ob,null!=b&&(b.My(null),b.NE(null)))};return d}();e.ef=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}
O(b,d);b.prototype.G=function(){return 13};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,h,l){return a instanceof e.T?(l=new e.hd(a),this.V(l,c,[b],!1,h).next()):!0===h?(b=new e.DD(a,c,b,!1,l),e.ei.local().V(b,c,l)):new e.DD(a,c,b,!1,l)};b.$=null;return b}(e.ef);e.CD=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f,h){this.Ca=-1;this.ie=b;this.IA=a;this.yt=c;this.tV=new e.h;this.tV.Oa();this.To=-1;this.lc=h}d.prototype.next=function(){for(var b;null!=
(b=this.ie.next());)return this.Ca=this.ie.Ia(),this.To+1<this.yt.length&&this.To++,this.buffer(b,this.yt[this.To]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.buffer=function(b,a){return e.PL.buffer(b,a,this.IA,NaN,96,this.lc)};d.prototype.Re=function(){return!0};return d}();e.DD=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 16};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,
c,b,h){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,h).next()):new e.cN(a,c,b,h)};b.$=null;return b}(e.ef);e.bN=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c){this.Ca=-1;if(null==b)throw e.g.F();this.R=a;this.$k=b;this.ta=e.na.be(c,a,!1)}d.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),e.ne.clip(b,this.R,this.ta,0)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.cN=d})(m||(m={}));(function(e){var d=
function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 31};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof e.T?e.FD.DF(a):new e.FD(c,a,b)};b.$=null;return b}(e.ef);e.ED=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c){this.aB=new e.Ju;this.Ca=-1;if(null==a)throw e.g.F();this.oI=b;this.Pc=!1;this.$k=a;this.lc=c}d.prototype.next=function(){if(this.oI){if(!this.Pc){var b=this.eQ(this.$k);this.Pc=!0;
return b}return null}if(!this.Pc){b=this.$k.next();if(null!=b)return this.Ca=this.$k.Ia(),d.DF(b);this.Pc=!0}return null};d.prototype.Ia=function(){return this.Ca};d.prototype.eQ=function(b){for(var a;null!=(a=b.next());)this.aB.Jb(a);return this.aB.US()};d.prototype.Re=function(){if(this.Pc)return!0;if(!this.oI)throw e.g.X("Invalid call for non merging convex hull.");var b=this.$k.next();if(null!=b)return this.aB.Jb(b),!0;throw e.g.X("Expects a non-null geometry.");};d.DF=function(b){if(d.Wg(b))return b;
var a=b.G();if(e.xl.Oc(a))return a=new e.Ua(b.description),a.dc(b,!0),a;if(550==a&&2==b.D()){var c=new e.Wa,a=new e.Ua(b.description);b.Ae(0,c);a.Rf(c);b.Ae(1,c);a.lineTo(c);return a}return e.Ju.UQ(b)};d.Wg=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:e.xl.Oc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:e.Ju.VH(b,0)};return d}();e.FD=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=
function(){return 17};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,h,l){return new e.eN(a,c,b,h,l)};b.$=null;return b}(e.ef);e.dN=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f,h){this.qg=null;if(null==a||null==c)throw e.g.X("invalid argument");this.qV=b;this.VA=a;this.xI=c;b=e.na.Zv(a,c);this.ta=e.na.be(f,b,!0);this.wI=-1;this.ke=h}d.prototype.Ia=function(){return 0};d.prototype.next=function(){this.HS();return++this.wI<this.qg.length?this.qg[this.wI]:
null};d.prototype.HS=function(){if(null==this.qg)switch(this.qg=[],this.VA.G()){case 1607:this.JS();break;case 1736:this.IS()}};d.prototype.JS=function(){var b=new e.Ua,a=new e.Ua,c=new e.Ua;this.qg.push(b);this.qg.push(a);var f=[];e.WL.UL(this.qV,this.VA,this.xI,this.ta,f,this.ke);for(var h=0;h<f.length;h++){var l=f[h];0==l.nx?b.add(l.Y,!1):1==l.nx||2==l.nx?a.add(l.Y,!1):3==l.nx?this.qg.push(l.Y):c.add(l.Y,!1)}c.u()||b.u()&&a.u()&&!(3<=this.qg.length)||this.qg.push(c);b.u()&&a.u()&&3>this.qg.length&&
(this.qg.length=0)};d.prototype.IS=function(){var b=new e.ia(0),a=new e.fd,c=a.hG(),f=a.Jb(this.VA),h=a.Jb(this.xI),l=new e.Dg;try{l.Xr(a,this.ta,this.ke);l.Hl(c,f,h,b);var d=a.Se(f),g=new e.Ja,k=new e.Ja;this.qg.length=0;this.qg.push(g);this.qg.push(k);for(f=0;f<b.size;f++){var t,m=new e.fd,n=m.Jb(d),p=m.Jb(a.Se(b.get(f)));l.Wr(m,this.ke);var r=l.nw(n,p);t=m.Se(r);if(!t.u()){var q=a.VG(b.get(f),c);2==q?g.add(t,!1):1==q?k.add(t,!1):this.qg.push(t);var v=new e.fd,n=v.Jb(d),p=v.Jb(a.Se(b.get(f)));l.Wr(v,
this.ke);d=v.Se(l.Vm(n,p))}}!d.u()&&0<b.size&&this.qg.push(d);g.u()&&k.u()&&(this.qg.length=0)}finally{l.qh()}};d.prototype.Re=function(){return!0};return d}();e.eN=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){if(a instanceof e.T)return a=new e.hd(a),this.V(a,c,b).next();if(0>=c)throw e.g.F();return new e.fN(a,c,b)};b.$=null;return b}(e.ef);
e.Jm=d})(m||(m={}));(function(e){var d=function(){function d(b,a){this.Ca=-1;this.ie=b;this.Kt=a}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),this.JR(b)):null};d.prototype.JR=function(b){if(b.u()||1>b.tb())return b;var a=b.G();if(1736==a||1607==a)return this.wz(b);if(e.T.Oc(a))return this.LR(b);if(197==a)return this.KR(b);throw e.g.za();};d.prototype.LR=function(b){if(b.Rb()<=this.Kt)return b;var a=new e.Ua(b.description);
a.dc(b,!0);return this.wz(a)};d.prototype.KR=function(b){var a=new e.Ja(b.description);a.jd(b,!1);var c=new e.h;b.s(c);b=c.fa();return c.N()<=this.Kt&&b<=this.Kt?a:this.wz(a)};d.prototype.wz=function(b){for(var a=b.Ka(),c=b.Fa();c.Ya();)for(var f=!0;c.Ea();){var h=c.ba();if(322!=h.G())throw e.g.X("not implemented");var l=c.Fo(),d=h.Rb();if(d>this.Kt){var g=Math.ceil(d/this.Kt),d=new e.Wa(b.description);f&&(h.Dp(d),a.Rf(d));for(var k=f=1/g,t=0,g=g-1;t<g;t++)h.Fx(k,d),a.lineTo(d),k+=f;l?a.sq():(h.Bp(d),
a.lineTo(d))}else l?a.sq():a.dc(h,f);f=!1}return a};d.prototype.Re=function(){return!0};return d}();e.fN=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 2};b.prototype.V=function(a,c,b,h){return a instanceof e.T?(a=new e.hd(a),c=new e.hd(c),this.V(a,c,b,h).next()):new e.gN(a,c,b,h)};b.Vm=function(a,c,f,h){if(a.u()||c.u())return a;var l=a.tb(),d=c.tb();if(l>d)return a;var g=
a.G(),k=c.G(),t=new e.h,m=new e.h,n=new e.h;a.s(t);c.s(m);n.I(t);n.Nb(m);var n=e.na.be(f,n,!1),p=n*Math.sqrt(2)*1.00001,r=new e.h;r.I(t);r.O(p,p);if(!r.Yb(m))return a;if(1==l&&2==d)return b.SL(a,c,k,f,h);if(33==g)switch(e.xl.Oc(k)?(f=new e.Ua(c.description),f.dc(c,!0)):f=c,k){case 1736:return b.gO(a,f,n);case 1607:return b.kO(a,f,n);case 550:return b.VN(a,f,n);case 197:return b.PN(a,f,n);case 33:return b.cO(a,f,n);default:throw e.g.F();}else if(550==g)switch(k){case 1736:return b.CM(a,c,n);case 197:return b.mM(a,
c,n);case 33:return b.xM(a,c,n)}return e.Dg.Vm(a,c,f,h)};b.gO=function(a,c,b){return 0==e.gd.WH(c,a,b)?a:a.Ka()};b.kO=function(a,c,b){var f=a.w();c=c.Fa();for(var l=b*Math.sqrt(2)*1.00001,d=l*l,g=new e.h;c.Ya();)for(;c.Ea();){var k=c.ba();k.s(g);g.O(l,l);if(g.contains(f)){if(k.mt(f,b))return a.Ka();var t=k.ec();if(e.b.sc(f,t)<=d)return a.Ka();t=k.Cc();if(e.b.sc(f,t)<=d)return a.Ka()}}return a};b.VN=function(a,c,b){var f=c.Pa(0);c=c.D();var l=a.w(),d=new e.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var g=
0;g<c;g++)if(f.fc(2*g,d),e.b.sc(d,l)<=b)return a.Ka();return a};b.PN=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);c=a.w();return f.contains(c)?a.Ka():a};b.cO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var f=a.w();c=c.w();return e.b.sc(f,c)<=b?a.Ka():a};b.CM=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);for(var l=a.D(),d=!1,g=[],k=0;k<l;k++)g[k]=!1;for(var t=new e.b,k=0;k<l;k++)a.w(k,t),f.contains(t)&&0!=e.gd.ge(c,t,b)&&(d=!0,g[k]=!0);if(!d)return a;c=a.Ka();for(k=0;k<l;k++)g[k]||c.Id(a,k,k+1);
return c};b.mM=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);c=a.D();var l=!1;b=[];for(var d=0;d<c;d++)b[d]=!1;for(var g=new e.b,d=0;d<c;d++)a.w(d,g),f.contains(g)&&(l=!0,b[d]=!0);if(!l)return a;f=a.Ka();for(d=0;d<c;d++)b[d]||f.Id(a,d,d+1);return f};b.xM=function(a,c,b){var f=a.Pa(0),l=a.D(),d=c.w(),g=new e.b,k=!1;c=[];for(var t=0;t<l;t++)c[t]=!1;t=b*Math.sqrt(2)*1.00001;b=t*t;for(t=0;t<l;t++)f.fc(2*t,g),e.b.sc(g,d)<=b&&(k=!0,c[t]=!0);if(!k)return a;f=a.Ka();for(t=0;t<l;t++)c[t]||f.Id(a,t,t+1);return f};
b.SL=function(a,c,b,h,l){var f=new e.ci;a.Qn(f);var d=new e.h;c.s(d);f.Nb(d);f.O(.1*f.N(),.1*f.fa());d=new e.Ja;d.jd(f,!1);1736==b?d.add(c,!0):d.jd(c,!0);return e.tk.local().V(a,d,h,l)};b.$=null;return b}(e.ef);e.cq=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.IA=c;this.wV=a.next();this.lc=f}d.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),e.cq.Vm(b,this.wV,this.IA,this.lc)):
null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.gN=d})(m||(m={}));(function(e){var d=function(){function b(a){this.ke=a;this.Zj=new e.h;this.Zj.Oa();this.Jh=new e.h;this.Jh.Oa()}b.prototype.Bu=function(){var a;a=this.Zj.o;this.Zj.o=this.Jh.o;this.Jh.o=a;a=this.Zj.v;this.Zj.v=this.Jh.v;this.Jh.v=a;a=this.Zj.A;this.Zj.A=this.Jh.A;this.Jh.A=a;a=this.Zj.B;this.Zj.B=this.Jh.B;this.Jh.B=a};b.prototype.ZR=function(a,c){var b=!this.Zj.Yb(this.Jh);if(e.T.Ic(a.G())&&
e.T.Ic(c.G())){if(a.D()>c.D())return this.tF(a,c,b);this.Bu();b=this.tF(c,a,b);this.Bu();return b}if(550==a.G()&&e.T.Ic(c.G()))return b=this.uF(c,a,b),this.Bu(),b;if(550==c.G()&&e.T.Ic(a.G()))return this.uF(a,c,b);if(550==a.G()&&550==c.G()){if(a.D()>c.D())return this.vF(a,c);this.Bu();b=this.vF(c,a);this.Bu();return b}return 0};b.prototype.tF=function(a,c,b){var f=a.Fa(),l=c.Fa(),d=new e.h,g=new e.h,k=1.7976931348623157E308;if(!b&&this.qZ(a,c,f,l))return 0;for(;f.Ya();)for(;f.Ea();)if(a=f.ba(),a.s(d),
!(d.Zx(this.Jh)>k)){for(;l.Ya();)for(;l.Ea();)if(c=l.ba(),c.s(g),d.Zx(g)<k&&(c=a.Cb(c,b),c*=c,c<k)){if(0==c)return 0;k=c}l.yj()}return Math.sqrt(k)};b.prototype.uF=function(a,c,b){var f=a.Fa(),l=new e.h,d=1.7976931348623157E308,g=new e.b,k,t=c.D();for(b=!b&&1736==a.G();f.Ya();)for(;f.Ea();){var m=f.ba();m.s(l);if(!(1<t&&l.Zx(this.Jh)>d)){for(var n=0;n<t;n++){c.w(n,g);if(b&&0!=e.gd.ge(a,g,0))return 0;k=m.pe(g,!1);g.sub(m.gc(k));k=g.qk();if(k<d){if(0==k)return 0;d=k}}b=!1}}return Math.sqrt(d)};b.prototype.vF=
function(a,c){for(var b=1.7976931348623157E308,h=new e.b,l=new e.b,d,g=a.D(),k=c.D(),t=0;t<g;t++)if(a.w(t,h),!(1<k&&this.Jh.ZK(h)>b))for(var m=0;m<k;m++)if(c.w(m,l),d=e.b.sc(h,l),d<b){if(0==d)return 0;b=d}return Math.sqrt(b)};b.prototype.qZ=function(a,c,b,h){if(1736==a.G()){for(;h.Ya();)if(h.Ea()){var f=h.ba();if(0!=e.gd.ge(a,f.Cc(),0))return!0}h.yj()}if(1736==c.G()){for(;b.Ya();)if(b.Ea()&&(a=b.ba(),0!=e.gd.ge(c,a.Cc(),0)))return!0;b.yj()}return!1};b.prototype.Rm=function(a,c){if(a.u()||c.u())return NaN;
a.s(this.Zj);c.s(this.Jh);return this.ZR(a,c)};return b}(),g=function(b){function a(){b.apply(this,arguments)}O(a,b);a.prototype.V=function(a,b,h){if(null==a||null==b)throw e.g.F();if(a.u()||b.u())return NaN;var c,f;c=a.G();f=b.G();if(33==c){if(33==f)return e.b.Cb(a.w(),b.w());if(197==f)return h=new e.h,b.s(h),h.Cb(a.w());c=new e.Ed;c.add(a);a=c}else if(197==c){if(197==f)return f=new e.h,a.s(f),h=new e.h,b.s(h),h.Cb(f);c=new e.Ja;c.jd(a,!1);a=c}33==f?(f=new e.Ed,f.add(b),b=f):197==f&&(f=new e.Ja,
f.jd(b,!1),b=f);return(new d(h)).Rm(a,b)};a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 14};a.$=null;return a}(e.ef);e.hN=g})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f){this.LI=b;this.TI=a;this.ke=f;this.lI=c}d.prototype.next=function(){var b=this.LI.next();return null==b?null:this.kD(b)};d.prototype.Ia=function(){return this.LI.Ia()};d.prototype.kD=function(b){var a=b.G();if(e.T.Jo(a))return b;if(197==a)return a=new e.Ja(b.description),a.jd(b,
!1),this.kD(a);if(b.u())return b;if(null==b)throw e.g.za();for(var a=b.Ka(),c=new e.Hb,f=0,h=b.aa();f<h;f++)this.oM(b,f,a,c);return a};d.prototype.oM=function(b,a,c,f){if(!(2>b.La(a))){var h=b.wa(a),l=b.Gc(a)-1,d=b.Pa(0),g=b.Qb(a),k=new e.ia(0);k.yb(b.La(a)+1);var t=new e.ia(0);t.yb(b.La(a)+1);k.add(g?h:l);k.add(h);for(h=new e.b;1<k.size;){var m=k.Fc();k.Pf();var n=k.Fc();b.w(m,h);f.Mc(h);b.w(n,h);f.Zc(h);n=this.kM(f,h,d,m,n,l);0<=n?(k.add(n),k.add(m)):t.add(m)}g||t.add(k.get(0));if(t.size==k.size)c.Ti(b,
a,!0);else if(2<=t.size&&(!this.lI||2!=t.size||!(g||e.b.Cb(b.Ba(t.get(0)),b.Ba(t.get(1)))<=this.TI))){a=new e.Wa;f=0;for(l=t.size;f<l;f++)b.Ae(t.get(f),a),0==f?c.Rf(a):c.lineTo(a);g&&(this.lI||2!=t.size||c.lineTo(a),c.sq())}}};d.prototype.kM=function(b,a,c,f,e,l){var h=e-1;e<=f&&(h=l);l=e=-1;for(f+=1;f<=h;f++){c.fc(2*f,a);var d=a.x,g=a.y;b.gc(b.pe(a,!1),a);a.x-=d;a.y-=g;d=a.length();d>this.TI&&d>l&&(e=f,l=d)}return e};d.prototype.Re=function(){return!0};return d}();e.iN=d})(m||(m={}));(function(e){var d=
function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 29};b.prototype.V=function(a,c,b,h){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,h).next()):new e.iN(a,c,b,h)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(e.ef);e.GD=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 21};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,
h,l,d,g,k){return a instanceof e.T?(k=new e.hd(a),this.V(k,c,b,[h],l,d,!1,g).next()):!0===g?(b=new e.JD(a,c,b,h,l,!1,!1,k),e.ei.local().V(b,c,k)):new e.JD(a,c,b,h,l,!1,!1,k)};b.$=null;return b}(e.ef);e.HD=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f,h,l,d,g){if(l)throw e.g.df();if(null==a)throw e.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.yt=f;this.Po=h;this.To=-1;this.lc=g;this.uV=new e.h;this.uV.Oa()}d.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=
this.Ht.Ia(),this.To+1<this.yt.length&&this.To++,this.RS(b,this.yt[this.To]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.RS=function(b,a){return e.rM.buffer(b,this.Rg,this.$e,a,this.Po,this.lc)};d.prototype.Re=function(){return!0};return d}();e.JD=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 24};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,h){if(null==c)throw e.g.F();
if(a.u()||1>a.tb())return 0;if(4==b)throw e.g.df();var f=e.fb.kc(c),d=e.fb.hw(f),g=e.fb.Sv(f),d=d*(2-d),k=f.Nd().Ai,t=a.G(),m;1736==t||197==t?m=a.Gg():e.T.Oc(t)?(m=new e.Ua(a.description),m.dc(a,!0)):m=a;if(0==f.Eb(c)){if(e.fb.Jc(c)){m=e.gi.Mj(m,c);1607==t&&m==a&&(m=e.T.oe(a));a=new e.Ac;e.fb.Bh(c).Sn(a);for(var t=0,n=m.D();t<n;t++){var p=m.Ba(t);p.x=e.gi.Nn(p.x,a);m.rb(t,p)}}a=m.Ka();m=e.gi.OJ(c,f,m,a,h)?a:e.fb.Xg(m,c,f,h)}return this.aS(m,b,g,d,k)};b.prototype.aS=function(a,c,b,h,d){var f=new e.ea(0),
l=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var g=a.ba(),k=g.ec(),g=g.Cc();k.scale(d);g.scale(d);e.mb.Ld(b,h,k.x,k.y,g.x,g.y,f,null,null,c);l+=f.j}return l};b.$=null;return b}(e.ef);e.lN=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,h,d){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,h,d).next()):new e.kN(a,b,h,c,-1,-1,d)};b.$=null;return b}(e.ef);
e.jN=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f,h,d){if(0<d)throw e.g.df();if(4!=c&&0<h)throw e.g.df();if(null==a)throw e.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.BV=f;this.AV=h}d.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.Gz(b);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.Gz=function(b){return e.Ej.Ls(b,this.Rg,this.$e,this.BV,this.AV,this.lc)};d.prototype.Re=function(){return!0};return d}();
e.kN=d})(m||(m={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Contains=1]="Contains";e[e.Within=2]="Within";e[e.Equals=3]="Equals";e[e.Disjoint=4]="Disjoint";e[e.Touches=8]="Touches";e[e.Crosses=16]="Crosses";e[e.Overlaps=32]="Overlaps";e[e.NoThisRelation=64]="NoThisRelation";e[e.Intersects=1073741824]="Intersects";e[e.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(e.AM||(e.AM={}));var d=function(){function d(){}d.s_=function(b,a,c,f){if(a.u()||b.u())return 4;var h=b.G(),l=
a.G(),u;e.T.Oc(h)&&(b=u=new e.Ua(b.description),u.dc(b,!0));e.T.Oc(l)&&(a=u=new e.Ua(a.description),u.dc(a,!0));switch(h){case 33:switch(l){case 33:return d.EN(b,a,c);case 197:return d.se(d.BD(a,b,c));case 550:return d.se(d.$D(a,b,c));case 1607:return d.se(d.$C(a,b,c,f));case 1736:return d.se(d.nE(a,b,c))}throw e.g.za();case 197:switch(l){case 33:return d.BD(b,a,c);case 197:return d.IM(b,a,c);case 550:return d.se(d.SD(a,b,c,f));case 1607:return d.se(d.sE(a,b));case 1736:return d.se(d.jE(a,b))}throw e.g.za();
case 550:switch(l){case 33:return d.$D(b,a,c);case 197:return d.SD(b,a,c,f);case 550:return d.YD(b,a,c,f);case 1607:return d.se(d.uE(a,b));case 1736:return d.se(d.lE(a,b))}throw e.g.za();case 1607:switch(l){case 33:return d.$C(b,a,c,f);case 197:return d.sE(b,a);case 550:return d.uE(b,a);case 1607:return d.lO(b,a);case 1736:return d.se(d.qE(a,b))}throw e.g.za();case 1736:switch(l){case 33:return d.nE(b,a,c);case 197:return d.jE(b,a);case 550:return d.lE(b,a);case 1607:return d.qE(b,a);case 1736:return d.WN(b,
a)}throw e.g.za();default:throw e.g.za();}};d.EN=function(b,a,c){b=b.w();a=a.w();return d.hE(b,a,c)};d.hE=function(b,a,c){b.sub(a);return b.qk()<=c*c?3:4};d.BD=function(b,a,c){var f=new e.h;b.s(f);b=a.w();return d.PM(f,b,c)};d.PM=function(b,a,c){b.O(-c,-c);if(b.contains(a))return 1;b.O(c,c);return b.contains(a)?8:4};d.TM=function(b,a,c){return a.contains(c)?1:b.contains(c)?8:4};d.IM=function(b,a,c){var f=new e.h;b.s(f);b=new e.h;a.s(b);return d.MM(f,b,c)};d.MM=function(b,a,c){var f=0;b.contains(a)&&
(f|=1);a.contains(b)&&(f|=2);if(0!=f)return f;b.O(-c,-c);a.O(-c,-c);if(b.Yb(a))return f=b,f.O(c,c),f=f.contains(a)?1:0,a.O(c,c),f|=a.contains(b)?2:0,0!=f?f:32;f=b;f.O(c,c);a.O(c,c);return f.Yb(a)?8:4};d.$D=function(b,a,c){a=a.w();return d.bE(b,a,c)};d.bE=function(b,a,c){for(var f=0,e=b.D();f<e;f++){var l;l=b.Ba(f);l=d.hE(l,a,c);if(4!=l)return 0!=(l&2)&&1!=e?1:l}return 4};d.SD=function(b,a,c,f){var h=new e.h;a.s(h);return d.$M(b,h,c,f)};d.$M=function(b,a,c,f){a.O(-c,-c);a.O(c,c);for(var e=c=0,l=b.D();e<
l;e++){var u;u=b.Ba(e);u=d.se(d.TM(a,a,u));if(4!=u&&(c|=u,4==f))return 1073741824}return 0==c?4:2==c?c:32};d.YD=function(b,a,c,f){for(var e=0,l=0,u=a.D();l<u;l++){var g;g=a.Ba(l);g=d.bE(b,g,c);if(4!=g&&(e++,4==f))return 1073741824}return 0<e?e==a.D()?3==f?(g=d.YD(a,b,c,1),1==g?3:0):1:32:0};d.$C=function(b,a,c,f){a=a.w();return d.hO(b,a,c,f)};d.WM=function(b,a){var c=null;b=b.ob;null!=b&&(c=b.Hi);if(null!=c){c=c.rm(a.x,a.y);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};d.hO=function(b,
a,c,f){if(0==(f&1073741839))return 64;var h=d.WM(b,a);if(0<h)return h;c*=c;for(h=b.Fa();h.Ya();){var l=h.Ta;if(!b.Qb(l)){var u=b.La(l),l=b.wa(l);if(0==u)continue;if(e.b.sc(b.Ba(l),a)<=c||1<u&&e.b.sc(b.Ba(l+u-1),a)<=c)return 8}if(8!=f)for(;h.Ea();)if(u=h.ba(),u=u.gc(u.pe(a,!1)),e.b.sc(u,a)<=c)return 0!=(f&1073741828)?1073741824:1}return 0!=(f&1073741828)?4:64};d.sE=function(b,a){var c=new e.h;a.s(c);return d.dO(b,c)};d.dO=function(b,a){b=d.eq(b,a);return 0<b?b:0};d.eq=function(b,a){b=b.ob;if(null!=
b)b=b.Hi;else return-1;if(null!=b){b=b.Rn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};d.uE=function(b,a){var c=new e.h;a.s(c);c=d.eq(b,c);return 0<c?c:0};d.uv=function(b,a){var c=new e.h;a.s(c);c=d.eq(b,c);return 0<c?c:-1==c&&(c=new e.h,b.s(c),c=d.eq(a,c),0<c)?d.se(c):0};d.lO=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.nE=function(b,a,c){a=a.w();return d.QN(b,a,c)};d.QN=function(b,a,c){b=e.gd.ge(b,a,c);if(0==b)return 4;if(1==b)return 1;if(2==b)return 8;throw e.g.za();};d.jE=function(b,
a){var c=new e.h;a.s(c);return d.NN(b,c)};d.NN=function(b,a){b=d.eq(b,a);return 0<b?b:0};d.lE=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.qE=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.WN=function(b,a){b=d.uv(b,a);return 0<b?b:0};d.jX=function(b,a){var c=b.G(),f=a.G(),h;if(e.T.gh(c)&&(h=b.ob,null!=h&&(h=h.Hi,null!=h))){if(33==f){var d=a.w();h=h.rm(d.x,d.y)}else d=new e.h,a.s(d),h=h.Rn(d);if(1==h)return 1;if(0==h)return 4}if(e.T.gh(f)&&(h=a.ob,null!=h&&(h=h.Hi,null!=h))){33==c?(c=b.w(),h=h.rm(c.x,
c.y)):(c=new e.h,b.s(c),h=h.Rn(c));if(1==h)return 2;if(0==h)return 4}return 0};d.se=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return d}();e.mN=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 15};b.prototype.V=function(a,c,b,h,d){return a instanceof e.T?(a=new e.hd(a),c=new e.hd(c),this.V(a,c,b,h,d).next()):void 0===d?new e.KD(a,c,b,h,-1):new e.KD(a,
c,b,h,d)};b.prototype.qo=function(a,c,b){if(!this.wv(a))return!1;c=e.na.ah(c,a,!1);var f=a.Hj(b);return f=f||a.Xu(c,b)};b.prototype.wv=function(a){return e.xy.bz(a)};b.$=null;return b}(e.ef);e.tk=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f,h){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.sf=a.next();this.$j=this.sf.G();this.lc=f;this.ej=h;if(-1!=this.ej&&(0>=this.ej||7<this.ej))throw e.g.F("bad dimension mask");}d.prototype.next=function(){if(this.ot)return null;var b;if(null!=
this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ie.next());){this.Ca=this.ie.Ia();if(-1==this.ej)return b=this.Ma(b);this.ox=this.KU(b);return b=this.ox.next()}return null};d.prototype.Ia=function(){return this.Ca};d.prototype.Ma=function(b){var a=this.oL(b);if(null!=a)return a;var a=e.na.Zv(this.sf,b),c=e.na.be(this.Rg,a,!0),a=new e.h;this.sf.s(a);var f=new e.h;b.s(f);a.O(2*c,2*c);a.Ma(f);a.O(100*c,100*c);c=e.ne.clip(this.sf,a,0,0);b=e.ne.clip(b,a,0,0);return e.Dg.nw(b,
c,this.Rg,this.lc)};d.prototype.JJ=function(b,a,c){var f=0;if(0!=(a&1))null==c[0]&&(c[0]=new e.Ed(b)),f++;else for(var h=0;h<c.length-1;h++)c[h]=c[h+1];if(0!=(a&2))null==c[f]&&(c[f]=new e.Ua(b)),f++;else for(h=f;h<c.length-1;h++)c[h]=c[h+1];if(0!=(a&4))null==c[f]&&(c[f]=new e.Ja(b)),f++;else for(h=f;h<c.length-1;h++)c[h]=c[h+1];if(3!=f){b=[];for(h=0;h<f;h++)b[h]=c[h];return new e.hd(b)}return new e.hd(c)};d.prototype.KU=function(b){var a=this.oL(b);if(null!=a){var c=[null,null,null];c[a.tb()]=a;return this.JJ(b.description,
this.ej,c)}a=e.na.Zv(this.sf,b);c=e.na.be(this.Rg,a,!0);a=new e.h;this.sf.s(a);a.O(2*c,2*c);var f=new e.h;b.s(f);a.Ma(f);a.O(100*c,100*c);c=e.ne.clip(this.sf,a,0,0);a=e.ne.clip(b,a,0,0);c=e.Dg.vA(a,c,this.Rg,this.lc);return this.JJ(b.description,this.ej,c)};d.prototype.oL=function(b){var a=e.na.Zv(b,this.sf),c=e.na.be(this.Rg,a,!1),a=b.G(),f=b.u(),h=this.sf.u(),h=f||h;if(!h){h=new e.h;b.s(h);var l=new e.h;this.sf.s(l);l.O(2*c,2*c);h=!h.Yb(l)}if(!h)if(l=e.mN.jX(this.sf,b),4==l)h=!0;else{if(0!=(l&2))return this.sf;
if(0!=(l&1))return b}if(h)return c=e.T.lf(a),h=e.T.lf(this.$j),c<h?d.$(b,f):c>h?this.dK():0==c?550==a&&33==this.$j?this.dK():d.$(b,f):d.$(b,f);if((-1==this.ej||4==this.ej)&&197==a&&197==this.$j)return c=this.sf,a=new e.h,b.s(a),f=new e.h,c.s(f),a.Ma(f),c=new e.ci,b.copyTo(c),c.Gp(a),c;if(197==a&&0==e.T.lf(this.$j)||197==this.$j&&0==e.T.lf(a))return f=197==a?b:this.sf,b=197==a?this.sf:b,a=new e.h,f.s(a),e.ne.clip(b,a,c,0);if(0==e.T.lf(a)&&0<e.T.lf(this.$j)||0<e.T.lf(a)&&0==e.T.lf(this.$j)){c=e.na.ah(this.Rg,
b,!1);if(550==a||33==a)return e.Dg.MH(b,this.sf,c);if(550==this.$j||33==this.$j)return e.Dg.MH(this.sf,b,c);throw e.g.za();}return-1!=this.ej&&2!=this.ej||1607!=a||1736!=this.$j?-1!=this.ej&&2!=this.ej||1736!=a||1607!=this.$j?null:this.lL(this.sf,b):this.lL(b,this.sf)};d.prototype.lL=function(b,a){var c=b,f=a,h=e.na.ah(this.Rg,a,!1),d=new e.h;f.s(d);var u=new e.h;c.s(u);u.O(2*h,2*h);d.Ma(u);d.O(10*h,10*h);var c=b=e.ne.clip(b,d,0,0),u=new e.ia(0),g=-1,k=f.ob;if(null!=k){var t=k.Hi;if(null!=t){g=0;
u.yb(c.D()+c.aa());for(var m=new e.h,n=c.Fa();n.Ya();)for(;n.Ea();){n.ba().s(m);var p=t.Rn(m);1==p?u.add(1):0==p?u.add(0):(u.add(-1),g++)}}}5<a.D()&&(f=a=e.ne.clip(a,d,0,0),k=f.ob);0>g&&(g=c.iA());d=c.D()+f.D();if(g*f.D()>Math.log(d)*d*4)return null;d=null;g=f.Fa();null!=k&&null!=k.Mb&&(d=k.Mb);null==d&&20<f.D()&&(d=e.na.AF(f));f=b.Ka();k=null;t=c.Fa();m=[0,0,0,0,0,0,0,0,0];n=new e.Rd(0);p=new e.Cg;b=-1;for(var r=0,q=0,v=0<u.size,w=-1;t.Ya();){var w=t.Ta,y=0;b=-1;for(r=0;t.Ea();){var E=v?e.J.truncate(u.get(q)):
-1;q++;var A=t.ba();if(0>E){if(null!=d)for(null==k?k=d.oT(A,h):k.Wn(A,h),E=k.next();-1!=E;E=k.next()){g.Tb(d.ja(E));for(var E=g.ba(),B=A.Ma(E,null,m,null,h),E=0;E<B;E++)n.add(m[E])}else for(g.yj();g.Ya();)for(;g.Ea();)for(E=g.ba(),B=A.Ma(E,null,m,null,h),E=0;E<B;E++)n.add(m[E]);if(0<n.size){n.Gd(0,n.size,function(a,c){return a-c});var D=0;n.add(1);for(var B=-1,E=0,C=n.size;E<C;E++){var I=n.get(E);if(I!=D){var G=!1;0!=D||1!=I?(A.yh(D,I,p),D=p.get()):(D=A,G=!0);if(2<=y){f.Bs(c,w,b,r,3==y);if(1!=this.eF(a,
D.ec(),h)&&1!=this.fF(a,D,h))return null;f.dc(D,!1);y=1;r=0}else switch(B=this.fF(a,D,h),B){case 1:G?2>y?(b=t.Db()-c.wa(w),r=1,y=0==y?3:2):r++:(f.dc(D,0==y),y=1);break;case 0:y=0;b=-1;r=0;break;default:return null}D=I}}}else{E=this.eF(a,A.ec(),h);if(0>E)return null;1==E?(2>y&&(b=t.Db()-c.wa(w),y=0==y?3:2),r++):(b=-1,r=0)}n.clear(!1)}else 0!=E&&1==E&&(0==y?(y=3,b=t.Db()-c.wa(w)):1==y?(y=2,b=t.Db()-c.wa(w)):r++)}2<=y&&(f.Bs(c,w,b,r,3==y),b=-1)}return f};d.prototype.eF=function(b,a,c){return e.ff.kn(b,
a,c)};d.prototype.fF=function(b,a,c){var f=a.ec();a=a.Cc();var h=e.ff.kn(b,f,c),d=e.ff.kn(b,a,c);if(1==h&&0==d||0==h&&1==d)return-1;if(0==h||0==d)return 0;if(1==h||1==d)return 1;h=new e.b;h.add(f,a);h.scale(.5);b=e.ff.kn(b,h,c);return 0==b?0:1==b?1:-1};d.$=function(b,a){return a?b:b.Ka()};d.prototype.dK=function(){null==this.KI&&(this.KI=this.sf.Ka());return this.KI};d.prototype.Re=function(){return!0};return d}();e.KD=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}
O(b,d);b.prototype.G=function(){return 28};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,h,d,u,g){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,h,d,u,g).next()):new e.nN(a,c,b,h,d,u,g)};b.$=null;return b}(e.ef);e.LD=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f,e,d,u){this.Ca=-1;this.ie=b;this.fk=a;this.Qa=c;this.jj=f;this.iB=e;this.GI=d;this.ke=u}d.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),this.aN(b)):
null};d.prototype.Ia=function(){return this.Ca};d.prototype.aN=function(b){var a;a=0>=this.GI?e.na.ah(this.fk,b,!1):this.GI;return e.TL.V(b,this.Qa,this.jj,this.iB,a,this.ke)};d.prototype.Re=function(){return!0};return d}();e.nN=d})(m||(m={}));(function(e){(function(e){e[e.clipToDomainOnly=1]="clipToDomainOnly";e[e.clipWithHorizon=2]="clipWithHorizon";e[e.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(e.Up||(e.Up={}));var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=
function(){return 0};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b).next()):new e.oN(a,c,b)};b.prototype.transform=function(a,c,b,h){return e.ko.transform(a,c,b,h,!0)};b.prototype.jL=function(a,c,b){return e.ko.jL(a,c,b)};b.prototype.Du=function(a,c,b,h){return e.ko.Du(a,c,b,h)};b.prototype.WY=function(a,c,b,h){return e.ko.gs(a,c,b,h)};b.prototype.iL=function(a,c,b,h){return e.ko.iL(a,c,b,h)};b.$=null;return b}(e.ef);
e.os=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c){this.Ca=-1;this.ie=b;this.KV=a;this.ke=c}d.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),e.ko.Xg(b,this.KV,this.ke)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.oN=d})(m||(m={}));(function(e){var d=function(){function b(){}b.prototype.reset=function(){this.Lh=this.Zk=-1;this.qt=this.$q=!1};b.prototype.sS=function(a,c,b){for(a.Tb(c,b);a.Ea();){var f=
a.ba(),f=f.Rb();if(0!=f)return a.Db()}for(a.Tb(c,b);a.oA();)if(f=a.Li(),f=f.Rb(),0!=f)return a.Db();return-1};b.prototype.tS=function(a,c){for(a.Tb(c,-1);a.oA();)if(0!=a.Li().Rb())return a.Db();return-1};b.prototype.rS=function(a,c){a.Tb(c,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.qS=function(a,c,b,h){this.Zk=this.sS(c,b,h);if(-1!=this.Zk){c.Tb(this.Zk,-1);var f=c.ba(),d=f.gc(f.pe(a,!1));b=e.b.sc(d,a);h=new e.b;h.L(d);h.sub(f.ec());d=new e.b;d.L(a);d.sub(f.ec());
this.$q=0>h.Ui(d);this.Lh=this.rS(c,this.Zk);if(-1!=this.Lh){c.Tb(this.Lh,-1);var f=c.ba(),g=f.pe(a,!1),g=f.gc(g),k=e.b.sc(g,a);k>b?this.Lh=-1:(h.L(g),h.sub(f.ec()),d.L(a),d.sub(f.ec()),this.qt=0>h.Ui(d))}-1==this.Lh&&(this.Lh=this.tS(c,this.Zk),-1!=this.Lh&&(c.Tb(this.Lh,-1),f=c.ba(),g=f.pe(a,!1),g=f.gc(g),k=e.b.sc(g,a),k>b?this.Lh=-1:(h.L(g),h.sub(f.ec()),d.L(a),d.sub(f.ec()),this.qt=0>h.Ui(d),a=this.Zk,this.Zk=this.Lh,this.Lh=a,a=this.$q,this.$q=this.qt,this.qt=a)))}};b.prototype.dQ=function(a,
c,b,e,d){b=b.Fa();this.qS(a,b,e,d);if(-1!=this.Zk&&-1==this.Lh)return this.$q;if(-1!=this.Zk&&-1!=this.Lh){if(this.$q==this.qt)return this.$q;b.Tb(this.Zk,-1);a=b.ba().Eg(1);b.Tb(this.Lh,-1);c=b.ba().Eg(0);return 0<=a.Ui(c)?!0:!1}return c};return b}(),g=function(b){function a(){b.apply(this,arguments)}O(a,b);a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 3};a.prototype.Zz=function(a,b,h,d){void 0===d&&(d=!1);if(a.u())return new e.Mm;b=b.w();var c=a,f=a.G();
197==f&&(c=new e.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(c,b);case 550:return this.rJ(c,b);case 1607:case 1736:return this.ZV(c,b,h,d);default:throw e.g.X("not implemented");}};a.prototype.$z=function(a,b){if(a.u())return new e.Mm;b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(c,b);case 550:case 1607:case 1736:return this.rJ(c,b);default:throw e.g.X("not implemented");}};a.prototype.aA=function(a,b,h,d){if(0>d)throw e.g.F();if(a.u())return[];
b=b.w();var c=a,f=a.G();197==f&&(c=new e.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.EW(c,b,h,d);case 550:case 1607:case 1736:return this.bW(c,b,h,d);default:throw e.g.X("not implemented");}};a.prototype.ZV=function(a,b,h,l){if(1736==a.G()&&h&&(h=new e.h,a.s(h),h=e.na.be(null,h,!1),0!=(l?e.gd.ge(a,b,0):e.gd.ge(a,b,h)))){var c=new e.Mm(b,0,0);l&&c.NK(!0);return c}for(var f=a.Fa(),c=new e.b,g=h=-1,k=1.7976931348623157E308,t=0;f.Ya();)for(;f.Ea();){var m=f.ba(),m=m.gc(m.pe(b,!1)),n=e.b.sc(m,
b);n<k?(t=1,c=m,h=f.Db(),g=f.Ta,k=n):n==k&&t++}c=new e.Mm(c,h,Math.sqrt(k));l&&(f.Tb(h,g),m=f.ba(),l=0>e.b.zp(b,m.ec(),m.Cc()),1<t&&(t=new d,t.reset(),l=t.dQ(b,l,a,h,g)),c.NK(l));return c};a.prototype.FJ=function(a,b){a=a.w();b=e.b.Cb(a,b);return new e.Mm(a,0,b)};a.prototype.rJ=function(a,b){var c=a.Pa(0);a=a.D();for(var f=0,d=0,g=0,k=1.7976931348623157E308,t=0;t<a;t++){var m=new e.b;c.fc(2*t,m);var n=e.b.sc(m,b);n<k&&(d=m.x,g=m.y,f=t,k=n)}c=new e.Mm;c.Ly(d,g,f,Math.sqrt(k));return c};a.prototype.EW=
function(a,b,h,d){if(0==d)return h=[];h*=h;a=a.w();b=e.b.sc(a,b);b<=h?(h=[],d=new e.Mm,d.Ly(a.x,a.y,0,Math.sqrt(b)),h[0]=d):h=[];return h};a.prototype.bW=function(a,b,h,d){if(0==d)return d=[];var c=a.Pa(0),f=a.D();a=[];var l=0;h*=h;for(var g=0;g<f;g++){var k=c.read(2*g),t=c.read(2*g+1),m=b.x-k,n=b.y-t,m=m*m+n*n;m<=h&&(n=new e.Mm,n.Ly(k,t,g,Math.sqrt(m)),l++,a.push(n))}b=a.length;a.sort(function(a,b){return a.Qa<b.Qa?-1:a.Qa==b.Qa?0:1});if(d>=b)return a.slice(0);a.length=d;return a.slice(0)};a.$=null;
return a}(e.ef);e.sy=g})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 4};b.prototype.V=function(a,b,f,h,d){return e.Nm.YB(a,b,f,h,d)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return e.Gu.cz(a)};b.prototype.qo=function(a,b,f){return e.Gu.TE(a,b,f)};b.$=null;return b}(e.ef);e.pN=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 33};
b.prototype.V=function(a,b,f,h,d){return 1073741824===a?!e.Fd.ZB(b,f,h,4,d):e.Fd.ZB(b,f,h,a,d)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return e.Gu.cz(a)};b.prototype.qo=function(a,b,f){return e.Gu.TE(a,b,f)};b.$=null;return b}(e.ef);e.Gj=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f){this.ke=f;this.rV=c;this.Ca=-1;if(null==b)throw e.g.F();this.$k=b;this.fk=a}d.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),
this.CC(b)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.CC=function(b){if(null==b)throw e.g.F();return e.ty.TK(b,this.fk,this.rV,this.ke)};d.prototype.Re=function(){return!0};return d}();e.qN=d})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 26};b.prototype.V=function(a,b,f,h){return a instanceof e.T?(a=new e.hd(a),this.V(a,b,f,h).next()):new e.qN(a,b,f,h)};b.prototype.Wq=function(a,b,f,h,d){return 0<(void 0!==
h?e.ty.Wq(a,b,f,h,d):e.ty.Wq(a,b,!1,null,f))};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(e.ef);e.Km=d})(m||(m={}));(function(e){var d=function(){function a(){this.nr=0}a.prototype.hY=function(a){this.nr&=-2;this.nr|=a?1:0};a.prototype.fn=function(){return 0!=(this.nr&1)};a.prototype.hH=function(){return this.fn()?0:1};return a}();e.KZ=d;var g=function(){return function(){}}(),b=function(){return function(a,b,c,f){this.x=a;this.y=b;this.$i=c;this.ln=f}}(),a=function(){function a(a){this.bf=
a}a.prototype.compare=function(a,b,c){a=a.ja(c);b=this.bf.Nf.read(2*b);a=this.bf.Nf.read(2*a);b-=a;return 0>b?-1:0<b?1:0};return a}(),c=function(){function a(a){this.bf=a}a.prototype.compare=function(a,b,c){b=this.bf.ib[b];a=this.bf.ib[a.ja(c)];var f=b.fn(),e=a.fn();c=b.Le.pf(this.bf.wp,0);var h=a.Le.pf(this.bf.wp,0);c==h&&(c=Math.min(f?b.Le.ra:b.Le.oa,e?a.Le.ra:a.Le.oa),f=.5*(c-this.bf.wp)+this.bf.wp,f==this.bf.wp&&(f=c),c=b.Le.pf(f,0),h=a.Le.pf(f,0));return c<h?-1:c>h?1:0};return a}(),f=function(){function a(a,
b){this.QJ=new e.b;this.parent=a;this.YT=b}a.prototype.hs=function(a,b,c){var f=this.parent,e=this.YT;c.Gd(a,b,function(a,b){return f.ki(a,b,e)})};a.prototype.Qq=function(a){a=this.parent.Gi.get(a);this.parent.Nf.fc(2*(a>>1),this.QJ);return this.QJ.y+(0!=(a&1)?this.parent.hk:-this.parent.hk)};return a}(),h=function(){function h(a,b,c,f,h){this.zI=a.description;this.Y=a;this.mh=b;this.hk=e.na.ah(this.mh,a,!1);this.pp=e.na.ah(this.mh,a,!0);this.dB=c;this.pV=this.zI.Ga;this.ib=[];this.cp=[];this.Hh=
new e.Xp;this.hb=new e.uk;this.ve=new e.$d;this.kI=this.Ul=h}h.prototype.AA=function(){this.kI=!0;return(!e.T.Ic(this.Y.G())||this.NF()&&this.MF(!1))&&this.pQ()?e.T.Ic(this.Y.G())?this.sQ()?1607==this.Y.G()?this.uQ()?2:0:this.vQ()?this.wQ():0:0:2:0};h.prototype.IC=function(a,b){var c=this.Nf.read(2*a);a=this.Nf.read(2*a+1);var f=this.Nf.read(2*b);b=this.Nf.read(2*b+1);var h=!e.Iu.pw(c,a,f,b,this.hk*this.hk);return h?h:0==this.Y.tb()?!1:c==f&&a==b};h.prototype.NF=function(){for(var a=this.Y,b=a.$f?
3:2,c=0,f=a.aa();c<f;c++)if(a.La(c)<b)return this.ve=new e.$d(1,c,0),!1;return!0};h.prototype.MF=function(a){for(var b=this.Y,c=b.Fa(),f=b.hasAttribute(1),b=f?e.na.FF(this.mh,b,!1):0;c.Ya();)for(;c.Ea();){var h=c.ba();if(!(h.Rb()>this.hk)){if(a&&f){var d=h.dt(1,0),h=h.dt(1,0);if(Math.abs(h-d)>b)continue}this.ve=new e.$d(2,c.Db(),-1);return!1}}return!0};h.prototype.pQ=function(){var b=this.Y,c=null;e.T.Ic(this.Y.G())&&(c=this.Y);var h=(this.kI||this.Ul)&&null!=c,d=b.D();this.Nf=b.Pa(0);this.Gi=new e.ia(0);
this.Gi.yb(2*d);this.Fi=new e.ia(0);this.Fi.yb(2*d);h&&(null==this.im&&(this.im=new e.ia(0)),this.im.yb(d));for(var l=b=0;l<d;l++)if(this.Gi.add(2*l),this.Gi.add(2*l+1),this.Fi.add(2*l),this.Fi.add(2*l+1),h){for(;l>=c.Gc(b);)b++;this.im.add(b)}(new e.Hu).sort(this.Fi,0,2*d,new f(this,h));this.hb.clear();this.hb.Ep(new a(this));this.hb.Qe(d);c=0;for(d*=2;c<d;c++)if(h=this.Fi.get(c),b=this.Gi.get(h),h=b>>1,0==(b&1)){b=this.hb.addElement(h,-1);l=this.hb.Ve(b);if(-1!=l&&!this.IC(this.hb.ja(l),h))return this.ve=
new e.$d(3,h,this.hb.ja(l)),!1;var g=this.hb.nb(b);if(-1!=g&&!this.IC(this.hb.ja(g),h))return this.ve=new e.$d(3,h,this.hb.ja(g)),!1}else if(b=this.hb.search(h,-1),l=this.hb.Ve(b),g=this.hb.nb(b),this.hb.Kd(b,-1),-1!=l&&-1!=g&&!this.IC(this.hb.ja(l),this.hb.ja(g)))return this.ve=new e.$d(3,this.hb.ja(l),this.hb.ja(g)),!1;return!0};h.prototype.sQ=function(){return 10>this.Y.D()?this.qQ():this.rQ()};h.prototype.rQ=function(){var a=new e.fd;a.Jb(this.Y);var b=new e.$d;return e.Ku.tJ(!1,a,this.hk,b,this.ke)?
(b.lm=a.Za(b.lm),b.mm=a.Za(b.mm),this.ve.ms(b),!1):!0};h.prototype.qQ=function(){for(var a=this.Y,b=a.Fa(),a=a.Fa();b.Ya();)for(;b.Ea();){var c=b.ba();if(!b.Io()||!b.TU()){a.yX(b);do for(;a.Ea();){var f=a.ba(),f=c.ys(f,this.hk,!0);if(0!=f)return this.ve=new e.$d(2==f?5:4,b.Db(),a.Db()),!1}while(a.Ya())}}return!0};h.prototype.vQ=function(){var a=this.Y;this.ib.length=0;this.cp.length=0;this.ug=a.Fa();this.ug.jC();var b=new e.ia(0);b.yb(10);for(var c=NaN,f=0,h=0,a=2*a.D();h<a;h++){var d=this.Fi.get(h),
d=this.Gi.get(d);if(0==(d&1)){var d=d>>1,l=this.Nf.read(2*d),g=this.Nf.read(2*d+1);if(0!=b.size&&(l!=c||g!=f)){if(!this.KJ(b))return!1;null!=b&&b.clear(!1)}b.add(d);c=l;f=g}}return this.KJ(b)?!0:!1};h.prototype.uQ=function(){for(var a=this.Y,b=Array(a.aa()),c=0,f=a.aa();c<f;c++)b[c]=a.Eo(c);var f=new g,h,d,l,k=new e.b,c=this.Fi.get(0),c=this.Gi.get(c),t=c>>1;this.Nf.fc(2*t,k);c=this.im.get(t);h=b[c];d=a.wa(c);l=a.Gc(c)-1;f.Il=t==d||t==l;f.Uy=this.Ul?!h&&f.Il:f.Il;f.$i=c;f.x=k.x;f.y=k.y;f.ln=t;for(var m=
new g,n=1,p=this.Fi.size;n<p;n++)if(c=this.Fi.get(n),c=this.Gi.get(c),0==(c&1)){t=c>>1;this.Nf.fc(2*t,k);c=this.im.get(t);c!=f.$i&&(h=b[c],d=a.wa(c),l=a.Gc(c)-1);var r,q=t==d||t==l;r=this.Ul?!h&&f.Il:f.Il;m.x=k.x;m.y=k.y;m.$i=c;m.ln=t;m.Uy=r;m.Il=q;if(m.x==f.x&&m.y==f.y)if(this.Ul){if(!m.Uy||!f.Uy)if(m.$i!=f.$i||!m.Il&&!f.Il)return this.ve=new e.$d(8,m.ln,f.ln),!1}else if(!m.Il||!f.Il)return this.ve=new e.$d(5,m.ln,f.ln),!1;c=f;f=m;m=c}return!0};h.prototype.PF=function(){for(var a=this.Y,c=[],f=-1,
h=!1,d=0,l=a.aa();d<l;d++)a.rw(d)&&(h=!1,f++,d<l-1&&(a.rw(d+1)||(h=!0))),c[d]=h?f:-1;var h=new e.b,d=this.Fi.get(0),d=this.Gi.get(d),g=d>>1;this.Nf.fc(2*g,h);for(var d=this.im.get(g),f=new b(h.x,h.y,d,g,c[d]),a=[],k=1,l=this.Fi.size;k<l;k++)if(d=this.Fi.get(k),d=this.Gi.get(d),0==(d&1)){g=d>>1;this.Nf.fc(2*g,h);d=this.im.get(g);d=new b(h.x,h.y,d,g,c[d]);if(d.x==f.x&&d.y==f.y){if(d.$i==f.$i)return this.ve=new e.$d(9,d.ln,f.ln),!1;0<=c[d.$i]&&c[d.$i]==c[f.$i]&&(0!=a.length&&a[a.length-1]==f||a.push(f),
a.push(d))}f=d}if(0==a.length)return!0;d=new e.Xp(!0);e.J.Nv(c,-1);h=-1;k=new e.b;k.$c();f=0;for(l=a.length;f<l;f++){g=a[f];if(g.x!=k.x||g.y!=k.y)h=d.mi(0),k.x=g.x,k.y=g.y;var t=c[g.$i];-1==t&&(t=d.mi(2),c[g.$i]=t);d.addElement(t,h);d.addElement(h,t)}l=new e.ia(0);l.yb(10);for(f=d.Ge;-1!=f;f=d.bA(f))if(a=d.$G(f),0==(a&1)&&0!=(a&2)){a=-1;l.add(f);for(l.add(-1);0<l.size;){h=l.Fc();l.Pf();k=l.Fc();l.Pf();g=d.$G(k);if(0!=(g&1)){a=0==(g&2)?h:k;break}d.$X(k,g|1);for(g=d.xc(k);-1!=g;g=d.nb(g))t=d.getData(g),
t!=h&&(l.add(t),l.add(k))}if(-1!=a){d=-1;f=0;for(l=c.length;f<l;f++)if(c[f]==a){d=f;break}this.ve=new e.$d(10,d,-1);return!1}}return!0};h.prototype.wQ=function(){var a=this.Y;if(0>=a.hf())return this.ve=new e.$d(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Ul&&!this.PF()?0:2;this.hp=e.ia.zd(a.aa(),0);this.pB=e.ia.zd(a.aa(),-1);for(var b=-1,f=0,h=0,d=a.aa();h<d;h++){var l=a.Sm(h);this.hp.write(h,0>l?0:256);if(0<l)b=h,f=l;else{if(0==l)return this.ve=new e.$d(6,h,-1),0;if(0>b||f<Math.abs(l))if(this.ve=
new e.$d(7,h,-1),this.Ul)return 0;this.pB.write(h,b)}}this.Wt=a.aa();this.Bn=new e.ia(0);this.Bn.yb(10);d=a.D();this.wp=NaN;a=new e.ia(0);a.yb(10);this.Jr=e.ia.zd(d,-1);this.ux=e.ia.zd(d,-1);null!=this.Yj?this.Yj.clear(!1):this.Yj=new e.ia(0);this.Yj.yb(10);this.hb.clear();this.hb.Ep(new c(this));b=0;for(d*=2;0<this.Wt&&b<d;b++)if(f=this.Fi.get(b),f=this.Gi.get(f),0==(f&1)){f>>=1;h=this.Nf.read(2*f+1);if(h!=this.wp&&0!=a.size){if(!this.ju(a))return 0;null!=a&&a.clear(!1)}a.add(f);this.wp=h}return 0<
this.Wt&&!this.ju(a)?0:this.Ul?0==this.ve.Ii&&this.PF()?2:0:0==this.ve.Ii?2:1};h.prototype.KJ=function(a){if(1==a.size)return!0;for(var b=0,c=a.size;b<c;b++){var f=a.get(b);this.ug.Tb(f);var h=this.ug.Li();this.ib.push(this.Gv(h,f,this.ug.Ta,!0));this.ug.ba();h=this.ug.ba();this.ib.push(this.Gv(h,f,this.ug.Ta,!1))}var d=this;this.ib.sort(function(a,b){return d.UR(a,b)});f=this.Hh.Ge;-1==f&&(f=this.Hh.mi(0));this.Hh.Vn(this.ib.length);b=0;for(c=this.ib.length;b<c;b++)this.Hh.addElement(f,b);for(var b=
!0,l=c=-1;b;){b=!1;h=this.Hh.xc(f);if(-1==h)break;for(var g=this.Hh.nb(h);-1!=g;){c=this.Hh.getData(h);l=this.Hh.getData(g);c=this.ib[c].up;l=this.ib[l].up;if(c==l)if(b=!0,this.Hh.kd(f,h),h=this.Hh.Ve(g),g=this.Hh.kd(f,g),-1==g||-1==h)break;else continue;h=g;g=this.Hh.nb(h)}}b=this.Hh.at(f);this.Hh.QF(f);if(0<b)return this.ve=new e.$d(5,c,l),!1;b=0;for(c=a.size;b<c;b++)this.VB(this.ib[b]);this.ib.length=0;return!0};h.prototype.ju=function(a){for(var b=0,c=a.size;b<c;b++){var f=a.get(b),h=this.Jr.read(f);
if(-1!=h){var d=this.hb.ja(h);this.Yj.add(d);this.hb.Kd(h,-1);this.VB(this.ib[d]);this.ib[d]=null;this.Jr.write(f,-1)}h=this.ux.read(f);-1!=h&&(d=this.hb.ja(h),this.Yj.add(d),this.hb.Kd(h,-1),this.VB(this.ib[d]),this.ib[d]=null,this.ux.write(f,-1))}b=0;for(c=a.size;b<c;b++){f=a.get(b);this.ug.Tb(f);h=this.ug.Li();if(h.ra>h.oa){var l=this.ug.Db(),g=this.Gv(h,f,this.ug.Ta,!0);0<this.Yj.size?(d=this.Yj.Fc(),this.Yj.Pf(),this.ib[d]=g):(d=this.ib.length,this.ib.push(g));h=this.hb.addElement(d,-1);-1==
this.Jr.read(l)?this.Jr.write(l,h):this.ux.write(l,h);0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(h)}this.ug.ba();h=this.ug.ba();h.ra<h.oa&&(l=this.ug.Jk(),g=this.Gv(h,f,this.ug.Ta,!1),0<this.Yj.size?(d=this.Yj.Fc(),this.Yj.Pf(),this.ib[d]=g):(d=this.ib.length,this.ib.push(g)),h=this.hb.addElement(d,-1),-1==this.Jr.read(l)?this.Jr.write(l,h):this.ux.write(l,h),0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(h))}b=0;for(c=this.Bn.size;b<c&&0<this.Wt;b++)if(h=this.Bn.get(b),0==(this.hp.read(this.ib[this.hb.ja(h)].oB)&
3)){a=-1;for(var f=this.hb.Ve(h),u=h,g=null,d=-1,k=0;-1!=f;){d=this.hb.ja(f);g=this.ib[d];d=g.oB;k=this.hp.read(d);if(0!=(k&3))break;u=f;f=this.hb.Ve(f)}-1==f?(l=1,f=u):(a=1==(k&3)?d:this.pB.read(d),l=0!=g.hH()?0:1,f=this.hb.nb(f));do{d=this.hb.ja(f);g=this.ib[d];d=g.oB;u=this.hp.read(d);if(0==(u&3)){if(l!=g.hH())return this.ve=new e.$d(6,d,-1),!1;k=0==l||g.fn()?2:1;u=u&252|k;this.hp.write(d,k);if(2==k&&0==this.ve.Ii&&this.pB.read(d)!=a&&(this.ve=new e.$d(7,d,-1),this.Ul))return!1;this.Wt--;if(0==
this.Wt)return!0}1==(u&3)&&(a=d);u=f;f=this.hb.nb(f);l=0!=l?0:1}while(u!=h)}null!=this.Bn?this.Bn.clear(!1):this.Bn=new e.ia(0);return!0};h.prototype.Gv=function(a,b,c,f){if(322==a.G())a=this.rR(a);else throw e.g.za();a.up=b;a.oB=c;a.nr=0;a.hY(f);return a};h.prototype.rR=function(a){var b;0<this.cp.length?(b=this.cp[this.cp.length-1],--this.cp.length,a.copyTo(b.Le)):(b=new d,b.Le=e.cE.oe(a));return b};h.prototype.VB=function(a){322==a.Le.G()&&this.cp.push(a)};h.prototype.$V=function(){for(var a=this.Y.D(),
b=new e.ia(0),c=0;c<a;c++)b.add(c);var f=this;b.Gd(0,a,function(a,b){return f.Cv(a,b)});for(c=1;c<a;c++)if(0==this.Cv(b.get(c-1),b.get(c)))return this.ve=new e.$d(3,b.get(c-1),b.get(c)),0;return 2};h.prototype.JW=function(){return this.NF()?this.MF(!0)?2:0:0};h.prototype.HW=function(){return this.AA()};h.prototype.aW=function(){for(var a=this.Y.D(),b=new e.ia(0),c=0;c<a;c++)b.add(c);var f=this;b.Gd(0,a,function(a,b){return f.SQ(a,b)});var h=Array(a);e.J.Nv(h,!1);h[b.get(0)]=!0;for(c=1;c<a;c++){var d=
b.get(c-1),l=b.get(c);0==this.Cv(d,l)?h[l]=!1:h[l]=!0}for(var b=this.Y.Ka(),d=this.Y,l=0,g=1,c=0;c<a;c++)h[c]?g=c+1:(l<g&&b.Id(d,l,g),l=c+1);l<g&&b.Id(d,l,g);b.Zg(2,this.pp);return b};h.prototype.KW=function(){var a=this.Y,b=a.Fa(),c=a.Fa(),f=this.Y.Ka(),h=this.Y,d=a.hasAttribute(1),l=d?e.na.FF(this.mh,a,!0):0,g=new e.ia(0),k=new e.ia(0);g.yb(e.J.truncate(a.D()/2+1));for(k.yb(e.J.truncate(a.D()/2+1));b.Ya();)if(c.Ya(),!(2>a.La(b.Ta))){c.AX();for(var t,m,n=!0;b.Ea();){var p=b.ba(),r=c.Li();if(b.Db()>
c.Db())break;n&&(g.add(b.Db()),k.add(c.Jk()),n=!1);m=g.Fc();var q=b.Jk();if(1<q-m){var v=new e.b;v.zc(a.Ba(m),a.Ba(q));t=v.length()}else t=p.Rb();m=k.Fc();q=c.Db();1<q-m?(v=new e.b,v.zc(a.Ba(m),a.Ba(q)),m=v.length()):m=r.Rb();t>this.pp?g.add(b.Jk()):d&&(t=a.Yc(1,g.Fc(),0),p=p.Os(1,0),Math.abs(p-t)>l&&g.add(b.Jk()));m>this.pp?k.add(c.Db()):d&&(t=a.Yc(1,k.Fc(),0),p=r.Os(1,0),Math.abs(p-t)>l&&k.add(c.Db()))}g.Fc()<k.Fc()?g.size>k.size?g.Pf():k.Pf():(g.Fc()!=k.Fc()&&k.Pf(),k.Pf());if(2<=k.size+g.size){n=
new e.Wa;r=0;for(p=g.size;r<p;r++)h.Ae(g.get(r),n),0==r?f.Rf(n):f.lineTo(n);for(r=k.size-1;0<r;r--)h.Ae(k.get(r),n),f.lineTo(n);h.Qb(b.Ta)?f.sq():0<k.size&&(h.Ae(k.get(0),n),f.lineTo(n))}null!=g&&g.clear(!1);null!=k&&k.clear(!1)}f.Zg(2,this.pp);return f};h.prototype.IW=function(){return this.xY()};h.prototype.xY=function(){if(1736==this.Y.G()&&1==this.Y.xo())return e.Dg.ol(this.Y,this.pp,!0,!1,this.ke);this.gj=new e.fd;this.gj.Jb(this.Y);0!=this.gj.vd&&(1!=this.dB&&e.sk.V(this.gj,this.pp,this.ke,
!0),1736==this.Y.G()&&e.lo.V(this.gj,this.gj.sd,this.dB,!1,this.ke));this.Y=this.gj.Se(this.gj.sd);1736==this.Y.G()&&(this.Y.Al(),this.Y.Hp(0));this.Y.Zg(2,this.pp);return this.Y};h.tc=function(a,b,c){if(a.u())return 1;var f=a.G();if(33==f)return 1;if(197==f)return c=new e.h,a.s(c),c.fh(e.na.ah(b,a,!1))?0:1;if(e.T.Oc(f))throw e.g.za();if(!e.T.gh(f))throw e.g.za();var f=e.na.ah(b,a,!1),d=a.Lk(f);c=c?-1:d;if(-1!=c)return c;1==c&&(f=0);c=(new h(a,b,c,0,!1)).AA();a.Zg(c,f);return c};h.Wq=function(a,b,
c,f,d){null!=f&&(f.Ii=0,f.lm=-1,f.mm=-1);if(a.u())return 1;var l=a.G();if(33==l)return 1;var g=e.na.ah(b,a,!1);if(197==l)return b=new e.h,a.s(b),b.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(e.T.Oc(l))return g=new e.Ua(a.description),g.dc(a,!0),h.Wq(g,b,c,f,d);d=a.Lk(g);c=c?-1:d;if(-1!=c)return c;b=new h(a,b,c,0,!1);if(550==l)c=b.$V();else if(1607==l)c=b.JW();else if(1736==l)c=b.HW();else throw e.g.za();a.Zg(c,g);null!=f&&0==c&&f.ms(b.ve);return c};h.Bb=function(a,b,c,f,d){null!=f&&(f.Ii=0,f.lm=
-1,f.mm=-1);if(a.u())return 1;var l=a.G();if(33==l)return 1;var g=e.na.ah(b,a,!1);if(197==l)return b=new e.h,a.s(b),b.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(e.T.Oc(l))return l=new e.Ua(a.description),l.dc(a,!0),h.Wq(l,b,c,f,d);a=new h(a,b,-1,0,!0);if(550==l||1607==l||1736==l)b=a.AA();else throw e.g.za();null!=f&&f.ms(a.ve);return b};h.TK=function(a,b,c,f){if(a.u())return a;var d=a.G();if(33==d)return a;var l=e.na.ah(b,a,!1);if(197==d)return b=new e.h,a.s(b),b.fh(l)?a.Ka():a;if(e.T.Oc(d))return d=
new e.Ua(a.description),d.dc(a,!0),h.TK(d,b,c,f);f=a.Lk(l);c=c?-1:f;if(2==c)return a;a=new h(a,b,c,0,!1);if(550==d)a=a.aW();else if(1607==d)a=a.KW();else if(1736==d)a=a.IW();else throw e.g.za();return a};h.DC=function(a,b,c,f){if(a.u())return a;var d=a.G();if(33==d)return a;var l=e.na.ah(b,a,!1);if(197==d)return b=new e.h,a.s(b),b.fh(l)?a.Ka():a;if(e.T.Oc(d))return l=new e.Ua(a.description),l.dc(a,!0),h.DC(l,b,c,f);if(!e.T.gh(d))throw e.g.X("OGC simplify is not implemented for this geometry type "+
d);return e.Dg.DC(a,l,!1,f)};h.prototype.ki=function(a,b,c){if(a==b)return 0;a=this.Gi.get(a);var f=this.Gi.get(b);b=a>>1;var h=f>>1,d=new e.b,l=new e.b;this.Nf.fc(2*b,d);d.y+=0!=(a&1)?this.hk:-this.hk;this.Nf.fc(2*h,l);l.y+=0!=(f&1)?this.hk:-this.hk;a=d.compare(l);return 0==a&&c?(c=this.im.get(b)-this.im.get(h),0>c?-1:0<c?1:0):a};h.prototype.Cv=function(a,b){if(a==b)return 0;var c=this.Y,f=c.Ba(a),h=c.Ba(b);if(f.x<h.x)return-1;if(f.x>h.x)return 1;if(f.y<h.y)return-1;if(f.y>h.y)return 1;for(f=1;f<
this.pV;f++)for(var h=this.zI.rd(f),d=e.ma.Xa(h),l=0;l<d;l++){var g=c.Yc(h,a,l),u=c.Yc(h,b,l);if(g<u)return-1;if(g>u)return 1}return 0};h.prototype.SQ=function(a,b){var c=this.Cv(a,b);return 0==c?a<b?-1:1:c};h.prototype.UR=function(a,b){if(a===b)return 0;var c=a.Le.Eg(a.fn()?1:0);a.fn()&&c.Lr();a=b.Le.Eg(b.fn()?1:0);b.fn()&&a.Lr();b=c.$u();var f=a.$u();return f==b?(b=c.Ui(a),Math.abs(b)<=8.881784197001252E-16*(Math.abs(a.x*c.y)+Math.abs(a.y*c.x))&&(b--,b++),0>b?1:0<b?-1:0):b<f?-1:1};return h}();e.ty=
h})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 30};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,b,f,h){return a instanceof e.T?(a=new e.hd(a),b=new e.hd(b),this.V(a,b,f,h).next()):new e.rN(a,b,f,h)};b.Pp=function(a,c,f,h){var d=a.tb(),g=c.tb();if(a.u()&&c.u())return d>g?a:c;if(a.u())return c;if(c.u())return a;var k=new e.h,t=new e.h,m=new e.h;a.s(k);c.s(t);m.I(k);m.Nb(t);k=e.na.be(f,m,!1);
t=a.G();m=c.G();return 33==t&&33==m?b.nO(a,c,k):t!=m?0<d||0<g?d>g?a:c:550==t?b.XJ(a,c,k):b.XJ(c,a,k):e.Dg.Pp(a,c,f,h)};b.nO=function(a,b,f){f=f*Math.sqrt(2)*1.00001;f*=f;var c=a.w(),d=b.w(),g=new e.Ed(a.description);e.b.sc(c,d)>f&&(g.add(a),g.add(b));return g};b.XJ=function(a,b,f){var c=a.Pa(0),d=a.D(),g=b.w(),k=a.Ka();f=f*Math.sqrt(2)*1.00001;var t=new e.h;a.s(t);t.O(f,f);if(t.contains(g)){f*=f;for(var t=!1,m=[],n=0;n<d;n++)m[n]=!1;for(n=0;n<d;n++){var p=c.read(2*n),r=c.read(2*n+1),p=p-g.x,r=r-g.y;
p*p+r*r<=f&&(t=!0,m[n]=!0)}if(t)for(n=0;n<d;n++)m[n]||k.Id(a,n,n+1);else k.Id(a,0,d),k.add(b)}else k.Id(a,0,d),k.add(b);return k};b.$=null;return b}(e.ef);e.uy=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.LV=a.next();this.lc=f}d.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),e.uy.Pp(b,this.LV,this.Rg,this.lc)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=
function(){return!0};return d}();e.rN=d})(m||(m={}));(function(e){var d=function(){function a(){}a.prototype.kw=function(){this.Hz=null;this.gy=-1;this.rL=!1};return a}(),g=function(){function a(){this.Es=0;this.Pj=[]}a.prototype.pP=function(a){this.Es+=a.gy;this.Pj.push(a)};a.prototype.LW=function(){this.Es-=this.Pj[this.Pj.length-1].gy;--this.Pj.length};a.prototype.Ty=function(){return this.Pj[this.Pj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,
e){this.Ca=-1;this.Pc=!1;this.QI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.SA=!1;this.bl=-1;this.Yq=0;this.Ro=-1;this.rp=[];this.ie=a;this.Rg=b;this.lc=e}a.tc=function(a){var b=[],c;for(c in a)b.push(Number(c));b.sort(function(a,b){return a-b});return b};a.prototype.sH=function(b){var c=this.rp[b],h=a.tc(c)[0],d=c[h],g=d.Ty().Hz,d=d.Ty().rL;delete c[h];d&&(g=e.Km.local().V(g,this.Rg,!1,this.lc),0==b&&33==g.G()&&(b=new e.Ed(g.description),g.u()||b.add(g),g=b));return g};a.prototype.next=function(){if(this.Pc&&
this.Ro==this.bl)return null;for(;!this.cL(););if(-1==this.bl)return null;if(this.SA){for(this.Ro++;;){if(this.Ro>this.bl||0>this.Ro)throw e.g.za();if(this.QI[this.Ro])break}this.Ca++;return this.sH(this.Ro)}this.Ca=0;this.Ro=this.bl;return this.sH(this.bl)};a.prototype.Ia=function(){return this.Ca};a.prototype.cL=function(){if(this.Pc)return!0;var a=null;null!=this.ie&&(a=this.ie.next(),null==a&&(this.Pc=!0,this.ie=null));if(null!=a){var b=a.tb();this.QI[b]=!0;b>=this.bl&&!this.SA&&(this.cF(b,!1,
a),b>this.bl&&!this.SA&&this.wX(b))}if(0<this.Yq)for(b=0;b<=this.bl;b++)for(;1<this.jr[b];)if(a=this.IQ(b),0!=a.length)a=e.Dg.RR(a,this.Rg,this.lc),this.cF(b,!0,a);else break;return this.Pc};a.prototype.IQ=function(b){for(var c=[],e=[],d=this.rp[b],g=a.tc(d),k=0;k<g.length;k++){var t=g[k],m=d[t];if(this.Pc||1E4<m.Es&&1<m.Pj.length){this.jr[b]-=m.Pj.length;for(this.Yq-=m.Pj.length;0<m.Pj.length;)c.push(m.Ty().Hz),m.LW();e.push(t)}}for(k=0;k<e.length;k++)delete d[e[k]];return c};a.prototype.wX=function(a){for(var b=
0;b<a;b++)this.rp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};a.prototype.cF=function(b,f,e){var c=new d;c.kw();c.Hz=e;e=a.Mg(e);c.gy=e;e=a.We(e);if(b+1>this.rp.length)for(var h=0,k=Math.max(2,b+1);h<k;h++)this.rp.push([]);h=this.rp[b][e];void 0===h&&(h=new g,this.rp[b][e]=h);c.rL=f;h.pP(c);this.jr[b]++;this.Yq++;this.bl=Math.max(this.bl,b)};a.We=function(a){return 0<a?e.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.Mg=function(a){var b=a.G();if(e.T.gh(b))return a.D();if(33==b)return 1;if(197==b)return 4;
if(e.T.Oc(b))return 2;throw e.g.za();};a.prototype.Re=function(){return this.cL()};return a}();e.tN=b})(m||(m={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}O(b,d);b.prototype.G=function(){return 1};b.prototype.V=function(a,b,f,h){return void 0===h?new e.tN(a,b,f):this.$R(a,b,f,h)};b.prototype.$R=function(a,b,f,h){a=new e.hd([a,b]);return this.V(a,f,h).next()};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(e.ef);e.ei=d})(m||(m={}));(function(e){var d;
(function(e){e[e.nextPath=0]="nextPath";e[e.nextSegment=1]="nextSegment";e[e.iterate=2]="iterate"})(d||(d={}));d=function(){function d(b,a,c,f){this.Ot=new e.h;this.EV=b;this.FV=a;this.br=f;this.ip=-1;this.Vl=!1;var h=b.ob;null!=h&&(h=f?h.np:h.Mb,null!=h&&(this.Pc=!1,this.ta=c,this.Mb=h,this.lx=this.Mb.mf(),this.cr=this.Vl=!0,this.Zb=0,f?this.ip=a.aa():this.Cd=a.Fa()));this.Vl||(h=a.ob,null!=h&&(h=f?h.np:h.Mb,null!=h&&(this.Pc=!1,this.ta=c,this.Mb=h,this.lx=this.Mb.mf(),this.Vl=!0,this.cr=!1,this.Zb=
0,f?this.ip=b.aa():this.Cd=b.Fa())));this.Vl||(this.Ci=f?e.na.dT(b,a,c,1<=b.Lk(0),1<=a.Lk(0)):e.na.cT(b,a,c))}d.prototype.next=function(){if(this.Vl){if(this.Pc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.hW();break;case 1:b=this.iW();break;case 2:b=this.CA();break;default:throw e.g.X("internal error");}return this.Pc?!1:!0}return null==this.Ci?!1:this.Ci.next()};d.prototype.Ql=function(){return this.Vl?this.cr?this.Mb.ja(this.Bt):this.br?this.ip:this.Cd.Db():this.Ci.Ql(this.Ci.sg)};d.prototype.Ml=
function(){return this.Vl?this.cr?this.br?this.ip:this.Cd.Db():this.Mb.ja(this.Bt):this.Ci.Ml(this.Ci.bg)};d.prototype.eA=function(){if(!this.br)throw e.g.X("internal error");return this.Vl?this.cr?this.Mb.RG(this.Bt):this.Ot:this.Ci.eA(this.Ci.sg)};d.prototype.Iz=function(){if(!this.br)throw e.g.X("internal error");return this.Vl?this.cr?this.Ot:this.Mb.RG(this.Bt):this.Ci.Iz(this.Ci.bg)};d.prototype.hW=function(){if(!this.br){if(!this.Cd.Ya())return this.Pc=!0,!1;this.Zb=1;return!0}if(-1==--this.ip)return this.Pc=
!0,!1;this.cr?this.FV.jk(this.ip,this.Ot):this.EV.jk(this.ip,this.Ot);this.lx.Ni(this.Ot,this.ta);this.Zb=2;return!0};d.prototype.iW=function(){if(!this.Cd.Ea())return this.Zb=0,!0;var b=this.Cd.ba();this.lx.Wn(b,this.ta);this.Zb=2;return!0};d.prototype.CA=function(){this.Bt=this.lx.next();return-1==this.Bt?(this.Zb=this.br?0:1,!0):!1};return d}();e.Lm=d})(m||(m={}));(function(e){e=e.BN||(e.BN={});e[e.enumClosed=1]="enumClosed";e[e.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";e[e.enumOGCStartPolygon=
4]="enumOGCStartPolygon";e[e.enumCalcMask=4]="enumCalcMask"})(m||(m={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,h,l,g,k,t){var u=[0,0,0],x=[0,0,0],m=[0,0,0],z=[0,0,0,0],n=new e.ea(0),p=new e.ea(0),r=new e.ea(0);if(null!=g||null!=k||null!=t)if(e.l.Qi(a))e.vh.Cb(b,c,f,h,l,g,k,t);else{h=e.C.da(h);c=e.C.da(c);var q=e.C.da(h-c);if(e.l.W(f,l)&&(e.l.W(c,h)||e.l.W(e.l.K(f),1.570796326794897)))null!=g&&(g.j=0),null!=k&&(k.j=0),null!=t&&(t.j=0);else{if(e.l.W(f,-l)){if(e.l.W(e.l.K(f),
1.570796326794897)){null!=g&&(g.j=2*e.C.Yg(b,a));null!=k&&(k.j=0<f?e.C.da(3.141592653589793-e.C.da(h)):e.C.da(h));null!=t&&(t.j=0<f?e.C.da(h):e.C.da(3.141592653589793-e.C.da(h)));return}e.l.W(e.l.K(q),3.141592653589793)&&(null!=g&&(g.j=2*e.C.Yg(b,a)),null!=k&&(k.j=0),null!=t&&(t.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(l),1.570796326794897)){e.yl.Cb(b,a,c,f,h,l,g,k,t);return}if(e.l.W(c,h)||e.l.W(e.l.K(q),3.141592653589793)){e.yl.Cb(b,a,c,f,h,l,g,k,t);return}if(e.l.xd(f)){e.yl.Cb(b,
a,c,f,h,l,g,k,t);return}}var v=Math.sqrt(1-a);h=e.C.da(h-c);c=0;e.C.Dk(1,a,f,c,0,n,p,r);u[0]=n.j;u[1]=p.j;u[2]=r.j;e.C.Dk(1,a,l,h,0,n,p,r);x[0]=n.j;x[1]=p.j;x[2]=r.j;m[0]=0;m[1]=0;m[2]=-1*a*e.C.n(1,a,f)*Math.sin(f);0>h?e.C.Or(m,x,u,z,0):e.C.Or(m,u,x,z,0);for(var p=[0,0,0],r=[0,0,0],w=[0,0,0],u=[0,0,0],n=[0,0,0],y=Math.acos(z[2]/1),E=1-a,A=Math.tan(y),B=1+A*A/E,D=2*m[2]*A/E,A=Math.sqrt(D*D-4*B*(m[2]*m[2]/E-1)),B=2*B,E=(-D+A)/B,D=(-D-A)/B,A=Math.tan(y),B=A*E+m[2],y=(E+D)/2,m=(B+(A*D+m[2]))/2,A=e.C.Sp(E-
y,B-m),E=m/v*1.570796326794897,D=0;100>D;D++){B=e.C.Cm(a,E);B=B*B/Math.cos(E)*(Math.sin(E)-m*B/(1*(1-a)));if(e.l.xd(B))break;E-=B}var m=e.C.n(1,a,E)*Math.cos(E),m=Math.sqrt((m-y)*(m+y)),A=1-A/m,A=A*(2-A),B=e.C.eo(p),y=e.C.eo(r),E=e.C.eo(w),C=e.C.Eu(w,p),D=e.C.Eu(w,r);e.C.fy(w,p,u);e.C.fy(w,r,n);p=Math.acos(C/(E*B));r=Math.acos(D/(E*y));r*=e.l.Ab(1,e.C.Eu(u,n));if(1.570796326794897<=e.l.K(p)&&1.570796326794897<=e.l.K(r)||3.141592653589793<e.l.K(p-r))p=(3.141592653589793-e.l.K(p))*e.l.Ab(1,p),r=(3.141592653589793-
e.l.K(r))*e.l.Ab(1,r);u=e.C.ik(A,r);n=e.C.q(m,A,e.C.ik(A,p));u=e.C.q(m,A,u);u=e.l.K(u-n)*b;p=new e.ea(0);r=new e.ea(0);w=z[1]/1;w*=-e.l.Ab(1,q);n=Math.acos(w)*e.l.Ab(1,q);d.Uf(b,a,c,f,u,n,p,r);e.l.W(h,p.j)&&e.l.W(l,r.j)||(A=e.C.Sp(e.C.da(h-p.j),l-r.j),d.Uf(b,a,c,f,u,e.C.da(n+3.141592653589793),p,r),B=e.C.Sp(e.C.da(h-p.j),l-r.j),B<A&&(n=e.C.da(n+3.141592653589793)));p=[0,0,0,0];r=[0,0,0,0];m=[0,0,0];A=[0,0,0];b=[0,0,0];c=[0,0,0];f=[0,0,0];w=[0,0,0];m[0]=0;m[1]=0;m[2]=v;A[0]=0;A[1]=0;A[2]=0;e.C.Or(A,
m,x,p,0);e.l.xd(l)?(b[0]=x[0],b[1]=x[1],b[2]=1,c[0]=1*Math.cos(h)-1*Math.sin(h),c[1]=1*Math.sin(h)+1*Math.cos(h)):(a=e.C.n(1,a,l)*Math.cos(l),b[0]=0,b[1]=0,x[2]+=Math.tan(1.570796326794897-e.l.K(l))*a*e.l.Ab(1,l),c[0]=a*Math.cos(h)-a*Math.sin(h),c[1]=a*Math.sin(h)+a*Math.cos(h));c[2]=x[2];e.C.Or(x,c,b,r,1);e.C.fy(r,p,f);e.C.fy(r,z,w);w=e.C.Eu(f,w)/(e.C.eo(f)*e.C.eo(w));w*=e.l.Ab(1,q);h=Math.acos(w)*-e.l.Ab(1,q);0<n&&0<h?h=e.C.da(h+3.141592653589793):0>n&&0>h&&(h=e.C.da(h+3.141592653589793));null!=
g&&(g.j=u);null!=k&&(k.j=n);null!=t&&(t.j=h)}}};d.Uf=function(b,a,c,f,h,d,g,k){var l=[0,0,0],u=[0,0,0],x=[0,0,0],m=[0,0,0],t=[0,0,0],n=[0,0,0],p=[0,0,0],r=[0,0,0,0],q=new e.ea(0),v=new e.ea(0),w=new e.ea(0),y=new e.ea(0),E=new e.ea(0),A=new e.ea(0);if(null!=g&&null!=k)if(e.l.Qi(a))e.vh.Uf(b,c,f,h,d,g,k);else if(e.l.xd(h))null!=g&&(g.j=c),null!=k&&(k.j=f);else if(d=e.C.da(d),0>h&&(h=e.l.K(h),d=e.C.da(d+3.141592653589793)),c=e.C.da(c),f=e.C.da(f),1.570796326794897<e.l.K(f)&&(c=e.C.da(c+3.141592653589793),
f=e.l.Ab(3.141592653589793,f)-f),e.l.W(e.l.K(f),1.570796326794897)||e.l.xd(f)||e.l.xd(d)||e.l.W(e.l.K(d),3.141592653589793))e.yl.Uf(b,a,c,f,h,d,g,k);else{var B=Math.sqrt(1-a);b=h/b;e.C.Dk(1,a,f,0,0,y,E,A);l[0]=y.j;l[1]=E.j;l[2]=E.j;p[0]=0;p[1]=0;p[2]=-1*a*e.C.n(1,a,f)*Math.sin(f);y=e.C.n(1,a,f);E=e.C.da(1.570796326794897-d);A=Math.sin(E);h=Math.cos(f);f=Math.sin(f);t[0]=y*h-f*A;t[1]=Math.cos(E);t[2]=(1-a)*y*f+h*A;0>d?e.C.Or(p,t,l,r,0):e.C.Or(p,l,t,r,0);l=Math.acos(r[2]/1);r=Math.atan2(-r[1],-r[0]);
f=1-a;t=Math.tan(l);E=1+t*t/f;y=2*p[2]*t/f;t=Math.sqrt(y*y-4*E*(p[2]*p[2]/f-1));E*=2;f=(-y+t)/E;y=(-y-t)/E;t=Math.tan(l);E=t*f+p[2];l=(f+y)/2;p=(E+(t*y+p[2]))/2;t=e.C.Sp(f-l,E-p);B=p/B*1.570796326794897;for(f=0;100>f;f++){y=e.C.Cm(a,B);y=y*y/Math.cos(B)*(Math.sin(B)-p*y/(1*(1-a)));if(e.l.xd(y))break;B-=y}B=e.C.n(1,a,B)*Math.cos(B);B=Math.sqrt((B-l)*(B+l));p=1-t/B;p*=2-p;n=Math.acos(e.C.Eu(n,u)/(e.C.eo(n)*e.C.eo(u)));n*=e.l.Ab(1,u[0]);d=(e.C.q(B,p,e.C.ik(p,n))+b*e.l.Ab(1,d))/e.C.Yg(B,p);d=e.C.da(1.570796326794897*
d);d=e.C.xp(p,d);e.C.n(B,p,d);t=e.C.da(r+c);c=Math.cos(t);d=Math.sin(t);x[0]=m[0]*c+m[1]*-d;x[1]=m[0]*d+m[1]*c;x[2]=m[2];e.C.jQ(a,x[0],x[1],x[2],w,v,q);null!=g&&(g.j=v.j);null!=k&&(k.j=w.j)}};return d}();e.VD=d})(m||(m={}));(function(e){var d=function(){function a(a){this.ab=null;this.mu=new e.b;this.nu=new e.b;this.a=a}a.prototype.compare=function(a,b,c){this.a.Nc(b,this.mu);this.a.Nc(a.ja(c),this.nu);return this.mu.compare(this.nu)};return a}(),g=function(){function a(a){this.cg=new e.b;this.fl=
new e.b;this.a=a}a.prototype.Yh=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.a.Nc(a.ja(b),this.fl);return this.cg.compare(this.fl)};return a}(),b=function(a){function b(b){a.call(this,b.a,b.ta,!1);this.bb=b}O(b,a);b.prototype.compare=function(a,b,c){if(this.Ng)return-1;var f=this.bb.he.yo(this.bb.ri(b));a=a.ja(c);var e=this.bb.he.yo(this.bb.ri(a));this.rn=c;return this.XF(b,f,a,e)};return b}(e.fE),a=function(a){function b(b){a.call(this,b.a,b.ta);this.bb=b}O(b,a);b.prototype.compare=
function(a,b){if(this.Ng)return-1;a=this.bb.he.yo(this.bb.ri(a.ja(b)));this.rn=b;return this.YF(b,a)};return b}(e.aO),c=function(){function c(){this.Tc=this.Hf=this.Xo=this.he=this.Gh=this.Od=this.ib=this.a=null;this.ih=!1;this.Th=this.An=this.Fe=this.hl=this.Ih=this.cl=this.gg=this.we=null;this.Vh=this.zr=this.AB=this.ta=0;this.Kw=this.Lo=!1;this.mp=new e.b;this.oj=new e.b;this.ib=new e.ad(8);this.Od=new e.ad(5);this.Gh=new e.Lu;this.he=new e.Lu;this.ih=!1;this.Th=new e.b;this.Th.ka(0,0);this.ta=
0;this.Vh=-1;this.Lo=!1;this.a=null;this.Hf=new e.uk;this.Tc=new e.uk;this.Ih=new e.ia(0);this.hl=new e.dE;this.gg=new e.ia(0);this.cl=new e.ia(0);this.Xo=new e.Wa}c.prototype.IY=function(a,b){var c=new e.Hd;c.xC();a.Xc(c);this.Yr(a);this.Lo=!1;this.ta=b;this.AB=b*b;b=this.GC();a.Xc(c);b||(this.lS(),b||this.GC());-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null;return this.Lo};c.prototype.MY=function(a,b){this.Yr(a);this.Lo=!1;this.ta=b;this.AB=b*b;this.ih=!1;this.GC();this.ih||(this.ih=1==
a.zq(b,!0,!1));-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null};c.prototype.Jg=function(a,b){return this.ib.S(a,0+b)};c.prototype.lC=function(a,b,c){this.ib.P(a,0+b,c)};c.prototype.ri=function(a){return this.ib.S(a,2)};c.prototype.UX=function(a,b){this.ib.P(a,2,b)};c.prototype.cH=function(a,b){return this.ib.S(a,3+b)};c.prototype.Jq=function(a){return this.ib.S(a,7)};c.prototype.um=function(a,b){this.ib.P(a,7,b)};c.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};c.prototype.Zr=
function(a,b,c){this.ib.P(a,3+this.Iq(a,b),c)};c.prototype.GT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};c.prototype.as=function(a,b,c){this.ib.P(a,5+this.Iq(a,b),c)};c.prototype.Ns=function(a){return this.Od.S(a,0)};c.prototype.RX=function(a,b){this.Od.P(a,0,b)};c.prototype.Mz=function(a){return this.Od.S(a,4)};c.prototype.Vr=function(a,b){this.Od.P(a,4,b)};c.prototype.Nl=function(a){return this.Od.S(a,1)};c.prototype.ao=function(a,b){this.Od.P(a,1,b)};c.prototype.Lz=function(a){return this.Od.S(a,
3)};c.prototype.tu=function(a,b){this.Od.P(a,3,b)};c.prototype.Mn=function(a){var b=this.Od.Pe(),c=this.Gh.mi();this.RX(b,c);-1!=a?(this.Gh.addElement(c,a),this.a.Va(a,this.Vh,b),this.Vr(b,this.a.Za(a))):this.Vr(b,-1);return b};c.prototype.DR=function(a){this.Od.kd(a)};c.prototype.aF=function(a,b){this.Gh.addElement(this.Ns(a),b);this.a.Va(b,this.Vh,a)};c.prototype.cu=function(a){var b=this.ib.Pe(),c=this.he.mi();this.UX(b,c);-1!=a&&this.he.addElement(c,a);return b};c.prototype.bF=function(a,b){this.he.addElement(this.ri(a),
b)};c.prototype.Jv=function(a){this.ib.kd(a);a=this.Ih.Ov(a);0<=a&&this.Ih.HJ(a)};c.prototype.Jj=function(a,b){if(-1==this.Jg(a,0))this.lC(a,0,b);else if(-1==this.Jg(a,1))this.lC(a,1,b);else throw e.g.za();this.Ry(a,b)};c.prototype.Ry=function(a,b){var c=this.Nl(b);if(-1!=c){var f=this.Kq(c,b);this.as(f,b,a);this.Zr(a,b,f);this.Zr(c,b,a);this.as(a,b,c)}else this.as(a,b,a),this.Zr(a,b,a),this.ao(b,a)};c.prototype.Iq=function(a,b){return this.Jg(a,0)==b?0:1};c.prototype.Ln=function(a,b){var c=this.Lz(b);
-1!=c&&(this.Hf.Kd(c,-1),this.tu(b,-1));var f,c=this.Nl(b);if(-1!=c){var e=f=c,h;do{h=!1;var d=this.Iq(f,b),l=this.cH(f,d);if(this.Jg(f,d+1&1)==a){this.Kv(f);this.he.zh(this.ri(f));this.Jv(f);if(f==l){c=-1;break}c==f&&(c=this.Nl(b),e=l,h=!0)}f=l}while(f!=e||h);if(-1!=c){do d=this.Iq(f,b),l=this.cH(f,d),this.lC(f,d,a),f=l;while(f!=e);f=this.Nl(a);-1!=f?(e=this.Kq(f,a),h=this.Kq(c,a),e==f?(this.ao(a,c),this.Ry(f,a),this.ao(a,f)):h==c&&this.Ry(c,a),this.Zr(c,a,e),this.as(e,a,c),this.Zr(f,a,h),this.as(h,
a,f)):this.ao(a,c)}}c=this.Ns(a);f=this.Ns(b);for(e=this.Gh.xc(f);-1!=e;e=this.Gh.nb(e))this.a.Va(this.Gh.ja(e),this.Vh,a);this.Gh.mz(c,f);this.DR(b)};c.prototype.TV=function(a,b){var c=this.Jg(a,0),f=this.Jg(a,1),e=this.Jg(b,0),h=this.Jg(b,1);this.he.mz(this.ri(a),this.ri(b));b==this.Nl(c)&&this.ao(c,a);b==this.Nl(f)&&this.ao(f,a);this.Kv(b);this.Jv(b);c==e&&f==h||f==e&&c==h||(this.wo(c,this.mp),this.wo(e,this.oj),this.mp.ub(this.oj)?(c!=e&&this.Ln(c,e),f!=h&&this.Ln(f,h)):(f!=e&&this.Ln(f,e),c!=
h&&this.Ln(c,h)))};c.prototype.Kv=function(a){var b=this.Jg(a,1);this.lG(a,this.Jg(a,0));this.lG(a,b)};c.prototype.lG=function(a,b){var c=this.Kq(a,b),f=this.GT(a,b),e=this.Nl(b);c!=a?(this.Zr(f,b,c),this.as(c,b,f),e==a&&this.ao(b,c)):this.ao(b,-1)};c.prototype.iF=function(a,b,c){var f=this.he.xc(a),e=this.he.ja(f);a=this.jf(e);var h=this.jf(this.a.U(e));this.a.bs(e,b,c,!0);for(f=this.he.nb(f);-1!=f;f=this.he.nb(f)){var e=this.he.ja(f),d=this.jf(e)==a;this.a.bs(e,b,c,d)}f=b.Mq(c,0).ec();b=b.Mq(c,
b.Rl(c)-1).Cc();this.sL(a,f);this.sL(h,b)};c.prototype.eG=function(a,b,c){var f=this.ri(a),e=this.Jg(a,0),h=this.Jg(a,1),d=this.cu(-1);this.Ih.add(d);this.um(d,-3);this.gg.add(d);this.Jj(d,e);a=1;for(b=b.Rl(c);a<b;a++)c=this.Mn(-1),this.cl.add(c),this.gg.add(c),this.Jj(d,c),d=this.cu(-1),this.Ih.add(d),this.um(d,-3),this.gg.add(d),this.Jj(d,c);this.Jj(d,h);for(f=this.he.xc(f);-1!=f;f=this.he.nb(f))if(h=this.he.ja(f),this.jf(h)==e){a=0;do 0<a&&(d=this.gg.get(a-1),this.aF(d,h),-1==this.Mz(d)&&this.Vr(d,
this.a.Za(h))),d=this.gg.get(a),a+=2,this.bF(d,h),h=this.a.U(h);while(a<this.gg.size)}else{a=this.gg.size-1;do a<this.gg.size-2&&(d=this.gg.get(a+1),this.aF(d,h),0>this.Mz(d)&&this.Vr(d,this.a.Za(h))),d=this.gg.get(a),a-=2,this.bF(d,h),h=this.a.U(h);while(0<=a)}this.gg.clear(!1)};c.prototype.jf=function(a){return this.a.Sa(a,this.Vh)};c.prototype.LJ=function(a,b,c){var f=this.Jg(b,0),h=new e.b;this.wo(f,h);var d=new e.b,l=this.Jg(b,1);this.wo(l,d);var g=c.Rl(a),u=c.Mq(a,0),k=new e.b;u.Oq(k);if(!h.ub(k)){if(!this.ih){var t=
h.compare(this.Th),k=k.compare(this.Th);0>t*k&&(this.ih=!0)}this.HG(f,this.gg);this.cl.add(f)}!this.ih&&1<g&&(t=h.compare(d),u=u.Cc(),h.compare(u)!=t||u.compare(d)!=t?this.ih=!0:0>u.compare(this.Th)&&(this.ih=!0));u=c.Mq(a,g-1);a=u.Cc();d.ub(a)||(this.ih||(t=d.compare(this.Th),k=a.compare(this.Th),0>t*k&&(this.ih=!0)),this.HG(l,this.gg),this.cl.add(l));this.gg.add(b);d=0;for(l=this.gg.size;d<l;d++)a=this.gg.get(d),c=this.Jq(a),e.ad.BA(c)&&(this.Tc.Kd(c,-1),this.um(a,-1)),a!=b&&-3!=this.Jq(a)&&(this.Ih.add(a),
this.um(a,-3));this.gg.clear(!1)};c.prototype.oQ=function(a,b){this.we.compare(this.Tc,this.Tc.ja(a),b);this.we.Ng&&(this.we.Gs(),this.yG(a,b))};c.prototype.yG=function(a,b){this.Lo=!0;a=this.Tc.ja(a);b=this.Tc.ja(b);var c,f;f=this.he.yo(this.ri(a));var h=this.he.yo(this.ri(b));c=this.a.ic(f);null==c&&(null==this.Fe&&(this.Fe=new e.Hb),this.a.pd(f,this.Fe),c=this.Fe);f=this.a.ic(h);null==f&&(null==this.An&&(this.An=new e.Hb),this.a.pd(h,this.An),f=this.An);this.hl.Ap(c);this.hl.Ap(f);this.hl.Ma(this.ta,
!0)&&(this.ih=!0);this.YK(a,b,-1,this.hl);this.hl.clear()};c.prototype.xS=function(a,b){this.Lo=!0;b=this.Tc.ja(b);var c,f=this.he.yo(this.ri(b));c=this.a.ic(f);null==c&&(null==this.Fe&&(this.Fe=new e.Hb),this.a.pd(f,this.Fe),c=this.Fe);f=this.NG(a);this.hl.Ap(c);this.a.wj(f,this.Xo);this.hl.sA(this.ta,this.Xo,!0);this.YK(b,-1,a,this.hl);this.hl.clear()};c.prototype.sU=function(){if(0!=this.Ih.size)for(;0!=this.Ih.size;){if(this.Ih.size>Math.max(100,this.a.vd)){this.Ih.clear(!1);this.ih=!0;break}var a=
this.Ih.Fc();this.Ih.Pf();this.um(a,-1);-1!=this.PU(a)&&this.rU(a);this.Ko=!1}};c.prototype.rU=function(a){var b;this.Ko?(b=this.Tc.jv(this.$I,this.WI,a,!0),this.Ko=!1):b=this.Tc.$E(a);-1==b?this.TV(this.Tc.ja(this.Tc.QG()),a):(this.um(a,b),this.we.Ng&&(this.we.Gs(),this.yG(this.we.rn,b)))};c.prototype.PU=function(a){var b=this.Jg(a,0);a=this.Jg(a,1);this.wo(b,this.mp);this.wo(a,this.oj);if(e.b.sc(this.mp,this.oj)<=this.AB)return this.ih=!0,-1;var c=this.mp.compare(this.Th),f=this.oj.compare(this.Th);
return 0>=c&&0<f?a:0>=f&&0<c?b:-1};c.prototype.jS=function(){var a=new e.ia(0);a.yb(this.a.vd);for(var b=this.a.Qr(),c=b.next();-1!=c;c=b.next())-1!=this.a.Sa(c,this.Vh)&&a.add(c);this.a.Xx(a,a.size);this.kS(a)};c.prototype.kS=function(a){this.Hf.clear();this.Hf.Qe(a.size);this.Hf.Ep(new d(this.a));var b=new e.b;b.$c();for(var c=-1,f=new e.b,h=0,g=a.size;h<g;h++){var k=a.get(h);this.a.Nc(k,f);f.ub(b)?(k=this.a.Sa(k,this.Vh),this.Ln(c,k)):(c=this.jf(k),this.a.Nc(k,b),k=this.Hf.ro(k),this.tu(c,k))}};
c.prototype.lS=function(){var a=new e.ia(0);a.yb(this.a.vd);for(var b=this.Hf.xc(-1);-1!=b;b=this.Hf.nb(b))a.add(this.Hf.ja(b));this.Hf.clear();this.a.Xx(a,a.size);for(var b=0,c=a.size;b<c;b++){var f=a.get(b),d=this.jf(f),f=this.Hf.ro(f);this.tu(d,f)}};c.prototype.HG=function(a,b){var c=this.Nl(a);if(-1!=c){var f=c;do e.ad.BA(this.Jq(f))&&b.add(f),f=this.Kq(f,a);while(f!=c)}};c.prototype.sL=function(a,b){for(a=this.Gh.xc(this.Ns(a));-1!=a;a=this.Gh.nb(a))this.a.Qf(this.Gh.ja(a),b)};c.prototype.YK=
function(a,b,c,f){this.Kv(a);-1!=b&&this.Kv(b);this.LJ(0,a,f);-1!=b&&this.LJ(1,b,f);-1!=c&&(f.cg.w(this.mp),this.wo(c,this.oj),this.oj.ub(this.mp)||this.cl.add(c));c=0;for(var e=this.cl.size;c<e;c++){var h=this.cl.get(c),d=this.Lz(h);-1!=d&&(this.Hf.Kd(d,-1),this.tu(h,-1))}c=this.ri(a);e=-1!=b?this.ri(b):-1;this.iF(c,f,0);-1!=b&&this.iF(e,f,1);this.eG(a,f,0);-1!=b&&this.eG(b,f,1);this.he.zh(c);this.Jv(a);-1!=b&&(this.he.zh(e),this.Jv(b));c=0;for(e=this.cl.size;c<e;c++)h=this.cl.get(c),h==this.zr&&
(this.Kw=!0),d=this.Lz(h),-1==d&&(d=this.Hf.$E(this.NG(h)),-1==d?(a=this.jf(this.Hf.ja(this.Hf.QG())),this.Ln(a,h)):this.tu(h,d));this.cl.clear(!1)};c.prototype.wo=function(a,b){this.a.pH(this.Mz(a),b)};c.prototype.NG=function(a){return this.Gh.yo(this.Ns(a))};c.prototype.GC=function(){this.Kw=!1;this.zr=-1;null==this.we&&(this.Tc.Dw=!1,this.we=new b(this),this.Tc.Oo=this.we);var c=new e.ia(0),f=null,d=null,k=0;this.WI=this.$I=-1;this.Ko=!1;for(var t=this.Hf.xc(-1);-1!=t;){k++;this.Ko=!1;var m=this.Hf.ja(t);
this.zr=this.jf(m);this.a.Nc(m,this.Th);this.we.QK(this.Th.y,this.Th.x);var n,p=this.Nl(this.zr);n=-1==p;if(!n){m=p;do{var r=this.Jq(m);-1==r?(this.Ih.add(m),this.um(m,-3)):-3!=r&&c.add(r);m=this.Kq(m,this.zr)}while(m!=p)}if(0<c.size){this.Ko=1==c.size&&1==this.Ih.size;n=0;for(p=c.size;n<p;n++)m=this.Tc.ja(c.get(n)),this.um(m,-2);var q=-2,v=-2;n=0;for(p=c.size;n<p;n++){r=c.get(n);if(-2==q){var w=this.Tc.Ve(r);-1!=w?(m=this.Tc.ja(w),m=this.Jq(m),-2!=m&&(q=w)):q=-1}-2==v&&(r=this.Tc.nb(r),-1!=r?(m=
this.Tc.ja(r),m=this.Jq(m),-2!=m&&(v=r)):v=-1);if(-2!=q&&-2!=v)break}n=0;for(p=c.size;n<p;n++)r=c.get(n),m=this.Tc.ja(r),this.Tc.Kd(r,-1),this.um(m,-1);c.clear(!1);this.$I=-1!=q?q:-1;this.WI=-1!=v?v:-1;-1!=q&&-1!=v?this.Ko||this.oQ(q,v):-1==q&&-1==v&&(this.Ko=!1)}else n&&(null==f&&(f=new a(this)),f.Yh(this.Th),this.Tc.lK(f),f.Ng&&(f.Gs(),this.xS(this.zr,f.rn)));this.sU();this.Kw?(this.Kw=!1,null==d&&(d=new g(this.a)),d.Yh(this.Th),t=this.Hf.lK(d)):t=this.Hf.nb(t)}return this.Lo};c.prototype.Yr=function(a){this.a=
a;this.Vh=this.a.Vd();this.ib.Qe(a.vd+32);this.Od.Qe(a.vd);this.Gh.pu(a.vd);this.Gh.Vn(a.vd);this.he.pu(a.vd+32);this.he.Vn(a.vd+32);for(a=this.a.sd;-1!=a;a=this.a.Ue(a))if(e.T.Ic(this.a.hc(a)))for(k=this.a.Pb(a);-1!=k;k=this.a.Sb(k)){var b=this.a.La(k),c=this.a.cb(k),f=this.Mn(c),d=this.cu(c);this.Jj(d,f);m=this.a.U(c);c=0;for(b-=2;c<b;c++){var h=this.a.U(m),g=this.Mn(m);this.Jj(d,g);d=this.cu(m);this.Jj(d,g);m=h}this.a.Qb(k)?(g=this.Mn(m),this.Jj(d,g),d=this.cu(m),this.Jj(d,g),this.Jj(d,f)):(g=
this.Mn(m),this.Jj(d,g))}else for(var k=this.a.Pb(a);-1!=k;k=this.a.Sb(k))for(var m=this.a.cb(k),f=0,b=this.a.La(k);f<b;f++)this.Mn(m),m=this.a.U(m);this.jS()};return c}();e.WD=c})(m||(m={}));(function(e){var d=function(d){function b(a,c,f){d.call(this);if(void 0!==a)if(void 0!==f){this.description=e.ye.Ig();var h=new e.qd;h.I(a,c,f);this.BC(h)}else if(void 0!==c)this.description=e.ye.Ig(),this.rb(a,c);else if(a instanceof e.ma)this.description=a;else if(a instanceof e.b)this.description=e.ye.Ig(),
this.rb(a);else if(a instanceof b)this.description=a.description,this.rb(a.Be(),a.nf()),null!==a.la&&(this.la=a.la.slice(0));else throw e.g.F();else this.description=e.ye.Ig()}O(b,d);b.prototype.w=function(a){if(void 0!==a){if(this.Hc())throw e.g.X("This operation should not be performed on an empty geometry.");a.ka(this.la[0],this.la[1])}else{if(this.Hc())throw e.g.X("This operation should not be performed on an empty geometry.");a=new e.b;a.ka(this.la[0],this.la[1]);return a}};b.prototype.rb=function(a,
b){"number"===typeof a?(this.Bc(),null==this.la&&this.nq(),this.la[0]=a,this.la[1]=b):(this.Bc(),this.rb(a.x,a.y))};b.prototype.lA=function(){if(this.Hc())throw e.g.X("This operation should not be performed on an empty geometry.");var a=new e.qd;a.x=this.la[0];a.y=this.la[1];this.description.uH()?a.z=this.la[2]:a.z=e.ma.de(1);return a};b.prototype.BC=function(a){this.Bc();var b=this.hasAttribute(1);b||e.ma.PH(1,a.z)||(this.Ud(1),b=!0);null==this.la&&this.nq();this.la[0]=a.x;this.la[1]=a.y;b&&(this.la[2]=
a.z)};b.prototype.Be=function(){if(this.Hc())throw e.g.X("This operation should not be performed on an empty geometry.");return this.la[0]};b.prototype.AC=function(a){this.setAttribute(0,0,a)};b.prototype.nf=function(){if(this.Hc())throw e.g.X("This operation should not be performed on an empty geometry.");return this.la[1]};b.prototype.RK=function(a){this.setAttribute(0,1,a)};b.prototype.rH=function(){return this.Yc(1,0)};b.prototype.rY=function(a){this.setAttribute(1,0,a)};b.prototype.aH=function(){return this.Yc(2,
0)};b.prototype.bY=function(a){this.setAttribute(2,0,a)};b.prototype.yc=function(){return this.KG(3,0)};b.prototype.BK=function(a){this.setAttribute(3,0,a)};b.prototype.Yc=function(a,b){var c=this.description.mg(a);return 0<=c?this.la[this.description.xk(c)+b]:e.ma.de(a)};b.prototype.KG=function(a,b){var c=this.description.mg(a);return 0<=c?this.la[this.description.xk(c)+b]:e.ma.de(a)};b.prototype.setAttribute=function(a,b,f){this.Bc();var c=this.description.mg(a);0>c&&(this.Ud(a),c=this.description.mg(a));
null==this.la&&this.nq();this.la[this.description.xk(c)+b]=f};b.prototype.G=function(){return 33};b.prototype.tb=function(){return 0};b.prototype.Oa=function(){this.Bc();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};b.prototype.mo=function(a){if(null!=this.la){for(var b=e.ye.vx(a,this.description),f=[],d=0,l=0,g=a.Ga;l<g;l++){var k=a.rd(l),m=e.ma.Xa(k);if(-1==b[l])for(var t=e.ma.de(k),k=0;k<m;k++)f[d]=t,d++;else for(t=this.description.xk(b[l]),k=0;k<m;k++)f[d]=this.la[t],d++,t++}this.la=f}this.description=
a};b.prototype.nq=function(){this.bK(this.description.af.length);b.Bb(this.description.af,this.la,this.description.af.length);this.la[0]=NaN;this.la[1]=NaN};b.prototype.Xc=function(a){if(a instanceof e.Hd){if(!this.Hc()){var b=this.w();a.$h(b,b);this.rb(b)}}else this.Hc()||(this.Ud(1),b=this.lA(),this.BC(a.Rp(b)))};b.prototype.copyTo=function(a){if(33!=a.G())throw e.g.F();a.Bc();null==this.la?(a.Oa(),a.la=null,a.Fg(this.description)):(a.Fg(this.description),a.bK(this.description.af.length),b.Bb(this.la,
a.la,this.description.af.length))};b.prototype.Ka=function(){return new b(this.description)};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};b.prototype.Qn=function(a){a.Oa();this.description!=a.description&&a.Fg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Hc()?a.Oa():(a.o=this.la[0],a.A=this.la[1],a.v=this.la[0],a.B=this.la[1])};b.prototype.Cp=function(a){if(this.Hc())a.Oa();else{var b=this.lA();a.o=
b.x;a.A=b.y;a.Bf=b.z;a.v=b.x;a.B=b.y;a.$g=b.z}};b.prototype.xf=function(a,b){var c=new e.Ac;if(this.Hc())return c.Oa(),c;a=this.Yc(a,b);c.ca=a;c.ha=a;return c};b.prototype.bK=function(a){if(null==this.la)this.la=e.J.gf(a);else if(this.la.length<a){for(var b=this.la.slice(0),f=this.la.length;f<a;f++)b[f]=0;this.la=b}};b.Bb=function(a,b,f){if(0<f)for(f=0;f<a.length;f++)b[f]=a[f]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Hc())return a.Hc()?
!0:!1;for(var c=0,f=this.description.af.length;c<f;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var b=0,f=this.description.af.length;b<f;b++)var d=this.la[b],d=e.J.truncate(d^d>>>32),a=e.J.dh(d,a);return a};b.prototype.Gg=function(){return null};return b}(e.T);e.Wa=d})(m||(m={}));(function(e){var d=function(){function e(b,a,c){void 0!==b&&(this.x=b,this.y=a,this.z=c)}e.pa=function(b,a,c){var f=new e;f.x=b;f.y=a;f.z=c;return f};
e.prototype.I=function(b,a,c){this.x=b;this.y=a;this.z=c};e.prototype.Vx=function(){this.z=this.y=this.x=0};e.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};e.prototype.sub=function(b){return new e(this.x-b.x,this.y-b.y,this.z-b.z)};e.prototype.Vg=function(b){return new e(this.x*b,this.y*b,this.z*b)};e.prototype.dv=function(){this.x=NaN};e.prototype.Hy=function(){return isNaN(this.x)};
e.prototype.oi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return e}();e.qd=d})(m||(m={}));(function(e){var d=function(){function d(b,a,c){this.tx=this.dx=null;this.tg=a;this.DV=a.y-c;this.CV=a.y+c;this.Ir=0;this.MA=b;this.ta=c;this.PV=c*c;this.NA=0!=c;this.yw=!1}d.prototype.result=function(){return 0!=this.Ir?1:0};d.prototype.XO=function(b){b=b.gc(b.pe(this.tg,!1));return e.b.sc(b,this.tg)<=this.PV?!0:!1};d.prototype.oG=function(b){if(!this.NA&&(this.MA&&this.tg.ub(b.ec())||this.tg.ub(b.Cc())))this.yw=
!0;else if(b.ra==this.tg.y&&b.ra==b.oa){if(this.MA&&!this.NA){var a=Math.max(b.ua,b.sa);this.tg.x>Math.min(b.ua,b.sa)&&this.tg.x<a&&(this.yw=!0)}}else{var c=!1,a=Math.max(b.ua,b.sa);this.tg.x>a?c=!0:this.tg.x>=Math.min(b.ua,b.sa)&&(c=0<b.Tq(!0,this.tg.y,this.tx,null)&&this.tx[0]<=this.tg.x);if(c){if(this.tg.y==b.ec().y){if(this.tg.y<b.Cc().y)return}else if(this.tg.y==b.Cc().y&&this.tg.y<b.ec().y)return;this.Ir=this.MA?this.Ir^1:this.Ir+(b.ec().y>b.Cc().y?1:-1)}}};d.prototype.ku=function(b){var a=
b.xf(0,1);if(a.ca>this.CV||a.ha<this.DV)return!1;if(this.NA&&this.XO(b))return!0;if(a.ca>this.tg.y||a.ha<this.tg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.qH(this.dx);if(0<a)for(b=0;b<a;b++){var c=this.dx[b].get();this.oG(c);if(this.yw)return!0}else if(this.oG(b),this.yw)return!0;return!1};d.$=function(b,a,c){a=new d(0==b.xo(),a,c);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(c=b.ba(),a.ku(c))return-1;return a.result()};d.bd=function(b,a,c,f){var h=
new e.h;b.ac(h);h.O(f,f);var l=new d(0==b.xo(),c,f);b=b.Fa();var g=new e.h;g.I(h);g.v=c.x+f;g.A=c.y-f;g.B=c.y+f;c=a.Xz(g,f);for(f=c.next();-1!=f;f=c.next())if(b.Tb(a.ja(f)),b.Ea()&&(f=b.ba(),l.ku(f)))return-1;return l.result()};d.kn=function(b,a,c){if(b.u())return 0;var f=new e.h;b.ac(f);f.O(c,c);if(!f.contains(a))return 0;f=b.ob;if(null!=f){var h=f.Hi;if(null!=h){h=h.rm(a.x,a.y);if(1==h)return 1;if(0==h)return 0}f=f.Mb;if(null!=f)return d.bd(b,f,a,c)}return d.$(b,a,c)};d.WU=function(b,a,c,f){if(b.u())return 0;
var h=new e.h;b.ac(h);h.O(f,f);if(!h.contains(a,c))return 0;h=b.ob;if(null!=h&&(h=h.Hi,null!=h)){h=h.rm(a,c);if(1==h)return 1;if(0==h)return 0}return d.$(b,e.b.pa(a,c),f)};d.VU=function(b,a,c){return a.u()?0:d.kn(b,a.w(),c)};d.yA=function(b,a,c,f,h){var l=new e.h;b.ac(l);l.O(f,f);if(!l.contains(c))return 0;var g=new d(!0,c,f);if(null!=h){var k=new e.h;k.I(l);k.v=c.x+f;k.A=c.y-f;k.B=c.y+f;b=b.Fa();f=h.Xz(k,f);for(k=f.next();-1!=k;k=f.next())if(b.Tb(h.ja(k),a),b.Ea()&&b.Ta==a&&(k=b.ba(),g.ku(k)))return-1}else if(b=
b.Fa(),b.eC(a),b.Ya())for(;b.Ea();)if(k=b.ba(),g.ku(k))return-1;return g.result()};d.xA=function(b,a,c){var f=new e.h;b.ac(f);f.O(c,c);if(!f.contains(a))return 0;a=new d(!1,a,c);for(c=b.Fa();c.Ya();)if(!(0>b.Sm(c.Ta))){for(a.Ir=0;c.Ea();)if(f=c.ba(),a.ku(f))return-1;if(0!=a.Ir)return 1}return a.result()};d.Oi=function(b,a,c,f,h){var l=b.Fa();l.eC(a);if(!l.Ya()||!l.Ea())throw e.g.X("corrupted geometry");for(a=2;2==a&&l.Ea();)a=l.ba().gc(.5),a=d.yA(b,c,a,f,h);if(2==a)throw e.g.X("internal error");return 1==
a?!0:!1};d.qm=function(b,a){b=b.D();return 16>b?!1:2*b+Math.log(b)/Math.log(2)*1*a<1*b*a};return d}();e.ff=d})(m||(m={}));(function(e){var d=function(e){function b(a){e.call(this,!0,a)}O(b,e);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.KH=function(a,b,f){this.EU(a,b,f)};b.prototype.gT=function(){this.yT()};return b}(e.xl);e.Ja=d})(m||(m={}));(function(e){(function(e){e[e.PiPOutside=0]="PiPOutside";
e[e.PiPInside=1]="PiPInside";e[e.PiPBoundary=2]="PiPBoundary"})(e.HN||(e.HN={}));var d=function(){function d(){}d.WH=function(b,a,c){b=e.ff.VU(b,a,c);return 0==b?0:1==b?1:2};d.ge=function(b,a,c){b=e.ff.kn(b,a,c);return 0==b?0:1==b?1:2};d.cX=function(b,a,c,f){b=e.ff.WU(b,a,c,f);return 0==b?0:1==b?1:2};d.m_=function(b,a,c,f){return 0==e.ff.yA(b,a,c,f,null)?0:1};d.xA=function(b,a,c){return 0==e.ff.xA(b,a,c)?0:1};d.MR=function(b,a,c,f,h){if(a.length<c||h.length<c)throw e.g.F();for(var l=0;l<c;l++)h[l]=
d.ge(b,a[l],f)};d.XR=function(b,a,c,f,h){if(a.length/2<c||h.length<c)throw e.g.F();for(var l=0;l<c;l++)h[l]=d.cX(b,a[2*l],a[2*l+1],f)};d.fL=function(b,a,c,f,h){if(1736==b.G())d.MR(b,a,c,f,h);else if(197==b.G()){var l=new e.h;b.s(l);d.NM(l,a,c,f,h)}else throw e.g.X("invalid_call");};d.v_=function(b,a,c,f,h){if(1736==b.G())d.XR(b,a,c,f,h);else if(197==b.G()){var l=new e.h;b.s(l);d.RM(l,a,c,f,h)}else throw e.g.Da();};d.NM=function(b,a,c,f,d){if(a.length<c||d.length<c)throw e.g.F();if(b.u())for(f=0;f<
c;f++)d[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<c;f++)b.contains(a[f])?d[f]=1:b.contains(a[f])?d[f]=2:d[f]=0};d.RM=function(b,a,c,f,d){if(a.length/2<c||d.length<c)throw e.g.F();if(b.u())for(f=0;f<c;f++)d[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<c;f++)b.contains(a[2*f],a[2*f+1])?d[f]=1:b.contains(a[2*f],a[2*f+1])?d[f]=2:d[f]=0};d.ZT=function(b,a,c,f,e){for(var d=0;d<c;d++)e[d]=b.mt(a[d],f)?2:0};d.iS=function(b,a,c,f,e){var d=b.ob,h=null;null!=d&&(h=d.Hi);for(var d=c,g=0;g<c;g++)if(e[g]=
1,null!=h){var k=a[g];0==h.rm(k.x,k.y)&&(e[g]=0,d--)}if(0!=d)for(b=b.Fa();b.Ya()&&0!=d;)for(;b.Ea()&&0!=d;)for(h=b.ba(),g=0;g<c&&0!=d;g++)1==e[g]&&h.mt(a[g],f)&&(e[g]=2,d--);for(g=0;g<c;g++)1==e[g]&&(e[g]=0)};d.gL=function(b,a,c,f,h){var l=b.G();if(1607==l)d.iS(b,a,c,f,h);else if(e.T.Oc(l))d.ZT(b,a,c,f,h);else throw e.g.X("Invalid call.");};return d}();e.gd=d})(m||(m={}));(function(e){var d=function(e){function b(a,b){2==arguments.length?(e.call(this,!1,a.description),this.Rf(a),this.lineTo(b)):e.call(this,
!1,a)}O(b,e);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.KH=function(a,b,f,e){this.FU(a,b,f,e)};return b}(e.xl);e.Ua=d})(m||(m={}));(function(e){var d=function(){function e(){}e.$_=function(){};return e}();e.d_=d})(m||(m={}));(function(e){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(e.eM||(e.eM={}));var d=function(){function a(){this.Jl=
3;this.uz=this.yv=NaN}a.prototype.bU=function(){return this.et(1)};a.prototype.cU=function(){return this.et(2)};a.prototype.et=function(a){return 0!=(this.Jl&a)};a.prototype.Vf=function(){var b=new a;b.yv=this.yv;b.uz=this.uz;b.Jl=this.Jl;return b};return a}();e.OZ=d;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(e.fM||(e.fM={}));var g=function(){function a(){this.Jl=0}a.prototype.et=function(a){return 0!=
(this.Jl&a)};a.oe=function(b){var c=new a;c.Jl=b.Jl;return c};a.prototype.EO=function(a){this.Jl=a.Jl};return a}();e.PZ=g;var b=function(){function a(a,b,d){this.je=a;this.He=b;this.rg=new e.h;this.rg.I(d);this.yV=a.jc()+b.jc()+this.rg.jc().toString()}a.prototype.jc=function(){return this.yV};a.prototype.Eb=function(a){return this==a||this.je.Eb(a.je)&&this.He.Eb(a.He)&&this.rg.Eb(a.rg)};return a}();e.e_=b;b=function(){function a(){this.He=this.je=null;this.DI=new d;this.EI=new g;this.xr=this.ue=
null;this.sr=this.Tl=!0}a.Is=function(b,f,e,d){var c;void 0===d&&(d=null);void 0===c&&(c=null);var h=new a;h.kq(b,f,e,d,c);return h};a.prototype.kq=function(a,b,d,l,g){if(null==a||null==b)throw e.g.X("invalidArgument");this.je=a;this.He=b;this.sr=this.Tl=!1;null!=l&&(this.DI=l.Vf());null!=g&&this.EI.EO(g);g=!1;1==b.Fb()&&null!=l&&(l=l.yv,isNaN(l)||0==l||(g=!0));if(a==b)this.Tl=!g,this.sr=!0;else{l=a.Fb();var c=b.Fb();if(0==l||0==c){if(null!=d)throw e.g.F();null!=a.Nd()&&null!=b.Nd()&&(this.Tl=a.Nd().Eb(b.Nd()))}else 3==
l||3==c?this.Tl=a.Eb(b):this.je.hU(this.He)?this.Tl=!g:this.Tl=!1,this.ue=d,null!=this.ue&&this.ue.Mp(),this.sr=(null==this.ue||0==this.ue.count())&&this.je.kc().Eb(this.He.kc())}this.wL()};a.prototype.Wv=function(){var b=new a;b.je=this.He;b.He=this.je;null!=this.ue&&(b.ue=this.ue.Wv());b.Tl=this.Tl;b.sr=this.sr;b.wL();return b};a.prototype.Ho=function(){return this.Tl};a.prototype.eT=function(){return this.DI.Vf()};a.prototype.Eb=function(b){return b==this?!0:b instanceof a&&this.je.Eb(b.je)&&this.He.Eb(b.He)?
this.ue==b.ue?!0:null!=this.ue&&null!=b.ue&&this.ue.Eb(b.ue)?!0:!1:!1};a.prototype.wL=function(){this.xr=new e.ko(this)};a.u_={};return a}();e.rs=b})(m||(m={}));(function(e){var d=function(){function b(){}b.uq=function(a){return a*b.oO};b.Wx=function(a,c){return b.UN(c-a)};b.bO=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=e.Ub.gM(a);0>a&&(a+=360);return a};b.UN=function(a){a=b.bO(a);180<a&&(a-=360);return a};b.QZ=.0174532925199433;b.oO=57.29577951308232;return b}();e.ls=d;
var g=function(){function b(){}b.Mj=function(a,b){var c=new e.h;a.s(c);var d=e.fb.Bh(b),l=new e.h;l.I(d);l.o=c.o;l.v=c.v;l.O(.01*l.fa(),0);d=e.na.be(b,c,!1);return l.contains(c)?a:e.ne.clip(a,l,d,0)};b.ht=function(a,c,f,d,l){if(!e.fb.Jc(c))throw e.g.F();var h=e.na.ah(c,a,!1),g=e.fb.Bh(c),k=e.fb.kc(c),m=k.Nd().Ai,t=e.fb.hw(k),k=e.fb.Sv(k),t=t*(2-t),n=new e.Ac;g.Sn(n);var p=[[0,0],[0,0]];2==e.Sd.Fb(c)?d?(p[0][0]=b.Nn(l,n),p[0][1]=g.Cq(),e.fb.lu(),g=p[0][0]*m):(p[0][0]=g.Hk(),p[0][1]=l,e.fb.lu(),g=p[0][1]*
m):g=l*m;if(!d&&0!=g)throw e.g.F();var r=new e.ea,q=new e.fd;a=q.Jb(a);for(var v=[0],w=new e.b,y=new e.b,E=new e.b,A=new e.b,B=new e.b,D=new e.b,C=q.Pb(a);-1!=C;C=q.Sb(C)){var I=q.cb(C);q.w(I,E);for(var G=!1,F=I=q.U(I);-1!=F;F=q.U(F)){if(F==I){if(G)break;G=!0}q.w(F,A);if(d&&h<l-E.x&&A.x-l>h||h<l-A.x&&E.x-l>h||!d&&h<-E.y&&A.y>h||h<-A.y&&E.y>h){do if(!(Math.abs(E.x-A.x)>=.5*n.N())){2==e.Sd.Fb(c)?(p[0][0]=b.Nn(E.x,n),p[0][1]=E.y,p[1][0]=b.Nn(A.x,n),p[1][1]=A.y,e.fb.UW(),B.x=p[0][0]*m,B.y=p[0][1]*m,D.x=
p[1][0]*m,D.y=p[1][1]*m):(B.x=E.x*m,B.y=E.y*m,D.x=A.x*m,D.y=A.y*m);D.x=6.283185307179586*(A.x-E.x)/n.N()+B.x;if(d){if(y.x=g,y.y=b.EB(k,t,B,D,g,f),isNaN(y.y))break}else{y.x=b.CB(k,t,B,D,f);if(isNaN(y.x))break;y.y=0}e.mb.Ld(k,t,B.x,B.y,D.x,D.y,r,null,null,f);var L=r.j;e.mb.Ld(k,t,B.x,B.y,y.x,y.y,r,null,null,f);var H=r.j;2==e.Sd.Fb(c)?(p[0][0]=y.x/m,p[0][1]=y.y/m,e.fb.TS(),d?(w.y=p[0][1],w.x=l):(w.x=b.Zp(p[0][0],E.x,A.x,n),w.y=l)):d?(w.x=l,w.y=y.y/m):(w.x=b.Zp(y.x/m,E.x,A.x,n),w.y=l);v[0]=0<L?e.J.pk(H/
L,0,1):.5;0!=v[0]&&1!=v[0]&&(L=q.Ra(F),q.zm(L,v,1),q.rb(q.U(L),w.x,w.y))}while(0)}E.L(A)}}return q.Se(a)};b.Xm=function(a,c,f,d,l){if(a.u())return a;var h=e.fb.ee(c);return b.Aq(a,f-180*h,360*h,c,d,l,!0)};b.EB=function(a,c,f,d,l,g){if(3.141592653589793<=Math.abs(f.x-d.x)||!b.Cj(f.x,d.x,l))return NaN;var h;f.x>d.x?h=d:(h=f,f=d);d=new e.ea(0);var u=new e.ea(0),k=new e.ea(0);e.mb.Ld(a,c,h.x,h.y,f.x,f.y,u,d,null,g);var m=u.j,t=0,n=1,p=new e.b;for(p.L(h);m*(n-t)>1E-12*a;){var r=.5*(t+n);e.mb.Oj(a,c,h.x,
h.y,m*r,d.j,u,k,g);p.x=u.j;p.y=k.j;if(p.x==l)break;if(b.Cj(h.x,p.x,l))n=r;else if(b.Cj(f.x,p.x,l))t=r;else return NaN}return p.y};b.Cj=function(a,b,f){a=d.uq(a);b=d.Wx(a,d.uq(b));f=d.Wx(a,d.uq(f));return 0==f||0<b&&0<f&&f<=b||0>b&&0>f&&f>=b?!0:!1};b.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};b.Zp=function(a,b,f,d){var c=new e.Ac;c.I(b,f);f=d.N();a=Math.floor((a-b)/f)*f+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+f-c);)a+=f;return a};b.CB=function(a,b,f,d,l){var c;f.y>d.y?
c=d:(c=f,f=d);d=new e.Ac;d.I(c.y,f.y);if(!d.contains(0)||3.141592653589793<=Math.abs(c.x-f.x))return NaN;if(c.x==f.x)return c.x;var h=new e.ea(0),g=new e.ea(0),k=new e.ea(0);e.mb.Ld(a,b,c.x,c.y,f.x,f.y,g,h,null,l);var m=g.j,t=0,n=1,p=new e.b;for(p.L(c);m*(n-t)>1E-12*a;){var r=.5*(t+n);e.mb.Oj(a,b,c.x,c.y,m*r,h.j,g,k,l);p.x=g.j;p.y=k.j;d.I(c.y,p.y);if(0==p.y)break;if(d.contains(0))n=r;else if(d.I(f.y,p.y),d.contains(0))t=r;else return NaN}return p.x};b.Aq=function(a,b,f,d,l,g,k){var c=new e.h;a.s(c);
if(c.u())return a;var h=new e.Ac;c.Sn(h);var u=new e.Ac;u.I(b,b+f);if(u.contains(h)&&u.ha!=h.ha)return a;var m=new e.h;m.I(c);var x=a.G();if(33==x){m=l?a:a.Vf();c=m.Be();if(c<u.ca||c>=u.ha||k&&c==u.ha)c+=Math.ceil((u.ca-c)/f)*f,c=u.wu(c),m.AC(c);return m}if(550==x){m=l?a:a.Vf();d=m.Pa(0);x=2*m.D();a=!1;for(l=0;l<x;l+=2)if(c=d.read(l),c<u.ca||c>=u.ha||k&&c==u.ha)a=!0,c+=Math.ceil((u.ca-c)/f)*f,c=u.wu(c),d.write(l,c);a&&m.Dc(1993);return m}if(u.contains(h))return a;if(197==x)return f=l?a:a.Vf(),c.Ma(m),
f.Gp(c),f;var t=.1*Math.max(c.fa(),c.N());m.O(0,t);k=a;u=d.re(0);a=e.ei.local();l=new e.Hd;for(var n=0;;){var p=Math.floor((h.ca-b)/f),r=Math.ceil((h.ha-b)/f);if(3<r-p){p=Math.floor(.5*(r+p));m.o=c.o-t;m.v=b+f*p;var q=e.ne.clip(k,m,u,g);m.o=m.v;m.v=c.v+t;var v=e.ne.clip(k,m,u,g);l.Ag((p-r)*f,0);v.Xc(l);1736==x?k=a.V(q,v,d,null):(k=q,k.add(v,!1));k.s(c);c.Sn(h);n++}else break}m.o=b;m.v=b+f;b=new e.h;b.I(m);b.O(u,0);b=Math.floor((c.o-m.o)/f)*f;0!=b?(m.move(b,0),l.Ag(-b,0)):l.pC();b=1607==x?new e.Ua(k.description):
new e.Ja(k.description);g=new e.h;for(h=new e.h;c.v>m.o;){t=e.ne.clip(k,m,u,0);t.s(h);if(1607==x?!t.u()&&(h.N()>u||h.fa()>u):!t.u()&&(1736!=x||h.N()>u))t.Xc(l),t.s(h),b.s(g),g.O(u,u),g.Yb(h)&&1736==x?b=a.V(b,t,d,null):b.add(t,!1);m.move(f,0);l.shift(-f,0)}return b};b.OJ=function(a,b,f,d,l){var c=new e.Ed(f.description);c.Id(f,0,-1);l=e.fb.Xg(c,a,b,l);c=f.D();d.Oa();if(!e.fb.Jc(a)||c!=l.D())return!1;var h=new e.h;f.s(h);var g=new e.h;l.s(g);h=h.N();g=g.N();if(0!=h&&0!=g){if(g/=h,a=e.fb.Bh(b).N()/e.fb.Bh(a).N(),
1E-10<Math.abs(g/a-1))return!1}else if(0!=h||0!=g)return!1;d.add(f,!1);for(f=0;f<c;f++)a=l.Ba(f),d.rb(f,a);return!0};b.uA=function(){throw e.g.df();};return b}();e.gi=g})(m||(m={}));(function(e){(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(e.di||(e.di={}));var d=e.di;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(e.lD||
(e.lD={}));var g=e.lD,b=function(){function a(){}a.iw=function(a,b,d){if(d||0<b){a=a.toString(e.Vc.PE_STR_NAME_CANON|e.Vc.PE_STR_AUTH_NONE);b=[];for(d=0;d<a.length;d++)b[d]="a"<=a[d]&&"z">=a[d]?b[d]=a[d].toUpperCase():a[d];return b.join()}return a.toString(e.Vc.PE_STR_AUTH_TOP)};a.qs=function(a,b,d,l){var c=l.length,f=d.D();if(0!=f){var h=d.Pa(0),g=Math.min(f,c),k=0,m=a.Kg();isNaN(b)&&(b=0);var t=a.Jc();a=t?a.kc().qe().N():0;for(var n=179*a/360;0<f;){h.Hx(k<<1,g,l,0,!0);e.fi.projToGeogCenter(m,g,
l,b);if(t)for(var p=0;p<g;p++){var r=l[p][0]-b,q=e.Ub.sign(r),v=h.read(2*(k+p));0>q*e.Ub.sign(v)&&Math.abs(r)>n&&(l[p][0]+=-q*a)}h.hy(k<<1,g,l,0,!0);k+=g;f-=g;g=Math.min(f,c)}d.Dc(1993)}};a.J_=function(a,b,d,l){var c=a.Kg();isNaN(b)&&(b=0);var f=d.Be();l[0][0]=f;l[0][1]=d.nf();e.fi.projToGeogCenter(c,1,l,b);a.Jc()&&(b=e.Ub.sign(l[0][0]-b),0>b*e.Ub.sign(f)&&(a=a.kc().qe().N(),Math.abs(l[0][0])>179*a/360&&(l[0][0]-=b*a)));d.rb(l[0][0],l[0][1])};a.wN=function(a,b,d,l){var c=0,f=a.Kg();isNaN(c)&&(c=0);
var h=a.Jc(),g=a.ee();a=360*g;for(var g=179*g,k=l.length,m=0;m<d;){for(var t=m;t<d&&b[t].isNaN();++t)m++;var n=Math.min(k,d-m);if(0<n){for(var t=1,p=m+1;t<n;++t,++p)if(b[p].isNaN()){n=t;break}e.na.oz(l,b,m,n);e.fi.projToGeogCenter(f,n,l,c);if(h)for(t=0,p=m;t<n;++t,++p){var r=b[p].x,q=l[t][0]-c,v=e.Ub.sign(q);0>v*e.Ub.sign(r)&&Math.abs(q)>g&&(l[t][0]-=v*a)}e.na.nz(b,m,l,n);m+=n}}};a.vy=function(a,b,d){var c=d.length,f=b.D();if(!(1>f)){var h=b.Pa(0),g=Math.min(f,c),k=0,m=a.Kg(),t=a.Jc(),n=t?a.qe().N():
0,p=179*n/360,r=0;for(t&&(r=a.pi());0<f;){h.Hx(k<<1,g,d,0,!0);e.fi.geogToProj(m,g,d);if(t)for(a=0;a<g;a++){var q=d[a][0],v=e.Ub.sign(q),w=h.read(2*(k+a))-r;0>v*e.Ub.sign(w)&&Math.abs(q)>p&&(d[a][0]+=-v*n)}h.hy(k<<1,g,d,0,!0);k+=g;f-=g;g=Math.min(f,c)}b.Dc(1993)}};a.B_=function(a,b,d){if(!b.u()){var c=a.Kg();d[0][0]=b.Be();d[0][1]=b.nf();e.fi.geogToProj(c,1,d);if(a.Jc()){var c=e.Ub.sign(d[0][0]),f=a.pi();0>c*e.Ub.sign(b.Be()-f)&&(a=a.qe().N(),Math.abs(d[0][0])>179*a/360&&(d[0][0]-=c*a))}b.rb(d[0][0],
d[0][1])}};a.vN=function(a,b,d,l){if(0!=d){var c=a.Kg(),f=a.Jc(),h=f?a.qe().N():0,g=179*h/360,k=0;f&&(k=a.pi());for(a=0;a<d;){for(var m=a;m<d&&b[m].isNaN();++m)a++;var t=Math.min(l.length,d-a);if(0<t){for(var m=1,n=a+1;m<t;++m,++n)if(b[n].isNaN()){t=m;break}e.na.oz(l,b,a,t);e.fi.geogToProj(c,t,l);if(f)for(m=0,n=a;m<t;m++){var p=l[m][0],r=e.Ub.sign(p);0>r*e.Ub.sign(b[n].x-k)&&Math.abs(p)>g&&(l[m][0]-=r*h)}e.na.nz(b,a,l,t);a+=t}}}};a.ps=function(a,b,d,l){var c=b.D();if(0!=c){var f=b.Pa(0),h=a.je,g=
a.He,k=h.kc().Yi(),m=g.kc().Yi(),t=h.ee(),n=g.ee();a=a.ue;if(null==a||0==a.count()){d=k/m;l=(h.dn()-g.dn())*n;m=-90*t;a=90*t;k=!1;n=1;for(h=2*c;n<h;)t=f.get(n),g=e.J.pk(t,m,a),g!=t&&(f.set(n,g),k=!0),n+=2;if(0!=l||1!=d)for(k=!0,m=new e.b,n=0;n<c;n++)f.fc(2*n,m),m.x*=d,m.x+=l,m.y*=d,f.fo(2*n,m);k&&b.Dc(1993)}else{var h=l.length,g=Math.min(c,h),p=e.J.gf(g),r=null,q=0,v=NaN,w=NaN,y=360*n,E=n/t;d&&(w=90*n,v=89.9*t,r=e.J.gf(g));for(var A=!0,B=0;0!=c;){t=!1;f.Hx(q<<1,g,l,0,!0);for(n=0;n<g;n++)p[n]=l[n][0];
if(d)for(n=0;n<g;n++){var D=Math.abs(l[n][1])-v;0<D&&(t=l[n][1],l[n][1]=e.Ub.Fl(v,t),r[n]=e.Ub.Fl(D,t),t=!0)}n=l[0][0];a.transform(l,g,k,m);A&&(B=l[0][0]-E*n,A=!1);for(n=0;n<g;n++)D=l[n][0]-p[n]*E-B,200<Math.abs(D)&&(l[n][0]=0<D?l[n][0]-y:l[n][0]+y);if(t){for(n=0;n<g;n++)0!=r[n]&&(l[n][1]+=E*r[n],l[n][1]>w?l[n][1]=w:l[n][1]<-w&&(l[n][1]=-w));for(t=0;t<g;t++)r[t]=0}f.hy(q<<1,g,l,0,!0);q+=g;c-=g;g=Math.min(c,h)}b.Dc(1993)}}};a.A_=function(a,b,d,l){if(b.u())return!1;var c=a.je,f=a.He,h=a.ue,g=c.kc().Yi(),
k=f.kc().Yi();l[0][0]=b.Be();l[0][1]=b.nf();if(null!=h&&0<h.count()){a=!0;var m=!1,t=NaN,n=0,p=1;d&&(d=c.ee(),t=f.ee(),p=t/d,t*=90,c=89.9*d,f=Math.abs(l[0][1])-c,0<f&&(m=l[0][1],l[0][1]=e.Ub.Fl(c,m),n=e.Ub.Fl(f,m),m=!0));h.transform(l,1,g,k);m&&0!=n&&(l[0][1]+=p*n,l[0][1]>t?l[0][1]=t:l[0][1]<-t&&(l[0][1]=-t));b.rb(l[0][0],l[0][1])}else{d=c.ee();a=e.J.pk(l[0][1],-90*d,90*d)!=l[0][1];t=f.ee();h=(c.dn()-f.dn())*t;g/=k;if(1!=g||0!=h)a=!0,l[0][0]*=g,l[0][0]+=h,l[0][1]*=g;a&&b.rb(l[0][0],l[0][1])}return a};
a.uN=function(a,b,d,l){var c;if(a.sr)l=90*a.je.ee(),e.na.VK(b,d,-l,l);else{var f=a.ue,h=a.je,g=a.He;a=h.Xs();var k=g.Xs(),m=h.ee(),t=90*m,n=g.ee();if(null==f||0==f.count()){if(l=a/k,f=(h.dn()-g.dn())*n,e.na.VK(b,d,-t,t),0!=f||1!=l)for(n=0;n<d;n++)b[n].x*=l,b[n].x+=f,b[n].y*=l}else for(var h=Math.min(d,l.length),t=e.J.gf(h),g=360*n,m=n/m,p=!0,r=0,q=0;0!=d;){for(n=0;n<h;n++)t[n]=b[n+q].x;n=b[0].x;e.na.oz(l,b,q,h);f.transform(l,h,a,k);e.na.nz(b,q,l,h);p&&(r=b[0].x-m*n,p=!1);for(n=0;n<h;n++)c=b[q+n].x-
t[n]*m-r,200<Math.abs(c)&&(b[q+n].x=0<c?b[q+n].x-g:b[q+n].x+g);q+=h;d-=h;h=Math.min(d,l.length)}}};a.ZZ=function(b,f,e,d){return a.Xm(b,f,isNaN(e)?0:e,!0,d,null)};a.Vu=function(a,b){a=a.Bh();isNaN(b)||a.xv(b,0);return a};a.KS=function(b,f,d,l,g,k,m,t){for(var c=a.Vu(l,g),h=c.N(),u=h/360,n=a.kE*u,x=b.Pa(0),p=f.Jc(),z=p?h/f.qe().N():0,r=!1,q=new e.Ja(d.description),v=0,w=d.aa();v<w;++v){var y=p,E=new e.Ua(d.description);E.Ti(d,v,!0);if(0!=m){var A=a.aE(!0,E,c.B-t,c.B,m);(r=r||A)&&(y=!1)}var S=-1;y&&
(S=b.wa(v));var B=E.Pa(0),D=E.D(),C=0,I=B.read(0),G=0,A=3*l.re(0),F=!1,L=new e.b;L.$c();var H=new e.b;H.$c();for(var K=!1,Q=1;Q<D;++Q){var J=e.b.pa(B.Of(2*Q),B.Of(2*Q+1)),N=J.x,M=N+C,X=M-I;J.x=M;if(Math.abs(X)>n){if(y){var R=S+(Q+1<D?Q:0),O=x.read(2*(S+Q-1)),R=(x.read(2*R)-O)*z;Math.abs(X-R)>1*u&&(y=!1)}y||(C-=e.Ub.Fl(h,M-I),M=N+C,++G,K=0!=C,J.x=M)}else F||e.na.NH(H,L,J,A)&&(F=!0);K&&B.write(2*Q,M);I=M;H.L(L);L.L(J)}0<G&&E.Dc(1993);y=E.Ba(0);D=E.Ba(D-1);E=e.b.Cb(y,D)<A?a.TR(E,l,g,k,F):a.gS(b,v,E,
l,g);q.add(E,!1)}g=l.re(0);d=c.N()/180;a.xu(q,c,.1*g,!1);g=e.uh.clip(q,c,g,d,k);q=q!=g;b=b.hf();t=g.hf();m=0;0<t&&0>b?m=1:0>=t&&0<b&&(0==t?(t=NaN,2==f.Fb()?t=f.Mk().hf():1==f.Fb()&&(t=f.qe().IG()),b>.99*t&&(m=-1)):m=-1);0!=m&&(f=new e.Ja(g.description),f.oq(c),f=e.Jm.local().V(f,d,k),f.add(g,!1),q=!0,g=f);q&&(g=e.Km.local().V(g,l,!1,k));return g};a.gS=function(b,f,d,l,g){var c=d.D(),h=d.Ba(0),k=d.Ba(c-1);l=a.Vu(l,g);g=l.N();var h=e.Ub.sign(k.x-h.x),u=new e.h;d.ac(u);var m=l.Hk(),t,k=m-g,m=m+g;if(0<=
h){for(var n=Math.ceil((k-u.o)/g),n=n*g;k>u.o+n;)n+=g;for(;k<u.v+n;)n-=g;t=n;720<u.N()&&(m=k+360*Math.ceil(u.N()/360))}else{n=Math.ceil((m-u.v)/g);for(n*=g;m<u.v+n;)n-=g;for(;m>u.o+n;)n+=g;t=n;720<u.N()&&(k=m-360*Math.ceil(u.N()/360))}var n=h*g,p=e.h.pa(u.o,u.A,u.v,u.B);p.move(t,0);var r=new e.Hd;r.Ag(t,0);d.Xc(r);u=new e.Ua(d.description);u.add(d,!1);t=d.Ba(c-1);g=0;for(var q=u.Ba(0).x,v=0;0<h?p.v<m:p.o>k;)1024<=v&&(v=0),p.move(n,0),r.Wb=n,d.Xc(r),q+=n,l.o<=q&&l.v>=q&&(g=u.D()-1),d.rb(0,t),t=d.Ba(c-
1),u.Bs(d,0,0,c-1,!1);d=new e.Ja(u.description);c=0<b.Sm(f);d.add(u,!1);b=u.Ba(0);k=u.Ba(u.D()-1);f=d.aa()-1;(0>h?c:!c)?(h=e.b.pa(k.x,l.B),d.aj(h),h=e.b.pa(l.Hk(),l.B),d.aj(h),l=e.b.pa(b.x,l.B)):(h=e.b.pa(k.x,l.A),d.aj(h),h=e.b.pa(l.Hk(),l.A),d.aj(h),l=e.b.pa(b.x,l.A));d.aj(l);d.KH(0,f,0);d.nQ(g);return d};a.TR=function(b,f,d,l,g){var c=new e.Ja(b.description);c.add(b,!1);c.cC(0,c.D()-1);var h=new e.h;c.ac(h);d=a.Vu(f,d);for(var k=d.N(),u=Math.ceil((d.o-h.o)/k),u=u*k;d.o>h.o+u;)u+=k;for(;d.o<h.v+
u;)u-=k;u+=k;if(0!=u){h.move(u,0);var m=new e.Hd;m.Ag(u,0);c.Xc(m)}if(d.o<=h.o&&d.v>h.v)return g&&(g=c.hf(),c=e.Km.local().V(c,f,!0,l),f=c.hf(),(f=e.Ub.sign(g)!=e.Ub.sign(f))&&c.eK()),c;b=new e.Ja(b.description);b.add(c,!1);for(g=g||h.N()>k-f.re(0);h.o<d.v;)h.move(k,0),m=new e.Hd,m.Ag(k,0),c.Xc(m),b.add(c,!1);g&&(g=b.hf(),b.Hp(1),b=e.Km.local().V(b,f,!0,l),f=b.hf(),(f=e.Ub.sign(g)!=e.Ub.sign(f))&&b.eK());return b};a.aE=function(a,b,d,l,g){for(var c=b.Pa(0),f=b.D(),h=!1,k=0;k<f;k++){var u=e.b.pa(c.Of(2*
k),c.Of(2*k+1));if(0!=(g&1)&&u.y>=d){h=!0;break}if(0!=(g&2)&&u.y<=-d){h=!0;break}}if(!h)return!1;c=!1;a&&(c=b.Eo(0));a=new e.fd;var f=a.Jb(b),h=a.Pb(f),m=-1,t=!0,n=new e.b;n.$c();for(var k=new e.Wa,p=-1,r=a.cb(h);-1!=r;r=a.U(r)){var u=a.Ba(r),q=0!=(g&1)&&90<=u.y?1:0,q=q|(0!=(g&2)&&u.y<=-d?2:0);if(0<m&&m!=q){if(n.x!=u.x){n.x=u.x;a.wj(a.Ra(r),k);var v=a.Wj(h,r,k);a.Qf(v,n)}if(c)for(p=-1!=p?a.U(p):a.cb(h),v=a.Ra(r);p!=v;)p=a.ud(p,!1);p=-1}0<q&&(u.y=e.Ub.Fl(l,u.y),a.Qf(r,u),t||m==q||(u.x!=n.x?(a.wj(r,
k),v=a.Wj(h,r,k),a.rb(v,n.x,u.y),p=v):p=r));m=q;n=u;t=!1}if(c){if(-1!=p)for(p=a.U(p);-1!=p;)p=a.ud(p,!1);d=a.cb(h);a.Uq(d,a.Rj(h))||(a.wj(d,k),a.Wj(h,-1,k))}a.Se(f).copyTo(b);return!0};a.zZ=function(a,b){var c=0,f=a.La(b);b+=1;for(var e=a.aa();b<e&&!(0<a.Sm(b));++b)c++;return 64<f&&3<=c};a.tA=function(b,f,h,l){var c=b;if(c.u()||h==d.DontClip)return c;var g=c.G();if(33==g)return l=c,c=[l.w()],a.LH(c,1,f,h),c[0].isNaN()?l.Oa():l.rb(c[0]),b;b=f.kc();var k=b.ee(),m=90*k,t=180*k,n=360*k,p=f.pi(),r=.5*
k,q=new e.h;c.s(q);var v=f.Vs(),w=f.DS(),y=197==v.G();f=new e.h;v.s(f);h==d.PannableFold&&(h=b.qe().N(),f.o=p-.5*h,f.v=f.o+h);if(q.A<-m||q.B>m){(new e.h).I(q.o-k,-m,q.v+k,m);c=e.uh.rq(c,f,b,NaN,0,l);if(c.u())return c;c.s(q)}if(w&&(f.B<q.A||f.A>q.B))return c.Ka();q.N()>n&&(c=a.Aq(c,p-t,n,b,!0,0,!0,l),c.s(q));m=a.CN(q.o,q.v,f.o,f.v,n);0!=m&&q.move(m,0);if(q.v>f.v||q.o<f.o){if(q.v>f.v)for(;q.o>=f.v;)q.move(-n,0),m-=n;for(;q.o<f.v-n;)q.move(n,0),m+=n}h=e.na.vv(b,v);0!=m&&(k=new e.Hd,k.Ag(m,0),c.Xc(k));
if(w){if(y&&f.contains(q))return c;w=[null,null];for(m=0;2>m;m++){y?k=e.T.Ic(g)?e.uh.clip(c,f,h,r,l):e.uh.clip(c,f,h,0,l):(k=e.tk.local().V(c,v,b,l),k==v&&(k=e.T.oe(k)));if(f.o<=q.o&&f.v>=q.v||f.o>=q.o&&f.v<=q.v)return k;w[m]=k;0==m&&(q.move(-n,0),k=new e.Hd,k.Ag(-n,0),c.Xc(k))}if(550==g)w[0].Id(w[1],0,-1);else if(e.T.Ic(g))w[0].add(w[1],!1);else if(33==g)w[0].u()&&(w[0]=w[1]);else throw e.g.X("intersect_with_GCS_horizon: unexpected geometry type");return w[0]}if(f.B<q.A||f.A>q.B)return c;for(g=0;!c.u()&&
q.v>f.o;)0!=g&&(k=new e.Hd,k.Ag(g,0),c.Xc(k)),e.Gj.local().V(4,c,v,b,l)||(c=e.cq.local().V(c,v,b,l),v==c&&(c=e.T.oe(c))),0!=g&&(r=new e.Hd,r.Ag(-g,0),c.Xc(r)),g-=n,q.move(-n,0);return c};a.LH=function(b,f,h,l){if(0!=f&&l!=d.DontClip)if(l==d.PannableFold){l=h.AT();for(var c=f,g=0;g<f;g++)if(b[g].y>l.B||b[g].y<l.A)b[g].$c(),c--;0!=c&&a.Uu(b,f,l.o,l.N())}else{l=h.ee();var k=90*l,m=180*l;l*=360;c=f;for(g=0;g<f;g++)if(b[g].y>k||b[g].y<-k)b[g].$c(),c--;if(0!=c){c=new e.h;c.Mx(b,f);var k=h.Vs(),t=h.Uv(),
g=197==k.G(),n=new e.h;k.s(n);if(!t||!(n.B<c.A||n.A>c.B))if(t)if(a.Uu(b,f,n.Hk()-m,l),c=f,g)for(g=0;g<f;g++)n.contains(b[g])||(b[g].$c(),c--);else for(h=e.na.vv(h.kc(),k),g=0;g<f;g++)(m=0!=e.gd.ge(k,b[g],h))||(b[g].$c(),c--);else for(a.Uu(b,f,-m,l),c=f,h=e.na.vv(h.kc(),k),g=0;g<f;g++)if(m=b[g],m.isNaN()&&c--,t=a.pE(m.x,n.o,n.v,l),m.x+=t,m=0!=e.gd.ge(k,m,h))b[g].$c(),c--}}};a.b_=function(a,b,d){if(0<=b&&!a.Qb(b))return 0;var c=0;if(1==d.Fb())return b=90*d.ee(),b-=2*b/Math.PI*e.Vc.PE_HORIZON_DELTA,
d=new e.h,a.s(d),d.B>=b&&(c=1),d.A<=-b&&(c|=2),c;var f=d.Sj();if(null==f)return 0;var h=null;0<=b&&(h=a);for(var g=0;2>g;g++)if((0<g?f.getSouthPoleLocation():f.getNorthPoleLocation())!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY){var k=d.dA(0<g);k.isNaN()||(k=0>b?e.ff.xA(a,k,0):e.ff.yA(h,b,k,0,null),c|=k<<g)}return c};a.Aq=function(a,b,d,l,g,k,m,t){var c=a.G(),f=b+d;if(33===c){l=g?a:a.Vf();var h=l.Be();if(h<b||h>=f||m&&h==f)h+=Math.ceil((b-h)/d)*d,h=e.J.pk(h,b,f),l.AC(h);return l}if(a.u())return a;h=new e.h;a.s(h);
if(h.u())return a;var u=new e.Ac;h.Sn(u);var n=new e.Ac;n.I(b,f);if(n.contains(u))return a;f=new e.h;f.I(h);if(550===c){l=g?a:a.Vf();t=l.Pa(0);c=2*l.D();f=!1;for(b=0;b<c;b+=2)if(h=t.read(b),h<n.ca||h>=n.ha||m&&h==n.ha)f=!0,h+=Math.ceil((n.ca-h)/d)*d,h=n.wu(h),t.write(b,h);f&&l.Dc(1993);return l}if(197==c)return d=g?a:a.Vf(),h.Ma(f),d.Gp(h),d;var x=.1*Math.max(h.fa(),h.N());f.O(0,x);m=a;n=l.re(0);a=e.ei.local();for(g=new e.Hd;;){var p=Math.floor((u.ca-b)/d),r=Math.ceil((u.ha-b)/d);if(3<r-p){p=Math.floor(.5*
(r+p));f.o=h.o-x;f.v=b+d*p;var z=e.uh.clip(m,f,n,k,t);f.o=f.v;f.v=h.v+x;var q=e.uh.clip(m,f,n,k,t);g.Ag((p-r)*d,0);q.Xc(g);1736==c?m=a.V(z,q,l,null):(m=z,m.add(q,!1));m.s(h);h.Sn(u)}else break}f.o=b;f.v=b+d;b=new e.h;b.I(f);b.O(n,0);b=Math.floor((h.o-f.o)/d)*d;0!=b?(f.move(b,0),g.Ag(-b,0)):g.pC();b=1607==c?new e.Ua(m.description):new e.Ja(m.description);k=new e.h;for(u=new e.h;h.v>f.o;){x=e.uh.clip(m,f,n,0,t);x.s(u);if(1607==c?!x.u()&&(u.N()>n||u.fa()>n):!x.u()&&(1736!=c||u.N()>n))x.Xc(g),x.s(u),
b.s(k),k.O(n,n),k.Yb(u)&&1736==c?b=a.V(b,x,l,null):b.add(x,!1);f.move(d,0);g.shift(-d,0)}return b};a.Uu=function(a,b,d,l){for(var c=d+l,f=0;f<b;f++){var h=a[f].x;d<=h&&h<c||!(h<d||h>c||h==c)||(h+=Math.ceil((d-h)/l)*l,h=e.J.pk(h,d,c),a[f].x=h)}};a.Xm=function(b,f,d,l,g,k){if(!f.Jc())throw e.g.X("fold_into_360_degree_range");if(b.u())return b;var c;if(2==f.Fb())d=f.bw(),c=f.aw()-d;else{var h=f.ee();c=360*h;d-=180*h}return a.Aq(b,d,c,f,l,g,!0,k)};a.BG=function(b,f,e,d){if(2==e.Fb())d=e.bw(),e=e.aw()-
d;else{var c=e.ee();e=360*c;d-=180*c}a.Uu(b,f,d,e)};a.Mj=function(a,b){var c=b.qe();if(33==a.G()){var f=a.nf();return c.A<=f&&f<=c.B?a:a.Ka()}f=new e.h;a.s(f);var d=new e.h;d.I(c);d.o=f.o;d.v=f.v;d.O(.01*d.fa(),0);c=e.na.$y(b,f);return d.contains(f)?a:e.uh.clip(a,d,c,0,null)};a.Im=function(a,b,e){return a>b.v&&a-b.v<e?b.v:a<b.o&&b.o-a<e?b.o:a};a.zY=function(b,f,e,d){d.x=a.Im(b.x,f,e);d.y=b.y};a.yY=function(b,f,e,d){for(var c=0;c<f;c++)b[c].y<e.A||b[c].y>e.B?b[c].$c():b[c].x=a.Im(b[c].x,e,d)};a.xu=
function(b,f,d,l){if(!b.u()){var c=b.G();if(!l||1736!=c)if(e.T.gh(c)){l=b.Pa(0);for(var c=0,h=b.D();c<h;c++){var g=l.read(2*c),k=a.Im(g,f,d);k!=g&&l.write(2*c,k)}b.Dc(1993)}else if(197==c)l=new e.h,b.s(l),l.o=a.Im(l.o,f,d),l.v=a.Im(l.v,f,d),b.Gp(l);else if(33==c)b.AC(a.Im(b.Be(),f,d));else throw e.g.X("internal error");}};a.pU=function(b,f,d,l){var c=new e.fd,h=c.Jb(b);b=e.na.vv(f,b);a.ht(c,h,f,b,d,!0,l);return c.Se(h)};a.ht=function(b,f,d,l,k,m,t){if(!d.Jc())throw e.g.F("invalid call");var c=d.qe(),
h=d.kc(),u=h.Kg().getDatum().getSpheroid(),h=h.Nd().Ai,n=u.getFlattening(),u=u.getAxis(),n=n*(2-n),x=new e.Ac;c.Sn(x);var p=null,r=[[0,0],[0,0]];2==d.Fb()?(p=d.Kg(),m?(r[0][0]=a.Nn(t,x),r[0][1]=c.Cq(),e.fi.projToGeog(p,1,r),c=r[0][0]*h):(r[0][0]=c.Hk(),r[0][1]=t,e.fi.projToGeog(p,1,r),c=r[0][1]*h)):c=t*h;if(!m&&0!=c&&k!=g.GreatElliptic)throw e.g.X("invalid argument");var z=new e.ea,q=[0],v=new e.b,w=new e.b,y=new e.b,E=[null,null],A=new e.b,B=new e.b,D=new e.b,C=new e.b;for(f=b.Pb(f);-1!=f;f=b.Sb(f)){var I=
b.cb(f);b.w(I,A);for(var G=!1,F=I=b.U(I);-1!=F;F=b.U(F)){if(F==I){if(G)break;G=!0}b.w(F,B);if(m&&(l<t-A.x&&B.x-t>l||l<t-B.x&&A.x-t>l)||!m&&(0!=t||l<-A.y&&B.y>l||l<-B.y&&A.y>l)){do if(!(Math.abs(A.x-B.x)>=.5*x.N())){2==d.Fb()?(r[0][0]=a.Nn(A.x,x),r[0][1]=A.y,r[1][0]=a.Nn(B.x,x),r[1][1]=B.y,e.fi.projToGeogCenter(p,2,r,0),D.x=r[0][0]*h,D.y=r[0][1]*h,C.y=r[1][1]*h):(D.x=A.x*h,D.y=A.y*h,C.y=B.y*h);C.x=2*(B.x-A.x)*Math.PI/x.N()+D.x;var L;if(m){w.x=c;w.y=a.EB(u,n,D,C,c,k);if(isNaN(w.y))break;E[0]=w;L=1}else if(k==
g.GreatElliptic){var H=[0,0];L=e.yy.uA(u,n,D,C,c,H);if(0==L)break;w.x=H[0];w.y=c;E[0]=w;2==L&&(y.x=H[1],y.y=c,E[1]=y)}else{w.x=a.CB(u,n,D,C,k);if(isNaN(w.x))break;w.y=0;E[0]=w;L=1}for(var K=-1,H=0;H<L;H++){e.mb.Ld(u,n,D.x,D.y,C.x,C.y,z,null,null,k);var Q=z.j;e.mb.Ld(u,n,D.x,D.y,E[H].x,E[H].y,z,null,null,k);var J=z.j;2==d.Fb()?(r[0][0]=E[H].x/h,r[0][1]=E[H].y/h,e.fi.geogToProj(p,1,r),m?(v.y=r[0][1],v.x=t):(v.x=a.Zp(r[0][0],A.x,B.x,x),v.y=t)):m?(v.x=t,v.y=E[H].y/h):(v.x=a.Zp(E[H].x/h,A.x,B.x,x),v.y=
t);q[0]=0<Q?e.J.pk(J/Q,0,1):.5;if(0==q[0]||1==q[0])break;K>q[0]||(K=b.Ra(F),b.zm(K,q,1),b.rb(b.U(K),v.x,v.y),K=q[0])}}while(0)}A.L(B)}}};a.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};a.Zp=function(a,b,d,l){var c=new e.Ac;c.I(b,d);d=l.N();a=Math.floor((a-b)/d)*d+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+d-c);)a+=d;return a};a.Cj=function(a,b,d){a=e.ls.uq(a);b=e.ls.Wx(a,e.ls.uq(b));d=e.ls.Wx(a,e.ls.uq(d));return 0==d||0<b&&0<d&&d<=b||0>b&&0>d&&d>=b?!0:!1};a.EB=function(b,
f,d,l,k,m){if(m==g.GreatElliptic)return e.yy.MU(f,d,l,k);if(Math.abs(d.x-l.x)>=Math.PI||!a.Cj(d.x,l.x,k))return NaN;var c;d.x>l.x?c=l:(c=d,d=l);l=new e.ea;var h=new e.ea,u=new e.ea;e.mb.Ld(b,f,c.x,c.y,d.x,d.y,h,l,null,m);var t=h.j,n=0,x=1,p=new e.b;for(p.L(c);t*(x-n)>1E-12*b;){var r=.5*(n+x);e.mb.Oj(b,f,c.x,c.y,t*r,l.j,h,u,m);p.x=h.j;p.y=u.j;if(p.x==k)break;if(a.Cj(c.x,p.x,k))x=r;else if(a.Cj(d.x,p.x,k))n=r;else return NaN}return p.y};a.CB=function(a,b,d,l,k){if(k==g.GreatElliptic)return k=[0,0],
e.yy.uA(a,b,d,l,0,k),k[0];var c;d.y>l.y?c=l:(c=d,d=l);l=new e.Ac;l.I(c.y,d.y);if(!l.contains(0)||Math.abs(c.x-d.x)>=Math.PI)return NaN;if(c.x==d.x)return c.x;var f=new e.ea,h=new e.ea,u=new e.ea;e.mb.Ld(a,b,c.x,c.y,d.x,d.y,h,f,null,k);var m=h.j,t=0,n=1,p=new e.b;for(p.L(c);m*(n-t)>1E-12*a;){var r=.5*(t+n);e.mb.Oj(a,b,c.x,c.y,m*r,f.j,h,u,k);p.x=h.j;p.y=u.j;l.I(c.y,p.y);if(0==p.y)break;if(l.contains(0))n=r;else if(l.I(d.y,p.y),l.contains(0))t=r;else return NaN}return p.x};a.x_=function(a,b,d,l,g,k){if(b==
g&&d!=k)throw e.g.F();if(0>=l)return 0;if(a.Ho()){k*=2;var c=2*d;a=2*l;for(d=0;d<a;d++)g[k+d]=b[c+d];return l}if(2>=l){k=[new e.b,new e.b];for(c=0;c<l;c++)k[c].ka(b[2*c],b[2*c+1]);b=e.os.local().WY(a,k,l,k);for(c=0;c<l;c++)g[2*c]=k[c].x,g[2*c+1]=k[c].y;return b}var f=a.je,c=a.He,h=f.Fb(),u=c.Fb();if(0==h&&h==u)return a=f.Yi(),c=c.Yi(),c=a/c,a=new e.Hd,a.Op(c,c),a.XY(b,d,g,k,l),l;h=new e.Ed;h.Ud(3);h.resize(l);for(var u=h.Pa(0),m=h.Pa(3),c=0,t=2*d,n=2*k;c<l;c++,n+=2){d=b[t++];var f=b[t++],p=n;if(isNaN(d)||
isNaN(f))f=d=0,p=-1;m.write(c,p);u.write(2*c,d);u.write(2*c+1,f)}h.Dc(1993);b=e.os.local().V(h,a,null);c=0;for(k*=2;c<l;c++,k+=2)g[k]=NaN,g[k+1]=NaN;if(b.u())return 0;k=b.Pa(3);a=b.Pa(0);c=h=0;for(l=b.D();c<l;c++)b=k.read(c),-1!=b&&(d=a.read(2*c),f=a.read(2*c+1),g[b]=d,g[b+1]=f,h++);return h};a.OJ=function(a,b,d,l){if(!a.je.Jc())return!1;var c=new e.Ed(b.description);c.Id(b,0,-1);l=e.os.local().V(c,a,l);c=b.D();d.Oa();if(c!=l.D())return!1;var f=new e.h;b.s(f);var h=new e.h;l.s(h);f=f.N();h=h.N();
if(0!=f&&0!=h){if(h/=f,a=a.He.Bh().N()/a.je.Bh().N(),1E-10<Math.abs(h/a-1))return!1}else if(0!=f||0!=h)return!1;d.add(b,!1);b=new e.b;for(a=0;a<c;a++)l.w(a,b),d.rb(a,b);return!0};a.qP=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.MJ=function(b,f,h,l){if(h==d.Clip){var c=f.Mk();197==c.G()?(h=new e.h,c.s(h),c=e.na.$y(f,h),b=e.uh.clip(b,h,c,5E4*f.bn(),l)):e.Gj.local().V(1,c,b,f,l)||(b=e.tk.local().V(b,c,f,l),b==c&&(b=e.xl.oe(b)))}else f.Jc()&&(l=new e.h,b.ac(l),f.qe().contains(l)||(a.xu(b,
f.qe(),f.re(0),!0),h==d.PannableFold&&(b=a.Mj(b,f)),b=a.Xm(b,f,0,!0,1E5*f.bn(),null)));return b};a.jF=function(a,b,d){var c=b.Ws();if(null==c)return a;b=b.kc();var f=b.qe().N(),h=new e.h;a.ac(h);var g=new e.Ac;h.Sn(g);for(var h=c.Fa(),c=null,k=new e.Hd;h.Ya();)for(;h.Ea();){var m=h.ba(),t=m.xf(0,0),n=new e.Ac;n.I(t.ca,t.ha);for(t=0;n.ha>g.ca;)n.move(-f),--t;for(;n.ca<=g.ha;){if(n.Yb(g)){null==c&&(c=new e.Ua);var p=e.Hb.fR(m.ec(),m.Cc());0!=t&&(k.Ag(t*f,0),p.Xc(k));c.dc(p,!0)}n.move(f);++t}}return null!=
c?(b=e.na.gQ(b,c),b=e.na.Cs(b),e.Ku.kR(a,c,b,d)):a};a.CN=function(b,f,e,d,g){return b>=e&&f<=d?0:a.pE(.5*(f+b),e,d,g)};a.pE=function(a,b,d,l){return e.Ub.round((.5*(d+b)-a)/l)*l};a.LS=function(b,f,d,l,g,k,m,t){var c=a.Vu(l,g),h=c.N(),u=h/360,n=a.kE*u,p=b.Pa(0),x=f.Jc(),r=x?h/f.qe().N():0,q;f=b.Ka();for(var z=0,v=d.aa();z<v;++z){var w=x,y=new e.Ua(d.description);y.Ti(d,z,!0);q=d.Qb(z);0!=m&&(q=a.aE(q,y,c.B-t,c.B,m))&&(w=!1);var E=-1;q=y.D();var A=!1;w&&(E=b.wa(z),A=b.Qb(z));var B=y.Pa(0),D=0,S=B.read(0),
C=0,I=3*l.re(0),G=!1,F=new e.b;F.$c();var L=new e.b;L.$c();for(var H=!1,K=1;K<q;++K){var Q=e.b.pa(B.Of(2*K),B.Of(2*K+1)),J=Q.x,N=J+D,M=N-S;Q.x=N;if(Math.abs(M)>n){if(w){var X=E+K-1,R=E;if(!A||K+1<q)R+=K;X=p.read(2*X);R=(p.read(2*R)-X)*r;Math.abs(M-R)>1*u&&(x=!1)}w||(D-=e.Ub.Fl(h,N-S),N=J+D,++C,H=0!=D,Q.x=N)}else G||e.na.NH(F,L,Q,I)&&(G=!0);H&&B.write(2*K,N);S=N;F.L(L);L.L(Q)}0!=C&&y.Dc(1993);w=y.Ba(0);q=y.Ba(q-1);e.b.Cb(w,q);y=a.ES(y,l,isNaN(g)?0:g,k);f.add(y,!1)}b=l.re(0);d=c.N()/180;a.xu(f,c,.1*
b,!1);return e.uh.clip(f,c,b,d,k)};a.ES=function(b,f,e,d){return a.Xm(b,f,e,!0,0,d)};a.JU=function(a,b,d,l){var c=a.G();if(1736==c)for(b=null!=b?b.re(0):0,c=0;c<l;c++)1!=e.gd.ge(a,d[c],b)&&d[c].$c();else if(197==c)for(c=0;c<l;c++)a.gR(d[c])||d[c].$c();else throw e.g.F();};a.Dl=function(a,b,d,l){if(32>d)for(var c=new e.Wa,f=0;f<d;f++)c.rb(b[f]),a.Dl(c,l).w(b[f]);else{var h=new e.Ed;h.Ud(3);h.YE(b,d);c=h.Pa(3);for(f=0;f<d;f++)c.write(f,f);f=a.Dl(h,l);a=f.Pa(0);c=f.Pa(3);l=e.b.pa(NaN,NaN);for(h=0;h<
d;h++)b[h]=l;d=f.D();for(f=0;f<d;f++)l=c.read(f),a.fc(2*f,b[l])}};a.Cl=function(a,b,d,l){if(32>d)for(var c=new e.Wa,f=0;f<d;f++)c.rb(b[f]),a.Cl(c,l).w(b[f]);else{var h=new e.Ed;h.Ud(3);h.YE(b,d);c=h.Pa(3);for(f=0;f<d;f++)c.write(f,f);f=a.Cl(h,l);a=f.Pa(0);c=f.Pa(3);l=e.b.pa(NaN,NaN);for(h=0;h<d;h++)b[h]=l;d=f.D();for(f=0;f<d;f++)l=c.read(f),a.fc(2*f,b[l])}};a.Z_="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.kE=210;return a}();e.Ib=b})(m||(m={}));(function(e){(function(e){e[e.rightSide=1]="rightSide"})(e.KN||(e.KN=
{}));var d=function(){function d(b,a,c){this.xt=new e.b;void 0===b?this.up=-1:(this.xt.L(b),this.up=a,this.Qa=c,this.$w=0)}d.prototype.NK=function(b){this.$w=b?this.$w|1:this.$w&-2};d.prototype.u=function(){return 0>this.up};d.prototype.Nz=function(){if(this.u())throw e.g.X("invalid call");return new e.Wa(this.xt.x,this.xt.y)};d.prototype.Za=function(){if(this.u())throw e.g.X("invalid call");return this.up};d.prototype.Qz=function(){if(this.u())throw e.g.X("invalid call");return this.Qa};d.prototype.zA=
function(){return 0!=(this.$w&1)};d.prototype.Ly=function(b,a,c,f){this.xt.x=b;this.xt.y=a;this.up=c;this.Qa=f};return d}();e.Mm=d})(m||(m={}));(function(e){var d=function(){function b(){}b.prototype.Wn=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;a.ac(this.gl);this.gl.O(b,b);this.gl.Yb(this.Mb.Ha)?((this.rt=e.T.Oc(a.G()))?(this.gJ=a.ec(),this.fJ=a.Cc(),this.ta=b):this.ta=NaN,this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf)):this.Lt=-1};b.prototype.Ni=
function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;this.gl.I(a);this.gl.O(b,b);this.ta=NaN;this.gl.Yb(this.Mb.Ha)?(this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf),this.rt=!1):this.Lt=-1};b.prototype.next=function(){if(0==this.Rh.size)return-1;this.Vk=this.Lt;var a=null,b=null,f,d=null,l=null;this.rt&&(a=new e.b,b=new e.b,d=new e.h);for(var k=!1;!k;){for(;-1!=this.Vk;){f=this.Mb.Jz(this.Mb.Tv(this.Vk));if(f.Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),
d.I(f),d.O(this.ta,this.ta),0<d.gz(a,b)){k=!0;break}}else{k=!0;break}this.Vk=this.Mb.$v(this.Vk)}if(-1==this.Vk){f=this.Rh.Fc();var m=this.hj[this.hj.length-1];null==l&&(l=[],l[0]=new e.h,l[1]=new e.h,l[2]=new e.h,l[3]=new e.h);g.uK(m,l);this.Rh.Pf();--this.hj.length;for(m=0;4>m;m++){var n=this.Mb.Eq(f,m);if(-1!=n&&0<this.Mb.PT(n)&&l[m].Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),d.I(l[m]),d.O(this.ta,this.ta),0<d.gz(a,b)){var t=new e.h;t.I(l[m]);this.Rh.add(n);this.hj.push(t)}}else t=new e.h,
t.I(l[m]),this.Rh.add(n),this.hj.push(t)}if(0==this.Rh.size)return-1;this.Vk=this.Mb.Us(this.Rh.get(this.Rh.size-1))}}this.Lt=this.Mb.$v(this.Vk);return this.Vk};b.eR=function(a,c,f){var d=new b;d.Mb=a;d.gl=new e.h;d.Rh=new e.ia(0);d.hj=[];d.Wn(c,f);return d};b.dR=function(a,c,f){var d=new b;d.Mb=a;d.gl=new e.h;d.Rh=new e.ia(0);d.hj=[];d.Ni(c,f);return d};b.cR=function(a){var c=new b;c.Mb=a;c.gl=new e.h;c.Rh=new e.ia(0);c.hj=[];return c};return b}();e.g_=d;var g=function(){function b(a,b){this.Lf=
new e.ad(11);this.yi=new e.ad(5);this.st=[];this.Ww=new e.ia(0);this.Ha=new e.h;this.ql(a,b)}b.prototype.reset=function(a,b){this.Lf.Vi(!1);this.yi.Vi(!1);this.st.length=0;this.Ww.clear(!1);this.ql(a,b)};b.prototype.eh=function(a,b){return this.mw(a,b,0,this.Ha,this.Mf,!1,-1)};b.prototype.lw=function(a,b,f){f=-1==f?this.Mf:this.gH(f);var c=this.fa(f),e=this.fT(f);return this.mw(a,b,c,e,f,!1,-1)};b.prototype.ja=function(a){return this.aT(a)};b.prototype.RG=function(a){return this.Jz(this.Tv(a))};b.prototype.fa=
function(a){return this.Vv(a)};b.prototype.fT=function(a){var b=new e.h;b.I(this.Ha);var f=this.Vv(a);a=this.bH(a);for(var d=0;d<2*f;d+=2){var l=e.J.truncate(3&a>>d);0==l?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==l?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==l?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.PT=function(a){return this.kA(a)};b.prototype.oT=function(a,b){return d.eR(this,a,b)};b.prototype.Xz=function(a,b){return d.dR(this,a,b)};b.prototype.mf=function(){return d.cR(this)};
b.prototype.ql=function(a,b){if(0>b||32<2*b)throw e.g.F("invalid height");this.zV=b;this.Ha.I(a);this.Mf=this.Lf.Pe();this.Ux(this.Mf,0);this.Ox(this.Mf,0);this.EK(this.Mf,0);this.AK(this.Mf,0)};b.prototype.mw=function(a,c,f,d,l,g,k){if(!d.contains(c))return 0==f?-1:this.mw(a,c,0,this.Ha,this.Mf,g,k);if(!g)for(var h=l;-1!=h;h=this.BT(h))this.Ux(h,this.kA(h)+1);h=new e.h;h.I(d);d=l;var u=[];u[0]=new e.h;u[1]=new e.h;u[2]=new e.h;for(u[3]=new e.h;f<this.zV&&this.iQ(d);f++){b.uK(h,u);for(var m=!1,n=
0;4>n;n++)if(u[n].contains(c)){var m=!0,t=this.Eq(d,n);-1==t&&(t=this.qR(d,n));this.Ux(t,this.kA(t)+1);d=t;h.I(u[n]);break}if(!m)break}return this.nU(a,c,f,h,d,g,l,k)};b.prototype.nU=function(a,b,f,e,d,g,k,m){var c=this.XG(d);if(g){if(d==k)return m;this.PR(m);g=m}else g=this.sR(),this.nC(g,a),this.JX(this.Tv(g),b);this.gY(g,d);-1!=c?(this.Sx(g,c),this.Px(c,g)):this.wK(d,g);this.qC(d,g);this.Ox(d,this.Yv(d)+1);this.hQ(d)&&this.BS(f,e,d);return g};b.prototype.PR=function(a){var b=this.gH(a),f=this.XG(b),
e=this.HT(a),d=this.$v(a);this.Us(b)==a?(-1!=d?this.Sx(d,-1):this.qC(b,-1),this.wK(b,d)):f==a?(this.Px(e,-1),this.qC(b,e)):(this.Sx(d,e),this.Px(e,d));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.uK=function(a,b){var c=.5*(a.o+a.v),e=.5*(a.A+a.B);b[0].I(c,e,a.v,a.B);b[1].I(a.o,e,c,a.B);b[2].I(a.o,a.A,c,e);b[3].I(c,a.A,a.v,e)};b.prototype.hQ=function(a){return 8==this.Yv(a)&&!this.tH(a)};b.prototype.BS=function(a,b,f){var c,e,d=this.Us(f);do e=this.Tv(d),c=this.yi.S(d,0),e=this.Jz(e),this.mw(c,
e,a,b,f,!0,d),d=c=this.$v(d);while(-1!=d)};b.prototype.iQ=function(a){return 8<=this.Yv(a)||this.tH(a)};b.prototype.tH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.qR=function(a,b){var c=this.Lf.Pe();this.NX(a,b,c);this.Ux(c,0);this.Ox(c,0);this.sl(c,a);this.AK(c,this.Vv(a)+1);this.EK(c,b<<2*this.Vv(a)|this.bH(a));return c};b.prototype.sR=function(){var a=this.yi.Pe(),b;0<this.Ww.size?(b=this.Ww.Fc(),this.Ww.Pf()):(b=this.st.length,this.st.push(new e.h));
this.KX(a,b);return a};b.prototype.Eq=function(a,b){return this.Lf.S(a,b)};b.prototype.NX=function(a,b,f){this.Lf.P(a,b,f)};b.prototype.Us=function(a){return this.Lf.S(a,4)};b.prototype.wK=function(a,b){this.Lf.P(a,4,b)};b.prototype.XG=function(a){return this.Lf.S(a,5)};b.prototype.qC=function(a,b){this.Lf.P(a,5,b)};b.prototype.bH=function(a){return this.Lf.S(a,6)};b.prototype.EK=function(a,b){this.Lf.P(a,6,b)};b.prototype.Yv=function(a){return this.Lf.S(a,7)};b.prototype.kA=function(a){return this.Lf.S(a,
8)};b.prototype.Ox=function(a,b){this.Lf.P(a,7,b)};b.prototype.Ux=function(a,b){this.Lf.P(a,8,b)};b.prototype.BT=function(a){return this.Lf.S(a,9)};b.prototype.sl=function(a,b){this.Lf.P(a,9,b)};b.prototype.Vv=function(a){return this.Lf.S(a,10)};b.prototype.AK=function(a,b){this.Lf.P(a,10,b)};b.prototype.aT=function(a){return this.yi.S(a,0)};b.prototype.nC=function(a,b){this.yi.P(a,0,b)};b.prototype.HT=function(a){return this.yi.S(a,1)};b.prototype.$v=function(a){return this.yi.S(a,2)};b.prototype.Sx=
function(a,b){this.yi.P(a,1,b)};b.prototype.Px=function(a,b){this.yi.P(a,2,b)};b.prototype.gH=function(a){return this.yi.S(a,3)};b.prototype.gY=function(a,b){this.yi.P(a,3,b)};b.prototype.Tv=function(a){return this.yi.S(a,4)};b.prototype.KX=function(a,b){this.yi.P(a,4,b)};b.prototype.Jz=function(a){return this.st[a]};b.prototype.JX=function(a,b){this.st[a].I(b)};return b}();e.gq=g})(m||(m={}));(function(e){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(e.zM||
(e.zM={}));var d=function(){function b(a,b){this.Dh=null;this.NV=b;this.Dh=a}b.prototype.Kx=function(a,b){this.uI!=b&&a.flush();this.uI=b};b.prototype.pG=function(a,b){for(var c=0;c<b;)for(var e=a[c++],d=a[c++],g=a[c++]*this.NV;e<d;e++)this.Dh[g+(e>>4)]|=this.uI<<2*(e&15)};return b}();e.i_=d;var g=function(){function b(a,b,f){this.Dh=null;this.yB=this.jl=this.pJ=this.nJ=this.At=this.CI=this.hg=this.Hn=0;this.qj=this.kl=this.$l=null;this.kw(a,b,f)}b.create=function(a,c,f){if(!b.bz(a))throw e.g.F();
return b.fe(a,c,f)};b.Cj=function(a,c,f){if(!b.bz(a))throw e.g.F();return b.se(a,c,f)};b.kX=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw e.g.X("Internal Error");}return a};b.bz=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.mS=function(a,b){b=b.Fa();for(var c=new e.b,d=new e.b;b.Ya();)for(;b.Ea();){var l=b.ba();if(322!=l.G())throw e.g.X("Internal Error");a.$h(l.ec(),c);a.$h(l.Cc(),d);this.qj.Qy(c.x,c.y,d.x,d.y)}this.qj.YJ(e.zy.py)};
b.prototype.nS=function(){throw e.g.X("Internal Error");};b.prototype.Bz=function(a,b){for(var c=1;4>c;c++)a.Qy(b[c-1].x,b[c-1].y,b[c].x,b[c].y);a.Qy(b[3].x,b[3].y,b[0].x,b[0].y);this.qj.YJ(e.zy.py)};b.prototype.dL=function(a,b,f){for(var c=[null,null,null,null],d=0;d<c.length;d++)c[d]=new e.b;b=b.Fa();f=this.kl.YY(f)+1.5;for(var d=new e.b,g=new e.b,k=new e.b,m=new e.b,n=new e.b,t=new e.h,p=new e.b;b.Ya();){var r=!1,q=!0;for(p.ka(0,0);b.Ea();){var v=b.ba();m.x=v.ua;m.y=v.ra;n.x=v.sa;n.y=v.oa;t.Oa();
t.Nb(m.x,m.y);t.ml(n.x,n.y);if(this.$l.TH(t)){this.kl.$h(n,n);q?(this.kl.$h(m,m),p.L(m),q=!1):m.L(p);d.zc(n,m);var v=d.length(),w=.5>v;0==v?d.ka(1,0):(w||p.L(n),d.scale(f/v),g.ka(-d.y,d.x),k.ka(d.y,-d.x),m.sub(d),n.add(d),c[0].add(m,g),c[1].add(m,k),c[2].add(n,k),c[3].add(n,g),w?r=!0:this.Bz(a,c))}else r&&(this.Bz(a,c),r=!1),q=!0}r&&this.Bz(a,c)}};b.prototype.UC=function(a){return e.J.truncate(a*this.CI+this.nJ)};b.prototype.VC=function(a){return e.J.truncate(a*this.At+this.pJ)};b.fe=function(a,c,
f){return new b(a,c,f)};b.se=function(a,c,f){return new b(a,c,f)};b.prototype.kw=function(a,b,f){this.hg=Math.max(e.J.truncate(2*Math.sqrt(f)+.5),64);this.Hn=e.J.truncate((2*this.hg+31)/32);this.$l=new e.h;this.jl=b;f=0;for(var c=this.hg,l=this.Hn;8<=c;)f+=c*l,c=e.J.truncate(c/2),l=e.J.truncate((2*c+31)/32);this.Dh=e.J.gf(f,0);this.qj=new e.zy;f=new d(this.Dh,this.Hn,this);this.qj.vY(this.hg,this.hg,f);a.s(this.$l);this.$l.O(b,b);var c=new e.h,l=e.h.pa(1,1,this.hg-2,this.hg-2),g=b*l.N();b*=l.fa();
c.I(this.$l.Wf(),Math.max(g,this.$l.N()),Math.max(b,this.$l.fa()));this.yB=this.jl;this.kl=new e.Hd;this.kl.kU(c,l);new e.Hd;switch(a.G()){case 550:f.Kx(this.qj,2);this.nS();break;case 1607:f.Kx(this.qj,2);this.dL(this.qj,a,this.yB);break;case 1736:f.Kx(this.qj,1),this.mS(this.kl,a),f.Kx(this.qj,2),this.dL(this.qj,a,this.yB)}this.CI=this.kl.lb;this.At=this.kl.gb;this.nJ=this.kl.Wb;this.pJ=this.kl.bc;this.$P()};b.prototype.$P=function(){this.qj.flush();for(var a=0,b=this.hg*this.Hn,f=this.hg,d=e.J.truncate(this.hg/
2),l=this.Hn,g=e.J.truncate((2*d+31)/32);8<f;){for(f=0;f<d;f++)for(var k=2*f,m=2*f+1,n=0;n<d;n++){var t=2*n,p=2*n+1,r=t>>4,t=2*(t&15),q=p>>4,p=2*(p&15),v=this.Dh[a+l*k+r]>>t&3,v=v|this.Dh[a+l*k+q]>>p&3,v=v|this.Dh[a+l*m+r]>>t&3,v=v|this.Dh[a+l*m+q]>>p&3;this.Dh[b+g*f+(n>>4)]|=v<<2*(n&15)}f=d;l=g;a=b;d=e.J.truncate(f/2);g=e.J.truncate((2*d+31)/32);b=a+l*f}};b.prototype.rm=function(a,b){if(!this.$l.contains(a,b))return 0;a=this.UC(a);b=this.VC(b);if(0>a||a>=this.hg||0>b||b>=this.hg)return 0;a=this.Dh[this.Hn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Rn=function(a){if(!a.Ma(this.$l))return 0;var b=this.UC(a.o),f=this.UC(a.v),d=this.VC(a.A);a=this.VC(a.B);0>b&&(b=0);0>d&&(d=0);f>=this.hg&&(f=this.hg-1);a>=this.hg&&(a=this.hg-1);if(b>f||d>a)return 0;for(var l=Math.max(f-b,1)*Math.max(a-d,1),g=0,k=this.Hn,m=this.hg,n=0;;){if(32>l||16>m){for(l=d;l<=a;l++)for(var t=b;t<=f;t++)if(n=this.Dh[g+k*l+(t>>4)]>>2*(t&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}g+=k*m;m=e.J.truncate(m/2);k=e.J.truncate((2*
m+31)/32);b=e.J.truncate(b/2);d=e.J.truncate(d/2);f=e.J.truncate(f/2);a=e.J.truncate(a/2);l=Math.max(f-b,1)*Math.max(a-d,1)}};b.prototype.KT=function(){return this.hg*this.Hn};return b}();e.xy=g})(m||(m={}));(function(e){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(e.RN||(e.RN={}));var d=
function(){function b(){}b.pa=function(a,c,f,e,d,g,k,m){var h=new b;h.bx=a;h.zn=c;h.ek=f;h.rj=e;h.RI=d;h.G_=g;h.H_=k;h.I_=m;return h};return b}(),g=function(){function b(){}b.TE=function(a,c,f){if(!b.cz(a))return!1;var d=e.na.ah(c,a,!1);c=!1;e.wl.JF(a)&&(c=c||a.Xu(d,f));d=a.G();1736!=d&&1607!=d||!e.wl.HF(a)||0==f||(c=c||a.Hj(f));1736!=d&&1607!=d||!e.wl.IF(a)||0==f||(c=c||a.BO());return c};b.cz=function(a){return e.wl.JF(a)||e.wl.HF(a)||e.wl.IF(a)};return b}();e.Gu=g;g=function(){function b(){this.Ph=
[]}b.ZB=function(a,c,f,d,l){var h=a.G(),g=c.G();if(197==h){if(197==g)return b.rO(a,c,f,d);if(33==g)return 2==d?d=1:1==d&&(d=2),b.kG(c,a,f,d)}else if(33==h){if(197==g)return b.kG(a,c,f,d);if(33==g)return b.uO(a,c,f,d)}if(a.u()||c.u())return 4==d?!0:!1;var k=new e.h;a.s(k);var m=new e.h;c.s(m);var n=new e.h;n.I(k);n.Nb(m);f=e.na.be(f,n,!1);if(b.Ek(k,m,f))return 4==d?!0:!1;k=!1;e.xl.Oc(h)&&(h=new e.Ua(a.description),h.dc(a,!0),a=h,h=1607);e.xl.Oc(g)&&(g=new e.Ua(c.description),g.dc(c,!0),c=g,g=1607);
if(197!=h&&197!=g){if(a.tb()<c.tb()||33==h&&550==g)2==d?d=1:1==d&&(d=2)}else 1736!=h&&197!=g&&(2==d?d=1:1==d&&(d=2));switch(h){case 1736:switch(g){case 1736:k=b.gu(a,c,f,d,l);break;case 1607:k=b.On(a,c,f,d,l);break;case 33:k=b.fu(a,c,f,d,l);break;case 550:k=b.eu(a,c,f,d,l);break;case 197:k=b.dD(a,c,f,d,l)}break;case 1607:switch(g){case 1736:k=b.On(c,a,f,d,l);break;case 1607:k=b.MB(a,c,f,d,l);break;case 33:k=b.iu(a,c,f,d,l);break;case 550:k=b.hu(a,c,f,d,l);break;case 197:k=b.rD(a,c,f,d)}break;case 33:switch(g){case 1736:k=
b.fu(c,a,f,d,l);break;case 1607:k=b.iu(c,a,f,d,l);break;case 550:k=b.au(c,a,f,d,l)}break;case 550:switch(g){case 1736:k=b.eu(c,a,f,d,l);break;case 1607:k=b.hu(c,a,f,d,l);break;case 550:k=b.DB(a,c,f,d,l);break;case 33:k=b.au(a,c,f,d,l);break;case 197:k=b.RJ(a,c,f,d)}break;case 197:switch(g){case 1736:k=b.dD(c,a,f,d,l);break;case 1607:k=b.rD(c,a,f,d);break;case 550:k=b.RJ(c,a,f,d)}}return k};b.rO=function(a,c,f,d){if(a.u()||c.u())return 4==d?!0:!1;var h=new e.h,g=new e.h,k=new e.h;a.s(h);c.s(g);k.I(h);
k.Nb(g);a=e.na.be(f,k,!1);switch(d){case 4:return b.Ek(h,g,a);case 2:return b.RE(g,h,a);case 1:return b.RE(h,g,a);case 3:return b.We(h,g,a);case 8:return b.CP(h,g,a);case 32:return b.$O(h,g,a);case 16:return b.DL(h,g,a)}return!1};b.kG=function(a,c,f,d){if(a.u()||c.u())return 4==d?!0:!1;a=a.w();var h=new e.h,g=new e.h;c.s(h);g.I(a);g.Nb(h);c=e.na.be(f,g,!1);switch(d){case 4:return b.Dx(a,h,c);case 2:return b.XC(a,h,c);case 1:return b.DN(a,h,c);case 3:return b.qL(a,h,c);case 8:return b.WC(a,h,c)}return!1};
b.uO=function(a,c,f,d){if(a.u()||c.u())return 4==d?!0:!1;a=a.w();c=c.w();var h=new e.h;h.I(a);h.Nb(c);f=e.na.be(f,h,!1);switch(d){case 4:return b.MN(a,c,f);case 2:return b.eL(c,a,f);case 1:return b.eL(a,c,f);case 3:return b.yL(a,c,f)}return!1};b.gu=function(a,c,f,e,d){switch(e){case 4:return b.hS(a,c,f);case 2:return b.Ex(c,a,f,d);case 1:return b.Ex(a,c,f,d);case 3:return b.iU(a,c,f);case 8:return b.lW(a,c,f);case 32:return b.hV(a,c,f,d)}return!1};b.On=function(a,c,f,e,d){switch(e){case 4:return b.FS(a,
c,f);case 1:return b.LB(a,c,f,d);case 8:return b.vW(a,c,f,d);case 16:return b.DP(a,c,f)}return!1};b.fu=function(a,c,f,e){switch(e){case 4:return b.WR(a,c,f);case 1:return b.wO(a,c,f);case 8:return b.dW(a,c,f)}return!1};b.eu=function(a,c,f,e){switch(e){case 4:return b.BR(a,c,f);case 1:return b.tO(a,c,f);case 8:return b.SV(a,c,f);case 16:return b.tP(a,c,f)}return!1};b.dD=function(a,c,f,e,d){if(b.lQ(a,c,f))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.dX(a,c,f);case 1:return b.qO(a,c,
f);case 3:return b.fU(a,c,f);case 8:return b.kV(a,c,f,d);case 32:return b.eV(a,c,f,d);case 16:return b.EL(a,c,f,d)}return!1};b.MB=function(a,c,f,e){switch(e){case 4:return b.yZ(a,c,f);case 2:return b.nD(c,a,f);case 1:return b.nD(a,c,f);case 3:return b.OL(a,c,f);case 8:return b.tD(a,c,f);case 32:return b.cM(a,c,f);case 16:return b.pD(a,c,f)}return!1};b.iu=function(a,c,f,e){switch(e){case 4:return b.wZ(a,c,f);case 1:return b.RY(a,c,f);case 8:return b.yM(a,c,f)}return!1};b.hu=function(a,c,f,e){switch(e){case 4:return b.uZ(a,
c,f);case 1:return b.GX(a,c,f);case 8:return b.nM(a,c,f);case 16:return b.mZ(a,c,f)}return!1};b.rD=function(a,c,f,e){if(b.pZ(a,c,f))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.DM(a,c,f);case 1:return b.nX(a,c,f);case 3:return b.IL(a,c,f);case 8:return b.jM(a,c,f);case 32:return b.ZL(a,c,f);case 16:return b.eZ(a,c,f)}return!1};b.DB=function(a,c,f,e){switch(e){case 4:return b.RL(a,c,f);case 2:return b.sJ(c,a,f);case 1:return b.sJ(a,c,f);case 3:return b.bM(a,c,f);case 32:return b.HM(a,
c,f)}return!1};b.au=function(a,c,f,e){switch(e){case 4:return b.AJ(a,c,f);case 2:return b.SM(a,c,f);case 1:return b.oZ(a,c,f);case 3:return b.zx(a,c,f)}return!1};b.RJ=function(a,c,f,e){switch(e){case 4:return b.NL(a,c,f);case 2:return b.OM(a,c,f);case 1:return b.lZ(a,c,f);case 3:return b.YL(a,c,f);case 8:return b.LM(a,c,f);case 16:return b.HL(a,c,f)}return!1};b.iU=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.We(d,l,f))return!1;d=b.vc(a,c,!1);if(4==d||1==d||2==d)return!1;if(b.qJ(a,c,
f))return!0;d=a.Rb();l=c.Rb();return Math.abs(d-l)>4*Math.max(a.D(),c.D())*f?!1:b.OB(a,c,f,!0)};b.hS=function(a,c,f){var e=b.vc(a,c,!0);return 4==e?!0:1==e||2==e||1073741824==e?!1:b.bD(a,c,f)};b.lW=function(a,c,f){var e=b.vc(a,c,!1);return 4==e||1==e||2==e?!1:b.hD(a,c,f,null)};b.hV=function(a,c,f,e){var d=b.vc(a,c,!1);return 4==d||1==d||2==d?!1:b.cD(a,c,f,e)};b.Ex=function(a,c,f,d){var h=new e.h,g=new e.h;a.s(h);c.s(g);if(!b.Ec(h,g,f))return!1;h=b.vc(a,c,!1);return 4==h||2==h?!1:1==h?!0:b.BL(a,c,
f,d)};b.FS=function(a,c,f){var e=b.vc(a,c,!0);return 4==e?!0:1==e||1073741824==e?!1:b.bD(a,c,f)};b.vW=function(a,c,f,e){var d=b.vc(a,c,!1);return 4==d||1==d?!1:b.jD(a,c,f,e)};b.DP=function(a,c,f){var e=b.vc(a,c,!1);return 4==e||1==e?!1:b.aD(a,c,f,null)};b.LB=function(a,c,f,d){var h=new e.h,g=new e.h;a.s(h);c.s(g);if(!b.Ec(h,g,f))return!1;h=b.vc(a,c,!1);return 4==h?!1:1==h?!0:b.CL(a,c,f,d)};b.WR=function(a,b,f){return 0==e.gd.WH(a,b,f)?!0:!1};b.dW=function(a,c,f){c=c.w();return b.eD(a,c,f)};b.wO=function(a,
c,f){c=c.w();return b.AL(a,c,f)};b.BR=function(a,c,f){var d=b.vc(a,c,!1);if(4==d)return!0;if(1==d)return!1;d=new e.h;a.s(d);d.O(f,f);for(var l=new e.b,g=0;g<c.D();g++)if(c.w(g,l),d.contains(l)){var k=e.gd.ge(a,l,f);if(1==k||2==k)return!1}return!0};b.SV=function(a,b,f){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;c=new e.h;a.s(c);c.O(f,f);var d,g=!1,k;k=a;for(var m=!1,n=0;n<b.D();n++){d=b.Ba(n);if(c.contains(d))if(d=e.gd.ge(k,d,f),2==d)g=!0;else if(1==d)return!1;m||(!e.ff.qm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?k=a:(k=new e.Ja,a.copyTo(k),k.Hj(1)),m=!0)}return g?!0:!1};b.tP=function(a,b,f){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;var d=new e.h,c=new e.h,g=new e.h;a.s(d);b.s(g);c.I(d);c.O(f,f);var g=d=!1,k,m;m=a;for(var n=!1,t=0;t<b.D();t++){k=b.Ba(t);c.contains(k)?(k=e.gd.ge(m,k,f),0==k?g=!0:1==k&&(d=!0)):g=!0;if(d&&g)return!0;n||(!e.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(m=new e.Ja,a.copyTo(m),m.Hj(1)),n=!0)}return!1};b.tO=function(a,b,f){var c=new e.h,d=new e.h;a.s(c);b.s(d);
if(!this.Ec(c,d,f))return!1;d=this.vc(a,b,!1);if(4==d)return!1;if(1==d)return!0;var d=!1,g,k;k=a;for(var m=!1,n=0;n<b.D();n++){g=b.Ba(n);if(!c.contains(g))return!1;g=e.gd.ge(k,g,f);if(1==g)d=!0;else if(0==g)return!1;m||(!e.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?k=a:(k=new e.Ja,a.copyTo(k),k.Hj(1)),m=!0)}return d};b.fU=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.We(d,l,f))return!1;d=new e.Ja;d.jd(c,!1);return b.OB(a,d,f,!0)};b.lQ=function(a,c,f){var d=b.vc(a,c,!1);if(4==d)return!0;
if(1==d||2==d)return!1;var l=new e.h,d=new e.h;a.s(l);c.s(d);if(b.Ec(d,l,f))return!1;l=new e.b;d.Tn(l);c=e.gd.ge(a,l,f);if(0!=c)return!1;d.TJ(l);c=e.gd.ge(a,l,f);if(0!=c)return!1;d.Un(l);c=e.gd.ge(a,l,f);if(0!=c)return!1;d.WJ(l);c=e.gd.ge(a,l,f);if(0!=c)return!1;c=a.Pa(0);l=new e.h;l.I(d);l.O(f,f);for(var g=0,k=a.D();g<k;g++){var m=c.read(2*g),n=c.read(2*g+1);if(l.contains(m,n))return!1}return!b.XH(a,d,f)};b.kV=function(a,c,f,d){var h=b.vc(a,c,!1);if(4==h||1==h||2==h)return!1;var h=new e.h,g=new e.h;
a.s(h);c.s(g);if(b.Ec(g,h,f))return!1;if(g.N()<=f&&g.fa()<=f)return c=c.Bq(),b.eD(a,c,f);if(g.N()<=f||g.fa()<=f)return h=new e.Ua,g=new e.Wa,c.ig(0,g),h.Rf(g),c.ig(2,g),h.lineTo(g),b.jD(a,h,f,d);h=new e.Ja;h.jd(c,!1);return b.hD(a,h,f,d)};b.eV=function(a,c,f,d){var h=b.vc(a,c,!1);if(4==h||1==h||2==h)return!1;var h=new e.h,g=new e.h;a.s(h);c.s(g);if(b.Ec(g,h,f)||g.N()<=f||g.fa()<=f)return!1;h=new e.Ja;h.jd(c,!1);return b.cD(a,h,f,d)};b.dX=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.Ec(l,
d,f)};b.qO=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.Ec(d,l,f))return!1;d=b.vc(a,c,!1);if(4==d||2==d)return!1;if(1==d)return!0;if(l.N()<=f&&l.fa()<=f)return c=c.Bq(),b.AL(a,c,f);if(l.N()<=f||l.fa()<=f)return l=new e.Ua,d=new e.Wa,c.ig(0,d),l.Rf(d),c.ig(2,d),l.lineTo(d),b.CL(a,l,f,null);l=new e.Ja;l.jd(c,!1);return b.BL(a,l,f,null)};b.EL=function(a,c,f,d){var h=new e.h,g=new e.h;a.s(h);c.s(g);if(b.Ec(g,h,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;h=new e.Ua;g=new e.Wa;c.ig(0,
g);h.Rf(g);c.ig(2,g);h.lineTo(g);return b.aD(a,h,f,d)};b.OL=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.We(d,l,f)&&4!=b.vc(a,c,!1)?b.qJ(a,c,f)?!0:b.OB(a,c,f,!1):!1};b.yZ=function(a,b,f){return 4==this.vc(a,b,!1)?!0:(new e.Lm(a,b,f,!0)).next()?!this.fI(a,b,f):!1};b.tD=function(a,c,f){if(4==b.vc(a,c,!1))return!1;var d=new e.Rd(0);if(0!=b.RB(a,c,f,d))return!1;for(var l=new e.Ed,g=0;g<d.size;g+=2){var k=d.read(g),m=d.read(g+1);l.lv(k,m)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return b.yx(a,
l,f)};b.pD=function(a,c,f){if(4==b.vc(a,c,!1))return!1;var d=new e.Rd(0);if(0!=b.RB(a,c,f,d))return!1;for(var l=new e.Ed,g=0;g<d.size;g+=2){var k=d.read(g),m=d.read(g+1);l.lv(k,m)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return!b.yx(a,l,f)};b.cM=function(a,c,f){return 4==b.vc(a,c,!1)?!1:b.$H(a,c,f)};b.nD=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.Ec(d,l,f)&&4!=b.vc(a,c,!1)?b.Wg(c,a,f,!1):!1};b.wZ=function(a,c,f){if(4==b.vc(a,c,!1))return!0;c=c.w();return!b.HA(a,c,f)};b.yM=function(a,
c,f){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.gC(a,c,f)};b.RY=function(a,c,f){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.yH(a,c,f)};b.uZ=function(a,c,f){return 4==b.vc(a,c,!1)?!0:!b.ZH(a,c,f,!1)};b.nM=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),d=new e.h,g=new e.h,k=new e.h;a.s(d);b.s(g);d.O(f,f);g.O(f,f);k.I(d);k.Ma(g);var m,n,d=null;m=a.ob;null!=m?(n=m.Mb,d=m.np,null==n&&(n=m=e.na.Lj(a,k))):n=m=e.na.Lj(a,k);var t=n.mf(),p=null;null!=d&&(p=d.mf());var r=new e.b,q=new e.b,v=
!1,w=f*f,d=new e.Fm(b.D());for(m=0;m<b.D();m++)d.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,r),k.contains(r))if(g.I(r.x,r.y,r.x,r.y),null==p||(p.Ni(g,f),-1!=p.next())){t.Ni(g,f);for(var y=t.next();-1!=y;y=t.next())if(c.Tb(n.ja(y)),y=c.ba(),y.gc(y.pe(r,!1),q),e.b.sc(r,q)<=w){d.write(m,1);v=!0;break}}if(!v)return!1;a=a.Gg();c=new e.Ed;g=new e.b;for(m=0;m<b.D();m++)0!=d.read(m)&&(b.w(m,g),c.lv(g.x,g.y));return this.yx(a,c,f)};b.mZ=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),d=new e.h,g=
new e.h,k=new e.h;a.s(d);b.s(g);d.O(f,f);g.O(f,f);k.I(d);k.Ma(g);var m,n,d=null;m=a.ob;null!=m?(n=m.Mb,d=m.np,null==n&&(n=m=e.na.Lj(a,k))):n=m=e.na.Lj(a,k);var t=n.mf(),p=null;null!=d&&(p=d.mf());var r=new e.b,q=new e.b,v=!1,w=!1,y=f*f,d=new e.Fm(b.D());for(m=0;m<b.D();m++)d.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,r),k.contains(r))if(g.I(r.x,r.y,r.x,r.y),null!=p&&(p.Ni(g,f),-1==p.next()))w=!0;else{t.Ni(g,f);for(var E=!1,A=t.next();-1!=A;A=t.next())if(c.Tb(n.ja(A)),A=c.ba(),A.gc(A.pe(r,!1),q),e.b.sc(r,
q)<=y){d.write(m,1);E=v=!0;break}E||(w=!0)}else w=!0;if(!v||!w)return!1;a=a.Gg();c=new e.Ed;g=new e.b;for(m=0;m<b.D();m++)0!=d.read(m)&&(b.w(m,g),c.lv(g.x,g.y));return!this.yx(a,c,f)};b.GX=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.Ec(d,l,f)||4==b.vc(a,c,!1)||!b.ZH(a,c,f,!0))return!1;a=a.Gg();return!b.CJ(a,c,f)};b.IL=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return l.fa()>f&&l.N()>f?!1:b.We(d,l,f)};b.pZ=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.Ec(l,
d,f)?!1:!b.XH(a,l,f)};b.jM=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(l.fa()<=f&&l.N()<=f)return l=c.Bq(),b.gC(a,l,f);if(l.fa()<=f||l.N()<=f)return l=new e.Ua,d=new e.Wa,c.ig(0,d),l.Rf(d),c.ig(2,d),l.lineTo(d),b.tD(a,l,f);a=a.Fa();c=new e.h;d=new e.h;c.I(l);d.I(l);c.O(-f,-f);d.O(f,f);for(var l=!1,g=new e.h,k=new e.h;a.Ya();)for(;a.Ea();){a.ba().s(g);k.I(c);k.Ma(g);if(!k.u()&&(k.fa()>f||k.N()>f))return!1;k.I(d);k.Ma(g);k.u()||(l=!0)}return l};b.ZL=function(a,c,f){var d=new e.h,l=new e.h;
a.s(d);c.s(l);if(b.Ec(d,l,f)||b.Ec(l,d,f)||b.Ec(l,d,f)||l.fa()>f&&l.N()>f||l.fa()<=f&&l.N()<=f)return!1;d=new e.Ua;l=new e.Wa;c.ig(0,l);d.Rf(l);c.ig(2,l);d.lineTo(l);return b.$H(a,d,f)};b.DM=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.Ec(l,d,f)||l.fa()<=f&&l.N()<=f)return!1;if(l.fa()<=f||l.N()<=f)return b.Ec(l,d,f);a=a.Fa();c=new e.h;c.I(l);c.O(-f,-f);for(var l=!1,d=new e.h,g=new e.h;a.Ya();)for(;a.Ea();)a.ba().s(d),c.Tm(d)?l=!0:(g.I(c),g.Ma(d),!g.u()&&(g.fa()>f||g.N()>f)&&(l=!0));
return l};b.nX=function(a,c,f){var d=new e.h,l=new e.h;c.s(l);a.s(d);if(!b.Ec(d,l,f)||l.fa()>f&&l.N()>f)return!1;if(l.fa()<=f&&l.N()<=f)return c=c.Bq(),b.yH(a,c,f);d=new e.Ua;l=new e.Wa;c.ig(0,l);d.Rf(l);c.ig(2,l);d.lineTo(l);return b.Wg(d,a,f,!1)};b.eZ=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(b.Ec(l,d,f)||l.fa()<=f&&l.N()<=f)return!1;if(l.fa()<=f||l.N()<=f)return d=new e.Ua,l=new e.Wa,c.ig(0,l),d.Rf(l),c.ig(2,l),d.lineTo(l),b.pD(a,d,f);a=a.Fa();c=new e.h;d=new e.h;d.I(l);c.I(l);d.O(-f,
-f);c.O(f,f);for(var g=l=!1,k=new e.h,m=new e.h;a.Ya();)for(;a.Ea();)if(a.ba().s(k),g||c.contains(k)||(g=!0),l||(m.I(d),m.Ma(k),!m.u()&&(m.fa()>f||m.N()>f)&&(l=!0)),l&&g)return!0;return!1};b.bM=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.We(d,l,f)?b.iM(a,c,f)?!0:b.QC(a,c,f,!1,!0,!1):!1};b.RL=function(a,c,f){return!b.CJ(a,c,f)};b.HM=function(a,c,f){return b.QC(a,c,f,!1,!1,!0)};b.sJ=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.Ec(d,l,f)?b.QC(c,a,f,!0,!1,!1):!1};
b.yx=function(a,b,f){f*=f;for(var c=new e.b,d=new e.b,g=0;g<b.D();g++){b.w(g,d);for(var k=!1,m=0;m<a.D();m++)if(a.w(m,c),e.b.sc(c,d)<=f){k=!0;break}if(!k)return!1}return!0};b.zx=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return b.We(d,l,f)};b.AJ=function(a,c,f){c=c.w();return b.$t(a,c,f)};b.SM=function(a,c,f){return b.zx(a,c,f)};b.oZ=function(a,c,f){return!b.AJ(a,c,f)};b.YL=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);return l.fa()>f||l.N()>f?!1:b.We(d,l,f)};b.NL=function(a,c,
f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(b.Ec(l,d,f))return!1;c=new e.h;c.I(l);c.O(f,f);f=new e.b;for(l=0;l<a.D();l++)if(a.w(l,f),c.contains(f))return!1;return!0};b.LM=function(a,b,f){var c=new e.h,d=new e.h,g=new e.h;b.s(c);if(c.fa()<=f&&c.N()<=f)return!1;if(c.fa()<=f||c.N()<=f){b=new e.b;var k=!1;d.I(c);g.I(c);d.O(f,f);c.fa()>f?g.O(0,-f):g.O(-f,0);for(var m=0;m<a.D();m++)if(a.w(m,b),d.contains(b)){if(c.fa()>f){if(b.y>g.A&&b.y<g.B)return!1}else if(b.x>g.o&&b.x<g.v)return!1;k=!0}return k}d.I(c);
g.I(c);d.O(f,f);g.O(-f,-f);b=new e.b;k=!1;for(m=0;m<a.D();m++)if(a.w(m,b),d.contains(b)){if(g.Tm(b))return!1;k=!0}return k};b.OM=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.Ec(l,d,f))return!1;if(l.fa()<=f&&l.N()<=f)return b.We(d,l,f);if(l.fa()<=f||l.N()<=f){c=!1;var d=new e.h,g=new e.h;d.I(l);g.I(l);l.fa()>f?d.O(0,-f):d.O(-f,0);g.O(f,f);for(var k=new e.b,m=0;m<a.D();m++){a.w(m,k);if(!g.contains(k))return!1;l.fa()>f?k.y>d.A&&k.y<d.B&&(c=!0):k.x>d.o&&k.x<d.v&&(c=!0)}return c}c=!1;d=
new e.h;g=new e.h;d.I(l);g.I(l);d.O(-f,-f);g.O(f,f);k=new e.b;for(m=0;m<a.D();m++){a.w(m,k);if(!g.contains(k))return!1;d.Tm(k)&&(c=!0)}return c};b.lZ=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(!b.Ec(d,l,f)||l.fa()>f||l.N()>f)return!1;c=c.Bq();return!b.$t(a,c,f)};b.HL=function(a,c,f){var d=new e.h,l=new e.h;a.s(d);c.s(l);if(b.Ec(l,d,f)||l.fa()<=f&&l.N()<=f)return!1;if(l.fa()<=f||l.N()<=f){c=new e.h;d=new e.h;c.I(l);l.fa()>f?c.O(0,-f):c.O(-f,0);d.I(l);d.O(f,f);for(var g=new e.b,k=!1,m=
!1,n=0;n<a.D();n++)if(a.w(n,g),k||(l.fa()>f?g.y>c.A&&g.y<c.B&&(k=!0):g.x>c.o&&g.x<c.v&&(k=!0)),m||d.contains(g)||(m=!0),k&&m)return!0;return!1}c=new e.h;d=new e.h;c.I(l);c.O(-f,-f);d.I(l);d.O(f,f);g=new e.b;m=k=!1;for(n=0;n<a.D();n++)if(a.w(n,g),!k&&c.Tm(g)&&(k=!0),m||d.contains(g)||(m=!0),k&&m)return!0;return!1};b.yL=function(a,b,f){return e.b.sc(a,b)<=f*f?!0:!1};b.MN=function(a,b,f){return e.b.sc(a,b)>f*f?!0:!1};b.eL=function(a,c,f){return b.yL(a,c,f)};b.qL=function(a,c,f){var d=new e.h;d.I(a);
return b.We(d,c,f)};b.Dx=function(a,b,f){var c=new e.h;c.I(b);c.O(f,f);return!c.contains(a)};b.WC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!1;var c=new e.h,d=new e.h;c.I(b);c.O(f,f);if(!c.contains(a))return!1;if(b.fa()<=f||b.N()<=f){d.I(b);b.fa()>f?d.O(0,-f):d.O(-f,0);if(b.fa()>f){if(a.y>d.A&&a.y<d.B)return!1}else if(a.x>d.o&&a.x<d.v)return!1;return!0}d.I(b);d.O(-f,-f);return d.Tm(a)?!1:!0};b.XC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!0;if(b.fa()<=f||b.N()<=f){var c=new e.h;c.I(b);b.fa()>
f?c.O(0,-f):c.O(-f,0);var d=!1;b.fa()>f?a.y>c.A&&a.y<c.B&&(d=!0):a.x>c.o&&a.x<c.v&&(d=!0);return d}c=new e.h;c.I(b);c.O(-f,-f);return c.Tm(a)};b.DN=function(a,c,f){return b.qL(a,c,f)};b.We=function(a,c,f){return b.Ec(a,c,f)&&b.Ec(c,a,f)};b.Ek=function(a,b,f){var c=new e.h;c.I(b);c.O(f,f);return!a.Yb(c)};b.CP=function(a,c,f){if(a.fa()<=f&&a.N()<=f){var d=a.Wf();return b.WC(d,c,f)}if(c.fa()<=f&&c.N()<=f)return d=c.Wf(),b.WC(d,a,f);a.fa()>f&&a.N()>f&&(c.fa()<=f||c.N()<=f)?d=c:(d=a,a=c);if(d.fa()<=f||
d.N()<=f){if(a.fa()<=f||a.N()<=f){c=new e.Hb;var l=new e.Hb,g=[0,0],k=[0,0],m=new e.b;d.Tn(m);c.Mc(m);d.Un(m);c.Zc(m);a.Tn(m);l.Mc(m);a.Un(m);l.Zc(m);c.Ma(l,null,g,k,f);return 1!=c.Ma(l,null,null,null,f)?!1:0==g[0]||1==g[1]||0==k[0]||1==k[1]}c=new e.h;l=new e.h;c.I(a);c.O(-f,-f);l.I(c);l.Ma(d);return!l.u()&&(l.fa()>f||l.N()>f)?!1:!0}a.O(f,f);l=new e.h;l.I(d);l.Ma(a);return l.u()||!l.u()&&l.fa()>f&&l.N()>f?!1:!0};b.$O=function(a,c,f){if(b.Ec(a,c,f)||b.Ec(c,a,f)||a.fa()<=f&&a.N()<=f||c.fa()<=f&&c.N()<=
f)return!1;if(a.fa()<=f||a.N()<=f){if(c.fa()>f&&c.N()>f)return!1;var d=new e.Hb,l=new e.Hb,g=[0,0],k=[0,0],m=new e.b;a.Tn(m);d.Mc(m);a.Un(m);d.Zc(m);c.Tn(m);l.Mc(m);c.Un(m);l.Zc(m);d.Ma(l,null,g,k,f);return 2!=d.Ma(l,null,null,null,f)?!1:(0<g[0]||1>g[1])&&(0<k[0]||1>k[1])}if(c.fa()<=f||c.N()<=f)return!1;d=new e.h;d.I(a);d.Ma(c);return d.u()||d.fa()<=f||d.N()<=f?!1:!0};b.RE=function(a,c,f){if(!b.Ec(a,c,f))return!1;if(a.fa()<=f&&a.N()<=f)return a=a.Wf(),b.XC(a,c,f);if(c.fa()<=f&&c.N()<=f)return c=c.Wf(),
b.XC(c,a,f);if(a.fa()<=f||a.N()<=f)return b.Ec(a,c,f);if(c.fa()<=f||c.N()<=f){var d=new e.h;d.I(a);d.O(-f,-f);if(d.Tm(c))return!0;a=new e.h;a.I(d);a.Ma(c);return a.u()||a.fa()<=f&&a.N()<=f?!1:!0}return b.Ec(a,c,f)};b.DL=function(a,c,f){if(b.Ec(a,c,f)||b.Ec(c,a,f)||a.fa()<=f&&a.N()<=f||c.fa()<=f&&c.N()<=f||c.fa()>f&&c.N()>f&&a.fa()>f&&a.N()>f)return!1;var d;a.fa()>f&&a.N()>f?d=c:(d=a,a=c);if(a.fa()>f&&a.N()>f){c=new e.h;var l=new e.h;l.I(a);l.O(-f,-f);c.I(l);c.Ma(d);return c.u()||c.fa()<=f&&c.N()<=
f?!1:!0}c=new e.Hb;var l=new e.Hb,g=[0,0],k=[0,0],m=new e.b;d.Tn(m);c.Mc(m);d.Un(m);c.Zc(m);a.Tn(m);l.Mc(m);a.Un(m);l.Zc(m);c.Ma(l,null,g,k,f);return 1!=c.Ma(l,null,null,null,f)?!1:0<g[0]&&1>g[1]&&0<k[0]&&1>k[1]};b.bD=function(a,b,f){var c,d,g=new e.h,k=new e.h,m=new e.Lm(a,b,f,!0);if(!m.next())return!0;if(this.fI(a,b,f))return!1;var n;n=a;var t;t=null;1736==b.G()&&(t=b);var p=!1,r=!1;do{c=m.Ql();d=m.Ml();d=b.Ba(b.wa(d));g.I(m.eA());g.O(f,f);if(g.contains(d)&&(d=e.gd.ge(n,d,0),0!=d)||1736==b.G()&&
(c=a.Ba(a.wa(c)),k.I(m.Iz()),k.O(f,f),k.contains(c)&&(d=e.gd.ge(t,c,0),0!=d)))return!1;p||(!e.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?n=a:(n=new e.Ja,a.copyTo(n),n.Hj(1)),p=!0);1736!=b.G()||r||(r=b,!e.ff.qm(r,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?t=b:(t=new e.Ja,r.copyTo(t),t.Hj(1)),r=!0)}while(m.next());return!0};b.Ec=function(a,b,f){var c=new e.h;c.I(a);c.O(f,f);return c.contains(b)};b.Yp=function(a,b,f){var c=new e.h;c.I(b);c.O(f,f);b=new e.b;a.Tn(b);if(!c.contains(b))return!0;a.TJ(b);if(!c.contains(b))return!0;
a.WJ(b);if(!c.contains(b))return!0;a.Un(b);return c.contains(b)?!1:!0};b.qJ=function(a,b,f){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var c=new e.b,d=new e.b,g=!0;f*=f;for(var k=0;k<a.aa();k++){if(a.Gc(k)!=b.Gc(k)){g=!1;break}for(var m=a.wa(k);m<b.Gc(k);m++)if(a.w(m,c),b.w(m,d),e.b.sc(c,d)>f){g=!1;break}if(!g)break}return g?!0:!1};b.iM=function(a,b,f){if(a.D()!=b.D())return!1;var c=new e.b,d=new e.b,g=!0;f*=f;for(var k=0;k<a.D();k++)if(a.w(k,c),b.w(k,d),e.b.sc(c,d)>f){g=!1;break}return g?!0:!1};b.QC=
function(a,b,f,d,l,g){var c=!1,h;a.D()>b.D()?(d&&(d=!1,c=!0),h=b):(h=a,a=b);b=null;if(l||g||c){b=new e.Fm(a.D());for(var k=0;k<a.D();k++)b.write(k,0)}var k=new e.h,u=new e.h,m=new e.h;h.s(k);a.s(u);k.O(f,f);u.O(f,f);m.I(k);m.Ma(u);for(var u=new e.b,n=new e.b,t=!0,p=e.na.BF(a,m),r=p.mf(),q=f*f,v=0;v<h.D();v++)if(h.w(v,u),m.contains(u)){var w=!1;k.I(u.x,u.y,u.x,u.y);r.Ni(k,f);for(var y=r.next();-1!=y&&!(y=p.ja(y),a.w(y,n),e.b.sc(u,n)<=q&&((l||g||c)&&b.write(y,1),w=!0,d));y=r.next());if(!w&&(t=!1,l||
d))return!1}else{if(l||d)return!1;t=!1}if(g&&t)return!1;if(d)return!0;for(k=0;k<a.D();k++)if(1==b.read(k)){if(g)return!0}else if(l||c)return!1;return g?!1:!0};b.CJ=function(a,b,f){var c;a.D()>b.D()?c=b:(c=a,a=b);b=new e.h;var d=new e.h,g=new e.h;c.s(b);a.s(d);b.O(f,f);d.O(f,f);g.I(b);g.Ma(d);for(var d=new e.b,k=new e.b,m=f*f,n=e.na.BF(a,g),t=n.mf(),p=0;p<c.D();p++)if(c.w(p,d),g.contains(d)){b.I(d.x,d.y,d.x,d.y);t.Ni(b,f);for(var r=t.next();-1!=r;r=t.next())if(a.w(n.ja(r),k),e.b.sc(d,k)<=m)return!0}return!1};
b.OB=function(a,c,f,d){return b.Wg(a,c,f,d)&&b.Wg(c,a,f,d)};b.Wg=function(a,c,f,h){function l(a,b){return p.WF(a,b)}var g=!0,k=[0,0],m=[0,0],n=0,t=new e.ia(0),p=new b,r,q=new e.h,v=new e.h,w=new e.h;a.s(q);c.s(v);q.O(f,f);v.O(f,f);w.I(q);w.Ma(v);a=a.Fa();var v=c.Fa(),y=null,E=y=null,A=c.ob;null!=A?(y=A.Mb,E=A.np,null==y&&(y=e.na.Lj(c,w))):y=e.na.Lj(c,w);c=y.mf();A=null;for(null!=E&&(A=E.mf());a.Ya();)for(;a.Ea();){var B=!1,D=a.ba();D.s(q);if(!q.Yb(w))return!1;if(null!=A&&(A.Ni(q,f),-1==A.next()))return g=
!1;E=D.Rb();c.Wn(D,f);for(r=c.next();-1!=r;r=c.next()){v.Tb(y.ja(r));r=v.ba();var C=D.Ma(r,null,k,m,f);if(2==C&&(!h||m[0]<=m[1])){var C=k[0],I=k[1],G=m[0],F=m[1];if(C*E<=f&&(1-I)*E<=f){B=!0;n=0;t.resize(0);p.Ph.length=0;for(var L=a.Db(),G=!0;G;){if(a.Ea()){D=a.ba();E=D.Rb();C=D.Ma(r,null,k,m,f);if(2==C&&(!h||m[0]<=m[1])&&(C=k[0],I=k[1],C*E<=f&&(1-I)*E<=f)){L=a.Db();continue}if(v.Ea()&&(r=v.ba(),C=D.Ma(r,null,k,m,f),2==C&&(!h||m[0]<=m[1])&&(C=k[0],I=k[1],C*E<=f&&(1-I)*E<=f))){L=a.Db();continue}}G=
!1}L!=a.Db()&&(a.Tb(L),a.ba());break}else L=a.Db(),r=d.pa(L,a.Ta,C,I,v.Db(),v.Ta,G,F),p.Ph.push(r),t.add(t.size)}}if(!B){if(n==p.Ph.length)return!1;1<t.size-n&&t.Gd(n,t.size,l);for(B=0;n<p.Ph.length;n++)if(r=p.Ph[t.get(n)],!(r.ek<B&&r.rj<B)){if(E*(r.ek-B)>f)return!1;B=r.rj;if(E*(1-B)<=f||1==B)break}if(E*(1-B)>f)return!1;n=0;t.resize(0);p.Ph.length=0}}return g};b.$H=function(a,c,f){if(1>b.RB(a,c,f,null))return!1;var d=new e.h,l=new e.h;a.s(d);c.s(l);var g=b.Yp(d,l,f),d=b.Yp(l,d,f);return g&&d?!0:g&&
!d?!b.Wg(c,a,f,!1):d&&!g?!b.Wg(a,c,f,!1):!b.Wg(a,c,f,!1)&&!b.Wg(c,a,f,!1)};b.RB=function(a,c,f,h){function l(a,b){return v.WF(a,b)}var g,k;a.iA()>c.iA()?(g=c,k=a):(g=a,k=c);a=g.Fa();c=k.Fa();var m=[0,0],n=[0,0],t=-1,p=0,r,q=new e.ia(0),v=new b,w,y=new e.h,E=new e.h,A=new e.h;g.s(y);k.s(E);y.O(f,f);E.O(f,f);A.I(y);A.Ma(E);g=null;null!=h&&(g=new e.b);r=E=E=null;var B=k.ob;null!=B?(E=B.Mb,r=B.np,null==E&&(E=e.na.Lj(k,A))):E=e.na.Lj(k,A);k=E.mf();B=null;for(null!=r&&(B=r.mf());a.Ya();)for(r=0;a.Ea();){var D=
a.ba();D.s(y);if(y.Yb(A)&&(null==B||(B.Ni(y,f),-1!=B.next()))){var C=D.Rb();k.Wn(D,f);for(var I=k.next();-1!=I;I=k.next()){var G=E.ja(I);c.Tb(G);w=c.ba();var F=w.Rb(),L=D.Ma(w,null,m,n,f);if(0<L){var I=m[0],t=n[0],H=2==L?m[1]:NaN,K=2==L?n[1]:NaN;if(2==L){if(C*(H-I)>f)return t=1;var Q=C*(H-I);if(c.Ea()){w=c.ba();L=D.Ma(w,null,m,null,f);if(2==L){var L=m[0],J=m[1],L=C*(J-L);if(Q+L>f)return t=1}c.Tb(G);c.ba()}if(!c.jn()){c.Li();w=c.Li();L=D.Ma(w,null,m,null,f);if(2==L&&(L=m[0],J=m[1],L=C*(J-L),Q+L>f))return t=
1;c.Tb(G);c.ba()}if(a.Ea()){G=a.Db();D=a.ba();L=D.Ma(w,null,m,null,f);if(2==L&&(L=m[0],J=m[1],L=C*(J-L),Q+L>f))return t=1;a.Tb(G);a.ba()}if(!a.jn()){G=a.Db();a.Li();D=a.Li();L=D.Ma(w,null,m,null,f);if(2==L&&(L=m[0],J=m[1],L=F*(J-L),Q+L>f))return t=1;a.Tb(G);a.ba()}w=d.pa(a.Db(),a.Ta,I,H,c.Db(),c.Ta,t,K);v.Ph.push(w);q.add(q.size)}t=0;null!=h&&(D.gc(I,g),h.add(g.x),h.add(g.y))}}if(p<v.Ph.length){q.Gd(p,q.size,l);D=0;for(I=v.Ph[q.get(p)].zn;p<v.Ph.length;p++)if(w=v.Ph[q.get(p)],!(w.ek<D&&w.rj<D))if(C*
(w.ek-D)>f)r=C*(w.rj-w.ek),D=w.rj,I=w.zn;else{w.zn!=I?(r=C*(w.rj-w.ek),I=w.zn):r+=C*(w.rj-w.ek);if(r>f)return t=1;D=w.rj;if(1==D)break}C*(1-D)>f&&(r=0);p=0;q.resize(0);v.Ph.length=0}}}return t};b.fI=function(a,b,f){var c=a.Fa(),d=b.Fa();for(a=new e.Lm(a,b,f,!1);a.next();){b=a.Ql();var g=a.Ml();c.Tb(b);d.Tb(g);b=c.ba();if(0<d.ba().Ma(b,null,null,null,f))return!0}return!1};b.ZH=function(a,b,f,d){var c=a.Fa(),h=new e.h,g=new e.h,k=new e.h;a.s(h);b.s(g);h.O(f,f);h.contains(g);g.O(f,f);k.I(h);k.Ma(g);
h=a.ob;null!=h?(h=h.Mb,null==h&&(h=e.na.Lj(a,k))):h=e.na.Lj(a,k);a=h.mf();for(var m=new e.b,n=new e.b,t=f*f,p=0;p<b.D();p++)if(b.w(p,m),k.contains(m)){g.I(m.x,m.y,m.x,m.y);a.Ni(g,f);for(var r=!1,q=a.next();-1!=q;q=a.next())if(c.Tb(h.ja(q)),q=c.ba(),q.gc(q.pe(m,!1),n),e.b.sc(n,m)<=t){r=!0;break}if(d){if(!r)return!1}else if(r)return!0}return d?!0:!1};b.HA=function(a,b,f){var c=new e.b,d=f*f,g=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var k=new e.h;k.I(b);f=a.Xz(k,f);for(k=f.next();-1!=k;k=f.next())if(g.Tb(a.ja(k)),
g.Ea()){var k=g.ba(),m=k.pe(b,!1);k.gc(m,c);if(e.b.sc(b,c)<=d)return!0}return!1}for(a=new e.h;g.Ya();)for(;g.Ea();)if(k=g.ba(),k.s(a),a.O(f,f),a.contains(b)&&(m=k.pe(b,!1),k.gc(m,c),e.b.sc(b,c)<=d))return!0;return!1};b.yH=function(a,c,f){return b.HA(a,c,f)&&!b.gC(a,c,f)};b.gC=function(a,c,f){a=a.Gg();return!b.$t(a,c,f)};b.XH=function(a,b,f){if(a.hn()){var c=new e.Hb(b.o,b.A,b.o,b.B),d=new e.Hb(b.o,b.B,b.v,b.B),g=new e.Hb(b.v,b.B,b.v,b.A);b=new e.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var k=
a.ba();if(k.Yb(c,f)||k.Yb(d,f)||k.Yb(g,f)||k.Yb(b,f))return!0}}else{c=new e.h;c.I(b);c.O(f,f);f=a.Pa(0);d=new e.b;g=new e.b;b=new e.b;for(var k=new e.b,m=0,n=a.aa();m<n;m++)for(var t=!0,p=a.wa(m),r=a.Gc(m);p<r;p++)if(t)f.fc(2*p,g),t=!1;else{f.fc(2*p,d);b.L(g);k.L(d);if(0!=c.gz(b,k))return!0;g.L(d)}}return!1};b.vc=function(a,c,f){var d=a.G(),l=c.G();if(e.T.gh(d)){var g=a.ob;if(null!=g&&(g=g.Hi,null!=g))if(33==l){var k=c.w(),k=g.rm(k.x,k.y);if(1==k)return 1;if(0==k)return 4}else{k=new e.h;c.s(k);k=
g.Rn(k);if(1==k)return 1;if(0==k)return 4;if(f&&e.T.gh(l)&&b.ZC(c,g))return 1073741824}}if(e.T.gh(l)&&(g=c.ob,null!=g&&(g=g.Hi,null!=g)))if(33==d){a=a.w();k=g.rm(a.x,a.y);if(1==k)return 2;if(0==k)return 4}else{c=new e.h;a.s(c);k=g.Rn(c);if(1==k)return 2;if(0==k)return 4;if(f&&e.T.gh(d)&&b.ZC(a,g))return 1073741824}return 0};b.ZC=function(a,b){for(var c=a.D(),d=new e.b,l=0;l<c;l++)if(a.w(l,d),1==b.rm(d.x,d.y))return!0;return!1};b.hD=function(a,b,f,d){for(var c=1<=a.Lk(0)&&1<=b.Lk(0),h=a.Fa(),g=b.Fa(),
k=[0,0],m=[0,0],n=new e.Lm(a,b,f,!1),t=!1;n.next();){var p=n.Ql(),r=n.Ml();h.Tb(p);g.Tb(r);p=h.ba();r=g.ba().Ma(p,null,m,k,f);if(2==r){t=k[0];r=k[1];p=p.Rb();if(c&&(r-t)*p>f)return!1;t=!0}else if(0!=r){t=k[0];p=m[0];if(0<t&&1>t&&0<p&&1>p)return!1;t=!0}}if(!t)return!1;h=new e.h;g=new e.h;c=new e.h;a.s(h);b.s(g);h.O(1E3*f,1E3*f);g.O(1E3*f,1E3*f);c.I(h);c.Ma(g);return 10<a.D()&&(a=e.ne.clip(a,c,f,0),a.u())||10<b.D()&&(b=e.ne.clip(b,c,f,0),b.u())?!1:e.Nm.gu(a,b,f,"F********",d)};b.cD=function(a,c,f,d){var h=
1<=a.Lk(0)&&1<=c.Lk(0),g=new e.h,k=new e.h,m=new e.h;a.s(g);c.s(k);for(var n=!1,t=b.Yp(g,k,f),p=b.Yp(k,g,f),r=a.Fa(),q=c.Fa(),v=[0,0],w=[0,0],y=new e.Lm(a,c,f,!1);y.next();){var E=y.Ql(),A=y.Ml();r.Tb(E);q.Tb(A);A=r.ba();E=q.ba().Ma(A,null,w,v,f);if(2==E){var E=v[0],B=v[1],A=A.Rb();if(h&&(B-E)*A>f&&(n=!0,t&&p))return!0}else if(0!=E&&(E=v[0],A=w[0],0<E&&1>E&&0<A&&1>A))return!0}h=new e.h;r=new e.h;h.I(g);h.O(1E3*f,1E3*f);r.I(k);r.O(1E3*f,1E3*f);m.I(h);m.Ma(r);g="";g=n?g+"**":g+"T*";if(t){if(10<c.D()&&
(c=e.ne.clip(c,m,f,0),c.u()))return!1;g+="****"}else g+="T***";if(p){if(10<a.D()&&(a=e.ne.clip(a,m,f,0),a.u()))return!1;g+="***"}else g+="T**";return e.Nm.gu(a,c,f,g.toString(),d)};b.BL=function(a,c,f,d){var h=[!1],g=b.zL(a,c,f,h);if(h[0])return g;h=new e.h;c.s(h);h.O(1E3*f,1E3*f);return 10<a.D()&&(a=e.ne.clip(a,h,f,0),a.u())?!1:e.Nm.Ex(a,c,f,d)};b.zL=function(a,b,f,d){d[0]=!1;for(var c=a.Fa(),h=b.Fa(),g=[0,0],k=[0,0],m=new e.Lm(a,b,f,!1),n=!1;m.next();){var t=m.Ql(),p=m.Ml();c.Tb(t,-1);h.Tb(p,-1);
t=c.ba();t=h.ba().Ma(t,null,k,g,f);if(0!=t&&(n=!0,1==t&&(t=g[0],p=k[0],0<t&&1>t&&0<p&&1>p)))return d[0]=!0,!1}if(!n){d[0]=!0;g=new e.h;a.s(g);g.O(f,f);m=a;n=!1;k=new e.h;d=0;for(c=b.aa();d<c;d++)if(0<b.La(d)){b.jk(d,k);if(g.Yb(k)){if(h=b.Ba(b.wa(d)),h=e.ff.kn(m,h,0),0==h)return!1}else return!1;n||(!e.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(h=new e.Ja,a.copyTo(h),h.Hj(1),m=h),n=!0)}if(1==a.aa()||1607==b.G())return!0;g=new e.h;b.s(g);g.O(f,f);k=b;m=!1;f=new e.h;d=0;for(c=a.aa();d<c;d++)if(0<
a.La(d)){a.jk(d,f);if(g.Yb(f)&&(h=a.Ba(a.wa(d)),h=e.ff.kn(k,h,0),1==h))return!1;m||(!e.ff.qm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?k=b:(h=new e.Ja,b.copyTo(h),h.Hj(1),k=h),m=!0)}return!0}return!1};b.jD=function(a,b,f,d){for(var c=a.Fa(),h=b.Fa(),g=[0,0],k=[0,0],m=new e.Lm(a,b,f,!1),n=!1;m.next();){var t=m.Ql(),p=m.Ml();c.Tb(t);h.Tb(p);t=c.ba();t=h.ba().Ma(t,null,k,g,f);if(2==t)n=!0;else if(0!=t){n=g[0];t=k[0];if(0<n&&1>n&&0<t&&1>t)return!1;n=!0}}if(!n)return!1;h=new e.h;g=new e.h;c=new e.h;a.s(h);
b.s(g);h.O(1E3*f,1E3*f);g.O(1E3*f,1E3*f);c.I(h);c.Ma(g);return 10<a.D()&&(a=e.ne.clip(a,c,f,0),a.u())||10<b.D()&&(b=e.ne.clip(b,c,f,0),b.u())?!1:e.Nm.On(a,b,f,"F********",d)};b.aD=function(a,c,f,d){for(var h=a.Fa(),g=c.Fa(),k=[0,0],m=[0,0],n=new e.Lm(a,c,f,!1),t=!1;n.next();){var p=n.Ql(),r=n.Ml();h.Tb(p);g.Tb(r);p=h.ba();p=g.ba().Ma(p,null,m,k,f);if(2==p)t=!0;else if(0!=p){t=k[0];p=m[0];if(0<t&&1>t&&0<p&&1>p)return!0;t=!0}}if(!t)return!1;g=new e.h;k=new e.h;m=new e.h;n=new e.h;h=new e.h;a.s(g);c.s(k);
return b.Yp(k,g,f)?(m.I(g),m.O(1E3*f,1E3*f),n.I(k),n.O(1E3*f,1E3*f),h.I(m),h.Ma(n),10<a.D()&&(a=e.ne.clip(a,h,f,0),a.u())||10<c.D()&&(c=e.ne.clip(c,h,f,0),c.u())?!1:f=e.Nm.On(a,c,f,"T********",d)):f=e.Nm.On(a,c,f,"T*****T**",d)};b.CL=function(a,c,f,d){var h=[!1],g=b.zL(a,c,f,h);if(h[0])return g;h=new e.h;c.s(h);h.O(1E3*f,1E3*f);return 10<a.D()&&(a=e.ne.clip(a,h,f,0),a.u())?!1:e.Nm.LB(a,c,f,d)};b.AL=function(a,b,f){return 1==e.gd.ge(a,b,f)?!0:!1};b.eD=function(a,b,f){return 2==e.gd.ge(a,b,f)?!0:!1};
b.$t=function(a,b,f){var c=new e.b;f*=f;for(var d=0;d<a.D();d++)if(a.w(d,c),e.b.sc(c,b)<=f)return!1;return!0};b.prototype.WF=function(a,b){a=this.Ph[a];b=this.Ph[b];return a.zn<b.zn||a.zn==b.zn&&(a.bx<b.bx||a.bx==b.bx&&(a.ek<b.ek||a.ek==b.ek&&(a.rj<b.rj||a.rj==b.rj&&a.RI<b.RI)))?-1:1};return b}();e.Fd=g})(m||(m={}));(function(d){var e;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]=
"BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(e||(e={}));var g;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";
b[b.PointPointPredicates=5]="PointPointPredicates"})(g||(g={}));e=function(){function b(){this.Ie=0;this.i=new d.Qu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.ga=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Fn=this.jx=-1}b.YB=function(a,b,f,e,l){if(9!=e.length)throw d.g.X("relation string length has to be 9 characters");for(var c=0;9>c;c++){var h=e.charAt(c);if("*"!=h&&"T"!=h&&"F"!=h&&"0"!=h&&"1"!=h&&"2"!=h)throw d.g.X("relation string");}c=this.FT(e,a.tb(),b.tb());if(0!=c)return d.Fd.ZB(a,
b,f,c,l);c=new d.h;a.s(c);h=new d.h;b.s(h);var g=new d.h;g.I(c);g.Nb(h);f=d.na.be(f,g,!1);a=this.bG(a,f);b=this.bG(b,f);if(a.u()||b.u())return this.sX(a,b,e);c=b.G();h=!1;switch(a.G()){case 1736:switch(c){case 1736:h=this.gu(a,b,f,e,l);break;case 1607:h=this.On(a,b,f,e,l);break;case 33:h=this.fu(a,b,f,e,l);break;case 550:h=this.eu(a,b,f,e,l)}break;case 1607:switch(c){case 1736:h=this.On(b,a,f,this.Pq(e),l);break;case 1607:h=this.MB(a,b,f,e,l);break;case 33:h=this.iu(a,b,f,e,l);break;case 550:h=this.hu(a,
b,f,e,l)}break;case 33:switch(c){case 1736:h=this.fu(b,a,f,this.Pq(e),l);break;case 1607:h=this.iu(b,a,f,this.Pq(e),l);break;case 33:h=this.GW(a,b,f,e);break;case 550:h=this.au(b,a,f,this.Pq(e),l)}break;case 550:switch(c){case 1736:h=this.eu(b,a,f,this.Pq(e),l);break;case 1607:h=this.hu(b,a,f,this.Pq(e),l);break;case 550:h=this.DB(a,b,f,e,l);break;case 33:h=this.au(a,b,f,e,l)}break;default:h=!1}return h};b.gu=function(a,c,f,e,l){var h=new b;h.xj();h.Bj(e);h.oK();var g=new d.h,k=new d.h;a.s(g);c.s(k);
e=!1;d.Fd.Ek(g,k,f)&&(h.mv(a,c),e=!0);e||(g=d.Fd.vc(a,c,!1),4==g?(h.mv(a,c),e=!0):1==g?(h.Sy(c),e=!0):2==g&&(h.lF(a),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),h.Fp(e,f,l),h.tq(a,c),h.i.qh());return b.zg(h.H,h.dd)};b.Ex=function(a,c,f,e){var h=new b;h.xj();h.Bj("T*****F**");h.oK();var g=new d.h,k=new d.h;a.s(g);c.s(k);var m=!1;d.Fd.Ek(g,k,f)&&(h.mv(a,c),m=!0);m||(g=d.Fd.vc(a,c,!1),4==g?(h.mv(a,c),m=!0):1==g?(h.Sy(c),m=!0):2==g&&(h.lF(a),m=!0));if(m)return g=this.zg(h.H,h.dd);m=new d.fd;a=m.Jb(a);g=
m.Jb(c);d.sk.V(m,f,e,!1);f=m.Se(g).Gg();m.zq(0,!0,!0);d.lo.V(m,a,-1,!1,e);if(0==m.D(a))return!1;d.lo.V(m,g,-1,!1,e);h.Yr(m,e);c=0==m.D(g);if(!c&&(h.tq(a,g),h.i.qh(),g=this.zg(h.H,h.dd),!g))return g;a=m.Se(a);m=new d.fd;a=m.Jb(a);g=m.Jb(f);h.Yr(m,e);h.Ie=0;h.xj();h.Bj(c?"T*****F**":"******F**");h.hC();h.tq(a,g);h.i.qh();return g=this.zg(h.H,h.dd)};b.On=function(a,c,f,e,g){var h=new b;h.xj();h.Bj(e);h.hC();var l=new d.h,k=new d.h;a.s(l);c.s(k);e=!1;d.Fd.Ek(l,k,f)&&(h.nv(a,c),e=!0);e||(l=d.Fd.vc(a,c,
!1),4==l?(h.nv(a,c),e=!0):1==l&&(h.mF(c),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),h.Fp(e,f,g),h.Fh=h.i.wq(),b.pv(c,h.i,h.Fh),h.tq(a,c),h.i.xq(h.Fh),h.i.qh());return b.zg(h.H,h.dd)};b.LB=function(a,c,f,e){var h=new b;h.xj();h.Bj("T*****F**");h.hC();var g=new d.h,k=new d.h;a.s(g);c.s(k);var m=!1;d.Fd.Ek(g,k,f)&&(h.nv(a,c),m=!0);m||(g=d.Fd.vc(a,c,!1),4==g?(h.nv(a,c),m=!0):1==g&&(h.mF(c),m=!0));if(m)return f=this.zg(h.H,h.dd);m=new d.fd;a=m.Jb(a);c=m.Jb(c);h.Fp(m,f,e);if(0==m.D(a))return!1;h.tq(a,c);
h.i.qh();return f=this.zg(h.H,h.dd)};b.eu=function(a,c,f,e,g){var h=new b;h.xj();h.Bj(e);h.pK();var l=new d.h,k=new d.h;a.s(l);c.s(k);e=!1;d.Fd.Ek(l,k,f)&&(h.ov(a),e=!0);e||(l=d.Fd.vc(a,c,!1),4==l?(h.ov(a),e=!0):1==l&&(h.BP(),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),h.Fp(e,f,g),h.lz(a,c),h.i.qh());return b.zg(h.H,h.dd)};b.MB=function(a,c,f,e,g){var h=new b;h.xj();h.Bj(e);h.ZX();e=new d.h;var l=new d.h;a.s(e);c.s(l);var k=!1;d.Fd.Ek(e,l,f)&&(h.dI(a,c),k=!0);k||4!=d.Fd.vc(a,c,!1)||(h.dI(a,c),k=!0);
k||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),h.Fp(e,f,g),h.xi=h.i.wq(),h.Fh=h.i.wq(),b.pv(a,h.i,h.xi),b.pv(c,h.i,h.Fh),h.tq(a,c),h.i.xq(h.xi),h.i.xq(h.Fh),h.i.qh());return b.zg(h.H,h.dd)};b.hu=function(a,c,f,e,g){var h=new b;h.xj();h.Bj(e);h.DK();e=new d.h;var l=new d.h;a.s(e);c.s(l);var k=!1;d.Fd.Ek(e,l,f)&&(h.GA(a),k=!0);k||4!=d.Fd.vc(a,c,!1)||(h.GA(a),k=!0);k||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),h.Fp(e,f,g),h.xi=h.i.wq(),b.pv(a,h.i,h.xi),h.lz(a,c),h.i.xq(h.xi),h.i.qh());return b.zg(h.H,h.dd)};b.DB=function(a,
c,f,e,g){var h=new b;h.xj();h.Bj(e);h.IK();e=new d.h;var l=new d.h;a.s(e);c.s(l);var k=!1;d.Fd.Ek(e,l,f)&&(h.GJ(),k=!0);k||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),h.Fp(e,f,g),h.lz(a,c),h.i.qh());return b.zg(h.H,h.dd)};b.fu=function(a,c,f,e){var h=new b;h.xj();h.Bj(e);h.pK();var g=new d.h;a.s(g);c=c.w();var k=!1;d.Fd.Dx(c,g,f)&&(h.ov(a),k=!0);k||(f=d.gd.ge(a,c,f),1==f?(h.H[0]=0,h.H[2]=2,h.H[3]=-1,h.H[5]=1,h.H[6]=-1):2==f?(h.H[6]=-1,0!=a.hf()?(h.H[0]=-1,h.H[3]=0,h.H[2]=2,h.H[5]=1):(h.H[0]=0,h.H[3]=-1,h.H[5]=
-1,f=new d.h,a.s(f),h.H[2]=0==f.fa()&&0==f.N()?-1:1)):h.ov(a));return this.zg(h.H,e)};b.iu=function(a,c,f,e,g){var h=new b;h.xj();h.Bj(e);h.DK();var l=new d.h;a.s(l);e=c.w();var k=!1;d.Fd.Dx(e,l,f)&&(h.GA(a),k=!0);if(!k){var l=null,m=k=!1;if(h.ga[0]||h.ga[6])d.Fd.HA(a,e,f)?(h.ga[0]&&(l=d.Pi.Rm(a,g),m=!d.Fd.$t(l,e,f),k=!0,h.H[0]=m?-1:0),h.H[6]=-1):(h.H[0]=-1,h.H[6]=0);h.ga[3]&&(null!=l&&l.u()?h.H[3]=-1:(k||(null==l&&(l=d.Pi.Rm(a,g)),m=!d.Fd.$t(l,e,f),k=!0),h.H[3]=m?0:-1));h.ga[5]&&(null!=l&&l.u()?
h.H[5]=-1:k&&!m?h.H[5]=0:(null==l&&(l=d.Pi.Rm(a,g)),g=d.Fd.zx(l,c,f),h.H[5]=g?-1:0));h.ga[2]&&(0!=a.Rb()?h.H[2]=1:(g=new d.Ed(a.description),g.Id(a,0,a.D()),a=d.Fd.zx(g,c,f),h.H[2]=a?-1:0))}return this.zg(h.H,h.dd)};b.au=function(a,c,f,e){var h=new b;h.xj();h.Bj(e);h.IK();var g=new d.h;a.s(g);c=c.w();var k=!1;d.Fd.Dx(c,g,f)&&(h.GJ(),k=!0);if(!k){g=!1;k=!0;f*=f;for(var m=0;m<a.D();m++){var n=a.Ba(m);d.b.sc(n,c)<=f?g=!0:k=!1;if(g&&!k)break}g?(h.H[0]=0,h.H[2]=k?-1:0,h.H[6]=-1):(h.H[0]=-1,h.H[2]=0,h.H[6]=
0)}return b.zg(h.H,e)};b.GW=function(a,c,f,e){a=a.w();c=c.w();for(var h=[],g=0;9>g;g++)h[g]=-1;d.b.sc(a,c)<=f*f?h[0]=0:(h[2]=0,h[6]=0);h[8]=2;return b.zg(h,e)};b.zg=function(a,b){for(var c=0;9>c;c++)switch(b.charAt(c)){case "T":if(-1==a[c])return!1;break;case "F":if(-1!=a[c])return!1;break;case "0":if(0!=a[c])return!1;break;case "1":if(1!=a[c])return!1;break;case "2":if(2!=a[c])return!1}return!0};b.sX=function(a,b,f){var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var e=0;9>e;e++)c[e]=-1;
return this.zg(c,f)}e=!1;a.u()&&(a=b,e=!0);c[0]=-1;c[1]=-1;c[3]=-1;c[4]=-1;c[6]=-1;c[7]=-1;c[8]=2;b=a.G();d.T.Ic(b)?1736==b?0!=a.hf()?(c[2]=2,c[5]=1):(c[5]=-1,b=new d.h,a.s(b),c[2]=0==b.fa()&&0==b.N()?0:1):(b=0!=a.Rb(),c[2]=b?1:0,c[5]=d.Pi.Rq(a)?0:-1):(c[2]=0,c[5]=-1);e&&this.kL(c);return this.zg(c,f)};b.FT=function(a,c,f){return b.kQ(a)?3:b.sO(a)?4:b.gU(a,c,f)?8:b.jO(a,c,f)?16:b.ON(a)?1:b.ZM(a,c,f)?32:0};b.kQ=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.sO=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.gU=function(a,b,f){if(0==b&&0==f)return!1;if(2!=b||2!=f)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==b&&1==f&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=f&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.jO=function(a,b,f){return b>f?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==f&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ON=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.ZM=function(a,b,f){if(b==f){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.pv=function(a,b,f){a=b.Ia(a);for(var c=b.rf;-1!=c;c=b.og(c))if(0!=(b.Md(c)&a)){var d=b.kf(c);if(-1==d)b.co(c,f,0);else{var e=d,g=0;do 0!=(b.Ah(e)&a)&&g++,e=b.qc(b.Aa(e));while(e!=d);b.co(c,
f,g)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.xj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.kL=function(a){var b=a[1],f=a[2],d=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=f;a[7]=d};b.prototype.Bj=function(a){this.dd=a;for(a=0;9>a;a++)"*"!=this.dd.charAt(a)?(this.ga[a]=!0,this.Ie++):this.ga[a]=!1};b.prototype.LK=function(){for(var a=0;9>
a;a++)this.ga[a]&&-2==this.H[a]&&(this.H[a]=-1,this.ga[a]=!1)};b.prototype.uc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.ga[a]=!1,this.Ie--,!0;if("T"!=this.dd.charAt(a)&&"F"!=this.dd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.ga[a]=!1;this.Ie--;return!0}this.ga[a]=!1;this.Ie--;return!0};b.prototype.oK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=
!1,this.Ie--)};b.prototype.hC=function(){this.jx=1;this.Fn=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.ZX=function(){this.jx=2;this.Fn=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.pK=function(){this.Fn=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.DK=function(){this.Fn=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);
this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.IK=function(){this.Fn=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[3]&&(this.H[3]=-1,this.ga[3]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[5]&&(this.H[5]=-1,this.ga[5]=
!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.zP=function(a,b,f){var c=!0;this.ga[0]&&(this.xU(a,b,f),c=c&&this.uc(0));this.ga[1]&&(this.FH(a,b,1),c=c&&this.uc(1));this.ga[2]&&(this.GH(a,b,f,2),c=c&&this.uc(2));this.ga[3]&&(this.FH(a,f,3),c=c&&this.uc(3));this.ga[4]&&(this.FP(a,b,f),c=c&&this.uc(4));this.ga[5]&&(this.rF(a,f,5),c=c&&this.uc(5));this.ga[6]&&(this.GH(a,f,b,6),c=c&&this.uc(6));this.ga[7]&&(this.rF(a,b,7),
c=c&&this.uc(7));return c};b.prototype.mv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5));this.Ds(b,this.ga[6]?6:-1,this.dd.charAt(6),this.ga[7]?7:-1,this.dd.charAt(7))};b.prototype.Ds=function(a,b,f,e,g){if(-1!=b||-1!=e)("T"!=f&&"F"!=f&&-1!=b||"T"!=g&&"F"!=g&&-1!=e?0!=a.hf():1)?(-1!=b&&(this.H[b]=2),-1!=e&&(this.H[e]=1)):(-1!=e&&(this.H[e]=-1),-1!=b&&(f=new d.h,a.s(f),this.H[b]=0==f.fa()&&0==f.N()?0:
1))};b.prototype.Sy=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Ds(a,this.ga[0]?0:-1,this.dd.charAt(0),this.ga[1]?1:-1,this.dd.charAt(1))};b.prototype.lF=function(a){this.Sy(a);b.kL(this.H)};b.prototype.nv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[6]){var c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[6]=c?1:0}this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1);this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?
5:-1,this.dd.charAt(5))};b.prototype.mF=function(a){if(this.ga[0]){var b=this.dd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.ga[1]&&(a=d.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.ov=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.BP=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.dI=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[2]){var c=this.dd.charAt(2),c="T"!=c&&"F"!=c?0!=a.Rb():!0;this.H[2]=c?1:0}this.ga[5]&&(c=d.Pi.Rq(a),this.H[5]=c?0:-1);this.ga[6]&&(c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0,this.H[6]=c?1:0);this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1)};b.prototype.GA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.ga[2]){var b=this.dd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.ga[5]&&(a=d.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.GJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.AP=function(a,b,f){var c=!0;this.ga[0]&&(this.yU(a,b),c=c&&this.uc(0));this.ga[1]&&(this.uU(a,b,f,this.Fh),c=c&&this.uc(1));this.ga[2]&&(this.vU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.JP(a,b,f,this.Fh),c=c&&this.uc(3));this.ga[4]&&(this.GP(a,b,f,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.HP(a,b,f),c=c&&this.uc(5));this.ga[6]&&(this.dS(a,b),c=c&&this.uc(6));this.ga[7]&&(this.cS(a,b,f,this.Fh),c=c&&this.uc(7));
return c};b.prototype.nV=function(a,b,f){var c=!0;this.ga[0]&&(this.BU(a,b,f,this.xi,this.Fh),c=c&&this.uc(0));this.ga[1]&&(this.HH(a,b,f,this.xi,this.Fh,1),c=c&&this.uc(1));this.ga[2]&&(this.IH(a,b,f,2),c=c&&this.uc(2));this.ga[3]&&(this.HH(a,f,b,this.Fh,this.xi,3),c=c&&this.uc(3));this.ga[4]&&(this.LP(a,b,f,this.xi,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.sF(a,f,this.xi,5),c=c&&this.uc(5));this.ga[6]&&(this.IH(a,f,b,6),c=c&&this.uc(6));this.ga[7]&&(this.sF(a,b,this.Fh,7),c=c&&this.uc(7));return c};
b.prototype.nF=function(a,b,f){var c=!0;this.ga[0]&&(this.zU(a,b),c=c&&this.uc(0));this.ga[2]&&(this.wU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.KP(a,b,f),c=c&&this.uc(3));this.ga[5]&&(this.IP(a,b),c=c&&this.uc(5));this.ga[6]&&(this.eS(a,b),c=c&&this.uc(6));return c};b.prototype.eI=function(a,b,f){var c=!0;this.ga[0]&&(this.CU(a,b,f,this.xi),c=c&&this.uc(0));this.ga[2]&&(this.AU(a,f),c=c&&this.uc(2));this.ga[3]&&(this.NP(a,b,f,this.xi),c=c&&this.uc(3));this.ga[5]&&(this.MP(a,b,f,this.xi),c=c&&this.uc(5));
this.ga[6]&&(this.fS(a,b,f),c=c&&this.uc(6));return c};b.prototype.FW=function(a,b,f){var c=!0;this.ga[0]&&(this.DU(a,b,f),c=c&&this.uc(0));this.ga[2]&&(this.JH(a,b,f,2),c=c&&this.uc(2));this.ga[6]&&(this.JH(a,f,b,6),c=c&&this.uc(6));return c};b.prototype.xU=function(a,b,f){2!=this.H[0]&&(a=this.i.Ff(a),0!=(a&b)&&0!=(a&f)&&(this.H[0]=2))};b.prototype.FH=function(a,b,f){if(1!=this.H[f]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&b)&&0!=(c&b)&&(this.H[f]=1)}};b.prototype.GH=function(a,b,f,d){2!=
this.H[d]&&(a=this.i.Ff(a),0!=(a&b)&&0==(a&f)&&(this.H[d]=2))};b.prototype.FP=function(a,b,f){if(1!=this.H[4]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&f)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Md(this.i.Xf(a)),0!=(a&b)&&0!=(a&f)&&(this.H[4]=0))}};b.prototype.rF=function(a,b,f){if(1!=this.H[f]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[f]=1)}};b.prototype.yU=function(a,b){if(1!=this.H[0]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&
b)&&0!=(c&b)&&(this.H[0]=1)}};b.prototype.uU=function(a,b,f,d){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),e=this.i.Md(c);0==(e&b)&&0!=(this.i.Ff(a)&b)&&(a=this.i.Hg(c,d),0!=(e&f)&&0!=a%2&&(this.H[1]=0))}};b.prototype.vU=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.JP=function(a,b,f,d){if(1!=this.H[3]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&f)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(c=this.i.Xf(a),
a=this.i.Md(c),0!=(a&b)&&(b=this.i.Hg(c,d),0!=(a&f)&&0==b%2&&(this.H[3]=0)))}};b.prototype.GP=function(a,b,f,d){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a);a=this.i.Md(c);0!=(a&b)&&(b=this.i.Hg(c,d),0!=(a&f)&&0!=b%2&&(this.H[4]=0))}};b.prototype.HP=function(a,b,f){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&f)&&(this.H[5]=1))};b.prototype.dS=function(a,b){if(1!=this.H[6]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[6]=1)}};b.prototype.cS=
function(a,b,f,d){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),e=this.i.Md(c);0==(e&b)&&0==(this.i.Ff(a)&b)&&(a=this.i.Hg(c,d),0!=(e&f)&&0!=a%2&&(this.H[7]=0))}};b.prototype.BU=function(a,b,f,d,e){if(1!=this.H[0]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&f)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),c=this.i.Md(a),0!=(c&b)&&0!=(c&f)&&(b=this.i.Hg(a,d),e=this.i.Hg(a,e),0==b%2&&0==e%2&&(this.H[0]=0)))}};b.prototype.HH=function(a,
b,f,d,e,g){if(0!=this.H[g]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&f)&&(b=this.i.Hg(a,d),e=this.i.Hg(a,e),0==b%2&&0!=e%2&&(this.H[g]=0))}};b.prototype.IH=function(a,b,f,d){1!=this.H[d]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&f)&&(this.H[d]=1))};b.prototype.LP=function(a,b,f,d,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&f)&&(b=this.i.Hg(a,d),e=this.i.Hg(a,e),0!=b%2&&0!=e%2&&(this.H[4]=
0))}};b.prototype.sF=function(a,b,f,d){0!=this.H[d]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),0==(this.i.Md(a)&b)&&0!=this.i.Hg(a,f)%2&&(this.H[d]=0))};b.prototype.zU=function(a,b){0!=this.H[0]&&0==(this.i.Md(a)&b)&&0!=(this.i.Ik(this.i.Kz(a))&b)&&(this.H[0]=0)};b.prototype.wU=function(a,b){2!=this.H[2]&&0!=(this.i.Md(a)&b)&&(this.H[2]=2)};b.prototype.KP=function(a,b,f){0!=this.H[3]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&f)&&(this.H[3]=0))};b.prototype.IP=function(a,b){1!=this.H[5]&&
0!=(this.i.Md(a)&b)&&(this.H[5]=1)};b.prototype.eS=function(a,b){0!=this.H[6]&&0==(this.i.Md(a)&b)&&0==(this.i.Ik(this.i.Kz(a))&b)&&(this.H[6]=0)};b.prototype.CU=function(a,b,f,d){if(0!=this.H[0]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&f)&&0==this.i.Hg(a,d)%2&&(this.H[0]=0)}};b.prototype.AU=function(a,b){1!=this.H[2]&&(-1!=this.i.kf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Md(a)&b)&&(this.H[2]=0))};b.prototype.NP=function(a,b,f,d){if(0!=this.H[3]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&f)&&0!=this.i.Hg(a,
d)%2&&(this.H[3]=0)}};b.prototype.MP=function(a,b,f,d){if(0!=this.H[5]){var c=this.i.Md(a);0!=(c&b)&&0==(c&f)&&0!=this.i.Hg(a,d)%2&&(this.H[5]=0)}};b.prototype.fS=function(a,b,f){0!=this.H[6]&&(a=this.i.Md(a),0==(a&b)&&0!=(a&f)&&(this.H[6]=0))};b.prototype.DU=function(a,b,f){0!=this.H[0]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&f)&&(this.H[0]=0))};b.prototype.JH=function(a,b,f,d){0!=this.H[d]&&(a=this.i.Md(a),0!=(a&b)&&0==(a&f)&&(this.H[d]=0))};b.prototype.tq=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.vj=this.i.xh();for(var e=this.i.rf;-1!=e;e=this.i.og(e)){var g=this.i.kf(e);if(-1==g){if(-1!=this.Fn)switch(this.Fn){case 3:c=this.nF(e,a,b);break;case 4:c=this.eI(e,a,b);break;default:throw d.g.X("internal error");}}else{var k=g;do{var m=k;if(1!=this.i.Kb(m,this.vj)){do{switch(this.jx){case 0:c=this.zP(m,a,b);break;case 1:c=this.AP(m,a,b);break;case 2:c=this.nV(m,a,b);break;default:throw d.g.X("internal error");}if(c)break;this.i.Ob(m,this.vj,1);m=this.i.qc(m)}while(m!=k&&!c)}if(c)break;k=this.i.qc(this.i.Aa(m))}while(k!=
g);if(c)break}}c||this.LK();this.i.ni(this.vj)};b.prototype.lz=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var e=this.i.rf;-1!=e;e=this.i.og(e)){switch(this.Fn){case 3:c=this.nF(e,a,b);break;case 4:c=this.eI(e,a,b);break;case 5:c=this.FW(e,a,b);break;default:throw d.g.za();}if(c)break}c||this.LK()};b.prototype.Yr=function(a,b){this.i.Wr(a,b)};b.prototype.Fp=function(a,b,f){this.VR(a,b,f);this.Yr(a,f)};b.prototype.VR=function(a,b,f){d.sk.V(a,b,f,!1);a.zq(0,!0,!0);for(b=a.sd;-1!=b;b=a.Ue(b))1736==
a.hc(b)&&d.lo.V(a,b,-1,!1,f)};b.bG=function(a,b){var c=a.G();if(d.T.Oc(c))return c=new d.Ua(a.description),c.dc(a,!0),c;if(197==c){c=new d.h;a.s(c);if(c.fa()<=b&&c.N()<=b)return c=new d.Wa(a.description),a.Wf(c),c;if(c.fa()<=b||c.N()<=b)return c=new d.Ua(a.description),b=new d.Wa,a.ig(0,b),c.Rf(b),a.ig(2,b),c.lineTo(b),c;c=new d.Ja(a.description);c.jd(a,!1);return c}return a};return b}();d.Nm=e})(m||(m={}));(function(d){var e=function(){function a(a){this.sn=new d.ia(0);this.Rw=new d.ia(0);this.mu=
new d.b;this.nu=new d.b;this.a=a;this.Dt=-1}a.prototype.ic=function(a){return this.a.ic(this.jA(a))};a.prototype.ow=function(a){var b=this.Rz(a);a=this.SG(a);if(this.a.Ra(b)==a){var c=b,b=a;a=c}this.a.Nc(b,this.mu);this.a.Nc(a,this.nu);return this.mu.y<this.nu.y};a.prototype.jA=function(a){var b=this.Rz(a);a=this.SG(a);return this.a.U(b)==a?b:a};a.prototype.Rz=function(a){return this.sn.get(a)};a.prototype.SG=function(a){return this.Rw.get(a)};a.prototype.CG=function(a){this.sn.set(a,this.Dt);this.Dt=
a};a.prototype.wJ=function(a){if(-1!=this.Dt){var b=this.Dt;this.Dt=this.sn.get(b);this.sn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.sn&&(this.sn=new d.ia(0),this.Rw=new d.ia(0));b=this.sn.size;this.sn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.cA=function(a){return this.a.ld(this.Rz(a))};return a}();d.LZ=e;var g=function(){function a(a){this.bf=a;this.Fe=new d.Hb;this.An=new d.Hb;this.SI=0;this.op=null;this.eB=-1}a.prototype.compare=function(a,b,d){d=a.ja(d);var c=this.bf.ib,
f;this.eB==b?f=this.SI:(this.op=c.ic(b),null==this.op?(a=c.a,a.pd(c.jA(b),this.Fe),this.op=this.Fe,f=this.Fe.pf(this.bf.Wh,0)):f=this.op.pf(this.bf.Wh,0),this.SI=f,this.eB=b);a=c.ic(d);var e;null==a?(a=c.a,a.pd(c.jA(d),this.An),a=this.An,e=this.An.pf(this.bf.Wh,0)):e=a.pf(this.bf.Wh,0);f==e&&(b=c.ow(b),d=c.ow(d),d=Math.min(b?this.op.oa:this.op.ra,d?a.oa:a.ra),b=.5*(d+this.bf.Wh),b==this.bf.Wh&&(b=d),f=this.op.pf(b,0),e=a.pf(b,0));return f<e?-1:f>e?1:0};a.prototype.reset=function(){this.eB=-1};return a}(),
b=function(){function a(){this.Kn=this.jm=null;this.hb=new d.uk;this.hb.OR();this.we=new g(this);this.hb.Ep(this.we)}a.prototype.yS=function(){var a=!1;this.Vw&&(a=this.zS());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.gA(b);this.a.oC(b,!0);return 0>a?(a=this.a.cb(b),this.a.fK(a),this.a.sh(b,this.a.Ra(a)),!0):!1}this.hm=this.a.rz();this.kp=this.a.rz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.$r(b,this.hm,0),this.a.$r(b,this.kp,-1);b=new d.ia(0);this.Wh=NaN;var e=new d.b;this.Xt=
this.a.aa(this.Y);this.fp=this.a.Vd();this.Mt=this.a.Vd();for(var g=this.jm.xc(this.jm.Ge);-1!=g;g=this.jm.nb(g)){var k=this.jm.getData(g);this.a.Nc(k,e);e.y!=this.Wh&&0!=b.size&&(a=this.ju(b)||a,this.we.reset(),b.clear(!1));b.add(k);this.Wh=e.y;if(0==this.Xt)break}0<this.Xt&&(a=this.ju(b)||a,b.clear(!1));this.a.le(this.fp);this.a.le(this.Mt);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Tj(b,this.hm)){this.a.oC(b,!0);e=b;for(b=this.a.Tj(b,this.kp);-1!=b;)g=this.a.Tj(b,this.kp),this.a.XV(this.Y,this.a.Sb(e),
b),e=b,b=g;b=this.a.Sb(e)}else this.a.oC(b,!1),b=this.a.Sb(b);this.a.bC(this.hm);this.a.bC(this.kp);return a};a.prototype.ju=function(a){return this.SW(a)};a.prototype.SW=function(a){var b=!1;null==this.ib&&(this.ib=new e(this.a));null==this.Kn?(this.Kn=new d.ia(0),this.Kn.yb(16)):this.Kn.clear(!1);this.RW(a);for(var c=0,g=a.size;c<g;c++){var k=a.get(c);-1!=k&&this.CH(k,-1)}for(c=0;c<this.Kn.size&&0<this.Xt;c++)if(a=this.Kn.get(c),k=this.ib.cA(this.hb.ja(a)),g=-1,0==this.a.Tj(k,this.hm)){for(var k=
this.hb.Ve(a),m=a,n;-1!=k;){var t=this.hb.ja(k),p=this.ib.cA(t),r=this.a.Tj(p,this.hm);if(0!=r){g=p;break}m=k;k=this.hb.Ve(k)}-1==k?(n=!0,k=m):(t=this.hb.ja(k),n=this.ib.ow(t),k=this.hb.nb(k),n=!n);do{t=this.hb.ja(k);p=this.ib.cA(t);r=this.a.Tj(p,this.hm);if(0==r&&(n!=this.ib.ow(t)&&(b=this.a.cb(p),this.a.fK(b),this.a.sh(p,this.a.Ra(b)),b=!0),this.a.$r(p,this.hm,n?3:2),n||(m=this.a.Tj(g,this.kp),this.a.$r(g,this.kp,p),this.a.$r(p,this.kp,m)),this.Xt--,0==this.Xt))return b;g=p;m=k;k=this.hb.nb(k);
n=!n}while(m!=a)}return b};a.prototype.RW=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.a.Sa(d,this.fp),g=this.a.Sa(d,this.Mt);if(-1!=e){var k=this.hb.ja(e);this.ib.CG(k);this.a.Va(d,this.fp,-1)}-1!=g&&(k=this.hb.ja(g),this.ib.CG(k),this.a.Va(d,this.Mt,-1));k=-1;-1!=e&&-1!=g?(this.hb.Kd(e,-1),this.hb.Kd(g,-1),a.set(b,-1)):k=-1!=e?e:g;-1!=k&&(this.CH(d,k)||this.hb.Kd(k,-1),a.set(b,-1))}};a.prototype.CH=function(a,b){var c=new d.b,f=new d.b;this.a.Nc(a,c);var e=this.a.U(a);this.a.Nc(e,
f);var g=!1;if(c.y<f.y){var g=!0,k=this.ib.wJ(a),m;-1==b?m=this.hb.addElement(k,-1):(m=b,this.hb.kk(m,k));k=this.a.Sa(e,this.fp);-1==k?this.a.Va(e,this.fp,m):this.a.Va(e,this.Mt,m);e=this.a.ld(a);0==this.a.Tj(e,this.hm)&&this.Kn.add(m)}e=this.a.Ra(a);this.a.Nc(e,f);c.y<f.y&&(g=!0,k=this.ib.wJ(e),-1==b?m=this.hb.addElement(k,-1):(m=b,this.hb.kk(m,k)),k=this.a.Sa(e,this.fp),-1==k?this.a.Va(e,this.fp,m):this.a.Va(e,this.Mt,m),e=this.a.ld(a),0==this.a.Tj(e,this.hm)&&this.Kn.add(m));return g};a.V=function(b,
f,d,e){var c=new a;c.a=b;c.Y=f;c.jm=d;c.Vw=e;return c.yS()};a.prototype.zS=function(){var a=new d.ia(0),b=new d.ia(0),e=-1,g=-1,k=new d.b;k.$c();for(var m=-1,n=-1,t=-1,p=new d.b,r=this.jm.xc(this.jm.Ge);-1!=r;r=this.jm.nb(r)){var q=this.jm.getData(r);this.a.Nc(q,p);var v=this.a.ld(q);k.ub(p)&&n==v?(-1==g&&(e=this.a.rz(),g=this.a.Vd()),-1==t&&(t=b.size,this.a.Va(m,g,t),b.add(1),-1==this.a.Tj(v,e)&&(this.a.$r(v,e,m),a.add(v))),this.a.Va(q,g,t),b.CK(b.Fc()+1)):(t=-1,k.L(p));m=q;n=v}if(0==a.size)return!1;
k=new d.ia(0);m=new d.ia(0);n=0;for(t=a.size;n<t;n++){var v=a.get(n),w=this.a.Tj(v,e),q=this.a.Sa(w,g);k.clear(!1);m.clear(!1);k.add(w);m.add(q);for(q=this.a.U(w);q!=w;q=this.a.U(q)){var y=q,p=this.a.Sa(y,g);if(-1!=p)if(0==m.size)m.add(p),k.add(y);else if(m.Fc()==p){var r=k.Fc(),E=this.a.U(r),w=this.a.U(y);this.a.Kc(r,w);this.a.Lc(w,r);this.a.Kc(y,E);this.a.Lc(E,y);y=[!1];E=this.a.BH(this.Y,E,this.a.cb(v),y);this.a.Va(q,g,-1);y[0]&&this.a.jg(v,w);q=this.a.La(v);w=this.a.La(E);q-=w;this.a.nk(v,q);
b.set(p,b.get(p)-1);1==b.get(p)&&(b.set(p,0),m.Pf(),k.Pf());q=w=r}else k.add(q),m.add(p)}}this.a.bC(e);this.a.le(g);return!0};return a}();d.SN=b})(m||(m={}));(function(d){var e=function(){function e(){}e.prototype.Cg=function(){this.uB=this.wb=null};e.prototype.get=function(){return this.uB};e.prototype.set=function(b){this.uB=b;if(null!=b)throw 322==b.G()&&(this.wb=b),d.g.za();};e.prototype.create=function(b){if(322==b)this.Js();else throw d.g.X("Not Implemented");};e.prototype.Js=function(){null==
this.wb&&(this.wb=new d.Hb);this.uB=this.wb};return e}();d.Cg=e})(m||(m={}));(function(d){d=d.XN||(d.XN={});d[d.enumLineSeg=1]="enumLineSeg";d[d.enumBezierSeg=2]="enumBezierSeg";d[d.enumArcSeg=4]="enumArcSeg";d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";d[d.enumSegmentMask=7]="enumSegmentMask";d[d.enumDensified=8]="enumDensified"})(m||(m={}));(function(d){var e=function(){return function(b){this.zj=b;this.SC=this.TC=1;this.TB=this.SB=this.UB=0}}(),g=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.dl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cg=new d.Wa;this.ta=this.sx=0;this.$o=[];this.Ut=[];this.mx=[];this.yr=[];this.rB=[]}b.prototype.WB=function(a){if(null!=a){for(var b=0,f=a.length;b<f;b++)this.qX(a[b]);a.length=0}};b.prototype.qX=function(a){a.zj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new e(a);else b=this.yr[this.yr.length-1],b.zj=a,--this.yr.length;return b};b.prototype.LT=function(a,b){return 0==a?this.Ut[b]:this.mx[b]};
b.prototype.GB=function(){this.sx>=this.rB.length&&this.rB.push(new d.Cg);var a=this.rB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.WB(this.$o);this.WB(this.Ut);this.WB(this.mx);this.sx=0};b.prototype.Ap=function(a){this.$o.push(this.Ax(a))};b.prototype.Rl=function(a){return 0==a?this.Ut.length:this.mx.length};b.prototype.Mq=function(a,b){return this.LT(a,b).zj};b.prototype.Ma=function(a,b){if(2!=this.$o.length)throw d.g.za();this.ta=a;var c=d.Ub.Yx(.01*a),e=!1,g=this.$o[0],k=this.$o[1];
if(b||0!=(g.zj.ys(k.zj,a,!0)&5)){if(322==g.zj.G()&&(b=g.zj,322==k.zj.G())){var m=k.zj,n=d.Hb.Gy(b,m,null,this.vr,this.dl,a);if(0==n)throw d.Hb.Gy(b,m,null,this.vr,this.dl,a),d.g.za();a=Array(9);d.J.Nv(a,null);for(var t=0;t<n;t++){var p=this.vr[t],r=this.dl[t],q=g.TB,v=1;0==p?(q=g.UB,v=g.TC):1==p&&(q=g.SB,v=g.SC);var w=k.TB,y=1;0==r?(w=k.UB,y=k.TC):1==r&&(w=k.SB,y=k.SC);var E=new d.b;q==w?(q=new d.b,b.gc(p,q),p=new d.b,m.gc(r,p),r=v+y,y/=r,d.Ub.cI(q,p,y,E),d.b.sc(E,q)+d.b.sc(E,p)>c&&(e=!0)):q>w?(b.gc(p,
E),p=new d.b,m.gc(r,p),d.b.sc(E,p)>c&&(e=!0)):(m.gc(r,E),q=new d.b,b.gc(p,q),d.b.sc(E,q)>c&&(e=!0));a[t]=E}g=0;k=-1;for(t=0;t<=n;t++)y=t<n?this.vr[t]:1,y!=g&&(c=this.GB(),b.yh(g,y,c),-1!=k&&c.get().Mc(a[k]),t!=n&&c.get().Zc(a[t]),g=y,this.Ut.push(this.Ax(c.get()))),k=t;b=[0,0,0,0,0,0,0,0,0];for(t=0;t<n;t++)b[t]=t;1<n&&this.dl[0]>this.dl[1]&&(y=this.dl[0],this.dl[0]=this.dl[1],this.dl[1]=y,t=b[0],b[0]=b[1],b[1]=t);g=0;k=-1;for(t=0;t<=n;t++)y=t<n?this.dl[t]:1,y!=g&&(c=this.GB(),m.yh(g,y,c),-1!=k&&(g=
b[k],c.get().Mc(a[g])),t!=n&&(g=b[t],c.get().Zc(a[g])),g=y,this.mx.push(this.Ax(c.get()))),k=t;return e}throw d.g.za();}return!1};b.prototype.sA=function(a,b,f){b.copyTo(this.cg);if(1!=this.$o.length)throw d.g.za();this.ta=a;var c=this.$o[0];if(f||c.zj.av(b.w(),a,!0))if(322==c.zj.G()){a=c.zj;var e=a.pe(b.w(),!1);this.vr[0]=e;var g=c.TB;f=1;0==e?(g=c.UB,f=c.TC):1==e&&(g=c.SB,f=c.SC);c=new d.b;0==g?(g=new d.b,a.gc(e,g),b=b.w(),d.Ub.cI(g,b,1/(f+1),c)):0<g?(c=new d.b,a.gc(e,c)):c=b.w();f=0;e=-1;for(g=
0;1>=g;g++){b=1>g?this.vr[g]:1;if(b!=f){var k=this.GB();a.yh(f,b,k);-1!=e&&k.get().Mc(c);1!=g&&k.get().Zc(c);f=b;this.Ut.push(this.Ax(k.get()))}e=g}this.cg.rb(c)}else throw d.g.za();};return b}();d.dE=g})(m||(m={}));(function(d){var e=function(){function e(b){this.zt=this.Tk=this.wb=null;this.gm=this.vf=this.cd=this.Ze=this.Oh=this.Ta=0;this.bb=null;this.Sl=this.mn=!1;this.Ze=-1;this.Oh=this.cd=0;this.Ta=-1;this.bb=b;this.vf=this.ws(this.Oh);this.mn=!1;this.Tk=null;this.gm=-1;this.Sl=!1;this.zt=new d.b}
e.$p=function(b,a){if(0>a||a>=b.D())throw d.g.wd();var c=new e(b),f=b.cw(a);c.cd=a-b.wa(f);c.Oh=f+1;c.Ta=f;c.vf=c.ws(c.Ta);c.gm=c.bb.wa(c.Ta);c.Sl=c.bb.Qb(c.Ta);return c};e.Zp=function(b,a,c){if(0>a||a>=b.aa()||0>c)throw d.g.wd();var f=b.Qb(a)?0:1;if(c>=b.La(a)-f)throw d.g.wd();b=new e(b);b.Ze=-1;b.cd=c;b.Ta=a;b.Oh=b.cd+1;b.vf=b.ws(b.Oh);b.gm=b.bb.wa(b.Ta);b.Sl=b.bb.Qb(b.Ta);return b};e.prototype.yX=function(b){if(this.bb!=b.bb)throw d.g.Da();this.Ze=b.Ze;this.cd=b.cd;this.Ta=b.Ta;this.Oh=b.Oh;this.vf=
b.vf;this.mn=b.mn;this.gm=b.gm;this.Tk=null;this.Sl=b.Sl};e.prototype.ba=function(){this.Ze!=this.cd&&this.QE();if(this.mn)this.cd=(this.cd+1)%this.vf;else{if(this.cd==this.vf)throw d.g.wd();this.cd++}return this.Tk};e.prototype.Li=function(){if(this.mn)this.cd=(this.vf+this.cd-1)%this.vf;else{if(0==this.cd)throw d.g.wd();this.cd--}this.cd!=this.Ze&&this.QE();return this.Tk};e.prototype.zX=function(){this.Ze=-1;this.cd=0};e.prototype.AX=function(){this.cd=this.vf;this.Ze=-1};e.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.OO();if(b>=c&&b<this.bb.Gc(this.Ta)){this.Ze=-1;this.cd=b-c;return}}c=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Gc(a)?a:this.bb.cw(b);this.Oh=c+1;this.Ta=c;this.Ze=-1;this.cd=b-this.bb.wa(c);this.vf=this.ws(c);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta)};e.prototype.Ya=function(){this.Ta=this.Oh;if(this.Ta>=this.bb.aa())return!1;this.Ze=-1;this.cd=0;this.vf=this.ws(this.Ta);this.gm=this.bb.wa(this.Ta);this.Sl=
this.bb.Qb(this.Ta);this.Oh++;return!0};e.prototype.yj=function(){this.vf=this.cd=this.Ze=-1;this.Oh=0;this.Ta=-1;this.Sl=!1;this.gm=-1};e.prototype.eC=function(b){if(0>b)throw d.g.wd();this.Oh=b;this.gm=this.vf=this.cd=this.Ze=this.Ta=-1;this.Sl=!1};e.prototype.ws=function(b){if(this.bb.Hc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};e.prototype.Fo=function(){return this.Ze==this.vf-1&&this.bb.Qb(this.Ta)};e.prototype.jC=function(){this.mn=!0};e.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.Ze};e.prototype.OO=function(){return this.bb.wa(this.Ta)};e.prototype.Jk=function(){return this.Fo()?this.bb.wa(this.Ta):this.Db()+1};e.prototype.jn=function(){return 0==this.Ze};e.prototype.Io=function(){return this.Ze==this.vf-1};e.prototype.Ea=function(){return this.cd<this.vf};e.prototype.oA=function(){return 0<this.cd};e.prototype.Vf=function(){var b=new e(this.bb);b.Ze=this.Ze;b.cd=this.cd;b.vf=this.vf;b.Ta=this.Ta;b.Oh=this.Oh;b.bb=this.bb;b.mn=this.mn;return b};e.prototype.QE=function(){if(0>
this.cd||this.cd>=this.vf)throw d.g.wd();this.Ze=this.cd;var b=this.Db();this.bb.wc();var a=this.bb.cf,c=1;null!=a&&(c=a.read(b)&7);a=this.bb.description;switch(c){case 1:null==this.wb&&(this.wb=new d.Hb);this.Tk=this.wb;break;case 2:throw d.g.X("internal error");case 4:throw d.g.za();default:throw d.g.za();}this.Tk.Fg(a);c=this.Jk();this.bb.Nc(b,this.zt);this.Tk.Mc(this.zt);this.bb.Nc(c,this.zt);this.Tk.Zc(this.zt);for(var f=1,e=a.Ga;f<e;f++)for(var g=a.rd(f),k=d.ma.Xa(g),m=0;m<k;m++){var n=this.bb.Yc(g,
b,m);this.Tk.Tx(g,m,n);n=this.bb.Yc(g,c,m);this.Tk.Lx(g,m,n)}};e.prototype.TU=function(){return this.Ta==this.bb.aa()-1};e.prototype.Go=function(){var b=this.bb.OT();return null!=b?1!=(b.read(this.Ze)&7):!1};return e}();d.YN=e})(m||(m={}));(function(d){var e=function(){function e(b){b instanceof d.T?(this.JI=b,this.Ca=-1,this.dj=1):(this.vV=b.slice(0),this.Ca=-1,this.dj=b.length)}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){return this.Ca<this.dj-1?(this.Ca++,null!=this.JI?
this.JI:this.vV[this.Ca]):null};e.prototype.Re=function(){return!0};return e}();d.hd=e})(m||(m={}));(function(d){var e=function(){return function(){this.next=null}}(),g=function(){function b(){this.Mr=this.wx=this.xx=this.Qk=this.ai=0;this.uG=!1;this.XK=0;this.Xn=this.kg=this.Em=this.hi=null;this.tm=0;this.az=null;this.Qk=this.ai=-1}b.prototype.vY=function(a,b,f){this.ai=a;this.Qk=b;this.hi=this.Em=null;this.Mr=0;this.az=f;null==this.Xn&&(this.Xn=d.J.gf(384,0));this.$K()};b.prototype.N=function(){return this.ai};
b.prototype.fa=function(){return this.Qk};b.prototype.flush=function(){0<this.tm&&(this.az.pG(this.Xn,this.tm),this.tm=0)};b.prototype.$K=function(){if(0<this.Mr){for(var a=0;a<this.Qk;a++){for(var b=this.Em[a];null!=b;){var f=b,b=b.next;f.next=null}this.Em[a]=null}this.hi=null}this.xx=this.Qk;this.wx=-1;this.Mr=0};b.prototype.YJ=function(a){this.uG=a==b.py;for(a=this.xx;a<=this.wx;a++)this.sP(),this.jP(a),this.YR();this.$K()};b.prototype.Qy=function(a,b,f,h){if(b!=h){var c=1;b>h&&(c=a,a=f,f=c,c=
b,b=h,h=c,c=-1);if(!(0>h||b>=this.Qk)){0>a&&0>f?f=a=-1:a>=this.ai&&f>=this.ai&&(f=a=this.ai);var g=(f-a)/(h-b);h>this.Qk&&(h=this.Qk,f=g*(h-b)+a);0>b&&(a=g*(0-b)+a,b=0);var k=Math.max(this.ai+1,8388607);-8388607>a?(b=(0-a)/g+b,a=0):a>k&&(b=(this.ai-a)/g+b,a=this.ai);-8388607>f?h=(0-a)/g+b:f>k&&(h=(this.ai-a)/g+b);b=d.J.truncate(b);h=d.J.truncate(h);b!=h&&(f=new e,f.x=d.J.truncate(4294967296*a),f.y=b,f.B=h,f.SR=d.J.truncate(4294967296*g),f.dir=c,null==this.Em&&(this.Em=d.J.gf(this.Qk,null)),f.next=
this.Em[f.y],this.Em[f.y]=f,f.y<this.xx&&(this.xx=f.y),f.B>this.wx&&(this.wx=f.B),this.Mr++)}}};b.prototype.sP=function(){if(null!=this.hi){for(var a=!1,b=null,f=this.hi;null!=f;)if(f.y++,f.y==f.B){var d=f,f=f.next;null!=b?b.next=f:this.hi=f;d.next=null}else f.x+=f.SR,null!=b&&b.x>f.x&&(a=!0),b=f,f=f.next;a&&(this.hi=this.WK(this.hi))}};b.prototype.jP=function(a){if(!(a>=this.Qk)){var b=this.Em[a];if(null!=b){this.Em[a]=null;b=this.WK(b);this.Mr-=this.XK;a=this.hi;for(var f=!0,d=b,e=null;null!=a&&
null!=d;)a.x>d.x?(f&&(this.hi=d),f=d.next,d.next=a,null!=e&&(e.next=d),e=d,d=f):(f=a.next,a.next=d,null!=e&&(e.next=a),e=a,a=f),f=!1;null==this.hi&&(this.hi=b)}}};b.wG=function(a,b){return 0>a?0:a>b?b:a};b.prototype.YR=function(){if(null!=this.hi)for(var a=0,c=this.hi,f=d.J.truncate(d.J.gI(c.x)),e=c.next;null!=e;e=e.next)if(a=this.uG?a^1:a+e.dir,e.x>c.x){var g=d.J.truncate(d.J.gI(e.x));0!=a&&(c=b.wG(f,this.ai),f=b.wG(g,this.ai),f>c&&c<this.ai&&(this.Xn[this.tm++]=c,this.Xn[this.tm++]=f,this.Xn[this.tm++]=
e.y,this.tm==this.Xn.length&&(this.az.pG(this.Xn,this.tm),this.tm=0)));c=e;f=g}};b.prototype.WK=function(a){for(var c=0,f=a;null!=f;f=f.next)c++;this.XK=c;if(1==c)return a;null==this.kg?this.kg=d.J.gf(Math.max(c,16),null):this.kg.length<c&&(this.kg=d.J.gf(Math.max(c,2*this.kg.length),null));for(var e=0,f=a;null!=f;f=f.next)this.kg[e++]=f;2==c?this.kg[0].x>this.kg[1].x&&(a=this.kg[0],this.kg[0]=this.kg[1],this.kg[1]=a):b.UM(this.kg,c,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.kg[0];
this.kg[0]=null;f=a;for(e=1;e<c;e++)f.next=this.kg[e],f=this.kg[e],this.kg[e]=null;f.next=null;return a};b.UM=function(a,b,f){if(b==a.length)a.sort(f);else{var c=a.slice(0,0),d=a.slice(b);b=a.slice(0,b).sort(f);a.length=0;a.push.apply(a,c.concat(b).concat(d))}};b.py=0;b.L_=1;return b}();d.zy=g})(m||(m={}));(function(d){var e=function(){function e(){}e.prototype.Ri=function(b,a){var c=this.a.Sa(b,this.Gr);this.fm==c&&(this.fm=this.Me.nb(this.fm));this.Vo==c&&(this.Vo=this.Me.nb(this.Vo));this.Me.kd(this.wB,
c);this.zk(b);if(a&&(c=this.a.ld(b),-1!=c&&this.a.cb(c)==b)){a=this.a.U(b);if(a!=b){var f=this.a.ld(a);if(f==c){this.a.jg(c,a);return}a=this.a.Ra(b);if(a!=b&&(f=this.a.ld(a),f==c)){this.a.jg(c,a);return}}this.a.jg(c,-1);this.a.sh(c,-1)}};e.prototype.GE=function(){for(var b=!1,a=0,c=new d.b;;){a++;null==this.vi?(this.vi=new d.ia(0),this.vt=new d.ia(0),this.Xe=new d.ia(0)):(this.vi.clear(!1),this.vt.clear(!1),this.Xe.clear(!1));for(var f=this.Vo,e=0,g=!0;f!=this.fm;){var k=this.Me.getData(f),m=new d.b;
this.a.Nc(k,m);g&&(this.a.Nc(k,c),g=!1);var m=this.a.Ra(k),n=this.a.U(k);-559038737!=this.a.Sa(m,this.Ug)&&(this.vi.add(m),this.a.Va(m,this.Ug,-559038737),this.vt.add(k),this.Xe.add(e++));-559038737!=this.a.Sa(n,this.Ug)&&(this.vi.add(n),this.a.Va(n,this.Ug,-559038737),this.vt.add(k),this.Xe.add(e++));f=this.Me.nb(f)}if(2>this.vi.size)break;var t=this;this.Xe.Gd(0,this.Xe.size,function(a,b){return t.GO(a,b)});f=0;for(e=this.Xe.size;f<e;f++)g=this.Xe.get(f),g=this.vi.get(g),this.a.Va(g,this.Ug,f),
m=new d.b,this.a.Nc(g,m);m=this.SO(c);f=0;for(e=this.Xe.size;f<e;f++)g=this.Xe.get(f),-1!=g&&(g=this.vi.get(g),this.a.Va(g,this.Ug,-1));if(m)b=!0;else break}return b};e.prototype.SO=function(b){for(var a=!1,c=!0;c;){var c=!1,f=0;-1==this.Xe.get(f)&&(f=this.Pm(f));for(var d=this.Pm(f),e=0,g=this.Xe.size;e<g&&-1!=f&&-1!=d&&f!=d;e++){var k=this.Xe.get(f),d=this.Xe.get(d),k=this.vi.get(k),d=this.vi.get(d),m=this.a.U(k);this.a.qw(m,b)||(m=this.a.Ra(k));var n=this.a.U(d);this.a.qw(n,b)||(n=this.a.Ra(d));
var t=this.Zu(m,k),p=this.Zu(n,d),r=t?this.a.Ra(m):this.a.U(m),q=p?this.a.Ra(n):this.a.U(n),v=!1;this.mq(m)?v=!0:this.mq(n)?v=!0:this.mq(k)?v=!0:this.mq(d)?v=!0:this.mq(r)?v=!0:this.mq(q)&&(v=!0);!v&&this.a.Uq(k,d)&&(v=!0,this.JE(t,p,m,k,n,d));!v&&this.a.Uq(r,q)&&(v=!0,this.JE(!t,!p,m,r,n,q));v&&(a=!0);c=c||v;f=this.Pm(f);d=this.Pm(f)}}if(!a)for(f=0,-1==this.Xe.get(f)&&(f=this.Pm(f)),d=this.Pm(f),e=0,g=this.Xe.size;e<g&&-1!=f&&-1!=d&&f!=d;e++)k=this.Xe.get(f),d=this.Xe.get(d),k=this.vi.get(k),d=this.vi.get(d),
m=this.a.U(k),this.a.qw(m,b)||(m=this.a.Ra(k)),n=this.a.U(d),this.a.qw(n,b)||(n=this.a.Ra(d)),t=this.Zu(m,k),p=this.Zu(n,d),r=t?this.a.Ra(m):this.a.U(m),q=p?this.a.Ra(n):this.a.U(n),this.KO(t,p,k,m,r,d,n,q)&&(a=!0),f=this.Pm(f),d=this.Pm(f);return a};e.prototype.VO=function(){1736==this.a.hc(this.Y)&&1==this.a.xo(this.Y)&&(new d.Dg).yW(this.Vw,this.a,this.Y,this.ke);var b=!1,a=!0;this.Ug=this.Gr=-1;var c=this.a.D(this.Y),f=new d.ia(0);f.yb(c);for(var e=this.a.Pb(this.Y);-1!=e;e=this.a.Sb(e))for(var g=
this.a.cb(e),k=0,m=this.a.La(e);k<m;k++)f.add(g),g=this.a.U(g);var n=this.a.Dd.f,t=this.a.Dd.ed;this.a.xb.wc();var p=this.a.xb.ya[0].f;f.Gd(0,c,function(a,b){var c=n[t*a],f=n[t*b],d=p[2*c],c=p[2*c+1],e=p[2*f],f=p[2*f+1],d=c<f?-1:c>f?1:d<e?-1:d>e?1:0;0==d&&(d=n[t*a+3],f=n[t*b+3],d=d<f?-1:d==f?0:1);return d});this.Gr=this.a.Vd();this.Me=new d.Xp;this.wB=this.Me.mi(0);this.Me.Vn(c);for(e=0;e<c;e++)g=f.get(e),k=this.Me.addElement(this.wB,g),this.a.Va(g,this.Gr,k);this.Ug=this.a.Vd();this.fm=-1;for(this.wE()&&
(b=!0);a;){a=!1;c=0;f=!1;do{f=!1;this.Vo=-1;for(var m=0,e=new d.b,k=new d.b,r=this.Me.xc(this.wB);-1!=r;)g=this.Me.getData(r),-1!=this.Vo?(this.a.Nc(g,k),e.ub(k))?m++:(e.L(k),this.fm=r,0<m&&(g=this.GE())&&(f=!0,-1!=this.fm&&(g=this.Me.getData(this.fm),this.a.Nc(g,e))),this.Vo=r=this.fm,m=0):(this.Vo=r,this.a.Nc(this.Me.getData(r),e),m=0),-1!=r&&(r=this.Me.nb(r));this.fm=-1;0<m&&(g=this.GE())&&(f=!0);if(10<c++)throw d.g.za();f&&this.NO();this.wE()&&(f=!0);a=a||f&&!1;b=b||f}while(f)}this.a.le(this.Gr);
this.a.le(this.Ug);return b=d.SN.V(this.a,this.Y,this.Me,this.Vw)||b};e.prototype.Zu=function(b,a){return this.a.U(a)==b?!1:!0};e.prototype.KO=function(b,a,c,f,d,e,g,k){if(f==g)return this.zk(c),this.zk(e),!1;var h=this.a.Sa(c,this.Ug),l=this.a.Sa(d,this.Ug),m=this.a.Sa(e,this.Ug),n=this.a.Sa(k,this.Ug);c=[0,0,0,0,0,0,0,0];var t=[0,0,0,0];c[0]=0;t[0]=h;c[1]=0;t[1]=l;c[2]=1;t[2]=m;c[3]=1;t[3]=n;for(h=1;4>h;h++){l=t[h];m=c[h];for(n=h-1;0<=n&&t[n]>l;)t[n+1]=t[n],c[n+1]=c[n],n--;t[n+1]=l;c[n+1]=m}t=0;
0!=c[0]&&(t|=1);0!=c[1]&&(t|=2);0!=c[2]&&(t|=4);0!=c[3]&&(t|=8);if(5!=t&&10!=t)return!1;b==a?b?(this.a.Kc(k,f),this.a.Lc(f,k),this.a.Kc(d,g),this.a.Lc(g,d)):(this.a.Lc(k,f),this.a.Kc(f,k),this.a.Lc(d,g),this.a.Kc(g,d)):b?(this.a.Lc(f,e),this.a.Kc(e,f),this.a.Lc(g,d),this.a.Kc(d,g)):(this.a.Kc(f,e),this.a.Lc(e,f),this.a.Kc(g,d),this.a.Lc(d,g));return!0};e.prototype.JE=function(b,a,c,f,d,e){this.C_?this.UO():this.TO(b,a,c,f,d,e)};e.prototype.UO=function(){throw d.g.X("not implemented.");};e.prototype.TO=
function(b,a,c,f,d,e){if(b!=a)b?(this.a.Kc(c,d),this.a.Lc(d,c),this.a.Kc(e,f),this.a.Lc(f,e),this.po(d,c),this.Ri(d,!0),this.a.Mi(d,!0),this.zk(c),this.po(e,f),this.Ri(e,!0),this.a.Mi(e,!1)):(this.a.Kc(d,c),this.a.Lc(c,d),this.a.Kc(f,e),this.a.Lc(e,f),this.po(d,c),this.Ri(d,!0),this.a.Mi(d,!1),this.zk(c),this.po(e,f),this.Ri(e,!0),this.a.Mi(e,!0)),this.zk(f);else{var h=b?c:f,g=a?d:e;b=b?f:c;a=a?e:d;d=!1;this.a.Kc(h,g);this.a.Kc(g,h);this.a.Lc(b,a);this.a.Lc(a,b);for(e=a;e!=g;)c=this.a.Ra(e),f=this.a.U(e),
this.a.Lc(e,f),this.a.Kc(e,c),d=d||e==h,e=f;d||(c=this.a.Ra(g),f=this.a.U(g),this.a.Lc(g,f),this.a.Kc(g,c));this.po(g,h);this.Ri(g,!0);this.a.Mi(g,!1);this.zk(h);this.po(a,b);this.Ri(a,!0);this.a.Mi(a,!1);this.zk(b)}};e.prototype.wE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var c=this.a.cb(a),f=0,d=this.a.La(a);f<d&&1<d;){var e=this.a.Ra(c),g=this.a.U(c);this.a.Uq(e,g)?(b=!0,this.Ri(c,!1),this.a.ud(c,!0),this.Ri(g,!1),this.a.ud(g,!0),c=e,f=0,d=this.a.La(a)):(c=g,f++)}if(2>this.a.La(a)){b=
this.a.cb(a);f=0;for(d=this.a.La(a);f<d;f++)this.Ri(b,!1),b=this.a.U(b);a=this.a.Rr(a);b=!0}else a=this.a.Sb(a)}return b};e.prototype.mq=function(b){for(var a=!1;;){var c=this.a.U(b),f=this.a.Ra(b);if(c==b)return this.Ri(b,!0),this.a.Mi(b,!1),!0;if(!this.a.Uq(c,f))break;a=!0;this.zk(f);this.zk(c);this.Ri(b,!0);this.a.Mi(b,!1);this.po(c,f);this.Ri(c,!0);this.a.Mi(c,!0);if(c==f)break;b=f}return a};e.prototype.NO=function(){for(var b=0,a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a)){var c=this.Me.getData(a);
this.a.Aj(c,-1)}for(var f=0,d=this.a.Pb(this.Y);-1!=d;)if(a=this.a.cb(d),-1==a||-1!=this.a.ld(a))c=d,d=this.a.Sb(d),this.a.Sr(c);else{this.a.Aj(a,d);for(var e=1,c=this.a.U(a);c!=a;c=this.a.U(c))this.a.Aj(c,d),e++;this.a.Np(d,!1);this.a.nk(d,e);this.a.sh(d,this.a.Ra(a));f+=e;b++;d=this.a.Sb(d)}for(a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a))c=this.Me.getData(a),-1==this.a.ld(c)&&(d=this.a.BH(this.Y,c,c,null),f+=this.a.La(d),b++);this.a.wm(this.Y,b);this.a.lk(this.Y,f);b=0;for(f=this.a.sd;-1!=f;f=
this.a.Ue(f))b+=this.a.D(f);this.a.zC(b)};e.prototype.Pm=function(b){for(var a=0,c=this.Xe.size-1;a<c;a++)if(b=(b+1)%this.Xe.size,-1!=this.Xe.get(b))return b;return-1};e.prototype.po=function(b,a){var c=this.a.Sa(a,this.Gr),f=this.a.Sa(a,this.Ug);this.a.JC(b,a);this.a.Va(a,this.Gr,c);this.a.Va(a,this.Ug,f)};e.prototype.zk=function(b){var a=this.a.Sa(b,this.Ug);-1!=a&&(this.Xe.set(a,-1),this.a.Va(b,this.Ug,-1))};e.V=function(b,a,c,f,d){var h=new e;h.a=b;h.Y=a;h.dB=c;h.Vw=f;h.ke=d;return h.VO()};e.prototype.GO=
function(b,a){var c=this.vi.get(b),f=new d.b;this.a.Nc(c,f);var c=new d.b,e=this.vi.get(a);this.a.Nc(e,c);if(f.ub(c))return 0;b=this.vt.get(b);e=new d.b;this.a.Nc(b,e);a=this.vt.get(a);b=new d.b;this.a.Nc(a,b);a=new d.b;a.zc(f,e);f=new d.b;f.zc(c,b);return d.b.vs(a,f)};return e}();d.lo=e})(m||(m={}));(function(d){(function(d){d[d.Local=0]="Local";d[d.Geographic=1]="Geographic";d[d.Projected=2]="Projected";d[d.Image=3]="Image";d[d.Unknown=4]="Unknown"})(d.ZN||(d.ZN={}));(function(d){d[d.Integer32=
0]="Integer32";d[d.Integer64=1]="Integer64";d[d.FloatingPoint=2]="FloatingPoint"})(d.JN||(d.JN={}));var e=function(){function e(){this.jq="";this.bv=null;this.yg=0;this.lJ=this.tp=-1;this.Uh=null}e.prototype.yc=function(){return this.yg};e.prototype.Rs=function(){return 0};e.prototype.Ss=function(){return 0};e.prototype.Ts=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Tz=function(){return 5.7295779513082306E10};e.prototype.Uz=function(){return 1E3};e.prototype.Sz=function(){return 1E3};
e.prototype.bt=function(){return 1};e.prototype.re=function(){var b=.001;0!=this.yg?b=d.us.uS(this.yg):null!=this.Uh&&(b=d.oE.vS(this.Uh));return b};e.prototype.mH=function(){return this.Uh};e.prototype.Nd=function(){if(0!=this.yg)return d.oc.ze(d.us.xG(this.yg));if(null!=this.Uh)return d.oE.wS(this.Uh)};e.Fb=function(b){if(0!=b.yg){if(!0===d.us.SU(b.yg))return 1;if(!0===d.us.UU(b.yg))return 2}return 4};e.prototype.$s=function(){var b=this.yc();if(-1!=this.tp)return this.tp;this.tp=d.us.sZ(b);return-1!=
this.tp?this.tp:b};e.create=function(b){if(0>=b)throw d.g.F("Invalid or unsupported wkid: "+b);var a=new e;a.yg=b;return a};e.oR=function(b){if(null==b||0==b.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var a=new e;a.Uh=b;return a};e.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.yg!=b.yg||0==this.yg&&this.Uh!==b.Uh?!1:!0};e.PS=function(b,a){var c=Math.PI/180,f=new d.ea;d.pM.SS(b.w().x*c,b.w().y*c,a.w().x*c,a.w().y*c,f);return f.j};
e.prototype.toString=function(){return"[ tol: "+this.Bo()+"; wkid: "+this.yc()+"; wkt: "+this.mH()+"]"};e.prototype.jc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var c=0;c<b.length;c++)a=(a<<5)-a+b.charCodeAt(c),a&=a;return this.jq="S"+a};e.prototype.Bo=function(){return this.re(0)};e.prototype.Ao=function(){return null!==
this.bv?this.bv:this.bv=d.Ou.vR(this)};e.q_=!0;e.sv=2147483645;e.tv=9007199254740990;return e}();d.Sd=e})(m||(m={}));(function(d){var e=function(e){function b(){e.apply(this,arguments);this.ij=null;this.lp=new d.eE;this.Xw=this.Fr=null}O(b,e);b.vR=function(a){var c=new b;c.yg=a.yg;c.tp=a.tp;c.lJ=a.lJ;c.Uh=a.Uh;if(""!==c.Uh&&null!==c.Uh){a=b.PY(c.Uh);var f=b.lX(c.Uh);c.lp.Ey(a,f,d.ts.Integer64);c.Ky(a);c.yg=a.$s()}else a=b.DX(c.yg),c.Ky(a),c.lp.Ey(a,null,d.ts.Integer64);return c};b.prototype.re=function(a){return this.lp.Bo(a)};
b.lX=function(a){if(0>=a.length)throw d.g.F();var c=null;try{c=d.QD.fromString(a)}catch(f){c=null}return null==c?null:b.sD(c,!0)};b.prototype.Ky=function(a){this.Pd=a;this.Fr=this.Pd.Nd()};b.prototype.Jc=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Pd.Jc()};b.prototype.UH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.ij.Gk().Jc():this.Pd.Jc()};b.prototype.Kg=function(){return null!=this.Pd?this.Pd.uf:null};b.prototype.bn=function(){return this.Pd.bn()};b.prototype.ee=function(){return this.Pd.ee()};
b.prototype.Ch=function(){return null!=this.Pd?this.Pd.fx:NaN};b.prototype.dn=function(){return this.Pd.dn()};b.prototype.Ws=function(){return this.Pd.Ws()};b.prototype.Sj=function(){return this.Pd.Sj()};b.prototype.hU=function(a){return d.TD.zz(this.Pd,a.Pd)};b.prototype.Mk=function(){return this.Pd.Mk()};b.prototype.Vs=function(){return this.Pd.Vs()};b.prototype.pi=function(){return 3==this.Fb()?this.ij.Gk().pi():this.Pd.pi()};b.prototype.Bh=function(){if(!this.Jc())throw d.g.F("!isPannable()");
var a=new d.h;this.Pd.Bh(a);return a};b.prototype.qe=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.gp};b.prototype.AT=function(){if(!this.Jc())throw d.g.F("!isPannable()");var a=new d.h;this.Pd.zT(a);return a};b.prototype.bw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.bw()};b.prototype.aw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.aw()};b.prototype.Xs=function(){return null!=this.ij?this.ij.Gk().Xs():this.Pd.Xs()};b.prototype.DS=
function(){return this.Pd.Uv()};b.prototype.iX=function(a){a.assign(this.lp)};b.prototype.Yi=function(){return this.Fr.getUnitFactor()};b.prototype.fA=function(a){return this.lp.fA(a)};b.prototype.kc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.ij.Gk().kc();if(0==a)throw d.g.X("invalid call");if(4===a)throw d.g.X("invalid call");if(null!==this.Xw)return this.Xw;a=this.Kg().getGeogcs();if(null==a)throw d.g.za();return this.Xw=b.iG(a,this.lp.bt())};b.iG=function(a,c){if(null==
a)throw d.g.F("null pointer.");var f=new b;a=b.Pu(a,!0);f.lp.Ey(a,null,c);f.Ky(a);f.yg=a.$s();return f};b.prototype.Fb=function(){var a=this.Kg();if(null!=a)switch(a.getType()){case d.Vc.PE_TYPE_GEOGCS:return 1;case d.Vc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.dA=function(a){var b=new d.b;this.Pd.dA(a,b);return b};b.prototype.Uv=function(){return this.Pd.Uv()};b.Pu=function(a,c){var f=a.getCode();if(0>=f&&(f=d.Tf.getCode(a),0<f)){var e=d.Tf.coordsys(f);if(null==e)throw d.g.F("Text to wkid mapping had failed: "+
f);return b.Pu(e,c)}if(c&&0<f&&(e=b.Mv[f]))return e;e=d.Ib.iw(a,f,!1);if(c=b.zH[e])return c;c=0>=f?a:d.Tf.coordsys(f);c=new d.TD(c);b.zH[e]=c;0<f&&(b.Mv[f]=c);return c};b.DX=function(a){if(0>=a)throw d.g.F("Invalid or unsupported wkid: "+a);var c=b.Mv[a];if(null!=c)return c;c=d.Tf.coordsys(a);if(null==c)throw d.g.F("Invalid or unsupported wkid: "+a);c=b.Pu(c,!1);c.$s()!=a&&(b.Mv[a]=c);return c};b.PY=function(a){if(null==a||void 0===a||0==a.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");
var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_COORDSYS,a)}catch(f){throw d.g.F("Cannot create SpatialReference from text. "+f.message);}if(null===c)throw d.g.F("Cannot create SpatialReference from text. ");return b.Pu(c,!0)};b.sD=function(a,c){var f=a.getCode();if(0>=f&&(f=d.Tf.getCode(a),0<f)){f=d.Tf.vertcs(f);if(null===f)throw d.g.F();return b.sD(f,c)}if(c&&0<f&&(c=b.xH[f]))return c;a=d.Ib.iw(a,f,!1);if(c=b.YH[a])return c;var e;0>=f||(e=d.Tf.vertcs(f));if(null===e)throw d.g.F();c=new d.FN(e);b.YH[a]=
c;0<f&&(b.xH[f]=c);return c};b.jK=function(a,b){var c;if(null===b||b.u())return null;var e=new d.h,g;null!==b&&1!=a.Fb()?(c=a.kc(),g=c.Kg(),c=d.rs.Is(a,c,null,null),c=d.os.local().V(b,c,null),c.s(e)):(g=a.Kg(),b.s(e));c=g.getPrimem().getLongitude();g=g.getUnit().getUnitFactor();return new d.OD(e.o,e.A,e.v,e.B,c,g)};b.EE=function(a){var b={name:"",steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<a.length;d++){var e=a[d],g={y_:!1,X_:"",W_:-1,geogtran:null};0===e.getDirection()?g.isInverse=
!1:g.isInverse=!0;var k=e.getGeogtran().getCode();-1<k?g.wkid=k:g.wkt=e.getGeogtran().toString();b.steps.push(g)}return b};b.QT=function(a,c,f,e){void 0===f&&(f=null);f=b.jK(e,f);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,f,1);c=null;a&&0<a.length&&(c=this.EE(a[0]),d.wy.destroy(a));null!==f&&f.destroy();return c};b.RT=function(a,c,f,e){var h;void 0===f&&(f=null);void 0===e&&(e=null);void 0===h&&(h=30);f=b.jK(e,f);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,f,h);c=
[];if(a&&0<a.length){for(h=0;h<a.length;h++)c.push(this.EE(a[h]));d.wy.destroy(a)}null!==f&&f.destroy();return c};b.Mv={};b.zH={};b.xH={};b.YH={};return b}(d.Sd);d.Ou=e})(m||(m={}));(function(d){(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(d.ts||(d.ts={}));var e=d.ts,g=function(){function b(){this.kq()}b.prototype.assign=function(a){this.Xl=a.Xl;this.Yl=a.Yl;this.uj=a.uj;this.Tw=a.Tw;this.Jn=a.Jn;this.Sw=a.Sw;this.rx=a.rx;this.jl=a.jl;
this.Cr=a.Cr;this.Br=a.Br;this.En=a.En};b.prototype.Rs=function(){return this.Xl};b.prototype.Ss=function(){return this.Yl};b.prototype.Ts=function(){return this.Tw};b.prototype.Qs=function(){return this.Sw};b.prototype.Tz=function(){return this.uj};b.prototype.Uz=function(){return this.Jn};b.prototype.Sz=function(){return this.rx};b.prototype.bt=function(){return this.En};b.prototype.kq=function(){this.Yl=this.Xl=0;this.uj=1;this.Tw=0;this.Jn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.jl=2.220446049250313E-14;
this.En=e.FloatingPoint};b.prototype.Ey=function(a,b,f){this.kq();this.En=f;if(f!=e.FloatingPoint){var c=new d.h;a.ZS(c);this.Xl=c.o;this.Yl=c.A}else this.Yl=this.Xl=-1.7976931348623157E308;c=a.uf.getType();c==d.Vc.PE_TYPE_GEOGCS?(c=(f==e.Integer64?1E-9:1/18E5)*a.ee(),this.uj=1/c):c==d.Vc.PE_TYPE_PROJCS&&(c=(f==e.Integer64?1E-4:.001)*a.bn(),this.uj=1/c);null!=b?(c=(f==e.Integer32?.001:1E-4)*b.XI,this.Jn=1/c):this.Jn=1E4;this.rx=1E4;this.WO();this.jl=a.fx;this.Cr=null!=b?.001*b.XI:.001;this.Br=2.220446049250313E-14};
b.prototype.WO=function(){if(this.En!=e.FloatingPoint){var a=this.En==e.Integer64?d.Sd.tv:d.Sd.sv,b=a/this.uj,f=this.Xl+b,h=d.J.truncate((f-this.Xl)*this.uj);h>a&&(this.uj=a/(f-this.Xl));b=this.Yl+b;h=d.J.truncate((b-this.Yl)*this.uj);h>a&&(this.uj=a/(b-this.Yl))}};b.prototype.yC=function(a,b){switch(a){case 0:this.jl=b;case 1:this.Cr=b;case 2:this.Br=b}};b.prototype.Bo=function(a){switch(a){case 0:return this.jl;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.WT=function(){var a=
new d.h;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Tz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.Integer64:b=d.Sd.tv/this.Tz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.XT=function(){var a=new d.Ac;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Uz();a.I(this.Ts(),
this.Ts()+b);break;case e.Integer64:b=d.Sd.tv/this.Uz();a.I(this.Ts(),this.Ts()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.sT=function(){var a=new d.Ac;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Sz();a.I(this.Qs(),this.Qs()+b);break;case e.Integer64:b=d.Sd.tv/this.Sz();a.I(this.Qs(),this.Qs()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;
default:throw d.g.X("internal error");}return a};b.prototype.fA=function(a){if(this.En==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.uj;case 1:return 1/this.Jn;case 2:return 1/this.Jn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.jl.toString();a=a+";m_falseX: "+this.Xl.toString();a=a+";m_falseY: "+this.Yl.toString();a=a+";m_unitsXY: "+this.uj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Jn.toString();a=a+";m_falseM: "+
this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.En.toString();return a+"] "};return b}();d.eE=g})(m||(m={}));(function(d){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function g(a,b,c){a=a/6378137*57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:
[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var c=a.Vf();if(33===a.G()){var f=b(c.Be(),c.nf());c.rb(f[0],f[1])}else if(197===a.G())f=b(a.R.o,a.R.A,!0),a=b(a.R.v,a.R.B,!0),c.I(f[0],f[1],a[0],a[1]);else for(f=new d.b,a=0;a<c.D();a++){c.w(a,f);var e=b(f.x,f.y,!0);f.ka(e[0],e[1]);c.rb(a,f)}return c}function a(a){return b(a,g)}function c(a){return b(a,e)}var f=Math.PI/180,h=function(){function a(){}a.Ru=function(a){var b=Math.sqrt(.006694379990197414),
c=Math.sin(a.y*f);return d.b.pa(6378137*a.x*f,3167719.6636462314*(c/(1-.006694379990197414*c*c)-1/(2*b)*Math.log((1-b*c)/(1+b*c))))};a.DA=function(a,b,c,e){var h=1/298.257223563,g=Math.sin(c);c=Math.cos(c);var l=(1-h)*Math.tan(a);a=1/Math.sqrt(1+l*l);for(var k=l*a,m=Math.atan2(l,c),l=a*g,n=l*l,t=1-n,u=2.7233160610754688E11*t/4.040829998466145E13,p=1+u/16384*(4096+u*(-768+u*(320-175*u))),r=u/1024*(256+u*(-128+u*(74-47*u))),u=e/(6356752.31424518*p),q=2*Math.PI,v,x,w,z;1E-12<Math.abs(u-q);)w=Math.cos(2*
m+u),v=Math.sin(u),x=Math.cos(u),z=r*v*(w+r/4*(x*(-1+2*w*w)-r/6*w*(-3+4*v*v)*(-3+4*w*w))),q=u,u=e/(6356752.31424518*p)+z;e=k*v-a*x*c;t=h/16*t*(4+h*(4-3*t));return d.b.pa((b+(Math.atan2(v*g,a*x-k*v*c)-(1-t)*h*l*(u+t*v*(w+t*x*(-1+2*w*w)))))/f,Math.atan2(k*x+a*v*c,(1-h)*Math.sqrt(n+e*e))/f)};a.BM=function(a,b,c,d){var f=1/298.257223563,e=d-b,h=Math.atan((1-f)*Math.tan(a)),g=Math.atan((1-f)*Math.tan(c)),l=Math.sin(h),h=Math.cos(h),k=Math.sin(g),g=Math.cos(g),m=e,n,t=1E3,u,p,r,q,v,x,w;do{r=Math.sin(m);
q=Math.cos(m);p=Math.sqrt(g*r*g*r+(h*k-l*g*q)*(h*k-l*g*q));if(0===p)return 0;q=l*k+h*g*q;v=Math.atan2(p,q);x=h*g*r/p;u=1-x*x;r=q-2*l*k/u;isNaN(r)&&(r=0);w=f/16*u*(4+f*(4-3*u));n=m;m=e+(1-w)*f*x*(v+w*p*(r+w*q*(-1+2*r*r)))}while(1E-12<Math.abs(m-n)&&0<--t);if(0===t)return l=d-b,{azimuth:Math.atan2(Math.sin(l)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(l)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(d-b))};a=2.7233160610754688E11*
u/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(g*Math.sin(m),h*k-l*g*Math.cos(m)),OS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(v-b*p*(r+b/4*(q*(-1+2*r*r)-b/6*r*(-3+4*p*p)*(-3+4*r*r)))),P_:Math.atan2(h*Math.sin(m),h*k*Math.cos(m)-l*g)}};a.AR=function(a){var b=a.hasAttribute(1),c=a.hasAttribute(2),f=[],e=a.aa(),h=null,g=null;b&&(h=a.Pa(1));c&&(g=a.Pa(2));for(var l=new d.b,k=0;k<e;k++){for(var m=a.wa(k),n=a.La(k),t=0,u=0,p=NaN,r=NaN,q=NaN,v=NaN,
w=a.Qb(k),y=[],E=m;E<m+n;E++){a.w(E,l);var v=q=NaN,A=[l.x,l.y];b&&(q=h.get(E),A.push(q));c&&(e=g.get(E),A.push(v));E==m&&w&&(t=l.x,u=l.y,p=q,r=v);y.push(A)}!w||t==l.x&&u==l.y&&(!b||isNaN(p)&&isNaN(q)||p==q)&&(!c||isNaN(r)&&isNaN(v)||r==v)||y.push(y[0].slice(0));f.push(y)}return f};a.Ez=function(b,c){b=a.AR(b);637.100877141506>c&&(c=637.100877141506);for(var d=[],e,h=0;h<b.length;h++){var g=b[h];d.push(e=[]);e.push([g[0][0],g[0][1]]);var l,k,m,n,t,u;l=g[0][0]*f;k=g[0][1]*f;for(t=0;t<g.length-1;t++)if(m=
g[t+1][0]*f,n=g[t+1][1]*f,l!==m||k!==n){n=a.BM(k,l,n,m);m=n.azimuth;n=n.OS;var p=n/c;if(1<p){for(u=1;u<=p-1;u++){var r=a.DA(k,l,m,u*c);e.push([r.x,r.y])}u=a.DA(k,l,m,(n+Math.floor(p-1)*c)/2);e.push([u.x,u.y])}k=a.DA(k,l,m,n);e.push([k.x,k.y]);l=k.x*f;k=k.y*f}}return{gK:d}};a.NS=function(b){for(var c=[],f=0;f<b.length;f++){var e=b[f],e=a.Ez(e,1E4);c.push(e)}b=[];for(var h=0;h<c.length;h++){for(var e=c[h],g=0,f=0;f<e.gK.length;f++){var l=e.gK[f],k=a.Ru(d.b.pa(l[0][0],l[0][1])),m=a.Ru(d.b.pa(l[l.length-
1][0],l[l.length-1][1])),n=m.x*k.y-k.x*m.y,t;for(t=0;t<l.length-1;t++)k=a.Ru(d.b.pa(l[t+1][0],l[t+1][1])),m=a.Ru(d.b.pa(l[t][0],l[t][1])),n+=m.x*k.y-k.x*m.y;g+=n}g/=1;b.push(g/-2)}return b};return a}();d.qM=h;h=function(){function b(){}b.XB=function(a,c,d,f,e,h,g){b.uD[a.jc()]=c;0==isNaN(d)&&(b.wD[a.jc()]=d);0==isNaN(f)&&(b.XD[a.jc()]=f);0==isNaN(e)&&(b.oD[a.jc()]=e);b.yD[a.jc()]=h;null!==g&&(b.AD[a.jc()]=g)};b.Ix=function(a,c,d){b.RD[a.jc()+"-"+c.jc()]=d};b.kc=function(a){a=b.uD[a.jc()];if(void 0==
a)throw d.g.df();return a};b.ee=function(a){a=b.wD[a.jc()];if(void 0==a)throw d.g.df();return a};b.hw=function(a){a=b.XD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Sv=function(a){a=b.oD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Bh=function(a){a=b.AD[a.jc()];if(void 0==a)throw d.g.df();return d.h.pa(a[0],a[1],a[2],a[3])};b.Jc=function(a){a=b.yD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Xg=function(a,c,f){if(c.Eb(f))return a;var e=b.RD[c.jc()+"-"+f.jc()];if(void 0!==e)return e(a,c,
f);throw d.g.df();};b.lu=function(){throw d.g.df();};b.TS=function(){throw d.g.df();};b.UW=function(){throw d.g.df();};b.Mk=function(){throw d.g.df();};b.rX=function(){var b=d.Sd.create(102100),f=d.Sd.create(3857),e=d.Sd.create(4326);d.fb.XB(b,e,NaN,NaN,NaN,!1,null);d.fb.XB(e,e,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);d.fb.XB(f,e,NaN,NaN,NaN,!1,null);d.fb.Ix(b,e,a);d.fb.Ix(e,b,c);d.fb.Ix(f,e,a);d.fb.Ix(e,f,c)};b.uD=[];b.wD=[];b.XD=[];b.oD=[];b.yD=[];b.AD=[];b.RD=[];return b}();d.fb=h})(m||
(m={}));m.fb.rX();(function(d){var e=function(){function e(b){this.f=null;this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();
this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed+this.ed,c=b*this.ed;c<a;c++)this.f[c]=-1;return b};e.prototype.nl=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,f=this.ed,e=0;e<f;e++)this.f[c+e]=b[e];return a};e.prototype.Vi=function(b){this.kh=-1;
this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};e.Im=function(){return-2};e.jo=function(){return-3};e.BA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=[]);this.yd=b};return e}();d.ad=e;e=function(){function e(b){this.f=new Int32Array(0);this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<
this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed;a<b*this.ed+this.ed;a++)this.f[a]=-1;return b};e.prototype.nl=
function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,f=0;f<b.length;f++)this.f[c+f]=b[f];return a};e.prototype.Vi=function(b){this.kh=-1;this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*
a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};e.Im=function(){return-2};e.jo=function(){return-3};e.BA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.ed*b);a.set(this.f,0);this.f=a;this.yd=b};return e}();d.$N=e;!0===d.Xh.Bm&&(d.ad=d.$N)})(m||(m={}));(function(d){var e;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=
5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var g=function(){function a(a){this.bf=a;this.Wh=NaN;this.qI=new d.Cg;this.rI=new d.Cg;this.it=new d.Ac;this.jt=new d.Ac}a.prototype.compare=function(a,b,d){a=a.ja(d);this.bf.QB(b,this.qI);this.bf.QB(a,this.rI);b=this.qI.get();a=this.rI.get();this.it.I(b.ua,b.sa);this.jt.I(a.ua,a.sa);if(this.it.ha<this.jt.ca)return-1;if(this.it.ca>this.jt.ha)return 1;d=b.ra==b.oa;var c=a.ra==a.oa;if(d||
c){if(d&&c)return 0;if(b.ra==a.ra&&b.ua==a.ua)return d?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return d?-1:1}d=b.pf(this.Wh,this.it.ca);c=a.pf(this.Wh,this.jt.ca);d==c&&(d=Math.min(b.oa,a.oa),c=.5*(d+this.Wh),c==this.Wh&&(c=d),d=b.pf(c,this.it.ca),c=a.pf(c,this.jt.ca));return d<c?-1:d>c?1:0};a.prototype.RK=function(a){this.Wh=a};return a}(),b=function(){function a(a){this.bb=a;this.jJ=new d.Cg;this.cg=new d.b;this.cB=new d.Ac}a.prototype.eY=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.bb.QB(a.ja(b),
this.jJ);a=this.jJ.get();this.cB.I(a.ua,a.sa);if(this.cg.x<this.cB.ca)return-1;if(this.cg.x>this.cB.ha)return 1;a=a.pf(this.cg.y,this.cg.x);return this.cg.x<a?-1:this.cg.x>a?1:0};return a}();e=function(){function a(){this.tI=this.cj=this.fj=this.TA=this.No=this.Ye=this.Rc=this.Eh=this.De=null;this.sp=this.Tg=-1;this.sI=!0;this.XA=!1;this.UA=NaN;this.mj=new d.$d;this.cQ=2147483647;this.bQ=d.J.truncate(-2147483648);this.xg=this.xe=this.km=this.rr=this.qn=this.qr=this.Jt=this.rf=-1;this.qa=0}a.prototype.ez=
function(a){this.UA=a};a.prototype.Mn=function(){null==this.De&&(this.De=new d.ad(8));var a=this.De.Pe();this.De.P(a,1,0);return a};a.prototype.fW=function(){null==this.Rc&&(this.Rc=new d.ad(8));var a=this.Rc.Pe();this.Rc.P(a,2,0);this.Rc.P(a,3,0);var b=this.Rc.Pe();this.Rc.P(b,2,0);this.Rc.P(b,3,0);this.zK(a,b);this.zK(b,a);return a};a.prototype.vJ=function(){null==this.Ye&&(this.Ye=new d.ad(8));var a=this.Ye.Pe();this.Ye.P(a,2,0);return a};a.prototype.QX=function(a,b){this.De.P(a,7,b)};a.prototype.bo=
function(a,b){this.De.P(a,2,b)};a.prototype.PX=function(a,b){this.De.P(a,1,b)};a.prototype.fY=function(a,b){this.De.P(a,3,b)};a.prototype.cY=function(a,b){this.De.P(a,4,b)};a.prototype.Vr=function(a,b){this.De.P(a,5,b)};a.prototype.WS=function(a){return this.De.S(a,5)};a.prototype.OX=function(a,b){this.De.P(a,6,b)};a.prototype.aP=function(a,b){this.OX(b,a)};a.prototype.yK=function(a,b){this.Rc.P(a,1,b)};a.prototype.zK=function(a,b){this.Rc.P(a,4,b)};a.prototype.ym=function(a,b){this.Rc.P(a,5,b)};
a.prototype.xm=function(a,b){this.Rc.P(a,6,b)};a.prototype.VX=function(a,b){this.Rc.P(a,2,b)};a.prototype.Nx=function(a,b){this.Rc.P(a,3,b)};a.prototype.WG=function(a){return this.Rc.S(a,3)};a.prototype.uu=function(a,b){this.Rc.P(a,7,b)};a.prototype.xL=function(a,b){if(-1!=this.$m(a))for(b=b?-1:a,a=this.$m(a);-1!=a;a=this.gt(a))this.a.Va(this.Uj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.xL(a,b),this.xL(this.Aa(a),b))};a.prototype.su=function(a,b){this.Ye.P(a,1,b)};a.prototype.rh=function(a,
b){this.Ye.P(a,2,b)};a.prototype.Zn=function(a,b){this.Ye.P(a,3,b);this.MX(a,this.VS(b));this.LX(b,a)};a.prototype.LX=function(a,b){this.Ye.P(a,4,b)};a.prototype.MX=function(a,b){this.Ye.P(a,5,b)};a.prototype.tK=function(a,b){this.Ye.P(a,6,b)};a.prototype.rK=function(a,b){this.Ye.P(a,7,b)};a.prototype.qK=function(a,b){this.No.write(a,b)};a.prototype.sK=function(a,b){this.TA.write(a,b)};a.prototype.hZ=function(a){var b=0,c=0,e=this.MG(a),g=new d.b,k=new d.b,m=new d.b;this.Ys(e,g);k.L(g);var n=e;do this.Zm(n,
m),c+=d.b.Cb(k,m),this.Ef(this.Aa(n))!=a&&(b+=(m.x-g.x-(k.x-g.x))*(m.y-g.y+(k.y-g.y))*.5),k.L(m),n=this.qc(n);while(n!=e);this.No.write(a,b);this.TA.write(a,c)};a.prototype.BW=function(a){var c=new g(this),e=new d.uk;e.Qe(d.J.truncate(this.qa/2));e.Ep(c);for(var l=new d.ia(0),k=this.xh(),m=null,n=0,t=new d.b,p=this.rf;-1!=p;p=this.og(p)){n++;var r=this.kf(p);if(-1!=r){l.yf(0);if(!this.aZ(e,k,l,r)){this.w(p,t);c.RK(t.y);var q=r;do{var v=this.Kb(q,k);-1!=v&&(e.Kd(v,-1),this.Ob(q,k,-2));q=this.qc(this.Aa(q))}while(r!=
q);q=r;do v=this.Kb(q,k),-1==v&&(v=e.addElement(q,-1),l.add(v)),q=this.qc(this.Aa(q));while(r!=q)}for(r=l.size-1;0<=r;r--)v=l.get(r),q=e.ja(v),this.Ob(this.Aa(q),k,v),this.AW(e,v,a)}else-1==this.Kz(p)&&(null==m&&(m=new b(this)),this.w(p,t),m.eY(t),q=e.HX(m),r=this.km,-1!=q&&(v=e.ja(q),this.Ef(v)==this.Ef(this.Aa(v))&&(v=this.YG(e,q)),-1!=v&&(r=this.Ef(v))),this.aP(r,p))}this.ni(k)};a.prototype.AW=function(a,b,d){var c=a.ja(b),f=this.Ef(c);if(-1==this.vo(f)){var e=this.YG(a,b),h=this.Aa(c),g=this.Ef(h);
this.Dq(f);this.Dq(g);var k=this.vo(f),m=this.vo(g);-1==e&&-1==k&&(g==f?(this.Zn(g,this.km),k=m=this.km):(-1==m&&(this.Zn(g,this.km),m=this.km),this.Zn(f,g),k=g));if(-1!=e){var n=this.Ef(e);-1==m&&(0>=this.Dq(n)?(m=this.vo(n),this.Zn(g,m)):(this.Zn(g,n),m=n),g==f&&(k=m))}-1==k&&this.bZ(f,g);0==d?this.$W(a,b,c,e,f,g):5==d?this.aX(a,b,c,h,f,g):4==d&&this.ZW(c,e,f,g)}};a.prototype.$W=function(a,b,d,e,g,k){var c=this.Ik(g);if(-1!=e){var f=this.Ik(k),h=this.Ik(this.Ef(e));e=c&f&h;h^=h&this.Ah(d);h|=e;
0!=h&&(this.rh(k,f|h),this.rh(g,h|c),c=c||h)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ja(b);d=this.Ef(this.Aa(e));g=this.Ik(d);k=this.Ah(e);f=this.Ef(e);h=this.Ik(f);e=g&h&c;c^=c&k;c|=e;if(0==c)break;this.rh(d,g|c);this.rh(f,h|c)}};a.prototype.aX=function(a,b,e,g,k,m){if(k!=m){e=this.Kb(e,this.xg);e+=this.Kb(g,this.xg);g=0;var c=new d.ia(0),f=new d.ia(0);f.add(0);for(var h=a.xc(-1);h!=b;h=a.nb(h)){var l=a.ja(h),n=this.Aa(l),t=this.Ef(l),p=this.Ef(n);if(t!=p){l=this.Kb(l,this.xg);l+=this.Kb(n,this.xg);g+=
l;n=!1;0!=c.size&&c.Fc()==p&&(f.Pf(),c.Pf(),n=!0);if(-1==this.vo(p))throw d.g.za();n&&this.vo(p)==t||(f.add(g),c.add(t))}}g+=e;0!=c.size&&c.Fc()==m&&(f.Pf(),c.Pf());0!=g?0==f.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(k,a)):0!=f.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(k,a))}};a.prototype.ZW=function(a,b,d,e){var c=this.Ia(this.a.sd);if(-1==b)this.rh(e,this.sp),a=this.Kb(a,this.Tg),0!=(a&1)?this.rh(d,c):this.rh(d,this.sp);else{var f=this.Ik(e);0==f&&(f=this.Ik(this.Ef(b)),this.rh(e,f));a=this.Kb(a,this.Tg);
0!=(a&1)?this.rh(d,f==c?this.sp:c):this.rh(d,f)}};a.prototype.aZ=function(a,b,d,e){var c=e,f=-1,h=-1,g=0;do{if(2==g)return!1;var l=this.Kb(c,b);if(-1!=l){if(-1!=f)return!1;f=l}else{if(-1!=h)return!1;h=c}g++;c=this.qc(this.Aa(c))}while(e!=c);if(-1==h||-1==f)return!1;this.Ob(a.ja(f),b,-2);a.kk(f,h);d.add(f);return!0};a.prototype.bZ=function(a,b){var c=this.Dq(a);if(0!=c){var d=this.Dq(b);0<c&&0>d?this.Zn(a,b):0>c&&0<d?this.Zn(a,b):(c=this.vo(b),-1!=c&&this.Zn(a,c))}};a.prototype.tR=function(a,b){this.rr=
this.a.Vd();for(var c=0,f=b.size;c<f;c++){var e=b.get(c),g=this.a.Sa(e,this.qn),k=this.a.ng(this.a.ld(e)),m=this.a.hc(k);if(d.T.Ic(m)){var n=this.a.U(e);if(-1!=n){var t=this.a.Sa(n,this.qn);if(g!=t){var p=this.fW(),r=this.Aa(p),q=this.Eh.Pe();this.Eh.P(q,0,e);this.Eh.P(q,1,-1);this.uu(p,q);this.yK(p,g);q=this.kf(g);-1==q?(this.bo(g,p),this.ym(p,r),this.xm(r,p)):(g=this.Te(q),this.ym(q,r),this.xm(r,q),this.xm(g,p),this.ym(p,g));this.yK(r,t);g=this.kf(t);-1==g?(this.bo(t,r),this.xm(p,r),this.ym(r,p)):
(t=this.Te(g),this.ym(g,p),this.xm(p,g),this.xm(t,r),this.ym(r,t));k=this.Ia(k);0==a?(this.Ob(r,this.xe,0),this.Ob(p,this.xe,1736==m?k:0)):5==a?(t=new d.b,this.a.w(e,t),e=new d.b,this.a.w(n,e),g=n=0,0>t.compare(e)?n=1:g=-1,this.Ob(r,this.xe,0),this.Ob(p,this.xe,0),this.Ob(p,this.xg,n),this.Ob(r,this.xg,g)):7==a?(this.Ob(r,this.xe,this.sp),this.Ob(p,this.xe,1736==m?k:0)):4==a&&(this.Ob(r,this.xe,0),this.Ob(p,this.xe,0),this.Ob(p,this.Tg,1),this.Ob(r,this.Tg,1));m=1736==m?this.bQ:0;this.Nx(p,k|m);this.Nx(r,
k|m)}}}}};a.prototype.UV=function(a,b){var c=this.$m(b);if(-1!=c){var d=this.$m(a);this.Eh.P(c,1,d);this.uu(a,c);this.uu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.$m(b);-1!=c&&(d=this.$m(a),this.Eh.P(c,1,d),this.uu(a,c),this.uu(b,-1))};a.prototype.CY=function(a){function b(a,b){return e.KQ(a,b)}var c=new d.ia(0);c.yb(10);for(var e=this,g=this.rf;-1!=g;g=this.og(g)){c.clear(!1);var k=this.kf(g);if(-1!=k){var m=k;do c.add(m),m=this.qc(this.Aa(m));while(m!=k);if(1<c.size){m=!0;if(2<c.size)c.Gd(0,c.size,
b),c.add(c.get(0));else if(0<this.JQ(c.get(0),c.get(1))){var n=c.get(0);c.set(0,c.get(1));c.set(1,n)}else m=!1;for(var t=n=c.get(0),p=this.Xf(t),r=this.Aa(t),q=-1,v=1,w=c.size;v<w;v++){var y=c.get(v),E=this.Aa(y),A=this.Kk(E);if(A==p&&y!=t){if(0==a)q=this.WG(t)|this.WG(y),this.Nx(t,q),this.Nx(r,q),this.Ob(t,this.xe,this.Kb(t,this.xe)|this.Kb(y,this.xe)),this.Ob(r,this.xe,this.Kb(r,this.xe)|this.Kb(E,this.xe));else if(-1!=this.xg)q=this.Kb(t,this.xg)+this.Kb(y,this.xg),E=this.Kb(r,this.xg)+this.Kb(E,
this.xg),this.Ob(t,this.xg,q),this.Ob(r,this.xg,E);else{if(7==a){this.mj=new d.$d(5,g,-1);return}-1!=this.Tg&&(q=this.Kb(t,this.Tg)+this.Kb(y,this.Tg),E=this.Kb(r,this.Tg)+this.Kb(E,this.Tg),this.Ob(t,this.Tg,q),this.Ob(r,this.Tg,E))}this.UV(t,y);this.sz(y);q=t;c.set(v,-1);y==n&&(c.set(0,-1),n=-1)}else this.ey(q,!1),q=-1,t=y,p=A,r=E}this.ey(q,!1);q=-1;if(m){n=-1;v=0;for(w=c.size;v<w;v++)if(y=c.get(v),-1!=y)if(-1==n)t=n=y,p=this.Xf(t),r=this.Aa(t);else if(y!=t&&(E=this.Aa(y),A=this.Kk(E),this.xm(r,
y),this.ym(y,r),t=y,p=A,r=E,7==a&&(this.Kb(y,this.xe)|this.Kb(this.Te(y),this.xe))==(this.sp|1))){this.mj=new d.$d(5,g,-1);return}this.bo(g,n)}else{n=-1;v=0;for(w=c.size;v<w;v++)if(y=c.get(v),-1!=y){n=y;break}k!=n&&this.bo(g,n)}}}}};a.prototype.ZP=function(){for(var a=-1,b=this.xh(),e=this.rf;-1!=e;e=this.og(e)){var g=this.kf(e);if(-1!=g){var k=g;do{if(1!=this.Kb(k,b)){var m=this.vJ();this.su(m,k);this.rK(m,a);-1!=a&&this.tK(a,m);var a=m,n=0,t=k;do n|=this.Kb(t,this.xe),this.VX(t,m),this.Ob(t,b,1),
t=this.qc(t);while(t!=k);this.rh(m,n)}k=this.qc(this.Aa(k))}while(k!=g)}}m=this.vJ();this.su(m,-1);this.rK(m,a);-1!=a&&this.tK(a,m);this.km=m;this.No=d.Rd.zd(this.Ye.size,NaN);this.TA=d.Rd.zd(this.Ye.size,NaN);this.qK(this.km,Infinity);this.sK(this.km,Infinity);this.ni(b)};a.prototype.iT=function(a,b,d){b=-1!=b?b:this.kf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,d))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.vX=function(){for(var a=this.xh(),b=this.rf;-1!=b;b=this.og(b))for(var d=
-1;;){var e=this.iT(b,d,a);if(-1==e)break;for(var d=this.qc(this.Aa(e)),g=e;;){var k=this.qc(g),m=this.Te(g),n=this.Aa(g);if(m==n){this.ER(g);if(d==g||d==n)d=-1;if(g==e||m==e){e=k;if(g==e||m==e)break;g=k;continue}}else this.Ob(g,a,1);g=k;if(g==e)break}}};a.prototype.mC=function(a,b,e,g){this.qh();this.sI=g;this.a=a;this.qr=this.a.hG();a=new d.ia(0);a.yb(null!=e?this.a.D(e.get(0)):this.a.vd);var c=0,f=1,h=null!=e?e.get(0):this.a.sd;for(g=1;-1!=h;){this.a.xK(h,this.qr,f);for(var f=f<<1,l=this.a.Pb(h);-1!=
l;l=this.a.Sb(l))for(var k=this.a.cb(l),m=0,n=this.a.La(l);m<n;m++)a.add(k),k=this.a.U(k);d.T.Jo(this.a.hc(h))||(c+=this.a.aa(h));null!=e?(h=g<e.size?e.get(g):-1,g++):h=this.a.Ue(h)}this.sp=f;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Eh&&(this.Eh=new d.ad(2),this.De=new d.ad(8),this.Rc=new d.ad(8),this.Ye=new d.ad(8));this.Eh.Qe(this.qa);this.De.Qe(this.qa+10);this.Rc.Qe(2*this.qa+32);this.Ye.Qe(Math.max(32,c));this.qn=this.a.Vd();e=new d.b;g=0;c=new d.b;e.$c();for(f=0;f<=this.qa;f++)if(f<this.qa?
(k=a.get(f),this.a.w(k,c)):c.$c(),!e.ub(c)){if(g<f){k=this.Mn();for(n=m=-1;g<f;g++)n=a.get(g),this.a.Va(n,this.qn,k),h=this.Eh.Pe(),this.Eh.P(h,0,n),this.Eh.P(h,1,m),m=h,l=this.a.ld(n),h=this.a.ng(l),h=this.Ia(h),this.PX(k,this.Md(k)|h);this.QX(k,m);this.Vr(k,this.a.Za(n));-1!=this.Jt&&this.cY(this.Jt,k);this.fY(k,this.Jt);this.Jt=k;-1==this.rf&&(this.rf=k)}g=f;e.L(c)}this.xe=this.xh();5==b&&(this.xg=this.xh());4==b&&(this.Tg=this.xh());this.tR(b,a);0==this.mj.Ii&&(this.CY(b),0==this.mj.Ii&&(isNaN(this.UA)||
this.AQ()?(this.ZP(),0==this.mj.Ii&&(this.ni(this.xe),this.xe=-1,this.sI&&this.BW(b))):this.XA=!0))};a.prototype.sz=function(a){var b=this.qc(a),c=this.Te(a),d=this.Aa(a),e=this.qc(d),g=this.Te(d);b!=d&&(this.xm(g,b),this.ym(b,g));c!=d&&(this.xm(c,e),this.ym(e,c));c=this.Kk(a);this.kf(c)==a&&(e!=a?this.bo(c,e):this.bo(c,-1));e=this.Kk(d);this.kf(e)==d&&(b!=d?this.bo(e,b):this.bo(e,-1));this.Rc.kd(a);this.Rc.kd(d)};a.prototype.YG=function(a,b){for(;;)if(b=a.Ve(b),-1!=b){var c=a.ja(b);if(this.Ef(c)!=
this.Ef(this.Aa(c)))return c}else return-1};a.prototype.Wr=function(a,b,d){void 0===d&&(d=!0);this.mC(a,0,null,d)};a.prototype.mK=function(a,b){var c=new d.ia(0);c.add(b);this.mC(a,4,c,1736==a.hc(b))};a.prototype.nK=function(a,b){var c=new d.ia(0);c.add(b);this.mC(a,5,c,!0)};a.prototype.qh=function(){null!=this.a&&(-1!=this.qr&&(this.a.uX(this.qr),this.qr=-1),-1!=this.qn&&(this.a.le(this.qn),this.qn=-1),-1!=this.rr&&(this.a.le(this.rr),this.rr=-1),-1!=this.xe&&(this.ni(this.xe),this.xe=-1),-1!=this.xg&&
(this.ni(this.xg),this.xg=-1),-1!=this.Tg&&(this.ni(this.Tg),this.Tg=-1),this.a=null,this.De.Vi(!0),this.Eh.Vi(!0),this.Jt=this.rf=-1,null!=this.Rc&&this.Rc.Vi(!0),null!=this.fj&&(this.fj.length=0),null!=this.cj&&(this.cj.length=0),null!=this.tI&&(this.tI.length=0),null!=this.Ye&&this.Ye.Vi(!0),this.km=-1,this.No=null)};a.prototype.kf=function(a){return this.De.S(a,2)};a.prototype.w=function(a,b){this.a.pH(this.WS(a),b)};a.prototype.Md=function(a){return this.De.S(a,1)};a.prototype.og=function(a){return this.De.S(a,
4)};a.prototype.Kz=function(a){return this.De.S(a,6)};a.prototype.Ym=function(a){return this.De.S(a,7)};a.prototype.gt=function(a){return this.Eh.S(a,1)};a.prototype.Uj=function(a){return this.Eh.S(a,0)};a.prototype.Hg=function(a,b){b=this.cj[b];return b.size<=a?-1:b.read(a)};a.prototype.co=function(a,b,d){b=this.cj[b];b.size<=a&&b.resize(this.De.size,-1);b.write(a,d)};a.prototype.wq=function(){null==this.cj&&(this.cj=[]);for(var a=d.ia.zd(this.De.yd,-1),b=0,e=this.cj.length;b<e;b++)if(null==this.cj[b])return this.cj[b]=
a,b;this.cj.push(a);return this.cj.length-1};a.prototype.xq=function(a){this.cj[a]=null};a.prototype.Kk=function(a){return this.Rc.S(a,1)};a.prototype.Xf=function(a){return this.Kk(this.Aa(a))};a.prototype.Aa=function(a){return this.Rc.S(a,4)};a.prototype.Te=function(a){return this.Rc.S(a,5)};a.prototype.qc=function(a){return this.Rc.S(a,6)};a.prototype.Ef=function(a){return this.Rc.S(a,2)};a.prototype.Ff=function(a){return this.Ik(this.Rc.S(a,2))};a.prototype.$m=function(a){return this.Rc.S(a,7)};
a.prototype.Ys=function(a,b){this.w(this.Kk(a),b)};a.prototype.Zm=function(a,b){this.w(this.Xf(a),b)};a.prototype.Ah=function(a){return this.Rc.S(a,3)&this.cQ};a.prototype.Kb=function(a,b){b=this.fj[b];return b.size<=a?-1:b.read(a)};a.prototype.Ob=function(a,b,d){b=this.fj[b];b.size<=a&&b.resize(this.Rc.size,-1);b.write(a,d)};a.prototype.xh=function(){null==this.fj&&(this.fj=[]);for(var a=d.ia.zd(this.Rc.yd,-1),b=0,e=this.fj.length;b<e;b++)if(null==this.fj[b])return this.fj[b]=a,b;this.fj.push(a);
return this.fj.length-1};a.prototype.ni=function(a){this.fj[a]=null};a.prototype.ER=function(a){var b=this.Ef(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.MG(b)==a&&this.su(b,c);c=this.No.read(b);isNaN(c)||(this.qK(b,NaN),this.sK(b,NaN));this.ey(a,!0);this.sz(a)};a.prototype.FR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.Ef(this.Aa(d));this.su(this.Ef(d),-1);this.su(e,-1);this.ey(d,!0);this.sz(d)}};a.prototype.MG=function(a){return this.Ye.S(a,1)};a.prototype.Ik=
function(a){return this.Ye.S(a,2)};a.prototype.vo=function(a){return this.Ye.S(a,3)};a.prototype.VS=function(a){return this.Ye.S(a,4)};a.prototype.Dq=function(a){var b=this.No.read(a);isNaN(b)&&(this.hZ(a),b=this.No.read(a));return b};a.prototype.Ia=function(a){return this.a.VG(a,this.qr)};a.prototype.jf=function(a){return this.a.Sa(a,this.qn)};a.prototype.lT=function(a){return this.a.Sa(a,this.rr)};a.prototype.kT=function(a,b){var c=this.kf(a);if(-1==c)return-1;var d=c,f=-1,e=-1;do{if(this.Xf(d)==
b)return d;if(-1==f){f=this.kf(b);if(-1==f)break;e=f}if(this.Xf(e)==a)return d=this.Aa(e);d=this.qc(this.Aa(d));e=this.qc(this.Aa(e))}while(d!=c&&e!=f);return-1};a.prototype.QB=function(a,b){b.Js();b=b.get();var c=new d.b;this.Ys(a,c);b.Mc(c);this.Zm(a,c);b.Zc(c)};a.prototype.KQ=function(a,b){if(a==b)return 0;var c=new d.b;this.Zm(a,c);var f=new d.b;this.Zm(b,f);if(c.ub(f))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(f,b);return d.b.vs(a,c)};a.prototype.JQ=function(a,b){if(a==
b)return 0;var c=new d.b;this.Zm(a,c);var f=new d.b;this.Zm(b,f);if(c.ub(f))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(f,b);return 0<=c.y&&0<a.y?d.b.vs(a,c):0};a.prototype.AQ=function(){for(var a=d.Ub.Yx(this.UA),b=new d.b,e=new d.b,g=new d.b,k=new d.b,m=new d.b,n=this.rf;-1!=n;n=this.og(n)){var t=this.kf(n);if(-1!=t){var p=t;this.Ys(p,b);this.Zm(p,e);m.zc(e,b);var r=m.qk();do{var q=p,p=this.qc(this.Aa(p));if(p!=q){this.Zm(p,g);k.zc(g,b);var q=k.qk(),v=k.Ui(m);if(v*v/(q*r)*
Math.min(q,r)<=a)return!1;m.L(k);r=q;e.L(g)}}while(p!=t)}}return!0};return a}();d.Qu=e})(m||(m={}));(function(d){var e=function(){function e(){this.i=null;this.AI=new d.b;this.BI=new d.b;this.Mh=null;this.pt=!1;this.Wo=-1}e.prototype.Gf=function(b){return b<this.Mh.length?this.Mh[b]:!1};e.prototype.Hl=function(b,a,c,f){var e=d.T.lf(this.i.a.hc(c));if(2==d.T.lf(this.i.a.hc(a))&&1==e)this.zR(b,a,c,f);else throw d.g.za();};e.prototype.Wr=function(b,a){null==this.i&&(this.i=new d.Qu);this.i.Wr(b,a)};
e.prototype.Xr=function(b,a,c){d.sk.V(b,a,c,!0);for(a=b.sd;-1!=a;a=b.Ue(a))1736==b.hc(a)&&d.lo.V(b,a,-1,this.pt,c);this.Wr(b,c)};e.prototype.SF=function(b,a,c,d,e){var f=this.i.a;if(1736==f.hc(b))for(b=f.Pb(b);-1!=b;b=f.Sb(b)){var g=f.cb(b);this.i.jf(g);this.i.jf(f.U(g));var h=this.i.lT(g);if(-1!=h){var k=this.i.Kb(h,c);if(1!=k&&2!=k)if(this.Gf(this.i.Ff(h))){this.i.Ob(h,c,1);var k=f.Yf(a,-1),m=h,n=this.i.jf(g),t=1;do{var p=this.gn(g,e);f.Kj(k,p);-1!=d&&this.i.co(n,d,1);this.i.Ob(m,c,1);var m=this.i.qc(m),
r;do p=1==t?f.U(g):f.Ra(g),r=-1!=p?this.i.jf(p):-1;while(r==n);var q=this.i.Kk(m);if(q!=r){do p=1==t?f.Ra(g):f.U(g),r=-1!=p?this.i.jf(p):-1;while(r==n);q!=r?(r=q,p=this.i.Uj(this.i.Ym(r))):t=-t}n=r;g=p}while(m!=h);f.$n(k,!0)}else this.i.Ob(h,c,2)}}};e.prototype.nG=function(){for(var b=this.i.xh(),a=new d.ia(0),c=this.i.rf;-1!=c;c=this.i.og(c)){var f=this.i.kf(c),e=f;if(-1!=f){do{if(1!=this.i.Kb(e,b)){var g=this.i.Aa(e);this.i.Ob(g,b,1);this.i.Ob(e,b,1);this.Gf(this.i.Ff(e))&&this.Gf(this.i.Ff(g))&&
a.add(e)}e=this.i.qc(this.i.Aa(e))}while(e!=f)}}this.i.ni(b);this.i.FR(a)};e.prototype.gn=function(b,a){return-1==a?b:this.VT(b,a)};e.prototype.VT=function(b,a){var c=this.i.a,d,e,g=this.i.Ym(this.i.jf(b));do{d=this.i.Uj(g);e=c.ng(c.ld(d));if(e==a)return d;g=this.i.gt(g)}while(-1!=g);return b};e.prototype.es=function(b,a,c){this.nG();var f=this.i.a,e=f.bh(1736),g=this.i.xh();this.hL(b,a,e,c,g,-1);this.i.ni(g);d.lo.V(f,e,1,this.pt,null);return e};e.prototype.hL=function(b,a,c,d,e,g){this.SF(b,c,e,
g,d);-1!=a&&this.SF(a,c,e,g,d);b=this.i.a;for(a=this.i.rf;-1!=a;a=this.i.og(a)){var f=this.i.kf(a);if(-1!=f){var h=f;do{var l=this.i.Kb(h,e);if(1!=l&&2!=l)if(this.Gf(this.i.Ff(h))){var l=b.Yf(c,-1),k=h;do{var m=this.i.$m(k);-1!=m?m=this.i.Uj(m):(m=this.i.Uj(this.i.$m(this.i.Aa(k))),m=this.i.a.U(m));m=this.gn(m,d);b.Kj(l,m);this.i.Ob(k,e,1);-1!=g&&(m=this.i.jf(m),this.i.co(m,g,1));k=this.i.qc(k)}while(k!=h);b.$n(l,!0)}else this.i.Ob(h,e,2);h=this.i.qc(this.i.Aa(h))}while(h!=f)}}};e.prototype.UY=function(b,
a,c){var f=this.i.a,e=f.bh(1736),g=f.bh(1607),k=f.bh(550);this.nG();var m=-1,n=this.i.xh(),p=this.i.wq();this.hL(b,a,e,c,n,p);for(b=this.i.rf;-1!=b;b=this.i.og(b))if(a=this.i.kf(b),-1!=a){var t=a;do{var r=this.i.Kb(t,n),q=this.i.Kb(this.i.Aa(t),n),r=r|q;if(2==r)if(r=this.i.Ah(t),this.Gf(r)){var v=f.Yf(g,-1),w=t,r=this.Jx(b,f),r=this.gn(r,c);f.Kj(v,r);this.i.co(b,p,1);do{r=this.i.Xf(w);q=this.Jx(r,f);q=this.gn(q,c);f.Kj(v,q);this.i.Ob(w,n,1);this.i.Ob(this.i.Aa(w),n,1);this.i.co(r,p,1);w=this.i.qc(w);
r=this.i.Kb(w,n);q=this.i.Kb(this.i.Aa(w),n);r|=q;if(2!=r)break;r=this.i.Ah(w);if(!this.Gf(r)){this.i.Ob(w,n,1);this.i.Ob(this.i.Aa(w),n,1);break}}while(w!=t)}else this.i.Ob(t,n,1),this.i.Ob(this.i.Aa(t),n,1);t=this.i.qc(this.i.Aa(t))}while(t!=a)}for(b=this.i.rf;-1!=b;b=this.i.og(b))r=this.i.Hg(b,p),1!=r&&(r=this.i.Md(b),this.Gf(r)&&(-1==m&&(m=f.Yf(k,-1)),a=this.i.Ym(b),-1!=a&&(a=this.i.Uj(a),r=this.gn(a,c),f.Kj(m,r))));this.i.xq(p);this.i.ni(n);d.lo.V(f,e,1,this.pt,null);c=[];c[0]=k;c[1]=g;c[2]=
e;return c};e.prototype.Jx=function(b,a){var c=-1;for(b=this.i.Ym(b);-1!=b;b=this.i.gt(b)){var d=this.i.Uj(b);-1==c&&(c=d);var e=this.i.Ia(a.ng(a.ld(d)));if(this.Gf(e)){c=d;break}}return c};e.prototype.NB=function(b,a){for(var c=this.i.Kk(a),f=this.i.Xf(a),e=0,g=0,k=this.i.Ym(c);-1!=k;k=this.i.gt(k)){var m=this.i.Uj(k),n=b.ld(m),t=this.i.Ia(b.ng(n)),p=b.U(m),r=b.Ra(m),n=b.cb(n);n==m&&(this.Wo=a);-1!=p&&this.i.jf(p)==f?(e++,this.Gf(t)&&(n==p&&(this.Wo=this.i.qc(a)),g++)):-1!=r&&this.i.jf(r)==f&&(e--,
this.Gf(t)&&(n==r&&(this.Wo=this.i.qc(a)),g--))}this.i.w(c,this.AI);this.i.w(f,this.BI);c=d.b.Cb(this.AI,this.BI);return(0!=g?g:e)*c};e.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Ff(b)|this.i.Ff(this.i.Aa(b))};e.prototype.mL=function(b){for(var a=this.i.Aa(this.i.Te(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Te(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.nL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;
c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.cK=function(b,a,c,f,e){var g=this.i.a,h=b,k=this.i.Aa(h);this.i.Ob(h,c,1);this.i.Ob(k,c,1);var m=this.NB(g,h);this.Wo=-1;for(var n=h,t=-1,p=!1,r=1;;){var q=this.i.Te(h);if(q==k)break;k=this.i.qc(k);if(this.i.Aa(q)!=k)if(h=this.mL(h),-1==h)break;else p=!0,k=this.i.Aa(h);else h=q;if(h==b){t=b;break}q=this.Fq(h);if(!this.Gf(q))break;this.i.Ob(h,c,1);this.i.Ob(k,c,1);n=h;m+=this.NB(g,h);r++}if(-1==t)for(h=b,k=this.i.Aa(h),t=h;;){b=
this.i.qc(h);if(b==k)break;k=this.i.Te(k);if(this.i.Aa(b)!=k)if(h=this.nL(h),-1==h){p=!0;break}else k=this.i.Aa(h);else h=b;q=this.Fq(h);if(!this.Gf(q))break;this.i.Ob(h,c,1);this.i.Ob(k,c,1);t=h;m+=this.NB(g,h);r++}else if(-1!=this.Wo&&(n=this.Wo,t=this.i.Te(this.Wo),this.i.Aa(t)!=this.i.qc(this.i.Aa(n))&&(t=this.mL(n),-1==t)))throw d.g.za();0<=m||(h=t,t=this.i.Aa(n),n=this.i.Aa(h));c=g.Yf(a,-1);h=n;n=this.i.Kk(n);p=this.i.Xf(t)==n&&p;m=this.Jx(n,g);m=this.gn(m,e);g.Kj(c,m);-1!=f&&this.i.co(n,f,
1);n=0;for(r=p?d.J.truncate((r+1)/2):-1;;){b=this.i.Xf(h);m=this.Jx(b,g);m=this.gn(m,e);g.Kj(c,m);n++;-1!=f&&this.i.co(b,f,1);p&&n==r&&(c=g.Yf(a,-1),g.Kj(c,m));if(h==t)break;b=this.i.qc(h);if(this.i.Te(this.i.Aa(h))!=this.i.Aa(b)){if(h=this.nL(h),-1==h)throw d.g.za();}else h=b}};e.prototype.fs=function(b){for(var a=this.i.a.bh(1607),c=this.i.xh(),d=this.i.rf;-1!=d;d=this.i.og(d)){var e=this.i.kf(d),g=e;do 1!=this.i.Kb(g,c)&&this.Gf(this.Fq(g))&&this.cK(g,a,c,-1,b),g=this.i.qc(this.i.Aa(g));while(g!=
e)}this.i.ni(c);return a};e.prototype.VY=function(b){for(var a=this.i.a,c=a.bh(1607),d=a.bh(550),e=this.i.xh(),g=this.i.wq(),k=-1,m=this.i.rf;-1!=m;m=this.i.og(m)){var n=this.i.kf(m),t=n;do{var p=this.i.Kb(t,e);1!=p&&(p=this.Fq(t),this.Gf(p)&&this.cK(t,c,e,g,b));t=this.i.qc(this.i.Aa(t))}while(t!=n)}for(m=this.i.rf;-1!=m;m=this.i.og(m))p=this.i.Hg(m,g),1!=p&&(p=this.i.Md(m),this.Gf(p)&&(-1==k&&(k=a.Yf(d,-1)),n=this.i.Ym(m),-1!=n&&(n=this.i.Uj(n),n=this.gn(n,b),a.Kj(k,n))));this.i.ni(e);this.i.xq(g);
b=[];b[0]=d;b[1]=c;return b};e.prototype.Qp=function(){for(var b=this.i.a,a=b.bh(550),c=b.Yf(a,-1),d=this.i.rf;-1!=d;d=this.i.og(d))if(this.Gf(this.i.Md(d))){for(var e=-1,g=this.i.Ym(d);-1!=g;g=this.i.gt(g)){var k=this.i.Uj(g);-1==e&&(e=k);var m=this.i.Ia(b.ng(b.ld(k)));if(this.Gf(m)){e=k;break}}b.Kj(c,e)}return a};e.prototype.Do=function(b){this.Mh=[];for(var a=0;a<b;a++)this.Mh[a]=!1};e.vD=function(b,a,c,f){var e=b.Ka(),g=Array(1E3);d.J.Nv(g,null);var k=d.J.gf(1E3,0),m=b.D(),n=!0,t=2==a.tb();if(1!=
a.tb()&&2!=a.tb())throw d.g.za();for(var p=0;p<m;){var r=d.J.truncate(b.eX(g,p)-p);t?d.gd.fL(a,g,r,c,k):d.gd.gL(a,g,r,c,k);for(var q=0,v=0;v<r;v++){var w=0==k[v];f||(w=!w);w&&(n&&(n=!1,e.Id(b,0,p)),q!=v&&e.Id(b,p+q,p+v),q=v+1)}n||q==r||e.Id(b,p+q,p+r);p+=r}return n?b:e};e.MH=function(b,a,c){return b instanceof d.Ed?e.vD(b,a,c,!0):a instanceof d.Wa?b.u()||a.u()?b.Ka():d.sk.yJ(c,b,a)?d.sk.FQ(b,a):b.Ka():e.xD(b,a,c,!0)};e.nw=function(b,a,c,f){var g=new d.h;b.s(g);var k=new d.h;a.s(k);var m=new d.h;m.I(g);
m.Nb(k);c=d.na.be(c,m,!0);m=new d.h;m.I(k);k=d.na.Cs(c);m.O(k,k);if(!g.Yb(m)){if(b.tb()<=a.tb())return e.bd(e.Bb(b.Ka()),b,"\x26");if(b.tb()>a.tb())return e.bd(e.Bb(a.Ka()),b,"\x26")}k=new e;g=new d.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));k.Xr(g,c,f);f=k.nw(m,a);b=e.bd(g.Se(f),b,"\x26");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.xD=function(b,a,c,f){if(b.u())return b.Ka();if(a.u())return f?b.Ka():null;var e=[null],g=[0],k=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw d.g.za();e[0]=b.w();k?d.gd.fL(a,
e,1,c,g):d.gd.gL(a,e,1,c,g);a=0==g[0];f||(a=!a);return a?b.Ka():b};e.TZ=function(b,a,c){return b instanceof d.Ed?e.vD(b,a,c,!1):a instanceof d.Wa?b.u()?b.Ka():a.u()?b:d.sk.yJ(c,b,a)?b.Ka():b:e.xD(b,a,c,!1)};e.prototype.DJ=function(b,a,c,f,e){if(b.u())return b;var g=new d.fd;b=g.Jb(b);return this.ol(g,b,a,c,f,e)};e.prototype.zW=function(b,a,c,f,e,g){if(e&&550!=b.hc(a)){var h=new d.WD;h.MY(b,c);h.ih?(d.sk.V(b,c,g,!0),e=!1):this.i.ez(c)}else d.sk.V(b,c,g,!0),e=!1;f&&550!=b.hc(a)?this.i.nK(b,a):this.i.mK(b,
a);if(this.i.XA)return this.i.qh(),this.i=null,this.ol(b,a,c,f,!1,g);this.i.ez(NaN);g=this.i.Ia(a);this.Do(g+1);this.Mh[g]=!0;if(1736==b.hc(a)||f&&550!=b.hc(a))return b.Hp(a,0),a=this.es(a,-1,-1),b=b.Se(a),b.Hp(0),e?b.Zg(1,0):(b.Zg(2,c),b.Al()),b;if(1607==b.hc(a))return a=this.fs(-1),b=b.Se(a),e||b.Zg(2,c),b;if(550==b.hc(a))return a=this.Qp(),b=b.Se(a),e||b.Zg(2,c),b;throw d.g.za();};e.prototype.ol=function(b,a,c,f,e,g){this.i=new d.Qu;try{return this.zW(b,a,c,f,e,g)}finally{this.i.qh()}};e.ol=function(b,
a,c,d,g){return(new e).DJ(b,a,c,d,g)};e.prototype.yW=function(b,a,c){this.pt=b;this.i=new d.Qu;b=a.xo(c);var f=a.hc(c);1!=b||550==f?this.i.mK(a,c):this.i.nK(a,c);if(!this.i.XA)if(this.i.ez(NaN),f=this.i.Ia(c),this.Do(f+1),this.Mh[f]=!0,1736==a.hc(c)||1==b&&550!=a.hc(c))a.Hp(c,0),b=this.es(c,-1,-1),a.EC(b,c),a.aC(b);else if(1607==a.hc(c))b=this.fs(-1),a.EC(b,c),a.aC(b);else if(550==a.hc(c))b=this.Qp(),a.EC(b,c),a.aC(b);else throw d.g.X("internal error");};e.DC=function(b,a,c,d){var f=new e;f.pt=!0;
return f.DJ(b,a,!1,c,d)};e.prototype.Vm=function(b,a){var c=d.T.lf(this.i.a.hc(b)),f=d.T.lf(this.i.a.hc(a));if(c>f)return b;var e=this.i.Ia(b),g=this.i.Ia(a);this.Do((e|g)+1);this.Mh[this.i.Ia(b)]=!0;if(2==c&&2==f)return this.es(b,a,-1);if(1==c&&2==f||1==c&&1==f)return this.fs(-1);if(0==c)return this.Qp();throw d.g.za();};e.prototype.mG=function(b,a){var c=d.T.lf(this.i.a.hc(b)),f=d.T.lf(this.i.a.hc(a));if(c>f)return b;if(c<f)return a;var e=this.i.Ia(b),g=this.i.Ia(a);this.Do((e|g)+1);this.Mh[this.i.Ia(b)]=
!0;this.Mh[this.i.Ia(a)]=!0;this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==c&&2==f)return this.es(b,a,-1);if(1==c&&1==f)return this.fs(-1);if(0==c&&0==f)return this.Qp();throw d.g.za();};e.prototype.nw=function(b,a){var c=d.T.lf(this.i.a.hc(b)),f=d.T.lf(this.i.a.hc(a)),e=this.i.Ia(b),g=this.i.Ia(a);this.Do((e|g)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;e=-1;1<this.i.a.Hr.Ga&&(e=b);if(2==c&&2==f)return this.es(b,a,e);if(1==c&&0<f||1==f&&0<c)return this.fs(e);if(0==c||0==f)return this.Qp();throw d.g.za();
};e.prototype.vA=function(b,a){var c=d.T.lf(this.i.a.hc(b)),f=d.T.lf(this.i.a.hc(a)),e=this.i.Ia(b),g=this.i.Ia(a);this.Do((e|g)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;e=-1;1<this.i.a.Hr.Ga&&(e=b);if(2==c&&2==f)return this.UY(b,a,e);if(1==c&&0<f||1==f&&0<c)return this.VY(e);if(0==c||0==f)return c=[],c[0]=this.Qp(),c;throw d.g.za();};e.prototype.Pp=function(b,a){var c=d.T.lf(this.i.a.hc(b)),f=d.T.lf(this.i.a.hc(a)),e=this.i.Ia(b),g=this.i.Ia(a);this.Do((e|g)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=
!0;if(2==c&&2==f)return this.es(b,a,-1);if(1==c&&1==f)return this.fs(-1);if(0==c&&0==f)return this.Qp();throw d.g.za();};e.Bb=function(b){var a=b.G();return 197==a?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33==a?(a=new d.Ed(b.description),b.u()||a.add(b),a):322==a?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):b};e.bd=function(b,a,c){var f=b.G();return 197==f?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33!=f||"|"!=c&&"^"!=c?322==f?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):33==f&&
"-"==c&&33==a.G()||550==f&&"\x26"==c&&33==a.G()?(a=new d.Wa(b.description),b.u()||b.Ae(0,a),a):b:(a=new d.Ed(b.description),b.u()||a.add(b),a)};e.Vm=function(b,a,c,f){if(b.u()||a.u()||b.tb()>a.tb())return e.bd(e.Bb(b),b,"-");var g=new d.h;b.s(g);var k=new d.h;a.s(k);if(!g.Yb(k))return e.bd(e.Bb(b),b,"-");var m=new d.h;m.I(g);m.Nb(k);c=d.na.be(c,m,!0);k=new e;g=new d.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));k.Xr(g,c,f);f=k.Vm(m,a);f=g.Se(f);b=e.bd(f,b,"-");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());
return b};e.mG=function(b,a,c,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"|");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"|");if(a.u())return e.bd(e.Bb(b),b,"|");var g=new d.h;b.s(g);var k=new d.h;a.s(k);var m=new d.h;m.I(g);m.Nb(k);c=d.na.be(c,m,!0);if(!g.Yb(k.nT(c,c)))switch(b=e.Bb(b),a=e.Bb(a),b.G()){case 550:return b=d.T.oe(b),b.Id(a,0,-1),b;case 1607:return b=d.T.oe(b),b.add(a,!1),b;case 1736:return b=d.T.oe(b),b.add(a,!1),b;default:throw d.g.za();}k=new e;g=new d.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));
k.Xr(g,c,f);a=k.mG(m,a);b=e.bd(g.Se(a),b,"|");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.RR=function(b,a,c){if(2>b.length)throw d.g.F("not enough geometries to dissolve");for(var f=0,g=0,k=b.length;g<k;g++)f=Math.max(b[g].tb(),f);var m=new d.h;m.Oa();for(var n=new d.fd,t=-1,p=0,r=-1,g=0,k=b.length;g<k;g++)if(b[g].tb()==f)if(b[g].u())-1==r&&(r=g);else{r=g;-1==t?t=n.Jb(e.Bb(b[g])):n.wP(t,e.Bb(b[g]));var q=new d.h;b[g].ac(q);m.Nb(q);p++}if(2>p)return e.Bb(b[r]);b=2==f;a=d.na.be(0==f?
a:null,m,!0);return(new e).ol(n,t,a,b,!0,c)};e.vA=function(b,a,c,f){var g=[null,null,null],k=new d.h;b.s(k);var m=new d.h;a.s(m);var n=new d.h;n.I(k);n.Nb(m);c=d.na.be(c,n,!0);n=new d.h;n.I(m);m=d.na.Cs(c);n.O(m,m);if(!k.Yb(n)){if(b.tb()<=a.tb())return b=e.bd(e.Bb(b.Ka()),b,"\x26"),g[b.tb()]=b,g;if(b.tb()>a.tb())return b=e.bd(e.Bb(a.Ka()),b,"\x26"),g[b.tb()]=b,g}m=new e;k=new d.fd;n=k.Jb(e.Bb(b));a=k.Jb(e.Bb(a));m.Xr(k,c,f);f=m.vA(n,a);for(a=0;a<f.length;a++)m=e.bd(k.Se(f[a]),b,"\x26"),d.T.Ic(m.G())&&
(m.Zg(2,c),1736==m.G()&&m.Al()),g[m.tb()]=m;return g};e.Pp=function(b,a,c,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"^");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"^");if(a.u())return e.bd(e.Bb(b),b,"^");var g=new d.h;b.s(g);var k=new d.h;a.s(k);var m=new d.h;m.I(g);m.Nb(k);c=d.na.be(c,m,!0);k=new e;g=new d.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));k.Xr(g,c,f);f=k.Pp(m,a);b=e.bd(g.Se(f),b,"^");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.M_=function(b,a,c){a=a.G();c=c.G();return 550==b.G()&&
(33==a||33==c)&&1>=b.D()?(c=new d.Wa(b.description),b.u()||b.Ae(0,c),c):b};e.prototype.AS=function(b,a){var c=this.i.a;b=c.Yf(b,-1);for(var d=a.size,e=0;e<d;e++){var g=a.get(e);c.Kj(b,g)}c.$n(b,!0)};e.prototype.WX=function(b,a){for(var c=this.i.a,d=c.sd;-1!=d;d=c.Ue(d))if(d==a)for(var e=c.Pb(d);-1!=e;e=c.Sb(e)){var g=c.cb(e);if(-1!=g)for(var k=c.U(g);-1!=k;){var g=this.i.jf(g),m=this.i.jf(k),g=this.i.kT(g,m);-1!=g&&(m=this.i.Aa(g),this.i.Ob(g,b,1),this.i.Ob(m,b,2));g=k;k=c.U(g)}}};e.prototype.TW=
function(b,a,c,e){c=this.i.Ia(c);e=this.i.Ia(e);var f=new d.ia(0);f.yb(256);for(var g=this.i.a,k=this.i.xh(),m=this.i.rf;-1!=m;m=this.i.og(m)){var n=this.i.kf(m);if(-1!=n){var t=n;do{if(1!=this.i.Kb(t,k)){var p=t,r=t,q=!1,v=0;do{this.i.Ob(p,k,1);if(!q){var w=this.i.Ah(p);0!=(w&e)&&0!=(this.i.Ff(p)&c)&&(r=p,q=!0)}q&&(f.add(this.i.Uj(this.i.Ym(this.i.Kk(p)))),-1!=b&&(w=this.i.Ah(p),0!=(w&e)&&(w=this.i.Kb(p,b),v|=w)));p=this.i.qc(p)}while(p!=r);q&&0<this.i.Dq(this.i.Ef(r))&&(p=g.bh(1736),this.AS(p,f),
-1!=a&&g.xK(p,a,v));f.clear(!1)}t=this.i.qc(this.i.Aa(t))}while(t!=n)}}this.i.ni(k)};e.prototype.zR=function(b,a,c,d){this.i.vX();var e=-1;-1!=b&&(e=this.i.xh(),this.WX(e,c));this.TW(e,b,a,c);var f=this.i.a;b=0;for(e=f.sd;-1!=e;e=f.Ue(e))e!=a&&e!=c&&(d.add(e),b++);d.Gd(0,b,function(a,b){a=f.gA(f.Pb(a));b=f.gA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.qh=function(){null!=this.i&&(this.i.qh(),this.i=null)};return e}();d.Dg=e})(m||(m={}));(function(d){var e=function(){function e(b){void 0!==b?this.Op(b):
this.pC()}e.prototype.Vx=function(){this.bc=this.Wb=this.zb=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(b){return this==b?!0:b instanceof e?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.zb==b.zb&&this.gb==b.gb&&this.bc==b.bc:!1};e.prototype.jc=function(){d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();return d.J.Zi()};e.prototype.$h=function(b,a){var c=this.zb*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};e.prototype.XY=function(b,a,c,d,e){var f=2*a;d*=2;for(a=2*(a+e);f<
a;f+=2,d+=2){e=b[f];var g=b[f+1];c[d]=this.lb*e+this.sb*g+this.Wb;c[d+1]=this.zb*e+this.gb*g+this.bc}};e.prototype.ZY=function(b,a,c){for(var e=0;e<a;e++){var g=b[e].x,k=b[e].y,m=this.lb*g+this.sb*k+this.Wb,g=this.zb*g+this.gb*k+this.bc;null!=c[e]?c[e].ka(m,g):c[e]=d.b.pa(m,g)}};e.prototype.multiply=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,k,m;d=b.lb*a.lb+b.zb*a.sb;e=b.sb*a.lb+b.gb*a.sb;g=b.Wb*a.lb+b.bc*a.sb+a.Wb;k=b.lb*a.zb+b.zb*a.gb;m=b.sb*a.zb+b.gb*a.gb;b=b.Wb*
a.zb+b.bc*a.gb+a.bc;c.lb=d;c.sb=e;c.Wb=g;c.zb=k;c.gb=m;c.bc=b};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.zb=this.zb;b.gb=this.gb;b.bc=this.bc;return b};e.prototype.KC=function(b){if(!b.u()){for(var a=[],c=0;4>c;c++)a[c]=new d.b;b.PB(a);this.$Y(a,a);b.Mx(a,4)}};e.prototype.$Y=function(b,a){for(var c=0;c<b.length;c++){var e=new d.b,g=b[c];e.x=this.lb*g.x+this.sb*g.y+this.Wb;e.y=this.zb*g.x+this.gb*g.y+this.bc;a[c]=e}};e.prototype.kU=function(b,a){b.u()||a.u()||0==
b.N()||0==b.fa()?this.Vx():(this.sb=this.zb=0,this.lb=a.N()/b.N(),this.gb=a.fa()/b.fa(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};e.prototype.YY=function(b){var a=new d.b,c=new d.b;a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.sub(a);var e=.5*a.qk();a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.add(c);a=.5*a.qk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};e.prototype.pC=function(){this.lb=1;this.zb=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.Ho=function(b){if(void 0!==b){var a=d.b.pa(0,
1);this.$h(a,a);a.sub(d.b.pa(0,1));if(a.qk()>b*b)return!1;a.ka(0,0);this.$h(a,a);if(a.qk()>b*b)return!1;a.ka(1,0);this.$h(a,a);a.sub(d.b.pa(1,0));return a.qk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.zb&&0==this.bc};e.prototype.fh=function(b){return Math.abs(this.lb*this.gb-this.zb*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.zb*this.sb))};e.prototype.Ag=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.zb=0;this.gb=1;this.bc=a};e.prototype.Op=function(b,a){void 0!==
a?(this.lb=b,this.zb=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Op(b,b)};e.prototype.xC=function(){this.lb=0;this.sb=1;this.Wb=0;this.zb=1;this.bc=this.gb=0};e.prototype.jY=function(b){this.kY(Math.cos(b),Math.sin(b))};e.prototype.kY=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.zb=a;this.gb=b;this.bc=0};e.prototype.shift=function(b,a){this.Wb+=b;this.bc+=a};e.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.zb*=a;this.gb*=a;this.bc*=a};e.prototype.rotate=function(b){var a=
new e;a.jY(b);this.multiply(a)};e.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.zb;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.zb-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.zb=-this.zb*a,b.gb=this.lb*a)}else this.inverse(this)};return e}();d.Hd=e})(m||(m={}));(function(d){var e=function(){function e(){}e.prototype.Vx=function(){this.bi=this.bc=this.Wb=this.Df=this.Af=this.zf=this.Cf=this.gb=this.sb=this.Sf=this.zb=this.lb=
0};e.prototype.Op=function(b,a,c){this.lb=b;this.sb=this.Sf=this.zb=0;this.gb=a;this.Af=this.zf=this.Cf=0;this.Df=c;this.bi=this.bc=this.Wb=0};e.prototype.KC=function(b){if(b.u())return b;for(var a=new d.qd[8],c=0;8>c;c++)a[c]=new d.qd;b.PB(a);this.transform(a,8,a);b.Mx(a);return b};e.prototype.transform=function(b,a,c){for(var e=0;e<a;e++){var g=new d.qd,k=b[e];g.x=this.lb*k.x+this.sb*k.y+this.zf*k.z+this.Wb;g.y=this.zb*k.x+this.gb*k.y+this.Af*k.z+this.bc;g.z=this.Sf*k.x+this.Cf*k.y+this.Df*k.z+
this.bi;c[e]=g}};e.prototype.Rp=function(b){var a=new d.qd;a.x=this.lb*b.x+this.sb*b.y+this.zf*b.z+this.Wb;a.y=this.zb*b.x+this.gb*b.y+this.Af*b.z+this.bc;a.z=this.Sf*b.x+this.Cf*b.y+this.Df*b.z+this.bi;return a};e.prototype.Vg=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,k,m,n,p,t,r,q,v;d=b.lb*a.lb+b.zb*a.sb+b.Sf*a.zf;e=b.lb*a.zb+b.zb*a.gb+b.Sf*a.Af;g=b.lb*a.Sf+b.zb*a.Cf+b.Sf*a.Df;k=b.sb*a.lb+b.gb*a.sb+b.Cf*a.zf;m=b.sb*a.zb+b.gb*a.gb+b.Cf*a.Af;n=b.sb*a.Sf+b.gb*a.Cf+b.Cf*
a.Df;p=b.zf*a.lb+b.Af*a.sb+b.Df*a.zf;t=b.zf*a.zb+b.Af*a.gb+b.Df*a.Af;r=b.zf*a.Sf+b.Af*a.Cf+b.Df*a.Df;q=b.Wb*a.lb+b.bc*a.sb+b.bi*a.zf+a.Wb;v=b.Wb*a.zb+b.bc*a.gb+b.bi*a.Af+a.bc;b=b.Wb*a.Sf+b.bc*a.Cf+b.bi*a.Df+a.bi;c.lb=d;c.zb=e;c.Sf=g;c.sb=k;c.gb=m;c.Cf=n;c.zf=p;c.Af=t;c.Df=r;c.Wb=q;c.bc=v;c.bi=b};e.inverse=function(b,a){var c=b.lb*(b.gb*b.Df-b.Cf*b.Af)-b.zb*(b.sb*b.Df-b.Cf*b.zf)+b.Sf*(b.sb*b.Af-b.gb*b.zf);if(0!=c){var e,g,k,m,n,p,t,r,q,v;r=1/c;c=(b.gb*b.Df-b.Cf*b.Af)*r;k=-(b.sb*b.Df-b.Cf*b.zf)*r;p=
(b.sb*b.Af-b.gb*b.zf)*r;e=-(b.zb*b.Df-b.Af*b.Sf)*r;m=(b.lb*b.Df-b.Sf*b.zf)*r;t=-(b.lb*b.Af-b.zb*b.zf)*r;g=(b.zb*b.Cf-b.Sf*b.gb)*r;n=-(b.lb*b.Cf-b.Sf*b.sb)*r;r*=b.lb*b.gb-b.zb*b.sb;q=-(b.Wb*c+b.bc*k+b.bi*p);v=-(b.Wb*e+b.bc*m+b.bi*t);b=-(b.Wb*g+b.bc*n+b.bi*r);a.lb=c;a.zb=e;a.Sf=g;a.sb=k;a.gb=m;a.Cf=n;a.zf=p;a.Af=t;a.Df=r;a.Wb=q;a.bc=v;a.bi=b}else throw d.g.X("math singularity");};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.zb=this.zb;b.Sf=this.Sf;b.sb=this.sb;b.gb=this.gb;b.Cf=this.Cf;b.zf=
this.zf;b.Af=this.Af;b.Df=this.Df;b.Wb=this.Wb;b.bc=this.bc;b.bi=this.bi;return b};return e}();d.eO=e})(m||(m={}));(function(d){var e=function(b){function a(a){if(void 0!==a)b.call(this,a.jc(),a);else{b.call(this);this.wg=[];this.wg[0]=0;this.Ga=1;this.Sh=[];for(a=0;10>a;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0}this.Zq=!0}O(a,b);a.prototype.Ud=function(a){this.hasAttribute(a)||(this.Sh[a]=0,this.CE())};a.prototype.removeAttribute=function(a){if(0==a)throw d.g.F("Position attribue cannot be removed");
this.hasAttribute(a)&&(this.Sh[a]=-1,this.CE())};a.prototype.reset=function(){this.wg[0]=0;this.Ga=1;for(var a=0;a<this.Sh.length;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0;this.Zq=!0};a.prototype.Oz=function(){return g.zo().add(this)};a.Ig=function(){return g.zo().TT()};a.eq=function(){return g.zo().UT()};a.prototype.JO=function(){var a=this.jc();return new d.ma(a,this)};a.prototype.CE=function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Sh[a]&&(this.wg[b]=a,this.Sh[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.jc=
function(){this.Zq&&(this.bm=this.Ak(),this.Zq=!1);return this.bm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.wg[c]!=b.wg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.SH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.wg[b]!=a.wg[b])return!1;return!0};a.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.mg(a.rd(d));return c};a.uT=
function(b,d){b=new a(b);b.Ud(d);return b.Oz()};a.vT=function(b,d){for(var c=null,e=0;10>e;e++)!b.hasAttribute(e)&&d.hasAttribute(e)&&(null==c&&(c=new a(b)),c.Ud(e));return null!=c?c.Oz():b};a.ss=function(b,d){b=new a(b);b.removeAttribute(d);return b.Oz()};return a}(d.ma);d.ye=e;var g=function(){function b(){this.map=[];var a=new e;this.add(a);a=new e;a.Ud(1);this.add(a)}b.zo=function(){return b.iV};b.prototype.TT=function(){return b.aq};b.prototype.UT=function(){return b.bq};b.prototype.add=function(a){var c=
a.jc();if(null!=b.aq&&b.aq.jc()==c&&a.SH(b.aq))return b.aq;if(null!=b.bq&&b.bq.jc()==c&&a.SH(b.bq))return b.bq;var d=null;void 0!==this.map[c]&&(d=this.map[c]);null==d&&(d=a.JO(),1==d.Ga?b.aq=d:2==d.Ga&&1==d.rd(1)?b.bq=d:this.map[c]=d);return d};b.iV=new b;return b}()})(m||(m={}));var M=0==C.version.indexOf("4."),W;(function(d){d[d.Linear=0]="Linear";d[d.Angular=1]="Angular";d[d.Area=2]="Area";d[d.LinearOrAngular=3]="LinearOrAngular"})(W||(W={}));var ba={feet:9002,kilometers:9036,meters:9001,miles:9035,
"nautical-miles":9030,yards:9096},U={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},ca={degrees:9102,radians:9101};void 0===q.prototype.getCacheValue&&D.extend(q,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=g}});var Y=m.Sd.create(4326),
da=m.Sd.create(102100);F=function(){function d(){}d.extendedSpatialReferenceInfo=function(d){if(null===d)return null;d=A(d);var e=d.Nd();return{tolerance:d.Bo(),unitType:null==e?-1:e.nd,unitID:null==e?-1:e.yc(),unitBaseFactor:null==e?0:e.Ai,unitSquareDerivative:null==e?0:m.oc.lH(e).yc()}};d.clip=function(d,e){if(null===d)return null;e=m.cc.clip(K(d),K(e),N(d));return r(e,d.spatialReference)};d.cut=function(d,e){e=K(e);e=m.cc.Hl(K(d),e,N(d));for(var b=[],a=0;a<e.length;a++)b.push(r(e[a],d.spatialReference));
return b};d.contains=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.contains(K(d),K(e),N(d))};d.crosses=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.yR(K(d),K(e),N(d))};d.distance=function(d,e,b){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.Cb(K(d),K(e),N(d),m.oc.ze(p(b,3)))};d.equals=function(d,e){return null===d&&null!==e||null===e&&null!==d?!1:m.cc.Eb(K(d),K(e),N(d))};d.intersects=
function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.NU(K(d),K(e),N(d))};d.touches=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.touches(K(d),K(e),N(d))};d.within=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.rZ(K(d),K(e),N(d))};d.disjoint=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.QR(K(d),K(e),N(d))};d.overlaps=function(d,e){if(null===
d||null===e)throw Error("Illegal Argument Exception");return m.cc.oW(K(d),K(e),N(d))};d.relate=function(d,e,b){if(null===d||null===e)throw Error("Illegal Argument Exception");return m.cc.YB(K(d),K(e),N(d),b)};d.isSimple=function(d){if(null===d)throw Error("Illegal Argument Exception");return m.cc.YU(K(d),N(d))};d.simplify=function(d){if(null===d)throw Error("Illegal Argument Exception");var e=m.cc.CC(K(d),N(d));return r(e,d.spatialReference)};d.convexHull=function(e,g){void 0===g&&(g=!1);if(null===
e)throw Error("Illegal Argument Exception");return!1===R(e)?(g=m.cc.hR(K(e),N(e)),r(g,e.spatialReference)):d.kZ(e,g)};d.kZ=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(K(d[a]));b=m.cc.iR(b,e);for(a=0;a<b.length;a++)b[a]=r(b[a],d[0].spatialReference);return b};d.difference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===R(e)?(g=m.cc.Vm(K(e),K(g),N(e)),r(g,e.spatialReference)):d.hM(e,g)};d.hM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(K(d[a]));
b=m.cc.NR(b,K(e),N(e));for(a=0;a<b.length;a++)b[a]=r(b[a],e.spatialReference);return b};d.symmetricDifference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===R(e)?(g=m.cc.Pp(K(e),K(g),N(e)),r(g,e.spatialReference)):d.KM(e,g)};d.KM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(K(d[a]));b=m.cc.OY(b,K(e),N(e));for(a=0;a<b.length;a++)b[a]=r(b[a],e.spatialReference);return b};d.intersect=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");
return!1===R(e)?(g=m.cc.Ma(K(e),K(g),N(e)),r(g,e.spatialReference)):d.wM(e,g)};d.wM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(K(d[a]));b=m.cc.LU(b,K(e),N(e));for(a=0;a<b.length;a++)b[a]=r(b[a],e.spatialReference);return b};d.union=function(d,e){void 0===e&&(e=null);if(null===d)return null;!1===R(d)&&(d=[d],null!==e&&d.push(e));if(0===d.length)return null;e=[];for(var b=0;b<d.length;b++)e.push(K(d[b]));return r(m.cc.gZ(e,N(d[0])),d[0].spatialReference)};d.offset=function(e,g,b,a,c,f){var h=
0;if(null!=a&&void 0!=a)switch(a){case "round":h=0;break;case "bevel":h=1;break;case "miter":h=2;break;case "square":h=3}return!1===R(e)?(g=m.cc.offset(K(e),N(e),g,h,c,f,m.oc.ze(p(b,3))),r(g,e.spatialReference)):d.GM(e,g,b,h,c,f)};d.GM=function(d,e,b,a,c,f){if(null===d)return null;if(0===d.length)return[];for(var g=[],k=0;k<d.length;k++)g.push(K(d[k]));e=m.cc.mW(g,N(d[0]),e,a,c,f,m.oc.ze(p(b,3)));for(k=0;k<e.length;k++)e[k]=r(e[k],d[0].spatialReference);return e};d.buffer=function(e,g,b,a){void 0===
a&&(a=!1);if(!1===R(e))return g=m.cc.buffer(K(e),N(e),g,m.oc.ze(p(b,3)),!1,0,NaN),r(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var c=[],f=0;f<e.length;f++)c.push(g);g=c}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var c=[],h=0,f=0;f<e.length;f++)void 0===g[f]?c.push(h):(c.push(g[f]),h=g[f]);g=c}return d.qD(e,g,b,!1,a,"geodesic",NaN)};d.geodesicBuffer=function(e,g,b,a,c,f){if(!1===R(e))return void 0===c&&(c=NaN),g=m.cc.buffer(K(e),
N(e),g,m.oc.ze(p(b,0)),!0,k(a),c),r(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var h=[],l=0;l<e.length;l++)h.push(g);g=h}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var h=[],n=0,l=0;l<e.length;l++)void 0===g[l]?h.push(n):(h.push(g[l]),n=g[l]);g=h}return d.qD(e,g,b,!0,a,c,f)};d.qD=function(d,e,b,a,c,f,g){if(null===d)return null;if(0===d.length)return[];void 0===g&&(g=NaN);for(var h=[],n=0;n<d.length;n++)h.push(K(d[n]));
e=m.cc.QP(h,N(d[0]),e,m.oc.ze(p(b,0)),a,c,k(f),g);for(n=0;n<e.length;n++)e[n]=r(e[n],d[0].spatialReference);return e};d.nearestCoordinate=function(d,e,b){void 0===b&&(b=!0);e=m.cc.Zz(K(d),K(e),b);return{coordinate:r(e.Nz(),d.spatialReference),distance:e.Qz(),isRightSide:e.zA(),vertexIndex:e.Za(),isEmpty:e.u()}};d.nearestVertex=function(d,e){e=m.cc.$z(K(d),K(e));return{coordinate:r(e.Nz(),d.spatialReference),distance:e.Qz(),isRightSide:e.zA(),vertexIndex:e.Za(),isEmpty:e.u()}};d.nearestVertices=function(d,
e,b,a){e=K(e);b=m.cc.aA(K(d),e,b,a);a=[];for(e=0;e<b.length;e++)!1===b[e].u()&&a.push({coordinate:r(b[e].Nz(),d.spatialReference),distance:b[e].Qz(),isRightSide:b[e].zA(),vertexIndex:b[e].Za(),isEmpty:b[e].u()});return a};d.generalize=function(d,e,b,a){e=m.cc.GS(K(d),N(d),e,b,m.oc.ze(p(a,3)));return r(e,d.spatialReference)};d.densify=function(d,e,b){e=m.cc.Ls(K(d),N(d),e,m.oc.ze(p(b,3)));return r(e,d.spatialReference)};d.geodesicDensify=function(d,e,b,a){void 0===a&&(a=0);e=m.cc.Ez(K(d),N(d),e,m.oc.ze(p(b,
3)),a);return r(e,d.spatialReference)};d.rotate=function(d,e,b){if(void 0===b||null===b)void 0!==d.x?b=d:void 0!==d.xmin?(!1===d instanceof q&&(d=M?H(d):B(d)),b=M?d.get("center"):d.getCenter()):(!1===d instanceof q&&(d=M?H(d):B(d)),b=M?d.get("extent").get("center"):d.getExtent().getCenter());e=M?m.Wp.rotate(d.toJSON?d.toJSON():d,e,b.toJSON?b.toJSON():b):m.Wp.rotate(d.toJson?d.toJson():d,e,b.toJson?b.toJson():b);M?(e=H(e),e.set("spatialReference",d.spatialReference)):(e=B(e),e.setSpatialReference(d.spatialReference));
return e};d.flipHorizontal=function(d,e){if(void 0===e||null===e)void 0!==d.x?e=d:void 0!==d.xmin?(!1===d instanceof q&&(d=M?H(d):B(d)),e=M?d.get("center"):d.getCenter()):(!1===d instanceof q&&(d=M?H(d):B(d)),e=M?d.get("extent").get("center"):d.getExtent().getCenter());e=M?m.Wp.zG(d.toJSON?d.toJSON():d,e.toJSON?e.toJSON():e):m.Wp.zG(d.toJson?d.toJson():d,e.toJson?e.toJson():e);M?(e=H(e),e.set("spatialReference",d.spatialReference)):(e=B(e),e.setSpatialReference(d.spatialReference));return e};d.flipVertical=
function(d,e){if(void 0===e||null===e)void 0!==d.x?e=d:void 0!==d.xmin?(!1===d instanceof q&&(d=M?H(d):B(d)),e=M?d.get("center"):d.getCenter()):(!1===d instanceof q&&(d=M?H(d):B(d)),e=M?d.get("extent").get("center"):d.getExtent().getCenter());e=M?m.Wp.AG(d.toJSON?d.toJSON():d,e.toJSON?e.toJSON():e):m.Wp.AG(d.toJson?d.toJson():d,e.toJson?e.toJson():e);M?(e=H(e),e.set("spatialReference",d.spatialReference)):(e=B(e),e.setSpatialReference(d.spatialReference));return e};d.planarArea=function(d,e){if(null===
d)throw Error("Illegal Argument Exception");return m.cc.wW(K(d),N(d),m.oc.ze(p(e,2)))};d.planarLength=function(d,e){if(null===d)throw Error("Illegal Argument Exception");return m.cc.xW(K(d),N(d),m.oc.ze(p(e,3)))};d.geodesicArea=function(d,e,b){if(null===d)throw Error("Illegal Argument Exception");return m.cc.MS(K(d),N(d),m.oc.ze(p(e,2)),k(b))};d.geodesicLength=function(d,e,b){if(null===d)throw Error("Illegal Argument Exception");return m.cc.QS(K(d),N(d),m.oc.ze(p(e,0)),k(b))};d._enableProjection=
function(e){d.FE=!0;m.AN.bind(e)};d.Mg=function(d){return A(d).Ao()};d._getTransformation=function(d,e,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw m.g.F("AOI missing Spatial Reference");a=K(b);c=A(b.spatialReference).Ao()}d=m.Ou.QT(A(d).Ao(),A(e).Ao(),a,c);return null!==d?d:null};d._getTransformationBySuitability=function(d,e,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw m.g.F("AOI missing Spatial Reference");a=K(b);c=A(b.spatialReference).Ao()}return m.Ou.RT(A(d).Ao(),
A(e).Ao(),a,c)};d.cZ=function(e,g,b){var a=null;if(b){var c=b.getGTListEntry();if(null!==c){for(var a=new m.ny(null),f=0,h=c.steps;f<h.length;f++){var c=h[f],k=new m.io(c.geogtran);c.isInverse&&k.kt();a.add(k)}a=m.rs.Is(d.Mg(e),d.Mg(g),a);b.assignCachedGe(e,g,a);return a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new m.ny(null);f=0;for(h=b.steps;f<h.length;f++)c=h[f],-1!=c.wkid&&null!==c.wkid&&void 0!==c.wkid?a.add(m.io.create(c.wkid,c.isInverse)):a.add(m.io.fG(c.wkt,c.isInverse));a=m.rs.Is(d.Mg(e),
d.Mg(g),a);b.assignCachedGe(e,g,a);return a}return m.rs.Is(d.Mg(e),d.Mg(g),a)};d._project=function(e,g,b,a,c){void 0===a&&(a=null);void 0===c&&(c=!1);if(!1===this.FE)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(a){var f=a.getCachedGeTransformation(g,b);f||(f=d.cZ(g,b,a));g=[];var h=0}else f=m.rs.Is(d.Mg(g),d.Mg(b),null),g=[],h=0;for(;h<e.length;h++)a=e[h],g.push(d.mD(a,b,f,c));return g};d.mD=function(d,e,b,a){d=m.cc.Xg(K(d),b);return a?J(d):r(d,
e)};d.FE=!1;return d}();void 0===q.prototype.getCacheValue&&D.extend(q,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=g}});return F})},"esri/widgets/Sketch/support/OperationHandle":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators".split(" "),
function(F,w,C,q,v,d,n){Object.defineProperty(w,"__esModule",{value:!0});F=function(d){function w(){var n=null!==d&&d.apply(this,arguments)||this;n.cancelled=!1;n.history={undo:[],redo:[]};n.type=null;return n}C(w,d);Object.defineProperty(w.prototype,"tool",{get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":break;
default:v.neverReached(this.activeComponent)}return null},enumerable:!0,configurable:!0});w.prototype.addToHistory=function(d){this.history.redo=[];this.history.undo.push(d)};w.prototype.resetHistory=function(){this.history.redo=[];this.history.undo=[]};w.prototype.canUndo=function(){return 0<this.history.undo.length};w.prototype.canRedo=function(){return 0<this.history.redo.length};w.prototype.complete=function(){this.cleanUp();this.onEnd();this.emit("complete")};w.prototype.cancel=function(){this._set("cancelled",
!0);this.cleanUp();this.onEnd();this.emit("cancel")};w.prototype.cleanUp=function(){this.activeComponent.reset()};w.prototype.refreshComponent=function(){var d=this.activeComponent;d&&("box"!==d.type&&"reshape"!==d.type||d.refresh())};Object.defineProperty(w.prototype,"undo",{set:function(d){var n=this;this._set("undo",function(){n.canUndo()&&d()})},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"redo",{set:function(d){var n=this;this._set("redo",function(){n.canRedo()&&d()})},
enumerable:!0,configurable:!0});q([n.property()],w.prototype,"activeComponent",void 0);q([n.property()],w.prototype,"cancelled",void 0);q([n.property()],w.prototype,"history",void 0);q([n.property({dependsOn:["activeComponent"]})],w.prototype,"tool",null);q([n.property()],w.prototype,"type",void 0);q([n.property()],w.prototype,"addToHistory",null);q([n.property()],w.prototype,"resetHistory",null);q([n.property()],w.prototype,"canUndo",null);q([n.property()],w.prototype,"canRedo",null);q([n.property()],
w.prototype,"complete",null);q([n.property()],w.prototype,"cancel",null);q([n.property()],w.prototype,"cleanUp",null);q([n.property()],w.prototype,"refreshComponent",null);q([n.property()],w.prototype,"onEnd",void 0);q([n.property()],w.prototype,"undo",null);q([n.property()],w.prototype,"redo",null);q([n.property()],w.prototype,"toggleTool",void 0);q([n.property()],w.prototype,"addToSelection",void 0);q([n.property()],w.prototype,"removeFromSelection",void 0);return w=q([n.subclass("esri.widgets.Sketch.support.OperationHandle")],
w)}(n.declared(d.EventedAccessor));w.OperationHandle=F})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(F,w,C,q,v,d,n,y,G,D,B,H){function p(d,g){return C.doc.createElementNS?C.doc.createElementNS(d,g):C.doc.createElement(g)}function k(d,g,k,n){return d.setAttributeNS?d.setAttributeNS(g,k,n):d.setAttribute(k,n)}function r(d){return g.useSvgWeb?
C.doc.createTextNode(d,!0):C.doc.createTextNode(d)}var g=D.svg={};g.useSvgWeb="undefined"!=typeof window.svgweb;var A=navigator.userAgent,K=w("ios"),N=w("chrome")?"auto":"optimizeLegibility";g.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};g.getRef=function(d){return d&&"none"!=d?d.match(/^url\(#.+\)$/)?q.byId(d.slice(5,-1)):d.match(/^#dojoUnique\d+$/)?q.byId(d.slice(1)):null:null};g.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,
1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var R=0;g.Shape=v("dojox.gfx.svg.Shape",B.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var d=this.rawNode.getAttribute("fill");(d=g.getRef(d))&&d.parentNode.removeChild(d)}this.clip&&(d=this.rawNode.getAttribute("clip-path"))&&(d=q.byId(d.match(/gfx_clip[\d]+/)[0]))&&d.parentNode.removeChild(d);B.Shape.prototype.destroy.apply(this,arguments)},setFill:function(g){if(!g)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var k,m=function(d){this.setAttribute(d,k[d].toFixed(8))};if("object"==typeof g&&"type"in g){switch(g.type){case "linear":k=D.makeParameters(D.defaultLinearGradient,g);g=this._setFillObject(k,"linearGradient");d.forEach(["x1","y1","x2","y2"],m,g);break;case "radial":k=D.makeParameters(D.defaultRadialGradient,g);g=this._setFillObject(k,"radialGradient");d.forEach(["cx","cy","r"],m,g);break;case "pattern":k=
D.makeParameters(D.defaultPattern,g),g=this._setFillObject(k,"pattern"),d.forEach(["x","y","width","height"],m,g)}this.fillStyle=k;return this}this.fillStyle=k=D.normalizeColor(g);this.rawNode.setAttribute("fill",k.toCss());this.rawNode.setAttribute("fill-opacity",k.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(d){var k=this.rawNode;if(!d)return this.strokeStyle=null,k.setAttribute("stroke","none"),k.setAttribute("stroke-opacity",0),this;if("string"==typeof d||
F.isArray(d)||d instanceof G)d={color:d};d=this.strokeStyle=D.makeParameters(D.defaultStroke,d);d.color=D.normalizeColor(d.color);if(d){var m=0>d.width?0:d.width;k.setAttribute("stroke",d.color.toCss());k.setAttribute("stroke-opacity",d.color.a);k.setAttribute("stroke-width",m);k.setAttribute("stroke-linecap",d.cap);"number"==typeof d.join?(k.setAttribute("stroke-linejoin","miter"),k.setAttribute("stroke-miterlimit",d.join)):k.setAttribute("stroke-linejoin",d.join);var n=d.style.toLowerCase();n in
g.dasharray&&(n=g.dasharray[n]);if(n instanceof Array){var n=F._toArray(n),p;for(p=0;p<n.length;++p)n[p]*=m;if("butt"!=d.cap){for(p=0;p<n.length;p+=2)n[p]-=m,1>n[p]&&(n[p]=1);for(p=1;p<n.length;p+=2)n[p]+=m}n=n.join(",")}k.setAttribute("stroke-dasharray",n);k.setAttribute("dojoGfxStrokeStyle",d.style)}return this},_getParentSurface:function(){for(var d=this.parent;d&&!(d instanceof D.Surface);d=d.parent);return d},_setFillObject:function(d,n){var m=g.xmlns.svg;this.fillStyle=d;var r=this._getParentSurface().defNode,
q=this.rawNode.getAttribute("fill");if(q=g.getRef(q))if(q.tagName.toLowerCase()!=n.toLowerCase()){var v=q.id;q.parentNode.removeChild(q);q=p(m,n);q.setAttribute("id",v);r.appendChild(q)}else for(;q.childNodes.length;)q.removeChild(q.lastChild);else q=p(m,n),q.setAttribute("id",D._base._getUniqueId()),r.appendChild(q);if("pattern"==n)q.setAttribute("patternUnits","userSpaceOnUse"),m=p(m,"image"),m.setAttribute("x",0),m.setAttribute("y",0),m.setAttribute("width",(0>d.width?0:d.width).toFixed(8)),m.setAttribute("height",
(0>d.height?0:d.height).toFixed(8)),k(m,g.xmlns.xlink,"xlink:href",d.src),q.appendChild(m);else for(q.setAttribute("gradientUnits","userSpaceOnUse"),n=0;n<d.colors.length;++n){var r=d.colors[n],v=p(m,"stop"),w=r.color=D.normalizeColor(r.color);v.setAttribute("offset",r.offset.toFixed(8));v.setAttribute("stop-color",w.toCss());v.setAttribute("stop-opacity",w.a);q.appendChild(v)}this.rawNode.setAttribute("fill","url(#"+q.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return q},_applyTransform:function(){if(this.matrix){var d=this.matrix;this.rawNode.setAttribute("transform","matrix("+d.xx.toFixed(8)+","+d.yx.toFixed(8)+","+d.xy.toFixed(8)+","+d.yy.toFixed(8)+","+d.dx.toFixed(8)+","+d.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(d){d=this.rawNode=d;"image"!=this.shape.type&&d.setAttribute("fill","none");d.setAttribute("fill-opacity",0);d.setAttribute("stroke","none");d.setAttribute("stroke-opacity",
0);d.setAttribute("stroke-width",1);d.setAttribute("stroke-linecap","butt");d.setAttribute("stroke-linejoin","miter");d.setAttribute("stroke-miterlimit",4);d.__gfxObject__=this},setShape:function(d){this.shape=D.makeParameters(this.shape,d);for(var g in this.shape)if("type"!=g){d=this.shape[g];if("width"===g||"height"===g)d=0>d?0:d;this.rawNode.setAttribute(g,d)}this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(d){this.inherited(arguments);var k=d?"width"in d?"rect":"cx"in d?"ellipse":"points"in d?"polyline":"d"in d?"path":null:null;if(d&&!k)return this;"polyline"===k&&(d=F.clone(d),d.points=d.points.join(","));var m,n=y.get(this.rawNode,"clip-path");n&&(m=q.byId(n.match(/gfx_clip[\d]+/)[0]))&&m.removeChild(m.childNodes[0]);d?(m?(k=p(g.xmlns.svg,k),m.appendChild(k)):(n="gfx_clip"+ ++R,this.rawNode.setAttribute("clip-path","url(#"+n+")"),m=
p(g.xmlns.svg,"clipPath"),k=p(g.xmlns.svg,k),m.appendChild(k),this.rawNode.parentNode.insertBefore(m,this.rawNode),y.set(m,"id",n)),y.set(k,d)):(this.rawNode.removeAttribute("clip-path"),m&&m.parentNode.removeChild(m));return this},_removeClipNode:function(){var d,g=y.get(this.rawNode,"clip-path");g&&(d=q.byId(g.match(/gfx_clip[\d]+/)[0]))&&d.parentNode.removeChild(d);return d}});g.Group=v("dojox.gfx.svg.Group",g.Shape,{constructor:function(){B.Container._init.call(this)},setRawNode:function(d){this.rawNode=
d;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="g";g.Rect=v("dojox.gfx.svg.Rect",[g.Shape,B.Rect],{setShape:function(d){this.shape=D.makeParameters(this.shape,d);this.bbox=null;for(var g in this.shape)if("type"!=g&&"r"!=g){d=this.shape[g];if("width"===g||"height"===g)d=0>d?0:d;this.rawNode.setAttribute(g,d)}null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));
return this}});g.Rect.nodeType="rect";g.Ellipse=v("dojox.gfx.svg.Ellipse",[g.Shape,B.Ellipse],{});g.Ellipse.nodeType="ellipse";g.Circle=v("dojox.gfx.svg.Circle",[g.Shape,B.Circle],{});g.Circle.nodeType="circle";g.Line=v("dojox.gfx.svg.Line",[g.Shape,B.Line],{});g.Line.nodeType="line";g.Polyline=v("dojox.gfx.svg.Polyline",[g.Shape,B.Polyline],{setShape:function(d,g){d&&d instanceof Array?(this.shape=D.makeParameters(this.shape,{points:d}),g&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):
this.shape=D.makeParameters(this.shape,d);this.bbox=null;this._normalizePoints();d=[];g=this.shape.points;for(var k=0;k<g.length;++k)d.push(g[k].x.toFixed(8),g[k].y.toFixed(8));this.rawNode.setAttribute("points",d.join(" "));return this}});g.Polyline.nodeType="polyline";g.Image=v("dojox.gfx.svg.Image",[g.Shape,B.Image],{setShape:function(d){this.shape=D.makeParameters(this.shape,d);this.bbox=null;d=this.rawNode;for(var m in this.shape)if("type"!=m&&"src"!=m){var n=this.shape[m];if("width"===m||"height"===
m)n=0>n?0:n;d.setAttribute(m,n)}d.setAttribute("preserveAspectRatio","none");k(d,g.xmlns.xlink,"xlink:href",this.shape.src);d.__gfxObject__=this;return this}});g.Image.nodeType="image";g.Text=v("dojox.gfx.svg.Text",[g.Shape,B.Text],{setShape:function(d){this.shape=D.makeParameters(this.shape,d);this.bbox=null;d=this.rawNode;var g=this.shape;d.setAttribute("x",g.x);d.setAttribute("y",g.y);d.setAttribute("text-anchor",g.align);d.setAttribute("text-decoration",g.decoration);d.setAttribute("rotate",g.rotated?
90:0);d.setAttribute("kerning",g.kerning?"auto":0);d.setAttribute("text-rendering",N);d.firstChild?d.firstChild.nodeValue=g.text:d.appendChild(r(g.text));return this},getTextWidth:function(){var d=this.rawNode,g=d.parentNode,d=d.cloneNode(!0);d.style.visibility="hidden";var k=0,n=d.firstChild.nodeValue;g.appendChild(d);if(""!=n)for(;!k;)k=d.getBBox?parseInt(d.getBBox().width):68;g.removeChild(d);return k},getBoundingBox:function(){var d=null;if(this.getShape().text)try{d=this.rawNode.getBBox()}catch(I){d=
{x:0,y:0,width:0,height:0}}return d}});g.Text.nodeType="text";g.Path=v("dojox.gfx.svg.Path",[g.Shape,H.Path],{_updateWithSegment:function(d){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(d){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});g.Path.nodeType="path";g.TextPath=v("dojox.gfx.svg.TextPath",[g.Shape,H.TextPath],{_updateWithSegment:function(d){this.inherited(arguments);
this._setTextPath()},setShape:function(d){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var d=this.rawNode;if(!d.firstChild){var n=p(g.xmlns.svg,"textPath"),q=r("");n.appendChild(q);d.appendChild(n)}n=(n=d.firstChild.getAttributeNS(g.xmlns.xlink,"href"))&&g.getRef(n);if(!n&&(q=this._getParentSurface())){var q=q.defNode,n=p(g.xmlns.svg,"path"),v=D._base._getUniqueId();n.setAttribute("id",v);q.appendChild(n);k(d.firstChild,g.xmlns.xlink,
"xlink:href","#"+v)}n&&n.setAttribute("d",this.shape.path)}},_setText:function(){var d=this.rawNode;if(!d.firstChild){var k=p(g.xmlns.svg,"textPath"),n=r("");k.appendChild(n);d.appendChild(k)}d=d.firstChild;k=this.text;d.setAttribute("alignment-baseline","middle");switch(k.align){case "middle":d.setAttribute("text-anchor","middle");d.setAttribute("startOffset","50%");break;case "end":d.setAttribute("text-anchor","end");d.setAttribute("startOffset","100%");break;default:d.setAttribute("text-anchor",
"start"),d.setAttribute("startOffset","0%")}d.setAttribute("baseline-shift","0.5ex");d.setAttribute("text-decoration",k.decoration);d.setAttribute("rotate",k.rotated?90:0);d.setAttribute("kerning",k.kerning?"auto":0);d.firstChild.data=k.text}});g.TextPath.nodeType="text";var J=534<function(){var d=/WebKit\/(\d*)/.exec(A);return d?d[1]:0}();g.Surface=v("dojox.gfx.svg.Surface",B.Surface,{constructor:function(){B.Container._init.call(this)},destroy:function(){B.Container.clear.call(this,!0);this.defNode=
null;this.inherited(arguments)},setDimensions:function(d,g){if(!this.rawNode)return this;d=0>d?0:d;g=0>g?0:g;this.rawNode.setAttribute("width",d);this.rawNode.setAttribute("height",g);J&&(this.rawNode.style.width=d,this.rawNode.style.height=g);return this},getDimensions:function(){return this.rawNode?{width:D.normalizedLength(this.rawNode.getAttribute("width")),height:D.normalizedLength(this.rawNode.getAttribute("height"))}:null}});g.createSurface=function(d,k,n){var m=new g.Surface;m.rawNode=p(g.xmlns.svg,
"svg");m.rawNode.setAttribute("overflow","hidden");k&&m.rawNode.setAttribute("width",0>k?0:k);n&&m.rawNode.setAttribute("height",0>n?0:n);k=p(g.xmlns.svg,"defs");m.rawNode.appendChild(k);m.defNode=k;m._parent=q.byId(d);m._parent.appendChild(m.rawNode);D._base._fixMsTouchAction(m);return m};w={_setFont:function(){var d=this.fontStyle;this.rawNode.setAttribute("font-style",d.style);this.rawNode.setAttribute("font-variant",d.variant);this.rawNode.setAttribute("font-weight",d.weight);this.rawNode.setAttribute("font-size",
d.size);this.rawNode.setAttribute("font-family",d.family)}};var O=B.Container;v=g.Container={openBatch:function(){if(!this._batch){var d;d=g.useSvgWeb?C.doc.createDocumentFragment(!0):C.doc.createDocumentFragment();this.fragment=d}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(d){this!=d.getParent()&&(this.fragment?this.fragment.appendChild(d.rawNode):
this.rawNode.appendChild(d.rawNode),O.add.apply(this,arguments),d.setClip(d.clip));return this},remove:function(d,g){this==d.getParent()&&(this.rawNode==d.rawNode.parentNode&&this.rawNode.removeChild(d.rawNode),this.fragment&&this.fragment==d.rawNode.parentNode&&this.fragment.removeChild(d.rawNode),d._removeClipNode(),O.remove.apply(this,arguments));return this},clear:function(){for(var d=this.rawNode;d.lastChild;)d.removeChild(d.lastChild);var g=this.defNode;if(g){for(;g.lastChild;)g.removeChild(g.lastChild);
d.appendChild(g)}return O.clear.apply(this,arguments)},getBoundingBox:O.getBoundingBox,_moveChildToFront:O._moveChildToFront,_moveChildToBack:O._moveChildToBack};H=g.Creator={createObject:function(d,k){if(!this.rawNode)return null;var m=new d;d=p(g.xmlns.svg,d.nodeType);m.setRawNode(d);m.setShape(k);this.add(m);return m}};F.extend(g.Text,w);F.extend(g.TextPath,w);F.extend(g.Group,v);F.extend(g.Group,B.Creator);F.extend(g.Group,H);F.extend(g.Surface,v);F.extend(g.Surface,B.Creator);F.extend(g.Surface,
H);g.fixTarget=function(d,g){d.gfxTarget||(d.gfxTarget=K&&d.target.wholeText?d.target.parentElement.__gfxObject__:d.target.__gfxObject__);return!0};g.useSvgWeb&&(g.createSurface=function(d,k,r){var m=new g.Surface;k=0>k?0:k;r=0>r?0:r;if(!k||!r){var v=n.position(d);k=k||v.w;r=r||v.h}d=q.byId(d);var v=d.id?d.id+"_svgweb":D._base._getUniqueId(),w=p(g.xmlns.svg,"svg");w.id=v;w.setAttribute("width",k);w.setAttribute("height",r);svgweb.appendChild(w,d);w.addEventListener("SVGLoad",function(){m.rawNode=
this;m.isLoaded=!0;var d=p(g.xmlns.svg,"defs");m.rawNode.appendChild(d);m.defNode=d;if(m.onLoad)m.onLoad(m)},!1);m.isLoaded=!1;return m},g.Surface.extend({destroy:function(){var d=this.rawNode;svgweb.removeChild(d,d.parentNode)}}),w={connect:function(d,g,k){"on"===d.substring(0,2)&&(d=d.substring(2));k=2==arguments.length?g:F.hitch(g,k);this.getEventSource().addEventListener(d,k,!1);return[this,d,k]},disconnect:function(d){this.getEventSource().removeEventListener(d[1],d[2],!1);delete d[0]}},F.extend(g.Shape,
w),F.extend(g.Surface,w));return g})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(F,w,C,q,v,d,n,y,G){var D=w.getObject("dojox.gfx",!0),B=D._base={};D._hasClass=function(d,g){return(d=d.getAttribute("className"))&&0<=(" "+d+" ").indexOf(" "+g+" ")};D._addClass=function(d,g){var k=d.getAttribute("className")||"";(!k||0>(" "+k+" ").indexOf(" "+
g+" "))&&d.setAttribute("className",k+(k?" ":"")+g)};D._removeClass=function(d,g){var k=d.getAttribute("className");k&&d.setAttribute("className",k.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)"),"$1$2"))};B._getFontMeasurements=function(){var d={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},g,k;q("ie")&&(k=v.doc.documentElement.style.fontSize||"",k||(v.doc.documentElement.style.fontSize="100%"));var n=y.create("div",{style:{position:"absolute",
left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},v.body());for(g in d)n.style.fontSize=g,d[g]=16*Math.round(12*n.offsetHeight/16)/12/1E3;q("ie")&&(v.doc.documentElement.style.fontSize=k);v.body().removeChild(n);return d};var H=null;B._getCachedFontMeasurements=function(d){if(d||!H)H=B._getFontMeasurements();return H};var p=null,k={};B._getTextBox=function(d,g,n){var r,q,w=arguments.length,m;p||(p=y.create("div",
{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},v.body()));r=p;r.className="";q=r.style;q.borderWidth="0";q.margin="0";q.padding="0";q.outline="0";if(1<w&&g)for(m in g)m in k||(q[m]=g[m]);2<w&&n&&(r.className=n);r.innerHTML=d;r.getBoundingClientRect?(q=r.getBoundingClientRect(),q={l:q.left,t:q.top,w:q.width||q.right-q.left,h:q.height||q.bottom-q.top}):q=G.getMarginBox(r);r.innerHTML="";return q};B._computeTextLocation=function(d,g,k,n){var p={};switch(d.align){case "end":p.x=
d.x-g;break;case "middle":p.x=d.x-g/2;break;default:p.x=d.x}p.y=d.y-k*(n?.75:1);return p};B._computeTextBoundingBox=function(d){if(!D._base._isRendered(d))return{x:0,y:0,width:0,height:0};var g;g=d.getShape();var k=d.getFont()||D.defaultFont;d=d.getTextWidth();k=D.normalizedLength(k.size);g=B._computeTextLocation(g,d,k,!0);return{x:g.x,y:g.y,width:d,height:k}};B._isRendered=function(d){for(d=d.parent;d&&d.getParent;)d=d.parent;return null!==d};var r=0;B._getUniqueId=function(){var d;do d=F._scopeName+
"xUnique"+ ++r;while(n.byId(d));return d};var g=q("pointer-events")?"touchAction":null;B._fixMsTouchAction=g?function(d){d.rawNode.style[g]="none"}:function(){};w.mixin(D,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,
height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,
color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var d={};return function(g){var k=d[g];if(k)return new k;k=d[g]=new Function;k.prototype=D["default"+g];return new k}}(),normalizeColor:function(d){return d instanceof C?d:new C(d)},normalizeParameters:function(d,g){var k;if(g){var n={};for(k in d)k in g&&!(k in n)&&(d[k]=g[k])}return d},makeParameters:function(d,
g){var k=null;if(!g)return w.delegate(d);var n={};for(k in d)k in n||(n[k]=w.clone(k in g?g[k]:d[k]));return n},formatNumber:function(d,g){var k=d.toString();if(0<=k.indexOf("e"))k=d.toFixed(4);else{var n=k.indexOf(".");0<=n&&5<k.length-n&&(k=d.toFixed(4))}return 0>d?k:g?" "+k:k},makeFontString:function(d){return d.style+" "+d.variant+" "+d.weight+" "+d.size+" "+d.family},splitFontString:function(d){var g=D.getDefault("Font");d=d.split(/\s+/);if(!(5>d.length)){g.style=d[0];g.variant=d[1];g.weight=
d[2];var k=d[3].indexOf("/");g.size=0>k?d[3]:d[3].substring(0,k);var n=4;0>k&&("/"==d[4]?n=6:"/"==d[4].charAt(0)&&(n=5));n<d.length&&(g.family=d.slice(n).join(" "))}return g},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return D._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(d){return d*D.px_in_pt()},px2pt:function(d){return d/D.px_in_pt()},normalizedLength:function(d){if(0===d.length)return 0;if(2<d.length){var g=D.px_in_pt(),k=parseFloat(d);switch(d.slice(-2)){case "px":return k;
case "pt":return k*g;case "in":return 72*k*g;case "pc":return 12*k*g;case "mm":return k*D.mm_in_pt*g;case "cm":return k*D.cm_in_pt*g}}return parseFloat(d)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(d,g){return d&&g&&d===g},switchTo:function(g){var k="string"==typeof g?D[g]:g;k&&(d.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
function(d){D[d]=k[d]}),"string"==typeof g?D.renderer=g:d.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(d){return D.renderer=D[d]&&D[d].Surface===D.Surface?d:null}))}});return D})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(F,w,C,q,v,d,n,y,G,D){function B(d,k){for(var n=d.length-1;k<n;)d[k]=d[++k];d.length=n}var H=
F.shape={};H.Shape=C("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(v("gfxRegistry")){var d=H.register(this);this.getUID=function(){return d}}},destroy:function(){v("gfxRegistry")&&H.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},
getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var d=this.getBoundingBox();if(!d)return null;var k=this._getRealMatrix();return[D.multiplyPoint(k,d.x,d.y),D.multiplyPoint(k,d.x+d.width,d.y),D.multiplyPoint(k,d.x+d.width,d.y+d.height),D.multiplyPoint(k,d.x,d.y+d.height)]},getEventSource:function(){return this.rawNode},setClip:function(d){this.clip=
d},getClip:function(){return this.clip},setShape:function(d){this.shape=F.makeParameters(this.shape,d);this.bbox=null;return this},setFill:function(d){if(!d)return this.fillStyle=null,this;var k=null;if("object"==typeof d&&"type"in d)switch(d.type){case "linear":k=F.makeParameters(F.defaultLinearGradient,d);break;case "radial":k=F.makeParameters(F.defaultRadialGradient,d);break;case "pattern":k=F.makeParameters(F.defaultPattern,d)}else k=F.normalizeColor(d);this.fillStyle=k;return this},setStroke:function(d){if(!d)return this.strokeStyle=
null,this;if("string"==typeof d||w.isArray(d)||d instanceof G)d={color:d};d=this.strokeStyle=F.makeParameters(F.defaultStroke,d);d.color=F.normalizeColor(d.color);return this},setTransform:function(d){this.matrix=D.clone(d?D.normalize(d):D.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var d=this.getParent();d&&(d._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var d=this.getParent();d&&(d._moveChildToBack(this),
this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(d){return d?this.setTransform([this.matrix,d]):this},applyLeftTransform:function(d){return d?this.setTransform([d,this.matrix]):this},applyTransform:function(d){return d?this.setTransform([this.matrix,d]):this},removeShape:function(d){this.parent&&this.parent.remove(this,d);return this},_setParent:function(d,k){this.parent=d;return this._updateParentMatrix(k)},_updateParentMatrix:function(d){this.parentMatrix=
d?D.clone(d):null;return this._applyTransform()},_getRealMatrix:function(){for(var d=this.matrix,k=this.parent;k;)k.matrix&&(d=D.multiply(k.matrix,d)),k=k.parent;return d}});H._eventsProcessing={on:function(n,k){return d(this.getEventSource(),n,H.fixCallback(this,F.fixTarget,k))},connect:function(d,k,n){"on"==d.substring(0,2)&&(d=d.substring(2));return this.on(d,n?w.hitch(k,n):k)},disconnect:function(d){return d.remove()}};H.fixCallback=function(d,k,n,g){g||(g=n,n=null);if(w.isString(g)){n=n||q.global;
if(!n[g])throw['dojox.gfx.shape.fixCallback: scope["',g,'"] is null (scope\x3d"',n,'")'].join("");return function(p){return k(p,d)?n[g].apply(n,arguments||[]):void 0}}return n?function(p){return k(p,d)?g.apply(n,arguments||[]):void 0}:function(p){return k(p,d)?g.apply(n,arguments):void 0}};w.extend(H.Shape,H._eventsProcessing);H.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(d){var k=d.getParent();k&&k.remove(d,
!0);this.children.push(d);return d._setParent(this,this._getRealMatrix())},remove:function(d,k){for(var n=0;n<this.children.length;++n)if(this.children[n]==d){k||(d.parent=null,d.parentMatrix=null);B(this.children,n);break}return this},clear:function(d){for(var k,n=0;n<this.children.length;++n)k=this.children[n],k.parent=null,k.parentMatrix=null,d&&k.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var d=null;n.forEach(this.children,function(k){var n=k.getBoundingBox();
n&&((k=k.getTransform())&&(n=D.multiplyRectangle(k,n)),d?(d.x=Math.min(d.x,n.x),d.y=Math.min(d.y,n.y),d.endX=Math.max(d.endX,n.x+n.width),d.endY=Math.max(d.endY,n.y+n.height)):d={x:n.x,y:n.y,endX:n.x+n.width,endY:n.y+n.height})});d&&(d.width=d.endX-d.x,d.height=d.endY-d.y);return d}return null},_moveChildToFront:function(d){for(var k=0;k<this.children.length;++k)if(this.children[k]==d){B(this.children,k);this.children.push(d);break}return this},_moveChildToBack:function(d){for(var k=0;k<this.children.length;++k)if(this.children[k]==
d){B(this.children,k);this.children.unshift(d);break}return this}};H.Surface=C("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){n.forEach(this._nodes,y.destroy);this._nodes=[];n.forEach(this._events,function(d){d&&d.remove()});this._events=[];this.rawNode=null;if(v("ie"))for(;this._parent.lastChild;)y.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(d){},whenLoaded:function(n,k){var p=w.hitch(n,k);if(this.isLoaded)p(this);else d.once(this,"load",function(d){p(d)})}});w.extend(H.Surface,H._eventsProcessing);H.Rect=C("dojox.gfx.shape.Rect",H.Shape,{constructor:function(d){this.shape=F.getDefault("Rect");this.rawNode=d},getBoundingBox:function(){return this.shape}});H.Ellipse=C("dojox.gfx.shape.Ellipse",H.Shape,{constructor:function(d){this.shape=F.getDefault("Ellipse");this.rawNode=
d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:d.cx-d.rx,y:d.cy-d.ry,width:2*d.rx,height:2*d.ry}}return this.bbox}});H.Circle=C("dojox.gfx.shape.Circle",H.Shape,{constructor:function(d){this.shape=F.getDefault("Circle");this.rawNode=d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:d.cx-d.r,y:d.cy-d.r,width:2*d.r,height:2*d.r}}return this.bbox}});H.Line=C("dojox.gfx.shape.Line",H.Shape,{constructor:function(d){this.shape=F.getDefault("Line");this.rawNode=
d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:Math.min(d.x1,d.x2),y:Math.min(d.y1,d.y2),width:Math.abs(d.x2-d.x1),height:Math.abs(d.y2-d.y1)}}return this.bbox}});H.Polyline=C("dojox.gfx.shape.Polyline",H.Shape,{constructor:function(d){this.shape=F.getDefault("Polyline");this.rawNode=d},setShape:function(d,k){d&&d instanceof Array?(this.inherited(arguments,[{points:d}]),k&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[d]);
return this},_normalizePoints:function(){var d=this.shape.points,k=d&&d.length;if(k&&"number"==typeof d[0]){for(var n=[],g=0;g<k;g+=2)n.push({x:d[g],y:d[g+1]});this.shape.points=n}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var d=this.shape.points,k=d.length,n=d[0],g=n.x,q=n.y,v=n.x,w=n.y,y=1;y<k;++y)n=d[y],g>n.x&&(g=n.x),v<n.x&&(v=n.x),q>n.y&&(q=n.y),w<n.y&&(w=n.y);this.bbox={x:g,y:q,width:v-g,height:w-q}}return this.bbox}});H.Image=C("dojox.gfx.shape.Image",H.Shape,
{constructor:function(d){this.shape=F.getDefault("Image");this.rawNode=d},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});H.Text=C(H.Shape,{constructor:function(d){this.fontStyle=null;this.shape=F.getDefault("Text");this.rawNode=d},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?F.splitFontString(d):F.makeParameters(F.defaultFont,d);this._setFont();return this},getBoundingBox:function(){var d=
null;this.getShape().text&&(d=F._base._computeTextBoundingBox(this));return d}});H.Creator={createShape:function(d){switch(d.type){case F.defaultPath.type:return this.createPath(d);case F.defaultRect.type:return this.createRect(d);case F.defaultCircle.type:return this.createCircle(d);case F.defaultEllipse.type:return this.createEllipse(d);case F.defaultLine.type:return this.createLine(d);case F.defaultPolyline.type:return this.createPolyline(d);case F.defaultImage.type:return this.createImage(d);
case F.defaultText.type:return this.createText(d);case F.defaultTextPath.type:return this.createTextPath(d)}return null},createGroup:function(){return this.createObject(F.Group)},createRect:function(d){return this.createObject(F.Rect,d)},createEllipse:function(d){return this.createObject(F.Ellipse,d)},createCircle:function(d){return this.createObject(F.Circle,d)},createLine:function(d){return this.createObject(F.Line,d)},createPolyline:function(d){return this.createObject(F.Polyline,d)},createImage:function(d){return this.createObject(F.Image,
d)},createText:function(d){return this.createObject(F.Text,d)},createPath:function(d){return this.createObject(F.Path,d)},createTextPath:function(d){return this.createObject(F.TextPath,{}).setText(d)},createObject:function(d,k){return null}};return H})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(F,w){var C=F.matrix={},q={};C._degToRad=function(v){return q[v]||(q[v]=Math.PI*v/180)};C._radToDeg=function(q){return q/Math.PI*180};C.Matrix2D=function(q){if(q)if("number"==
typeof q)this.xx=this.yy=q;else if(q instanceof Array){if(0<q.length){for(var d=C.normalize(q[0]),n=1;n<q.length;++n){var v=d,G=C.normalize(q[n]),d=new C.Matrix2D;d.xx=v.xx*G.xx+v.xy*G.yx;d.xy=v.xx*G.xy+v.xy*G.yy;d.yx=v.yx*G.xx+v.yy*G.yx;d.yy=v.yx*G.xy+v.yy*G.yy;d.dx=v.xx*G.dx+v.xy*G.dy+v.dx;d.dy=v.yx*G.dx+v.yy*G.dy+v.dy}w.mixin(this,d)}}else w.mixin(this,q)};w.extend(C.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});w.mixin(C,{identity:new C.Matrix2D,flipX:new C.Matrix2D({xx:-1}),flipY:new C.Matrix2D({yy:-1}),
flipXY:new C.Matrix2D({xx:-1,yy:-1}),translate:function(q,d){return 1<arguments.length?new C.Matrix2D({dx:q,dy:d}):new C.Matrix2D({dx:q.x,dy:q.y})},scale:function(q,d){return 1<arguments.length?new C.Matrix2D({xx:q,yy:d}):"number"==typeof q?new C.Matrix2D({xx:q,yy:q}):new C.Matrix2D({xx:q.x,yy:q.y})},rotate:function(q){var d=Math.cos(q);q=Math.sin(q);return new C.Matrix2D({xx:d,xy:-q,yx:q,yy:d})},rotateg:function(q){return C.rotate(C._degToRad(q))},skewX:function(q){return new C.Matrix2D({xy:Math.tan(q)})},
skewXg:function(q){return C.skewX(C._degToRad(q))},skewY:function(q){return new C.Matrix2D({yx:Math.tan(q)})},skewYg:function(q){return C.skewY(C._degToRad(q))},reflect:function(q,d){1==arguments.length&&(d=q.y,q=q.x);var n=q*q,v=d*d,w=n+v,D=2*q*d/w;return new C.Matrix2D({xx:2*n/w-1,xy:D,yx:D,yy:2*v/w-1})},project:function(q,d){1==arguments.length&&(d=q.y,q=q.x);var n=q*q,v=d*d,w=n+v,D=q*d/w;return new C.Matrix2D({xx:n/w,xy:D,yx:D,yy:v/w})},normalize:function(q){return q instanceof C.Matrix2D?q:new C.Matrix2D(q)},
isIdentity:function(q){return 1==q.xx&&0==q.xy&&0==q.yx&&1==q.yy&&0==q.dx&&0==q.dy},clone:function(q){var d=new C.Matrix2D,n;for(n in q)"number"==typeof q[n]&&"number"==typeof d[n]&&d[n]!=q[n]&&(d[n]=q[n]);return d},invert:function(q){q=C.normalize(q);var d=q.xx*q.yy-q.xy*q.yx;return q=new C.Matrix2D({xx:q.yy/d,xy:-q.xy/d,yx:-q.yx/d,yy:q.xx/d,dx:(q.xy*q.dy-q.yy*q.dx)/d,dy:(q.yx*q.dx-q.xx*q.dy)/d})},_multiplyPoint:function(q,d,n){return{x:q.xx*d+q.xy*n+q.dx,y:q.yx*d+q.yy*n+q.dy}},multiplyPoint:function(q,
d,n){q=C.normalize(q);return"number"==typeof d&&"number"==typeof n?C._multiplyPoint(q,d,n):C._multiplyPoint(q,d.x,d.y)},multiplyRectangle:function(q,d){var n=C.normalize(q);d=d||{x:0,y:0,width:0,height:0};if(C.isIdentity(n))return{x:d.x,y:d.y,width:d.width,height:d.height};q=C.multiplyPoint(n,d.x,d.y);var v=C.multiplyPoint(n,d.x,d.y+d.height),w=C.multiplyPoint(n,d.x+d.width,d.y);d=C.multiplyPoint(n,d.x+d.width,d.y+d.height);var n=Math.min(q.x,v.x,w.x,d.x),D=Math.min(q.y,v.y,w.y,d.y);return{x:n,y:D,
width:Math.max(q.x,v.x,w.x,d.x)-n,height:Math.max(q.y,v.y,w.y,d.y)-D}},multiply:function(q){for(var d=C.normalize(q),n=1;n<arguments.length;++n){var v=d,w=C.normalize(arguments[n]),d=new C.Matrix2D;d.xx=v.xx*w.xx+v.xy*w.yx;d.xy=v.xx*w.xy+v.xy*w.yy;d.yx=v.yx*w.xx+v.yy*w.yx;d.yy=v.yx*w.xy+v.yy*w.yy;d.dx=v.xx*w.dx+v.xy*w.dy+v.dx;d.dy=v.yx*w.dx+v.yy*w.dy+v.dy}return d},_sandwich:function(q,d,n){return C.multiply(C.translate(d,n),q,C.translate(-d,-n))},scaleAt:function(q,d,n,w){switch(arguments.length){case 4:return C._sandwich(C.scale(q,
d),n,w);case 3:return"number"==typeof n?C._sandwich(C.scale(q),d,n):C._sandwich(C.scale(q,d),n.x,n.y)}return C._sandwich(C.scale(q),d.x,d.y)},rotateAt:function(q,d,n){return 2<arguments.length?C._sandwich(C.rotate(q),d,n):C._sandwich(C.rotate(q),d.x,d.y)},rotategAt:function(q,d,n){return 2<arguments.length?C._sandwich(C.rotateg(q),d,n):C._sandwich(C.rotateg(q),d.x,d.y)},skewXAt:function(q,d,n){return 2<arguments.length?C._sandwich(C.skewX(q),d,n):C._sandwich(C.skewX(q),d.x,d.y)},skewXgAt:function(q,
d,n){return 2<arguments.length?C._sandwich(C.skewXg(q),d,n):C._sandwich(C.skewXg(q),d.x,d.y)},skewYAt:function(q,d,n){return 2<arguments.length?C._sandwich(C.skewY(q),d,n):C._sandwich(C.skewY(q),d.x,d.y)},skewYgAt:function(q,d,n){return 2<arguments.length?C._sandwich(C.skewYg(q),d,n):C._sandwich(C.skewYg(q),d.x,d.y)}});F.Matrix2D=C.Matrix2D;return C})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(F,w,C,q,v){v=C("dojox.gfx.path.Path",
v.Shape,{constructor:function(d){this.shape=w.clone(F.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=d;this.segmented=!1},setAbsoluteMode:function(d){this._confirmSegmented();this.absolute="string"==typeof d?"absolute"==d:d;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-
this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var d=this.bbox,n=this._getRealMatrix();this.bbox=null;for(var q=0,v=this.segments.length;q<v;++q)this._updateWithSegment(this.segments[q],n);n=this.bbox;this.bbox=d;return this.tbbox=n?[{x:n.l,y:n.t},{x:n.r,y:n.t},{x:n.r,y:n.b},{x:n.l,y:n.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},
_updateBBox:function(d,n,v){v&&(n=q.multiplyPoint(v,d,n),d=n.x,n=n.y);this.bbox&&"l"in this.bbox?(this.bbox.l>d&&(this.bbox.l=d),this.bbox.r<d&&(this.bbox.r=d),this.bbox.t>n&&(this.bbox.t=n),this.bbox.b<n&&(this.bbox.b=n)):this.bbox={l:d,b:n,r:d,t:n}},_updateWithSegment:function(d,n){var q=d.args,v=q.length,w;switch(d.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(w=0;w<v;w+=2)this._updateBBox(q[w],q[w+1],n);this.last.x=q[v-2];this.last.y=q[v-1];this.absolute=!0;break;case "H":for(w=
0;w<v;++w)this._updateBBox(q[w],this.last.y,n);this.last.x=q[v-1];this.absolute=!0;break;case "V":for(w=0;w<v;++w)this._updateBBox(this.last.x,q[w],n);this.last.y=q[v-1];this.absolute=!0;break;case "m":w=0;"x"in this.last||(this._updateBBox(this.last.x=q[0],this.last.y=q[1],n),w=2);for(;w<v;w+=2)this._updateBBox(this.last.x+=q[w],this.last.y+=q[w+1],n);this.absolute=!1;break;case "l":case "t":for(w=0;w<v;w+=2)this._updateBBox(this.last.x+=q[w],this.last.y+=q[w+1],n);this.absolute=!1;break;case "h":for(w=
0;w<v;++w)this._updateBBox(this.last.x+=q[w],this.last.y,n);this.absolute=!1;break;case "v":for(w=0;w<v;++w)this._updateBBox(this.last.x,this.last.y+=q[w],n);this.absolute=!1;break;case "c":for(w=0;w<v;w+=6)this._updateBBox(this.last.x+q[w],this.last.y+q[w+1],n),this._updateBBox(this.last.x+q[w+2],this.last.y+q[w+3],n),this._updateBBox(this.last.x+=q[w+4],this.last.y+=q[w+5],n);this.absolute=!1;break;case "s":case "q":for(w=0;w<v;w+=4)this._updateBBox(this.last.x+q[w],this.last.y+q[w+1],n),this._updateBBox(this.last.x+=
q[w+2],this.last.y+=q[w+3],n);this.absolute=!1;break;case "A":for(w=0;w<v;w+=7)this._updateBBox(q[w+5],q[w+6],n);this.last.x=q[v-2];this.last.y=q[v-1];this.absolute=!0;break;case "a":for(w=0;w<v;w+=7)this._updateBBox(this.last.x+=q[w+5],this.last.y+=q[w+6],n);this.absolute=!1}d=[d.action];for(w=0;w<v;++w)d.push(F.formatNumber(q[w],!0));if("string"==typeof this.shape.path)this.shape.path+=d.join("");else for(w=0,v=d.length;w<v;++w)this.shape.path.push(d[w])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,
q:4,t:2,a:7,z:0},_pushSegment:function(d,n){this.tbbox=null;var q=this._validSegments[d.toLowerCase()];"number"==typeof q&&(q?n.length>=q&&(d={action:d,args:n.slice(0,n.length-n.length%q)},this.segments.push(d),this._updateWithSegment(d)):(d={action:d,args:[]},this.segments.push(d),this._updateWithSegment(d)))},_collectArgs:function(d,n){for(var q=0;q<n.length;++q){var v=n[q];"boolean"==typeof v?d.push(v?1:0):"number"==typeof v?d.push(v):v instanceof Array?this._collectArgs(d,v):"x"in v&&"y"in v&&
d.push(v.x,v.y)}},moveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"M":"m",d);return this},lineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"L":"l",d);return this},hLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"H":"h",d);return this},vLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,
arguments);this._pushSegment(this.absolute?"V":"v",d);return this},curveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"C":"c",d);return this},smoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"S":"s",d);return this},qCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"Q":"q",d);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"T":"t",d);return this},arcTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"A":"a",d);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var d=this.shape.path;this.shape.path=[];this._setPath(d);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(d){d=
w.isArray(d)?d:d.match(F.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(d){for(var n="",q=[],v=d.length,D=0;D<v;++D){var B=d[D],C=parseFloat(B);isNaN(C)?(n&&this._pushSegment(n,q),q=[],n=B):q.push(C)}this._pushSegment(n,q)}},setShape:function(d){this.inherited(arguments,["string"==typeof d?{path:d}:d]);this.segmented=!1;this.segments=[];F.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});C=C("dojox.gfx.path.TextPath",v,{constructor:function(d){"text"in
this||(this.text=w.clone(F.defaultTextPath));"fontStyle"in this||(this.fontStyle=w.clone(F.defaultFont))},getText:function(){return this.text},setText:function(d){this.text=F.makeParameters(this.text,"string"==typeof d?{text:d}:d);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?F.splitFontString(d):F.makeParameters(F.defaultFont,d);this._setFont();return this}});return F.path={Path:v,TextPath:C}})},"*now":function(F){F(['dojo/i18n!*preload*esri/widgets/nls/Editor*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper @dojo/framework/shim/Map dojo/i18n!../nls/common dojo/i18n!./Editor/nls/Editor dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../intl ../core/events ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./FeatureForm ./FeatureTemplates ./Spinner ./Widget ./Editor/EditorViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),function(F,w,C,
q,v,d,n,y,G,D,B,H,p,k,r,g,A,K,N,R,J){function O(d){d.focus()}return function(m){function v(d){d=m.call(this)||this;d._featureForm=new r;d._featureTemplates=new g;d._filterText="";d._prompt=null;d._spinner=new A;d.activeWorkflow=null;d.allowedWorkflows=null;d.iconClass="esri-icon-edit";d.label=y.widgetLabel;d.layerInfos=null;d.supportingWidgetDefaults=null;d.view=null;d.viewModel=new N;d._handleSave=d._handleSave.bind(d);d._handleBack=d._handleBack.bind(d);d._handleDone=d._handleDone.bind(d);d._handleDelete=
d._handleDelete.bind(d);d._handleAdd=d._handleAdd.bind(d);d._handleEdit=d._handleEdit.bind(d);return d}C(v,m);v.prototype.postInitialize=function(){var d=this;this.own([p.init(this,"viewModel",function(g){d._featureForm.viewModel=g?g.featureFormViewModel:null;d._featureTemplates.viewModel=g?g.featureTemplatesViewModel:null;d._spinner.viewModel=g?g.spinnerViewModel:null}),p.init(this,"view",function(g,k){var m="editor-"+d.id+"-spinner";k&&k.ui.remove(d._spinner,m);g&&g.ui.add(d._spinner,{key:m,position:"manual"})}),
p.on(this,"viewModel.sketchViewModel","create",function(){d.scheduleRender()}),p.on(this,"viewModel.activeWorkflow","cancel-request",function(g){var k=g.controller;d._prompt={title:y.cancelRequestTitle,message:y.cancelRequestWarningMessage,options:[{label:n.form.no,type:"neutral",action:function(){k.deny();return d._prompt=null}},{label:n.form.yes,type:"negative",action:function(){k.allow();d._prompt=null}}]};d.scheduleRender()}),p.init(this,"supportingWidgetDefaults",function(g){g&&(d._featureForm.set(g.featureForm),
d._featureTemplates.set(g.featureTemplates),d.viewModel.sketchViewModel.set(g.sketch))}),p.watch(this,"viewModel.failures",function(g){if(g){g=g[0];var k=g.retry,m=g.cancel;d._prompt={title:y.errorWarningTitle,message:D.substitute(y.errorWarningMessageTemplate,{errorMessage:g.error.message}),options:[{label:y.retry,type:"positive",action:function(){k();d._prompt=null}},{label:y.ignore,type:"neutral",action:function(){m();return d._prompt=null}}]}}}),p.whenNot(this,"viewModel.activeWorkflow",function(){return d._featureTemplates.filterText=
""})])};v.prototype.destroy=function(){this._featureForm.destroy();this._featureTemplates.destroy()};v.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return null};v.prototype.startCreateWorkflowAtFeatureCreation=function(d){return null};v.prototype.startCreateWorkflowAtFeatureEdit=function(d){return null};v.prototype.startUpdateWorkflowAtFeatureSelection=function(){return null};v.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(d){return null};v.prototype.startUpdateWorkflowAtFeatureEdit=
function(d){return null};v.prototype.deleteFeatureFromWorkflow=function(){return null};v.prototype.cancelWorkflow=function(d){return null};v.prototype.render=function(){var d=this.viewModel;if(!d)return J.tsx("div",{class:"esri-editor esri-widget"});var d=d.state,g=this._prompt?J.tsx("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,title:this._prompt.title,options:this._prompt.options})):null;return J.tsx("div",{class:"esri-editor esri-widget"},this.viewModel.syncing?
this.renderProgressBar():null,"disabled"===d?null:"ready"===d?this.renderLanding():"awaiting-feature-creation-info"===d?this.renderTemplates():"editing-new-feature"===d||"editing-existing-feature"===d?this.renderAttributeEditing():"awaiting-feature-to-update"===d?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===d?this.renderFeatureList():"awaiting-feature-to-create"===d?this.renderFeatureCreation():null,g)};v.prototype.renderTemplates=function(){return J.tsx("div",{class:"esri-editor__temp-wrapper",
key:"wrapper"},this.renderHeader(y.selectTemplate,!0),J.tsx("div",{key:"content",class:"esri-editor__content"},this._featureTemplates.render()))};v.prototype.renderAttributeEditing=function(){var d=this.viewModel,g=d.activeWorkflow,d=d.featureFormViewModel,k=g.data.edits.feature,m="create"===g.type?n.add:n.update,p=[{label:m,type:"primary",disabled:"update"===g.type&&!g.data.edits.modified||0<d.inputFields.length&&!d.valid,clickHandler:this._handleSave}];"update"===g.type&&-1<g.data.editableItem.supports.indexOf("delete")&&
p.push({label:n.delete,type:"tertiary",clickHandler:this._handleDelete});g=this._getLabel(k);return J.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(g,!0),J.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},0<d.inputFields.length?this._featureForm.render():this.renderMessage(D.substitute(y.clickToFinishTemplate,{button:m}))),this.renderControls(p))};v.prototype.renderFeatureUpdating=function(){return J.tsx("div",{class:"esri-editor__temp-wrapper",
key:"wrapper"},this.renderHeader(y.selectFeature,!0),J.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(y.selectFeatureToEdit)))};v.prototype.renderMessage=function(d){return J.tsx("div",{class:"esri-editor__message"},d)};v.prototype.renderFeatureCreation=function(){var d=this.viewModel,g=d.sketchViewModel,d=d.activeWorkflow.data.creationInfo.layer,g=g.canUndo()&&g.createGraphic?g.createGraphic:null,g=this._getSketchingTip(d.geometryType,
g);return J.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(y.placeFeature,!0),J.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(g)))};v.prototype.renderControls=function(d){var g=this;return J.tsx("div",{class:"esri-editor__controls",key:"controls"},d.map(function(d,k){var m=d.disabled,m=void 0===m?!1:m,n=d.type,p=d.clickHandler;return g.renderButton({label:d.label,class:g.classes("esri-editor__control-button",
"esri-button","secondary"===n?"esri-button--secondary":"tertiary"===n?"esri-button--tertiary":null,m?"esri-button--disabled":null),disabled:m,clickHandler:p,key:k})}))};v.prototype.renderPrompt=function(d){var g=this,k=d.title,m=d.message;d=d.options;d=void 0===d?[]:d;return J.tsx("div",{class:"esri-editor__warning-card",role:"alert"},J.tsx("div",{class:"esri-editor__warning-header"},J.tsx("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),J.tsx("h4",{class:this.classes("esri-heading",
"esri-editor__warning-heading")},k)),J.tsx("div",{class:"esri-editor__warning-message"},m),J.tsx("div",{class:"esri-editor__warning-divider"}),d.map(function(d,k){var m=d.label,n=d.action;d=d.type;var p=0===k;return J.tsx("div",{afterCreate:p?O:null,class:g.classes("esri-editor__warning-option",p?"esri-editor__warning-option--primary":null,"positive"===d?"esri-editor__warning-option--positive":"negative"===d?"esri-editor__warning-option--negative":null),key:k,onclick:n,onkeydown:function(d){var g=
B.eventKey(d);if("Enter"===g||" "===g)d.preventDefault(),n.call(null)},tabIndex:0,role:"button"},m)}))};v.prototype.renderProgressBar=function(){return J.tsx("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})};v.prototype.renderButton=function(d){return J.tsx("button",{class:d.class,disabled:d.disabled,key:d.key,onclick:d.clickHandler},d.label)};v.prototype.renderHeader=function(d,g){void 0===g&&(g=!1);return J.tsx("header",{class:"esri-editor__header",key:"header"},g?J.tsx("div",
{"aria-label":n.back,class:this.classes("esri-editor__back-button","esri-interactive"),key:"back-button",onclick:this._handleBack,onkeydown:this._handleBack,tabIndex:0,title:n.back},J.tsx("span",{"aria-hidden":"true",class:J.isRTL()?"esri-icon-right":"esri-icon-left"})):null,J.tsx("h4",{class:this.classes("esri-editor__title","esri-heading")},d))};v.prototype.renderLanding=function(){var d=this.viewModel,g=d.allowedWorkflows,k=d.canCreate,d=d.canUpdate,m=J.isRTL()?"esri-icon-left":"esri-icon-right";
return J.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(y.widgetLabel),J.tsx("div",{key:"content",class:"esri-editor__content",role:"group"},J.tsx("div",{class:"esri-editor__mode-selection",key:"mode-selection"},-1<g.indexOf("update")?J.tsx("div",{"aria-disabled":d?"false":"true",class:this.classes("esri-editor__feature-list-item",d?null:"esri-editor__feature-list-item--disabled"),key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,role:"button",tabIndex:d?
0:-1},J.tsx("span",{class:"esri-editor__feature-list-name"},y.editFeature),J.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",m)})):null,-1<g.indexOf("create")?J.tsx("div",{class:this.classes("esri-editor__feature-list-item",k?null:"esri-editor__feature-list-item--disabled"),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:k?0:-1},J.tsx("span",{class:"esri-editor__feature-list-name"},y.addFeature),J.tsx("span",{"aria-hidden":"true",
class:this.classes("esri-editor__feature-list-icon",m)})):null)))};v.prototype.renderFeatureList=function(){var g=this,k=this.viewModel,m=k.editableItems,n=k.activeWorkflow,p=n.data.candidates,k=D.substitute(y.multipleFeaturesTemplate,{total:p.length}),q=new d.default;p.map(function(d){return{label:g._getLabel(d),id:d.attributes[d.layer.objectIdField],data:d}}).filter(function(d){var k=d.label,m=d.data;d=g._filterText.toLowerCase();var n=m.layer.title;return-1<g.viewModel.editableItems.find(function(d){return d.layer===
m.layer}).supports.indexOf("update")&&(!d||-1<k.toLowerCase().indexOf(d)||-1<n.toLowerCase().indexOf(d))}).forEach(function(d){var g=d.data.layer;q.has(g)?q.get(g).items.push(d):q.set(g,{id:g.id,label:g.title,items:[d]})});m=m.filter(function(d){return q.has(d.layer)}).map(function(d){return q.get(d.layer)}).toArray();return J.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(k,!0),J.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},
R.ItemList({id:this.id,filterText:this._filterText,items:m,messages:{filterPlaceholder:G.filterPlaceholder,noItems:G.noItems,noMatches:G.noMatches},onItemMouseEnter:function(d){n.data.edits.feature=d.data},onItemMouseLeave:function(){n.data.edits.feature=null},onItemSelect:function(d){n.data.edits.feature=d.data;n.next()},onFilterChange:function(d){g._filterText=d}})))};v.prototype._getSketchingTip=function(d,g){if("point"===d)return y.tips.clickToAddPoint;if("polygon"===d||"polyline"===d){if(!g)return y.tips.clickToStart;
g=g.geometry["polygon"===d?"rings":"paths"][0];return"polygon"===d&&4>g?y.tips.clickToContinue:y.tips.clickToContinueThenDoubleClickToEnd}return y.tips.clickToAddFeature};v.prototype._getLabel=function(d){var g=d.layer,k=g.displayField,g=g.objectIdField;d=d.attributes;return k&&d[k]||D.substitute(y.untitledFeatureTemplate,{id:d[g]})};v.prototype._handleDelete=function(){var d=this;this._prompt={title:y.deleteWarningTitle,message:y.deleteWarningMessage,options:[{label:y.keepFeature,type:"neutral",
action:function(){return d._prompt=null}},{label:n.delete,type:"positive",action:function(){d.viewModel.deleteFeatureFromWorkflow();d._prompt=null}}]}};v.prototype._handleSave=function(){var d=this.viewModel.activeWorkflow;d.commit();d.reset()};v.prototype._handleAdd=function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};v.prototype._handleEdit=function(){this.viewModel.canUpdate&&this.viewModel.startUpdateWorkflowAtFeatureSelection()};v.prototype._handleDone=
function(){this.viewModel.cancelWorkflow({force:!0})};v.prototype._handleBack=function(){var d=this,g=this.viewModel.activeWorkflow,k=g.stepId,m=g.data,n=g.type,p=function(){g.hasPreviousStep?g.previous():d.viewModel.cancelWorkflow({force:!0})};"editing-new-feature"===k||"editing-existing-feature"===k&&m.edits.modified?this._prompt={title:"create"===n?y.cancelAddTitle:y.cancelEditTitle,message:"create"===n?y.cancelAddWarningMessage:y.cancelEditWarningMessage,options:[{label:"create"===n?y.continueAdding:
y.continueEditing,type:"neutral",action:function(){return d._prompt=null}},{label:"create"===n?y.discardFeature:y.discardEdits,type:"negative",action:function(){p();d._prompt=null}}]}:p()};q([k.aliasOf("viewModel.activeWorkflow")],v.prototype,"activeWorkflow",void 0);q([k.aliasOf("viewModel.allowedWorkflows")],v.prototype,"allowedWorkflows",void 0);q([k.property()],v.prototype,"iconClass",void 0);q([k.property()],v.prototype,"label",void 0);q([k.aliasOf("viewModel.layerInfos")],v.prototype,"layerInfos",
void 0);q([k.property()],v.prototype,"supportingWidgetDefaults",void 0);q([k.aliasOf("viewModel.view")],v.prototype,"view",void 0);q([k.property(),J.renderable("viewModel.canCreate viewModel.canUpdate viewModel.failures viewModel.state viewModel.syncing viewModel.activeWorkflow.data.edits.modified".split(" "))],v.prototype,"viewModel",void 0);q([k.aliasOf("viewModel.startCreateWorkflowAtFeatureTypeSelection")],v.prototype,"startCreateWorkflowAtFeatureTypeSelection",null);q([k.aliasOf("viewModel.startCreateWorkflowAtFeatureCreation")],
v.prototype,"startCreateWorkflowAtFeatureCreation",null);q([k.aliasOf("viewModel.startCreateWorkflowAtFeatureEdit")],v.prototype,"startCreateWorkflowAtFeatureEdit",null);q([k.aliasOf("viewModel.startUpdateWorkflowAtFeatureSelection")],v.prototype,"startUpdateWorkflowAtFeatureSelection",null);q([k.aliasOf("viewModel.startUpdateWorkflowAtMultipleFeatureSelection")],v.prototype,"startUpdateWorkflowAtMultipleFeatureSelection",null);q([k.aliasOf("viewModel.startUpdateWorkflowAtFeatureEdit")],v.prototype,
"startUpdateWorkflowAtFeatureEdit",null);q([k.aliasOf("viewModel.deleteFeatureFromWorkflow")],v.prototype,"deleteFeatureFromWorkflow",null);q([k.aliasOf("viewModel.cancelWorkflow")],v.prototype,"cancelWorkflow",null);q([J.accessibleHandler()],v.prototype,"_handleDelete",null);q([J.accessibleHandler()],v.prototype,"_handleAdd",null);q([J.accessibleHandler()],v.prototype,"_handleEdit",null);q([J.accessibleHandler()],v.prototype,"_handleDone",null);q([J.accessibleHandler()],v.prototype,"_handleBack",
null);return v=q([k.subclass("esri.widgets.Editor")],v)}(k.declared(H.HandleOwnerMixin(K)))});