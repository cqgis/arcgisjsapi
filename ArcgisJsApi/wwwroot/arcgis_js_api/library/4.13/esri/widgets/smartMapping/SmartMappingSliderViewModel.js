// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.13/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ../Slider/SliderViewModel ./support/utils".split(" "),function(n,p,k,g,d,e,l,m){return function(h){function b(c){var a=h.call(this)||this;a._max=null;a._min=null;a.hasTimeData=!1;a.inputFormatFunction=function(c,b,d){return"max"===b?a.getUnzoomedMax().toString():"min"===b?a.getUnzoomedMin().toString():c.toString()};a.labelFormatFunction=function(c,
b,d){return a.hasTimeData?m.formatDateLabel(c):a.defaultLabelFormatFunction(c)};a.zoomingEnabled=!0;return a}k(b,h);Object.defineProperty(b.prototype,"labels",{get:function(){var c=this,a=this.values,a=a&&a.length?a.map(function(a,b){return c.getLabelForValue(a,"value",b)}):[],b=this.getUnzoomedMax(),d=this.getUnzoomedMin();return{max:this.getLabelForValue(b,"max"),min:this.getLabelForValue(d,"min"),values:a}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"max",{set:function(c){var a=
this.zoomOptions;if(a&&d.isSome(a.max)){var b=this.values,f=a.max;c<f&&(f=c,a.max=c);if(b&&b.length)for(a=0;a<b.length;a++)c<b[a]&&this.setValue(a,c);this._storeZoomMax(f,c)}else this.setMax(c);this.notifyChange("labels")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"min",{set:function(c){var a=this.zoomOptions;if(a&&d.isSome(a.min)){var b=this.values,f=a.min;c>f&&(f=c,a.min=c);if(b&&b.length)for(a=0;a<b.length;a++)c>b[a]&&this.setValue(a,c);this._storeZoomMin(f,c)}else this.setMin(c);
this.notifyChange("labels")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){var c=this.min,a=this.values;return d.isSome(this.max)&&d.isSome(c)&&1<a.length?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"zoomOptions",{set:function(c){if(this.zoomingEnabled){if(this.zoomOptions){var a=d.isSome(this._max)?this._max:this.max,b=d.isSome(this._min)?this._min:this.min;if(c){var f=c.min,e=d.isSome(c.max),f=d.isSome(f),g=e?
c.max:a,a=e?a:null;this._storeZoomMin(f?c.min:b,f?b:null);this._storeZoomMax(g,a)}else this.setMax(a),this.setMin(b),this._max=this._min=null}else c&&(b=c.max,d.isSome(c.min)&&this._storeZoomMin(c.min,this.min),d.isSome(b)&&this._storeZoomMax(c.max,this.max));this._set("zoomOptions",c);this.notifyChange("max");this.notifyChange("min")}},enumerable:!0,configurable:!0});b.prototype.getUnzoomedMax=function(){return this.zoomOptions&&d.isSome(this._max)?this._max:this.max};b.prototype.getUnzoomedMin=
function(){return this.zoomOptions&&d.isSome(this._min)?this._min:this.min};b.prototype._storeZoomMax=function(b,a){this._max=a;this.setMax(b)};b.prototype._storeZoomMin=function(b,a){this._min=a;this.setMin(b)};g([e.property()],b.prototype,"hasTimeData",void 0);g([e.property()],b.prototype,"labelFormatFunction",void 0);g([e.property({dependsOn:["labelFormatFunction","max","min","values"],readOnly:!0})],b.prototype,"labels",null);g([e.property()],b.prototype,"max",null);g([e.property()],b.prototype,
"min",null);g([e.property({dependsOn:["max","min","values"],readOnly:!0})],b.prototype,"state",null);g([e.property()],b.prototype,"zoomingEnabled",void 0);g([e.property()],b.prototype,"zoomOptions",null);return b=g([e.subclass("esri.widgets.smartMapping.SmartMappingSliderViewModel")],b)}(e.declared(l))});